function jD(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var G1e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function RC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B5={exports:{}},Jp={},V5={exports:{}},an={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8;function DD(){if(A8)return an;A8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=p&&X[p]||X["@@iterator"],typeof X=="function"?X:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function k(X,I,q){this.props=X,this.context=I,this.refs=w,this.updater=q||m}k.prototype.isReactComponent={},k.prototype.setState=function(X,I){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,I,"setState")},k.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function N(){}N.prototype=k.prototype;function L(X,I,q){this.props=X,this.context=I,this.refs=w,this.updater=q||m}var P=L.prototype=new N;P.constructor=L,y(P,k.prototype),P.isPureReactComponent=!0;var V=Array.isArray,Y=Object.prototype.hasOwnProperty,Q={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(X,I,q){var W,J={},ce=null,ve=null;if(I!=null)for(W in I.ref!==void 0&&(ve=I.ref),I.key!==void 0&&(ce=""+I.key),I)Y.call(I,W)&&!R.hasOwnProperty(W)&&(J[W]=I[W]);var Ee=arguments.length-2;if(Ee===1)J.children=q;else if(1<Ee){for(var le=Array(Ee),be=0;be<Ee;be++)le[be]=arguments[be+2];J.children=le}if(X&&X.defaultProps)for(W in Ee=X.defaultProps,Ee)J[W]===void 0&&(J[W]=Ee[W]);return{$$typeof:t,type:X,key:ce,ref:ve,props:J,_owner:Q.current}}function S(X,I){return{$$typeof:t,type:X.type,key:I,ref:X.ref,props:X.props,_owner:X._owner}}function j(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function A(X){var I={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(q){return I[q]})}var F=/\/+/g;function M(X,I){return typeof X=="object"&&X!==null&&X.key!=null?A(""+X.key):I.toString(36)}function re(X,I,q,W,J){var ce=typeof X;(ce==="undefined"||ce==="boolean")&&(X=null);var ve=!1;if(X===null)ve=!0;else switch(ce){case"string":case"number":ve=!0;break;case"object":switch(X.$$typeof){case t:case e:ve=!0}}if(ve)return ve=X,J=J(ve),X=W===""?"."+M(ve,0):W,V(J)?(q="",X!=null&&(q=X.replace(F,"$&/")+"/"),re(J,I,q,"",function(be){return be})):J!=null&&(j(J)&&(J=S(J,q+(!J.key||ve&&ve.key===J.key?"":(""+J.key).replace(F,"$&/")+"/")+X)),I.push(J)),1;if(ve=0,W=W===""?".":W+":",V(X))for(var Ee=0;Ee<X.length;Ee++){ce=X[Ee];var le=W+M(ce,Ee);ve+=re(ce,I,q,le,J)}else if(le=g(X),typeof le=="function")for(X=le.call(X),Ee=0;!(ce=X.next()).done;)ce=ce.value,le=W+M(ce,Ee++),ve+=re(ce,I,q,le,J);else if(ce==="object")throw I=String(X),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return ve}function pe(X,I,q){if(X==null)return X;var W=[],J=0;return re(X,W,"","",function(ce){return I.call(q,ce,J++)}),W}function _e(X){if(X._status===-1){var I=X._result;I=I(),I.then(function(q){(X._status===0||X._status===-1)&&(X._status=1,X._result=q)},function(q){(X._status===0||X._status===-1)&&(X._status=2,X._result=q)}),X._status===-1&&(X._status=0,X._result=I)}if(X._status===1)return X._result.default;throw X._result}var xe={current:null},oe={transition:null},G={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:Q};function fe(){throw Error("act(...) is not supported in production builds of React.")}return an.Children={map:pe,forEach:function(X,I,q){pe(X,function(){I.apply(this,arguments)},q)},count:function(X){var I=0;return pe(X,function(){I++}),I},toArray:function(X){return pe(X,function(I){return I})||[]},only:function(X){if(!j(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},an.Component=k,an.Fragment=r,an.Profiler=i,an.PureComponent=L,an.StrictMode=n,an.Suspense=l,an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,an.act=fe,an.cloneElement=function(X,I,q){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var W=y({},X.props),J=X.key,ce=X.ref,ve=X._owner;if(I!=null){if(I.ref!==void 0&&(ce=I.ref,ve=Q.current),I.key!==void 0&&(J=""+I.key),X.type&&X.type.defaultProps)var Ee=X.type.defaultProps;for(le in I)Y.call(I,le)&&!R.hasOwnProperty(le)&&(W[le]=I[le]===void 0&&Ee!==void 0?Ee[le]:I[le])}var le=arguments.length-2;if(le===1)W.children=q;else if(1<le){Ee=Array(le);for(var be=0;be<le;be++)Ee[be]=arguments[be+2];W.children=Ee}return{$$typeof:t,type:X.type,key:J,ref:ce,props:W,_owner:ve}},an.createContext=function(X){return X={$$typeof:s,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:a,_context:X},X.Consumer=X},an.createElement=T,an.createFactory=function(X){var I=T.bind(null,X);return I.type=X,I},an.createRef=function(){return{current:null}},an.forwardRef=function(X){return{$$typeof:o,render:X}},an.isValidElement=j,an.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:_e}},an.memo=function(X,I){return{$$typeof:c,type:X,compare:I===void 0?null:I}},an.startTransition=function(X){var I=oe.transition;oe.transition={};try{X()}finally{oe.transition=I}},an.unstable_act=fe,an.useCallback=function(X,I){return xe.current.useCallback(X,I)},an.useContext=function(X){return xe.current.useContext(X)},an.useDebugValue=function(){},an.useDeferredValue=function(X){return xe.current.useDeferredValue(X)},an.useEffect=function(X,I){return xe.current.useEffect(X,I)},an.useId=function(){return xe.current.useId()},an.useImperativeHandle=function(X,I,q){return xe.current.useImperativeHandle(X,I,q)},an.useInsertionEffect=function(X,I){return xe.current.useInsertionEffect(X,I)},an.useLayoutEffect=function(X,I){return xe.current.useLayoutEffect(X,I)},an.useMemo=function(X,I){return xe.current.useMemo(X,I)},an.useReducer=function(X,I,q){return xe.current.useReducer(X,I,q)},an.useRef=function(X){return xe.current.useRef(X)},an.useState=function(X){return xe.current.useState(X)},an.useSyncExternalStore=function(X,I,q){return xe.current.useSyncExternalStore(X,I,q)},an.useTransition=function(){return xe.current.useTransition()},an.version="18.3.1",an}var T8;function Jv(){return T8||(T8=1,V5.exports=DD()),V5.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I8;function OD(){if(I8)return Jp;I8=1;var t=Jv(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(o,l,c){var f,p={},g=null,m=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(m=l.ref);for(f in l)n.call(l,f)&&!a.hasOwnProperty(f)&&(p[f]=l[f]);if(o&&o.defaultProps)for(f in l=o.defaultProps,l)p[f]===void 0&&(p[f]=l[f]);return{$$typeof:e,type:o,key:g,ref:m,props:p,_owner:i.current}}return Jp.Fragment=r,Jp.jsx=s,Jp.jsxs=s,Jp}var P8;function MD(){return P8||(P8=1,B5.exports=OD()),B5.exports}var d=MD(),B=Jv();const di=RC(B),Jx=jD({__proto__:null,default:di},[B]);var $2={},U5={exports:{}},Vo={},z5={exports:{}},$5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R8;function BD(){return R8||(R8=1,(function(t){function e(oe,G){var fe=oe.length;oe.push(G);e:for(;0<fe;){var X=fe-1>>>1,I=oe[X];if(0<i(I,G))oe[X]=G,oe[fe]=I,fe=X;else break e}}function r(oe){return oe.length===0?null:oe[0]}function n(oe){if(oe.length===0)return null;var G=oe[0],fe=oe.pop();if(fe!==G){oe[0]=fe;e:for(var X=0,I=oe.length,q=I>>>1;X<q;){var W=2*(X+1)-1,J=oe[W],ce=W+1,ve=oe[ce];if(0>i(J,fe))ce<I&&0>i(ve,J)?(oe[X]=ve,oe[ce]=fe,X=ce):(oe[X]=J,oe[W]=fe,X=W);else if(ce<I&&0>i(ve,fe))oe[X]=ve,oe[ce]=fe,X=ce;else break e}}return G}function i(oe,G){var fe=oe.sortIndex-G.sortIndex;return fe!==0?fe:oe.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],f=1,p=null,g=3,m=!1,y=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(oe){for(var G=r(c);G!==null;){if(G.callback===null)n(c);else if(G.startTime<=oe)n(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(c)}}function V(oe){if(w=!1,P(oe),!y)if(r(l)!==null)y=!0,_e(Y);else{var G=r(c);G!==null&&xe(V,G.startTime-oe)}}function Y(oe,G){y=!1,w&&(w=!1,N(T),T=-1),m=!0;var fe=g;try{for(P(G),p=r(l);p!==null&&(!(p.expirationTime>G)||oe&&!A());){var X=p.callback;if(typeof X=="function"){p.callback=null,g=p.priorityLevel;var I=X(p.expirationTime<=G);G=t.unstable_now(),typeof I=="function"?p.callback=I:p===r(l)&&n(l),P(G)}else n(l);p=r(l)}if(p!==null)var q=!0;else{var W=r(c);W!==null&&xe(V,W.startTime-G),q=!1}return q}finally{p=null,g=fe,m=!1}}var Q=!1,R=null,T=-1,S=5,j=-1;function A(){return!(t.unstable_now()-j<S)}function F(){if(R!==null){var oe=t.unstable_now();j=oe;var G=!0;try{G=R(!0,oe)}finally{G?M():(Q=!1,R=null)}}else Q=!1}var M;if(typeof L=="function")M=function(){L(F)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,pe=re.port2;re.port1.onmessage=F,M=function(){pe.postMessage(null)}}else M=function(){k(F,0)};function _e(oe){R=oe,Q||(Q=!0,M())}function xe(oe,G){T=k(function(){oe(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,_e(Y))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(oe){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var fe=g;g=G;try{return oe()}finally{g=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,G){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var fe=g;g=oe;try{return G()}finally{g=fe}},t.unstable_scheduleCallback=function(oe,G,fe){var X=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?X+fe:X):fe=X,oe){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=fe+I,oe={id:f++,callback:G,priorityLevel:oe,startTime:fe,expirationTime:I,sortIndex:-1},fe>X?(oe.sortIndex=fe,e(c,oe),r(l)===null&&oe===r(c)&&(w?(N(T),T=-1):w=!0,xe(V,fe-X))):(oe.sortIndex=I,e(l,oe),y||m||(y=!0,_e(Y))),oe},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(oe){var G=g;return function(){var fe=g;g=G;try{return oe.apply(this,arguments)}finally{g=fe}}}})($5)),$5}var F8;function VD(){return F8||(F8=1,z5.exports=BD()),z5.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L8;function UD(){if(L8)return Vo;L8=1;var t=Jv(),e=VD();function r(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,x=1;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(u,h){s(u,h),s(u+"Capture",h)}function s(u,h){for(i[u]=h,u=0;u<h.length;u++)n.add(h[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(u){return l.call(p,u)?!0:l.call(f,u)?!1:c.test(u)?p[u]=!0:(f[u]=!0,!1)}function m(u,h,x,E){if(x!==null&&x.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return E?!1:x!==null?!x.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function y(u,h,x,E){if(h===null||typeof h>"u"||m(u,h,x,E))return!0;if(E)return!1;if(x!==null)switch(x.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function w(u,h,x,E,D,H,se){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=E,this.attributeNamespace=D,this.mustUseProperty=x,this.propertyName=u,this.type=h,this.sanitizeURL=H,this.removeEmptyString=se}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){k[u]=new w(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];k[h]=new w(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){k[u]=new w(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){k[u]=new w(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){k[u]=new w(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){k[u]=new w(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){k[u]=new w(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){k[u]=new w(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){k[u]=new w(u,5,!1,u.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function L(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(N,L);k[h]=new w(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(N,L);k[h]=new w(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(N,L);k[h]=new w(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){k[u]=new w(u,1,!1,u.toLowerCase(),null,!1,!1)}),k.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){k[u]=new w(u,1,!1,u.toLowerCase(),null,!0,!0)});function P(u,h,x,E){var D=k.hasOwnProperty(h)?k[h]:null;(D!==null?D.type!==0:E||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(y(h,x,D,E)&&(x=null),E||D===null?g(h)&&(x===null?u.removeAttribute(h):u.setAttribute(h,""+x)):D.mustUseProperty?u[D.propertyName]=x===null?D.type===3?!1:"":x:(h=D.attributeName,E=D.attributeNamespace,x===null?u.removeAttribute(h):(D=D.type,x=D===3||D===4&&x===!0?"":""+x,E?u.setAttributeNS(E,h,x):u.setAttribute(h,x))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),Q=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),A=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function G(u){return u===null||typeof u!="object"?null:(u=oe&&u[oe]||u["@@iterator"],typeof u=="function"?u:null)}var fe=Object.assign,X;function I(u){if(X===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);X=h&&h[1]||""}return`
`+X+u}var q=!1;function W(u,h){if(!u||q)return"";q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(lt){var E=lt}Reflect.construct(u,[],h)}else{try{h.call()}catch(lt){E=lt}u.call(h.prototype)}else{try{throw Error()}catch(lt){E=lt}u()}}catch(lt){if(lt&&E&&typeof lt.stack=="string"){for(var D=lt.stack.split(`
`),H=E.stack.split(`
`),se=D.length-1,Fe=H.length-1;1<=se&&0<=Fe&&D[se]!==H[Fe];)Fe--;for(;1<=se&&0<=Fe;se--,Fe--)if(D[se]!==H[Fe]){if(se!==1||Fe!==1)do if(se--,Fe--,0>Fe||D[se]!==H[Fe]){var Ue=`
`+D[se].replace(" at new "," at ");return u.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",u.displayName)),Ue}while(1<=se&&0<=Fe);break}}}finally{q=!1,Error.prepareStackTrace=x}return(u=u?u.displayName||u.name:"")?I(u):""}function J(u){switch(u.tag){case 5:return I(u.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return u=W(u.type,!1),u;case 11:return u=W(u.type.render,!1),u;case 1:return u=W(u.type,!0),u;default:return""}}function ce(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case R:return"Fragment";case Q:return"Portal";case S:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case re:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case A:return(u.displayName||"Context")+".Consumer";case j:return(u._context.displayName||"Context")+".Provider";case F:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case pe:return h=u.displayName||null,h!==null?h:ce(u.type)||"Memo";case _e:h=u._payload,u=u._init;try{return ce(u(h))}catch{}}return null}function ve(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(h);case 8:return h===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function Ee(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function le(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function be(u){var h=le(u)?"checked":"value",x=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),E=""+u[h];if(!u.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var D=x.get,H=x.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return D.call(this)},set:function(se){E=""+se,H.call(this,se)}}),Object.defineProperty(u,h,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(se){E=""+se},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Le(u){u._valueTracker||(u._valueTracker=be(u))}function ae(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var x=h.getValue(),E="";return u&&(E=le(u)?u.checked?"true":"false":u.value),u=E,u!==x?(h.setValue(u),!0):!1}function je(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Pe(u,h){var x=h.checked;return fe({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??u._wrapperState.initialChecked})}function de(u,h){var x=h.defaultValue==null?"":h.defaultValue,E=h.checked!=null?h.checked:h.defaultChecked;x=Ee(h.value!=null?h.value:x),u._wrapperState={initialChecked:E,initialValue:x,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Me(u,h){h=h.checked,h!=null&&P(u,"checked",h,!1)}function Be(u,h){Me(u,h);var x=Ee(h.value),E=h.type;if(x!=null)E==="number"?(x===0&&u.value===""||u.value!=x)&&(u.value=""+x):u.value!==""+x&&(u.value=""+x);else if(E==="submit"||E==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?ne(u,h.type,x):h.hasOwnProperty("defaultValue")&&ne(u,h.type,Ee(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function et(u,h,x){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var E=h.type;if(!(E!=="submit"&&E!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,x||h===u.value||(u.value=h),u.defaultValue=h}x=u.name,x!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,x!==""&&(u.name=x)}function ne(u,h,x){(h!=="number"||je(u.ownerDocument)!==u)&&(x==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+x&&(u.defaultValue=""+x))}var De=Array.isArray;function Ke(u,h,x,E){if(u=u.options,h){h={};for(var D=0;D<x.length;D++)h["$"+x[D]]=!0;for(x=0;x<u.length;x++)D=h.hasOwnProperty("$"+u[x].value),u[x].selected!==D&&(u[x].selected=D),D&&E&&(u[x].defaultSelected=!0)}else{for(x=""+Ee(x),h=null,D=0;D<u.length;D++){if(u[D].value===x){u[D].selected=!0,E&&(u[D].defaultSelected=!0);return}h!==null||u[D].disabled||(h=u[D])}h!==null&&(h.selected=!0)}}function mt(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return fe({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Et(u,h){var x=h.value;if(x==null){if(x=h.children,h=h.defaultValue,x!=null){if(h!=null)throw Error(r(92));if(De(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),x=h}u._wrapperState={initialValue:Ee(x)}}function Re(u,h){var x=Ee(h.value),E=Ee(h.defaultValue);x!=null&&(x=""+x,x!==u.value&&(u.value=x),h.defaultValue==null&&u.defaultValue!==x&&(u.defaultValue=x)),E!=null&&(u.defaultValue=""+E)}function qe(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function Ge(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?Ge(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Nt,It=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,x,E,D){MSApp.execUnsafeLocalFunction(function(){return u(h,x,E,D)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Nt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function yt(u,h){if(h){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=h;return}}u.textContent=h}var wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xt=["Webkit","ms","Moz","O"];Object.keys(wt).forEach(function(u){Xt.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),wt[h]=wt[u]})});function qt(u,h,x){return h==null||typeof h=="boolean"||h===""?"":x||typeof h!="number"||h===0||wt.hasOwnProperty(u)&&wt[u]?(""+h).trim():h+"px"}function Bt(u,h){u=u.style;for(var x in h)if(h.hasOwnProperty(x)){var E=x.indexOf("--")===0,D=qt(x,h[x],E);x==="float"&&(x="cssFloat"),E?u.setProperty(x,D):u[x]=D}}var mr=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qr(u,h){if(h){if(mr[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function fr(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var He=null;function Ot(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var hr=null,Zt=null,Qt=null;function Wt(u){if(u=Rd(u)){if(typeof hr!="function")throw Error(r(280));var h=u.stateNode;h&&(h=th(h),hr(u.stateNode,u.type,h))}}function br(u){Zt?Qt?Qt.push(u):Qt=[u]:Zt=u}function Dn(){if(Zt){var u=Zt,h=Qt;if(Qt=Zt=null,Wt(u),h)for(u=0;u<h.length;u++)Wt(h[u])}}function jr(u,h){return u(h)}function Cn(){}var mn=!1;function ir(u,h,x){if(mn)return u(h,x);mn=!0;try{return jr(u,h,x)}finally{mn=!1,(Zt!==null||Qt!==null)&&(Cn(),Dn())}}function Kr(u,h){var x=u.stateNode;if(x===null)return null;var E=th(x);if(E===null)return null;x=E[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(u=u.type,E=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!E;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var vi=!1;if(o)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){vi=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{vi=!1}function Bi(u,h,x,E,D,H,se,Fe,Ue){var lt=Array.prototype.slice.call(arguments,3);try{h.apply(x,lt)}catch(Ft){this.onError(Ft)}}var Nn=!1,si=null,ie=!1,Ae=null,we={onError:function(u){Nn=!0,si=u}};function ke(u,h,x,E,D,H,se,Fe,Ue){Nn=!1,si=null,Bi.apply(we,arguments)}function Te(u,h,x,E,D,H,se,Fe,Ue){if(ke.apply(this,arguments),Nn){if(Nn){var lt=si;Nn=!1,si=null}else throw Error(r(198));ie||(ie=!0,Ae=lt)}}function Ie(u){var h=u,x=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(x=h.return),u=h.return;while(u)}return h.tag===3?x:null}function Qe(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function ot(u){if(Ie(u)!==u)throw Error(r(188))}function tt(u){var h=u.alternate;if(!h){if(h=Ie(u),h===null)throw Error(r(188));return h!==u?null:u}for(var x=u,E=h;;){var D=x.return;if(D===null)break;var H=D.alternate;if(H===null){if(E=D.return,E!==null){x=E;continue}break}if(D.child===H.child){for(H=D.child;H;){if(H===x)return ot(D),u;if(H===E)return ot(D),h;H=H.sibling}throw Error(r(188))}if(x.return!==E.return)x=D,E=H;else{for(var se=!1,Fe=D.child;Fe;){if(Fe===x){se=!0,x=D,E=H;break}if(Fe===E){se=!0,E=D,x=H;break}Fe=Fe.sibling}if(!se){for(Fe=H.child;Fe;){if(Fe===x){se=!0,x=H,E=D;break}if(Fe===E){se=!0,E=H,x=D;break}Fe=Fe.sibling}if(!se)throw Error(r(189))}}if(x.alternate!==E)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?u:h}function rt(u){return u=tt(u),u!==null?at(u):null}function at(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=at(u);if(h!==null)return h;u=u.sibling}return null}var St=e.unstable_scheduleCallback,Mt=e.unstable_cancelCallback,Gt=e.unstable_shouldYield,Dt=e.unstable_requestPaint,Pt=e.unstable_now,Er=e.unstable_getCurrentPriorityLevel,dn=e.unstable_ImmediatePriority,Br=e.unstable_UserBlockingPriority,gn=e.unstable_NormalPriority,Os=e.unstable_LowPriority,Ms=e.unstable_IdlePriority,ns=null,fi=null;function Xo(u){if(fi&&typeof fi.onCommitFiberRoot=="function")try{fi.onCommitFiberRoot(ns,u,void 0,(u.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:bu,_u=Math.log,yi=Math.LN2;function bu(u){return u>>>=0,u===0?32:31-(_u(u)/yi|0)|0}var tc=64,Bs=4194304;function Vs(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ua(u,h){var x=u.pendingLanes;if(x===0)return 0;var E=0,D=u.suspendedLanes,H=u.pingedLanes,se=x&268435455;if(se!==0){var Fe=se&~D;Fe!==0?E=Vs(Fe):(H&=se,H!==0&&(E=Vs(H)))}else se=x&~D,se!==0?E=Vs(se):H!==0&&(E=Vs(H));if(E===0)return 0;if(h!==0&&h!==E&&(h&D)===0&&(D=E&-E,H=h&-h,D>=H||D===16&&(H&4194240)!==0))return h;if((E&4)!==0&&(E|=x&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=E;0<h;)x=31-An(h),D=1<<x,E|=u[x],h&=~D;return E}function rc(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fn(u,h){for(var x=u.suspendedLanes,E=u.pingedLanes,D=u.expirationTimes,H=u.pendingLanes;0<H;){var se=31-An(H),Fe=1<<se,Ue=D[se];Ue===-1?((Fe&x)===0||(Fe&E)!==0)&&(D[se]=rc(Fe,h)):Ue<=h&&(u.expiredLanes|=Fe),H&=~Fe}}function za(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function nc(){var u=tc;return tc<<=1,(tc&4194240)===0&&(tc=64),u}function _l(u){for(var h=[],x=0;31>x;x++)h.push(u);return h}function bl(u,h,x){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-An(h),u[h]=x}function tn(u,h){var x=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var E=u.eventTimes;for(u=u.expirationTimes;0<x;){var D=31-An(x),H=1<<D;h[D]=0,E[D]=-1,u[D]=-1,x&=~H}}function Yo(u,h){var x=u.entangledLanes|=h;for(u=u.entanglements;x;){var E=31-An(x),D=1<<E;D&h|u[E]&h&&(u[E]|=h),x&=~D}}var Xr=0;function ws(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Rc,Fc,yd,wd,Lc,Qo=!1,$a=[],fa=null,qa=null,_s=null,kr=new Map,Us=new Map,Io=[],Hf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _d(u,h){switch(u){case"focusin":case"focusout":fa=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":kr.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(h.pointerId)}}function Ai(u,h,x,E,D,H){return u===null||u.nativeEvent!==H?(u={blockedOn:h,domEventName:x,eventSystemFlags:E,nativeEvent:H,targetContainers:[D]},h!==null&&(h=Rd(h),h!==null&&Fc(h)),u):(u.eventSystemFlags|=E,h=u.targetContainers,D!==null&&h.indexOf(D)===-1&&h.push(D),u)}function Jo(u,h,x,E,D){switch(h){case"focusin":return fa=Ai(fa,u,h,x,E,D),!0;case"dragenter":return qa=Ai(qa,u,h,x,E,D),!0;case"mouseover":return _s=Ai(_s,u,h,x,E,D),!0;case"pointerover":var H=D.pointerId;return kr.set(H,Ai(kr.get(H)||null,u,h,x,E,D)),!0;case"gotpointercapture":return H=D.pointerId,Us.set(H,Ai(Us.get(H)||null,u,h,x,E,D)),!0}return!1}function bd(u){var h=zc(u.target);if(h!==null){var x=Ie(h);if(x!==null){if(h=x.tag,h===13){if(h=Qe(x),h!==null){u.blockedOn=h,Lc(u.priority,function(){yd(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Zo(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var x=El(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(x===null){x=u.nativeEvent;var E=new x.constructor(x.type,x);He=E,x.target.dispatchEvent(E),He=null}else return h=Rd(x),h!==null&&Fc(h),u.blockedOn=x,!1;h.shift()}return!0}function Po(u,h,x){Zo(u)&&x.delete(h)}function jc(){Qo=!1,fa!==null&&Zo(fa)&&(fa=null),qa!==null&&Zo(qa)&&(qa=null),_s!==null&&Zo(_s)&&(_s=null),kr.forEach(Po),Us.forEach(Po)}function Ha(u,h){u.blockedOn===h&&(u.blockedOn=null,Qo||(Qo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jc)))}function is(u){function h(D){return Ha(D,u)}if(0<$a.length){Ha($a[0],u);for(var x=1;x<$a.length;x++){var E=$a[x];E.blockedOn===u&&(E.blockedOn=null)}}for(fa!==null&&Ha(fa,u),qa!==null&&Ha(qa,u),_s!==null&&Ha(_s,u),kr.forEach(h),Us.forEach(h),x=0;x<Io.length;x++)E=Io[x],E.blockedOn===u&&(E.blockedOn=null);for(;0<Io.length&&(x=Io[0],x.blockedOn===null);)bd(x),x.blockedOn===null&&Io.shift()}var zs=V.ReactCurrentBatchConfig,kl=!0;function On(u,h,x,E){var D=Xr,H=zs.transition;zs.transition=null;try{Xr=1,el(u,h,x,E)}finally{Xr=D,zs.transition=H}}function ku(u,h,x,E){var D=Xr,H=zs.transition;zs.transition=null;try{Xr=4,el(u,h,x,E)}finally{Xr=D,zs.transition=H}}function el(u,h,x,E){if(kl){var D=El(u,h,x,E);if(D===null)Jf(u,h,E,yo,x),_d(u,E);else if(Jo(D,u,h,x,E))E.stopPropagation();else if(_d(u,E),h&4&&-1<Hf.indexOf(u)){for(;D!==null;){var H=Rd(D);if(H!==null&&Rc(H),H=El(u,h,x,E),H===null&&Jf(u,h,E,yo,x),H===D)break;D=H}D!==null&&E.stopPropagation()}else Jf(u,h,E,null,x)}}var yo=null;function El(u,h,x,E){if(yo=null,u=Ot(E),u=zc(u),u!==null)if(h=Ie(u),h===null)u=null;else if(x=h.tag,x===13){if(u=Qe(h),u!==null)return u;u=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return yo=u,null}function Sl(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Er()){case dn:return 1;case Br:return 4;case gn:case Os:return 16;case Ms:return 536870912;default:return 16}default:return 16}}var Wa=null,Ro=null,Ta=null;function ic(){if(Ta)return Ta;var u,h=Ro,x=h.length,E,D="value"in Wa?Wa.value:Wa.textContent,H=D.length;for(u=0;u<x&&h[u]===D[u];u++);var se=x-u;for(E=1;E<=se&&h[x-E]===D[H-E];E++);return Ta=D.slice(u,1<E?1-E:void 0)}function Ia(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function ha(){return!0}function O(){return!1}function ee(u){function h(x,E,D,H,se){this._reactName=x,this._targetInst=D,this.type=E,this.nativeEvent=H,this.target=se,this.currentTarget=null;for(var Fe in u)u.hasOwnProperty(Fe)&&(x=u[Fe],this[Fe]=x?x(H):H[Fe]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?ha:O,this.isPropagationStopped=O,this}return fe(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),h}var Ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oe=ee(Ce),We=fe({},Ce,{view:0,detail:0}),vt=ee(We),kt,Yt,tr,wr=fe({},We,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==tr&&(tr&&u.type==="mousemove"?(kt=u.screenX-tr.screenX,Yt=u.screenY-tr.screenY):Yt=kt=0,tr=u),kt)},movementY:function(u){return"movementY"in u?u.movementY:Yt}}),Ir=ee(wr),ln=fe({},wr,{dataTransfer:0}),Jn=ee(ln),oi=fe({},We,{relatedTarget:0}),xn=ee(oi),Ti=fe({},Ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Mn=ee(Ti),Qi=fe({},Ce,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Fo=ee(Qi),tl=fe({},Ce,{data:0}),Eu=ee(tl),ac={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$s={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=$s[u])?!!h[u]:!1}function bs(){return Dc}var b=fe({},We,{key:function(u){if(u.key){var h=ac[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ia(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Vi[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(u){return u.type==="keypress"?Ia(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ia(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),z=ee(b),Z=fe({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ge=ee(Z),Xe=fe({},We,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),ut=ee(Xe),Lt=fe({},Ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),vn=ee(Lt),hi=fe({},wr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Qr=ee(hi),rn=[9,13,27,32],wn=o&&"CompositionEvent"in window,as=null;o&&"documentMode"in document&&(as=document.documentMode);var Ga=o&&"TextEvent"in window&&!as,qs=o&&(!wn||as&&8<as&&11>=as),rl=" ",ks=!1;function Es(u,h){switch(u){case"keyup":return rn.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ss=!1;function Mc(u,h){switch(u){case"compositionend":return Oc(h);case"keypress":return h.which!==32?null:(ks=!0,rl);case"textInput":return u=h.data,u===rl&&ks?null:u;default:return null}}function Wf(u,h){if(Ss)return u==="compositionend"||!wn&&Es(u,h)?(u=ic(),Ta=Ro=Wa=null,Ss=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return qs&&h.locale!=="ko"?null:h.data;default:return null}}var Bc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ii(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!Bc[u.type]:h==="textarea"}function b0(u,h,x,E){br(E),h=A0(h,"onChange"),0<h.length&&(x=new Oe("onChange","change",null,x,E),u.push({event:x,listeners:h}))}var Hs=null,Ws=null;function kd(u){Yf(u,0)}function Vc(u){var h=Ru(u);if(ae(h))return u}function Ed(u,h){if(u==="change")return h}var Su=!1;if(o){var sc;if(o){var oc="oninput"in document;if(!oc){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;"),oc=typeof Cl.oninput=="function"}sc=oc}else sc=!1;Su=sc&&(!document.documentMode||9<document.documentMode)}function Sd(){Hs&&(Hs.detachEvent("onpropertychange",Gs),Ws=Hs=null)}function Gs(u){if(u.propertyName==="value"&&Vc(Ws)){var h=[];b0(h,Ws,u,Ot(u)),ir(kd,h)}}function Nl(u,h,x){u==="focusin"?(Sd(),Hs=h,Ws=x,Hs.attachEvent("onpropertychange",Gs)):u==="focusout"&&Sd()}function Zn(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Vc(Ws)}function ei(u,h){if(u==="click")return Vc(h)}function Ui(u,h){if(u==="input"||u==="change")return Vc(h)}function zi(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var pa=typeof Object.is=="function"?Object.is:zi;function Al(u,h){if(pa(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var x=Object.keys(u),E=Object.keys(h);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var D=x[E];if(!l.call(h,D)||!pa(u[D],h[D]))return!1}return!0}function nl(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Cd(u,h){var x=nl(u);u=0;for(var E;x;){if(x.nodeType===3){if(E=u+x.textContent.length,u<=h&&E>=h)return{node:x,offset:h-u};u=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=nl(x)}}function Cp(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?Cp(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function Np(){for(var u=window,h=je();h instanceof u.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)u=h.contentWindow;else break;h=je(u.document)}return h}function k0(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function o2(u){var h=Np(),x=u.focusedElem,E=u.selectionRange;if(h!==x&&x&&x.ownerDocument&&Cp(x.ownerDocument.documentElement,x)){if(E!==null&&k0(x)){if(h=E.start,u=E.end,u===void 0&&(u=h),"selectionStart"in x)x.selectionStart=h,x.selectionEnd=Math.min(u,x.value.length);else if(u=(h=x.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var D=x.textContent.length,H=Math.min(E.start,D);E=E.end===void 0?H:Math.min(E.end,D),!u.extend&&H>E&&(D=E,E=H,H=D),D=Cd(x,H);var se=Cd(x,E);D&&se&&(u.rangeCount!==1||u.anchorNode!==D.node||u.anchorOffset!==D.offset||u.focusNode!==se.node||u.focusOffset!==se.offset)&&(h=h.createRange(),h.setStart(D.node,D.offset),u.removeAllRanges(),H>E?(u.addRange(h),u.extend(se.node,se.offset)):(h.setEnd(se.node,se.offset),u.addRange(h)))}}for(h=[],u=x;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<h.length;x++)u=h[x],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var l2=o&&"documentMode"in document&&11>=document.documentMode,Cu=null,E0=null,Nd=null,S0=!1;function Ap(u,h,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;S0||Cu==null||Cu!==je(E)||(E=Cu,"selectionStart"in E&&k0(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Nd&&Al(Nd,E)||(Nd=E,E=A0(E0,"onSelect"),0<E.length&&(h=new Oe("onSelect","select",null,h,x),u.push({event:h,listeners:E}),h.target=Cu)))}function Gf(u,h){var x={};return x[u.toLowerCase()]=h.toLowerCase(),x["Webkit"+u]="webkit"+h,x["Moz"+u]="moz"+h,x}var Nu={animationend:Gf("Animation","AnimationEnd"),animationiteration:Gf("Animation","AnimationIteration"),animationstart:Gf("Animation","AnimationStart"),transitionend:Gf("Transition","TransitionEnd")},Au={},Tp={};o&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function Kf(u){if(Au[u])return Au[u];if(!Nu[u])return u;var h=Nu[u],x;for(x in h)if(h.hasOwnProperty(x)&&x in Tp)return Au[u]=h[x];return u}var Ip=Kf("animationend"),Pp=Kf("animationiteration"),Rp=Kf("animationstart"),Fp=Kf("transitionend"),Lp=new Map,jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tl(u,h){Lp.set(u,h),a(h,[u])}for(var Ad=0;Ad<jp.length;Ad++){var Cs=jp[Ad],Lo=Cs.toLowerCase(),C0=Cs[0].toUpperCase()+Cs.slice(1);Tl(Lo,"on"+C0)}Tl(Ip,"onAnimationEnd"),Tl(Pp,"onAnimationIteration"),Tl(Rp,"onAnimationStart"),Tl("dblclick","onDoubleClick"),Tl("focusin","onFocus"),Tl("focusout","onBlur"),Tl(Fp,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uc));function Xf(u,h,x){var E=u.type||"unknown-event";u.currentTarget=x,Te(E,h,void 0,u),u.currentTarget=null}function Yf(u,h){h=(h&4)!==0;for(var x=0;x<u.length;x++){var E=u[x],D=E.event;E=E.listeners;e:{var H=void 0;if(h)for(var se=E.length-1;0<=se;se--){var Fe=E[se],Ue=Fe.instance,lt=Fe.currentTarget;if(Fe=Fe.listener,Ue!==H&&D.isPropagationStopped())break e;Xf(D,Fe,lt),H=Ue}else for(se=0;se<E.length;se++){if(Fe=E[se],Ue=Fe.instance,lt=Fe.currentTarget,Fe=Fe.listener,Ue!==H&&D.isPropagationStopped())break e;Xf(D,Fe,lt),H=Ue}}}if(ie)throw u=Ae,ie=!1,Ae=null,u}function zn(u,h){var x=h[Xs];x===void 0&&(x=h[Xs]=new Set);var E=u+"__bubble";x.has(E)||(Qf(h,u,2,!1),x.add(E))}function N0(u,h,x){var E=0;h&&(E|=4),Qf(x,u,E,h)}var Td="_reactListening"+Math.random().toString(36).slice(2);function Tu(u){if(!u[Td]){u[Td]=!0,n.forEach(function(x){x!=="selectionchange"&&(c2.has(x)||N0(x,!1,u),N0(x,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Td]||(h[Td]=!0,N0("selectionchange",!1,h))}}function Qf(u,h,x,E){switch(Sl(h)){case 1:var D=On;break;case 4:D=ku;break;default:D=el}x=D.bind(null,h,x,u),D=void 0,!vi||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(D=!0),E?D!==void 0?u.addEventListener(h,x,{capture:!0,passive:D}):u.addEventListener(h,x,!0):D!==void 0?u.addEventListener(h,x,{passive:D}):u.addEventListener(h,x,!1)}function Jf(u,h,x,E,D){var H=E;if((h&1)===0&&(h&2)===0&&E!==null)e:for(;;){if(E===null)return;var se=E.tag;if(se===3||se===4){var Fe=E.stateNode.containerInfo;if(Fe===D||Fe.nodeType===8&&Fe.parentNode===D)break;if(se===4)for(se=E.return;se!==null;){var Ue=se.tag;if((Ue===3||Ue===4)&&(Ue=se.stateNode.containerInfo,Ue===D||Ue.nodeType===8&&Ue.parentNode===D))return;se=se.return}for(;Fe!==null;){if(se=zc(Fe),se===null)return;if(Ue=se.tag,Ue===5||Ue===6){E=H=se;continue e}Fe=Fe.parentNode}}E=E.return}ir(function(){var lt=H,Ft=Ot(x),jt=[];e:{var Rt=Lp.get(u);if(Rt!==void 0){var Jt=Oe,lr=u;switch(u){case"keypress":if(Ia(x)===0)break e;case"keydown":case"keyup":Jt=z;break;case"focusin":lr="focus",Jt=xn;break;case"focusout":lr="blur",Jt=xn;break;case"beforeblur":case"afterblur":Jt=xn;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Jt=Ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Jt=Jn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Jt=ut;break;case Ip:case Pp:case Rp:Jt=Mn;break;case Fp:Jt=vn;break;case"scroll":Jt=vt;break;case"wheel":Jt=Qr;break;case"copy":case"cut":case"paste":Jt=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Jt=ge}var pr=(h&4)!==0,xa=!pr&&u==="scroll",nt=pr?Rt!==null?Rt+"Capture":null:Rt;pr=[];for(var $e=lt,st;$e!==null;){st=$e;var Vt=st.stateNode;if(st.tag===5&&Vt!==null&&(st=Vt,nt!==null&&(Vt=Kr($e,nt),Vt!=null&&pr.push(Zf($e,Vt,st)))),xa)break;$e=$e.return}0<pr.length&&(Rt=new Jt(Rt,lr,null,x,Ft),jt.push({event:Rt,listeners:pr}))}}if((h&7)===0){e:{if(Rt=u==="mouseover"||u==="pointerover",Jt=u==="mouseout"||u==="pointerout",Rt&&x!==He&&(lr=x.relatedTarget||x.fromElement)&&(zc(lr)||lr[ss]))break e;if((Jt||Rt)&&(Rt=Ft.window===Ft?Ft:(Rt=Ft.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Jt?(lr=x.relatedTarget||x.toElement,Jt=lt,lr=lr?zc(lr):null,lr!==null&&(xa=Ie(lr),lr!==xa||lr.tag!==5&&lr.tag!==6)&&(lr=null)):(Jt=null,lr=lt),Jt!==lr)){if(pr=Ir,Vt="onMouseLeave",nt="onMouseEnter",$e="mouse",(u==="pointerout"||u==="pointerover")&&(pr=ge,Vt="onPointerLeave",nt="onPointerEnter",$e="pointer"),xa=Jt==null?Rt:Ru(Jt),st=lr==null?Rt:Ru(lr),Rt=new pr(Vt,$e+"leave",Jt,x,Ft),Rt.target=xa,Rt.relatedTarget=st,Vt=null,zc(Ft)===lt&&(pr=new pr(nt,$e+"enter",lr,x,Ft),pr.target=st,pr.relatedTarget=xa,Vt=pr),xa=Vt,Jt&&lr)t:{for(pr=Jt,nt=lr,$e=0,st=pr;st;st=Iu(st))$e++;for(st=0,Vt=nt;Vt;Vt=Iu(Vt))st++;for(;0<$e-st;)pr=Iu(pr),$e--;for(;0<st-$e;)nt=Iu(nt),st--;for(;$e--;){if(pr===nt||nt!==null&&pr===nt.alternate)break t;pr=Iu(pr),nt=Iu(nt)}pr=null}else pr=null;Jt!==null&&u2(jt,Rt,Jt,pr,!1),lr!==null&&xa!==null&&u2(jt,xa,lr,pr,!0)}}e:{if(Rt=lt?Ru(lt):window,Jt=Rt.nodeName&&Rt.nodeName.toLowerCase(),Jt==="select"||Jt==="input"&&Rt.type==="file")var xr=Ed;else if(Ii(Rt))if(Su)xr=Ui;else{xr=Zn;var Sr=Nl}else(Jt=Rt.nodeName)&&Jt.toLowerCase()==="input"&&(Rt.type==="checkbox"||Rt.type==="radio")&&(xr=ei);if(xr&&(xr=xr(u,lt))){b0(jt,xr,x,Ft);break e}Sr&&Sr(u,Rt,lt),u==="focusout"&&(Sr=Rt._wrapperState)&&Sr.controlled&&Rt.type==="number"&&ne(Rt,"number",Rt.value)}switch(Sr=lt?Ru(lt):window,u){case"focusin":(Ii(Sr)||Sr.contentEditable==="true")&&(Cu=Sr,E0=lt,Nd=null);break;case"focusout":Nd=E0=Cu=null;break;case"mousedown":S0=!0;break;case"contextmenu":case"mouseup":case"dragend":S0=!1,Ap(jt,x,Ft);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":Ap(jt,x,Ft)}var Cr;if(wn)e:{switch(u){case"compositionstart":var Dr="onCompositionStart";break e;case"compositionend":Dr="onCompositionEnd";break e;case"compositionupdate":Dr="onCompositionUpdate";break e}Dr=void 0}else Ss?Es(u,x)&&(Dr="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(Dr="onCompositionStart");Dr&&(qs&&x.locale!=="ko"&&(Ss||Dr!=="onCompositionStart"?Dr==="onCompositionEnd"&&Ss&&(Cr=ic()):(Wa=Ft,Ro="value"in Wa?Wa.value:Wa.textContent,Ss=!0)),Sr=A0(lt,Dr),0<Sr.length&&(Dr=new Eu(Dr,u,null,x,Ft),jt.push({event:Dr,listeners:Sr}),Cr?Dr.data=Cr:(Cr=Oc(x),Cr!==null&&(Dr.data=Cr)))),(Cr=Ga?Mc(u,x):Wf(u,x))&&(lt=A0(lt,"onBeforeInput"),0<lt.length&&(Ft=new Eu("onBeforeInput","beforeinput",null,x,Ft),jt.push({event:Ft,listeners:lt}),Ft.data=Cr))}Yf(jt,h)})}function Zf(u,h,x){return{instance:u,listener:h,currentTarget:x}}function A0(u,h){for(var x=h+"Capture",E=[];u!==null;){var D=u,H=D.stateNode;D.tag===5&&H!==null&&(D=H,H=Kr(u,x),H!=null&&E.unshift(Zf(u,H,D)),H=Kr(u,h),H!=null&&E.push(Zf(u,H,D))),u=u.return}return E}function Iu(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function u2(u,h,x,E,D){for(var H=h._reactName,se=[];x!==null&&x!==E;){var Fe=x,Ue=Fe.alternate,lt=Fe.stateNode;if(Ue!==null&&Ue===E)break;Fe.tag===5&&lt!==null&&(Fe=lt,D?(Ue=Kr(x,H),Ue!=null&&se.unshift(Zf(x,Ue,Fe))):D||(Ue=Kr(x,H),Ue!=null&&se.push(Zf(x,Ue,Fe)))),x=x.return}se.length!==0&&u.push({event:h,listeners:se})}var Zy=/\r\n?/g,e5=/\u0000|\uFFFD/g;function d2(u){return(typeof u=="string"?u:""+u).replace(Zy,`
`).replace(e5,"")}function T0(u,h,x){if(h=d2(h),d2(u)!==h&&x)throw Error(r(425))}function Id(){}var eh=null,Pu=null;function Dp(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Op=typeof setTimeout=="function"?setTimeout:void 0,f2=typeof clearTimeout=="function"?clearTimeout:void 0,h2=typeof Promise=="function"?Promise:void 0,t5=typeof queueMicrotask=="function"?queueMicrotask:typeof h2<"u"?function(u){return h2.resolve(null).then(u).catch(r5)}:Op;function r5(u){setTimeout(function(){throw u})}function Mp(u,h){var x=h,E=0;do{var D=x.nextSibling;if(u.removeChild(x),D&&D.nodeType===8)if(x=D.data,x==="/$"){if(E===0){u.removeChild(D),is(h);return}E--}else x!=="$"&&x!=="$?"&&x!=="$!"||E++;x=D}while(x);is(h)}function Ns(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function jo(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return u;h--}else x==="/$"&&h++}u=u.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Il="__reactFiber$"+Ks,Pd="__reactProps$"+Ks,ss="__reactContainer$"+Ks,Xs="__reactEvents$"+Ks,n5="__reactListeners$"+Ks,i5="__reactHandles$"+Ks;function zc(u){var h=u[Il];if(h)return h;for(var x=u.parentNode;x;){if(h=x[ss]||x[Il]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(u=jo(u);u!==null;){if(x=u[Il])return x;u=jo(u)}return h}u=x,x=u.parentNode}return null}function Rd(u){return u=u[Il]||u[ss],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Ru(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(r(33))}function th(u){return u[Pd]||null}var Bp=[],lc=-1;function il(u){return{current:u}}function Ln(u){0>lc||(u.current=Bp[lc],Bp[lc]=null,lc--)}function Bn(u,h){lc++,Bp[lc]=u.current,u.current=h}var $c={},Ka=il($c),Ys=il(!1),Fu=$c;function Fd(u,h){var x=u.type.contextTypes;if(!x)return $c;var E=u.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===h)return E.__reactInternalMemoizedMaskedChildContext;var D={},H;for(H in x)D[H]=h[H];return E&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=D),D}function Qs(u){return u=u.childContextTypes,u!=null}function I0(){Ln(Ys),Ln(Ka)}function p2(u,h,x){if(Ka.current!==$c)throw Error(r(168));Bn(Ka,h),Bn(Ys,x)}function Vp(u,h,x){var E=u.stateNode;if(h=h.childContextTypes,typeof E.getChildContext!="function")return x;E=E.getChildContext();for(var D in E)if(!(D in h))throw Error(r(108,ve(u)||"Unknown",D));return fe({},x,E)}function Lu(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||$c,Fu=Ka.current,Bn(Ka,u),Bn(Ys,Ys.current),!0}function m2(u,h,x){var E=u.stateNode;if(!E)throw Error(r(169));x?(u=Vp(u,h,Fu),E.__reactInternalMemoizedMergedChildContext=u,Ln(Ys),Ln(Ka),Bn(Ka,u)):Ln(Ys),Bn(Ys,x)}var cc=null,rh=!1,_=!1;function C(u){cc===null?cc=[u]:cc.push(u)}function U(u){rh=!0,C(u)}function K(){if(!_&&cc!==null){_=!0;var u=0,h=Xr;try{var x=cc;for(Xr=1;u<x.length;u++){var E=x[u];do E=E(!0);while(E!==null)}cc=null,rh=!1}catch(D){throw cc!==null&&(cc=cc.slice(u+1)),St(dn,K),D}finally{Xr=h,_=!1}}return null}var te=[],ue=0,he=null,me=0,ye=[],Se=0,Ve=null,Ze=1,Ne="";function ze(u,h){te[ue++]=me,te[ue++]=he,he=u,me=h}function Ye(u,h,x){ye[Se++]=Ze,ye[Se++]=Ne,ye[Se++]=Ve,Ve=u;var E=Ze;u=Ne;var D=32-An(E)-1;E&=~(1<<D),x+=1;var H=32-An(h)+D;if(30<H){var se=D-D%5;H=(E&(1<<se)-1).toString(32),E>>=se,D-=se,Ze=1<<32-An(h)+D|x<<D|E,Ne=H+u}else Ze=1<<H|x<<D|E,Ne=u}function pt(u){u.return!==null&&(ze(u,1),Ye(u,1,0))}function it(u){for(;u===he;)he=te[--ue],te[ue]=null,me=te[--ue],te[ue]=null;for(;u===Ve;)Ve=ye[--Se],ye[Se]=null,Ne=ye[--Se],ye[Se]=null,Ze=ye[--Se],ye[Se]=null}var ft=null,ht=null,_t=!1,bt=null;function gr(u,h){var x=jl(5,null,null,0);x.elementType="DELETED",x.stateNode=h,x.return=u,h=u.deletions,h===null?(u.deletions=[x],u.flags|=16):h.push(x)}function rr(u,h){switch(u.tag){case 5:var x=u.type;return h=h.nodeType!==1||x.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,ft=u,ht=Ns(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,ft=u,ht=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(x=Ve!==null?{id:Ze,overflow:Ne}:null,u.memoizedState={dehydrated:h,treeContext:x,retryLane:1073741824},x=jl(18,null,null,0),x.stateNode=h,x.return=u,u.child=x,ft=u,ht=null,!0):!1;default:return!1}}function Vr(u){return(u.mode&1)!==0&&(u.flags&128)===0}function sr(u){if(_t){var h=ht;if(h){var x=h;if(!rr(u,h)){if(Vr(u))throw Error(r(418));h=Ns(x.nextSibling);var E=ft;h&&rr(u,h)?gr(E,x):(u.flags=u.flags&-4097|2,_t=!1,ft=u)}}else{if(Vr(u))throw Error(r(418));u.flags=u.flags&-4097|2,_t=!1,ft=u}}}function nn(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ft=u}function Pi(u){if(u!==ft)return!1;if(!_t)return nn(u),_t=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!Dp(u.type,u.memoizedProps)),h&&(h=ht)){if(Vr(u))throw Ur(),Error(r(418));for(;h;)gr(u,h),h=Ns(h.nextSibling)}if(nn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var x=u.data;if(x==="/$"){if(h===0){ht=Ns(u.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++}u=u.nextSibling}ht=null}}else ht=ft?Ns(u.stateNode.nextSibling):null;return!0}function Ur(){for(var u=ht;u;)u=Ns(u.nextSibling)}function nr(){ht=ft=null,_t=!1}function $t(u){bt===null?bt=[u]:bt.push(u)}var $i=V.ReactCurrentBatchConfig;function Pr(u,h,x){if(u=x.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var E=x.stateNode}if(!E)throw Error(r(147,u));var D=E,H=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===H?h.ref:(h=function(se){var Fe=D.refs;se===null?delete Fe[H]:Fe[H]=se},h._stringRef=H,h)}if(typeof u!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,u))}return u}function Jr(u,h){throw u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function ti(u){var h=u._init;return h(u._payload)}function Pa(u){function h(nt,$e){if(u){var st=nt.deletions;st===null?(nt.deletions=[$e],nt.flags|=16):st.push($e)}}function x(nt,$e){if(!u)return null;for(;$e!==null;)h(nt,$e),$e=$e.sibling;return null}function E(nt,$e){for(nt=new Map;$e!==null;)$e.key!==null?nt.set($e.key,$e):nt.set($e.index,$e),$e=$e.sibling;return nt}function D(nt,$e){return nt=$d(nt,$e),nt.index=0,nt.sibling=null,nt}function H(nt,$e,st){return nt.index=st,u?(st=nt.alternate,st!==null?(st=st.index,st<$e?(nt.flags|=2,$e):st):(nt.flags|=2,$e)):(nt.flags|=1048576,$e)}function se(nt){return u&&nt.alternate===null&&(nt.flags|=2),nt}function Fe(nt,$e,st,Vt){return $e===null||$e.tag!==6?($e=F5(st,nt.mode,Vt),$e.return=nt,$e):($e=D($e,st),$e.return=nt,$e)}function Ue(nt,$e,st,Vt){var xr=st.type;return xr===R?Ft(nt,$e,st.props.children,Vt,st.key):$e!==null&&($e.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===_e&&ti(xr)===$e.type)?(Vt=D($e,st.props),Vt.ref=Pr(nt,$e,st),Vt.return=nt,Vt):(Vt=j2(st.type,st.key,st.props,null,nt.mode,Vt),Vt.ref=Pr(nt,$e,st),Vt.return=nt,Vt)}function lt(nt,$e,st,Vt){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==st.containerInfo||$e.stateNode.implementation!==st.implementation?($e=L5(st,nt.mode,Vt),$e.return=nt,$e):($e=D($e,st.children||[]),$e.return=nt,$e)}function Ft(nt,$e,st,Vt,xr){return $e===null||$e.tag!==7?($e=uh(st,nt.mode,Vt,xr),$e.return=nt,$e):($e=D($e,st),$e.return=nt,$e)}function jt(nt,$e,st){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return $e=F5(""+$e,nt.mode,st),$e.return=nt,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case Y:return st=j2($e.type,$e.key,$e.props,null,nt.mode,st),st.ref=Pr(nt,null,$e),st.return=nt,st;case Q:return $e=L5($e,nt.mode,st),$e.return=nt,$e;case _e:var Vt=$e._init;return jt(nt,Vt($e._payload),st)}if(De($e)||G($e))return $e=uh($e,nt.mode,st,null),$e.return=nt,$e;Jr(nt,$e)}return null}function Rt(nt,$e,st,Vt){var xr=$e!==null?$e.key:null;if(typeof st=="string"&&st!==""||typeof st=="number")return xr!==null?null:Fe(nt,$e,""+st,Vt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case Y:return st.key===xr?Ue(nt,$e,st,Vt):null;case Q:return st.key===xr?lt(nt,$e,st,Vt):null;case _e:return xr=st._init,Rt(nt,$e,xr(st._payload),Vt)}if(De(st)||G(st))return xr!==null?null:Ft(nt,$e,st,Vt,null);Jr(nt,st)}return null}function Jt(nt,$e,st,Vt,xr){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return nt=nt.get(st)||null,Fe($e,nt,""+Vt,xr);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case Y:return nt=nt.get(Vt.key===null?st:Vt.key)||null,Ue($e,nt,Vt,xr);case Q:return nt=nt.get(Vt.key===null?st:Vt.key)||null,lt($e,nt,Vt,xr);case _e:var Sr=Vt._init;return Jt(nt,$e,st,Sr(Vt._payload),xr)}if(De(Vt)||G(Vt))return nt=nt.get(st)||null,Ft($e,nt,Vt,xr,null);Jr($e,Vt)}return null}function lr(nt,$e,st,Vt){for(var xr=null,Sr=null,Cr=$e,Dr=$e=0,ds=null;Cr!==null&&Dr<st.length;Dr++){Cr.index>Dr?(ds=Cr,Cr=null):ds=Cr.sibling;var Tn=Rt(nt,Cr,st[Dr],Vt);if(Tn===null){Cr===null&&(Cr=ds);break}u&&Cr&&Tn.alternate===null&&h(nt,Cr),$e=H(Tn,$e,Dr),Sr===null?xr=Tn:Sr.sibling=Tn,Sr=Tn,Cr=ds}if(Dr===st.length)return x(nt,Cr),_t&&ze(nt,Dr),xr;if(Cr===null){for(;Dr<st.length;Dr++)Cr=jt(nt,st[Dr],Vt),Cr!==null&&($e=H(Cr,$e,Dr),Sr===null?xr=Cr:Sr.sibling=Cr,Sr=Cr);return _t&&ze(nt,Dr),xr}for(Cr=E(nt,Cr);Dr<st.length;Dr++)ds=Jt(Cr,nt,Dr,st[Dr],Vt),ds!==null&&(u&&ds.alternate!==null&&Cr.delete(ds.key===null?Dr:ds.key),$e=H(ds,$e,Dr),Sr===null?xr=ds:Sr.sibling=ds,Sr=ds);return u&&Cr.forEach(function(qd){return h(nt,qd)}),_t&&ze(nt,Dr),xr}function pr(nt,$e,st,Vt){var xr=G(st);if(typeof xr!="function")throw Error(r(150));if(st=xr.call(st),st==null)throw Error(r(151));for(var Sr=xr=null,Cr=$e,Dr=$e=0,ds=null,Tn=st.next();Cr!==null&&!Tn.done;Dr++,Tn=st.next()){Cr.index>Dr?(ds=Cr,Cr=null):ds=Cr.sibling;var qd=Rt(nt,Cr,Tn.value,Vt);if(qd===null){Cr===null&&(Cr=ds);break}u&&Cr&&qd.alternate===null&&h(nt,Cr),$e=H(qd,$e,Dr),Sr===null?xr=qd:Sr.sibling=qd,Sr=qd,Cr=ds}if(Tn.done)return x(nt,Cr),_t&&ze(nt,Dr),xr;if(Cr===null){for(;!Tn.done;Dr++,Tn=st.next())Tn=jt(nt,Tn.value,Vt),Tn!==null&&($e=H(Tn,$e,Dr),Sr===null?xr=Tn:Sr.sibling=Tn,Sr=Tn);return _t&&ze(nt,Dr),xr}for(Cr=E(nt,Cr);!Tn.done;Dr++,Tn=st.next())Tn=Jt(Cr,nt,Dr,Tn.value,Vt),Tn!==null&&(u&&Tn.alternate!==null&&Cr.delete(Tn.key===null?Dr:Tn.key),$e=H(Tn,$e,Dr),Sr===null?xr=Tn:Sr.sibling=Tn,Sr=Tn);return u&&Cr.forEach(function(LD){return h(nt,LD)}),_t&&ze(nt,Dr),xr}function xa(nt,$e,st,Vt){if(typeof st=="object"&&st!==null&&st.type===R&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case Y:e:{for(var xr=st.key,Sr=$e;Sr!==null;){if(Sr.key===xr){if(xr=st.type,xr===R){if(Sr.tag===7){x(nt,Sr.sibling),$e=D(Sr,st.props.children),$e.return=nt,nt=$e;break e}}else if(Sr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===_e&&ti(xr)===Sr.type){x(nt,Sr.sibling),$e=D(Sr,st.props),$e.ref=Pr(nt,Sr,st),$e.return=nt,nt=$e;break e}x(nt,Sr);break}else h(nt,Sr);Sr=Sr.sibling}st.type===R?($e=uh(st.props.children,nt.mode,Vt,st.key),$e.return=nt,nt=$e):(Vt=j2(st.type,st.key,st.props,null,nt.mode,Vt),Vt.ref=Pr(nt,$e,st),Vt.return=nt,nt=Vt)}return se(nt);case Q:e:{for(Sr=st.key;$e!==null;){if($e.key===Sr)if($e.tag===4&&$e.stateNode.containerInfo===st.containerInfo&&$e.stateNode.implementation===st.implementation){x(nt,$e.sibling),$e=D($e,st.children||[]),$e.return=nt,nt=$e;break e}else{x(nt,$e);break}else h(nt,$e);$e=$e.sibling}$e=L5(st,nt.mode,Vt),$e.return=nt,nt=$e}return se(nt);case _e:return Sr=st._init,xa(nt,$e,Sr(st._payload),Vt)}if(De(st))return lr(nt,$e,st,Vt);if(G(st))return pr(nt,$e,st,Vt);Jr(nt,st)}return typeof st=="string"&&st!==""||typeof st=="number"?(st=""+st,$e!==null&&$e.tag===6?(x(nt,$e.sibling),$e=D($e,st),$e.return=nt,nt=$e):(x(nt,$e),$e=F5(st,nt.mode,Vt),$e.return=nt,nt=$e),se(nt)):x(nt,$e)}return xa}var Ji=Pa(!0),wi=Pa(!1),ma=il(null),Ra=null,pi=null,cn=null;function _n(){cn=pi=Ra=null}function mi(u){var h=ma.current;Ln(ma),u._currentValue=h}function bn(u,h,x){for(;u!==null;){var E=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),u===x)break;u=u.return}}function Ri(u,h){Ra=u,cn=pi=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(Oo=!0),u.firstContext=null)}function Fi(u){var h=u._currentValue;if(cn!==u)if(u={context:u,memoizedValue:h,next:null},pi===null){if(Ra===null)throw Error(r(308));pi=u,Ra.dependencies={lanes:0,firstContext:u}}else pi=pi.next=u;return h}var $n=null;function os(u){$n===null?$n=[u]:$n.push(u)}function Vn(u,h,x,E){var D=h.interleaved;return D===null?(x.next=x,os(h)):(x.next=D.next,D.next=x),h.interleaved=x,qn(u,E)}function qn(u,h){u.lanes|=h;var x=u.alternate;for(x!==null&&(x.lanes|=h),x=u,u=u.return;u!==null;)u.childLanes|=h,x=u.alternate,x!==null&&(x.childLanes|=h),x=u,u=u.return;return x.tag===3?x.stateNode:null}var Zi=!1;function Xa(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Js(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function qi(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Hi(u,h,x){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,(kn&2)!==0){var D=E.pending;return D===null?h.next=h:(h.next=D.next,D.next=h),E.pending=h,qn(u,x)}return D=E.interleaved,D===null?(h.next=h,os(E)):(h.next=D.next,D.next=h),E.interleaved=h,qn(u,x)}function ls(u,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194240)!==0)){var E=h.lanes;E&=u.pendingLanes,x|=E,h.lanes=x,Yo(u,x)}}function Hn(u,h){var x=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var D=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var se={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};H===null?D=H=se:H=H.next=se,x=x.next}while(x!==null);H===null?D=H=h:H=H.next=h}else D=H=h;x={baseState:E.baseState,firstBaseUpdate:D,lastBaseUpdate:H,shared:E.shared,effects:E.effects},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=h:u.next=h,x.lastBaseUpdate=h}function cs(u,h,x,E){var D=u.updateQueue;Zi=!1;var H=D.firstBaseUpdate,se=D.lastBaseUpdate,Fe=D.shared.pending;if(Fe!==null){D.shared.pending=null;var Ue=Fe,lt=Ue.next;Ue.next=null,se===null?H=lt:se.next=lt,se=Ue;var Ft=u.alternate;Ft!==null&&(Ft=Ft.updateQueue,Fe=Ft.lastBaseUpdate,Fe!==se&&(Fe===null?Ft.firstBaseUpdate=lt:Fe.next=lt,Ft.lastBaseUpdate=Ue))}if(H!==null){var jt=D.baseState;se=0,Ft=lt=Ue=null,Fe=H;do{var Rt=Fe.lane,Jt=Fe.eventTime;if((E&Rt)===Rt){Ft!==null&&(Ft=Ft.next={eventTime:Jt,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var lr=u,pr=Fe;switch(Rt=h,Jt=x,pr.tag){case 1:if(lr=pr.payload,typeof lr=="function"){jt=lr.call(Jt,jt,Rt);break e}jt=lr;break e;case 3:lr.flags=lr.flags&-65537|128;case 0:if(lr=pr.payload,Rt=typeof lr=="function"?lr.call(Jt,jt,Rt):lr,Rt==null)break e;jt=fe({},jt,Rt);break e;case 2:Zi=!0}}Fe.callback!==null&&Fe.lane!==0&&(u.flags|=64,Rt=D.effects,Rt===null?D.effects=[Fe]:Rt.push(Fe))}else Jt={eventTime:Jt,lane:Rt,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},Ft===null?(lt=Ft=Jt,Ue=jt):Ft=Ft.next=Jt,se|=Rt;if(Fe=Fe.next,Fe===null){if(Fe=D.shared.pending,Fe===null)break;Rt=Fe,Fe=Rt.next,Rt.next=null,D.lastBaseUpdate=Rt,D.shared.pending=null}}while(!0);if(Ft===null&&(Ue=jt),D.baseState=Ue,D.firstBaseUpdate=lt,D.lastBaseUpdate=Ft,h=D.shared.interleaved,h!==null){D=h;do se|=D.lane,D=D.next;while(D!==h)}else H===null&&(D.shared.lanes=0);sh|=se,u.lanes=se,u.memoizedState=jt}}function Do(u,h,x){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var E=u[h],D=E.callback;if(D!==null){if(E.callback=null,E=x,typeof D!="function")throw Error(r(191,D));D.call(E)}}}var al={},Fa=il(al),Wi=il(al),qc=il(al);function uc(u){if(u===al)throw Error(r(174));return u}function Ld(u,h){switch(Bn(qc,h),Bn(Wi,u),Bn(Fa,al),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:dt(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=dt(h,u)}Ln(Fa),Bn(Fa,h)}function Pl(){Ln(Fa),Ln(Wi),Ln(qc)}function g2(u){uc(qc.current);var h=uc(Fa.current),x=dt(h,u.type);h!==x&&(Bn(Wi,u),Bn(Fa,x))}function Up(u){Wi.current===u&&(Ln(Fa),Ln(Wi))}var li=il(0);function sl(u){for(var h=u;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var zp=[];function $p(){for(var u=0;u<zp.length;u++)zp[u]._workInProgressVersionPrimary=null;zp.length=0}var P0=V.ReactCurrentDispatcher,R0=V.ReactCurrentBatchConfig,Rl=0,gi=null,ea=null,Gi=null,jd=!1,dc=!1,Dd=0,a5=0;function ga(){throw Error(r(321))}function F0(u,h){if(h===null)return!1;for(var x=0;x<h.length&&x<u.length;x++)if(!pa(u[x],h[x]))return!1;return!0}function nh(u,h,x,E,D,H){if(Rl=H,gi=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,P0.current=u===null||u.memoizedState===null?sD:oD,u=x(E,D),dc){H=0;do{if(dc=!1,Dd=0,25<=H)throw Error(r(301));H+=1,Gi=ea=null,h.updateQueue=null,P0.current=lD,u=x(E,D)}while(dc)}if(P0.current=_2,h=ea!==null&&ea.next!==null,Rl=0,Gi=ea=gi=null,jd=!1,h)throw Error(r(300));return u}function Fl(){var u=Dd!==0;return Dd=0,u}function ol(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?gi.memoizedState=Gi=u:Gi=Gi.next=u,Gi}function wo(){if(ea===null){var u=gi.alternate;u=u!==null?u.memoizedState:null}else u=ea.next;var h=Gi===null?gi.memoizedState:Gi.next;if(h!==null)Gi=h,ea=u;else{if(u===null)throw Error(r(310));ea=u,u={memoizedState:ea.memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},Gi===null?gi.memoizedState=Gi=u:Gi=Gi.next=u}return Gi}function ih(u,h){return typeof h=="function"?h(u):h}function L0(u){var h=wo(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=u;var E=ea,D=E.baseQueue,H=x.pending;if(H!==null){if(D!==null){var se=D.next;D.next=H.next,H.next=se}E.baseQueue=D=H,x.pending=null}if(D!==null){H=D.next,E=E.baseState;var Fe=se=null,Ue=null,lt=H;do{var Ft=lt.lane;if((Rl&Ft)===Ft)Ue!==null&&(Ue=Ue.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),E=lt.hasEagerState?lt.eagerState:u(E,lt.action);else{var jt={lane:Ft,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};Ue===null?(Fe=Ue=jt,se=E):Ue=Ue.next=jt,gi.lanes|=Ft,sh|=Ft}lt=lt.next}while(lt!==null&&lt!==H);Ue===null?se=E:Ue.next=Fe,pa(E,h.memoizedState)||(Oo=!0),h.memoizedState=E,h.baseState=se,h.baseQueue=Ue,x.lastRenderedState=E}if(u=x.interleaved,u!==null){D=u;do H=D.lane,gi.lanes|=H,sh|=H,D=D.next;while(D!==u)}else D===null&&(x.lanes=0);return[h.memoizedState,x.dispatch]}function Hc(u){var h=wo(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=u;var E=x.dispatch,D=x.pending,H=h.memoizedState;if(D!==null){x.pending=null;var se=D=D.next;do H=u(H,se.action),se=se.next;while(se!==D);pa(H,h.memoizedState)||(Oo=!0),h.memoizedState=H,h.baseQueue===null&&(h.baseState=H),x.lastRenderedState=H}return[H,E]}function x2(){}function qp(u,h){var x=gi,E=wo(),D=h(),H=!pa(E.memoizedState,D);if(H&&(E.memoizedState=D,Oo=!0),E=E.queue,O0(y2.bind(null,x,E,u),[u]),E.getSnapshot!==h||H||Gi!==null&&Gi.memoizedState.tag&1){if(x.flags|=2048,_o(9,Hp.bind(null,x,E,D,h),void 0,null),us===null)throw Error(r(349));(Rl&30)!==0||v2(x,h,D)}return D}function v2(u,h,x){u.flags|=16384,u={getSnapshot:h,value:x},h=gi.updateQueue,h===null?(h={lastEffect:null,stores:null},gi.updateQueue=h,h.stores=[u]):(x=h.stores,x===null?h.stores=[u]:x.push(u))}function Hp(u,h,x,E){h.value=x,h.getSnapshot=E,Od(h)&&j0(u)}function y2(u,h,x){return x(function(){Od(h)&&j0(u)})}function Od(u){var h=u.getSnapshot;u=u.value;try{var x=h();return!pa(u,x)}catch{return!0}}function j0(u){var h=qn(u,1);h!==null&&gc(h,u,1,-1)}function ah(u){var h=ol();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:u},h.queue=u,u=u.dispatch=aD.bind(null,gi,u),[h.memoizedState,u]}function _o(u,h,x,E){return u={tag:u,create:h,destroy:x,deps:E,next:null},h=gi.updateQueue,h===null?(h={lastEffect:null,stores:null},gi.updateQueue=h,h.lastEffect=u.next=u):(x=h.lastEffect,x===null?h.lastEffect=u.next=u:(E=x.next,x.next=u,u.next=E,h.lastEffect=u)),u}function fc(){return wo().memoizedState}function ll(u,h,x,E){var D=ol();gi.flags|=u,D.memoizedState=_o(1|h,x,void 0,E===void 0?null:E)}function ju(u,h,x,E){var D=wo();E=E===void 0?null:E;var H=void 0;if(ea!==null){var se=ea.memoizedState;if(H=se.destroy,E!==null&&F0(E,se.deps)){D.memoizedState=_o(h,x,H,E);return}}gi.flags|=u,D.memoizedState=_o(1|h,x,H,E)}function D0(u,h){return ll(8390656,8,u,h)}function O0(u,h){return ju(2048,8,u,h)}function w2(u,h){return ju(4,2,u,h)}function M0(u,h){return ju(4,4,u,h)}function B0(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function Cb(u,h,x){return x=x!=null?x.concat([u]):null,ju(4,4,B0.bind(null,h,u),x)}function s5(){}function Nb(u,h){var x=wo();h=h===void 0?null:h;var E=x.memoizedState;return E!==null&&h!==null&&F0(h,E[1])?E[0]:(x.memoizedState=[u,h],u)}function Ab(u,h){var x=wo();h=h===void 0?null:h;var E=x.memoizedState;return E!==null&&h!==null&&F0(h,E[1])?E[0]:(u=u(),x.memoizedState=[u,h],u)}function Tb(u,h,x){return(Rl&21)===0?(u.baseState&&(u.baseState=!1,Oo=!0),u.memoizedState=x):(pa(x,h)||(x=nc(),gi.lanes|=x,sh|=x,u.baseState=!0),h)}function nD(u,h){var x=Xr;Xr=x!==0&&4>x?x:4,u(!0);var E=R0.transition;R0.transition={};try{u(!1),h()}finally{Xr=x,R0.transition=E}}function Ib(){return wo().memoizedState}function iD(u,h,x){var E=Ud(u);if(x={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null},Pb(u))Rb(h,x);else if(x=Vn(u,h,x,E),x!==null){var D=ko();gc(x,u,E,D),Fb(x,h,E)}}function aD(u,h,x){var E=Ud(u),D={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null};if(Pb(u))Rb(h,D);else{var H=u.alternate;if(u.lanes===0&&(H===null||H.lanes===0)&&(H=h.lastRenderedReducer,H!==null))try{var se=h.lastRenderedState,Fe=H(se,x);if(D.hasEagerState=!0,D.eagerState=Fe,pa(Fe,se)){var Ue=h.interleaved;Ue===null?(D.next=D,os(h)):(D.next=Ue.next,Ue.next=D),h.interleaved=D;return}}catch{}finally{}x=Vn(u,h,D,E),x!==null&&(D=ko(),gc(x,u,E,D),Fb(x,h,E))}}function Pb(u){var h=u.alternate;return u===gi||h!==null&&h===gi}function Rb(u,h){dc=jd=!0;var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}function Fb(u,h,x){if((x&4194240)!==0){var E=h.lanes;E&=u.pendingLanes,x|=E,h.lanes=x,Yo(u,x)}}var _2={readContext:Fi,useCallback:ga,useContext:ga,useEffect:ga,useImperativeHandle:ga,useInsertionEffect:ga,useLayoutEffect:ga,useMemo:ga,useReducer:ga,useRef:ga,useState:ga,useDebugValue:ga,useDeferredValue:ga,useTransition:ga,useMutableSource:ga,useSyncExternalStore:ga,useId:ga,unstable_isNewReconciler:!1},sD={readContext:Fi,useCallback:function(u,h){return ol().memoizedState=[u,h===void 0?null:h],u},useContext:Fi,useEffect:D0,useImperativeHandle:function(u,h,x){return x=x!=null?x.concat([u]):null,ll(4194308,4,B0.bind(null,h,u),x)},useLayoutEffect:function(u,h){return ll(4194308,4,u,h)},useInsertionEffect:function(u,h){return ll(4,2,u,h)},useMemo:function(u,h){var x=ol();return h=h===void 0?null:h,u=u(),x.memoizedState=[u,h],u},useReducer:function(u,h,x){var E=ol();return h=x!==void 0?x(h):h,E.memoizedState=E.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},E.queue=u,u=u.dispatch=iD.bind(null,gi,u),[E.memoizedState,u]},useRef:function(u){var h=ol();return u={current:u},h.memoizedState=u},useState:ah,useDebugValue:s5,useDeferredValue:function(u){return ol().memoizedState=u},useTransition:function(){var u=ah(!1),h=u[0];return u=nD.bind(null,u[1]),ol().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,x){var E=gi,D=ol();if(_t){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),us===null)throw Error(r(349));(Rl&30)!==0||v2(E,h,x)}D.memoizedState=x;var H={value:x,getSnapshot:h};return D.queue=H,D0(y2.bind(null,E,H,u),[u]),E.flags|=2048,_o(9,Hp.bind(null,E,H,x,h),void 0,null),x},useId:function(){var u=ol(),h=us.identifierPrefix;if(_t){var x=Ne,E=Ze;x=(E&~(1<<32-An(E)-1)).toString(32)+x,h=":"+h+"R"+x,x=Dd++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=a5++,h=":"+h+"r"+x.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},oD={readContext:Fi,useCallback:Nb,useContext:Fi,useEffect:O0,useImperativeHandle:Cb,useInsertionEffect:w2,useLayoutEffect:M0,useMemo:Ab,useReducer:L0,useRef:fc,useState:function(){return L0(ih)},useDebugValue:s5,useDeferredValue:function(u){var h=wo();return Tb(h,ea.memoizedState,u)},useTransition:function(){var u=L0(ih)[0],h=wo().memoizedState;return[u,h]},useMutableSource:x2,useSyncExternalStore:qp,useId:Ib,unstable_isNewReconciler:!1},lD={readContext:Fi,useCallback:Nb,useContext:Fi,useEffect:O0,useImperativeHandle:Cb,useInsertionEffect:w2,useLayoutEffect:M0,useMemo:Ab,useReducer:Hc,useRef:fc,useState:function(){return Hc(ih)},useDebugValue:s5,useDeferredValue:function(u){var h=wo();return ea===null?h.memoizedState=u:Tb(h,ea.memoizedState,u)},useTransition:function(){var u=Hc(ih)[0],h=wo().memoizedState;return[u,h]},useMutableSource:x2,useSyncExternalStore:qp,useId:Ib,unstable_isNewReconciler:!1};function hc(u,h){if(u&&u.defaultProps){h=fe({},h),u=u.defaultProps;for(var x in u)h[x]===void 0&&(h[x]=u[x]);return h}return h}function o5(u,h,x,E){h=u.memoizedState,x=x(E,h),x=x==null?h:fe({},h,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var b2={isMounted:function(u){return(u=u._reactInternals)?Ie(u)===u:!1},enqueueSetState:function(u,h,x){u=u._reactInternals;var E=ko(),D=Ud(u),H=qi(E,D);H.payload=h,x!=null&&(H.callback=x),h=Hi(u,H,D),h!==null&&(gc(h,u,D,E),ls(h,u,D))},enqueueReplaceState:function(u,h,x){u=u._reactInternals;var E=ko(),D=Ud(u),H=qi(E,D);H.tag=1,H.payload=h,x!=null&&(H.callback=x),h=Hi(u,H,D),h!==null&&(gc(h,u,D,E),ls(h,u,D))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var x=ko(),E=Ud(u),D=qi(x,E);D.tag=2,h!=null&&(D.callback=h),h=Hi(u,D,E),h!==null&&(gc(h,u,E,x),ls(h,u,E))}};function Lb(u,h,x,E,D,H,se){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,H,se):h.prototype&&h.prototype.isPureReactComponent?!Al(x,E)||!Al(D,H):!0}function jb(u,h,x){var E=!1,D=$c,H=h.contextType;return typeof H=="object"&&H!==null?H=Fi(H):(D=Qs(h)?Fu:Ka.current,E=h.contextTypes,H=(E=E!=null)?Fd(u,D):$c),h=new h(x,H),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=b2,u.stateNode=h,h._reactInternals=u,E&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=D,u.__reactInternalMemoizedMaskedChildContext=H),h}function Db(u,h,x,E){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,E),h.state!==u&&b2.enqueueReplaceState(h,h.state,null)}function l5(u,h,x,E){var D=u.stateNode;D.props=x,D.state=u.memoizedState,D.refs={},Xa(u);var H=h.contextType;typeof H=="object"&&H!==null?D.context=Fi(H):(H=Qs(h)?Fu:Ka.current,D.context=Fd(u,H)),D.state=u.memoizedState,H=h.getDerivedStateFromProps,typeof H=="function"&&(o5(u,h,H,x),D.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(h=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),h!==D.state&&b2.enqueueReplaceState(D,D.state,null),cs(u,x,D,E),D.state=u.memoizedState),typeof D.componentDidMount=="function"&&(u.flags|=4194308)}function V0(u,h){try{var x="",E=h;do x+=J(E),E=E.return;while(E);var D=x}catch(H){D=`
Error generating stack: `+H.message+`
`+H.stack}return{value:u,source:h,stack:D,digest:null}}function c5(u,h,x){return{value:u,source:null,stack:x??null,digest:h??null}}function u5(u,h){try{console.error(h.value)}catch(x){setTimeout(function(){throw x})}}var cD=typeof WeakMap=="function"?WeakMap:Map;function Ob(u,h,x){x=qi(-1,x),x.tag=3,x.payload={element:null};var E=h.value;return x.callback=function(){T2||(T2=!0,S5=E),u5(u,h)},x}function Mb(u,h,x){x=qi(-1,x),x.tag=3;var E=u.type.getDerivedStateFromError;if(typeof E=="function"){var D=h.value;x.payload=function(){return E(D)},x.callback=function(){u5(u,h)}}var H=u.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(x.callback=function(){u5(u,h),typeof E!="function"&&(Bd===null?Bd=new Set([this]):Bd.add(this));var se=h.stack;this.componentDidCatch(h.value,{componentStack:se!==null?se:""})}),x}function Bb(u,h,x){var E=u.pingCache;if(E===null){E=u.pingCache=new cD;var D=new Set;E.set(h,D)}else D=E.get(h),D===void 0&&(D=new Set,E.set(h,D));D.has(x)||(D.add(x),u=kD.bind(null,u,h,x),h.then(u,u))}function Vb(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function Ub(u,h,x,E,D){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(h=qi(-1,1),h.tag=2,Hi(x,h,1))),x.lanes|=1),u):(u.flags|=65536,u.lanes=D,u)}var uD=V.ReactCurrentOwner,Oo=!1;function bo(u,h,x,E){h.child=u===null?wi(h,null,x,E):Ji(h,u.child,x,E)}function zb(u,h,x,E,D){x=x.render;var H=h.ref;return Ri(h,D),E=nh(u,h,x,E,H,D),x=Fl(),u!==null&&!Oo?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~D,Du(u,h,D)):(_t&&x&&pt(h),h.flags|=1,bo(u,h,E,D),h.child)}function $b(u,h,x,E,D){if(u===null){var H=x.type;return typeof H=="function"&&!R5(H)&&H.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(h.tag=15,h.type=H,qb(u,h,H,E,D)):(u=j2(x.type,null,E,h,h.mode,D),u.ref=h.ref,u.return=h,h.child=u)}if(H=u.child,(u.lanes&D)===0){var se=H.memoizedProps;if(x=x.compare,x=x!==null?x:Al,x(se,E)&&u.ref===h.ref)return Du(u,h,D)}return h.flags|=1,u=$d(H,E),u.ref=h.ref,u.return=h,h.child=u}function qb(u,h,x,E,D){if(u!==null){var H=u.memoizedProps;if(Al(H,E)&&u.ref===h.ref)if(Oo=!1,h.pendingProps=E=H,(u.lanes&D)!==0)(u.flags&131072)!==0&&(Oo=!0);else return h.lanes=u.lanes,Du(u,h,D)}return d5(u,h,x,E,D)}function Hb(u,h,x){var E=h.pendingProps,D=E.children,H=u!==null?u.memoizedState:null;if(E.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(z0,cl),cl|=x;else{if((x&1073741824)===0)return u=H!==null?H.baseLanes|x:x,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Bn(z0,cl),cl|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=H!==null?H.baseLanes:x,Bn(z0,cl),cl|=E}else H!==null?(E=H.baseLanes|x,h.memoizedState=null):E=x,Bn(z0,cl),cl|=E;return bo(u,h,D,x),h.child}function Wb(u,h){var x=h.ref;(u===null&&x!==null||u!==null&&u.ref!==x)&&(h.flags|=512,h.flags|=2097152)}function d5(u,h,x,E,D){var H=Qs(x)?Fu:Ka.current;return H=Fd(h,H),Ri(h,D),x=nh(u,h,x,E,H,D),E=Fl(),u!==null&&!Oo?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~D,Du(u,h,D)):(_t&&E&&pt(h),h.flags|=1,bo(u,h,x,D),h.child)}function Gb(u,h,x,E,D){if(Qs(x)){var H=!0;Lu(h)}else H=!1;if(Ri(h,D),h.stateNode===null)E2(u,h),jb(h,x,E),l5(h,x,E,D),E=!0;else if(u===null){var se=h.stateNode,Fe=h.memoizedProps;se.props=Fe;var Ue=se.context,lt=x.contextType;typeof lt=="object"&&lt!==null?lt=Fi(lt):(lt=Qs(x)?Fu:Ka.current,lt=Fd(h,lt));var Ft=x.getDerivedStateFromProps,jt=typeof Ft=="function"||typeof se.getSnapshotBeforeUpdate=="function";jt||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Fe!==E||Ue!==lt)&&Db(h,se,E,lt),Zi=!1;var Rt=h.memoizedState;se.state=Rt,cs(h,E,se,D),Ue=h.memoizedState,Fe!==E||Rt!==Ue||Ys.current||Zi?(typeof Ft=="function"&&(o5(h,x,Ft,E),Ue=h.memoizedState),(Fe=Zi||Lb(h,x,Fe,E,Rt,Ue,lt))?(jt||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(h.flags|=4194308)):(typeof se.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=Ue),se.props=E,se.state=Ue,se.context=lt,E=Fe):(typeof se.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{se=h.stateNode,Js(u,h),Fe=h.memoizedProps,lt=h.type===h.elementType?Fe:hc(h.type,Fe),se.props=lt,jt=h.pendingProps,Rt=se.context,Ue=x.contextType,typeof Ue=="object"&&Ue!==null?Ue=Fi(Ue):(Ue=Qs(x)?Fu:Ka.current,Ue=Fd(h,Ue));var Jt=x.getDerivedStateFromProps;(Ft=typeof Jt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(Fe!==jt||Rt!==Ue)&&Db(h,se,E,Ue),Zi=!1,Rt=h.memoizedState,se.state=Rt,cs(h,E,se,D);var lr=h.memoizedState;Fe!==jt||Rt!==lr||Ys.current||Zi?(typeof Jt=="function"&&(o5(h,x,Jt,E),lr=h.memoizedState),(lt=Zi||Lb(h,x,lt,E,Rt,lr,Ue)||!1)?(Ft||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(E,lr,Ue),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(E,lr,Ue)),typeof se.componentDidUpdate=="function"&&(h.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof se.componentDidUpdate!="function"||Fe===u.memoizedProps&&Rt===u.memoizedState||(h.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Fe===u.memoizedProps&&Rt===u.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=lr),se.props=E,se.state=lr,se.context=Ue,E=lt):(typeof se.componentDidUpdate!="function"||Fe===u.memoizedProps&&Rt===u.memoizedState||(h.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||Fe===u.memoizedProps&&Rt===u.memoizedState||(h.flags|=1024),E=!1)}return f5(u,h,x,E,H,D)}function f5(u,h,x,E,D,H){Wb(u,h);var se=(h.flags&128)!==0;if(!E&&!se)return D&&m2(h,x,!1),Du(u,h,H);E=h.stateNode,uD.current=h;var Fe=se&&typeof x.getDerivedStateFromError!="function"?null:E.render();return h.flags|=1,u!==null&&se?(h.child=Ji(h,u.child,null,H),h.child=Ji(h,null,Fe,H)):bo(u,h,Fe,H),h.memoizedState=E.state,D&&m2(h,x,!0),h.child}function Kb(u){var h=u.stateNode;h.pendingContext?p2(u,h.pendingContext,h.pendingContext!==h.context):h.context&&p2(u,h.context,!1),Ld(u,h.containerInfo)}function Xb(u,h,x,E,D){return nr(),$t(D),h.flags|=256,bo(u,h,x,E),h.child}var h5={dehydrated:null,treeContext:null,retryLane:0};function p5(u){return{baseLanes:u,cachePool:null,transitions:null}}function Yb(u,h,x){var E=h.pendingProps,D=li.current,H=!1,se=(h.flags&128)!==0,Fe;if((Fe=se)||(Fe=u!==null&&u.memoizedState===null?!1:(D&2)!==0),Fe?(H=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(D|=1),Bn(li,D&1),u===null)return sr(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(se=E.children,u=E.fallback,H?(E=h.mode,H=h.child,se={mode:"hidden",children:se},(E&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=se):H=D2(se,E,0,null),u=uh(u,E,x,null),H.return=h,u.return=h,H.sibling=u,h.child=H,h.child.memoizedState=p5(x),h.memoizedState=h5,u):m5(h,se));if(D=u.memoizedState,D!==null&&(Fe=D.dehydrated,Fe!==null))return dD(u,h,se,E,Fe,D,x);if(H){H=E.fallback,se=h.mode,D=u.child,Fe=D.sibling;var Ue={mode:"hidden",children:E.children};return(se&1)===0&&h.child!==D?(E=h.child,E.childLanes=0,E.pendingProps=Ue,h.deletions=null):(E=$d(D,Ue),E.subtreeFlags=D.subtreeFlags&14680064),Fe!==null?H=$d(Fe,H):(H=uh(H,se,x,null),H.flags|=2),H.return=h,E.return=h,E.sibling=H,h.child=E,E=H,H=h.child,se=u.child.memoizedState,se=se===null?p5(x):{baseLanes:se.baseLanes|x,cachePool:null,transitions:se.transitions},H.memoizedState=se,H.childLanes=u.childLanes&~x,h.memoizedState=h5,E}return H=u.child,u=H.sibling,E=$d(H,{mode:"visible",children:E.children}),(h.mode&1)===0&&(E.lanes=x),E.return=h,E.sibling=null,u!==null&&(x=h.deletions,x===null?(h.deletions=[u],h.flags|=16):x.push(u)),h.child=E,h.memoizedState=null,E}function m5(u,h){return h=D2({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function k2(u,h,x,E){return E!==null&&$t(E),Ji(h,u.child,null,x),u=m5(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function dD(u,h,x,E,D,H,se){if(x)return h.flags&256?(h.flags&=-257,E=c5(Error(r(422))),k2(u,h,se,E)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(H=E.fallback,D=h.mode,E=D2({mode:"visible",children:E.children},D,0,null),H=uh(H,D,se,null),H.flags|=2,E.return=h,H.return=h,E.sibling=H,h.child=E,(h.mode&1)!==0&&Ji(h,u.child,null,se),h.child.memoizedState=p5(se),h.memoizedState=h5,H);if((h.mode&1)===0)return k2(u,h,se,null);if(D.data==="$!"){if(E=D.nextSibling&&D.nextSibling.dataset,E)var Fe=E.dgst;return E=Fe,H=Error(r(419)),E=c5(H,E,void 0),k2(u,h,se,E)}if(Fe=(se&u.childLanes)!==0,Oo||Fe){if(E=us,E!==null){switch(se&-se){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}D=(D&(E.suspendedLanes|se))!==0?0:D,D!==0&&D!==H.retryLane&&(H.retryLane=D,qn(u,D),gc(E,u,D,-1))}return P5(),E=c5(Error(r(421))),k2(u,h,se,E)}return D.data==="$?"?(h.flags|=128,h.child=u.child,h=ED.bind(null,u),D._reactRetry=h,null):(u=H.treeContext,ht=Ns(D.nextSibling),ft=h,_t=!0,bt=null,u!==null&&(ye[Se++]=Ze,ye[Se++]=Ne,ye[Se++]=Ve,Ze=u.id,Ne=u.overflow,Ve=h),h=m5(h,E.children),h.flags|=4096,h)}function Qb(u,h,x){u.lanes|=h;var E=u.alternate;E!==null&&(E.lanes|=h),bn(u.return,h,x)}function g5(u,h,x,E,D){var H=u.memoizedState;H===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:D}:(H.isBackwards=h,H.rendering=null,H.renderingStartTime=0,H.last=E,H.tail=x,H.tailMode=D)}function Jb(u,h,x){var E=h.pendingProps,D=E.revealOrder,H=E.tail;if(bo(u,h,E.children,x),E=li.current,(E&2)!==0)E=E&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Qb(u,x,h);else if(u.tag===19)Qb(u,x,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}if(Bn(li,E),(h.mode&1)===0)h.memoizedState=null;else switch(D){case"forwards":for(x=h.child,D=null;x!==null;)u=x.alternate,u!==null&&sl(u)===null&&(D=x),x=x.sibling;x=D,x===null?(D=h.child,h.child=null):(D=x.sibling,x.sibling=null),g5(h,!1,D,x,H);break;case"backwards":for(x=null,D=h.child,h.child=null;D!==null;){if(u=D.alternate,u!==null&&sl(u)===null){h.child=D;break}u=D.sibling,D.sibling=x,x=D,D=u}g5(h,!0,x,null,H);break;case"together":g5(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function E2(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Du(u,h,x){if(u!==null&&(h.dependencies=u.dependencies),sh|=h.lanes,(x&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,x=$d(u,u.pendingProps),h.child=x,x.return=h;u.sibling!==null;)u=u.sibling,x=x.sibling=$d(u,u.pendingProps),x.return=h;x.sibling=null}return h.child}function fD(u,h,x){switch(h.tag){case 3:Kb(h),nr();break;case 5:g2(h);break;case 1:Qs(h.type)&&Lu(h);break;case 4:Ld(h,h.stateNode.containerInfo);break;case 10:var E=h.type._context,D=h.memoizedProps.value;Bn(ma,E._currentValue),E._currentValue=D;break;case 13:if(E=h.memoizedState,E!==null)return E.dehydrated!==null?(Bn(li,li.current&1),h.flags|=128,null):(x&h.child.childLanes)!==0?Yb(u,h,x):(Bn(li,li.current&1),u=Du(u,h,x),u!==null?u.sibling:null);Bn(li,li.current&1);break;case 19:if(E=(x&h.childLanes)!==0,(u.flags&128)!==0){if(E)return Jb(u,h,x);h.flags|=128}if(D=h.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),Bn(li,li.current),E)break;return null;case 22:case 23:return h.lanes=0,Hb(u,h,x)}return Du(u,h,x)}var Zb,x5,e8,t8;Zb=function(u,h){for(var x=h.child;x!==null;){if(x.tag===5||x.tag===6)u.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},x5=function(){},e8=function(u,h,x,E){var D=u.memoizedProps;if(D!==E){u=h.stateNode,uc(Fa.current);var H=null;switch(x){case"input":D=Pe(u,D),E=Pe(u,E),H=[];break;case"select":D=fe({},D,{value:void 0}),E=fe({},E,{value:void 0}),H=[];break;case"textarea":D=mt(u,D),E=mt(u,E),H=[];break;default:typeof D.onClick!="function"&&typeof E.onClick=="function"&&(u.onclick=Id)}qr(x,E);var se;x=null;for(lt in D)if(!E.hasOwnProperty(lt)&&D.hasOwnProperty(lt)&&D[lt]!=null)if(lt==="style"){var Fe=D[lt];for(se in Fe)Fe.hasOwnProperty(se)&&(x||(x={}),x[se]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(i.hasOwnProperty(lt)?H||(H=[]):(H=H||[]).push(lt,null));for(lt in E){var Ue=E[lt];if(Fe=D?.[lt],E.hasOwnProperty(lt)&&Ue!==Fe&&(Ue!=null||Fe!=null))if(lt==="style")if(Fe){for(se in Fe)!Fe.hasOwnProperty(se)||Ue&&Ue.hasOwnProperty(se)||(x||(x={}),x[se]="");for(se in Ue)Ue.hasOwnProperty(se)&&Fe[se]!==Ue[se]&&(x||(x={}),x[se]=Ue[se])}else x||(H||(H=[]),H.push(lt,x)),x=Ue;else lt==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Fe=Fe?Fe.__html:void 0,Ue!=null&&Fe!==Ue&&(H=H||[]).push(lt,Ue)):lt==="children"?typeof Ue!="string"&&typeof Ue!="number"||(H=H||[]).push(lt,""+Ue):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(i.hasOwnProperty(lt)?(Ue!=null&&lt==="onScroll"&&zn("scroll",u),H||Fe===Ue||(H=[])):(H=H||[]).push(lt,Ue))}x&&(H=H||[]).push("style",x);var lt=H;(h.updateQueue=lt)&&(h.flags|=4)}},t8=function(u,h,x,E){x!==E&&(h.flags|=4)};function Wp(u,h){if(!_t)switch(u.tailMode){case"hidden":h=u.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Zs(u){var h=u.alternate!==null&&u.alternate.child===u.child,x=0,E=0;if(h)for(var D=u.child;D!==null;)x|=D.lanes|D.childLanes,E|=D.subtreeFlags&14680064,E|=D.flags&14680064,D.return=u,D=D.sibling;else for(D=u.child;D!==null;)x|=D.lanes|D.childLanes,E|=D.subtreeFlags,E|=D.flags,D.return=u,D=D.sibling;return u.subtreeFlags|=E,u.childLanes=x,h}function hD(u,h,x){var E=h.pendingProps;switch(it(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(h),null;case 1:return Qs(h.type)&&I0(),Zs(h),null;case 3:return E=h.stateNode,Pl(),Ln(Ys),Ln(Ka),$p(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(u===null||u.child===null)&&(Pi(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,bt!==null&&(A5(bt),bt=null))),x5(u,h),Zs(h),null;case 5:Up(h);var D=uc(qc.current);if(x=h.type,u!==null&&h.stateNode!=null)e8(u,h,x,E,D),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!E){if(h.stateNode===null)throw Error(r(166));return Zs(h),null}if(u=uc(Fa.current),Pi(h)){E=h.stateNode,x=h.type;var H=h.memoizedProps;switch(E[Il]=h,E[Pd]=H,u=(h.mode&1)!==0,x){case"dialog":zn("cancel",E),zn("close",E);break;case"iframe":case"object":case"embed":zn("load",E);break;case"video":case"audio":for(D=0;D<Uc.length;D++)zn(Uc[D],E);break;case"source":zn("error",E);break;case"img":case"image":case"link":zn("error",E),zn("load",E);break;case"details":zn("toggle",E);break;case"input":de(E,H),zn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!H.multiple},zn("invalid",E);break;case"textarea":Et(E,H),zn("invalid",E)}qr(x,H),D=null;for(var se in H)if(H.hasOwnProperty(se)){var Fe=H[se];se==="children"?typeof Fe=="string"?E.textContent!==Fe&&(H.suppressHydrationWarning!==!0&&T0(E.textContent,Fe,u),D=["children",Fe]):typeof Fe=="number"&&E.textContent!==""+Fe&&(H.suppressHydrationWarning!==!0&&T0(E.textContent,Fe,u),D=["children",""+Fe]):i.hasOwnProperty(se)&&Fe!=null&&se==="onScroll"&&zn("scroll",E)}switch(x){case"input":Le(E),et(E,H,!0);break;case"textarea":Le(E),qe(E);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(E.onclick=Id)}E=D,h.updateQueue=E,E!==null&&(h.flags|=4)}else{se=D.nodeType===9?D:D.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Ge(x)),u==="http://www.w3.org/1999/xhtml"?x==="script"?(u=se.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof E.is=="string"?u=se.createElement(x,{is:E.is}):(u=se.createElement(x),x==="select"&&(se=u,E.multiple?se.multiple=!0:E.size&&(se.size=E.size))):u=se.createElementNS(u,x),u[Il]=h,u[Pd]=E,Zb(u,h,!1,!1),h.stateNode=u;e:{switch(se=fr(x,E),x){case"dialog":zn("cancel",u),zn("close",u),D=E;break;case"iframe":case"object":case"embed":zn("load",u),D=E;break;case"video":case"audio":for(D=0;D<Uc.length;D++)zn(Uc[D],u);D=E;break;case"source":zn("error",u),D=E;break;case"img":case"image":case"link":zn("error",u),zn("load",u),D=E;break;case"details":zn("toggle",u),D=E;break;case"input":de(u,E),D=Pe(u,E),zn("invalid",u);break;case"option":D=E;break;case"select":u._wrapperState={wasMultiple:!!E.multiple},D=fe({},E,{value:void 0}),zn("invalid",u);break;case"textarea":Et(u,E),D=mt(u,E),zn("invalid",u);break;default:D=E}qr(x,D),Fe=D;for(H in Fe)if(Fe.hasOwnProperty(H)){var Ue=Fe[H];H==="style"?Bt(u,Ue):H==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Ue!=null&&It(u,Ue)):H==="children"?typeof Ue=="string"?(x!=="textarea"||Ue!=="")&&yt(u,Ue):typeof Ue=="number"&&yt(u,""+Ue):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Ue!=null&&H==="onScroll"&&zn("scroll",u):Ue!=null&&P(u,H,Ue,se))}switch(x){case"input":Le(u),et(u,E,!1);break;case"textarea":Le(u),qe(u);break;case"option":E.value!=null&&u.setAttribute("value",""+Ee(E.value));break;case"select":u.multiple=!!E.multiple,H=E.value,H!=null?Ke(u,!!E.multiple,H,!1):E.defaultValue!=null&&Ke(u,!!E.multiple,E.defaultValue,!0);break;default:typeof D.onClick=="function"&&(u.onclick=Id)}switch(x){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Zs(h),null;case 6:if(u&&h.stateNode!=null)t8(u,h,u.memoizedProps,E);else{if(typeof E!="string"&&h.stateNode===null)throw Error(r(166));if(x=uc(qc.current),uc(Fa.current),Pi(h)){if(E=h.stateNode,x=h.memoizedProps,E[Il]=h,(H=E.nodeValue!==x)&&(u=ft,u!==null))switch(u.tag){case 3:T0(E.nodeValue,x,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&T0(E.nodeValue,x,(u.mode&1)!==0)}H&&(h.flags|=4)}else E=(x.nodeType===9?x:x.ownerDocument).createTextNode(E),E[Il]=h,h.stateNode=E}return Zs(h),null;case 13:if(Ln(li),E=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(_t&&ht!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Ur(),nr(),h.flags|=98560,H=!1;else if(H=Pi(h),E!==null&&E.dehydrated!==null){if(u===null){if(!H)throw Error(r(318));if(H=h.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(r(317));H[Il]=h}else nr(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Zs(h),H=!1}else bt!==null&&(A5(bt),bt=null),H=!0;if(!H)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=x,h):(E=E!==null,E!==(u!==null&&u.memoizedState!==null)&&E&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(li.current&1)!==0?Ya===0&&(Ya=3):P5())),h.updateQueue!==null&&(h.flags|=4),Zs(h),null);case 4:return Pl(),x5(u,h),u===null&&Tu(h.stateNode.containerInfo),Zs(h),null;case 10:return mi(h.type._context),Zs(h),null;case 17:return Qs(h.type)&&I0(),Zs(h),null;case 19:if(Ln(li),H=h.memoizedState,H===null)return Zs(h),null;if(E=(h.flags&128)!==0,se=H.rendering,se===null)if(E)Wp(H,!1);else{if(Ya!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(se=sl(u),se!==null){for(h.flags|=128,Wp(H,!1),E=se.updateQueue,E!==null&&(h.updateQueue=E,h.flags|=4),h.subtreeFlags=0,E=x,x=h.child;x!==null;)H=x,u=E,H.flags&=14680066,se=H.alternate,se===null?(H.childLanes=0,H.lanes=u,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=se.childLanes,H.lanes=se.lanes,H.child=se.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=se.memoizedProps,H.memoizedState=se.memoizedState,H.updateQueue=se.updateQueue,H.type=se.type,u=se.dependencies,H.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),x=x.sibling;return Bn(li,li.current&1|2),h.child}u=u.sibling}H.tail!==null&&Pt()>$0&&(h.flags|=128,E=!0,Wp(H,!1),h.lanes=4194304)}else{if(!E)if(u=sl(se),u!==null){if(h.flags|=128,E=!0,x=u.updateQueue,x!==null&&(h.updateQueue=x,h.flags|=4),Wp(H,!0),H.tail===null&&H.tailMode==="hidden"&&!se.alternate&&!_t)return Zs(h),null}else 2*Pt()-H.renderingStartTime>$0&&x!==1073741824&&(h.flags|=128,E=!0,Wp(H,!1),h.lanes=4194304);H.isBackwards?(se.sibling=h.child,h.child=se):(x=H.last,x!==null?x.sibling=se:h.child=se,H.last=se)}return H.tail!==null?(h=H.tail,H.rendering=h,H.tail=h.sibling,H.renderingStartTime=Pt(),h.sibling=null,x=li.current,Bn(li,E?x&1|2:x&1),h):(Zs(h),null);case 22:case 23:return I5(),E=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==E&&(h.flags|=8192),E&&(h.mode&1)!==0?(cl&1073741824)!==0&&(Zs(h),h.subtreeFlags&6&&(h.flags|=8192)):Zs(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function pD(u,h){switch(it(h),h.tag){case 1:return Qs(h.type)&&I0(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Pl(),Ln(Ys),Ln(Ka),$p(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Up(h),null;case 13:if(Ln(li),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));nr()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return Ln(li),null;case 4:return Pl(),null;case 10:return mi(h.type._context),null;case 22:case 23:return I5(),null;case 24:return null;default:return null}}var S2=!1,eo=!1,mD=typeof WeakSet=="function"?WeakSet:Set,ar=null;function U0(u,h){var x=u.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(E){ta(u,h,E)}else x.current=null}function v5(u,h,x){try{x()}catch(E){ta(u,h,E)}}var r8=!1;function gD(u,h){if(eh=kl,u=Np(),k0(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var D=E.anchorOffset,H=E.focusNode;E=E.focusOffset;try{x.nodeType,H.nodeType}catch{x=null;break e}var se=0,Fe=-1,Ue=-1,lt=0,Ft=0,jt=u,Rt=null;t:for(;;){for(var Jt;jt!==x||D!==0&&jt.nodeType!==3||(Fe=se+D),jt!==H||E!==0&&jt.nodeType!==3||(Ue=se+E),jt.nodeType===3&&(se+=jt.nodeValue.length),(Jt=jt.firstChild)!==null;)Rt=jt,jt=Jt;for(;;){if(jt===u)break t;if(Rt===x&&++lt===D&&(Fe=se),Rt===H&&++Ft===E&&(Ue=se),(Jt=jt.nextSibling)!==null)break;jt=Rt,Rt=jt.parentNode}jt=Jt}x=Fe===-1||Ue===-1?null:{start:Fe,end:Ue}}else x=null}x=x||{start:0,end:0}}else x=null;for(Pu={focusedElem:u,selectionRange:x},kl=!1,ar=h;ar!==null;)if(h=ar,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,ar=u;else for(;ar!==null;){h=ar;try{var lr=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(lr!==null){var pr=lr.memoizedProps,xa=lr.memoizedState,nt=h.stateNode,$e=nt.getSnapshotBeforeUpdate(h.elementType===h.type?pr:hc(h.type,pr),xa);nt.__reactInternalSnapshotBeforeUpdate=$e}break;case 3:var st=h.stateNode.containerInfo;st.nodeType===1?st.textContent="":st.nodeType===9&&st.documentElement&&st.removeChild(st.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Vt){ta(h,h.return,Vt)}if(u=h.sibling,u!==null){u.return=h.return,ar=u;break}ar=h.return}return lr=r8,r8=!1,lr}function Gp(u,h,x){var E=h.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var D=E=E.next;do{if((D.tag&u)===u){var H=D.destroy;D.destroy=void 0,H!==void 0&&v5(h,x,H)}D=D.next}while(D!==E)}}function C2(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&u)===u){var E=x.create;x.destroy=E()}x=x.next}while(x!==h)}}function y5(u){var h=u.ref;if(h!==null){var x=u.stateNode;switch(u.tag){case 5:u=x;break;default:u=x}typeof h=="function"?h(u):h.current=u}}function n8(u){var h=u.alternate;h!==null&&(u.alternate=null,n8(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[Il],delete h[Pd],delete h[Xs],delete h[n5],delete h[i5])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function i8(u){return u.tag===5||u.tag===3||u.tag===4}function a8(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||i8(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function w5(u,h,x){var E=u.tag;if(E===5||E===6)u=u.stateNode,h?x.nodeType===8?x.parentNode.insertBefore(u,h):x.insertBefore(u,h):(x.nodeType===8?(h=x.parentNode,h.insertBefore(u,x)):(h=x,h.appendChild(u)),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Id));else if(E!==4&&(u=u.child,u!==null))for(w5(u,h,x),u=u.sibling;u!==null;)w5(u,h,x),u=u.sibling}function _5(u,h,x){var E=u.tag;if(E===5||E===6)u=u.stateNode,h?x.insertBefore(u,h):x.appendChild(u);else if(E!==4&&(u=u.child,u!==null))for(_5(u,h,x),u=u.sibling;u!==null;)_5(u,h,x),u=u.sibling}var As=null,pc=!1;function Md(u,h,x){for(x=x.child;x!==null;)s8(u,h,x),x=x.sibling}function s8(u,h,x){if(fi&&typeof fi.onCommitFiberUnmount=="function")try{fi.onCommitFiberUnmount(ns,x)}catch{}switch(x.tag){case 5:eo||U0(x,h);case 6:var E=As,D=pc;As=null,Md(u,h,x),As=E,pc=D,As!==null&&(pc?(u=As,x=x.stateNode,u.nodeType===8?u.parentNode.removeChild(x):u.removeChild(x)):As.removeChild(x.stateNode));break;case 18:As!==null&&(pc?(u=As,x=x.stateNode,u.nodeType===8?Mp(u.parentNode,x):u.nodeType===1&&Mp(u,x),is(u)):Mp(As,x.stateNode));break;case 4:E=As,D=pc,As=x.stateNode.containerInfo,pc=!0,Md(u,h,x),As=E,pc=D;break;case 0:case 11:case 14:case 15:if(!eo&&(E=x.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){D=E=E.next;do{var H=D,se=H.destroy;H=H.tag,se!==void 0&&((H&2)!==0||(H&4)!==0)&&v5(x,h,se),D=D.next}while(D!==E)}Md(u,h,x);break;case 1:if(!eo&&(U0(x,h),E=x.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=x.memoizedProps,E.state=x.memoizedState,E.componentWillUnmount()}catch(Fe){ta(x,h,Fe)}Md(u,h,x);break;case 21:Md(u,h,x);break;case 22:x.mode&1?(eo=(E=eo)||x.memoizedState!==null,Md(u,h,x),eo=E):Md(u,h,x);break;default:Md(u,h,x)}}function o8(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var x=u.stateNode;x===null&&(x=u.stateNode=new mD),h.forEach(function(E){var D=SD.bind(null,u,E);x.has(E)||(x.add(E),E.then(D,D))})}}function mc(u,h){var x=h.deletions;if(x!==null)for(var E=0;E<x.length;E++){var D=x[E];try{var H=u,se=h,Fe=se;e:for(;Fe!==null;){switch(Fe.tag){case 5:As=Fe.stateNode,pc=!1;break e;case 3:As=Fe.stateNode.containerInfo,pc=!0;break e;case 4:As=Fe.stateNode.containerInfo,pc=!0;break e}Fe=Fe.return}if(As===null)throw Error(r(160));s8(H,se,D),As=null,pc=!1;var Ue=D.alternate;Ue!==null&&(Ue.return=null),D.return=null}catch(lt){ta(D,h,lt)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)l8(h,u),h=h.sibling}function l8(u,h){var x=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(mc(h,u),Wc(u),E&4){try{Gp(3,u,u.return),C2(3,u)}catch(pr){ta(u,u.return,pr)}try{Gp(5,u,u.return)}catch(pr){ta(u,u.return,pr)}}break;case 1:mc(h,u),Wc(u),E&512&&x!==null&&U0(x,x.return);break;case 5:if(mc(h,u),Wc(u),E&512&&x!==null&&U0(x,x.return),u.flags&32){var D=u.stateNode;try{yt(D,"")}catch(pr){ta(u,u.return,pr)}}if(E&4&&(D=u.stateNode,D!=null)){var H=u.memoizedProps,se=x!==null?x.memoizedProps:H,Fe=u.type,Ue=u.updateQueue;if(u.updateQueue=null,Ue!==null)try{Fe==="input"&&H.type==="radio"&&H.name!=null&&Me(D,H),fr(Fe,se);var lt=fr(Fe,H);for(se=0;se<Ue.length;se+=2){var Ft=Ue[se],jt=Ue[se+1];Ft==="style"?Bt(D,jt):Ft==="dangerouslySetInnerHTML"?It(D,jt):Ft==="children"?yt(D,jt):P(D,Ft,jt,lt)}switch(Fe){case"input":Be(D,H);break;case"textarea":Re(D,H);break;case"select":var Rt=D._wrapperState.wasMultiple;D._wrapperState.wasMultiple=!!H.multiple;var Jt=H.value;Jt!=null?Ke(D,!!H.multiple,Jt,!1):Rt!==!!H.multiple&&(H.defaultValue!=null?Ke(D,!!H.multiple,H.defaultValue,!0):Ke(D,!!H.multiple,H.multiple?[]:"",!1))}D[Pd]=H}catch(pr){ta(u,u.return,pr)}}break;case 6:if(mc(h,u),Wc(u),E&4){if(u.stateNode===null)throw Error(r(162));D=u.stateNode,H=u.memoizedProps;try{D.nodeValue=H}catch(pr){ta(u,u.return,pr)}}break;case 3:if(mc(h,u),Wc(u),E&4&&x!==null&&x.memoizedState.isDehydrated)try{is(h.containerInfo)}catch(pr){ta(u,u.return,pr)}break;case 4:mc(h,u),Wc(u);break;case 13:mc(h,u),Wc(u),D=u.child,D.flags&8192&&(H=D.memoizedState!==null,D.stateNode.isHidden=H,!H||D.alternate!==null&&D.alternate.memoizedState!==null||(E5=Pt())),E&4&&o8(u);break;case 22:if(Ft=x!==null&&x.memoizedState!==null,u.mode&1?(eo=(lt=eo)||Ft,mc(h,u),eo=lt):mc(h,u),Wc(u),E&8192){if(lt=u.memoizedState!==null,(u.stateNode.isHidden=lt)&&!Ft&&(u.mode&1)!==0)for(ar=u,Ft=u.child;Ft!==null;){for(jt=ar=Ft;ar!==null;){switch(Rt=ar,Jt=Rt.child,Rt.tag){case 0:case 11:case 14:case 15:Gp(4,Rt,Rt.return);break;case 1:U0(Rt,Rt.return);var lr=Rt.stateNode;if(typeof lr.componentWillUnmount=="function"){E=Rt,x=Rt.return;try{h=E,lr.props=h.memoizedProps,lr.state=h.memoizedState,lr.componentWillUnmount()}catch(pr){ta(E,x,pr)}}break;case 5:U0(Rt,Rt.return);break;case 22:if(Rt.memoizedState!==null){d8(jt);continue}}Jt!==null?(Jt.return=Rt,ar=Jt):d8(jt)}Ft=Ft.sibling}e:for(Ft=null,jt=u;;){if(jt.tag===5){if(Ft===null){Ft=jt;try{D=jt.stateNode,lt?(H=D.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(Fe=jt.stateNode,Ue=jt.memoizedProps.style,se=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null,Fe.style.display=qt("display",se))}catch(pr){ta(u,u.return,pr)}}}else if(jt.tag===6){if(Ft===null)try{jt.stateNode.nodeValue=lt?"":jt.memoizedProps}catch(pr){ta(u,u.return,pr)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===u)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===u)break e;for(;jt.sibling===null;){if(jt.return===null||jt.return===u)break e;Ft===jt&&(Ft=null),jt=jt.return}Ft===jt&&(Ft=null),jt.sibling.return=jt.return,jt=jt.sibling}}break;case 19:mc(h,u),Wc(u),E&4&&o8(u);break;case 21:break;default:mc(h,u),Wc(u)}}function Wc(u){var h=u.flags;if(h&2){try{e:{for(var x=u.return;x!==null;){if(i8(x)){var E=x;break e}x=x.return}throw Error(r(160))}switch(E.tag){case 5:var D=E.stateNode;E.flags&32&&(yt(D,""),E.flags&=-33);var H=a8(u);_5(u,H,D);break;case 3:case 4:var se=E.stateNode.containerInfo,Fe=a8(u);w5(u,Fe,se);break;default:throw Error(r(161))}}catch(Ue){ta(u,u.return,Ue)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function xD(u,h,x){ar=u,c8(u)}function c8(u,h,x){for(var E=(u.mode&1)!==0;ar!==null;){var D=ar,H=D.child;if(D.tag===22&&E){var se=D.memoizedState!==null||S2;if(!se){var Fe=D.alternate,Ue=Fe!==null&&Fe.memoizedState!==null||eo;Fe=S2;var lt=eo;if(S2=se,(eo=Ue)&&!lt)for(ar=D;ar!==null;)se=ar,Ue=se.child,se.tag===22&&se.memoizedState!==null?f8(D):Ue!==null?(Ue.return=se,ar=Ue):f8(D);for(;H!==null;)ar=H,c8(H),H=H.sibling;ar=D,S2=Fe,eo=lt}u8(u)}else(D.subtreeFlags&8772)!==0&&H!==null?(H.return=D,ar=H):u8(u)}}function u8(u){for(;ar!==null;){var h=ar;if((h.flags&8772)!==0){var x=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:eo||C2(5,h);break;case 1:var E=h.stateNode;if(h.flags&4&&!eo)if(x===null)E.componentDidMount();else{var D=h.elementType===h.type?x.memoizedProps:hc(h.type,x.memoizedProps);E.componentDidUpdate(D,x.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var H=h.updateQueue;H!==null&&Do(h,H,E);break;case 3:var se=h.updateQueue;if(se!==null){if(x=null,h.child!==null)switch(h.child.tag){case 5:x=h.child.stateNode;break;case 1:x=h.child.stateNode}Do(h,se,x)}break;case 5:var Fe=h.stateNode;if(x===null&&h.flags&4){x=Fe;var Ue=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Ue.autoFocus&&x.focus();break;case"img":Ue.src&&(x.src=Ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var lt=h.alternate;if(lt!==null){var Ft=lt.memoizedState;if(Ft!==null){var jt=Ft.dehydrated;jt!==null&&is(jt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}eo||h.flags&512&&y5(h)}catch(Rt){ta(h,h.return,Rt)}}if(h===u){ar=null;break}if(x=h.sibling,x!==null){x.return=h.return,ar=x;break}ar=h.return}}function d8(u){for(;ar!==null;){var h=ar;if(h===u){ar=null;break}var x=h.sibling;if(x!==null){x.return=h.return,ar=x;break}ar=h.return}}function f8(u){for(;ar!==null;){var h=ar;try{switch(h.tag){case 0:case 11:case 15:var x=h.return;try{C2(4,h)}catch(Ue){ta(h,x,Ue)}break;case 1:var E=h.stateNode;if(typeof E.componentDidMount=="function"){var D=h.return;try{E.componentDidMount()}catch(Ue){ta(h,D,Ue)}}var H=h.return;try{y5(h)}catch(Ue){ta(h,H,Ue)}break;case 5:var se=h.return;try{y5(h)}catch(Ue){ta(h,se,Ue)}}}catch(Ue){ta(h,h.return,Ue)}if(h===u){ar=null;break}var Fe=h.sibling;if(Fe!==null){Fe.return=h.return,ar=Fe;break}ar=h.return}}var vD=Math.ceil,N2=V.ReactCurrentDispatcher,b5=V.ReactCurrentOwner,Ll=V.ReactCurrentBatchConfig,kn=0,us=null,La=null,Ts=0,cl=0,z0=il(0),Ya=0,Kp=null,sh=0,A2=0,k5=0,Xp=null,Mo=null,E5=0,$0=1/0,Ou=null,T2=!1,S5=null,Bd=null,I2=!1,Vd=null,P2=0,Yp=0,C5=null,R2=-1,F2=0;function ko(){return(kn&6)!==0?Pt():R2!==-1?R2:R2=Pt()}function Ud(u){return(u.mode&1)===0?1:(kn&2)!==0&&Ts!==0?Ts&-Ts:$i.transition!==null?(F2===0&&(F2=nc()),F2):(u=Xr,u!==0||(u=window.event,u=u===void 0?16:Sl(u.type)),u)}function gc(u,h,x,E){if(50<Yp)throw Yp=0,C5=null,Error(r(185));bl(u,x,E),((kn&2)===0||u!==us)&&(u===us&&((kn&2)===0&&(A2|=x),Ya===4&&zd(u,Ts)),Bo(u,E),x===1&&kn===0&&(h.mode&1)===0&&($0=Pt()+500,rh&&K()))}function Bo(u,h){var x=u.callbackNode;Fn(u,h);var E=Ua(u,u===us?Ts:0);if(E===0)x!==null&&Mt(x),u.callbackNode=null,u.callbackPriority=0;else if(h=E&-E,u.callbackPriority!==h){if(x!=null&&Mt(x),h===1)u.tag===0?U(p8.bind(null,u)):C(p8.bind(null,u)),t5(function(){(kn&6)===0&&K()}),x=null;else{switch(ws(E)){case 1:x=dn;break;case 4:x=Br;break;case 16:x=gn;break;case 536870912:x=Ms;break;default:x=gn}x=b8(x,h8.bind(null,u))}u.callbackPriority=h,u.callbackNode=x}}function h8(u,h){if(R2=-1,F2=0,(kn&6)!==0)throw Error(r(327));var x=u.callbackNode;if(q0()&&u.callbackNode!==x)return null;var E=Ua(u,u===us?Ts:0);if(E===0)return null;if((E&30)!==0||(E&u.expiredLanes)!==0||h)h=L2(u,E);else{h=E;var D=kn;kn|=2;var H=g8();(us!==u||Ts!==h)&&(Ou=null,$0=Pt()+500,lh(u,h));do try{_D();break}catch(Fe){m8(u,Fe)}while(!0);_n(),N2.current=H,kn=D,La!==null?h=0:(us=null,Ts=0,h=Ya)}if(h!==0){if(h===2&&(D=za(u),D!==0&&(E=D,h=N5(u,D))),h===1)throw x=Kp,lh(u,0),zd(u,E),Bo(u,Pt()),x;if(h===6)zd(u,E);else{if(D=u.current.alternate,(E&30)===0&&!yD(D)&&(h=L2(u,E),h===2&&(H=za(u),H!==0&&(E=H,h=N5(u,H))),h===1))throw x=Kp,lh(u,0),zd(u,E),Bo(u,Pt()),x;switch(u.finishedWork=D,u.finishedLanes=E,h){case 0:case 1:throw Error(r(345));case 2:ch(u,Mo,Ou);break;case 3:if(zd(u,E),(E&130023424)===E&&(h=E5+500-Pt(),10<h)){if(Ua(u,0)!==0)break;if(D=u.suspendedLanes,(D&E)!==E){ko(),u.pingedLanes|=u.suspendedLanes&D;break}u.timeoutHandle=Op(ch.bind(null,u,Mo,Ou),h);break}ch(u,Mo,Ou);break;case 4:if(zd(u,E),(E&4194240)===E)break;for(h=u.eventTimes,D=-1;0<E;){var se=31-An(E);H=1<<se,se=h[se],se>D&&(D=se),E&=~H}if(E=D,E=Pt()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*vD(E/1960))-E,10<E){u.timeoutHandle=Op(ch.bind(null,u,Mo,Ou),E);break}ch(u,Mo,Ou);break;case 5:ch(u,Mo,Ou);break;default:throw Error(r(329))}}}return Bo(u,Pt()),u.callbackNode===x?h8.bind(null,u):null}function N5(u,h){var x=Xp;return u.current.memoizedState.isDehydrated&&(lh(u,h).flags|=256),u=L2(u,h),u!==2&&(h=Mo,Mo=x,h!==null&&A5(h)),u}function A5(u){Mo===null?Mo=u:Mo.push.apply(Mo,u)}function yD(u){for(var h=u;;){if(h.flags&16384){var x=h.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var E=0;E<x.length;E++){var D=x[E],H=D.getSnapshot;D=D.value;try{if(!pa(H(),D))return!1}catch{return!1}}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function zd(u,h){for(h&=~k5,h&=~A2,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var x=31-An(h),E=1<<x;u[x]=-1,h&=~E}}function p8(u){if((kn&6)!==0)throw Error(r(327));q0();var h=Ua(u,0);if((h&1)===0)return Bo(u,Pt()),null;var x=L2(u,h);if(u.tag!==0&&x===2){var E=za(u);E!==0&&(h=E,x=N5(u,E))}if(x===1)throw x=Kp,lh(u,0),zd(u,h),Bo(u,Pt()),x;if(x===6)throw Error(r(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,ch(u,Mo,Ou),Bo(u,Pt()),null}function T5(u,h){var x=kn;kn|=1;try{return u(h)}finally{kn=x,kn===0&&($0=Pt()+500,rh&&K())}}function oh(u){Vd!==null&&Vd.tag===0&&(kn&6)===0&&q0();var h=kn;kn|=1;var x=Ll.transition,E=Xr;try{if(Ll.transition=null,Xr=1,u)return u()}finally{Xr=E,Ll.transition=x,kn=h,(kn&6)===0&&K()}}function I5(){cl=z0.current,Ln(z0)}function lh(u,h){u.finishedWork=null,u.finishedLanes=0;var x=u.timeoutHandle;if(x!==-1&&(u.timeoutHandle=-1,f2(x)),La!==null)for(x=La.return;x!==null;){var E=x;switch(it(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&I0();break;case 3:Pl(),Ln(Ys),Ln(Ka),$p();break;case 5:Up(E);break;case 4:Pl();break;case 13:Ln(li);break;case 19:Ln(li);break;case 10:mi(E.type._context);break;case 22:case 23:I5()}x=x.return}if(us=u,La=u=$d(u.current,null),Ts=cl=h,Ya=0,Kp=null,k5=A2=sh=0,Mo=Xp=null,$n!==null){for(h=0;h<$n.length;h++)if(x=$n[h],E=x.interleaved,E!==null){x.interleaved=null;var D=E.next,H=x.pending;if(H!==null){var se=H.next;H.next=D,E.next=se}x.pending=E}$n=null}return u}function m8(u,h){do{var x=La;try{if(_n(),P0.current=_2,jd){for(var E=gi.memoizedState;E!==null;){var D=E.queue;D!==null&&(D.pending=null),E=E.next}jd=!1}if(Rl=0,Gi=ea=gi=null,dc=!1,Dd=0,b5.current=null,x===null||x.return===null){Ya=1,Kp=h,La=null;break}e:{var H=u,se=x.return,Fe=x,Ue=h;if(h=Ts,Fe.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var lt=Ue,Ft=Fe,jt=Ft.tag;if((Ft.mode&1)===0&&(jt===0||jt===11||jt===15)){var Rt=Ft.alternate;Rt?(Ft.updateQueue=Rt.updateQueue,Ft.memoizedState=Rt.memoizedState,Ft.lanes=Rt.lanes):(Ft.updateQueue=null,Ft.memoizedState=null)}var Jt=Vb(se);if(Jt!==null){Jt.flags&=-257,Ub(Jt,se,Fe,H,h),Jt.mode&1&&Bb(H,lt,h),h=Jt,Ue=lt;var lr=h.updateQueue;if(lr===null){var pr=new Set;pr.add(Ue),h.updateQueue=pr}else lr.add(Ue);break e}else{if((h&1)===0){Bb(H,lt,h),P5();break e}Ue=Error(r(426))}}else if(_t&&Fe.mode&1){var xa=Vb(se);if(xa!==null){(xa.flags&65536)===0&&(xa.flags|=256),Ub(xa,se,Fe,H,h),$t(V0(Ue,Fe));break e}}H=Ue=V0(Ue,Fe),Ya!==4&&(Ya=2),Xp===null?Xp=[H]:Xp.push(H),H=se;do{switch(H.tag){case 3:H.flags|=65536,h&=-h,H.lanes|=h;var nt=Ob(H,Ue,h);Hn(H,nt);break e;case 1:Fe=Ue;var $e=H.type,st=H.stateNode;if((H.flags&128)===0&&(typeof $e.getDerivedStateFromError=="function"||st!==null&&typeof st.componentDidCatch=="function"&&(Bd===null||!Bd.has(st)))){H.flags|=65536,h&=-h,H.lanes|=h;var Vt=Mb(H,Fe,h);Hn(H,Vt);break e}}H=H.return}while(H!==null)}v8(x)}catch(xr){h=xr,La===x&&x!==null&&(La=x=x.return);continue}break}while(!0)}function g8(){var u=N2.current;return N2.current=_2,u===null?_2:u}function P5(){(Ya===0||Ya===3||Ya===2)&&(Ya=4),us===null||(sh&268435455)===0&&(A2&268435455)===0||zd(us,Ts)}function L2(u,h){var x=kn;kn|=2;var E=g8();(us!==u||Ts!==h)&&(Ou=null,lh(u,h));do try{wD();break}catch(D){m8(u,D)}while(!0);if(_n(),kn=x,N2.current=E,La!==null)throw Error(r(261));return us=null,Ts=0,Ya}function wD(){for(;La!==null;)x8(La)}function _D(){for(;La!==null&&!Gt();)x8(La)}function x8(u){var h=_8(u.alternate,u,cl);u.memoizedProps=u.pendingProps,h===null?v8(u):La=h,b5.current=null}function v8(u){var h=u;do{var x=h.alternate;if(u=h.return,(h.flags&32768)===0){if(x=hD(x,h,cl),x!==null){La=x;return}}else{if(x=pD(x,h),x!==null){x.flags&=32767,La=x;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Ya=6,La=null;return}}if(h=h.sibling,h!==null){La=h;return}La=h=u}while(h!==null);Ya===0&&(Ya=5)}function ch(u,h,x){var E=Xr,D=Ll.transition;try{Ll.transition=null,Xr=1,bD(u,h,x,E)}finally{Ll.transition=D,Xr=E}return null}function bD(u,h,x,E){do q0();while(Vd!==null);if((kn&6)!==0)throw Error(r(327));x=u.finishedWork;var D=u.finishedLanes;if(x===null)return null;if(u.finishedWork=null,u.finishedLanes=0,x===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0;var H=x.lanes|x.childLanes;if(tn(u,H),u===us&&(La=us=null,Ts=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||I2||(I2=!0,b8(gn,function(){return q0(),null})),H=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||H){H=Ll.transition,Ll.transition=null;var se=Xr;Xr=1;var Fe=kn;kn|=4,b5.current=null,gD(u,x),l8(x,u),o2(Pu),kl=!!eh,Pu=eh=null,u.current=x,xD(x),Dt(),kn=Fe,Xr=se,Ll.transition=H}else u.current=x;if(I2&&(I2=!1,Vd=u,P2=D),H=u.pendingLanes,H===0&&(Bd=null),Xo(x.stateNode),Bo(u,Pt()),h!==null)for(E=u.onRecoverableError,x=0;x<h.length;x++)D=h[x],E(D.value,{componentStack:D.stack,digest:D.digest});if(T2)throw T2=!1,u=S5,S5=null,u;return(P2&1)!==0&&u.tag!==0&&q0(),H=u.pendingLanes,(H&1)!==0?u===C5?Yp++:(Yp=0,C5=u):Yp=0,K(),null}function q0(){if(Vd!==null){var u=ws(P2),h=Ll.transition,x=Xr;try{if(Ll.transition=null,Xr=16>u?16:u,Vd===null)var E=!1;else{if(u=Vd,Vd=null,P2=0,(kn&6)!==0)throw Error(r(331));var D=kn;for(kn|=4,ar=u.current;ar!==null;){var H=ar,se=H.child;if((ar.flags&16)!==0){var Fe=H.deletions;if(Fe!==null){for(var Ue=0;Ue<Fe.length;Ue++){var lt=Fe[Ue];for(ar=lt;ar!==null;){var Ft=ar;switch(Ft.tag){case 0:case 11:case 15:Gp(8,Ft,H)}var jt=Ft.child;if(jt!==null)jt.return=Ft,ar=jt;else for(;ar!==null;){Ft=ar;var Rt=Ft.sibling,Jt=Ft.return;if(n8(Ft),Ft===lt){ar=null;break}if(Rt!==null){Rt.return=Jt,ar=Rt;break}ar=Jt}}}var lr=H.alternate;if(lr!==null){var pr=lr.child;if(pr!==null){lr.child=null;do{var xa=pr.sibling;pr.sibling=null,pr=xa}while(pr!==null)}}ar=H}}if((H.subtreeFlags&2064)!==0&&se!==null)se.return=H,ar=se;else e:for(;ar!==null;){if(H=ar,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Gp(9,H,H.return)}var nt=H.sibling;if(nt!==null){nt.return=H.return,ar=nt;break e}ar=H.return}}var $e=u.current;for(ar=$e;ar!==null;){se=ar;var st=se.child;if((se.subtreeFlags&2064)!==0&&st!==null)st.return=se,ar=st;else e:for(se=$e;ar!==null;){if(Fe=ar,(Fe.flags&2048)!==0)try{switch(Fe.tag){case 0:case 11:case 15:C2(9,Fe)}}catch(xr){ta(Fe,Fe.return,xr)}if(Fe===se){ar=null;break e}var Vt=Fe.sibling;if(Vt!==null){Vt.return=Fe.return,ar=Vt;break e}ar=Fe.return}}if(kn=D,K(),fi&&typeof fi.onPostCommitFiberRoot=="function")try{fi.onPostCommitFiberRoot(ns,u)}catch{}E=!0}return E}finally{Xr=x,Ll.transition=h}}return!1}function y8(u,h,x){h=V0(x,h),h=Ob(u,h,1),u=Hi(u,h,1),h=ko(),u!==null&&(bl(u,1,h),Bo(u,h))}function ta(u,h,x){if(u.tag===3)y8(u,u,x);else for(;h!==null;){if(h.tag===3){y8(h,u,x);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Bd===null||!Bd.has(E))){u=V0(x,u),u=Mb(h,u,1),h=Hi(h,u,1),u=ko(),h!==null&&(bl(h,1,u),Bo(h,u));break}}h=h.return}}function kD(u,h,x){var E=u.pingCache;E!==null&&E.delete(h),h=ko(),u.pingedLanes|=u.suspendedLanes&x,us===u&&(Ts&x)===x&&(Ya===4||Ya===3&&(Ts&130023424)===Ts&&500>Pt()-E5?lh(u,0):k5|=x),Bo(u,h)}function w8(u,h){h===0&&((u.mode&1)===0?h=1:(h=Bs,Bs<<=1,(Bs&130023424)===0&&(Bs=4194304)));var x=ko();u=qn(u,h),u!==null&&(bl(u,h,x),Bo(u,x))}function ED(u){var h=u.memoizedState,x=0;h!==null&&(x=h.retryLane),w8(u,x)}function SD(u,h){var x=0;switch(u.tag){case 13:var E=u.stateNode,D=u.memoizedState;D!==null&&(x=D.retryLane);break;case 19:E=u.stateNode;break;default:throw Error(r(314))}E!==null&&E.delete(h),w8(u,x)}var _8;_8=function(u,h,x){if(u!==null)if(u.memoizedProps!==h.pendingProps||Ys.current)Oo=!0;else{if((u.lanes&x)===0&&(h.flags&128)===0)return Oo=!1,fD(u,h,x);Oo=(u.flags&131072)!==0}else Oo=!1,_t&&(h.flags&1048576)!==0&&Ye(h,me,h.index);switch(h.lanes=0,h.tag){case 2:var E=h.type;E2(u,h),u=h.pendingProps;var D=Fd(h,Ka.current);Ri(h,x),D=nh(null,h,E,u,D,x);var H=Fl();return h.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Qs(E)?(H=!0,Lu(h)):H=!1,h.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Xa(h),D.updater=b2,h.stateNode=D,D._reactInternals=h,l5(h,E,u,x),h=f5(null,h,E,!0,H,x)):(h.tag=0,_t&&H&&pt(h),bo(null,h,D,x),h=h.child),h;case 16:E=h.elementType;e:{switch(E2(u,h),u=h.pendingProps,D=E._init,E=D(E._payload),h.type=E,D=h.tag=ND(E),u=hc(E,u),D){case 0:h=d5(null,h,E,u,x);break e;case 1:h=Gb(null,h,E,u,x);break e;case 11:h=zb(null,h,E,u,x);break e;case 14:h=$b(null,h,E,hc(E.type,u),x);break e}throw Error(r(306,E,""))}return h;case 0:return E=h.type,D=h.pendingProps,D=h.elementType===E?D:hc(E,D),d5(u,h,E,D,x);case 1:return E=h.type,D=h.pendingProps,D=h.elementType===E?D:hc(E,D),Gb(u,h,E,D,x);case 3:e:{if(Kb(h),u===null)throw Error(r(387));E=h.pendingProps,H=h.memoizedState,D=H.element,Js(u,h),cs(h,E,null,x);var se=h.memoizedState;if(E=se.element,H.isDehydrated)if(H={element:E,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},h.updateQueue.baseState=H,h.memoizedState=H,h.flags&256){D=V0(Error(r(423)),h),h=Xb(u,h,E,x,D);break e}else if(E!==D){D=V0(Error(r(424)),h),h=Xb(u,h,E,x,D);break e}else for(ht=Ns(h.stateNode.containerInfo.firstChild),ft=h,_t=!0,bt=null,x=wi(h,null,E,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(nr(),E===D){h=Du(u,h,x);break e}bo(u,h,E,x)}h=h.child}return h;case 5:return g2(h),u===null&&sr(h),E=h.type,D=h.pendingProps,H=u!==null?u.memoizedProps:null,se=D.children,Dp(E,D)?se=null:H!==null&&Dp(E,H)&&(h.flags|=32),Wb(u,h),bo(u,h,se,x),h.child;case 6:return u===null&&sr(h),null;case 13:return Yb(u,h,x);case 4:return Ld(h,h.stateNode.containerInfo),E=h.pendingProps,u===null?h.child=Ji(h,null,E,x):bo(u,h,E,x),h.child;case 11:return E=h.type,D=h.pendingProps,D=h.elementType===E?D:hc(E,D),zb(u,h,E,D,x);case 7:return bo(u,h,h.pendingProps,x),h.child;case 8:return bo(u,h,h.pendingProps.children,x),h.child;case 12:return bo(u,h,h.pendingProps.children,x),h.child;case 10:e:{if(E=h.type._context,D=h.pendingProps,H=h.memoizedProps,se=D.value,Bn(ma,E._currentValue),E._currentValue=se,H!==null)if(pa(H.value,se)){if(H.children===D.children&&!Ys.current){h=Du(u,h,x);break e}}else for(H=h.child,H!==null&&(H.return=h);H!==null;){var Fe=H.dependencies;if(Fe!==null){se=H.child;for(var Ue=Fe.firstContext;Ue!==null;){if(Ue.context===E){if(H.tag===1){Ue=qi(-1,x&-x),Ue.tag=2;var lt=H.updateQueue;if(lt!==null){lt=lt.shared;var Ft=lt.pending;Ft===null?Ue.next=Ue:(Ue.next=Ft.next,Ft.next=Ue),lt.pending=Ue}}H.lanes|=x,Ue=H.alternate,Ue!==null&&(Ue.lanes|=x),bn(H.return,x,h),Fe.lanes|=x;break}Ue=Ue.next}}else if(H.tag===10)se=H.type===h.type?null:H.child;else if(H.tag===18){if(se=H.return,se===null)throw Error(r(341));se.lanes|=x,Fe=se.alternate,Fe!==null&&(Fe.lanes|=x),bn(se,x,h),se=H.sibling}else se=H.child;if(se!==null)se.return=H;else for(se=H;se!==null;){if(se===h){se=null;break}if(H=se.sibling,H!==null){H.return=se.return,se=H;break}se=se.return}H=se}bo(u,h,D.children,x),h=h.child}return h;case 9:return D=h.type,E=h.pendingProps.children,Ri(h,x),D=Fi(D),E=E(D),h.flags|=1,bo(u,h,E,x),h.child;case 14:return E=h.type,D=hc(E,h.pendingProps),D=hc(E.type,D),$b(u,h,E,D,x);case 15:return qb(u,h,h.type,h.pendingProps,x);case 17:return E=h.type,D=h.pendingProps,D=h.elementType===E?D:hc(E,D),E2(u,h),h.tag=1,Qs(E)?(u=!0,Lu(h)):u=!1,Ri(h,x),jb(h,E,D),l5(h,E,D,x),f5(null,h,E,!0,u,x);case 19:return Jb(u,h,x);case 22:return Hb(u,h,x)}throw Error(r(156,h.tag))};function b8(u,h){return St(u,h)}function CD(u,h,x,E){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(u,h,x,E){return new CD(u,h,x,E)}function R5(u){return u=u.prototype,!(!u||!u.isReactComponent)}function ND(u){if(typeof u=="function")return R5(u)?1:0;if(u!=null){if(u=u.$$typeof,u===F)return 11;if(u===pe)return 14}return 2}function $d(u,h){var x=u.alternate;return x===null?(x=jl(u.tag,h,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=h,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&14680064,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,h=u.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x}function j2(u,h,x,E,D,H){var se=2;if(E=u,typeof u=="function")R5(u)&&(se=1);else if(typeof u=="string")se=5;else e:switch(u){case R:return uh(x.children,D,H,h);case T:se=8,D|=8;break;case S:return u=jl(12,x,h,D|2),u.elementType=S,u.lanes=H,u;case M:return u=jl(13,x,h,D),u.elementType=M,u.lanes=H,u;case re:return u=jl(19,x,h,D),u.elementType=re,u.lanes=H,u;case xe:return D2(x,D,H,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case j:se=10;break e;case A:se=9;break e;case F:se=11;break e;case pe:se=14;break e;case _e:se=16,E=null;break e}throw Error(r(130,u==null?u:typeof u,""))}return h=jl(se,x,h,D),h.elementType=u,h.type=E,h.lanes=H,h}function uh(u,h,x,E){return u=jl(7,u,E,h),u.lanes=x,u}function D2(u,h,x,E){return u=jl(22,u,E,h),u.elementType=xe,u.lanes=x,u.stateNode={isHidden:!1},u}function F5(u,h,x){return u=jl(6,u,null,h),u.lanes=x,u}function L5(u,h,x){return h=jl(4,u.children!==null?u.children:[],u.key,h),h.lanes=x,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function AD(u,h,x,E,D){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=E,this.onRecoverableError=D,this.mutableSourceEagerHydrationData=null}function j5(u,h,x,E,D,H,se,Fe,Ue){return u=new AD(u,h,x,Fe,Ue),h===1?(h=1,H===!0&&(h|=8)):h=0,H=jl(3,null,null,h),u.current=H,H.stateNode=u,H.memoizedState={element:E,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xa(H),u}function TD(u,h,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:E==null?null:""+E,children:u,containerInfo:h,implementation:x}}function k8(u){if(!u)return $c;u=u._reactInternals;e:{if(Ie(u)!==u||u.tag!==1)throw Error(r(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Qs(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(u.tag===1){var x=u.type;if(Qs(x))return Vp(u,x,h)}return h}function E8(u,h,x,E,D,H,se,Fe,Ue){return u=j5(x,E,!0,u,D,H,se,Fe,Ue),u.context=k8(null),x=u.current,E=ko(),D=Ud(x),H=qi(E,D),H.callback=h??null,Hi(x,H,D),u.current.lanes=D,bl(u,D,E),Bo(u,E),u}function O2(u,h,x,E){var D=h.current,H=ko(),se=Ud(D);return x=k8(x),h.context===null?h.context=x:h.pendingContext=x,h=qi(H,se),h.payload={element:u},E=E===void 0?null:E,E!==null&&(h.callback=E),u=Hi(D,h,se),u!==null&&(gc(u,D,se,H),ls(u,D,se)),se}function M2(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function S8(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<h?x:h}}function D5(u,h){S8(u,h),(u=u.alternate)&&S8(u,h)}function ID(){return null}var C8=typeof reportError=="function"?reportError:function(u){console.error(u)};function O5(u){this._internalRoot=u}B2.prototype.render=O5.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));O2(u,h,null,null)},B2.prototype.unmount=O5.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;oh(function(){O2(null,u,null,null)}),h[ss]=null}};function B2(u){this._internalRoot=u}B2.prototype.unstable_scheduleHydration=function(u){if(u){var h=wd();u={blockedOn:null,target:u,priority:h};for(var x=0;x<Io.length&&h!==0&&h<Io[x].priority;x++);Io.splice(x,0,u),x===0&&bd(u)}};function M5(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function V2(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function N8(){}function PD(u,h,x,E,D){if(D){if(typeof E=="function"){var H=E;E=function(){var lt=M2(se);H.call(lt)}}var se=E8(h,E,u,0,null,!1,!1,"",N8);return u._reactRootContainer=se,u[ss]=se.current,Tu(u.nodeType===8?u.parentNode:u),oh(),se}for(;D=u.lastChild;)u.removeChild(D);if(typeof E=="function"){var Fe=E;E=function(){var lt=M2(Ue);Fe.call(lt)}}var Ue=j5(u,0,!1,null,null,!1,!1,"",N8);return u._reactRootContainer=Ue,u[ss]=Ue.current,Tu(u.nodeType===8?u.parentNode:u),oh(function(){O2(h,Ue,x,E)}),Ue}function U2(u,h,x,E,D){var H=x._reactRootContainer;if(H){var se=H;if(typeof D=="function"){var Fe=D;D=function(){var Ue=M2(se);Fe.call(Ue)}}O2(h,se,u,D)}else se=PD(x,h,u,D,E);return M2(se)}Rc=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var x=Vs(h.pendingLanes);x!==0&&(Yo(h,x|1),Bo(h,Pt()),(kn&6)===0&&($0=Pt()+500,K()))}break;case 13:oh(function(){var E=qn(u,1);if(E!==null){var D=ko();gc(E,u,1,D)}}),D5(u,1)}},Fc=function(u){if(u.tag===13){var h=qn(u,134217728);if(h!==null){var x=ko();gc(h,u,134217728,x)}D5(u,134217728)}},yd=function(u){if(u.tag===13){var h=Ud(u),x=qn(u,h);if(x!==null){var E=ko();gc(x,u,h,E)}D5(u,h)}},wd=function(){return Xr},Lc=function(u,h){var x=Xr;try{return Xr=u,h()}finally{Xr=x}},hr=function(u,h,x){switch(h){case"input":if(Be(u,x),h=x.name,x.type==="radio"&&h!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<x.length;h++){var E=x[h];if(E!==u&&E.form===u.form){var D=th(E);if(!D)throw Error(r(90));ae(E),Be(E,D)}}}break;case"textarea":Re(u,x);break;case"select":h=x.value,h!=null&&Ke(u,!!x.multiple,h,!1)}},jr=T5,Cn=oh;var RD={usingClientEntryPoint:!1,Events:[Rd,Ru,th,br,Dn,T5]},Qp={findFiberByHostInstance:zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FD={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=rt(u),u===null?null:u.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||ID,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var z2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!z2.isDisabled&&z2.supportsFiber)try{ns=z2.inject(FD),fi=z2}catch{}}return Vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RD,Vo.createPortal=function(u,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M5(h))throw Error(r(200));return TD(u,h,null,x)},Vo.createRoot=function(u,h){if(!M5(u))throw Error(r(299));var x=!1,E="",D=C8;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(D=h.onRecoverableError)),h=j5(u,1,!1,null,null,x,!1,E,D),u[ss]=h.current,Tu(u.nodeType===8?u.parentNode:u),new O5(h)},Vo.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=rt(h),u=u===null?null:u.stateNode,u},Vo.flushSync=function(u){return oh(u)},Vo.hydrate=function(u,h,x){if(!V2(h))throw Error(r(200));return U2(null,u,h,!0,x)},Vo.hydrateRoot=function(u,h,x){if(!M5(u))throw Error(r(405));var E=x!=null&&x.hydratedSources||null,D=!1,H="",se=C8;if(x!=null&&(x.unstable_strictMode===!0&&(D=!0),x.identifierPrefix!==void 0&&(H=x.identifierPrefix),x.onRecoverableError!==void 0&&(se=x.onRecoverableError)),h=E8(h,null,u,1,x??null,D,!1,H,se),u[ss]=h.current,Tu(u),E)for(u=0;u<E.length;u++)x=E[u],D=x._getVersion,D=D(x._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[x,D]:h.mutableSourceEagerHydrationData.push(x,D);return new B2(h)},Vo.render=function(u,h,x){if(!V2(h))throw Error(r(200));return U2(null,u,h,!1,x)},Vo.unmountComponentAtNode=function(u){if(!V2(u))throw Error(r(40));return u._reactRootContainer?(oh(function(){U2(null,null,u,!1,function(){u._reactRootContainer=null,u[ss]=null})}),!0):!1},Vo.unstable_batchedUpdates=T5,Vo.unstable_renderSubtreeIntoContainer=function(u,h,x,E){if(!V2(x))throw Error(r(200));if(u==null||u._reactInternals===void 0)throw Error(r(38));return U2(u,h,x,!1,E)},Vo.version="18.3.1-next-f1338f8080-20240426",Vo}var j8;function FC(){if(j8)return U5.exports;j8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),U5.exports=UD(),U5.exports}var D8;function zD(){if(D8)return $2;D8=1;var t=FC();return $2.createRoot=t.createRoot,$2.hydrateRoot=t.hydrateRoot,$2}var $D=zD(),la=FC();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qm(){return qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qm.apply(this,arguments)}var sf;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sf||(sf={}));const O8="popstate";function qD(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return p3("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Zx(i)}return WD(e,r,null,t)}function Ea(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HD(){return Math.random().toString(36).substr(2,8)}function M8(t,e){return{usr:t.state,key:t.key,idx:e}}function p3(t,e,r,n){return r===void 0&&(r=null),qm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Z1(e):e,{state:r,key:e&&e.key||n||HD()})}function Zx(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Z1(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function WD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=sf.Pop,l=null,c=f();c==null&&(c=0,s.replaceState(qm({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function p(){o=sf.Pop;let k=f(),N=k==null?null:k-c;c=k,l&&l({action:o,location:w.location,delta:N})}function g(k,N){o=sf.Push;let L=p3(w.location,k,N);c=f()+1;let P=M8(L,c),V=w.createHref(L);try{s.pushState(P,"",V)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(V)}a&&l&&l({action:o,location:w.location,delta:1})}function m(k,N){o=sf.Replace;let L=p3(w.location,k,N);c=f();let P=M8(L,c),V=w.createHref(L);s.replaceState(P,"",V),a&&l&&l({action:o,location:w.location,delta:0})}function y(k){let N=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof k=="string"?k:Zx(k);return L=L.replace(/ $/,"%20"),Ea(N,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,N)}let w={get action(){return o},get location(){return t(i,s)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(O8,p),l=k,()=>{i.removeEventListener(O8,p),l=null}},createHref(k){return e(i,k)},createURL:y,encodeLocation(k){let N=y(k);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:m,go(k){return s.go(k)}};return w}var B8;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(B8||(B8={}));function GD(t,e,r){return r===void 0&&(r="/"),KD(t,e,r)}function KD(t,e,r,n){let i=typeof e=="string"?Z1(e):e,a=Uw(i.pathname||"/",r);if(a==null)return null;let s=jC(t);XD(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=oO(a);o=iO(s[l],c)}return o}function jC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(Ea(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ff([n,l.relativePath]),f=r.concat(l);a.children&&a.children.length>0&&(Ea(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jC(a.children,e,f,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:rO(c,a.index),routesMeta:f})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of DC(a.path))i(a,s,l)}),e}function DC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=DC(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function XD(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:nO(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const YD=/^:[\w-]+$/,QD=3,JD=2,ZD=1,eO=10,tO=-2,V8=t=>t==="*";function rO(t,e){let r=t.split("/"),n=r.length;return r.some(V8)&&(n+=tO),e&&(n+=JD),r.filter(i=>!V8(i)).reduce((i,a)=>i+(YD.test(a)?QD:a===""?ZD:eO),n)}function nO(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function iO(t,e,r){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",p=aO({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),g=l.route;if(!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:ff([a,p.pathname]),pathnameBase:dO(ff([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=ff([a,p.pathnameBase]))}return s}function aO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sO(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,f,p)=>{let{paramName:g,isOptional:m}=f;if(g==="*"){let w=o[p]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[p];return m&&!y?c[g]=void 0:c[g]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function sO(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),LC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function oO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Uw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function lO(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Z1(t):t;return{pathname:r?r.startsWith("/")?r:cO(r,e):e,search:fO(n),hash:hO(i)}}function cO(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function q5(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uO(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zw(t,e){let r=uO(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $w(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Z1(t):(i=qm({},t),Ea(!i.pathname||!i.pathname.includes("?"),q5("?","pathname","search",i)),Ea(!i.pathname||!i.pathname.includes("#"),q5("#","pathname","hash",i)),Ea(!i.search||!i.search.includes("#"),q5("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}o=p>=0?e[p]:"/"}let l=lO(i,o),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const ff=t=>t.join("/").replace(/\/\/+/g,"/"),dO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OC=["post","put","patch","delete"];new Set(OC);const mO=["get",...OC];new Set(mO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hm.apply(this,arguments)}const qw=B.createContext(null),gO=B.createContext(null),Ff=B.createContext(null),Zv=B.createContext(null),mu=B.createContext({outlet:null,matches:[],isDataRoute:!1}),MC=B.createContext(null);function xO(t,e){let{relative:r}=e===void 0?{}:e;ep()||Ea(!1);let{basename:n,navigator:i}=B.useContext(Ff),{hash:a,pathname:s,search:o}=VC(t,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:ff([n,s])),i.createHref({pathname:l,search:o,hash:a})}function ep(){return B.useContext(Zv)!=null}function Yl(){return ep()||Ea(!1),B.useContext(Zv).location}function BC(t){B.useContext(Ff).static||B.useLayoutEffect(t)}function Ni(){let{isDataRoute:t}=B.useContext(mu);return t?RO():vO()}function vO(){ep()||Ea(!1);let t=B.useContext(qw),{basename:e,future:r,navigator:n}=B.useContext(Ff),{matches:i}=B.useContext(mu),{pathname:a}=Yl(),s=JSON.stringify(zw(i,r.v7_relativeSplatPath)),o=B.useRef(!1);return BC(()=>{o.current=!0}),B.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let p=$w(c,JSON.parse(s),a,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ff([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,s,a,t])}const yO=B.createContext(null);function wO(t){let e=B.useContext(mu).outlet;return e&&B.createElement(yO.Provider,{value:t},e)}function ey(){let{matches:t}=B.useContext(mu),e=t[t.length-1];return e?e.params:{}}function VC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=B.useContext(Ff),{matches:i}=B.useContext(mu),{pathname:a}=Yl(),s=JSON.stringify(zw(i,n.v7_relativeSplatPath));return B.useMemo(()=>$w(t,JSON.parse(s),a,r==="path"),[t,s,a,r])}function _O(t,e){return bO(t,e)}function bO(t,e,r,n){ep()||Ea(!1);let{navigator:i}=B.useContext(Ff),{matches:a}=B.useContext(mu),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Yl(),f;if(e){var p;let k=typeof e=="string"?Z1(e):e;l==="/"||(p=k.pathname)!=null&&p.startsWith(l)||Ea(!1),f=k}else f=c;let g=f.pathname||"/",m=g;if(l!=="/"){let k=l.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=GD(t,{pathname:m}),w=NO(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:ff([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:ff([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,r,n);return e&&w?B.createElement(Zv.Provider,{value:{location:Hm({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:sf.Pop}},w):w}function kO(){let t=PO(),e=pO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),r?B.createElement("pre",{style:i},r):null,null)}const EO=B.createElement(kO,null);class SO extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?B.createElement(mu.Provider,{value:this.props.routeContext},B.createElement(MC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CO(t){let{routeContext:e,match:r,children:n}=t,i=B.useContext(qw);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(mu.Provider,{value:e},n)}function NO(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);f>=0||Ea(!1),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:m}=r,y=p.route.loader&&g[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let m,y=!1,w=null,k=null;r&&(m=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||EO,l&&(c<0&&g===0?(FO("route-fallback"),y=!0,k=null):c===g&&(y=!0,k=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,g+1)),L=()=>{let P;return m?P=w:y?P=k:p.route.Component?P=B.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,B.createElement(CO,{match:p,routeContext:{outlet:f,matches:N,isDataRoute:r!=null},children:P})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?B.createElement(SO,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:L(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):L()},null)}var UC=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(UC||{}),zC=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(zC||{});function AO(t){let e=B.useContext(qw);return e||Ea(!1),e}function TO(t){let e=B.useContext(gO);return e||Ea(!1),e}function IO(t){let e=B.useContext(mu);return e||Ea(!1),e}function $C(t){let e=IO(),r=e.matches[e.matches.length-1];return r.route.id||Ea(!1),r.route.id}function PO(){var t;let e=B.useContext(MC),r=TO(),n=$C();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function RO(){let{router:t}=AO(UC.UseNavigateStable),e=$C(zC.UseNavigateStable),r=B.useRef(!1);return BC(()=>{r.current=!0}),B.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hm({fromRouteId:e},a)))},[t,e])}const U8={};function FO(t,e,r){U8[t]||(U8[t]=!0)}function LO(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Zp(t){let{to:e,replace:r,state:n,relative:i}=t;ep()||Ea(!1);let{future:a,static:s}=B.useContext(Ff),{matches:o}=B.useContext(mu),{pathname:l}=Yl(),c=Ni(),f=$w(e,zw(o,a.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(f);return B.useEffect(()=>c(JSON.parse(p),{replace:r,state:n,relative:i}),[c,p,i,r,n]),null}function Hw(t){return wO(t.context)}function Wn(t){Ea(!1)}function jO(t){let{basename:e="/",children:r=null,location:n,navigationType:i=sf.Pop,navigator:a,static:s=!1,future:o}=t;ep()&&Ea(!1);let l=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:a,static:s,future:Hm({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Z1(n));let{pathname:f="/",search:p="",hash:g="",state:m=null,key:y="default"}=n,w=B.useMemo(()=>{let k=Uw(f,l);return k==null?null:{location:{pathname:k,search:p,hash:g,state:m,key:y},navigationType:i}},[l,f,p,g,m,y,i]);return w==null?null:B.createElement(Ff.Provider,{value:c},B.createElement(Zv.Provider,{children:r,value:w}))}function z8(t){let{children:e,location:r}=t;return _O(m3(e),r)}new Promise(()=>{});function m3(t,e){e===void 0&&(e=[]);let r=[];return B.Children.forEach(t,(n,i)=>{if(!B.isValidElement(n))return;let a=[...e,i];if(n.type===B.Fragment){r.push.apply(r,m3(n.props.children,a));return}n.type!==Wn&&Ea(!1),!n.props.index||!n.props.children||Ea(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=m3(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g3(){return g3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g3.apply(this,arguments)}function DO(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function OO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MO(t,e){return t.button===0&&(!e||e==="_self")&&!OO(t)}const BO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],VO="6";try{window.__reactRouterVersion=VO}catch{}const UO="startTransition",$8=Jx[UO];function zO(t){let{basename:e,children:r,future:n,window:i}=t,a=B.useRef();a.current==null&&(a.current=qD({window:i,v5Compat:!0}));let s=a.current,[o,l]=B.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},f=B.useCallback(p=>{c&&$8?$8(()=>l(p)):l(p)},[l,c]);return B.useLayoutEffect(()=>s.listen(f),[s,f]),B.useEffect(()=>LO(n),[n]),B.createElement(jO,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const $O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dh=B.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:f,viewTransition:p}=e,g=DO(e,BO),{basename:m}=B.useContext(Ff),y,w=!1;if(typeof c=="string"&&qO.test(c)&&(y=c,$O))try{let P=new URL(window.location.href),V=c.startsWith("//")?new URL(P.protocol+c):new URL(c),Y=Uw(V.pathname,m);V.origin===P.origin&&Y!=null?c=Y+V.search+V.hash:w=!0}catch{}let k=xO(c,{relative:i}),N=HO(c,{replace:s,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:p});function L(P){n&&n(P),P.defaultPrevented||N(P)}return B.createElement("a",g3({},g,{href:y||k,onClick:w||a?n:L,ref:r,target:l}))});var q8;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(q8||(q8={}));var H8;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(H8||(H8={}));function HO(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,l=Ni(),c=Yl(),f=VC(t,{relative:s});return B.useCallback(p=>{if(MO(p,r)){p.preventDefault();let g=n!==void 0?n:Zx(c)===Zx(f);l(t,{replace:g,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,f,n,i,r,t,a,s,o])}var W8={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},WO=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},HC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=a>>2,p=(a&3)<<4|o>>4;let g=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(g=64)),n.push(r[f],r[p],r[g],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||p==null)throw new GO;const g=a<<2|o>>4;if(n.push(g),c!==64){const m=o<<4&240|c>>2;if(n.push(m),p!==64){const y=c<<6&192|p;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KO=function(t){const e=qC(t);return HC.encodeByteArray(e,!0)},ev=function(t){return KO(t).replace(/\./g,"")},WC=function(t){try{return HC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=()=>XO().__FIREBASE_DEFAULTS__,QO=()=>{if(typeof process>"u"||typeof W8>"u")return;const t=W8.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WC(t[1]);return e&&JSON.parse(e)},ty=()=>{try{return YO()||QO()||JO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GC=t=>{var e,r;return(r=(e=ty())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Ww=t=>{const e=GC(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},KC=()=>{var t;return(t=ty())===null||t===void 0?void 0:t.config},XC=t=>{var e;return(e=ty())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ev(JSON.stringify(r)),ev(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Za())}function tM(){var t;const e=(t=ty())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aM(){const t=Za();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QC(){return!tM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JC(){try{return typeof indexedDB=="object"}catch{return!1}}function sM(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="FirebaseError";class Tc extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=oM,Object.setPrototypeOf(this,Tc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eg.prototype.create)}}class Eg{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?lM(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Tc(i,o,n)}}function lM(t,e){return t.replace(cM,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const cM=/\{\$([^}]+)}/g;function uM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mf(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(G8(a)&&G8(s)){if(!mf(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function G8(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function dm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function fm(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function dM(t,e){const r=new fM(t,e);return r.subscribe.bind(r)}class fM{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");hM(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=H5),i.error===void 0&&(i.error=H5),i.complete===void 0&&(i.complete=H5);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hM(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function H5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class ed{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new ZO;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gM(e))try{this.getOrInitializeService({instanceIdentifier:hh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=hh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hh){return this.instances.has(e)}getOptions(e=hh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mM(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=hh){return this.component?this.component.multipleInstances?e:hh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mM(t){return t===hh?void 0:t}function gM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new pM(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fn||(fn={}));const vM={debug:fn.DEBUG,verbose:fn.VERBOSE,info:fn.INFO,warn:fn.WARN,error:fn.ERROR,silent:fn.SILENT},yM=fn.INFO,wM={[fn.DEBUG]:"log",[fn.VERBOSE]:"log",[fn.INFO]:"info",[fn.WARN]:"warn",[fn.ERROR]:"error"},_M=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=wM[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gw{constructor(e){this.name=e,this._logLevel=yM,this._logHandler=_M,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fn.DEBUG,...e),this._logHandler(this,fn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fn.VERBOSE,...e),this._logHandler(this,fn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fn.INFO,...e),this._logHandler(this,fn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fn.WARN,...e),this._logHandler(this,fn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fn.ERROR,...e),this._logHandler(this,fn.ERROR,...e)}}const bM=(t,e)=>e.some(r=>t instanceof r);let K8,X8;function kM(){return K8||(K8=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EM(){return X8||(X8=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZC=new WeakMap,x3=new WeakMap,eN=new WeakMap,W5=new WeakMap,Kw=new WeakMap;function SM(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(hf(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&ZC.set(r,t)}).catch(()=>{}),Kw.set(e,t),e}function CM(t){if(x3.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});x3.set(t,e)}let v3={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return x3.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return hf(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NM(t){v3=t(v3)}function AM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(G5(this),e,...r);return eN.set(n,e.sort?e.sort():[e]),hf(n)}:EM().includes(t)?function(...e){return t.apply(G5(this),e),hf(ZC.get(this))}:function(...e){return hf(t.apply(G5(this),e))}}function TM(t){return typeof t=="function"?AM(t):(t instanceof IDBTransaction&&CM(t),bM(t,kM())?new Proxy(t,v3):t)}function hf(t){if(t instanceof IDBRequest)return SM(t);if(W5.has(t))return W5.get(t);const e=TM(t);return e!==t&&(W5.set(t,e),Kw.set(e,t)),e}const G5=t=>Kw.get(t);function IM(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=hf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(hf(s.result),l.oldVersion,l.newVersion,hf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const PM=["get","getKey","getAll","getAllKeys","count"],RM=["put","add","delete","clear"],K5=new Map;function Y8(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(K5.get(e))return K5.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=RM.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||PM.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return K5.set(e,a),a}NM(t=>({...t,get:(e,r,n)=>Y8(e,r)||t.get(e,r,n),has:(e,r)=>!!Y8(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(LM(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function LM(t){const e=t.getComponent();return e?.type==="VERSION"}const y3="@firebase/app",Q8="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Gw("@firebase/app"),jM="@firebase/app-compat",DM="@firebase/analytics-compat",OM="@firebase/analytics",MM="@firebase/app-check-compat",BM="@firebase/app-check",VM="@firebase/auth",UM="@firebase/auth-compat",zM="@firebase/database",$M="@firebase/data-connect",qM="@firebase/database-compat",HM="@firebase/functions",WM="@firebase/functions-compat",GM="@firebase/installations",KM="@firebase/installations-compat",XM="@firebase/messaging",YM="@firebase/messaging-compat",QM="@firebase/performance",JM="@firebase/performance-compat",ZM="@firebase/remote-config",eB="@firebase/remote-config-compat",tB="@firebase/storage",rB="@firebase/storage-compat",nB="@firebase/firestore",iB="@firebase/vertexai-preview",aB="@firebase/firestore-compat",sB="firebase",oB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="[DEFAULT]",lB={[y3]:"fire-core",[jM]:"fire-core-compat",[OM]:"fire-analytics",[DM]:"fire-analytics-compat",[BM]:"fire-app-check",[MM]:"fire-app-check-compat",[VM]:"fire-auth",[UM]:"fire-auth-compat",[zM]:"fire-rtdb",[$M]:"fire-data-connect",[qM]:"fire-rtdb-compat",[HM]:"fire-fn",[WM]:"fire-fn-compat",[GM]:"fire-iid",[KM]:"fire-iid-compat",[XM]:"fire-fcm",[YM]:"fire-fcm-compat",[QM]:"fire-perf",[JM]:"fire-perf-compat",[ZM]:"fire-rc",[eB]:"fire-rc-compat",[tB]:"fire-gcs",[rB]:"fire-gcs-compat",[nB]:"fire-fst",[aB]:"fire-fst-compat",[iB]:"fire-vertex","fire-js":"fire-js",[sB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map,cB=new Map,w3=new Map;function J8(t,e){try{t.container.addComponent(e)}catch(r){td.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function gf(t){const e=t.name;if(w3.has(e))return td.debug(`There were multiple attempts to register component ${e}.`),!1;w3.set(e,t);for(const r of rv.values())J8(r,t);for(const r of cB.values())J8(r,t);return!0}function o0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function uB(t,e,r=tv){o0(t,e).clearInstance(r)}function yc(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pf=new Eg("app","Firebase",dB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ed("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=oB;function tN(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:tv,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw pf.create("bad-app-name",{appName:String(i)});if(r||(r=KC()),!r)throw pf.create("no-options");const a=rv.get(i);if(a){if(mf(r,a.options)&&mf(n,a.config))return a;throw pf.create("duplicate-app",{appName:i})}const s=new xM(i);for(const l of w3.values())s.addComponent(l);const o=new fB(r,n,s);return rv.set(i,o),o}function ry(t=tv){const e=rv.get(t);if(!e&&t===tv&&KC())return tN();if(!e)throw pf.create("no-app",{appName:t});return e}function ql(t,e,r){var n;let i=(n=lB[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),td.warn(o.join(" "));return}gf(new ed(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="firebase-heartbeat-database",pB=1,Wm="firebase-heartbeat-store";let X5=null;function rN(){return X5||(X5=IM(hB,pB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wm)}catch(r){console.warn(r)}}}}).catch(t=>{throw pf.create("idb-open",{originalErrorMessage:t.message})})),X5}async function mB(t){try{const r=(await rN()).transaction(Wm),n=await r.objectStore(Wm).get(nN(t));return await r.done,n}catch(e){if(e instanceof Tc)td.warn(e.message);else{const r=pf.create("idb-get",{originalErrorMessage:e?.message});td.warn(r.message)}}}async function Z8(t,e){try{const n=(await rN()).transaction(Wm,"readwrite");await n.objectStore(Wm).put(e,nN(t)),await n.done}catch(r){if(r instanceof Tc)td.warn(r.message);else{const n=pf.create("idb-set",{originalErrorMessage:r?.message});td.warn(n.message)}}}function nN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=1024,xB=720*60*60*1e3;class vB{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new wB(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ek();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=xB}),this._storage.overwrite(this._heartbeatsCache))}catch(n){td.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ek(),{heartbeatsToSend:n,unsentEntries:i}=yB(this._heartbeatsCache.heartbeats),a=ev(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return td.warn(r),""}}}function ek(){return new Date().toISOString().substring(0,10)}function yB(t,e=gB){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),tk(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),tk(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class wB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JC()?sM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mB(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z8(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z8(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tk(t){return ev(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(t){gf(new ed("platform-logger",e=>new FM(e),"PRIVATE")),gf(new ed("heartbeat",e=>new vB(e),"PRIVATE")),ql(y3,Q8,t),ql(y3,Q8,"esm2017"),ql("fire-js","")}_B("");var rk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ah,iN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function S(){}S.prototype=T.prototype,R.D=T.prototype,R.prototype=new S,R.prototype.constructor=R,R.C=function(j,A,F){for(var M=Array(arguments.length-2),re=2;re<arguments.length;re++)M[re-2]=arguments[re];return T.prototype[A].apply(j,M)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,T,S){S||(S=0);var j=Array(16);if(typeof T=="string")for(var A=0;16>A;++A)j[A]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(A=0;16>A;++A)j[A]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=R.g[0],S=R.g[1],A=R.g[2];var F=R.g[3],M=T+(F^S&(A^F))+j[0]+3614090360&4294967295;T=S+(M<<7&4294967295|M>>>25),M=F+(A^T&(S^A))+j[1]+3905402710&4294967295,F=T+(M<<12&4294967295|M>>>20),M=A+(S^F&(T^S))+j[2]+606105819&4294967295,A=F+(M<<17&4294967295|M>>>15),M=S+(T^A&(F^T))+j[3]+3250441966&4294967295,S=A+(M<<22&4294967295|M>>>10),M=T+(F^S&(A^F))+j[4]+4118548399&4294967295,T=S+(M<<7&4294967295|M>>>25),M=F+(A^T&(S^A))+j[5]+1200080426&4294967295,F=T+(M<<12&4294967295|M>>>20),M=A+(S^F&(T^S))+j[6]+2821735955&4294967295,A=F+(M<<17&4294967295|M>>>15),M=S+(T^A&(F^T))+j[7]+4249261313&4294967295,S=A+(M<<22&4294967295|M>>>10),M=T+(F^S&(A^F))+j[8]+1770035416&4294967295,T=S+(M<<7&4294967295|M>>>25),M=F+(A^T&(S^A))+j[9]+2336552879&4294967295,F=T+(M<<12&4294967295|M>>>20),M=A+(S^F&(T^S))+j[10]+4294925233&4294967295,A=F+(M<<17&4294967295|M>>>15),M=S+(T^A&(F^T))+j[11]+2304563134&4294967295,S=A+(M<<22&4294967295|M>>>10),M=T+(F^S&(A^F))+j[12]+1804603682&4294967295,T=S+(M<<7&4294967295|M>>>25),M=F+(A^T&(S^A))+j[13]+4254626195&4294967295,F=T+(M<<12&4294967295|M>>>20),M=A+(S^F&(T^S))+j[14]+2792965006&4294967295,A=F+(M<<17&4294967295|M>>>15),M=S+(T^A&(F^T))+j[15]+1236535329&4294967295,S=A+(M<<22&4294967295|M>>>10),M=T+(A^F&(S^A))+j[1]+4129170786&4294967295,T=S+(M<<5&4294967295|M>>>27),M=F+(S^A&(T^S))+j[6]+3225465664&4294967295,F=T+(M<<9&4294967295|M>>>23),M=A+(T^S&(F^T))+j[11]+643717713&4294967295,A=F+(M<<14&4294967295|M>>>18),M=S+(F^T&(A^F))+j[0]+3921069994&4294967295,S=A+(M<<20&4294967295|M>>>12),M=T+(A^F&(S^A))+j[5]+3593408605&4294967295,T=S+(M<<5&4294967295|M>>>27),M=F+(S^A&(T^S))+j[10]+38016083&4294967295,F=T+(M<<9&4294967295|M>>>23),M=A+(T^S&(F^T))+j[15]+3634488961&4294967295,A=F+(M<<14&4294967295|M>>>18),M=S+(F^T&(A^F))+j[4]+3889429448&4294967295,S=A+(M<<20&4294967295|M>>>12),M=T+(A^F&(S^A))+j[9]+568446438&4294967295,T=S+(M<<5&4294967295|M>>>27),M=F+(S^A&(T^S))+j[14]+3275163606&4294967295,F=T+(M<<9&4294967295|M>>>23),M=A+(T^S&(F^T))+j[3]+4107603335&4294967295,A=F+(M<<14&4294967295|M>>>18),M=S+(F^T&(A^F))+j[8]+1163531501&4294967295,S=A+(M<<20&4294967295|M>>>12),M=T+(A^F&(S^A))+j[13]+2850285829&4294967295,T=S+(M<<5&4294967295|M>>>27),M=F+(S^A&(T^S))+j[2]+4243563512&4294967295,F=T+(M<<9&4294967295|M>>>23),M=A+(T^S&(F^T))+j[7]+1735328473&4294967295,A=F+(M<<14&4294967295|M>>>18),M=S+(F^T&(A^F))+j[12]+2368359562&4294967295,S=A+(M<<20&4294967295|M>>>12),M=T+(S^A^F)+j[5]+4294588738&4294967295,T=S+(M<<4&4294967295|M>>>28),M=F+(T^S^A)+j[8]+2272392833&4294967295,F=T+(M<<11&4294967295|M>>>21),M=A+(F^T^S)+j[11]+1839030562&4294967295,A=F+(M<<16&4294967295|M>>>16),M=S+(A^F^T)+j[14]+4259657740&4294967295,S=A+(M<<23&4294967295|M>>>9),M=T+(S^A^F)+j[1]+2763975236&4294967295,T=S+(M<<4&4294967295|M>>>28),M=F+(T^S^A)+j[4]+1272893353&4294967295,F=T+(M<<11&4294967295|M>>>21),M=A+(F^T^S)+j[7]+4139469664&4294967295,A=F+(M<<16&4294967295|M>>>16),M=S+(A^F^T)+j[10]+3200236656&4294967295,S=A+(M<<23&4294967295|M>>>9),M=T+(S^A^F)+j[13]+681279174&4294967295,T=S+(M<<4&4294967295|M>>>28),M=F+(T^S^A)+j[0]+3936430074&4294967295,F=T+(M<<11&4294967295|M>>>21),M=A+(F^T^S)+j[3]+3572445317&4294967295,A=F+(M<<16&4294967295|M>>>16),M=S+(A^F^T)+j[6]+76029189&4294967295,S=A+(M<<23&4294967295|M>>>9),M=T+(S^A^F)+j[9]+3654602809&4294967295,T=S+(M<<4&4294967295|M>>>28),M=F+(T^S^A)+j[12]+3873151461&4294967295,F=T+(M<<11&4294967295|M>>>21),M=A+(F^T^S)+j[15]+530742520&4294967295,A=F+(M<<16&4294967295|M>>>16),M=S+(A^F^T)+j[2]+3299628645&4294967295,S=A+(M<<23&4294967295|M>>>9),M=T+(A^(S|~F))+j[0]+4096336452&4294967295,T=S+(M<<6&4294967295|M>>>26),M=F+(S^(T|~A))+j[7]+1126891415&4294967295,F=T+(M<<10&4294967295|M>>>22),M=A+(T^(F|~S))+j[14]+2878612391&4294967295,A=F+(M<<15&4294967295|M>>>17),M=S+(F^(A|~T))+j[5]+4237533241&4294967295,S=A+(M<<21&4294967295|M>>>11),M=T+(A^(S|~F))+j[12]+1700485571&4294967295,T=S+(M<<6&4294967295|M>>>26),M=F+(S^(T|~A))+j[3]+2399980690&4294967295,F=T+(M<<10&4294967295|M>>>22),M=A+(T^(F|~S))+j[10]+4293915773&4294967295,A=F+(M<<15&4294967295|M>>>17),M=S+(F^(A|~T))+j[1]+2240044497&4294967295,S=A+(M<<21&4294967295|M>>>11),M=T+(A^(S|~F))+j[8]+1873313359&4294967295,T=S+(M<<6&4294967295|M>>>26),M=F+(S^(T|~A))+j[15]+4264355552&4294967295,F=T+(M<<10&4294967295|M>>>22),M=A+(T^(F|~S))+j[6]+2734768916&4294967295,A=F+(M<<15&4294967295|M>>>17),M=S+(F^(A|~T))+j[13]+1309151649&4294967295,S=A+(M<<21&4294967295|M>>>11),M=T+(A^(S|~F))+j[4]+4149444226&4294967295,T=S+(M<<6&4294967295|M>>>26),M=F+(S^(T|~A))+j[11]+3174756917&4294967295,F=T+(M<<10&4294967295|M>>>22),M=A+(T^(F|~S))+j[2]+718787259&4294967295,A=F+(M<<15&4294967295|M>>>17),M=S+(F^(A|~T))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(A+(M<<21&4294967295|M>>>11))&4294967295,R.g[2]=R.g[2]+A&4294967295,R.g[3]=R.g[3]+F&4294967295}n.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var S=T-this.blockSize,j=this.B,A=this.h,F=0;F<T;){if(A==0)for(;F<=S;)i(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<T;)if(j[A++]=R.charCodeAt(F++),A==this.blockSize){i(this,j),A=0;break}}else for(;F<T;)if(j[A++]=R[F++],A==this.blockSize){i(this,j),A=0;break}}this.h=A,this.o+=T},n.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var S=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=S&255,S/=256;for(this.u(R),R=Array(16),T=S=0;4>T;++T)for(var j=0;32>j;j+=8)R[S++]=this.g[T]>>>j&255;return R};function a(R,T){var S=o;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=T(R)}function s(R,T){this.h=T;for(var S=[],j=!0,A=R.length-1;0<=A;A--){var F=R[A]|0;j&&F==T||(S[A]=F,j=!1)}this.g=S}var o={};function l(R){return-128<=R&&128>R?a(R,function(T){return new s([T|0],0>T?-1:0)}):new s([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return p;if(0>R)return k(c(-R));for(var T=[],S=1,j=0;R>=S;j++)T[j]=R/S|0,S*=4294967296;return new s(T,0)}function f(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return k(f(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(T,8)),j=p,A=0;A<R.length;A+=8){var F=Math.min(8,R.length-A),M=parseInt(R.substring(A,A+F),T);8>F?(F=c(Math.pow(T,F)),j=j.j(F).add(c(M))):(j=j.j(S),j=j.add(c(M)))}return j}var p=l(0),g=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-k(this).m();for(var R=0,T=1,S=0;S<this.g.length;S++){var j=this.i(S);R+=(0<=j?j:4294967296+j)*T,T*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(y(this))return"0";if(w(this))return"-"+k(this).toString(R);for(var T=c(Math.pow(R,6)),S=this,j="";;){var A=V(S,T).g;S=N(S,A.j(T));var F=((0<S.g.length?S.g[0]:S.h)>>>0).toString(R);if(S=A,y(S))return F+j;for(;6>F.length;)F="0"+F;j=F+j}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function y(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function w(R){return R.h==-1}t.l=function(R){return R=N(this,R),w(R)?-1:y(R)?0:1};function k(R){for(var T=R.g.length,S=[],j=0;j<T;j++)S[j]=~R.g[j];return new s(S,~R.h).add(g)}t.abs=function(){return w(this)?k(this):this},t.add=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],j=0,A=0;A<=T;A++){var F=j+(this.i(A)&65535)+(R.i(A)&65535),M=(F>>>16)+(this.i(A)>>>16)+(R.i(A)>>>16);j=M>>>16,F&=65535,M&=65535,S[A]=M<<16|F}return new s(S,S[S.length-1]&-2147483648?-1:0)};function N(R,T){return R.add(k(T))}t.j=function(R){if(y(this)||y(R))return p;if(w(this))return w(R)?k(this).j(k(R)):k(k(this).j(R));if(w(R))return k(this.j(k(R)));if(0>this.l(m)&&0>R.l(m))return c(this.m()*R.m());for(var T=this.g.length+R.g.length,S=[],j=0;j<2*T;j++)S[j]=0;for(j=0;j<this.g.length;j++)for(var A=0;A<R.g.length;A++){var F=this.i(j)>>>16,M=this.i(j)&65535,re=R.i(A)>>>16,pe=R.i(A)&65535;S[2*j+2*A]+=M*pe,L(S,2*j+2*A),S[2*j+2*A+1]+=F*pe,L(S,2*j+2*A+1),S[2*j+2*A+1]+=M*re,L(S,2*j+2*A+1),S[2*j+2*A+2]+=F*re,L(S,2*j+2*A+2)}for(j=0;j<T;j++)S[j]=S[2*j+1]<<16|S[2*j];for(j=T;j<2*T;j++)S[j]=0;return new s(S,0)};function L(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function P(R,T){this.g=R,this.h=T}function V(R,T){if(y(T))throw Error("division by zero");if(y(R))return new P(p,p);if(w(R))return T=V(k(R),T),new P(k(T.g),k(T.h));if(w(T))return T=V(R,k(T)),new P(k(T.g),T.h);if(30<R.g.length){if(w(R)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var S=g,j=T;0>=j.l(R);)S=Y(S),j=Y(j);var A=Q(S,1),F=Q(j,1);for(j=Q(j,2),S=Q(S,2);!y(j);){var M=F.add(j);0>=M.l(R)&&(A=A.add(S),F=M),j=Q(j,1),S=Q(S,1)}return T=N(R,A.j(T)),new P(A,T)}for(A=p;0<=R.l(T);){for(S=Math.max(1,Math.floor(R.m()/T.m())),j=Math.ceil(Math.log(S)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),F=c(S),M=F.j(T);w(M)||0<M.l(R);)S-=j,F=c(S),M=F.j(T);y(F)&&(F=g),A=A.add(F),R=N(R,M)}return new P(A,R)}t.A=function(R){return V(this,R).h},t.and=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],j=0;j<T;j++)S[j]=this.i(j)&R.i(j);return new s(S,this.h&R.h)},t.or=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],j=0;j<T;j++)S[j]=this.i(j)|R.i(j);return new s(S,this.h|R.h)},t.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),S=[],j=0;j<T;j++)S[j]=this.i(j)^R.i(j);return new s(S,this.h^R.h)};function Y(R){for(var T=R.g.length+1,S=[],j=0;j<T;j++)S[j]=R.i(j)<<1|R.i(j-1)>>>31;return new s(S,R.h)}function Q(R,T){var S=T>>5;T%=32;for(var j=R.g.length-S,A=[],F=0;F<j;F++)A[F]=0<T?R.i(F+S)>>>T|R.i(F+S+1)<<32-T:R.i(F+S);return new s(A,R.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,iN=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Ah=s}).apply(typeof rk<"u"?rk:typeof self<"u"?self:typeof window<"u"?window:{});var q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aN,hm,sN,Ax,_3,oN,lN,cN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,z,Z){return b==Array.prototype||b==Object.prototype||(b[z]=Z.value),b};function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof q2=="object"&&q2];for(var z=0;z<b.length;++z){var Z=b[z];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var n=r(this);function i(b,z){if(z)e:{var Z=n;b=b.split(".");for(var ge=0;ge<b.length-1;ge++){var Xe=b[ge];if(!(Xe in Z))break e;Z=Z[Xe]}b=b[b.length-1],ge=Z[b],z=z(ge),z!=ge&&z!=null&&e(Z,b,{configurable:!0,writable:!0,value:z})}}function a(b,z){b instanceof String&&(b+="");var Z=0,ge=!1,Xe={next:function(){if(!ge&&Z<b.length){var ut=Z++;return{value:z(ut,b[ut]),done:!1}}return ge=!0,{done:!0,value:void 0}}};return Xe[Symbol.iterator]=function(){return Xe},Xe}i("Array.prototype.values",function(b){return b||function(){return a(this,function(z,Z){return Z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(b){var z=typeof b;return z=z!="object"?z:b?Array.isArray(b)?"array":z:"null",z=="array"||z=="object"&&typeof b.length=="number"}function c(b){var z=typeof b;return z=="object"&&b!=null||z=="function"}function f(b,z,Z){return b.call.apply(b.bind,arguments)}function p(b,z,Z){if(!b)throw Error();if(2<arguments.length){var ge=Array.prototype.slice.call(arguments,2);return function(){var Xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Xe,ge),b.apply(z,Xe)}}return function(){return b.apply(z,arguments)}}function g(b,z,Z){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function m(b,z){var Z=Array.prototype.slice.call(arguments,1);return function(){var ge=Z.slice();return ge.push.apply(ge,arguments),b.apply(this,ge)}}function y(b,z){function Z(){}Z.prototype=z.prototype,b.aa=z.prototype,b.prototype=new Z,b.prototype.constructor=b,b.Qb=function(ge,Xe,ut){for(var Lt=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)Lt[vn-2]=arguments[vn];return z.prototype[Xe].apply(ge,Lt)}}function w(b){const z=b.length;if(0<z){const Z=Array(z);for(let ge=0;ge<z;ge++)Z[ge]=b[ge];return Z}return[]}function k(b,z){for(let Z=1;Z<arguments.length;Z++){const ge=arguments[Z];if(l(ge)){const Xe=b.length||0,ut=ge.length||0;b.length=Xe+ut;for(let Lt=0;Lt<ut;Lt++)b[Xe+Lt]=ge[Lt]}else b.push(ge)}}class N{constructor(z,Z){this.i=z,this.j=Z,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function L(b){return/^[\s\xa0]*$/.test(b)}function P(){var b=o.navigator;return b&&(b=b.userAgent)?b:""}function V(b){return V[" "](b),b}V[" "]=function(){};var Y=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function Q(b,z,Z){for(const ge in b)z.call(Z,b[ge],ge,b)}function R(b,z){for(const Z in b)z.call(void 0,b[Z],Z,b)}function T(b){const z={};for(const Z in b)z[Z]=b[Z];return z}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(b,z){let Z,ge;for(let Xe=1;Xe<arguments.length;Xe++){ge=arguments[Xe];for(Z in ge)b[Z]=ge[Z];for(let ut=0;ut<S.length;ut++)Z=S[ut],Object.prototype.hasOwnProperty.call(ge,Z)&&(b[Z]=ge[Z])}}function A(b){var z=1;b=b.split(":");const Z=[];for(;0<z&&b.length;)Z.push(b.shift()),z--;return b.length&&Z.push(b.join(":")),Z}function F(b){o.setTimeout(()=>{throw b},0)}function M(){var b=G;let z=null;return b.g&&(z=b.g,b.g=b.g.next,b.g||(b.h=null),z.next=null),z}class re{constructor(){this.h=this.g=null}add(z,Z){const ge=pe.get();ge.set(z,Z),this.h?this.h.next=ge:this.g=ge,this.h=ge}}var pe=new N(()=>new _e,b=>b.reset());class _e{constructor(){this.next=this.g=this.h=null}set(z,Z){this.h=z,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,oe=!1,G=new re,fe=()=>{const b=o.Promise.resolve(void 0);xe=()=>{b.then(X)}};var X=()=>{for(var b;b=M();){try{b.h.call(b.g)}catch(Z){F(Z)}var z=pe;z.j(b),100>z.h&&(z.h++,b.next=z.g,z.g=b)}oe=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(b,z){this.type=b,this.g=this.target=z,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var W=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var b=!1,z=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const Z=()=>{};o.addEventListener("test",Z,z),o.removeEventListener("test",Z,z)}catch{}return b})();function J(b,z){if(q.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var Z=this.type=b.type,ge=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=z,z=b.relatedTarget){if(Y){e:{try{V(z.nodeName);var Xe=!0;break e}catch{}Xe=!1}Xe||(z=null)}}else Z=="mouseover"?z=b.fromElement:Z=="mouseout"&&(z=b.toElement);this.relatedTarget=z,ge?(this.clientX=ge.clientX!==void 0?ge.clientX:ge.pageX,this.clientY=ge.clientY!==void 0?ge.clientY:ge.pageY,this.screenX=ge.screenX||0,this.screenY=ge.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:ce[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&J.aa.h.call(this)}}y(J,q);var ce={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function le(b,z,Z,ge,Xe){this.listener=b,this.proxy=null,this.src=z,this.type=Z,this.capture=!!ge,this.ha=Xe,this.key=++Ee,this.da=this.fa=!1}function be(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Le(b){this.src=b,this.g={},this.h=0}Le.prototype.add=function(b,z,Z,ge,Xe){var ut=b.toString();b=this.g[ut],b||(b=this.g[ut]=[],this.h++);var Lt=je(b,z,ge,Xe);return-1<Lt?(z=b[Lt],Z||(z.fa=!1)):(z=new le(z,this.src,ut,!!ge,Xe),z.fa=Z,b.push(z)),z};function ae(b,z){var Z=z.type;if(Z in b.g){var ge=b.g[Z],Xe=Array.prototype.indexOf.call(ge,z,void 0),ut;(ut=0<=Xe)&&Array.prototype.splice.call(ge,Xe,1),ut&&(be(z),b.g[Z].length==0&&(delete b.g[Z],b.h--))}}function je(b,z,Z,ge){for(var Xe=0;Xe<b.length;++Xe){var ut=b[Xe];if(!ut.da&&ut.listener==z&&ut.capture==!!Z&&ut.ha==ge)return Xe}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),de={};function Me(b,z,Z,ge,Xe){if(Array.isArray(z)){for(var ut=0;ut<z.length;ut++)Me(b,z[ut],Z,ge,Xe);return null}return Z=qe(Z),b&&b[ve]?b.K(z,Z,c(ge)?!!ge.capture:!1,Xe):Be(b,z,Z,!1,ge,Xe)}function Be(b,z,Z,ge,Xe,ut){if(!z)throw Error("Invalid event type");var Lt=c(Xe)?!!Xe.capture:!!Xe,vn=Et(b);if(vn||(b[Pe]=vn=new Le(b)),Z=vn.add(z,Z,ge,Lt,ut),Z.proxy)return Z;if(ge=et(),Z.proxy=ge,ge.src=b,ge.listener=Z,b.addEventListener)W||(Xe=Lt),Xe===void 0&&(Xe=!1),b.addEventListener(z.toString(),ge,Xe);else if(b.attachEvent)b.attachEvent(Ke(z.toString()),ge);else if(b.addListener&&b.removeListener)b.addListener(ge);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function et(){function b(Z){return z.call(b.src,b.listener,Z)}const z=mt;return b}function ne(b,z,Z,ge,Xe){if(Array.isArray(z))for(var ut=0;ut<z.length;ut++)ne(b,z[ut],Z,ge,Xe);else ge=c(ge)?!!ge.capture:!!ge,Z=qe(Z),b&&b[ve]?(b=b.i,z=String(z).toString(),z in b.g&&(ut=b.g[z],Z=je(ut,Z,ge,Xe),-1<Z&&(be(ut[Z]),Array.prototype.splice.call(ut,Z,1),ut.length==0&&(delete b.g[z],b.h--)))):b&&(b=Et(b))&&(z=b.g[z.toString()],b=-1,z&&(b=je(z,Z,ge,Xe)),(Z=-1<b?z[b]:null)&&De(Z))}function De(b){if(typeof b!="number"&&b&&!b.da){var z=b.src;if(z&&z[ve])ae(z.i,b);else{var Z=b.type,ge=b.proxy;z.removeEventListener?z.removeEventListener(Z,ge,b.capture):z.detachEvent?z.detachEvent(Ke(Z),ge):z.addListener&&z.removeListener&&z.removeListener(ge),(Z=Et(z))?(ae(Z,b),Z.h==0&&(Z.src=null,z[Pe]=null)):be(b)}}}function Ke(b){return b in de?de[b]:de[b]="on"+b}function mt(b,z){if(b.da)b=!0;else{z=new J(z,this);var Z=b.listener,ge=b.ha||b.src;b.fa&&De(b),b=Z.call(ge,z)}return b}function Et(b){return b=b[Pe],b instanceof Le?b:null}var Re="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(b){return typeof b=="function"?b:(b[Re]||(b[Re]=function(z){return b.handleEvent(z)}),b[Re])}function Ge(){I.call(this),this.i=new Le(this),this.M=this,this.F=null}y(Ge,I),Ge.prototype[ve]=!0,Ge.prototype.removeEventListener=function(b,z,Z,ge){ne(this,b,z,Z,ge)};function dt(b,z){var Z,ge=b.F;if(ge)for(Z=[];ge;ge=ge.F)Z.push(ge);if(b=b.M,ge=z.type||z,typeof z=="string")z=new q(z,b);else if(z instanceof q)z.target=z.target||b;else{var Xe=z;z=new q(ge,b),j(z,Xe)}if(Xe=!0,Z)for(var ut=Z.length-1;0<=ut;ut--){var Lt=z.g=Z[ut];Xe=Nt(Lt,ge,!0,z)&&Xe}if(Lt=z.g=b,Xe=Nt(Lt,ge,!0,z)&&Xe,Xe=Nt(Lt,ge,!1,z)&&Xe,Z)for(ut=0;ut<Z.length;ut++)Lt=z.g=Z[ut],Xe=Nt(Lt,ge,!1,z)&&Xe}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var b=this.i,z;for(z in b.g){for(var Z=b.g[z],ge=0;ge<Z.length;ge++)be(Z[ge]);delete b.g[z],b.h--}}this.F=null},Ge.prototype.K=function(b,z,Z,ge){return this.i.add(String(b),z,!1,Z,ge)},Ge.prototype.L=function(b,z,Z,ge){return this.i.add(String(b),z,!0,Z,ge)};function Nt(b,z,Z,ge){if(z=b.i.g[String(z)],!z)return!0;z=z.concat();for(var Xe=!0,ut=0;ut<z.length;++ut){var Lt=z[ut];if(Lt&&!Lt.da&&Lt.capture==Z){var vn=Lt.listener,hi=Lt.ha||Lt.src;Lt.fa&&ae(b.i,Lt),Xe=vn.call(hi,ge)!==!1&&Xe}}return Xe&&!ge.defaultPrevented}function It(b,z,Z){if(typeof b=="function")Z&&(b=g(b,Z));else if(b&&typeof b.handleEvent=="function")b=g(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:o.setTimeout(b,z||0)}function yt(b){b.g=It(()=>{b.g=null,b.i&&(b.i=!1,yt(b))},b.l);const z=b.h;b.h=null,b.m.apply(null,z)}class wt extends I{constructor(z,Z){super(),this.m=z,this.l=Z,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(b){I.call(this),this.h=b,this.g={}}y(Xt,I);var qt=[];function Bt(b){Q(b.g,function(z,Z){this.g.hasOwnProperty(Z)&&De(z)},b),b.g={}}Xt.prototype.N=function(){Xt.aa.N.call(this),Bt(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=o.JSON.stringify,qr=o.JSON.parse,fr=class{stringify(b){return o.JSON.stringify(b,void 0)}parse(b){return o.JSON.parse(b,void 0)}};function He(){}He.prototype.h=null;function Ot(b){return b.h||(b.h=b.i())}function hr(){}var Zt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qt(){q.call(this,"d")}y(Qt,q);function Wt(){q.call(this,"c")}y(Wt,q);var br={},Dn=null;function jr(){return Dn=Dn||new Ge}br.La="serverreachability";function Cn(b){q.call(this,br.La,b)}y(Cn,q);function mn(b){const z=jr();dt(z,new Cn(z))}br.STAT_EVENT="statevent";function ir(b,z){q.call(this,br.STAT_EVENT,b),this.stat=z}y(ir,q);function Kr(b){const z=jr();dt(z,new ir(z,b))}br.Ma="timingevent";function vi(b,z){q.call(this,br.Ma,b),this.size=z}y(vi,q);function Rn(b,z){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){b()},z)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function Nn(b,z,Z,ge,Xe,ut){b.info(function(){if(b.g)if(ut)for(var Lt="",vn=ut.split("&"),hi=0;hi<vn.length;hi++){var Qr=vn[hi].split("=");if(1<Qr.length){var rn=Qr[0];Qr=Qr[1];var wn=rn.split("_");Lt=2<=wn.length&&wn[1]=="type"?Lt+(rn+"="+Qr+"&"):Lt+(rn+"=redacted&")}}else Lt=null;else Lt=ut;return"XMLHTTP REQ ("+ge+") [attempt "+Xe+"]: "+z+`
`+Z+`
`+Lt})}function si(b,z,Z,ge,Xe,ut,Lt){b.info(function(){return"XMLHTTP RESP ("+ge+") [ attempt "+Xe+"]: "+z+`
`+Z+`
`+ut+" "+Lt})}function ie(b,z,Z,ge){b.info(function(){return"XMLHTTP TEXT ("+z+"): "+we(b,Z)+(ge?" "+ge:"")})}function Ae(b,z){b.info(function(){return"TIMEOUT: "+z})}Bi.prototype.info=function(){};function we(b,z){if(!b.g)return z;if(!z)return null;try{var Z=JSON.parse(z);if(Z){for(b=0;b<Z.length;b++)if(Array.isArray(Z[b])){var ge=Z[b];if(!(2>ge.length)){var Xe=ge[1];if(Array.isArray(Xe)&&!(1>Xe.length)){var ut=Xe[0];if(ut!="noop"&&ut!="stop"&&ut!="close")for(var Lt=1;Lt<Xe.length;Lt++)Xe[Lt]=""}}}}return mr(Z)}catch{return z}}var ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Te={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function Qe(){}y(Qe,He),Qe.prototype.g=function(){return new XMLHttpRequest},Qe.prototype.i=function(){return{}},Ie=new Qe;function ot(b,z,Z,ge){this.j=b,this.i=z,this.l=Z,this.R=ge||1,this.U=new Xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tt}function tt(){this.i=null,this.g="",this.h=!1}var rt={},at={};function St(b,z,Z){b.L=1,b.v=Yo(za(z)),b.m=Z,b.P=!0,Mt(b,null)}function Mt(b,z){b.F=Date.now(),Pt(b),b.A=za(b.v);var Z=b.A,ge=b.R;Array.isArray(ge)||(ge=[String(ge)]),kr(Z.i,"t",ge),b.C=0,Z=b.j.J,b.h=new tt,b.g=tl(b.j,Z?z:null,!b.m),0<b.O&&(b.M=new wt(g(b.Y,b,b.g),b.O)),z=b.U,Z=b.g,ge=b.ca;var Xe="readystatechange";Array.isArray(Xe)||(Xe&&(qt[0]=Xe.toString()),Xe=qt);for(var ut=0;ut<Xe.length;ut++){var Lt=Me(Z,Xe[ut],ge||z.handleEvent,!1,z.h||z);if(!Lt)break;z.g[Lt.key]=Lt}z=b.H?T(b.H):{},b.m?(b.u||(b.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,z)):(b.u="GET",b.g.ea(b.A,b.u,null,z)),mn(),Nn(b.i,b.u,b.A,b.l,b.R,b.m)}ot.prototype.ca=function(b){b=b.target;const z=this.M;z&&Ta(b)==3?z.j():this.Y(b)},ot.prototype.Y=function(b){try{if(b==this.g)e:{const wn=Ta(this.g);var z=this.g.Ba();const as=this.g.Z();if(!(3>wn)&&(wn!=3||this.g&&(this.h.h||this.g.oa()||ic(this.g)))){this.J||wn!=4||z==7||(z==8||0>=as?mn(3):mn(2)),dn(this);var Z=this.g.Z();this.X=Z;t:if(Gt(this)){var ge=ic(this.g);b="";var Xe=ge.length,ut=Ta(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Br(this);var Lt="";break t}this.h.i=new o.TextDecoder}for(z=0;z<Xe;z++)this.h.h=!0,b+=this.h.i.decode(ge[z],{stream:!(ut&&z==Xe-1)});ge.length=0,this.h.g+=b,this.C=0,Lt=this.h.g}else Lt=this.g.oa();if(this.o=Z==200,si(this.i,this.u,this.A,this.l,this.R,wn,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var vn,hi=this.g;if((vn=hi.g?hi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(vn)){var Qr=vn;break t}}Qr=null}if(Z=Qr)ie(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Os(this,Z);else{this.o=!1,this.s=3,Kr(12),gn(this),Br(this);break e}}if(this.P){Z=!0;let Ga;for(;!this.J&&this.C<Lt.length;)if(Ga=Dt(this,Lt),Ga==at){wn==4&&(this.s=4,Kr(14),Z=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Ga==rt){this.s=4,Kr(15),ie(this.i,this.l,Lt,"[Invalid Chunk]"),Z=!1;break}else ie(this.i,this.l,Ga,null),Os(this,Ga);if(Gt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wn!=4||Lt.length!=0||this.h.h||(this.s=1,Kr(16),Z=!1),this.o=this.o&&Z,!Z)ie(this.i,this.l,Lt,"[Invalid Chunked Response]"),gn(this),Br(this);else if(0<Lt.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+Lt.length),ln(rn),rn.M=!0,Kr(11))}}else ie(this.i,this.l,Lt,null),Os(this,Lt);wn==4&&gn(this),this.o&&!this.J&&(wn==4?xn(this.j,this):(this.o=!1,Pt(this)))}else Ia(this.g),Z==400&&0<Lt.indexOf("Unknown SID")?(this.s=3,Kr(12)):(this.s=0,Kr(13)),gn(this),Br(this)}}}catch{}finally{}};function Gt(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function Dt(b,z){var Z=b.C,ge=z.indexOf(`
`,Z);return ge==-1?at:(Z=Number(z.substring(Z,ge)),isNaN(Z)?rt:(ge+=1,ge+Z>z.length?at:(z=z.slice(ge,ge+Z),b.C=ge+Z,z)))}ot.prototype.cancel=function(){this.J=!0,gn(this)};function Pt(b){b.S=Date.now()+b.I,Er(b,b.I)}function Er(b,z){if(b.B!=null)throw Error("WatchDog timer not null");b.B=Rn(g(b.ba,b),z)}function dn(b){b.B&&(o.clearTimeout(b.B),b.B=null)}ot.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(Ae(this.i,this.A),this.L!=2&&(mn(),Kr(17)),gn(this),this.s=2,Br(this)):Er(this,this.S-b)};function Br(b){b.j.G==0||b.J||xn(b.j,b)}function gn(b){dn(b);var z=b.M;z&&typeof z.ma=="function"&&z.ma(),b.M=null,Bt(b.U),b.g&&(z=b.g,b.g=null,z.abort(),z.ma())}function Os(b,z){try{var Z=b.j;if(Z.G!=0&&(Z.g==b||An(Z.h,b))){if(!b.K&&An(Z.h,b)&&Z.G==3){try{var ge=Z.Da.g.parse(z)}catch{ge=null}if(Array.isArray(ge)&&ge.length==3){var Xe=ge;if(Xe[0]==0){e:if(!Z.u){if(Z.g)if(Z.g.F+3e3<b.F)oi(Z),Ce(Z);else break e;Ir(Z),Kr(18)}}else Z.za=Xe[1],0<Z.za-Z.T&&37500>Xe[2]&&Z.F&&Z.v==0&&!Z.C&&(Z.C=Rn(g(Z.Za,Z),6e3));if(1>=Xo(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else Mn(Z,11)}else if((b.K||Z.g==b)&&oi(Z),!L(z))for(Xe=Z.Da.g.parse(z),z=0;z<Xe.length;z++){let Qr=Xe[z];if(Z.T=Qr[0],Qr=Qr[1],Z.G==2)if(Qr[0]=="c"){Z.K=Qr[1],Z.ia=Qr[2];const rn=Qr[3];rn!=null&&(Z.la=rn,Z.j.info("VER="+Z.la));const wn=Qr[4];wn!=null&&(Z.Aa=wn,Z.j.info("SVER="+Z.Aa));const as=Qr[5];as!=null&&typeof as=="number"&&0<as&&(ge=1.5*as,Z.L=ge,Z.j.info("backChannelRequestTimeoutMs_="+ge)),ge=Z;const Ga=b.g;if(Ga){const qs=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var ut=ge.h;ut.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(ut.j=ut.l,ut.g=new Set,ut.h&&(_u(ut,ut.h),ut.h=null))}if(ge.D){const rl=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(ge.ya=rl,tn(ge.I,ge.D,rl))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-b.F,Z.j.info("Handshake RTT: "+Z.R+"ms")),ge=Z;var Lt=b;if(ge.qa=Fo(ge,ge.J?ge.ia:null,ge.W),Lt.K){yi(ge.h,Lt);var vn=Lt,hi=ge.L;hi&&(vn.I=hi),vn.B&&(dn(vn),Pt(vn)),ge.g=Lt}else wr(ge);0<Z.i.length&&We(Z)}else Qr[0]!="stop"&&Qr[0]!="close"||Mn(Z,7);else Z.G==3&&(Qr[0]=="stop"||Qr[0]=="close"?Qr[0]=="stop"?Mn(Z,7):ee(Z):Qr[0]!="noop"&&Z.l&&Z.l.ta(Qr),Z.v=0)}}mn(4)}catch{}}var Ms=class{constructor(b,z){this.g=b,this.map=z}};function ns(b){this.l=b||10,o.PerformanceNavigationTiming?(b=o.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fi(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function Xo(b){return b.h?1:b.g?b.g.size:0}function An(b,z){return b.h?b.h==z:b.g?b.g.has(z):!1}function _u(b,z){b.g?b.g.add(z):b.h=z}function yi(b,z){b.h&&b.h==z?b.h=null:b.g&&b.g.has(z)&&b.g.delete(z)}ns.prototype.cancel=function(){if(this.i=bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function bu(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let z=b.i;for(const Z of b.g.values())z=z.concat(Z.D);return z}return w(b.i)}function tc(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(l(b)){for(var z=[],Z=b.length,ge=0;ge<Z;ge++)z.push(b[ge]);return z}z=[],Z=0;for(ge in b)z[Z++]=b[ge];return z}function Bs(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(l(b)||typeof b=="string"){var z=[];b=b.length;for(var Z=0;Z<b;Z++)z.push(Z);return z}z=[],Z=0;for(const ge in b)z[Z++]=ge;return z}}}function Vs(b,z){if(b.forEach&&typeof b.forEach=="function")b.forEach(z,void 0);else if(l(b)||typeof b=="string")Array.prototype.forEach.call(b,z,void 0);else for(var Z=Bs(b),ge=tc(b),Xe=ge.length,ut=0;ut<Xe;ut++)z.call(void 0,ge[ut],Z&&Z[ut],b)}var Ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rc(b,z){if(b){b=b.split("&");for(var Z=0;Z<b.length;Z++){var ge=b[Z].indexOf("="),Xe=null;if(0<=ge){var ut=b[Z].substring(0,ge);Xe=b[Z].substring(ge+1)}else ut=b[Z];z(ut,Xe?decodeURIComponent(Xe.replace(/\+/g," ")):"")}}}function Fn(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof Fn){this.h=b.h,nc(this,b.j),this.o=b.o,this.g=b.g,_l(this,b.s),this.l=b.l;var z=b.i,Z=new $a;Z.i=z.i,z.g&&(Z.g=new Map(z.g),Z.h=z.h),bl(this,Z),this.m=b.m}else b&&(z=String(b).match(Ua))?(this.h=!1,nc(this,z[1]||"",!0),this.o=Xr(z[2]||""),this.g=Xr(z[3]||"",!0),_l(this,z[4]),this.l=Xr(z[5]||"",!0),bl(this,z[6]||"",!0),this.m=Xr(z[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}Fn.prototype.toString=function(){var b=[],z=this.j;z&&b.push(ws(z,Fc,!0),":");var Z=this.g;return(Z||z=="file")&&(b.push("//"),(z=this.o)&&b.push(ws(z,Fc,!0),"@"),b.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.s,Z!=null&&b.push(":",String(Z))),(Z=this.l)&&(this.g&&Z.charAt(0)!="/"&&b.push("/"),b.push(ws(Z,Z.charAt(0)=="/"?wd:yd,!0))),(Z=this.i.toString())&&b.push("?",Z),(Z=this.m)&&b.push("#",ws(Z,Qo)),b.join("")};function za(b){return new Fn(b)}function nc(b,z,Z){b.j=Z?Xr(z,!0):z,b.j&&(b.j=b.j.replace(/:$/,""))}function _l(b,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);b.s=z}else b.s=null}function bl(b,z,Z){z instanceof $a?(b.i=z,Io(b.i,b.h)):(Z||(z=ws(z,Lc)),b.i=new $a(z,b.h))}function tn(b,z,Z){b.i.set(z,Z)}function Yo(b){return tn(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function Xr(b,z){return b?z?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function ws(b,z,Z){return typeof b=="string"?(b=encodeURI(b).replace(z,Rc),Z&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Rc(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Fc=/[#\/\?@]/g,yd=/[#\?:]/g,wd=/[#\?]/g,Lc=/[#\?@]/g,Qo=/#/g;function $a(b,z){this.h=this.g=null,this.i=b||null,this.j=!!z}function fa(b){b.g||(b.g=new Map,b.h=0,b.i&&rc(b.i,function(z,Z){b.add(decodeURIComponent(z.replace(/\+/g," ")),Z)}))}t=$a.prototype,t.add=function(b,z){fa(this),this.i=null,b=Us(this,b);var Z=this.g.get(b);return Z||this.g.set(b,Z=[]),Z.push(z),this.h+=1,this};function qa(b,z){fa(b),z=Us(b,z),b.g.has(z)&&(b.i=null,b.h-=b.g.get(z).length,b.g.delete(z))}function _s(b,z){return fa(b),z=Us(b,z),b.g.has(z)}t.forEach=function(b,z){fa(this),this.g.forEach(function(Z,ge){Z.forEach(function(Xe){b.call(z,Xe,ge,this)},this)},this)},t.na=function(){fa(this);const b=Array.from(this.g.values()),z=Array.from(this.g.keys()),Z=[];for(let ge=0;ge<z.length;ge++){const Xe=b[ge];for(let ut=0;ut<Xe.length;ut++)Z.push(z[ge])}return Z},t.V=function(b){fa(this);let z=[];if(typeof b=="string")_s(this,b)&&(z=z.concat(this.g.get(Us(this,b))));else{b=Array.from(this.g.values());for(let Z=0;Z<b.length;Z++)z=z.concat(b[Z])}return z},t.set=function(b,z){return fa(this),this.i=null,b=Us(this,b),_s(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[z]),this.h+=1,this},t.get=function(b,z){return b?(b=this.V(b),0<b.length?String(b[0]):z):z};function kr(b,z,Z){qa(b,z),0<Z.length&&(b.i=null,b.g.set(Us(b,z),w(Z)),b.h+=Z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],z=Array.from(this.g.keys());for(var Z=0;Z<z.length;Z++){var ge=z[Z];const ut=encodeURIComponent(String(ge)),Lt=this.V(ge);for(ge=0;ge<Lt.length;ge++){var Xe=ut;Lt[ge]!==""&&(Xe+="="+encodeURIComponent(String(Lt[ge]))),b.push(Xe)}}return this.i=b.join("&")};function Us(b,z){return z=String(z),b.j&&(z=z.toLowerCase()),z}function Io(b,z){z&&!b.j&&(fa(b),b.i=null,b.g.forEach(function(Z,ge){var Xe=ge.toLowerCase();ge!=Xe&&(qa(this,ge),kr(this,Xe,Z))},b)),b.j=z}function Hf(b,z){const Z=new Bi;if(o.Image){const ge=new Image;ge.onload=m(Ai,Z,"TestLoadImage: loaded",!0,z,ge),ge.onerror=m(Ai,Z,"TestLoadImage: error",!1,z,ge),ge.onabort=m(Ai,Z,"TestLoadImage: abort",!1,z,ge),ge.ontimeout=m(Ai,Z,"TestLoadImage: timeout",!1,z,ge),o.setTimeout(function(){ge.ontimeout&&ge.ontimeout()},1e4),ge.src=b}else z(!1)}function _d(b,z){const Z=new Bi,ge=new AbortController,Xe=setTimeout(()=>{ge.abort(),Ai(Z,"TestPingServer: timeout",!1,z)},1e4);fetch(b,{signal:ge.signal}).then(ut=>{clearTimeout(Xe),ut.ok?Ai(Z,"TestPingServer: ok",!0,z):Ai(Z,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(Xe),Ai(Z,"TestPingServer: error",!1,z)})}function Ai(b,z,Z,ge,Xe){try{Xe&&(Xe.onload=null,Xe.onerror=null,Xe.onabort=null,Xe.ontimeout=null),ge(Z)}catch{}}function Jo(){this.g=new fr}function bd(b,z,Z){const ge=Z||"";try{Vs(b,function(Xe,ut){let Lt=Xe;c(Xe)&&(Lt=mr(Xe)),z.push(ge+ut+"="+encodeURIComponent(Lt))})}catch(Xe){throw z.push(ge+"type="+encodeURIComponent("_badmap")),Xe}}function Zo(b){this.l=b.Ub||null,this.j=b.eb||!1}y(Zo,He),Zo.prototype.g=function(){return new Po(this.l,this.j)},Zo.prototype.i=(function(b){return function(){return b}})({});function Po(b,z){Ge.call(this),this.D=b,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Po,Ge),t=Po.prototype,t.open=function(b,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=z,this.readyState=1,is(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(z.body=b),(this.D||o).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,is(this)),this.g&&(this.readyState=3,is(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jc(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function jc(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var z=b.value?b.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!b.done}))&&(this.response=this.responseText+=z)}b.done?Ha(this):is(this),this.readyState==3&&jc(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,Ha(this))},t.Qa=function(b){this.g&&(this.response=b,Ha(this))},t.ga=function(){this.g&&Ha(this)};function Ha(b){b.readyState=4,b.l=null,b.j=null,b.v=null,is(b)}t.setRequestHeader=function(b,z){this.u.append(b,z)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],z=this.h.entries();for(var Z=z.next();!Z.done;)Z=Z.value,b.push(Z[0]+": "+Z[1]),Z=z.next();return b.join(`\r
`)};function is(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function zs(b){let z="";return Q(b,function(Z,ge){z+=ge,z+=":",z+=Z,z+=`\r
`}),z}function kl(b,z,Z){e:{for(ge in Z){var ge=!1;break e}ge=!0}ge||(Z=zs(Z),typeof b=="string"?Z!=null&&encodeURIComponent(String(Z)):tn(b,z,Z))}function On(b){Ge.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(On,Ge);var ku=/^https?$/i,el=["POST","PUT"];t=On.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,z,Z,ge){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);z=z?z.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?Ot(this.o):Ot(Ie),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(z,String(b),!0),this.B=!1}catch(ut){yo(this,ut);return}if(b=Z||"",Z=new Map(this.headers),ge)if(Object.getPrototypeOf(ge)===Object.prototype)for(var Xe in ge)Z.set(Xe,ge[Xe]);else if(typeof ge.keys=="function"&&typeof ge.get=="function")for(const ut of ge.keys())Z.set(ut,ge.get(ut));else throw Error("Unknown input type for opt_headers: "+String(ge));ge=Array.from(Z.keys()).find(ut=>ut.toLowerCase()=="content-type"),Xe=o.FormData&&b instanceof o.FormData,!(0<=Array.prototype.indexOf.call(el,z,void 0))||ge||Xe||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ut,Lt]of Z)this.g.setRequestHeader(ut,Lt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ro(this),this.u=!0,this.g.send(b),this.u=!1}catch(ut){yo(this,ut)}};function yo(b,z){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=z,b.m=5,El(b),Wa(b)}function El(b){b.A||(b.A=!0,dt(b,"complete"),dt(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,dt(this,"complete"),dt(this,"abort"),Wa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wa(this,!0)),On.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sl(this):this.bb())},t.bb=function(){Sl(this)};function Sl(b){if(b.h&&typeof s<"u"&&(!b.v[1]||Ta(b)!=4||b.Z()!=2)){if(b.u&&Ta(b)==4)It(b.Ea,0,b);else if(dt(b,"readystatechange"),Ta(b)==4){b.h=!1;try{const Lt=b.Z();e:switch(Lt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Z;if(!(Z=z)){var ge;if(ge=Lt===0){var Xe=String(b.D).match(Ua)[1]||null;!Xe&&o.self&&o.self.location&&(Xe=o.self.location.protocol.slice(0,-1)),ge=!ku.test(Xe?Xe.toLowerCase():"")}Z=ge}if(Z)dt(b,"complete"),dt(b,"success");else{b.m=6;try{var ut=2<Ta(b)?b.g.statusText:""}catch{ut=""}b.l=ut+" ["+b.Z()+"]",El(b)}}finally{Wa(b)}}}}function Wa(b,z){if(b.g){Ro(b);const Z=b.g,ge=b.v[0]?()=>{}:null;b.g=null,b.v=null,z||dt(b,"ready");try{Z.onreadystatechange=ge}catch{}}}function Ro(b){b.I&&(o.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function Ta(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<Ta(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var z=this.g.responseText;return b&&z.indexOf(b)==0&&(z=z.substring(b.length)),qr(z)}};function ic(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Ia(b){const z={};b=(b.g&&2<=Ta(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let ge=0;ge<b.length;ge++){if(L(b[ge]))continue;var Z=A(b[ge]);const Xe=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const ut=z[Xe]||[];z[Xe]=ut,ut.push(Z)}R(z,function(ge){return ge.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(b,z,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[b]||z}function O(b){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,b),this.cb=ha("retryDelaySeedMs",1e4,b),this.Wa=ha("forwardChannelMaxRetries",2,b),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new ns(b&&b.concurrentRequestLimit),this.Da=new Jo,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=O.prototype,t.la=8,t.G=1,t.connect=function(b,z,Z,ge){Kr(0),this.W=b,this.H=z||{},Z&&ge!==void 0&&(this.H.OSID=Z,this.H.OAID=ge),this.F=this.X,this.I=Fo(this,null,this.W),We(this)};function ee(b){if(Oe(b),b.G==3){var z=b.U++,Z=za(b.I);if(tn(Z,"SID",b.K),tn(Z,"RID",z),tn(Z,"TYPE","terminate"),Yt(b,Z),z=new ot(b,b.j,z),z.L=2,z.v=Yo(za(Z)),Z=!1,o.navigator&&o.navigator.sendBeacon)try{Z=o.navigator.sendBeacon(z.v.toString(),"")}catch{}!Z&&o.Image&&(new Image().src=z.v,Z=!0),Z||(z.g=tl(z.j,null),z.g.ea(z.v)),z.F=Date.now(),Pt(z)}Qi(b)}function Ce(b){b.g&&(ln(b),b.g.cancel(),b.g=null)}function Oe(b){Ce(b),b.u&&(o.clearTimeout(b.u),b.u=null),oi(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&o.clearTimeout(b.s),b.s=null)}function We(b){if(!fi(b.h)&&!b.s){b.s=!0;var z=b.Ga;xe||fe(),oe||(xe(),oe=!0),G.add(z,b),b.B=0}}function vt(b,z){return Xo(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=z.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=Rn(g(b.Ga,b,z),Ti(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const Xe=new ot(this,this.j,b);let ut=this.o;if(this.S&&(ut?(ut=T(ut),j(ut,this.S)):ut=this.S),this.m!==null||this.O||(Xe.H=ut,ut=null),this.P)e:{for(var z=0,Z=0;Z<this.i.length;Z++){t:{var ge=this.i[Z];if("__data__"in ge.map&&(ge=ge.map.__data__,typeof ge=="string")){ge=ge.length;break t}ge=void 0}if(ge===void 0)break;if(z+=ge,4096<z){z=Z;break e}if(z===4096||Z===this.i.length-1){z=Z+1;break e}}z=1e3}else z=1e3;z=tr(this,Xe,z),Z=za(this.I),tn(Z,"RID",b),tn(Z,"CVER",22),this.D&&tn(Z,"X-HTTP-Session-Id",this.D),Yt(this,Z),ut&&(this.O?z="headers="+encodeURIComponent(String(zs(ut)))+"&"+z:this.m&&kl(Z,this.m,ut)),_u(this.h,Xe),this.Ua&&tn(Z,"TYPE","init"),this.P?(tn(Z,"$req",z),tn(Z,"SID","null"),Xe.T=!0,St(Xe,Z,null)):St(Xe,Z,z),this.G=2}}else this.G==3&&(b?kt(this,b):this.i.length==0||fi(this.h)||kt(this))};function kt(b,z){var Z;z?Z=z.l:Z=b.U++;const ge=za(b.I);tn(ge,"SID",b.K),tn(ge,"RID",Z),tn(ge,"AID",b.T),Yt(b,ge),b.m&&b.o&&kl(ge,b.m,b.o),Z=new ot(b,b.j,Z,b.B+1),b.m===null&&(Z.H=b.o),z&&(b.i=z.D.concat(b.i)),z=tr(b,Z,1e3),Z.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),_u(b.h,Z),St(Z,ge,z)}function Yt(b,z){b.H&&Q(b.H,function(Z,ge){tn(z,ge,Z)}),b.l&&Vs({},function(Z,ge){tn(z,ge,Z)})}function tr(b,z,Z){Z=Math.min(b.i.length,Z);var ge=b.l?g(b.l.Na,b.l,b):null;e:{var Xe=b.i;let ut=-1;for(;;){const Lt=["count="+Z];ut==-1?0<Z?(ut=Xe[0].g,Lt.push("ofs="+ut)):ut=0:Lt.push("ofs="+ut);let vn=!0;for(let hi=0;hi<Z;hi++){let Qr=Xe[hi].g;const rn=Xe[hi].map;if(Qr-=ut,0>Qr)ut=Math.max(0,Xe[hi].g-100),vn=!1;else try{bd(rn,Lt,"req"+Qr+"_")}catch{ge&&ge(rn)}}if(vn){ge=Lt.join("&");break e}}}return b=b.i.splice(0,Z),z.D=b,ge}function wr(b){if(!b.g&&!b.u){b.Y=1;var z=b.Fa;xe||fe(),oe||(xe(),oe=!0),G.add(z,b),b.v=0}}function Ir(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=Rn(g(b.Fa,b),Ti(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,Jn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=Rn(g(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Kr(10),Ce(this),Jn(this))};function ln(b){b.A!=null&&(o.clearTimeout(b.A),b.A=null)}function Jn(b){b.g=new ot(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var z=za(b.qa);tn(z,"RID","rpc"),tn(z,"SID",b.K),tn(z,"AID",b.T),tn(z,"CI",b.F?"0":"1"),!b.F&&b.ja&&tn(z,"TO",b.ja),tn(z,"TYPE","xmlhttp"),Yt(b,z),b.m&&b.o&&kl(z,b.m,b.o),b.L&&(b.g.I=b.L);var Z=b.g;b=b.ia,Z.L=1,Z.v=Yo(za(z)),Z.m=null,Z.P=!0,Mt(Z,b)}t.Za=function(){this.C!=null&&(this.C=null,Ce(this),Ir(this),Kr(19))};function oi(b){b.C!=null&&(o.clearTimeout(b.C),b.C=null)}function xn(b,z){var Z=null;if(b.g==z){oi(b),ln(b),b.g=null;var ge=2}else if(An(b.h,z))Z=z.D,yi(b.h,z),ge=1;else return;if(b.G!=0){if(z.o)if(ge==1){Z=z.m?z.m.length:0,z=Date.now()-z.F;var Xe=b.B;ge=jr(),dt(ge,new vi(ge,Z)),We(b)}else wr(b);else if(Xe=z.s,Xe==3||Xe==0&&0<z.X||!(ge==1&&vt(b,z)||ge==2&&Ir(b)))switch(Z&&0<Z.length&&(z=b.h,z.i=z.i.concat(Z)),Xe){case 1:Mn(b,5);break;case 4:Mn(b,10);break;case 3:Mn(b,6);break;default:Mn(b,2)}}}function Ti(b,z){let Z=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(Z*=2),Z*z}function Mn(b,z){if(b.j.info("Error code "+z),z==2){var Z=g(b.fb,b),ge=b.Xa;const Xe=!ge;ge=new Fn(ge||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||nc(ge,"https"),Yo(ge),Xe?Hf(ge.toString(),Z):_d(ge.toString(),Z)}else Kr(2);b.G=0,b.l&&b.l.sa(z),Qi(b),Oe(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),Kr(2)):(this.j.info("Failed to ping google.com"),Kr(1))};function Qi(b){if(b.G=0,b.ka=[],b.l){const z=bu(b.h);(z.length!=0||b.i.length!=0)&&(k(b.ka,z),k(b.ka,b.i),b.h.i.length=0,w(b.i),b.i.length=0),b.l.ra()}}function Fo(b,z,Z){var ge=Z instanceof Fn?za(Z):new Fn(Z);if(ge.g!="")z&&(ge.g=z+"."+ge.g),_l(ge,ge.s);else{var Xe=o.location;ge=Xe.protocol,z=z?z+"."+Xe.hostname:Xe.hostname,Xe=+Xe.port;var ut=new Fn(null);ge&&nc(ut,ge),z&&(ut.g=z),Xe&&_l(ut,Xe),Z&&(ut.l=Z),ge=ut}return Z=b.D,z=b.ya,Z&&z&&tn(ge,Z,z),tn(ge,"VER",b.la),Yt(b,ge),ge}function tl(b,z,Z){if(z&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=b.Ca&&!b.pa?new On(new Zo({eb:Z})):new On(b.pa),z.Ha(b.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}t=Eu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ac(){}ac.prototype.g=function(b,z){return new Vi(b,z)};function Vi(b,z){Ge.call(this),this.g=new O(z),this.l=b,this.h=z&&z.messageUrlParams||null,b=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(b?b["X-WebChannel-Content-Type"]=z.messageContentType:b={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(b?b["X-WebChannel-Client-Profile"]=z.va:b={"X-WebChannel-Client-Profile":z.va}),this.g.S=b,(b=z&&z.Sb)&&!L(b)&&(this.g.m=b),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!L(z)&&(this.g.D=z,b=this.h,b!==null&&z in b&&(b=this.h,z in b&&delete b[z])),this.j=new bs(this)}y(Vi,Ge),Vi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vi.prototype.close=function(){ee(this.g)},Vi.prototype.o=function(b){var z=this.g;if(typeof b=="string"){var Z={};Z.__data__=b,b=Z}else this.u&&(Z={},Z.__data__=mr(b),b=Z);z.i.push(new Ms(z.Ya++,b)),z.G==3&&We(z)},Vi.prototype.N=function(){this.g.l=null,delete this.j,ee(this.g),delete this.g,Vi.aa.N.call(this)};function $s(b){Qt.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var z=b.__sm__;if(z){e:{for(const Z in z){b=Z;break e}b=void 0}(this.i=b)&&(b=this.i,z=z!==null&&b in z?z[b]:void 0),this.data=z}else this.data=b}y($s,Qt);function Dc(){Wt.call(this),this.status=1}y(Dc,Wt);function bs(b){this.g=b}y(bs,Eu),bs.prototype.ua=function(){dt(this.g,"a")},bs.prototype.ta=function(b){dt(this.g,new $s(b))},bs.prototype.sa=function(b){dt(this.g,new Dc)},bs.prototype.ra=function(){dt(this.g,"b")},ac.prototype.createWebChannel=ac.prototype.g,Vi.prototype.send=Vi.prototype.o,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,cN=function(){return new ac},lN=function(){return jr()},oN=br,_3={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,Ax=ke,Te.COMPLETE="complete",sN=Te,hr.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,hm=hr,On.prototype.listenOnce=On.prototype.L,On.prototype.getLastError=On.prototype.Ka,On.prototype.getLastErrorCode=On.prototype.Ba,On.prototype.getStatus=On.prototype.Z,On.prototype.getResponseJson=On.prototype.Oa,On.prototype.getResponseText=On.prototype.oa,On.prototype.send=On.prototype.ea,On.prototype.setWithCredentials=On.prototype.Ha,aN=On}).apply(typeof q2<"u"?q2:typeof self<"u"?self:typeof window<"u"?window:{});const nk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ps.UNAUTHENTICATED=new ps(null),ps.GOOGLE_CREDENTIALS=new ps("google-credentials-uid"),ps.FIRST_PARTY=new ps("first-party-uid"),ps.MOCK_USER=new ps("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Gw("@firebase/firestore");function n1(){return xf.logLevel}function bB(t){xf.setLogLevel(t)}function Tt(t,...e){if(xf.logLevel<=fn.DEBUG){const r=e.map(Xw);xf.debug(`Firestore (${tp}): ${t}`,...r)}}function ka(t,...e){if(xf.logLevel<=fn.ERROR){const r=e.map(Xw);xf.error(`Firestore (${tp}): ${t}`,...r)}}function vl(t,...e){if(xf.logLevel<=fn.WARN){const r=e.map(Xw);xf.warn(`Firestore (${tp}): ${t}`,...r)}}function Xw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t="Unexpected state"){const e=`FIRESTORE (${tp}) INTERNAL ASSERTION FAILED: `+t;throw ka(e),new Error(e)}function dr(t,e){t||er()}function kB(t,e){t||er()}function Ht(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class At extends Tc{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ps.UNAUTHENTICATED)))}shutdown(){}}class EB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class SB{constructor(e){this.t=e,this.currentUser=ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){dr(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new vs,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const l=a;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vs)}}),0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dr(typeof n.accessToken=="string"),new uN(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dr(e===null||typeof e=="string"),new ps(e)}}class CB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=ps.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new CB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(ps.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){dr(this.o===void 0);const n=a=>{a.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,Tt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(dr(typeof r.token=="string"),this.R=r.token,new fN(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class TB{getToken(){return Promise.resolve(new fN(""))}invalidateToken(){}start(e,r){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=IB(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%e.length))}return n}}function Mr(t,e){return t<e?-1:t>e?1:0}function R1(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}function hN(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new At(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new At(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new At(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new At(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oi.fromMillis(Date.now())}static fromDate(e){return Oi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Oi(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mr(this.nanoseconds,e.nanoseconds):Mr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vr(e)}static min(){return new vr(new Oi(0,0))}static max(){return new vr(new Oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,r,n){r===void 0?r=0:r>e.length&&er(),n===void 0?n=e.length-r:n>e.length-r&&er(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Gm.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Gm?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=e.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class hn extends Gm{construct(e,r,n){return new hn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new At(ct.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new hn(r)}static emptyPath(){return new hn([])}}const PB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends Gm{construct(e,r,n){return new ki(e,r,n)}static isValidIdentifier(e){return PB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ki(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new At(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new At(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new At(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new At(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ki(r)}static emptyPath(){return new ki([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(hn.fromString(e))}static fromName(e){return new Kt(hn.fromString(e).popFirst(5))}static empty(){return new Kt(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return hn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new hn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function b3(t){return t.fields.find((e=>e.kind===2))}function ph(t){return t.fields.filter((e=>e.kind!==2))}function RB(t,e){let r=Mr(t.collectionGroup,e.collectionGroup);if(r!==0)return r;for(let n=0;n<Math.min(t.fields.length,e.fields.length);++n)if(r=FB(t.fields[n],e.fields[n]),r!==0)return r;return Mr(t.fields.length,e.fields.length)}F1.UNKNOWN_ID=-1;class Th{constructor(e,r){this.fieldPath=e,this.kind=r}}function FB(t,e){const r=ki.comparator(t.fieldPath,e.fieldPath);return r!==0?r:Mr(t.kind,e.kind)}class L1{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new L1(0,yl.min())}}function pN(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=vr.fromTimestamp(n===1e9?new Oi(r+1,0):new Oi(r,n));return new yl(i,Kt.empty(),e)}function mN(t){return new yl(t.readTime,t.key,-1)}class yl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new yl(vr.min(),Kt.empty(),-1)}static max(){return new yl(vr.max(),Kt.empty(),-1)}}function Qw(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Kt.comparator(t.documentKey,e.documentKey),r!==0?r:Mr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){if(t.code!==ct.FAILED_PRECONDITION||t.message!==gN)throw t;Tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&er(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Je(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Je?r:Je.resolve(r)}catch(r){return Je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Je.reject(r)}static resolve(e){return new Je(((r,n)=>{r(e)}))}static reject(e){return new Je(((r,n)=>{n(e)}))}static waitFor(e){return new Je(((r,n)=>{let i=0,a=0,s=!1;e.forEach((o=>{++i,o.next((()=>{++a,s&&a===i&&r()}),(l=>n(l)))})),s=!0,a===i&&r()}))}static or(e){let r=Je.resolve(!1);for(const n of e)r=r.next((i=>i?Je.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new Je(((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;r(e[c]).next((f=>{s[c]=f,++o,o===a&&n(s)}),(f=>i(f)))}}))}static doWhile(e,r){return new Je(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new vs,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new km(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=Jw(n.target.error);this.V.reject(new km(e,i))}}static open(e,r,n,i){try{return new ny(r,e.transaction(i,n))}catch(a){throw new km(r,a)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new jB(r)}}class ou{constructor(e,r,n){this.name=e,this.version=r,this.p=n,ou.S(Za())===12.2&&ka("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Tt("SimpleDb","Removing database:",e),gh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!JC())return!1;if(ou.v())return!0;const e=Za(),r=ou.S(e),n=0<r&&r<10,i=vN(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Tt("SimpleDb","Opening database:",this.name),this.db=await new Promise(((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=a=>{const s=a.target.result;r(s)},i.onblocked=()=>{n(new km(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=a=>{const s=a.target.error;s.name==="VersionError"?n(new At(ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?n(new At(ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):n(new km(e,s))},i.onupgradeneeded=a=>{Tt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const s=a.target.result;this.p.O(s,i.transaction,a.oldVersion,this.version).next((()=>{Tt("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const a=r==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const o=ny.open(this.db,e,a?"readonly":"readwrite",n),l=i(o).next((c=>(o.g(),c))).catch((c=>(o.abort(c),Je.reject(c)))).toPromise();return l.catch((()=>{})),await o.m,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&s<3;if(Tt("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function vN(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class LB{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return gh(this.B.delete())}}class km extends At{constructor(e,r){super(ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function jf(t){return t.name==="IndexedDbTransactionError"}class jB{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Tt("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gh(n)}add(e){return Tt("SimpleDb","ADD",this.store.name,e,e),gh(this.store.add(e))}get(e){return gh(this.store.get(e)).next((r=>(r===void 0&&(r=null),Tt("SimpleDb","GET",this.store.name,e,r),r)))}delete(e){return Tt("SimpleDb","DELETE",this.store.name,e),gh(this.store.delete(e))}count(){return Tt("SimpleDb","COUNT",this.store.name),gh(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const a=i.getAll(n.range);return new Je(((s,o)=>{a.onerror=l=>{o(l.target.error)},a.onsuccess=l=>{s(l.target.result)}}))}{const a=this.cursor(n),s=[];return this.W(a,((o,l)=>{s.push(l)})).next((()=>s))}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new Je(((i,a)=>{n.onerror=s=>{a(s.target.error)},n.onsuccess=s=>{i(s.target.result)}}))}j(e,r){Tt("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,((a,s,o)=>o.delete()))}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new Je(((n,i)=>{r.onerror=a=>{const s=Jw(a.target.error);i(s)},r.onsuccess=a=>{const s=a.target.result;s?e(s.primaryKey,s.value).next((o=>{o?s.continue():n()})):n()}}))}W(e,r){const n=[];return new Je(((i,a)=>{e.onerror=s=>{a(s.target.error)},e.onsuccess=s=>{const o=s.target.result;if(!o)return void i();const l=new LB(o),c=r(o.primaryKey,o.value,l);if(c instanceof Je){const f=c.catch((p=>(l.done(),Je.reject(p))));n.push(f)}l.isDone?i():l.K===null?o.continue():o.continue(l.K)}})).next((()=>Je.waitFor(n)))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function gh(t){return new Je(((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=Jw(n.target.error);r(i)}}))}let ik=!1;function Jw(t){const e=ou.S(Za());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new At("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ik||(ik=!0,setTimeout((()=>{throw n}),0)),n}}return t}class DB{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Tt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Tt("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){jf(r)?Tt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await Lf(r)}await this.X(6e4)}))}}class OB{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(r=>this.te(r,e)))}te(e,r){const n=new Set;let i=r,a=!0;return Je.doWhile((()=>a===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!n.has(s))return Tt("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next((o=>{i-=o,n.add(s)}));a=!1})))).next((()=>r-i))}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next((i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next((a=>{const s=a.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this.re(i,a))).next((o=>(Tt("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o)))).next((()=>s.size))}))))}re(e,r){let n=e;return r.changes.forEach(((i,a)=>{const s=mN(a);Qw(s,n)>0&&(n=s)})),new yl(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$o.oe=-1;function Cg(t){return t==null}function Km(t){return t===0&&1/t==-1/0}function yN(t){return typeof t=="number"&&Number.isInteger(t)&&!Km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=ak(e)),e=MB(t.get(r),e);return ak(e)}function MB(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case"":r+="";break;default:r+=a}}return r}function ak(t){return t+""}function tu(t){const e=t.length;if(dr(e>=2),e===2)return dr(t.charAt(0)===""&&t.charAt(1)===""),hn.emptyPath();const r=e-2,n=[];let i="";for(let a=0;a<e;){const s=t.indexOf("",a);switch((s<0||s>r)&&er(),t.charAt(s+1)){case"":const o=t.substring(a,s);let l;i.length===0?l=o:(i+=o,l=i,i=""),n.push(l);break;case"":i+=t.substring(a,s),i+="\0";break;case"":i+=t.substring(a,s+1);break;default:er()}a=s+2}return new hn(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){return[t,po(e)]}function wN(t,e,r){return[t,po(e),r]}const BB={},VB=["prefixPath","collectionGroup","readTime","documentId"],UB=["prefixPath","collectionGroup","documentId"],zB=["collectionGroup","readTime","prefixPath","documentId"],$B=["canonicalId","targetId"],qB=["targetId","path"],HB=["path","targetId"],WB=["collectionId","parent"],GB=["indexId","uid"],KB=["uid","sequenceNumber"],XB=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],YB=["indexId","uid","orderedDocumentKey"],QB=["userId","collectionPath","documentId"],JB=["userId","collectionPath","largestBatchId"],ZB=["userId","collectionGroup","largestBatchId"],_N=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eV=[..._N,"documentOverlays"],bN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kN=bN,Zw=[...kN,"indexConfiguration","indexState","indexEntries"],tV=Zw,rV=[...Zw,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3 extends xN{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function rs(t,e){const r=Ht(t);return ou.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Df(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function EN(t,e){const r=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(e(t[n],n,t));return r}function SN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,r){this.comparator=e,this.root=r||Rs.EMPTY}insert(e,r){return new xi(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Rs.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rs.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new H2(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new H2(this.root,e,this.comparator,!1)}getReverseIterator(){return new H2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new H2(this.root,e,this.comparator,!0)}}class H2{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rs{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Rs.RED,this.left=i??Rs.EMPTY,this.right=a??Rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Rs(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Rs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw er();const e=this.left.check();if(e!==this.right.check())throw er();return e+(this.isRed()?0:1)}}Rs.EMPTY=null,Rs.RED=!0,Rs.BLACK=!1;Rs.EMPTY=new class{constructor(){this.size=0}get key(){throw er()}get value(){throw er()}get color(){throw er()}get left(){throw er()}get right(){throw er()}copy(e,r,n,i,a){return this}insert(e,r,n){return new Rs(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new lk(this.data.getIterator())}getIteratorFrom(e){return new lk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof ii)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new ii(this.comparator);return r.data=e,r}}class lk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function H0(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.fields=e,e.sort(ki.comparator)}static empty(){return new qo([])}unionWith(e){let r=new ii(ki.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new qo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return R1(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new CN("Invalid base64 string: "+a):a}})(e);return new Yi(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Yi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yi.EMPTY_BYTE_STRING=new Yi("");const iV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rd(t){if(dr(!!t),typeof t=="string"){let e=0;const r=iV.exec(t);if(dr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ji(t.seconds),nanos:ji(t.nanos)}}function ji(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function nd(t){return typeof t=="string"?Yi.fromBase64String(t):Yi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function ay(t){const e=t.mapValue.fields.__previous_value__;return iy(e)?ay(e):e}function Xm(t){const e=rd(t.mapValue.fields.__local_write_time__.timestampValue);return new Oi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,r,n,i,a,s,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class vf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new vf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ix={nullValue:"NULL_VALUE"};function yf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iy(t)?4:NN(t)?9007199254740991:sy(t)?10:11:er()}function hu(t,e){if(t===e)return!0;const r=yf(t);if(r!==yf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xm(t).isEqual(Xm(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=rd(i.timestampValue),o=rd(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return nd(i.bytesValue).isEqual(nd(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return ji(i.geoPointValue.latitude)===ji(a.geoPointValue.latitude)&&ji(i.geoPointValue.longitude)===ji(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return ji(i.integerValue)===ji(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ji(i.doubleValue),o=ji(a.doubleValue);return s===o?Km(s)===Km(o):isNaN(s)&&isNaN(o)}return!1})(t,e);case 9:return R1(t.arrayValue.values||[],e.arrayValue.values||[],hu);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(ok(s)!==ok(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!hu(s[l],o[l])))return!1;return!0})(t,e);default:return er()}}function Ym(t,e){return(t.values||[]).find((r=>hu(r,e)))!==void 0}function wf(t,e){if(t===e)return 0;const r=yf(t),n=yf(e);if(r!==n)return Mr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Mr(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const o=ji(a.integerValue||a.doubleValue),l=ji(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return ck(t.timestampValue,e.timestampValue);case 4:return ck(Xm(t),Xm(e));case 5:return Mr(t.stringValue,e.stringValue);case 6:return(function(a,s){const o=nd(a),l=nd(s);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const f=Mr(o[c],l[c]);if(f!==0)return f}return Mr(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const o=Mr(ji(a.latitude),ji(s.latitude));return o!==0?o:Mr(ji(a.longitude),ji(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return uk(t.arrayValue,e.arrayValue);case 10:return(function(a,s){var o,l,c,f;const p=a.fields||{},g=s.fields||{},m=(o=p.value)===null||o===void 0?void 0:o.arrayValue,y=(l=g.value)===null||l===void 0?void 0:l.arrayValue,w=Mr(((c=m?.values)===null||c===void 0?void 0:c.length)||0,((f=y?.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:uk(m,y)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===of.mapValue&&s===of.mapValue)return 0;if(a===of.mapValue)return 1;if(s===of.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){const g=Mr(l[p],f[p]);if(g!==0)return g;const m=wf(o[l[p]],c[f[p]]);if(m!==0)return m}return Mr(l.length,f.length)})(t.mapValue,e.mapValue);default:throw er()}}function ck(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mr(t,e);const r=rd(t),n=rd(e),i=Mr(r.seconds,n.seconds);return i!==0?i:Mr(r.nanos,n.nanos)}function uk(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=wf(r[i],n[i]);if(a)return a}return Mr(r.length,n.length)}function j1(t){return E3(t)}function E3(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=rd(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return nd(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Kt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=E3(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${E3(r.fields[s])}`;return i+"}"})(t.mapValue):er()}function Px(t){switch(yf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ay(t);return e?16+Px(e):16;case 5:return 2*t.stringValue.length;case 6:return nd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Px(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Df(n.fields,((a,s)=>{i+=a.length+Px(s)})),i})(t.mapValue);default:throw er()}}function Oh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function S3(t){return!!t&&"integerValue"in t}function Qm(t){return!!t&&"arrayValue"in t}function dk(t){return!!t&&"nullValue"in t}function fk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rx(t){return!!t&&"mapValue"in t}function sy(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Em(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Df(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Em(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Em(t.arrayValue.values[r]);return e}return Object.assign({},t)}function NN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const AN={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function sV(t){return"nullValue"in t?Ix:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Oh(vf.empty(),Kt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sy(t)?AN:{mapValue:{}}:er()}function oV(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Oh(vf.empty(),Kt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?AN:"mapValue"in t?sy(t)?{mapValue:{}}:of:er()}function hk(t,e){const r=wf(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pk(t,e){const r=wf(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.value=e}static empty(){return new js({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Rx(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Em(r)}setAll(e){let r=ki.emptyPath(),n={},i=[];e.forEach(((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Em(s):i.push(o.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Rx(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return hu(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Rx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Df(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new js(Em(this.value))}}function TN(t){const e=[];return Df(t.fields,((r,n)=>{const i=new ki([r]);if(Rx(n)){const a=TN(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new qo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new bi(e,0,vr.min(),vr.min(),vr.min(),js.empty(),0)}static newFoundDocument(e,r,n,i){return new bi(e,1,r,vr.min(),n,i,0)}static newNoDocument(e,r){return new bi(e,2,r,vr.min(),vr.min(),js.empty(),0)}static newUnknownDocument(e,r){return new bi(e,3,r,vr.min(),vr.min(),js.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(vr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=js.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=js.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,r){this.position=e,this.inclusive=r}}function mk(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=Kt.comparator(Kt.fromName(s.referenceValue),r.key):n=wf(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function gk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!hu(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,r="asc"){this.field=e,this.dir=r}}function lV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IN=class{};class pn extends IN{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new cV(e,r,n):r==="array-contains"?new fV(e,n):r==="in"?new DN(e,n):r==="not-in"?new hV(e,n):r==="array-contains-any"?new pV(e,n):new pn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new uV(e,n):new dV(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(wf(r,this.value)):r!==null&&yf(this.value)===yf(r)&&this.matchesComparison(wf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return er()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends IN{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Yn(e,r)}matches(e){return D1(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function D1(t){return t.op==="and"}function C3(t){return t.op==="or"}function e_(t){return PN(t)&&D1(t)}function PN(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function N3(t){if(t instanceof pn)return t.field.canonicalString()+t.op.toString()+j1(t.value);if(e_(t))return t.filters.map((e=>N3(e))).join(",");{const e=t.filters.map((r=>N3(r))).join(",");return`${t.op}(${e})`}}function RN(t,e){return t instanceof pn?(function(n,i){return i instanceof pn&&n.op===i.op&&n.field.isEqual(i.field)&&hu(n.value,i.value)})(t,e):t instanceof Yn?(function(n,i){return i instanceof Yn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,o)=>a&&RN(s,i.filters[o])),!0):!1})(t,e):void er()}function FN(t,e){const r=t.filters.concat(e);return Yn.create(r,t.op)}function LN(t){return t instanceof pn?(function(r){return`${r.field.canonicalString()} ${r.op} ${j1(r.value)}`})(t):t instanceof Yn?(function(r){return r.op.toString()+" {"+r.getFilters().map(LN).join(" ,")+"}"})(t):"Filter"}class cV extends pn{constructor(e,r,n){super(e,r,n),this.key=Kt.fromName(n.referenceValue)}matches(e){const r=Kt.comparator(e.key,this.key);return this.matchesComparison(r)}}class uV extends pn{constructor(e,r){super(e,"in",r),this.keys=jN("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class dV extends pn{constructor(e,r){super(e,"not-in",r),this.keys=jN("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function jN(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>Kt.fromName(n.referenceValue)))}class fV extends pn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Qm(r)&&Ym(r.arrayValue,this.value)}}class DN extends pn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ym(this.value.arrayValue,r)}}class hV extends pn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ym(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ym(this.value.arrayValue,r)}}class pV extends pn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Qm(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Ym(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function A3(t,e=null,r=[],n=[],i=null,a=null,s=null){return new mV(t,e,r,n,i,a,s)}function Mh(t){const e=Ht(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>N3(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Cg(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>j1(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>j1(n))).join(",")),e.ue=r}return e.ue}function Ng(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!lV(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!RN(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gk(t.startAt,e.startAt)&&gk(t.endAt,e.endAt)}function nv(t){return Kt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function iv(t,e){return t.filters.filter((r=>r instanceof pn&&r.field.isEqual(e)))}function xk(t,e,r){let n=Ix,i=!0;for(const a of iv(t,e)){let s=Ix,o=!0;switch(a.op){case"<":case"<=":s=sV(a.value);break;case"==":case"in":case">=":s=a.value;break;case">":s=a.value,o=!1;break;case"!=":case"not-in":s=Ix}hk({value:n,inclusive:i},{value:s,inclusive:o})<0&&(n=s,i=o)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=r.position[a];hk({value:n,inclusive:i},{value:s,inclusive:r.inclusive})<0&&(n=s,i=r.inclusive);break}}return{value:n,inclusive:i}}function vk(t,e,r){let n=of,i=!0;for(const a of iv(t,e)){let s=of,o=!0;switch(a.op){case">=":case">":s=oV(a.value),o=!1;break;case"==":case"in":case"<=":s=a.value;break;case"<":s=a.value,o=!1;break;case"!=":case"not-in":s=of}pk({value:n,inclusive:i},{value:s,inclusive:o})>0&&(n=s,i=o)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const s=r.position[a];pk({value:n,inclusive:i},{value:s,inclusive:r.inclusive})>0&&(n=s,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ON(t,e,r,n,i,a,s,o){return new ld(t,e,r,n,i,a,s,o)}function rp(t){return new ld(t)}function yk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function t_(t){return t.collectionGroup!==null}function p1(t){const e=Ht(t);if(e.ce===null){e.ce=[];const r=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ii(ki.comparator);return s.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Jm(a,n))})),r.has(ki.keyField().canonicalString())||e.ce.push(new Jm(ki.keyField(),n))}return e.ce}function mo(t){const e=Ht(t);return e.le||(e.le=BN(e,p1(t))),e.le}function MN(t){const e=Ht(t);return e.he||(e.he=BN(e,t.explicitOrderBy)),e.he}function BN(t,e){if(t.limitType==="F")return A3(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Jm(i.field,a)}));const r=t.endAt?new _f(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new _f(t.startAt.position,t.startAt.inclusive):null;return A3(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function T3(t,e){const r=t.filters.concat([e]);return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function av(t,e,r){return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Ag(t,e){return Ng(mo(t),mo(e))&&t.limitType===e.limitType}function VN(t){return`${Mh(mo(t))}|lt:${t.limitType}`}function i1(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>LN(i))).join(", ")}]`),Cg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>j1(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>j1(i))).join(",")),`Target(${n})`})(mo(t))}; limitType=${t.limitType})`}function Tg(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Kt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of p1(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(s,o,l){const c=mk(s,o,l);return s.inclusive?c<=0:c<0})(n.startAt,p1(n),i)||n.endAt&&!(function(s,o,l){const c=mk(s,o,l);return s.inclusive?c>=0:c>0})(n.endAt,p1(n),i))})(t,e)}function UN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zN(t){return(e,r)=>{let n=!1;for(const i of p1(t)){const a=gV(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function gV(t,e,r){const n=t.field.isKeyField()?Kt.comparator(e.key,r.key):(function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?wf(l,c):er()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return er()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Df(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return SN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new xi(Kt.comparator);function Ho(){return xV}const $N=new xi(Kt.comparator);function pm(...t){let e=$N;for(const r of t)e=e.insert(r.key,r);return e}function qN(t){let e=$N;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function ru(){return Sm()}function HN(){return Sm()}function Sm(){return new cd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const vV=new xi(Kt.comparator),yV=new ii(Kt.comparator);function Hr(...t){let e=yV;for(const r of t)e=e.add(r);return e}const wV=new ii(Mr);function r_(){return wV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(e)?"-0":e}}function WN(t){return{integerValue:""+t}}function GN(t,e){return yN(e)?WN(e):n_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this._=void 0}}function _V(t,e,r){return t instanceof O1?(function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&iy(a)&&(a=ay(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}})(r,e):t instanceof Bh?XN(t,e):t instanceof Vh?YN(t,e):(function(i,a){const s=KN(i,a),o=wk(s)+wk(i.Pe);return S3(s)&&S3(i.Pe)?WN(o):n_(i.serializer,o)})(t,e)}function bV(t,e,r){return t instanceof Bh?XN(t,e):t instanceof Vh?YN(t,e):r}function KN(t,e){return t instanceof M1?(function(n){return S3(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class O1 extends oy{}class Bh extends oy{constructor(e){super(),this.elements=e}}function XN(t,e){const r=QN(e);for(const n of t.elements)r.some((i=>hu(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Vh extends oy{constructor(e){super(),this.elements=e}}function YN(t,e){let r=QN(e);for(const n of t.elements)r=r.filter((i=>!hu(i,n)));return{arrayValue:{values:r}}}class M1 extends oy{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function wk(t){return ji(t.integerValue||t.doubleValue)}function QN(t){return Qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,r){this.field=e,this.transform=r}}function kV(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Bh&&i instanceof Bh||n instanceof Vh&&i instanceof Vh?R1(n.elements,i.elements,hu):n instanceof M1&&i instanceof M1?hu(n.Pe,i.Pe):n instanceof O1&&i instanceof O1})(t.transform,e.transform)}class EV{constructor(e,r){this.version=e,this.transformResults=r}}class Di{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ly{}function JN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ip(t.key,Di.none()):new np(t.key,t.data,Di.none());{const r=t.data,n=js.empty();let i=new ii(ki.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new ud(t.key,n,new qo(i.toArray()),Di.none())}}function SV(t,e,r){t instanceof np?(function(i,a,s){const o=i.value.clone(),l=bk(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(t,e,r):t instanceof ud?(function(i,a,s){if(!Fx(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=bk(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(ZN(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function Cm(t,e,r,n){return t instanceof np?(function(a,s,o,l){if(!Fx(a.precondition,s))return o;const c=a.value.clone(),f=kk(a.fieldTransforms,l,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null})(t,e,r,n):t instanceof ud?(function(a,s,o,l){if(!Fx(a.precondition,s))return o;const c=kk(a.fieldTransforms,l,s),f=s.data;return f.setAll(ZN(a)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,s,o){return Fx(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o})(t,e,r)}function CV(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=KN(n.transform,i||null);a!=null&&(r===null&&(r=js.empty()),r.set(n.field,a))}return r||null}function _k(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&R1(n,i,((a,s)=>kV(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class np extends ly{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ud extends ly{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZN(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function bk(t,e,r){const n=new Map;dr(t.length===r.length);for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,bV(s,o,r[i]))}return n}function kk(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,_V(a,s,e))}return n}class ip extends ly{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i_ extends ly{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&SV(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Cm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Cm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=HN();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=JN(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(vr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Hr())}isEqual(e){return this.batchId===e.batchId&&R1(this.mutations,e.mutations,((r,n)=>_k(r,n)))&&R1(this.baseMutations,e.baseMutations,((r,n)=>_k(r,n)))}}class s_{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){dr(e.mutations.length===n.length);let i=(function(){return vV})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new s_(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,r,n){this.alias=e,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da,yn;function tA(t){switch(t){default:return er();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0}}function rA(t){if(t===void 0)return ka("GRPC error has no .code"),ct.UNKNOWN;switch(t){case Da.OK:return ct.OK;case Da.CANCELLED:return ct.CANCELLED;case Da.UNKNOWN:return ct.UNKNOWN;case Da.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Da.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Da.INTERNAL:return ct.INTERNAL;case Da.UNAVAILABLE:return ct.UNAVAILABLE;case Da.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Da.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Da.NOT_FOUND:return ct.NOT_FOUND;case Da.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Da.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Da.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Da.ABORTED:return ct.ABORTED;case Da.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Da.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Da.DATA_LOSS:return ct.DATA_LOSS;default:return er()}}(yn=Da||(Da={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=new Ah([4294967295,4294967295],0);function Ek(t){const e=nA().encode(t),r=new iN;return r.update(e),new Uint8Array(r.digest())}function Sk(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ah([r,n],0),new Ah([i,a],0)]}class l_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new mm(`Invalid padding: ${r}`);if(n<0)throw new mm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new mm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new mm(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ah.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Ah.fromNumber(n)));return i.compare(AV)===1&&(i=new Ah([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Ek(e),[n,i]=Sk(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new l_(a,i,r);return n.forEach((o=>s.insert(o))),s}insert(e){if(this.Ie===0)return;const r=Ek(e),[n,i]=Sk(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class mm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Rg.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Pg(vr.min(),i,new xi(Mr),Ho(),Hr())}}class Rg{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Rg(n,r,Hr(),Hr(),Hr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class iA{constructor(e,r){this.targetId=e,this.me=r}}class aA{constructor(e,r,n=Yi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class Ck{constructor(){this.fe=0,this.ge=Ak(),this.pe=Yi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Hr(),r=Hr(),n=Hr();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:er()}})),new Rg(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Ak()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ho(),this.qe=Nk(),this.Qe=new xi(Mr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:er()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const a=i.target;if(nv(a))if(n===0){const s=new Kt(a.path);this.Ue(r,s,bi.newNoDocument(s,vr.min()))}else dr(n===1);else{const s=this.Ye(r);if(s!==n){const o=this.Ze(e),l=o?this.Xe(o,e,s):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}sv?.et((function(f,p,g,m,y){var w,k,N,L,P,V;const Y={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Q=p.unchangedNames;return Q&&(Y.bloomFilter={applied:y===0,hashCount:(w=Q?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(L=(N=(k=Q?.bits)===null||k===void 0?void 0:k.bitmap)===null||N===void 0?void 0:N.length)!==null&&L!==void 0?L:0,padding:(V=(P=Q?.bits)===null||P===void 0?void 0:P.padding)!==null&&V!==void 0?V:0,mightContain:R=>{var T;return(T=m?.mightContain(R))!==null&&T!==void 0&&T}}),Y})(s,e.me,this.Le.tt(),o,l))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=nd(n).toUint8Array()}catch(l){if(l instanceof CN)return vl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new l_(s,i,a)}catch(l){return vl(l instanceof mm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,a,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((a,s)=>{const o=this.Je(s);if(o){if(a.current&&nv(o.target)){const l=new Kt(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,bi.newNoDocument(l,e))}a.be&&(r.set(s,a.ve()),a.Ce())}}));let n=Hr();this.qe.forEach(((a,s)=>{let o=!0;s.forEachWhile((l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(a))})),this.ke.forEach(((a,s)=>s.setReadTime(e)));const i=new Pg(e,r,this.Qe,this.ke,n);return this.ke=Ho(),this.qe=Nk(),this.Qe=new xi(Mr),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Ck,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ii(Mr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Tt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ck),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Nk(){return new xi(Kt.comparator)}function Ak(){return new xi(Kt.comparator)}const IV={asc:"ASCENDING",desc:"DESCENDING"},PV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RV={and:"AND",or:"OR"};class FV{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function I3(t,e){return t.useProto3Json||Cg(e)?e:{value:e}}function B1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LV(t,e){return B1(t,e.toTimestamp())}function Sa(t){return dr(!!t),vr.fromTimestamp((function(r){const n=rd(r);return new Oi(n.seconds,n.nanos)})(t))}function c_(t,e){return P3(t,e).canonicalString()}function P3(t,e){const r=(function(i){return new hn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function oA(t){const e=hn.fromString(t);return dr(xA(e)),e}function Zm(t,e){return c_(t.databaseId,e.path)}function lu(t,e){const r=oA(e);if(r.get(1)!==t.databaseId.projectId)throw new At(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new At(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Kt(uA(r))}function lA(t,e){return c_(t.databaseId,e)}function cA(t){const e=oA(t);return e.length===4?hn.emptyPath():uA(e)}function R3(t){return new hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uA(t){return dr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Tk(t,e,r){return{name:Zm(t,e),fields:r.value.mapValue.fields}}function dA(t,e,r){const n=lu(t,e.name),i=Sa(e.updateTime),a=e.createTime?Sa(e.createTime):vr.min(),s=new js({mapValue:{fields:e.fields}}),o=bi.newFoundDocument(n,i,a,s);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function jV(t,e){return"found"in e?(function(n,i){dr(!!i.found),i.found.name,i.found.updateTime;const a=lu(n,i.found.name),s=Sa(i.found.updateTime),o=i.found.createTime?Sa(i.found.createTime):vr.min(),l=new js({mapValue:{fields:i.found.fields}});return bi.newFoundDocument(a,s,o,l)})(t,e):"missing"in e?(function(n,i){dr(!!i.missing),dr(!!i.readTime);const a=lu(n,i.missing),s=Sa(i.readTime);return bi.newNoDocument(a,s)})(t,e):er()}function DV(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:er()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(c,f){return c.useProto3Json?(dr(f===void 0||typeof f=="string"),Yi.fromBase64String(f||"")):(dr(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Yi.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&(function(c){const f=c.code===void 0?ct.UNKNOWN:rA(c.code);return new At(f,c.message||"")})(s);r=new aA(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=lu(t,n.document.name),a=Sa(n.document.updateTime),s=n.document.createTime?Sa(n.document.createTime):vr.min(),o=new js({mapValue:{fields:n.document.fields}}),l=bi.newFoundDocument(i,a,s,o),c=n.targetIds||[],f=n.removedTargetIds||[];r=new Lx(c,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=lu(t,n.document),a=n.readTime?Sa(n.readTime):vr.min(),s=bi.newNoDocument(i,a),o=n.removedTargetIds||[];r=new Lx([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=lu(t,n.document),a=n.removedTargetIds||[];r=new Lx([],a,i,null)}else{if(!("filter"in e))return er();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new NV(i,a),o=n.targetId;r=new iA(o,s)}}return r}function eg(t,e){let r;if(e instanceof np)r={update:Tk(t,e.key,e.value)};else if(e instanceof ip)r={delete:Zm(t,e.key)};else if(e instanceof ud)r={update:Tk(t,e.key,e.data),updateMask:zV(e.fieldMask)};else{if(!(e instanceof i_))return er();r={verify:Zm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const o=s.transform;if(o instanceof O1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Bh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Vh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof M1)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw er()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:LV(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:er()})(t,e.precondition)),r}function F3(t,e){const r=e.currentDocument?(function(a){return a.updateTime!==void 0?Di.updateTime(Sa(a.updateTime)):a.exists!==void 0?Di.exists(a.exists):Di.none()})(e.currentDocument):Di.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(s,o){let l=null;if("setToServerValue"in o)dr(o.setToServerValue==="REQUEST_TIME"),l=new O1;else if("appendMissingElements"in o){const f=o.appendMissingElements.values||[];l=new Bh(f)}else if("removeAllFromArray"in o){const f=o.removeAllFromArray.values||[];l=new Vh(f)}else"increment"in o?l=new M1(s,o.increment):er();const c=ki.fromServerFormat(o.fieldPath);return new Ig(c,l)})(t,i))):[];if(e.update){e.update.name;const i=lu(t,e.update.name),a=new js({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(l){const c=l.fieldPaths||[];return new qo(c.map((f=>ki.fromServerFormat(f))))})(e.updateMask);return new ud(i,a,s,r,n)}return new np(i,a,r,n)}if(e.delete){const i=lu(t,e.delete);return new ip(i,r)}if(e.verify){const i=lu(t,e.verify);return new i_(i,r)}return er()}function OV(t,e){return t&&t.length>0?(dr(e!==void 0),t.map((r=>(function(i,a){let s=i.updateTime?Sa(i.updateTime):Sa(a);return s.isEqual(vr.min())&&(s=Sa(a)),new EV(s,i.transformResults||[])})(r,e)))):[]}function fA(t,e){return{documents:[lA(t,e.path)]}}function cy(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=lA(t,i);const a=(function(c){if(c.length!==0)return gA(Yn.create(c,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const s=(function(c){if(c.length!==0)return c.map((f=>(function(g){return{field:Jd(g.field),direction:BV(g.dir)}})(f)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=I3(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{_t:r,parent:i}}function hA(t,e,r,n){const{_t:i,parent:a}=cy(t,e),s={},o=[];let l=0;return r.forEach((c=>{const f=n?c.alias:"aggregate_"+l++;s[f]=c.alias,c.aggregateType==="count"?o.push({alias:f,count:{}}):c.aggregateType==="avg"?o.push({alias:f,avg:{field:Jd(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:f,sum:{field:Jd(c.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},ut:s,parent:a}}function pA(t){let e=cA(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){dr(n===1);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];r.where&&(a=(function(p){const g=mA(p);return g instanceof Yn&&e_(g)?g.getFilters():[g]})(r.where));let s=[];r.orderBy&&(s=(function(p){return p.map((g=>(function(y){return new Jm(a1(y.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(g)))})(r.orderBy));let o=null;r.limit&&(o=(function(p){let g;return g=typeof p=="object"?p.value:p,Cg(g)?null:g})(r.limit));let l=null;r.startAt&&(l=(function(p){const g=!!p.before,m=p.values||[];return new _f(m,g)})(r.startAt));let c=null;return r.endAt&&(c=(function(p){const g=!p.before,m=p.values||[];return new _f(m,g)})(r.endAt)),ON(e,i,s,a,o,"F",l,c)}function MV(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return er()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function mA(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=a1(r.unaryFilter.field);return pn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=a1(r.unaryFilter.field);return pn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=a1(r.unaryFilter.field);return pn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=a1(r.unaryFilter.field);return pn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return er()}})(t):t.fieldFilter!==void 0?(function(r){return pn.create(a1(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return er()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Yn.create(r.compositeFilter.filters.map((n=>mA(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return er()}})(r.compositeFilter.op))})(t):er()}function BV(t){return IV[t]}function VV(t){return PV[t]}function UV(t){return RV[t]}function Jd(t){return{fieldPath:t.canonicalString()}}function a1(t){return ki.fromServerFormat(t.fieldPath)}function gA(t){return t instanceof pn?(function(r){if(r.op==="=="){if(fk(r.value))return{unaryFilter:{field:Jd(r.field),op:"IS_NAN"}};if(dk(r.value))return{unaryFilter:{field:Jd(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(fk(r.value))return{unaryFilter:{field:Jd(r.field),op:"IS_NOT_NAN"}};if(dk(r.value))return{unaryFilter:{field:Jd(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jd(r.field),op:VV(r.op),value:r.value}}})(t):t instanceof Yn?(function(r){const n=r.getFilters().map((i=>gA(i)));return n.length===1?n[0]:{compositeFilter:{op:UV(r.op),filters:n}}})(t):er()}function zV(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function xA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,r,n,i,a=vr.min(),s=vr.min(),o=Yi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new zu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.ct=e}}function $V(t,e){let r;if(e.document)r=dA(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Kt.fromSegments(e.noDocument.path),i=zh(e.noDocument.readTime);r=bi.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return er();{const n=Kt.fromSegments(e.unknownDocument.path),i=zh(e.unknownDocument.version);r=bi.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime((function(i){const a=new Oi(i[0],i[1]);return vr.fromTimestamp(a)})(e.readTime)),r}function Ik(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:ov(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(a,s){return{name:Zm(a,s.key),fields:s.data.value.mapValue.fields,updateTime:B1(a,s.version.toTimestamp()),createTime:B1(a,s.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Uh(e.version)};else{if(!e.isUnknownDocument())return er();n.unknownDocument={path:r.path.toArray(),version:Uh(e.version)}}return n}function ov(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Uh(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zh(t){const e=new Oi(t.seconds,t.nanoseconds);return vr.fromTimestamp(e)}function xh(t,e){const r=(e.baseMutations||[]).map((a=>F3(t.ct,a)));for(let a=0;a<e.mutations.length-1;++a){const s=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const o=e.mutations[a+1];s.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const n=e.mutations.map((a=>F3(t.ct,a))),i=Oi.fromMillis(e.localWriteTimeMs);return new a_(e.batchId,i,r,n)}function gm(t){const e=zh(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?zh(t.lastLimboFreeSnapshotVersion):vr.min();let n;return n=(function(a){return a.documents!==void 0})(t.query)?(function(a){return dr(a.documents.length===1),mo(rp(cA(a.documents[0])))})(t.query):(function(a){return mo(pA(a))})(t.query),new zu(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Yi.fromBase64String(t.resumeToken))}function yA(t,e){const r=Uh(e.snapshotVersion),n=Uh(e.lastLimboFreeSnapshotVersion);let i;i=nv(e.target)?fA(t.ct,e.target):cy(t.ct,e.target)._t;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Mh(e.target),readTime:r,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function u_(t){const e=pA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?av(e,e.limit,"L"):e}function Y5(t,e){return new o_(e.largestBatchId,F3(t.ct,e.overlayMutation))}function Pk(t,e){const r=e.path.lastSegment();return[t,po(e.path.popLast()),r]}function Rk(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Uh(n.readTime),documentKey:po(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{getBundleMetadata(e,r){return Fk(e).get(r).next((n=>{if(n)return(function(a){return{id:a.bundleId,createTime:zh(a.createTime),version:a.version}})(n)}))}saveBundleMetadata(e,r){return Fk(e).put((function(i){return{bundleId:i.id,createTime:Uh(Sa(i.createTime)),version:i.version}})(r))}getNamedQuery(e,r){return Lk(e).get(r).next((n=>{if(n)return(function(a){return{name:a.name,query:u_(a.bundledQuery),readTime:zh(a.readTime)}})(n)}))}saveNamedQuery(e,r){return Lk(e).put((function(i){return{name:i.name,readTime:Uh(Sa(i.readTime)),bundledQuery:i.bundledQuery}})(r))}}function Fk(t){return rs(t,"bundles")}function Lk(t){return rs(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new uy(e,n)}getOverlay(e,r){return em(e).get(Pk(this.userId,r)).next((n=>n?Y5(this.serializer,n):null))}getOverlays(e,r){const n=ru();return Je.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){const i=[];return n.forEach(((a,s)=>{const o=new o_(r,s);i.push(this.ht(e,o))})),Je.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach((s=>i.add(po(s.getCollectionPath()))));const a=[];return i.forEach((s=>{const o=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,n+1],!1,!0);a.push(em(e).j("collectionPathOverlayIndex",o))})),Je.waitFor(a)}getOverlaysForCollection(e,r,n){const i=ru(),a=po(r),s=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return em(e).U("collectionPathOverlayIndex",s).next((o=>{for(const l of o){const c=Y5(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,r,n,i){const a=ru();let s;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return em(e).J({index:"collectionGroupOverlayIndex",range:o},((l,c,f)=>{const p=Y5(this.serializer,c);a.size()<i||p.largestBatchId===s?(a.set(p.getKey(),p),s=p.largestBatchId):f.done()})).next((()=>a))}ht(e,r){return em(e).put((function(i,a,s){const[o,l,c]=Pk(a,s.mutation.key);return{userId:a,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:eg(i.ct,s.mutation)}})(this.serializer,this.userId,r))}}function em(t){return rs(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{Pt(e){return rs(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((r=>{const n=r?.value;return n?Yi.fromUint8Array(n):Yi.EMPTY_BYTE_STRING}))}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(ji(e.integerValue));else if("doubleValue"in e){const n=ji(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Km(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=rd(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(nd(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?NN(e)?this.dt(r,Number.MAX_SAFE_INTEGER):sy(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):er()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const a=e.fields||{};this.dt(r,53);const s="value",o=((i=(n=a[s].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(ji(o)),this.Vt(s,r),this.Tt(a[s],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),Kt.fromName(e).path.forEach((n=>{this.dt(r,60),this.Dt(n,r)}))}dt(e,r){e.At(r)}ft(e){e.At(2)}}vh.vt=new vh;function WV(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function jk(t){const e=64-(function(n){let i=0;for(let a=0;a<8;++a){const s=WV(255&n[a]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class GV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=jk(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=jk(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=(function(a){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,a,!1),new Uint8Array(s.buffer)})(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class KV{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class XV{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class tm{constructor(){this.jt=new GV,this.Ht=new KV(this.jt),this.Jt=new XV(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new yh(this.indexId,this.documentKey,this.arrayValue,n)}}function Hd(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=Dk(t.arrayValue,e.arrayValue),r!==0?r:(r=Dk(t.directionalValue,e.directionalValue),r!==0?r:Kt.comparator(t.documentKey,e.documentKey)))}function Dk(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.Xt=new ii(((r,n)=>ki.comparator(r.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(dr(e.collectionGroup===this.collectionId),this.nn)return!1;const r=b3(e);if(r!==void 0&&!this.sn(r))return!1;const n=ph(e);let i=new Set,a=0,s=0;for(;a<n.length&&this.sn(n[a]);++a)i=i.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=n[a];if(!this.on(o,l)||!this._n(this.en[s++],l))return!1}++a}for(;a<n.length;++a){const o=n[a];if(s>=this.en.length||!this._n(this.en[s++],o))return!1}return!0}an(){if(this.nn)return null;let e=new ii(ki.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new Th(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new Th(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new Th(n.field,n.dir==="asc"?0:1)));return new F1(F1.UNKNOWN_ID,this.collectionId,r,L1.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){var e,r;if(dr(t instanceof pn||t instanceof Yn),t instanceof pn){if(t instanceof DN){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map((a=>pn.create(t.field,"==",a))))||[];return Yn.create(i,"or")}return t}const n=t.filters.map((i=>wA(i)));return Yn.create(n,t.op)}function YV(t){if(t.getFilters().length===0)return[];const e=D3(wA(t));return dr(_A(e)),L3(e)||j3(e)?[e]:e.getFilters()}function L3(t){return t instanceof pn}function j3(t){return t instanceof Yn&&e_(t)}function _A(t){return L3(t)||j3(t)||(function(r){if(r instanceof Yn&&C3(r)){for(const n of r.getFilters())if(!L3(n)&&!j3(n))return!1;return!0}return!1})(t)}function D3(t){if(dr(t instanceof pn||t instanceof Yn),t instanceof pn)return t;if(t.filters.length===1)return D3(t.filters[0]);const e=t.filters.map((n=>D3(n)));let r=Yn.create(e,t.op);return r=lv(r),_A(r)?r:(dr(r instanceof Yn),dr(D1(r)),dr(r.filters.length>1),r.filters.reduce(((n,i)=>d_(n,i))))}function d_(t,e){let r;return dr(t instanceof pn||t instanceof Yn),dr(e instanceof pn||e instanceof Yn),r=t instanceof pn?e instanceof pn?(function(i,a){return Yn.create([i,a],"and")})(t,e):Mk(t,e):e instanceof pn?Mk(e,t):(function(i,a){if(dr(i.filters.length>0&&a.filters.length>0),D1(i)&&D1(a))return FN(i,a.getFilters());const s=C3(i)?i:a,o=C3(i)?a:i,l=s.filters.map((c=>d_(c,o)));return Yn.create(l,"or")})(t,e),lv(r)}function Mk(t,e){if(D1(e))return FN(e,t.getFilters());{const r=e.filters.map((n=>d_(t,n)));return Yn.create(r,"or")}}function lv(t){if(dr(t instanceof pn||t instanceof Yn),t instanceof pn)return t;const e=t.getFilters();if(e.length===1)return lv(e[0]);if(PN(t))return t;const r=e.map((i=>lv(i))),n=[];return r.forEach((i=>{i instanceof pn?n.push(i):i instanceof Yn&&(i.op===t.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:Yn.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.un=new f_}addToCollectionParentIndex(e,r){return this.un.add(r),Je.resolve()}getCollectionParents(e,r){return Je.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Je.resolve()}deleteFieldIndex(e,r){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,r){return Je.resolve()}getDocumentsMatchingTarget(e,r){return Je.resolve(null)}getIndexType(e,r){return Je.resolve(0)}getFieldIndexes(e,r){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,r){return Je.resolve(yl.min())}getMinOffsetFromCollectionGroup(e,r){return Je.resolve(yl.min())}updateCollectionGroup(e,r,n){return Je.resolve()}updateIndexEntries(e,r){return Je.resolve()}}class f_{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ii(hn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ii(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Uint8Array(0);class JV{constructor(e,r){this.databaseId=r,this.cn=new f_,this.ln=new cd((n=>Mh(n)),((n,i)=>Ng(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener((()=>{this.cn.add(r)}));const a={collectionId:n,parent:po(i)};return Bk(e).put(a)}return Je.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[hN(r),""],!1,!0);return Bk(e).U(i).next((a=>{for(const s of a){if(s.collectionId!==r)break;n.push(tu(s.parent))}return n}))}addFieldIndex(e,r){const n=rm(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(r);delete i.indexId;const a=n.add(i);if(r.indexState){const s=G0(e);return a.next((o=>{s.put(Rk(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))}))}return a.next()}deleteFieldIndex(e,r){const n=rm(e),i=G0(e),a=W0(e);return n.delete(r.indexId).next((()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))).next((()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const r=rm(e),n=W0(e),i=G0(e);return r.j().next((()=>n.j())).next((()=>i.j()))}createTargetIndexes(e,r){return Je.forEach(this.hn(r),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const a=new Ok(n).an();if(a!=null)return this.addFieldIndex(e,a)}}))))}getDocumentsMatchingTarget(e,r){const n=W0(e);let i=!0;const a=new Map;return Je.forEach(this.hn(r),(s=>this.Pn(e,s).next((o=>{i&&(i=!!o),a.set(s,o)})))).next((()=>{if(i){let s=Hr();const o=[];return Je.forEach(a,((l,c)=>{Tt("IndexedDbIndexManager",`Using index ${(function(P){return`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map((V=>`${V.fieldPath}:${V.kind}`)).join(",")}`})(l)} to execute ${Mh(r)}`);const f=(function(P,V){const Y=b3(V);if(Y===void 0)return null;for(const Q of iv(P,Y.fieldPath))switch(Q.op){case"array-contains-any":return Q.value.arrayValue.values||[];case"array-contains":return[Q.value]}return null})(c,l),p=(function(P,V){const Y=new Map;for(const Q of ph(V))for(const R of iv(P,Q.fieldPath))switch(R.op){case"==":case"in":Y.set(Q.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return Y.set(Q.fieldPath.canonicalString(),R.value),Array.from(Y.values())}return null})(c,l),g=(function(P,V){const Y=[];let Q=!0;for(const R of ph(V)){const T=R.kind===0?xk(P,R.fieldPath,P.startAt):vk(P,R.fieldPath,P.startAt);Y.push(T.value),Q&&(Q=T.inclusive)}return new _f(Y,Q)})(c,l),m=(function(P,V){const Y=[];let Q=!0;for(const R of ph(V)){const T=R.kind===0?vk(P,R.fieldPath,P.endAt):xk(P,R.fieldPath,P.endAt);Y.push(T.value),Q&&(Q=T.inclusive)}return new _f(Y,Q)})(c,l),y=this.In(l,c,g),w=this.In(l,c,m),k=this.Tn(l,c,p),N=this.En(l.indexId,f,y,g.inclusive,w,m.inclusive,k);return Je.forEach(N,(L=>n.G(L,r.limit).next((P=>{P.forEach((V=>{const Y=Kt.fromSegments(V.documentKey);s.has(Y)||(s=s.add(Y),o.push(Y))}))}))))})).next((()=>o))}return Je.resolve(null)}))}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=YV(Yn.create(e.filters,"and")).map((n=>A3(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,r),r)}En(e,r,n,i,a,s,o){const l=(r!=null?r.length:1)*Math.max(n.length,a.length),c=l/(r!=null?r.length:1),f=[];for(let p=0;p<l;++p){const g=r?this.dn(r[p/c]):W2,m=this.An(e,g,n[p%c],i),y=this.Rn(e,g,a[p%c],s),w=o.map((k=>this.An(e,g,k,!0)));f.push(...this.createRange(m,y,w))}return f}An(e,r,n,i){const a=new yh(e,Kt.empty(),r,n);return i?a:a.Zt()}Rn(e,r,n,i){const a=new yh(e,Kt.empty(),r,n);return i?a.Zt():a}Pn(e,r){const n=new Ok(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next((a=>{let s=null;for(const o of a)n.rn(o)&&(!s||o.fields.length>s.fields.length)&&(s=o);return s}))}getIndexType(e,r){let n=2;const i=this.hn(r);return Je.forEach(i,(a=>this.Pn(e,a).next((s=>{s?n!==0&&s.fields.length<(function(l){let c=new ii(ki.comparator),f=!1;for(const p of l.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?f=!0:c=c.add(g.field));for(const p of l.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(f?1:0)})(a)&&(n=1):n=0})))).next((()=>(function(s){return s.limit!==null})(r)&&i.length>1&&n===2?1:n))}Vn(e,r){const n=new tm;for(const i of ph(e)){const a=r.data.field(i.fieldPath);if(a==null)return null;const s=n.Yt(i.kind);vh.vt.It(a,s)}return n.zt()}dn(e){const r=new tm;return vh.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new tm;return vh.vt.It(Oh(this.databaseId,r),n.Yt((function(a){const s=ph(a);return s.length===0?0:s[s.length-1].kind})(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new tm);let a=0;for(const s of ph(e)){const o=n[a++];for(const l of i)if(this.fn(r,s.fieldPath)&&Qm(o))i=this.gn(i,s,o);else{const c=l.Yt(s.kind);vh.vt.It(o,c)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],a=[];for(const s of n.arrayValue.values||[])for(const o of i){const l=new tm;l.seed(o.zt()),vh.vt.It(s,l.Yt(r.kind)),a.push(l)}return a}fn(e,r){return!!e.filters.find((n=>n instanceof pn&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,r){const n=rm(e),i=G0(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next((a=>{const s=[];return Je.forEach(a,(o=>i.get([o.indexId,this.uid]).next((l=>{s.push((function(f,p){const g=p?new L1(p.sequenceNumber,new yl(zh(p.readTime),new Kt(tu(p.documentKey)),p.largestBatchId)):L1.empty(),m=f.fields.map((([y,w])=>new Th(ki.fromServerFormat(y),w)));return new F1(f.indexId,f.collectionGroup,m,g)})(o,l))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((r=>r.length===0?null:(r.sort(((n,i)=>{const a=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return a!==0?a:Mr(n.collectionGroup,i.collectionGroup)})),r[0].collectionGroup)))}updateCollectionGroup(e,r,n){const i=rm(e),a=G0(e);return this.yn(e).next((s=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next((o=>Je.forEach(o,(l=>a.put(Rk(l.indexId,this.uid,s,n))))))))}updateIndexEntries(e,r){const n=new Map;return Je.forEach(r,((i,a)=>{const s=n.get(i.collectionGroup);return(s?Je.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(n.set(i.collectionGroup,o),Je.forEach(o,(l=>this.wn(e,i,l).next((c=>{const f=this.Sn(a,l);return c.isEqual(f)?Je.resolve():this.bn(e,a,l,c,f)})))))))}))}Dn(e,r,n,i){return W0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return W0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=W0(e);let a=new ii(Hd);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},((s,o)=>{a=a.add(new yh(n.indexId,r,o.arrayValue,o.directionalValue))})).next((()=>a))}Sn(e,r){let n=new ii(Hd);const i=this.Vn(r,e);if(i==null)return n;const a=b3(r);if(a!=null){const s=e.data.field(a.fieldPath);if(Qm(s))for(const o of s.arrayValue.values||[])n=n.add(new yh(r.indexId,e.key,this.dn(o),i))}else n=n.add(new yh(r.indexId,e.key,W2,i));return n}bn(e,r,n,i,a){Tt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const s=[];return(function(l,c,f,p,g){const m=l.getIterator(),y=c.getIterator();let w=H0(m),k=H0(y);for(;w||k;){let N=!1,L=!1;if(w&&k){const P=f(w,k);P<0?L=!0:P>0&&(N=!0)}else w!=null?L=!0:N=!0;N?(p(k),k=H0(y)):L?(g(w),w=H0(m)):(w=H0(m),k=H0(y))}})(i,a,Hd,(o=>{s.push(this.Dn(e,r,n,o))}),(o=>{s.push(this.vn(e,r,n,o))})),Je.waitFor(s)}yn(e){let r=1;return G0(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,a)=>{a.done(),r=i.sequenceNumber+1})).next((()=>r))}createRange(e,r,n){n=n.sort(((s,o)=>Hd(s,o))).filter(((s,o,l)=>!o||Hd(s,l[o-1])!==0));const i=[];i.push(e);for(const s of n){const o=Hd(s,e),l=Hd(s,r);if(o===0)i[0]=e.Zt();else if(o>0&&l<0)i.push(s),i.push(s.Zt());else if(l>0)break}i.push(r);const a=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const o=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,W2,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,W2,[]];a.push(IDBKeyRange.bound(o,l))}return a}Cn(e,r){return Hd(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(Vk)}getMinOffset(e,r){return Je.mapArray(this.hn(r),(n=>this.Pn(e,n).next((i=>i||er())))).next(Vk)}}function Bk(t){return rs(t,"collectionParents")}function W0(t){return rs(t,"indexEntries")}function rm(t){return rs(t,"indexConfiguration")}function G0(t){return rs(t,"indexState")}function Vk(t){dr(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;Qw(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new yl(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),a=[],s=IDBKeyRange.only(r.batchId);let o=0;const l=n.J({range:s},((f,p,g)=>(o++,g.delete())));a.push(l.next((()=>{dr(o===1)})));const c=[];for(const f of r.mutations){const p=wN(e,f.key.path,r.batchId);a.push(i.delete(p)),c.push(f.key)}return Je.waitFor(a).next((()=>c))}function cv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw er();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class dy{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){dr(e.uid!=="");const a=e.isAuthenticated()?e.uid:"";return new dy(a,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wd(e).J({index:"userMutationsIndex",range:n},((i,a,s)=>{r=!1,s.done()})).next((()=>r))}addMutationBatch(e,r,n,i){const a=s1(e),s=Wd(e);return s.add({}).next((o=>{dr(typeof o=="number");const l=new a_(o,r,n,i),c=(function(m,y,w){const k=w.baseMutations.map((L=>eg(m.ct,L))),N=w.mutations.map((L=>eg(m.ct,L)));return{userId:y,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:k,mutations:N}})(this.serializer,this.userId,l),f=[];let p=new ii(((g,m)=>Mr(g.canonicalString(),m.canonicalString())));for(const g of i){const m=wN(this.userId,g.key.path,o);p=p.add(g.key.path.popLast()),f.push(s.put(c)),f.push(a.put(m,BB))}return p.forEach((g=>{f.push(this.indexManager.addToCollectionParentIndex(e,g))})),e.addOnCommittedListener((()=>{this.Fn[o]=l.keys()})),Je.waitFor(f).next((()=>l))}))}lookupMutationBatch(e,r){return Wd(e).get(r).next((n=>n?(dr(n.userId===this.userId),xh(this.serializer,n)):null))}Mn(e,r){return this.Fn[r]?Je.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next((n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return Wd(e).J({index:"userMutationsIndex",range:i},((s,o,l)=>{o.userId===this.userId&&(dr(o.batchId>=n),a=xh(this.serializer,o)),l.done()})).next((()=>a))}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Wd(e).J({index:"userMutationsIndex",range:r,reverse:!0},((i,a,s)=>{n=a.batchId,s.done()})).next((()=>n))}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wd(e).U("userMutationsIndex",r).next((n=>n.map((i=>xh(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Tx(this.userId,r.path),i=IDBKeyRange.lowerBound(n),a=[];return s1(e).J({range:i},((s,o,l)=>{const[c,f,p]=s,g=tu(f);if(c===this.userId&&r.path.isEqual(g))return Wd(e).get(p).next((m=>{if(!m)throw er();dr(m.userId===this.userId),a.push(xh(this.serializer,m))}));l.done()})).next((()=>a))}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ii(Mr);const i=[];return r.forEach((a=>{const s=Tx(this.userId,a.path),o=IDBKeyRange.lowerBound(s),l=s1(e).J({range:o},((c,f,p)=>{const[g,m,y]=c,w=tu(m);g===this.userId&&a.path.isEqual(w)?n=n.add(y):p.done()}));i.push(l)})),Je.waitFor(i).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,a=Tx(this.userId,n),s=IDBKeyRange.lowerBound(a);let o=new ii(Mr);return s1(e).J({range:s},((l,c,f)=>{const[p,g,m]=l,y=tu(g);p===this.userId&&n.isPrefixOf(y)?y.length===i&&(o=o.add(m)):f.done()})).next((()=>this.xn(e,o)))}xn(e,r){const n=[],i=[];return r.forEach((a=>{i.push(Wd(e).get(a).next((s=>{if(s===null)throw er();dr(s.userId===this.userId),n.push(xh(this.serializer,s))})))})),Je.waitFor(i).next((()=>n))}removeMutationBatch(e,r){return bA(e._e,this.userId,r).next((n=>(e.addOnCommittedListener((()=>{this.On(r.batchId)})),Je.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((r=>{if(!r)return Je.resolve();const n=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return s1(e).J({range:n},((a,s,o)=>{if(a[0]===this.userId){const l=tu(a[1]);i.push(l)}else o.done()})).next((()=>{dr(i.length===0)}))}))}containsKey(e,r){return kA(e,this.userId,r)}Nn(e){return EA(e).get(this.userId).next((r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function kA(t,e,r){const n=Tx(e,r.path),i=n[1],a=IDBKeyRange.lowerBound(n);let s=!1;return s1(t).J({range:a,H:!0},((o,l,c)=>{const[f,p,g]=o;f===e&&p===i&&(s=!0),c.done()})).next((()=>s))}function Wd(t){return rs(t,"mutations")}function s1(t){return rs(t,"documentMutations")}function EA(t){return rs(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $h(0)}static kn(){return new $h(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next((r=>{const n=new $h(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next((()=>r.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((r=>vr.fromTimestamp(new Oi(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((r=>r.highestListenSequenceNumber))}setTargetsMetadata(e,r,n){return this.qn(e).next((i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i))))}addTargetData(e,r){return this.Kn(e,r).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next((()=>K0(e).delete(r.targetId))).next((()=>this.qn(e))).next((n=>(dr(n.targetCount>0),n.targetCount-=1,this.Qn(e,n))))}removeTargets(e,r,n){let i=0;const a=[];return K0(e).J(((s,o)=>{const l=gm(o);l.sequenceNumber<=r&&n.get(l.targetId)===null&&(i++,a.push(this.removeTargetData(e,l)))})).next((()=>Je.waitFor(a))).next((()=>i))}forEachTarget(e,r){return K0(e).J(((n,i)=>{const a=gm(i);r(a)}))}qn(e){return zk(e).get("targetGlobalKey").next((r=>(dr(r!==null),r)))}Qn(e,r){return zk(e).put("targetGlobalKey",r)}Kn(e,r){return K0(e).put(yA(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((r=>r.targetCount))}getTargetData(e,r){const n=Mh(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return K0(e).J({range:i,index:"queryTargetsIndex"},((s,o,l)=>{const c=gm(o);Ng(r,c.target)&&(a=c,l.done())})).next((()=>a))}addMatchingKeys(e,r,n){const i=[],a=Zd(e);return r.forEach((s=>{const o=po(s.path);i.push(a.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,s))})),Je.waitFor(i)}removeMatchingKeys(e,r,n){const i=Zd(e);return Je.forEach(r,(a=>{const s=po(a.path);return Je.waitFor([i.delete([n,s]),this.referenceDelegate.removeReference(e,n,a)])}))}removeMatchingKeysForTargetId(e,r){const n=Zd(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=Zd(e);let a=Hr();return i.J({range:n,H:!0},((s,o,l)=>{const c=tu(s[1]),f=new Kt(c);a=a.add(f)})).next((()=>a))}containsKey(e,r){const n=po(r.path),i=IDBKeyRange.bound([n],[hN(n)],!1,!0);let a=0;return Zd(e).J({index:"documentTargetsIndex",H:!0,range:i},(([s,o],l,c)=>{s!==0&&(a++,c.done())})).next((()=>a>0))}ot(e,r){return K0(e).get(r).next((n=>n?gm(n):null))}}function K0(t){return rs(t,"targets")}function zk(t){return rs(t,"targetGlobal")}function Zd(t){return rs(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k([t,e],[r,n]){const i=Mr(t,r);return i===0?Mr(e,n):i}class eU{constructor(e){this.Un=e,this.buffer=new ii($k),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();$k(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class SA{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Tt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){jf(r)?Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await Lf(r)}await this.Hn(3e5)}))}}class tU{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Je.resolve($o.oe);const n=new eU(r);return this.Jn.forEachTarget(e,(i=>n.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>n.zn(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(Uk)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uk):this.Xn(e,r)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,a,s,o,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,o=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(c=Date.now(),n1()<=fn.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function CA(t,e){return new tU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,r){this.db=e,this.garbageCollector=CA(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,((n,i)=>r(i)))}addReference(e,r,n){return G2(e,n)}removeReference(e,r,n){return G2(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return G2(e,r)}nr(e,r){return(function(i,a){let s=!1;return EA(i).Y((o=>kA(i,o,a).next((l=>(l&&(s=!0),Je.resolve(!l)))))).next((()=>s))})(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.tr(e,((s,o)=>{if(o<=r){const l=this.nr(e,s).next((c=>{if(!c)return a++,n.getEntry(e,s).next((()=>(n.removeEntry(s,vr.min()),Zd(e).delete((function(p){return[0,po(p.path)]})(s)))))}));i.push(l)}})).next((()=>Je.waitFor(i))).next((()=>n.apply(e))).next((()=>a))}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return G2(e,r)}tr(e,r){const n=Zd(e);let i,a=$o.oe;return n.J({index:"documentTargetsIndex"},(([s,o],{path:l,sequenceNumber:c})=>{s===0?(a!==$o.oe&&r(new Kt(tu(i)),a),a=c,i=l):a=$o.oe})).next((()=>{a!==$o.oe&&r(new Kt(tu(i)),a)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function G2(t,e){return Zd(t).put((function(n,i){return{targetId:0,path:po(n.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.changes=new cd((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,bi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Je.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return dh(e).put(n)}removeEntry(e,r,n){return dh(e).delete((function(a,s){const o=a.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],ov(s),o[o.length-1]]})(r,n))}updateMetadata(e,r){return this.getMetadata(e).next((n=>(n.byteSize+=r,this.rr(e,n))))}getEntry(e,r){let n=bi.newInvalidDocument(r);return dh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(nm(r))},((i,a)=>{n=this.ir(r,a)})).next((()=>n))}sr(e,r){let n={size:0,document:bi.newInvalidDocument(r)};return dh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(nm(r))},((i,a)=>{n={document:this.ir(r,a),size:cv(a)}})).next((()=>n))}getEntries(e,r){let n=Ho();return this._r(e,r,((i,a)=>{const s=this.ir(i,a);n=n.insert(i,s)})).next((()=>n))}ar(e,r){let n=Ho(),i=new xi(Kt.comparator);return this._r(e,r,((a,s)=>{const o=this.ir(a,s);n=n.insert(a,o),i=i.insert(a,cv(s))})).next((()=>({documents:n,ur:i})))}_r(e,r,n){if(r.isEmpty())return Je.resolve();let i=new ii(Wk);r.forEach((l=>i=i.add(l)));const a=IDBKeyRange.bound(nm(i.first()),nm(i.last())),s=i.getIterator();let o=s.getNext();return dh(e).J({index:"documentKeyIndex",range:a},((l,c,f)=>{const p=Kt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&Wk(o,p)<0;)n(o,null),o=s.getNext();o&&o.isEqual(p)&&(n(o,c),o=s.hasNext()?s.getNext():null),o?f.$(nm(o)):f.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,r,n,i,a){const s=r.path,o=[s.popLast().toArray(),s.lastSegment(),ov(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dh(e).U(IDBKeyRange.bound(o,l,!0)).next((c=>{a?.incrementDocumentReadCount(c.length);let f=Ho();for(const p of c){const g=this.ir(Kt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(Tg(r,g)||i.has(g.key))&&(f=f.insert(g.key,g))}return f}))}getAllFromCollectionGroup(e,r,n,i){let a=Ho();const s=Hk(r,n),o=Hk(r,yl.max());return dh(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((l,c,f)=>{const p=this.ir(Kt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);a=a.insert(p.key,p),a.size===i&&f.done()})).next((()=>a))}newChangeBuffer(e){return new iU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((r=>r.byteSize))}getMetadata(e){return qk(e).get("remoteDocumentGlobalKey").next((r=>(dr(!!r),r)))}rr(e,r){return qk(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=$V(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(vr.min())))return n}return bi.newInvalidDocument(e)}}function AA(t){return new nU(t)}class iU extends NA{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new cd((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const r=[];let n=0,i=new ii(((a,s)=>Mr(a.canonicalString(),s.canonicalString())));return this.changes.forEach(((a,s)=>{const o=this.lr.get(a);if(r.push(this.cr.removeEntry(e,a,o.readTime)),s.isValidDocument()){const l=Ik(this.cr.serializer,s);i=i.add(a.path.popLast());const c=cv(l);n+=c-o.size,r.push(this.cr.addEntry(e,a,l))}else if(n-=o.size,this.trackRemovals){const l=Ik(this.cr.serializer,s.convertToNoDocument(vr.min()));r.push(this.cr.addEntry(e,a,l))}})),i.forEach((a=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,a))})),r.push(this.cr.updateMetadata(e,n)),Je.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next((n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,r){return this.cr.ar(e,r).next((({documents:n,ur:i})=>(i.forEach(((a,s)=>{this.lr.set(a,{size:s,readTime:n.get(a).readTime})})),n)))}}function qk(t){return rs(t,"remoteDocumentGlobal")}function dh(t){return rs(t,"remoteDocumentsV14")}function nm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hk(t,e){const r=e.documentKey.path.toArray();return[t,ov(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Wk(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let a=0;a<r.length-2&&a<n.length-2;++a)if(i=Mr(r[a],n[a]),i)return i;return i=Mr(r.length,n.length),i||(i=Mr(r[r.length-2],n[n.length-2]),i||Mr(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Cm(n.mutation,i,qo.empty(),Oi.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Hr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Hr()){const i=ru();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let s=pm();return a.forEach(((o,l)=>{s=s.insert(o,l.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){const n=ru();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Hr())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,o)=>{r.set(s,o)}))}))}computeViews(e,r,n,i){let a=Ho();const s=Sm(),o=(function(){return Sm()})();return r.forEach(((l,c)=>{const f=n.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof ud)?a=a.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),Cm(f.mutation,c,f.mutation.getFieldMask(),Oi.now())):s.set(c.key,qo.empty())})),this.recalculateAndSaveOverlays(e,a).next((l=>(l.forEach(((c,f)=>s.set(c,f))),r.forEach(((c,f)=>{var p;return o.set(c,new aU(f,(p=s.get(c))!==null&&p!==void 0?p:null))})),o)))}recalculateAndSaveOverlays(e,r){const n=Sm();let i=new xi(((s,o)=>s-o)),a=Hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(const o of s)o.keys().forEach((l=>{const c=r.get(l);if(c===null)return;let f=n.get(l)||qo.empty();f=o.applyToLocalView(c,f),n.set(l,f);const p=(i.get(o.batchId)||Hr()).add(l);i=i.insert(o.batchId,p)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,f=l.value,p=HN();f.forEach((g=>{if(!a.has(g)){const m=JN(r.get(g),n.get(g));m!==null&&p.set(g,m),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return Je.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(s){return Kt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):t_(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Je.resolve(ru());let o=-1,l=a;return s.next((c=>Je.forEach(c,((f,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),a.get(f)?Je.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{l=l.insert(f,g)}))))).next((()=>this.populateOverlays(e,c,a))).next((()=>this.computeViews(e,l,c,Hr()))).next((f=>({batchId:o,changes:qN(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Kt(r)).next((n=>{let i=pm();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=pm();return this.indexManager.getCollectionParents(e,a).next((o=>Je.forEach(o,(l=>{const c=(function(p,g){return new ld(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next((f=>{f.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((s=>{a.forEach(((l,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,bi.newInvalidDocument(f)))}));let o=pm();return s.forEach(((l,c)=>{const f=a.get(l);f!==void 0&&Cm(f.mutation,c,qo.empty(),Oi.now()),Tg(r,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Je.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Sa(i.createTime)}})(r)),Je.resolve()}getNamedQuery(e,r){return Je.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:u_(i.bundledQuery),readTime:Sa(i.readTime)}})(r)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(){this.overlays=new xi(Kt.comparator),this.Ir=new Map}getOverlay(e,r){return Je.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ru();return Je.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.ht(e,r,a)})),Je.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(n)),Je.resolve()}getOverlaysForCollection(e,r,n){const i=ru(),a=r.length+1,s=new Kt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new xi(((c,f)=>c-f));const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let f=a.get(c.largestBatchId);f===null&&(f=ru(),a=a.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const o=ru(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,f)=>o.set(c,f))),!(o.size()>=i)););return Je.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new o_(r,n));let a=this.Ir.get(r);a===void 0&&(a=Hr(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(){this.sessionToken=Yi.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(){this.Tr=new ii(fs.Er),this.dr=new ii(fs.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new fs(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new fs(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new Kt(new hn([])),n=new fs(r,e),i=new fs(r,e+1),a=[];return this.dr.forEachInRange([n,i],(s=>{this.Vr(s),a.push(s.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Kt(new hn([])),n=new fs(r,e),i=new fs(r,e+1);let a=Hr();return this.dr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const r=new fs(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class fs{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Kt.comparator(e.key,r.key)||Mr(e.wr,r.wr)}static Ar(e,r){return Mr(e.wr,r.wr)||Kt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new ii(fs.Er)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new a_(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new fs(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Je.resolve(s)}lookupMutationBatch(e,r){return Je.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return Je.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new fs(r,0),i=new fs(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],(s=>{const o=this.Dr(s.wr);a.push(o)})),Je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ii(Mr);return r.forEach((i=>{const a=new fs(i,0),s=new fs(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],(o=>{n=n.add(o.wr)}))})),Je.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Kt.isDocumentKey(a)||(a=a.child(""));const s=new fs(new Kt(a),0);let o=new ii(Mr);return this.br.forEachWhile((l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)}),s),Je.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){dr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Je.forEach(r.mutations,(i=>{const a=new fs(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new fs(r,0),i=this.br.firstAfterOrEqual(n);return Je.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.Mr=e,this.docs=(function(){return new xi(Kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Je.resolve(n?n.document.mutableCopy():bi.newInvalidDocument(r))}getEntries(e,r){let n=Ho();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():bi.newInvalidDocument(i))})),Je.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ho();const s=r.path,o=new Kt(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Qw(mN(f),n)<=0||(i.has(f.key)||Tg(r,f))&&(a=a.insert(f.key,f.mutableCopy()))}return Je.resolve(a)}getAllFromCollectionGroup(e,r,n,i){er()}Or(e,r){return Je.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new dU(this)}getSize(e){return Je.resolve(this.size)}}class dU extends NA{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),Je.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e){this.persistence=e,this.Nr=new cd((r=>Mh(r)),Ng),this.lastRemoteSnapshotVersion=vr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new h_,this.targetCount=0,this.kr=$h.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Je.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new $h(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Je.resolve()}updateTargetData(e,r){return this.Kn(r),Je.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Je.waitFor(a).next((()=>i))}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Je.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Je.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),Je.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Je.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Je.resolve(n)}containsKey(e,r){return Je.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,r){this.qr={},this.overlays={},this.Qr=new $o(0),this.Kr=!1,this.Kr=!0,this.$r=new lU,this.referenceDelegate=e(this),this.Ur=new fU(this),this.indexManager=new QV,this.remoteDocumentCache=(function(i){return new uU(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new vA(r),this.Gr=new sU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new oU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new cU(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Tt("MemoryPersistence","Starting transaction:",e);const i=new hU(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((a=>this.referenceDelegate.jr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Hr(e,r){return Je.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class hU extends xN{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.Jr=new h_,this.Yr=null}static Zr(e){return new fy(e)}get Xr(){if(this.Yr)return this.Yr;throw er()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Je.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Je.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Je.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.Xr.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xr,(n=>{const i=Kt.fromPath(n);return this.ei(e,i).next((a=>{a||r.removeEntry(i,vr.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return Je.or([()=>Je.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class uv{constructor(e,r){this.persistence=e,this.ti=new cd((n=>po(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=CA(this,r)}static Zr(e,r){return new uv(e,r)}zr(){}jr(e){return Je.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}Yn(e){const r=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}Zn(e,r){return Je.forEach(this.ti,((n,i)=>this.nr(e,n,i).next((a=>a?Je.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Or(e,(s=>this.nr(e,s,r).next((o=>{o||(n++,a.removeEntry(s,vr.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.ti.set(r,e.currentSequenceNumber),Je.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.ti.set(n,e.currentSequenceNumber),Je.resolve()}removeReference(e,r,n){return this.ti.set(n,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,r){return this.ti.set(r,e.currentSequenceNumber),Je.resolve()}Wr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Px(e.data.value)),r}nr(e,r,n){return Je.or([()=>this.persistence.Hr(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.ti.get(r);return Je.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.serializer=e}O(e,r,n,i){const a=new ny("createOrUpgrade",r);n<1&&i>=1&&((function(l){l.createObjectStore("owner")})(e),(function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sk,{unique:!0}),l.createObjectStore("documentMutations")})(e),Gk(e),(function(l){l.createObjectStore("remoteDocuments")})(e));let s=Je.resolve();return n<3&&i>=3&&(n!==0&&((function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")})(e),Gk(e)),s=s.next((()=>(function(l){const c=l.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vr.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",f)})(a)))),n<4&&i>=4&&(n!==0&&(s=s.next((()=>(function(l,c){return c.store("mutations").U().next((f=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",sk,{unique:!0});const p=c.store("mutations"),g=f.map((m=>p.put(m)));return Je.waitFor(g)}))})(e,a)))),s=s.next((()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),n<5&&i>=5&&(s=s.next((()=>this.ni(a)))),n<6&&i>=6&&(s=s.next((()=>((function(l){l.createObjectStore("remoteDocumentGlobal")})(e),this.ri(a))))),n<7&&i>=7&&(s=s.next((()=>this.ii(a)))),n<8&&i>=8&&(s=s.next((()=>this.si(e,a)))),n<9&&i>=9&&(s=s.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(s=s.next((()=>this.oi(a)))),n<11&&i>=11&&(s=s.next((()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(l){l.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),n<12&&i>=12&&(s=s.next((()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:QB});c.createIndex("collectionPathOverlayIndex",JB,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",ZB,{unique:!1})})(e)}))),n<13&&i>=13&&(s=s.next((()=>(function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:VB});c.createIndex("documentKeyIndex",UB),c.createIndex("collectionGroupIndex",zB)})(e))).next((()=>this._i(e,a))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>this.ai(e,a)))),n<15&&i>=15&&(s=s.next((()=>(function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:GB}).createIndex("sequenceNumberIndex",KB,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:XB}).createIndex("documentKeyIndex",YB,{unique:!1})})(e)))),n<16&&i>=16&&(s=s.next((()=>{r.objectStore("indexState").clear()})).next((()=>{r.objectStore("indexEntries").clear()}))),n<17&&i>=17&&(s=s.next((()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)}))),s}ri(e){let r=0;return e.store("remoteDocuments").J(((n,i)=>{r+=cv(i)})).next((()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next((i=>Je.forEach(i,(a=>{const s=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",s).next((o=>Je.forEach(o,(l=>{dr(l.userId===a.userId);const c=xh(this.serializer,l);return bA(e,a.userId,c).next((()=>{}))}))))}))))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const a=[];return n.J(((s,o)=>{const l=new hn(s),c=(function(p){return[0,po(p)]})(l);a.push(r.get(c).next((f=>f?Je.resolve():(p=>r.put({targetId:0,path:po(p),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>Je.waitFor(a)))}))}si(e,r){e.createObjectStore("collectionParents",{keyPath:WB});const n=r.store("collectionParents"),i=new f_,a=s=>{if(i.add(s)){const o=s.lastSegment(),l=s.popLast();return n.put({collectionId:o,parent:po(l)})}};return r.store("remoteDocuments").J({H:!0},((s,o)=>{const l=new hn(s);return a(l.popLast())})).next((()=>r.store("documentMutations").J({H:!0},(([s,o,l],c)=>{const f=tu(o);return a(f.popLast())}))))}oi(e){const r=e.store("targets");return r.J(((n,i)=>{const a=gm(i),s=yA(this.serializer,a);return r.put(s)}))}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J(((a,s)=>{const o=r.store("remoteDocumentsV14"),l=(function(p){return p.document?new Kt(hn.fromString(p.document.name).popFirst(5)):p.noDocument?Kt.fromSegments(p.noDocument.path):p.unknownDocument?Kt.fromSegments(p.unknownDocument.path):er()})(s).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(o.put(c))})).next((()=>Je.waitFor(i)))}ai(e,r){const n=r.store("mutations"),i=AA(this.serializer),a=new p_(fy.Zr,this.serializer.ct);return n.U().next((s=>{const o=new Map;return s.forEach((l=>{var c;let f=(c=o.get(l.userId))!==null&&c!==void 0?c:Hr();xh(this.serializer,l).keys().forEach((p=>f=f.add(p))),o.set(l.userId,f)})),Je.forEach(o,((l,c)=>{const f=new ps(c),p=uy.lt(this.serializer,f),g=a.getIndexManager(f),m=dy.lt(f,this.serializer,g,a.referenceDelegate);return new TA(i,m,p,g).recalculateAndSaveOverlaysForDocumentKeys(new k3(r,$o.oe),l).next()}))}))}}function Gk(t){t.createObjectStore("targetDocuments",{keyPath:qB}).createIndex("documentTargetsIndex",HB,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$B,{unique:!0}),t.createObjectStore("targetGlobal")}const Q5="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class m_{constructor(e,r,n,i,a,s,o,l,c,f,p=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=a,this.window=s,this.document=o,this.ci=c,this.li=f,this.hi=p,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=g=>Promise.resolve(),!m_.D())throw new At(ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rU(this,i),this.Ai=r+"main",this.serializer=new vA(l),this.Ri=new ou(this.Ai,this.hi,new pU(this.serializer)),this.$r=new HV,this.Ur=new ZV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=AA(this.serializer),this.Gr=new qV,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,f===!1&&ka("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new At(ct.FAILED_PRECONDITION,Q5);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new $o(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async r=>{r.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>K2(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((r=>this.isPrimary&&!r?this.bi(e).next((()=>!1)):!!r&&this.Di(e).next((()=>!0)))))).catch((e=>{if(jf(e))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return im(e).get("owner").next((r=>Je.resolve(this.vi(r))))}Ci(e){return K2(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(r=>{const n=rs(r,"clientMetadata");return n.U().next((i=>{const a=this.xi(i,18e5),s=i.filter((o=>a.indexOf(o)===-1));return Je.forEach(s,(o=>n.delete(o.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Je.resolve(!0):im(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new At(ct.FAILED_PRECONDITION,Q5);return!1}}return!(!this.networkEnabled||!this.inForeground)||K2(e).U().next((n=>this.xi(n,5e3).find((i=>{if(this.clientId!==i.clientId){const a=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(a||s&&o)return!0}return!1}))===void 0))})).next((r=>(this.isPrimary!==r&&Tt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const r=new k3(e,$o.oe);return this.bi(r).next((()=>this.Ci(r)))})),this.Ri.close(),this.qi()}xi(e,r){return e.filter((n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>K2(e).U().next((r=>this.xi(r,18e5).map((n=>n.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return dy.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JV(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return uy.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Tt("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",a=(function(l){return l===17?rV:l===16?tV:l===15?Zw:l===14?kN:l===13?bN:l===12?eV:l===11?_N:void er()})(this.hi);let s;return this.Ri.runTransaction(e,i,a,(o=>(s=new k3(o,this.Qr?this.Qr.next():$o.oe),r==="readwrite-primary"?this.wi(s).next((l=>!!l||this.Si(s))).next((l=>{if(!l)throw ka(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new At(ct.FAILED_PRECONDITION,gN);return n(s)})).next((l=>this.Di(s).next((()=>l)))):this.Ki(s).next((()=>n(s)))))).then((o=>(s.raiseOnCommittedEvent(),o)))}Ki(e){return im(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new At(ct.FAILED_PRECONDITION,Q5)}))}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return im(e).put("owner",r)}static D(){return ou.D()}bi(e){const r=im(e);return r.get("owner").next((n=>this.vi(n)?(Tt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Je.resolve()))}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(ka(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;QC()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Tt("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return ka("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){ka("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function im(t){return rs(t,"owner")}function K2(t){return rs(t,"clientMetadata")}function g_(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Hr(),i=Hr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new x_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return QC()?8:vN(Za())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.Yi(e,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.Zi(e,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new mU;return this.Xi(e,r,s).next((o=>{if(a.result=o,this.zi)return this.es(e,r,s,o.size)}))})).next((()=>a.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(n1()<=fn.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",i1(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Je.resolve()):(n1()<=fn.DEBUG&&Tt("QueryEngine","Query:",i1(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(n1()<=fn.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",i1(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mo(r))):Je.resolve())}Yi(e,r){if(yk(r))return Je.resolve(null);let n=mo(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=av(r,null,"F"),n=mo(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=Hr(...a);return this.Ji.getDocuments(e,s).next((o=>this.indexManager.getMinOffset(e,n).next((l=>{const c=this.ts(r,o);return this.ns(r,c,s,l.readTime)?this.Yi(e,av(r,null,"F")):this.rs(e,c,r,l)}))))})))))}Zi(e,r,n,i){return yk(r)||i.isEqual(vr.min())?Je.resolve(null):this.Ji.getDocuments(e,n).next((a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?Je.resolve(null):(n1()<=fn.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),i1(r)),this.rs(e,s,r,pN(i,-1)).next((o=>o)))}))}ts(e,r){let n=new ii(zN(e));return r.forEach(((i,a)=>{Tg(e,a)&&(n=n.add(a))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(e,r,n){return n1()<=fn.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",i1(r)),this.Ji.getDocumentsMatchingQuery(e,r,yl.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new xi(Mr),this._s=new cd((a=>Mh(a)),Ng),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function PA(t,e,r,n){return new gU(t,e,r,n)}async function RA(t,e){const r=Ht(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],o=[];let l=Hr();for(const c of i){s.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of a){o.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next((c=>({hs:c,removedBatchIds:s,addedBatchIds:o})))}))}))}function xU(t,e){const r=Ht(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,f){const p=c.batch,g=p.keys();let m=Je.resolve();return g.forEach((y=>{m=m.next((()=>f.getEntry(l,y))).next((w=>{const k=c.docVersions.get(y);dr(k!==null),w.version.compareTo(k)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),f.addEntry(w)))}))})),m.next((()=>o.mutationQueue.removeMutationBatch(l,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let l=Hr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function FA(t){const e=Ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function vU(t,e){const r=Ht(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach(((f,p)=>{const g=i.get(p);if(!g)return;o.push(r.Ur.removeMatchingKeys(a,f.removedDocuments,p).next((()=>r.Ur.addMatchingKeys(a,f.addedDocuments,p))));let m=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Yi.EMPTY_BYTE_STRING,vr.min()).withLastLimboFreeSnapshotVersion(vr.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,n)),i=i.insert(p,m),(function(w,k,N){return w.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,m,f)&&o.push(r.Ur.updateTargetData(a,m))}));let l=Ho(),c=Hr();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,f))})),o.push(LA(a,s,e.documentUpdates).next((f=>{l=f.Ps,c=f.Is}))),!n.isEqual(vr.min())){const f=r.Ur.getLastRemoteSnapshotVersion(a).next((p=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n)));o.push(f)}return Je.waitFor(o).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,l,c))).next((()=>l))})).then((a=>(r.os=i,a)))}function LA(t,e,r){let n=Hr(),i=Hr();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let s=Ho();return r.forEach(((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(vr.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):Tt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{Ps:s,Is:i}}))}function yU(t,e){const r=Ht(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function V1(t,e){const r=Ht(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((a=>a?(i=a,Je.resolve(i)):r.Ur.allocateTargetId(n).next((s=>(i=new zu(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function U1(t,e,r){const n=Ht(t),i=n.os.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!jf(s))throw s;Tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function dv(t,e,r){const n=Ht(t);let i=vr.min(),a=Hr();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(l,c,f){const p=Ht(l),g=p._s.get(f);return g!==void 0?Je.resolve(p.os.get(g)):p.Ur.getTargetData(c,f)})(n,s,mo(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,o.targetId).next((l=>{a=l}))})).next((()=>n.ss.getDocumentsMatchingQuery(s,e,r?i:vr.min(),r?a:Hr()))).next((o=>(OA(n,UN(e),o),{documents:o,Ts:a})))))}function jA(t,e){const r=Ht(t),n=Ht(r.Ur),i=r.os.get(e);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",(a=>n.ot(a,e).next((s=>s?s.target:null))))}function DA(t,e){const r=Ht(t),n=r.us.get(e)||vr.min();return r.persistence.runTransaction("Get new document changes","readonly",(i=>r.cs.getAllFromCollectionGroup(i,e,pN(n,-1),Number.MAX_SAFE_INTEGER))).then((i=>(OA(r,e,i),i)))}function OA(t,e,r){let n=t.us.get(e)||vr.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.us.set(e,n)}async function wU(t,e,r,n){const i=Ht(t);let a=Hr(),s=Ho();for(const c of r){const f=e.Es(c.metadata.name);c.document&&(a=a.add(f));const p=e.ds(c);p.setReadTime(e.As(c.metadata.readTime)),s=s.insert(f,p)}const o=i.cs.newChangeBuffer({trackRemovals:!0}),l=await V1(i,(function(f){return mo(rp(hn.fromString(`__bundle__/docs/${f}`)))})(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>LA(c,o,s).next((f=>(o.apply(c),f))).next((f=>i.Ur.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Ur.addMatchingKeys(c,a,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,f.Ps,f.Is))).next((()=>f.Ps))))))}async function _U(t,e,r=Hr()){const n=await V1(t,mo(u_(e.bundledQuery))),i=Ht(t);return i.persistence.runTransaction("Save named query","readwrite",(a=>{const s=Sa(e.readTime);if(n.snapshotVersion.compareTo(s)>=0)return i.Gr.saveNamedQuery(a,e);const o=n.withResumeToken(Yi.EMPTY_BYTE_STRING,s);return i.os=i.os.insert(o.targetId,o),i.Ur.updateTargetData(a,o).next((()=>i.Ur.removeMatchingKeysForTargetId(a,n.targetId))).next((()=>i.Ur.addMatchingKeys(a,r,n.targetId))).next((()=>i.Gr.saveNamedQuery(a,e)))}))}function Kk(t,e){return`firestore_clients_${t}_${e}`}function Xk(t,e,r){let n=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function J5(t,e){return`firestore_targets_${t}_${e}`}class fv{constructor(e,r,n,i){this.user=e,this.batchId=r,this.state=n,this.error=i}static Rs(e,r,n){const i=JSON.parse(n);let a,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(a=new At(i.error.code,i.error.message))),s?new fv(e,r,i.state,a):(ka("SharedClientState",`Failed to parse mutation state for ID '${r}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nm{constructor(e,r,n){this.targetId=e,this.state=r,this.error=n}static Rs(e,r){const n=JSON.parse(r);let i,a=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return a&&n.error&&(a=typeof n.error.message=="string"&&typeof n.error.code=="string",a&&(i=new At(n.error.code,n.error.message))),a?new Nm(e,n.state,i):(ka("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hv{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const n=JSON.parse(r);let i=typeof n=="object"&&n.activeTargetIds instanceof Array,a=r_();for(let s=0;i&&s<n.activeTargetIds.length;++s)i=yN(n.activeTargetIds[s]),a=a.add(n.activeTargetIds[s]);return i?new hv(e,a):(ka("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class v_{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new v_(r.clientId,r.onlineState):(ka("SharedClientState",`Failed to parse online state: ${e}`),null)}}class O3{constructor(){this.activeTargetIds=r_()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z5{constructor(e,r,n,i,a){this.window=e,this.ui=r,this.persistenceKey=n,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new xi(Mr),this.started=!1,this.bs=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Ds=Kk(this.persistenceKey,this.ps),this.vs=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new O3),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this.Os=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const i=this.getItem(Kk(this.persistenceKey,n));if(i){const a=hv.Rs(n,i);a&&(this.Ss=this.Ss.insert(a.clientId,a))}}this.Ns();const r=this.storage.getItem(this.xs);if(r){const n=this.Ls(r);n&&this.Bs(n)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(r=!0)})),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,n){this.qs(e,r,n),this.Qs(e)}addLocalQueryTarget(e,r=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(J5(this.persistenceKey,e));if(i){const a=Nm.Rs(e,i);a&&(n=a.state)}}return r&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(J5(this.persistenceKey,e))}updateQueryState(e,r,n){this.$s(e,r,n)}handleUserChange(e,r,n){r.forEach((i=>{this.Qs(i)})),this.currentUser=e,n.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Tt("SharedClientState","READ",e,r),r}setItem(e,r){Tt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const r=e;if(r.storageArea===this.storage){if(Tt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void ka("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(r.key!==null){if(this.Cs.test(r.key)){if(r.newValue==null){const n=this.Gs(r.key);return this.zs(n,null)}{const n=this.js(r.key,r.newValue);if(n)return this.zs(n.clientId,n)}}else if(this.Fs.test(r.key)){if(r.newValue!==null){const n=this.Hs(r.key,r.newValue);if(n)return this.Js(n)}}else if(this.Ms.test(r.key)){if(r.newValue!==null){const n=this.Ys(r.key,r.newValue);if(n)return this.Zs(n)}}else if(r.key===this.xs){if(r.newValue!==null){const n=this.Ls(r.newValue);if(n)return this.Bs(n)}}else if(r.key===this.vs){const n=(function(a){let s=$o.oe;if(a!=null)try{const o=JSON.parse(a);dr(typeof o=="number"),s=o}catch(o){ka("SharedClientState","Failed to read sequence number from WebStorage",o)}return s})(r.newValue);n!==$o.oe&&this.sequenceNumberHandler(n)}else if(r.key===this.Os){const n=this.Xs(r.newValue);await Promise.all(n.map((i=>this.syncEngine.eo(i))))}}}else this.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,n){const i=new fv(this.currentUser,e,r,n),a=Xk(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Vs())}Qs(e){const r=Xk(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){const r={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(r))}$s(e,r,n){const i=J5(this.persistenceKey,e),a=new Nm(e,r,n);this.setItem(i,a.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const n=this.Gs(e);return hv.Rs(n,r)}Hs(e,r){const n=this.Fs.exec(e),i=Number(n[1]),a=n[2]!==void 0?n[2]:null;return fv.Rs(new ps(a),i,r)}Ys(e,r){const n=this.Ms.exec(e),i=Number(n[1]);return Nm.Rs(i,r)}Ls(e){return v_.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const n=r?this.Ss.insert(e,r):this.Ss.remove(e),i=this.ks(this.Ss),a=this.ks(n),s=[],o=[];return a.forEach((l=>{i.has(l)||s.push(l)})),i.forEach((l=>{a.has(l)||o.push(l)})),this.syncEngine.io(s,o).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=r_();return e.forEach(((n,i)=>{r=r.unionWith(i.activeTargetIds)})),r}}class MA{constructor(){this.so=new O3,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new O3,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let X2=null;function e4(){return X2===null?X2=(function(){return 268435456+Math.round(2147483648*Math.random())})():X2++,"0x"+X2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="WebChannelConnection";class SU extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const o=e4(),l=this.xo(r,n.toUriEncodedString());Tt("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,a,s),this.No(r,l,c,i).then((f=>(Tt("RestConnection",`Received RPC '${r}' ${o}: `,f),f)),(f=>{throw vl("RestConnection",`RPC '${r}' ${o} failed with error: `,f,"url: ",l,"request:",i),f}))}Lo(r,n,i,a,s,o){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tp})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>r[s]=a)),i&&i.headers.forEach(((a,s)=>r[s]=a))}xo(r,n){const i=kU[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const a=e4();return new Promise(((s,o)=>{const l=new aN;l.setWithCredentials(!0),l.listenOnce(sN.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case Ax.NO_ERROR:const f=l.getResponseJson();Tt(to,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case Ax.TIMEOUT:Tt(to,`RPC '${e}' ${a} timed out`),o(new At(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Ax.HTTP_ERROR:const p=l.getStatus();if(Tt(to,`RPC '${e}' ${a} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const m=g?.error;if(m&&m.status&&m.message){const y=(function(k){const N=k.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(N)>=0?N:ct.UNKNOWN})(m.status);o(new At(y,m.message))}else o(new At(ct.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new At(ct.UNAVAILABLE,"Connection failed."));break;default:er()}}finally{Tt(to,`RPC '${e}' ${a} completed.`)}}));const c=JSON.stringify(i);Tt(to,`RPC '${e}' ${a} sending request:`,i),l.send(r,"POST",c,n,15)}))}Bo(e,r,n){const i=e4(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cN(),o=lN(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=a.join("");Tt(to,`Creating RPC '${e}' stream ${i}: ${f}`,l);const p=s.createWebChannel(f,l);let g=!1,m=!1;const y=new EU({Io:k=>{m?Tt(to,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(g||(Tt(to,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Tt(to,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},To:()=>p.close()}),w=(k,N,L)=>{k.listen(N,(P=>{try{L(P)}catch(V){setTimeout((()=>{throw V}),0)}}))};return w(p,hm.EventType.OPEN,(()=>{m||(Tt(to,`RPC '${e}' stream ${i} transport opened.`),y.yo())})),w(p,hm.EventType.CLOSE,(()=>{m||(m=!0,Tt(to,`RPC '${e}' stream ${i} transport closed`),y.So())})),w(p,hm.EventType.ERROR,(k=>{m||(m=!0,vl(to,`RPC '${e}' stream ${i} transport errored:`,k),y.So(new At(ct.UNAVAILABLE,"The operation could not be completed")))})),w(p,hm.EventType.MESSAGE,(k=>{var N;if(!m){const L=k.data[0];dr(!!L);const P=L,V=P.error||((N=P[0])===null||N===void 0?void 0:N.error);if(V){Tt(to,`RPC '${e}' stream ${i} received error:`,V);const Y=V.status;let Q=(function(S){const j=Da[S];if(j!==void 0)return rA(j)})(Y),R=V.message;Q===void 0&&(Q=ct.INTERNAL,R="Unknown error status: "+Y+" with message "+V.message),m=!0,y.So(new At(Q,R)),p.close()}else Tt(to,`RPC '${e}' stream ${i} received:`,L),y.bo(L)}})),w(o,oN.STAT_EVENT,(k=>{k.stat===_3.PROXY?Tt(to,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===_3.NOPROXY&&Tt(to,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{y.wo()}),0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof window<"u"?window:null}function jx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t){return new FV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,r,n=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,r,n,i,a,s,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new y_(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ct.RESOURCE_EXHAUSTED?(ka(r.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new At(ct.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CU extends VA{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=DV(this.serializer,e),n=(function(a){if(!("targetChange"in a))return vr.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?vr.min():s.readTime?Sa(s.readTime):vr.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=R3(this.serializer),r.addTarget=(function(a,s){let o;const l=s.target;if(o=nv(l)?{documents:fA(a,l)}:{query:cy(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=sA(a,s.resumeToken);const c=I3(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(vr.min())>0){o.readTime=B1(a,s.snapshotVersion.toTimestamp());const c=I3(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const n=MV(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=R3(this.serializer),r.removeTarget=e,this.a_(r)}}class NU extends VA{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return dr(!!e.streamToken),this.lastStreamToken=e.streamToken,dr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){dr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=OV(e.writeResults,e.commitTime),n=Sa(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=R3(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>eg(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new At(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Mo(e,P3(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new At(ct.UNKNOWN,a.toString())}))}Lo(e,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Lo(e,P3(r,n),i,s,o,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new At(ct.UNKNOWN,s.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class TU{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ka(r),this.D_=!1):Tt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((s=>{n.enqueueAndForget((async()=>{Of(this)&&(Tt("RemoteStore","Restarting streams for network reachability change."),await(async function(l){const c=Ht(l);c.L_.add(4),await ap(c),c.q_.set("Unknown"),c.L_.delete(4),await Lg(c)})(this))}))})),this.q_=new TU(n,i)}}async function Lg(t){if(Of(t))for(const e of t.B_)await e(!0)}async function ap(t){for(const e of t.B_)await e(!1)}function hy(t,e){const r=Ht(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),b_(r)?__(r):op(r).r_()&&w_(r,e))}function z1(t,e){const r=Ht(t),n=op(r);r.N_.delete(e),n.r_()&&UA(r,e),r.N_.size===0&&(n.r_()?n.o_():Of(r)&&r.q_.set("Unknown"))}function w_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}op(t).A_(e)}function UA(t,e){t.Q_.xe(e),op(t).R_(e)}function __(t){t.Q_=new TV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),op(t).start(),t.q_.v_()}function b_(t){return Of(t)&&!op(t).n_()&&t.N_.size>0}function Of(t){return Ht(t).L_.size===0}function zA(t){t.Q_=void 0}async function PU(t){t.q_.set("Online")}async function RU(t){t.N_.forEach(((e,r)=>{w_(t,e)}))}async function FU(t,e){zA(t),b_(t)?(t.q_.M_(e),__(t)):t.q_.set("Unknown")}async function LU(t,e,r){if(t.q_.set("Online"),e instanceof aA&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))})(t,e)}catch(n){Tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await pv(t,n)}else if(e instanceof Lx?t.Q_.Ke(e):e instanceof iA?t.Q_.He(e):t.Q_.We(e),!r.isEqual(vr.min()))try{const n=await FA(t.localStore);r.compareTo(n)>=0&&await(function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const f=a.N_.get(c);f&&a.N_.set(c,f.withResumeToken(l.resumeToken,s))}})),o.targetMismatches.forEach(((l,c)=>{const f=a.N_.get(l);if(!f)return;a.N_.set(l,f.withResumeToken(Yi.EMPTY_BYTE_STRING,f.snapshotVersion)),UA(a,l);const p=new zu(f.target,l,c,f.sequenceNumber);w_(a,p)})),a.remoteSyncer.applyRemoteEvent(o)})(t,r)}catch(n){Tt("RemoteStore","Failed to raise snapshot:",n),await pv(t,n)}}async function pv(t,e,r){if(!jf(e))throw e;t.L_.add(1),await ap(t),t.q_.set("Offline"),r||(r=()=>FA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Tt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Lg(t)}))}function $A(t,e){return e().catch((r=>pv(t,r,e)))}async function sp(t){const e=Ht(t),r=bf(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jU(e);)try{const i=await yU(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,DU(e,i)}catch(i){await pv(e,i)}qA(e)&&HA(e)}function jU(t){return Of(t)&&t.O_.length<10}function DU(t,e){t.O_.push(e);const r=bf(t);r.r_()&&r.V_&&r.m_(e.mutations)}function qA(t){return Of(t)&&!bf(t).n_()&&t.O_.length>0}function HA(t){bf(t).start()}async function OU(t){bf(t).p_()}async function MU(t){const e=bf(t);for(const r of t.O_)e.m_(r.mutations)}async function BU(t,e,r){const n=t.O_.shift(),i=s_.from(n,e,r);await $A(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await sp(t)}async function VU(t,e){e&&bf(t).V_&&await(async function(n,i){if((function(s){return tA(s)&&s!==ct.ABORTED})(i.code)){const a=n.O_.shift();bf(n).s_(),await $A(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await sp(n)}})(t,e),qA(t)&&HA(t)}async function Qk(t,e){const r=Ht(t);r.asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials");const n=Of(r);r.L_.add(3),await ap(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Lg(r)}async function M3(t,e){const r=Ht(t);e?(r.L_.delete(2),await Lg(r)):e||(r.L_.add(2),await ap(r),r.q_.set("Unknown"))}function op(t){return t.K_||(t.K_=(function(r,n,i){const a=Ht(r);return a.w_(),new CU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:PU.bind(null,t),Ro:RU.bind(null,t),mo:FU.bind(null,t),d_:LU.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),b_(t)?__(t):t.q_.set("Unknown")):(await t.K_.stop(),zA(t))}))),t.K_}function bf(t){return t.U_||(t.U_=(function(r,n,i){const a=Ht(r);return a.w_(),new NU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:OU.bind(null,t),mo:VU.bind(null,t),f_:MU.bind(null,t),g_:BU.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await sp(t)):(await t.U_.stop(),t.O_.length>0&&(Tt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new k_(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new At(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(t,e){if(ka("AsyncQueue",`${e}: ${t}`),jf(t))return new At(ct.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Kt.comparator(r.key,n.key):(r,n)=>Kt.comparator(r.key,n.key),this.keyedMap=pm(),this.sortedSet=new xi(this.comparator)}static emptySet(e){return new m1(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof m1)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new m1;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.W_=new xi(Kt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):er():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class $1{constructor(e,r,n,i,a,s,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach((o=>{s.push({type:0,doc:o})})),new $1(e,r,m1.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class zU{constructor(){this.queries=Zk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ht(r),a=i.queries;i.queries=Zk(),a.forEach(((s,o)=>{for(const l of o.j_)l.onError(n)}))})(this,new At(ct.ABORTED,"Firestore shutting down"))}}function Zk(){return new cd((t=>VN(t)),Ag)}async function E_(t,e){const r=Ht(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.H_()&&e.J_()&&(n=2):(a=new UU,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=lp(s,`Initialization of query '${i1(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.j_.push(e),e.Z_(r.onlineState),a.z_&&e.X_(a.z_)&&C_(r)}async function S_(t,e){const r=Ht(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(e);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=e.J_()?0:1:!a.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function $U(t,e){const r=Ht(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(n=!0);s.z_=i}}n&&C_(r)}function qU(t,e,r){const n=Ht(t),i=n.queries.get(e);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(e)}function C_(t){t.Y_.forEach((e=>{e.next()}))}var B3,e7;(e7=B3||(B3={})).ea="default",e7.Cache="cache";class N_{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new $1(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=$1.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==B3.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e){this.serializer=e}Es(e){return lu(this.serializer,e)}ds(e){return e.metadata.exists?dA(this.serializer,e.document,!1):bi.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Sa(e)}}class WU{constructor(e,r,n){this.ca=e,this.localStore=r,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WA(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const n=hn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,n=new t7(this.serializer);for(const i of e)if(i.metadata.queries){const a=n.Es(i.metadata.name);for(const s of i.metadata.queries){const o=(r.get(s)||Hr()).add(a);r.set(s,o)}}return r}async complete(){const e=await wU(this.localStore,new t7(this.serializer),this.documents,this.ca.id),r=this.ha(this.documents);for(const n of this.queries)await _U(this.localStore,n,r.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function WA(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class XA{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Hr(),this.mutatedKeys=Hr(),this.Aa=zN(e),this.Ra=new m1(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Jk,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const g=i.get(f),m=Tg(this.query,p)?p:null,y=!!g&&this.mutatedKeys.has(g.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let k=!1;g&&m?g.data.isEqual(m.data)?y!==w&&(n.track({type:3,doc:m}),k=!0):this.ga(g,m)||(n.track({type:2,doc:m}),k=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!g&&m?(n.track({type:0,doc:m}),k=!0):g&&!m&&(n.track({type:1,doc:g}),k=!0,(l||c)&&(o=!0)),k&&(m?(s=s.add(m),a=w?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),n.track({type:1,doc:f})}return{Ra:s,fa:n,ns:o,mutatedKeys:a}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((f,p)=>(function(m,y){const w=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return er()}};return w(m)-w(y)})(f.type,p.type)||this.Aa(f.doc,p.doc))),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new $1(this.query,e.Ra,a,s,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Hr(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new KA(n))})),this.da.forEach((n=>{e.has(n)||r.push(new GA(n))})),r}ba(e){this.Ta=e.Ts,this.da=Hr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return $1.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class GU{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class KU{constructor(e){this.key=e,this.va=!1}}class XU{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new cd((o=>VN(o)),Ag),this.Ma=new Map,this.xa=new Set,this.Oa=new xi(Kt.comparator),this.Na=new Map,this.La=new h_,this.Ba={},this.ka=new Map,this.qa=$h.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function YU(t,e,r=!0){const n=py(t);let i;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await YA(n,e,r,!0),i}async function QU(t,e){const r=py(t);await YA(r,e,!0,!1)}async function YA(t,e,r,n){const i=await V1(t.localStore,mo(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await A_(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&hy(t.remoteStore,i),o}async function A_(t,e,r,n,i){t.Ka=(p,g,m)=>(async function(w,k,N,L){let P=k.view.ma(N);P.ns&&(P=await dv(w.localStore,k.query,!1).then((({documents:R})=>k.view.ma(R,P))));const V=L&&L.targetChanges.get(k.targetId),Y=L&&L.targetMismatches.get(k.targetId)!=null,Q=k.view.applyChanges(P,w.isPrimaryClient,V,Y);return V3(w,k.targetId,Q.wa),Q.snapshot})(t,p,g,m);const a=await dv(t.localStore,e,!0),s=new XA(e,a.Ts),o=s.ma(a.documents),l=Rg.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,l);V3(t,r,c.wa);const f=new GU(e,r,s);return t.Fa.set(e,f),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function JU(t,e,r){const n=Ht(t),i=n.Fa.get(e),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter((s=>!Ag(s,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await U1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&z1(n.remoteStore,i.targetId),q1(n,i.targetId)})).catch(Lf)):(q1(n,i.targetId),await U1(n.localStore,i.targetId,!0))}async function ZU(t,e){const r=Ht(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),z1(r.remoteStore,n.targetId))}async function ez(t,e,r){const n=R_(t);try{const i=await(function(s,o){const l=Ht(s),c=Oi.now(),f=o.reduce(((m,y)=>m.add(y.key)),Hr());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let y=Ho(),w=Hr();return l.cs.getEntries(m,f).next((k=>{y=k,y.forEach(((N,L)=>{L.isValidDocument()||(w=w.add(N))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,y))).next((k=>{p=k;const N=[];for(const L of o){const P=CV(L,p.get(L.key).overlayedDocument);P!=null&&N.push(new ud(L.key,P,TN(P.value.mapValue),Di.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,N,o)})).next((k=>{g=k;const N=k.applyToLocalDocumentSet(p,w);return l.documentOverlayCache.saveOverlays(m,k.batchId,N)}))})).then((()=>({batchId:g.batchId,changes:qN(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,o,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new xi(Mr)),c=c.insert(o,l),s.Ba[s.currentUser.toKey()]=c})(n,i.batchId,r),await dd(n,i.changes),await sp(n.remoteStore)}catch(i){const a=lp(i,"Failed to persist write");r.reject(a)}}async function QA(t,e){const r=Ht(t);try{const n=await vU(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=r.Na.get(a);s&&(dr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?dr(s.va):i.removedDocuments.size>0&&(dr(s.va),s.va=!1))})),await dd(r,n,e)}catch(n){await Lf(n)}}function r7(t,e,r){const n=Ht(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((a,s)=>{const o=s.view.Z_(e);o.snapshot&&i.push(o.snapshot)})),(function(s,o){const l=Ht(s);l.onlineState=o;let c=!1;l.queries.forEach(((f,p)=>{for(const g of p.j_)g.Z_(o)&&(c=!0)})),c&&C_(l)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function tz(t,e,r){const n=Ht(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),a=i&&i.key;if(a){let s=new xi(Kt.comparator);s=s.insert(a,bi.newNoDocument(a,vr.min()));const o=Hr().add(a),l=new Pg(vr.min(),new Map,new xi(Mr),s,o);await QA(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(e),P_(n)}else await U1(n.localStore,e,!1).then((()=>q1(n,e,r))).catch(Lf)}async function rz(t,e){const r=Ht(t),n=e.batch.batchId;try{const i=await xU(r.localStore,e);I_(r,n,null),T_(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await dd(r,i)}catch(i){await Lf(i)}}async function nz(t,e,r){const n=Ht(t);try{const i=await(function(s,o){const l=Ht(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let f;return l.mutationQueue.lookupMutationBatch(c,o).next((p=>(dr(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(c,p)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f))).next((()=>l.localDocuments.getDocuments(c,f)))}))})(n.localStore,e);I_(n,e,r),T_(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await dd(n,i)}catch(i){await Lf(i)}}async function iz(t,e){const r=Ht(t);Of(r.remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=await(function(s){const o=Ht(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(r.localStore);if(n===-1)return void e.resolve();const i=r.ka.get(n)||[];i.push(e),r.ka.set(n,i)}catch(n){const i=lp(n,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function T_(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function I_(t,e,r){const n=Ht(t);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function q1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||JA(t,n)}))}function JA(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(z1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),P_(t))}function V3(t,e,r){for(const n of r)n instanceof GA?(t.La.addReference(n.key,e),az(t,n)):n instanceof KA?(Tt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||JA(t,n.key)):er()}function az(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Tt("SyncEngine","New document in limbo: "+r),t.xa.add(n),P_(t))}function P_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Kt(hn.fromString(e)),n=t.qa.next();t.Na.set(n,new KU(r)),t.Oa=t.Oa.insert(r,n),hy(t.remoteStore,new zu(mo(rp(r.path)),n,"TargetPurposeLimboResolution",$o.oe))}}async function dd(t,e,r){const n=Ht(t),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach(((o,l)=>{s.push(n.Ka(l,e,r).then((c=>{var f;if((c||r)&&n.isPrimaryClient){const p=c?!c.fromCache:(f=r?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;n.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){i.push(c);const p=x_.Wi(l.targetId,c);a.push(p)}})))})),await Promise.all(s),n.Ca.d_(i),await(async function(l,c){const f=Ht(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Je.forEach(c,(g=>Je.forEach(g.$i,(m=>f.persistence.referenceDelegate.addReference(p,g.targetId,m))).next((()=>Je.forEach(g.Ui,(m=>f.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))))))}catch(p){if(!jf(p))throw p;Tt("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const m=f.os.get(g),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);f.os=f.os.insert(g,w)}}})(n.localStore,a))}async function sz(t,e){const r=Ht(t);if(!r.currentUser.isEqual(e)){Tt("SyncEngine","User change. New user:",e.toKey());const n=await RA(r.localStore,e);r.currentUser=e,(function(a,s){a.ka.forEach((o=>{o.forEach((l=>{l.reject(new At(ct.CANCELLED,s))}))})),a.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await dd(r,n.hs)}}function oz(t,e){const r=Ht(t),n=r.Na.get(e);if(n&&n.va)return Hr().add(n.key);{let i=Hr();const a=r.Ma.get(e);if(!a)return i;for(const s of a){const o=r.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}async function lz(t,e){const r=Ht(t),n=await dv(r.localStore,e.query,!0),i=e.view.ba(n);return r.isPrimaryClient&&V3(r,e.targetId,i.wa),i}async function cz(t,e){const r=Ht(t);return DA(r.localStore,e).then((n=>dd(r,n)))}async function uz(t,e,r,n){const i=Ht(t),a=await(function(o,l){const c=Ht(o),f=Ht(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(p=>f.Mn(p,l).next((g=>g?c.localDocuments.getDocuments(p,g):Je.resolve(null)))))})(i.localStore,e);a!==null?(r==="pending"?await sp(i.remoteStore):r==="acknowledged"||r==="rejected"?(I_(i,e,n||null),T_(i,e),(function(o,l){Ht(Ht(o).mutationQueue).On(l)})(i.localStore,e)):er(),await dd(i,a)):Tt("SyncEngine","Cannot apply mutation batch with id: "+e)}async function dz(t,e){const r=Ht(t);if(py(r),R_(r),e===!0&&r.Qa!==!0){const n=r.sharedClientState.getAllActiveQueryTargets(),i=await n7(r,n.toArray());r.Qa=!0,await M3(r.remoteStore,!0);for(const a of i)hy(r.remoteStore,a)}else if(e===!1&&r.Qa!==!1){const n=[];let i=Promise.resolve();r.Ma.forEach(((a,s)=>{r.sharedClientState.isLocalQueryTarget(s)?n.push(s):i=i.then((()=>(q1(r,s),U1(r.localStore,s,!0)))),z1(r.remoteStore,s)})),await i,await n7(r,n),(function(s){const o=Ht(s);o.Na.forEach(((l,c)=>{z1(o.remoteStore,c)})),o.La.pr(),o.Na=new Map,o.Oa=new xi(Kt.comparator)})(r),r.Qa=!1,await M3(r.remoteStore,!1)}}async function n7(t,e,r){const n=Ht(t),i=[],a=[];for(const s of e){let o;const l=n.Ma.get(s);if(l&&l.length!==0){o=await V1(n.localStore,mo(l[0]));for(const c of l){const f=n.Fa.get(c),p=await lz(n,f);p.snapshot&&a.push(p.snapshot)}}else{const c=await jA(n.localStore,s);o=await V1(n.localStore,c),await A_(n,ZA(c),s,!1,o.resumeToken)}i.push(o)}return n.Ca.d_(a),i}function ZA(t){return ON(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function fz(t){return(function(r){return Ht(Ht(r).persistence).Qi()})(Ht(t).localStore)}async function hz(t,e,r,n){const i=Ht(t);if(i.Qa)return void Tt("SyncEngine","Ignoring unexpected query state notification.");const a=i.Ma.get(e);if(a&&a.length>0)switch(r){case"current":case"not-current":{const s=await DA(i.localStore,UN(a[0])),o=Pg.createSynthesizedRemoteEventForCurrentChange(e,r==="current",Yi.EMPTY_BYTE_STRING);await dd(i,s,o);break}case"rejected":await U1(i.localStore,e,!0),q1(i,e,n);break;default:er()}}async function pz(t,e,r){const n=py(t);if(n.Qa){for(const i of e){if(n.Ma.has(i)&&n.sharedClientState.isActiveQueryTarget(i)){Tt("SyncEngine","Adding an already active target "+i);continue}const a=await jA(n.localStore,i),s=await V1(n.localStore,a);await A_(n,ZA(a),s.targetId,!1,s.resumeToken),hy(n.remoteStore,s)}for(const i of r)n.Ma.has(i)&&await U1(n.localStore,i,!1).then((()=>{z1(n.remoteStore,i),q1(n,i)})).catch(Lf)}}function py(t){const e=Ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tz.bind(null,e),e.Ca.d_=$U.bind(null,e.eventManager),e.Ca.$a=qU.bind(null,e.eventManager),e}function R_(t){const e=Ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nz.bind(null,e),e}function mz(t,e,r){const n=Ht(t);(async function(a,s,o){try{const l=await s.getMetadata();if(await(function(m,y){const w=Ht(m),k=Sa(y.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",(N=>w.Gr.getBundleMetadata(N,y.id))).then((N=>!!N&&N.createTime.compareTo(k)>=0))})(a.localStore,l))return await s.close(),o._completeWith((function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(WA(l));const c=new WU(l,a.localStore,s.serializer);let f=await s.Ua();for(;f;){const g=await c.la(f);g&&o._updateProgress(g),f=await s.Ua()}const p=await c.complete();return await dd(a,p.Ia,void 0),await(function(m,y){const w=Ht(m);return w.persistence.runTransaction("Save bundle","readwrite",(k=>w.Gr.saveBundleMetadata(k,y)))})(a.localStore,l),o._completeWith(p.progress),Promise.resolve(p.Pa)}catch(l){return vl("SyncEngine",`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(n,e,r).then((i=>{n.sharedClientState.notifyBundleLoaded(i)}))}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return PA(this.persistence,new IA,e.initialUser,this.serializer)}Ga(e){return new p_(fy.Zr,this.serializer)}Wa(e){return new MA}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class gz extends kf{constructor(e){super(),this.cacheSizeBytes=e}ja(e,r){dr(this.persistence.referenceDelegate instanceof uv);const n=this.persistence.referenceDelegate.garbageCollector;return new SA(n,e.asyncQueue,r)}Ga(e){const r=this.cacheSizeBytes!==void 0?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new p_((n=>uv.Zr(n,r)),this.serializer)}}class F_ extends kf{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await R_(this.Ja.syncEngine),await sp(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return PA(this.persistence,new IA,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new SA(n,e.asyncQueue,r)}Ha(e,r){const n=new OB(r,this.persistence);return new DB(e.asyncQueue,n)}Ga(e){const r=g_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new m_(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,BA(),jx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new MA}}class eT extends F_{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const r=this.Ja.syncEngine;this.sharedClientState instanceof Z5&&(this.sharedClientState.syncEngine={no:uz.bind(null,r),ro:hz.bind(null,r),io:pz.bind(null,r),Qi:fz.bind(null,r),eo:cz.bind(null,r)},await this.sharedClientState.start()),await this.persistence.yi((async n=>{await dz(this.Ja.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Wa(e){const r=BA();if(!Z5.D(r))throw new At(ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=g_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Z5(r,e.asyncQueue,n,e.clientId,e.initialUser)}}class Ef{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>r7(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=sz.bind(null,this.syncEngine),await M3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zU})()}createDatastore(e){const r=Fg(e.databaseInfo.databaseId),n=(function(a){return new SU(a)})(e.databaseInfo);return(function(a,s,o,l){return new AU(a,s,o,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,s,o){return new IU(n,i,a,s,o)})(this.localStore,this.datastore,e.asyncQueue,(r=>r7(this.syncEngine,r,0)),(function(){return Yk.D()?new Yk:new bU})())}createSyncEngine(e,r){return(function(i,a,s,o,l,c,f){const p=new XU(i,a,s,o,l,c);return f&&(p.Qa=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const a=Ht(i);Tt("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await ap(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Ef.provider={build:()=>new Ef};function i7(t,e=10240){let r=0;return{async read(){if(r<t.byteLength){const n={value:t.slice(r,r+e),done:!1};return r+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ka("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new vs,this.buffer=new Uint8Array,this.eu=(function(){return new TextDecoder("utf-8")})(),this.tu().then((n=>{n&&n.ua()?this.metadata.resolve(n.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n?.aa)}`))}),(n=>this.metadata.reject(n)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const r=this.eu.decode(e),n=Number(r);isNaN(n)&&this.ru(`length string (${r}) is not valid number`);const i=await this.iu(n);return new HU(JSON.parse(i),e.length+n)}su(){return this.buffer.findIndex((e=>e===123))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),r}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const r=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),r}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const r=new Uint8Array(this.buffer.length+e.value.length);r.set(this.buffer),r.set(e.value,this.buffer.length),this.buffer=r}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new At(ct.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(i,a){const s=Ht(i),o={documents:a.map((p=>Zm(s.serializer,p)))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,hn.emptyPath(),o,a.length),c=new Map;l.forEach((p=>{const g=jV(s.serializer,p);c.set(g.key.toString(),g)}));const f=[];return a.forEach((p=>{const g=c.get(p.toString());dr(!!g),f.push(g)})),f})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new ip(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const i=Kt.fromPath(n);this.mutations.push(new i_(i,this.precondition(i)))})),await(async function(n,i){const a=Ht(n),s={writes:i.map((o=>eg(a.serializer,o)))};await a.Mo("Commit",a.serializer.databaseId,hn.emptyPath(),s)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw er();r=vr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new At(ct.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(vr.min())?Di.exists(!1):Di.updateTime(r):Di.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(vr.min()))throw new At(ct.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Di.updateTime(r)}return Di.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yz{constructor(e,r,n,i,a){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=a,this._u=n.maxAttempts,this.t_=new y_(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new vz(this.datastore),r=this.cu(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((i=>{this.lu(i)}))))})).catch((n=>{this.lu(n)}))}))}cu(e){try{const r=this.updateFunction(e);return!Cg(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!tA(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ps.UNAUTHENTICATED,this.clientId=Yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{Tt("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(Tt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=lp(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function t4(t,e){t.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await RA(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function a7(t,e){t.asyncQueue.verifyOperationInProgress();const r=await L_(t);Tt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>Qk(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>Qk(e.remoteStore,i))),t._onlineComponents=e}async function L_(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Tt("FirestoreClient","Using user provided OfflineComponentProvider");try{await t4(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ct.FAILED_PRECONDITION||i.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;vl("Error using user provided cache. Falling back to memory cache: "+r),await t4(t,new kf)}}else Tt("FirestoreClient","Using default OfflineComponentProvider"),await t4(t,new kf);return t._offlineComponents}async function gy(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Tt("FirestoreClient","Using user provided OnlineComponentProvider"),await a7(t,t._uninitializedComponentsProvider._online)):(Tt("FirestoreClient","Using default OnlineComponentProvider"),await a7(t,new Ef))),t._onlineComponents}function tT(t){return L_(t).then((e=>e.persistence))}function cp(t){return L_(t).then((e=>e.localStore))}function rT(t){return gy(t).then((e=>e.remoteStore))}function j_(t){return gy(t).then((e=>e.syncEngine))}function nT(t){return gy(t).then((e=>e.datastore))}async function H1(t){const e=await gy(t),r=e.eventManager;return r.onListen=YU.bind(null,e.syncEngine),r.onUnlisten=JU.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=QU.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=ZU.bind(null,e.syncEngine),r}function _z(t){return t.asyncQueue.enqueue((async()=>{const e=await tT(t),r=await rT(t);return e.setNetworkEnabled(!0),(function(i){const a=Ht(i);return a.L_.delete(0),Lg(a)})(r)}))}function bz(t){return t.asyncQueue.enqueue((async()=>{const e=await tT(t),r=await rT(t);return e.setNetworkEnabled(!1),(async function(i){const a=Ht(i);a.L_.add(0),await ap(a),a.q_.set("Offline")})(r)}))}function kz(t,e){const r=new vs;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,s){try{const o=await(function(c,f){const p=Ht(c);return p.persistence.runTransaction("read document","readonly",(g=>p.localDocuments.getDocument(g,f)))})(i,a);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new At(ct.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=lp(o,`Failed to get document '${a} from cache`);s.reject(l)}})(await cp(t),e,r))),r.promise}function iT(t,e,r={}){const n=new vs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,l,c){const f=new my({next:g=>{f.Za(),s.enqueueAndForget((()=>S_(a,p)));const m=g.docs.has(o);!m&&g.fromCache?c.reject(new At(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?c.reject(new At(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new N_(rp(o.path),f,{includeMetadataChanges:!0,_a:!0});return E_(a,p)})(await H1(t),t.asyncQueue,e,r,n))),n.promise}function Ez(t,e){const r=new vs;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,a,s){try{const o=await dv(i,a,!0),l=new XA(a,o.Ts),c=l.ma(o.documents),f=l.applyChanges(c,!1);s.resolve(f.snapshot)}catch(o){const l=lp(o,`Failed to execute query '${a} against cache`);s.reject(l)}})(await cp(t),e,r))),r.promise}function aT(t,e,r={}){const n=new vs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,l,c){const f=new my({next:g=>{f.Za(),s.enqueueAndForget((()=>S_(a,p))),g.fromCache&&l.source==="server"?c.reject(new At(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new N_(o,f,{includeMetadataChanges:!0,_a:!0});return E_(a,p)})(await H1(t),t.asyncQueue,e,r,n))),n.promise}function Sz(t,e,r){const n=new vs;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await nT(t);n.resolve((async function(s,o,l){var c;const f=Ht(s),{request:p,ut:g,parent:m}=hA(f.serializer,MN(o),l);f.connection.Fo||delete p.parent;const y=(await f.Lo("RunAggregationQuery",f.serializer.databaseId,m,p,1)).filter((k=>!!k.result));dr(y.length===1);const w=(c=y[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(w).reduce(((k,N)=>(k[g[N]]=w[N],k)),{})})(i,e,r))}catch(i){n.reject(i)}})),n.promise}function Cz(t,e){const r=new my(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,a){Ht(i).Y_.add(a),a.next()})(await H1(t),r))),()=>{r.Za(),t.asyncQueue.enqueueAndForget((async()=>(function(i,a){Ht(i).Y_.delete(a)})(await H1(t),r)))}}function Nz(t,e,r,n){const i=(function(s,o){let l;return l=typeof s=="string"?nA().encode(s):s,(function(f,p){return new xz(f,p)})((function(f,p){if(f instanceof Uint8Array)return i7(f,p);if(f instanceof ArrayBuffer)return i7(new Uint8Array(f),p);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(r,Fg(e));t.asyncQueue.enqueueAndForget((async()=>{mz(await j_(t),i,n)}))}function Az(t,e){return t.asyncQueue.enqueue((async()=>(function(n,i){const a=Ht(n);return a.persistence.runTransaction("Get named query","readonly",(s=>a.Gr.getNamedQuery(s,i)))})(await cp(t),e)))}function Tz(t,e){return t.asyncQueue.enqueue((async()=>(async function(n,i){const a=Ht(n),s=a.indexManager,o=[];return a.persistence.runTransaction("Configure indexes","readwrite",(l=>s.getFieldIndexes(l).next((c=>(function(p,g,m,y,w){p=[...p],g=[...g],p.sort(m),g.sort(m);const k=p.length,N=g.length;let L=0,P=0;for(;L<N&&P<k;){const V=m(p[P],g[L]);V<0?w(p[P++]):V>0?y(g[L++]):(L++,P++)}for(;L<N;)y(g[L++]);for(;P<k;)w(p[P++])})(c,i,RB,(f=>{o.push(s.addFieldIndex(l,f))}),(f=>{o.push(s.deleteFieldIndex(l,f))})))).next((()=>Je.waitFor(o)))))})(await cp(t),e)))}function Iz(t,e){return t.asyncQueue.enqueue((async()=>(function(n,i){Ht(n).ss.zi=i})(await cp(t),e)))}function Pz(t){return t.asyncQueue.enqueue((async()=>(function(r){const n=Ht(r),i=n.indexManager;return n.persistence.runTransaction("Delete All Indexes","readwrite",(a=>i.deleteAllFieldIndexes(a)))})(await cp(t))))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e,r){if(!r)throw new At(ct.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oT(t,e,r,n){if(e===!0&&n===!0)throw new At(ct.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function o7(t){if(!Kt.isDocumentKey(t))throw new At(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function l7(t){if(Kt.isDocumentKey(t))throw new At(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":er()}function on(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new At(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=xy(t);throw new At(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function lT(t,e){if(e<=0)throw new At(ct.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new At(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new At(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new At(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jg{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c7({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new At(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new At(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c7(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new dN;switch(n.type){case"firstParty":return new NB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new At(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=s7.get(r);n&&(Tt("ComponentProvider","Removing Datastore"),s7.delete(r),n.terminate())})(this),Promise.resolve()}}function cT(t,e,r,n={}){var i;const a=(t=on(t,jg))._getSettings(),s=`${e}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=ps.MOCK_USER;else{o=YC(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new At(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ps(c)}t._authCredentials=new EB(new uN(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class sa{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sa(this.firestore,e,this._key)}}class bc extends ys{constructor(e,r,n){super(e,r,rp(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sa(this.firestore,null,new Kt(e))}withConverter(e){return new bc(this.firestore,e,this._path)}}function ur(t,e,...r){if(t=un(t),D_("collection","path",e),t instanceof jg){const n=hn.fromString(e,...r);return l7(n),new bc(t,null,n)}{if(!(t instanceof sa||t instanceof bc))throw new At(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(hn.fromString(e,...r));return l7(n),new bc(t.firestore,null,n)}}function Rz(t,e){if(t=on(t,jg),D_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new At(ct.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(t,null,(function(n){return new ld(hn.emptyPath(),n)})(e))}function or(t,e,...r){if(t=un(t),arguments.length===1&&(e=Yw.newId()),D_("doc","path",e),t instanceof jg){const n=hn.fromString(e,...r);return o7(n),new sa(t,null,new Kt(n))}{if(!(t instanceof sa||t instanceof bc))throw new At(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(hn.fromString(e,...r));return o7(n),new sa(t.firestore,t instanceof bc?t.converter:null,new Kt(n))}}function Fz(t,e){return t=un(t),e=un(e),(t instanceof sa||t instanceof bc)&&(e instanceof sa||e instanceof bc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function O_(t,e){return t=un(t),e=un(e),t instanceof ys&&e instanceof ys&&t.firestore===e.firestore&&Ag(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new y_(this,"async_queue_retry"),this.Vu=()=>{const n=jx();n&&Tt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=jx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=jx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new vs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!jf(e))throw e;Tt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o})(n);throw ka("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=k_.createAndSchedule(this,e,r,n,(a=>this.yu(a)));return this.Tu.push(i),i}fu(){this.Eu&&er()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function U3(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class uT{constructor(){this._progressObserver={},this._taskCompletionResolver=new vs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,n){this._progressObserver={next:e,error:r,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=-1;class ai extends jg{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new u7,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u7(e),this._firestoreClient=void 0,await e}}}function jz(t,e,r){r||(r="(default)");const n=o0(t,"firestore");if(n.isInitialized(r)){const i=n.getImmediate({identifier:r}),a=n.getOptions(r);if(mf(a,e))return i;throw new At(ct.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new At(ct.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new At(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e,instanceIdentifier:r})}function dT(t,e){const r=typeof t=="object"?t:ry(),n=typeof t=="string"?t:e||"(default)",i=o0(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Ww("firestore");a&&cT(i,...a)}return i}function Mi(t){if(t._terminated)throw new At(ct.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fT(t),t._firestoreClient}function fT(t){var e,r,n;const i=t._freezeSettings(),a=(function(o,l,c,f){return new aV(o,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,sT(f.experimentalLongPollingOptions),f.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wz(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}function Dz(t,e){vl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return hT(t,Ef.provider,{build:n=>new F_(n,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function Oz(t){vl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();hT(t,Ef.provider,{build:r=>new eT(r,e.cacheSizeBytes)})}function hT(t,e,r){if((t=on(t,ai))._firestoreClient||t._terminated)throw new At(ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new At(ct.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},fT(t)}function Mz(t){if(t._initialized&&!t._terminated)throw new At(ct.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vs;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(n){if(!ou.D())return Promise.resolve();const i=n+"main";await ou.delete(i)})(g_(t._databaseId,t._persistenceKey)),e.resolve()}catch(r){e.reject(r)}})),e.promise}function Bz(t){return(function(r){const n=new vs;return r.asyncQueue.enqueueAndForget((async()=>iz(await j_(r),n))),n.promise})(Mi(t=on(t,ai)))}function Vz(t){return _z(Mi(t=on(t,ai)))}function Uz(t){return bz(Mi(t=on(t,ai)))}function zz(t){return uB(t.app,"firestore",t._databaseId.database),t._delete()}function $z(t,e){const r=Mi(t=on(t,ai)),n=new uT;return Nz(r,t._databaseId,e,n),n}function qz(t,e){return Az(Mi(t=on(t,ai)),e).then((r=>r?new ys(t,null,r.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=e}}class pT{constructor(e,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sf(Yi.fromBase64String(e))}catch(r){throw new At(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Sf(Yi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new At(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function Hz(){return new Mf("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new At(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new At(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mr(this._lat,e._lat)||Mr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=/^__.*__$/;class Gz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ud(e,this.data,this.fieldMask,r,this.fieldTransforms):new np(e,this.data,r,this.fieldTransforms)}}class mT{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ud(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function gT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw er()}}class yy{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gT(this.Cu)&&Wz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Kz{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Fg(e)}Qu(e,r,n,i=!1){return new yy({Cu:e,methodName:r,qu:n,path:ki.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c0(t){const e=t._freezeSettings(),r=Fg(t._databaseId);return new Kz(t._databaseId,!!e.ignoreUndefinedProperties,r)}function wy(t,e,r,n,i,a={}){const s=t.Qu(a.merge||a.mergeFields?2:0,e,r,i);q_("Data must be an object, but it was:",s,n);const o=yT(n,s);let l,c;if(a.merge)l=new qo(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const p of a.mergeFields){const g=tg(e,p,r);if(!s.contains(g))throw new At(ct.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);_T(f,g)||f.push(g)}l=new qo(f),c=s.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,c=s.fieldTransforms;return new Gz(new js(o),l,c)}class Og extends Bf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Og}}function xT(t,e,r){return new yy({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class M_ extends Bf{_toFieldTransform(e){return new Ig(e.path,new O1)}isEqual(e){return e instanceof M_}}class B_ extends Bf{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=xT(this,e,!0),n=this.Ku.map((a=>u0(a,r))),i=new Bh(n);return new Ig(e.path,i)}isEqual(e){return e instanceof B_&&mf(this.Ku,e.Ku)}}class V_ extends Bf{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=xT(this,e,!0),n=this.Ku.map((a=>u0(a,r))),i=new Vh(n);return new Ig(e.path,i)}isEqual(e){return e instanceof V_&&mf(this.Ku,e.Ku)}}class U_ extends Bf{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new M1(e.serializer,GN(e.serializer,this.$u));return new Ig(e.path,r)}isEqual(e){return e instanceof U_&&this.$u===e.$u}}function z_(t,e,r,n){const i=t.Qu(1,e,r);q_("Data must be an object, but it was:",i,n);const a=[],s=js.empty();Df(n,((l,c)=>{const f=_y(e,l,r);c=un(c);const p=i.Nu(f);if(c instanceof Og)a.push(f);else{const g=u0(c,p);g!=null&&(a.push(f),s.set(f,g))}}));const o=new qo(a);return new mT(s,o,i.fieldTransforms)}function $_(t,e,r,n,i,a){const s=t.Qu(1,e,r),o=[tg(e,n,r)],l=[i];if(a.length%2!=0)throw new At(ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)o.push(tg(e,a[g])),l.push(a[g+1]);const c=[],f=js.empty();for(let g=o.length-1;g>=0;--g)if(!_T(c,o[g])){const m=o[g];let y=l[g];y=un(y);const w=s.Nu(m);if(y instanceof Og)c.push(m);else{const k=u0(y,w);k!=null&&(c.push(m),f.set(m,k))}}const p=new qo(c);return new mT(f,p,s.fieldTransforms)}function vT(t,e,r,n=!1){return u0(r,t.Qu(n?4:3,e))}function u0(t,e){if(wT(t=un(t)))return q_("Unsupported field value:",e,t),yT(t,e);if(t instanceof Bf)return(function(n,i){if(!gT(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const o of n){let l=u0(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return GN(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Oi.fromDate(n);return{timestampValue:B1(i.serializer,a)}}if(n instanceof Oi){const a=new Oi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:B1(i.serializer,a)}}if(n instanceof vy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Sf)return{bytesValue:sA(i.serializer,n._byteString)};if(n instanceof sa){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:c_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Dg)return(function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map((l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return n_(o.serializer,l)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${xy(n)}`)})(t,e)}function yT(t,e){const r={};return SN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Df(t,((n,i)=>{const a=u0(i,e.Mu(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function wT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Oi||t instanceof vy||t instanceof Sf||t instanceof sa||t instanceof Bf||t instanceof Dg)}function q_(t,e,r){if(!wT(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=xy(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function tg(t,e,r){if((e=un(e))instanceof Mf)return e._internalPath;if(typeof e=="string")return _y(t,e);throw mv("Field path arguments must be of type string or ",t,!1,void 0,r)}const Xz=new RegExp("[~\\*/\\[\\]]");function _y(t,e,r){if(e.search(Xz)>=0)throw mv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Mf(...e.split("."))._internalPath}catch{throw mv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function mv(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new At(ct.INVALID_ARGUMENT,o+t+l)}function _T(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new sa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(by("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Yz extends rg{data(){return super.data()}}function by(t,e){return typeof e=="string"?_y(t,e):e instanceof Mf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new At(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H_{}class up extends H_{}function Nr(t,e,...r){let n=[];e instanceof H_&&n.push(e),n=n.concat(r),(function(a){const s=a.filter((l=>l instanceof d0)).length,o=a.filter((l=>l instanceof dp)).length;if(s>1||s>0&&o>0)throw new At(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class dp extends up{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new dp(e,r,n)}_apply(e){const r=this._parse(e);return ET(e._query,r),new ys(e.firestore,e.converter,T3(e._query,r))}_parse(e){const r=c0(e.firestore);return(function(a,s,o,l,c,f,p){let g;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new At(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){f7(p,f);const m=[];for(const y of p)m.push(d7(l,a,y));g={arrayValue:{values:m}}}else g=d7(l,a,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||f7(p,f),g=vT(o,s,p,f==="in"||f==="not-in");return pn.create(c,f,g)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function $r(t,e,r){const n=e,i=by("where",t);return dp._create(i,n,r)}class d0 extends H_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new d0(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Yn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)ET(s,l),s=T3(s,l)})(e._query,r),new ys(e.firestore,e.converter,T3(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qz(...t){return t.forEach((e=>ST("or",e))),d0._create("or",t)}function Jz(...t){return t.forEach((e=>ST("and",e))),d0._create("and",t)}class ky extends up{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new ky(e,r)}_apply(e){const r=(function(i,a,s){if(i.startAt!==null)throw new At(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new At(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jm(a,s)})(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,(function(i,a){const s=i.explicitOrderBy.concat([a]);return new ld(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function es(t,e="asc"){const r=e,n=by("orderBy",t);return ky._create(n,r)}class Mg extends up{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new Mg(e,r,n)}_apply(e){return new ys(e.firestore,e.converter,av(e._query,this._limit,this._limitType))}}function f0(t){return lT("limit",t),Mg._create("limit",t,"F")}function Zz(t){return lT("limitToLast",t),Mg._create("limitToLast",t,"L")}class Bg extends up{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new Bg(e,r,n)}_apply(e){const r=kT(e,this.type,this._docOrFields,this._inclusive);return new ys(e.firestore,e.converter,(function(i,a){return new ld(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,a,i.endAt)})(e._query,r))}}function e$(...t){return Bg._create("startAt",t,!0)}function t$(...t){return Bg._create("startAfter",t,!1)}class Vg extends up{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new Vg(e,r,n)}_apply(e){const r=kT(e,this.type,this._docOrFields,this._inclusive);return new ys(e.firestore,e.converter,(function(i,a){return new ld(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,a)})(e._query,r))}}function r$(...t){return Vg._create("endBefore",t,!1)}function n$(...t){return Vg._create("endAt",t,!0)}function kT(t,e,r,n){if(r[0]=un(r[0]),r[0]instanceof rg)return(function(a,s,o,l,c){if(!l)throw new At(ct.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const f=[];for(const p of p1(a))if(p.field.isKeyField())f.push(Oh(s,l.key));else{const g=l.data.field(p.field);if(iy(g))throw new At(ct.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const m=p.field.canonicalString();throw new At(ct.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}f.push(g)}return new _f(f,c)})(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=c0(t.firestore);return(function(s,o,l,c,f,p){const g=s.explicitOrderBy;if(f.length>g.length)throw new At(ct.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<f.length;y++){const w=f[y];if(g[y].field.isKeyField()){if(typeof w!="string")throw new At(ct.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!t_(s)&&w.indexOf("/")!==-1)throw new At(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);const k=s.path.child(hn.fromString(w));if(!Kt.isDocumentKey(k))throw new At(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${k}' is not because it contains an odd number of segments.`);const N=new Kt(k);m.push(Oh(o,N))}else{const k=vT(l,c,w);m.push(k)}}return new _f(m,p)})(t._query,t.firestore._databaseId,i,e,r,n)}}function d7(t,e,r){if(typeof(r=un(r))=="string"){if(r==="")throw new At(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!t_(e)&&r.indexOf("/")!==-1)throw new At(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(hn.fromString(r));if(!Kt.isDocumentKey(n))throw new At(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Oh(t,new Kt(n))}if(r instanceof sa)return Oh(t,r._key);throw new At(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xy(r)}.`)}function f7(t,e){if(!Array.isArray(t)||t.length===0)throw new At(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ET(t,e){const r=(function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new At(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new At(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function ST(t,e){if(!(e instanceof dp||e instanceof d0))throw new At(ct.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class W_{convertValue(e,r="none"){switch(yf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ji(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw er()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Df(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){var r,n,i;const a=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((s=>ji(s.doubleValue)));return new Dg(a)}convertGeoPoint(e){return new vy(ji(e.latitude),ji(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=ay(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Xm(e));default:return null}}convertTimestamp(e){const r=rd(e);return new Oi(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=hn.fromString(e);dr(xA(n));const i=new vf(n.get(1),n.get(3)),a=new Kt(n.popFirst(5));return i.isEqual(r)||ka(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class i$ extends W_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new sa(this.firestore,null,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t){return new W1("sum",tg("sum",t))}function s$(t){return new W1("avg",tg("average",t))}function CT(){return new W1("count")}function o$(t,e){var r,n;return t instanceof W1&&e instanceof W1&&t.aggregateType===e.aggregateType&&((r=t._internalFieldPath)===null||r===void 0?void 0:r.canonicalString())===((n=e._internalFieldPath)===null||n===void 0?void 0:n.canonicalString())}function l$(t,e){return O_(t.query,e.query)&&mf(t.data(),e.data())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qh extends rg{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(by("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Am extends qh{data(e={}){return super.data(e)}}class Hh{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new lf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new Am(this._firestore,this._userDataWriter,n.key,n,new lf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new At(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((o=>{const l=new Am(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>a||o.type!==3)).map((o=>{const l=new Am(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),f=s.indexOf(o.doc.key)),{type:c$(o.type),doc:l,oldIndex:c,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function c$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return er()}}function u$(t,e){return t instanceof qh&&e instanceof qh?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Hh&&e instanceof Hh&&t._firestore===e._firestore&&O_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){t=on(t,sa);const e=on(t.firestore,ai);return iT(Mi(e),t._key).then((r=>G_(e,t,r)))}class Vf extends W_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new sa(this.firestore,null,r)}}function d$(t){t=on(t,sa);const e=on(t.firestore,ai),r=Mi(e),n=new Vf(e);return kz(r,t._key).then((i=>new qh(e,n,t._key,i,new lf(i!==null&&i.hasLocalMutations,!0),t.converter)))}function f$(t){t=on(t,sa);const e=on(t.firestore,ai);return iT(Mi(e),t._key,{source:"server"}).then((r=>G_(e,t,r)))}function jn(t){t=on(t,ys);const e=on(t.firestore,ai),r=Mi(e),n=new Vf(e);return bT(t._query),aT(r,t._query).then((i=>new Hh(e,n,t,i)))}function h$(t){t=on(t,ys);const e=on(t.firestore,ai),r=Mi(e),n=new Vf(e);return Ez(r,t._query).then((i=>new Hh(e,n,t,i)))}function p$(t){t=on(t,ys);const e=on(t.firestore,ai),r=Mi(e),n=new Vf(e);return aT(r,t._query,{source:"server"}).then((i=>new Hh(e,n,t,i)))}function kc(t,e,r){t=on(t,sa);const n=on(t.firestore,ai),i=Ey(t.converter,e,r);return hp(n,[wy(c0(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Di.none())])}function ya(t,e,r,...n){t=on(t,sa);const i=on(t.firestore,ai),a=c0(i);let s;return s=typeof(e=un(e))=="string"||e instanceof Mf?$_(a,"updateDoc",t._key,e,r,n):z_(a,"updateDoc",t._key,e),hp(i,[s.toMutation(t._key,Di.exists(!0))])}function So(t){return hp(on(t.firestore,ai),[new ip(t._key,Di.none())])}function fp(t,e){const r=on(t.firestore,ai),n=or(t),i=Ey(t.converter,e);return hp(r,[wy(c0(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Di.exists(!1))]).then((()=>n))}function ri(t,...e){var r,n,i;t=un(t);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||U3(e[s])||(a=e[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(U3(e[s])){const p=e[s];e[s]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,c,f;if(t instanceof sa)c=on(t.firestore,ai),f=rp(t._key.path),l={next:p=>{e[s]&&e[s](G_(c,t,p))},error:e[s+1],complete:e[s+2]};else{const p=on(t,ys);c=on(p.firestore,ai),f=p._query;const g=new Vf(c);l={next:m=>{e[s]&&e[s](new Hh(c,g,p,m))},error:e[s+1],complete:e[s+2]},bT(t._query)}return(function(g,m,y,w){const k=new my(w),N=new N_(m,k,y);return g.asyncQueue.enqueueAndForget((async()=>E_(await H1(g),N))),()=>{k.Za(),g.asyncQueue.enqueueAndForget((async()=>S_(await H1(g),N)))}})(Mi(c),f,o,l)}function m$(t,e){return Cz(Mi(t=on(t,ai)),U3(e)?e:{next:e})}function hp(t,e){return(function(n,i){const a=new vs;return n.asyncQueue.enqueueAndForget((async()=>ez(await j_(n),i,a))),a.promise})(Mi(t),e)}function G_(t,e,r){const n=r.docs.get(e._key),i=new Vf(t);return new qh(t,i,e._key,n,new lf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t){return NT(t,{count:CT()})}function NT(t,e){const r=on(t.firestore,ai),n=Mi(r),i=EN(e,((a,s)=>new eA(s,a.aggregateType,a._internalFieldPath)));return Sz(n,t._query,i).then((a=>(function(o,l,c){const f=new Vf(o);return new pT(l,f,c)})(r,t,a)))}class x${constructor(e){this.kind="memory",this._onlineComponentProvider=Ef.provider,e?.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=kf.provider}toJSON(){return{kind:this.kind}}}class v${constructor(e){let r;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),r=e.tabManager):(r=AT(void 0),r._initialize(e)),this._onlineComponentProvider=r._onlineComponentProvider,this._offlineComponentProvider=r._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class y${constructor(){this.kind="memoryEager",this._offlineComponentProvider=kf.provider}toJSON(){return{kind:this.kind}}}class w${constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new gz(e)}}toJSON(){return{kind:this.kind}}}function _$(){return new y$}function b$(t){return new w$(t?.cacheSizeBytes)}function k$(t){return new x$(t)}function E$(t){return new v$(t)}class S${constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Ef.provider,this._offlineComponentProvider={build:r=>new F_(r,e?.cacheSizeBytes,this.forceOwnership)}}}class C${constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Ef.provider,this._offlineComponentProvider={build:r=>new eT(r,e?.cacheSizeBytes)}}}function AT(t){return new S$(t?.forceOwnership)}function N$(){return new C$}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=c0(e)}set(e,r,n){this._verifyNotCommitted();const i=ef(e,this._firestore),a=Ey(i.converter,r,n),s=wy(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,Di.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const a=ef(e,this._firestore);let s;return s=typeof(r=un(r))=="string"||r instanceof Mf?$_(this._dataReader,"WriteBatch.update",a._key,r,n,i):z_(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,Di.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=ef(e,this._firestore);return this._mutations=this._mutations.concat(new ip(r._key,Di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new At(ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ef(t,e){if((t=un(t)).firestore!==e)throw new At(ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=c0(r)}get(r){const n=ef(r,this._firestore),i=new i$(this._firestore);return this._transaction.lookup([n._key]).then((a=>{if(!a||a.length!==1)return er();const s=a[0];if(s.isFoundDocument())return new rg(this._firestore,i,s.key,s,n.converter);if(s.isNoDocument())return new rg(this._firestore,i,n._key,null,n.converter);throw er()}))}set(r,n,i){const a=ef(r,this._firestore),s=Ey(a.converter,n,i),o=wy(this._dataReader,"Transaction.set",a._key,s,a.converter!==null,i);return this._transaction.set(a._key,o),this}update(r,n,i,...a){const s=ef(r,this._firestore);let o;return o=typeof(n=un(n))=="string"||n instanceof Mf?$_(this._dataReader,"Transaction.update",s._key,n,i,a):z_(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(r){const n=ef(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=ef(e,this._firestore),n=new Vf(this._firestore);return super.get(e).then((i=>new qh(this._firestore,n,r._key,i._document,new lf(!1,!1),r.converter)))}}function T$(t,e,r){t=on(t,ai);const n=Object.assign(Object.assign({},A$),r);return(function(a){if(a.maxAttempts<1)throw new At(ct.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(a,s,o){const l=new vs;return a.asyncQueue.enqueueAndForget((async()=>{const c=await nT(a);new yz(a.asyncQueue,c,o,s,l).au()})),l.promise})(Mi(t),(i=>e(new IT(t,i))),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(){return new Og("deleteField")}function Ja(){return new M_("serverTimestamp")}function P$(...t){return new B_("arrayUnion",t)}function R$(...t){return new V_("arrayRemove",t)}function gv(t){return new U_("increment",t)}function F$(t){return new Dg(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){return Mi(t=on(t,ai)),new TT(t,(e=>hp(t,e)))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t,e){const r=Mi(t=on(t,ai));if(!r._uninitializedComponentsProvider||r._uninitializedComponentsProvider._offline.kind==="memory")return vl("Cannot enable indexes when persistence is disabled"),Promise.resolve();const n=(function(a){const s=typeof a=="string"?(function(c){try{return JSON.parse(c)}catch(f){throw new At(ct.INVALID_ARGUMENT,"Failed to parse JSON: "+f?.message)}})(a):a,o=[];if(Array.isArray(s.indexes))for(const l of s.indexes){const c=h7(l,"collectionGroup"),f=[];if(Array.isArray(l.fields))for(const p of l.fields){const g=_y("setIndexConfiguration",h7(p,"fieldPath"));p.arrayConfig==="CONTAINS"?f.push(new Th(g,2)):p.order==="ASCENDING"?f.push(new Th(g,0)):p.order==="DESCENDING"&&f.push(new Th(g,1))}o.push(new F1(F1.UNKNOWN_ID,c,f,L1.empty()))}return o})(e);return Tz(r,n)}function h7(t,e){if(typeof t[e]!="string")throw new At(ct.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function j$(t){var e;t=on(t,ai);const r=p7.get(t);if(r)return r;if(((e=Mi(t)._uninitializedComponentsProvider)===null||e===void 0?void 0:e._offline.kind)!=="persistent")return null;const n=new PT(t);return p7.set(t,n),n}function D$(t){RT(t,!0)}function O$(t){RT(t,!1)}function M$(t){Pz(Mi(t._firestore)).then((e=>Tt("deleting all persistent cache indexes succeeded"))).catch((e=>vl("deleting all persistent cache indexes failed",e)))}function RT(t,e){Iz(Mi(t._firestore),e).then((r=>Tt(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>vl(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const p7=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){var e;const r=(e=Mi(on(t.firestore,ai))._onlineComponents)===null||e===void 0?void 0:e.datastore.serializer;return r===void 0?null:cy(r,mo(t._query))._t}function V$(t,e){var r;const n=EN(e,((a,s)=>new eA(s,a.aggregateType,a._internalFieldPath))),i=(r=Mi(on(t.firestore,ai))._onlineComponents)===null||r===void 0?void 0:r.datastore.serializer;return i===void 0?null:hA(i,MN(t._query),n,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return X_.instance.onExistenceFilterMismatch(e)}}class X_{constructor(){this.Uu=new Map}static get instance(){return Y2||(Y2=new X_,(function(r){if(sv)throw new Error("a TestingHooksSpi instance is already set");sv=r})(Y2)),Y2}et(e){this.Uu.forEach((r=>r(e)))}onExistenceFilterMismatch(e){const r=Symbol(),n=this.Uu;return n.set(r,e),()=>n.delete(r)}}let Y2=null;(function(e,r=!0){(function(i){tp=i})(l0),gf(new ed("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new ai(new SB(n.getProvider("auth-internal")),new AB(n.getProvider("app-check-internal")),(function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new At(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vf(c.options.projectId,f)})(s,i),s);return a=Object.assign({useFetchStreams:r},a),o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),ql(nk,"4.7.3",e),ql(nk,"4.7.3","esm2017")})();const FT=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:W_,AggregateField:W1,AggregateQuerySnapshot:pT,Bytes:Sf,CACHE_SIZE_UNLIMITED:Lz,CollectionReference:bc,DocumentReference:sa,DocumentSnapshot:qh,FieldPath:Mf,FieldValue:Bf,Firestore:ai,FirestoreError:At,GeoPoint:vy,LoadBundleTask:uT,PersistentCacheIndexManager:PT,Query:ys,QueryCompositeFilterConstraint:d0,QueryConstraint:up,QueryDocumentSnapshot:Am,QueryEndAtConstraint:Vg,QueryFieldFilterConstraint:dp,QueryLimitConstraint:Mg,QueryOrderByConstraint:ky,QuerySnapshot:Hh,QueryStartAtConstraint:Bg,SnapshotMetadata:lf,Timestamp:Oi,Transaction:IT,VectorValue:Dg,WriteBatch:TT,_AutoId:Yw,_ByteString:Yi,_DatabaseId:vf,_DocumentKey:Kt,_EmptyAppCheckTokenProvider:TB,_EmptyAuthCredentialsProvider:dN,_FieldPath:ki,_TestingHooks:U$,_cast:on,_debugAssert:kB,_internalAggregationQueryToProtoRunAggregationQueryRequest:V$,_internalQueryToProtoQueryTarget:B$,_isBase64Available:nV,_logWarn:vl,_validateIsNotUsedTogether:oT,addDoc:fp,aggregateFieldEqual:o$,aggregateQuerySnapshotEqual:l$,and:Jz,arrayRemove:R$,arrayUnion:P$,average:s$,clearIndexedDbPersistence:Mz,collection:ur,collectionGroup:Rz,connectFirestoreEmulator:cT,count:CT,deleteAllPersistentCacheIndexes:M$,deleteDoc:So,deleteField:I$,disableNetwork:Uz,disablePersistentCacheIndexAutoCreation:O$,doc:or,documentId:Hz,enableIndexedDbPersistence:Dz,enableMultiTabIndexedDbPersistence:Oz,enableNetwork:Vz,enablePersistentCacheIndexAutoCreation:D$,endAt:n$,endBefore:r$,ensureFirestoreConfigured:Mi,executeWrite:hp,getAggregateFromServer:NT,getCountFromServer:g$,getDoc:aa,getDocFromCache:d$,getDocFromServer:f$,getDocs:jn,getDocsFromCache:h$,getDocsFromServer:p$,getFirestore:dT,getPersistentCacheIndexManager:j$,increment:gv,initializeFirestore:jz,limit:f0,limitToLast:Zz,loadBundle:$z,memoryEagerGarbageCollector:_$,memoryLocalCache:k$,memoryLruGarbageCollector:b$,namedQuery:qz,onSnapshot:ri,onSnapshotsInSync:m$,or:Qz,orderBy:es,persistentLocalCache:E$,persistentMultipleTabManager:N$,persistentSingleTabManager:AT,query:Nr,queryEqual:O_,refEqual:Fz,runTransaction:T$,serverTimestamp:Ja,setDoc:kc,setIndexConfiguration:L$,setLogLevel:bB,snapshotEqual:u$,startAfter:t$,startAt:e$,sum:a$,terminate:zz,updateDoc:ya,vector:F$,waitForPendingWrites:Bz,where:$r,writeBatch:K_},Symbol.toStringTag,{value:"Module"}));var z$="firebase",$$="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ql(z$,$$,"app");function Y_(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function LT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q$=LT,jT=new Eg("auth","Firebase",LT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Gw("@firebase/auth");function H$(t,...e){xv.logLevel<=fn.WARN&&xv.warn(`Auth (${l0}): ${t}`,...e)}function Dx(t,...e){xv.logLevel<=fn.ERROR&&xv.error(`Auth (${l0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t,...e){throw J_(t,...e)}function Ec(t,...e){return J_(t,...e)}function Q_(t,e,r){const n=Object.assign(Object.assign({},q$()),{[e]:r});return new Eg("auth","Firebase",n).create(e,{appName:t.name})}function Xu(t){return Q_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W$(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Wl(t,"argument-error"),Q_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function J_(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return jT.create(t,...e)}function Lr(t,e,...r){if(!t)throw J_(e,...r)}function $u(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dx(e),new Error(e)}function id(t,e){t||$u(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function G$(){return m7()==="http:"||m7()==="https:"}function m7(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G$()||nM()||"connection"in navigator)?navigator.onLine:!0}function X$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,r){this.shortDelay=e,this.longDelay=r,id(r>e,"Short delay should be less than long delay!"),this.isMobile=eM()||iM()}get(){return K$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t,e){id(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$u("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$u("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$u("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=new Ug(3e4,6e4);function fd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gu(t,e,r,n,i={}){return OT(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=Sg(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},a);return rM()||(c.referrerPolicy="no-referrer"),DT.fetch()(MT(t,t.config.apiHost,r,o),c)})}async function OT(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Y$),e);try{const i=new Z$(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Q2(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Q2(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Q2(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Q2(t,"user-disabled",s);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Q_(t,f,c);Wl(t,f)}}catch(i){if(i instanceof Tc)throw i;Wl(t,"network-request-failed",{message:String(i)})}}async function zg(t,e,r,n,i={}){const a=await gu(t,e,r,n,i);return"mfaPendingCredential"in a&&Wl(t,"multi-factor-auth-required",{_serverResponse:a}),a}function MT(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Z_(t.config,i):`${t.config.apiScheme}://${i}`}function J$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ec(this.auth,"network-request-failed")),Q$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Q2(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Ec(t,e,n);return i.customData._tokenResponse=r,i}function g7(t){return t!==void 0&&t.enterprise!==void 0}class eq{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return J$(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tq(t,e){return gu(t,"GET","/v2/recaptchaConfig",fd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rq(t,e){return gu(t,"POST","/v1/accounts:delete",e)}async function BT(t,e){return gu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nq(t,e=!1){const r=un(t),n=await r.getIdToken(e),i=e6(n);Lr(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:Tm(r4(i.auth_time)),issuedAtTime:Tm(r4(i.iat)),expirationTime:Tm(r4(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function r4(t){return Number(t)*1e3}function e6(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Dx("JWT malformed, contained fewer than 3 sections"),null;try{const i=WC(r);return i?JSON.parse(i):(Dx("Failed to decode base64 JWT payload"),null)}catch(i){return Dx("Caught error parsing JWT payload as JSON",i?.toString()),null}}function x7(t){const e=e6(t);return Lr(e,"internal-error"),Lr(typeof e.exp<"u","internal-error"),Lr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Tc&&iq(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function iq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tm(this.lastLoginAt),this.creationTime=Tm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vv(t){var e;const r=t.auth,n=await t.getIdToken(),i=await G1(t,BT(r,{idToken:n}));Lr(i?.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?VT(a.providerUserInfo):[],o=oq(t.providerData,s),l=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!o?.length,f=l?c:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new $3(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function sq(t){const e=un(t);await vv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oq(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function VT(t){return t.map(e=>{var{providerId:r}=e,n=Y_(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lq(t,e){const r=await OT(t,{},async()=>{const n=Sg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=MT(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",DT.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function cq(t,e){return gu(t,"POST","/v2/accounts:revokeToken",fd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Lr(e.idToken,"internal-error"),Lr(typeof e.idToken<"u","internal-error"),Lr(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):x7(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Lr(e.length!==0,"internal-error");const r=x7(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Lr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await lq(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new g1;return n&&(Lr(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(Lr(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(Lr(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new g1,this.toJSON())}_performRefresh(){return $u("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e){Lr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qu{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Y_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new $3(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await G1(this,this.stsTokenManager.getToken(this.auth,e));return Lr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return nq(this,e)}reload(){return sq(this)}_assign(e){this!==e&&(Lr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new qu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Lr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await vv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yc(this.auth.app))return Promise.reject(Xu(this.auth));const e=await this.getIdToken();return await G1(this,rq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,s,o,l,c,f;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,g=(i=r.email)!==null&&i!==void 0?i:void 0,m=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,y=(s=r.photoURL)!==null&&s!==void 0?s:void 0,w=(o=r.tenantId)!==null&&o!==void 0?o:void 0,k=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,N=(c=r.createdAt)!==null&&c!==void 0?c:void 0,L=(f=r.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:P,emailVerified:V,isAnonymous:Y,providerData:Q,stsTokenManager:R}=r;Lr(P&&R,e,"internal-error");const T=g1.fromJSON(this.name,R);Lr(typeof P=="string",e,"internal-error"),Gd(p,e.name),Gd(g,e.name),Lr(typeof V=="boolean",e,"internal-error"),Lr(typeof Y=="boolean",e,"internal-error"),Gd(m,e.name),Gd(y,e.name),Gd(w,e.name),Gd(k,e.name),Gd(N,e.name),Gd(L,e.name);const S=new qu({uid:P,auth:e,email:g,emailVerified:V,displayName:p,isAnonymous:Y,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:T,createdAt:N,lastLoginAt:L});return Q&&Array.isArray(Q)&&(S.providerData=Q.map(j=>Object.assign({},j))),k&&(S._redirectEventId=k),S}static async _fromIdTokenResponse(e,r,n=!1){const i=new g1;i.updateFromServerResponse(r);const a=new qu({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await vv(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Lr(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?VT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,o=new g1;o.updateFromIdToken(n);const l=new qu({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $3(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=new Map;function Hu(t){id(t instanceof Function,"Expected a class definition");let e=v7.get(t);return e?(id(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v7.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}UT.type="NONE";const y7=UT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e,r){return`firebase:${t}:${e}:${r}`}class x1{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Ox(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ox("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new x1(Hu(y7),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Hu(y7);const s=Ox(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const f=await c._get(s);if(f){const p=qu._fromJSON(e,f);c!==a&&(o=p),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new x1(a,e,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new x1(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GT(e))return"Blackberry";if(KT(e))return"Webos";if($T(e))return"Safari";if((e.includes("chrome/")||qT(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function zT(t=Za()){return/firefox\//i.test(t)}function $T(t=Za()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qT(t=Za()){return/crios\//i.test(t)}function HT(t=Za()){return/iemobile/i.test(t)}function WT(t=Za()){return/android/i.test(t)}function GT(t=Za()){return/blackberry/i.test(t)}function KT(t=Za()){return/webos/i.test(t)}function t6(t=Za()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uq(t=Za()){var e;return t6(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dq(){return aM()&&document.documentMode===10}function XT(t=Za()){return t6(t)||WT(t)||KT(t)||GT(t)||/windows phone/i.test(t)||HT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e=[]){let r;switch(t){case"Browser":r=w7(Za());break;case"Worker":r=`${w7(Za())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${l0}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const l=e(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hq(t,e={}){return gu(t,"GET","/v2/passwordPolicy",fd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=6;class mq{constructor(e){var r,n,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:pq,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _7(this),this.idTokenSubscription=new _7(this),this.beforeStateQueue=new fq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Hu(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await x1.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await BT(this,{idToken:e}),n=await qu._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(yc(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Lr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await vv(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yc(this.app))return Promise.reject(Xu(this));const r=e?un(e):null;return r&&Lr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Lr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yc(this.app)?Promise.reject(Xu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yc(this.app)?Promise.reject(Xu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hq(this),r=new mq(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Eg("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await cq(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Hu(e)||this._popupRedirectResolver;Lr(r,this,"argument-error"),this.redirectPersistenceManager=await x1.create(this,[Hu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lr(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=e.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Lr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&H$(`Error while retrieving App Check token: ${r.error}`),r?.token}}function hd(t){return un(t)}class _7{constructor(e){this.auth=e,this.observer=null,this.addObserver=dM(r=>this.observer=r)}get next(){return Lr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xq(t){Sy=t}function QT(t){return Sy.loadJS(t)}function vq(){return Sy.recaptchaEnterpriseScript}function yq(){return Sy.gapiScript}function wq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _q="recaptcha-enterprise",bq="NO_RECAPTCHA";class kq{constructor(e){this.type=_q,this.auth=hd(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{tq(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new eq(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;g7(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(bq)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&g7(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vq();l.length!==0&&(l+=o),QT(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function b7(t,e,r,n=!1){const i=new kq(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},e);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function yv(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await b7(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await b7(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t,e){const r=o0(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(mf(a,e??{}))return i;Wl(i,"already-initialized")}return r.initialize({options:e})}function Sq(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Hu);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function Cq(t,e,r){const n=hd(t);Lr(n._canInitEmulator,n,"emulator-config-failed"),Lr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=JT(e),{host:s,port:o}=Nq(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${a}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),Aq()}function JT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nq(t){const e=JT(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:k7(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:k7(s)}}}function k7(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Aq(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return $u("not implemented")}_getIdTokenResponse(e){return $u("not implemented")}_linkToIdToken(e,r){return $u("not implemented")}_getReauthenticationResolver(e){return $u("not implemented")}}async function Tq(t,e){return gu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iq(t,e){return zg(t,"POST","/v1/accounts:signInWithPassword",fd(t,e))}async function ZT(t,e){return gu(t,"POST","/v1/accounts:sendOobCode",fd(t,e))}async function Pq(t,e){return ZT(t,e)}async function Rq(t,e){return ZT(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t,e){return zg(t,"POST","/v1/accounts:signInWithEmailLink",fd(t,e))}async function Lq(t,e){return zg(t,"POST","/v1/accounts:signInWithEmailLink",fd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends r6{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new ng(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new ng(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yv(e,r,"signInWithPassword",Iq);case"emailLink":return Fq(e,{email:this._email,oobCode:this._password});default:Wl(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yv(e,n,"signUpPassword",Tq);case"emailLink":return Lq(e,{idToken:r,email:this._email,oobCode:this._password});default:Wl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1(t,e){return zg(t,"POST","/v1/accounts:signInWithIdp",fd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq="http://localhost";class Wh extends r6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Wh(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Wl("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Y_(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Wh(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return v1(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,v1(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,v1(e,r)}buildRequest(){const e={requestUri:jq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Sg(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Oq(t){const e=dm(fm(t)).link,r=e?dm(fm(e)).deep_link_id:null,n=dm(fm(t)).deep_link_id;return(n?dm(fm(n)).link:null)||n||r||e||t}class n6{constructor(e){var r,n,i,a,s,o;const l=dm(fm(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,f=(n=l.oobCode)!==null&&n!==void 0?n:null,p=Dq((i=l.mode)!==null&&i!==void 0?i:null);Lr(c&&f&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=f,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=Oq(e);try{return new n6(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(){this.providerId=h0.PROVIDER_ID}static credential(e,r){return ng._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=n6.parseLink(r);return Lr(n,"argument-error"),ng._fromEmailAndCode(e,n.code,n.tenantId)}}h0.PROVIDER_ID="password";h0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";h0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends i6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends $g{constructor(){super("facebook.com")}static credential(e){return Wh._fromParams({providerId:tf.PROVIDER_ID,signInMethod:tf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tf.credentialFromTaggedObject(e)}static credentialFromError(e){return tf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tf.credential(e.oauthAccessToken)}catch{return null}}}tf.FACEBOOK_SIGN_IN_METHOD="facebook.com";tf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends $g{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Wh._fromParams({providerId:eu.PROVIDER_ID,signInMethod:eu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return eu.credentialFromTaggedObject(e)}static credentialFromError(e){return eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return eu.credential(r,n)}catch{return null}}}eu.GOOGLE_SIGN_IN_METHOD="google.com";eu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends $g{constructor(){super("github.com")}static credential(e){return Wh._fromParams({providerId:rf.PROVIDER_ID,signInMethod:rf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rf.credentialFromTaggedObject(e)}static credentialFromError(e){return rf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rf.credential(e.oauthAccessToken)}catch{return null}}}rf.GITHUB_SIGN_IN_METHOD="github.com";rf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends $g{constructor(){super("twitter.com")}static credential(e,r){return Wh._fromParams({providerId:nf.PROVIDER_ID,signInMethod:nf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return nf.credentialFromTaggedObject(e)}static credentialFromError(e){return nf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return nf.credential(r,n)}catch{return null}}}nf.TWITTER_SIGN_IN_METHOD="twitter.com";nf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mq(t,e){return zg(t,"POST","/v1/accounts:signUp",fd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await qu._fromIdTokenResponse(e,n,i),s=E7(n);return new Gh({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=E7(n);return new Gh({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function E7(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends Tc{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,wv.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new wv(e,r,n,i)}}function eI(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?wv._fromErrorAndOperation(t,a,e,n):a})}async function Bq(t,e,r=!1){const n=await G1(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Gh._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(t,e,r=!1){const{auth:n}=t;if(yc(n.app))return Promise.reject(Xu(n));const i="reauthenticate";try{const a=await G1(t,eI(n,i,e,t),r);Lr(a.idToken,n,"internal-error");const s=e6(a.idToken);Lr(s,n,"internal-error");const{sub:o}=s;return Lr(t.uid===o,n,"user-mismatch"),Gh._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Wl(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t,e,r=!1){if(yc(t.app))return Promise.reject(Xu(t));const n="signIn",i=await eI(t,n,e),a=await Gh._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function Vq(t,e){return rI(hd(t),e)}async function Uq(t,e){return tI(un(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(t){const e=hd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zq(t,e,r){const n=hd(t);await yv(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Rq)}async function iI(t,e,r){if(yc(t.app))return Promise.reject(Xu(t));const n=hd(t),s=await yv(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&nI(t),l}),o=await Gh._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function $q(t,e,r){return yc(t.app)?Promise.reject(Xu(t)):Vq(un(t),h0.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&nI(t),n})}async function qq(t,e){const r=un(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await Pq(r.auth,i);a!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hq(t,e){return gu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=un(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},s=await G1(n,Hq(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function Wq(t,e,r,n){return un(t).onIdTokenChanged(e,r,n)}function Gq(t,e,r){return un(t).beforeAuthStateChanged(e,r)}function Kq(t,e,r,n){return un(t).onAuthStateChanged(e,r,n)}function Xq(t){return un(t).signOut()}const _v="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(_v,"1"),this.storage.removeItem(_v),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=1e3,Qq=10;class oI extends sI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);dq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Qq):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Yq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}oI.type="LOCAL";const Jq=oI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends sI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}lI.type="SESSION";const cI=lI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Cy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async c=>c(r.origin,a)),l=await Zq(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=a6("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(g.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(){return window}function tH(t){cu().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(){return typeof cu().WorkerGlobalScope<"u"&&typeof cu().importScripts=="function"}async function rH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iH(){return uI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="firebaseLocalStorageDb",aH=1,bv="firebaseLocalStorage",fI="fbase_key";class qg{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Ny(t,e){return t.transaction([bv],e?"readwrite":"readonly").objectStore(bv)}function sH(){const t=indexedDB.deleteDatabase(dI);return new qg(t).toPromise()}function q3(){const t=indexedDB.open(dI,aH);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(bv,{keyPath:fI})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(bv)?e(n):(n.close(),await sH(),e(await q3()))})})}async function S7(t,e,r){const n=Ny(t,!0).put({[fI]:e,value:r});return new qg(n).toPromise()}async function oH(t,e){const r=Ny(t,!1).get(e),n=await new qg(r).toPromise();return n===void 0?null:n.value}function C7(t,e){const r=Ny(t,!0).delete(e);return new qg(r).toPromise()}const lH=800,cH=3;class hI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q3(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>cH)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cy._getInstance(iH()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await rH(),!this.activeServiceWorker)return;this.sender=new eH(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q3();return await S7(e,_v,"1"),await C7(e,_v),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>S7(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>oH(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>C7(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Ny(i,!1).getAll();return new qg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hI.type="LOCAL";const uH=hI;new Ug(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t,e){return e?Hu(e):(Lr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6 extends r6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return v1(e,this._buildIdpRequest())}_linkToIdToken(e,r){return v1(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return v1(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function dH(t){return rI(t.auth,new s6(t),t.bypassAuthState)}function fH(t){const{auth:e,user:r}=t;return Lr(r,e,"internal-error"),tI(r,new s6(t),t.bypassAuthState)}async function hH(t){const{auth:e,user:r}=t;return Lr(r,e,"internal-error"),Bq(r,new s6(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dH;case"linkViaPopup":case"linkViaRedirect":return hH;case"reauthViaPopup":case"reauthViaRedirect":return fH;default:Wl(this.auth,"internal-error")}}resolve(e){id(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){id(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=new Ug(2e3,1e4);async function N7(t,e,r){if(yc(t.app))return Promise.reject(Ec(t,"operation-not-supported-in-this-environment"));const n=hd(t);W$(t,e,i6);const i=pI(n,r);return new bh(n,"signInViaPopup",e,i).executeNotNull()}class bh extends mI{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,bh.currentPopupAction&&bh.currentPopupAction.cancel(),bh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Lr(e,this.auth,"internal-error"),e}async onExecution(){id(this.filter.length===1,"Popup operations only handle one event");const e=a6();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ec(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ec(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ec(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pH.get())};e()}}bh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH="pendingRedirect",Mx=new Map;class gH extends mI{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Mx.get(this.auth._key());if(!e){try{const n=await xH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Mx.set(this.auth._key(),e)}return this.bypassAuthState||Mx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xH(t,e){const r=wH(e),n=yH(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function vH(t,e){Mx.set(t._key(),e)}function yH(t){return Hu(t._redirectPersistence)}function wH(t){return Ox(mH,t.config.apiKey,t.name)}async function _H(t,e,r=!1){if(yc(t.app))return Promise.reject(Xu(t));const n=hd(t),i=pI(n,e),s=await new gH(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=600*1e3;class kH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EH(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!gI(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ec(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bH&&this.cachedEventUids.clear(),this.cachedEventUids.has(A7(e))}saveEventToCache(e){this.cachedEventUids.add(A7(e)),this.lastProcessedEventTime=Date.now()}}function A7(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gI({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SH(t,e={}){return gu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NH=/^https?/;async function AH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SH(t);for(const r of e)try{if(TH(r))return}catch{}Wl(t,"unauthorized-domain")}function TH(t){const e=z3(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!NH.test(r))return!1;if(CH.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new Ug(3e4,6e4);function T7(){const t=cu().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function PH(t){return new Promise((e,r)=>{var n,i,a;function s(){T7(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{T7(),r(Ec(t,"network-request-failed"))},timeout:IH.get()})}if(!((i=(n=cu().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=cu().gapi)===null||a===void 0)&&a.load)s();else{const o=wq("iframefcb");return cu()[o]=()=>{gapi.load?s():r(Ec(t,"network-request-failed"))},QT(`${yq()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw Bx=null,e})}let Bx=null;function RH(t){return Bx=Bx||PH(t),Bx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=new Ug(5e3,15e3),LH="__/auth/iframe",jH="emulator/auth/iframe",DH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MH(t){const e=t.config;Lr(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Z_(e,jH):`https://${t.config.authDomain}/${LH}`,n={apiKey:e.apiKey,appName:t.name,v:l0},i=OH.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Sg(n).slice(1)}`}async function BH(t){const e=await RH(t),r=cu().gapi;return Lr(r,t,"internal-error"),e.open({where:document.body,url:MH(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DH,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Ec(t,"network-request-failed"),o=cu().setTimeout(()=>{a(s)},FH.get());function l(){cu().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UH=500,zH=600,$H="_blank",qH="http://localhost";class I7{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HH(t,e,r,n=UH,i=zH){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},VH),{width:n.toString(),height:i.toString(),top:a,left:s}),c=Za().toLowerCase();r&&(o=qT(c)?$H:r),zT(c)&&(e=e||qH,l.scrollbars="yes");const f=Object.entries(l).reduce((g,[m,y])=>`${g}${m}=${y},`,"");if(uq(c)&&o!=="_self")return WH(e||"",o),new I7(null);const p=window.open(e||"",o,f);Lr(p,t,"popup-blocked");try{p.focus()}catch{}return new I7(p)}function WH(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH="__/auth/handler",KH="emulator/auth/handler",XH=encodeURIComponent("fac");async function P7(t,e,r,n,i,a){Lr(t.config.authDomain,t,"auth-domain-config-required"),Lr(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:l0,eventId:i};if(e instanceof i6){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",uM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))s[f]=p}if(e instanceof $g){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),c=l?`#${XH}=${encodeURIComponent(l)}`:"";return`${YH(t)}?${Sg(o).slice(1)}${c}`}function YH({config:t}){return t.emulator?Z_(t,KH):`https://${t.authDomain}/${GH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="webStorageSupport";class QH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cI,this._completeRedirectFn=_H,this._overrideRedirectResult=vH}async _openPopup(e,r,n,i){var a;id((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await P7(e,r,n,z3(),i);return HH(e,s,a6())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await P7(e,r,n,z3(),i);return tH(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(id(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await BH(e),n=new kH(e);return r.register("authEvent",i=>(Lr(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(n4,{type:n4},i=>{var a;const s=(a=i?.[0])===null||a===void 0?void 0:a[n4];s!==void 0&&r(!!s),Wl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=AH(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return XT()||$T()||t6()}}const JH=QH;var R7="@firebase/auth",F7="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Lr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tW(t){gf(new ed("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;Lr(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(t)},c=new gq(n,i,a,l);return Sq(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),gf(new ed("auth-internal",e=>{const r=hd(e.getProvider("auth").getImmediate());return(n=>new ZH(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ql(R7,F7,eW(t)),ql(R7,F7,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=300,nW=XC("authIdTokenMaxAge")||rW;let L7=null;const iW=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>nW)return;const i=r?.token;L7!==i&&(L7=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xI(t=ry()){const e=o0(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Eq(t,{popupRedirectResolver:JH,persistence:[uH,Jq,cI]}),n=XC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=iW(a.toString());Gq(r,s,()=>s(r.currentUser)),Wq(r,o=>s(o))}}const i=GC("auth");return i&&Cq(r,`http://${i}`),r}function aW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xq({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Ec("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",aW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tW("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firebasestorage.googleapis.com",yI="storageBucket",sW=120*1e3,oW=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da extends Tc{constructor(e,r,n=0){super(i4(e),`Firebase Storage: ${r} (${i4(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,da.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return i4(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ca;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ca||(ca={}));function i4(t){return"storage/"+t}function o6(){const t="An unknown error occurred, please check the error payload for server response.";return new da(ca.UNKNOWN,t)}function lW(t){return new da(ca.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cW(t){return new da(ca.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new da(ca.UNAUTHENTICATED,t)}function dW(){return new da(ca.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fW(t){return new da(ca.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function hW(){return new da(ca.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pW(){return new da(ca.CANCELED,"User canceled the upload/download.")}function mW(t){return new da(ca.INVALID_URL,"Invalid URL '"+t+"'.")}function gW(t){return new da(ca.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xW(){return new da(ca.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yI+"' property when initializing the app?")}function vW(){return new da(ca.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yW(){return new da(ca.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wW(t){return new da(ca.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function H3(t){return new da(ca.INVALID_ARGUMENT,t)}function wI(){return new da(ca.APP_DELETED,"The Firebase app was deleted.")}function _W(t){return new da(ca.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Im(t,e){return new da(ca.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function am(t){throw new da(ca.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ml.makeFromUrl(e,r)}catch{return new ml(e,"")}if(n.path==="")return n;throw gW(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(V){V.path_=decodeURIComponent(V.path)}const f="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${f}/b/${i}/o${g}`,"i"),y={bucket:1,path:3},w=r===vI?"(?:storage.googleapis.com|storage.cloud.google.com)":r,k="([^?#]*)",N=new RegExp(`^https?://${w}/${i}/${k}`,"i"),P=[{regex:o,indices:l,postModify:a},{regex:m,indices:y,postModify:c},{regex:N,indices:{bucket:1,path:2},postModify:c}];for(let V=0;V<P.length;V++){const Y=P[V],Q=Y.regex.exec(e);if(Q){const R=Q[Y.indices.bucket];let T=Q[Y.indices.path];T||(T=""),n=new ml(R,T),Y.postModify(n);break}}if(n==null)throw mW(e);return n}}class bW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(t,e,r){let n=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function f(...k){c||(c=!0,e.apply(null,k))}function p(k){i=setTimeout(()=>{i=null,t(m,l())},k)}function g(){a&&clearTimeout(a)}function m(k,...N){if(c){g();return}if(k){g(),f.call(null,k,...N);return}if(l()||s){g(),f.call(null,k,...N);return}n<64&&(n*=2);let P;o===1?(o=2,P=0):P=(n+Math.random())*1e3,p(P)}let y=!1;function w(k){y||(y=!0,g(),!c&&(i!==null?(k||(o=2),clearTimeout(i),p(0)):k||(o=1)))}return p(0),a=setTimeout(()=>{s=!0,w(!0)},r),w}function EW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t){return t!==void 0}function CW(t){return typeof t=="object"&&!Array.isArray(t)}function l6(t){return typeof t=="string"||t instanceof String}function j7(t){return c6()&&t instanceof Blob}function c6(){return typeof Blob<"u"}function D7(t,e,r,n){if(n<e)throw H3(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw H3(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function _I(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Ih;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ih||(Ih={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NW(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,r,n,i,a,s,o,l,c,f,p,g=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new J2(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===Ih.NO_ERROR,l=a.getStatus();if(!o||NW(l,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===Ih.ABORT;n(!1,new J2(!1,null,f));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new J2(c,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());SW(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=o6();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?wI():pW();s(l)}else{const l=hW();s(l)}};this.canceled_?r(!1,new J2(!1,null,!0)):this.backoffId_=kW(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&EW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class J2{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function TW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FW(t,e,r,n,i,a,s=!0){const o=_I(t.urlParams),l=t.url+o,c=Object.assign({},t.headers);return PW(c,e),TW(c,r),IW(c,a),RW(c,n),new AW(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jW(...t){const e=LW();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(c6())return new Blob(t);throw new da(ca.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DW(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t){if(typeof atob>"u")throw wW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class a4{constructor(e,r){this.data=e,this.contentType=r||null}}function MW(t,e){switch(t){case nu.RAW:return new a4(bI(e));case nu.BASE64:case nu.BASE64URL:return new a4(kI(t,e));case nu.DATA_URL:return new a4(VW(e),UW(e))}throw o6()}function bI(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,s=t.charCodeAt(++r);n=65536|(a&1023)<<10|s&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function BW(t){let e;try{e=decodeURIComponent(t)}catch{throw Im(nu.DATA_URL,"Malformed data URL.")}return bI(e)}function kI(t,e){switch(t){case nu.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Im(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case nu.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Im(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=OW(e)}catch(i){throw i.message.includes("polyfill")?i:Im(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class EI{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Im(nu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=zW(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function VW(t){const e=new EI(t);return e.base64?kI(nu.BASE64,e.rest):BW(e.rest)}function UW(t){return new EI(t).contentType}function zW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,r){let n=0,i="";j7(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(j7(this.data_)){const n=this.data_,i=DW(n,e,r);return i===null?null:new af(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new af(n,!0)}}static getBlob(...e){if(c6()){const r=e.map(n=>n instanceof af?n.data_:n);return new af(jW.apply(null,r))}else{const r=e.map(s=>l6(s)?MW(nu.RAW,s).data:s.data_);let n=0;r.forEach(s=>{n+=s.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(s=>{for(let o=0;o<s.length;o++)i[a++]=s[o]}),new af(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){let e;try{e=JSON.parse(t)}catch{return null}return CW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function qW(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function CI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t,e){return e}class Eo{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||HW}}let Z2=null;function WW(t){return!l6(t)||t.length<2?t:CI(t)}function NI(){if(Z2)return Z2;const t=[];t.push(new Eo("bucket")),t.push(new Eo("generation")),t.push(new Eo("metageneration")),t.push(new Eo("name","fullPath",!0));function e(a,s){return WW(s)}const r=new Eo("name");r.xform=e,t.push(r);function n(a,s){return s!==void 0?Number(s):s}const i=new Eo("size");return i.xform=n,t.push(i),t.push(new Eo("timeCreated")),t.push(new Eo("updated")),t.push(new Eo("md5Hash",null,!0)),t.push(new Eo("cacheControl",null,!0)),t.push(new Eo("contentDisposition",null,!0)),t.push(new Eo("contentEncoding",null,!0)),t.push(new Eo("contentLanguage",null,!0)),t.push(new Eo("contentType",null,!0)),t.push(new Eo("metadata","customMetadata",!0)),Z2=t,Z2}function GW(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new ml(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function KW(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const s=r[a];n[s.local]=s.xform(n,e[s.server])}return GW(n,t),n}function AI(t,e,r){const n=SI(e);return n===null?null:KW(t,n,r)}function XW(t,e,r,n){const i=SI(e);if(i===null||!l6(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const s=encodeURIComponent;return a.split(",").map(c=>{const f=t.bucket,p=t.fullPath,g="/b/"+s(f)+"/o/"+s(p),m=u6(g,r,n),y=_I({alt:"media",token:c});return m+y})[0]}function YW(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class TI{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){if(!t)throw o6()}function QW(t,e){function r(n,i){const a=AI(t,i,e);return II(a!==null),a}return r}function JW(t,e){function r(n,i){const a=AI(t,i,e);return II(a!==null),XW(a,i,t.host,t._protocol)}return r}function PI(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=dW():i=uW():r.getStatus()===402?i=cW(t.bucket):r.getStatus()===403?i=fW(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function ZW(t){const e=PI(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=lW(t.path)),a.serverResponse=i.serverResponse,a}return r}function eG(t,e,r){const n=e.fullServerUrl(),i=u6(n,t.host,t._protocol),a="GET",s=t.maxOperationRetryTime,o=new TI(i,a,JW(t,r),s);return o.errorHandler=ZW(e),o}function tG(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function rG(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=tG(null,e)),n}function nG(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function o(){let P="";for(let V=0;V<2;V++)P=P+Math.random().toString().slice(2);return P}const l=o();s["Content-Type"]="multipart/related; boundary="+l;const c=rG(e,n,i),f=YW(c,r),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+l+"--",m=af.getBlob(p,n,g);if(m===null)throw vW();const y={name:c.fullPath},w=u6(a,t.host,t._protocol),k="POST",N=t.maxUploadRetryTime,L=new TI(w,k,QW(t,r),N);return L.urlParams=y,L.headers=s,L.body=m.uploadData(),L.errorHandler=PI(e),L}class iG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ih.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ih.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ih.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw am("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw am("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw am("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw am("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw am("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aG extends iG{initXhr(){this.xhr_.responseType="text"}}function RI(){return new aG}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,r){this._service=e,r instanceof ml?this._location=r:this._location=ml.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Kh(e,r)}get root(){const e=new ml(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CI(this._location.path)}get storage(){return this._service}get parent(){const e=$W(this._location.path);if(e===null)return null;const r=new ml(this._location.bucket,e);return new Kh(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw _W(e)}}function sG(t,e,r){t._throwIfRoot("uploadBytes");const n=nG(t.storage,t._location,NI(),new af(e,!0),r);return t.storage.makeRequestWithTokens(n,RI).then(i=>({metadata:i,ref:t}))}function oG(t){t._throwIfRoot("getDownloadURL");const e=eG(t.storage,t._location,NI());return t.storage.makeRequestWithTokens(e,RI).then(r=>{if(r===null)throw yW();return r})}function lG(t,e){const r=qW(t._location.path,e),n=new ml(t._location.bucket,r);return new Kh(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cG(t){return/^[A-Za-z]+:\/\//.test(t)}function uG(t,e){return new Kh(t,e)}function FI(t,e){if(t instanceof d6){const r=t;if(r._bucket==null)throw xW();const n=new Kh(r,r._bucket);return e!=null?FI(n,e):n}else return e!==void 0?lG(t,e):t}function dG(t,e){if(e&&cG(e)){if(t instanceof d6)return uG(t,e);throw H3("To use ref(service, url), the first argument must be a Storage instance.")}else return FI(t,e)}function O7(t,e){const r=e?.[yI];return r==null?null:ml.makeFromBucketSpec(r,t)}function fG(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:YC(i,t.app.options.projectId))}class d6{constructor(e,r,n,i,a){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=vI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sW,this._maxUploadRetryTime=oW,this._requests=new Set,i!=null?this._bucket=ml.makeFromBucketSpec(i,this._host):this._bucket=O7(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ml.makeFromBucketSpec(this._url,e):this._bucket=O7(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){D7("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){D7("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new bW(wI());{const s=FW(e,this._appId,n,i,r,this._firebaseVersion,a);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const M7="@firebase/storage",B7="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="storage";function hG(t,e,r){return t=un(t),sG(t,e,r)}function pG(t){return t=un(t),oG(t)}function mG(t,e){return t=un(t),dG(t,e)}function gG(t=ry(),e){t=un(t);const n=o0(t,LI).getImmediate({identifier:e}),i=Ww("storage");return i&&xG(n,...i),n}function xG(t,e,r,n={}){fG(t,e,r,n)}function vG(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new d6(r,n,i,e,l0)}function yG(){gf(new ed(LI,vG,"PUBLIC").setMultipleInstances(!0)),ql(M7,B7,""),ql(M7,B7,"esm2017")}yG();const wG={apiKey:"AIzaSyB1GNt6gatBiZyVDj9wZP4TSnefXsohCho",authDomain:"healthapp-f4173.firebaseapp.com",projectId:"healthapp-f4173",storageBucket:"healthapp-f4173.firebasestorage.app",messagingSenderId:"169032569236",appId:"1:169032569236:web:38585fcf19c35ba1737f81"},f6=tN(wG),Qd=xI(f6),gt=dT(f6),_G=gG(f6);function W3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function jI(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BI(n.key),n)}}function DI(t,e,r){return e&&V7(t.prototype,e),r&&V7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function OI(t,e,r){return(e=BI(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.push.apply(r,n)}return r}function ia(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U7(Object(r),!0).forEach((function(n){OI(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U7(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function G3(t,e){if(t==null)return{};var r,n,i=(function(s,o){if(s==null)return{};var l={};for(var c in s)if({}.hasOwnProperty.call(s,c)){if(o.indexOf(c)!==-1)continue;l[c]=s[c]}return l})(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function bG(t,e){return(function(r){if(Array.isArray(r))return r})(t)||(function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var a,s,o,l,c=[],f=!0,p=!1;try{if(o=(i=i.call(r)).next,n!==0)for(;!(f=(a=o.call(i)).done)&&(c.push(a.value),c.length!==n);f=!0);}catch(g){p=!0,s=g}finally{try{if(!f&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(p)throw s}}return c}})(t,e)||VI(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function MI(t){return(function(e){if(Array.isArray(e))return W3(e)})(t)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||VI(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function BI(t){var e=(function(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)})(t,"string");return typeof e=="symbol"?e:e+""}function Xh(t){return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function VI(t,e){if(t){if(typeof t=="string")return W3(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W3(t,e):void 0}}var h6={cookieTestUrl:"https://legacy-staging.paystack.co/test-iframe/start.html",publishableKey:"uFmz/uE/SDT6GupOrSEXIZXGByjQ0zFkPyc9LqKHFqnTI0WPN3JS5kQPo/j9or0TOXlqMQj2lzHn/UGsQT4XeQ==",publicKey:`-----BEGIN PUBLIC KEY-----\r
MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALhZs/7hP0g0+hrqTq0hFyGVxgco0NMx\r
ZD8nPS6ihxap0yNFjzdyUuZED6P4/aK9Ezl5ajEI9pcx5/1BrEE+F3kCAwEAAQ==\r
-----END PUBLIC KEY-----`,applePayVersion:6,applePayValidateSessionPath:"applepay/validate-session/",applePayChargePath:"applepay/charge"};ia(ia({},h6),{},{checkoutUrl:"http://localhost:8081/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"http://localhost:8081/static/vendor/pusher.min.js"});var kG=ia(ia({},h6),{},{checkoutUrl:"https://checkout-studio.paystack.com/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://beta.paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"https://checkout-studio.paystack.com/static/vendor/pusher.min.js"}),zo={production:ia(ia({},h6),{},{checkoutUrl:"https://checkout.paystack.com/",paymentBaseUrl:"https://standard.paystack.co/",paystackApiUrl:"https://api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"8e4b9b7ca3418bd5cdc8",pusherUrl:"https://checkout.paystack.com/static/vendor/pusher.min.js"})}.production||kG;function UI(t,e){var r=[];return Object.keys(t).forEach((function(n){var i=e?"".concat(e,"[").concat(n,"]"):n,a=t[i];r.push(a!==null&&(typeof v>"u"?"undefined":Xh(v))==="object"?UI(a,i):"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(a)))})),r.join("&")}function o1(){return document.currentScript||(t=document.getElementsByTagName("script"))[t.length-1];var t}function z7(){var t=[],e=o1();if(e){var r=Array.prototype.slice.call(e.attributes);t=Object.keys(r).filter((function(n){var i=r[n].nodeName;return i&&i.indexOf("data")>-1})).map((function(n){return r[n].nodeName}))}return t}var zI=`
  <svg id="inline-button-wordmark--white" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#ffffff"/>
  </svg>
`,EG=`
<svg id="inline-button-wordmark--grey" width="166" height="16" viewBox="0 0 166 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path
  d="M0.564068 6.26985L1.86515 6.10375C1.85184 5.15143 1.83489 3.71187 1.84942 3.45964C1.95955 1.67927 3.39982 0.16589 5.13056 0.0170127C5.23949 0.00839996 5.34842 0.0034784 5.45371 0.00101762C6.36645 -0.0209585 7.25272 0.313716 7.93 0.936113C8.62472 1.56238 9.07979 2.4864 9.14999 3.4055C9.16815 3.64174 9.1621 5.24002 9.1621 6.18249L10.4886 6.38305L10.4438 14.0767L5.47308 14.7657L0.519287 13.961L0.564068 6.26985ZM5.53359 5.63743L7.62016 5.95241C7.61169 4.80446 7.55965 3.12867 7.30548 2.68696C6.91939 2.0164 6.28156 1.62021 5.55901 1.60421H5.48276C4.7481 1.61406 4.10543 2.0004 3.71813 2.66727C3.44944 3.13236 3.39619 4.70972 3.3974 5.91181L5.53359 5.63743ZM22.5808 12.4378C21.8836 12.4378 21.293 12.3492 20.8089 12.172C20.372 12.0088 19.9719 11.7577 19.6325 11.4338C19.3256 11.1331 19.0833 10.7712 18.9208 10.3707C18.7637 9.95815 18.6612 9.52621 18.6158 9.08621H19.8358C19.8745 9.40119 19.9423 9.70141 20.0391 9.98686C20.136 10.2625 20.286 10.5085 20.4894 10.7251C20.6927 10.9318 20.959 11.0991 21.2882 11.2271C21.6271 11.3452 22.0579 11.4043 22.5808 11.4043C22.9197 11.4043 23.2295 11.36 23.5103 11.2714C23.8008 11.173 24.0525 11.0351 24.2655 10.858C24.4785 10.6808 24.6431 10.4692 24.7593 10.2231C24.8852 9.97701 24.9481 9.70633 24.9481 9.41103C24.9481 9.11574 24.9094 8.85982 24.8319 8.64327C24.7536 8.41559 24.6125 8.21568 24.4253 8.06745C24.196 7.88594 23.9347 7.75064 23.6555 7.6688C23.257 7.54201 22.849 7.4482 22.4355 7.38828C21.9393 7.31041 21.4491 7.19693 20.9686 7.04869C20.5808 6.92967 20.2133 6.75038 19.8794 6.51716C19.5939 6.29685 19.3607 6.01432 19.1968 5.69034C19.0418 5.35567 18.9644 4.9521 18.9644 4.47963C18.9644 4.07607 19.0467 3.70203 19.2113 3.35752C19.3759 3.00317 19.6034 2.69803 19.8939 2.44211C20.194 2.18619 20.5475 1.98441 20.9541 1.83676C21.3608 1.68911 21.811 1.61529 22.3048 1.61529C23.3505 1.61529 24.1784 1.86629 24.7884 2.36829C25.4081 2.86044 25.7711 3.57899 25.8777 4.52393H24.7448C24.6189 3.8546 24.3624 3.37721 23.9751 3.09176C23.5878 2.79646 23.031 2.64882 22.3048 2.64882C21.5883 2.64882 21.0461 2.81123 20.6782 3.13605C20.5037 3.28606 20.3648 3.47417 20.2717 3.68635C20.1787 3.89853 20.1339 4.12931 20.1408 4.36152C20.1408 4.61744 20.1698 4.84875 20.2279 5.05546C20.2957 5.25232 20.4167 5.42457 20.591 5.57222C20.775 5.71987 21.0267 5.85275 21.3463 5.97087C21.7689 6.09987 22.2012 6.19369 22.6389 6.25139C23.2198 6.33998 23.7281 6.4581 24.1639 6.60575C24.5996 6.75339 24.9675 6.94533 25.2677 7.18157C25.5678 7.4178 25.7905 7.70818 25.9358 8.05268C26.0907 8.39719 26.1681 8.82045 26.1681 9.32245C26.1681 9.76539 26.0761 10.1788 25.8922 10.5627C25.7149 10.9408 25.4627 11.2775 25.1515 11.5519C24.8319 11.8275 24.4495 12.0441 24.0041 12.2016C23.5684 12.359 23.094 12.4378 22.5808 12.4378ZM31.2066 12.4378C30.6741 12.4378 30.1803 12.3443 29.7252 12.1573C29.2906 11.9775 28.8956 11.7115 28.5633 11.3747C28.2268 11.0185 27.965 10.5966 27.7936 10.1345C27.6136 9.61796 27.5251 9.07309 27.5321 8.52515V8.40704C27.5321 7.82629 27.6193 7.29476 27.7936 6.81245C27.9679 6.3203 28.2099 5.90196 28.5198 5.55746C28.8393 5.2031 29.2169 4.93242 29.6526 4.7454C30.0883 4.54854 30.5676 4.45011 31.0905 4.45011C31.5262 4.45011 31.9473 4.52393 32.354 4.67158C32.7704 4.80938 33.1383 5.03085 33.4578 5.33599C33.7773 5.64112 34.0291 6.03977 34.213 6.53192C34.4067 7.01424 34.5035 7.5999 34.5035 8.28892V8.68756H28.7812C28.8102 9.57345 29.0281 10.2526 29.4348 10.7251C29.8414 11.1877 30.4369 11.419 31.2212 11.419C32.4121 11.419 33.085 10.9712 33.24 10.0754H34.4454C34.3099 10.8531 33.9516 11.4436 33.3707 11.8472C32.7897 12.2409 32.0684 12.4378 31.2066 12.4378ZM33.269 7.69833C33.2109 6.90104 32.9882 6.33014 32.6009 5.98563C32.2233 5.64112 31.7198 5.46887 31.0905 5.46887C30.4708 5.46887 29.9624 5.67065 29.5655 6.07422C29.1782 6.46794 28.9313 7.00932 28.8248 7.69833H33.269ZM39.3593 12.4378C38.8267 12.4378 38.3329 12.3492 37.8779 12.172C37.4401 11.9901 37.0407 11.7245 36.7014 11.3895C36.3636 11.0315 36.0973 10.6103 35.9172 10.1493C35.7268 9.63002 35.6332 9.07925 35.6412 8.52515V8.40704C35.6412 7.81645 35.738 7.28 35.9317 6.79769C36.1253 6.30553 36.3868 5.8872 36.716 5.54269C37.0548 5.19818 37.447 4.93242 37.8924 4.7454C38.3475 4.54854 38.8267 4.45011 39.3302 4.45011C39.7272 4.45011 40.1097 4.49932 40.4776 4.59775C40.8552 4.69618 41.1893 4.85367 41.4797 5.07022C41.7799 5.27693 42.0316 5.55253 42.235 5.89704C42.4383 6.24155 42.569 6.65988 42.6271 7.15204H41.4362C41.3393 6.54177 41.0924 6.10867 40.6955 5.85275C40.3082 5.59683 39.8531 5.46887 39.3302 5.46887C38.995 5.46599 38.6632 5.53649 38.3571 5.67557C38.0667 5.81338 37.8101 6.01024 37.5874 6.26616C37.3615 6.53514 37.1889 6.84598 37.0791 7.18157C36.9484 7.57626 36.8845 7.99063 36.8902 8.40704V8.52515C36.8902 9.47994 37.1178 10.2034 37.5729 10.6956C38.0376 11.1779 38.6379 11.419 39.3738 11.419C39.6449 11.419 39.9015 11.3797 40.1436 11.3009C40.6361 11.1497 41.0523 10.8113 41.3055 10.356C41.441 10.1197 41.5233 9.84413 41.5524 9.52915H42.6707C42.6338 9.9361 42.5204 10.3321 42.3366 10.6956C42.1663 11.0447 41.9293 11.3559 41.6395 11.611C41.349 11.8669 41.0101 12.0687 40.6228 12.2163C40.2355 12.364 39.8144 12.4378 39.3593 12.4378ZM46.9164 12.4378C46.5568 12.4406 46.199 12.3858 45.8562 12.2754C45.5441 12.1717 45.2605 11.9947 45.0284 11.7586C44.7829 11.4908 44.595 11.1741 44.4765 10.8284C44.3409 10.4544 44.2731 10.0016 44.2731 9.47009V4.58299H45.4786V9.41103C45.4786 10.0902 45.619 10.5873 45.8998 10.9023C46.1903 11.2172 46.6356 11.3747 47.236 11.3747C47.5071 11.3747 47.7685 11.3304 48.0202 11.2419C48.272 11.1533 48.4947 11.0204 48.6883 10.8432C48.882 10.666 49.0369 10.4446 49.1531 10.1788C49.2693 9.91303 49.3274 9.6079 49.3274 9.26339V4.58299H50.5328V12.3049H49.3274V11.0794C49.1531 11.4436 48.8578 11.7635 48.4414 12.0391C48.0348 12.3049 47.5264 12.4378 46.9164 12.4378ZM52.8239 4.58299H54.0294V5.97087C54.2715 5.53777 54.5765 5.18342 54.9444 4.90781C55.322 4.62236 55.8497 4.46979 56.5275 4.45011V5.60175C56.1799 5.61707 55.8346 5.66652 55.4963 5.7494C55.2039 5.81939 54.9308 5.95567 54.6975 6.14804C54.4729 6.35252 54.303 6.6116 54.2037 6.90104C54.0875 7.20618 54.0294 7.59498 54.0294 8.06745V12.3049H52.8239V4.58299ZM61.0347 12.4378C60.5021 12.4378 60.0083 12.3443 59.5533 12.1573C59.1186 11.9775 58.7236 11.7115 58.3914 11.3747C58.0549 11.0185 57.793 10.5966 57.6216 10.1345C57.4416 9.61796 57.3531 9.07309 57.3602 8.52515V8.40704C57.3602 7.82629 57.4473 7.29476 57.6216 6.81245C57.7959 6.3203 58.038 5.90196 58.3478 5.55746C58.6673 5.2031 59.0449 4.93242 59.4806 4.7454C59.9164 4.54854 60.3956 4.45011 60.9185 4.45011C61.3542 4.45011 61.7754 4.52393 62.1821 4.67158C62.5984 4.80938 62.9663 5.03085 63.2859 5.33599C63.6054 5.64112 63.8571 6.03977 64.0411 6.53192C64.2347 7.01424 64.3316 7.5999 64.3316 8.28892V8.68756H58.6092C58.6383 9.57345 58.8561 10.2526 59.2628 10.7251C59.6695 11.1877 60.2649 11.419 61.0492 11.419C62.2401 11.419 62.9131 10.9712 63.068 10.0754H64.2735C64.1379 10.8531 63.7797 11.4436 63.1987 11.8472C62.6178 12.2409 61.8964 12.4378 61.0347 12.4378ZM63.097 7.69833C63.0389 6.90104 62.8162 6.33014 62.429 5.98563C62.0513 5.64112 61.5478 5.46887 60.9185 5.46887C60.2988 5.46887 59.7905 5.67065 59.3935 6.07422C59.0062 6.46794 58.7593 7.00932 58.6528 7.69833H63.097ZM68.8968 12.4378C68.403 12.4378 67.9431 12.3541 67.5171 12.1868C67.1072 12.0141 66.7365 11.7578 66.4278 11.4338C66.1165 11.0803 65.8749 10.6693 65.7161 10.2231C65.5451 9.69956 65.4617 9.15057 65.4692 8.59898V8.48086C65.4692 7.89027 65.5564 7.3489 65.7307 6.85675C65.905 6.36459 66.147 5.94134 66.4569 5.58698C66.7667 5.22279 67.1395 4.94226 67.5752 4.7454C68.0109 4.54854 68.4902 4.45011 69.013 4.45011C69.6521 4.45011 70.1701 4.58791 70.5671 4.86352C70.964 5.12928 71.2739 5.44918 71.4966 5.82322V0.891819H72.702V12.3049H71.4966V10.9761C71.3901 11.1631 71.2448 11.3452 71.0609 11.5224C70.8713 11.7038 70.6617 11.8623 70.4363 11.9949C70.2066 12.1258 69.963 12.2298 69.7102 12.3049C69.4487 12.3935 69.1776 12.4378 68.8968 12.4378ZM69.0275 11.419C69.3761 11.419 69.7053 11.36 70.0152 11.2419C70.325 11.1237 70.5913 10.9466 70.814 10.7103C71.0367 10.4642 71.2109 10.1591 71.3368 9.79492C71.4724 9.42088 71.5401 8.98778 71.5401 8.49562V8.37751C71.5401 7.38335 71.3223 6.65004 70.8866 6.17757C70.4606 5.7051 69.8748 5.46887 69.1292 5.46887C68.374 5.46887 67.7834 5.72479 67.3573 6.23663C66.9313 6.74847 66.7183 7.47686 66.7183 8.4218V8.53992C66.7183 9.02223 66.7764 9.44549 66.8926 9.80968C67.0184 10.1739 67.183 10.4741 67.3864 10.7103C67.5994 10.9466 67.8463 11.1237 68.1271 11.2419C68.4079 11.36 68.708 11.419 69.0275 11.419ZM82.4716 12.4378C81.852 12.4378 81.3243 12.3 80.8886 12.0244C80.485 11.7813 80.146 11.4417 79.901 11.0351V12.3049H78.6955V0.891819H79.901V5.88228C80.0153 5.68531 80.1572 5.50626 80.3221 5.35075C80.5061 5.17357 80.7094 5.02101 80.9321 4.89305C81.1645 4.75524 81.4114 4.64697 81.6729 4.56822C81.9343 4.48948 82.2005 4.45011 82.4716 4.45011C82.9655 4.45011 83.4254 4.53869 83.8514 4.71587C84.2774 4.89305 84.6405 5.14897 84.9407 5.48363C85.2505 5.8183 85.4926 6.22679 85.6669 6.7091C85.8411 7.19141 85.9283 7.73278 85.9283 8.33321V8.45133C85.9283 9.04192 85.846 9.58329 85.6814 10.0754C85.5295 10.535 85.2929 10.9609 84.9843 11.3304C84.6852 11.6839 84.3133 11.9662 83.895 12.1573C83.4445 12.3492 82.96 12.4447 82.4716 12.4378ZM82.3555 11.419C83.1107 11.419 83.6868 11.173 84.0838 10.6808C84.4808 10.1788 84.6793 9.45533 84.6793 8.51039V8.39227C84.6793 7.90012 84.6163 7.47194 84.4904 7.10775C84.3829 6.77559 84.2099 6.46915 83.9821 6.2071C83.7841 5.96487 83.5294 5.77704 83.2414 5.66081C82.9581 5.53232 82.6511 5.46687 82.3409 5.46887C81.9924 5.46887 81.6632 5.52793 81.3533 5.64604C81.0537 5.7638 80.7852 5.95084 80.569 6.19234C80.3464 6.42857 80.1721 6.73371 80.0462 7.10775C79.9127 7.52209 79.8488 7.95635 79.8574 8.39227V8.51039C79.8574 9.4947 80.0898 10.228 80.5545 10.7103C81.0193 11.1828 81.6196 11.419 82.3555 11.419ZM89.6342 11.5076L86.6569 4.58299H87.9495L90.2733 10.1197L92.3792 4.58299H93.6137L89.4164 14.9921H88.1964L89.6342 11.5076ZM105.97 4.51532C105.618 4.13844 105.195 3.83755 104.727 3.63067C104.257 3.42601 103.751 3.32132 103.241 3.32307C102.698 3.32307 102.214 3.42888 101.804 3.64297C101.501 3.7934 101.229 4.00091 101.003 4.25447V4.01947C101.003 3.93064 100.979 3.84347 100.933 3.76781C100.888 3.69214 100.822 3.631 100.744 3.59129C100.691 3.56626 100.633 3.55364 100.574 3.55438H98.9827C98.9241 3.55245 98.8658 3.56433 98.8125 3.58909C98.7592 3.61385 98.7122 3.65082 98.6753 3.69711C98.5956 3.78474 98.5523 3.90019 98.5542 4.01947V15.0561C98.5542 15.1791 98.5954 15.2874 98.6753 15.3735C98.715 15.4152 98.7629 15.4479 98.8158 15.4698C98.8688 15.4916 98.9256 15.502 98.9827 15.5002H100.606C100.661 15.5001 100.715 15.4889 100.766 15.4671C100.817 15.4453 100.863 15.4135 100.901 15.3735C100.945 15.3333 100.979 15.284 101.002 15.229C101.025 15.174 101.036 15.1146 101.034 15.0548V11.2898C101.25 11.5384 101.539 11.7291 101.884 11.8607C102.307 12.0256 102.755 12.1105 103.207 12.1105C103.727 12.1105 104.233 12.0096 104.71 11.8054C105.185 11.599 105.613 11.2958 105.969 10.9146C106.338 10.5135 106.628 10.0422 106.824 9.52669C107.044 8.94733 107.152 8.33033 107.143 7.70941C107.143 7.045 107.038 6.43349 106.824 5.89212C106.631 5.38011 106.341 4.91182 105.97 4.51409V4.51532ZM104.513 8.50178C104.424 8.73555 104.295 8.94718 104.131 9.12928C103.969 9.31219 103.77 9.45789 103.547 9.55674C103.325 9.65558 103.085 9.70531 102.842 9.70264C102.6 9.70387 102.358 9.65342 102.136 9.55499C101.911 9.4556 101.71 9.31074 101.542 9.12928C101.375 8.94704 101.244 8.73407 101.155 8.50178C101.062 8.25439 101.015 7.99155 101.016 7.72663C101.016 7.45102 101.064 7.19141 101.155 6.95026C101.332 6.48635 101.682 6.1122 102.128 5.90935C102.352 5.80353 102.595 5.7494 102.842 5.75063C103.103 5.75063 103.343 5.80476 103.56 5.91058C103.774 6.0127 103.969 6.15542 104.134 6.33014C104.476 6.71058 104.661 7.21105 104.648 7.72663C104.648 8.00347 104.603 8.26308 104.513 8.50178ZM115.859 3.55684H114.249C114.193 3.55751 114.138 3.56987 114.087 3.59315C114.036 3.61643 113.99 3.65013 113.952 3.69219C113.868 3.78 113.821 3.8973 113.821 4.01947V4.22371C113.62 3.9808 113.372 3.78302 113.092 3.64297C112.654 3.42397 112.17 3.31511 111.681 3.32553C111.166 3.32821 110.657 3.43439 110.183 3.63795C109.708 3.84151 109.278 4.13843 108.917 4.51162C108.537 4.91069 108.236 5.37962 108.029 5.89335C107.801 6.47081 107.687 7.08847 107.696 7.71064C107.696 8.37505 107.807 8.98655 108.029 9.52792C108.251 10.0619 108.545 10.5331 108.91 10.9158C109.265 11.2945 109.693 11.5958 110.167 11.8016C110.641 12.0074 111.15 12.1133 111.665 12.113C112.194 12.113 112.675 12.0047 113.085 11.7943C113.388 11.6343 113.637 11.4412 113.821 11.2148V11.4326C113.82 11.4923 113.831 11.5516 113.854 11.6066C113.877 11.6615 113.911 11.7109 113.954 11.7512C113.993 11.7915 114.038 11.8236 114.089 11.8456C114.14 11.8676 114.194 11.879 114.249 11.8792H115.859C115.916 11.8812 115.972 11.8706 116.024 11.8483C116.077 11.826 116.124 11.7925 116.162 11.75C116.203 11.7085 116.235 11.6589 116.256 11.6043C116.277 11.5497 116.287 11.4912 116.285 11.4326V4.0207C116.287 3.90142 116.244 3.78597 116.164 3.69834C116.127 3.65337 116.08 3.61736 116.027 3.5929C115.975 3.56844 115.917 3.55613 115.859 3.55684ZM113.685 8.4907C113.601 8.72324 113.473 8.9368 113.308 9.11943C113.143 9.29538 112.95 9.43933 112.735 9.54269C112.52 9.64727 112.275 9.70141 112.014 9.70141C111.764 9.70141 111.521 9.64727 111.3 9.54146C111.079 9.4398 110.881 9.29437 110.717 9.11372C110.552 8.93306 110.425 8.72082 110.343 8.48947C110.253 8.24551 110.207 7.98712 110.207 7.72663C110.207 7.44979 110.253 7.19018 110.343 6.94903C110.433 6.71156 110.562 6.50116 110.723 6.32891C110.888 6.15296 111.086 6.00901 111.301 5.90812C111.521 5.80353 111.764 5.7494 112.015 5.7494C112.275 5.7494 112.52 5.80353 112.735 5.90935C112.951 6.01393 113.144 6.15542 113.308 6.32891C113.65 6.70961 113.834 7.21001 113.821 7.7254C113.821 7.98993 113.776 8.24709 113.685 8.4907ZM131.919 7.49901C131.685 7.28955 131.417 7.12228 131.127 7.00439C130.828 6.88012 130.511 6.78169 130.177 6.71525L128.95 6.46425C128.635 6.40273 128.416 6.3203 128.293 6.21448C128.242 6.17732 128.201 6.12853 128.172 6.07209C128.144 6.01565 128.128 5.95315 128.128 5.88966C128.128 5.75432 128.204 5.64358 128.357 5.54269C128.523 5.43688 128.755 5.38274 129.042 5.38274C129.357 5.38274 129.669 5.44795 129.958 5.57591C130.252 5.70633 130.528 5.85398 130.769 6.01885C131.126 6.24893 131.43 6.21817 131.649 5.95364L132.238 5.25232C132.351 5.13393 132.416 4.97752 132.422 4.81307C132.422 4.65558 132.345 4.51162 132.198 4.3812C131.948 4.15481 131.553 3.91612 131.023 3.68234C130.494 3.44611 129.829 3.32553 129.042 3.32553C128.525 3.32553 128.049 3.39689 127.628 3.53716C127.205 3.67988 126.842 3.87674 126.547 4.12036C126.251 4.37136 126.017 4.66173 125.858 4.99763C125.699 5.33341 125.617 5.70154 125.618 6.07422C125.618 6.76324 125.82 7.32552 126.218 7.74509C126.615 8.15481 127.145 8.43411 127.796 8.56945L129.072 8.8549C129.435 8.93118 129.711 9.01731 129.889 9.11328C130.045 9.19572 130.119 9.31383 130.119 9.47871C130.119 9.62635 130.045 9.758 129.892 9.87735C129.731 10.0053 129.478 10.0681 129.139 10.0681C128.79 10.0717 128.445 9.99161 128.133 9.83429C127.836 9.68469 127.56 9.49515 127.312 9.27077C127.202 9.17922 127.076 9.1084 126.941 9.0616C126.788 9.01608 126.616 9.0653 126.419 9.22155L125.714 9.78876C125.509 9.96717 125.423 10.1825 125.461 10.431C125.496 10.6697 125.691 10.9158 126.055 11.1939C126.38 11.4313 126.798 11.6467 127.3 11.8312C127.803 12.017 128.391 12.113 129.059 12.113C129.596 12.113 130.092 12.0416 130.529 11.9013C130.967 11.7549 131.354 11.5593 131.668 11.3108C131.98 11.0724 132.231 10.7631 132.404 10.4077C132.576 10.0523 132.663 9.66076 132.659 9.26462C132.659 8.87212 132.595 8.52638 132.46 8.23601C132.331 7.95492 132.147 7.70366 131.919 7.49778V7.49901ZM138.958 9.51193C138.923 9.445 138.872 9.3882 138.809 9.34687C138.747 9.30555 138.675 9.28105 138.601 9.27569C138.451 9.27322 138.305 9.3222 138.186 9.41473C138.071 9.49101 137.946 9.55007 137.815 9.58821C137.649 9.64412 137.47 9.64967 137.3 9.60421C137.219 9.58443 137.144 9.54519 137.081 9.48978C137.005 9.42056 136.946 9.33472 136.908 9.23878C136.855 9.09669 136.83 8.94521 136.836 8.79338V5.76662H138.931C139.051 5.76662 139.159 5.71741 139.253 5.62267C139.295 5.58108 139.329 5.5314 139.352 5.4765C139.376 5.42159 139.388 5.36254 139.389 5.30276V4.02193C139.389 3.96024 139.377 3.89918 139.353 3.84249C139.329 3.78579 139.294 3.73465 139.25 3.69219C139.165 3.60724 139.05 3.55916 138.931 3.55807H136.835V1.49717C136.838 1.43555 136.827 1.37406 136.805 1.31679C136.782 1.25952 136.748 1.20777 136.704 1.16497C136.627 1.08454 136.521 1.03854 136.41 1.03701H134.784C134.695 1.03555 134.609 1.06135 134.535 1.11101C134.462 1.16066 134.405 1.23182 134.372 1.31507C134.349 1.37287 134.338 1.43484 134.339 1.49717V3.55684H133.411C133.353 3.55549 133.294 3.5675 133.241 3.59199C133.188 3.61647 133.14 3.65281 133.102 3.69834C133.025 3.78687 132.982 3.90193 132.984 4.0207V5.304C132.985 5.39177 133.01 5.47753 133.055 5.55238C133.1 5.62724 133.164 5.68846 133.24 5.72971C133.294 5.75555 133.352 5.76908 133.41 5.76662H134.339V9.36551C134.339 9.84536 134.423 10.2588 134.581 10.5996C134.741 10.9367 134.951 11.2197 135.204 11.4313C135.466 11.6503 135.766 11.8128 136.088 11.9087C136.415 12.0121 136.755 12.0638 137.096 12.0638C137.562 12.0638 138.004 11.9887 138.421 11.8423C138.817 11.7053 139.175 11.4722 139.463 11.1631C139.647 10.9404 139.668 10.6943 139.518 10.4483L138.958 9.51316V9.51193ZM147.78 3.55684H146.171C146.116 3.55785 146.061 3.57036 146.01 3.59363C145.959 3.6169 145.914 3.65043 145.876 3.69219C145.835 3.73558 145.802 3.78651 145.779 3.84229C145.758 3.89876 145.746 3.95885 145.747 4.01947V4.22371C145.544 3.98167 145.295 3.78409 145.014 3.64297C144.609 3.43011 144.136 3.32553 143.601 3.32553C143.092 3.32553 142.591 3.42765 142.117 3.6319C141.638 3.83631 141.204 4.13534 140.84 4.51162C140.46 4.9102 140.158 5.37925 139.952 5.89335C139.722 6.47038 139.608 7.08828 139.618 7.71064C139.618 8.37505 139.729 8.98655 139.95 9.52792C140.173 10.0619 140.468 10.5331 140.833 10.9158C141.188 11.2943 141.614 11.5956 142.087 11.8014C142.56 12.0072 143.069 12.1132 143.584 12.113C144.076 12.1217 144.563 12.0125 145.006 11.7943C145.314 11.6343 145.559 11.4412 145.747 11.2148V11.4326C145.745 11.4921 145.756 11.5513 145.778 11.6062C145.801 11.6612 145.834 11.7106 145.877 11.7512C145.916 11.7913 145.961 11.8232 146.012 11.8452C146.062 11.8671 146.116 11.8787 146.171 11.8792H147.78C147.837 11.8806 147.893 11.8699 147.946 11.8476C147.998 11.8254 148.046 11.7921 148.085 11.75C148.166 11.6649 148.21 11.5508 148.208 11.4326V4.0207C148.21 3.90149 148.167 3.78617 148.087 3.69834C148.049 3.65272 148.002 3.61618 147.948 3.59129C147.895 3.56679 147.838 3.555 147.78 3.55684ZM145.606 8.4907C145.437 8.95456 145.095 9.33232 144.655 9.54269C144.43 9.64997 144.184 9.70423 143.936 9.70141C143.685 9.70141 143.446 9.64727 143.224 9.54146C143.004 9.43906 142.806 9.2934 142.642 9.11285C142.477 8.9323 142.349 8.72044 142.266 8.48947C142.175 8.24565 142.129 7.98721 142.129 7.72663C142.129 7.44979 142.174 7.19018 142.264 6.94903C142.353 6.71894 142.481 6.50855 142.645 6.32891C142.812 6.15296 143.008 6.00901 143.224 5.90812C143.447 5.8023 143.69 5.74817 143.936 5.7494C144.199 5.7494 144.438 5.80353 144.655 5.90935C144.874 6.01393 145.066 6.15542 145.226 6.32891C145.388 6.50486 145.517 6.71402 145.606 6.94903C145.796 7.44486 145.796 7.99486 145.606 8.4907ZM156.622 9.40119L155.699 8.67157C155.522 8.52638 155.355 8.48701 155.21 8.54853C155.079 8.60436 154.964 8.69079 154.872 8.80076C154.673 9.05649 154.434 9.27863 154.167 9.45902C153.934 9.60913 153.629 9.68418 153.269 9.68418C153.004 9.68418 152.76 9.63496 152.542 9.53407C152.327 9.43495 152.134 9.2917 151.975 9.11328C151.812 8.93013 151.686 8.71715 151.602 8.48578C151.515 8.24262 151.471 7.98546 151.474 7.72663C151.474 7.4461 151.515 7.18772 151.602 6.94903C151.687 6.71279 151.811 6.50239 151.975 6.33014C152.138 6.15296 152.332 6.01024 152.546 5.90935C152.772 5.80107 153.019 5.74694 153.269 5.7494C153.629 5.7494 153.931 5.82814 154.167 5.97948C154.406 6.13451 154.646 6.35598 154.873 6.63651C154.968 6.7497 155.079 6.83337 155.21 6.88997C155.358 6.94903 155.523 6.90965 155.695 6.7657L156.618 6.03485C156.732 5.95424 156.817 5.83809 156.861 5.70387C156.886 5.63045 156.896 5.55227 156.889 5.47473C156.882 5.39719 156.858 5.32214 156.82 5.25478C156.464 4.67928 155.973 4.20275 155.391 3.86813C154.781 3.51009 154.05 3.32553 153.232 3.32553C152.668 3.32238 152.109 3.43311 151.588 3.65129C151.066 3.86947 150.593 4.19076 150.194 4.59652C149.805 4.99271 149.497 5.4701 149.29 5.99547C149.07 6.54494 148.957 7.13314 148.96 7.72663C148.96 8.33567 149.072 8.91765 149.29 9.45164C149.5 9.97332 149.807 10.4458 150.194 10.8395C150.593 11.2451 151.067 11.5663 151.588 11.7846C152.11 12.003 152.668 12.1142 153.232 12.1117C154.05 12.1117 154.781 11.9284 155.391 11.5654C155.976 11.232 156.468 10.7537 156.822 10.1751C156.86 10.1101 156.882 10.0374 156.889 9.96225C156.896 9.88643 156.886 9.80992 156.861 9.73832C156.813 9.60626 156.731 9.49007 156.622 9.40242V9.40119ZM165.194 11.1299L162.647 7.26277L164.827 4.29138C164.941 4.12036 164.971 3.95672 164.918 3.80292C164.88 3.69219 164.777 3.55684 164.514 3.55684H162.789C162.69 3.55775 162.593 3.58219 162.506 3.62821C162.398 3.68359 162.309 3.77173 162.253 3.88043L160.511 6.39904H160.089V0.447649C160.091 0.329229 160.048 0.214475 159.969 0.127748C159.929 0.0869473 159.881 0.0547186 159.828 0.0329554C159.776 0.0111921 159.719 0.000333517 159.663 0.00101762H158.051C157.964 0.00131009 157.88 0.0270233 157.807 0.0750545C157.735 0.123086 157.678 0.191382 157.643 0.271703C157.62 0.327334 157.608 0.387308 157.61 0.447649V11.4313C157.61 11.5581 157.656 11.6688 157.743 11.75C157.783 11.7911 157.831 11.8236 157.884 11.8456C157.937 11.8676 157.993 11.8786 158.051 11.878H159.664C159.721 11.8798 159.777 11.8692 159.83 11.8469C159.882 11.8246 159.929 11.7912 159.968 11.7488C160.007 11.7068 160.038 11.657 160.058 11.6024C160.08 11.5477 160.09 11.489 160.087 11.4301V8.52392H160.555L162.456 11.5335C162.592 11.7635 162.779 11.8792 163.013 11.8792H164.817C165.091 11.8792 165.205 11.7439 165.251 11.6307C165.316 11.4707 165.297 11.3083 165.194 11.1311V11.1299ZM125.015 3.55684H123.213C123.146 3.55424 123.079 3.56628 123.017 3.59218C122.954 3.61807 122.898 3.6572 122.852 3.70695C122.774 3.79331 122.72 3.89895 122.695 4.01332L121.365 9.14035H121.041L119.61 4.01332C119.586 3.90347 119.539 3.79998 119.473 3.70941C119.435 3.66072 119.386 3.62162 119.331 3.59516C119.276 3.5687 119.215 3.55559 119.154 3.55684H117.285C117.044 3.55684 116.892 3.63805 116.835 3.79431C116.786 3.94184 116.785 4.10149 116.832 4.24955L119.116 11.4658C119.152 11.5802 119.213 11.675 119.292 11.7512C119.337 11.7944 119.391 11.828 119.449 11.8499C119.507 11.8719 119.57 11.8818 119.632 11.8792H120.598L120.518 12.113L120.288 12.786C120.225 12.9927 120.103 13.1754 119.937 13.3101C119.784 13.4312 119.595 13.4954 119.402 13.4922C119.234 13.4914 119.069 13.4536 118.918 13.3815C118.768 13.312 118.625 13.2257 118.494 13.1243C118.375 13.0381 118.234 12.9889 118.089 12.9829H118.069C117.912 12.9829 117.775 13.0739 117.665 13.2486L117.091 14.1197C116.858 14.4938 116.987 14.7399 117.139 14.8764C117.422 15.152 117.778 15.3673 118.198 15.5211C118.614 15.6749 119.073 15.75 119.56 15.75C120.386 15.75 121.076 15.5199 121.605 15.0548C122.131 14.5922 122.52 13.9635 122.757 13.1797L125.405 4.24955C125.465 4.05884 125.465 3.90012 125.411 3.77093C125.366 3.6725 125.26 3.55684 125.015 3.55684Z"
  fill="#838383"
/>
</svg>
`,SG=`
  <button type="button" id="apple-pay-close-button">
    <svg width="10" height="9" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M5.572 4.033L8.89.71a.4.4 0 0 0-.566-.566L5.003 3.459 1.681.145a.4.4 0 0 0-.566.566L4.44 4.033
      1.115 7.354a.398.398 0 0 0 0 .566.4.4 0 0 0 .566 0l3.322-3.33 3.322 3.33a.4.4 0 0 0 .566-.566L5.57 4.033z"
        fill="white"
      />
    </svg>
  </button>
`,CG=`
<svg width="74" height="19" viewBox="0 0 74 19" fill="none" xmlns="http://www.w3.org/2000/svg" id="vault-logo">
  <g clip-path="url(#clip0_9910_9664)">
    <path
      d="M32.1273 15.8163H28.9432C28.6448 15.8163 28.4481 15.6622 28.3497 15.3507L25.1886 6.20188C25.1165 6.01825 25.1296 5.85101 25.2214 5.70345C25.3132 5.55589 25.451 5.48047 25.6346 5.48047H27.9693C28.2513 5.48047 28.435 5.63787 28.5202 5.94611L30.6648 12.9077L32.5536 5.94611C32.6388 5.63459 32.829 5.48047 33.1274 5.48047H35.4195C35.6031 5.48047 35.7441 5.55589 35.8425 5.70345C35.9409 5.85101 35.954 6.01825 35.8851 6.20188L32.7241 15.3507C32.6257 15.6622 32.4257 15.8163 32.1305 15.8163H32.1273Z"
      fill="#343C43" />
    <path
      d="M37.6361 14.5842C36.6097 13.5644 36.0981 12.2495 36.0981 10.6362C36.0981 9.02283 36.6097 7.71118 37.6361 6.69792C38.6624 5.68795 39.8757 5.17969 41.2759 5.17969C41.9416 5.17969 42.5384 5.31085 43.0696 5.57318C43.6008 5.83551 43.9943 6.16998 44.2468 6.57988V5.94373C44.2468 5.81584 44.2927 5.70763 44.3845 5.61581C44.4763 5.524 44.578 5.47809 44.6927 5.47809H46.8373C46.9652 5.47809 47.0701 5.524 47.1554 5.61581C47.2406 5.70763 47.2833 5.81584 47.2833 5.94373V15.3679C47.2833 15.4958 47.2406 15.6008 47.1554 15.686C47.0701 15.7713 46.9652 15.8139 46.8373 15.8139H44.6927C44.578 15.8139 44.4763 15.7713 44.3845 15.686C44.2927 15.6008 44.2468 15.4958 44.2468 15.3679V14.7088C43.991 15.1187 43.6008 15.4565 43.0696 15.7155C42.5384 15.9779 41.935 16.109 41.2562 16.109C39.8691 16.109 38.6624 15.6008 37.6361 14.581V14.5842ZM39.9151 8.79985C39.433 9.31795 39.1936 9.93443 39.1936 10.6558C39.1936 11.3772 39.433 11.997 39.9151 12.5118C40.3971 13.0299 40.9972 13.2857 41.7186 13.2857C42.44 13.2857 43.0401 13.0266 43.5221 12.5118C44.0041 11.997 44.2435 11.3772 44.2435 10.6558C44.2435 9.93443 44.0041 9.31467 43.5221 8.79985C43.0401 8.28502 42.44 8.02597 41.7186 8.02597C40.9972 8.02597 40.3938 8.28502 39.9151 8.79985Z"
      fill="#343C43" />
    <path
      d="M51.6315 5.9016V11.2302C51.6315 11.9385 51.8086 12.4959 52.1627 12.9058C52.5169 13.3157 53.0415 13.5223 53.7334 13.5223C54.4253 13.5223 54.9401 13.319 55.3139 12.9058C55.6878 12.4959 55.878 11.9516 55.878 11.2728V5.9016C55.878 5.78683 55.9239 5.68845 56.0157 5.60319C56.1075 5.51794 56.2092 5.47531 56.3239 5.47531H58.4685C58.6095 5.47531 58.7242 5.52122 58.8095 5.61303C58.8948 5.70485 58.9374 5.81306 58.9374 5.94094V15.3652C58.9374 15.4931 58.8948 15.598 58.8095 15.6832C58.7242 15.7685 58.6128 15.8111 58.4685 15.8111H56.3239C56.196 15.8111 56.0911 15.7718 56.0058 15.6931C55.9206 15.6144 55.878 15.5127 55.878 15.3848V14.7257C55.1139 15.6472 54.081 16.1062 52.7792 16.1062C51.4774 16.1062 50.4707 15.7062 49.7132 14.9061C48.9557 14.106 48.5786 13.0501 48.5786 11.7319V5.89504C48.5786 5.78027 48.6278 5.68189 48.7262 5.59664C48.8246 5.51138 48.9295 5.46875 49.0442 5.46875H51.1658C51.2937 5.46875 51.4019 5.51138 51.4938 5.59664C51.5856 5.68189 51.6315 5.78027 51.6315 5.89504V5.9016Z"
      fill="#343C43" />
    <path
      d="M62.9872 15.8148C62.0658 15.8148 61.387 15.582 60.9509 15.113C60.5115 14.6474 60.2917 14.0178 60.2917 13.2243V1.42267C60.2917 1.29478 60.3344 1.18657 60.4196 1.09475C60.5049 1.00294 60.6164 0.957031 60.7607 0.957031H62.8823C63.0233 0.957031 63.138 1.00294 63.2233 1.09475C63.3085 1.18657 63.3512 1.29478 63.3512 1.42267V12.6078C63.3512 12.8045 63.4069 12.9652 63.5217 13.0865C63.6332 13.2079 63.7906 13.2669 63.9873 13.2669H64.6464C64.9448 13.2669 65.0924 13.4144 65.0924 13.7129V15.2409C65.0924 15.6246 64.8956 15.8148 64.4989 15.8148H62.9905H62.9872Z"
      fill="#343C43" />
    <path
      d="M66.722 12.7378V8.04861H65.3644C65.2365 8.04861 65.1316 8.00271 65.0463 7.91089C64.9611 7.81907 64.9185 7.71086 64.9185 7.58298V5.94997C64.9185 5.82208 64.9611 5.71387 65.0463 5.62206C65.1316 5.53024 65.2365 5.48433 65.3644 5.48433H66.722V2.74626C66.722 2.60526 66.7679 2.49049 66.8597 2.40523C66.9515 2.31997 67.0597 2.27734 67.1876 2.27734H69.3518C69.4666 2.27734 69.5683 2.31997 69.6601 2.40523C69.7519 2.49049 69.7978 2.60198 69.7978 2.74626V5.48433H72.7064C72.8343 5.48433 72.9458 5.53024 73.0474 5.62206C73.1458 5.71387 73.195 5.82208 73.195 5.94997V7.58298C73.195 7.69775 73.1458 7.80268 73.0474 7.90105C72.949 7.99943 72.8343 8.04861 72.7064 8.04861H69.7978V12.0164C69.7978 12.4689 69.9027 12.7804 70.1159 12.9509C70.329 13.1214 70.5684 13.2067 70.8373 13.2067C71.1193 13.2067 71.4308 13.1083 71.7718 12.9083C72.1555 12.6689 72.4441 12.6951 72.6408 12.9935L73.3852 14.1806C73.5557 14.4495 73.5327 14.7052 73.3229 14.9446C72.6146 15.6792 71.5948 16.0497 70.2667 16.0497C69.2764 16.0497 68.437 15.7742 67.7516 15.2234C67.0663 14.6725 66.722 13.8428 66.722 12.741V12.7378Z"
      fill="#343C43" />
    <path
      d="M15.2266 0H4.43496C2.26089 0 0.5 1.76089 0.5 3.93496V14.7266C0.5 16.9006 2.26089 18.6615 4.43496 18.6615H15.2266C17.4006 18.6615 19.1615 16.9006 19.1615 14.7266V3.93496C19.1615 1.76089 17.4006 0 15.2266 0ZM15.079 12.2312L12.1442 14.6118C11.9114 14.8086 11.5507 14.6807 11.4949 14.379L10.8161 11.8934C10.7702 11.6934 10.8489 11.4868 11.0096 11.3589C11.4425 11.0113 11.7179 10.4801 11.7179 9.8833C11.7179 8.44048 10.098 7.37476 8.5765 8.40113C8.48468 8.46344 8.40598 8.54214 8.34368 8.63723C7.63539 9.68983 7.92723 10.7883 8.65192 11.3655C8.8126 11.4934 8.88474 11.6967 8.84211 11.8967L8.22891 14.3823C8.17317 14.6839 7.81246 14.8118 7.57964 14.6151L4.57924 12.2344C4.47431 12.1262 4.41856 11.9787 4.4284 11.8278L4.77271 6.69271C4.78582 6.49268 4.91371 6.31561 5.09734 6.23691L9.41924 4.03661C9.68157 3.9284 9.97341 3.9284 10.2357 4.03661L14.5576 6.23691C14.7445 6.31561 14.8691 6.49268 14.8855 6.69271L15.2299 11.8278C15.2397 11.9787 15.1839 12.1262 15.079 12.2344V12.2312Z"
      fill="#343C43" />
  </g>
  <defs>
    <clipPath id="clip0_9910_9664">
      <rect width="73" height="18.6615" fill="white" transform="translate(0.5)" />
    </clipPath>
  </defs>
</svg>
`,s4={height:"50px",width:"auto",borderRadius:"3px",padding:"10px",locale:"en",type:"pay"},$7=function(t){return t&&Xh(t)==="object"?Object.keys(s4).reduce((function(e,r){return ia(ia({},e),{},OI({},r,t[r]||s4[r]))}),{}):s4},NG=`
  .pre-checkout-modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.75);
    transition: all 0.2s ease;
  }

  .pre-checkout-modal.show {
    display: block;
  }

  .pre-checkout-modal__content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    margin-left: auto;
    margin-right: auto;
    background-color: #fefefe;
    padding: 20px;
    padding-bottom: max(30px, env(safe-area-inset-bottom));
    width: 100%;
    border-radius: 6px 6px 0 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 350px;

    box-sizing: border-box;
    transform: translateY(238px);
    transition: transform 0.3s cubic-bezier(.16,.81,.32,1);
  }

  .modal-wrapper {
    width: 100%;
  }

  .payment-info {
    position: relative;
    padding-bottom: 15px;
    border-bottom: solid 1px whitesmoke;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    width: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .customer-email {
    color: #737373;
    font-size: 13px;
    line-height: 16px;
  }

  .customer-info {
    flex: 1;
    text-align: right;
  }

  .merchant-logo {
    display: flex;
    align-items: center;
    height: 30px;
  }
  .transaction-amount {
    margin-top: 5px;
    font-size: 13px;
    line-height: 16px;
    color: #737373;
  }

  .amount {
    color: #29b263;
    font-weight: bold;
  }

  @media only screen and (min-width: 500px) {
    .pre-checkout-modal__content {
      bottom: 0;
      top: 0;
      margin: auto;
      border-radius: 6px;
      height: fit-content;
    }
  }

  .pre-checkout-modal__content.show {
    transform: translateY(0);
    margin: 0 auto;
    margin-top: 100px;
  }

  .pre-checkout-modal__content > * {
    margin-top: 0;
    margin-bottom: 40px;
  }
  .pre-checkout-modal__content > *:last-child {
    margin-bottom: 0;
  }

  .pre-checkout-modal__content svg {
    margin: auto;
    width: 100%;
  }

  #inline-button-wordmark--white {
    position: absolute;
    bottom: -50px;
    margin: auto;
    left: 0;
    right: 0;
    width: fit-content;
  }

  #inline-button-wordmark--grey {
    display: none;
  }

  .pre-checkout-modal__content #apple-pay-mark--light {
    margin-bottom: 16px;
  }

  .pre-checkout-modal p {
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    color: #4E4E4E;
    line-height: 140%;
    font-size: 14px;
    font-weight: 500;
    margin: 0;
    padding: 0 20px;
    text-align: center;
    letter-spacing: -0.3px;
  }

  .pre-checkout-modal button {
    height: 42px;
    width: 100%;
    
    box-sizing: border-box;
    border-radius: 3px;
    font-size: 14px;
    line-height: 24px;
    cursor: pointer;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .pre-checkout-modal .open-paystack-pop-button {
    background: #FAFAFA;
    border: 1px solid #F2F3F3;
    color: #4E4E4E;
    font-weight: 500;
  }

  .pre-checkout-modal .open-paystack-pop-button:hover, 
  .pre-checkout-modal .open-paystack-pop-button:active, 
  .pre-checkout-modal .open-paystack-pop-button:focus {
    background: #F2F3F3;
  }

  .pre-checkout-modal .pay-with-vault-button {
    font-weight: 700;
    background: #44b669;
    background: linear-gradient(to bottom, #44b669 0%, #40ad57 100%);
    border: solid 1px #49a861;
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);
    outline: none;
    color: white;
    transition: all 300ms;
  }

  .pre-checkout-modal .vault-instruction {
    color: #2f3d4d;
    font-size: 14px;
    letter-spacing: normal;
    line-height: 1.4;
    margin: 0 auto 24px;
    padding: 0;
  }
  .vault-logo-container {
    width: 74px;
    height: 20px;
    margin: 0 auto 24px
  }
  .vault-logo-container img {
    height: 100%;
    width: 100%;
    border-radius: 8px;
  }
  .vault-divider {
    margin-bottom: 16px;
    margin-top: 24px;
    position: relative;
  }
  .vault-divider__container {
    align-items: center;
    bottom: 0;
    display: flex;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
  }
  .vault-divider__line {
    border: 1px dashed #ccced0;
    width: 100%;
  }
  .vault-divider__text-container {
    display: flex;
    justify-content: center;
    position: relative;
  }
  .vault-divider__text {
    background-color: #fff;
    color: #999da1;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: -.3px;
    line-height: 19.6px;
    margin-bottom: 2px;
    padding: 0 8px;
  }

  #payment-request-button {
    width: 100%;
    height: fit-content;
    margin: 24px 0 16px 0;
  }

  #paystackpop-button {
    padding: 0 16px;
  }

  #apple-pay-close-button {
    position: absolute;
    text-align: center;
    top: 0;
    right: -26px;
    height: 16px;
    width: 16px;
    padding: 0;
    display: inline-block;
    z-index: 3;
    border-radius: 50%;
    background: transparent;
    transition: all 300ms;
    outline: none;
    cursor: pointer;
    border: none;
  }

  #apple-pay-close-button svg {
    width: initial;
  }
  
  #apple-pay-close-button:hover {
    background-color: #e22b28;
  }

  @media only screen and (max-width: 500px) {
    .pre-checkout-modal__content {
      max-width: 500px;
      border-radius: 0;
      padding-bottom: 0;
    }

    .modal-wrapper {
      padding: 0;
    }

    .vault-logo-container {
      width: 74px;
      height: 20px;
    }

    #inline-button-wordmark--white {
      display: none
    }
    
    #inline-button-wordmark--grey {
      display: block;
      width: 100%;
      margin: 16px 0;
      height: 13px;
    }

    #apple-pay-close-button {
      display: none;
    }
  }
`,q7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Number(parseFloat(t/100).toFixed(2))},H7={headers:{accept:"application/json, text/plain, */*","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","content-type":"application/x-www-form-urlencoded","sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"},referrerPolicy:"no-referrer-when-downgrade",method:"POST",mode:"cors",credentials:"omit"};function W7(t){return Object.keys(t).reduce((function(e,r){var n=encodeURIComponent(r),i=encodeURIComponent(t[r]),a="".concat(n,"=").concat(i);return[].concat(MI(e),[a])}),[]).join("&")}var AG=function(t){return{biannually:"BIANNUAL PLAN",annually:"ANNUAL PLAN"}[t]||"".concat(t.toUpperCase()," PLAN")},$I=function(){try{return window.location&&window.location.protocol==="https:"&&window.ApplePaySession&&window.ApplePaySession.supportsVersion(zo.applePayVersion)}catch{return!1}},K3=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $I()&&t.includes("apple_pay")};function TG(){var t=0;return Array.from(document.querySelectorAll("body *")).forEach((function(e){var r=window.getComputedStyle(e),n=parseFloat(r.zIndex);!Number.isNaN(n)&&n>t&&(t=n)})),t}function o4(t){var e=document.createElement("iframe");return e.setAttribute("frameBorder","0"),e.setAttribute("allowtransparency","true"),e.id=t,e.style.display="none",e}function Vx(t){return t.querySelector("apple-pay-button")||t.querySelector("#apple-pay-button")}function ex(t){return document.querySelector("#".concat(t))}function G7(t,e,r){var n=e.channels,i=n===void 0?[]:n,a=e.styles,s=a===void 0?{}:a,o={applePay:!1};return new Promise((function(l,c){if(t)if(K3(i)){if(Vx(t))return o.applePay=!0,void l(o);(function(f,p){var g=p.container,m=p.integrity;return new Promise((function(y,w){var k=document.createElement("script");k.src=f,k.crossOrigin="anonymous",m&&(k.integrity=m),k.addEventListener("load",(function(){y(!0)})),k.addEventListener("error",(function(){k.remove(),w(!1)})),g?g.appendChild(k):document.head.appendChild(k)}))})("https://applepay.cdn-apple.com/jsapi/v1.1.0/apple-pay-sdk.js",{container:t,integrity:"sha384-z/6BVHCcSypLSykOVpaT1PQWHOOgU45uOOlMkgi/bElX4yFqmChNMb7qiv80wFav"}).then((function(){if(r&&r!==1077497&&window&&!Array.isArray(window.webpackJsonp))throw new Error("Incorrect data type for 'webpackJsonp', expected array, got ".concat(Xh(window.webpackJsonp),". Switching to fallback apple pay button"));(function(f,p){var g,m,y,w,k,N=p.styles,L=p.theme,P=document.createElement("style"),V=(m=(g=N).height,y=g.width,w=g.borderRadius,k=g.padding,`
  apple-pay-button {
    --apple-pay-button-width: `.concat(y,`;
    --apple-pay-button-height: `).concat(m,`;
    --apple-pay-button-border-radius: `).concat(w,`;
    --apple-pay-button-padding: `).concat(k,`;
    --apple-pay-button-box-sizing: border-box;
    width: `).concat(y,`;
  }
`));P.type="text/css",P.styleSheet?P.styleSheet.cssText=V:P.appendChild(document.createTextNode(V)),f.appendChild(P);var Y=document.createElement("apple-pay-button");Y.setAttribute("buttonstyle",L==="light"?"white":"black"),Y.setAttribute("type",N.type),Y.setAttribute("locale",N.locale),f.appendChild(Y)})(t,{styles:$7(s.applePay),theme:s.theme}),o.applePay=!0,l(o)})).catch((function(){(function(f,p){var g,m,y,w,k,N,L,P=p.styles,V=p.theme,Y=document.createElement("style"),Q=(m=(g=P).height,y=g.width,w=g.borderRadius,k=g.padding,N=g.type,L=g.locale,`
  @supports (-webkit-appearance: -apple-pay-button) { 
    .apple-pay-button {
        display: inline-block;
        -webkit-appearance: -apple-pay-button;
        width: `.concat(y,`;
        height: `).concat(m,`;
        border-radius: `).concat(w,`;
        padding: `).concat(k,`;
        -apple-pay-button-type: `).concat(N,`;
        -webkit-locale: `).concat(L,`;
    }
    .apple-pay-button-black {
        -apple-pay-button-style: black;
    }
    .apple-pay-button-white {
        -apple-pay-button-style: white;
    }
    .apple-pay-button-white-with-line {
        -apple-pay-button-style: white-outline;
    }
  }

  @supports not (-webkit-appearance: -apple-pay-button) {
    .apple-pay-button {
        display: inline-block;
        background-size: 100% 60%;
        background-repeat: no-repeat;
        background-position: 50% 50%;
        border-radius: 5px;
        padding: 0px;
        box-sizing: border-box;
        min-width: 200px;
        min-height: 32px;
        max-height: 64px;
    }
    .apple-pay-button-black {
        background-image: -webkit-named-image(apple-pay-logo-white);
        background-color: black;
    }
    .apple-pay-button-white {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
    }
    .apple-pay-button-white-with-line {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
        border: .5px solid black;
    }
  }
`));Y.type="text/css",Y.styleSheet?Y.styleSheet.cssText=Q:Y.appendChild(document.createTextNode(Q)),f.appendChild(Y);var R=document.createElement("button");R.classList.add("apple-pay-button",V==="light"?"apple-pay-button-white":"apple-pay-button-black"),R.id="apple-pay-button";var T=document.createElement("span");T.classList.add("logo"),R.appendChild(T),f.appendChild(R)})(t,{styles:$7(s.applePay),theme:s.theme}),o.applePay=!0,l(o)}))}else c("No wallet payment method is available on this device");else c("Container to mount elements was not provided")}))}function IG(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var qI="payment-request-button",HI="paystackpop-button",WI="pay-with-vault-button";function GI(t){var e=document.createElement("button");return e.id=HI,e.className="open-paystack-pop-button",e.innerText=t,e}function K7(t){return t.querySelector("#".concat(HI))}function KI(){var t=document.createElement("div");return t.id=qI,t}function l4(t){return t.querySelector("#".concat(qI))}function PG(){var t=document.createElement("button");return t.className="pay-with-vault-button",t.id=WI,t.innerText="Pay with Vault",t}function RG(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=document.createElement("div");r.className="vault-logo-container",r.innerHTML=CG,t.appendChild(r);var n=document.createElement("p");n.id="instruction",n.className="vault-instruction",n.innerHTML="Access your saved cards and bank details for faster, more secure payments",t.appendChild(n);var i=PG();t.appendChild(i);var a=document.createElement("div");if(a.className="vault-divider",a.innerHTML='<div id="vault-divider" class="vault-divider__container"><div class="vault-divider__line"></div></div><div class="vault-divider__text-container"><span class="vault-divider__text">or</span></div>',t.appendChild(a),e.canPayWithApplePay){var s=KI();t.appendChild(s)}if(e.hasOtherPaymentMethods){var o=GI("Use other payment methods");t.appendChild(o)}}function FG(t,e){var r=e.hasOtherPaymentMethods,n=document.createElement("div");n.innerHTML=`
  <svg width="51" height="32" viewBox="0 0 51 32" fill="none" xmlns="http://www.w3.org/2000/svg" id="apple-pay-mark--light">
    <g>
    <path d="M46.0162 0H4.98386C4.81297 0 4.64177 0 4.47118 0.000996555C4.32698 0.00202331 4.18311 0.00362383 4.03925 0.00754966C3.72548 0.0160355 3.40903 0.0345472 3.09919 0.0902335C2.7844 0.146886 2.49148 0.239294 2.20571 0.384791C1.92477 0.52766 1.66757 0.71453 1.44468 0.937516C1.22169 1.1605 1.03482 1.41728 0.891977 1.69852C0.74645 1.98429 0.653982 2.27731 0.597722 2.59234C0.541737 2.90227 0.523101 3.21866 0.514645 3.53209C0.51078 3.67596 0.509122 3.81982 0.508183 3.96366C0.507186 4.13461 0.507519 4.30545 0.507519 4.4767V27.5236C0.507519 27.6949 0.507186 27.8654 0.508183 28.0367C0.509122 28.1805 0.51078 28.3244 0.514645 28.4683C0.523101 28.7814 0.541737 29.0978 0.597722 29.4077C0.653982 29.7228 0.74645 30.0157 0.891977 30.3015C1.03482 30.5827 1.22169 30.8399 1.44468 31.0625C1.66757 31.2859 1.92477 31.4727 2.20571 31.6152C2.49148 31.7611 2.7844 31.8535 3.09919 31.9102C3.40903 31.9655 3.72548 31.9843 4.03925 31.9928C4.18311 31.9961 4.32698 31.998 4.47118 31.9987C4.64177 32 4.81297 32 4.98386 32H46.0162C46.1868 32 46.358 32 46.5286 31.9987C46.6724 31.998 46.8163 31.9961 46.9608 31.9928C47.2739 31.9843 47.5903 31.9655 47.9009 31.9102C48.2153 31.8535 48.5083 31.7611 48.7941 31.6152C49.0753 31.4727 49.3317 31.2859 49.5551 31.0625C49.7777 30.8399 49.9646 30.5827 50.1078 30.3015C50.2537 30.0157 50.346 29.7228 50.402 29.4077C50.458 29.0978 50.4762 28.7814 50.4847 28.4683C50.4886 28.3244 50.4906 28.1805 50.4912 28.0367C50.4925 27.8654 50.4926 27.6949 50.4926 27.5236V4.4767C50.4926 4.30545 50.4925 4.13461 50.4912 3.96366C50.4906 3.81982 50.4886 3.67596 50.4847 3.53209C50.4762 3.21866 50.458 2.90227 50.402 2.59234C50.346 2.27731 50.2537 1.98429 50.1078 1.69852C49.9646 1.41728 49.7777 1.1605 49.5551 0.937516C49.3317 0.71453 49.0753 0.52766 48.7941 0.384791C48.5083 0.239294 48.2153 0.146886 47.9009 0.0902335C47.5903 0.0345472 47.2739 0.0160355 46.9608 0.00754966C46.8163 0.00362383 46.6724 0.00202331 46.5286 0.000996555C46.358 0 46.1868 0 46.0162 0Z" fill="black"/>
    <path d="M46.0162 1.06662L46.521 1.06759C46.6577 1.06855 46.7945 1.07003 46.932 1.07378C47.1711 1.08024 47.4509 1.09319 47.7117 1.13994C47.9384 1.18077 48.1285 1.24286 48.311 1.33575C48.4911 1.42728 48.6562 1.54723 48.8003 1.69113C48.9449 1.83599 49.065 2.0013 49.1578 2.18343C49.2501 2.36447 49.3118 2.55369 49.3524 2.78205C49.3991 3.04001 49.412 3.32055 49.4185 3.56121C49.4222 3.69704 49.424 3.83287 49.4247 3.97194C49.426 4.14012 49.4259 4.3082 49.4259 4.47671V27.5236C49.4259 27.6921 49.426 27.8599 49.4246 28.0317C49.424 28.1675 49.4222 28.3033 49.4185 28.4394C49.4119 28.6797 49.3991 28.9601 49.3519 29.2211C49.3118 29.4463 49.2502 29.6356 49.1573 29.8175C49.0648 29.9992 48.9449 30.1643 48.8009 30.3083C48.656 30.4532 48.4915 30.5728 48.3092 30.6652C48.1281 30.7576 47.9383 30.8197 47.7138 30.8601C47.4477 30.9075 47.1562 30.9205 46.9367 30.9265C46.7986 30.9296 46.6611 30.9315 46.5203 30.9321C46.3525 30.9334 46.1841 30.9334 46.0162 30.9334H4.98386C4.98162 30.9334 4.97945 30.9334 4.97718 30.9334C4.81127 30.9334 4.64503 30.9334 4.4761 30.9321C4.33836 30.9315 4.20093 30.9296 4.06805 30.9266C3.8435 30.9205 3.55181 30.9075 3.2879 30.8604C3.06151 30.8197 2.87171 30.7576 2.68822 30.664C2.50766 30.5724 2.34329 30.453 2.19831 30.3077C2.05444 30.1641 1.93488 29.9995 1.84245 29.8176C1.74992 29.6358 1.68801 29.446 1.64731 29.218C1.60025 28.9576 1.58733 28.6783 1.58087 28.4396C1.57718 28.303 1.57564 28.1664 1.57476 28.0305L1.5741 27.6295L1.57413 27.5236V4.47671L1.5741 4.37083L1.57473 3.97067C1.57564 3.83402 1.57718 3.6974 1.58087 3.56088C1.58733 3.32197 1.60025 3.04258 1.64769 2.77991C1.68804 2.55405 1.74992 2.36422 1.84293 2.18155C1.93464 2.001 2.05441 1.83617 2.19903 1.69158C2.34308 1.54747 2.50799 1.42767 2.6897 1.33527C2.87122 1.24283 3.06138 1.18077 3.28778 1.14003C3.54864 1.09316 3.82861 1.08024 4.06839 1.07375C4.20507 1.07003 4.34174 1.06855 4.4774 1.06762L4.98386 1.06662H46.0162Z" fill="white"/>
    <path d="M14.1531 10.7629C14.5811 10.2276 14.8715 9.50886 14.7949 8.77435C14.1684 8.80551 13.4038 9.18768 12.9612 9.72342C12.5638 10.1822 12.212 10.9311 12.3037 11.6348C13.007 11.6958 13.7097 11.2832 14.1531 10.7629Z" fill="black"/>
    <path d="M14.7869 11.7722C13.7655 11.7114 12.8972 12.3519 12.4094 12.3519C11.9214 12.3519 11.1745 11.8029 10.3667 11.8177C9.31521 11.8331 8.33959 12.4276 7.80602 13.3731C6.70857 15.2646 7.51641 18.0704 8.58362 19.611C9.10188 20.3731 9.72648 21.2123 10.5495 21.1822C11.3271 21.1517 11.6319 20.6787 12.5771 20.6787C13.5216 20.6787 13.7961 21.1822 14.6192 21.1669C15.4729 21.1516 16.0065 20.4044 16.5248 19.6415C17.1193 18.7727 17.3627 17.9338 17.378 17.8877C17.3627 17.8725 15.732 17.2469 15.7169 15.3711C15.7015 13.8004 16.9972 13.0534 17.0581 13.007C16.3265 11.9249 15.1832 11.8029 14.7869 11.7722Z" fill="black"/>
    <path d="M23.68 9.64661C25.8999 9.64661 27.4457 11.1768 27.4457 13.4046C27.4457 15.6404 25.8681 17.1786 23.6244 17.1786H21.1665V21.0872H19.3907V9.64661H23.68V9.64661ZM21.1665 15.688H23.2041C24.7502 15.688 25.6302 14.8556 25.6302 13.4126C25.6302 11.9697 24.7502 11.1451 23.2121 11.1451H21.1665V15.688Z" fill="black"/>
    <path d="M27.9097 18.7167C27.9097 17.2578 29.0276 16.3619 31.0098 16.2509L33.293 16.1162V15.474C33.293 14.5464 32.6666 13.9914 31.6203 13.9914C30.629 13.9914 30.0106 14.467 29.8601 15.2124H28.2428C28.3379 13.7059 29.6222 12.5959 31.6836 12.5959C33.7053 12.5959 34.9976 13.6663 34.9976 15.3392V21.0872H33.3563V19.7156H33.3169C32.8333 20.6433 31.7787 21.2299 30.6847 21.2299C29.0514 21.2299 27.9097 20.2151 27.9097 18.7167ZM33.293 17.9635V17.3055L31.2395 17.4323C30.2167 17.5037 29.6381 17.9556 29.6381 18.6691C29.6381 19.3985 30.2406 19.8742 31.1603 19.8742C32.3574 19.8742 33.293 19.0496 33.293 17.9635Z" fill="black"/>
    <path d="M36.547 24.1556V22.768C36.6736 22.7997 36.959 22.7997 37.1018 22.7997C37.8946 22.7997 38.3228 22.4668 38.5843 21.6105C38.5843 21.5946 38.7351 21.1031 38.7351 21.0952L35.7224 12.7466H37.5774L39.6866 19.5333H39.7181L41.8273 12.7466H43.6349L40.5109 21.5232C39.7976 23.5451 38.973 24.1952 37.2447 24.1952C37.1018 24.1952 36.6736 24.1793 36.547 24.1556Z" fill="black"/>
    </g>
    <defs>
    <clipPath id="clip0">
    <rect width="49.9851" height="32" fill="white" transform="translate(0.507462)"/>
    </clipPath>
    </defs>
  </svg>
`,t.appendChild(n);var i=document.createElement("p");i.id="apple-pay-description",i.innerHTML="Pay with Apple Pay to complete your purchase without filling a form",t.appendChild(i);var a=KI();if(t.appendChild(a),r){var s=GI("More payment options");t.appendChild(s)}}function X7(t){return t.some((function(e){return e!=="apple_pay"}))}var tx=[{value:"key",required:!0,types:["string"]},{value:"amount",required:!0,or:["plan","planCode"],types:["string","number"]},{value:"currency",required:!1,types:["string"]},{value:"email",required:!0,or:["customerCode"],types:["string"]},{value:"label",required:!1,types:["string"]},{value:"firstName",required:!1,types:["string"]},{value:"lastName",required:!1,types:["string"]},{value:"reference",required:!1,types:["string"]},{value:"phone",required:!1,types:["string"]},{value:"customerCode",required:!1,override:"email",types:["string"]},{value:"channels",required:!1,types:["array"]},{value:"paymentRequest",required:!1,types:["string","number"]},{value:"paymentPage",required:!1,types:["string"]},{value:"hash",required:!1,types:["string"]},{value:"container",required:!1,types:["string"]},{value:"metadata",required:!1,types:["object"]},{value:"subaccountCode",required:!1,types:["string"]},{value:"bearer",required:!1,types:["string"]},{value:"transactionCharge",required:!1,types:["string","number"]},{value:"planCode",required:!1,override:"amount",types:["string"]},{value:"subscriptionCount",required:!1,types:["number"]},{value:"planInterval",required:!1,types:["string"]},{value:"subscriptionLimit",required:!1,types:["number"]},{value:"subscriptionStartDate",required:!1,types:["string"]},{value:"accessCode",required:!1,types:["string"]},{value:"onError",required:!1,types:["function"]},{value:"onLoad",required:!1,types:["function"]},{value:"onSuccess",required:!1,types:["function"]},{value:"onCancel",required:!1,types:["function"]},{value:"callback",required:!1,types:["function"]},{value:"onClose",required:!1,types:["function"]},{value:"onBankTransferConfirmationPending",required:!1,types:["function"]},{value:"firstname",required:!1,types:["string"]},{value:"lastname",required:!1,types:["string"]},{value:"customer_code",required:!1,types:["string"]},{value:"payment_request",required:!1,types:["string","number"]},{value:"subaccount",required:!1,types:["string"]},{value:"transaction_charge",required:!1,types:["number","string"]},{value:"plan",required:!1,types:["string"]},{value:"quantity",required:!1,types:["number"]},{value:"interval",required:!1,types:["string"]},{value:"invoice_limit",required:!1,types:["number","string"]},{value:"start_date",required:!1,types:["string"]},{value:"payment_page",required:!1,types:["number","string"]},{value:"order_id",required:!1,types:["number"]},{value:"ref",required:!1,types:["string"]},{value:"card",required:!1,types:["string"]},{value:"bank",required:!1,types:["string"]},{value:"split",required:!1,types:["object"]},{value:"split_code",required:!1,types:["string"]},{value:"transaction_type",required:!1,types:["string"]},{value:"subscription",required:!1,types:["number"]},{value:"language",required:!1,types:["string"]},{value:"connect_account",required:!1,types:["string"]},{value:"connect_split",required:!1,types:["array"]}];function LG(t){return t?.length>500?t.split("?")[0]:t}function jG(t){var e,r,n,i,a=ia({},t);return a.metadata=t.metadata||{},a.metadata.referrer=(e=window.location,r=e.href,n=r===void 0?"":r,i=e.ancestorOrigins,[n].concat(MI(i===void 0?[]:i)).map(LG).join(",")),a.metadata=JSON.stringify(a.metadata),a.mode="popup",t.split&&typeof t.split!="string"&&(a.split=JSON.stringify(a.split)),a.card!==void 0&&["false",!1].indexOf(a.card)>-1&&(a.channels=["bank"],delete a.card),a.bank!==void 0&&["false",!1].indexOf(a.bank)>-1&&(a.channels=["card"],delete a.bank),[{to:"firstname",from:"firstName"},{to:"lastname",from:"lastName"},{to:"customer_code",from:"customerCode"},{to:"payment_request",from:"paymentRequest"},{to:"subaccount",from:"subaccountCode"},{to:"transaction_charge",from:"transactionCharge"},{to:"plan",from:"planCode"},{to:"quantity",from:"subscriptionCount"},{to:"interval",from:"planInterval"},{to:"invoice_limit",from:"subscriptionLimit"},{to:"start_date",from:"subscriptionStartDate"},{to:"ref",from:"reference"}].forEach((function(s){a[s.from]&&(a[s.to]=a[s.from],delete a[s.from])})),Object.values(t).forEach((function(s,o){if(typeof s=="function"){var l=Object.keys(t)[o];delete a[l]}})),a}var DG=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"],XI=window&&window.navigator&&(window.navigator.platform||window.navigator.userAgentData&&window.navigator.userAgentData.platform),YI=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.platform,r=t.userAgent,n=r===void 0?window&&window.navigator&&window.navigator.userAgent:r,i=e||XI;return DG.includes(i)||n.includes("Mac")&&"ontouchend"in document},OG=function(t,e,r){var n="".concat(zo.paystackApiUrl,"transaction/update_log/").concat(t),i={Authorization:"Bearer ".concat(e)};return fetch(n,{method:"POST",body:JSON.stringify({payload:JSON.stringify(r)}),headers:i})},MG=function(t,e){var r="".concat(zo.paystackApiUrl,"transaction/set_ip/").concat(t),n={Authorization:"Bearer ".concat(e)};return fetch(r,{method:"POST",headers:n})},BG={initializeLog:function(t){var e=t||{},r=e.attempts,n=e.authentication,i=e.errors,a=e.history;this.log={start_time:Math.round(Date.now()/1e3),time_spent:0,attempts:r||0,authentication:n,errors:i||0,success:!1,mobile:YI(),input:[],history:a||[]}},getTimeSpent:function(){var t=Math.round(Date.now()/1e3);return this.log.time_spent=t-this.log.start_time,this.log.time_spent},logAPIResponse:function(t,e){switch(t.status){case"success":return this.logApiSuccess(e);case"failed":return this.logApiError(t.message);default:return!1}},logValidationResponse:function(t){return this.log.history.push({type:"action",message:t,time:this.getTimeSpent()}),this.saveLog()},logAttempt:function(t){var e="Attempted to pay";return t&&(e+=" with ".concat(t)),this.log.attempts+=1,this.log.history.push({type:"action",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiError:function(t){var e="Error";return t&&(e+=": ".concat(t)),this.log.errors+=1,this.log.history.push({type:"error",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiSuccess:function(t){var e="Successfully paid";return t&&(e+=" with ".concat(t)),this.log.success=!0,this.log.history.push({type:"success",message:e,time:this.getTimeSpent()}),this.saveLog()},saveLog:function(){try{if(this.response)return OG(this.id,this.response.merchant_key,this.log)}catch{}},saveIpAddress:function(){try{if(this.response)return MG(this.id,this.response.merchant_key)}catch{}}},VG=["language","connect_account"],UG={requestInline:function(){var t=this,e=this.urlParameters,r=e.language,n=e.connect_account,i=G3(e,VG),a=ia({"Content-Type":"application/json"},r&&{"Accept-Language":r});return(this.accessCode?fetch(new URL("transaction/verify_access_code/".concat(this.accessCode),zo.paystackApiUrl).toString(),{headers:a}):fetch(new URL("/checkout/request_inline",zo.paystackApiUrl).toString(),{method:"POST",body:JSON.stringify(i),headers:ia(ia({},a),n&&{"x-connect-account":n})})).then((function(s){return s.json()})).then((function(s){if(s.status===!1)throw new Error(s.message);return t.response=s.data,t.id=s.data.id,t.status=s.data.transaction_status,t.accessCode=s.data.access_code,t.log=null,Object.assign(t,BG),t.initializeLog(s.data.log),t.saveIpAddress(),s.data}))}},c4=(function(){function t(e){jI(this,t),(function(c){function f(y,w){this.message=y,this.issues=w||[]}if(!c||Xh(c)!=="object")throw new f("Transaction parameters should be a non-empty object");var p=c;if("accessCode"in p)return{accessCode:p.accessCode};Object.keys(p).forEach((function(y){tx.find((function(w){return w.value===y}))!==void 0||delete p[y]}));var g=Object.keys(p),m=[];if(tx.filter((function(y){return y.required})).forEach((function(y){var w=!p[y.value],k=y.or?y.or.some((function(N){return p[N]})):null;w&&!k&&m.push({message:"Required parameter missing: ".concat(y.value)})})),g.forEach((function(y){var w=p[y],k=tx.find((function(L){return L.value===y})),N=Xh(w);N==="object"&&Array.isArray(w)&&(N="array"),k.types.indexOf(N)<=-1&&m.push({message:"Invalid parameter type: ".concat(y),validTypes:k.types})})),g.forEach((function(y){var w=tx.find((function(k){return k.value===y}));w.override&&delete p[w.override]})),m.length)throw new f("Invalid transaction parameters",m)})(e),this.parameters=e,this.urlParameters=jG(e),this.id=null,this.status=null,this.accessCode=e.accessCode||null,this.authorizationUrl=null,this.errors=[],this.response=null,this.isActive=!0;var r=e.onError,n=e.onLoad,i=e.onSuccess,a=e.onCancel,s=e.callback,o=e.onClose,l=e.onBankTransferConfirmationPending;this.callbacks={onError:r,onLoad:n,onSuccess:i,onCancel:a,onBankTransferConfirmationPending:l},this.deprecatedCallbacks={callback:s,onClose:o},Object.assign(this,UG)}return DI(t,[{key:"onSetupError",value:function(e){this.logError(e),this.callbacks.onError&&this.callbacks.onError(e)}},{key:"onLoad",value:function(e){var r=e.id,n=e.customer,i=e.accessCode;Object.assign(this,{id:r,customer:n,accessCode:i}),this.authorizationUrl="".concat(zo.checkoutUrl).concat(i),this.callbacks.onLoad&&this.callbacks.onLoad({id:r,customer:n,accessCode:i})}},{key:"onSuccess",value:function(e){this.isActive=!1,this.response=e,this.status=e.status,this.callbacks.onSuccess&&this.callbacks.onSuccess(e),this.deprecatedCallbacks.callback&&this.deprecatedCallbacks.callback(e)}},{key:"setStatus",value:function(e){this.status=e}},{key:"onCancel",value:function(){this.callbacks.onCancel&&this.callbacks.onCancel(),this.deprecatedCallbacks.onClose&&this.deprecatedCallbacks.onClose()}},{key:"cancel",value:function(){this.isActive=!1,this.onCancel()}},{key:"onBankTransferConfirmationPending",value:function(){this.cancel(),this.callbacks.onBankTransferConfirmationPending&&this.callbacks.onBankTransferConfirmationPending()}},{key:"logError",value:function(e){this.errors.push(e)}}]),t})(),p6=console?console.warn||console.log:function(){};function Y7(t,e,r){p6('"'.concat(t,'" has been deprecated, please use "').concat(e,'". ').concat(r))}var Zr,zG=["preload","inlineTransaction","transactionData"],$G=["container","styles","onElementsMount"];function u4(t,e){if(!t.length)return null;var r=t.filter((function(n){var i,a,s,o,l=!n.status||n.status==="abandoned",c=(i=n.parameters,a=e,s=Object.keys(i).sort().join("")===Object.keys(a).sort().join(""),o=Object.values(i).sort().join("")===Object.values(a).sort().join(""),s&&o);return l&&c}));return r.length?r[r.length-1]:null}function Q7(t){var e=t.checkoutIframe,r=t.urlParameters;e&&r&&e.contentWindow.postMessage({type:"inline:url",path:"newTransaction",params:r},"*")}var qG="trackCheckoutClosed",J7="trackPaymentError",HG="trackPaymentAttempt",WG="trackPaymentCompletion";function d4(t){throw p6(t),new Error(t)}var Z7,e9,QI=(function(){function t(e){var r,n;jI(this,t),this.id=(function(){for(var i="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<5;s+=1)i+=a.charAt(Math.floor(Math.random()*a.length));return i})(),this.transactions=[],this.isOpen=!1,this.isLoaded=!1,this.isDeprecatedApi=e&&e.isDeprecatedApi,e&&e.isEmbed?this.isEmbed=!0:e&&e.isPaymentRequest&&(e.container&&ex(e.container)||d4("A container is required to mount the payment request button"),this.paymentRequestContainer=ex(e.container),this.paymentRequestTransaction=null),this.preCheckoutModal=null,this.backgroundIframe=(function(i){var a=o4("inline-background-".concat(i));a.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  background: rgba(0, 0, 0, 0.75);    
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  transition: opacity 0.3s;
  -webkit-transition: opacity 0.3s;
  visibility: hidden;
  display: none;
`,document.body.appendChild(a);var s=a.contentWindow.document;return s.open(),s.write(`
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Paystack Popup Loader</title>
    <style>
      .app-loader {
        margin: 200px 0;
        text-align: center;
        color: white;
      }      
      @keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @-webkit-keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      .app-loader__spinner {
        position: relative;
        display: inline-block;
      }
      .app-loader__spinner div {
        left: 95px;
        top: 35px;
        position: absolute;
        -webkit-animation: app-loader__spinner linear 1s infinite;
        animation: app-loader__spinner linear 1s infinite;
        background: white;
        width: 10px;
        height: 30px;
        border-radius: 40%;
        -webkit-transform-origin: 5px 65px;
        transform-origin: 5px 65px;
      }
      .app-loader__spinner div:nth-child(1) {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
        -webkit-animation-delay: -0.916666666666667s;
        animation-delay: -0.916666666666667s;
      }
      .app-loader__spinner div:nth-child(2) {
        -webkit-transform: rotate(30deg);
        transform: rotate(30deg);
        -webkit-animation-delay: -0.833333333333333s;
        animation-delay: -0.833333333333333s;
      }
      .app-loader__spinner div:nth-child(3) {
        -webkit-transform: rotate(60deg);
        transform: rotate(60deg);
        -webkit-animation-delay: -0.75s;
        animation-delay: -0.75s;
      }
      .app-loader__spinner div:nth-child(4) {
        -webkit-transform: rotate(90deg);
        transform: rotate(90deg);
        -webkit-animation-delay: -0.666666666666667s;
        animation-delay: -0.666666666666667s;
      }
      .app-loader__spinner div:nth-child(5) {
        -webkit-transform: rotate(120deg);
        transform: rotate(120deg);
        -webkit-animation-delay: -0.583333333333333s;
        animation-delay: -0.583333333333333s;
      }
      .app-loader__spinner div:nth-child(6) {
        -webkit-transform: rotate(150deg);
        transform: rotate(150deg);
        -webkit-animation-delay: -0.5s;
        animation-delay: -0.5s;
      }
      .app-loader__spinner div:nth-child(7) {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
        -webkit-animation-delay: -0.416666666666667s;
        animation-delay: -0.416666666666667s;
      }
      .app-loader__spinner div:nth-child(8) {
        -webkit-transform: rotate(210deg);
        transform: rotate(210deg);
        -webkit-animation-delay: -0.333333333333333s;
        animation-delay: -0.333333333333333s;
      }
      .app-loader__spinner div:nth-child(9) {
        -webkit-transform: rotate(240deg);
        transform: rotate(240deg);
        -webkit-animation-delay: -0.25s;
        animation-delay: -0.25s;
      }
      .app-loader__spinner div:nth-child(10) {
        -webkit-transform: rotate(270deg);
        transform: rotate(270deg);
        -webkit-animation-delay: -0.166666666666667s;
        animation-delay: -0.166666666666667s;
      }
      .app-loader__spinner div:nth-child(11) {
        -webkit-transform: rotate(300deg);
        transform: rotate(300deg);
        -webkit-animation-delay: -0.083333333333333s;
        animation-delay: -0.083333333333333s;
      }
      .app-loader__spinner div:nth-child(12) {
        -webkit-transform: rotate(330deg);
        transform: rotate(330deg);
        -webkit-animation-delay: 0s;
        animation-delay: 0s;
      }
      .app-loader__spinner {
        width: 40px;
        height: 40px;
        -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
        transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
      }
    </style>
  </head>

  <body>
    <div id="app-loader" class="app-loader">
      <div id="spinner" class="app-loader__spinner">
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div><div></div><div></div><div></div><div></div>
      </div>
    </div>
  </body>

  </html>
`),s.close(),a})(this.id),this.checkoutIframe=(r=this.id,(n=o4("inline-checkout-".concat(r))).src="".concat(zo.checkoutUrl,"popup"),n.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  visibility: hidden;
  display: none;
  height: 100%;
`,n.setAttribute("allowpaymentrequest","true"),n.setAttribute("allow","payment; clipboard-read; clipboard-write"),document.body.appendChild(n),n),this.registerListeners()}return DI(t,[{key:"registerListeners",value:function(){var e=this;window.addEventListener("message",(function(r){var n="".concat(r.origin,"/")===zo.checkoutUrl,i=e.checkoutIframe&&e.checkoutIframe.contentWindow===r.source,a=e.isEmbed;n||i?e.respondToEvent(r):a&&e.respondToEmbedEvents(r)}))}},{key:"sendAnalyticsEventToCheckout",value:function(e,r){this.checkoutIframe.contentWindow.postMessage({type:"analytics",action:e,params:r},"*")}},{key:"checkout",value:function(e){this.activeTransaction()&&this.activeTransaction().cancel(),Zr=this;var r=u4(this.transactions,e)||new c4(e);return new Promise((function(n,i){r.requestInline().then((function(a){var s=(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.platform,f=l.userAgent,p=f===void 0?window&&window.navigator&&window.navigator.userAgent:f,g=c||XI,m=p&&!!p.match(/Version\/[\d.]+.*Safari/),y=g&&/(Mac)/i.test(g);return YI()||y&&m})()&&K3(a.channels),o=(function(){var l,c,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!((l=f.link_config)===null||l===void 0||!l.enabled||(c=f.link_config)===null||c===void 0||!c.has_payment_instruments)})(a);o||s?(Zr.preloadTransaction({inlineTransaction:r,transactionData:a}),Zr.preCheckoutModal=(function(l,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.querySelector("#pre-checkout-modal-".concat(l));if(p){if(K7(p)&&l4(p))return p;p.remove()}var g=document.createElement("div");g.classList.add("pre-checkout-modal"),g.id="pre-checkout-modal-".concat(l),g.style.zIndex=TG()+1;var m=document.createElement("div");m.classList.add("pre-checkout-modal__content"),g.appendChild(m);var y=c||{},w=y.merchant_logo,k=y.merchant_name,N=y.email,L=y.amount,P=y.currency,V=y.label,Y=y.channels,Q=new Intl.NumberFormat("en",{style:"currency",currency:P,currencyDisplay:"code",maximumFractionDigits:2,minimumFractionDigits:0}).format(L/100),R=document.createElement("div");R.classList.add("payment-info"),R.innerHTML='<img class="merchant-logo" src="'.concat(w,'" alt="').concat(k,` Logo">
    <div class="customer-info">
      <div class="customer-email">`).concat(V||N,`</div>
      <div class="transaction-amount">Pay <span class="amount">`).concat(Q,`</span></div>
    </div>`),m.appendChild(R),m.innerHTML+=SG;var T=document.createElement("div");T.classList.add("modal-wrapper"),f.canPayWithVault?RG(T,{canPayWithApplePay:f.canPayWithApplePay,hasOtherPaymentMethods:X7(Y)}):FG(T,{hasOtherPaymentMethods:X7(Y)}),T.innerHTML=T.innerHTML+zI+EG,m.appendChild(T);var S=document.createElement("style");return S.textContent=NG,document.body.appendChild(S),document.body.appendChild(g),g})(Zr.id,a,{canPayWithVault:o,canPayWithApplePay:s}),s?(Zr.paymentRequestContainer=l4(Zr.preCheckoutModal),G7(Zr.paymentRequestContainer,{channels:a.channels,styles:{applePay:{width:"100%",type:"pay",height:"42px",padding:"15px",borderRadius:"5px"}}},a.merchant_id).then((function(){Zr.registerPaymentRequestEventListeners()})).catch((function(){o?l4(Zr.preCheckoutModal).remove():(Zr.closePreCheckoutModal(),Zr.animateCheckoutIn())})).finally((function(){n(r)}))):n(r)):(Zr.newTransaction({inlineTransaction:r,transactionData:a}),n(r))})).catch((function(a){r.onSetupError({status:!1,message:a.message}),i(a)}))}))}},{key:"openPreCheckoutModal",value:function(){var e;this.registerPreCheckoutModalEventListeners(),e=this.preCheckoutModal,new Promise((function(r,n){try{var i=e.querySelector(".pre-checkout-modal__content");e.classList.add("show"),setTimeout((function(){i.classList.add("show"),r(!0)}),50)}catch(a){n(a)}}))}},{key:"registerPreCheckoutModalEventListeners",value:function(){var e,r=this,n=!1,i=this.activeTransaction();document.addEventListener("touchstart",(function(l){l.preventDefault(),n||(n=!0,e=setTimeout((function(){n=!1}),125))}),!0),document.addEventListener("touchend",(function(l){l.target&&l.target.isSameNode(Zr.preCheckoutModal)&&n&&(clearTimeout(e),Zr.closePreCheckoutModal(),i&&i.cancel()),n=!1}),!0);var a=K7(this.preCheckoutModal);a&&(a.onclick=function(){r.closePreCheckoutModal(),r.animateCheckoutIn()});var s=this.preCheckoutModal.querySelector("#".concat(WI));s&&(s.onclick=function(){r.closePreCheckoutModal(),r.animateCheckoutIn(),r.checkoutIframe.contentWindow.postMessage({type:"inline:pay-with-vault"},"*")});var o=(function(l){return l.querySelector("#apple-pay-close-button")})(this.preCheckoutModal);o.onclick=function(){r.sendAnalyticsEventToCheckout(qG),r.closePreCheckoutModalAndCancelTransaction()}}},{key:"closePreCheckoutModal",value:function(e){var r;this.preCheckoutModal&&(e==="failed"?(r=this.preCheckoutModal)&&(r.querySelector("#apple-pay-mark--light").innerHTML=`<svg width="50" height="30" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="error-icon">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="error" fill-rule="nonzero">
            <path d="M9.14672,0.47855 L0.14829,15.47855 C-0.0403320234,15.7872042 -0.0475647902,16.1736607 0.129375884,16.4891566 C0.306316558,16.8046526 0.639843999,16.9999993 1.00157,17 L19.43546,17 C19.797186,16.9999993 20.1307134,16.8046526 20.3076541,16.4891566 C20.4845948,16.1736607 20.477362,15.7872042 20.28874,15.47855 L10.85328,0.47855 C10.671624,0.181297031 10.3483651,3.00996351e-06 10,3.00996351e-06 C9.6516349,3.00996351e-06 9.32837603,0.181297031 9.14672,0.47855 Z" id="Shape" fill="#FFAA22"></path>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="6" width="2" height="5"></rect>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="12" width="2" height="2"></rect>
        </g>
    </g>
</svg>`,r.querySelector("#apple-pay-description").textContent="An error occurred while paying with Apple Pay. Please try again or use another payment method."):((function(n){n&&(n.querySelector(".pre-checkout-modal__content").classList.remove("show"),n.classList.remove("show"))})(this.preCheckoutModal),this.preCheckoutModal.remove(),this.preCheckoutModal=null))}},{key:"closePreCheckoutModalAndCancelTransaction",value:function(){this.preCheckoutModal&&(this.cancelTransaction(),this.checkoutIframe&&this.checkoutIframe.contentWindow&&this.checkoutIframe.contentWindow.postMessage("close","*"),this.closePreCheckoutModal())}},{key:"newTransaction",value:function(e){var r=e.preload,n=e.inlineTransaction,i=e.transactionData,a=G3(e,zG),s=this.paymentRequestContainer&&Vx(this.paymentRequestContainer);if(this.activeTransaction()&&!s&&this.activeTransaction().cancel(),n&&i)return this.transactions.push(n),this.isDeprecatedApi||this.open({accessCode:i.access_code,language:n.urlParameters.language},r),n;var o=u4(this.transactions,n?n.parameters:a);if(o)return o.isActive=!0,this.isDeprecatedApi||this.open({accessCode:o.accessCode,language:o.urlParameters.language},r),o;var l=n||new c4(a),c=l.accessCode?{accessCode:l.accessCode,language:l.urlParameters.language}:l.urlParameters;return this.transactions.push(l),this.isDeprecatedApi||this.open(c,r),l}},{key:"preloadTransaction",value:function(e){var r=this;return this.newTransaction(ia(ia({},e),{},{preload:!0})),function(){return r.animateCheckoutIn()}}},{key:"paymentRequest",value:function(e){var r=e.container,n=e.styles,i=e.onElementsMount,a=G3(e,$G);return Zr=this,new Promise((function(s,o){var l=document.querySelector("#".concat(e.loadPaystackCheckoutButton));if($I()){Zr.activeTransaction()&&Zr.activeTransaction().cancel(),r&&ex(r)||d4("A container is required to mount the payment request button"),Zr.paymentRequestContainer=ex(r);var c=u4(Zr.transactions,a),f=c||new c4(a);f.requestInline().then((function(m){G7(Zr.paymentRequestContainer,{channels:m.channels,styles:n},m.merchant_id).then((function(y){i&&i(y)})).catch((function(){i&&i(null)})).finally((function(){if(c?f.isActive=!0:Zr.transactions.push(f),Zr.registerPaymentRequestEventListeners(),l){var y=Zr.preloadTransaction({inlineTransaction:f,transactionData:m});l.onclick=y}s(f)}))})).catch((function(m){f.onSetupError({status:!1,message:m.message}),o(m)}))}else{if(e&&e.loadPaystackCheckoutButton)if(l){var p=Zr.preloadTransaction(a);l.onclick=p}else p6("This device does not support any payment request wallet options. Please consult our documentation at https://developers.paystack.co/docs/paystack-inline to see how to load alternative payment options using 'loadPaystackCheckoutButton'");i&&i(null);var g=Zr.activeTransaction();s(g)}}))}},{key:"registerApplePayEventListener",value:function(){var e=this;Vx(this.paymentRequestContainer).onclick=function(){return e.startApplePay()}}},{key:"registerPaymentRequestEventListeners",value:function(){var e=this.activeTransaction();e&&K3(e.response.channels)?this.registerApplePayEventListener():IG(this.paymentRequestContainer)}},{key:"startApplePay",value:function(){var e,r,n,i,a,s=this,o="apple pay",l=this.activeTransaction();if(l){var c={channel:"apple_pay",paymentMethod:o,currency:l.currency,amount:l.amount},f={channel:"apple_pay",currency:l.currency,amount:l.amount,timeSpent:l.getTimeSpent()};try{l.logAttempt(o),this.sendAnalyticsEventToCheckout(HG,c);var p=(e={currency:l.response.currency,amount:l.response.amount,merchantName:l.response.merchant_name,interval:l.response.plan_details&&l.response.plan_details.interval},r=e.currency,n=e.amount,i=e.merchantName,a=e.interval,ia({countryCode:"NG",currencyCode:r,merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],supportedNetworks:["visa","masterCard"],requiredBillingContactFields:["postalAddress","name","phone","email"],total:{label:"".concat(i," - Paystack"),type:"final",amount:String(q7(n))}},typeof a=="string"&&a.trim()!==""&&{lineItems:[{label:AG(a),amount:String(q7(n))}]})),g=new window.ApplePaySession(zo.applePayVersion,p);g.onvalidatemerchant=function(m){var y=(function(w){var k=w.transactionId,N=w.validationURL,L=w.merchantName,P=w.domainName,V=P===void 0?window&&window.location&&window.location.hostname:P,Y="".concat(zo.paymentBaseUrl).concat(zo.applePayValidateSessionPath),Q=W7({transaction:k,sessionUrl:N,displayName:L,domainName:V});return fetch(Y,ia(ia({},H7),{},{body:Q})).then((function(R){return R.json()}))})({validationURL:m.validationURL,transactionId:l.id,merchantName:l.response.merchant_name});y.then((function(w){w.status!=="success"?l.onSetupError(w):g.completeMerchantValidation(w.data),l.logValidationResponse(w.message)})).catch((function(w){l.onSetupError(w)}))},g.oncancel=function(){Zr.preCheckoutModal||l.onCancel()},g.onpaymentauthorized=function(m){var y=m.payment,w=(function(k){var N=k.transactionId,L=k.payment,P="".concat(zo.paymentBaseUrl).concat(zo.applePayChargePath),V=W7({transaction:N,paymentObject:JSON.stringify(L)});return fetch(P,ia(ia({},H7),{},{body:V})).then((function(Y){return Y.json()}))})({transactionId:l.id,payment:y});w.then((function(k){l.logAPIResponse(k,o),k.status==="success"?(g.completePayment(g.STATUS_SUCCESS),l.onSuccess(k),s.sendAnalyticsEventToCheckout(WG,f)):(g.completePayment(g.STATUS_FAILURE),l.onSetupError(k),s.sendAnalyticsEventToCheckout(J7,{channel:"apple_pay",message:k&&k.message||"Transaction attempt failed"})),Zr.closePreCheckoutModal(k.status)})).catch((function(k){g.completePayment(g.STATUS_FAILURE),l.onSetupError(k),s.sendAnalyticsEventToCheckout(J7,{channel:"apple_pay",message:k&&k.message||"Error occurred"}),Zr.closePreCheckoutModal("failed")}))},g.begin()}catch(m){l.onSetupError(m)}}else d4("Could not initiate apple pay transaction")}},{key:"resumeTransaction",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.onSuccess,i=r.onCancel,a=r.onLoad,s=r.onError;return this.newTransaction({accessCode:e,onSuccess:n,onCancel:i,onLoad:a,onError:s})}},{key:"activeTransaction",value:function(){var e=this.transactions.filter((function(n){return n.isActive})),r=e.length?e[e.length-1]:null;return r}},{key:"cancelTransaction",value:function(e){var r=this.transactions.find((function(n){return n.id===e}))||this.activeTransaction();r&&(r.cancel(),this.close())}},{key:"respondToEvent",value:function(e){if(e){var r,n,i=this.activeTransaction();try{var a=e.data||e.message,s=a.event,o=a.data;if(s)switch(s){case"loaded:checkout":if(this.isLoaded=!0,i){var l=this.checkoutIframe,c=i.urlParameters,f=i.response;Q7({checkoutIframe:l,urlParameters:f?{accessCode:f.access_code,language:c?.language}:c})}break;case"loaded:transaction":r=this.backgroundIframe,(n=r.contentWindow.document)&&(n.getElementById("app-loader").style.display="none"),this.preCheckoutModal&&this.openPreCheckoutModal(),i.onLoad(o);break;case"error":o.type==="setup"?i.onSetupError(o):i.logError(o);break;case"cancel":case"close":this.close();var p=o&&o.status;p&&i.setStatus(p),!(this.paymentRequestContainer&&Vx(this.paymentRequestContainer)&&!this.preCheckoutModal)&&(i.isActive=!1),i.onCancel();break;case"transfer:pending":this.close();var g=o&&o.status;g&&i.setStatus(g),i.onBankTransferConfirmationPending();break;case"success":this.close(),i.onSuccess(o)}}catch{}}}},{key:"respondToEmbedEvents",value:function(e){var r,n,i=this.activeTransaction(),a=e.data||e.message;if(a&&(typeof a=="string"||a instanceof String)){var s={action:n=(r=a)&&typeof r=="string"?r.split(" ")[0]:null,data:n?r.split(" ").slice(2).join(" "):null};s&&s.action==="PaystackClose"&&s.data&&i.onSuccess(a),s.action==="PaystackTLSClose"&&i.cancel()}}},{key:"animateCheckoutIn",value:function(){var e,r=this;if(!this.isOpen){var n=this.checkoutIframe,i=this.backgroundIframe;(e={checkoutIframe:n,backgroundIframe:i},new Promise((function(a,s){e||s("No dom element provided");var o=e.checkoutIframe,l=e.backgroundIframe;o&&l||s("No dom element provided"),o.style.display="",o.style.visibility="visible",l.style.display="",l.style.visibility="visible",a()}))).then((function(){r.checkoutIframe.contentWindow.postMessage("render","*")})),this.isOpen=!0}}},{key:"open",value:function(e,r){e&&(Q7({checkoutIframe:this.checkoutIframe,urlParameters:e}),r||this.animateCheckoutIn())}},{key:"close",value:function(){var e=this;if(this.isOpen){var r,n=this.checkoutIframe,i=this.backgroundIframe;(r={checkoutIframe:n,backgroundIframe:i},new Promise((function(a,s){r||s("No dom element provided");var o=r.checkoutIframe,l=r.backgroundIframe;o&&l||s("No dom element provided"),l.style.opacity=0,o.style.display="none",o.style.visibility="hidden",setTimeout((function(){l.style.display="none",l.style.visibility="hidden",l.style.opacity=1,a()}),300)}))).then((function(){e.checkoutIframe.contentWindow.postMessage("close","*")})),this.isOpen=!1}}},{key:"isLoaded",value:function(){return this.isLoaded}}],[{key:"setup",value:function(e){var r=e&&e.container;Zr||(Zr=new t({isDeprecatedApi:!0,isEmbed:r})),Y7("PaystackPop.setup()","new PaystackPop()","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline");var n=Zr.newTransaction(e,"deprecated"),i=n.urlParameters;if(r){var a="".concat(zo.siteUrl,"/assets/payment/production/inline.html?").concat(UI(i)),s=(function(o,l){var c=o4("embed-checkout-".concat(o));return c.style.cssText=`
  background: transparent;
  background: rgba(0,0,0,0);
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  nmargin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  visibility: hidden;
  display: none;
`,c.src=l,c.id=o,c.name=o,c})(Zr.id,a);(function(o,l){var c=document.getElementById(o);c.innerHTML="",c.removeAttribute("style"),c.className="paystack-embed-container",c.style.position="relative",c.style.width="100%",c.appendChild(l)})(e.container,s),s.onload=function(){var o;s.contentWindow.postMessage("PaystackOpen ".concat(Zr.id),"*"),o=s,new Promise((function(l,c){o||c("No dom element provided"),o.style.display="",o.style.visibility="visible",l()}))}}else n.openIframe=function(){Y7("openIframe","open","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline"),Zr.open(i)};return n}}]),t})();if(Z7=z7().length>0,e9=o1()&&o1().parentElement.tagName==="FORM",Z7&&e9){var f4,fh=(function(){var t={},e=o1();return z7().forEach((function(r){var n=e.getAttribute(r),i=r.split("data-")[1].replace(/-([a-z])/g,(function(a){return a[1].toUpperCase()}));t[i]=n})),(function(r){if(r.buttonId&&!document.getElementById(r.buttonId))throw new Error("Please make sure the buttonId is an element available in the DOM");var n=ia({},r);n.buttonText=r.buttonText||"Pay",n.buttonVariant="normal",n.buttonWordmarkVariant="normal";var i=["normal","light"];return r.buttonVariant&&i.indexOf(r.buttonVariant)>-1&&(n.buttonVariant=r.buttonVariant),r.buttonWordmarkVariant&&i.indexOf(r.buttonWordmarkVariant)>-1&&(n.buttonWordmarkVariant=r.buttonWordmarkVariant),n})(t)})(),t9=o1().parentElement;Zr||(Zr=new QI),(function(t){var e;if(t.id)(e=document.getElementById(t.id)).setAttribute("data-inline-id",t.id);else{var r=document.createElement("div");r.id="inline-button-".concat(t.inlineId),r.innerHTML=(function(n){var i,a,s={normal:`
  <svg id="inline-button-wordmark" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#011B33"/>
    </svg>`,light:zI};return`
    <style>
      #inline-button-`.concat(n.inlineId,` {
        position: relative;
        text-align: center;
        display: inline-block;
      }
      #inline-button-`).concat(n.inlineId,`__trigger {
        `).concat((i=n.variant||"normal",a={normal:`
    background: linear-gradient(180deg,#44b669 0,#40ad57);
    text-shadow: 1px 1px 1px rgba(0,0,0,.1);
    color: #ffffff;
  `,light:`
    background: white;
    text-shadow: none;
    color: #011b33;
  `},"".concat(`
    box-sizing: border-box;
    display: inline-block;
    line-height: 1;
    white-space: nowrap;
    margin: 0 0 10px;
    text-align: center;
    -webkit-appearance: none;
    outline: none;
    font-size: 14px;
    font-weight: 600;
    border-radius: 6px;
    cursor: pointer;
    padding: 16px 24px;
    box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);
    transition: all .3s ease;
    border: none;
    min-width: 190px;
  `).concat(a[i])),`
      }
      #inline-button-`).concat(n.inlineId,`__trigger:hover {
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
      }
      #inline-button-`).concat(n.inlineId,`__trigger:active {
        transform: translateY(3px);
      }
    </style>
    <button id="inline-button-`).concat(n.inlineId,'__trigger" data-inline-id="').concat(n.inlineId,'">').concat(n.text||"Pay"," ").concat(n.currency||"NGN"," ").concat(n.amount,`</button>
    <div id="inline-button-`).concat(n.inlineId,`__wordmark">
      `).concat(s[n.wordmarkVariant||"normal"],`
    </div>
  `)})(t),t.parent.parentNode.insertBefore(r,t.parent.nextSibling),e=bG(r.getElementsByTagName("button"),1)[0]}return e})({inlineId:Zr.id,amount:fh.amount/100,currency:fh.currency,id:fh.buttonId,text:fh.buttonText,variant:fh.buttonVariant,wordmarkVariant:fh.buttonWordmarkVariant,parent:o1()}).addEventListener("click",(function(t){t.preventDefault(),f4?Zr.resumeTransaction(f4.accessCode):f4=Zr.newTransaction(ia(ia({},fh),{},{onSuccess:function(e){var r,n,i,a,s,o;r={type:"hidden",name:"reference",value:e.reference,parent:t9},n=r.type,i=r.value,a=r.name,s=r.parent,(o=document.createElement("input")).type=n,o.value=i,o.name=a,s.appendChild(o),t9.submit()}}))}))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG="type.googleapis.com/google.protobuf.Int64Value",KG="type.googleapis.com/google.protobuf.UInt64Value";function JI(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function X3(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>X3(e));if(typeof t=="function"||typeof t=="object")return JI(t,e=>X3(e));throw new Error("Data cannot be encoded in JSON: "+t)}function kv(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case GG:case KG:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>kv(e)):typeof t=="function"||typeof t=="object"?JI(t,e=>kv(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class y1 extends Tc{constructor(e,r,n){super(`${m6}/${e}`,r||""),this.details=n}}function XG(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function YG(t,e){let r=XG(t),n=r,i;try{const a=e&&e.error;if(a){const s=a.status;if(typeof s=="string"){if(!r9[s])return new y1("internal","internal");r=r9[s],n=s}const o=a.message;typeof o=="string"&&(n=o),i=a.details,i!==void 0&&(i=kv(i))}}catch{}return r==="ok"?null:new y1(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="us-central1";function JG(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new y1("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class ZG{constructor(e,r,n,i,a=Y3,s){this.app=e,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new QG(r,n,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(a);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=Y3}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function eK(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function tK(t,e,r){return(n=>nK(t,e,n,{}))}async function rK(t,e,r,n){r["Content-Type"]="application/json";let i;try{i=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function nK(t,e,r,n){const i=t._url(e);return iK(t,i,r,n)}async function iK(t,e,r,n){r=X3(r);const i={data:r},a={},s=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);s.authToken&&(a.Authorization="Bearer "+s.authToken),s.messagingToken&&(a["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=s.appCheckToken);const o=n.timeout||7e4,l=JG(o),c=await Promise.race([rK(e,i,a,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new y1("cancelled","Firebase Functions instance was deleted.");const f=YG(c.status,c.json);if(f)throw f;if(!c.json)throw new y1("internal","Response is not valid JSON object.");let p=c.json.data;if(typeof p>"u"&&(p=c.json.result),typeof p>"u")throw new y1("internal","Response is missing data field.");return{data:kv(p)}}const n9="@firebase/functions",i9="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK="auth-internal",sK="app-check-internal",oK="messaging-internal";function lK(t,e){const r=(n,{instanceIdentifier:i})=>{const a=n.getProvider("app").getImmediate(),s=n.getProvider(aK),o=n.getProvider(oK),l=n.getProvider(sK);return new ZG(a,s,o,l,i,t)};gf(new ed(m6,r,"PUBLIC").setMultipleInstances(!0)),ql(n9,i9,e),ql(n9,i9,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t=ry(),e=Y3){const n=o0(un(t),m6).getImmediate({identifier:e}),i=Ww("functions");return i&&uK(n,...i),n}function uK(t,e,r){eK(un(t),e,r)}function dK(t,e,r){return tK(un(t),e)}lK(fetch.bind(self));const fK=cK();async function hK(t){const r=await dK(fK,"initOrder")({total:t}),{checkoutUrl:n,accessCode:i,orderId:a,paystackReference:s}=r.data;return new Promise((o,l)=>{new QI().resumeTransaction(i,{onSuccess:()=>{console.log("Payment successful"),o({status:!0,message:"Payment successful",data:{checkoutUrl:n,orderId:a,paystackReference:s}})},onCancel:()=>{console.log("User cancelled"),o({status:!1,message:"Payment cancelled"})},onError:()=>{console.log("Payment failed"),o({status:!1,message:"Payment cancelled"})},onLoad:()=>{console.log("Page is loaded")}})})}const Ev=async()=>{const t=await jn(ur(gt,"pharmacies"));return await Promise.all(t.docs.map(async r=>{const n={id:r.id,...r.data()};if(n.lat&&n.lon)n.coordinates={latitude:Number(n.lat),longitude:Number(n.lon)};else if(n.address)try{const a=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n.address)}&limit=1`)).json();a&&a[0]&&(n.coordinates={latitude:Number(a[0].lat),longitude:Number(a[0].lon)})}catch{}return n}))},g6=async({vendorId:t,customerId:e,role:r})=>{const n=`${t}__${e}`,i=or(gt,"threads",n);if(!(await aa(i)).exists()){const[s,o]=await Promise.all([aa(or(gt,"pharmacies",t)),aa(or(gt,"users",e))]),l=s.exists()?s.data().name:"Pharmacy",c=o.exists()?o.data().displayName:"Customer";await kc(i,{id:n,vendorId:t,customerId:e,vendorName:l,customerName:c,lastMessage:"",lastBy:null,lastAt:Ja(),unread:{[t]:0,[e]:0},createdAt:Ja()})}return n},Q3=async(t,{senderId:e,to:r,text:n})=>{const i=ur(gt,"threads",t,"messages"),a=await fp(i,{senderId:e,to:r,text:n||"",createdAt:Ja(),read:!1,status:"sent",deliveredAt:null,readAt:null});return await ya(or(gt,"threads",t),{lastMessage:n||"…",lastBy:e,lastAt:Ja(),[`unread.${r}`]:gv(1)}),setTimeout(async()=>{await ya(a,{status:"delivered",deliveredAt:Ja()})},1e3),a.id},Sv=async(t,e)=>{await ya(or(gt,"threads",t),{[`unread.${e}`]:0});const r=Nr(ur(gt,"threads",t,"messages"),$r("to","==",e),$r("read","==",!1),es("createdAt","desc"),f0(50)),n=await jn(r);if(!n.empty){const i=K_(gt),a=Ja();n.docs.forEach(s=>{i.update(s.ref,{read:!0,status:"read",readAt:a})}),await i.commit()}},ZI=async(t,e)=>{const r=or(gt,"threads",t,"messages",e);await ya(r,{status:"delivered",deliveredAt:Ja()})},eP=(t,e,r,n=50)=>{const i=Nr(ur(gt,"threads",t,"messages"),es("createdAt","desc"),f0(n));return ri(i,a=>{const s=a.docs.map(o=>({id:o.id,...o.data()})).reverse();e(s)},a=>r?.(a))},Ay=(t,e,r,n={})=>{if(!t?.uid||!t?.role)return()=>{};const i=ur(gt,"threads"),a=t.role==="customer"?Nr(i,$r("customerId","==",t.uid)):Nr(i,$r("vendorId","==",t.uid)),s=n.noSort?a:Nr(a,es("lastAt","desc"));return ri(s,o=>e(o.docs.map(l=>({id:l.id,...l.data()}))),o=>r?.(o))},Ty=(t,e=null)=>{const r=ur(gt,"products"),n=e?Nr(r,$r("pharmacyId","==",e),es("createdAt","desc")):Nr(r,es("createdAt","desc"));return ri(n,i=>t(i.docs.map(a=>({id:a.id,...a.data()}))),i=>console.error("listenProducts error:",i))},tP=async t=>{const e=ur(gt,"products");await fp(e,{...t,createdAt:Ja()})},rP=async(t,e)=>{const r=K_(gt);t.forEach(n=>{const i=or(ur(gt,"products"));r.set(i,{...n,pharmacyId:e,price:Number(n.price),stock:Number(n.stock||0),createdAt:Ja()})}),await r.commit()},w1=async(t,e,r=1)=>{const n=or(ur(gt,"users",t,"cart"));await kc(n,{productId:e,qty:r})},Ux=(t,e)=>So(or(gt,"users",t,"cart",e)),J3=async({customerId:t,pharmacyId:e,items:r,total:n,email:i})=>{const a=await hK(n),{data:s,status:o}=a;return o&&kc(or(gt,"orders",s.orderId),{customerId:t,customerEmail:i,items:r.map(l=>({productId:l.productId,pharmacyId:l.pharmacyId,price:l.price,quantity:l.quantity||1,status:"pending",paid:!1,transferReference:null,transferStatus:null})),total:n,paystackReference:s.paystackReference,status:"paid",paidAt:Ja(),createdAt:Ja()}),o},nP=async(t=5,e)=>{if(!e)return[];const n=(await jn(Nr(ur(gt,"products"),$r("pharmacyId","==",e)))).docs.map(o=>({id:o.id,...o.data()}));if(n.length===0)return[];const i=await jn(Nr(ur(gt,"orders"),$r("pharmacyId","==",e))),a={};i.forEach(o=>{(o.data().items||[]).forEach(c=>{a[c.productId]||(a[c.productId]=0),a[c.productId]+=c.quantity||1})});const s=n.map(o=>({...o,sold:a[o.id]||0}));return s.sort((o,l)=>l.sold!==o.sold?l.sold-o.sold:(l.dateAdded?.toMillis?.()||0)-(o.dateAdded?.toMillis?.()||0)),s.slice(0,t).map(o=>({id:o.id,name:o.name,sold:o.sold,dateAdded:o.dateAdded}))};async function iP({pharmacyId:t,customerId:e,chatThreadId:r,drugs:n,startDate:i,duration:a,notes:s}){return await fp(ur(gt,"prescriptions"),{pharmacyId:t,customerId:e,chatThreadId:r,drugs:n,startDate:i,duration:a,notes:s,status:"active",createdAt:Ja(),updatedAt:Ja()})}async function aP(t){const e=Nr(ur(gt,"prescriptions"),$r("chatThreadId","==",t));return(await jn(e)).docs.map(n=>({id:n.id,...n.data()}))}async function sP({customerId:t}){const r=(await jn(Nr(ur(gt,"prescriptions"),$r("customerId","==",t),$r("requirePurchase","==",!0),$r("fulfilled","!=",!0)))).docs.map(a=>({id:a.id,...a.data()}));if(!r.length)return;const n=await jn(Nr(ur(gt,"orders"),$r("customerId","==",t),$r("status","==","fulfilled"))),i=[];n.forEach(a=>{(a.data().items||[]).forEach(o=>{i.push(o.productId)})});for(const a of r)a.drugs.every(o=>o.productId&&i.includes(o.productId))&&await ya(or(gt,"prescriptions",a.id),{fulfilled:!0})}const oP=async(t,e,r)=>{const n=or(gt,"wishlists",`${t}_${e}`);await kc(n,{userId:t,productId:e,productData:r,createdAt:Ja()})},lP=async(t,e)=>{const r=or(gt,"wishlists",`${t}_${e}`);await So(r)},cP=async(t,e)=>{const r=or(gt,"wishlists",`${t}_${e}`);return(await aa(r)).exists()},uP=(t,e,r=console.error)=>{const n=Nr(ur(gt,"wishlists"),$r("userId","==",t),es("createdAt","desc"));return ri(n,i=>{const a=i.docs.map(s=>({id:s.id,...s.data()}));e(a)},r)},dP=async(t,e,r)=>{const n=or(gt,"vendorBookmarks",`${t}_${e}`);await kc(n,{userId:t,vendorId:e,vendorData:r,createdAt:Ja()})},fP=async(t,e)=>{const r=or(gt,"vendorBookmarks",`${t}_${e}`);await So(r)},hP=async(t,e)=>{const r=or(gt,"vendorBookmarks",`${t}_${e}`);return(await aa(r)).exists()},pP=(t,e,r=console.error)=>{const n=Nr(ur(gt,"vendorBookmarks"),$r("userId","==",t),es("createdAt","desc"));return ri(n,i=>{const a=i.docs.map(s=>({id:s.id,...s.data()}));e(a)},r)},pK=Object.freeze(Object.defineProperty({__proto__:null,addProduct:tP,addToCart:w1,addToWishlist:oP,addVendorBookmark:dP,bulkAddProducts:rP,createPrescription:iP,fulfillPrescriptionIfOrdered:sP,getAllPharmacies:Ev,getBestSellingProducts:nP,getOrCreateThread:g6,getPrescriptionsForThread:aP,isInWishlist:cP,isVendorBookmarked:hP,listenProducts:Ty,listenThreadMessagesPaginated:eP,listenUserBookmarkedVendors:pP,listenUserThreads:Ay,listenUserWishlist:uP,markMessageDelivered:ZI,markThreadRead:Sv,placeOrder:J3,removeFromCart:Ux,removeFromWishlist:lP,removeVendorBookmark:fP,sendChatMessage:Q3},Symbol.toStringTag,{value:"Module"}));async function mP(t){t&&await qq(t)}async function mK(t){await zq(Qd,t)}const gP=B.createContext(),Pn=()=>B.useContext(gP);function gK({children:t}){const[e,r]=B.useState(null),[n,i]=B.useState(null),[a,s]=B.useState(!0);B.useEffect(()=>Kq(Qd,async g=>{if(r(g),g){const m=or(gt,"users",g.uid),y=await aa(m);y.exists()&&i(y.data())}else i(null);s(!1)}),[]);const o=(g,m)=>$q(Qd,g,m),l=async({email:g,password:m,displayName:y,role:w,address:k,lat:N,lon:L})=>{const{user:P}=await iI(Qd,g,m);y&&await aI(P,{displayName:y});const V={uid:P.uid,email:g,displayName:y,role:w};return k&&(V.address=k),N&&(V.lat=N),L&&(V.lon=L),await kc(or(gt,"users",P.uid),V),w==="pharmacy"&&await kc(or(gt,"pharmacies",P.uid),{id:P.uid,name:y||"Pharmacy",email:g,address:k||"",etaMins:30,phone:""}),await mP(P),{user:P,verificationSent:!0}},c=async()=>{const g=new eu;g.addScope("email"),g.addScope("profile"),g.setCustomParameters({prompt:"select_account"});try{console.log("Attempting Google sign-in...");const m=await N7(Qd,g);return console.log("Google sign-in successful:",m.user.email),m}catch(m){throw console.error("Google sign-in error:",m),m.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again."):m.code==="auth/popup-blocked"?new Error("Pop-up was blocked by your browser. Please allow pop-ups and try again."):m.code==="auth/network-request-failed"?new Error("Network error. Please check your connection and try again."):m.code==="auth/internal-error"?new Error("Google sign-in is not properly configured. Please contact support."):m.code==="auth/configuration-not-found"?new Error("Google sign-in configuration missing. Please contact support."):m}},f=async g=>{const m=new eu;m.addScope("email"),m.addScope("profile"),m.setCustomParameters({prompt:"select_account"});try{console.log("Attempting Google registration/sign-in...");const y=await N7(Qd,m),{user:w}=y;console.log("Google auth successful for:",w.email);const k=or(gt,"users",w.uid),N=await aa(k);if(N.exists()){if(console.log("Existing user found:",w.email),N.data().role!=="customer")throw new Error("This email is associated with a pharmacy account. Please use pharmacy sign-in instead.");return{user:w,verificationSent:!1,isNewUser:!1,existingCustomer:!0}}else{console.log("Creating new customer profile for:",w.email);const L={uid:w.uid,email:w.email,displayName:w.displayName||"Google User",role:"customer",address:g?.address||"Location not available",lat:g?.latitude,lon:g?.longitude,createdAt:new Date().toISOString(),authMethod:"google"};return await kc(k,L),console.log("New customer profile created successfully"),{user:w,verificationSent:!1,isNewUser:!0}}}catch(y){throw console.error("Google registration/sign-in error:",y),y.code==="auth/account-exists-with-different-credential"?new Error('An account with this email already exists. Please sign in with your email and password instead, or use the "Sign In with Google" option.'):y.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again."):y.code==="auth/popup-blocked"?new Error("Pop-up was blocked by your browser. Please allow pop-ups and try again."):y.code==="auth/network-request-failed"?new Error("Network error. Please check your connection and try again."):y.code==="auth/internal-error"?new Error("Google sign-in is not properly configured. Please contact support."):y.code==="auth/configuration-not-found"?new Error("Google sign-in configuration missing. Please contact support."):y}},p=()=>Xq(Qd);return d.jsx(gP.Provider,{value:{user:e,profile:n,loading:a,signIn:o,signUp:l,signInWithGoogle:c,signUpWithGoogle:f,logout:p},children:t})}const xK="modulepreload",vK=function(t){return"/"+t},a9={},Yu=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=l(r.map(c=>{if(c=vK(c),c in a9)return;a9[c]=!0;const f=c.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":xK,f||(g.as="script"),g.crossOrigin="",g.href=c,o&&g.setAttribute("nonce",o),document.head.appendChild(g),f)return new Promise((m,y)=>{g.addEventListener("load",m),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};function s9(t){return d.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{d:"M6.66683 0C8.34653 0 9.95744 0.66726 11.1452 1.85499C12.3329 3.04272 13.0002 4.65363 13.0002 6.33333C13.0002 8.01304 12.3329 9.62395 11.1452 10.8117C9.95744 11.9994 8.34653 12.6667 6.66683 12.6667C4.98712 12.6667 3.37622 11.9994 2.18849 10.8117C1.00076 9.62395 0.333496 8.01304 0.333496 6.33333C0.333496 4.65363 1.00076 3.04272 2.18849 1.85499C3.37622 0.66726 4.98712 0 6.66683 0ZM6.66683 0.666667C5.16394 0.666667 3.7226 1.26369 2.65989 2.3264C1.59719 3.3891 1.00016 4.83044 1.00016 6.33333C1.00016 7.83623 1.59719 9.27757 2.65989 10.3403C3.7226 11.403 5.16394 12 6.66683 12C7.41099 12 8.14786 11.8534 8.83537 11.5687C9.52288 11.2839 10.1476 10.8665 10.6738 10.3403C11.2 9.81407 11.6174 9.18939 11.9021 8.50187C12.1869 7.81436 12.3335 7.07749 12.3335 6.33333C12.3335 4.83044 11.7365 3.3891 10.6738 2.3264C9.61106 1.26369 8.16972 0.666667 6.66683 0.666667ZM6.3335 2.66667H7.00016V6.28L10.1335 8.08667L9.80016 8.66667L6.3335 6.66667V2.66667Z",fill:"#848484"})})}/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xP=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>B.createElement("svg",{ref:l,...wK,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:xP("lucide",i),...o},[...s.map(([c,f])=>B.createElement(c,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=(t,e)=>{const r=B.forwardRef(({className:n,...i},a)=>B.createElement(_K,{ref:a,iconNode:e,className:xP(`lucide-${yK(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=Yr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=Yr("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Yr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Yr("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Yr("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=Yr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=Yr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=Yr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=Yr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Yr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=Yr("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Yr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=Yr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=Yr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=Yr("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=Yr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Yr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=Yr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=Yr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Yr("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=Yr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Yr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Yr("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Yr("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Yr("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=Yr("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=Yr("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=Yr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Yr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=Yr("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Yr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Yr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Yr("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=Yr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=Yr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=Yr("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=Yr("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=Yr("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=Yr("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Yr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function BK({className:t="",children:e,...r}){return d.jsx("div",{className:`rounded-3xl border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-gray-800 ${t}`,...r,children:e})}function Gl({name:t,image:e,category:r,size:n=64,className:i="",alt:a,style:s={},imgClassName:o="",roundedClass:l="rounded-xl"}){const[c,f]=B.useState(!1),p=(r||"")?.toString().toLowerCase().trim();let g=null;p&&(p.includes("prescription")?g="PrescriptionDrugs.svg":p.includes("over")?g="Over-the-counter Icon.svg":p.includes("syrup")?g="Syrup.svg":p.includes("therapeutic")?g="Therapeutic.svg":p.includes("control")?g="ControlledSubstances.svg":p.includes("target")&&(g="TargetSystem.svg"));const m="GeneralPill.svg",y=g||m,w={width:n,height:n,...s};return e&&!c?d.jsx("img",{src:e,alt:a||t||"Product image",className:`${l} object-cover ${o}`.trim(),style:w,onError:()=>f(!0)}):d.jsx("div",{className:`${i}`,style:w,children:d.jsx("img",{src:`/${encodeURIComponent(y)}`,alt:a||(r?`${r} icon`:"product icon"),className:`${l} object-contain w-full h-full`,onError:k=>{if(y!==m){k.currentTarget.src=`/${encodeURIComponent(m)}`;return}}})})}function p4({product:t,vendorName:e,vendorDistanceKm:r,vendorEtaMins:n,onOpen:i,onAdd:a,cardWidth:s="172px",cardHeight:o="199px",nameSize:l="15.54px",nameWeight:c="medium",priceSize:f="14.43px",priceColor:p="#BDBDBD",priceWeight:g="medium",addColor:m="#36A5FF",borderRadius:y}){const[w,k]=B.useState(!1),[N,L]=B.useState(!1),[P,V]=B.useState(!1),Y=t?.image&&!w;return d.jsxs(BK,{className:`p-3 cursor-pointer relative flex flex-col justify-between overflow-hidden card-interactive group transition-all duration-200 ${N?"scale-95":"hover:scale-105"}`,onClick:i,onMouseDown:()=>L(!0),onMouseUp:()=>L(!1),onMouseLeave:()=>L(!1),style:{width:s,height:o,borderRadius:y||"10px"},children:[d.jsx("div",{className:"overflow-hidden flex items-center justify-center bg-white dark:bg-gray-800 transition-all duration-200 group-hover:bg-gradient-to-br group-hover:from-blue-50 group-hover:to-sky-50 dark:group-hover:from-blue-900/20 dark:group-hover:to-sky-900/20",style:{height:`calc(${o} * 0.6)`,borderRadius:y||"3px"},children:Y?d.jsx("img",{src:t.image,alt:t.name||"product image",className:"object-contain h-full w-full transition-transform duration-200 group-hover:scale-110",onError:()=>k(!0),style:{maxWidth:"100%"}}):d.jsx("div",{className:"flex items-center justify-center w-full h-full transition-transform duration-200 group-hover:scale-110",style:{padding:8},children:d.jsx(Gl,{name:t.name,image:t.image,category:t.category,size:Math.min(30,Math.max(48,parseInt(o,10)/2))})})}),d.jsxs("div",{className:"mt-1 text-xs text-zinc-500 font-poppins font-light truncate flex items-center gap-2 transition-colors duration-200 group-hover:text-zinc-600",style:{fontSize:"10px",maxWidth:"100%"},children:[d.jsx("span",{className:"truncate",children:e}),(typeof r=="number"||typeof n=="number")&&d.jsxs("span",{className:"text-[9px] text-zinc-400 whitespace-nowrap transition-colors duration-200 group-hover:text-sky-500",children:[typeof r=="number"?`${r.toFixed(1)} km`:"",typeof r=="number"&&typeof n=="number"?" · ":"",typeof n=="number"?`${n} min`:""]})]}),d.jsx("div",{className:"mt-1 font-poppins transition-colors duration-200 group-hover:text-zinc-800 dark:group-hover:text-white",style:{fontSize:l,fontWeight:c,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t.name,children:t.name}),d.jsxs("div",{className:"font-poppins transition-colors duration-200 group-hover:text-sky-600",style:{fontSize:f,color:p,fontWeight:g,overflow:"hidden"},children:["₦",Number(t.price).toLocaleString()]}),d.jsx("button",{onClick:Q=>{Q.stopPropagation(),V(!0),setTimeout(()=>V(!1),150),a()},className:`absolute bottom-3 right-3 h-8 w-8 flex items-center justify-center border border-solid btn-interactive transition-all duration-200 hover:scale-110 hover:shadow-lg ${P?"scale-90 shadow-inner":"active:scale-95"}`,style:{borderColor:m,borderRadius:y||"6px",background:P?m:"transparent",boxShadow:P?`inset 0 2px 4px rgba(0,0,0,0.2), 0 0 0 2px ${m}40`:void 0},onMouseEnter:Q=>{P||(Q.target.style.backgroundColor=m,Q.target.querySelector("svg").style.color="white")},onMouseLeave:Q=>{P||(Q.target.style.backgroundColor="transparent",Q.target.querySelector("svg").style.color=m)},children:d.jsx(jK,{color:P?"white":m,size:16,className:`transition-all duration-200 ${P?"animate-pulse":""}`})}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{borderRadius:y||"10px"}})]})}function ig({className:t="",style:e={},lines:r=3,desktopAlign:n="center"}){const i=n==="left"?"lg:justify-start lg:pl-12":"lg:justify-center";return d.jsxs("div",{className:`w-screen h-screen flex items-center justify-center ${i} bg-white dark:bg-gray-900 ${t}`,style:e,role:"status","aria-live":"polite",children:[d.jsx("div",{className:"animate-fadeInScale",children:d.jsxs("picture",{children:[d.jsx("source",{media:"(min-width: 1024px)",srcSet:"/DesktopLoading.svg"}),d.jsx("img",{src:"/Loading.svg",alt:"Loading",className:"w-full h-full object-contain lg:object-cover lg:w-screen lg:h-screen animate-pulse-gentle"})]})}),d.jsx("span",{className:"sr-only",children:"Loading"})]})}function pp(){const[t,e]=B.useState(null),[r,n]=B.useState("Fetching location..."),[i,a]=B.useState(null),[s,o]=B.useState(!0);return B.useEffect(()=>{if(!navigator.geolocation){n("Location not supported"),a("Geolocation is not supported by this browser"),o(!1);return}const l={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(async c=>{const{latitude:f,longitude:p}=c.coords;e({latitude:f,longitude:p}),a(null);try{const m=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${f}&lon=${p}`,{timeout:5e3})).json();n(m.display_name||"Location unavailable")}catch(g){console.warn("Failed to fetch address:",g),n("Location detected")}finally{o(!1)}},c=>{switch(console.warn("Geolocation error:",c),a(c.message),o(!1),c.code){case c.PERMISSION_DENIED:n("Location permission denied");break;case c.POSITION_UNAVAILABLE:n("Location unavailable");break;case c.TIMEOUT:n("Location request timeout");break;default:n("Location error occurred");break}},l)},[]),{userCoords:t,location:r,locationError:i,isLoading:s}}function wP(t){if(!t)return null;if(t.coordinates&&typeof t.coordinates=="object"){if(t.coordinates.latitude&&t.coordinates.longitude)return{latitude:Number(t.coordinates.latitude),longitude:Number(t.coordinates.longitude)};if(t.coordinates.lat&&t.coordinates.lng)return{latitude:Number(t.coordinates.lat),longitude:Number(t.coordinates.lng)};if(t.coordinates.lat&&t.coordinates.lon)return{latitude:Number(t.coordinates.lat),longitude:Number(t.coordinates.lon)}}if(t.latitude&&t.longitude)return{latitude:Number(t.latitude),longitude:Number(t.longitude)};if(t.lat&&t.lng)return{latitude:Number(t.lat),longitude:Number(t.lng)};if(t.lat&&t.lon)return{latitude:Number(t.lat),longitude:Number(t.lon)};if(t.location&&typeof t.location=="object"){if(t.location.latitude&&t.location.longitude)return{latitude:Number(t.location.latitude),longitude:Number(t.location.longitude)};if(t.location.lat&&t.location.lng)return{latitude:Number(t.location.lat),longitude:Number(t.location.lng)}}if(t.coords&&typeof t.coords=="object"){if(t.coords.latitude&&t.coords.longitude)return{latitude:Number(t.coords.latitude),longitude:Number(t.coords.longitude)};if(t.coords.lat&&t.coords.lng)return{latitude:Number(t.coords.lat),longitude:Number(t.coords.lng)}}return null}function Ry(t,e,r,n){const a=(r-t)*Math.PI/180,s=(n-e)*Math.PI/180,o=Math.sin(a/2)**2+Math.cos(t*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(s/2)**2;return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function _P(t,e="driving"){if(!Number.isFinite(t)||t<=0)return null;const r={walking:5,cycling:15,driving:30},n=r[e]||r.driving,i=t/n,a=Math.round(i*60);let s;if(a<1)s="< 1 min";else if(a<60)s=`${a} min${a!==1?"s":""}`;else{const o=Math.floor(a/60),l=a%60;l===0?s=`${o} hr${o!==1?"s":""}`:s=`${o}h ${l}m`}return{minutes:a,formatted:s,distance:t,mode:e}}function VK(t,e,r="driving"){if(!t||t.length===0||!e)return null;let n=null,i=1/0,a=null;return t.forEach(s=>{const o=wP(s);if(o){const l=Ry(e.latitude,e.longitude,o.latitude,o.longitude);l<i&&(i=l,n=s,a=_P(l,r))}}),n?{pharmacy:n,eta:a,distance:i}:null}function v6(t,e,r="driving"){const n=wP(t);if(!n||!e)return null;const i=Ry(e.latitude,e.longitude,n.latitude,n.longitude);return _P(i,r)}const bP=B.createContext(),Wg=()=>{const t=B.useContext(bP);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Ar={SWIPE_NAVIGATION:"swipe_navigation_enabled",THEME_MODE:"theme_mode",LANGUAGE:"language",FONT_SIZE:"font_size",BIOMETRIC_LOGIN:"biometric_login_enabled",AUTO_LOCK:"auto_lock_timeout",LOCATION_PRECISION:"location_precision",MESSAGE_READ_RECEIPTS:"message_read_receipts",ORDER_NOTIFICATIONS:"order_notifications_enabled",PRESCRIPTION_REMINDERS:"prescription_reminders_enabled",DATA_SAVER_MODE:"data_saver_mode_enabled",HIGH_CONTRAST:"high_contrast_enabled",REDUCE_MOTION:"reduce_motion_enabled"},m4={[Ar.SWIPE_NAVIGATION]:!1,[Ar.THEME_MODE]:"light",[Ar.LANGUAGE]:"en",[Ar.FONT_SIZE]:"small",[Ar.BIOMETRIC_LOGIN]:!1,[Ar.AUTO_LOCK]:"5min",[Ar.LOCATION_PRECISION]:"precise",[Ar.MESSAGE_READ_RECEIPTS]:!0,[Ar.ORDER_NOTIFICATIONS]:!0,[Ar.PRESCRIPTION_REMINDERS]:!0,[Ar.DATA_SAVER_MODE]:!1,[Ar.HIGH_CONTRAST]:!1,[Ar.REDUCE_MOTION]:!1},UK=({children:t})=>{const[e,r]=B.useState(m4),[n,i]=B.useState(!0);B.useEffect(()=>{try{const c=localStorage.getItem("app_settings");if(c){const f=JSON.parse(c);r(p=>({...p,...f}))}}catch(c){console.error("Error loading settings:",c)}finally{i(!1)}},[]),B.useEffect(()=>{if(!n)try{localStorage.setItem("app_settings",JSON.stringify(e))}catch(c){console.error("Error saving settings:",c)}},[e,n]);const l={settings:e,updateSetting:(c,f)=>{r(p=>({...p,[c]:f}))},getSetting:c=>e[c]??m4[c],resetSettings:()=>{r(m4)},isLoading:n};return d.jsx(bP.Provider,{value:l,children:t})},zK=B.createContext(),d9={en:{home:"Home",cart:"Cart",messages:"Messages",orders:"Orders",settings:"Settings",notifications:"Notifications",search:"Search",back:"Back",continue:"Continue",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",message:"Message",sent:"Sent",delivered:"Delivered",read:"Read",type_message:"Type a message...",send:"Send",add_to_cart:"Add to Cart",buy_now:"Buy Now",price:"Price",out_of_stock:"Out of Stock",in_stock:"In Stock",product_description:"Product Description",product_unavailable:"Product unavailable. Please try again.",hello:"Hello",friend:"Friend",search_placeholder:"Search drugs, pharmacies",new_arrivals:"New Arrivals",view_all:"view all",popular_products:"Popular Products",all_new_products:"All New Products",load_more:"Load more",new:"New",close:"Close",please_sign_in:"Please sign in",your_pharmacy_location:"Your pharmacy location",location_services:"Location services",calculating_eta:"Calculating ETA...",fetching_location:"Fetching location...",nearest_pharmacy:"nearest pharmacy",to:"to",welcome_message:"Welcome to PharmaSeA",find_medicines:"Find medicines near you",fast_delivery:"Fast & reliable delivery",learn_more:"Learn more",get_started:"Get started",shop_now:"Shop now",order_now:"Order now",browse_catalog:"Browse catalog",special_offer:"Special Offer",limited_time:"Limited time offer",orders:"Orders",all:"All",pending:"Pending",processing:"Processing",fulfilled:"Fulfilled",cancelled:"Cancelled",no_orders_yet:"No orders yet.",order_number:"Order #",customer:"Customer",items:"Items",total:"Total",status:"Status",see_more:"See more",see_less:"See less",more_items:"more",reveal_number:"Reveal Number",please_sign_in_continue:"Please sign in to continue",sign_in_sign_up:"Sign In / Sign Up",qty:"Qty",my_conversations:`My
Conversations`,search_chats:"Search chats",no_conversations_yet:"No conversations yet.",no_messages_yet:"No messages yet.",cart:"Cart",your_cart_is_empty:"Your cart is empty.",remove:"Remove",subtotal:"Subtotal",delivery_fee:"Delivery Fee",total:"Total",proceed_to_checkout:"Proceed to Checkout",order_summary:"Order Summary",items:"Items",delivery_details:"Delivery Details",delivery_address:"Delivery Address",phone_number:"Phone Number",email_optional:"Email (Optional)",enter_delivery_address:"Enter delivery address",enter_phone_number:"Enter phone number",enter_email_address:"Enter email address",use_current_location:"Use current location",continue_to_payment:"Continue to Payment",payment_method:"Payment Method",pay_on_delivery:"Pay on Delivery",pay_with_cash_delivery:"Pay with cash when order arrives",online_payment:"Online Payment",pay_with_card:"Pay with card, bank transfer, or USSD",pay_with_card_bank_ussd:"Pay with card, bank transfer, or USSD",pay_with_cash_on_delivery:"Pay with cash when order arrives",use_your_health_insurance:"Use your health insurance",pay_with_insurance:"Pay with Insurance",use_health_insurance:"Use your health insurance",coming_soon:"Coming Soon",total_amount:"Total Amount",pay_now:"Pay Now",place_order:"Place Order",decrease_quantity:"Decrease quantity",increase_quantity:"Increase quantity",order_placement_failed:"Order placement failed",order_placed_delivery:"Order placed successfully! You'll pay on delivery.",payment_successful:"Payment successful! Your order has been placed.",checkout_failed:"Checkout failed. Please try again.",my_profile:"My Profile",pharmacy_profile:"Pharmacy Profile",edit_profile:"Edit Profile",edit:"Edit",save:"Save",cancel:"Cancel",close:"Close",view:"View",open:"Open",name:"Name",phone_number_profile:"Phone Number",address_profile:"Address",password:"Password",items_in_cart:"Items in Cart",active_chats:"Active Chats",saved_items:"Saved Items",drugs_bought:"Drugs Bought",all_drugs_bought:"All Drugs Bought",my_saved_items:"My Saved Items",products:"Products",vendors:"Vendors",no_products_saved:"No products saved",start_adding_products:"Start adding products you like!",no_vendors_bookmarked:"No vendors bookmarked",bookmark_vendors:"Bookmark vendors you like!",log_out:"Log Out",search_placeholder_profile:"Search prescriptions, orders, drugs...",prescriptions:"Prescriptions",orders_profile:"Orders",drugs:"Drugs",all_results:"All",times:"times",bought:"bought",no_search_results:"No results found",try_different_search:"Try a different search term",add_product:"Add Product",bulk_upload:"Bulk Upload",download_report:"Download report",download_csv:"Download CSV",download_excel:"Download Excel",inventory:"Inventory",edit_product:"Edit Product",delete_product:"Delete Product",products_sold:"Products Sold",active_chats:"Active Chats",reviews:"Reviews",no_products_yet:"No products yet. Use the buttons above to add or bulk‑upload.",edit_product:"Edit Product",product_image:"Product Image",image_url_placeholder:"Image URL (or choose file below)",product_description:"Product Description",enter_product_description:"Enter product description",confirm_delete_product:"Are you sure you want to delete this item?",yes_delete:"Yes, Delete",delete:"Delete",log_out:"Log Out",back:"Back",call_to_order:"Call to Order",get_directions:"Get Directions",category:"Category",add_to_cart:"Add to Cart",message_vendor:"Message Vendor",share_product:"Share Product",close:"Close",loading:"Loading…",no_products_found:"No products found.",leave_a_review:"Leave a Review",your_name:"Your Name",your_review_optional:"Your review... (optional)",submit_review:"Submit Review",submitting:"Submitting…",see_more:"See more",show_less:"Show less",products_in_category:'Products in "{category}"',eta_to_pharmacy:"{time} to {pharmacy}",calculating_eta:"Calculating ETA...",fetching_location:"Fetching location...",shareable_link_copied:"Shareable link copied to clipboard!",copy_this_link:"Copy this link:",please_sign_in_wishlist:"Please sign in to add items to your wishlist",failed_update_wishlist:"Failed to update wishlist. Please try again.",please_sign_in:"Please sign in",product_unavailable:"Product unavailable. Please try again.",failed_add_to_cart:"Failed to add to cart.",reviews_section:"Reviews",no_reviews_yet:"No reviews yet. Be the first to review!",helpful:"Helpful",vendor_profile:"Vendor Profile",products_by:"Products by",vendor:"Vendor",of:"of",no_products_found_search:"No products found matching your search.",no_products_yet:"No products yet.",customers_only_chat:"Only customers can start a chat with a pharmacy.",could_not_start_chat:"Could not start chat thread.",pharmacy_report:"Pharmacy Report",field:"Field",value:"Value",pharmacy:"Pharmacy",email:"Email",address:"Address",phone:"Phone",product_name:"Product Name",category:"Category",stock:"Stock",sku:"SKU",price:"Price",order_id:"Order ID",customer:"Customer",status:"Status",date:"Date",products:"Products",add_to_bookmarks:"Add to bookmarks",remove_from_bookmarks:"Remove from bookmarks",search_by_name_category_sku:"Search by name, category, or SKU...",view_results:"View Results",clear:"Clear",nearby_pharmacies:"Nearby Pharmacies",pharmacies_found_near_you:"{count} found near you",loading_location:"Loading location...",filter_pharmacies:"Filter pharmacies",pharmacies_found_near_you_detailed:"{count} pharmacies found near you",your_location:"Your location",getting_your_location:"Getting your location...",location_access_needed:"Location access needed",allow_location_access_etas:"Please allow location access for accurate ETAs",enable_location_services:"Enable location services to see nearby pharmacies",search_pharmacies:"Search pharmacies...",no_pharmacies_found:"No pharmacies found",try_different_search:"Try a different search term",name:"Name",address:"Address",keyboard_navigation_hint:"Use ↑↓ arrow keys to navigate, Enter to select, Esc to close",distance:"Distance",all:"All",within_5km:"Within 5km",within_10km:"Within 10km",within_20km:"Within 20km",you_are_here:"You are here",pharmacy_locations:"Pharmacy Locations",pharmacies_sorted_by_distance:"{count} pharmacies • Sorted by distance",pharmacy:"Pharmacy",selected:"Selected",calculating:"Calculating...",closest:"Closest",get_directions:"Get Directions",call:"Call",call_pharmacy:"Call pharmacy",view_products:"View Products",search_results:"Search Results",all_pharmacies:"All Pharmacies",pharmacies_found_count:"{count} found",no_pharmacies_found_search:"No pharmacies found matching your search",no_pharmacies_found_general:"No pharmacies found",try_adjusting_search:"Try adjusting your search terms",try_adjusting_location:"Try adjusting your location or check back later",clear_search:"Clear search",today:"Today",yesterday:"Yesterday",sent:"Sent",delivered:"Delivered",read:"Read",customer:"Customer",pharmacy:"Pharmacy",prescription_created:"A new prescription has been created.",drug_inquiry:"I want to know more about this drug {productName}{priceText}.",call:"Call",call_pharmacy_title:"Call {pharmacy}",no_phone_number:"No phone number",actions:"Actions",create_prescription:"Create Prescription",view_prescription_history:"View Prescription History",load_more_messages:"Load {count} more messages",start_conversation:"Start your conversation",message_placeholder:"Message",attachments_coming_soon:"Attachments coming soon",my_dashboard:"My Dashboard",overview:"Overview",top_products:"Top Products",best_sellers:"Best Sellers",no_sales_data:"No sales data yet",start_selling_message:"Start selling products to see your top performers",units_sold:"{count} units sold",units:"units",total_products:"Total Products",total_orders:"Total Orders",total_revenue:"Total Revenue",active_customers:"Active Customers",this_month:"This Month",avg_order_value:"Avg Order Value",pending_orders:"Pending Orders",awaiting:"Awaiting",low_stock_items:"Low Stock Items",need_restock:"Need Restock",orders_this_month:"Orders This Month",no_comparison:"No comparison",pending_reviews:"Pending Reviews",need_response:"Need Response",recent_reviews:"Recent Reviews",last_24h:"Last 24h",low_stock_alert:"Low Stock Alert",items_need_restocking:"{count} item{plural} need restocking",inventory_tip:"Check your inventory to avoid running out of popular products",recent_messages:"Recent Messages",no_recent_messages:"No recent messages.",no_recent_reviews:"No recent reviews",new_reviews_appear_here:"New customer reviews will appear here",view_all:"View All",by_customer:"by {customerName}",needs_response:"Needs Response",view_more_reviews:"View {count} more review{plural}",revenue_analytics:"Revenue Analytics",total:"Total",by_month:"By Month",by_year:"By Year",month_number:"Month {number}",no_revenue_data:"No revenue data available",start_selling_revenue:"Start making sales to see your revenue analytics",best_performing_period:"Best Performing {period}",month_label:"Month",year_label:"Year",sales_trends:"Sales Trends",last_6_months:"Last 6 months",no_sales_trend_data:"No sales trend data.",orders_count:"{count} order{plural}",reviews_management:"Reviews Management",filters_sort:"Filters & Sort",total_reviews:"Total Reviews",responded:"Responded",avg_rating:"Avg Rating",positive_reviews:"Positive (4+ ⭐)",product:"Product",all_products:"All Products",sort_by:"Sort By",newest_first:"Newest First",oldest_first:"Oldest First",highest_rating:"Highest Rating",lowest_rating:"Lowest Rating",filter_by:"Filter By",all_reviews:"All Reviews",positive_4_stars:"Positive (4+ stars)",negative_1_2_stars:"Negative (1-2 stars)",no_reviews_found:"No reviews found",no_reviews_yet_message:"You don't have any reviews yet. Encourage customers to leave reviews by providing excellent service and follow-up communication!",no_reviews_match_filters:"No reviews match your current filters. Try adjusting your search criteria.",medicine:"Medicine",reviewed_by:"Reviewed by",verified:"Verified",people_found_helpful:"{count} people found this helpful",your_response:"Your Response",cancel_response:"Cancel Response",respond_to_review:"Respond to Review",write_thoughtful_response:"Write a thoughtful response to this review...",submit_response:"Submit Response",response_submitted_success:"Response submitted successfully!",response_submit_failed:"Failed to submit response. Please try again.",loading_reviews:"Loading your reviews...",loading_please_wait:"Please wait while we fetch your data",my_prescriptions:"My Prescriptions",add_to_calendar:"Add to Calendar",no_prescriptions_found:"No prescriptions found.",see_more_count:"See more ({count})",see_less:"See less",time_to_take_medicine:"Time to take {drugName}",take_medicine:"Take {drugName}",dosage_frequency:"Dosage: {dosage} ({frequency})",my_activity:"My Activity",active_chats:"Active Chats",storefront_preview:"Storefront Preview",inventory:"Inventory",products_sold:"Products Sold",general:"General",appearance:"Appearance",language_region:"Language & Region",privacy_security:"Privacy & Security",accessibility:"Accessibility",swipe_navigation:"Swipe Navigation",data_saver_mode:"Data Saver Mode",read_receipts:"Read Receipts",theme:"Theme",font_size:"Font Size",app_language:"App Language"},yo:{home:"Ile",cart:"Agolo",messages:"Ifiranše",orders:"Awọn ibere",settings:"Eto",notifications:"Iwifun",search:"Wa",back:"Pada",continue:"Tẹsiwaju",save:"Tọju",cancel:"Fagile",delete:"Pa rẹ",edit:"Ṣatunkọ",loading:"N gbe...",message:"Ifiranše",sent:"Ti fi ranše",delivered:"Ti gba",read:"Ti ka",type_message:"Kọ ifiranše...",send:"Fi ranše",hello:"Bawo",friend:"Ore",search_placeholder:"Wa oogun, ile oogun",new_arrivals:"Awọn tuntun",view_all:"wo gbogbo",popular_products:"Awọn oogun olokiki",all_new_products:"Gbogbo oogun tuntun",load_more:"Gbe siwaju",new:"Tuntun",close:"Ti",please_sign_in:"Jọwọ wọle",your_pharmacy_location:"Ipo ile oogun rẹ",location_services:"Awọn iṣẹ ipo",calculating_eta:"N ṣe iṣiro akoko...",fetching_location:"N gba ipo...",nearest_pharmacy:"ile oogun to sunmọ",to:"si",welcome_message:"Kaabo si PharmaSeA",find_medicines:"Wa awọn oogun to wa nitosi rẹ",fast_delivery:"Ifijiṣẹ to yara ati to gbẹkẹle",learn_more:"Kọ siwaju si",get_started:"Bẹrẹ",shop_now:"Ra ni bayi",order_now:"Bere ni bayi",browse_catalog:"Wo awọn oogun wa",special_offer:"Ipese Pataki",limited_time:"Ipese akoko die",orders:"Awọn ibere",all:"Gbogbo",pending:"Ti nduro",processing:"N ṣiṣẹ",fulfilled:"Ti pari",cancelled:"Ti fagile",no_orders_yet:"Ko si ibere kankan sibẹ.",order_number:"Ibere #",customer:"Onibara",items:"Awọn nkan",total:"Lapapọ",status:"Ipo",see_more:"Wo siwaju si",see_less:"Wo diẹ kere si",more_items:"siwaju si",reveal_number:"Fi nọmba han",please_sign_in_continue:"Jọwọ wọle lati tẹsiwaju",sign_in_sign_up:"Wọle / Forukọsilẹ",qty:"Iye",my_conversations:`Awọn
Iforọranṣẹ Mi`,search_chats:"Wa awọn iforọranṣẹ",no_conversations_yet:"Ko si iforọranṣẹ kankan sibẹ.",no_messages_yet:"Ko si ifiranṣẹ kankan sibẹ.",cart:"Agolo",your_cart_is_empty:"Agolo rẹ ko ni nkankan.",remove:"Yo kuro",subtotal:"Apapọ kekere",delivery_fee:"Owo ifijiṣẹ",total:"Lapapọ",proceed_to_checkout:"Tẹsiwaju si isanwo",order_summary:"Akopọ ibere",items:"Awọn nkan",delivery_details:"Awọn alaye ifijiṣẹ",delivery_address:"Adiresi ifijiṣẹ",phone_number:"Nọmba foonu",email_optional:"Imeeli (Ti o ba fẹ)",enter_delivery_address:"Tẹ adiresi ifijiṣẹ",enter_phone_number:"Tẹ nọmba foonu",enter_email_address:"Tẹ adiresi imeeli",use_current_location:"Lo ipo oni bayi",continue_to_payment:"Tẹsiwaju si isanwo",payment_method:"Ona isanwo",pay_on_delivery:"San nigba ifijiṣẹ",pay_with_cash_delivery:"San pẹlu owo nigba ti ibere ba de",online_payment:"Isanwo ori ayelujara",pay_with_card:"San pẹlu kaadi, gbigbe owo banki, tabi USSD",pay_with_card_bank_ussd:"San pẹlu kaadi, gbigbe owo banki, tabi USSD",pay_with_cash_on_delivery:"San pẹlu owo nigba ti ibere ba de",use_your_health_insurance:"Lo idaabobo ilera rẹ",pay_with_insurance:"San pẹlu idaabobo",use_health_insurance:"Lo idaabobo ilera rẹ",coming_soon:"O nbọ laipẹ",total_amount:"Iye lapapọ",pay_now:"San ni bayi",place_order:"Gbe ibere kalẹ",decrease_quantity:"Din iye ku",increase_quantity:"Pọ si iye",order_placement_failed:"Gbigbe ibere kalẹ kuna",order_placed_delivery:"A ti gbe ibere kalẹ ni aṣeyọri! O ma san nigba ifijiṣẹ.",payment_successful:"Isanwo aṣeyọri! A ti gbe ibere rẹ kalẹ.",checkout_failed:"Isanwo kuna. Jọwọ gbiyanju lẹẹkansi.",my_profile:"Profaili Mi",pharmacy_profile:"Profaili Ile-oogun",edit_profile:"Ṣatunṣe Profaili",edit:"Ṣatunṣe",save:"Fi pamọ",cancel:"Fagilee",close:"Ti",view:"Wo",open:"Ṣi",name:"Orukọ",phone_number_profile:"Nọmba Foonu",address_profile:"Adiresi",password:"Ọrọ aṣina",items_in_cart:"Awọn nkan ninu agolo",active_chats:"Awọn ibaraẹnisọrọ ti nṣiṣẹ",saved_items:"Awọn nkan ti a fi pamọ",drugs_bought:"Awọn oogun ti a ra",all_drugs_bought:"Gbogbo awọn oogun ti a ra",my_saved_items:"Awọn nkan ti mo fi pamọ",products:"Awọn ọja",vendors:"Awọn olutaja",no_products_saved:"Ko si ọja ti a fi pamọ",start_adding_products:"Bẹrẹ fifi awọn ọja ti o fẹran si!",no_vendors_bookmarked:"Ko si olutaja ti a ṣaami",bookmark_vendors:"Ṣe aami awọn olutaja ti o fẹran!",log_out:"Jade",search_placeholder_profile:"Wa awọn atọrọ, awọn ibere, oogun...",prescriptions:"Awọn atọrọ",orders_profile:"Awọn ibere",drugs:"Awọn oogun",all_results:"Gbogbo",times:"igba",bought:"ti a ra",no_search_results:"Ko si abajade",try_different_search:"Gbiyanju ọrọ wiwa miiran",back:"Pada",call_to_order:"Pe lati gbe ibere",get_directions:"Gba itọsọna",category:"Isọri",add_to_cart:"Fi si agolo",message_vendor:"Firanṣẹ si olutaja",share_product:"Pin ọja",close:"Ti",loading:"Ngbigba...",no_products_found:"Ko si ọja ti a ri.",leave_a_review:"Fi atunyẹwo silẹ",your_name:"Orukọ rẹ",your_review_optional:"Atunyẹwo rẹ... (ti o ba fẹ)",submit_review:"Fi atunyẹwo ranṣẹ",submitting:"Nfiranṣẹ...",see_more:"Wo siwaju si",show_less:"Fi diẹ han",products_in_category:'Awọn ọja ninu "{category}"',eta_to_pharmacy:"{time} si {pharmacy}",calculating_eta:"Nṣiro akoko...",fetching_location:"Ngba ipo...",shareable_link_copied:"A ti daakọ ọna asopọ pinpin si clipboard!",copy_this_link:"Daakọ ọna asopọ yii:",please_sign_in_wishlist:"Jọwọ wọle lati fi awọn nkan si atokọ ifẹ rẹ",failed_update_wishlist:"Kuna lati ṣe imudojuiwọn atokọ ifẹ. Jọwọ gbiyanju lẹẹkansi.",please_sign_in:"Jọwọ wọle",product_unavailable:"Ọja ko si. Jọwọ gbiyanju lẹẹkansi.",failed_add_to_cart:"Kuna lati fi si agolo.",reviews_section:"Awọn atunyẹwo",no_reviews_yet:"Ko si atunyẹwo sibẹ. Jẹ ẹni akọkọ lati ṣe atunyẹwo!",helpful:"To wulo",vendor_profile:"Profaili Olutaja",products_by:"Awọn ọja nipasẹ",vendor:"Olutaja",of:"ninu",no_products_found_search:"Ko si ọja ti a ri ti o baamu wiwa rẹ.",no_products_yet:"Ko si ọja sibẹ.",customers_only_chat:"Awọn alabara nikan lo le bẹrẹ ibaraẹnisọrọ pẹlu ile-oogun.",could_not_start_chat:"Ko le bẹrẹ okun ibaraẹnisọrọ.",pharmacy_report:"Ijabọ ile-oogun",field:"Aaye",value:"Iye",pharmacy:"Ile-oogun",email:"Imeeli",address:"Adiresi",phone:"Foonu",product_name:"Orukọ ọja",category:"Isọri",stock:"Ipamọ",sku:"SKU",price:"Idiyele",order_id:"ID ibere",customer:"Alabara",status:"Ipo",date:"Ọjọ",products:"Awọn ọja",add_to_bookmarks:"Fi si awọn aami iwe",remove_from_bookmarks:"Yo kuro ninu awọn aami iwe",search_by_name_category_sku:"Wa nipasẹ orukọ, isọri, tabi SKU...",view_results:"Wo awọn abajade",clear:"Nu",nearby_pharmacies:"Awọn Ile-oogun Nitosi",pharmacies_found_near_you:"{count} ti a ri nitosi rẹ",loading_location:"N gba ipo...",filter_pharmacies:"Ṣe ajọ awọn ile-oogun",pharmacies_found_near_you_detailed:"Awọn ile-oogun {count} ti a ri nitosi rẹ",your_location:"Ipo rẹ",getting_your_location:"N gba ipo rẹ...",location_access_needed:"A nilo iwọle si ipo",allow_location_access_etas:"Jọwọ gba iwọle si ipo fun awọn akoko to peye",enable_location_services:"Mu awọn iṣẹ ipo ṣiṣẹ lati ri awọn ile-oogun nitosi",search_pharmacies:"Wa awọn ile-oogun...",no_pharmacies_found:"Ko ri ile-oogun kankan",try_different_search:"Gbiyanju ọrọ wiwa miiran",name:"Orukọ",address:"Adiresi",keyboard_navigation_hint:"Lo awọn bọtini ↑↓ lati lilọ, Enter lati yan, Esc lati ti",distance:"Ijinna",all:"Gbogbo",within_5km:"Laarin 5km",within_10km:"Laarin 10km",within_20km:"Laarin 20km",you_are_here:"O wa nibi",pharmacy_locations:"Awọn Ipo Ile-oogun",pharmacies_sorted_by_distance:"Awọn ile-oogun {count} • Ti a to ni ọna ijinna",pharmacy:"Ile-oogun",selected:"Ti a yan",calculating:"N ṣe iṣiro...",closest:"Ti o sunmọ julọ",get_directions:"Gba Itọsọna",call:"Pe",call_pharmacy:"Pe ile-oogun",view_products:"Wo Awọn Ọja",search_results:"Awọn Abajade Wiwa",all_pharmacies:"Gbogbo Awọn Ile-oogun",pharmacies_found_count:"{count} ti a ri",no_pharmacies_found_search:"Ko ri ile-oogun ti o baamu wiwa rẹ",no_pharmacies_found_general:"Ko ri ile-oogun kankan",try_adjusting_search:"Gbiyanju ṣe atunṣe awọn ọrọ wiwa rẹ",try_adjusting_location:"Gbiyanju ṣe atunṣe ipo rẹ tabi padanu nigbamii",clear_search:"Nu wiwa",today:"Oni",yesterday:"Ana",sent:"Ti fi ranṣẹ",delivered:"Ti gba",read:"Ti ka",customer:"Alabara",pharmacy:"Ile-oogun",prescription_created:"A ti ṣe iwe-aṣẹ oogun tuntun.",drug_inquiry:"Mo fẹ mọ diẹ sii nipa oogun yii {productName}{priceText}.",call:"Pe",call_pharmacy_title:"Pe {pharmacy}",no_phone_number:"Ko si nọmba foonu",actions:"Awọn iṣe",create_prescription:"Ṣe Iwe-aṣẹ Oogun",view_prescription_history:"Wo Itan Iwe-aṣẹ Oogun",load_more_messages:"Gbe awọn ifiranṣẹ {count} sii",start_conversation:"Bẹrẹ ibaraẹnisọrọ rẹ",message_placeholder:"Ifiranṣẹ",attachments_coming_soon:"Awọn aṣopọ n bọ laipe",my_dashboard:"Pátákó Mi",overview:"Akopọ",top_products:"Awọn Ọja Giga",best_sellers:"Awọn Ti O Ta Julọ",no_sales_data:"Ko si data tita sibẹ",start_selling_message:"Bẹrẹ tita awọn ọja lati ri awọn ti o ṣe daradara",units_sold:"Awọn ẹya {count} ti a ta",units:"awọn ẹya",total_products:"Lapapọ Awọn Ọja",total_orders:"Lapapọ Awọn Ibere",total_revenue:"Lapapọ Owo Wiwọle",active_customers:"Awọn Alabara Ti Nṣiṣẹ",this_month:"Oṣu Yii",avg_order_value:"Idiye Ibere Aarin",pending_orders:"Awọn Ibere Ti Nduro",awaiting:"N duro",low_stock_items:"Awọn Ọja Ti Ko To",need_restock:"Nilo Ṣe Ipamọ",orders_this_month:"Awọn Ibere Oṣu Yii",no_comparison:"Ko si afiwe",pending_reviews:"Awọn Atunyẹwo Ti Nduro",need_response:"Nilo Idahun",recent_reviews:"Awọn Atunyẹwo Aipẹ",last_24h:"Wakati 24 sẹhin",low_stock_alert:"Ikilọ Ipamọ Kekere",items_need_restocking:"Awọn nkan {count} nilo atunkọ ipamọ",inventory_tip:"Ṣayẹwo ipamọ rẹ lati yago fun sisọnu awọn ọja olokiki",recent_messages:"Awọn Ifiranṣẹ Aipẹ",no_recent_messages:"Ko si awọn ifiranṣẹ aipẹ.",no_recent_reviews:"Ko si awọn atunyẹwo aipẹ",new_reviews_appear_here:"Awọn atunyẹwo alabara tuntun yoo han nibi",view_all:"Wo Gbogbo",by_customer:"nipasẹ {customerName}",needs_response:"Nilo Idahun",view_more_reviews:"Wo awọn atunyẹwo {count} sii",revenue_analytics:"Itupalẹ Owo Wiwọle",total:"Lapapọ",by_month:"Nipasẹ Oṣu",by_year:"Nipasẹ Ọdun",month_number:"Oṣu {number}",no_revenue_data:"Ko si data owo wiwọle",start_selling_revenue:"Bẹrẹ tita lati ri itupalẹ owo wiwọle rẹ",best_performing_period:"Asiko Ti O Ṣe Daradara Julọ {period}",month_label:"Oṣu",year_label:"Ọdun",sales_trends:"Awọn Ilọsiwaju Tita",last_6_months:"Oṣu 6 sẹhin",no_sales_trend_data:"Ko si data ilọsiwaju tita.",orders_count:"Awọn ibere {count}",reviews_management:"Iṣakoso Awọn Atunyẹwo",filters_sort:"Awọn Àṣẹ ati Tito",total_reviews:"Lapapọ Awọn Atunyẹwo",responded:"Ti Dahun",avg_rating:"Iwọn Aarin",positive_reviews:"Rere (4+ ⭐)",product:"Ọja",all_products:"Gbogbo Awọn Ọja",sort_by:"To Nipasẹ",newest_first:"Tuntun Ni Akọkọ",oldest_first:"Atijọ Ni Akọkọ",highest_rating:"Iwọn Giga Julọ",lowest_rating:"Iwọn Kekere Julọ",filter_by:"Àṣẹ Nipasẹ",all_reviews:"Gbogbo Awọn Atunyẹwo",positive_4_stars:"Rere (4+ irawo)",negative_1_2_stars:"Buburu (1-2 irawo)",no_reviews_found:"Ko ri atunyẹwo kankan",no_reviews_yet_message:"O ko ni awọn atunyẹwo sibẹ. Gba awọn alabara niyanju lati fi awọn atunyẹwo silẹ nipa ipese iṣẹ to dara ati ibaraẹnisọrọ atẹle!",no_reviews_match_filters:"Ko si atunyẹwo ti o baamu awọn àṣẹ rẹ lọwọlọwọ. Gbiyanju ṣatunṣe awọn ami wiwa rẹ.",medicine:"Oogun",reviewed_by:"Ti a ṣe atunyẹwo nipasẹ",verified:"Ti a Ṣe Idaniloju",people_found_helpful:"Awọn eniyan {count} ri eyi ni iranlọwọ",your_response:"Idahun Rẹ",cancel_response:"Pa Idahun Rẹ",respond_to_review:"Dahun si Atunyẹwo",write_thoughtful_response:"Kọ idahun ti o ni ero si atunyẹwo yii...",submit_response:"Fi Idahun Ranṣẹ",response_submitted_success:"Idahun ti fi ranṣẹ ni aṣeyọri!",response_submit_failed:"Kuna lati fi idahun ranṣẹ. Jọwọ gbiyanju lẹẹkansi.",loading_reviews:"Ngba awọn atunyẹwo rẹ...",loading_please_wait:"Jọwọ duro nigba ti a n gba data rẹ",my_prescriptions:"Awọn Iwe-aṣẹ Oogun Mi",add_to_calendar:"Fi si Kalenda",no_prescriptions_found:"Ko ri iwe-aṣẹ oogun kankan.",see_more_count:"Wo sii ({count})",see_less:"Wo kere",time_to_take_medicine:"Akoko lati mu {drugName}",take_medicine:"Mu {drugName}",dosage_frequency:"Iwọn: {dosage} ({frequency})",my_activity:"Iṣẹ Mi",active_chats:"Awọn Ibaraẹnisọrọ Ti Nṣiṣẹ",storefront_preview:"Iwoye Ile-itaja",inventory:"Ipamọ",products_sold:"Awọn Ọja Ti A Ta",add_product:"Fi ọja kun",bulk_upload:"Gbigbe ọpọlọpọ",download_report:"Gba ijabọ",download_csv:"Gba CSV",download_excel:"Gba Excel",inventory:"Ibi ipamọ ọja",edit_product:"Ṣatunṣe ọja",delete_product:"Pa ọja rẹ",products_sold:"Awọn ọja ti a ta",active_chats:"Awọn ibaraẹnisọrọ ti nṣiṣẹ",reviews:"Awọn atunyẹwo",no_products_yet:"Ko si ọja sibẹsibẹ. Lo awọn bọtini ti o wa loke lati ṣafikun tabi gbé-gbe soke.",edit_product:"Ṣatunṣe Ọja",product_image:"Aworan Ọja",image_url_placeholder:"URL aworan (tabi yan faili ti o wa nisalẹ)",product_description:"Apejuwe Ọja",enter_product_description:"Tẹ apejuwe ọja sii",confirm_delete_product:"Ṣe o da ọ loju pe o fẹ pa nkan yii rẹ?",yes_delete:"Bẹẹni, Pa rẹ",delete:"Pa rẹ",log_out:"Jade",general:"Gbogbogbo",appearance:"Irisi",language_region:"Ede & Agbegbe",privacy_security:"Aṣiri & Aabo",accessibility:"Iwọle",swipe_navigation:"Lilọ pẹlu fifọ",data_saver_mode:"Ipo itọju data",read_receipts:"Iwe eriwo kika",theme:"Koko",font_size:"Iwọn lẹta",app_language:"Ede ohun elo"},ha:{home:"Gida",cart:"Kaya",messages:"Saƙonni",orders:"Oda",settings:"Saiti",notifications:"Sanarwa",search:"Nema",back:"Baya",continue:"Ci gaba",save:"Ajiye",cancel:"Soke",delete:"Share",edit:"Gyara",loading:"Ana lodawa...",add_to_cart:"Saka cikin kaya",buy_now:"Saya yanzu",price:"Farashi",out_of_stock:"Ba a kantin ba",in_stock:"A wanzu",product_description:"Bayanin kaya",product_unavailable:"Kaya ba ya samuwa. Ka sake gwadawa.",hello:"Sannu",friend:"Aboki",search_placeholder:"Nema magunguna, kantin magani",new_arrivals:"Sababbin abubuwa",view_all:"dubi duka",popular_products:"Shahararrun magunguna",all_new_products:"Dukan sababbin magunguna",load_more:"Dauko kari",new:"Sabon",close:"Rufe",please_sign_in:"Ka shigar da sunan",your_pharmacy_location:"Wurin kantin maganin ku",location_services:"Sabis na wuri",calculating_eta:"Ana lissafa lokaci...",fetching_location:"Ana samun wuri...",nearest_pharmacy:"kantin magani mafi kusa",to:"zuwa",welcome_message:"Barka da zuwa PharmaSeA",find_medicines:"Nemo magunguna a kusa da ku",fast_delivery:"Isar da sauri da aminci",learn_more:"Koyi karin bayani",get_started:"Fara",shop_now:"Sayi yanzu",order_now:"Yi oda yanzu",browse_catalog:"Duba magunguna",special_offer:"Tayin na musamman",limited_time:"Tayin na ɗan lokaci",orders:"Oda",all:"Duka",pending:"Ana jira",processing:"Ana aiki",fulfilled:"An gama",cancelled:"An soke",no_orders_yet:"Babu oda tukuna.",order_number:"Oda #",customer:"Abokin ciniki",items:"Abubuwa",total:"Duka",status:"Matsayi",see_more:"Duba karin",see_less:"Duba kadan",more_items:"kari",reveal_number:"Nuna lambar",please_sign_in_continue:"Ka shigar da sunan don ci gaba",sign_in_sign_up:"Shiga / Yi rajista",qty:"Adadi",my_conversations:`Tattaunawa
Na`,search_chats:"Nemo tattaunawa",no_conversations_yet:"Babu tattaunawa tukuna.",no_messages_yet:"Babu saƙonni tukuna.",cart:"Kaya",your_cart_is_empty:"Kayar ku babu komai.",remove:"Cire",subtotal:"Ƙaramin jimla",delivery_fee:"Kuɗin isar da kaya",total:"Duka",proceed_to_checkout:"Ci gaba zuwa biyan kuɗi",order_summary:"Taƙaitaccen oda",items:"Abubuwa",delivery_details:"Bayanan isar da kaya",delivery_address:"Adireshin isar da kaya",phone_number:"Lambar waya",email_optional:"Imel (Ba dole ba)",enter_delivery_address:"Shigar da adireshin isar da kaya",enter_phone_number:"Shigar da lambar waya",enter_email_address:"Shigar da adireshin imel",use_current_location:"Yi amfani da wurin yanzu",continue_to_payment:"Ci gaba zuwa biyan kuɗi",payment_method:"Hanyar biyan kuɗi",pay_on_delivery:"Biya lokacin isar da kaya",pay_with_cash_delivery:"Biya da kuɗi lokacin da oda ya zo",online_payment:"Biyan kuɗi a yanar gizo",pay_with_card:"Biya da kati, canja wurin banki, ko USSD",pay_with_card_bank_ussd:"Biya da kati, canja wurin banki, ko USSD",pay_with_cash_on_delivery:"Biya da kuɗi lokacin da oda ya zo",use_your_health_insurance:"Yi amfani da inshorar lafiya",pay_with_insurance:"Biya da inshora",use_health_insurance:"Yi amfani da inshorar lafiya",coming_soon:"Yana zuwa nan ba da jimawa ba",total_amount:"Dukkanin adadin",pay_now:"Biya yanzu",place_order:"Yi oda",decrease_quantity:"Rage yawan",increase_quantity:"Ƙara yawan",order_placement_failed:"Yin oda ya kasa",order_placed_delivery:"An yi oda cikin nasara! Za ku biya lokacin isar da kaya.",payment_successful:"Biyan kuɗi ya yi nasara! An yi odar ku.",checkout_failed:"Biyan kuɗi ya kasa. Da fatan za a sake gwadawa.",my_profile:"Bayanin Kaina",pharmacy_profile:"Bayanin Kantin Magani",edit_profile:"Gyara Bayanin",edit:"Gyara",save:"Ajiye",cancel:"Soke",close:"Rufe",view:"Duba",open:"Buɗe",name:"Suna",phone_number_profile:"Lambar Waya",address_profile:"Adireshi",password:"Kalmar sirri",items_in_cart:"Abubuwa a cikin kaya",active_chats:"Tattaunawa masu aiki",saved_items:"Abubuwa da aka ajiye",drugs_bought:"Magungunan da aka saya",all_drugs_bought:"Dukan magungunan da aka saya",my_saved_items:"Abubuwan da na ajiye",products:"Kayayyaki",vendors:"Masu sayarwa",no_products_saved:"Babu kayayyaki da aka ajiye",start_adding_products:"Fara ƙara kayayyakin da kuke so!",no_vendors_bookmarked:"Babu masu sayarwa da aka yi alamar",bookmark_vendors:"Yi alamar masu sayarwan da kuke so!",log_out:"Fita",search_placeholder_profile:"Nemi takardar likita, oda, magunguna...",prescriptions:"Takardar likita",orders_profile:"Oda",drugs:"Magunguna",all_results:"Duka",times:"lokuta",bought:"da aka saya",no_search_results:"Babu sakamakon",try_different_search:"Gwada kalmar nema daban",general:"Gabaɗaya",appearance:"Bayyanar",language_region:"Harshe da Yanki",privacy_security:"Sirri da Tsaro",accessibility:"Samun dama",app_language:"Harshen app",vendor_profile:"Bayanin Mai sayarwa",products_by:"Kayayyaki da",vendor:"Mai sayarwa",of:"daga",no_products_found_search:"Babu kayayyakin da aka samu da suka dace da binciken ku.",no_products_yet:"Babu kayayyaki tukuna.",customers_only_chat:"Abokan ciniki ne kawai za su iya fara tattaunawa da kantin magani.",could_not_start_chat:"Ba za a iya fara zaren tattaunawa ba.",pharmacy_report:"Rahoton kantin magani",field:"Fili",value:"Kima",pharmacy:"Kantin magani",email:"Imel",address:"Adireshi",phone:"Waya",product_name:"Sunan kaya",category:"Nau'i",stock:"Ajiya",sku:"SKU",price:"Farashi",order_id:"ID oda",customer:"Abokin ciniki",status:"Matsayi",date:"Kwanan wata",products:"Kayayyaki",add_to_bookmarks:"Saka a cikin alamomi",remove_from_bookmarks:"Cire daga alamomi",search_by_name_category_sku:"Nema da suna, nau'i, ko SKU...",view_results:"Duba sakamakon",clear:"Share",nearby_pharmacies:"Kantunan Magani Kusa",pharmacies_found_near_you:"{count} an samu kusa da kai",loading_location:"Ana samun wuri...",filter_pharmacies:"Tace kantunan magani",pharmacies_found_near_you_detailed:"Kantunan magani {count} an samu kusa da kai",your_location:"Wurin ka",getting_your_location:"Ana samun wurin ka...",location_access_needed:"Ana bukatar samun dama ga wuri",allow_location_access_etas:"Ka ba da izinin samun wuri don daidaitaccen lokaci",enable_location_services:"Kunna sabis na wuri don ganin kantunan magani kusa",search_pharmacies:"Nemi kantunan magani...",no_pharmacies_found:"Ba a sami kantunan magani ba",try_different_search:"Gwada kalmar bincike daban",name:"Suna",address:"Adireshi",keyboard_navigation_hint:"Yi amfani da ↑↓ maballin tuƙi, Enter don zaɓa, Esc don rufewa",distance:"Nisa",all:"Duka",within_5km:"A cikin 5km",within_10km:"A cikin 10km",within_20km:"A cikin 20km",you_are_here:"Kana nan",pharmacy_locations:"Wuraren Kantunan Magani",pharmacies_sorted_by_distance:"Kantunan magani {count} • An jera bisa nisa",pharmacy:"Kantin magani",selected:"An zaɓa",calculating:"Ana lissafi...",closest:"Mafi kusa",get_directions:"Samu Jagora",call:"Kira",call_pharmacy:"Kira kantin magani",view_products:"Duba Kayayyaki",search_results:"Sakamakon Bincike",all_pharmacies:"Dukan Kantunan Magani",pharmacies_found_count:"{count} an samu",no_pharmacies_found_search:"Ba a sami kantunan magani da suka dace da binciken ku ba",no_pharmacies_found_general:"Ba a sami kantunan magani ba",try_adjusting_search:"Gwada gyara kalmomin binciken ku",try_adjusting_location:"Gwada gyara wurin ku ko ku sake dubawa daga baya",clear_search:"Share bincike",today:"Yau",yesterday:"Jiya",sent:"An aiko",delivered:"An kai",read:"An karanta",customer:"Abokin ciniki",pharmacy:"Kantin magani",prescription_created:"An ƙirƙiri sabon takardar magani.",drug_inquiry:"Ina son sanin ƙarin game da wannan magani {productName}{priceText}.",call:"Kira",call_pharmacy_title:"Kira {pharmacy}",no_phone_number:"Babu lambar waya",actions:"Ayyuka",create_prescription:"Ƙirƙiri Takardar Magani",view_prescription_history:"Duba Tarihin Takardar Magani",load_more_messages:"Ɗauko ƙarin saƙonnin {count}",start_conversation:"Fara tattaunawar ku",message_placeholder:"Saƙo",attachments_coming_soon:"Abubuwan haɗi suna zuwa nan ba da jimawa ba",my_dashboard:"Dashboard Na",overview:"Taƙaitaccen Bayani",top_products:"Manyan Kayayyaki",best_sellers:"Mafi Sayarwa",no_sales_data:"Babu bayanan tallace-tallace har yanzu",start_selling_message:"Fara sayar da kayayyaki don ganin mafi kyawun ku",units_sold:"Raka'o {count} da aka sayar",units:"raka'o",total_products:"Jimillar Kayayyaki",total_orders:"Jimillar Oda",total_revenue:"Jimillar Kudaden Shiga",active_customers:"Abokan Ciniki Masu Aiki",this_month:"Wannan Wata",avg_order_value:"Matsakaicin Darajar Oda",pending_orders:"Oda Da Ake Jira",awaiting:"Ana jira",low_stock_items:"Kayayyakin Da Suka Rage",need_restock:"Bukata Sake Cikawa",orders_this_month:"Oda Na Wannan Wata",no_comparison:"Babu kwatance",pending_reviews:"Sharhi Da Ake Jira",need_response:"Bukatar Amsa",recent_reviews:"Sharhi Na Baya-bayan Nan",last_24h:"Sa'o 24 da suka gabata",low_stock_alert:"Sanarwar Karancin Kaya",items_need_restocking:"Kaya {count} na bukatar sake cikawa",inventory_tip:"Duba ajiyar ku don guje wa rashin shahararru kayayyaki",recent_messages:"Saƙonnin Baya-bayan Nan",no_recent_messages:"Babu saƙonnin baya-bayan nan.",no_recent_reviews:"Babu sharhi na baya-bayan nan",new_reviews_appear_here:"Sabbin sharhin abokan ciniki za su bayyana a nan",view_all:"Duba Duka",by_customer:"ta {customerName}",needs_response:"Bukatar Amsa",view_more_reviews:"Duba ƙarin sharhi {count}",revenue_analytics:"Nazarin Kudaden Shiga",total:"Jimillar",by_month:"Ta Wata",by_year:"Ta Shekara",month_number:"Wata {number}",no_revenue_data:"Babu bayanan kudaden shiga",start_selling_revenue:"Fara sayarwa don ganin nazarin kudaden shiga",best_performing_period:"Lokaci Mafi Kyau {period}",month_label:"Wata",year_label:"Shekara",sales_trends:"Hanyoyin Tallace-tallace",last_6_months:"Watannin 6 da suka gabata",no_sales_trend_data:"Babu bayanan hanyoyin tallace-tallace.",orders_count:"Oda {count}",reviews_management:"Gudanar da Sharhi",filters_sort:"Tacewa da Jeri",total_reviews:"Jimillar Sharhi",responded:"An Amsa",avg_rating:"Matsakaicin Daraja",positive_reviews:"Mai Kyau (4+ ⭐)",product:"Kaya",all_products:"Dukan Kayayyaki",sort_by:"Jera Ta",newest_first:"Sabo Da Farko",oldest_first:"Tsoho Da Farko",highest_rating:"Mafi Girman Daraja",lowest_rating:"Mafi Ƙarancin Daraja",filter_by:"Tacewa Ta",all_reviews:"Dukan Sharhi",positive_4_stars:"Mai Kyau (4+ tauraro)",negative_1_2_stars:"Marar Kyau (1-2 tauraro)",no_reviews_found:"Ba a sami sharhi ba",no_reviews_yet_message:"Har yanzu ba ku da sharhi. Ƙarfafa abokan ciniki su bar sharhi ta hanyar samar da kyakkyawan sabis da bin diddigin sadarwa!",no_reviews_match_filters:"Babu sharhi da ya dace da taushirinku na yanzu. Gwada daidaita ka'idodin binciken ku.",medicine:"Magani",reviewed_by:"An yi sharhi ta",verified:"An Tabbatar",people_found_helpful:"Mutane {count} sun sami wannan yana da amfani",your_response:"Amsarku",cancel_response:"Soke Amsa",respond_to_review:"Amsa ga Sharhi",write_thoughtful_response:"Rubuta amsa mai tunani ga wannan sharhi...",submit_response:"Tura Amsa",response_submitted_success:"An tura amsa cikin nasara!",response_submit_failed:"An kasa tura amsa. Da fatan za a sake gwadawa.",loading_reviews:"Ana ɗaukar sharhinku...",loading_please_wait:"Da fatan ku jira yayin da muke ɗaukar bayananku",my_prescriptions:"Takardun Magani Na",add_to_calendar:"Saka a Kalanda",no_prescriptions_found:"Ba a sami takardar magani ba.",see_more_count:"Duba ƙari ({count})",see_less:"Duba kaɗan",time_to_take_medicine:"Lokaci ya yi na shan {drugName}",take_medicine:"Sha {drugName}",dosage_frequency:"Adadin: {dosage} ({frequency})",my_activity:"Ayyukan Na",active_chats:"Tattaunawa Masu Aiki",storefront_preview:"Kallaren Kantin",inventory:"Ajiya",products_sold:"Kayayyaki Da Aka Sayar",no_products_yet:"Har yanzu babu kayayyaki. Yi amfani da maballin da ke sama don ƙara ko loda da yawa.",edit_product:"Gyara Kayayyaki",product_image:"Hoton Kayayyaki",image_url_placeholder:"URL hoto (ko zaɓi fayil da ke ƙasa)",product_description:"Bayanin Kayayyaki",enter_product_description:"Shigar da bayanin kayayyaki",confirm_delete_product:"Kana da tabbas kana son share wannan abu?",yes_delete:"Eh, Share",log_out:"Fita"},ig:{home:"Ụlọ",cart:"Ngwa ahịa",messages:"Ozi",orders:"Ịtụ",settings:"Nhazi",notifications:"Ọkwa",search:"Chọọ",back:"Laghachi azụ",continue:"Gaa n'ihu",save:"Chekwaa",cancel:"Kagbuo",delete:"Hichapụ",edit:"Dezie",loading:"Na-ebu...",add_to_cart:"Tinye na ngwa ahịa",buy_now:"Zụọ ugbu a",price:"Ọnụ ahịa",out_of_stock:"Agwụla",in_stock:"Dị n'ụlọ ahịa",product_description:"Nkọwa ngwaahịa",product_unavailable:"Ngwaahịa adịghị. Biko nwaa ọzọ.",hello:"Ndewo",friend:"Enyi",search_placeholder:"Chọọ ọgwụ, ụlọ ọgwụ",new_arrivals:"Ndị ọhụrụ",view_all:"lee niile",popular_products:"Ọgwụ ndị ama ama",all_new_products:"Ọgwụ ọhụrụ niile",load_more:"Buo karịa",new:"Ọhụrụ",close:"Mechie",please_sign_in:"Biko banye",your_pharmacy_location:"Ọnọdụ ụlọ ọgwụ gị",location_services:"Ọrụ ọnọdụ",calculating_eta:"Na-agbako oge...",fetching_location:"Na-eweta ọnọdụ...",nearest_pharmacy:"ụlọ ọgwụ kacha nso",to:"gaa",welcome_message:"Nnọọ na PharmaSeA",find_medicines:"Chọta ọgwụ ndị dị gị nso",fast_delivery:"Nnyefe ọsọ ọsọ na ntụkwasị obi",learn_more:"Mụtakwuo ihe",get_started:"Malite",shop_now:"Zụọ ugbu a",order_now:"Nye ọtụtụ ugbu a",browse_catalog:"Lelee ọgwụ ndị anyị nwere",special_offer:"Onyinye pụrụ iche",limited_time:"Onyinye nwa oge",orders:"Ịtụ",all:"Niile",pending:"Na-echere",processing:"Na-arụ ọrụ",fulfilled:"Emezula",cancelled:"Akagbuola",no_orders_yet:"Enwebeghị ịtụ ọ bụla.",order_number:"Ịtụ #",customer:"Onye ahịa",items:"Ihe ndị",total:"Mkpokọta",status:"Ọnọdụ",see_more:"Hụkwuo",see_less:"Hụ nke nta",more_items:"karịa",reveal_number:"Gosi nọmba",please_sign_in_continue:"Biko banye ịga n'ihu",sign_in_sign_up:"Banye / Debanye aha",qty:"Ọnụọgụgụ",my_conversations:`Mkparịta ụka
M`,search_chats:"Chọọ mkparịta ụka",no_conversations_yet:"Enwebeghị mkparịta ụka ọ bụla.",no_messages_yet:"Enwebeghị ozi ọ bụla.",cart:"Ngwa ahịa",your_cart_is_empty:"Ngwa ahịa gị adịghị.",remove:"Wepụ",subtotal:"Obere mkpokọta",delivery_fee:"Ego nnyefe",total:"Mkpokọta",proceed_to_checkout:"Gaa n'ịkwụ ụgwọ",order_summary:"Nchịkọta ịtụ",items:"Ihe ndị",delivery_details:"Nkọwa nnyefe",delivery_address:"Adress nnyefe",phone_number:"Nọmba ekwentị",email_optional:"Ịmeelụ (Nhọrọ)",enter_delivery_address:"Tinye adreesị nnyefe",enter_phone_number:"Tinye nọmba ekwentị",enter_email_address:"Tinye adreesị ịmeelụ",use_current_location:"Jiri ebe dị ugbu a",continue_to_payment:"Gaa n'ịkwụ ụgwọ",payment_method:"Ụzọ ịkwụ ụgwọ",pay_on_delivery:"Kwụọ mgbe nnyefe",pay_with_cash_delivery:"Kwụọ ego mgbe ịtụ ruru",online_payment:"Ịkwụ ụgwọ n'ịntanetị",pay_with_card:"Kwụọ na kaadị, mbufe ego banki, ma ọ bụ USSD",pay_with_card_bank_ussd:"Kwụọ na kaadị, mbufe ego banki, ma ọ bụ USSD",pay_with_cash_on_delivery:"Kwụọ ego mgbe ịtụ ruru",use_your_health_insurance:"Jiri mkpuchi ahụ ike gị",pay_with_insurance:"Kwụọ na mkpuchi",use_health_insurance:"Jiri mkpuchi ahụ ike gị",coming_soon:"Na-abịa n'oge na-adịghị anya",total_amount:"Mkpokọta ego",pay_now:"Kwụọ ugbu a",place_order:"Nye ịtụ",decrease_quantity:"Belata ọnụọgụgụ",increase_quantity:"Mee ka ọnụọgụgụ mụbaa",order_placement_failed:"Inyefe ịtụ dara",order_placed_delivery:"Enyela ịtụ nke ọma! Ị ga-akwụ ụgwọ mgbe nnyefe.",payment_successful:"Ịkwụ ụgwọ gara nke ọma! Enyela ịtụ gị.",checkout_failed:"Ịkwụ ụgwọ dara. Biko nwaa ọzọ.",my_profile:"Profaịlụ M",pharmacy_profile:"Profaịlụ Ụlọ Ọgwụ",edit_profile:"Dezie Profaịlụ",edit:"Dezie",save:"Chekwaa",cancel:"Kagbuo",close:"Mechie",view:"Lee",open:"Meghe",name:"Aha",phone_number_profile:"Nọmba Ekwentị",address_profile:"Adrees",password:"Okwu nzuzo",items_in_cart:"Ihe ndị dị na ngwa ahịa",active_chats:"Mkparịta ụka na-arụ ọrụ",saved_items:"Ihe ndị echekwala",drugs_bought:"Ọgwụ ndị azụtala",all_drugs_bought:"Ọgwụ niile ezutala",my_saved_items:"Ihe ndị m chekwara",products:"Ngwaahịa",vendors:"Ndị na-ere",no_products_saved:"Enweghị ngwaahịa echekwara",start_adding_products:"Malite itinye ngwaahịa ị hụrụ n'anya!",no_vendors_bookmarked:"Enweghị ndị na-ere akara akara",bookmark_vendors:"Kaa ndị na-ere ị hụrụ n'anya akara!",log_out:"Pụọ",search_placeholder_profile:"Chọọ ọgwụ, ịtụ, ọgwụ...",prescriptions:"Ọgwụ",orders_profile:"Ịtụ",drugs:"Ọgwụ",all_results:"Niile",times:"ugboro",bought:"azụtara",no_search_results:"Enweghị nsonaazụ",try_different_search:"Gbalịa okwu ọchụchọ ọzọ",general:"Izugbe",appearance:"Ọdịdị",language_region:"Asụsụ na Mpaghara",privacy_security:"Nzuzo na Nchekwa",accessibility:"Ịnweta ohere",app_language:"Asụsụ ngwa",vendor_profile:"Profaịlụ Onye na-ere",products_by:"Ngwaahịa site na",vendor:"Onye na-ere",of:"n'ime",no_products_found_search:"Achọtaghị ngwaahịa ọ bụla dakọtara na nchọgharị gị.",no_products_yet:"Enwebeghị ngwaahịa ọ bụla.",customers_only_chat:"Ọ bụ naanị ndị ahịa nwere ike ịmalite mkparịta ụka na ụlọ ọgwụ.",could_not_start_chat:"Enweghị ike ịmalite mkparịta ụka.",pharmacy_report:"Akụkọ ụlọ ọgwụ",field:"Ogige",value:"Uru",pharmacy:"Ụlọ ọgwụ",email:"Email",address:"Adrees",phone:"Ekwentị",product_name:"Aha ngwaahịa",category:"Ụdị",stock:"Nchekwa",sku:"SKU",price:"Ọnụ ahịa",order_id:"ID nyere",customer:"Onye ahịa",status:"Ọnọdụ",date:"Ụbọchị",products:"Ngwaahịa",add_to_bookmarks:"Tinye na akara akwụkwọ",remove_from_bookmarks:"Wepụ na akara akwụkwọ",search_by_name_category_sku:"Chọọ site na aha, ụdị, ma ọ bụ SKU...",view_results:"Lee nsonaazụ",clear:"Hichapụ",nearby_pharmacies:"Ụlọ Ọgwụ Ndị Dị Nso",pharmacies_found_near_you:"{count} achọtara nso gị",loading_location:"Na-ebu ebe...",filter_pharmacies:"Họrọ ụlọ ọgwụ",pharmacies_found_near_you_detailed:"Ụlọ ọgwụ {count} achọtara nso gị",your_location:"Ebe gị",getting_your_location:"Na-enweta ebe gị...",location_access_needed:"A chọrọ ohere ebe",allow_location_access_etas:"Biko kwere ka a nweta ebe maka oge ziri ezi",enable_location_services:"Mee ka ọrụ ebe rụọ ọrụ ka ị hụ ụlọ ọgwụ ndị dị nso",search_pharmacies:"Chọọ ụlọ ọgwụ...",no_pharmacies_found:"Achọtaghị ụlọ ọgwụ ọ bụla",try_different_search:"Nwaa okwu ọchụchọ dị iche",name:"Aha",address:"Adrees",keyboard_navigation_hint:"Jiri ↑↓ mkpịsị aka ịga ebe, Enter ịhọrọ, Esc imechi",distance:"Anya",all:"Niile",within_5km:"N'ime 5km",within_10km:"N'ime 10km",within_20km:"N'ime 20km",you_are_here:"Ị nọ ebe a",pharmacy_locations:"Ebe Ụlọ Ọgwụ Dị",pharmacies_sorted_by_distance:"Ụlọ ọgwụ {count} • Edobere site na anya",pharmacy:"Ụlọ ọgwụ",selected:"Ahọrọla",calculating:"Na-agbako...",closest:"Nke kacha nso",get_directions:"Nweta Nduzi",call:"Kpọọ",call_pharmacy:"Kpọọ ụlọ ọgwụ",view_products:"Lee Ngwaahịa",search_results:"Nsonaazụ Ọchụchọ",all_pharmacies:"Ụlọ Ọgwụ Niile",pharmacies_found_count:"{count} achọtara",no_pharmacies_found_search:"Achọtaghị ụlọ ọgwụ ọ bụla dakọtara na ọchụchọ gị",no_pharmacies_found_general:"Achọtaghị ụlọ ọgwụ ọ bụla",try_adjusting_search:"Gbalịa imezigharị okwu ọchụchọ gị",try_adjusting_location:"Gbalịa imezigharị ebe gị ma ọ bụ lọghachi azụ mgbe ọzọ",clear_search:"Hichapụ ọchụchọ",today:"Taa",yesterday:"Ụnyaahụ",sent:"Ezigala",delivered:"Enyela",read:"Agụla",customer:"Onye ahịa",pharmacy:"Ụlọ ọgwụ",prescription_created:"Emepụtala akwụkwọ ọgwụ ọhụrụ.",drug_inquiry:"Achọrọ m ịmata karịa gbasara ọgwụ a {productName}{priceText}.",call:"Kpọọ",call_pharmacy_title:"Kpọọ {pharmacy}",no_phone_number:"Enweghị nọmba ekwentị",actions:"Omume",create_prescription:"Mepụta Akwụkwọ Ọgwụ",view_prescription_history:"Lee Akụkọ Akwụkwọ Ọgwụ",load_more_messages:"Bulie ozi {count} ọzọ",start_conversation:"Malite mkparịta ụka gị",message_placeholder:"Ozi",attachments_coming_soon:"Ihe ndị agbakwunyere na-abịa ngwa ngwa",my_dashboard:"Dashboard M",overview:"Nchikọta",top_products:"Ngwaahịa Kachasị Elu",best_sellers:"Ndị Na-ere Kacha Mma",no_sales_data:"Enwebeghị data ire ere",start_selling_message:"Malite ire ngwaahịa iji hụ ndị kacha arụ ọrụ",units_sold:"Nkeji {count} erere",units:"nkeji",total_products:"Mkpokọta Ngwaahịa",total_orders:"Mkpokọta Ọrder",total_revenue:"Mkpokọta Ego Mbata",active_customers:"Ndị Ahịa Na-arụ Ọrụ",this_month:"Ọnwa A",avg_order_value:"Uru Ọrder Nkezi",pending_orders:"Ọrder Na-echere",awaiting:"Na-echere",low_stock_items:"Ngwaahịa Dị Ntakịrị",need_restock:"Kwesịrị Itinyeghachi",orders_this_month:"Ọrder Ọnwa A",no_comparison:"Enweghị ntụnyere",pending_reviews:"Nyocha Na-echere",need_response:"Kwesịrị Nzaghachi",recent_reviews:"Nyocha Nso Nso A",last_24h:"Awa 24 gara aga",low_stock_alert:"Ọkwa Ngwaahịa Dị Ntakịrị",items_need_restocking:"Ihe {count} kwesịrị itinyeghachi",inventory_tip:"Lelee ngwaahịa gị iji zere ịgwụ ngwaahịa ndị a ma ama",recent_messages:"Ozi Nso Nso A",no_recent_messages:"Enweghị ozi nso nso a.",no_recent_reviews:"Enweghị nyocha nso nso a",new_reviews_appear_here:"Nyocha ndị ahịa ọhụrụ ga-apụta ebe a",view_all:"Lee Niile",by_customer:"site n'aka {customerName}",needs_response:"Kwesịrị Nzaghachi",view_more_reviews:"Lee nyocha {count} ọzọ",revenue_analytics:"Nyocha Ego Mbata",total:"Mkpokọta",by_month:"Site n'Ọnwa",by_year:"Site n'Afọ",month_number:"Ọnwa {number}",no_revenue_data:"Enweghị data ego mbata",start_selling_revenue:"Malite ire iji hụ nyocha ego mbata gị",best_performing_period:"Oge Kacha Mma {period}",month_label:"Ọnwa",year_label:"Afọ",sales_trends:"Ụzọ Ire Ahịa",last_6_months:"Ọnwa 6 gara aga",no_sales_trend_data:"Enweghị data ụzọ ire ahịa.",orders_count:"Ọrder {count}",reviews_management:"Nlekọta Nyocha",filters_sort:"Nzacha na Nhazi",total_reviews:"Mkpokọta Nyocha",responded:"Azaghachila",avg_rating:"Nkezi Ogo",positive_reviews:"Nke Ọma (4+ ⭐)",product:"Ngwaahịa",all_products:"Ngwaahịa Niile",sort_by:"Hazie Site Na",newest_first:"Ọhụrụ Mbụ",oldest_first:"Ochie Mbụ",highest_rating:"Ogo Kacha Elu",lowest_rating:"Ogo Kacha Ala",filter_by:"Zọpụta Site Na",all_reviews:"Nyocha Niile",positive_4_stars:"Nke Ọma (4+ kpakpando)",negative_1_2_stars:"Nke Ọjọọ (1-2 kpakpando)",no_reviews_found:"Achọtaghị nyocha ọ bụla",no_reviews_yet_message:"I nwebeghị nyocha ọ bụla. Gbaa ndị ahịa ume ka ha hapụ nyocha site n'inye ọrụ magburu onwe ya na nkwurịta okwu na-esote!",no_reviews_match_filters:"Enweghị nyocha dabara na nzacha gị ugbu a. Gbalịa ime mgbanwe na njirisi ọchụchọ gị.",medicine:"Ọgwụ",reviewed_by:"Nyochara site na",verified:"Enyochala",people_found_helpful:"Ndị mmadụ {count} chọpụtara na nke a bara uru",your_response:"Nzaghachi Gị",cancel_response:"Kagbuo Nzaghachi",respond_to_review:"Zaghachi na Nyocha",write_thoughtful_response:"Dee nzaghachi nwere uche na nyocha a...",submit_response:"Ziga Nzaghachi",response_submitted_success:"E zigara nzaghachi nke ọma!",response_submit_failed:"E nweghị ike izipu nzaghachi. Biko nwaghachi ọzọ.",loading_reviews:"Na-ebu nyocha gị...",loading_please_wait:"Biko chere ka anyị na-eweta data gị",my_prescriptions:"Akwụkwọ Ọgwụ M",add_to_calendar:"Tinye na Kalenda",no_prescriptions_found:"Achọtaghị akwụkwọ ọgwụ ọ bụla.",see_more_count:"Lee ọzọ ({count})",see_less:"Lee ntakịrị",time_to_take_medicine:"Oge ịṅụ {drugName}",take_medicine:"Ṅụọ {drugName}",dosage_frequency:"Ọnụọgụgụ: {dosage} ({frequency})",my_activity:"Ọrụ M",active_chats:"Mkparịta Ụka Na-arụ Ọrụ",storefront_preview:"Nlele Ụlọ Ahịa",inventory:"Nchekwa Ngwaahịa",products_sold:"Ngwaahịa E Rere",no_products_yet:"Enwebeghị ngwaahịa. Jiri bọtịnụ ndị dị n'elu tinye ma ọ bụ bulite ọtụtụ.",edit_product:"Dezie Ngwaahịa",product_image:"Foto Ngwaahịa",image_url_placeholder:"URL foto (ma ọ bụ họrọ faịlụ n'okpuru)",product_description:"Nkọwa Ngwaahịa",enter_product_description:"Tinye nkọwa ngwaahịa",confirm_delete_product:"Ị ji n'ezie chọọ ihichapụ ihe a?",yes_delete:"Ee, Hichapụ",log_out:"Pụọ"},fr:{home:"Accueil",cart:"Panier",messages:"Messages",orders:"Commandes",settings:"Paramètres",notifications:"Notifications",search:"Rechercher",back:"Retour",continue:"Continuer",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",loading:"Chargement...",add_to_cart:"Ajouter au panier",buy_now:"Acheter maintenant",price:"Prix",out_of_stock:"Rupture de stock",in_stock:"En stock",product_description:"Description du produit",product_unavailable:"Produit indisponible. Veuillez réessayer.",hello:"Bonjour",friend:"Ami",search_placeholder:"Rechercher médicaments, pharmacies",new_arrivals:"Nouveautés",view_all:"voir tout",popular_products:"Produits populaires",all_new_products:"Tous les nouveaux produits",load_more:"Charger plus",new:"Nouveau",close:"Fermer",please_sign_in:"Veuillez vous connecter",your_pharmacy_location:"Emplacement de votre pharmacie",location_services:"Services de localisation",calculating_eta:"Calcul du temps...",fetching_location:"Obtention de la localisation...",nearest_pharmacy:"pharmacie la plus proche",to:"vers",welcome_message:"Bienvenue à PharmaSeA",find_medicines:"Trouvez des médicaments près de chez vous",fast_delivery:"Livraison rapide et fiable",learn_more:"En savoir plus",get_started:"Commencer",shop_now:"Acheter maintenant",order_now:"Commander maintenant",browse_catalog:"Parcourir le catalogue",special_offer:"Offre spéciale",limited_time:"Offre à durée limitée",orders:"Commandes",all:"Tout",pending:"En attente",processing:"En cours",fulfilled:"Livré",cancelled:"Annulé",no_orders_yet:"Aucune commande pour le moment.",order_number:"Commande #",customer:"Client",items:"Articles",total:"Total",status:"Statut",see_more:"Voir plus",see_less:"Voir moins",more_items:"de plus",reveal_number:"Révéler le numéro",please_sign_in_continue:"Veuillez vous connecter pour continuer",sign_in_sign_up:"Se connecter / S'inscrire",qty:"Qté",my_conversations:`Mes
Conversations`,search_chats:"Rechercher des conversations",no_conversations_yet:"Aucune conversation pour le moment.",no_messages_yet:"Aucun message pour le moment.",cart:"Panier",your_cart_is_empty:"Votre panier est vide.",remove:"Supprimer",subtotal:"Sous-total",delivery_fee:"Frais de livraison",total:"Total",proceed_to_checkout:"Procéder au paiement",order_summary:"Résumé de commande",items:"Articles",delivery_details:"Détails de livraison",delivery_address:"Adresse de livraison",phone_number:"Numéro de téléphone",email_optional:"E-mail (Facultatif)",enter_delivery_address:"Entrer l'adresse de livraison",enter_phone_number:"Entrer le numéro de téléphone",enter_email_address:"Entrer l'adresse e-mail",use_current_location:"Utiliser la localisation actuelle",continue_to_payment:"Continuer vers le paiement",payment_method:"Mode de paiement",pay_on_delivery:"Payer à la livraison",pay_with_cash_delivery:"Payer en espèces à la livraison",online_payment:"Paiement en ligne",pay_with_card:"Payer par carte, virement bancaire, ou USSD",pay_with_card_bank_ussd:"Payer par carte, virement bancaire, ou USSD",pay_with_cash_on_delivery:"Payer en espèces à la livraison",use_your_health_insurance:"Utiliser votre assurance santé",pay_with_insurance:"Payer avec l'assurance",use_health_insurance:"Utiliser votre assurance santé",coming_soon:"Bientôt disponible",total_amount:"Montant total",pay_now:"Payer maintenant",place_order:"Passer commande",decrease_quantity:"Diminuer la quantité",increase_quantity:"Augmenter la quantité",order_placement_failed:"Échec de la commande",order_placed_delivery:"Commande passée avec succès! Vous paierez à la livraison.",payment_successful:"Paiement réussi! Votre commande a été passée.",checkout_failed:"Paiement échoué. Veuillez réessayer.",my_profile:"Mon Profil",pharmacy_profile:"Profil de la Pharmacie",edit_profile:"Modifier le Profil",edit:"Modifier",save:"Enregistrer",cancel:"Annuler",close:"Fermer",view:"Voir",open:"Ouvrir",name:"Nom",phone_number_profile:"Numéro de Téléphone",address_profile:"Adresse",password:"Mot de passe",items_in_cart:"Articles dans le panier",active_chats:"Conversations actives",saved_items:"Articles sauvegardés",drugs_bought:"Médicaments achetés",all_drugs_bought:"Tous les médicaments achetés",my_saved_items:"Mes articles sauvegardés",products:"Produits",vendors:"Vendeurs",no_products_saved:"Aucun produit sauvegardé",start_adding_products:"Commencez à ajouter des produits que vous aimez!",no_vendors_bookmarked:"Aucun vendeur mis en signet",bookmark_vendors:"Mettez en signet les vendeurs que vous aimez!",log_out:"Déconnexion",search_placeholder_profile:"Rechercher prescriptions, commandes, médicaments...",prescriptions:"Prescriptions",orders_profile:"Commandes",drugs:"Médicaments",all_results:"Tous",times:"fois",bought:"acheté",no_search_results:"Aucun résultat trouvé",try_different_search:"Essayez un terme de recherche différent",general:"Général",appearance:"Apparence",language_region:"Langue et Région",privacy_security:"Confidentialité et Sécurité",accessibility:"Accessibilité",app_language:"Langue de l'application",vendor_profile:"Profil du Vendeur",products_by:"Produits par",vendor:"Vendeur",of:"sur",no_products_found_search:"Aucun produit trouvé correspondant à votre recherche.",no_products_yet:"Aucun produit pour le moment.",customers_only_chat:"Seuls les clients peuvent entamer une conversation avec une pharmacie.",could_not_start_chat:"Impossible de démarrer le fil de discussion.",pharmacy_report:"Rapport de pharmacie",field:"Champ",value:"Valeur",pharmacy:"Pharmacie",email:"Email",address:"Adresse",phone:"Téléphone",product_name:"Nom du produit",category:"Catégorie",stock:"Stock",sku:"SKU",price:"Prix",order_id:"ID commande",customer:"Client",status:"Statut",date:"Date",products:"Produits",add_to_bookmarks:"Ajouter aux favoris",remove_from_bookmarks:"Supprimer des favoris",search_by_name_category_sku:"Rechercher par nom, catégorie ou SKU...",view_results:"Voir les résultats",clear:"Effacer",nearby_pharmacies:"Pharmacies à Proximité",pharmacies_found_near_you:"{count} trouvées près de vous",loading_location:"Chargement de la localisation...",filter_pharmacies:"Filtrer les pharmacies",pharmacies_found_near_you_detailed:"{count} pharmacies trouvées près de vous",your_location:"Votre localisation",getting_your_location:"Obtention de votre localisation...",location_access_needed:"Accès à la localisation nécessaire",allow_location_access_etas:"Veuillez autoriser l'accès à la localisation pour des horaires précis",enable_location_services:"Activez les services de localisation pour voir les pharmacies à proximité",search_pharmacies:"Rechercher des pharmacies...",no_pharmacies_found:"Aucune pharmacie trouvée",try_different_search:"Essayez un terme de recherche différent",name:"Nom",address:"Adresse",keyboard_navigation_hint:"Utilisez ↑↓ pour naviguer, Entrée pour sélectionner, Échap pour fermer",distance:"Distance",all:"Tout",within_5km:"Dans les 5km",within_10km:"Dans les 10km",within_20km:"Dans les 20km",you_are_here:"Vous êtes ici",pharmacy_locations:"Emplacements des Pharmacies",pharmacies_sorted_by_distance:"{count} pharmacies • Triées par distance",pharmacy:"Pharmacie",selected:"Sélectionné",calculating:"Calcul en cours...",closest:"Le plus proche",get_directions:"Obtenir un Itinéraire",call:"Appeler",call_pharmacy:"Appeler la pharmacie",view_products:"Voir les Produits",search_results:"Résultats de Recherche",all_pharmacies:"Toutes les Pharmacies",pharmacies_found_count:"{count} trouvées",no_pharmacies_found_search:"Aucune pharmacie trouvée correspondant à votre recherche",no_pharmacies_found_general:"Aucune pharmacie trouvée",try_adjusting_search:"Essayez d'ajuster vos termes de recherche",try_adjusting_location:"Essayez d'ajuster votre localisation ou revenez plus tard",clear_search:"Effacer la recherche",today:"Aujourd'hui",yesterday:"Hier",sent:"Envoyé",delivered:"Livré",read:"Lu",customer:"Client",pharmacy:"Pharmacie",prescription_created:"Une nouvelle ordonnance a été créée.",drug_inquiry:"Je souhaiterais en savoir plus sur ce médicament {productName}{priceText}.",call:"Appeler",call_pharmacy_title:"Appeler {pharmacy}",no_phone_number:"Pas de numéro de téléphone",actions:"Actions",create_prescription:"Créer une Ordonnance",view_prescription_history:"Voir l'Historique des Ordonnances",load_more_messages:"Charger {count} messages de plus",start_conversation:"Commencez votre conversation",message_placeholder:"Message",attachments_coming_soon:"Pièces jointes bientôt disponibles",my_dashboard:"Mon Tableau de Bord",overview:"Aperçu",top_products:"Produits Populaires",best_sellers:"Meilleures Ventes",no_sales_data:"Aucune donnée de vente pour le moment",start_selling_message:"Commencez à vendre des produits pour voir vos meilleures performances",units_sold:"{count} unités vendues",units:"unités",total_products:"Total Produits",total_orders:"Total Commandes",total_revenue:"Chiffre d'Affaires Total",active_customers:"Clients Actifs",this_month:"Ce Mois",avg_order_value:"Valeur Moyenne Commande",pending_orders:"Commandes En Attente",awaiting:"En attente",low_stock_items:"Articles En Rupture",need_restock:"À Réapprovisionner",orders_this_month:"Commandes Ce Mois",no_comparison:"Pas de comparaison",pending_reviews:"Avis En Attente",need_response:"Nécessitent Réponse",recent_reviews:"Avis Récents",last_24h:"Dernières 24h",low_stock_alert:"Alerte Stock Faible",items_need_restocking:"{count} article{plural} nécessitent un réapprovisionnement",inventory_tip:"Vérifiez votre inventaire pour éviter les ruptures de produits populaires",recent_messages:"Messages Récents",no_recent_messages:"Aucun message récent.",no_recent_reviews:"Aucun avis récent",new_reviews_appear_here:"Les nouveaux avis clients apparaîtront ici",view_all:"Voir Tout",by_customer:"par {customerName}",needs_response:"Nécessitent Réponse",view_more_reviews:"Voir {count} avis de plus",revenue_analytics:"Analyse des Revenus",total:"Total",by_month:"Par Mois",by_year:"Par Année",month_number:"Mois {number}",no_revenue_data:"Aucune donnée de revenus disponible",start_selling_revenue:"Commencez à vendre pour voir vos analyses de revenus",best_performing_period:"Meilleure Période {period}",month_label:"Mois",year_label:"Année",sales_trends:"Tendances des Ventes",last_6_months:"6 derniers mois",no_sales_trend_data:"Aucune donnée de tendance des ventes.",orders_count:"{count} commande{plural}",reviews_management:"Gestion des Avis",filters_sort:"Filtres et Tri",total_reviews:"Total des Avis",responded:"Répondu",avg_rating:"Note Moyenne",positive_reviews:"Positifs (4+ ⭐)",product:"Produit",all_products:"Tous les Produits",sort_by:"Trier par",newest_first:"Plus Récents d'Abord",oldest_first:"Plus Anciens d'Abord",highest_rating:"Note la Plus Haute",lowest_rating:"Note la Plus Basse",filter_by:"Filtrer par",all_reviews:"Tous les Avis",positive_4_stars:"Positifs (4+ étoiles)",negative_1_2_stars:"Négatifs (1-2 étoiles)",no_reviews_found:"Aucun avis trouvé",no_reviews_yet_message:"Vous n'avez pas encore d'avis. Encouragez les clients à laisser des avis en fournissant un excellent service et une communication de suivi !",no_reviews_match_filters:"Aucun avis ne correspond à vos filtres actuels. Essayez d'ajuster vos critères de recherche.",medicine:"Médicament",reviewed_by:"Avis par",verified:"Vérifié",people_found_helpful:"{count} personnes ont trouvé cela utile",your_response:"Votre Réponse",cancel_response:"Annuler la Réponse",respond_to_review:"Répondre à l'Avis",write_thoughtful_response:"Rédigez une réponse réfléchie à cet avis...",submit_response:"Envoyer la Réponse",response_submitted_success:"Réponse envoyée avec succès !",response_submit_failed:"Échec de l'envoi de la réponse. Veuillez réessayer.",loading_reviews:"Chargement de vos avis...",loading_please_wait:"Veuillez patienter pendant que nous récupérons vos données",my_prescriptions:"Mes Ordonnances",add_to_calendar:"Ajouter au Calendrier",no_prescriptions_found:"Aucune ordonnance trouvée.",see_more_count:"Voir plus ({count})",see_less:"Voir moins",time_to_take_medicine:"Il est temps de prendre {drugName}",take_medicine:"Prendre {drugName}",dosage_frequency:"Dosage: {dosage} ({frequency})",my_activity:"Mon Activité",active_chats:"Chats Actifs",storefront_preview:"Aperçu de la Vitrine",inventory:"Inventaire",products_sold:"Produits Vendus",no_products_yet:"Pas encore de produits. Utilisez les boutons ci-dessus pour ajouter ou télécharger en masse.",edit_product:"Modifier le Produit",product_image:"Image du Produit",image_url_placeholder:"URL de l'image (ou choisissez un fichier ci-dessous)",product_description:"Description du Produit",enter_product_description:"Entrez la description du produit",confirm_delete_product:"Êtes-vous sûr de vouloir supprimer cet élément ?",yes_delete:"Oui, Supprimer",log_out:"Se Déconnecter"}},Na=()=>{const{getSetting:t}=Wg(),e=t(Ar.LANGUAGE)||"en";return{t:B.useMemo(()=>(n,i=n)=>d9[e]?.[n]||d9.en?.[n]||i,[e]),currentLanguage:e}},$K=({children:t})=>{const{t:e,currentLanguage:r}=Na();return d.jsx(zK.Provider,{value:{t:e,currentLanguage:r},children:t})},qK=({user:t,profile:e,location:r,navigate:n,etaInfo:i,closestPharmacy:a,vendors:s,userCoords:o,t:l})=>la.createPortal(d.jsx("div",{className:"fixed top-0 left-0 right-0 z-[100] w-full bg-white dark:bg-gray-900 border-b dark:border-gray-700 flex-shrink-0 px-2",children:d.jsx("div",{className:"w-full mx-auto pt-8 pb-4",children:d.jsx("div",{className:"pt-4 pb-2 w-full",children:d.jsxs("div",{className:"w-full mx-auto px-0",children:[d.jsxs("div",{className:"flex justify-between items-center w-full h-[14px] md:h-[14px] lg:h-[20px]",children:[d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsxs("div",{className:"text-[17px] md:text-[26px] lg:text-[20px] font-regular font-poppins text-gray-900 dark:text-white",children:[l("hello","Hello"),t?`, ${t.displayName?.split(" ")[0]||l("friend","Friend")}`:""]}),d.jsx("span",{className:"text-zinc-500 dark:text-zinc-400 text-[10px] md:text-[12px] lg:text-[14px] font-thin font-poppins truncate max-w-xs md:max-w-md lg:max-w-lg",title:r,children:r})]}),e?.role==="customer"?d.jsxs("button",{onClick:()=>n("/pharmacy-map"),className:"flex flex-col justify-center items-end hover:bg-blue-50 transition-colors rounded-lg p-2 -m-2 group",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(s9,{className:"h-4 w-4 md:h-5 md:w-5 lg:h-6 lg:w-6 mb-0.5 mt-0.5 text-sky-500"}),d.jsx(vP,{className:"h-4 w-4 md:h-3 md:w-3 lg:h-4 lg:w-4 text-sky-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300 animate-pulse"})]}),d.jsx("span",{className:"text-[10px] md:text-[12px] lg:text-[14px] font-poppins font-thin text-right leading-tight mt-1.5 group-hover:text-blue-600 transition-colors",children:i&&a?`${i.formatted} ${l("to","to")} ${s[a.vendorId]?.name||l("nearest_pharmacy","nearest pharmacy")}`:o?l("calculating_eta","Calculating ETA..."):l("fetching_location","Fetching location...")})]}):d.jsxs("div",{className:"flex flex-col justify-center items-end",children:[d.jsx("div",{className:"flex items-center gap-1",children:d.jsx(s9,{className:"h-3 w-3 md:h-5 md:w-5 lg:h-6 lg:w-6 mb-0.5 mt-0.5 text-sky-500"})}),d.jsx("span",{className:"text-[10px] md:text-[12px] lg:text-[14px] font-poppins font-thin text-right leading-tight mt-1.5 text-gray-800",children:e?.role==="pharmacy"?l("your_pharmacy_location","Your pharmacy location"):l("location_services","Location services")})]})]}),d.jsx("div",{className:"w-full"})]})})})}),document.body);function kP(){const[t,e]=B.useState([]),[r,n]=B.useState({}),[i,a]=B.useState([]),[s,o]=B.useState(!1),[l,c]=B.useState(-1),[f,p]=B.useState(null),[g,m]=B.useState(!1),[y,w]=B.useState(""),{user:k,profile:N}=Pn(),{t:L}=Na(),P=Ni(),{userCoords:V,location:Y}=pp(),[Q,R]=B.useState(null),[T,S]=B.useState(null),j=B.useRef(null),[A,F]=B.useState(!1),[M,re]=B.useState(!1),[pe,_e]=B.useState("All"),[xe,oe]=B.useState([]),G=B.useRef(null),[fe,X]=B.useState(0),I=B.useRef([]),q=Re=>qe=>{I.current[Re]=qe||null},[W,J]=B.useState(1),[ce,ve]=B.useState(1),Ee=B.useMemo(()=>{let Re=t;const qe=y.trim().toLowerCase();qe&&f?.products&&Array.isArray(f.products)&&(Re=f.products);let Ge=Re;return pe&&pe!=="All"&&(Ge=Re.filter(dt=>{const Nt=dt.category||"";return pe==="Over-the-counter"?Nt.toLowerCase().includes("over"):pe==="Controlled"?Nt.toLowerCase().includes("control"):Nt===pe})),qe?Ge.filter(dt=>{const Nt=(dt.name||"").toLowerCase(),It=(dt.category||"").toLowerCase(),yt=Array.isArray(dt.tags)?dt.tags.join(" ").toLowerCase():"",wt=dt.vendorId?r[dt.vendorId]||{}:{},Xt=(wt.name||"").toLowerCase(),qt=(wt.location||"").toLowerCase(),Bt=[dt.price,dt.mrp,dt.cost,dt.listPrice].map(He=>He==null?"":String(He)).join(" ").toLowerCase(),mr=Nt.includes(qe)||It.includes(qe)||yt.includes(qe)||Xt.includes(qe)||qt.includes(qe)||Bt.includes(qe),qr=qe.replace(/[^0-9.]/g,""),fr=qr&&(Bt.includes(qr)||dt.price&&String(dt.price).includes(qr));return mr||!!fr}):Ge},[t,y,pe,r,f]),le=B.useMemo(()=>{const Re=y.trim().toLowerCase();return Re?f?.pharmacies&&Array.isArray(f.pharmacies)?f.pharmacies.slice(0,6):i.filter(qe=>{const Ge=(qe.name||qe.displayName||"").toLowerCase(),dt=(qe.address||qe.city||qe.location||"").toLowerCase();return Ge.includes(Re)||dt.includes(Re)}).slice(0,6):[]},[i,y,f]);B.useEffect(()=>Ty(e),[]),B.useEffect(()=>{async function Re(){if(!V)return;let qe=i;if(qe.length===0&&(qe=await Ev(),!qe||qe.length===0))return;const Ge=VK(qe,V,"driving");Ge?(R(Ge.pharmacy),S(Ge.eta)):(R(null),S(null))}Re()},[V,i]),B.useEffect(()=>{if(!j.current)return;let Re,qe;const Ge=()=>{F(!0),clearTimeout(qe),qe=setTimeout(()=>F(!1),2e3)},dt=j.current;return dt.addEventListener("scroll",Ge),Re=setInterval(()=>{!A&&dt&&(dt.scrollBy({left:120,behavior:"smooth"}),dt.scrollLeft+dt.offsetWidth>=dt.scrollWidth-5&&dt.scrollTo({left:0,behavior:"smooth"}))},2500),()=>{clearInterval(Re),dt.removeEventListener("scroll",Ge),qe&&clearTimeout(qe)}},[A,Ee.length]),B.useEffect(()=>{async function Re(){const qe=Array.from(new Set(t.map(dt=>dt.vendorId).filter(Boolean))),Ge={};await Promise.all(qe.map(async dt=>{try{const Nt=await aa(or(gt,"pharmacies",dt));if(Nt.exists()){const It=Nt.data()||{};Ge[dt]={name:It.name||"Pharmacy",location:It.address||It.city||It.location||"",coords:It.coordinates||null}}}catch{}})),n(Ge)}t.length&&Re()},[t]),B.useEffect(()=>{let Re=!0;return(async()=>{try{const qe=await Ev();if(!Re)return;a(Array.isArray(qe)?qe:[])}catch{}})(),()=>{Re=!1}},[]),B.useEffect(()=>{const Re=y.trim();if(!Re){p(null),m(!1);return}const qe=new AbortController,Ge=setTimeout(async()=>{m(!0);try{const dt=await fetch(`/.netlify/functions/search?q=${encodeURIComponent(Re)}`,{signal:qe.signal,headers:{Accept:"application/json"}});if(!dt.ok)throw new Error("server search failed");const Nt=await dt.json();p(Nt||null)}catch{p(null)}finally{m(!1)}},300);return()=>{qe.abort(),clearTimeout(Ge)}},[y]),B.useEffect(()=>{const Re=ri(ur(gt,"infoCards"),qe=>{oe(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))});return()=>Re()},[]);const be=B.useMemo(()=>[...Ee].filter(Re=>Re.stock===void 0||Re.stock>0).sort((Re,qe)=>(qe.viewCount||0)+(qe.sold||0)-((Re.viewCount||0)+(Re.sold||0))),[Ee]),Le=B.useMemo(()=>[...t].filter(Re=>Re.createdAt).sort((Re,qe)=>(qe.createdAt?.seconds||0)-(Re.createdAt?.seconds||0)).slice(0,12),[t]),ae=B.useMemo(()=>[...t].filter(Re=>Re.createdAt).sort((Re,qe)=>(qe.createdAt?.seconds||0)-(Re.createdAt?.seconds||0)),[t]),je=30,Pe=Math.max(1,Math.ceil(be.length/je)),de=be.slice(0,W*je),Me=12,Be=Math.max(1,Math.ceil(ae.length/Me)),et=ae.slice(0,ce*Me);B.useEffect(()=>J(1),[be.length]),B.useEffect(()=>ve(1),[ae.length]);const ne=Re=>{if(!Re)return Re;if(Re.startsWith("t:")){const Ge=Re.substring(2);return L(Ge,Re)}const qe=Re.match(/^\{(.+)\}$/);return qe?L(qe[1],Re):Re},De=Re=>{if(!Re)return"";const qe=String(Re).trim();return/^(https?:)?\/\//i.test(qe)||/^mailto:/i.test(qe)||/^tel:/i.test(qe)||qe.startsWith("/")?qe:`https://${qe}`},Ke=Re=>Re?/^(https?:)?\/\//i.test(Re)||/^mailto:/i.test(Re)||/^tel:/i.test(Re):!1,mt=async Re=>{P(`/product/${Re}`),e(qe=>qe.map(Ge=>Ge.id===Re?{...Ge,viewCount:(Ge.viewCount||0)+1}:Ge));try{const{doc:qe,updateDoc:Ge,increment:dt}=await Yu(async()=>{const{doc:Nt,updateDoc:It,increment:yt}=await Promise.resolve().then(()=>FT);return{doc:Nt,updateDoc:It,increment:yt}},void 0);await Ge(qe(gt,"products",Re),{viewCount:dt(1)})}catch{}};B.useEffect(()=>{const Re=G.current;if(!Re)return;let qe=0;const Ge=()=>{cancelAnimationFrame(qe),qe=requestAnimationFrame(()=>{const dt=Re.scrollLeft+Re.clientWidth/2;let Nt=0,It=1/0;I.current.forEach((yt,wt)=>{if(!yt)return;const Xt=yt.getBoundingClientRect(),qt=Re.getBoundingClientRect(),Bt=Xt.left-qt.left+Xt.width/2+Re.scrollLeft,mr=Math.abs(Bt-dt);mr<It&&(It=mr,Nt=wt)}),X(Nt)})};return Re.addEventListener("scroll",Ge,{passive:!0}),Ge(),()=>{Re.removeEventListener("scroll",Ge),cancelAnimationFrame(qe)}},[xe.length]),B.useEffect(()=>{const Re=G.current;if(!Re||I.current.length===0||window.matchMedia?.("(prefers-reduced-motion: reduce)").matches)return;let qe=!1,Ge;const dt=()=>{qe=!0,clearTimeout(Ge),Ge=setTimeout(()=>{qe=!1},1800)};Re.addEventListener("pointerdown",dt),Re.addEventListener("wheel",dt,{passive:!0}),Re.addEventListener("touchstart",dt,{passive:!0});const Nt=setInterval(()=>{if(qe)return;const It=(fe+1)%I.current.length,yt=I.current[It];if(yt&&Re){const wt=yt.offsetLeft,Xt=Math.max(0,Math.round(wt-(Re.clientWidth-yt.clientWidth)/2));Re.scrollTo({left:Xt,behavior:"smooth"})}},3e3);return()=>{clearInterval(Nt),Re.removeEventListener("pointerdown",dt),Re.removeEventListener("wheel",dt),Re.removeEventListener("touchstart",dt),clearTimeout(Ge)}},[fe,xe.length]),k&&k.role;const Et={Prescription:"PrescriptionDrugs.svg","Over-the-counter":"Over-the-counter Icon.svg",Syrup:"Syrup.svg",Therapeutic:"Therapeutic.svg",Controlled:"ControlledSubstances.svg","Target System":"TargetSystem.svg"};return t.length?d.jsxs(d.Fragment,{children:[d.jsx(qK,{user:k,profile:N,location:Y,navigate:P,etaInfo:T,closestPharmacy:Q,vendors:r,userCoords:V,t:L}),d.jsx("div",{className:"min-h-screen w-full px-0 pb-20 pt-32 bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"flex-1 overflow-y-auto w-full mx-auto flex flex-col pb-28 px-0",children:[d.jsxs("div",{className:"flex items-center gap-3 border-b border-zinc-300 dark:border-gray-600 dark:border-zinc-600 pb-2",children:[d.jsx(ad,{className:"h-5 w-5 md:h-6 md:w-6 lg:h-7 lg:w-7 text-zinc-400 dark:text-zinc-500"}),d.jsx("input",{value:y,onChange:Re=>{w(Re.target.value),o(!0),c(-1)},onKeyDown:Re=>{if(!(!s||le.length===0))switch(Re.key){case"ArrowDown":Re.preventDefault(),c(qe=>qe<le.length-1?qe+1:0);break;case"ArrowUp":Re.preventDefault(),c(qe=>qe>0?qe-1:le.length-1);break;case"Enter":if(Re.preventDefault(),l>=0&&l<le.length){const qe=le[l];w(qe.name||qe.displayName||""),o(!1);const Ge=qe.id||qe.vendorId;Ge&&P(`/vendor/${Ge}`)}break;case"Escape":o(!1),c(-1);break}},onBlur:()=>{setTimeout(()=>{o(!1),c(-1)},200)},placeholder:L("search_placeholder","Search drugs, pharmacies"),className:"w-full outline-none bg-transparent text-gray-900 dark:text-white placeholder:text-[12px] md:placeholder:text-[14px] lg:placeholder:text-[16px] placeholder:text-[#888888] dark:placeholder:text-[#aaaaaa] placeholder:font-light"})]}),s&&y.trim().length>0&&le.length>0&&d.jsxs("div",{className:"mt-2 left-0 right-0 md:left-6 md:right-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg divide-y dark:divide-gray-700 max-h-56 overflow-auto animate-fade-in",children:[le.map((Re,qe)=>d.jsx("button",{onClick:()=>{w(Re.name||Re.displayName||""),o(!1);const Ge=Re.id||Re.vendorId;if(Ge)try{P(`/vendor/${Ge}`)}catch{window.location.href=`/vendor/${Ge}`}},onKeyDown:Ge=>{if(Ge.key==="Enter"||Ge.key===" "){Ge.preventDefault();const dt=Re.id||Re.vendorId;dt&&P(`/vendor/${dt}`)}},className:`w-full text-left px-4 py-3 focus:outline-none transition-all duration-200 animate-fadeInUp border-b border-gray-100 last:border-b-0 ${qe===l?"bg-blue-100 border-blue-200":"hover:bg-zinc-50 focus:bg-zinc-100"}`,style:{animationDelay:`${qe*.05}s`},role:"option",tabIndex:0,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 flex-shrink-0",children:d.jsxs("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:y.trim()&&(Re.name||Re.displayName||"").toLowerCase().includes(y.toLowerCase())?d.jsx("span",{children:(Re.name||Re.displayName||"").split(new RegExp(`(${y})`,"gi")).map((Ge,dt)=>Ge.toLowerCase()===y.toLowerCase()?d.jsx("span",{className:"bg-yellow-200 px-1 rounded",children:Ge},dt):Ge)}):Re.name||Re.displayName}),d.jsx("div",{className:"text-xs text-gray-500 truncate mt-1",children:y.trim()&&(Re.address||Re.city||Re.location||"").toLowerCase().includes(y.toLowerCase())?d.jsx("span",{children:(Re.address||Re.city||Re.location||"").split(new RegExp(`(${y})`,"gi")).map((Ge,dt)=>Ge.toLowerCase()===y.toLowerCase()?d.jsx("span",{className:"bg-yellow-200 px-1 rounded",children:Ge},dt):Ge)}):Re.address||Re.city||Re.location||""})]}),d.jsx("div",{className:"text-xs text-blue-600 font-medium flex-shrink-0",children:"Pharmacy"})]})},Re.id||Re.vendorId||Re.name)),le.length>0&&d.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 text-center bg-gray-50 border-t animate-fade-in",children:"Use ↑↓ arrow keys to navigate, Enter to select, Esc to close"})]}),d.jsx("div",{className:"mt-3 mb-2 w-full overflow-x-auto scrollbar-hide",children:d.jsx("div",{className:"flex gap-3 min-w-max",children:["All","Prescription","Over-the-counter","Syrup","Therapeutic","Controlled","Target System"].map((Re,qe)=>{const Ge=Et[Re],dt=pe===Re;return d.jsx("button",{className:`flex items-center px-4 py-2 md:px-6 md:py-2.5 lg:px-8 lg:py-3 rounded-full text-[9px] md:text-[12px] lg:text-[14px] font-poppins font-light whitespace-nowrap border transition-all duration-200 btn-interactive animate-fadeInUp ${dt?"bg-sky-100 dark:bg-sky-900 border-sky-400 dark:border-gray-600 dark:border-sky-500 text-sky-700 dark:text-sky-300 shadow-md scale-105":"bg-zinc-100 dark:bg-gray-700 text-zinc-700 dark:text-zinc-300 border-zinc-200 dark:border-gray-600 hover:bg-sky-50 dark:hover:bg-sky-800 hover:border-sky-300 dark:border-gray-600 dark:hover:border-sky-500 hover:shadow-sm"}`,style:{animationDelay:`${qe*.1}s`},onClick:()=>_e(Re),children:Ge?d.jsxs(d.Fragment,{children:[d.jsx("img",{src:`/${encodeURIComponent(Ge)}`,alt:`${Re} icon`,className:`h-4 w-4 md:h-5 md:w-5 mr-2 object-contain flex-shrink-0 transition-transform duration-200 dark:invert dark:brightness-0 dark:contrast-100 ${dt?"scale-110":""}`}),d.jsx("span",{className:"truncate",children:Re})]}):d.jsx("span",{className:"truncate",children:Re})},Re)})})}),xe.length>0&&d.jsx("div",{className:"w-full mt-6 mb-4 overflow-x-auto scrollbar-hide snap-x snap-mandatory scroll-smooth",ref:G,role:"region","aria-label":"Announcements",style:{height:140},children:d.jsx("div",{className:"flex gap-4 md:gap-6 min-w-max h-full",children:xe.map((Re,qe)=>{const Ge=Re.bgColor||"#3BA3FF",dt=Re.headerColor||"#ffffff",Nt=Re.previewColor||(Re.headerColor?Re.headerColor+"cc":"#ffffffcc"),It=Re.linkColor||Re.linkTextColor||"#ffffff",yt=Re.headerFontSize||20,wt=Re.previewFontSize||13,Xt=Re.linkTextFontSize||Re.linkFontSize||13;return d.jsxs("div",{ref:q(qe),className:"relative flex-shrink-0 snap-center rounded-2xl overflow-hidden",style:{width:"90vw",maxWidth:700,minWidth:260,height:"100%",background:Ge,position:"relative"},children:[Re.fullImage&&d.jsx("img",{src:Re.fullImage,alt:Re.header||"Info",className:"w-full h-full object-cover",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}),Re.image&&!Re.fullImage&&d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center justify-end pointer-events-none",children:d.jsx("img",{src:Re.image,alt:"",className:"object-cover",style:{height:"100%",maxWidth:"100%",borderRadius:"0 16px 16px 0"}})}),d.jsx("div",{className:"absolute inset-y-0 right-0",style:{width:"55%",background:"linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.06) 60%, rgba(0,0,0,0.10) 100%)",pointerEvents:"none"}}),d.jsx("div",{className:"relative z-10 h-full flex items-center",children:d.jsxs("div",{className:"px-4 md:px-6 py-5 min-w-0 max-w-[65%] md:max-w-[60%] lg:max-w-[60%]",children:[d.jsx("div",{style:{color:dt,fontSize:yt+"px",lineHeight:1,fontWeight:300,letterSpacing:"-0.02em"},children:ne(Re.header)||"—"}),Re.preview&&d.jsx("div",{style:{marginTop:8,color:Nt,fontSize:wt+"px",lineHeight:1.2},children:ne(Re.preview)}),Re.link&&Re.linkText&&(()=>{const qt=De(Re.link),Bt=Ke(qt);return d.jsx("a",{href:qt,onClick:mr=>{if(!Bt){mr.preventDefault();try{P(qt)}catch{window.location.href=qt}}},...Bt?{target:"_blank",rel:"noopener noreferrer"}:{},style:{display:"inline-block",marginTop:12,textDecoration:"underline",color:It,fontSize:Xt+"px",fontWeight:500},children:ne(Re.linkText)})})()]})})]},Re.id)})})}),d.jsxs("div",{className:"mt-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-[15px] md:text-[18px] lg:text-[22px] font-medium font-poppins",children:L("new_arrivals","New Arrivals")}),d.jsx("button",{className:"text-[13px] md:text-[15px] lg:text-[17px] font-normal font-poppins text-sky-600",onClick:()=>re(!0),children:L("view_all","view all")})]}),d.jsx("div",{ref:j,className:"w-full overflow-x-auto scrollbar-hide cursor-grab active:cursor-grabbing",style:{overflowX:"auto"},onMouseDown:Re=>{const qe=j.current;if(!qe)return;let Ge=Re.pageX-qe.offsetLeft,dt=qe.scrollLeft;function Nt(yt){qe.scrollLeft=dt-(yt.pageX-qe.offsetLeft-Ge)}function It(){window.removeEventListener("mousemove",Nt),window.removeEventListener("mouseup",It)}window.addEventListener("mousemove",Nt),window.addEventListener("mouseup",It)},children:d.jsx("div",{className:"flex gap-3 md:gap-4 lg:gap-6 min-w-max pb-2",children:Le.map(Re=>d.jsxs("div",{className:"relative",children:[d.jsx(p4,{product:Re,onOpen:()=>mt(Re.id),onAdd:()=>k?w1(k.uid,Re.id,1):alert(L("please_sign_in","Please sign in")),cardWidth:"110px",cardHeight:"128px",nameSize:"11px",nameWeight:"medium",nameTracking:"-0.5px",priceSize:"9px",priceColor:"#BDBDBD",priceWeight:"medium",addColor:"#36A5FF",addSize:"9px"}),d.jsx("span",{className:"absolute top-1 left-1 bg-sky-500 text-white text-[9px] font-semibold px-2 py-0.5 rounded-full shadow-sm select-none pointer-events-none",children:L("new","New")})]},Re.id||Re.sku))})})]}),M&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:d.jsxs("div",{className:"bg-white rounded-[20px] shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 relative",children:[d.jsx("button",{className:"absolute top-2 right-2 text-zinc-500 hover:text-zinc-800 text-xl font-bold",onClick:()=>re(!1),"aria-label":L("close","Close"),children:"×"}),d.jsx("div",{className:"text-[20px] md:text-[26px] font-light mb-4 font-poppins text-left",children:L("all_new_products","All New Products")}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 justify-items-center",children:et.map(Re=>d.jsxs("div",{className:"relative flex flex-col items-center",children:[d.jsx(p4,{product:Re,onOpen:()=>mt(Re.id),onAdd:()=>k?w1(k.uid,Re.id,1):alert(L(L("please_sign_in","please_sign_in","Please sign in"))),cardWidth:"110px",cardHeight:"128px",nameSize:"11px",nameWeight:"semi-bold",nameTracking:"-0.5px",priceSize:"9px",priceColor:"#BDBDBD",priceWeight:"medium",addColor:"#36A5FF",addSize:"9px"}),d.jsx("span",{className:"absolute top-1 left-1 bg-sky-500 text-white text-[9px] font-semibold px-2 py-0.5 rounded-full shadow-sm select-none pointer-events-none",children:L("new","New")})]},Re.id||Re.sku))}),Be>1&&ce<Be&&d.jsx("div",{className:"flex items-center justify-center gap-3 mt-4",children:d.jsx("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white hover:bg-sky-700",onClick:()=>ve(Re=>Math.min(Be,Re+1)),"aria-label":L("load_more","Load more")+" "+L("new_arrivals","new arrivals"),children:L("load_more","Load more")})})]})}),d.jsxs("div",{className:"mt-10",children:[d.jsx("div",{className:"text-[15px] md:text-[18px] lg:text-[22px] font-medium font-poppins mb-3",children:L("popular_products","Popular Products")}),d.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 lg:gap-8",children:de.map(Re=>d.jsx("div",{className:"flex justify-center relative",children:d.jsx(p4,{product:Re,onOpen:()=>mt(Re.id),onAdd:()=>k?w1(k.uid,Re.id,1):alert("Please sign in"),cardWidth:"128px",cardHeight:"120px",nameSize:"12px",nameWeight:"semi-bold",nameTracking:"-0.5px",nameLineHeight:"-1.1",priceSize:"11px",priceColor:"#BDBDBD",priceWeight:"medium",priceLineHeight:"1.1",addColor:"#36A5FF",addSize:"9px",borderRadius:"10px"},Re.id||Re.sku)},(Re.id||Re.sku)+"-wrapper"))}),Pe>1&&W<Pe&&d.jsx("div",{className:"flex items-center justify-center gap-4 mt-4",children:d.jsx("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white hover:bg-sky-700",onClick:()=>J(Re=>Math.min(Pe,Re+1)),"aria-label":L("load_more","Load more")+" "+L("popular_products","popular products"),children:L("load_more","Load more")})})]})]})})]}):d.jsx(ig,{lines:6,className:"my-8"})}function EP({open:t,onClose:e,children:r}){const[n,i]=B.useState(!1),[a,s]=B.useState(!1);return B.useEffect(()=>{t?(s(!0),setTimeout(()=>i(!0),10)):(i(!1),setTimeout(()=>s(!1),300))},[t]),a?d.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center px-2 sm:px-4 transition-all duration-300 ${n?"bg-black/30":"bg-black/0"}`,onClick:e,children:d.jsxs("div",{className:`bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto border border-[#36A5FF] transition-all duration-300 transform ${n?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"}`,style:{borderWidth:1},onClick:o=>o.stopPropagation(),children:[d.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-zinc-400 hover:text-zinc-700 text-xl font-bold focus:outline-none transition-all duration-200 hover:scale-110 hover:bg-zinc-100 rounded-full w-8 h-8 flex items-center justify-center","aria-label":"Close",children:"×"}),d.jsx("div",{className:"animate-fadeInUp",children:r})]})}):null}const f9=["pending","processing","fulfilled","cancelled"],HK=({title:t,t:e})=>la.createPortal(d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:d.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:d.jsx("h1",{className:"mt-8 text-[28px] sm:text-[35px] md:text-[42px] lg:text-[48px] font-light font-poppins text-gray-900 dark:text-white",children:e("orders","Orders")})})}),document.body);function SP(){const{user:t,profile:e}=Pn(),{t:r}=Na(),[n,i]=B.useState([]),[a,s]=B.useState("all"),[o,l]=B.useState({}),[c,f]=B.useState({}),[p,g]=B.useState(null),[m,y]=B.useState([]),w=Ni(),k=Yl(),[N,L]=B.useState(null);B.useEffect(()=>{if(!t||!e)return;const R=e.uid||t.uid;let T;return e.role==="pharmacy"?T=Nr(ur(gt,"orders"),$r("pharmacyId","==",R),es("createdAt","desc")):T=Nr(ur(gt,"orders"),$r("customerId","==",R),es("createdAt","desc")),ri(T,j=>{i(j.docs.map(A=>({id:A.id,...A.data()})))})},[t,e]),B.useEffect(()=>{const R=k?.state?.highlightOrderId,T=new URLSearchParams(k.search).get("highlight");R?L(R):T&&L(T)},[k]),B.useEffect(()=>{if(!N||n.length===0)return;const R=N,T=setTimeout(()=>{const j=document.getElementById(`order-${R}`);j&&j.scrollIntoView({behavior:"smooth",block:"center"})},250),S=setTimeout(()=>L(null),5e3);return w(k.pathname,{replace:!0,state:{}}),()=>{clearTimeout(T),clearTimeout(S)}},[N,n]);const P=async(R,T)=>{await ya(or(gt,"orders",R),{status:T})},V=a==="all"?n:n.filter(R=>(R.status||"pending")===a),Y=R=>{l(T=>({...T,[R]:!T[R]}))};B.useEffect(()=>{async function R(){if(!p||!p.items)return y([]);const S=p.items.map(A=>A.productId).map(A=>aa(or(gt,"products",A))),j=await Promise.all(S);y(j.map(A=>A.exists()?{id:A.id,...A.data()}:null))}R()},[p]);function Q(R){const T={};return R.forEach(S=>{const j=S.productId;T[j]?T[j].qty+=Number(S.qty||S.quantity||1):T[j]={...S,qty:Number(S.qty||S.quantity||1)}}),Object.values(T)}return t?d.jsxs(d.Fragment,{children:[d.jsx(HK,{title:"Orders",t:r}),d.jsxs("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col",children:[d.jsxs("div",{className:"mt-8 flex gap-2 flex-wrap",children:[d.jsx("button",{className:`px-3 py-1 rounded-full border text-[12px] font-light ${a==="all"?"bg-sky-600 text-white border-sky-600 dark:border-gray-600":"border-zinc-300 dark:border-gray-600 text-zinc-600"}`,onClick:()=>s("all"),children:r("all","All")}),f9.map(R=>d.jsx("button",{className:`px-3 py-1 rounded-full border text-[12px] font-light ${a===R?"bg-sky-600 text-white border-sky-600 dark:border-gray-600":"border-zinc-300 dark:border-gray-600 text-zinc-600"}`,onClick:()=>s(R),children:r(R,R.charAt(0).toUpperCase()+R.slice(1))},R))]}),d.jsx("div",{className:"mt-4 space-y-6",children:V.length===0?d.jsx("div",{className:"text-zinc-500 font-extralight text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] text-center py-12 animate-fadeInUp",children:r("no_orders_yet","No orders yet.")}):V.map((R,T)=>{const S=R.items||[],j=o[R.id],A=S.length>4,F=j?S:S.slice(0,4),M=R.customerPhone||R.customer_phone||R.phone||"",re=c[R.id];return d.jsxs("div",{id:`order-${R.id}`,className:`relative rounded-[10px] border border-gray-200 dark:border-gray-600 p-4 flex flex-col gap-2 group hover:bg-sky-50 transition-all duration-200 card-interactive animate-fadeInUp ${N===R.id?"ring-4 ring-sky-200 bg-sky-50 scale-102":""}`,style:{cursor:"pointer",animationDelay:`${T*.1}s`},onClick:pe=>{pe.target.closest(".order-see-more-btn")||e.role==="pharmacy"&&pe.target.closest(".order-status-dropdown")||g(R)},children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"font-light text-[14px] sm:text-[15px] md:text-[18px] lg:text-[22px]",children:[r("order_number","Order #"),R.id.slice(0,6)]}),d.jsx("div",{className:"text-gray-500 text-[11px] sm:text-[12px] md:text-[14px] lg:text-[16px] font-light",children:R.createdAt?.toDate?.().toLocaleString?.()||""})]}),d.jsxs("div",{className:"text-[14px] sm:text-[15px] md:text-[18px] lg:text-[22px] font-medium",children:["₦",Number(R.total).toLocaleString()]})]}),e.role==="pharmacy"&&d.jsxs("div",{className:"mt-2",children:[d.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 flex items-center gap-2",children:[r("customer","Customer"),": ",R.customerName||R.customerId||R.customer_id||"N/A"]}),d.jsx("div",{className:"text-[12px] text-zinc-400 font-light mb-2",children:R.customerEmail||""}),d.jsxs("div",{className:"text-[13px] text-zinc-700 font-medium mb-1",children:[r("items","Items"),":"]}),d.jsx("ul",{className:"ml-2 list-disc text-[13px] text-zinc-700",children:F.map((pe,_e)=>d.jsxs("li",{children:[d.jsx("span",{children:pe.name||pe.productId}),d.jsxs("span",{children:[" x",pe.qty||pe.quantity||1]})]},_e))}),A&&d.jsx("button",{className:"order-see-more-btn text-sky-600 text-xs mt-1 ml-2 font-medium hover:underline focus:outline-none",onClick:pe=>{pe.stopPropagation(),Y(R.id)},children:j?r("see_less","See less"):`${r("see_more","See more")} (${S.length-4} ${r("more_items","more")})`}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("span",{className:"text-[12px] text-zinc-500",children:[r("status","Status"),":"]}),d.jsx("select",{className:"order-status-dropdown border rounded px-2 py-1 text-[12px]",value:R.status||"pending",onChange:pe=>P(R.id,pe.target.value),children:f9.map(pe=>d.jsx("option",{value:pe,children:r(pe,pe.charAt(0).toUpperCase()+pe.slice(1))},pe))}),M&&!re&&d.jsx("button",{className:"ml-2 px-3 py-1 rounded-full bg-sky-600 text-white text-[12px] font-light",onClick:pe=>{pe.stopPropagation(),f(_e=>({..._e,[R.id]:!0}))},children:r("reveal_number","Reveal Number")}),M&&re&&d.jsx("span",{className:"ml-2 text-[13px] text-zinc-700 font-medium",children:M})]})]})]},R.id)})}),d.jsx(EP,{open:!!p,onClose:()=>g(null),children:p&&d.jsxs("div",{children:[d.jsxs("div",{className:"text-lg font-medium mb-2",children:[r("order_number","Order #"),p.id.slice(0,6)]}),d.jsx("div",{className:"text-zinc-500 text-xs mb-4",children:p.createdAt?.toDate?.().toLocaleString?.()||""}),d.jsxs("div",{className:"mb-2 text-[15px] font-medium",children:[r("items","Items"),":"]}),d.jsx("ul",{className:"mb-4 space-y-2",children:Q(p.items).map((R,T)=>{const S=m.find(j=>j&&j.id===R.productId);return d.jsxs("li",{className:"flex items-center gap-3",children:[S?d.jsx(Gl,{name:S.name,image:S.image,category:S.category,size:40,roundedClass:"rounded-lg"}):null,d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-poppins font-medium text-[14px]",children:S?S.name:R.productId}),d.jsxs("div",{className:"text-zinc-500 text-xs",children:[r("qty","Qty"),": ",R.qty]})]}),d.jsxs("div",{className:"text-[14px] font-medium text-sky-600",children:["₦",Number(R.price||S?.price||0).toLocaleString()]})]},R.productId)})}),d.jsxs("div",{className:"flex justify-between items-center border-t pt-3 mt-2",children:[d.jsxs("div",{className:"text-[15px] font-medium",children:[r("total","Total"),":"]}),d.jsxs("div",{className:"text-[15px] font-bold text-sky-700",children:["₦",Number(p.total).toLocaleString()]})]}),d.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[r("status","Status"),": ",r(p.status||"pending",p.status||"pending")]})]})})]})]}):d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[d.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:r("please_sign_in_continue","Please sign in to continue")}),d.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>w("/auth/landing"),children:r("sign_in_sign_up","Sign In / Sign Up")})]})}const WK=({title:t,t:e})=>la.createPortal(d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:d.jsx("div",{className:"w-full mt-8 max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:d.jsx("h1",{className:"text-[25px] font-light leading-none text-gray-900 dark:text-white whitespace-pre-line",children:e("my_conversations",`My
Conversations`)})})}),document.body);function CP(){const{user:t,profile:e}=Pn(),{t:r}=Na(),[n,i]=B.useState([]),[a,s]=B.useState("");Yl();const o=Ni();B.useEffect(()=>{if(!(!t||!e?.role))return Ay({uid:t.uid,role:e.role},i,y=>console.error("listenUserThreads error:",y))},[t?.uid,e?.role]);const l=async y=>{try{await Sv(y.id,t.uid)}catch(w){console.error(w)}if(e?.role==="customer"){const w=y.vendorId||(y.id&&y.id.includes("__")?y.id.split("__")[0]:"");o(w?`/chat/${w}`:`/thread/${y.id}`)}else o(`/thread/${y.id}`)};if(!t)return d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[d.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:r("please_sign_in_continue","Please sign in to continue")}),d.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>o("/auth/landing"),children:r("sign_in_sign_up","Sign In / Sign Up")})]});const c=t?.uid,f=y=>y?.unread?.[c]||0,p=y=>(e?.role==="customer"?y.vendorName:y.customerName)||"",g=y=>y.lastAt?.seconds?new Date(y.lastAt.seconds*1e3):null,m=n.filter(y=>{const w=p(y).toLowerCase(),k=a.toLowerCase();return!k||w.includes(k)||(y.lastMessage||"").toLowerCase().includes(k)});return d.jsxs(d.Fragment,{children:[d.jsx(WK,{title:"My Conversations",t:r}),d.jsxs("div",{className:"min-h-screen pt-24 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 pb-28",children:[d.jsxs("div",{className:"mt-14 flex items-center gap-3 border-b border-zinc-300 dark:border-gray-600 pb-2",children:[d.jsx(ad,{className:"h-4 w-4 text-zinc-400"}),d.jsx("input",{placeholder:r("search_chats","Search chats"),value:a,onChange:y=>s(y.target.value),className:"w-full outline-none placeholder:text-zinc-400 bg-transparent placeholder:text-sm"})]}),d.jsxs("div",{className:"mt-12 space-y-4 w-full",children:[m.map((y,w)=>d.jsxs("button",{onClick:()=>l(y),className:"w-full rounded-[10px] border border-gray-300 dark:border-gray-600 px-4 py-3 text-left h-[62px] flex items-center gap-3 bg-white hover:bg-zinc-50 transition-all duration-200 card-interactive animate-fadeInUp",style:{animationDelay:`${w*.1}s`},children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-200 flex items-center justify-center",children:d.jsx("span",{className:"text-zinc-500 text-xs font-semibold",children:(p(y)||"U")[0]})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-sm truncate",children:p(y)}),d.jsx("div",{className:"text-zinc-500 text-[10px] truncate",children:y.lastMessage||r("no_messages_yet","No messages yet.")})]}),d.jsxs("div",{className:"flex flex-col items-end justify-between h-full min-w-[48px]",children:[f(y)>0&&d.jsx("span",{className:"bg-sky-500 text-white text-[10px] font-semibold rounded-full px-2 py-0.5 mb-1",children:f(y)}),d.jsx("span",{className:"text-zinc-400 text-[10px]",children:g(y)?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})||""})]})]},y.id)),m.length===0&&d.jsx("div",{className:"text-zinc-500",children:r("no_conversations_yet","No conversations yet.")})]})]})]})}function GK(t){return d.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsxs("g",{children:[d.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"#fd9292"}),d.jsx("path",{d:"M5.5 5.5L10.5 10.5M10.5 5.5L5.5 10.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})})}const KK=({title:t,itemCount:e,t:r})=>la.createPortal(d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:d.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:d.jsx("div",{className:"flex mt-8 items-center justify-between",children:d.jsx("h1",{className:"text-[28px] sm:text-[35px] md:text-[42px] lg:text-[48px] font-light font-poppins text-gray-900 dark:text-white",children:r("cart","Cart")})})})}),document.body);function NP(){const{user:t}=Pn(),{t:e}=Na(),r=Ni(),{userCoords:n,location:i}=pp(),[a,s]=B.useState([]),[o,l]=B.useState(!1),[c,f]=B.useState(!1),[p,g]=B.useState(""),[m,y]=B.useState(""),[w,k]=B.useState(""),[N,L]=B.useState([]),[P,V]=B.useState(!1),[Y,Q]=B.useState(""),[R,T]=B.useState(0);B.useEffect(()=>{if(!t)return;const G=Nr(ur(gt,"users",t.uid,"cart"));return ri(G,async fe=>{const X=await Promise.all(fe.docs.map(async I=>{const q=I.data(),W=await aa(or(gt,"products",q.productId));return{id:I.id,...q,product:{id:W.id,...W.data()}}}));s(X)})},[t]),B.useEffect(()=>{t&&!p&&(k(t.email||""),y(t.phoneNumber||""),g(i||"Current location"))},[t,i,p]),B.useEffect(()=>{a.length>0&&n&&A()},[a,n]);const S=B.useMemo(()=>a.reduce((G,fe)=>G+(fe.product?.price+0||0)*fe.qty,0),[a]),j=B.useMemo(()=>S+R,[S,R]),A=async()=>{if(!n||a.length===0){T(0);return}try{const G=[...new Set(a.map(I=>I.product?.pharmacyId).filter(Boolean))];let fe=0;for(const I of G){const W=(await aa(or(gt,"pharmacies",I))).data();if(W){let J,ce;if(W.coordinates?.latitude&&W.coordinates?.longitude?(J=W.coordinates.latitude,ce=W.coordinates.longitude):W.lat&&W.lon?(J=W.lat,ce=W.lon):W.latitude&&W.longitude&&(J=W.latitude,ce=W.longitude),J&&ce){const ve=Ry(n.latitude,n.longitude,J,ce);fe+=ve}}}const X=Math.round(fe*300);T(X)}catch(G){console.error("Error calculating delivery fee:",G),T(300)}},F=async G=>{if(G.length<3){L([]);return}V(!0);try{const X=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(G)}&limit=5&countrycodes=ng`)).json();L(X.map(I=>I.display_name))}catch(fe){console.error("Error searching addresses:",fe),L([])}V(!1)},M=()=>{i&&n&&(g(i),L([]))},re=()=>{l(!0)},pe=()=>{l(!1),f(!0)},_e=async()=>{if(!(!t||!a.length||!Y))try{const fe=a[0].product?.pharmacyId,X=xe(),I={customerId:t.uid,pharmacyId:fe,items:X.map(W=>({productId:W.productId,quantity:W.qty,price:W.product.price,pharmacyId:W.product.pharmacyId})),total:j,subtotal:S,deliveryFee:R,deliveryAddress:p,customerPhone:m,customerEmail:w||t.email,paymentMethod:Y};let q;if(Y==="online"?q=await J3(I):q=await J3({...I,paymentStatus:"pending",orderStatus:"confirmed"}),console.log(`OrderStatus: ${q}`),q===!1){alert(e("order_placement_failed","Order placement failed"));return}for(const W of a)await Ux(t.uid,W.id);f(!1),l(!1),alert(Y==="cash"?e("order_placed_delivery","Order placed successfully! You'll pay on delivery."):e("payment_successful","Payment successful! Your order has been placed.")),r("/customer/orders")}catch(G){console.error("Checkout error:",G),alert(e("checkout_failed","Checkout failed. Please try again."))}},xe=()=>{const G=new Map;for(const fe of a){const X=fe.product?.id;if(X)if(G.has(X)){const I=G.get(X);G.set(X,{...I,qty:I.qty+fe.qty,ids:[...I.ids||[I.id],fe.id]})}else G.set(X,{...fe,ids:[fe.id]})}return Array.from(G.values())},oe=B.useMemo(()=>{const G=new Map;for(const fe of a){const X=fe.product?.id;if(X)if(G.has(X)){const I=G.get(X);G.set(X,{...I,qty:I.qty+fe.qty,ids:[...I.ids||[I.id],fe.id]})}else G.set(X,{...fe,ids:[fe.id]})}return Array.from(G.values())},[a]);return t?t&&a.length===0?d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:d.jsx("div",{className:"text-zinc-500 font-extralight text-[14px]",children:e("your_cart_is_empty","Your cart is empty.")})}):d.jsxs(d.Fragment,{children:[d.jsx(KK,{title:"Cart",itemCount:a.length,t:e}),d.jsxs("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col",children:[d.jsxs("div",{className:"mt-10 grid grid-cols-2 gap-3",children:[oe.map((G,fe)=>d.jsxs("div",{className:"relative rounded-xl border border-zinc-200 p-2 flex flex-col items-center gap-2 min-w-0 card-interactive animate-fadeInUp",style:{animationDelay:`${fe*.1}s`},children:[d.jsx("button",{onClick:()=>G.ids.forEach(X=>Ux(t.uid,X)),className:"absolute top-2 right-2 z-10 p-0.5 rounded-full hover:scale-110 transition-all duration-200 hover:bg-red-50 icon-interactive","aria-label":e("remove","Remove"),children:d.jsx(GK,{className:"w-5 h-5 text-red-500"})}),d.jsx(Gl,{name:G.product?.name,image:G.product?.image,category:G.product?.category,size:35,roundedClass:"rounded-xl"}),d.jsxs("div",{className:"flex-1 w-full text-center",children:[d.jsx("div",{className:"font-semibold text-[12px] sm:text-[13px] md:text-[14px] lg:text-[15px] truncate",children:G.product?.name}),d.jsxs("div",{className:"text-zinc-500 text-[10px] sm:text-[11px] md:text-[12px] lg:text-[13px]",children:["₦",Number(G.product?.price||0).toLocaleString()]})]}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx("button",{className:"w-6 h-6 rounded-full border border-zinc-300 dark:border-gray-600 flex items-center justify-center text-[18px] font-light disabled:opacity-40 btn-interactive transition-all duration-200 hover:border-sky-500 hover:text-sky-600",onClick:async()=>{G.qty>1&&await Ux(t.uid,G.ids[0])},disabled:G.qty<=1,"aria-label":e("decrease_quantity","Decrease quantity"),children:"-"}),d.jsx("span",{className:"text-[13px] font-poppins w-6 text-center font-medium",children:G.qty}),d.jsx("button",{className:"w-6 h-6 rounded-full border border-zinc-300 dark:border-gray-600 flex items-center justify-center text-[18px] font-light btn-interactive transition-all duration-200 hover:border-sky-500 hover:text-sky-600",onClick:async()=>{if(G.product?.id){const{addToCart:X}=await Yu(async()=>{const{addToCart:I}=await Promise.resolve().then(()=>pK);return{addToCart:I}},void 0);await X(t.uid,G.product.id,1)}},"aria-label":e("increase_quantity","Increase quantity"),children:"+"})]})]},G.product?.id)),oe.length===0&&d.jsx("div",{className:"text-zinc-500 font-extralight text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] col-span-2",children:e("your_cart_is_empty","Your cart is empty.")})]}),oe.length>0&&d.jsxs("div",{className:"mt-6 rounded-xl border border-sky-400 dark:border-gray-600 p-3",children:[d.jsxs("div",{className:"flex flex-col gap-2 text-[13px] sm:text-[15px] md:text-[18px] lg:text-[22px] font-regular",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:e("subtotal","Subtotal")}),d.jsxs("span",{className:"font-semibold text-[12px] sm:text-[15px]",children:["₦",Number(S).toLocaleString()]})]}),R>0&&d.jsxs("div",{className:"flex items-center justify-between text-[11px] sm:text-[13px] text-gray-600",children:[d.jsx("span",{children:e("delivery_fee","Delivery Fee")}),d.jsxs("span",{children:["₦",Number(R).toLocaleString()]})]}),d.jsxs("div",{className:"flex items-center justify-between border-t pt-2 font-medium",children:[d.jsx("span",{children:e("total","Total")}),d.jsxs("span",{className:"font-semibold text-[12px] sm:text-[15px]",children:["₦",Number(j).toLocaleString()]})]})]}),d.jsx("button",{onClick:re,className:"mt-4 w-full rounded-full border bg-sky-400 text-white py-2 text-[12px] sm:text-[14px] lg:text-[16px] font-light",children:e("proceed_to_checkout","Proceed to Checkout")})]})]}),o&&d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsx("div",{className:"bg-white rounded-3xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600",children:e("order_summary","Order Summary")}),d.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:d.jsx(tw,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("h3",{className:"text-[16px] font-medium mb-3",children:[e("items","Items")," (",oe.length,")"]}),d.jsx("div",{className:"space-y-3",children:oe.map(G=>d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[d.jsx(Gl,{name:G.product?.name,image:G.product?.image,category:G.product?.category,size:40,roundedClass:"rounded-lg"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-[14px] font-medium truncate",children:G.product?.name}),d.jsxs("div",{className:"text-[12px] text-gray-600",children:[e("qty","Qty"),": ",G.qty]})]}),d.jsxs("div",{className:"text-[14px] font-medium text-sky-600",children:["₦",Number((G.product?.price||0)*G.qty).toLocaleString()]})]},G.product?.id))})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:"text-[16px] font-medium mb-3",children:e("delivery_details","Delivery Details")}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:[e("delivery_address","Delivery Address")," *"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:p,onChange:G=>{g(G.target.value),F(G.target.value)},placeholder:e("enter_delivery_address","Enter delivery address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px] pr-10"}),d.jsx("button",{onClick:M,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-sky-600 hover:bg-sky-50 rounded-full transition-colors",title:e("use_current_location","Use current location"),children:d.jsx(ew,{className:"w-4 h-4"})})]}),N.length>0&&d.jsx("div",{className:"mt-2 bg-white border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-40 overflow-y-auto relative z-[10000]",children:N.map((G,fe)=>d.jsx("button",{onClick:()=>{g(G),L([])},className:"w-full text-left p-3 hover:bg-gray-50 text-[13px] border-b last:border-b-0",children:G},fe))})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:[e("phone_number","Phone Number")," *"]}),d.jsx("input",{type:"tel",value:m,onChange:G=>y(G.target.value),placeholder:e("enter_phone_number","Enter phone number"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:e("email_optional","Email (Optional)")}),d.jsx("input",{type:"email",value:w,onChange:G=>k(G.target.value),placeholder:e("enter_email_address","Enter email address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]})]})]})]}),d.jsxs("div",{className:"mb-6 p-4 bg-sky-50 rounded-lg",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-[14px]",children:e("subtotal","Subtotal")}),d.jsxs("span",{className:"text-[14px] font-medium",children:["₦",Number(S).toLocaleString()]})]}),R>0&&d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-[14px]",children:e("delivery_fee","Delivery Fee")}),d.jsxs("span",{className:"text-[14px]",children:["₦",Number(R).toLocaleString()]})]}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-sky-200",children:[d.jsx("span",{className:"text-[16px] font-medium",children:e("total","Total")}),d.jsxs("span",{className:"text-[16px] font-bold text-sky-600",children:["₦",Number(j).toLocaleString()]})]})]}),d.jsx("button",{onClick:pe,disabled:!p.trim()||!m.trim(),className:"w-full bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:e("continue_to_payment","Continue to Payment")})]})})}),c&&d.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsx("div",{className:"bg-white rounded-3xl w-full max-w-md",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600",children:e("payment_method","Payment Method")}),d.jsx("button",{onClick:()=>f(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:d.jsx(tw,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:()=>Q("cash"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${Y==="cash"?"border-sky-500 bg-sky-50":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(MK,{className:"w-6 h-6 text-sky-600"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[16px] font-medium",children:e("pay_on_delivery","Pay on Delivery")}),d.jsx("div",{className:"text-[13px] text-gray-600",children:e("pay_with_cash_on_delivery","Pay with cash when order arrives")})]})]})}),d.jsx("button",{onClick:()=>Q("online"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${Y==="online"?"border-sky-500 bg-sky-50":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(CK,{className:"w-6 h-6 text-sky-600"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[16px] font-medium",children:e("online_payment","Online Payment")}),d.jsx("div",{className:"text-[13px] text-gray-600",children:e("pay_with_card_bank_ussd","Pay with card, bank transfer, or USSD")})]})]})}),d.jsx("button",{disabled:!0,className:"w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 bg-gray-100 text-left cursor-not-allowed opacity-60",children:d.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(yP,{className:"w-6 h-6 text-gray-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[16px] font-medium text-gray-500",children:e("pay_with_insurance","Pay with Insurance")}),d.jsx("div",{className:"text-[13px] text-gray-400",children:e("use_your_health_insurance","Use your health insurance")})]})]}),d.jsx("span",{className:"text-[12px] text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:e("coming_soon","Coming Soon")})]})})]}),d.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-[16px] font-medium",children:e("total_amount","Total Amount")}),d.jsxs("span",{className:"text-[18px] font-bold text-sky-600",children:["₦",Number(j).toLocaleString()]})]})}),d.jsx("button",{onClick:_e,disabled:!Y,className:"w-full mt-6 bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:Y==="online"?e("pay_now","Pay Now"):e("place_order","Place Order")})]})})})]}):d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[d.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:e("please_sign_in_continue","Please sign in to continue")}),d.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>r("/auth/landing"),children:e("sign_in_sign_up","Sign In / Sign Up")})]})}function AP({chatThreadId:t,prescriptions:e,userId:r}){const[n,i]=B.useState(e||[]),[a,s]=B.useState({});B.useEffect(()=>{if(e&&e.length>0){i(e);const f={};e.forEach(p=>{f[p.id]={},p.drugs.forEach((g,m)=>{f[p.id][m]=g.quantity})}),s(f);return}t&&aP(t).then(f=>{i(f);const p={};f.forEach(g=>{p[g.id]={},g.drugs.forEach((m,y)=>{p[g.id][y]=m.quantity})}),s(p)})},[t,e]);function o(f,p,g){const m=new Date(p.startDate),w=Math.floor((new Date-m)/(1e3*60*60*24)),k=Math.max(0,Number(f.duration||p.duration)-w),N=a[p.id]?.[g]??f.quantity;return{daysLeft:k,quantityLeft:N}}function l(f){if(!f)return 1;const p=f.match(/(\d+(?:\.\d+)?)/);return p?Number(p[1]):1}async function c(f,p){s(k=>{const N={...k},L=n.find(Q=>Q.id===f);if(!L)return k;const P=L.drugs[p],V=l(P.dosage),Y=N[f]?.[p]??P.quantity;return N[f]={...N[f],[p]:Math.max(0,Y-V)},N});const g=n.find(k=>k.id===f);if(!g)return;const m=g.drugs[p],y=l(m.dosage),w=g.drugs.map((k,N)=>N===p?{...k,quantity:Math.max(0,k.quantity-y)}:k);await ya(or(gt,"prescriptions",f),{drugs:w}),i(k=>k.map(N=>N.id===f?{...N,drugs:w}:N))}return d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:"text-lg font-light mb-2 text-black dark:text-white",children:"Prescriptions"}),n.length===0&&d.jsx("div",{className:"text-zinc-400 text-sm",children:"No prescriptions yet."}),n.map(f=>d.jsxs("div",{className:"mb-4 border rounded-2xl p-4 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 shadow-sm relative",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"font-thin text-[14px] mb-1 text-black dark:text-white",children:["Created: ",new Date(f.startDate).toLocaleDateString()]}),d.jsxs("div",{className:"mb-1 text-xs text-zinc-500 font-light",children:["Status: ",f.status]})]}),d.jsx("div",{className:"flex flex-col gap-2",children:f.drugs.map((p,g)=>{const{quantityLeft:m}=o(p,f,g),y=f.requirePurchase&&!f.fulfilled||m<=0;return d.jsx("button",{className:"rounded-full bg-sky-600 text-white text-[10px] px-2 py-0.5 ml-auto disabled:opacity-40 mb-1 shadow-sm",style:{minWidth:70,height:24,lineHeight:"16px"},disabled:y,onClick:()=>c(f.id,g),children:"Mark Dose"},g)})})]}),d.jsx("ul",{className:"mb-2 text-[13px]",children:f.drugs.map((p,g)=>{const{daysLeft:m,quantityLeft:y}=o(p,f,g);return d.jsxs("li",{className:"mb-2 flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[d.jsx("span",{className:"font-medium text-sky-700",children:p.name}),d.jsxs("span",{className:"text-zinc-500",children:["Qty: ",y]}),d.jsxs("span",{className:"text-zinc-500",children:["Dosage: ",p.dosage]}),d.jsxs("span",{className:"text-zinc-500",children:["Freq: ",p.frequency]}),d.jsxs("span",{className:m<=2?"text-red-500":"text-green-600",children:["Days left: ",m]}),d.jsxs("span",{className:y<=2?"text-red-500":"text-green-600",children:["Qty left: ",y]}),p.notes&&d.jsxs("span",{className:"block text-xs text-zinc-400",children:["Notes: ",p.notes]}),p.productId&&f.requirePurchase&&d.jsx("a",{href:`/product/${p.productId}`,className:"mt-1 inline-block text-xs text-sky-600 underline hover:text-sky-800 transition",children:"View & Buy"})]},g)})}),d.jsxs("div",{className:"text-xs text-zinc-400",children:["Duration: ",f.duration," days"]})]},f.id))]})}const XK=Object.freeze(Object.defineProperty({__proto__:null,default:AP},Symbol.toStringTag,{value:"Module"}));function TP(t){if(!t)return 1;const e=t.match(/(\d+)x\s*\/\s*day/i);return e?Number(e[1]):1}function YK(t,e){if(!("Notification"in window)||Notification.permission!=="granted")return;const{drugs:r,startDate:n,duration:i}=t,a=new Date(n),s=new Date,o=Number(i)||1;r.forEach(l=>{const c=TP(l.frequency);for(let f=0;f<o;f++)for(let p=0;p<c;p++){const g=new Date(a.getTime()+f*24*60*60*1e3+p*(24/c)*60*60*1e3);if(g>s){const m=g.getTime()-s.getTime();setTimeout(()=>{new Notification(p("time_to_take_medicine",`Time to take ${l.name}`),{body:p("dosage_frequency",`Dosage: ${l.dosage||""} (${l.frequency||""})`,{dosage:l.dosage||"",frequency:l.frequency||""})})},m)}}})}function QK(t,e){const{drugs:r,startDate:n,duration:i}=t,a=new Date(n),s=Number(i)||1;let o=`BEGIN:VCALENDAR
VERSION:2.0
`;r.forEach(p=>{const g=TP(p.frequency);for(let m=0;m<s;m++)for(let y=0;y<g;y++){const k=new Date(a.getTime()+m*24*60*60*1e3+y*(24/g)*60*60*1e3).toISOString().replace(/[-:]/g,"").replace(/\..+/,"");o+=`BEGIN:VEVENT
SUMMARY:${y("take_medicine","Take {drugName}",{drugName:p.name})}
DESCRIPTION:${y("dosage_frequency","Dosage: {dosage} ({frequency})",{dosage:p.dosage||"",frequency:p.frequency||""})}
DTSTART:${k}
DTEND:${k}
END:VEVENT
`}}),o+="END:VCALENDAR";const l=new Blob([o],{type:"text/calendar"}),c=URL.createObjectURL(l),f=document.createElement("a");f.href=c,f.download="prescription.ics",f.click(),URL.revokeObjectURL(c)}function JK(t){if(localStorage.setItem("prescriptionAlarms",JSON.stringify(t)),"indexedDB"in window){const e=indexedDB.open("HealthAppDB",1);e.onupgradeneeded=r=>{const n=r.target.result;n.objectStoreNames.contains("alarms")||n.createObjectStore("alarms",{keyPath:"id"})},e.onsuccess=r=>{const a=r.target.result.transaction("alarms","readwrite").objectStore("alarms");t.forEach(s=>a.put(s))}}}function ZK(){const{user:t}=Pn(),{t:e}=Na(),[r,n]=B.useState([]),[i,a]=B.useState(!1);if(B.useEffect(()=>{if(!t)return;async function l(){await sP({customerId:t.uid});const c=Nr(ur(gt,"prescriptions"),$r("customerId","==",t.uid));let p=(await jn(c)).docs.map(g=>({id:g.id,...g.data()}));p=p.sort((g,m)=>new Date(m.startDate)-new Date(g.startDate)),n(p),Notification.permission==="granted"&&p.forEach(g=>YK(g)),JK(p)}l()},[t]),B.useEffect(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]),!t)return null;const s=r.length,o=i?r:r.slice(0,1);return d.jsxs("div",{className:"w-full",children:[d.jsxs("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white mb-2 tracking-tight",children:[e("my_prescriptions","My Prescriptions"),r.length>0&&d.jsx("button",{className:"ml-4 px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs font-medium",onClick:()=>r.forEach(l=>QK(l)),children:e("add_to_calendar","Add to Calendar")})]}),r.length===0?d.jsx("div",{className:"text-zinc-400 text-[12px] font-light",children:e("no_prescriptions_found","No prescriptions found.")}):d.jsxs(d.Fragment,{children:[d.jsx(AP,{prescriptions:o,userId:t.uid,chatThreadId:null}),s>1&&!i&&d.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-700 text-xs font-medium",onClick:()=>a(!0),children:e("see_more_count","See more ({count})",{count:s})}),i&&s>1&&d.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-zinc-100 text-zinc-700 text-xs font-medium",onClick:()=>a(!1),children:e("see_less","See less")})]})]})}const eX=({title:t,onSearchClick:e,onSettingsClick:r})=>{const{t:n}=Na();return la.createPortal(d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:d.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:d.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[d.jsx("h1",{className:"text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:n("my_profile",`My
Profile`).replace("\\n",`
`)}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:e,"aria-label":"Open search",className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:d.jsx(ad,{className:"h-5 w-5 text-sky-600"})}),d.jsx("button",{onClick:r,"aria-label":"Open settings",className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:d.jsx(Nv,{className:"h-5 w-5 text-sky-600"})})]})]})})}),document.body)};function IP(){const{user:t,logout:e}=Pn(),{t:r}=Na(),[n,i]=B.useState(!1),[a,s]=B.useState(""),[o,l]=B.useState(""),[c,f]=B.useState(""),[p,g]=B.useState(""),[m,y]=B.useState(!1),[w,k]=B.useState(0),[N,L]=B.useState(0),[P,V]=B.useState([]),[Y,Q]=B.useState(!1),[R,T]=B.useState([]),[S,j]=B.useState("products"),[A,F]=B.useState([]),[M,re]=B.useState({displayName:t?.displayName||"Customer",address:"Kuje, Abuja, Nigeria",phone:t?.phoneNumber||"",email:t?.email||""}),[pe,_e]=B.useState(""),[xe,oe]=B.useState(!1),[G,fe]=B.useState("all"),[X,I]=B.useState([]),[q,W]=B.useState(null),[J,ce]=B.useState(null),ve=Ni();B.useEffect(()=>{if(!t)return;jn(ur(gt,"users",t.uid,"cart")).then(Le=>{k(Le.size)}),jn(Nr(ur(gt,"threads"),$r("customerId","==",t.uid))).then(Le=>{L(Le.size)});const le=uP(t.uid,Le=>{V(Le)}),be=pP(t.uid,Le=>{T(Le)});return()=>{le&&le(),be&&be()}},[t]),B.useEffect(()=>{!n&&M&&(s(M.displayName||""),l(M.phone||""),f(M.address||"Kuje, Abuja, Nigeria"))},[M,n]);async function Ee(){const le=(pe||"").trim().toLowerCase();if(!le){I([]);return}const be=[];if((G==="drugs"||G==="all")&&(A||[]).forEach(Le=>{`${Le.name||""}`.toLowerCase().includes(le)&&be.push({type:"drug",title:Le.name,subtitle:`Bought ${Le.count||0} times`,item:Le})}),G==="orders"||G==="all"){let Le=q;Le||(Le=(await jn(Nr(ur(gt,"orders"),$r("customerId","==",t.uid)))).docs.map(je=>({id:je.id,...je.data()})),W(Le)),(Le||[]).forEach(ae=>{`${ae.id} ${(ae.items||[]).map(Pe=>Pe.name).join(" ")} ${ae.total||""}`.toLowerCase().includes(le)&&be.push({type:"order",title:`Order ${ae.id}`,subtitle:`${ae.items?.length||0} items — ₦${Number(ae.total||0).toLocaleString()}`,item:ae})})}if(G==="prescriptions"||G==="all"){let Le=J;Le||(Le=(await jn(Nr(ur(gt,"prescriptions"),$r("customerId","==",t.uid)))).docs.map(je=>({id:je.id,...je.data()})),ce(Le)),(Le||[]).forEach(ae=>{const je=(ae.medicines||[]).join(" ");`${ae.id} ${je} ${ae.note||""} ${ae.pharmacyName||""}`.toLowerCase().includes(le)&&be.push({type:"prescription",title:`Prescription ${ae.id}`,subtitle:ae.note||"",item:ae})})}I(be)}return B.useEffect(()=>{if(!xe)return;function le(be){be.key==="Escape"&&(oe(!1),_e(""),I([]))}return window.addEventListener("keydown",le),()=>window.removeEventListener("keydown",le)},[xe]),B.useEffect(()=>{if(!xe)return;if(!(pe||"").trim()){I([]);return}const be=setTimeout(()=>{Ee()},300);return()=>clearTimeout(be)},[pe,G,xe]),t?d.jsxs(d.Fragment,{children:[d.jsx(eX,{title:"My Profile",onSearchClick:()=>oe(!0),onSettingsClick:()=>ve("/settings")}),d.jsxs("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen animate-fadeInUp",children:[xe&&d.jsx("div",{onClick:()=>{oe(!1),_e(""),I([])},className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black bg-opacity-30 animate-fadeInScale",role:"dialog","aria-modal":"true","aria-label":"Search modal",children:d.jsxs("div",{onClick:le=>le.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-3xl w-[min(920px,95%)] p-4 shadow-xl border border-[#9ED3FF] dark:border-gray-600 max-h-[80vh] overflow-hidden modal-backdrop animate-bounceIn",children:[d.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[d.jsx("div",{className:"flex-1 min-w-0",children:d.jsxs("div",{className:"flex items-center bg-[#F0FAFF] dark:bg-gray-700 border border-[#9ED3FF] dark:border-gray-600 rounded-full px-3 py-2 w-full overflow-hidden input-interactive",children:[d.jsx(ad,{className:"h-4 w-4 text-sky-600 mr-2 flex-shrink-0"}),d.jsx("input",{autoFocus:!0,value:pe,onChange:le=>_e(le.target.value),onKeyDown:le=>{le.key==="Enter"&&Ee()},placeholder:r("search_placeholder_profile","Search prescriptions, orders, drugs..."),className:"flex-1 min-w-0 bg-transparent text-sm outline-none truncate","aria-label":"Search query"})]})}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("select",{value:G,onChange:le=>fe(le.target.value),className:"rounded-full border border-[#9ED3FF] dark:border-gray-600 px-3 py-2 text-sm bg-white dark:bg-gray-700 dark:text-white w-36 input-interactive",children:[d.jsx("option",{value:"prescriptions",children:r("prescriptions","Prescriptions")}),d.jsx("option",{value:"orders",children:r("orders_profile","Orders")}),d.jsx("option",{value:"drugs",children:r("drugs","Drugs")}),d.jsx("option",{value:"all",children:r("all_results","All")})]})})]}),d.jsx("div",{className:"border-t",style:{borderColor:"#E6F7FF"}}),d.jsx("div",{className:"mt-4 max-h-[60vh] overflow-auto px-1 py-2",children:X.length===0?d.jsx("div",{className:"text-zinc-500 p-4",children:"No results yet. Enter a query."}):d.jsx("ul",{className:"space-y-2",children:X.map((le,be)=>d.jsxs("li",{className:"p-2 rounded-2xl border border-[#9ED3FF] dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition-all duration-200 flex items-center gap-3 justify-between animate-fadeInUp card-interactive hover:shadow-md",style:{animationDelay:`${be*.05}s`},children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${le.type==="order"?"bg-green-100":le.type==="prescription"?"bg-blue-100":"bg-purple-100"}`,children:le.type==="order"?d.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}):le.type==="prescription"?d.jsx("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):d.jsx("svg",{className:"h-4 w-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-semibold text-sm text-black truncate",children:le.title}),d.jsx("div",{className:"text-xs text-zinc-500 truncate",children:le.subtitle})]})]}),d.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:le.type==="order"?d.jsx("button",{onClick:()=>{ve("/orders",{state:{highlightOrderId:le.item.id}}),oe(!1),_e(""),I([])},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"Open"}):le.type==="prescription"?d.jsx("button",{onClick:()=>{ve(`/prescriptions/${le.item.id}`),oe(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"Open"}):d.jsx("button",{onClick:()=>{oe(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"View"})})]},be))})})]})}),d.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6",children:[d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-200 dark:bg-zinc-700 flex items-center justify-center mb-3 overflow-hidden",children:t?.photoURL?d.jsx("img",{src:t.photoURL,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):d.jsx("span",{className:"text-3xl text-zinc-400 font-light",children:M.displayName&&M.displayName[0]||"C"})}),d.jsxs("div",{className:"w-full flex items-center justify-between mt-1",children:[d.jsx("div",{className:"text-[20px] font-medium text-sky-600 tracking-tighter",children:M.displayName||"Customer"}),d.jsxs("button",{className:"ml-2 px-3 py-1 rounded-full border border-sky-200 dark:border-gray-600 text-sky-600 text-xs flex items-center gap-1 hover:bg-sky-50",onClick:()=>i(!0),children:[d.jsx(LK,{className:"h-4 w-4"})," ",r("edit","Edit")]})]}),n&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 animate-fadeInScale",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-sm shadow-xl modal-backdrop animate-bounceIn",children:[d.jsx("div",{className:"text-[22px] font-light font-poppins text-sky-600 mb-2 tracking-tight animate-slideInLeft",children:r("edit_profile","Edit Profile")}),d.jsxs("form",{className:"flex flex-col gap-4",onSubmit:async le=>{if(le.preventDefault(),a!==(M?.displayName||t?.displayName)||o!==(M?.phone||t?.phoneNumber)||c!==(M?.address||"Address missing")){if(!p){alert("Please enter your account password to save changes.");return}try{const be=h0.credential(t.email,p);await Uq(t,be),await aI(t,{displayName:a}),await ya(or(gt,"users",t.uid),{displayName:a,phoneNumber:o,address:c}),i(!1),window.location.reload()}catch(be){alert("Failed to update profile: "+be.message)}}else i(!1)},children:[d.jsx("label",{className:"text-[12px] text-zinc-500 font-light animate-fadeInUp",style:{animationDelay:"0.1s"}}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all input-interactive animate-fadeInUp",style:{animationDelay:"0.2s",boxShadow:"none"},value:a,placeholder:"Name",onChange:le=>s(le.target.value)}),d.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",value:o,placeholder:r("phone_number_profile","Phone Number"),onChange:le=>l(le.target.value),style:{boxShadow:"none"}}),d.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",value:c,placeholder:r("address_profile","Address"),onChange:le=>f(le.target.value),style:{boxShadow:"none"}}),d.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",type:"password",placeholder:r("password","Account Password (required to save)"),onChange:le=>g(le.target.value),required:!0,style:{boxShadow:"none"}}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{type:"button",className:"px-4 py-2 rounded-full bg-zinc-100 text-[12px] font-light",onClick:()=>i(!1),children:r("cancel","Cancel")}),d.jsx("button",{type:"submit",className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light",children:r("save","Save")})]})]})]})}),d.jsx("div",{className:"text-zinc-500 mt-1 text-[12px] font-light w-full pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:M.email}),d.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 mt-2 text-[12px] font-light w-full pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx($l,{className:"h-2.5 w-2.5"})," ",M.address||"Kuje, Abuja, Nigeria"]}),d.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 mt-1 text-[12px] font-light w-full",children:[d.jsx(K1,{className:"h-2.5 w-2.5"})," ",M.phone||"phone number missing"]})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:[d.jsx("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white mb-2 tracking-tight",children:r("my_activity","My Activity")}),d.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:r("items_in_cart","Items in Cart")}),d.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:w??0})]}),d.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:r("active_chats","Active Chats")}),d.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:N??0})]}),d.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-sky-500 font-light",children:r("saved_items","Saved Items")}),d.jsx("button",{className:"text-[12px] text-sky-600 font-medium hover:underline",onClick:()=>Q(!0),children:(P?.length??0)+(R?.length??0)})]}),d.jsxs("div",{className:"w-full flex items-center justify-between mt-3 mb-1",children:[d.jsx("span",{className:"text-[14px] font-light text-zinc-800 dark:text-zinc-200",children:r("drugs_bought","Drugs Bought")}),d.jsx("button",{className:"text-[12px] text-sky-600 font-light px-2 py-1 rounded-full hover:bg-sky-50",onClick:()=>y(!0),children:r("see_more","See more")})]}),d.jsx("div",{className:"w-full flex flex-col gap-2",children:A.slice(0,3).map((le,be)=>d.jsxs("div",{className:"w-full flex items-center pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-left",children:le.name}),d.jsx("span",{className:"text-[12px] text-zinc-400 font-light w-1/3 flex justify-center",children:le.date}),d.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-right",children:le.count??1})]},le.id||be))}),m&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-sm shadow-xl",children:[d.jsx("div",{className:"text-[18px] font-light font-poppins text-sky-600 mb-2 tracking-tight",children:r("all_drugs_bought","All Drugs Bought")}),d.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:A.map((le,be)=>d.jsxs("div",{className:"w-full flex items-center pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-left",children:le.name}),d.jsx("span",{className:"text-[12px] text-zinc-400 font-light w-1/3 flex justify-center",children:le.date}),d.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-right",children:le.count??1})]},le.id||be))}),d.jsx("button",{className:"mt-4 px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light w-full",onClick:()=>y(!1),children:r("close","Close")})]})}),Y&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-md shadow-xl",children:[d.jsx("div",{className:"text-[18px] font-light font-poppins text-sky-600 dark:text-sky-400 mb-4 tracking-tight",children:r("my_saved_items","My Saved Items")}),d.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-600 dark:border-gray-600 mb-4",children:[d.jsxs("button",{className:`px-4 py-2 text-[14px] font-medium transition-colors ${S==="products"?"text-sky-600 border-b-2 border-sky-600 dark:border-gray-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>j("products"),children:[r("products","Products")," (",P?.length??0,")"]}),d.jsxs("button",{className:`px-4 py-2 text-[14px] font-medium transition-colors ${S==="vendors"?"text-sky-600 border-b-2 border-sky-600 dark:border-gray-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>j("vendors"),children:[r("vendors","Vendors")," (",R?.length??0,")"]})]}),d.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:S==="products"?P?.length>0?P.map(le=>d.jsx("div",{className:"w-full flex items-center pb-3 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:d.jsxs("div",{className:"flex items-center gap-3 w-full",children:[d.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:le.productData?.image?d.jsx("img",{src:le.productData.image,alt:le.productData?.name,className:"w-full h-full object-cover"}):d.jsx("span",{className:"text-gray-400 text-xs font-medium",children:le.productData?.name?.[0]||"P"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-[13px] font-medium text-gray-800 truncate",children:le.productData?.name||"Unknown Product"}),d.jsx("div",{className:"text-[11px] text-gray-500",children:le.productData?.pharmacyName||"Unknown Pharmacy"}),d.jsxs("div",{className:"text-[12px] text-sky-600 font-medium",children:["₦",le.productData?.price||"0"]})]}),d.jsx("button",{className:"px-3 py-1 bg-sky-100 text-sky-600 rounded-full text-[10px] font-medium hover:bg-sky-200 transition-colors",onClick:()=>{ve(`/product/${le.productId}`),Q(!1)},children:r("view","View")})]})},le.id)):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-2",children:"💝"}),d.jsx("div",{className:"text-[14px] font-light",children:r("no_products_saved","No products saved")}),d.jsx("div",{className:"text-[12px] text-gray-400 mt-1",children:r("start_adding_products","Start adding products you like!")})]}):R?.length>0?R.map(le=>d.jsx("div",{className:"w-full flex items-center pb-3 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:d.jsxs("div",{className:"flex items-center gap-3 w-full",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center flex-shrink-0",children:d.jsx("span",{className:"text-sky-600 text-lg font-medium",children:le.vendorData?.name?.[0]||"V"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"text-[13px] font-medium text-gray-800 truncate",children:le.vendorData?.name||"Unknown Vendor"}),d.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:le.vendorData?.address||"Address not available"}),d.jsx("div",{className:"text-[11px] text-gray-500",children:le.vendorData?.phone||""})]}),d.jsx("button",{className:"px-3 py-1 bg-sky-100 text-sky-600 rounded-full text-[10px] font-medium hover:bg-sky-200 transition-colors",onClick:()=>{ve(`/vendor/${le.vendorId}`),Q(!1)},children:"Visit"})]})},le.id)):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("div",{className:"text-4xl mb-2",children:"🔖"}),d.jsx("div",{className:"text-[14px] font-light",children:r("no_vendors_bookmarked","No vendors bookmarked")}),d.jsx("div",{className:"text-[12px] text-gray-400 mt-1",children:r("bookmark_vendors","Bookmark vendors you like!")})]})}),d.jsx("button",{className:"mt-4 px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light w-full",onClick:()=>{Q(!1),j("products")},children:r("close","Close")})]})})]}),d.jsx("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:d.jsx(ZK,{})})]})]}),d.jsx("div",{children:d.jsxs("button",{onClick:()=>{e(),window.location.href="/auth/landing"},className:"mt-10 rounded-full border border-red-300 dark:border-gray-600 text-red-600 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[d.jsx(Z3,{className:"h-4 w-4"})," ",r("log_out","Log Out")]})})]})]}):d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900",children:[d.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:"Please sign in to continue"}),d.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>ve("/auth/landing"),children:"Sign In / Sign Up"})]})}function PP({pharmacyId:t,onClose:e}){const[r,n]=B.useState({name:"",price:"",category:"Over-the-Counter",stock:0,sku:"",image:"",description:""}),[i,a]=B.useState(null),[s,o]=B.useState(!1);B.useEffect(()=>{const{overflow:f}=document.body.style;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=f}},[]);const l=async()=>{if(!r.name||!r.price)return alert("Name and price required");o(!0);try{let f=r.image;if(!f&&i){const g=`products/${t}/${Date.now()}_${i.name}`,m=mG(_G,g);await hG(m,i),f=await pG(m)}const p=(r.tags||"").split(",").map(g=>g.trim()).filter(Boolean);await tP({...r,image:f,price:Number(r.price),pharmacyId:t,tags:p}),e()}catch(f){alert(f.message)}finally{o(!1)}},c=d.jsx("div",{className:`
        fixed inset-0 z-[100]
        grid place-items-center
        bg-black/30 backdrop-blur-sm
        min-h-[100svh]
        animate-fade-in
      `,role:"dialog","aria-modal":"true",onClick:e,children:d.jsxs("div",{className:`
          bg-white rounded-3xl p-6 w-[92vw] max-w-sm
          shadow-xl border border-[#9ED3FF]
          max-h-[85svh] overflow-auto
          card-interactive hover:shadow-2xl transition-all duration-300
          animate-bounce-in
        `,onClick:f=>f.stopPropagation(),children:[d.jsx("div",{className:"text-lg font-light font-poppins mb-4 text-black animate-text-reveal",children:"Add Product"}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"Name",value:r.name,onChange:f=>n({...r,name:f.target.value})}),d.jsxs("select",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none bg-white focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",value:r.category,onChange:f=>n({...r,category:f.target.value}),children:[d.jsx("option",{value:"Prescription",children:"Prescription"}),d.jsx("option",{value:"Over-the-Counter",children:"Over-the-Counter"}),d.jsx("option",{value:"Syrup",children:"Syrup"}),d.jsx("option",{value:"Therapeutic",children:"Therapeutic"}),d.jsx("option",{value:"Controlled",children:"Controlled"}),d.jsx("option",{value:"Target System",children:"Target System"}),d.jsx("option",{value:"Others",children:"Others"})]}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"Stock",type:"number",value:r.stock,onChange:f=>n({...r,stock:Number(f.target.value)})}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"SKU",value:r.sku,onChange:f=>n({...r,sku:f.target.value})}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"Price",type:"number",value:r.price,onChange:f=>n({...r,price:f.target.value})}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"Tags (comma separated, e.g. pain relief, children)",value:r.tags||"",onChange:f=>n({...r,tags:f.target.value})}),d.jsxs("div",{className:"flex flex-col gap-2 pt-2 animate-fade-in",style:{animationDelay:"0.2s"},children:[d.jsx("label",{className:"text-[13px] font-light text-zinc-500",children:"Product Image"}),d.jsx("input",{type:"file",accept:"image/*",className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",onChange:f=>a(f.target.files?.[0]||null)}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"Or paste image link here",value:r.image,onChange:f=>n({...r,image:f.target.value})})]})]}),d.jsx("div",{className:"mt-3 animate-fade-in",style:{animationDelay:"0.3s"},children:d.jsx("textarea",{rows:3,placeholder:"Description",value:r.description,onChange:f=>n({...r,description:f.target.value}),className:"w-full border border-[#9ED3FF] rounded-xl p-3 text-[13px] font-light outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400"})}),d.jsxs("div",{className:"flex gap-2 mt-6 animate-fade-in-up",style:{animationDelay:"0.4s"},children:[d.jsx("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700 btn-interactive hover:scale-105 active:scale-95 transition-all duration-200",disabled:s,onClick:l,children:s?"Uploading…":"Add"}),d.jsx("button",{className:"flex-1 rounded-full border border-zinc-300 text-zinc-500 text-[13px] font-light py-2 btn-interactive hover:border-zinc-400 hover:scale-105 active:scale-95 transition-all duration-200",onClick:e,children:"Cancel"})]})]})});return la.createPortal(c,document.body)}var zx={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var tX=zx.exports,h9;function rX(){return h9||(h9=1,(function(t,e){((r,n)=>{t.exports=n()})(tX,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,a=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function f(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var j=Y(S);j.chunkSize=parseInt(j.chunkSize),S.step||S.chunk||(j.chunkSize=null),this._handle=new w(j),(this._handle.streamer=this)._config=j}).call(this,T),this.parseChunk=function(S,j){var A=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<A){let M=this._config.newline;M||(F=this._config.quoteChar||'"',M=this._handle.guessLineEndings(S,F)),S=[...S.split(M).slice(A)].join(M)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(S))!==void 0&&(S=F),this.isFirstChunk=!1,this._halted=!1;var A=this._partialLine+S,F=(this._partialLine="",this._handle.parse(A,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=F.meta.cursor,A=(this._finished||(this._partialLine=A.substring(S-this._baseIndex),this._baseIndex=S),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:F,workerId:c.WORKER_ID,finished:A});else if(R(this._config.chunk)&&!j){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!A||!R(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),A||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(S){R(this._config.error)?this._config.error(S):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:S,finished:!1})}}function p(T){var S;(T=T||{}).chunkSize||(T.chunkSize=c.RemoteChunkSize),f.call(this,T),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),a||(S.onload=Q(this._chunkLoaded,this),S.onerror=Q(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var j,A=this._config.downloadRequestHeaders;for(j in A)S.setRequestHeader(j,A[j])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+F));try{S.send(this._config.downloadRequestBody)}catch(M){this._chunkError(M.message)}a&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(j){j=S.statusText||j,this._sendError(new Error(j))}}function g(T){(T=T||{}).chunkSize||(T.chunkSize=c.LocalChunkSize),f.call(this,T);var S,j,A=typeof FileReader<"u";this.stream=function(F){this._input=F,j=F.slice||F.webkitSlice||F.mozSlice,A?((S=new FileReader).onload=Q(this._chunkLoaded,this),S.onerror=Q(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,M=(this._config.chunkSize&&(M=Math.min(this._start+this._config.chunkSize,this._input.size),F=j.call(F,this._start,M)),S.readAsText(F,this._config.encoding));A||this._chunkLoaded({target:{result:M}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(S.error)}}function m(T){var S;f.call(this,T=T||{}),this.stream=function(j){return S=j,this._nextChunk()},this._nextChunk=function(){var j,A;if(!this._finished)return j=this._config.chunkSize,S=j?(A=S.substring(0,j),S.substring(j)):(A=S,""),this._finished=!S,this.parseChunk(A)}}function y(T){f.call(this,T=T||{});var S=[],j=!0,A=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){A&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):j=!0},this._streamData=Q(function(F){try{S.push(typeof F=="string"?F:F.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(M){this._streamError(M)}},this),this._streamError=Q(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=Q(function(){this._streamCleanUp(),A=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(T){var S,j,A,F,M=Math.pow(2,53),re=-M,pe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,_e=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,xe=this,oe=0,G=0,fe=!1,X=!1,I=[],q={data:[],errors:[],meta:{}};function W(Ee){return T.skipEmptyLines==="greedy"?Ee.join("").trim()==="":Ee.length===1&&Ee[0].length===0}function J(){if(q&&A&&(ve("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),A=!1),T.skipEmptyLines&&(q.data=q.data.filter(function(Le){return!W(Le)})),ce()){let Le=function(ae,je){R(T.transformHeader)&&(ae=T.transformHeader(ae,je)),I.push(ae)};if(q)if(Array.isArray(q.data[0])){for(var Ee=0;ce()&&Ee<q.data.length;Ee++)q.data[Ee].forEach(Le);q.data.splice(0,1)}else q.data.forEach(Le)}function le(Le,ae){for(var je=T.header?{}:[],Pe=0;Pe<Le.length;Pe++){var de=Pe,Me=Le[Pe],Me=((Be,et)=>(ne=>(T.dynamicTypingFunction&&T.dynamicTyping[ne]===void 0&&(T.dynamicTyping[ne]=T.dynamicTypingFunction(ne)),(T.dynamicTyping[ne]||T.dynamicTyping)===!0))(Be)?et==="true"||et==="TRUE"||et!=="false"&&et!=="FALSE"&&((ne=>{if(pe.test(ne)&&(ne=parseFloat(ne),re<ne&&ne<M))return 1})(et)?parseFloat(et):_e.test(et)?new Date(et):et===""?null:et):et)(de=T.header?Pe>=I.length?"__parsed_extra":I[Pe]:de,Me=T.transform?T.transform(Me,de):Me);de==="__parsed_extra"?(je[de]=je[de]||[],je[de].push(Me)):je[de]=Me}return T.header&&(Pe>I.length?ve("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Pe,G+ae):Pe<I.length&&ve("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Pe,G+ae)),je}var be;q&&(T.header||T.dynamicTyping||T.transform)&&(be=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(le),be=q.data.length):q.data=le(q.data,0),T.header&&q.meta&&(q.meta.fields=I),G+=be)}function ce(){return T.header&&I.length===0}function ve(Ee,le,be,Le){Ee={type:Ee,code:le,message:be},Le!==void 0&&(Ee.row=Le),q.errors.push(Ee)}R(T.step)&&(F=T.step,T.step=function(Ee){q=Ee,ce()?J():(J(),q.data.length!==0&&(oe+=Ee.data.length,T.preview&&oe>T.preview?j.abort():(q.data=q.data[0],F(q,xe))))}),this.parse=function(Ee,le,be){var Le=T.quoteChar||'"',Le=(T.newline||(T.newline=this.guessLineEndings(Ee,Le)),A=!1,T.delimiter?R(T.delimiter)&&(T.delimiter=T.delimiter(Ee),q.meta.delimiter=T.delimiter):((Le=((ae,je,Pe,de,Me)=>{var Be,et,ne,De;Me=Me||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ke=0;Ke<Me.length;Ke++){for(var mt,Et=Me[Ke],Re=0,qe=0,Ge=0,dt=(ne=void 0,new N({comments:de,delimiter:Et,newline:je,preview:10}).parse(ae)),Nt=0;Nt<dt.data.length;Nt++)Pe&&W(dt.data[Nt])?Ge++:(mt=dt.data[Nt].length,qe+=mt,ne===void 0?ne=mt:0<mt&&(Re+=Math.abs(mt-ne),ne=mt));0<dt.data.length&&(qe/=dt.data.length-Ge),(et===void 0||Re<=et)&&(De===void 0||De<qe)&&1.99<qe&&(et=Re,Be=Et,De=qe)}return{successful:!!(T.delimiter=Be),bestDelimiter:Be}})(Ee,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=Le.bestDelimiter:(A=!0,T.delimiter=c.DefaultDelimiter),q.meta.delimiter=T.delimiter),Y(T));return T.preview&&T.header&&Le.preview++,S=Ee,j=new N(Le),q=j.parse(S,le,be),J(),fe?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return fe},this.pause=function(){fe=!0,j.abort(),S=R(T.chunk)?"":S.substring(j.getCharIndex())},this.resume=function(){xe.streamer._halted?(fe=!1,xe.streamer.parseChunk(S,!0)):setTimeout(xe.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,j.abort(),q.meta.aborted=!0,R(T.complete)&&T.complete(q),S=""},this.guessLineEndings=function(ae,Le){ae=ae.substring(0,1048576);var Le=new RegExp(k(Le)+"([^]*?)"+k(Le),"gm"),be=(ae=ae.replace(Le,"")).split("\r"),Le=ae.split(`
`),ae=1<Le.length&&Le[0].length<be[0].length;if(be.length===1||ae)return`
`;for(var je=0,Pe=0;Pe<be.length;Pe++)be[Pe][0]===`
`&&je++;return je>=be.length/2?`\r
`:"\r"}}function k(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(T){var S=(T=T||{}).delimiter,j=T.newline,A=T.comments,F=T.step,M=T.preview,re=T.fastMode,pe=null,_e=!1,xe=T.quoteChar==null?'"':T.quoteChar,oe=xe;if(T.escapeChar!==void 0&&(oe=T.escapeChar),(typeof S!="string"||-1<c.BAD_DELIMITERS.indexOf(S))&&(S=","),A===S)throw new Error("Comment character same as delimiter");A===!0?A="#":(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var G=0,fe=!1;this.parse=function(X,I,q){if(typeof X!="string")throw new Error("Input must be a string");var W=X.length,J=S.length,ce=j.length,ve=A.length,Ee=R(F),le=[],be=[],Le=[],ae=G=0;if(!X)return Re();if(re||re!==!1&&X.indexOf(xe)===-1){for(var je=X.split(j),Pe=0;Pe<je.length;Pe++){if(Le=je[Pe],G+=Le.length,Pe!==je.length-1)G+=j.length;else if(q)return Re();if(!A||Le.substring(0,ve)!==A){if(Ee){if(le=[],De(Le.split(S)),qe(),fe)return Re()}else De(Le.split(S));if(M&&M<=Pe)return le=le.slice(0,M),Re(!0)}}return Re()}for(var de=X.indexOf(S,G),Me=X.indexOf(j,G),Be=new RegExp(k(oe)+k(xe),"g"),et=X.indexOf(xe,G);;)if(X[G]===xe)for(et=G,G++;;){if((et=X.indexOf(xe,et+1))===-1)return q||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:le.length,index:G}),mt();if(et===W-1)return mt(X.substring(G,et).replace(Be,xe));if(xe===oe&&X[et+1]===oe)et++;else if(xe===oe||et===0||X[et-1]!==oe){de!==-1&&de<et+1&&(de=X.indexOf(S,et+1));var ne=Ke((Me=Me!==-1&&Me<et+1?X.indexOf(j,et+1):Me)===-1?de:Math.min(de,Me));if(X.substr(et+1+ne,J)===S){Le.push(X.substring(G,et).replace(Be,xe)),X[G=et+1+ne+J]!==xe&&(et=X.indexOf(xe,G)),de=X.indexOf(S,G),Me=X.indexOf(j,G);break}if(ne=Ke(Me),X.substring(et+1+ne,et+1+ne+ce)===j){if(Le.push(X.substring(G,et).replace(Be,xe)),Et(et+1+ne+ce),de=X.indexOf(S,G),et=X.indexOf(xe,G),Ee&&(qe(),fe))return Re();if(M&&le.length>=M)return Re(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:le.length,index:G}),et++}}else if(A&&Le.length===0&&X.substring(G,G+ve)===A){if(Me===-1)return Re();G=Me+ce,Me=X.indexOf(j,G),de=X.indexOf(S,G)}else if(de!==-1&&(de<Me||Me===-1))Le.push(X.substring(G,de)),G=de+J,de=X.indexOf(S,G);else{if(Me===-1)break;if(Le.push(X.substring(G,Me)),Et(Me+ce),Ee&&(qe(),fe))return Re();if(M&&le.length>=M)return Re(!0)}return mt();function De(Ge){le.push(Ge),ae=G}function Ke(Ge){var dt=0;return dt=Ge!==-1&&(Ge=X.substring(et+1,Ge))&&Ge.trim()===""?Ge.length:dt}function mt(Ge){return q||(Ge===void 0&&(Ge=X.substring(G)),Le.push(Ge),G=W,De(Le),Ee&&qe()),Re()}function Et(Ge){G=Ge,De(Le),Le=[],Me=X.indexOf(j,G)}function Re(Ge){if(T.header&&!I&&le.length&&!_e){var dt=le[0],Nt=Object.create(null),It=new Set(dt);let yt=!1;for(let wt=0;wt<dt.length;wt++){let Xt=dt[wt];if(Nt[Xt=R(T.transformHeader)?T.transformHeader(Xt,wt):Xt]){let qt,Bt=Nt[Xt];for(;qt=Xt+"_"+Bt,Bt++,It.has(qt););It.add(qt),dt[wt]=qt,Nt[Xt]++,yt=!0,(pe=pe===null?{}:pe)[qt]=Xt}else Nt[Xt]=1,dt[wt]=Xt;It.add(Xt)}yt&&console.warn("Duplicate headers found and renamed."),_e=!0}return{data:le,errors:be,meta:{delimiter:S,linebreak:j,aborted:fe,truncated:!!Ge,cursor:ae+(I||0),renamedHeaders:pe}}}function qe(){F(Re()),le=[],be=[]}},this.abort=function(){fe=!0},this.getCharIndex=function(){return G}}function L(T){var S=T.data,j=o[S.workerId],A=!1;if(S.error)j.userError(S.error,S.file);else if(S.results&&S.results.data){var F={abort:function(){A=!0,P(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(R(j.userStep)){for(var M=0;M<S.results.data.length&&(j.userStep({data:S.results.data[M],errors:S.results.errors,meta:S.results.meta},F),!A);M++);delete S.results}else R(j.userChunk)&&(j.userChunk(S.results,F,S.file),delete S.results)}S.finished&&!A&&P(S.workerId,S.results)}function P(T,S){var j=o[T];R(j.userComplete)&&j.userComplete(S),j.terminate(),delete o[T]}function V(){throw new Error("Not implemented.")}function Y(T){if(typeof T!="object"||T===null)return T;var S,j=Array.isArray(T)?[]:{};for(S in T)j[S]=Y(T[S]);return j}function Q(T,S){return function(){T.apply(S,arguments)}}function R(T){return typeof T=="function"}return c.parse=function(T,S){var j=(S=S||{}).dynamicTyping||!1;if(R(j)&&(S.dynamicTypingFunction=j,j={}),S.dynamicTyping=j,S.transform=!!R(S.transform)&&S.transform,!S.worker||!c.WORKERS_SUPPORTED)return j=null,c.NODE_STREAM_INPUT,typeof T=="string"?(T=(A=>A.charCodeAt(0)!==65279?A:A.slice(1))(T),j=new(S.download?p:m)(S)):T.readable===!0&&R(T.read)&&R(T.on)?j=new y(S):(n.File&&T instanceof File||T instanceof Object)&&(j=new g(S)),j.stream(T);(j=(()=>{var A;return!!c.WORKERS_SUPPORTED&&(A=(()=>{var F=n.URL||n.webkitURL||null,M=r.toString();return c.BLOB_URL||(c.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",M,")();"],{type:"text/javascript"})))})(),(A=new n.Worker(A)).onmessage=L,A.id=l++,o[A.id]=A)})()).userStep=S.step,j.userChunk=S.chunk,j.userComplete=S.complete,j.userError=S.error,S.step=R(S.step),S.chunk=R(S.chunk),S.complete=R(S.complete),S.error=R(S.error),delete S.worker,j.postMessage({input:T,config:S,workerId:j.id})},c.unparse=function(T,S){var j=!1,A=!0,F=",",M=`\r
`,re='"',pe=re+re,_e=!1,xe=null,oe=!1,G=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||c.BAD_DELIMITERS.filter(function(I){return S.delimiter.indexOf(I)!==-1}).length||(F=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(j=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(_e=S.skipEmptyLines),typeof S.newline=="string"&&(M=S.newline),typeof S.quoteChar=="string"&&(re=S.quoteChar),typeof S.header=="boolean"&&(A=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");xe=S.columns}S.escapeChar!==void 0&&(pe=S.escapeChar+re),S.escapeFormulae instanceof RegExp?oe=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(oe=/^[=+\-@\t\r].*$/)}})(),new RegExp(k(re),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return fe(null,T,_e);if(typeof T[0]=="object")return fe(xe||Object.keys(T[0]),T,_e)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||xe),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),fe(T.fields||[],T.data||[],_e);throw new Error("Unable to serialize unrecognized input");function fe(I,q,W){var J="",ce=(typeof I=="string"&&(I=JSON.parse(I)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(I)&&0<I.length),ve=!Array.isArray(q[0]);if(ce&&A){for(var Ee=0;Ee<I.length;Ee++)0<Ee&&(J+=F),J+=X(I[Ee],Ee);0<q.length&&(J+=M)}for(var le=0;le<q.length;le++){var be=(ce?I:q[le]).length,Le=!1,ae=ce?Object.keys(q[le]).length===0:q[le].length===0;if(W&&!ce&&(Le=W==="greedy"?q[le].join("").trim()==="":q[le].length===1&&q[le][0].length===0),W==="greedy"&&ce){for(var je=[],Pe=0;Pe<be;Pe++){var de=ve?I[Pe]:Pe;je.push(q[le][de])}Le=je.join("").trim()===""}if(!Le){for(var Me=0;Me<be;Me++){0<Me&&!ae&&(J+=F);var Be=ce&&ve?I[Me]:Me;J+=X(q[le][Be],Me)}le<q.length-1&&(!W||0<be&&!ae)&&(J+=M)}}return J}function X(I,q){var W,J;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(J=!1,oe&&typeof I=="string"&&oe.test(I)&&(I="'"+I,J=!0),W=I.toString().replace(G,pe),(J=J||j===!0||typeof j=="function"&&j(I,q)||Array.isArray(j)&&j[q]||((ce,ve)=>{for(var Ee=0;Ee<ve.length;Ee++)if(-1<ce.indexOf(ve[Ee]))return!0;return!1})(W,c.BAD_DELIMITERS)||-1<W.indexOf(F)||W.charAt(0)===" "||W.charAt(W.length-1)===" ")?re+W+re:W)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=N,c.ParserHandle=w,c.NetworkStreamer=p,c.FileStreamer=g,c.StringStreamer=m,c.ReadableStreamStreamer=y,n.jQuery&&((i=n.jQuery).fn.parse=function(T){var S=T.config||{},j=[];return this.each(function(M){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var re=0;re<this.files.length;re++)j.push({file:this.files[re],inputElem:this,instanceConfig:i.extend({},S)})}),A(),this;function A(){if(j.length===0)R(T.complete)&&T.complete();else{var M,re,pe,_e,xe=j[0];if(R(T.before)){var oe=T.before(xe.file,xe.inputElem);if(typeof oe=="object"){if(oe.action==="abort")return M="AbortError",re=xe.file,pe=xe.inputElem,_e=oe.reason,void(R(T.error)&&T.error({name:M},re,pe,_e));if(oe.action==="skip")return void F();typeof oe.config=="object"&&(xe.instanceConfig=i.extend(xe.instanceConfig,oe.config))}else if(oe==="skip")return void F()}var G=xe.instanceConfig.complete;xe.instanceConfig.complete=function(fe){R(G)&&G(fe,xe.file,xe.inputElem),F()},c.parse(xe.file,xe.instanceConfig)}}function F(){j.splice(0,1),A()}}),s&&(n.onmessage=function(T){T=T.data,c.WORKER_ID===void 0&&T&&(c.WORKER_ID=T.workerId),typeof T.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(T.input,T.config),finished:!0}):(n.File&&T.input instanceof File||T.input instanceof Object)&&(T=c.parse(T.input,T.config))&&n.postMessage({workerId:c.WORKER_ID,results:T,finished:!0})}),(p.prototype=Object.create(f.prototype)).constructor=p,(g.prototype=Object.create(f.prototype)).constructor=g,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(f.prototype)).constructor=y,c})})(zx)),zx.exports}var nX=rX();const RP=RC(nX);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Av={};Av.version="0.18.5";var FP=1252,iX=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],y6={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},w6=function(t){iX.indexOf(t)!=-1&&(FP=y6[0]=t)};function aX(){w6(1252)}var wc=function(t){w6(t)};function _6(){wc(1200),aX()}function p9(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function sX(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function LP(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var vm=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?sX(t.slice(2)):e==254&&r==255?LP(t.slice(2)):e==65279?t.slice(1):t},rx=function(e){return String.fromCharCode(e)},m9=function(e){return String.fromCharCode(e)},ag,cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sg(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),a=r>>2,n=t.charCodeAt(c++),s=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=cf.charAt(a)+cf.charAt(s)+cf.charAt(o)+cf.charAt(l);return e}function wl(t){var e="",r=0,n=0,i=0,a=0,s=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)a=cf.indexOf(t.charAt(c++)),s=cf.indexOf(t.charAt(c++)),r=a<<2|s>>4,e+=String.fromCharCode(r),o=cf.indexOf(t.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=cf.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var en=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),pd=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Cf(t){return en?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function g9(t){return en?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var hl=function(e){return en?pd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Fy(t){if(typeof ArrayBuffer>"u")return hl(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Uf(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function oX(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function b6(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return b6(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var gs=en?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:pd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function lX(t){for(var e=[],r=0,n=t.length+250,i=Cf(t.length+255),a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=t.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Cf(65535),n=65530)}return e.push(i.slice(0,r)),gs(e)}var To=/\u0000/g,ym=/[\u0001-\u0006]/g;function _1(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function _c(t,e){var r=""+t;return r.length>=e?r:na("0",e-r.length)+r}function k6(t,e){var r=""+t;return r.length>=e?r:na(" ",e-r.length)+r}function Tv(t,e){var r=""+t;return r.length>=e?r:r+na(" ",e-r.length)}function cX(t,e){var r=""+Math.round(t);return r.length>=e?r:na("0",e-r.length)+r}function uX(t,e){var r=""+t;return r.length>=e?r:na("0",e-r.length)+r}var x9=Math.pow(2,32);function Y0(t,e){if(t>x9||t<-x9)return cX(t,e);var r=Math.round(t);return uX(r,e)}function Iv(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var v9=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],g4=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function dX(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Tr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},y9={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},fX={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Pv(t,e,r){for(var n=t<0?-1:1,i=t*n,a=0,s=1,o=0,l=1,c=0,f=0,p=Math.floor(i);c<e&&(p=Math.floor(i),o=p*s+a,f=p*c+l,!(i-p<5e-8));)i=1/(i-p),a=s,s=o,l=c,c=f;if(f>e&&(c>e?(f=l,o=a):(f=c,o=s)),!r)return[0,n*o,f];var g=Math.floor(n*o/f);return[g,n*o-g*f,f]}function Eh(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),a=0,s=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=vX(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var jP=new Date(1899,11,31,0,0,0),hX=jP.getTime(),pX=new Date(1900,2,1,0,0,0);function DP(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=pX&&(r+=1440*60*1e3),(r-(hX+(t.getTimezoneOffset()-jP.getTimezoneOffset())*6e4))/(1440*60*1e3)}function E6(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function mX(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function gX(t){var e=t<0?12:11,r=E6(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function xX(t){var e=E6(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function og(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=gX(t):e===10?r=t.toFixed(10).substr(0,12):r=xX(t),E6(mX(r.toUpperCase()))}function Yh(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):og(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Kl(14,DP(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function vX(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function yX(t,e,r,n){var i="",a=0,s=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return g4[r.m-1][1];case 5:return g4[r.m-1][0];default:return g4[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return v9[r.q][0];default:return v9[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?_c(r.S,e.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),e==="s"?a===0?"0":""+a/s:(i=_c(a,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var f=c>0?_c(l,c):"";return f}function uf(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var OP=/%/g;function wX(t,e,r){var n=e.replace(OP,""),i=e.length-n.length;return Qu(t,n,r*Math.pow(10,2*i))+na("%",i)}function _X(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Qu(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function MP(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+MP(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var BP=/# (\?+)( ?)\/( ?)(\d+)/;function bX(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?na(" ",t[1].length+1+t[4].length):k6(s,t[1].length)+t[2]+"/"+t[3]+_c(o,t[4].length))}function kX(t,e,r){return r+(e===0?"":""+e)+na(" ",t[1].length+2+t[4].length)}var VP=/^#*0*\.([0#]+)/,UP=/\).*[0#]/,zP=/\(###\) ###\\?-####/;function Co(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function w9(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function _9(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function EX(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function SX(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ml(t,e,r){if(t.charCodeAt(0)===40&&!e.match(UP)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ml("n",n,r):"("+Ml("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return _X(t,e,r);if(e.indexOf("%")!==-1)return wX(t,e,r);if(e.indexOf("E")!==-1)return MP(e,r);if(e.charCodeAt(0)===36)return"$"+Ml(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Y0(l,e.length);if(e.match(/^[#?]+$/))return i=Y0(r,0),i==="0"&&(i=""),i.length>e.length?i:Co(e.substr(0,e.length-i.length))+i;if(a=e.match(BP))return bX(a,l,c);if(e.match(/^#+0+$/))return c+Y0(l,e.length-e.indexOf("0"));if(a=e.match(VP))return i=w9(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Co(a[1])).replace(/\.$/,"."+Co(a[1])).replace(/\.(\d*)$/,function(y,w){return"."+w+na("0",Co(a[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+w9(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+uf(Y0(l,0));if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ml(t,e,-r):uf(""+(Math.floor(r)+EX(r,a[1].length)))+"."+_c(_9(r,a[1].length),a[1].length);if(a=e.match(/^#,#*,#0/))return Ml(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=_1(Ml(t,e.replace(/[\\-]/g,""),r)),s=0,_1(_1(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(e.match(zP))return i=Ml(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=Pv(l,Math.pow(10,s)-1,!1),i=""+c,f=Qu("n",a[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=Tv(o[2],s),f.length<a[4].length&&(f=Co(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=Pv(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?k6(o[1],s)+a[2]+"/"+a[3]+Tv(o[2],s):na(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=Y0(r,0),e.length<=i.length?i:Co(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=e.indexOf(".")-s,g=e.length-i.length-p;return Co(e.substr(0,p)+i+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return s=_9(r,a[1].length),r<0?"-"+Ml(t,e,-r):uf(SX(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?_c(0,3-y.length):"")+y})+"."+_c(s,a[1].length);switch(e){case"###,##0.00":return Ml(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=uf(Y0(l,0));return m!=="0"?c+m:"";case"###,###.00":return Ml(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ml(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function CX(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Qu(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function NX(t,e,r){var n=e.replace(OP,""),i=e.length-n.length;return Qu(t,n,r*Math.pow(10,2*i))+na("%",i)}function $P(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+$P(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var a=Math.floor(Math.log(e)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(e/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Xc(t,e,r){if(t.charCodeAt(0)===40&&!e.match(UP)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Xc("n",n,r):"("+Xc("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return CX(t,e,r);if(e.indexOf("%")!==-1)return NX(t,e,r);if(e.indexOf("E")!==-1)return $P(e,r);if(e.charCodeAt(0)===36)return"$"+Xc(t,e.substr(e.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+_c(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Co(e.substr(0,e.length-i.length))+i;if(a=e.match(BP))return kX(a,l,c);if(e.match(/^#+0+$/))return c+_c(l,e.length-e.indexOf("0"));if(a=e.match(VP))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Co(a[1])).replace(/\.$/,"."+Co(a[1])),i=i.replace(/\.(\d*)$/,function(y,w){return"."+w+na("0",Co(a[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),a=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=e.match(/^#{1,3},##0(\.?)$/))return c+uf(""+l);if(a=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Xc(t,e,-r):uf(""+r)+"."+na("0",a[1].length);if(a=e.match(/^#,#*,#0/))return Xc(t,e.replace(/^#,#*,/,""),r);if(a=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=_1(Xc(t,e.replace(/[\\-]/g,""),r)),s=0,_1(_1(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(e.match(zP))return i=Xc(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=Pv(l,Math.pow(10,s)-1,!1),i=""+c,f=Qu("n",a[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=Tv(o[2],s),f.length<a[4].length&&(f=Co(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=Pv(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?k6(o[1],s)+a[2]+"/"+a[3]+Tv(o[2],s):na(" ",2*s+1+a[2].length+a[3].length));if(a=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Co(e.substr(0,e.length-i.length))+i;if(a=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var p=e.indexOf(".")-s,g=e.length-i.length-p;return Co(e.substr(0,p)+i+e.substr(e.length-g))}if(a=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Xc(t,e,-r):uf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?_c(0,3-y.length):"")+y})+"."+_c(0,a[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=uf(""+l);return m!=="0"?c+m:"";default:if(e.match(/\.[0#?]*$/))return Xc(t,e.slice(0,e.lastIndexOf(".")),r)+Co(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Qu(t,e,r){return(r|0)===r?Xc(t,e,r):Ml(t,e,r)}function AX(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var qP=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mp(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Iv(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(qP))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function TX(t,e,r,n){for(var i=[],a="",s=0,o="",l="t",c,f,p,g="H";s<t.length;)switch(o=t.charAt(s)){case"G":if(!Iv(t,s))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(p=t.charCodeAt(++s))!==34&&s<t.length;)a+=String.fromCharCode(p);i[i.length]={t:"t",v:a},++s;break;case"\\":var m=t.charAt(++s),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:e},++s;break;case"B":case"b":if(t.charAt(s+1)==="1"||t.charAt(s+1)==="2"){if(c==null&&(c=Eh(e,r,t.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Eh(e,r),c==null))return"";for(a=o;++s<t.length&&t.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"上":var w={t:o,v:o};if(c==null&&(c=Eh(e,r)),t.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(w.v=c.H>=12?"P":"A"),w.t="T",g="h",s+=3):t.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(w.v=c.H>=12?"PM":"AM"),w.t="T",s+=5,g="h"):t.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(w.v=c.H>=12?"下午":"上午"),w.t="T",s+=5,g="h"):(w.t="t",++s),c==null&&w.t==="T")return"";i[i.length]=w,l=o;break;case"[":for(a=o;t.charAt(s++)!=="]"&&s<t.length;)a+=t.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(qP)){if(c==null&&(c=Eh(e,r),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",mp(t)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<t.length&&(o=t.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;t.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(t.charAt(s)==" "||t.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<t.length&&"0123456789".indexOf(t.charAt(++s))>-1;)a+=t.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++s;break}var k=0,N=0,L;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=g,l="h",k<1&&(k=1);break;case"s":(L=i[s].v.match(/\.0+$/))&&(N=Math.max(N,L[0].length-1)),k<3&&(k=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",k<2&&(k=2));break;case"X":break;case"Z":k<1&&i[s].v.match(/[Hh]/)&&(k=1),k<2&&i[s].v.match(/[Mm]/)&&(k=2),k<3&&i[s].v.match(/[Ss]/)&&(k=3)}switch(k){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var P="",V;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=yX(i[s].t.charCodeAt(0),i[s].v,c,N),i[s].t="t";break;case"n":case"?":for(V=s+1;i[V]!=null&&((o=i[V].t)==="?"||o==="D"||(o===" "||o==="t")&&i[V+1]!=null&&(i[V+1].t==="?"||i[V+1].t==="t"&&i[V+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[V].v==="/"||i[V].v===" "&&i[V+1]!=null&&i[V+1].t=="?"));)i[s].v+=i[V].v,i[V]={v:"",t:";"},++V;P+=i[s].v,s=V-1;break;case"G":i[s].t="t",i[s].v=Yh(e,r);break}var Y="",Q,R;if(P.length>0){P.charCodeAt(0)==40?(Q=e<0&&P.charCodeAt(0)===45?-e:e,R=Qu("n",P,Q)):(Q=e<0&&n>1?-e:e,R=Qu("n",P,Q),Q<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),V=R.length-1;var T=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){T=s;break}var S=i.length;if(T===i.length&&R.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(V>=i[s].v.length-1?(V-=i[s].v.length,i[s].v=R.substr(V+1,i[s].v.length)):V<0?i[s].v="":(i[s].v=R.substr(0,V+1),V=-1),i[s].t="t",S=s);V>=0&&S<i.length&&(i[S].v=R.substr(0,V+1)+i[S].v)}else if(T!==i.length&&R.indexOf("E")===-1){for(V=R.indexOf(".")-1,s=T;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(f=i[s].v.indexOf(".")>-1&&s===T?i[s].v.indexOf(".")-1:i[s].v.length-1,Y=i[s].v.substr(f+1);f>=0;--f)V>=0&&(i[s].v.charAt(f)==="0"||i[s].v.charAt(f)==="#")&&(Y=R.charAt(V--)+Y);i[s].v=Y,i[s].t="t",S=s}for(V>=0&&S<i.length&&(i[S].v=R.substr(0,V+1)+i[S].v),V=R.indexOf(".")+1,s=T;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==T)){for(f=i[s].v.indexOf(".")>-1&&s===T?i[s].v.indexOf(".")+1:0,Y=i[s].v.substr(0,f);f<i[s].v.length;++f)V<R.length&&(Y+=R.charAt(V++));i[s].v=Y,i[s].t="t",S=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(Q=n>1&&e<0&&s>0&&i[s-1].v==="-"?-e:e,i[s].v=Qu(i[s].t,i[s].v,Q),i[s].t="t");var j="";for(s=0;s!==i.length;++s)i[s]!=null&&(j+=i[s].v);return j}var b9=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function k9(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function IX(t,e){var r=AX(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(b9),o=r[1].match(b9);return k9(e,s)?[n,r[0]]:k9(e,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Kl(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Tr)[t],n==null&&(n=r.table&&r.table[y9[t]]||Tr[y9[t]]),n==null&&(n=fX[t]||"General");break}if(Iv(n,0))return Yh(e,r);e instanceof Date&&(e=DP(e,r.date1904));var i=IX(n,e);if(Iv(i[1]))return Yh(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return TX(i[1],e,r,i[0])}function Ju(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Tr[r]==null){e<0&&(e=r);continue}if(Tr[r]==t){e=r;break}}e<0&&(e=391)}return Tr[e]=t,e}function Ly(t){for(var e=0;e!=392;++e)t[e]!==void 0&&Ju(t[e],e)}function gp(){Tr=dX()}var PX={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},HP=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function RX(t){var e=typeof t=="number"?Tr[t]:t;return e=e.replace(HP,"(\\d+)"),new RegExp("^"+e+"$")}function FX(t,e,r){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(e.match(HP)||[]).forEach(function(p,g){var m=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=m;break;case"d":a=m;break;case"h":s=m;break;case"s":l=m;break;case"m":s>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var f=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&a==-1?f:c+"T"+f}var LX=(function(){var t={};t.version="1.2.0";function e(){for(var R=0,T=new Array(256),S=0;S!=256;++S)R=S,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,T[S]=R;return typeof Int32Array<"u"?new Int32Array(T):T}var r=e();function n(R){var T=0,S=0,j=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)A[j]=R[j];for(j=0;j!=256;++j)for(S=R[j],T=256+j;T<4096;T+=256)S=A[T]=S>>>8^R[S&255];var F=[];for(j=1;j!=16;++j)F[j-1]=typeof Int32Array<"u"?A.subarray(j*256,j*256+256):A.slice(j*256,j*256+256);return F}var i=n(r),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],f=i[5],p=i[6],g=i[7],m=i[8],y=i[9],w=i[10],k=i[11],N=i[12],L=i[13],P=i[14];function V(R,T){for(var S=T^-1,j=0,A=R.length;j<A;)S=S>>>8^r[(S^R.charCodeAt(j++))&255];return~S}function Y(R,T){for(var S=T^-1,j=R.length-15,A=0;A<j;)S=P[R[A++]^S&255]^L[R[A++]^S>>8&255]^N[R[A++]^S>>16&255]^k[R[A++]^S>>>24]^w[R[A++]]^y[R[A++]]^m[R[A++]]^g[R[A++]]^p[R[A++]]^f[R[A++]]^c[R[A++]]^l[R[A++]]^o[R[A++]]^s[R[A++]]^a[R[A++]]^r[R[A++]];for(j+=15;A<j;)S=S>>>8^r[(S^R[A++])&255];return~S}function Q(R,T){for(var S=T^-1,j=0,A=R.length,F=0,M=0;j<A;)F=R.charCodeAt(j++),F<128?S=S>>>8^r[(S^F)&255]:F<2048?(S=S>>>8^r[(S^(192|F>>6&31))&255],S=S>>>8^r[(S^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,M=R.charCodeAt(j++)&1023,S=S>>>8^r[(S^(240|F>>8&7))&255],S=S>>>8^r[(S^(128|F>>2&63))&255],S=S>>>8^r[(S^(128|M>>6&15|(F&3)<<4))&255],S=S>>>8^r[(S^(128|M&63))&255]):(S=S>>>8^r[(S^(224|F>>12&15))&255],S=S>>>8^r[(S^(128|F>>6&63))&255],S=S>>>8^r[(S^(128|F&63))&255]);return~S}return t.table=r,t.bstr=V,t.buf=Y,t.str=Q,t})(),_r=(function(){var e={};e.version="1.2.1";function r(ie,Ae){for(var we=ie.split("/"),ke=Ae.split("/"),Te=0,Ie=0,Qe=Math.min(we.length,ke.length);Te<Qe;++Te){if(Ie=we[Te].length-ke[Te].length)return Ie;if(we[Te]!=ke[Te])return we[Te]<ke[Te]?-1:1}return we.length-ke.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var Ae=ie.lastIndexOf("/");return Ae===-1?ie:ie.slice(0,Ae+1)}function i(ie){if(ie.charAt(ie.length-1)=="/")return i(ie.slice(0,-1));var Ae=ie.lastIndexOf("/");return Ae===-1?ie:ie.slice(Ae+1)}function a(ie,Ae){typeof Ae=="string"&&(Ae=new Date(Ae));var we=Ae.getHours();we=we<<6|Ae.getMinutes(),we=we<<5|Ae.getSeconds()>>>1,ie.write_shift(2,we);var ke=Ae.getFullYear()-1980;ke=ke<<4|Ae.getMonth()+1,ke=ke<<5|Ae.getDate(),ie.write_shift(2,ke)}function s(ie){var Ae=ie.read_shift(2)&65535,we=ie.read_shift(2)&65535,ke=new Date,Te=we&31;we>>>=5;var Ie=we&15;we>>>=4,ke.setMilliseconds(0),ke.setFullYear(we+1980),ke.setMonth(Ie-1),ke.setDate(Te);var Qe=Ae&31;Ae>>>=5;var ot=Ae&63;return Ae>>>=6,ke.setHours(Ae),ke.setMinutes(ot),ke.setSeconds(Qe<<1),ke}function o(ie){Ls(ie,0);for(var Ae={},we=0;ie.l<=ie.length-4;){var ke=ie.read_shift(2),Te=ie.read_shift(2),Ie=ie.l+Te,Qe={};switch(ke){case 21589:we=ie.read_shift(1),we&1&&(Qe.mtime=ie.read_shift(4)),Te>5&&(we&2&&(Qe.atime=ie.read_shift(4)),we&4&&(Qe.ctime=ie.read_shift(4))),Qe.mtime&&(Qe.mt=new Date(Qe.mtime*1e3));break}ie.l=Ie,Ae[ke]=Qe}return Ae}var l;function c(){return l||(l={})}function f(ie,Ae){if(ie[0]==80&&ie[1]==75)return hr(ie,Ae);if((ie[0]|32)==109&&(ie[1]|32)==105)return ir(ie,Ae);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var we=3,ke=512,Te=0,Ie=0,Qe=0,ot=0,tt=0,rt=[],at=ie.slice(0,512);Ls(at,0);var St=p(at);switch(we=St[0],we){case 3:ke=512;break;case 4:ke=4096;break;case 0:if(St[1]==0)return hr(ie,Ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+we)}ke!==512&&(at=ie.slice(0,ke),Ls(at,28));var Mt=ie.slice(0,ke);g(at,we);var Gt=at.read_shift(4,"i");if(we===3&&Gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Gt);at.l+=4,Qe=at.read_shift(4,"i"),at.l+=4,at.chk("00100000","Mini Stream Cutoff Size: "),ot=at.read_shift(4,"i"),Te=at.read_shift(4,"i"),tt=at.read_shift(4,"i"),Ie=at.read_shift(4,"i");for(var Dt=-1,Pt=0;Pt<109&&(Dt=at.read_shift(4,"i"),!(Dt<0));++Pt)rt[Pt]=Dt;var Er=m(ie,ke);k(tt,Ie,Er,ke,rt);var dn=L(Er,Qe,rt,ke);dn[Qe].name="!Directory",Te>0&&ot!==M&&(dn[ot].name="!MiniFAT"),dn[rt[0]].name="!FAT",dn.fat_addrs=rt,dn.ssz=ke;var Br={},gn=[],Os=[],Ms=[];P(Qe,dn,Er,gn,Te,Br,Os,ot),y(Os,Ms,gn),gn.shift();var ns={FileIndex:Os,FullPaths:Ms};return Ae&&Ae.raw&&(ns.raw={header:Mt,sectors:Er}),ns}function p(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(re,"Header Signature: "),ie.l+=16;var Ae=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),Ae]}function g(ie,Ae){var we=9;switch(ie.l+=2,we=ie.read_shift(2)){case 9:if(Ae!=3)throw new Error("Sector Shift: Expected 9 saw "+we);break;case 12:if(Ae!=4)throw new Error("Sector Shift: Expected 12 saw "+we);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+we)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function m(ie,Ae){for(var we=Math.ceil(ie.length/Ae)-1,ke=[],Te=1;Te<we;++Te)ke[Te-1]=ie.slice(Te*Ae,(Te+1)*Ae);return ke[we-1]=ie.slice(we*Ae),ke}function y(ie,Ae,we){for(var ke=0,Te=0,Ie=0,Qe=0,ot=0,tt=we.length,rt=[],at=[];ke<tt;++ke)rt[ke]=at[ke]=ke,Ae[ke]=we[ke];for(;ot<at.length;++ot)ke=at[ot],Te=ie[ke].L,Ie=ie[ke].R,Qe=ie[ke].C,rt[ke]===ke&&(Te!==-1&&rt[Te]!==Te&&(rt[ke]=rt[Te]),Ie!==-1&&rt[Ie]!==Ie&&(rt[ke]=rt[Ie])),Qe!==-1&&(rt[Qe]=ke),Te!==-1&&ke!=rt[ke]&&(rt[Te]=rt[ke],at.lastIndexOf(Te)<ot&&at.push(Te)),Ie!==-1&&ke!=rt[ke]&&(rt[Ie]=rt[ke],at.lastIndexOf(Ie)<ot&&at.push(Ie));for(ke=1;ke<tt;++ke)rt[ke]===ke&&(Ie!==-1&&rt[Ie]!==Ie?rt[ke]=rt[Ie]:Te!==-1&&rt[Te]!==Te&&(rt[ke]=rt[Te]));for(ke=1;ke<tt;++ke)if(ie[ke].type!==0){if(ot=ke,ot!=rt[ot])do ot=rt[ot],Ae[ke]=Ae[ot]+"/"+Ae[ke];while(ot!==0&&rt[ot]!==-1&&ot!=rt[ot]);rt[ke]=-1}for(Ae[0]+="/",ke=1;ke<tt;++ke)ie[ke].type!==2&&(Ae[ke]+="/")}function w(ie,Ae,we){for(var ke=ie.start,Te=ie.size,Ie=[],Qe=ke;we&&Te>0&&Qe>=0;)Ie.push(Ae.slice(Qe*F,Qe*F+F)),Te-=F,Qe=wh(we,Qe*4);return Ie.length===0?xt(0):gs(Ie).slice(0,ie.size)}function k(ie,Ae,we,ke,Te){var Ie=M;if(ie===M){if(Ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Qe=we[ie],ot=(ke>>>2)-1;if(!Qe)return;for(var tt=0;tt<ot&&(Ie=wh(Qe,tt*4))!==M;++tt)Te.push(Ie);k(wh(Qe,ke-4),Ae-1,we,ke,Te)}}function N(ie,Ae,we,ke,Te){var Ie=[],Qe=[];Te||(Te=[]);var ot=ke-1,tt=0,rt=0;for(tt=Ae;tt>=0;){Te[tt]=!0,Ie[Ie.length]=tt,Qe.push(ie[tt]);var at=we[Math.floor(tt*4/ke)];if(rt=tt*4&ot,ke<4+rt)throw new Error("FAT boundary crossed: "+tt+" 4 "+ke);if(!ie[at])break;tt=wh(ie[at],rt)}return{nodes:Ie,data:j9([Qe])}}function L(ie,Ae,we,ke){var Te=ie.length,Ie=[],Qe=[],ot=[],tt=[],rt=ke-1,at=0,St=0,Mt=0,Gt=0;for(at=0;at<Te;++at)if(ot=[],Mt=at+Ae,Mt>=Te&&(Mt-=Te),!Qe[Mt]){tt=[];var Dt=[];for(St=Mt;St>=0;){Dt[St]=!0,Qe[St]=!0,ot[ot.length]=St,tt.push(ie[St]);var Pt=we[Math.floor(St*4/ke)];if(Gt=St*4&rt,ke<4+Gt)throw new Error("FAT boundary crossed: "+St+" 4 "+ke);if(!ie[Pt]||(St=wh(ie[Pt],Gt),Dt[St]))break}Ie[Mt]={nodes:ot,data:j9([tt])}}return Ie}function P(ie,Ae,we,ke,Te,Ie,Qe,ot){for(var tt=0,rt=ke.length?2:0,at=Ae[ie].data,St=0,Mt=0,Gt;St<at.length;St+=128){var Dt=at.slice(St,St+128);Ls(Dt,64),Mt=Dt.read_shift(2),Gt=P6(Dt,0,Mt-rt),ke.push(Gt);var Pt={name:Gt,type:Dt.read_shift(1),color:Dt.read_shift(1),L:Dt.read_shift(4,"i"),R:Dt.read_shift(4,"i"),C:Dt.read_shift(4,"i"),clsid:Dt.read_shift(16),state:Dt.read_shift(4,"i"),start:0,size:0},Er=Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2);Er!==0&&(Pt.ct=V(Dt,Dt.l-8));var dn=Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2);dn!==0&&(Pt.mt=V(Dt,Dt.l-8)),Pt.start=Dt.read_shift(4,"i"),Pt.size=Dt.read_shift(4,"i"),Pt.size<0&&Pt.start<0&&(Pt.size=Pt.type=0,Pt.start=M,Pt.name=""),Pt.type===5?(tt=Pt.start,Te>0&&tt!==M&&(Ae[tt].name="!StreamData")):Pt.size>=4096?(Pt.storage="fat",Ae[Pt.start]===void 0&&(Ae[Pt.start]=N(we,Pt.start,Ae.fat_addrs,Ae.ssz)),Ae[Pt.start].name=Pt.name,Pt.content=Ae[Pt.start].data.slice(0,Pt.size)):(Pt.storage="minifat",Pt.size<0?Pt.size=0:tt!==M&&Pt.start!==M&&Ae[tt]&&(Pt.content=w(Pt,Ae[tt].data,(Ae[ot]||{}).data))),Pt.content&&Ls(Pt.content,0),Ie[Gt]=Pt,Qe.push(Pt)}}function V(ie,Ae){return new Date((fl(ie,Ae+4)/1e7*Math.pow(2,32)+fl(ie,Ae)/1e7-11644473600)*1e3)}function Y(ie,Ae){return c(),f(l.readFileSync(ie),Ae)}function Q(ie,Ae){var we=Ae&&Ae.type;switch(we||en&&Buffer.isBuffer(ie)&&(we="buffer"),we||"base64"){case"file":return Y(ie,Ae);case"base64":return f(hl(wl(ie)),Ae);case"binary":return f(hl(ie),Ae)}return f(ie,Ae)}function R(ie,Ae){var we=Ae||{},ke=we.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ke+"/",ie.FileIndex[0]={name:ke,type:5}),we.CLSID&&(ie.FileIndex[0].clsid=we.CLSID),T(ie)}function T(ie){var Ae="Sh33tJ5";if(!_r.find(ie,"/"+Ae)){var we=xt(4);we[0]=55,we[1]=we[3]=50,we[2]=54,ie.FileIndex.push({name:Ae,type:2,content:we,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+Ae),S(ie)}}function S(ie,Ae){R(ie);for(var we=!1,ke=!1,Te=ie.FullPaths.length-1;Te>=0;--Te){var Ie=ie.FileIndex[Te];switch(Ie.type){case 0:ke?we=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ke=!0,isNaN(Ie.R*Ie.L*Ie.C)&&(we=!0),Ie.R>-1&&Ie.L>-1&&Ie.R==Ie.L&&(we=!0);break;default:we=!0;break}}if(!(!we&&!Ae)){var Qe=new Date(1987,1,19),ot=0,tt=Object.create?Object.create(null):{},rt=[];for(Te=0;Te<ie.FullPaths.length;++Te)tt[ie.FullPaths[Te]]=!0,ie.FileIndex[Te].type!==0&&rt.push([ie.FullPaths[Te],ie.FileIndex[Te]]);for(Te=0;Te<rt.length;++Te){var at=n(rt[Te][0]);ke=tt[at],ke||(rt.push([at,{name:i(at).replace("/",""),type:1,clsid:_e,ct:Qe,mt:Qe,content:null}]),tt[at]=!0)}for(rt.sort(function(Gt,Dt){return r(Gt[0],Dt[0])}),ie.FullPaths=[],ie.FileIndex=[],Te=0;Te<rt.length;++Te)ie.FullPaths[Te]=rt[Te][0],ie.FileIndex[Te]=rt[Te][1];for(Te=0;Te<rt.length;++Te){var St=ie.FileIndex[Te],Mt=ie.FullPaths[Te];if(St.name=i(Mt).replace("/",""),St.L=St.R=St.C=-(St.color=1),St.size=St.content?St.content.length:0,St.start=0,St.clsid=St.clsid||_e,Te===0)St.C=rt.length>1?1:-1,St.size=0,St.type=5;else if(Mt.slice(-1)=="/"){for(ot=Te+1;ot<rt.length&&n(ie.FullPaths[ot])!=Mt;++ot);for(St.C=ot>=rt.length?-1:ot,ot=Te+1;ot<rt.length&&n(ie.FullPaths[ot])!=n(Mt);++ot);St.R=ot>=rt.length?-1:ot,St.type=1}else n(ie.FullPaths[Te+1]||"")==n(Mt)&&(St.R=Te+1),St.type=2}}}function j(ie,Ae){var we=Ae||{};if(we.fileType=="mad")return Kr(ie,we);switch(S(ie),we.fileType){case"zip":return Qt(ie,we)}var ke=(function(Gt){for(var Dt=0,Pt=0,Er=0;Er<Gt.FileIndex.length;++Er){var dn=Gt.FileIndex[Er];if(dn.content){var Br=dn.content.length;Br>0&&(Br<4096?Dt+=Br+63>>6:Pt+=Br+511>>9)}}for(var gn=Gt.FullPaths.length+3>>2,Os=Dt+7>>3,Ms=Dt+127>>7,ns=Os+Pt+gn+Ms,fi=ns+127>>7,Xo=fi<=109?0:Math.ceil((fi-109)/127);ns+fi+Xo+127>>7>fi;)Xo=++fi<=109?0:Math.ceil((fi-109)/127);var An=[1,Xo,fi,Ms,gn,Pt,Dt,0];return Gt.FileIndex[0].size=Dt<<6,An[7]=(Gt.FileIndex[0].start=An[0]+An[1]+An[2]+An[3]+An[4]+An[5])+(An[6]+7>>3),An})(ie),Te=xt(ke[7]<<9),Ie=0,Qe=0;{for(Ie=0;Ie<8;++Ie)Te.write_shift(1,pe[Ie]);for(Ie=0;Ie<8;++Ie)Te.write_shift(2,0);for(Te.write_shift(2,62),Te.write_shift(2,3),Te.write_shift(2,65534),Te.write_shift(2,9),Te.write_shift(2,6),Ie=0;Ie<3;++Ie)Te.write_shift(2,0);for(Te.write_shift(4,0),Te.write_shift(4,ke[2]),Te.write_shift(4,ke[0]+ke[1]+ke[2]+ke[3]-1),Te.write_shift(4,0),Te.write_shift(4,4096),Te.write_shift(4,ke[3]?ke[0]+ke[1]+ke[2]-1:M),Te.write_shift(4,ke[3]),Te.write_shift(-4,ke[1]?ke[0]-1:M),Te.write_shift(4,ke[1]),Ie=0;Ie<109;++Ie)Te.write_shift(-4,Ie<ke[2]?ke[1]+Ie:-1)}if(ke[1])for(Qe=0;Qe<ke[1];++Qe){for(;Ie<236+Qe*127;++Ie)Te.write_shift(-4,Ie<ke[2]?ke[1]+Ie:-1);Te.write_shift(-4,Qe===ke[1]-1?M:Qe+1)}var ot=function(Gt){for(Qe+=Gt;Ie<Qe-1;++Ie)Te.write_shift(-4,Ie+1);Gt&&(++Ie,Te.write_shift(-4,M))};for(Qe=Ie=0,Qe+=ke[1];Ie<Qe;++Ie)Te.write_shift(-4,xe.DIFSECT);for(Qe+=ke[2];Ie<Qe;++Ie)Te.write_shift(-4,xe.FATSECT);ot(ke[3]),ot(ke[4]);for(var tt=0,rt=0,at=ie.FileIndex[0];tt<ie.FileIndex.length;++tt)at=ie.FileIndex[tt],at.content&&(rt=at.content.length,!(rt<4096)&&(at.start=Qe,ot(rt+511>>9)));for(ot(ke[6]+7>>3);Te.l&511;)Te.write_shift(-4,xe.ENDOFCHAIN);for(Qe=Ie=0,tt=0;tt<ie.FileIndex.length;++tt)at=ie.FileIndex[tt],at.content&&(rt=at.content.length,!(!rt||rt>=4096)&&(at.start=Qe,ot(rt+63>>6)));for(;Te.l&511;)Te.write_shift(-4,xe.ENDOFCHAIN);for(Ie=0;Ie<ke[4]<<2;++Ie){var St=ie.FullPaths[Ie];if(!St||St.length===0){for(tt=0;tt<17;++tt)Te.write_shift(4,0);for(tt=0;tt<3;++tt)Te.write_shift(4,-1);for(tt=0;tt<12;++tt)Te.write_shift(4,0);continue}at=ie.FileIndex[Ie],Ie===0&&(at.start=at.size?at.start-1:M);var Mt=Ie===0&&we.root||at.name;if(rt=2*(Mt.length+1),Te.write_shift(64,Mt,"utf16le"),Te.write_shift(2,rt),Te.write_shift(1,at.type),Te.write_shift(1,at.color),Te.write_shift(-4,at.L),Te.write_shift(-4,at.R),Te.write_shift(-4,at.C),at.clsid)Te.write_shift(16,at.clsid,"hex");else for(tt=0;tt<4;++tt)Te.write_shift(4,0);Te.write_shift(4,at.state||0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,0),Te.write_shift(4,at.start),Te.write_shift(4,at.size),Te.write_shift(4,0)}for(Ie=1;Ie<ie.FileIndex.length;++Ie)if(at=ie.FileIndex[Ie],at.size>=4096)if(Te.l=at.start+1<<9,en&&Buffer.isBuffer(at.content))at.content.copy(Te,Te.l,0,at.size),Te.l+=at.size+511&-512;else{for(tt=0;tt<at.size;++tt)Te.write_shift(1,at.content[tt]);for(;tt&511;++tt)Te.write_shift(1,0)}for(Ie=1;Ie<ie.FileIndex.length;++Ie)if(at=ie.FileIndex[Ie],at.size>0&&at.size<4096)if(en&&Buffer.isBuffer(at.content))at.content.copy(Te,Te.l,0,at.size),Te.l+=at.size+63&-64;else{for(tt=0;tt<at.size;++tt)Te.write_shift(1,at.content[tt]);for(;tt&63;++tt)Te.write_shift(1,0)}if(en)Te.l=Te.length;else for(;Te.l<Te.length;)Te.write_shift(1,0);return Te}function A(ie,Ae){var we=ie.FullPaths.map(function(tt){return tt.toUpperCase()}),ke=we.map(function(tt){var rt=tt.split("/");return rt[rt.length-(tt.slice(-1)=="/"?2:1)]}),Te=!1;Ae.charCodeAt(0)===47?(Te=!0,Ae=we[0].slice(0,-1)+Ae):Te=Ae.indexOf("/")!==-1;var Ie=Ae.toUpperCase(),Qe=Te===!0?we.indexOf(Ie):ke.indexOf(Ie);if(Qe!==-1)return ie.FileIndex[Qe];var ot=!Ie.match(ym);for(Ie=Ie.replace(To,""),ot&&(Ie=Ie.replace(ym,"!")),Qe=0;Qe<we.length;++Qe)if((ot?we[Qe].replace(ym,"!"):we[Qe]).replace(To,"")==Ie||(ot?ke[Qe].replace(ym,"!"):ke[Qe]).replace(To,"")==Ie)return ie.FileIndex[Qe];return null}var F=64,M=-2,re="d0cf11e0a1b11ae1",pe=[208,207,17,224,161,177,26,225],_e="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:re,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:_e,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(ie,Ae,we){c();var ke=j(ie,we);l.writeFileSync(Ae,ke)}function G(ie){for(var Ae=new Array(ie.length),we=0;we<ie.length;++we)Ae[we]=String.fromCharCode(ie[we]);return Ae.join("")}function fe(ie,Ae){var we=j(ie,Ae);switch(Ae&&Ae.type||"buffer"){case"file":return c(),l.writeFileSync(Ae.filename,we),we;case"binary":return typeof we=="string"?we:G(we);case"base64":return sg(typeof we=="string"?we:G(we));case"buffer":if(en)return Buffer.isBuffer(we)?we:pd(we);case"array":return typeof we=="string"?hl(we):we}return we}var X;function I(ie){try{var Ae=ie.InflateRaw,we=new Ae;if(we._processChunk(new Uint8Array([3,0]),we._finishFlushFlag),we.bytesRead)X=ie;else throw new Error("zlib does not expose bytesRead")}catch(ke){console.error("cannot use native zlib: "+(ke.message||ke))}}function q(ie,Ae){if(!X)return He(ie,Ae);var we=X.InflateRaw,ke=new we,Te=ke._processChunk(ie.slice(ie.l),ke._finishFlushFlag);return ie.l+=ke.bytesRead,Te}function W(ie){return X?X.deflateRawSync(ie):yt(ie)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ve=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ee(ie){var Ae=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(Ae>>16|Ae>>8|Ae)&255}for(var le=typeof Uint8Array<"u",be=le?new Uint8Array(256):[],Le=0;Le<256;++Le)be[Le]=Ee(Le);function ae(ie,Ae){var we=be[ie&255];return Ae<=8?we>>>8-Ae:(we=we<<8|be[ie>>8&255],Ae<=16?we>>>16-Ae:(we=we<<8|be[ie>>16&255],we>>>24-Ae))}function je(ie,Ae){var we=Ae&7,ke=Ae>>>3;return(ie[ke]|(we<=6?0:ie[ke+1]<<8))>>>we&3}function Pe(ie,Ae){var we=Ae&7,ke=Ae>>>3;return(ie[ke]|(we<=5?0:ie[ke+1]<<8))>>>we&7}function de(ie,Ae){var we=Ae&7,ke=Ae>>>3;return(ie[ke]|(we<=4?0:ie[ke+1]<<8))>>>we&15}function Me(ie,Ae){var we=Ae&7,ke=Ae>>>3;return(ie[ke]|(we<=3?0:ie[ke+1]<<8))>>>we&31}function Be(ie,Ae){var we=Ae&7,ke=Ae>>>3;return(ie[ke]|(we<=1?0:ie[ke+1]<<8))>>>we&127}function et(ie,Ae,we){var ke=Ae&7,Te=Ae>>>3,Ie=(1<<we)-1,Qe=ie[Te]>>>ke;return we<8-ke||(Qe|=ie[Te+1]<<8-ke,we<16-ke)||(Qe|=ie[Te+2]<<16-ke,we<24-ke)||(Qe|=ie[Te+3]<<24-ke),Qe&Ie}function ne(ie,Ae,we){var ke=Ae&7,Te=Ae>>>3;return ke<=5?ie[Te]|=(we&7)<<ke:(ie[Te]|=we<<ke&255,ie[Te+1]=(we&7)>>8-ke),Ae+3}function De(ie,Ae,we){var ke=Ae&7,Te=Ae>>>3;return we=(we&1)<<ke,ie[Te]|=we,Ae+1}function Ke(ie,Ae,we){var ke=Ae&7,Te=Ae>>>3;return we<<=ke,ie[Te]|=we&255,we>>>=8,ie[Te+1]=we,Ae+8}function mt(ie,Ae,we){var ke=Ae&7,Te=Ae>>>3;return we<<=ke,ie[Te]|=we&255,we>>>=8,ie[Te+1]=we&255,ie[Te+2]=we>>>8,Ae+16}function Et(ie,Ae){var we=ie.length,ke=2*we>Ae?2*we:Ae+5,Te=0;if(we>=Ae)return ie;if(en){var Ie=g9(ke);if(ie.copy)ie.copy(Ie);else for(;Te<ie.length;++Te)Ie[Te]=ie[Te];return Ie}else if(le){var Qe=new Uint8Array(ke);if(Qe.set)Qe.set(ie);else for(;Te<we;++Te)Qe[Te]=ie[Te];return Qe}return ie.length=ke,ie}function Re(ie){for(var Ae=new Array(ie),we=0;we<ie;++we)Ae[we]=0;return Ae}function qe(ie,Ae,we){var ke=1,Te=0,Ie=0,Qe=0,ot=0,tt=ie.length,rt=le?new Uint16Array(32):Re(32);for(Ie=0;Ie<32;++Ie)rt[Ie]=0;for(Ie=tt;Ie<we;++Ie)ie[Ie]=0;tt=ie.length;var at=le?new Uint16Array(tt):Re(tt);for(Ie=0;Ie<tt;++Ie)rt[Te=ie[Ie]]++,ke<Te&&(ke=Te),at[Ie]=0;for(rt[0]=0,Ie=1;Ie<=ke;++Ie)rt[Ie+16]=ot=ot+rt[Ie-1]<<1;for(Ie=0;Ie<tt;++Ie)ot=ie[Ie],ot!=0&&(at[Ie]=rt[ot+16]++);var St=0;for(Ie=0;Ie<tt;++Ie)if(St=ie[Ie],St!=0)for(ot=ae(at[Ie],ke)>>ke-St,Qe=(1<<ke+4-St)-1;Qe>=0;--Qe)Ae[ot|Qe<<St]=St&15|Ie<<4;return ke}var Ge=le?new Uint16Array(512):Re(512),dt=le?new Uint16Array(32):Re(32);if(!le){for(var Nt=0;Nt<512;++Nt)Ge[Nt]=0;for(Nt=0;Nt<32;++Nt)dt[Nt]=0}(function(){for(var ie=[],Ae=0;Ae<32;Ae++)ie.push(5);qe(ie,dt,32);var we=[];for(Ae=0;Ae<=143;Ae++)we.push(8);for(;Ae<=255;Ae++)we.push(9);for(;Ae<=279;Ae++)we.push(7);for(;Ae<=287;Ae++)we.push(8);qe(we,Ge,288)})();var It=(function(){for(var Ae=le?new Uint8Array(32768):[],we=0,ke=0;we<ve.length-1;++we)for(;ke<ve[we+1];++ke)Ae[ke]=we;for(;ke<32768;++ke)Ae[ke]=29;var Te=le?new Uint8Array(259):[];for(we=0,ke=0;we<ce.length-1;++we)for(;ke<ce[we+1];++ke)Te[ke]=we;function Ie(ot,tt){for(var rt=0;rt<ot.length;){var at=Math.min(65535,ot.length-rt),St=rt+at==ot.length;for(tt.write_shift(1,+St),tt.write_shift(2,at),tt.write_shift(2,~at&65535);at-- >0;)tt[tt.l++]=ot[rt++]}return tt.l}function Qe(ot,tt){for(var rt=0,at=0,St=le?new Uint16Array(32768):[];at<ot.length;){var Mt=Math.min(65535,ot.length-at);if(Mt<10){for(rt=ne(tt,rt,+(at+Mt==ot.length)),rt&7&&(rt+=8-(rt&7)),tt.l=rt/8|0,tt.write_shift(2,Mt),tt.write_shift(2,~Mt&65535);Mt-- >0;)tt[tt.l++]=ot[at++];rt=tt.l*8;continue}rt=ne(tt,rt,+(at+Mt==ot.length)+2);for(var Gt=0;Mt-- >0;){var Dt=ot[at];Gt=(Gt<<5^Dt)&32767;var Pt=-1,Er=0;if((Pt=St[Gt])&&(Pt|=at&-32768,Pt>at&&(Pt-=32768),Pt<at))for(;ot[Pt+Er]==ot[at+Er]&&Er<250;)++Er;if(Er>2){Dt=Te[Er],Dt<=22?rt=Ke(tt,rt,be[Dt+1]>>1)-1:(Ke(tt,rt,3),rt+=5,Ke(tt,rt,be[Dt-23]>>5),rt+=3);var dn=Dt<8?0:Dt-4>>2;dn>0&&(mt(tt,rt,Er-ce[Dt]),rt+=dn),Dt=Ae[at-Pt],rt=Ke(tt,rt,be[Dt]>>3),rt-=3;var Br=Dt<4?0:Dt-2>>1;Br>0&&(mt(tt,rt,at-Pt-ve[Dt]),rt+=Br);for(var gn=0;gn<Er;++gn)St[Gt]=at&32767,Gt=(Gt<<5^ot[at])&32767,++at;Mt-=Er-1}else Dt<=143?Dt=Dt+48:rt=De(tt,rt,1),rt=Ke(tt,rt,be[Dt]),St[Gt]=at&32767,++at}rt=Ke(tt,rt,0)-1}return tt.l=(rt+7)/8|0,tt.l}return function(tt,rt){return tt.length<8?Ie(tt,rt):Qe(tt,rt)}})();function yt(ie){var Ae=xt(50+Math.floor(ie.length*1.1)),we=It(ie,Ae);return Ae.slice(0,we)}var wt=le?new Uint16Array(32768):Re(32768),Xt=le?new Uint16Array(32768):Re(32768),qt=le?new Uint16Array(128):Re(128),Bt=1,mr=1;function qr(ie,Ae){var we=Me(ie,Ae)+257;Ae+=5;var ke=Me(ie,Ae)+1;Ae+=5;var Te=de(ie,Ae)+4;Ae+=4;for(var Ie=0,Qe=le?new Uint8Array(19):Re(19),ot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],tt=1,rt=le?new Uint8Array(8):Re(8),at=le?new Uint8Array(8):Re(8),St=Qe.length,Mt=0;Mt<Te;++Mt)Qe[J[Mt]]=Ie=Pe(ie,Ae),tt<Ie&&(tt=Ie),rt[Ie]++,Ae+=3;var Gt=0;for(rt[0]=0,Mt=1;Mt<=tt;++Mt)at[Mt]=Gt=Gt+rt[Mt-1]<<1;for(Mt=0;Mt<St;++Mt)(Gt=Qe[Mt])!=0&&(ot[Mt]=at[Gt]++);var Dt=0;for(Mt=0;Mt<St;++Mt)if(Dt=Qe[Mt],Dt!=0){Gt=be[ot[Mt]]>>8-Dt;for(var Pt=(1<<7-Dt)-1;Pt>=0;--Pt)qt[Gt|Pt<<Dt]=Dt&7|Mt<<3}var Er=[];for(tt=1;Er.length<we+ke;)switch(Gt=qt[Be(ie,Ae)],Ae+=Gt&7,Gt>>>=3){case 16:for(Ie=3+je(ie,Ae),Ae+=2,Gt=Er[Er.length-1];Ie-- >0;)Er.push(Gt);break;case 17:for(Ie=3+Pe(ie,Ae),Ae+=3;Ie-- >0;)Er.push(0);break;case 18:for(Ie=11+Be(ie,Ae),Ae+=7;Ie-- >0;)Er.push(0);break;default:Er.push(Gt),tt<Gt&&(tt=Gt);break}var dn=Er.slice(0,we),Br=Er.slice(we);for(Mt=we;Mt<286;++Mt)dn[Mt]=0;for(Mt=ke;Mt<30;++Mt)Br[Mt]=0;return Bt=qe(dn,wt,286),mr=qe(Br,Xt,30),Ae}function fr(ie,Ae){if(ie[0]==3&&!(ie[1]&3))return[Cf(Ae),2];for(var we=0,ke=0,Te=g9(Ae||1<<18),Ie=0,Qe=Te.length>>>0,ot=0,tt=0;(ke&1)==0;){if(ke=Pe(ie,we),we+=3,ke>>>1)ke>>1==1?(ot=9,tt=5):(we=qr(ie,we),ot=Bt,tt=mr);else{we&7&&(we+=8-(we&7));var rt=ie[we>>>3]|ie[(we>>>3)+1]<<8;if(we+=32,rt>0)for(!Ae&&Qe<Ie+rt&&(Te=Et(Te,Ie+rt),Qe=Te.length);rt-- >0;)Te[Ie++]=ie[we>>>3],we+=8;continue}for(;;){!Ae&&Qe<Ie+32767&&(Te=Et(Te,Ie+32767),Qe=Te.length);var at=et(ie,we,ot),St=ke>>>1==1?Ge[at]:wt[at];if(we+=St&15,St>>>=4,(St>>>8&255)===0)Te[Ie++]=St;else{if(St==256)break;St-=257;var Mt=St<8?0:St-4>>2;Mt>5&&(Mt=0);var Gt=Ie+ce[St];Mt>0&&(Gt+=et(ie,we,Mt),we+=Mt),at=et(ie,we,tt),St=ke>>>1==1?dt[at]:Xt[at],we+=St&15,St>>>=4;var Dt=St<4?0:St-2>>1,Pt=ve[St];for(Dt>0&&(Pt+=et(ie,we,Dt),we+=Dt),!Ae&&Qe<Gt&&(Te=Et(Te,Gt+100),Qe=Te.length);Ie<Gt;)Te[Ie]=Te[Ie-Pt],++Ie}}}return Ae?[Te,we+7>>>3]:[Te.slice(0,Ie),we+7>>>3]}function He(ie,Ae){var we=ie.slice(ie.l||0),ke=fr(we,Ae);return ie.l+=ke[1],ke[0]}function Ot(ie,Ae){if(ie)typeof console<"u"&&console.error(Ae);else throw new Error(Ae)}function hr(ie,Ae){var we=ie;Ls(we,0);var ke=[],Te=[],Ie={FileIndex:ke,FullPaths:Te};R(Ie,{root:Ae.root});for(var Qe=we.length-4;(we[Qe]!=80||we[Qe+1]!=75||we[Qe+2]!=5||we[Qe+3]!=6)&&Qe>=0;)--Qe;we.l=Qe+4,we.l+=4;var ot=we.read_shift(2);we.l+=6;var tt=we.read_shift(4);for(we.l=tt,Qe=0;Qe<ot;++Qe){we.l+=20;var rt=we.read_shift(4),at=we.read_shift(4),St=we.read_shift(2),Mt=we.read_shift(2),Gt=we.read_shift(2);we.l+=8;var Dt=we.read_shift(4),Pt=o(we.slice(we.l+St,we.l+St+Mt));we.l+=St+Mt+Gt;var Er=we.l;we.l=Dt+4,Zt(we,rt,at,Ie,Pt),we.l=Er}return Ie}function Zt(ie,Ae,we,ke,Te){ie.l+=2;var Ie=ie.read_shift(2),Qe=ie.read_shift(2),ot=s(ie);if(Ie&8257)throw new Error("Unsupported ZIP encryption");for(var tt=ie.read_shift(4),rt=ie.read_shift(4),at=ie.read_shift(4),St=ie.read_shift(2),Mt=ie.read_shift(2),Gt="",Dt=0;Dt<St;++Dt)Gt+=String.fromCharCode(ie[ie.l++]);if(Mt){var Pt=o(ie.slice(ie.l,ie.l+Mt));(Pt[21589]||{}).mt&&(ot=Pt[21589].mt),((Te||{})[21589]||{}).mt&&(ot=Te[21589].mt)}ie.l+=Mt;var Er=ie.slice(ie.l,ie.l+rt);switch(Qe){case 8:Er=q(ie,at);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Qe)}var dn=!1;Ie&8&&(tt=ie.read_shift(4),tt==134695760&&(tt=ie.read_shift(4),dn=!0),rt=ie.read_shift(4),at=ie.read_shift(4)),rt!=Ae&&Ot(dn,"Bad compressed size: "+Ae+" != "+rt),at!=we&&Ot(dn,"Bad uncompressed size: "+we+" != "+at),Rn(ke,Gt,Er,{unsafe:!0,mt:ot})}function Qt(ie,Ae){var we=Ae||{},ke=[],Te=[],Ie=xt(1),Qe=we.compression?8:0,ot=0,tt=0,rt=0,at=0,St=0,Mt=ie.FullPaths[0],Gt=Mt,Dt=ie.FileIndex[0],Pt=[],Er=0;for(tt=1;tt<ie.FullPaths.length;++tt)if(Gt=ie.FullPaths[tt].slice(Mt.length),Dt=ie.FileIndex[tt],!(!Dt.size||!Dt.content||Gt=="Sh33tJ5")){var dn=at,Br=xt(Gt.length);for(rt=0;rt<Gt.length;++rt)Br.write_shift(1,Gt.charCodeAt(rt)&127);Br=Br.slice(0,Br.l),Pt[St]=LX.buf(Dt.content,0);var gn=Dt.content;Qe==8&&(gn=W(gn)),Ie=xt(30),Ie.write_shift(4,67324752),Ie.write_shift(2,20),Ie.write_shift(2,ot),Ie.write_shift(2,Qe),Dt.mt?a(Ie,Dt.mt):Ie.write_shift(4,0),Ie.write_shift(-4,Pt[St]),Ie.write_shift(4,gn.length),Ie.write_shift(4,Dt.content.length),Ie.write_shift(2,Br.length),Ie.write_shift(2,0),at+=Ie.length,ke.push(Ie),at+=Br.length,ke.push(Br),at+=gn.length,ke.push(gn),Ie=xt(46),Ie.write_shift(4,33639248),Ie.write_shift(2,0),Ie.write_shift(2,20),Ie.write_shift(2,ot),Ie.write_shift(2,Qe),Ie.write_shift(4,0),Ie.write_shift(-4,Pt[St]),Ie.write_shift(4,gn.length),Ie.write_shift(4,Dt.content.length),Ie.write_shift(2,Br.length),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(4,0),Ie.write_shift(4,dn),Er+=Ie.l,Te.push(Ie),Er+=Br.length,Te.push(Br),++St}return Ie=xt(22),Ie.write_shift(4,101010256),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,St),Ie.write_shift(2,St),Ie.write_shift(4,Er),Ie.write_shift(4,at),Ie.write_shift(2,0),gs([gs(ke),gs(Te),Ie])}var Wt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function br(ie,Ae){if(ie.ctype)return ie.ctype;var we=ie.name||"",ke=we.match(/\.([^\.]+)$/);return ke&&Wt[ke[1]]||Ae&&(ke=(we=Ae).match(/[\.\\]([^\.\\])+$/),ke&&Wt[ke[1]])?Wt[ke[1]]:"application/octet-stream"}function Dn(ie){for(var Ae=sg(ie),we=[],ke=0;ke<Ae.length;ke+=76)we.push(Ae.slice(ke,ke+76));return we.join(`\r
`)+`\r
`}function jr(ie){var Ae=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(rt){var at=rt.charCodeAt(0).toString(16).toUpperCase();return"="+(at.length==1?"0"+at:at)});Ae=Ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ae.charAt(0)==`
`&&(Ae="=0D"+Ae.slice(1)),Ae=Ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var we=[],ke=Ae.split(`\r
`),Te=0;Te<ke.length;++Te){var Ie=ke[Te];if(Ie.length==0){we.push("");continue}for(var Qe=0;Qe<Ie.length;){var ot=76,tt=Ie.slice(Qe,Qe+ot);tt.charAt(ot-1)=="="?ot--:tt.charAt(ot-2)=="="?ot-=2:tt.charAt(ot-3)=="="&&(ot-=3),tt=Ie.slice(Qe,Qe+ot),Qe+=ot,Qe<Ie.length&&(tt+="="),we.push(tt)}}return we.join(`\r
`)}function Cn(ie){for(var Ae=[],we=0;we<ie.length;++we){for(var ke=ie[we];we<=ie.length&&ke.charAt(ke.length-1)=="=";)ke=ke.slice(0,ke.length-1)+ie[++we];Ae.push(ke)}for(var Te=0;Te<Ae.length;++Te)Ae[Te]=Ae[Te].replace(/[=][0-9A-Fa-f]{2}/g,function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))});return hl(Ae.join(`\r
`))}function mn(ie,Ae,we){for(var ke="",Te="",Ie="",Qe,ot=0;ot<10;++ot){var tt=Ae[ot];if(!tt||tt.match(/^\s*$/))break;var rt=tt.match(/^(.*?):\s*([^\s].*)$/);if(rt)switch(rt[1].toLowerCase()){case"content-location":ke=rt[2].trim();break;case"content-type":Ie=rt[2].trim();break;case"content-transfer-encoding":Te=rt[2].trim();break}}switch(++ot,Te.toLowerCase()){case"base64":Qe=hl(wl(Ae.slice(ot).join("")));break;case"quoted-printable":Qe=Cn(Ae.slice(ot));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Te)}var at=Rn(ie,ke.slice(we.length),Qe,{unsafe:!0});Ie&&(at.ctype=Ie)}function ir(ie,Ae){if(G(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var we=Ae&&Ae.root||"",ke=(en&&Buffer.isBuffer(ie)?ie.toString("binary"):G(ie)).split(`\r
`),Te=0,Ie="";for(Te=0;Te<ke.length;++Te)if(Ie=ke[Te],!!/^Content-Location:/i.test(Ie)&&(Ie=Ie.slice(Ie.indexOf("file")),we||(we=Ie.slice(0,Ie.lastIndexOf("/")+1)),Ie.slice(0,we.length)!=we))for(;we.length>0&&(we=we.slice(0,we.length-1),we=we.slice(0,we.lastIndexOf("/")+1),Ie.slice(0,we.length)!=we););var Qe=(ke[1]||"").match(/boundary="(.*?)"/);if(!Qe)throw new Error("MAD cannot find boundary");var ot="--"+(Qe[1]||""),tt=[],rt=[],at={FileIndex:tt,FullPaths:rt};R(at);var St,Mt=0;for(Te=0;Te<ke.length;++Te){var Gt=ke[Te];Gt!==ot&&Gt!==ot+"--"||(Mt++&&mn(at,ke.slice(St,Te),we),St=Te)}return at}function Kr(ie,Ae){var we=Ae||{},ke=we.boundary||"SheetJS";ke="------="+ke;for(var Te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ke.slice(2)+'"',"","",""],Ie=ie.FullPaths[0],Qe=Ie,ot=ie.FileIndex[0],tt=1;tt<ie.FullPaths.length;++tt)if(Qe=ie.FullPaths[tt].slice(Ie.length),ot=ie.FileIndex[tt],!(!ot.size||!ot.content||Qe=="Sh33tJ5")){Qe=Qe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Er){return"_x"+Er.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Er){return"_u"+Er.charCodeAt(0).toString(16)+"_"});for(var rt=ot.content,at=en&&Buffer.isBuffer(rt)?rt.toString("binary"):G(rt),St=0,Mt=Math.min(1024,at.length),Gt=0,Dt=0;Dt<=Mt;++Dt)(Gt=at.charCodeAt(Dt))>=32&&Gt<128&&++St;var Pt=St>=Mt*4/5;Te.push(ke),Te.push("Content-Location: "+(we.root||"file:///C:/SheetJS/")+Qe),Te.push("Content-Transfer-Encoding: "+(Pt?"quoted-printable":"base64")),Te.push("Content-Type: "+br(ot,Qe)),Te.push(""),Te.push(Pt?jr(at):Dn(at))}return Te.push(ke+`--\r
`),Te.join(`\r
`)}function vi(ie){var Ae={};return R(Ae,ie),Ae}function Rn(ie,Ae,we,ke){var Te=ke&&ke.unsafe;Te||R(ie);var Ie=!Te&&_r.find(ie,Ae);if(!Ie){var Qe=ie.FullPaths[0];Ae.slice(0,Qe.length)==Qe?Qe=Ae:(Qe.slice(-1)!="/"&&(Qe+="/"),Qe=(Qe+Ae).replace("//","/")),Ie={name:i(Ae),type:2},ie.FileIndex.push(Ie),ie.FullPaths.push(Qe),Te||_r.utils.cfb_gc(ie)}return Ie.content=we,Ie.size=we?we.length:0,ke&&(ke.CLSID&&(Ie.clsid=ke.CLSID),ke.mt&&(Ie.mt=ke.mt),ke.ct&&(Ie.ct=ke.ct)),Ie}function Bi(ie,Ae){R(ie);var we=_r.find(ie,Ae);if(we){for(var ke=0;ke<ie.FileIndex.length;++ke)if(ie.FileIndex[ke]==we)return ie.FileIndex.splice(ke,1),ie.FullPaths.splice(ke,1),!0}return!1}function Nn(ie,Ae,we){R(ie);var ke=_r.find(ie,Ae);if(ke){for(var Te=0;Te<ie.FileIndex.length;++Te)if(ie.FileIndex[Te]==ke)return ie.FileIndex[Te].name=i(we),ie.FullPaths[Te]=we,!0}return!1}function si(ie){S(ie,!0)}return e.find=A,e.read=Q,e.parse=f,e.write=fe,e.writeFile=oe,e.utils={cfb_new:vi,cfb_add:Rn,cfb_del:Bi,cfb_mov:Nn,cfb_gc:si,ReadShift:Pm,CheckField:hR,prep_blob:Ls,bconcat:gs,use_zlib:I,_deflateRaw:yt,_inflateRaw:He,consts:xe},e})();function jX(t){return typeof t=="string"?Fy(t):Array.isArray(t)?oX(t):t}function Gg(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Fy(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?iu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([jX(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:t,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=t,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Uf(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function DX(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function ua(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function E9(t,e){for(var r=[],n=ua(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function jy(t){for(var e=[],r=ua(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Dy(t){for(var e=[],r=ua(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function OX(t){for(var e=[],r=ua(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Rv=new Date(1899,11,30,0,0,0);function ts(t,e){var r=t.getTime(),n=Rv.getTime()+(t.getTimezoneOffset()-Rv.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var WP=new Date,MX=Rv.getTime()+(WP.getTimezoneOffset()-Rv.getTimezoneOffset())*6e4,S9=WP.getTimezoneOffset();function Oy(t){var e=new Date;return e.setTime(t*24*60*60*1e3+MX),e.getTimezoneOffset()!==S9&&e.setTime(e.getTime()+(e.getTimezoneOffset()-S9)*6e4),e}function BX(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[a],10)}return e}var C9=new Date("2017-02-19T19:06:09.000Z"),GP=isNaN(C9.getFullYear())?new Date("2/19/17"):C9,VX=GP.getFullYear()==2017;function Si(t,e){var r=new Date(t);if(VX)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(GP.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function Qh(t,e){if(en&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return iu(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return iu(LP(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return iu(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return iu(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Ci(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ci(t[r]));return e}function na(t,e){for(var r="";r.length<e;)r+=t;return r}function Sc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(e=Number(n)))?e/r:e}var UX=["january","february","march","april","may","june","july","august","september","october","november","december"];function X1(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),a=e.getDate();if(isNaN(a))return r;var s=t.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&UX.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var zX=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function KP(t){return t?t.content&&t.type?Qh(t.content,!0):t.data?vm(t.data):t.asNodeBuffer&&en?vm(t.asNodeBuffer().toString("binary")):t.asBinary?vm(t.asBinary()):t._data&&t._data.getContent?vm(Qh(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function XP(t){if(!t)return null;if(t.data)return p9(t.data);if(t.asNodeBuffer&&en)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?p9(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function $X(t){return t&&t.name.slice(-4)===".bin"?XP(t):KP(t)}function Ul(t,e){for(var r=t.FullPaths||ua(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return t.files?t.files[r[a]]:t.FileIndex[a]}return null}function S6(t,e){var r=Ul(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Oa(t,e,r){if(!r)return $X(S6(t,e));if(!e)return null;try{return Oa(t,e)}catch{return null}}function pl(t,e,r){if(!r)return KP(S6(t,e));if(!e)return null;try{return pl(t,e)}catch{return null}}function qX(t,e,r){return XP(S6(t,e))}function N9(t){for(var e=t.FullPaths||ua(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Gr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return en?n=pd(r):n=lX(r),_r.utils.cfb_add(t,e,n)}_r.utils.cfb_add(t,e,r)}else t.file(e,r)}function C6(){return _r.utils.cfb_new()}function YP(t,e){switch(e.type){case"base64":return _r.read(t,{type:"base64"});case"binary":return _r.read(t,{type:"binary"});case"buffer":case"array":return _r.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function wm(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Aa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,HX=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,A9=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,WX=/<[^>]*>/g,vo=Aa.match(A9)?A9:WX,GX=/<\w*:/,KX=/<(\/?)\w+:/;function Fr(t,e,r){for(var n={},i=0,a=0;i!==t.length&&!((a=t.charCodeAt(i))===32||a===10||a===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var s=t.match(HX),o=0,l="",c=0,f="",p="",g=1;if(s)for(c=0;c!=s.length;++c){for(p=s[c],a=0;a!=p.length&&p.charCodeAt(a)!==61;++a);for(f=p.slice(0,a).trim();p.charCodeAt(a+1)==32;)++a;for(g=(i=p.charCodeAt(a+1))==34||i==39?1:0,l=p.slice(a+1+g,p.length-g),o=0;o!=f.length&&f.charCodeAt(o)!==58;++o);if(o===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),n[f]=l,n[f.toLowerCase()]=l;else{var m=(o===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(o+1);if(n[m]&&f.slice(o-3,o)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function xu(t){return t.replace(KX,"<$1")}var QP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},N6=jy(QP),En=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(t,function(o,l){return QP[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}})(),A6=/[&<>'"]/g,XX=/[\u0000-\u0008\u000b-\u001f]/g;function Qn(t){var e=t+"";return e.replace(A6,function(r){return N6[r]}).replace(XX,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function T9(t){return Qn(t).replace(/ /g,"_x0020_")}var JP=/[\u0000-\u001f]/g;function T6(t){var e=t+"";return e.replace(A6,function(r){return N6[r]}).replace(/\n/g,"<br/>").replace(JP,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function YX(t){var e=t+"";return e.replace(A6,function(r){return N6[r]}).replace(JP,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var I9=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function QX(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function _i(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function x4(t){for(var e="",r=0,n=0,i=0,a=0,s=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,e+=String.fromCharCode(s);continue}if(a=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function P9(t){var e=Cf(2*t.length),r,n,i=1,a=0,s=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(e[a++]=s&255,e[a++]=s>>>8,s=0),e[a++]=r%256,e[a++]=r>>>8;return e.slice(0,a).toString("ucs2")}function R9(t){return pd(t,"binary").toString("utf8")}var nx="foo bar bazâð£",ni=en&&(R9(nx)==x4(nx)&&R9||P9(nx)==x4(nx)&&P9)||x4,iu=en?function(t){return pd(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},lg=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),ZP=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),JX=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),ZX=/<\/?(?:vt:)?variant>/g,eY=/<(?:vt:)([^>]*)>([\s\S]*)</;function F9(t,e){var r=Fr(t),n=t.match(JX(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(ZX,"").match(eY);s&&i.push({v:ni(s[2]),t:s[1]})}),i}var eR=/(^\s|\s$|\n)/;function Ds(t,e){return"<"+t+(e.match(eR)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function cg(t){return ua(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Ut(t,e,r){return"<"+t+(r!=null?cg(r):"")+(e!=null?(e.match(eR)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function rw(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function tY(t,e){switch(typeof t){case"string":var r=Ut("vt:lpwstr",Qn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ut((t|0)==t?"vt:i4":"vt:r8",Qn(String(t)));case"boolean":return Ut("vt:bool",t?"true":"false")}if(t instanceof Date)return Ut("vt:filetime",rw(t));throw new Error("Unable to serialize "+t)}function I6(t){if(en&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return ni(Uf(b6(t)));throw new Error("Bad input format: expected Buffer or string")}var ug=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Qa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},p0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],dl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function rY(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,a=5;a>=0;--a)i=i*256+t[e+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function nY(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,a=0,s=n?-e:e;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(e)?26985:0);for(var o=0;o<=5;++o,a/=256)t[r+o]=a&255;t[r+6]=(i&15)<<4|a&15,t[r+7]=i>>4|n}var L9=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,a=t[0][n].length;i<a;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},j9=en?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:pd(e)})):L9(t)}:L9,D9=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Wu(t,i)));return n.join("").replace(To,"")},P6=en?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(To,""):D9(t,e,r)}:D9,O9=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},tR=en?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):O9(t,e,r)}:O9,M9=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(l1(t,i)));return n.join("")},Kg=en?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):M9(e,r,n)}:M9,rR=function(t,e){var r=fl(t,e);return r>0?Kg(t,e+4,e+4+r-1):""},nR=rR,iR=function(t,e){var r=fl(t,e);return r>0?Kg(t,e+4,e+4+r-1):""},aR=iR,sR=function(t,e){var r=2*fl(t,e);return r>0?Kg(t,e+4,e+4+r-1):""},oR=sR,lR=function(e,r){var n=fl(e,r);return n>0?P6(e,r+4,r+4+n):""},cR=lR,uR=function(t,e){var r=fl(t,e);return r>0?Kg(t,e+4,e+4+r):""},dR=uR,fR=function(t,e){return rY(t,e)},Fv=fR,R6=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};en&&(nR=function(e,r){if(!Buffer.isBuffer(e))return rR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},aR=function(e,r){if(!Buffer.isBuffer(e))return iR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},oR=function(e,r){if(!Buffer.isBuffer(e))return sR(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},cR=function(e,r){if(!Buffer.isBuffer(e))return lR(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},dR=function(e,r){if(!Buffer.isBuffer(e))return uR(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Fv=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):fR(e,r)},R6=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var l1=function(t,e){return t[e]},Wu=function(t,e){return t[e+1]*256+t[e]},iY=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},fl=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},wh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},aY=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Pm(t,e){var r="",n,i,a=[],s,o,l,c;switch(e){case"dbcs":if(c=this.l,en&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(Wu(this,c)),c+=2;t*=2;break;case"utf8":r=Kg(this,this.l,this.l+t);break;case"utf16le":t*=2,r=P6(this,this.l,this.l+t);break;case"wstr":return Pm.call(this,t,"dbcs");case"lpstr-ansi":r=nR(this,this.l),t=4+fl(this,this.l);break;case"lpstr-cp":r=aR(this,this.l),t=4+fl(this,this.l);break;case"lpwstr":r=oR(this,this.l),t=4+2*fl(this,this.l);break;case"lpp4":t=4+fl(this,this.l),r=cR(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+fl(this,this.l),r=dR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(s=l1(this,this.l+t++))!==0;)a.push(rx(s));r=a.join("");break;case"_wstr":for(t=0,r="";(s=Wu(this,this.l+t))!==0;)a.push(rx(s)),t+=2;t+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=l1(this,c),this.l=c+1,o=Pm.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(rx(Wu(this,c))),c+=2}r=a.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=l1(this,c),this.l=c+1,o=Pm.call(this,t-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(rx(l1(this,c))),c+=1}r=a.join("");break;default:switch(t){case 1:return n=l1(this,this.l),this.l++,n;case 2:return n=(e==="i"?iY:Wu)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?wh:aY)(this,this.l),this.l+=4,n):(i=fl(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Fv(this,this.l):i=Fv([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=tR(this,this.l,t);break}}return this.l+=t,r}var sY=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},oY=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},lY=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function cY(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)lY(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var s=e.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,sY(this,e,this.l);break;case 8:if(n=8,r==="f"){nY(this,e,this.l);break}case 16:break;case-4:n=4,oY(this,e,this.l);break}return this.l+=n,this}function hR(t,e){var r=tR(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ls(t,e){t.l=e,t.read_shift=Pm,t.chk=hR,t.write_shift=cY}function xo(t,e){t.l+=e}function xt(t){var e=Cf(t);return Ls(e,0),e}function md(t,e,r){if(t){var n,i,a;Ls(t,t.l||0);for(var s=t.length,o=0,l=0;t.l<s;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=gg[o]||gg[65535];for(n=t.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=t.read_shift(1))&127)<<7*i;l=t.l+a;var f=c.f&&c.f(t,a,r);if(t.l=l,e(f,c,o))return}}}function Wo(){var t=[],e=en?256:2048,r=function(c){var f=xt(c);return Ls(f,0),f},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},s=function(){return i(),gs(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),a(e)};return{next:a,push:o,end:s,_bufs:t}}function Ct(t,e,r,n){var i=+e,a;if(!isNaN(i)){n||(n=gg[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=t.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&R6(r)&&t.push(r)}}function Rm(t,e,r){var n=Ci(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function B9(t,e,r){var n=Ci(t);return n.s=Rm(n.s,e.s,r),n.e=Rm(n.e,e.s,r),n}function Fm(t,e){if(t.cRel&&t.c<0)for(t=Ci(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ci(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Rr(t);return!t.cRel&&t.cRel!=null&&(r=fY(r)),!t.rRel&&t.rRel!=null&&(r=uY(r)),r}function v4(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Ki(t.s.c)+":"+(t.e.cRel?"":"$")+Ki(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Ca(t.s.r)+":"+(t.e.rRel?"":"$")+Ca(t.e.r):Fm(t.s,e.biff)+":"+Fm(t.e,e.biff)}function F6(t){return parseInt(dY(t),10)-1}function Ca(t){return""+(t+1)}function uY(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function dY(t){return t.replace(/\$(\d+)$/,"$1")}function L6(t){for(var e=hY(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Ki(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function fY(t){return t.replace(/^([A-Z])/,"$$$1")}function hY(t){return t.replace(/^\$([A-Z])/,"$1")}function pY(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xi(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Rr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Go(t){var e=t.indexOf(":");return e==-1?{s:Xi(t),e:Xi(t)}:{s:Xi(t.slice(0,e)),e:Xi(t.slice(e+1))}}function Wr(t,e){return typeof e>"u"||typeof e=="number"?Wr(t.s,t.e):(typeof t!="string"&&(t=Rr(t)),typeof e!="string"&&(e=Rr(e)),t==e?t:t+":"+e)}function Sn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=t.length;for(r=0;n<a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===a||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=a&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=a&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function V9(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Kl(t.z,r?ts(e):e)}catch{}try{return t.w=Kl((t.XF||{}).numFmtId||(r?14:0),r?ts(e):e)}catch{return""+e}}function sd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?gd[t.v]||t.v:e==null?V9(t,t.v):V9(t,e))}function zf(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function pR(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,a=t||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Xi(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var f=Sn(a["!ref"]);c.s.c=f.s.c,c.s.r=f.s.r,c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),s==-1&&(c.e.r=s=f.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var m={v:e[p][g]},y=s+p,w=o+g;if(c.s.r>y&&(c.s.r=y),c.s.c>w&&(c.s.c=w),c.e.r<y&&(c.e.r=y),c.e.c<w&&(c.e.c=w),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))m=e[p][g];else if(Array.isArray(m.v)&&(m.f=e[p][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Tr[14],n.cellDates?(m.t="d",m.w=Kl(m.z,ts(m.v))):(m.t="n",m.v=ts(m.v),m.w=Kl(m.z,m.v))):m.t="s";if(i)a[y]||(a[y]=[]),a[y][w]&&a[y][w].z&&(m.z=a[y][w].z),a[y][w]=m;else{var k=Rr({c:w,r:y});a[k]&&a[k].z&&(m.z=a[k].z),a[k]=m}}}return c.s.c<1e7&&(a["!ref"]=Wr(c)),a}function xp(t,e){return pR(null,t,e)}function mY(t){return t.read_shift(4,"i")}function Cc(t,e){return e||(e=xt(4)),e.write_shift(4,t),e}function go(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function xs(t,e){var r=!1;return e==null&&(r=!0,e=xt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function gY(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function xY(t,e){return e||(e=xt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function j6(t,e){var r=t.l,n=t.read_shift(1),i=go(t),a=[],s={t:i,h:i};if((n&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)a.push(gY(t));s.r=a}else s.r=[{ich:0,ifnt:0}];return t.l=r+e,s}function vY(t,e){var r=!1;return e==null&&(r=!0,e=xt(15+4*t.t.length)),e.write_shift(1,0),xs(t.t,e),r?e.slice(0,e.l):e}var yY=j6;function wY(t,e){var r=!1;return e==null&&(r=!0,e=xt(23+4*t.t.length)),e.write_shift(1,1),xs(t.t,e),e.write_shift(4,1),xY({},e),r?e.slice(0,e.l):e}function Ql(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function m0(t,e){return e==null&&(e=xt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function g0(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function x0(t,e){return e==null&&(e=xt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var _Y=go,mR=xs;function D6(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Lv(t,e){var r=!1;return e==null&&(r=!0,e=xt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var bY=go,nw=D6,O6=Lv;function M6(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Fv([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):wh(e,0)>>2;return r?i/100:i}function gR(t,e){e==null&&(e=xt(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function xR(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function kY(t,e){return e||(e=xt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var v0=xR,vp=kY;function ho(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Jh(t,e){return(e||xt(8)).write_shift(8,t,"f")}function EY(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),a=t.read_shift(2,"i"),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=Ph[i];c&&(e.rgb=fg(c));break;case 2:e.rgb=fg([s,o,l]);break;case 3:e.theme=i;break}return a!=0&&(e.tint=a>0?a/32767:a/32768),e}function jv(t,e){if(e||(e=xt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function SY(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function CY(t,e){e||(e=xt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function vR(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function NY(t){return vR(t,1)}function AY(t){return vR(t,2)}var B6=2,Uo=3,ix=11,U9=12,Dv=19,ax=64,TY=65,IY=71,PY=4108,RY=4126,hs=80,yR=81,FY=[hs,yR],iw={1:{n:"CodePage",t:B6},2:{n:"Category",t:hs},3:{n:"PresentationFormat",t:hs},4:{n:"ByteCount",t:Uo},5:{n:"LineCount",t:Uo},6:{n:"ParagraphCount",t:Uo},7:{n:"SlideCount",t:Uo},8:{n:"NoteCount",t:Uo},9:{n:"HiddenCount",t:Uo},10:{n:"MultimediaClipCount",t:Uo},11:{n:"ScaleCrop",t:ix},12:{n:"HeadingPairs",t:PY},13:{n:"TitlesOfParts",t:RY},14:{n:"Manager",t:hs},15:{n:"Company",t:hs},16:{n:"LinksUpToDate",t:ix},17:{n:"CharacterCount",t:Uo},19:{n:"SharedDoc",t:ix},22:{n:"HyperlinksChanged",t:ix},23:{n:"AppVersion",t:Uo,p:"version"},24:{n:"DigSig",t:TY},26:{n:"ContentType",t:hs},27:{n:"ContentStatus",t:hs},28:{n:"Language",t:hs},29:{n:"Version",t:hs},255:{},2147483648:{n:"Locale",t:Dv},2147483651:{n:"Behavior",t:Dv},1919054434:{}},aw={1:{n:"CodePage",t:B6},2:{n:"Title",t:hs},3:{n:"Subject",t:hs},4:{n:"Author",t:hs},5:{n:"Keywords",t:hs},6:{n:"Comments",t:hs},7:{n:"Template",t:hs},8:{n:"LastAuthor",t:hs},9:{n:"RevNumber",t:hs},10:{n:"EditTime",t:ax},11:{n:"LastPrinted",t:ax},12:{n:"CreatedDate",t:ax},13:{n:"ModifiedDate",t:ax},14:{n:"PageCount",t:Uo},15:{n:"WordCount",t:Uo},16:{n:"CharCount",t:Uo},17:{n:"Thumbnail",t:IY},18:{n:"Application",t:hs},19:{n:"DocSecurity",t:Uo},255:{},2147483648:{n:"Locale",t:Dv},2147483651:{n:"Behavior",t:Dv},1919054434:{}},z9={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},LY=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function jY(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var DY=jY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ph=Ci(DY),gd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},wR={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},sw={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},sx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function V6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function OY(t){var e=V6();if(!t||!t.match)return e;var r={};if((t.match(vo)||[]).forEach(function(n){var i=Fr(n);switch(i[0].replace(GX,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[sw[i.ContentType]]!==void 0&&e[sw[i.ContentType]].push(i.PartName);break}}),e.xmlns!==Qa.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function _R(t,e){var r=OX(sw),n=[],i;n[n.length]=Aa,n[n.length]=Ut("Types",null,{xmlns:Qa.CT,"xmlns:xsd":Qa.xsd,"xmlns:xsi":Qa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Ut("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=Ut("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:sx[l][e.bookType]||sx[l].xlsx}))},s=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Ut("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:sx[l][e.bookType]||sx[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=Ut("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var sn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function dg(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Lm(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(vo)||[]).forEach(function(i){var a=Fr(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:wm(a.Target,e);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}function b1(t){var e=[Aa,Ut("Relationships",null,{xmlns:Qa.RELS})];return ua(t["!id"]).forEach(function(r){e[e.length]=Ut("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Kn(t,e,r,n,i,a){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[sn.HLINK,sn.XPATH,sn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var MY="application/vnd.oasis.opendocument.spreadsheet";function BY(t,e){for(var r=I6(t),n,i;n=ug.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Fr(n[0],!1),i.path=="/"&&i.type!==MY)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function VY(t){var e=[Aa];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function $9(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function UY(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function zY(t){var e=[Aa];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push($9(t[r][0],t[r][1])),e.push(UY("",t[r][0]));return e.push($9("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function bR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Av.version+"</meta:generator></office:meta></office:document-meta>"}var Hl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],$Y=(function(){for(var t=new Array(Hl.length),e=0;e<Hl.length;++e){var r=Hl[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function kR(t){var e={};t=ni(t);for(var r=0;r<Hl.length;++r){var n=Hl[r],i=t.match($Y[r]);i!=null&&i.length>0&&(e[n[1]]=En(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Si(e[n[1]]))}return e}function y4(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Qn(e),n[n.length]=r?Ut(t,e,r):Ds(t,e))}function ER(t,e){var r=e||{},n=[Aa,Ut("cp:coreProperties",null,{"xmlns:cp":Qa.CORE_PROPS,"xmlns:dc":Qa.dc,"xmlns:dcterms":Qa.dcterms,"xmlns:dcmitype":Qa.dcmitype,"xmlns:xsi":Qa.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&y4("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:rw(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&y4("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:rw(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Hl.length;++a){var s=Hl[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:t?t[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&y4(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Rh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],SR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function CR(t,e,r,n){var i=[];if(typeof t=="string")i=F9(t,n);else for(var a=0;a<t.length;++a)i=i.concat(t[a].map(function(f){return{v:f}}));var s=typeof e=="string"?F9(e,n).map(function(f){return f.v}):e,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function qY(t,e,r){var n={};return e||(e={}),t=ni(t),Rh.forEach(function(i){var a=(t.match(lg(i[0]))||[])[1];switch(i[2]){case"string":a&&(e[i[1]]=En(a));break;case"bool":e[i[1]]=a==="true";break;case"raw":var s=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&CR(n.HeadingPairs,n.TitlesOfParts,e,r),e}function NR(t){var e=[],r=Ut;return t||(t={}),t.Application="SheetJS",e[e.length]=Aa,e[e.length]=Ut("Properties",null,{xmlns:Qa.EXT_PROPS,"xmlns:vt":Qa.vt}),Rh.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Qn(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Qn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var HY=/<[^>]+>[^<]*/g;function WY(t,e){var r={},n="",i=t.match(HY);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=Fr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=En(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),f=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=En(f);break;case"bool":r[n]=_i(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(f,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(f);break;case"filetime":case"date":r[n]=Si(f);break;case"cy":case"error":r[n]=En(f);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(e.WTF)throw new Error(s)}}}return r}function AR(t){var e=[Aa,Ut("Properties",null,{xmlns:Qa.CUST_PROPS,"xmlns:vt":Qa.vt})];if(!t)return e.join("");var r=1;return ua(t).forEach(function(i){++r,e[e.length]=Ut("property",tY(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Qn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var ow={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},w4;function GY(t,e,r){w4||(w4=jy(ow)),e=w4[e]||e,t[e]=r}function KY(t,e){var r=[];return ua(ow).map(function(n){for(var i=0;i<Hl.length;++i)if(Hl[i][1]==n)return Hl[i];for(i=0;i<Rh.length;++i)if(Rh[i][1]==n)return Rh[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Ds(ow[n[1]]||n[1],i))}}),Ut("DocumentProperties",r.join(""),{xmlns:dl.o})}function XY(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&ua(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)){for(var s=0;s<Hl.length;++s)if(a==Hl[s][1])return;for(s=0;s<Rh.length;++s)if(a==Rh[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(Ut(T9(a),o,{"dt:dt":l}))}}),e&&ua(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)&&!(t&&Object.prototype.hasOwnProperty.call(t,a))){var s=e[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(Ut(T9(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+dl.o+'">'+i.join("")+"</"+n+">"}function U6(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function YY(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=xt(8);return s.write_shift(4,n),s.write_shift(4,i),s}function TR(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function IR(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function PR(t,e,r){return e===31?IR(t):TR(t,e,r)}function lw(t,e,r){return PR(t,e,r===!1?0:4)}function QY(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return PR(t,e,0)}function JY(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(To,""),t.l-i&2&&(t.l+=2)}return r}function ZY(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(To,"");return r}function eQ(t){var e=t.l,r=Ov(t,yR);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=Ov(t,Uo);return[r,n]}function tQ(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(eQ(t));return r}function q9(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var a=t.read_shift(4),s=t.read_shift(4);n[a]=t.read_shift(s,e===1200?"utf16le":"utf8").replace(To,"").replace(ym,"!"),e===1200&&s%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function RR(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function rQ(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Ov(t,e,r){var n=t.read_shift(2),i,a=r||{};if(t.l+=2,e!==U9&&n!==e&&FY.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===U9?n:e){case 2:return i=t.read_shift(2,"i"),a.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return TR(t,n,4).replace(To,"");case 31:return IR(t);case 64:return U6(t);case 65:return RR(t);case 71:return rQ(t);case 80:return lw(t,n,!a.raw).replace(To,"");case 81:return QY(t,n).replace(To,"");case 4108:return tQ(t);case 4126:case 4127:return n==4127?JY(t):ZY(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function H9(t,e){var r=xt(4),n=xt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=xt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=YY(e);break;case 31:case 80:for(n=xt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return gs([r,n])}function W9(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var f=t.read_shift(4),p=t.read_shift(4);a[s]=[f,p+r]}a.sort(function(L,P){return L[1]-P[1]});var g={};for(s=0;s!=i;++s){if(t.l!==a[s][1]){var m=!0;if(s>0&&e)switch(e[a[s-1][0]].t){case 2:t.l+2===a[s][1]&&(t.l+=2,m=!1);break;case 80:t.l<=a[s][1]&&(t.l=a[s][1],m=!1);break;case 4108:t.l<=a[s][1]&&(t.l=a[s][1],m=!1);break}if((!e||s==0)&&t.l<=a[s][1]&&(m=!1,t.l=a[s][1]),m)throw new Error("Read Error: Expected address "+a[s][1]+" at "+t.l+" :"+s)}if(e){var y=e[a[s][0]];if(g[y.n]=Ov(t,y.t,{raw:!0}),y.p==="version"&&(g[y.n]=String(g[y.n]>>16)+"."+("0000"+String(g[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(g[y.n]){case 0:g[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:wc(o=g[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[y.n])}}else if(a[s][0]===1){if(o=g.CodePage=Ov(t,B6),wc(o),l!==-1){var w=t.l;t.l=a[l][1],c=q9(t,o),t.l=w}}else if(a[s][0]===0){if(o===0){l=s,t.l=a[s+1][1];continue}c=q9(t,o)}else{var k=c[a[s][0]],N;switch(t[t.l]){case 65:t.l+=4,N=RR(t);break;case 30:t.l+=4,N=lw(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,N=lw(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,N=t.read_shift(4,"i");break;case 19:t.l+=4,N=t.read_shift(4);break;case 5:t.l+=4,N=t.read_shift(8,"f");break;case 11:t.l+=4,N=va(t,4);break;case 64:t.l+=4,N=Si(U6(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[k]=N}}return t.l=r+n,g}var FR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function nQ(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function G9(t,e,r){var n=xt(8),i=[],a=[],s=8,o=0,l=xt(8),c=xt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!e){c=xt(8),c.write_shift(4,0),i.unshift(c);var f=[xt(4)];for(f[0].write_shift(4,t.length),o=0;o<t.length;++o){var p=t[o][0];for(l=xt(8+2*(p.length+1)+(p.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,p.length+1),l.write_shift(0,p,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=gs(f),a.unshift(l),s+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(FR.indexOf(t[o][0])>-1||SR.indexOf(t[o][0])>-1)&&t[o][1]!=null){var g=t[o][1],m=0;if(e){m=+e[t[o][0]];var y=r[m];if(y.p=="version"&&typeof g=="string"){var w=g.split(".");g=(+w[0]<<16)+(+w[1]||0)}l=H9(y.t,g)}else{var k=nQ(g);k==-1&&(k=31,g=String(g)),l=H9(k,g)}a.push(l),c=xt(8),c.write_shift(4,e?m:2+o),i.push(c),s+=8+l.length}var N=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,N),N+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),gs([n].concat(i).concat(a))}function K9(t,e,r){var n=t.content;if(!n)return{};Ls(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),f=n.read_shift(16);if(f!==_r.utils.consts.HEADER_CLSID&&f!==r)throw new Error("Bad PropertySet CLSID "+f);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var p=W9(n,e),g={SystemIdentifier:c};for(var m in p)g[m]=p[m];if(g.FMTID=a,i===1)return g;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var y;try{y=W9(n,null)}catch{}for(m in y)g[m]=y[m];return g.FMTID=[a,s],g}function X9(t,e,r,n,i,a){var s=xt(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,_r.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,e,"hex"),s.write_shift(4,i?68:48);var l=G9(t,r,n);if(o.push(l),i){var c=G9(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return gs(o)}function Kd(t,e){return t.read_shift(e),null}function iQ(t,e){e||(e=xt(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function aQ(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function va(t,e){return t.read_shift(e)===1}function No(t,e){return e||(e=xt(2)),e.write_shift(2,+!!t),e}function Ma(t){return t.read_shift(2,"u")}function zl(t,e){return e||(e=xt(2)),e.write_shift(2,t),e}function LR(t,e){return aQ(t,e,Ma)}function sQ(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function jR(t,e,r){return r||(r=xt(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Xg(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=t.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?t.read_shift(n,i):"";return s}function oQ(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,l={};i&&(s=t.read_shift(2)),n&&(o=t.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",f=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*s),n&&(t.l+=o),l.t=f,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function lQ(t){var e=t.t||"",r=xt(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=xt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return gs(i)}function Zh(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Yg(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):Zh(t,n,r)}function y0(t,e,r){if(r.biff>5)return Yg(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function DR(t,e,r){return r||(r=xt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function cQ(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function uQ(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(To,"");return n&&(t.l+=24),i}function dQ(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=t.read_shift(a>>1,"utf16le").replace(To,"");return r+s}function fQ(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return uQ(t);case"0303000000000000c000000000000046":return dQ(t);default:throw new Error("Unsupported Moniker "+r)}}function ox(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(To,""):"";return r}function Y9(t,e){e||(e=xt(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function hQ(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var a,s,o,l,c="",f,p;i&16&&(a=ox(t,r-t.l)),i&128&&(s=ox(t,r-t.l)),(i&257)===257&&(o=ox(t,r-t.l)),(i&257)===1&&(l=fQ(t,r-t.l)),i&8&&(c=ox(t,r-t.l)),i&32&&(f=t.read_shift(16)),i&64&&(p=U6(t)),t.l=r;var g=s||o||l||"";g&&c&&(g+="#"+c),g||(g="#"+c),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var m={Target:g};return f&&(m.guid=f),p&&(m.time=p),a&&(m.Tooltip=a),m}function pQ(t){var e=xt(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}e.write_shift(4,2),e.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)e.write_shift(4,s[r]);if(a==28)n=n.slice(1),Y9(n,e);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),a&8&&Y9(i>-1?n.slice(i+1):"",e)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)e.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function OR(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function MR(t,e){var r=OR(t);return r[3]=0,r}function vu(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function e0(t,e,r,n){return n||(n=xt(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function mQ(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function gQ(t,e,r){return e===0?"":y0(t,e,r)}function xQ(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),a=t.read_shift(n,"i"),s=t.read_shift(n,"i");return[i,a,s]}function BR(t){var e=t.read_shift(2),r=M6(t);return[e,r]}function vQ(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Xg(t,e,r),a=t.read_shift(2);if(n-=t.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return t.l+=a,i}function My(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function VR(t,e){return e||(e=xt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function UR(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var yQ=UR;function zR(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function wQ(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function _Q(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function ro(t){t.l+=2,t.l+=t.read_shift(2)}var bQ={0:ro,4:ro,5:ro,6:ro,7:_Q,8:ro,9:ro,10:ro,11:ro,12:ro,13:wQ,14:ro,15:ro,16:ro,17:ro,18:ro,19:ro,20:ro,21:zR};function kQ(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(bQ[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function lx(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function z6(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=xt(i);return a.write_shift(2,n),a.write_shift(2,e),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function EQ(t,e){return e===0||t.read_shift(2),1200}function SQ(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=y0(t,0,r);return t.read_shift(e+n-t.l),i}function CQ(t,e){var r=!e||e.biff==8,n=xt(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function NQ(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function AQ(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,a=t.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=Xg(t,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function TQ(t,e){var r=!e||e.biff>=8?2:1,n=xt(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function IQ(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),a=[],s=0;s!=i&&t.l<r;++s)a.push(oQ(t));return a.Count=n,a.Unique=i,a}function PQ(t,e){var r=xt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=lQ(t[i]);var a=gs([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function RQ(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function FQ(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function LQ(t){var e=mQ(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function jQ(t){return t.read_shift(2),t.read_shift(4)}function Q9(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function DQ(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function OQ(){var t=xt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function MQ(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function BQ(t){var e=xt(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function VQ(){}function UQ(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Xg(t,0,r),n}function zQ(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,a=xt(i);return a.write_shift(2,t.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function $Q(t){var e=vu(t);return e.isst=t.read_shift(4),e}function qQ(t,e,r,n){var i=xt(10);return e0(t,e,n,i),i.write_shift(4,r),i}function HQ(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=vu(t);r.biff==2&&t.l++;var a=Yg(t,n-t.l,r);return i.val=a,i}function WQ(t,e,r,n,i){var a=!i||i.biff==8,s=xt(8+ +a+(1+a)*r.length);return e0(t,e,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function GQ(t,e,r){var n=t.read_shift(2),i=y0(t,0,r);return[n,i]}function KQ(t,e,r,n){var i=r&&r.biff==5;n||(n=xt(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}var XQ=y0;function J9(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,a=t.read_shift(i),s=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function YQ(t,e){var r=e.biff==8||!e.biff?4:2,n=xt(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function QQ(t){var e=t.read_shift(2),r=t.read_shift(2),n=BR(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function JQ(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(BR(t));if(t.l!==r)throw new Error("MulRK read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function ZQ(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),a=[];t.l<r;)a.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var s=t.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function eJ(t,e,r,n){var i={},a=t.read_shift(4),s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=LY[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function tJ(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=eJ(t,e,n.fStyle,r),n}function Z9(t,e,r,n){var i=r&&r.biff==5;n||(n=xt(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var a=0;return t.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function rJ(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function nJ(t){var e=xt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function eE(t,e,r){var n=vu(t);(r.biff==2||e==9)&&++t.l;var i=sQ(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function iJ(t,e,r,n,i,a){var s=xt(8);return e0(t,e,n,s),jR(r,a,s),s}function aJ(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=vu(t),i=ho(t);return n.val=i,n}function sJ(t,e,r,n){var i=xt(14);return e0(t,e,n,i),Jh(r,i),i}var tE=gQ;function oJ(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=Zh(t,a),o=[];n>t.l;)o.push(Yg(t));return[a,i,s,o]}function rE(t,e,r){var n=t.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=vQ(t,e-2,r)),a.body=i||t.read_shift(e-2),typeof i=="string"&&(a.Name=i),a}var lJ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function nE(t,e,r){var n=t.l+e,i=t.read_shift(2),a=t.read_shift(1),s=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=Zh(t,s,r);i&32&&(c=lJ[c.charCodeAt(0)]);var f=n-t.l;r&&r.biff==2&&--f;var p=n==t.l||o===0||!(f>0)?[]:kre(t,f,r,o);return{chKey:a,Name:c,itab:l,rgce:p}}function $R(t,e,r){if(r.biff<8)return cJ(t,e,r);for(var n=[],i=t.l+e,a=t.read_shift(r.biff>8?4:2);a--!==0;)n.push(xQ(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function cJ(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Xg(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function uJ(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),a=Zh(t,n,r),s=Zh(t,i,r);return[a,s]}function dJ(t,e,r){var n=UR(t);t.l++;var i=t.read_shift(1);return e-=8,[Ere(t,e,r),i,n]}function iE(t,e,r){var n=yQ(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,_re(t,e,r)]}function fJ(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function hJ(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2),s=t.read_shift(2),o=y0(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,s,a]}}function pJ(t,e,r){return hJ(t,e,r)}function mJ(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(My(t));return r}function gJ(t){var e=xt(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)VR(t[r],e);return e}function xJ(t,e,r){if(r&&r.biff<8)return yJ(t,e,r);var n=zR(t),i=kQ(t,e-22,n[1]);return{cmo:n,ft:i}}var vJ={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function yJ(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),a=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var s=[];return s.push((vJ[n]||xo)(t,e,r)),{cmo:[i,n,a],ft:s}}function wJ(t,e,r){var n=t.l,i="";try{t.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?t.l+=6:s=cQ(t,6,r);var o=t.read_shift(2);t.read_shift(2),Ma(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var f=t[t.l],p=Zh(t,t.lens[c+1]-t.lens[c]-1);if(i+=p,i.length>=(f?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function _J(t,e){var r=My(t);t.l+=16;var n=hQ(t,e-24);return[r,n]}function bJ(t){var e=xt(24),r=Xi(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return gs([e,pQ(t[1])])}function kJ(t,e){t.read_shift(2);var r=My(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(To,""),[r,n]}function EJ(t){var e=t[1].Tooltip,r=xt(10+2*(e.length+1));r.write_shift(2,2048);var n=Xi(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function SJ(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=z9[r]||r,r=t.read_shift(2),e[1]=z9[r]||r,e}function CJ(t){return t||(t=xt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function NJ(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(MR(t));return r}function AJ(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(MR(t));return r}function TJ(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function qR(t,e,r){if(!r.cellStyles)return xo(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),a=t.read_shift(n),s=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function IJ(t,e){var r=xt(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function PJ(t,e){var r={};return e<32||(t.l+=16,r.header=ho(t),r.footer=ho(t),t.l+=2),r}function RJ(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function FJ(t){for(var e=xt(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var LJ=vu,jJ=LR,DJ=Yg;function OJ(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function MJ(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=vu(t);++t.l;var i=y0(t,e-7,r);return n.t="str",n.val=i,n}function BJ(t){var e=vu(t);++t.l;var r=ho(t);return e.t="n",e.val=r,e}function VJ(t,e,r){var n=xt(15);return e2(n,t,e),n.write_shift(8,r,"f"),n}function UJ(t){var e=vu(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function zJ(t,e,r){var n=xt(9);return e2(n,t,e),n.write_shift(2,r),n}function $J(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function qJ(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function HJ(t,e,r){var n=t.l+e,i=vu(t),a=t.read_shift(2),s=Zh(t,a,r);return t.l=n,i.t="str",i.val=s,i}var WJ=[2,3,48,49,131,139,140,245],cw=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=jy({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],f=Cf(1);switch(l.type){case"base64":f=hl(wl(o));break;case"binary":f=hl(o);break;case"buffer":case"array":f=o;break}Ls(f,0);var p=f.read_shift(1),g=!!(p&136),m=!1,y=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,k=521;p==2&&(w=f.read_shift(2)),f.l+=3,p!=2&&(w=f.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(k=f.read_shift(2));var N=f.read_shift(2),L=l.codepage||1252;p!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(L=t[f[f.l]]),f.l+=1,f.l+=2),y&&(f.l+=36);for(var P=[],V={},Y=Math.min(f.length,p==2?521:k-10-(m?264:0)),Q=y?32:11;f.l<Y&&f[f.l]!=13;)switch(V={},V.name=ag.utils.decode(L,f.slice(f.l,f.l+Q)).replace(/[\u0000\r\n].*$/g,""),f.l+=Q,V.type=String.fromCharCode(f.read_shift(1)),p!=2&&!y&&(V.offset=f.read_shift(4)),V.len=f.read_shift(1),p==2&&(V.offset=f.read_shift(2)),V.dec=f.read_shift(1),V.name.length&&P.push(V),p!=2&&(f.l+=y?13:14),V.type){case"B":(!m||V.len!=8)&&l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+V.type)}if(f[f.l]!==13&&(f.l=k-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=k;var R=0,T=0;for(c[0]=[],T=0;T!=P.length;++T)c[0][T]=P[T].name;for(;w-- >0;){if(f[f.l]===42){f.l+=N;continue}for(++f.l,c[++R]=[],T=0,T=0;T!=P.length;++T){var S=f.slice(f.l,f.l+P[T].len);f.l+=P[T].len,Ls(S,0);var j=ag.utils.decode(L,S);switch(P[T].type){case"C":j.trim().length&&(c[R][T]=j.replace(/\s+$/,""));break;case"D":j.length===8?c[R][T]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):c[R][T]=j;break;case"F":c[R][T]=parseFloat(j.trim());break;case"+":case"I":c[R][T]=y?S.read_shift(-4,"i")^2147483648:S.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[R][T]=!0;break;case"N":case"F":c[R][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));c[R][T]="##MEMO##"+(y?parseInt(j.trim(),10):S.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(c[R][T]=+j||0);break;case"@":c[R][T]=new Date(S.read_shift(-8,"f")-621356832e5);break;case"T":c[R][T]=new Date((S.read_shift(4)-2440588)*864e5+S.read_shift(4));break;case"Y":c[R][T]=S.read_shift(4,"i")/1e4+S.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[R][T]=-S.read_shift(-8,"f");break;case"B":if(m&&P[T].len==8){c[R][T]=S.read_shift(8,"f");break}case"G":case"P":S.l+=P[T].len;break;case"0":if(P[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+P[T].type)}}}if(p!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=P,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var f=xp(r(o,c),c);return f["!cols"]=c.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete c.DBF,f}function i(o,l){try{return zf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&wc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=Wo(),p=Vv(o,{header:1,raw:!0,cellDates:!0}),g=p[0],m=p.slice(1),y=o["!cols"]||[],w=0,k=0,N=0,L=1;for(w=0;w<g.length;++w){if(((y[w]||{}).DBF||{}).name){g[w]=y[w].DBF.name,++N;continue}if(g[w]!=null){if(++N,typeof g[w]=="number"&&(g[w]=g[w].toString(10)),typeof g[w]!="string")throw new Error("DBF Invalid column name "+g[w]+" |"+typeof g[w]+"|");if(g.indexOf(g[w])!==w){for(k=0;k<1024;++k)if(g.indexOf(g[w]+"_"+k)==-1){g[w]+="_"+k;break}}}}var P=Sn(o["!ref"]),V=[],Y=[],Q=[];for(w=0;w<=P.e.c-P.s.c;++w){var R="",T="",S=0,j=[];for(k=0;k<m.length;++k)m[k][w]!=null&&j.push(m[k][w]);if(j.length==0||g[w]==null){V[w]="?";continue}for(k=0;k<j.length;++k){switch(typeof j[k]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=j[k]instanceof Date?"D":"C";break;default:T="C"}S=Math.max(S,String(j[k]).length),R=R&&R!=T?"C":T}S>250&&(S=250),T=((y[w]||{}).DBF||{}).type,T=="C"&&y[w].DBF.len>S&&(S=y[w].DBF.len),R=="B"&&T=="N"&&(R="N",Q[w]=y[w].DBF.dec,S=y[w].DBF.len),Y[w]=R=="C"||T=="N"?S:a[R]||0,L+=Y[w],V[w]=R}var A=f.next(32);for(A.write_shift(4,318902576),A.write_shift(4,m.length),A.write_shift(2,296+32*N),A.write_shift(2,L),w=0;w<4;++w)A.write_shift(4,0);for(A.write_shift(4,0|(+e[FP]||3)<<8),w=0,k=0;w<g.length;++w)if(g[w]!=null){var F=f.next(32),M=(g[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,M,"sbcs"),F.write_shift(1,V[w]=="?"?"C":V[w],"sbcs"),F.write_shift(4,k),F.write_shift(1,Y[w]||a[V[w]]||0),F.write_shift(1,Q[w]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),k+=Y[w]||a[V[w]]||0}var re=f.next(264);for(re.write_shift(4,13),w=0;w<65;++w)re.write_shift(4,0);for(w=0;w<m.length;++w){var pe=f.next(L);for(pe.write_shift(1,0),k=0;k<g.length;++k)if(g[k]!=null)switch(V[k]){case"L":pe.write_shift(1,m[w][k]==null?63:m[w][k]?84:70);break;case"B":pe.write_shift(8,m[w][k]||0,"f");break;case"N":var _e="0";for(typeof m[w][k]=="number"&&(_e=m[w][k].toFixed(Q[k]||0)),N=0;N<Y[k]-_e.length;++N)pe.write_shift(1,32);pe.write_shift(1,_e,"sbcs");break;case"D":m[w][k]?(pe.write_shift(4,("0000"+m[w][k].getFullYear()).slice(-4),"sbcs"),pe.write_shift(2,("00"+(m[w][k].getMonth()+1)).slice(-2),"sbcs"),pe.write_shift(2,("00"+m[w][k].getDate()).slice(-2),"sbcs")):pe.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(m[w][k]!=null?m[w][k]:"").slice(0,Y[k]);for(pe.write_shift(1,xe,"sbcs"),N=0;N<Y[k]-xe.length;++N)pe.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}})(),HR=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ua(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,m){var y=t[m];return typeof y=="number"?m9(y):y},n=function(g,m,y){var w=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return w==59?g:m9(w)};t["|"]=254;function i(g,m){switch(m.type){case"base64":return a(wl(g),m);case"binary":return a(g,m);case"buffer":return a(en&&Buffer.isBuffer(g)?g.toString("binary"):Uf(g),m);case"array":return a(Qh(g),m)}throw new Error("Unrecognized type "+m.type)}function a(g,m){var y=g.split(/[\n\r]+/),w=-1,k=-1,N=0,L=0,P=[],V=[],Y=null,Q={},R=[],T=[],S=[],j=0,A;for(+m.codepage>=0&&wc(+m.codepage);N!==y.length;++N){j=0;var F=y[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),M=F.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),re=M[0],pe;if(F.length>0)switch(re){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&V.push(F.slice(3).replace(/;;/g,";"));break;case"C":var _e=!1,xe=!1,oe=!1,G=!1,fe=-1,X=-1;for(L=1;L<M.length;++L)switch(M[L].charAt(0)){case"A":break;case"X":k=parseInt(M[L].slice(1))-1,xe=!0;break;case"Y":for(w=parseInt(M[L].slice(1))-1,xe||(k=0),A=P.length;A<=w;++A)P[A]=[];break;case"K":pe=M[L].slice(1),pe.charAt(0)==='"'?pe=pe.slice(1,pe.length-1):pe==="TRUE"?pe=!0:pe==="FALSE"?pe=!1:isNaN(Sc(pe))?isNaN(X1(pe).getDate())||(pe=Si(pe)):(pe=Sc(pe),Y!==null&&mp(Y)&&(pe=Oy(pe))),_e=!0;break;case"E":G=!0;var I=k1(M[L].slice(1),{r:w,c:k});P[w][k]=[P[w][k],I];break;case"S":oe=!0,P[w][k]=[P[w][k],"S5S"];break;case"G":break;case"R":fe=parseInt(M[L].slice(1))-1;break;case"C":X=parseInt(M[L].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}if(_e&&(P[w][k]&&P[w][k].length==2?P[w][k][0]=pe:P[w][k]=pe,Y=null),oe){if(G)throw new Error("SYLK shared formula cannot have own formula");var q=fe>-1&&P[fe][X];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");P[w][k][1]=cF(q[1],{r:w-fe,c:k-X})}break;case"F":var W=0;for(L=1;L<M.length;++L)switch(M[L].charAt(0)){case"X":k=parseInt(M[L].slice(1))-1,++W;break;case"Y":for(w=parseInt(M[L].slice(1))-1,A=P.length;A<=w;++A)P[A]=[];break;case"M":j=parseInt(M[L].slice(1))/20;break;case"F":break;case"G":break;case"P":Y=V[parseInt(M[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(S=M[L].slice(1).split(" "),A=parseInt(S[0],10);A<=parseInt(S[1],10);++A)j=parseInt(S[2],10),T[A-1]=j===0?{hidden:!0}:{wch:j},Nf(T[A-1]);break;case"C":k=parseInt(M[L].slice(1))-1,T[k]||(T[k]={});break;case"R":w=parseInt(M[L].slice(1))-1,R[w]||(R[w]={}),j>0?(R[w].hpt=j,R[w].hpx=Q1(j)):j===0&&(R[w].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}W<1&&(Y=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}}return R.length>0&&(Q["!rows"]=R),T.length>0&&(Q["!cols"]=T),m&&m.sheetRows&&(P=P.slice(0,m.sheetRows)),[P,Q]}function s(g,m){var y=i(g,m),w=y[0],k=y[1],N=xp(w,m);return ua(k).forEach(function(L){N[L]=k[L]}),N}function o(g,m){return zf(s(g,m),m)}function l(g,m,y,w){var k="C;Y"+(y+1)+";X"+(w+1)+";K";switch(g.t){case"n":k+=g.v||0,g.f&&!g.F&&(k+=";E"+K6(g.f,{r:y,c:w}));break;case"b":k+=g.v?"TRUE":"FALSE";break;case"e":k+=g.w||g.v;break;case"d":k+='"'+(g.w||g.v)+'"';break;case"s":k+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return k}function c(g,m){m.forEach(function(y,w){var k="F;W"+(w+1)+" "+(w+1)+" ";y.hidden?k+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=hg(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=pg(y.wpx)),typeof y.wch=="number"&&(k+=Math.round(y.wch))),k.charAt(k.length-1)!=" "&&g.push(k)})}function f(g,m){m.forEach(function(y,w){var k="F;";y.hidden?k+="M0;":y.hpt?k+="M"+20*y.hpt+";":y.hpx&&(k+="M"+20*mg(y.hpx)+";"),k.length>2&&g.push(k+"R"+(w+1))})}function p(g,m){var y=["ID;PWXL;N;E"],w=[],k=Sn(g["!ref"]),N,L=Array.isArray(g),P=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&c(y,g["!cols"]),g["!rows"]&&f(y,g["!rows"]),y.push("B;Y"+(k.e.r-k.s.r+1)+";X"+(k.e.c-k.s.c+1)+";D"+[k.s.c,k.s.r,k.e.c,k.e.r].join(" "));for(var V=k.s.r;V<=k.e.r;++V)for(var Y=k.s.c;Y<=k.e.c;++Y){var Q=Rr({r:V,c:Y});N=L?(g[V]||[])[Y]:g[Q],!(!N||N.v==null&&(!N.f||N.F))&&w.push(l(N,g,V,Y))}return y.join(P)+P+w.join(P)+P+"E"+P}return{to_workbook:o,to_sheet:s,from_sheet:p}})(),WR=(function(){function t(a,s){switch(s.type){case"base64":return e(wl(a),s);case"binary":return e(a,s);case"buffer":return e(en&&Buffer.isBuffer(a)?a.toString("binary"):Uf(a),s);case"array":return e(Qh(a),s)}throw new Error("Unrecognized type "+s.type)}function e(a,s){for(var o=a.split(`
`),l=-1,c=-1,f=0,p=[];f!==o.length;++f){if(o[f].trim()==="BOT"){p[++l]=[],c=0;continue}if(!(l<0)){var g=o[f].trim().split(","),m=g[0],y=g[1];++f;for(var w=o[f]||"";(w.match(/["]/g)||[]).length&1&&f<o.length-1;)w+=`
`+o[++f];switch(w=w.trim(),+m){case-1:if(w==="BOT"){p[++l]=[],c=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[l][c]=!0:w==="FALSE"?p[l][c]=!1:isNaN(Sc(y))?isNaN(X1(y).getDate())?p[l][c]=y:p[l][c]=Si(y):p[l][c]=Sc(y),++c;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[l][c++]=w!==""?w:null;break}if(w==="EOD")break}}return s&&s.sheetRows&&(p=p.slice(0,s.sheetRows)),p}function r(a,s){return xp(t(a,s),s)}function n(a,s){return zf(r(a,s),s)}var i=(function(){var a=function(l,c,f,p,g){l.push(c),l.push(f+","+p),l.push('"'+g.replace(/"/g,'""')+'"')},s=function(l,c,f,p){l.push(c+","+f),l.push(c==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(l){var c=[],f=Sn(l["!ref"]),p,g=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,f.e.r-f.s.r+1,""),a(c,"TUPLES",0,f.e.c-f.s.c+1,""),a(c,"DATA",0,0,"");for(var m=f.s.r;m<=f.e.r;++m){s(c,-1,0,"BOT");for(var y=f.s.c;y<=f.e.c;++y){var w=Rr({r:m,c:y});if(p=g?(l[m]||[])[y]:l[w],!p){s(c,1,0,"");continue}switch(p.t){case"n":var k=p.w;!k&&p.v!=null&&(k=p.v),k==null?p.f&&!p.F?s(c,1,0,"="+p.f):s(c,1,0,""):s(c,0,k,"V");break;case"b":s(c,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Kl(p.z||Tr[14],ts(Si(p.v)))),s(c,0,p.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var N=`\r
`,L=c.join(N);return L}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),GR=(function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var m=p.split(`
`),y=-1,w=-1,k=0,N=[];k!==m.length;++k){var L=m[k].trim().split(":");if(L[0]==="cell"){var P=Xi(L[1]);if(N.length<=P.r)for(y=N.length;y<=P.r;++y)N[y]||(N[y]=[]);switch(y=P.r,w=P.c,L[2]){case"t":N[y][w]=t(L[3]);break;case"v":N[y][w]=+L[3];break;case"vtf":var V=L[L.length-1];case"vtc":switch(L[3]){case"nl":N[y][w]=!!+L[4];break;default:N[y][w]=+L[4];break}L[2]=="vtf"&&(N[y][w]=[N[y][w],V])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function n(p,g){return xp(r(p,g),g)}function i(p,g){return zf(n(p,g),g)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(p){if(!p||!p["!ref"])return"";for(var g=[],m=[],y,w="",k=Go(p["!ref"]),N=Array.isArray(p),L=k.s.r;L<=k.e.r;++L)for(var P=k.s.c;P<=k.e.c;++P)if(w=Rr({r:L,c:P}),y=N?(p[L]||[])[P]:p[w],!(!y||y.v==null||y.t==="z")){switch(m=["cell",w,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var V=ts(Si(y.v));m[2]="vtc",m[3]="nd",m[4]=""+V,m[5]=y.w||Kl(y.z||Tr[14],V);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(k.e.c-k.s.c+1)+":r:"+(k.e.r-k.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(p){return[a,s,o,s,c(p),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:f}})(),Y1=(function(){function t(f,p,g,m,y){y.raw?p[g][m]=f:f===""||(f==="TRUE"?p[g][m]=!0:f==="FALSE"?p[g][m]=!1:isNaN(Sc(f))?isNaN(X1(f).getDate())?p[g][m]=f:p[g][m]=Si(f):p[g][m]=Sc(f))}function e(f,p){var g=p||{},m=[];if(!f||f.length===0)return m;for(var y=f.split(/[\r\n]/),w=y.length-1;w>=0&&y[w].length===0;)--w;for(var k=10,N=0,L=0;L<=w;++L)N=y[L].indexOf(" "),N==-1?N=y[L].length:N++,k=Math.max(k,N);for(L=0;L<=w;++L){m[L]=[];var P=0;for(t(y[L].slice(0,k).trim(),m,L,P,g),P=1;P<=(y[L].length-k)/10+1;++P)t(y[L].slice(k+(P-1)*10,k+P*10).trim(),m,L,P,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(f){for(var p={},g=!1,m=0,y=0;m<f.length;++m)(y=f.charCodeAt(m))==34?g=!g:!g&&y in r&&(p[y]=(p[y]||0)+1);y=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&y.push([p[m],m]);if(!y.length){p=n;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&y.push([p[m],m])}return y.sort(function(w,k){return w[0]-k[0]||n[w[1]]-n[k[1]]}),r[y.pop()[1]]||44}function a(f,p){var g=p||{},m="",y=g.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(m=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(m=f.charAt(4),f=f.slice(6)):m=i(f.slice(0,1024)):g&&g.FS?m=g.FS:m=i(f.slice(0,1024));var k=0,N=0,L=0,P=0,V=0,Y=m.charCodeAt(0),Q=!1,R=0,T=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var S=g.dateNF!=null?RX(g.dateNF):null;function j(){var A=f.slice(P,V),F={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)F.t="z";else if(g.raw)F.t="s",F.v=A;else if(A.trim().length===0)F.t="s",F.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(F.t="s",F.v=A.slice(2,-1).replace(/""/g,'"')):ote(A)?(F.t="n",F.f=A.slice(1)):(F.t="s",F.v=A);else if(A=="TRUE")F.t="b",F.v=!0;else if(A=="FALSE")F.t="b",F.v=!1;else if(!isNaN(L=Sc(A)))F.t="n",g.cellText!==!1&&(F.w=A),F.v=L;else if(!isNaN(X1(A).getDate())||S&&A.match(S)){F.z=g.dateNF||Tr[14];var M=0;S&&A.match(S)&&(A=FX(A,g.dateNF,A.match(S)||[]),M=1),g.cellDates?(F.t="d",F.v=Si(A,M)):(F.t="n",F.v=ts(Si(A,M))),g.cellText!==!1&&(F.w=Kl(F.z,F.v instanceof Date?ts(F.v):F.v)),g.cellNF||delete F.z}else F.t="s",F.v=A;if(F.t=="z"||(g.dense?(y[k]||(y[k]=[]),y[k][N]=F):y[Rr({c:N,r:k})]=F),P=V+1,T=f.charCodeAt(P),w.e.c<N&&(w.e.c=N),w.e.r<k&&(w.e.r=k),R==Y)++N;else if(N=0,++k,g.sheetRows&&g.sheetRows<=k)return!0}e:for(;V<f.length;++V)switch(R=f.charCodeAt(V)){case 34:T===34&&(Q=!Q);break;case Y:case 10:case 13:if(!Q&&j())break e;break}return V-P>0&&j(),y["!ref"]=Wr(w),y}function s(f,p){return!(p&&p.PRN)||p.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?a(f,p):xp(e(f,p),p)}function o(f,p){var g="",m=p.type=="string"?[0,0,0,0]:rb(f,p);switch(p.type){case"base64":g=wl(f);break;case"binary":g=f;break;case"buffer":p.codepage==65001?g=f.toString("utf8"):p.codepage&&typeof ag<"u"||(g=en&&Buffer.isBuffer(f)?f.toString("binary"):Uf(f));break;case"array":g=Qh(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=ni(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=ni(g):p.type=="binary"&&typeof ag<"u",g.slice(0,19)=="socialcalc:version:"?GR.to_sheet(p.type=="string"?g:ni(g),p):s(g,p)}function l(f,p){return zf(o(f,p),p)}function c(f){for(var p=[],g=Sn(f["!ref"]),m,y=Array.isArray(f),w=g.s.r;w<=g.e.r;++w){for(var k=[],N=g.s.c;N<=g.e.c;++N){var L=Rr({r:w,c:N});if(m=y?(f[w]||[])[N]:f[L],!m||m.v==null){k.push("          ");continue}for(var P=(m.w||(sd(m),m.w)||"").slice(0,10);P.length<10;)P+=" ";k.push(P+(N===0?" ":""))}p.push(k.join(""))}return p.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function GJ(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=HR.to_workbook(t,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return Y1.to_workbook(t,e)}}var Fh=(function(){function t(I,q,W){if(I){Ls(I,I.l||0);for(var J=W.Enum||fe;I.l<I.length;){var ce=I.read_shift(2),ve=J[ce]||J[65535],Ee=I.read_shift(2),le=I.l+Ee,be=ve.f&&ve.f(I,Ee,W);if(I.l=le,q(be,ve,ce))return}}}function e(I,q){switch(q.type){case"base64":return r(hl(wl(I)),q);case"binary":return r(hl(I),q);case"buffer":case"array":return r(I,q)}throw"Unsupported type "+q.type}function r(I,q){if(!I)return I;var W=q||{},J=W.dense?[]:{},ce="Sheet1",ve="",Ee=0,le={},be=[],Le=[],ae={s:{r:0,c:0},e:{r:0,c:0}},je=W.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)W.Enum=fe,t(I,function(Be,et,ne){switch(ne){case 0:W.vers=Be,Be>=4096&&(W.qpro=!0);break;case 6:ae=Be;break;case 204:Be&&(ve=Be);break;case 222:ve=Be;break;case 15:case 51:W.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:ne==14&&(Be[2]&112)==112&&(Be[2]&15)>1&&(Be[2]&15)<15&&(Be[1].z=W.dateNF||Tr[14],W.cellDates&&(Be[1].t="d",Be[1].v=Oy(Be[1].v))),W.qpro&&Be[3]>Ee&&(J["!ref"]=Wr(ae),le[ce]=J,be.push(ce),J=W.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},Ee=Be[3],ce=ve||"Sheet"+(Ee+1),ve="");var De=W.dense?(J[Be[0].r]||[])[Be[0].c]:J[Rr(Be[0])];if(De){De.t=Be[1].t,De.v=Be[1].v,Be[1].z!=null&&(De.z=Be[1].z),Be[1].f!=null&&(De.f=Be[1].f);break}W.dense?(J[Be[0].r]||(J[Be[0].r]=[]),J[Be[0].r][Be[0].c]=Be[1]):J[Rr(Be[0])]=Be[1];break}},W);else if(I[2]==26||I[2]==14)W.Enum=X,I[2]==14&&(W.qpro=!0,I.l=0),t(I,function(Be,et,ne){switch(ne){case 204:ce=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>Ee&&(J["!ref"]=Wr(ae),le[ce]=J,be.push(ce),J=W.dense?[]:{},ae={s:{r:0,c:0},e:{r:0,c:0}},Ee=Be[3],ce="Sheet"+(Ee+1)),je>0&&Be[0].r>=je)break;W.dense?(J[Be[0].r]||(J[Be[0].r]=[]),J[Be[0].r][Be[0].c]=Be[1]):J[Rr(Be[0])]=Be[1],ae.e.c<Be[0].c&&(ae.e.c=Be[0].c),ae.e.r<Be[0].r&&(ae.e.r=Be[0].r);break;case 27:Be[14e3]&&(Le[Be[14e3][0]]=Be[14e3][1]);break;case 1537:Le[Be[0]]=Be[1],Be[0]==Ee&&(ce=Be[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(J["!ref"]=Wr(ae),le[ve||ce]=J,be.push(ve||ce),!Le.length)return{SheetNames:be,Sheets:le};for(var Pe={},de=[],Me=0;Me<Le.length;++Me)le[be[Me]]?(de.push(Le[Me]||be[Me]),Pe[Le[Me]]=le[Le[Me]]||le[be[Me]]):(de.push(Le[Me]),Pe[Le[Me]]={"!ref":"A1"});return{SheetNames:de,Sheets:Pe}}function n(I,q){var W=q||{};if(+W.codepage>=0&&wc(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var J=Wo(),ce=Sn(I["!ref"]),ve=Array.isArray(I),Ee=[];zt(J,0,a(1030)),zt(J,6,l(ce));for(var le=Math.min(ce.e.r,8191),be=ce.s.r;be<=le;++be)for(var Le=Ca(be),ae=ce.s.c;ae<=ce.e.c;++ae){be===ce.s.r&&(Ee[ae]=Ki(ae));var je=Ee[ae]+Le,Pe=ve?(I[be]||[])[ae]:I[je];if(!(!Pe||Pe.t=="z"))if(Pe.t=="n")(Pe.v|0)==Pe.v&&Pe.v>=-32768&&Pe.v<=32767?zt(J,13,m(be,ae,Pe.v)):zt(J,14,w(be,ae,Pe.v));else{var de=sd(Pe);zt(J,15,p(be,ae,de.slice(0,239)))}}return zt(J,1),J.end()}function i(I,q){var W=q||{};if(+W.codepage>=0&&wc(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var J=Wo();zt(J,0,s(I));for(var ce=0,ve=0;ce<I.SheetNames.length;++ce)(I.Sheets[I.SheetNames[ce]]||{})["!ref"]&&zt(J,27,G(I.SheetNames[ce],ve++));var Ee=0;for(ce=0;ce<I.SheetNames.length;++ce){var le=I.Sheets[I.SheetNames[ce]];if(!(!le||!le["!ref"])){for(var be=Sn(le["!ref"]),Le=Array.isArray(le),ae=[],je=Math.min(be.e.r,8191),Pe=be.s.r;Pe<=je;++Pe)for(var de=Ca(Pe),Me=be.s.c;Me<=be.e.c;++Me){Pe===be.s.r&&(ae[Me]=Ki(Me));var Be=ae[Me]+de,et=Le?(le[Pe]||[])[Me]:le[Be];if(!(!et||et.t=="z"))if(et.t=="n")zt(J,23,j(Pe,Me,Ee,et.v));else{var ne=sd(et);zt(J,22,R(Pe,Me,Ee,ne.slice(0,239)))}}++Ee}}return zt(J,1),J.end()}function a(I){var q=xt(2);return q.write_shift(2,I),q}function s(I){var q=xt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var W=0,J=0,ce=0,ve=0;ve<I.SheetNames.length;++ve){var Ee=I.SheetNames[ve],le=I.Sheets[Ee];if(!(!le||!le["!ref"])){++ce;var be=Go(le["!ref"]);W<be.e.r&&(W=be.e.r),J<be.e.c&&(J=be.e.c)}}return W>8191&&(W=8191),q.write_shift(2,W),q.write_shift(1,ce),q.write_shift(1,J),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(I,q,W){var J={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&W.qpro?(J.s.c=I.read_shift(1),I.l++,J.s.r=I.read_shift(2),J.e.c=I.read_shift(1),I.l++,J.e.r=I.read_shift(2),J):(J.s.c=I.read_shift(2),J.s.r=I.read_shift(2),q==12&&W.qpro&&(I.l+=2),J.e.c=I.read_shift(2),J.e.r=I.read_shift(2),q==12&&W.qpro&&(I.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function l(I){var q=xt(8);return q.write_shift(2,I.s.c),q.write_shift(2,I.s.r),q.write_shift(2,I.e.c),q.write_shift(2,I.e.r),q}function c(I,q,W){var J=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(J[0].c=I.read_shift(1),J[3]=I.read_shift(1),J[0].r=I.read_shift(2),I.l+=2):(J[2]=I.read_shift(1),J[0].c=I.read_shift(2),J[0].r=I.read_shift(2)),J}function f(I,q,W){var J=I.l+q,ce=c(I,q,W);if(ce[1].t="s",W.vers==20768){I.l++;var ve=I.read_shift(1);return ce[1].v=I.read_shift(ve,"utf8"),ce}return W.qpro&&I.l++,ce[1].v=I.read_shift(J-I.l,"cstr"),ce}function p(I,q,W){var J=xt(7+W.length);J.write_shift(1,255),J.write_shift(2,q),J.write_shift(2,I),J.write_shift(1,39);for(var ce=0;ce<J.length;++ce){var ve=W.charCodeAt(ce);J.write_shift(1,ve>=128?95:ve)}return J.write_shift(1,0),J}function g(I,q,W){var J=c(I,q,W);return J[1].v=I.read_shift(2,"i"),J}function m(I,q,W){var J=xt(7);return J.write_shift(1,255),J.write_shift(2,q),J.write_shift(2,I),J.write_shift(2,W,"i"),J}function y(I,q,W){var J=c(I,q,W);return J[1].v=I.read_shift(8,"f"),J}function w(I,q,W){var J=xt(13);return J.write_shift(1,255),J.write_shift(2,q),J.write_shift(2,I),J.write_shift(8,W,"f"),J}function k(I,q,W){var J=I.l+q,ce=c(I,q,W);if(ce[1].v=I.read_shift(8,"f"),W.qpro)I.l=J;else{var ve=I.read_shift(2);V(I.slice(I.l,I.l+ve),ce),I.l+=ve}return ce}function N(I,q,W){var J=q&32768;return q&=-32769,q=(J?I:0)+(q>=8192?q-16384:q),(J?"":"$")+(W?Ki(q):Ca(q))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},P=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function V(I,q){Ls(I,0);for(var W=[],J=0,ce="",ve="",Ee="",le="";I.l<I.length;){var be=I[I.l++];switch(be){case 0:W.push(I.read_shift(8,"f"));break;case 1:ve=N(q[0].c,I.read_shift(2),!0),ce=N(q[0].r,I.read_shift(2),!1),W.push(ve+ce);break;case 2:{var Le=N(q[0].c,I.read_shift(2),!0),ae=N(q[0].r,I.read_shift(2),!1);ve=N(q[0].c,I.read_shift(2),!0),ce=N(q[0].r,I.read_shift(2),!1),W.push(Le+ae+":"+ve+ce)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(I.read_shift(2));break;case 6:{for(var je="";be=I[I.l++];)je+=String.fromCharCode(be);W.push('"'+je.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:le=W.pop(),Ee=W.pop(),W.push(["AND","OR"][be-20]+"("+Ee+","+le+")");break;default:if(be<32&&P[be])le=W.pop(),Ee=W.pop(),W.push(Ee+P[be]+le);else if(L[be]){if(J=L[be][1],J==69&&(J=I[I.l++]),J>W.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+W.join("|")+"|");return}var Pe=W.slice(-J);W.length-=J,W.push(L[be][0]+"("+Pe.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}W.length==1?q[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function Y(I){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=I.read_shift(2),q[3]=I[I.l++],q[0].c=I[I.l++],q}function Q(I,q){var W=Y(I);return W[1].t="s",W[1].v=I.read_shift(q-4,"cstr"),W}function R(I,q,W,J){var ce=xt(6+J.length);ce.write_shift(2,I),ce.write_shift(1,W),ce.write_shift(1,q),ce.write_shift(1,39);for(var ve=0;ve<J.length;++ve){var Ee=J.charCodeAt(ve);ce.write_shift(1,Ee>=128?95:Ee)}return ce.write_shift(1,0),ce}function T(I,q){var W=Y(I);W[1].v=I.read_shift(2);var J=W[1].v>>1;if(W[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return W[1].v=J,W}function S(I,q){var W=Y(I),J=I.read_shift(4),ce=I.read_shift(4),ve=I.read_shift(2);if(ve==65535)return J===0&&ce===3221225472?(W[1].t="e",W[1].v=15):J===0&&ce===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var Ee=ve&32768;return ve=(ve&32767)-16446,W[1].v=(1-Ee*2)*(ce*Math.pow(2,ve+32)+J*Math.pow(2,ve)),W}function j(I,q,W,J){var ce=xt(14);if(ce.write_shift(2,I),ce.write_shift(1,W),ce.write_shift(1,q),J==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var ve=0,Ee=0,le=0,be=0;return J<0&&(ve=1,J=-J),Ee=Math.log2(J)|0,J/=Math.pow(2,Ee-31),be=J>>>0,(be&2147483648)==0&&(J/=2,++Ee,be=J>>>0),J-=be,be|=2147483648,be>>>=0,J*=Math.pow(2,32),le=J>>>0,ce.write_shift(4,le),ce.write_shift(4,be),Ee+=16383+(ve?32768:0),ce.write_shift(2,Ee),ce}function A(I,q){var W=S(I);return I.l+=q-14,W}function F(I,q){var W=Y(I),J=I.read_shift(4);return W[1].v=J>>6,W}function M(I,q){var W=Y(I),J=I.read_shift(8,"f");return W[1].v=J,W}function re(I,q){var W=M(I);return I.l+=q-10,W}function pe(I,q){return I[I.l+q-1]==0?I.read_shift(q,"cstr"):""}function _e(I,q){var W=I[I.l++];W>q-1&&(W=q-1);for(var J="";J.length<W;)J+=String.fromCharCode(I[I.l++]);return J}function xe(I,q,W){if(!(!W.qpro||q<21)){var J=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var ce=I.read_shift(q-21,"cstr");return[J,ce]}}function oe(I,q){for(var W={},J=I.l+q;I.l<J;){var ce=I.read_shift(2);if(ce==14e3){for(W[ce]=[0,""],W[ce][0]=I.read_shift(2);I[I.l];)W[ce][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return W}function G(I,q){var W=xt(5+I.length);W.write_shift(2,14e3),W.write_shift(2,q);for(var J=0;J<I.length;++J){var ce=I.charCodeAt(J);W[W.l++]=ce>127?95:ce}return W[W.l++]=0,W}var fe={0:{n:"BOF",f:Ma},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:y},15:{n:"LABEL",f},16:{n:"FORMULA",f:k},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:pe},222:{n:"SHEETNAMELP",f:_e},65535:{n:""}},X={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Q},23:{n:"NUMBER17",f:S},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:re},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:pe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function KJ(t){var e={},r=t.match(vo),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=Fr(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;e.cp=y6[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=a.val;break;case"<sz":e.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":a.rgb&&(e.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return e}var XJ=(function(){var t=lg("t"),e=lg("rPr");function r(a){var s=a.match(t);if(!s)return{t:"s",v:""};var o={t:"s",v:En(s[1])},l=a.match(e);return l&&(o.s=KJ(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),YJ=(function(){var e=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(e,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}})(),QJ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,JJ=/<(?:\w+:)?r>/,ZJ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $6(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=En(ni(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ni(t),r&&(n.h=T6(n.t))):t.match(JJ)&&(n.r=ni(t),n.t=En(ni((t.replace(ZJ,"").match(QJ)||[]).join("").replace(vo,""))),r&&(n.h=YJ(XJ(n.r)))),n):{t:""}}var eZ=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,tZ=/<(?:\w+:)?(?:si|sstItem)>/g,rZ=/<\/(?:\w+:)?(?:si|sstItem)>/;function nZ(t,e){var r=[],n="";if(!t)return r;var i=t.match(eZ);if(i){n=i[2].replace(tZ,"").split(rZ);for(var a=0;a!=n.length;++a){var s=$6(n[a].trim(),e);s!=null&&(r[r.length]=s)}i=Fr(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var iZ=/^\s|\s$|[\t\n\r]/;function KR(t,e){if(!e.bookSST)return"";var r=[Aa];r[r.length]=Ut("sst",null,{xmlns:p0[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(iZ)&&(a+=' xml:space="preserve"'),a+=">"+Qn(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function aZ(t){return[t.read_shift(4),t.read_shift(4)]}function sZ(t,e){var r=[],n=!1;return md(t,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function oZ(t,e){return e||(e=xt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var lZ=vY;function cZ(t){var e=Wo();Ct(e,159,oZ(t));for(var r=0;r<t.length;++r)Ct(e,19,lZ(t[r]));return Ct(e,160),e.end()}function XR(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Zu(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function uZ(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Zu(t,4),e.U=Zu(t,4),e.W=Zu(t,4),e}function dZ(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),a=[];i-- >0;)a.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=a,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function fZ(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(dZ(t));return e}function hZ(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function pZ(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Zu(t,4),e.U=Zu(t,4),e.W=Zu(t,4),e}function mZ(t){var e=pZ(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function YR(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function QR(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function gZ(t){var e=Zu(t);switch(e.Minor){case 2:return[e.Minor,xZ(t)];case 3:return[e.Minor,vZ()];case 4:return[e.Minor,yZ(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function xZ(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=YR(t,r),i=QR(t,t.length-t.l);return{t:"Std",h:n,v:i}}function vZ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function yZ(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(vo,function(a){var s=Fr(a);switch(xu(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function wZ(t,e){var r={},n=r.EncryptionVersionInfo=Zu(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=YR(t,i),e-=i,r.EncryptionVerifier=QR(t,e),r}function _Z(t){var e={},r=e.EncryptionVersionInfo=Zu(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function q6(t){var e=0,r,n=XR(t),i=n.length+1,a,s,o,l,c;for(r=Cf(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^s;return e^52811}var JR=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=e[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var f=s[c],p=0;p!=7;++p)f&64&&(o^=r[l]),f*=2,--l;return o};return function(s){for(var o=XR(s),l=a(o),c=o.length,f=Cf(16),p=0;p!=16;++p)f[p]=0;var g,m,y;for((c&1)===1&&(g=l>>8,f[c]=i(t[0],g),--c,g=l&255,m=o[o.length-1],f[c]=i(m,g));c>0;)--c,g=l>>8,f[c]=i(o[c],g),--c,g=l&255,f[c]=i(o[c],g);for(c=15,y=15-o.length;y>0;)g=l>>8,f[c]=i(t[y],g),--c,--y,g=l&255,f[c]=i(o[c],g),--c,--y;return f}})(),bZ=function(t,e,r,n,i){i||(i=e),n||(n=JR(t));var a,s;for(a=0;a!=e.length;++a)s=e[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},kZ=function(t){var e=0,r=JR(t);return function(n){var i=bZ("",n,e,r);return e=i[1],i[0]}};function EZ(t,e,r,n){var i={key:Ma(t),verificationBytes:Ma(t)};return r.password&&(i.verifier=q6(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=kZ(r.password)),i}function SZ(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=_Z(t):n.Data=wZ(t,e),n}function CZ(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?SZ(t,e-2,n):EZ(t,r.biff>=8?e:e-2,r,n),n}var ZR=(function(){function t(i,a){switch(a.type){case"base64":return e(wl(i),a);case"binary":return e(i,a);case"buffer":return e(en&&Buffer.isBuffer(i)?i.toString("binary"):Uf(i),a);case"array":return e(Qh(i),a)}throw new Error("Unrecognized type "+a.type)}function e(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,m=0,y,w=-1;y=g.exec(f);){switch(y[0]){case"\\cell":var k=f.slice(m,g.lastIndex-y[0].length);if(k[0]==" "&&(k=k.slice(1)),++w,k.length){var N={v:k,t:"s"};Array.isArray(o)?o[p][w]=N:o[Rr({r:p,c:w})]=N}break}m=g.lastIndex}w>c.e.c&&(c.e.c=w)}),o["!ref"]=Wr(c),o}function r(i,a){return zf(t(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Sn(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var f=s.s.c;f<=s.e.c;++f)a.push("\\cellx"+(f+1));for(a.push("\\pard\\intbl"),f=s.s.c;f<=s.e.c;++f){var p=Rr({r:c,c:f});o=l?(i[c]||[])[f]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(sd(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function NZ(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function fg(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function AZ(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),a=Math.min(e,r,n),s=i-a;if(s===0)return[0,0,e];var o=0,l=0,c=i+a;switch(l=s/(c>1?2-c:c),i){case e:o=((r-n)/s+6)%6;break;case r:o=(n-e)/s+2;break;case n:o=(e-r)/s+4;break}return[o/6,l,c/2]}function TZ(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Mv(t,e){if(e===0)return t;var r=AZ(NZ(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),fg(TZ(r))}var eF=6,IZ=15,PZ=1,uo=eF;function hg(t){return Math.floor((t+Math.round(128/uo)/256)*uo)}function pg(t){return Math.floor((t-5)/uo*100+.5)/100}function Bv(t){return Math.round((t*uo+5)/uo*256)/256}function _4(t){return Bv(pg(hg(t)))}function H6(t){var e=Math.abs(t-_4(t)),r=uo;if(e>.005)for(uo=PZ;uo<IZ;++uo)Math.abs(t-_4(t))<=e&&(e=Math.abs(t-_4(t)),r=uo);uo=r}function Nf(t){t.width?(t.wpx=hg(t.width),t.wch=pg(t.wpx),t.MDW=uo):t.wpx?(t.wch=pg(t.wpx),t.width=Bv(t.wch),t.MDW=uo):typeof t.wch=="number"&&(t.width=Bv(t.wch),t.wpx=hg(t.width),t.MDW=uo),t.customWidth&&delete t.customWidth}var RZ=96,tF=RZ;function mg(t){return t*96/tF}function Q1(t){return t*tF/96}var FZ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function LZ(t,e,r,n){e.Borders=[];var i={},a=!1;(t[0].match(vo)||[]).forEach(function(s){var o=Fr(s);switch(xu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=_i(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=_i(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function jZ(t,e,r,n){e.Fills=[];var i={},a=!1;(t[0].match(vo)||[]).forEach(function(s){var o=Fr(s);switch(xu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function DZ(t,e,r,n){e.Fonts=[];var i={},a=!1;(t[0].match(vo)||[]).forEach(function(s){var o=Fr(s);switch(xu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=ni(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?_i(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?_i(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?_i(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?_i(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?_i(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?_i(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?_i(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=y6[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=_i(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=Ph[i.color.index];i.color.index==81&&(l=Ph[1]),l||(l=Ph[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=Mv(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function OZ(t,e,r){e.NumberFmt=[];for(var n=ua(Tr),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Tr[n[i]];var a=t[0].match(vo);if(a)for(i=0;i<a.length;++i){var s=Fr(a[i]);switch(xu(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=En(ni(s.formatCode)),l=parseInt(s.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}Ju(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function MZ(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=Ut("numFmt",null,{numFmtId:n,formatCode:Qn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ut("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var cx=["numFmtId","fillId","fontId","borderId","xfId"],ux=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function BZ(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(vo)||[]).forEach(function(a){var s=Fr(a),o=0;switch(xu(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<cx.length;++o)n[cx[o]]&&(n[cx[o]]=parseInt(n[cx[o]],10));for(o=0;o<ux.length;++o)n[ux[o]]&&(n[ux[o]]=_i(n[ux[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=_i(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function VZ(t){var e=[];return e[e.length]=Ut("cellXfs",null),t.forEach(function(r){e[e.length]=Ut("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ut("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var UZ=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var f={};if(!o)return f;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&OZ(p,f,c),(p=o.match(i))&&DZ(p,f,l,c),(p=o.match(n))&&jZ(p,f,l,c),(p=o.match(a))&&LZ(p,f,l,c),(p=o.match(r))&&BZ(p,f,c),f}})();function rF(t,e){var r=[Aa,Ut("styleSheet",null,{xmlns:p0[0],"xmlns:vt":Qa.vt})],n;return t.SSF&&(n=MZ(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=VZ(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function zZ(t,e){var r=t.read_shift(2),n=go(t);return[r,n]}function $Z(t,e,r){r||(r=xt(6+4*e.length)),r.write_shift(2,t),xs(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function qZ(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=SY(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=t.read_shift(2);switch(a===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=t.read_shift(1);s!=0&&(n.underline=s);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=EY(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=go(t),n}function HZ(t,e){e||(e=xt(153)),e.write_shift(2,t.sz*20),CY(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),jv(t.color,e);var n=0;return n=2,e.write_shift(1,n),xs(t.name,e),e.length>e.l?e.slice(0,e.l):e}var WZ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],b4,GZ=xo;function aE(t,e){e||(e=xt(84)),b4||(b4=jy(WZ));var r=b4[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(jv({auto:1},e),jv({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function KZ(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function nF(t,e,r){r||(r=xt(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function sm(t,e){return e||(e=xt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var XZ=xo;function YZ(t,e){return e||(e=xt(51)),e.write_shift(1,0),sm(null,e),sm(null,e),sm(null,e),sm(null,e),sm(null,e),e.length>e.l?e.slice(0,e.l):e}function QZ(t,e){return e||(e=xt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Lv(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function JZ(t,e,r){var n=xt(2052);return n.write_shift(4,t),Lv(e,n),Lv(r,n),n.length>n.l?n.slice(0,n.l):n}function ZZ(t,e,r){var n={};n.NumberFmt=[];for(var i in Tr)n.NumberFmt[i]=Tr[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return md(t,function(l,c,f){switch(f){case 44:n.NumberFmt[l[0]]=l[1],Ju(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=Mv(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(f),s=!0;break;case 38:a.pop(),s=!1;break;default:if(c.T>0)a.push(f);else if(c.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),n}function eee(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Ct(t,615,Cc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ct(t,44,$Z(i,e[i]))}),Ct(t,616))}}function tee(t){var e=1;Ct(t,611,Cc(e)),Ct(t,43,HZ({sz:12,color:{theme:1},name:"Calibri",family:2})),Ct(t,612)}function ree(t){var e=2;Ct(t,603,Cc(e)),Ct(t,45,aE({patternType:"none"})),Ct(t,45,aE({patternType:"gray125"})),Ct(t,604)}function nee(t){var e=1;Ct(t,613,Cc(e)),Ct(t,46,YZ()),Ct(t,614)}function iee(t){var e=1;Ct(t,626,Cc(e)),Ct(t,47,nF({numFmtId:0},65535)),Ct(t,627)}function aee(t,e){Ct(t,617,Cc(e.length)),e.forEach(function(r){Ct(t,47,nF(r,0))}),Ct(t,618)}function see(t){var e=1;Ct(t,619,Cc(e)),Ct(t,48,QZ({xfId:0,name:"Normal"})),Ct(t,620)}function oee(t){var e=0;Ct(t,505,Cc(e)),Ct(t,506)}function lee(t){var e=0;Ct(t,508,JZ(e,"TableStyleMedium9","PivotStyleMedium4")),Ct(t,509)}function cee(t,e){var r=Wo();return Ct(r,278),eee(r,t.SSF),tee(r),ree(r),nee(r),iee(r),aee(r,e.cellXfs),see(r),oee(r),lee(r),Ct(r,279),r.end()}var uee=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function dee(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(vo)||[]).forEach(function(i){var a=Fr(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(e.themeElements.clrScheme[uee.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function fee(){}function hee(){}var pee=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,mee=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,gee=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function xee(t,e,r){e.themeElements={};var n;[["clrScheme",pee,dee],["fontScheme",mee,fee],["fmtScheme",gee,hee]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var vee=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function iF(t,e){(!t||t.length===0)&&(t=W6());var r,n={};if(!(r=t.match(vee)))throw new Error("themeElements not found in theme");return xee(r[0],n,e),n.raw=t,n}function W6(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Aa];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function yee(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var a=t.slice(t.l);t.l=n;var s;try{s=YP(a,{type:"array"})}catch{return}var o=pl(s,"theme/theme/theme1.xml",!0);if(o)return iF(o,r)}}function wee(t){return t.read_shift(4)}function _ee(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=bee(t,4);break;case 2:e.xclrValue=OR(t);break;case 3:e.xclrValue=wee(t);break;case 4:t.l+=4;break}return t.l+=8,e}function bee(t,e){return xo(t,e)}function kee(t,e){return xo(t,e)}function Eee(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=_ee(t);break;case 6:n[1]=kee(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function See(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),a=[];i-- >0;)a.push(Eee(t,r-t.l));return{ixfe:n,ext:a}}function Cee(t,e){e.forEach(function(r){r[0]})}function Nee(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:go(t)}}function Aee(t){var e=xt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),xs(t.name,e),e.slice(0,e.l)}function Tee(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Iee(t){var e=xt(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Pee(t,e){var r=xt(8+2*e.length);return r.write_shift(4,t),xs(e,r),r.slice(0,r.l)}function Ree(t){return t.l+=4,t.read_shift(4)!=0}function Fee(t,e){var r=xt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Lee(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return md(t,function(l,c,f){switch(f){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(p){o==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):o==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(f),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!c.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}function jee(){var t=Wo();return Ct(t,332),Ct(t,334,Cc(1)),Ct(t,335,Aee({name:"XLDAPR",version:12e4,flags:3496657072})),Ct(t,336),Ct(t,339,Pee(1,"XLDAPR")),Ct(t,52),Ct(t,35,Cc(514)),Ct(t,4096,Cc(0)),Ct(t,4097,zl(1)),Ct(t,36),Ct(t,53),Ct(t,340),Ct(t,337,Fee(1)),Ct(t,51,Iee([[1,0]])),Ct(t,338),Ct(t,333),t.end()}function Dee(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,a=2,s;return t.replace(vo,function(o){var l=Fr(o);switch(xu(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function aF(){var t=[Aa];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Oee(t){var e=[];if(!t)return e;var r=1;return(t.match(vo)||[]).forEach(function(n){var i=Fr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function Mee(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Rr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Bee(t,e,r){var n=[];return md(t,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Vee(t,e,r,n){if(!t)return t;var i=n||{},a=!1;md(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function Uee(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var d1=1024;function sF(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[Ut("xml",null,{"xmlns:v":dl.v,"xmlns:o":dl.o,"xmlns:x":dl.x,"xmlns:mv":dl.mv}).replace(/\/>/,">"),Ut("o:shapelayout",Ut("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Ut("v:shapetype",[Ut("v:stroke",null,{joinstyle:"miter"}),Ut("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];d1<t*1e3;)d1+=1e3;return e.forEach(function(a){var s=Xi(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Ut("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Ut("v:fill",l,o),f={on:"t",obscured:"t"};++d1,i=i.concat(["<v:shape"+cg({id:"_x0000_s"+d1,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Ut("v:shadow",null,f),Ut("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ds("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Ds("x:AutoFill","False"),Ds("x:Row",String(s.r)),Ds("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function sE(t,e,r,n){var i=Array.isArray(t),a;e.forEach(function(s){var o=Xi(s.ref);if(i?(t[o.r]||(t[o.r]=[]),a=t[o.r][o.c]):a=t[s.ref],!a){a={t:"z"},i?t[o.r][o.c]=a:t[s.ref]=a;var l=Sn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Wr(l);c!==t["!ref"]&&(t["!ref"]=c)}a.c||(a.c=[]);var f={a:s.author,t:s.t,r:s.r,T:r};s.h&&(f.h=s.h);for(var p=a.c.length-1;p>=0;--p){if(!r&&a.c[p].T)return;r&&!a.c[p].T&&a.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(f.a==n[p].id){f.a=n[p].name||f.a;break}}a.c.push(f)})}function zee(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Fr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},f=Xi(l.ref);if(!(e.sheetRows&&e.sheetRows<=f.r)){var p=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&$6(p[1])||{r:"",t:"",h:""};c.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),c.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=g.h),n.push(c)}}}}),n}function oF(t){var e=[Aa,Ut("comments",null,{xmlns:p0[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var a=Qn(i.a);r.indexOf(a)==-1&&(r.push(a),e.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Qn(l.a))),a.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)e.push(Ds("t",Qn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;e.push(Ds("t",Qn(s)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function $ee(t,e){var r=[],n=!1,i={},a=0;return t.replace(vo,function(o,l){var c=Fr(o);switch(xu(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=t.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function qee(t,e,r){var n=[Aa,Ut("ThreadedComments",null,{xmlns:Qa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&e.indexOf(s.a)==-1&&e.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(s.a)).slice(-12)+"}"),n.push(Ut("threadedComment",Ds("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Hee(t,e){var r=[],n=!1;return t.replace(vo,function(a){var s=Fr(a);switch(xu(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function Wee(t){var e=[Aa,Ut("personList",null,{xmlns:Qa.TCMNT,"xmlns:x":p0[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(Ut("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Gee(t){var e={};e.iauthor=t.read_shift(4);var r=v0(t);return e.rfx=r.s,e.ref=Rr(r.s),t.l+=16,e}function Kee(t,e){return e==null&&(e=xt(36)),e.write_shift(4,t[1].iauthor),vp(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Xee=go;function Yee(t){return xs(t.slice(0,54))}function Qee(t,e){var r=[],n=[],i={},a=!1;return md(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function Jee(t){var e=Wo(),r=[];return Ct(e,628),Ct(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Ct(e,632,Yee(i.a)))})}),Ct(e,631),Ct(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Xi(n[0]),e:Xi(n[0])};Ct(e,635,Kee([a,i])),i.t&&i.t.length>0&&Ct(e,637,wY(i)),Ct(e,636),delete i.iauthor})}),Ct(e,634),Ct(e,629),e.end()}var Zee="application/vnd.ms-office.vbaProject";function ete(t){var e=_r.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");_r.utils.cfb_add(e,i,t.FileIndex[n].content)}}),_r.write(e)}function tte(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&_r.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var lF=["xlsb","xlsm","xlam","biff8","xla"];function rte(){return{"!type":"dialog"}}function nte(){return{"!type":"dialog"}}function ite(){return{"!type":"macro"}}function ate(){return{"!type":"macro"}}var k1=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,f=s.length>0?parseInt(s,10)|0:0;return o?f+=e.c:--f,l?c+=e.r:--c,i+(o?"":"$")+Ki(f)+(l?"":"$")+Ca(c)}return function(i,a){return e=a,i.replace(t,r)}})(),G6=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,K6=(function(){return function(e,r){return e.replace(G6,function(n,i,a,s,o,l){var c=L6(s)-(a?0:r.c),f=F6(l)-(o?0:r.r),p=f==0?"":o?f+1:"["+f+"]",g=c==0?"":a?c+1:"["+c+"]";return i+"R"+p+"C"+g})}})();function cF(t,e){return t.replace(G6,function(r,n,i,a,s,o){return n+(i=="$"?i+a:Ki(L6(a)+e.c))+(s=="$"?s+o:Ca(F6(o)+e.r))})}function ste(t,e,r){var n=Go(e),i=n.s,a=Xi(r),s={r:a.r-i.r,c:a.c-i.c};return cF(t,s)}function ote(t){return t.length!=1}function oE(t){return t.replace(/_xlfn\./g,"")}function ja(t){t.l+=1}function Af(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function uF(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return dF(t);r.biff==12&&(n=4)}var i=t.read_shift(n),a=t.read_shift(n),s=Af(t),o=Af(t);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function dF(t){var e=Af(t),r=Af(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function lte(t,e,r){if(r.biff<8)return dF(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),a=Af(t),s=Af(t);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function fF(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return cte(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Af(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function cte(t){var e=Af(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function ute(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function dte(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return fte(t);var i=t.read_shift(n>=12?4:2),a=t.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function fte(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function hte(t,e,r){var n=(t[t.l++]&96)>>5,i=uF(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function pte(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}var s=uF(t,a,r);return[n,i,s]}function mte(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function gte(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=8;if(r)switch(r.biff){case 5:t.l+=12,a=6;break;case 12:a=12;break}return t.l+=a,[n,i]}function xte(t,e,r){var n=(t[t.l++]&96)>>5,i=lte(t,e-1,r);return[n,i]}function vte(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function lE(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function yte(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function wte(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function _te(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function bte(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function kte(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function hF(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function Ete(t){return t.read_shift(2),hF(t)}function Ste(t){return t.read_shift(2),hF(t)}function Cte(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=fF(t,0,r);return[n,i]}function Nte(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=dte(t,0,r);return[n,i]}function Ate(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var a=fF(t,0,r);return[n,i,a]}function Tte(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[Rre[i],gF[i],n]}function Ite(t,e,r){var n=t[t.l++],i=t.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:Pte(t);return[i,(a[0]===0?gF:Pre)[a[1]]]}function Pte(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Rte(t,e,r){t.l+=r&&r.biff==2?3:4}function Fte(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Lte(t){return t.l++,gd[t.read_shift(1)]}function jte(t){return t.l++,t.read_shift(2)}function Dte(t){return t.l++,t.read_shift(1)!==0}function Ote(t){return t.l++,ho(t)}function Mte(t,e,r){return t.l++,Xg(t,e-1,r)}function Bte(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=va(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=gd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ho(t);break;case 2:r[1]=y0(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Vte(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?v0:My)(t));return i}function Ute(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=Bte(t,r.biff);return s}function zte(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,a]}function $te(t,e,r){if(r.biff==5)return qte(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),a=t.read_shift(4);return[n,i,a]}function qte(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Hte(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Wte(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Gte(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function Kte(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return t.l+=a,[n,i]}var Xte=xo,Yte=xo,Qte=xo;function Qg(t,e,r){return t.l+=2,[ute(t)]}function X6(t){return t.l+=6,[]}var Jte=Qg,Zte=X6,ere=X6,tre=Qg;function pF(t){return t.l+=2,[Ma(t),t.read_shift(2)&1]}var rre=Qg,nre=pF,ire=X6,are=Qg,sre=Qg,ore=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function lre(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),a=t.read_shift(2),s=ore[r>>2&31];return{ixti:e,coltype:r&3,rt:s,idx:n,c:i,C:a}}function cre(t){return t.l+=2,[t.read_shift(4)]}function ure(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function dre(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function fre(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function hre(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function pre(t){return t.l+=4,[0,0]}var cE={1:{n:"PtgExp",f:Fte},2:{n:"PtgTbl",f:Qte},3:{n:"PtgAdd",f:ja},4:{n:"PtgSub",f:ja},5:{n:"PtgMul",f:ja},6:{n:"PtgDiv",f:ja},7:{n:"PtgPower",f:ja},8:{n:"PtgConcat",f:ja},9:{n:"PtgLt",f:ja},10:{n:"PtgLe",f:ja},11:{n:"PtgEq",f:ja},12:{n:"PtgGe",f:ja},13:{n:"PtgGt",f:ja},14:{n:"PtgNe",f:ja},15:{n:"PtgIsect",f:ja},16:{n:"PtgUnion",f:ja},17:{n:"PtgRange",f:ja},18:{n:"PtgUplus",f:ja},19:{n:"PtgUminus",f:ja},20:{n:"PtgPercent",f:ja},21:{n:"PtgParen",f:ja},22:{n:"PtgMissArg",f:ja},23:{n:"PtgStr",f:Mte},26:{n:"PtgSheet",f:ure},27:{n:"PtgEndSheet",f:dre},28:{n:"PtgErr",f:Lte},29:{n:"PtgBool",f:Dte},30:{n:"PtgInt",f:jte},31:{n:"PtgNum",f:Ote},32:{n:"PtgArray",f:vte},33:{n:"PtgFunc",f:Tte},34:{n:"PtgFuncVar",f:Ite},35:{n:"PtgName",f:zte},36:{n:"PtgRef",f:Cte},37:{n:"PtgArea",f:hte},38:{n:"PtgMemArea",f:Hte},39:{n:"PtgMemErr",f:Xte},40:{n:"PtgMemNoMem",f:Yte},41:{n:"PtgMemFunc",f:Wte},42:{n:"PtgRefErr",f:Gte},43:{n:"PtgAreaErr",f:mte},44:{n:"PtgRefN",f:Nte},45:{n:"PtgAreaN",f:xte},46:{n:"PtgMemAreaN",f:fre},47:{n:"PtgMemNoMemN",f:hre},57:{n:"PtgNameX",f:$te},58:{n:"PtgRef3d",f:Ate},59:{n:"PtgArea3d",f:pte},60:{n:"PtgRefErr3d",f:Kte},61:{n:"PtgAreaErr3d",f:gte},255:{}},mre={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},gre={1:{n:"PtgElfLel",f:pF},2:{n:"PtgElfRw",f:are},3:{n:"PtgElfCol",f:Jte},6:{n:"PtgElfRwV",f:sre},7:{n:"PtgElfColV",f:tre},10:{n:"PtgElfRadical",f:rre},11:{n:"PtgElfRadicalS",f:ire},13:{n:"PtgElfColS",f:Zte},15:{n:"PtgElfColSV",f:ere},16:{n:"PtgElfRadicalLel",f:nre},25:{n:"PtgList",f:lre},29:{n:"PtgSxName",f:cre},255:{}},xre={0:{n:"PtgAttrNoop",f:pre},1:{n:"PtgAttrSemi",f:kte},2:{n:"PtgAttrIf",f:_te},4:{n:"PtgAttrChoose",f:yte},8:{n:"PtgAttrGoto",f:wte},16:{n:"PtgAttrSum",f:Rte},32:{n:"PtgAttrBaxcel",f:lE},33:{n:"PtgAttrBaxcel",f:lE},64:{n:"PtgAttrSpace",f:Ete},65:{n:"PtgAttrSpaceSemi",f:Ste},128:{n:"PtgAttrIfError",f:bte},255:{}};function Jg(t,e,r,n){if(n.biff<8)return xo(t,e);for(var i=t.l+e,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Ute(t,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Vte(t,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=t.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return e=i-t.l,e!==0&&a.push(xo(t,e)),a}function Zg(t,e,r){for(var n=t.l+e,i,a,s=[];n!=t.l;)e=n-t.l,a=t[t.l],i=cE[a]||cE[mre[a]],(a===24||a===25)&&(i=(a===24?gre:xre)[t[t.l+1]]),!i||!i.f?xo(t,e):s.push([i.n,i.f(t,e,r)]);return s}function vre(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var yre={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wre(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function mF(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function uE(t,e,r){var n=mF(t,e,r);return n=="#REF"?n:wre(n,r)}function co(t,e,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,c,f,p=0,g=0,m,y="";if(!t[0]||!t[0][0])return"";for(var w=-1,k="",N=0,L=t[0].length;N<L;++N){var P=t[0][N];switch(P[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),w>=0){switch(t[0][w][1][0]){case 0:k=na(" ",t[0][w][1][1]);break;case 1:k=na("\r",t[0][w][1][1]);break;default:if(k="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}c=c+k,w=-1}o.push(c+yre[P[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Rm(P[1][1],s,i),o.push(Fm(f,a));break;case"PtgRefN":f=r?Rm(P[1][1],r,i):P[1][1],o.push(Fm(f,a));break;case"PtgRef3d":p=P[1][1],f=Rm(P[1][2],s,i),y=uE(n,p,i),o.push(y+"!"+Fm(f,a));break;case"PtgFunc":case"PtgFuncVar":var V=P[1][0],Y=P[1][1];V||(V=0),V&=127;var Q=V==0?[]:o.slice(-V);o.length-=V,Y==="User"&&(Y=Q.shift()),o.push(Y+"("+Q.join(",")+")");break;case"PtgBool":o.push(P[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(P[1]);break;case"PtgNum":o.push(String(P[1]));break;case"PtgStr":o.push('"'+P[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(P[1]);break;case"PtgAreaN":m=B9(P[1][1],r?{s:r}:s,i),o.push(v4(m,i));break;case"PtgArea":m=B9(P[1][1],s,i),o.push(v4(m,i));break;case"PtgArea3d":p=P[1][1],m=P[1][2],y=uE(n,p,i),o.push(y+"!"+v4(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=P[1][2];var R=(n.names||[])[g-1]||(n[0]||[])[g],T=R?R.Name:"SH33TJSNAME"+String(g);T&&T.slice(0,6)=="_xlfn."&&!i.xlfn&&(T=T.slice(6)),o.push(T);break;case"PtgNameX":var S=P[1][1];g=P[1][2];var j;if(i.biff<=5)S<0&&(S=-S),n[S]&&(j=n[S][g]);else{var A="";if(((n[S]||[])[0]||[])[0]==14849||(((n[S]||[])[0]||[])[0]==1025?n[S][g]&&n[S][g].itab>0&&(A=n.SheetNames[n[S][g].itab-1]+"!"):A=n.SheetNames[g-1]+"!"),n[S]&&n[S][g])A+=n[S][g].Name;else if(n[0]&&n[0][g])A+=n[0][g].Name;else{var F=(mF(n,S,i)||"").split(";;");F[g-1]?A=F[g-1]:A+="SH33TJSERRX"}o.push(A);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var M="(",re=")";if(w>=0){switch(k="",t[0][w][1][0]){case 2:M=na(" ",t[0][w][1][1])+M;break;case 3:M=na("\r",t[0][w][1][1])+M;break;case 4:re=na(" ",t[0][w][1][1])+re;break;case 5:re=na("\r",t[0][w][1][1])+re;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}o.push(M+o.pop()+re);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:P[1][1],r:P[1][0]};var pe={c:r.c,r:r.r};if(n.sharedf[Rr(f)]){var _e=n.sharedf[Rr(f)];o.push(co(_e,s,pe,n,i))}else{var xe=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(f.c<c[0].s.c||f.c>c[0].e.c)&&!(f.r<c[0].s.r||f.r>c[0].e.r)){o.push(co(c[1],s,pe,n,i)),xe=!0;break}xe||o.push(P[1])}break;case"PtgArray":o.push("{"+vre(P[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+P[1].idx+"[#"+P[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(P));default:throw new Error("Unrecognized Formula Token: "+String(P))}var oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&oe.indexOf(t[0][N][0])==-1){P=t[0][w];var G=!0;switch(P[1][0]){case 4:G=!1;case 0:k=na(" ",P[1][1]);break;case 5:G=!1;case 1:k=na("\r",P[1][1]);break;default:if(k="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+P[1][0])}o.push((G?k:"")+o.pop()+(G?"":k)),w=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function _re(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],xo(t,e-2)];var o=Zg(t,s,r);return e!==s+i&&(a=Jg(t,e-s-i,o,r)),t.l=n,[o,a]}function bre(t,e,r){var n=t.l+e,i=r.biff==2?1:2,a,s=t.read_shift(i);if(s==65535)return[[],xo(t,e-2)];var o=Zg(t,s,r);return e!==s+i&&(a=Jg(t,e-s-i,o,r)),t.l=n,[o,a]}function kre(t,e,r,n){var i=t.l+e,a=Zg(t,n,r),s;return i!==t.l&&(s=Jg(t,i-t.l,a,r)),[a,s]}function Ere(t,e,r){var n=t.l+e,i,a=t.read_shift(2),s=Zg(t,a,r);return a==65535?[[],xo(t,e-2)]:(e!==a+2&&(i=Jg(t,n-a-2,s,r)),[s,i])}function Sre(t){var e;if(Wu(t,t.l+6)!==65535)return[ho(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function Cre(t){if(t==null){var e=xt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Jh(t);return Jh(0)}function k4(t,e,r){var n=t.l+e,i=vu(t);r.biff==2&&++t.l;var a=Sre(t),s=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=bre(t,n-t.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function Nre(t,e,r,n,i){var a=e0(e,r,i),s=Cre(t.v),o=xt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=xt(t.bf.length),f=0;f<t.bf.length;++f)c[f]=t.bf[f];var p=gs([a,s,o,c]);return p}function By(t,e,r){var n=t.read_shift(4),i=Zg(t,n,r),a=t.read_shift(4),s=a>0?Jg(t,a,i,r):null;return[i,s]}var Are=By,Vy=By,Tre=By,Ire=By,Pre={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},gF={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Rre={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function dE(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function Fre(t){var e="of:="+t.replace(G6,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function E4(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function Lre(t){return t.replace(/\./,"!")}var jm={},E1={},Dm=typeof Map<"u";function Y6(t,e,r){var n=0,i=t.length;if(r){if(Dm?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var a=Dm?r.get(e):r[e];n<a.length;++n)if(t[a[n]].t===e)return t.Count++,a[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Dm?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function Uy(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(uo=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=pg(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Bv(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function Lh(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function $f(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,a=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){Ju(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=a;++i)if(t[i].numFmtId===n)return i;return t[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function xF(t,e,r,n,i,a){try{n.cellNF&&(t.z=Tr[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Si(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Tr[e]==null&&Ju(PX[e]||"General",e),t.t==="e")t.w=t.w||gd[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=og(t.v);else if(t.t==="d"){var s=ts(t.v);(s|0)===s?t.w=s.toString(10):t.w=og(s)}else{if(t.v===void 0)return"";t.w=Yh(t.v,E1)}else t.t==="d"?t.w=Kl(e,ts(t.v),E1):t.w=Kl(e,t.v,E1)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=a.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Mv(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Mv(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function jre(t,e,r){if(t&&t["!ref"]){var n=Sn(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Dre(t,e){var r=Sn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Wr(r))}var Ore=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Mre=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Bre=/<(?:\w:)?hyperlink [^>]*>/mg,Vre=/"(\w*:\w*)"/,Ure=/<(?:\w:)?col\b[^>]*[\/]?>/g,zre=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,$re=/<(?:\w:)?pageMargins[^>]*\/>/g,vF=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,qre=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Hre=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Wre(t,e,r,n,i,a,s){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",f="",p=t.match(Mre);p?(c=t.slice(0,p.index),f=t.slice(p.index+p[0].length)):c=f=t;var g=c.match(vF);g?Q6(g[0],o,i,r):(g=c.match(qre))&&Kre(g[0],g[1]||"",o,i,r);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=c.slice(m,m+50).match(Vre);y&&Dre(o,y[1])}var w=c.match(Hre);w&&w[1]&&one(w[1],i);var k=[];if(e.cellStyles){var N=c.match(Ure);N&&rne(k,N)}p&&une(p[1],o,e,l,a,s);var L=f.match(zre);L&&(o["!autofilter"]=ine(L[0]));var P=[],V=f.match(Ore);if(V)for(m=0;m!=V.length;++m)P[m]=Sn(V[m].slice(V[m].indexOf('"')+1));var Y=f.match(Bre);Y&&Zre(o,Y,n);var Q=f.match($re);if(Q&&(o["!margins"]=ene(Fr(Q[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Wr(l)),e.sheetRows>0&&o["!ref"]){var R=Sn(o["!ref"]);e.sheetRows<=+R.e.r&&(R.e.r=e.sheetRows-1,R.e.r>l.e.r&&(R.e.r=l.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>l.e.c&&(R.e.c=l.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Wr(R))}return k.length>0&&(o["!cols"]=k),P.length>0&&(o["!merges"]=P),o}function Gre(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Wr(t[r])+'"/>';return e+"</mergeCells>"}function Q6(t,e,r,n){var i=Fr(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=En(ni(i.codeName)))}function Kre(t,e,r,n,i){Q6(t.slice(0,t.indexOf(">")),r,n,i)}function Xre(t,e,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}a=!0,s.codeName=iu(Qn(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+Ut("outlinePr",null,c)}!a&&!o||(i[i.length]=Ut("sheetPr",o,s))}var Yre=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Qre=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Jre(t){var e={sheet:1};return Yre.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),Qre.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=q6(t.password).toString(16).toUpperCase()),Ut("sheetProtection",null,e)}function Zre(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var a=Fr(ni(e[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+En(a.location))):(a.Target="#"+En(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Sn(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var f=Rr({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=a):(t[f]||(t[f]={t:"z",v:void 0}),t[f].l=a)}}}function ene(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function tne(t){return Lh(t),Ut("pageMargins",null,t)}function rne(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=Fr(e[n],!0);i.hidden&&(i.hidden=_i(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,H6(i.width)),Nf(i);a<=s;)t[a++]=Ci(i)}}function nne(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=Ut("col",null,Uy(i,n)));return r[r.length]="</cols>",r.join("")}function ine(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function ane(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Wr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=Go(i);s.s.r==s.e.r&&(s.e.r=Go(e["!ref"]).e.r,i=Wr(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ut("autoFilter",null,{ref:i})}var sne=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function one(t,e){e.Views||(e.Views=[{}]),(t.match(sne)||[]).forEach(function(r,n){var i=Fr(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),_i(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function lne(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ut("sheetViews",Ut("sheetView",null,i),{})}function cne(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",a=t.t,s=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=gd[t.v];break;case"d":n&&n.cellDates?i=Si(t.v,-1).toISOString():(t=Ci(t),t.t="n",i=""+(t.v=ts(Si(t.v)))),typeof t.z>"u"&&(t.z=Tr[14]);break;default:i=t.v;break}var o=Ds("v",Qn(i)),l={r:e},c=$f(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Ds("v",""+Y6(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=a&&(t.t=a,t.v=s),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=Ut("f",Qn(t.f),f)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),Ut("c",o,l)}var une=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=lg("v"),s=lg("f");return function(l,c,f,p,g,m){for(var y=0,w="",k=[],N=[],L=0,P=0,V=0,Y="",Q,R,T=0,S=0,j,A,F=0,M=0,re=Array.isArray(m.CellXf),pe,_e=[],xe=[],oe=Array.isArray(c),G=[],fe={},X=!1,I=!!f.sheetStubs,q=l.split(e),W=0,J=q.length;W!=J;++W){w=q[W].trim();var ce=w.length;if(ce!==0){var ve=0;e:for(y=0;y<ce;++y)switch(w[y]){case">":if(w[y-1]!="/"){++y;break e}if(f&&f.cellStyles){if(R=Fr(w.slice(ve,y),!0),T=R.r!=null?parseInt(R.r,10):T+1,S=-1,f.sheetRows&&f.sheetRows<T)continue;fe={},X=!1,R.ht&&(X=!0,fe.hpt=parseFloat(R.ht),fe.hpx=Q1(fe.hpt)),R.hidden=="1"&&(X=!0,fe.hidden=!0),R.outlineLevel!=null&&(X=!0,fe.level=+R.outlineLevel),X&&(G[T-1]=fe)}break;case"<":ve=y;break}if(ve>=y)break;if(R=Fr(w.slice(ve,y),!0),T=R.r!=null?parseInt(R.r,10):T+1,S=-1,!(f.sheetRows&&f.sheetRows<T)){p.s.r>T-1&&(p.s.r=T-1),p.e.r<T-1&&(p.e.r=T-1),f&&f.cellStyles&&(fe={},X=!1,R.ht&&(X=!0,fe.hpt=parseFloat(R.ht),fe.hpx=Q1(fe.hpt)),R.hidden=="1"&&(X=!0,fe.hidden=!0),R.outlineLevel!=null&&(X=!0,fe.level=+R.outlineLevel),X&&(G[T-1]=fe)),k=w.slice(y).split(t);for(var Ee=0;Ee!=k.length&&k[Ee].trim().charAt(0)=="<";++Ee);for(k=k.slice(Ee),y=0;y!=k.length;++y)if(w=k[y].trim(),w.length!==0){if(N=w.match(r),L=y,P=0,V=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,N!=null&&N.length===2){for(L=0,Y=N[1],P=0;P!=Y.length&&!((V=Y.charCodeAt(P)-64)<1||V>26);++P)L=26*L+V;--L,S=L}else++S;for(P=0;P!=w.length&&w.charCodeAt(P)!==62;++P);if(++P,R=Fr(w.slice(0,P),!0),R.r||(R.r=Rr({r:T-1,c:S})),Y=w.slice(P),Q={t:""},(N=Y.match(a))!=null&&N[1]!==""&&(Q.v=En(N[1])),f.cellFormula){if((N=Y.match(s))!=null&&N[1]!==""){if(Q.f=En(ni(N[1])).replace(/\r\n/g,`
`),f.xlfn||(Q.f=oE(Q.f)),N[0].indexOf('t="array"')>-1)Q.F=(Y.match(i)||[])[1],Q.F.indexOf(":")>-1&&_e.push([Sn(Q.F),Q.F]);else if(N[0].indexOf('t="shared"')>-1){A=Fr(N[0]);var le=En(ni(N[1]));f.xlfn||(le=oE(le)),xe[parseInt(A.si,10)]=[A,le,R.r]}}else(N=Y.match(/<f[^>]*\/>/))&&(A=Fr(N[0]),xe[A.si]&&(Q.f=ste(xe[A.si][1],xe[A.si][2],R.r)));var be=Xi(R.r);for(P=0;P<_e.length;++P)be.r>=_e[P][0].s.r&&be.r<=_e[P][0].e.r&&be.c>=_e[P][0].s.c&&be.c<=_e[P][0].e.c&&(Q.F=_e[P][1])}if(R.t==null&&Q.v===void 0)if(Q.f||Q.F)Q.v=0,Q.t="n";else if(I)Q.t="z";else continue;else Q.t=R.t||"n";switch(p.s.c>S&&(p.s.c=S),p.e.c<S&&(p.e.c=S),Q.t){case"n":if(Q.v==""||Q.v==null){if(!I)continue;Q.t="z"}else Q.v=parseFloat(Q.v);break;case"s":if(typeof Q.v>"u"){if(!I)continue;Q.t="z"}else j=jm[parseInt(Q.v,10)],Q.v=j.t,Q.r=j.r,f.cellHTML&&(Q.h=j.h);break;case"str":Q.t="s",Q.v=Q.v!=null?ni(Q.v):"",f.cellHTML&&(Q.h=T6(Q.v));break;case"inlineStr":N=Y.match(n),Q.t="s",N!=null&&(j=$6(N[1]))?(Q.v=j.t,f.cellHTML&&(Q.h=j.h)):Q.v="";break;case"b":Q.v=_i(Q.v);break;case"d":f.cellDates?Q.v=Si(Q.v,1):(Q.v=ts(Si(Q.v,1)),Q.t="n");break;case"e":(!f||f.cellText!==!1)&&(Q.w=Q.v),Q.v=wR[Q.v];break}if(F=M=0,pe=null,re&&R.s!==void 0&&(pe=m.CellXf[R.s],pe!=null&&(pe.numFmtId!=null&&(F=pe.numFmtId),f.cellStyles&&pe.fillId!=null&&(M=pe.fillId))),xF(Q,F,M,f,g,m),f.cellDates&&re&&Q.t=="n"&&mp(Tr[F])&&(Q.t="d",Q.v=Oy(Q.v)),R.cm&&f.xlmeta){var Le=(f.xlmeta.Cell||[])[+R.cm-1];Le&&Le.type=="XLDAPR"&&(Q.D=!0)}if(oe){var ae=Xi(R.r);c[ae.r]||(c[ae.r]=[]),c[ae.r][ae.c]=Q}else c[R.r]=Q}}}}G.length>0&&(c["!rows"]=G)}})();function dne(t,e,r,n){var i=[],a=[],s=Sn(t["!ref"]),o="",l,c="",f=[],p=0,g=0,m=t["!rows"],y=Array.isArray(t),w={r:c},k,N=-1;for(g=s.s.c;g<=s.e.c;++g)f[g]=Ki(g);for(p=s.s.r;p<=s.e.r;++p){for(a=[],c=Ca(p),g=s.s.c;g<=s.e.c;++g){l=f[g]+c;var L=y?(t[p]||[])[g]:t[l];L!==void 0&&(o=cne(L,l,t,e))!=null&&a.push(o)}(a.length>0||m&&m[p])&&(w={r:c},m&&m[p]&&(k=m[p],k.hidden&&(w.hidden=1),N=-1,k.hpx?N=mg(k.hpx):k.hpt&&(N=k.hpt),N>-1&&(w.ht=N,w.customHeight=1),k.level&&(w.outlineLevel=k.level)),i[i.length]=Ut("row",a.join(""),w))}if(m)for(;p<m.length;++p)m&&m[p]&&(w={r:p+1},k=m[p],k.hidden&&(w.hidden=1),N=-1,k.hpx?N=mg(k.hpx):k.hpt&&(N=k.hpt),N>-1&&(w.ht=N,w.customHeight=1),k.level&&(w.outlineLevel=k.level),i[i.length]=Ut("row","",w));return i.join("")}function yF(t,e,r,n){var i=[Aa,Ut("worksheet",null,{xmlns:p0[0],"xmlns:r":Qa.r})],a=r.SheetNames[t],s=0,o="",l=r.Sheets[a];l==null&&(l={});var c=l["!ref"]||"A1",f=Sn(c);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),c=Wr(f)}n||(n={}),l["!comments"]=[];var p=[];Xre(l,r,t,e,i),i[i.length]=Ut("dimension",null,{ref:c}),i[i.length]=lne(l,e,t,r),e.sheetFormat&&(i[i.length]=Ut("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=nne(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=dne(l,e),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=Jre(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=ane(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=Gre(l["!merges"]));var g=-1,m,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(w){w[1].Target&&(m={ref:w[0]},w[1].Target.charAt(0)!="#"&&(y=Kn(n,-1,Qn(w[1].Target).replace(/#.*$/,""),sn.HLINK),m["r:id"]="rId"+y),(g=w[1].Target.indexOf("#"))>-1&&(m.location=Qn(w[1].Target.slice(g+1))),w[1].Tooltip&&(m.tooltip=Qn(w[1].Tooltip)),i[i.length]=Ut("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=tne(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Ds("ignoredErrors",Ut("ignoredError",null,{numberStoredAsText:1,sqref:c}))),p.length>0&&(y=Kn(n,-1,"../drawings/drawing"+(t+1)+".xml",sn.DRAW),i[i.length]=Ut("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=p),l["!comments"].length>0&&(y=Kn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",sn.VML),i[i.length]=Ut("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function fne(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var a=t.read_shift(1);return t.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function hne(t,e,r){var n=xt(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var a=320;i.hpx?a=mg(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var p=-1,g=-1,m=f<<10;m<f+1<<10;++m){c.c=m;var y=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Rr(c)];y&&(p<0&&(p=m),g=m)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,g))}var w=n.l;return n.l=l,n.write_shift(4,o),n.l=w,n.length>n.l?n.slice(0,n.l):n}function pne(t,e,r,n){var i=hne(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Ct(t,0,i)}var mne=v0,gne=vp;function xne(){}function vne(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=_Y(t),r}function yne(t,e,r){r==null&&(r=xt(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return jv({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),mR(t,r),r.slice(0,r.l)}function wne(t){var e=Ql(t);return[e]}function _ne(t,e,r){return r==null&&(r=xt(8)),m0(e,r)}function bne(t){var e=g0(t);return[e]}function kne(t,e,r){return r==null&&(r=xt(4)),x0(e,r)}function Ene(t){var e=Ql(t),r=t.read_shift(1);return[e,r,"b"]}function Sne(t,e,r){return r==null&&(r=xt(9)),m0(e,r),r.write_shift(1,t.v?1:0),r}function Cne(t){var e=g0(t),r=t.read_shift(1);return[e,r,"b"]}function Nne(t,e,r){return r==null&&(r=xt(5)),x0(e,r),r.write_shift(1,t.v?1:0),r}function Ane(t){var e=Ql(t),r=t.read_shift(1);return[e,r,"e"]}function Tne(t,e,r){return r==null&&(r=xt(9)),m0(e,r),r.write_shift(1,t.v),r}function Ine(t){var e=g0(t),r=t.read_shift(1);return[e,r,"e"]}function Pne(t,e,r){return r==null&&(r=xt(8)),x0(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Rne(t){var e=Ql(t),r=t.read_shift(4);return[e,r,"s"]}function Fne(t,e,r){return r==null&&(r=xt(12)),m0(e,r),r.write_shift(4,e.v),r}function Lne(t){var e=g0(t),r=t.read_shift(4);return[e,r,"s"]}function jne(t,e,r){return r==null&&(r=xt(8)),x0(e,r),r.write_shift(4,e.v),r}function Dne(t){var e=Ql(t),r=ho(t);return[e,r,"n"]}function One(t,e,r){return r==null&&(r=xt(16)),m0(e,r),Jh(t.v,r),r}function wF(t){var e=g0(t),r=ho(t);return[e,r,"n"]}function Mne(t,e,r){return r==null&&(r=xt(12)),x0(e,r),Jh(t.v,r),r}function Bne(t){var e=Ql(t),r=M6(t);return[e,r,"n"]}function Vne(t,e,r){return r==null&&(r=xt(12)),m0(e,r),gR(t.v,r),r}function Une(t){var e=g0(t),r=M6(t);return[e,r,"n"]}function zne(t,e,r){return r==null&&(r=xt(8)),x0(e,r),gR(t.v,r),r}function $ne(t){var e=Ql(t),r=j6(t);return[e,r,"is"]}function qne(t){var e=Ql(t),r=go(t);return[e,r,"str"]}function Hne(t,e,r){return r==null&&(r=xt(12+4*t.v.length)),m0(e,r),xs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Wne(t){var e=g0(t),r=go(t);return[e,r,"str"]}function Gne(t,e,r){return r==null&&(r=xt(8+4*t.v.length)),x0(e,r),xs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Kne(t,e,r){var n=t.l+e,i=Ql(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"b"];if(r.cellFormula){t.l+=2;var o=Vy(t,n-t.l,r);s[3]=co(o,null,i,r.supbooks,r)}else t.l=n;return s}function Xne(t,e,r){var n=t.l+e,i=Ql(t);i.r=r["!row"];var a=t.read_shift(1),s=[i,a,"e"];if(r.cellFormula){t.l+=2;var o=Vy(t,n-t.l,r);s[3]=co(o,null,i,r.supbooks,r)}else t.l=n;return s}function Yne(t,e,r){var n=t.l+e,i=Ql(t);i.r=r["!row"];var a=ho(t),s=[i,a,"n"];if(r.cellFormula){t.l+=2;var o=Vy(t,n-t.l,r);s[3]=co(o,null,i,r.supbooks,r)}else t.l=n;return s}function Qne(t,e,r){var n=t.l+e,i=Ql(t);i.r=r["!row"];var a=go(t),s=[i,a,"str"];if(r.cellFormula){t.l+=2;var o=Vy(t,n-t.l,r);s[3]=co(o,null,i,r.supbooks,r)}else t.l=n;return s}var Jne=v0,Zne=vp;function eie(t,e){return e==null&&(e=xt(4)),e.write_shift(4,t),e}function tie(t,e){var r=t.l+e,n=v0(t),i=D6(t),a=go(t),s=go(t),o=go(t);t.l=r;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function rie(t,e){var r=xt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));vp({s:Xi(t[0]),e:Xi(t[0])},r),O6("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return xs(i||"",r),xs(t[1].Tooltip||"",r),xs("",r),r.slice(0,r.l)}function nie(){}function iie(t,e,r){var n=t.l+e,i=xR(t),a=t.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=Are(t,n-t.l,r);s[1]=o}else t.l=n;return s}function aie(t,e,r){var n=t.l+e,i=v0(t),a=[i];if(r.cellFormula){var s=Ire(t,n-t.l,r);a[1]=s,t.l=n}else t.l=n;return a}function sie(t,e,r){r==null&&(r=xt(18));var n=Uy(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var _F=["left","right","top","bottom","header","footer"];function oie(t){var e={};return _F.forEach(function(r){e[r]=ho(t)}),e}function lie(t,e){return e==null&&(e=xt(48)),Lh(t),_F.forEach(function(r){Jh(t[r],e)}),e}function cie(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function uie(t,e,r){r==null&&(r=xt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function die(t){var e=xt(24);return e.write_shift(4,4),e.write_shift(4,1),vp(t,e),e}function fie(t,e){return e==null&&(e=xt(66)),e.write_shift(2,t.password?q6(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function hie(){}function pie(){}function mie(t,e,r,n,i,a,s){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,m,y,w,k,N,L,P,V,Y,Q=[];o.biff=12,o["!row"]=0;var R=0,T=!1,S=[],j={},A=o.supbooks||i.supbooks||[[]];if(A.sharedf=j,A.arrayf=S,A.SheetNames=i.SheetNames||i.Sheets.map(function(oe){return oe.name}),!o.supbooks&&(o.supbooks=A,i.Names))for(var F=0;F<i.Names.length;++F)A[0][F+1]=i.Names[F];var M=[],re=[],pe=!1;gg[16]={n:"BrtShortReal",f:wF};var _e;if(md(t,function(G,fe,X){if(!g)switch(X){case 148:c=G;break;case 0:m=G,o.sheetRows&&o.sheetRows<=m.r&&(g=!0),V=Ca(k=m.r),o["!row"]=m.r,(G.hidden||G.hpt||G.level!=null)&&(G.hpt&&(G.hpx=Q1(G.hpt)),re[G.r]=G);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:G[2]},G[2]){case"n":y.v=G[1];break;case"s":P=jm[G[1]],y.v=P.t,y.r=P.r;break;case"b":y.v=!!G[1];break;case"e":y.v=G[1],o.cellText!==!1&&(y.w=gd[y.v]);break;case"str":y.t="s",y.v=G[1];break;case"is":y.t="s",y.v=G[1].t;break}if((w=s.CellXf[G[0].iStyleRef])&&xF(y,w.numFmtId,null,o,a,s),N=G[0].c==-1?N+1:G[0].c,o.dense?(l[k]||(l[k]=[]),l[k][N]=y):l[Ki(N)+V]=y,o.cellFormula){for(T=!1,R=0;R<S.length;++R){var I=S[R];m.r>=I[0].s.r&&m.r<=I[0].e.r&&N>=I[0].s.c&&N<=I[0].e.c&&(y.F=Wr(I[0]),T=!0)}!T&&G.length>3&&(y.f=G[3])}if(f.s.r>m.r&&(f.s.r=m.r),f.s.c>N&&(f.s.c=N),f.e.r<m.r&&(f.e.r=m.r),f.e.c<N&&(f.e.c=N),o.cellDates&&w&&y.t=="n"&&mp(Tr[w.numFmtId])){var q=Eh(y.v);q&&(y.t="d",y.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}_e&&(_e.type=="XLDAPR"&&(y.D=!0),_e=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;y={t:"z",v:void 0},N=G[0].c==-1?N+1:G[0].c,o.dense?(l[k]||(l[k]=[]),l[k][N]=y):l[Ki(N)+V]=y,f.s.r>m.r&&(f.s.r=m.r),f.s.c>N&&(f.s.c=N),f.e.r<m.r&&(f.e.r=m.r),f.e.c<N&&(f.e.c=N),_e&&(_e.type=="XLDAPR"&&(y.D=!0),_e=void 0);break;case 176:Q.push(G);break;case 49:_e=((o.xlmeta||{}).Cell||[])[G-1];break;case 494:var W=n["!id"][G.relId];for(W?(G.Target=W.Target,G.loc&&(G.Target+="#"+G.loc),G.Rel=W):G.relId==""&&(G.Target="#"+G.loc),k=G.rfx.s.r;k<=G.rfx.e.r;++k)for(N=G.rfx.s.c;N<=G.rfx.e.c;++N)o.dense?(l[k]||(l[k]=[]),l[k][N]||(l[k][N]={t:"z",v:void 0}),l[k][N].l=G):(L=Rr({c:N,r:k}),l[L]||(l[L]={t:"z",v:void 0}),l[L].l=G);break;case 426:if(!o.cellFormula)break;S.push(G),Y=o.dense?l[k][N]:l[Ki(N)+V],Y.f=co(G[1],f,{r:m.r,c:N},A,o),Y.F=Wr(G[0]);break;case 427:if(!o.cellFormula)break;j[Rr(G[0].s)]=G[1],Y=o.dense?l[k][N]:l[Ki(N)+V],Y.f=co(G[1],f,{r:m.r,c:N},A,o);break;case 60:if(!o.cellStyles)break;for(;G.e>=G.s;)M[G.e--]={width:G.w/256,hidden:!!(G.flags&1),level:G.level},pe||(pe=!0,H6(G.w/256)),Nf(M[G.e+1]);break;case 161:l["!autofilter"]={ref:Wr(G)};break;case 476:l["!margins"]=G;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),G.name&&(i.Sheets[r].CodeName=G.name),(G.above||G.left)&&(l["!outline"]={above:G.above,left:G.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),G.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!fe.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+X.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(f.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Wr(c||f)),o.sheetRows&&l["!ref"]){var xe=Sn(l["!ref"]);o.sheetRows<=+xe.e.r&&(xe.e.r=o.sheetRows-1,xe.e.r>f.e.r&&(xe.e.r=f.e.r),xe.e.r<xe.s.r&&(xe.s.r=xe.e.r),xe.e.c>f.e.c&&(xe.e.c=f.e.c),xe.e.c<xe.s.c&&(xe.s.c=xe.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Wr(xe))}return Q.length>0&&(l["!merges"]=Q),M.length>0&&(l["!cols"]=M),re.length>0&&(l["!rows"]=re),l}function gie(t,e,r,n,i,a,s){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Ci(e),e.z=e.z||Tr[14],e.v=ts(Si(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=$f(i.cellXfs,e,i),e.l&&a["!links"].push([Rr(l),e.l]),e.c&&a["!comments"].push([Rr(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=Y6(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,s?Ct(t,18,jne(e,l)):Ct(t,7,Fne(e,l))):(l.t="str",s?Ct(t,17,Gne(e,l)):Ct(t,6,Hne(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?s?Ct(t,13,zne(e,l)):Ct(t,2,Vne(e,l)):s?Ct(t,16,Mne(e,l)):Ct(t,5,One(e,l)),!0;case"b":return l.t="b",s?Ct(t,15,Nne(e,l)):Ct(t,4,Sne(e,l)),!0;case"e":return l.t="e",s?Ct(t,14,Pne(e,l)):Ct(t,3,Tne(e,l)),!0}return s?Ct(t,12,kne(e,l)):Ct(t,1,_ne(e,l)),!0}function xie(t,e,r,n){var i=Sn(e["!ref"]||"A1"),a,s="",o=[];Ct(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=c;++f){s=Ca(f),pne(t,e,i,f);var p=!1;if(f<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){f===i.s.r&&(o[g]=Ki(g)),a=o[g]+s;var m=l?(e[f]||[])[g]:e[a];if(!m){p=!1;continue}p=gie(t,m,f,g,n,e,p)}}Ct(t,146)}function vie(t,e){!e||!e["!merges"]||(Ct(t,177,eie(e["!merges"].length)),e["!merges"].forEach(function(r){Ct(t,176,Zne(r))}),Ct(t,178))}function yie(t,e){!e||!e["!cols"]||(Ct(t,390),e["!cols"].forEach(function(r,n){r&&Ct(t,60,sie(n,r))}),Ct(t,391))}function wie(t,e){!e||!e["!ref"]||(Ct(t,648),Ct(t,649,die(Sn(e["!ref"]))),Ct(t,650))}function _ie(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Kn(r,-1,n[1].Target.replace(/#.*$/,""),sn.HLINK);Ct(t,494,rie(n,i))}}),delete e["!links"]}function bie(t,e,r,n){if(e["!comments"].length>0){var i=Kn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",sn.VML);Ct(t,551,O6("rId"+i)),e["!legacy"]=i}}function kie(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],a=typeof i.ref=="string"?i.ref:Wr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Go(a);o.s.r==o.e.r&&(o.e.r=Go(e["!ref"]).e.r,a=Wr(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Ct(t,161,vp(Sn(a))),Ct(t,162)}}function Eie(t,e,r){Ct(t,133),Ct(t,137,uie(e,r)),Ct(t,138),Ct(t,134)}function Sie(t,e){e["!protect"]&&Ct(t,535,fie(e["!protect"]))}function Cie(t,e,r,n){var i=Wo(),a=r.SheetNames[t],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Sn(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Ct(i,129),(r.vbaraw||s["!outline"])&&Ct(i,147,yne(o,s["!outline"])),Ct(i,148,gne(l)),Eie(i,s,r.Workbook),yie(i,s),xie(i,s,t,e),Sie(i,s),kie(i,s,r,t),vie(i,s),_ie(i,s,n),s["!margins"]&&Ct(i,476,lie(s["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&wie(i,s),bie(i,s,t,n),Ct(i,130),i.end()}function Nie(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(e[+s[1]]=r?+s[2]:s[2])});var i=En((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[e,i,n]}function Aie(t,e,r,n,i,a){var s=a||{"!type":"chart"};if(!t)return a;var o=0,l=0,c="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=Nie(p);f.s.r=f.s.c=0,f.e.c=o,c=Ki(o),g[0].forEach(function(m,y){s[c+Ca(y)]={t:"n",v:m,z:g[1]},l=y}),f.e.r<l&&(f.e.r=l),++o}),o>0&&(s["!ref"]=Wr(f)),s}function Tie(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=t.match(vF);return o&&Q6(o[0],a,i,r),(s=t.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function Iie(t,e){t.l+=10;var r=go(t);return{name:r}}function Pie(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return md(t,function(l,c,f){switch(f){case 550:a["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},e),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var J6=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Rie=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Fie=[],Lie=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function fE(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var a=e[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=_i(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function hE(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=_i(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function bF(t){hE(t.WBProps,J6),hE(t.CalcPr,Lie),fE(t.WBView,Rie),fE(t.Sheets,Fie),E1.date1904=_i(t.WBProps.date1904)}function jie(t){return!t.Workbook||!t.Workbook.WBProps?"false":_i(t.Workbook.WBProps.date1904)?"true":"false"}var Die="][*?/\\".split("");function kF(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Die.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Oie(t,e,r){t.forEach(function(n,i){kF(n);for(var a=0;a<i;++a)if(n==t[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=e&&e[i]&&e[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Mie(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Oie(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)jre(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var Bie=/<\w+:workbook/;function Vie(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(t.replace(vo,function(l,c){var f=Fr(l);switch(xu(f[0])){case"<?xml":break;case"<workbook":l.match(Bie)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=f[i];break;case"</workbook>":break;case"<fileVersion":delete f[0],r.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":J6.forEach(function(p){if(f[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=_i(f[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(f[p[0]],10);break;default:r.WBProps[p[0]]=f[p[0]]}}),f.codeName&&(r.WBProps.CodeName=ni(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],r.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=En(ni(f.name)),delete f[0],r.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=ni(f.name),f.comment&&(a.Comment=f.comment),f.localSheetId&&(a.Sheet=+f.localSheetId),_i(f.hidden||"0")&&(a.Hidden=!0),s=c+l.length;break;case"</definedName>":a.Ref=En(ni(t.slice(s,c))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete f[0],r.CalcPr=f;break;case"<calcPr/>":delete f[0],r.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return l}),p0.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return bF(r),r}function EF(t){var e=[Aa];e[e.length]=Ut("workbook",null,{xmlns:p0[0],"xmlns:r":Qa.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(J6.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=Ut("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",a=0;a!=t.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==t.SheetNames.length&&(a=0),e[e.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",a=0;a!=t.SheetNames.length;++a){var s={name:Qn(t.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}e[e.length]=Ut("sheet",null,s)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=Ut("definedName",Qn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Uie(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=nw(t),r.name=go(t),r}function zie(t,e){return e||(e=xt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),O6(t.strRelID,e),xs(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function $ie(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?go(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function qie(t,e){e||(e=xt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),mR(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Hie(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function Wie(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),a=bY(t),s=Tre(t,0,r),o=D6(t);t.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Gie(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],gg[16]={n:"BrtFRTArchID$",f:Hie},md(t,function(l,c,f){switch(f){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=co(l.Ptg,null,null,s,e),delete e.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([f,l]):s[0]=[f,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(f),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(f),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},e),bF(r),r.Names=a,r.supbooks=s,r}function Kie(t,e){Ct(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Ct(t,156,zie(i))}Ct(t,144)}function Xie(t,e){e||(e=xt(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return xs("SheetJS",e),xs(Av.version,e),xs(Av.version,e),xs("7262",e),e.length>e.l?e.slice(0,e.l):e}function Yie(t,e){e||(e=xt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function Qie(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Ct(t,135),Ct(t,158,Yie(i)),Ct(t,136))}}function Jie(t,e){var r=Wo();return Ct(r,131),Ct(r,128,Xie()),Ct(r,153,qie(t.Workbook&&t.Workbook.WBProps||null)),Qie(r,t),Kie(r,t),Ct(r,132),r.end()}function Zie(t,e,r){return e.slice(-4)===".bin"?Gie(t,r):Vie(t,r)}function eae(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?mie(t,n,r,i,a,s,o):Wre(t,n,r,i,a,s,o)}function tae(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?Pie(t,n,r,i,a):Tie(t,n,r,i,a)}function rae(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?ite():ate()}function nae(t,e,r,n,i,a,s,o){return e.slice(-4)===".bin"?rte():nte()}function iae(t,e,r,n){return e.slice(-4)===".bin"?ZZ(t,r,n):UZ(t,r,n)}function aae(t,e,r){return iF(t,r)}function sae(t,e,r){return e.slice(-4)===".bin"?sZ(t,r):nZ(t,r)}function oae(t,e,r){return e.slice(-4)===".bin"?Qee(t,r):zee(t,r)}function lae(t,e,r){return e.slice(-4)===".bin"?Bee(t):Oee(t)}function cae(t,e,r,n){return r.slice(-4)===".bin"?Vee(t,e,r,n):void 0}function uae(t,e,r){return e.slice(-4)===".bin"?Lee(t,e,r):Dee(t,e,r)}function dae(t,e,r){return(e.slice(-4)===".bin"?Jie:EF)(t)}function fae(t,e,r,n,i){return(e.slice(-4)===".bin"?Cie:yF)(t,r,n,i)}function hae(t,e,r){return(e.slice(-4)===".bin"?cee:rF)(t,r)}function pae(t,e,r){return(e.slice(-4)===".bin"?cZ:KR)(t,r)}function mae(t,e,r){return(e.slice(-4)===".bin"?Jee:oF)(t)}function gae(t){return(t.slice(-4)===".bin"?jee:aF)()}var SF=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,CF=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function xc(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(SF),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(CF),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function xae(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(SF),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(CF),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var Om;function vae(t,e){var r=Om[t]||En(t);return r==="General"?Yh(e):Kl(r,e)}function yae(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=_i(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Si(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[En(e)]=i}function wae(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||gd[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=og(t.v):t.w=Yh(t.v):t.w=vae(e||"General",t.v)}catch(a){if(r.WTF)throw a}try{var n=Om[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&mp(n)){var i=Eh(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function _ae(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=FZ[n.Pattern]||n.Pattern)}t[e.ID]=e}function bae(t,e,r,n,i,a,s,o,l,c){var f="General",p=n.StyleID,g={};c=c||{};var m=[],y=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&s&&(p=s.StyleID);a[p]!==void 0&&(a[p].nf&&(f=a[p].nf),a[p].Interior&&m.push(a[p].Interior),!!a[p].Parent);)p=a[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=_i(t);break;case"String":n.t="s",n.r=I9(En(t)),n.v=t.indexOf("<")>-1?En(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Si(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=En(t):n.v<60&&(n.v=n.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=wR[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=I9(e||t));break}if(wae(n,f,c),c.cellFormula!==!1)if(n.Formula){var w=En(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=k1(w,i),delete n.Formula,n.ArrayRange=="RC"?n.F=k1("RC:RC",i):n.ArrayRange&&(n.F=k1(n.ArrayRange,i),l.push([Sn(n.F),n.F]))}else for(y=0;y<l.length;++y)i.r>=l[y][0].s.r&&i.r<=l[y][0].e.r&&i.c>=l[y][0].s.c&&i.c<=l[y][0].e.c&&(n.F=l[y][1]);c.cellStyles&&(m.forEach(function(k){!g.patternType&&k.patternType&&(g.patternType=k.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function kae(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function S4(t,e){var r=e||{};gp();var n=vm(I6(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ni(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Ci(r);return s.type="string",Y1.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(et){i.indexOf("<"+et)>=0&&(a=!0)}),a)return lse(n,r);Om={"General Number":"General","General Date":Tr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Tr[15],"Short Date":Tr[14],"Long Time":Tr[19],"Medium Time":Tr[18],"Short Time":Tr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Tr[2],Standard:Tr[4],Percent:Tr[10],Scientific:Tr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,f={},p=[],g=r.dense?[]:{},m="",y={},w={},k=xc('<Data ss:Type="String">'),N=0,L=0,P=0,V={s:{r:2e6,c:2e6},e:{r:0,c:0}},Y={},Q={},R="",T=0,S=[],j={},A={},F=0,M=[],re=[],pe={},_e=[],xe,oe=!1,G=[],fe=[],X={},I=0,q=0,W={Sheets:[],WBProps:{date1904:!1}},J={};ug.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";o=ug.exec(n);)switch(o[3]=(ce=o[3]).toLowerCase()){case"data":if(ce=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?bae(n.slice(N,o.index),R,k,l[l.length-1][0]=="comment"?pe:y,{c:L,r:P},Y,_e[L],w,G,r):(R="",k=xc(o[0]),N=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(re.length>0&&(y.c=re),(!r.sheetRows||r.sheetRows>P)&&y.v!==void 0&&(r.dense?(g[P]||(g[P]=[]),g[P][L]=y):g[Ki(L)+Ca(P)]=y),y.HRef&&(y.l={Target:En(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(I=L+(parseInt(y.MergeAcross,10)|0),q=P+(parseInt(y.MergeDown,10)|0),S.push({s:{c:L,r:P},e:{c:I,r:q}})),!r.sheetStubs)y.MergeAcross?L=I+1:++L;else if(y.MergeAcross||y.MergeDown){for(var ve=L;ve<=I;++ve)for(var Ee=P;Ee<=q;++Ee)(ve>L||Ee>P)&&(r.dense?(g[Ee]||(g[Ee]=[]),g[Ee][ve]={t:"z"}):g[Ki(ve)+Ca(Ee)]={t:"z"});L=I+1}else++L;else y=xae(o[0]),y.Index&&(L=+y.Index-1),L<V.s.c&&(V.s.c=L),L>V.e.c&&(V.e.c=L),o[0].slice(-2)==="/>"&&++L,re=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(P<V.s.r&&(V.s.r=P),P>V.e.r&&(V.e.r=P),o[0].slice(-2)==="/>"&&(w=xc(o[0]),w.Index&&(P=+w.Index-1)),L=0,++P):(w=xc(o[0]),w.Index&&(P=+w.Index-1),X={},(w.AutoFitHeight=="0"||w.Height)&&(X.hpx=parseInt(w.Height,10),X.hpt=mg(X.hpx),fe[P]=X),w.Hidden=="1"&&(X.hidden=!0,fe[P]=X));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));p.push(m),V.s.r<=V.e.r&&V.s.c<=V.e.c&&(g["!ref"]=Wr(V),r.sheetRows&&r.sheetRows<=V.e.r&&(g["!fullref"]=g["!ref"],V.e.r=r.sheetRows-1,g["!ref"]=Wr(V))),S.length&&(g["!merges"]=S),_e.length>0&&(g["!cols"]=_e),fe.length>0&&(g["!rows"]=fe),f[m]=g}else V={s:{r:2e6,c:2e6},e:{r:0,c:0}},P=L=0,l.push([o[3],!1]),c=xc(o[0]),m=En(c.Name),g=r.dense?[]:{},S=[],G=[],fe=[],J={name:m,Hidden:0},W.Sheets.push(J);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),_e=[],oe=!1}break;case"style":o[1]==="/"?_ae(Y,Q,r):Q=xc(o[0]);break;case"numberformat":Q.nf=En(xc(o[0]).Format||"General"),Om[Q.nf]&&(Q.nf=Om[Q.nf]);for(var le=0;le!=392&&Tr[le]!=Q.nf;++le);if(le==392){for(le=57;le!=392;++le)if(Tr[le]==null){Ju(Q.nf,le);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(xe=xc(o[0]),xe.Hidden&&(xe.hidden=!0,delete xe.Hidden),xe.Width&&(xe.wpx=parseInt(xe.Width,10)),!oe&&xe.wpx>10){oe=!0,uo=eF;for(var be=0;be<_e.length;++be)_e[be]&&Nf(_e[be])}oe&&Nf(xe),_e[xe.Index-1||_e.length]=xe;for(var Le=0;Le<+xe.Span;++Le)_e[_e.length]=Ci(xe);break;case"namedrange":if(o[1]==="/")break;W.Names||(W.Names=[]);var ae=Fr(o[0]),je={Name:ae.Name,Ref:k1(ae.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(je.Sheet=W.Sheets.length-1),W.Names.push(je);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?R+=n.slice(T,o.index):T=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;Q.Interior=xc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?GY(j,ce,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));kae(pe),re.push(pe)}else l.push([o[3],!1]),c=xc(o[0]),pe={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Pe=xc(o[0]);g["!autofilter"]={ref:k1(Pe.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return vE(n,r);var de=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:de=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:de=!1}break;case"excelworkbook":switch(o[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:de=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:de=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else F=o.index+o[0].length;break;case"header":g["!margins"]||Lh(g["!margins"]={},"xlml"),isNaN(+Fr(o[0]).Margin)||(g["!margins"].header=+Fr(o[0]).Margin);break;case"footer":g["!margins"]||Lh(g["!margins"]={},"xlml"),isNaN(+Fr(o[0]).Margin)||(g["!margins"].footer=+Fr(o[0]).Margin);break;case"pagemargins":var Me=Fr(o[0]);g["!margins"]||Lh(g["!margins"]={},"xlml"),isNaN(+Me.Top)||(g["!margins"].top=+Me.Top),isNaN(+Me.Left)||(g["!margins"].left=+Me.Left),isNaN(+Me.Right)||(g["!margins"].right=+Me.Right),isNaN(+Me.Bottom)||(g["!margins"].bottom=+Me.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:de=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:de=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:de=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:de=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:de=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:de=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:de=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:de=!1}break;case"smarttags":break;default:de=!1;break}if(de||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?yae(A,ce,M,n.slice(F,o.index)):(M=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Be={};return!r.bookSheets&&!r.bookProps&&(Be.Sheets=f),Be.SheetNames=p,Be.Workbook=W,Be.SSF=Ci(Tr),Be.Props=j,Be.Custprops=A,Be}function uw(t,e){switch(eb(e=e||{}),e.type||"base64"){case"base64":return S4(wl(t),e);case"binary":case"buffer":case"file":return S4(t,e);case"array":return S4(Uf(t),e)}}function Eae(t,e){var r=[];return t.Props&&r.push(KY(t.Props,e)),t.Custprops&&r.push(XY(t.Props,t.Custprops)),r.join("")}function Sae(){return""}function Cae(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var a=[];a.push(Ut("NumberFormat",null,{"ss:Format":Qn(Tr[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(Ut("Style",a.join(""),s))}),Ut("Styles",r.join(""))}function NF(t){return Ut("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+K6(t.Ref,{r:0,c:0})})}function Nae(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(NF(i)))}return Ut("Names",r.join(""))}function Aae(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(NF(o)))}return a.join("")}function Tae(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Ut("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Ut("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Ut("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(Ut("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Ds("ProtectContents","True")),t["!protect"].objects&&i.push(Ds("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Ds("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Ds("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Ds("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){t["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":Ut("WorksheetOptions",i.join(""),{xmlns:dl.x})}function Iae(t){return t.map(function(e){var r=QX(e.t||""),n=Ut("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ut("Comment",n,{"ss:Author":e.a})}).join("")}function Pae(t,e,r,n,i,a,s){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Qn(K6(t.f,s))),t.F&&t.F.slice(0,e.length)==e){var l=Xi(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Qn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Qn(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],f=0;f!=c.length;++f)c[f].s.c!=s.c||c[f].s.r!=s.r||(c[f].e.c>c[f].s.c&&(o["ss:MergeAcross"]=c[f].e.c-c[f].s.c),c[f].e.r>c[f].s.r&&(o["ss:MergeDown"]=c[f].e.r-c[f].s.r));var p="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(t.v);break;case"b":p="Boolean",g=t.v?"1":"0";break;case"e":p="Error",g=gd[t.v];break;case"d":p="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Tr[14]);break;case"s":p="String",g=YX(t.v||"");break}var m=$f(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var y=t.v!=null?g:"",w=t.t=="z"?"":'<Data ss:Type="'+p+'">'+y+"</Data>";return(t.c||[]).length>0&&(w+=Iae(t.c)),Ut("Cell",w,o)}function Rae(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Q1(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Fae(t,e,r,n){if(!t["!ref"])return"";var i=Sn(t["!ref"]),a=t["!merges"]||[],s=0,o=[];t["!cols"]&&t["!cols"].forEach(function(k,N){Nf(k);var L=!!k.width,P=Uy(N,k),V={"ss:Index":N+1};L&&(V["ss:Width"]=hg(P.width)),k.hidden&&(V["ss:Hidden"]="1"),o.push(Ut("Column",null,V))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var f=[Rae(c,(t["!rows"]||[])[c])],p=i.s.c;p<=i.e.c;++p){var g=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>p)&&!(a[s].s.r>c)&&!(a[s].e.c<p)&&!(a[s].e.r<c)){(a[s].s.c!=p||a[s].s.r!=c)&&(g=!0);break}if(!g){var m={r:c,c:p},y=Rr(m),w=l?(t[c]||[])[p]:t[y];f.push(Pae(w,y,t,e,r,n,m))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function Lae(t,e,r){var n=[],i=r.SheetNames[t],a=r.Sheets[i],s=a?Aae(a,e,t,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?Fae(a,e,t,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Tae(a,e,t,r)),n.join("")}function jae(t,e){e||(e={}),t.SSF||(t.SSF=Ci(Tr)),t.SSF&&(gp(),Ly(t.SSF),e.revssf=Dy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],$f(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Eae(t,e)),r.push(Sae()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(Ut("Worksheet",Lae(n,e,t),{"ss:Name":Qn(t.SheetNames[n])}));return r[2]=Cae(t,e),r[3]=Nae(t),Aa+Ut("Workbook",r.join(""),{xmlns:dl.ss,"xmlns:o":dl.o,"xmlns:x":dl.x,"xmlns:ss":dl.ss,"xmlns:dt":dl.dt,"xmlns:html":dl.html})}function Dae(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=NY(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=AY(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var Oae=[60,1084,2066,2165,2175];function Mae(t,e,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var l=Wu(r,r.l),c=dw[l],f=0;c!=null&&Oae.indexOf(l)>-1;)a=Wu(r,r.l+2),f=r.l+4,l==2066?f+=4:(l==2165||l==2175)&&(f+=12),o=r.slice(f,r.l+4+a),s.push(o),r.l+=4+a,c=dw[l=Wu(r,r.l)];var p=gs(s);Ls(p,0);var g=0;p.lens=[];for(var m=0;m<s.length;++m)p.lens.push(g),g+=s[m].length;if(p.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+p.length+" < "+n;return e.f(p,p.length,i)}function Gc(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Tr[n])}catch(a){if(e.WTF)throw a}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||gd[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=og(t.v):t.w=Yh(t.v):t.w=Kl(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(a){if(e.WTF)throw a}if(e.cellDates&&n&&t.t=="n"&&mp(Tr[n]||String(n))){var i=Eh(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function dx(t,e,r){return{v:t,ixfe:e,t:r}}function Bae(t,e){var r={opts:{}},n={},i=e.dense?[]:{},a={},s={},o=null,l=[],c="",f={},p,g="",m,y,w,k,N={},L=[],P,V,Y=[],Q=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},T={},S=function(yt){return yt<8?Ph[yt]:yt<64&&Q[yt-8]||Ph[yt]},j=function(yt,wt,Xt){var qt=wt.XF.data;if(!(!qt||!qt.patternType||!Xt||!Xt.cellStyles)){wt.s={},wt.s.patternType=qt.patternType;var Bt;(Bt=fg(S(qt.icvFore)))&&(wt.s.fgColor={rgb:Bt}),(Bt=fg(S(qt.icvBack)))&&(wt.s.bgColor={rgb:Bt})}},A=function(yt,wt,Xt){if(!(X>1)&&!(Xt.sheetRows&&yt.r>=Xt.sheetRows)){if(Xt.cellStyles&&wt.XF&&wt.XF.data&&j(yt,wt,Xt),delete wt.ixfe,delete wt.XF,p=yt,g=Rr(yt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),yt.r<s.s.r&&(s.s.r=yt.r),yt.c<s.s.c&&(s.s.c=yt.c),yt.r+1>s.e.r&&(s.e.r=yt.r+1),yt.c+1>s.e.c&&(s.e.c=yt.c+1),Xt.cellFormula&&wt.f){for(var qt=0;qt<L.length;++qt)if(!(L[qt][0].s.c>yt.c||L[qt][0].s.r>yt.r)&&!(L[qt][0].e.c<yt.c||L[qt][0].e.r<yt.r)){wt.F=Wr(L[qt][0]),(L[qt][0].s.c!=yt.c||L[qt][0].s.r!=yt.r)&&delete wt.f,wt.f&&(wt.f=""+co(L[qt][1],s,yt,G,F));break}}Xt.dense?(i[yt.r]||(i[yt.r]=[]),i[yt.r][yt.c]=wt):i[g]=wt}},F={enc:!1,sbcch:0,snames:[],sharedf:N,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var M,re=[],pe=[],_e=[],xe=[],oe=!1,G=[];G.SheetNames=F.snames,G.sharedf=F.sharedf,G.arrayf=F.arrayf,G.names=[],G.XTI=[];var fe=0,X=0,I=0,q=[],W=[],J;F.codepage=1200,wc(1200);for(var ce=!1;t.l<t.length-1;){var ve=t.l,Ee=t.read_shift(2);if(Ee===0&&fe===10)break;var le=t.l===t.length?0:t.read_shift(2),be=dw[Ee];if(be&&be.f){if(e.bookSheets&&fe===133&&Ee!==133)break;if(fe=Ee,be.r===2||be.r==12){var Le=t.read_shift(2);if(le-=2,!F.enc&&Le!==Ee&&((Le&255)<<8|Le>>8)!==Ee)throw new Error("rt mismatch: "+Le+"!="+Ee);be.r==12&&(t.l+=10,le-=10)}var ae={};if(Ee===10?ae=be.f(t,le,F):ae=Mae(Ee,be,t,le,F),X==0&&[9,521,1033,2057].indexOf(fe)===-1)continue;switch(Ee){case 34:r.opts.Date1904=R.WBProps.date1904=ae;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(t.l=0),F.enc=ae,!e.password)throw new Error("File is password-protected");if(ae.valid==null)throw new Error("Encryption scheme unsupported");if(!ae.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=ae;break;case 66:var je=Number(ae);switch(je){case 21010:je=1200;break;case 32768:je=1e4;break;case 32769:je=1252;break}wc(F.codepage=je),ce=!0;break;case 317:F.rrtabid=ae;break;case 25:F.winlocked=ae;break;case 439:r.opts.RefreshAll=ae;break;case 12:r.opts.CalcCount=ae;break;case 16:r.opts.CalcDelta=ae;break;case 17:r.opts.CalcIter=ae;break;case 13:r.opts.CalcMode=ae;break;case 14:r.opts.CalcPrecision=ae;break;case 95:r.opts.CalcSaveRecalc=ae;break;case 15:F.CalcRefMode=ae;break;case 2211:r.opts.FullCalc=ae;break;case 129:ae.fDialog&&(i["!type"]="dialog"),ae.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),ae.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:Y.push(ae);break;case 430:G.push([ae]),G[G.length-1].XTI=[];break;case 35:case 547:G[G.length-1].push(ae);break;case 24:case 536:J={Name:ae.Name,Ref:co(ae.rgce,s,null,G,F)},ae.itab>0&&(J.Sheet=ae.itab-1),G.names.push(J),G[0]||(G[0]=[],G[0].XTI=[]),G[G.length-1].push(ae),ae.Name=="_xlnm._FilterDatabase"&&ae.itab>0&&ae.rgce&&ae.rgce[0]&&ae.rgce[0][0]&&ae.rgce[0][0][0]=="PtgArea3d"&&(W[ae.itab-1]={ref:Wr(ae.rgce[0][0][1][2])});break;case 22:F.ExternCount=ae;break;case 23:G.length==0&&(G[0]=[],G[0].XTI=[]),G[G.length-1].XTI=G[G.length-1].XTI.concat(ae),G.XTI=G.XTI.concat(ae);break;case 2196:if(F.biff<8)break;J!=null&&(J.Comment=ae[1]);break;case 18:i["!protect"]=ae;break;case 19:ae!==0&&F.WTF&&console.error("Password verifier: "+ae);break;case 133:a[ae.pos]=ae,F.snames.push(ae.name);break;case 10:{if(--X)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=Wr(s),e.sheetRows&&e.sheetRows<=s.e.r){var Pe=s.e.r;s.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Wr(s),s.e.r=Pe}s.e.r++,s.e.c++}re.length>0&&(i["!merges"]=re),pe.length>0&&(i["!objects"]=pe),_e.length>0&&(i["!cols"]=_e),xe.length>0&&(i["!rows"]=xe),R.Sheets.push(T)}c===""?f=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[Ee]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[ae.BIFFVer]||8),F.biffguess=ae.BIFFVer==0,ae.BIFFVer==0&&ae.dt==4096&&(F.biff=5,ce=!0,wc(F.codepage=28591)),F.biff==8&&ae.BIFFVer==0&&ae.dt==16&&(F.biff=2),X++)break;if(i=e.dense?[]:{},F.biff<8&&!ce&&(ce=!0,wc(F.codepage=e.codepage||1252)),F.biff<5||ae.BIFFVer==0&&ae.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var de={pos:t.l-le,name:c};a[de.pos]=de,F.snames.push(c)}else c=(a[ve]||{name:""}).name;ae.dt==32&&(i["!type"]="chart"),ae.dt==64&&(i["!type"]="macro"),re=[],pe=[],F.arrayf=L=[],_e=[],xe=[],oe=!1,T={Hidden:(a[ve]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[ae.r]||[])[ae.c]:i[Rr({c:ae.c,r:ae.r})])&&++ae.c,P={ixfe:ae.ixfe,XF:Y[ae.ixfe]||{},v:ae.val,t:"n"},I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A({c:ae.c,r:ae.r},P,e);break;case 5:case 517:P={ixfe:ae.ixfe,XF:Y[ae.ixfe],v:ae.val,t:ae.t},I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A({c:ae.c,r:ae.r},P,e);break;case 638:P={ixfe:ae.ixfe,XF:Y[ae.ixfe],v:ae.rknum,t:"n"},I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A({c:ae.c,r:ae.r},P,e);break;case 189:for(var Me=ae.c;Me<=ae.C;++Me){var Be=ae.rkrec[Me-ae.c][0];P={ixfe:Be,XF:Y[Be],v:ae.rkrec[Me-ae.c][1],t:"n"},I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A({c:Me,r:ae.r},P,e)}break;case 6:case 518:case 1030:{if(ae.val=="String"){o=ae;break}if(P=dx(ae.val,ae.cell.ixfe,ae.tt),P.XF=Y[P.ixfe],e.cellFormula){var et=ae.formula;if(et&&et[0]&&et[0][0]&&et[0][0][0]=="PtgExp"){var ne=et[0][0][1][0],De=et[0][0][1][1],Ke=Rr({r:ne,c:De});N[Ke]?P.f=""+co(ae.formula,s,ae.cell,G,F):P.F=((e.dense?(i[ne]||[])[De]:i[Ke])||{}).F}else P.f=""+co(ae.formula,s,ae.cell,G,F)}I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A(ae.cell,P,e),o=ae}break;case 7:case 519:if(o)o.val=ae,P=dx(ae,o.cell.ixfe,"s"),P.XF=Y[P.ixfe],e.cellFormula&&(P.f=""+co(o.formula,s,o.cell,G,F)),I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A(o.cell,P,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(ae);var mt=Rr(ae[0].s);if(m=e.dense?(i[ae[0].s.r]||[])[ae[0].s.c]:i[mt],e.cellFormula&&m){if(!o||!mt||!m)break;m.f=""+co(ae[1],s,ae[0],G,F),m.F=Wr(ae[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;N[Rr(o.cell)]=ae[0],m=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Rr(o.cell)],(m||{}).f=""+co(ae[0],s,p,G,F)}}break;case 253:P=dx(l[ae.isst].t,ae.ixfe,"s"),l[ae.isst].h&&(P.h=l[ae.isst].h),P.XF=Y[P.ixfe],I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A({c:ae.c,r:ae.r},P,e);break;case 513:e.sheetStubs&&(P={ixfe:ae.ixfe,XF:Y[ae.ixfe],t:"z"},I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A({c:ae.c,r:ae.r},P,e));break;case 190:if(e.sheetStubs)for(var Et=ae.c;Et<=ae.C;++Et){var Re=ae.ixfe[Et-ae.c];P={ixfe:Re,XF:Y[Re],t:"z"},I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A({c:Et,r:ae.r},P,e)}break;case 214:case 516:case 4:P=dx(ae.val,ae.ixfe,"s"),P.XF=Y[P.ixfe],I>0&&(P.z=q[P.ixfe>>8&63]),Gc(P,e,r.opts.Date1904),A({c:ae.c,r:ae.r},P,e);break;case 0:case 512:X===1&&(s=ae);break;case 252:l=ae;break;case 1054:if(F.biff==4){q[I++]=ae[1];for(var qe=0;qe<I+163&&Tr[qe]!=ae[1];++qe);qe>=163&&Ju(ae[1],I+163)}else Ju(ae[1],ae[0]);break;case 30:{q[I++]=ae;for(var Ge=0;Ge<I+163&&Tr[Ge]!=ae;++Ge);Ge>=163&&Ju(ae,I+163)}break;case 229:re=re.concat(ae);break;case 93:pe[ae.cmo[0]]=F.lastobj=ae;break;case 438:F.lastobj.TxO=ae;break;case 127:F.lastobj.ImData=ae;break;case 440:for(k=ae[0].s.r;k<=ae[0].e.r;++k)for(w=ae[0].s.c;w<=ae[0].e.c;++w)m=e.dense?(i[k]||[])[w]:i[Rr({c:w,r:k})],m&&(m.l=ae[1]);break;case 2048:for(k=ae[0].s.r;k<=ae[0].e.r;++k)for(w=ae[0].s.c;w<=ae[0].e.c;++w)m=e.dense?(i[k]||[])[w]:i[Rr({c:w,r:k})],m&&m.l&&(m.l.Tooltip=ae[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;m=e.dense?(i[ae[0].r]||[])[ae[0].c]:i[Rr(ae[0])];var dt=pe[ae[2]];m||(e.dense?(i[ae[0].r]||(i[ae[0].r]=[]),m=i[ae[0].r][ae[0].c]={t:"z"}):m=i[Rr(ae[0])]={t:"z"},s.e.r=Math.max(s.e.r,ae[0].r),s.s.r=Math.min(s.s.r,ae[0].r),s.e.c=Math.max(s.e.c,ae[0].c),s.s.c=Math.min(s.s.c,ae[0].c)),m.c||(m.c=[]),y={a:ae[1],t:dt.TxO.t},m.c.push(y)}break;case 2173:Cee(Y[ae.ixfe],ae.ext);break;case 125:{if(!F.cellStyles)break;for(;ae.e>=ae.s;)_e[ae.e--]={width:ae.w/256,level:ae.level||0,hidden:!!(ae.flags&1)},oe||(oe=!0,H6(ae.w/256)),Nf(_e[ae.e+1])}break;case 520:{var Nt={};ae.level!=null&&(xe[ae.r]=Nt,Nt.level=ae.level),ae.hidden&&(xe[ae.r]=Nt,Nt.hidden=!0),ae.hpt&&(xe[ae.r]=Nt,Nt.hpt=ae.hpt,Nt.hpx=Q1(ae.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Lh(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ee]]=ae;break;case 161:i["!margins"]||Lh(i["!margins"]={}),i["!margins"].header=ae.header,i["!margins"].footer=ae.footer;break;case 574:ae.RTL&&(R.Views[0].RTL=!0);break;case 146:Q=ae;break;case 2198:M=ae;break;case 140:V=ae;break;case 442:c?T.CodeName=ae||T.name:R.WBProps.CodeName=ae||"ThisWorkbook";break}}else be||console.error("Missing Info for XLS Record 0x"+Ee.toString(16)),t.l+=le}return r.SheetNames=ua(a).sort(function(It,yt){return Number(It)-Number(yt)}).map(function(It){return a[It].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&f["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=f)):r.Preamble=f,r.Sheets&&W.forEach(function(It,yt){r.Sheets[r.SheetNames[yt]]["!autofilter"]=It}),r.Strings=l,r.SSF=Ci(Tr),F.enc&&(r.Encryption=F.enc),M&&(r.Themes=M),r.Metadata={},V!==void 0&&(r.Metadata.Country=V),G.names.length>0&&(R.Names=G.names),r.Workbook=R,r}var Mm={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Vae(t,e,r){var n=_r.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=K9(n,iw,Mm.DSI);for(var a in i)e[a]=i[a]}catch(c){if(r.WTF)throw c}var s=_r.find(t,"/!SummaryInformation");if(s&&s.size>0)try{var o=K9(s,aw,Mm.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(CR(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function Uae(t,e){var r=[],n=[],i=[],a=0,s,o=E9(iw,"n"),l=E9(aw,"n");if(t.Props)for(s=ua(t.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],t.Props[s[a]]]);if(t.Custprops)for(s=ua(t.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(t.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],t.Custprops[s[a]]]);var c=[];for(a=0;a<i.length;++a)FR.indexOf(i[a][0])>-1||SR.indexOf(i[a][0])>-1||i[a][1]!=null&&c.push(i[a]);n.length&&_r.utils.cfb_add(e,"/SummaryInformation",X9(n,Mm.SI,l,aw)),(r.length||c.length)&&_r.utils.cfb_add(e,"/DocumentSummaryInformation",X9(r,Mm.DSI,o,iw,c.length?c:null,Mm.UDI))}function AF(t,e){e||(e={}),eb(e),_6(),e.codepage&&w6(e.codepage);var r,n;if(t.FullPaths){if(_r.find(t,"/encryption"))throw new Error("File is password-protected");r=_r.find(t,"!CompObj"),n=_r.find(t,"/Workbook")||_r.find(t,"/Book")}else{switch(e.type){case"base64":t=hl(wl(t));break;case"binary":t=hl(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Ls(t,0),n={content:t}}var i,a;if(r&&Dae(r),e.bookProps&&!e.bookSheets)i={};else{var s=en?"buffer":"array";if(n&&n.content)i=Bae(n.content,e);else if((a=_r.find(t,"PerfectOffice_MAIN"))&&a.content)i=Fh.to_workbook(a.content,(e.type=s,e));else if((a=_r.find(t,"NativeContent_MAIN"))&&a.content)i=Fh.to_workbook(a.content,(e.type=s,e));else throw(a=_r.find(t,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&_r.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=ete(t))}var o={};return t.FullPaths&&Vae(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function zae(t,e){var r=e||{},n=_r.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return _r.utils.cfb_add(n,i,TF(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Uae(t,n),r.biff==8&&t.vbaraw&&tte(n,_r.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var gg={0:{f:fne},1:{f:wne},2:{f:Bne},3:{f:Ane},4:{f:Ene},5:{f:Dne},6:{f:qne},7:{f:Rne},8:{f:Qne},9:{f:Yne},10:{f:Kne},11:{f:Xne},12:{f:bne},13:{f:Une},14:{f:Ine},15:{f:Cne},16:{f:wF},17:{f:Wne},18:{f:Lne},19:{f:j6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Wie},40:{},42:{},43:{f:qZ},44:{f:zZ},45:{f:GZ},46:{f:XZ},47:{f:KZ},48:{},49:{f:mY},50:{},51:{f:Tee},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:qR},62:{f:$ne},63:{f:Mee},64:{f:hie},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:xo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:cie},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:vne},148:{f:mne,p:16},151:{f:nie},152:{},153:{f:$ie},154:{},155:{},156:{f:Uie},157:{},158:{},159:{T:1,f:aZ},160:{T:-1},161:{T:1,f:v0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Jne},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Nee},336:{T:-1},337:{f:Ree,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:nw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:$R},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:iie},427:{f:aie},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:oie},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:xne},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:tie},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:nw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Xee},633:{T:1},634:{T:-1},635:{T:1,f:Gee},636:{T:-1},637:{f:yY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Iie},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:pie},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},dw={6:{f:k4},10:{f:Kd},12:{f:Ma},13:{f:Ma},14:{f:va},15:{f:va},16:{f:ho},17:{f:va},18:{f:va},19:{f:Ma},20:{f:tE},21:{f:tE},23:{f:$R},24:{f:nE},25:{f:va},26:{},27:{},28:{f:pJ},29:{},34:{f:va},35:{f:rE},38:{f:ho},39:{f:ho},40:{f:ho},41:{f:ho},42:{f:va},43:{f:va},47:{f:CZ},49:{f:UQ},51:{f:Ma},60:{},61:{f:DQ},64:{f:va},65:{f:VQ},66:{f:Ma},77:{},80:{},81:{},82:{},85:{f:Ma},89:{},90:{},91:{},92:{f:SQ},93:{f:xJ},94:{},95:{f:va},96:{},97:{},99:{f:va},125:{f:qR},128:{f:rJ},129:{f:NQ},130:{f:Ma},131:{f:va},132:{f:va},133:{f:AQ},134:{},140:{f:SJ},141:{f:Ma},144:{},146:{f:AJ},151:{},152:{},153:{},154:{},155:{},156:{f:Ma},157:{},158:{},160:{f:jJ},161:{f:PJ},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:JQ},190:{f:ZQ},193:{f:Kd},197:{},198:{},199:{},200:{},201:{},202:{f:va},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Ma},220:{},221:{f:va},222:{},224:{f:tJ},225:{f:EQ},226:{f:Kd},227:{},229:{f:mJ},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:IQ},253:{f:$Q},255:{f:RQ},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:LR},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:va},353:{f:Kd},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:oJ},431:{f:va},432:{},433:{},434:{},437:{},438:{f:wJ},439:{f:va},440:{f:_J},441:{},442:{f:Yg},443:{},444:{f:Ma},445:{},446:{},448:{f:Kd},449:{f:jQ,r:2},450:{f:Kd},512:{f:J9},513:{f:LJ},515:{f:aJ},516:{f:HQ},517:{f:eE},519:{f:DJ},520:{f:FQ},523:{},545:{f:iE},549:{f:Q9},566:{},574:{f:MQ},638:{f:QQ},659:{},1048:{},1054:{f:GQ},1084:{},1212:{f:dJ},2048:{f:kJ},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:lx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Kd},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:TJ,r:12},2173:{f:See,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:va,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:uJ,r:12},2197:{},2198:{f:yee,r:12},2199:{},2200:{},2201:{},2202:{f:fJ,r:12},2203:{f:Kd},2204:{},2205:{},2206:{},2207:{},2211:{f:LQ},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Ma},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:RJ},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:NJ},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:J9},1:{},2:{f:UJ},3:{f:BJ},4:{f:MJ},5:{f:eE},7:{f:$J},8:{},9:{f:lx},11:{},22:{f:Ma},30:{f:XQ},31:{},32:{},33:{f:iE},36:{},37:{f:Q9},50:{f:qJ},62:{},52:{},67:{},68:{f:Ma},69:{},86:{},126:{},127:{f:OJ},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:HJ},223:{},234:{},354:{},421:{},518:{f:k4},521:{f:lx},536:{f:nE},547:{f:rE},561:{},579:{},1030:{f:k4},1033:{f:lx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function zt(t,e,r,n){var i=e;if(!isNaN(i)){var a=n||(r||[]).length||0,s=t.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&R6(r)&&t.push(r)}}function $ae(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return zt(t,e,r,i);var a=e;if(!isNaN(a)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var f=t.next(4);for(f.write_shift(2,a),f.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(f=t.next(4),f.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;f.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function e2(t,e,r){return t||(t=xt(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function qae(t,e,r,n){var i=xt(9);return e2(i,t,e),jR(r,n||"b",i),i}function Hae(t,e,r){var n=xt(8+2*r.length);return e2(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Wae(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ts(Si(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?zt(t,2,zJ(r,n,i)):zt(t,3,VJ(r,n,i));return;case"b":case"e":zt(t,5,qae(r,n,e.v,e.t));return;case"s":case"str":zt(t,4,Hae(r,n,(e.v||"").slice(0,255)));return}zt(t,1,e2(null,r,n))}function Gae(t,e,r,n){var i=Array.isArray(e),a=Sn(e["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=Wr(a)}for(var c=a.s.r;c<=a.e.r;++c){o=Ca(c);for(var f=a.s.c;f<=a.e.c;++f){c===a.s.r&&(l[f]=Ki(f)),s=l[f]+o;var p=i?(e[c]||[])[f]:e[s];p&&Wae(t,p,c,f)}}}function Kae(t,e){for(var r=e||{},n=Wo(),i=0,a=0;a<t.SheetNames.length;++a)t.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return zt(n,r.biff==4?1033:r.biff==3?521:9,z6(t,16,r)),Gae(n,t.Sheets[t.SheetNames[i]],i,r),zt(n,10),n.end()}function Xae(t,e,r){zt(t,49,zQ({sz:12,name:"Arial"},r))}function Yae(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&zt(t,1054,KQ(i,e[i],r))})}function Qae(t,e){var r=xt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),zt(t,2151,r),r=xt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),VR(Sn(e["!ref"]||"A1"),r),r.write_shift(4,4),zt(t,2152,r)}function Jae(t,e){for(var r=0;r<16;++r)zt(t,224,Z9({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){zt(t,224,Z9(n,0,e))})}function Zae(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];zt(t,440,bJ(n)),n[1].Tooltip&&zt(t,2048,EJ(n))}delete e["!links"]}function ese(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&zt(t,125,IJ(Uy(i,n),i))})}}function tse(t,e,r,n,i){var a=16+$f(i.cellXfs,e,i);if(e.v==null&&!e.bf){zt(t,513,e0(r,n,a));return}if(e.bf)zt(t,6,Nre(e,r,n,i,a));else switch(e.t){case"d":case"n":var s=e.t=="d"?ts(Si(e.v)):e.v;zt(t,515,sJ(r,n,s,a));break;case"b":case"e":zt(t,517,iJ(r,n,e.v,a,i,e.t));break;case"s":case"str":if(i.bookSST){var o=Y6(i.Strings,e.v,i.revStrings);zt(t,253,qQ(r,n,o,a))}else zt(t,516,WQ(r,n,(e.v||"").slice(0,255),a,i));break;default:zt(t,513,e0(r,n,a))}}function rse(t,e,r){var n=Wo(),i=r.SheetNames[t],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[t]||{},l=Array.isArray(a),c=e.biff==8,f,p="",g=[],m=Sn(a["!ref"]||"A1"),y=c?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}zt(n,2057,z6(r,16,e)),zt(n,13,zl(1)),zt(n,12,zl(100)),zt(n,15,No(!0)),zt(n,17,No(!1)),zt(n,16,Jh(.001)),zt(n,95,No(!0)),zt(n,42,No(!1)),zt(n,43,No(!1)),zt(n,130,zl(1)),zt(n,128,nJ()),zt(n,131,No(!1)),zt(n,132,No(!1)),c&&ese(n,a["!cols"]),zt(n,512,YQ(m,e)),c&&(a["!links"]=[]);for(var w=m.s.r;w<=m.e.r;++w){p=Ca(w);for(var k=m.s.c;k<=m.e.c;++k){w===m.s.r&&(g[k]=Ki(k)),f=g[k]+p;var N=l?(a[w]||[])[k]:a[f];N&&(tse(n,N,w,k,e),c&&N.l&&a["!links"].push([f,N.l]))}}var L=o.CodeName||o.name||i;return c&&zt(n,574,BQ((s.Views||[])[0])),c&&(a["!merges"]||[]).length&&zt(n,229,gJ(a["!merges"])),c&&Zae(n,a),zt(n,442,DR(L)),c&&Qae(n,a),zt(n,10),n.end()}function nse(t,e,r){var n=Wo(),i=(t||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(zt(n,2057,z6(t,5,r)),r.bookType=="xla"&&zt(n,135),zt(n,225,o?zl(1200):null),zt(n,193,iQ(2)),l&&zt(n,191),l&&zt(n,192),zt(n,226),zt(n,92,CQ("SheetJS",r)),zt(n,66,zl(o?1200:1252)),o&&zt(n,353,zl(0)),o&&zt(n,448),zt(n,317,FJ(t.SheetNames.length)),o&&t.vbaraw&&zt(n,211),o&&t.vbaraw){var c=s.CodeName||"ThisWorkbook";zt(n,442,DR(c))}zt(n,156,zl(17)),zt(n,25,No(!1)),zt(n,18,No(!1)),zt(n,19,zl(0)),o&&zt(n,431,No(!1)),o&&zt(n,444,zl(0)),zt(n,61,OQ()),zt(n,64,No(!1)),zt(n,141,zl(0)),zt(n,34,No(jie(t)=="true")),zt(n,14,No(!0)),o&&zt(n,439,No(!1)),zt(n,218,zl(0)),Xae(n,t,r),Yae(n,t.SSF,r),Jae(n,r),o&&zt(n,352,No(!1));var f=n.end(),p=Wo();o&&zt(p,140,CJ()),o&&r.Strings&&$ae(p,252,PQ(r.Strings)),zt(p,10);var g=p.end(),m=Wo(),y=0,w=0;for(w=0;w<t.SheetNames.length;++w)y+=(o?12:11)+(o?2:1)*t.SheetNames[w].length;var k=f.length+y+g.length;for(w=0;w<t.SheetNames.length;++w){var N=a[w]||{};zt(m,133,TQ({pos:k,hs:N.Hidden||0,dt:0,name:t.SheetNames[w]},r)),k+=e[w].length}var L=m.end();if(y!=L.length)throw new Error("BS8 "+y+" != "+L.length);var P=[];return f.length&&P.push(f),L.length&&P.push(L),g.length&&P.push(g),gs(P)}function ise(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Ci(Tr)),t&&t.SSF&&(gp(),Ly(t.SSF),r.revssf=Dy(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,tb(r),r.cellXfs=[],$f(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=rse(i,r,t);return n.unshift(nse(t,n,r)),gs(n)}function TF(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Go(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=e||{};switch(a.biff||2){case 8:case 5:return ise(t,e);case 4:case 3:case 2:return Kae(t,e)}throw new Error("invalid type "+a.bookType+" for BIFF")}function pE(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=t.match(/<\/table/i),s=i.index,o=a&&a.index||t.length,l=zX(t.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,f=0,p=0,g=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(s=0;s<l.length;++s){var w=l[s].trim(),k=w.slice(0,3).toLowerCase();if(k=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}f=0;continue}if(!(k!="<td"&&k!="<th")){var N=w.split(/<\/t[dh]>/i);for(o=0;o<N.length;++o){var L=N[o].trim();if(L.match(/<t[dh]/i)){for(var P=L,V=0;P.charAt(0)=="<"&&(V=P.indexOf(">"))>-1;)P=P.slice(V+1);for(var Y=0;Y<y.length;++Y){var Q=y[Y];Q.s.c==f&&Q.s.r<c&&c<=Q.e.r&&(f=Q.e.c+1,Y=-1)}var R=Fr(L.slice(0,L.indexOf(">")));g=R.colspan?+R.colspan:1,((p=+R.rowspan)>1||g>1)&&y.push({s:{r:c,c:f},e:{r:c+(p||1)-1,c:f+g-1}});var T=R.t||R["data-t"]||"";if(!P.length){f+=g;continue}if(P=ZP(P),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>f&&(m.s.c=f),m.e.c<f&&(m.e.c=f),!P.length){f+=g;continue}var S={t:"s",v:P};r.raw||!P.trim().length||T=="s"||(P==="TRUE"?S={t:"b",v:!0}:P==="FALSE"?S={t:"b",v:!1}:isNaN(Sc(P))?isNaN(X1(P).getDate())||(S={t:"d",v:Si(P)},r.cellDates||(S={t:"n",v:ts(S.v)}),S.z=r.dateNF||Tr[14]):S={t:"n",v:Sc(P)}),r.dense?(n[c]||(n[c]=[]),n[c][f]=S):n[Rr({r:c,c:f})]=S,f+=g}}}}return n["!ref"]=Wr(m),y.length&&(n["!merges"]=y),n}function ase(t,e,r,n){for(var i=t["!merges"]||[],a=[],s=e.s.c;s<=e.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>s)&&!(i[c].e.r<r||i[c].e.c<s)){if(i[c].s.r<r||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var f=Rr({r,c:s}),p=n.dense?(t[r]||[])[s]:t[f],g=p&&p.v!=null&&(p.h||T6(p.w||(sd(p),p.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),m.id=(n.id||"sjs")+"-"+f,a.push(Ut("td",g,m))}}var y="<tr>";return y+a.join("")+"</tr>"}var sse='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ose="</body></html>";function lse(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return zf(pE(r[0],e),e);var n=ib();return r.forEach(function(i,a){ab(n,pE(i,e),"Sheet"+(a+1))}),n}function cse(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function IF(t,e){var r=e||{},n=r.header!=null?r.header:sse,i=r.footer!=null?r.footer:ose,a=[n],s=Go(t["!ref"]);r.dense=Array.isArray(t),a.push(cse(t,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(ase(t,s,o,r));return a.push("</table>"+i),a.join("")}function PF(t,e,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?Xi(n.origin):n.origin;i=s.r,a=s.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(t["!ref"]){var f=Go(t["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),i==-1&&(c.e.r=i=f.e.r+1)}var p=[],g=0,m=t["!rows"]||(t["!rows"]=[]),y=0,w=0,k=0,N=0,L=0,P=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&w<l;++y){var V=o[y];if(mE(V)){if(n.display)continue;m[w]={hidden:!0}}var Y=V.children;for(k=N=0;k<Y.length;++k){var Q=Y[k];if(!(n.display&&mE(Q))){var R=Q.hasAttribute("data-v")?Q.getAttribute("data-v"):Q.hasAttribute("v")?Q.getAttribute("v"):ZP(Q.innerHTML),T=Q.getAttribute("data-z")||Q.getAttribute("z");for(g=0;g<p.length;++g){var S=p[g];S.s.c==N+a&&S.s.r<w+i&&w+i<=S.e.r&&(N=S.e.c+1-a,g=-1)}P=+Q.getAttribute("colspan")||1,((L=+Q.getAttribute("rowspan")||1)>1||P>1)&&p.push({s:{r:w+i,c:N+a},e:{r:w+i+(L||1)-1,c:N+a+(P||1)-1}});var j={t:"s",v:R},A=Q.getAttribute("data-t")||Q.getAttribute("t")||"";R!=null&&(R.length==0?j.t=A||"z":n.raw||R.trim().length==0||A=="s"||(R==="TRUE"?j={t:"b",v:!0}:R==="FALSE"?j={t:"b",v:!1}:isNaN(Sc(R))?isNaN(X1(R).getDate())||(j={t:"d",v:Si(R)},n.cellDates||(j={t:"n",v:ts(j.v)}),j.z=n.dateNF||Tr[14]):j={t:"n",v:Sc(R)})),j.z===void 0&&T!=null&&(j.z=T);var F="",M=Q.getElementsByTagName("A");if(M&&M.length)for(var re=0;re<M.length&&!(M[re].hasAttribute("href")&&(F=M[re].getAttribute("href"),F.charAt(0)!="#"));++re);F&&F.charAt(0)!="#"&&(j.l={Target:F}),n.dense?(t[w+i]||(t[w+i]=[]),t[w+i][N+a]=j):t[Rr({c:N+a,r:w+i})]=j,c.e.c<N+a&&(c.e.c=N+a),N+=P}}++w}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),c.e.r=Math.max(c.e.r,w-1+i),t["!ref"]=Wr(c),w>=l&&(t["!fullref"]=Wr((c.e.r=o.length-y+w-1+i,c))),t}function RF(t,e){var r=e||{},n=r.dense?[]:{};return PF(n,t,e)}function use(t,e){return zf(RF(t,e),e)}function mE(t){var e="",r=dse(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function dse(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function fse(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=En(e.replace(/<[^>]*>/g,""));return[r]}var gE={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function FF(t,e){var r=e||{},n=I6(t),i=[],a,s,o={name:""},l="",c=0,f,p,g={},m=[],y=r.dense?[]:{},w,k,N={value:""},L="",P=0,V=[],Y=-1,Q=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,S={},j=[],A={},F=0,M=0,re=[],pe=1,_e=1,xe=[],oe={Names:[]},G={},fe=["",""],X=[],I={},q="",W=0,J=!1,ce=!1,ve=0;for(ug.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=ug.exec(n);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"工作表":w[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?y["!ref"]=Wr(R):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=R.e.r&&(y["!fullref"]=y["!ref"],R.e.r=r.sheetRows-1,y["!ref"]=Wr(R)),j.length&&(y["!merges"]=j),re.length&&(y["!rows"]=re),f.name=f.名称||f.name,typeof JSON<"u"&&JSON.stringify(f),m.push(f.name),g[f.name]=y,ce=!1):w[0].charAt(w[0].length-2)!=="/"&&(f=Fr(w[0],!1),Y=Q=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,y=r.dense?[]:{},j=[],re=[],ce=!0);break;case"table-row-group":w[1]==="/"?--T:++T;break;case"table-row":case"行":if(w[1]==="/"){Y+=pe,pe=1;break}if(p=Fr(w[0],!1),p.行号?Y=p.行号-1:Y==-1&&(Y=0),pe=+p["number-rows-repeated"]||1,pe<10)for(ve=0;ve<pe;++ve)T>0&&(re[Y+ve]={level:T});Q=-1;break;case"covered-table-cell":w[1]!=="/"&&++Q,r.sheetStubs&&(r.dense?(y[Y]||(y[Y]=[]),y[Y][Q]={t:"z"}):y[Rr({r:Y,c:Q})]={t:"z"}),L="",V=[];break;case"table-cell":case"数据":if(w[0].charAt(w[0].length-2)==="/")++Q,N=Fr(w[0],!1),_e=parseInt(N["number-columns-repeated"]||"1",10),k={t:"z",v:null},N.formula&&r.cellFormula!=!1&&(k.f=dE(En(N.formula))),(N.数据类型||N["value-type"])=="string"&&(k.t="s",k.v=En(N["string-value"]||""),r.dense?(y[Y]||(y[Y]=[]),y[Y][Q]=k):y[Rr({r:Y,c:Q})]=k),Q+=_e-1;else if(w[1]!=="/"){++Q,L="",P=0,V=[],_e=1;var Ee=pe?Y+pe-1:Y;if(Q>R.e.c&&(R.e.c=Q),Q<R.s.c&&(R.s.c=Q),Y<R.s.r&&(R.s.r=Y),Ee>R.e.r&&(R.e.r=Ee),N=Fr(w[0],!1),X=[],I={},k={t:N.数据类型||N["value-type"],v:null},r.cellFormula)if(N.formula&&(N.formula=En(N.formula)),N["number-matrix-columns-spanned"]&&N["number-matrix-rows-spanned"]&&(F=parseInt(N["number-matrix-rows-spanned"],10)||0,M=parseInt(N["number-matrix-columns-spanned"],10)||0,A={s:{r:Y,c:Q},e:{r:Y+F-1,c:Q+M-1}},k.F=Wr(A),xe.push([A,k.F])),N.formula)k.f=dE(N.formula);else for(ve=0;ve<xe.length;++ve)Y>=xe[ve][0].s.r&&Y<=xe[ve][0].e.r&&Q>=xe[ve][0].s.c&&Q<=xe[ve][0].e.c&&(k.F=xe[ve][1]);switch((N["number-columns-spanned"]||N["number-rows-spanned"])&&(F=parseInt(N["number-rows-spanned"],10)||0,M=parseInt(N["number-columns-spanned"],10)||0,A={s:{r:Y,c:Q},e:{r:Y+F-1,c:Q+M-1}},j.push(A)),N["number-columns-repeated"]&&(_e=parseInt(N["number-columns-repeated"],10)),k.t){case"boolean":k.t="b",k.v=_i(N["boolean-value"]);break;case"float":k.t="n",k.v=parseFloat(N.value);break;case"percentage":k.t="n",k.v=parseFloat(N.value);break;case"currency":k.t="n",k.v=parseFloat(N.value);break;case"date":k.t="d",k.v=Si(N["date-value"]),r.cellDates||(k.t="n",k.v=ts(k.v)),k.z="m/d/yy";break;case"time":k.t="n",k.v=BX(N["time-value"])/86400,r.cellDates&&(k.t="d",k.v=Oy(k.v)),k.z="HH:MM:SS";break;case"number":k.t="n",k.v=parseFloat(N.数据数值);break;default:if(k.t==="string"||k.t==="text"||!k.t)k.t="s",N["string-value"]!=null&&(L=En(N["string-value"]),V=[]);else throw new Error("Unsupported value type "+k.t)}}else{if(J=!1,k.t==="s"&&(k.v=L||"",V.length&&(k.R=V),J=P==0),G.Target&&(k.l=G),X.length>0&&(k.c=X,X=[]),L&&r.cellText!==!1&&(k.w=L),J&&(k.t="z",delete k.v),(!J||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=Y))for(var le=0;le<pe;++le){if(_e=parseInt(N["number-columns-repeated"]||"1",10),r.dense)for(y[Y+le]||(y[Y+le]=[]),y[Y+le][Q]=le==0?k:Ci(k);--_e>0;)y[Y+le][Q+_e]=Ci(k);else for(y[Rr({r:Y+le,c:Q})]=k;--_e>0;)y[Rr({r:Y+le,c:Q+_e})]=Ci(k);R.e.c<=Q&&(R.e.c=Q)}_e=parseInt(N["number-columns-repeated"]||"1",10),Q+=_e-1,_e=0,k={},L="",V=[]}G={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((a=i.pop())[0]!==w[3])throw"Bad state: "+a}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((a=i.pop())[0]!==w[3])throw"Bad state: "+a;I.t=L,V.length&&(I.R=V),I.a=q,X.push(I)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);q="",W=0,L="",P=0,V=[];break;case"creator":w[1]==="/"?q=n.slice(W,w.index):W=w.index+w[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((a=i.pop())[0]!==w[3])throw"Bad state: "+a}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);L="",P=0,V=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(S[o.name]=l,(a=i.pop())[0]!==w[3])throw"Bad state: "+a}else w[0].charAt(w[0].length-2)!=="/"&&(l="",o=Fr(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Fr(w[0],!1),l+=gE[w[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=Fr(w[0],!1),l+=gE[w[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,w.index);break}else c=w.index+w[0].length;break;case"named-range":s=Fr(w[0],!1),fe=E4(s["cell-range-address"]);var be={Name:s.name,Ref:fe[0]+"!"+fe[1]};ce&&(be.Sheet=m.length),oe.Names.push(be);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!N||!N["string-value"])){var Le=fse(n.slice(P,w.index));L=(L.length>0?L+`
`:"")+Le[0]}else Fr(w[0],!1),P=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{fe=E4(Fr(w[0])["target-range-address"]),g[fe[0]]["!autofilter"]={ref:fe[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(G=Fr(w[0],!1),!G.href)break;G.Target=En(G.href),delete G.href,G.Target.charAt(0)=="#"&&G.Target.indexOf(".")>-1?(fe=E4(G.Target.slice(1)),G.Target="#"+fe[0]+"!"+fe[1]):G.Target.match(/^\.\.[\\\/]/)&&(G.Target=G.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(w)}}var ae={Sheets:g,SheetNames:m,Workbook:oe};return r.bookSheets&&delete ae.Sheets,ae}function xE(t,e){e=e||{},Ul(t,"META-INF/manifest.xml")&&BY(Oa(t,"META-INF/manifest.xml"),e);var r=pl(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=FF(ni(r),e);return Ul(t,"meta.xml")&&(n.Props=kR(Oa(t,"meta.xml"))),n}function vE(t,e){return FF(t,e)}var hse=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+cg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Aa+e}})(),yE=(function(){var t=function(a){return Qn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var l=[];l.push('      <table:table table:name="'+Qn(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,f=0,p=Go(a["!ref"]||"A1"),g=a["!merges"]||[],m=0,y=Array.isArray(a);if(a["!cols"])for(f=0;f<=p.e.c;++f)l.push("        <table:table-column"+(a["!cols"][f]?' table:style-name="co'+a["!cols"][f].ods+'"':"")+`></table:table-column>
`);var w="",k=a["!rows"]||[];for(c=0;c<p.s.r;++c)w=k[c]?' table:style-name="ro'+k[c].ods+'"':"",l.push("        <table:table-row"+w+`></table:table-row>
`);for(;c<=p.e.r;++c){for(w=k[c]?' table:style-name="ro'+k[c].ods+'"':"",l.push("        <table:table-row"+w+`>
`),f=0;f<p.s.c;++f)l.push(e);for(;f<=p.e.c;++f){var N=!1,L={},P="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>f)&&!(g[m].s.r>c)&&!(g[m].e.c<f)&&!(g[m].e.r<c)){(g[m].s.c!=f||g[m].s.r!=c)&&(N=!0),L["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,L["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(N){l.push(r);continue}var V=Rr({r:c,c:f}),Y=y?(a[c]||[])[f]:a[V];if(Y&&Y.f&&(L["table:formula"]=Qn(Fre(Y.f)),Y.F&&Y.F.slice(0,V.length)==V)){var Q=Go(Y.F);L["table:number-matrix-columns-spanned"]=Q.e.c-Q.s.c+1,L["table:number-matrix-rows-spanned"]=Q.e.r-Q.s.r+1}if(!Y){l.push(e);continue}switch(Y.t){case"b":P=Y.v?"TRUE":"FALSE",L["office:value-type"]="boolean",L["office:boolean-value"]=Y.v?"true":"false";break;case"n":P=Y.w||String(Y.v||0),L["office:value-type"]="float",L["office:value"]=Y.v||0;break;case"s":case"str":P=Y.v==null?"":Y.v,L["office:value-type"]="string";break;case"d":P=Y.w||Si(Y.v).toISOString(),L["office:value-type"]="date",L["office:date-value"]=Si(Y.v).toISOString(),L["table:style-name"]="ce1";break;default:l.push(e);continue}var R=t(P);if(Y.l&&Y.l.Target){var T=Y.l.Target;T=T.charAt(0)=="#"?"#"+Lre(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),R=Ut("text:a",R,{"xlink:href":T.replace(/&/g,"&amp;")})}l.push("          "+Ut("table:table-cell",Ut("text:p",R,{}),L)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var f=0;f<c["!cols"].length;++f)if(c["!cols"][f]){var p=c["!cols"][f];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Nf(p),p.ods=o;var g=c["!cols"][f].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var f=0;f<c["!rows"].length;++f)if(c["!rows"][f]){c["!rows"][f].ods=l;var p=c["!rows"][f].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[Aa],c=cg({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=cg({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+f+`>
`),l.push(bR().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var p=0;p!=s.SheetNames.length;++p)l.push(n(s.Sheets[s.SheetNames[p]],s,p));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function LF(t,e){if(e.bookType=="fods")return yE(t,e);var r=C6(),n="",i=[],a=[];return n="mimetype",Gr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Gr(r,n,yE(t,e)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",Gr(r,n,hse(t,e)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",Gr(r,n,Aa+bR()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",Gr(r,n,zY(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Gr(r,n,VY(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function t0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function fw(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):ni(Uf(t))}function pse(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):hl(iu(t))}function mse(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Tf(t){var e=t.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function wE(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function gse(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function xse(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)t[e+a]=i&255;t[e+15]|=r>=0?0:128}function xg(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Gn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function oa(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function In(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=xg(t,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:s=4,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=xg(t,r),o=t.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:a};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Is(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Gn(n*8+i.type)),i.type==2&&e.push(Gn(i.data.length)),e.push(i.data))})}),Tf(e)}function Z6(t,e){return t?.map(function(r){return e(r.data)})||[]}function Bl(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=xg(t,n),a=In(t.slice(n[0],n[0]+i));n[0]+=i;var s={id:oa(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=In(o.data),c=oa(l[3][0].data);s.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=a[3])!=null&&e[0]&&(s.merge=oa(a[3][0].data)>>>0>0),r.push(s)}return r}function Q0(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Gn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Gn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:Gn(s.data.length)}],n[2].push({data:Is(s.meta),type:2})});var a=Is(n);e.push(Gn(a.length)),e.push(a),i.forEach(function(s){return e.push(s)})}),Tf(e)}function vse(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=xg(e,r),i=[];r[0]<e.length;){var a=e[r[0]]&3;if(a==0){var s=e[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=e[r[0]],o>1&&(s|=e[r[0]+1]<<8),o>2&&(s|=e[r[0]+2]<<16),o>3&&(s|=e[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(e.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,a==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Tf(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var f=Tf(i);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Vl(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(vse(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Tf(e)}function J0(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var a=Gn(n),s=a.length;e.push(a),n<=60?(s++,e.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return Tf(e)}function yse(t,e,r,n){var i=t0(t),a=i.getUint32(4,!0),s=(n>1?12:8)+wE(a&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,f=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=wE(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(c=i.getFloat64(s,!0),s+=8),a&64&&(f.setTime(f.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var p;switch(t[2]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[l]};break;case 5:p={t:"d",v:f};break;case 6:p={t:"b",v:c>0};break;case 7:p={t:"n",v:c/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else if(l>-1)p={t:"s",v:e[l]};else if(!isNaN(c))p={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return p}function wse(t,e,r){var n=t0(t),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,c=NaN,f=new Date(2001,0,1);i&1&&(l=gse(t,a),a+=16),i&2&&(c=n.getFloat64(a,!0),a+=8),i&4&&(f.setTime(f.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var p;switch(t[1]){case 0:break;case 2:p={t:"n",v:l};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:f};break;case 6:p={t:"b",v:c>0};break;case 7:p={t:"n",v:c/86400};break;case 8:p={t:"e",v:0};break;case 9:if(s>-1)p={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:p={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return p}function C4(t,e){var r=new Uint8Array(32),n=t0(r),i=12,a=0;switch(r[0]=5,t.t){case"n":r[1]=2,xse(r,i,t.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),a|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,a,!0),r.slice(0,i)}function N4(t,e){var r=new Uint8Array(32),n=t0(r),i=12,a=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),a|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,a,!0),r.slice(0,i)}function _se(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return yse(t,e,r,t[0]);case 5:return wse(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function lo(t){var e=In(t);return xg(e[1][0].data)}function _E(t,e){var r=In(e.data),n=oa(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=In(s.data),l=oa(o[1][0].data)>>>0;switch(n){case 1:a[l]=fw(o[3][0].data);break;case 8:{var c=t[lo(o[9][0].data)][0],f=In(c.data),p=t[lo(f[1][0].data)][0],g=oa(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var m=In(p.data);a[l]=m[3].map(function(y){return fw(y.data)}).join("")}break}}),a}function bse(t,e){var r,n,i,a,s,o,l,c,f,p,g,m,y,w,k=In(t),N=oa(k[1][0].data)>>>0,L=oa(k[2][0].data)>>>0,P=((n=(r=k[8])==null?void 0:r[0])==null?void 0:n.data)&&oa(k[8][0].data)>0||!1,V,Y;if((a=(i=k[7])==null?void 0:i[0])!=null&&a.data&&e!=0)V=(o=(s=k[7])==null?void 0:s[0])==null?void 0:o.data,Y=(c=(l=k[6])==null?void 0:l[0])==null?void 0:c.data;else if((p=(f=k[4])==null?void 0:f[0])!=null&&p.data&&e!=1)V=(m=(g=k[4])==null?void 0:g[0])==null?void 0:m.data,Y=(w=(y=k[3])==null?void 0:y[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var Q=P?4:1,R=t0(V),T=[],S=0;S<V.length/2;++S){var j=R.getUint16(S*2,!0);j<65535&&T.push([S,j])}if(T.length!=L)throw"Expected ".concat(L," cells, found ").concat(T.length);var A=[];for(S=0;S<T.length-1;++S)A[T[S][0]]=Y.subarray(T[S][1]*Q,T[S+1][1]*Q);return T.length>=1&&(A[T[T.length-1][0]]=Y.subarray(T[T.length-1][1]*Q)),{R:N,cells:A}}function kse(t,e){var r,n=In(e.data),i=(r=n?.[7])!=null&&r[0]?oa(n[7][0].data)>>>0>0?1:0:-1,a=Z6(n[5],function(s){return bse(s,i)});return{nrows:oa(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Ese(t,e,r){var n,i=In(e.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(oa(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(oa(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Wr(a);var s=In(i[4][0].data),o=_E(t,t[lo(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?_E(t,t[lo(s[17][0].data)][0]):[],c=In(s[3][0].data),f=0;c[1].forEach(function(p){var g=In(p.data),m=t[lo(g[2][0].data)][0],y=oa(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var w=kse(t,m);w.data.forEach(function(k,N){k.forEach(function(L,P){var V=Rr({r:f+N,c:P}),Y=_se(L,o,l);Y&&(r[V]=Y)})}),f+=w.nrows})}function Sse(t,e){var r=In(e.data),n={"!ref":"A1"},i=t[lo(r[2][0].data)],a=oa(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return Ese(t,i[0],n),n}function Cse(t,e){var r,n=In(e.data),i={name:(r=n[1])!=null&&r[0]?fw(n[1][0].data):"",sheets:[]},a=Z6(n[2],lo);return a.forEach(function(s){t[s].forEach(function(o){var l=oa(o.meta[1][0].data);l==6e3&&i.sheets.push(Sse(t,o))})}),i}function Nse(t,e){var r=ib(),n=In(e.data),i=Z6(n[1],lo);if(i.forEach(function(a){t[a].forEach(function(s){var o=oa(s.meta[1][0].data);if(o==2){var l=Cse(t,s);l.sheets.forEach(function(c,f){ab(r,c,f==0?l.name:l.name+"_"+f,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function A4(t){var e,r,n,i,a={},s=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Vl(l.content)}catch(p){return console.log("?? "+l.content.length+" "+(p.message||p))}var f;try{f=Bl(c)}catch(p){return console.log("## "+(p.message||p))}f.forEach(function(p){a[p.id]=p.messages,s.push(p.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=a?.[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&oa(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(c){var f=oa(c.meta[1][0].data)>>>0;if(f==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Nse(a,o)}function Ase(t,e,r){var n,i,a,s;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=t[8])==null?void 0:a[0])==null?void 0:s.data)&&oa(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=t0(t[7][0].data),f=0,p=[],g=t0(t[4][0].data),m=0,y=[],w=0;w<e.length;++w){if(e[w]==null){c.setUint16(w*2,65535,!0),g.setUint16(w*2,65535);continue}c.setUint16(w*2,f,!0),g.setUint16(w*2,m,!0);var k,N;switch(typeof e[w]){case"string":k=C4({t:"s",v:e[w]},r),N=N4({t:"s",v:e[w]},r);break;case"number":k=C4({t:"n",v:e[w]},r),N=N4({t:"n",v:e[w]},r);break;case"boolean":k=C4({t:"b",v:e[w]},r),N=N4({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}p.push(k),f+=k.length,y.push(N),m+=N.length,++l}for(t[2][0].data=Gn(l);w<t[7][0].data.length/2;++w)c.setUint16(w*2,65535,!0),g.setUint16(w*2,65535,!0);return t[6][0].data=Tf(p),t[3][0].data=Tf(y),l}function Tse(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Go(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Wr(n)));var a=Vv(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(q){return q.forEach(function(W){typeof W=="string"&&s.push(W)})});var o={},l=[],c=_r.read(e.numbers,{type:"base64"});c.FileIndex.map(function(q,W){return[q,c.FullPaths[W]]}).forEach(function(q){var W=q[0],J=q[1];if(W.type==2&&W.name.match(/\.iwa/)){var ce=W.content,ve=Vl(ce),Ee=Bl(ve);Ee.forEach(function(le){l.push(le.id),o[le.id]={deps:[],location:J,type:oa(le.messages[0].meta[1][0].data)}})}}),l.sort(function(q,W){return q-W});var f=l.filter(function(q){return q>1}).map(function(q){return[q,Gn(q)]});c.FileIndex.map(function(q,W){return[q,c.FullPaths[W]]}).forEach(function(q){var W=q[0];if(q[1],!!W.name.match(/\.iwa/)){var J=Bl(Vl(W.content));J.forEach(function(ce){ce.messages.forEach(function(ve){f.forEach(function(Ee){ce.messages.some(function(le){return oa(le.meta[1][0].data)!=11006&&mse(le.data,Ee[1])})&&o[Ee[0]].deps.push(ce.id)})})})}});for(var p=_r.find(c,o[1].location),g=Bl(Vl(p.content)),m,y=0;y<g.length;++y){var w=g[y];w.id==1&&(m=w)}var k=lo(In(m.messages[0].data)[1][0].data);for(p=_r.find(c,o[k].location),g=Bl(Vl(p.content)),y=0;y<g.length;++y)w=g[y],w.id==k&&(m=w);for(k=lo(In(m.messages[0].data)[2][0].data),p=_r.find(c,o[k].location),g=Bl(Vl(p.content)),y=0;y<g.length;++y)w=g[y],w.id==k&&(m=w);for(k=lo(In(m.messages[0].data)[2][0].data),p=_r.find(c,o[k].location),g=Bl(Vl(p.content)),y=0;y<g.length;++y)w=g[y],w.id==k&&(m=w);var N=In(m.messages[0].data);{N[6][0].data=Gn(n.e.r+1),N[7][0].data=Gn(n.e.c+1);var L=lo(N[46][0].data),P=_r.find(c,o[L].location),V=Bl(Vl(P.content));{for(var Y=0;Y<V.length&&V[Y].id!=L;++Y);if(V[Y].id!=L)throw"Bad ColumnRowUIDMapArchive";var Q=In(V[Y].messages[0].data);Q[1]=[],Q[2]=[],Q[3]=[];for(var R=0;R<=n.e.c;++R){var T=[];T[1]=T[2]=[{type:0,data:Gn(R+420690)}],Q[1].push({type:2,data:Is(T)}),Q[2].push({type:0,data:Gn(R)}),Q[3].push({type:0,data:Gn(R)})}Q[4]=[],Q[5]=[],Q[6]=[];for(var S=0;S<=n.e.r;++S)T=[],T[1]=T[2]=[{type:0,data:Gn(S+726270)}],Q[4].push({type:2,data:Is(T)}),Q[5].push({type:0,data:Gn(S)}),Q[6].push({type:0,data:Gn(S)});V[Y].messages[0].data=Is(Q)}P.content=J0(Q0(V)),P.size=P.content.length,delete N[46];var j=In(N[4][0].data);{j[7][0].data=Gn(n.e.r+1);var A=In(j[1][0].data),F=lo(A[2][0].data);P=_r.find(c,o[F].location),V=Bl(Vl(P.content));{if(V[0].id!=F)throw"Bad HeaderStorageBucket";var M=In(V[0].messages[0].data);for(S=0;S<a.length;++S){var re=In(M[2][0].data);re[1][0].data=Gn(S),re[4][0].data=Gn(a[S].length),M[2][S]={type:M[2][0].type,data:Is(re)}}V[0].messages[0].data=Is(M)}P.content=J0(Q0(V)),P.size=P.content.length;var pe=lo(j[2][0].data);P=_r.find(c,o[pe].location),V=Bl(Vl(P.content));{if(V[0].id!=pe)throw"Bad HeaderStorageBucket";for(M=In(V[0].messages[0].data),R=0;R<=n.e.c;++R)re=In(M[2][0].data),re[1][0].data=Gn(R),re[4][0].data=Gn(n.e.r+1),M[2][R]={type:M[2][0].type,data:Is(re)};V[0].messages[0].data=Is(M)}P.content=J0(Q0(V)),P.size=P.content.length;var _e=lo(j[4][0].data);(function(){for(var q=_r.find(c,o[_e].location),W=Bl(Vl(q.content)),J,ce=0;ce<W.length;++ce){var ve=W[ce];ve.id==_e&&(J=ve)}var Ee=In(J.messages[0].data);{Ee[3]=[];var le=[];s.forEach(function(ae,je){le[1]=[{type:0,data:Gn(je)}],le[2]=[{type:0,data:Gn(1)}],le[3]=[{type:2,data:pse(ae)}],Ee[3].push({type:2,data:Is(le)})})}J.messages[0].data=Is(Ee);var be=Q0(W),Le=J0(be);q.content=Le,q.size=q.content.length})();var xe=In(j[3][0].data);{var oe=xe[1][0];delete xe[2];var G=In(oe.data);{var fe=lo(G[2][0].data);(function(){for(var q=_r.find(c,o[fe].location),W=Bl(Vl(q.content)),J,ce=0;ce<W.length;++ce){var ve=W[ce];ve.id==fe&&(J=ve)}var Ee=In(J.messages[0].data);{delete Ee[6],delete xe[7];var le=new Uint8Array(Ee[5][0].data);Ee[5]=[];for(var be=0,Le=0;Le<=n.e.r;++Le){var ae=In(le);be+=Ase(ae,a[Le],s),ae[1][0].data=Gn(Le),Ee[5].push({data:Is(ae),type:2})}Ee[1]=[{type:0,data:Gn(n.e.c+1)}],Ee[2]=[{type:0,data:Gn(n.e.r+1)}],Ee[3]=[{type:0,data:Gn(be)}],Ee[4]=[{type:0,data:Gn(n.e.r+1)}]}J.messages[0].data=Is(Ee);var je=Q0(W),Pe=J0(je);q.content=Pe,q.size=q.content.length})()}oe.data=Is(G)}j[3][0].data=Is(xe)}N[4][0].data=Is(j)}m.messages[0].data=Is(N);var X=Q0(g),I=J0(X);return p.content=I,p.size=p.content.length,c}function jF(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function eb(t){jF([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function tb(t){jF([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Ise(t){return sn.WS.indexOf(t)>-1?"sheet":t==sn.CS?"chart":t==sn.DS?"dialog":t==sn.MS?"macro":t&&t.length?t:"sheet"}function Pse(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,Ise(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function Rse(t,e,r,n,i,a,s,o,l,c,f,p){try{a[n]=Lm(pl(t,r,!0),e);var g=Oa(t,e),m;switch(o){case"sheet":m=eae(g,e,i,l,a[n],c,f,p);break;case"chart":if(m=tae(g,e,i,l,a[n],c,f,p),!m||!m["!drawel"])break;var y=wm(m["!drawel"].Target,e),w=dg(y),k=Uee(pl(t,y,!0),Lm(pl(t,w,!0),y)),N=wm(k,y),L=dg(N);m=Aie(pl(t,N,!0),N,l,Lm(pl(t,L,!0),N),c,m);break;case"macro":m=rae(g,e,i,l,a[n],c,f,p);break;case"dialog":m=nae(g,e,i,l,a[n],c,f,p);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=m;var P=[];a&&a[n]&&ua(a[n]).forEach(function(V){var Y="";if(a[n][V].Type==sn.CMNT){Y=wm(a[n][V].Target,e);var Q=oae(Oa(t,Y,!0),Y,l);if(!Q||!Q.length)return;sE(m,Q,!1)}a[n][V].Type==sn.TCMNT&&(Y=wm(a[n][V].Target,e),P=P.concat($ee(Oa(t,Y,!0),l)))}),P&&P.length&&sE(m,P,!0,l.people||[])}catch(V){if(l.WTF)throw V}}function Dl(t){return t.charAt(0)=="/"?t.slice(1):t}function Fse(t,e){if(gp(),e=e||{},eb(e),Ul(t,"META-INF/manifest.xml")||Ul(t,"objectdata.xml"))return xE(t,e);if(Ul(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof A4<"u"){if(t.FileIndex)return A4(t);var r=_r.utils.cfb_new();return N9(t).forEach(function(re){Gr(r,re,qX(t,re))}),A4(r)}throw new Error("Unsupported NUMBERS file")}if(!Ul(t,"[Content_Types].xml"))throw Ul(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ul(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=N9(t),i=OY(pl(t,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Oa(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Oa(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(jm=[],i.sst)try{jm=sae(Oa(t,Dl(i.sst)),i.sst,e)}catch(re){if(e.WTF)throw re}e.cellStyles&&i.themes.length&&(l=aae(pl(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=iae(Oa(t,Dl(i.style)),i.style,l,e))}i.links.map(function(re){try{var pe=Lm(pl(t,dg(Dl(re))),re);return cae(Oa(t,Dl(re)),pe,re,e)}catch{}});var f=Zie(Oa(t,Dl(i.workbooks[0])),i.workbooks[0],e),p={},g="";i.coreprops.length&&(g=Oa(t,Dl(i.coreprops[0]),!0),g&&(p=kR(g)),i.extprops.length!==0&&(g=Oa(t,Dl(i.extprops[0]),!0),g&&qY(g,p,e)));var m={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=pl(t,Dl(i.custprops[0]),!0),g&&(m=WY(g,e)));var y={};if((e.bookSheets||e.bookProps)&&(f.Sheets?s=f.Sheets.map(function(pe){return pe.name}):p.Worksheets&&p.SheetNames.length>0&&(s=p.SheetNames),e.bookProps&&(y.Props=p,y.Custprops=m),e.bookSheets&&typeof s<"u"&&(y.SheetNames=s),e.bookSheets?y.SheetNames:e.bookProps))return y;s={};var w={};e.bookDeps&&i.calcchain&&(w=lae(Oa(t,Dl(i.calcchain)),i.calcchain));var k=0,N={},L,P;{var V=f.Sheets;p.Worksheets=V.length,p.SheetNames=[];for(var Y=0;Y!=V.length;++Y)p.SheetNames[Y]=V[Y].name}var Q=a?"bin":"xml",R=i.workbooks[0].lastIndexOf("/"),T=(i.workbooks[0].slice(0,R+1)+"_rels/"+i.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");Ul(t,T)||(T="xl/_rels/workbook."+Q+".rels");var S=Lm(pl(t,T,!0),T.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=uae(Oa(t,Dl(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Hee(Oa(t,Dl(i.people[0])),e)),S&&(S=Pse(S,f.Sheets));var j=Oa(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(k=0;k!=p.Worksheets;++k){var A="sheet";if(S&&S[k]?(L="xl/"+S[k][1].replace(/[\/]?xl\//,""),Ul(t,L)||(L=S[k][1]),Ul(t,L)||(L=T.replace(/_rels\/.*$/,"")+S[k][1]),A=S[k][2]):(L="xl/worksheets/sheet"+(k+1-j)+"."+Q,L=L.replace(/sheet0\./,"sheet.")),P=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(k!=e.sheets)continue e;break;case"string":if(p.SheetNames[k].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,M=0;M!=e.sheets.length;++M)typeof e.sheets[M]=="number"&&e.sheets[M]==k&&(F=1),typeof e.sheets[M]=="string"&&e.sheets[M].toLowerCase()==p.SheetNames[k].toLowerCase()&&(F=1);if(!F)continue e}}Rse(t,L,P,p.SheetNames[k],k,N,s,A,e,f,l,c)}return y={Directory:i,Workbook:f,Props:p,Custprops:m,Deps:w,Sheets:s,SheetNames:p.SheetNames,Strings:jm,Styles:c,Themes:l,SSF:Ci(Tr)},e&&e.bookFiles&&(t.files?(y.keys=n,y.files=t.files):(y.keys=[],y.files={},t.FullPaths.forEach(function(re,pe){re=re.replace(/^Root Entry[\/]/,""),y.keys.push(re),y.files[re]=t.FileIndex[pe]}))),e&&e.bookVBA&&(i.vba.length>0?y.vbaraw=Oa(t,Dl(i.vba[0]),!0):i.defaults&&i.defaults.bin===Zee&&(y.vbaraw=Oa(t,"xl/vbaProject.bin",!0))),y}function Lse(t,e){var r=e||{},n="Workbook",i=_r.find(t,n);try{if(n="/!DataSpaces/Version",i=_r.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(uZ(i.content),n="/!DataSpaces/DataSpaceMap",i=_r.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=fZ(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=_r.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=hZ(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=_r.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);mZ(i.content)}catch{}if(n="/EncryptionInfo",i=_r.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=gZ(i.content);if(n="/EncryptedPackage",i=_r.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function jse(t,e){return e.bookType=="ods"?LF(t,e):e.bookType=="numbers"?Tse(t,e):e.bookType=="xlsb"?Dse(t,e):Ose(t,e)}function Dse(t,e){d1=1024,t&&!t.SSF&&(t.SSF=Ci(Tr)),t&&t.SSF&&(gp(),Ly(t.SSF),e.revssf=Dy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Dm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=lF.indexOf(e.bookType)>-1,i=V6();tb(e=e||{});var a=C6(),s="",o=0;if(e.cellXfs=[],$f(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Gr(a,s,ER(t.Props,e)),i.coreprops.push(s),Kn(e.rels,2,s,sn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Gr(a,s,NR(t.Props)),i.extprops.push(s),Kn(e.rels,3,s,sn.EXT_PROPS),t.Custprops!==t.Props&&ua(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Gr(a,s,AR(t.Custprops)),i.custprops.push(s),Kn(e.rels,4,s,sn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Gr(a,s,fae(o-1,s,e,t,f)),i.sheets.push(s),Kn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,sn.WS[0])}if(p){var m=p["!comments"],y=!1,w="";m&&m.length>0&&(w="xl/comments"+o+"."+r,Gr(a,w,mae(m,w)),i.comments.push(w),Kn(f,-1,"../comments"+o+"."+r,sn.CMNT),y=!0),p["!legacy"]&&y&&Gr(a,"xl/drawings/vmlDrawing"+o+".vml",sF(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&Gr(a,dg(s),b1(f))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Gr(a,s,pae(e.Strings,s,e)),i.strs.push(s),Kn(e.wbrels,-1,"sharedStrings."+r,sn.SST)),s="xl/workbook."+r,Gr(a,s,dae(t,s)),i.workbooks.push(s),Kn(e.rels,1,s,sn.WB),s="xl/theme/theme1.xml",Gr(a,s,W6(t.Themes,e)),i.themes.push(s),Kn(e.wbrels,-1,"theme/theme1.xml",sn.THEME),s="xl/styles."+r,Gr(a,s,hae(t,s,e)),i.styles.push(s),Kn(e.wbrels,-1,"styles."+r,sn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Gr(a,s,t.vbaraw),i.vba.push(s),Kn(e.wbrels,-1,"vbaProject.bin",sn.VBA)),s="xl/metadata."+r,Gr(a,s,gae(s)),i.metadata.push(s),Kn(e.wbrels,-1,"metadata."+r,sn.XLMETA),Gr(a,"[Content_Types].xml",_R(i,e)),Gr(a,"_rels/.rels",b1(e.rels)),Gr(a,"xl/_rels/workbook."+r+".rels",b1(e.wbrels)),delete e.revssf,delete e.ssf,a}function Ose(t,e){d1=1024,t&&!t.SSF&&(t.SSF=Ci(Tr)),t&&t.SSF&&(gp(),Ly(t.SSF),e.revssf=Dy(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Dm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=lF.indexOf(e.bookType)>-1,i=V6();tb(e=e||{});var a=C6(),s="",o=0;if(e.cellXfs=[],$f(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),s="docProps/core.xml",Gr(a,s,ER(t.Props,e)),i.coreprops.push(s),Kn(e.rels,2,s,sn.CORE_PROPS),s="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Gr(a,s,NR(t.Props)),i.extprops.push(s),Kn(e.rels,3,s,sn.EXT_PROPS),t.Custprops!==t.Props&&ua(t.Custprops||{}).length>0&&(s="docProps/custom.xml",Gr(a,s,AR(t.Custprops)),i.custprops.push(s),Kn(e.rels,4,s,sn.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var p={"!id":{}},g=t.Sheets[t.SheetNames[o-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Gr(a,s,yF(o-1,e,t,p)),i.sheets.push(s),Kn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,sn.WS[0])}if(g){var y=g["!comments"],w=!1,k="";if(y&&y.length>0){var N=!1;y.forEach(function(L){L[1].forEach(function(P){P.T==!0&&(N=!0)})}),N&&(k="xl/threadedComments/threadedComment"+o+"."+r,Gr(a,k,qee(y,f,e)),i.threadedcomments.push(k),Kn(p,-1,"../threadedComments/threadedComment"+o+"."+r,sn.TCMNT)),k="xl/comments"+o+"."+r,Gr(a,k,oF(y)),i.comments.push(k),Kn(p,-1,"../comments"+o+"."+r,sn.CMNT),w=!0}g["!legacy"]&&w&&Gr(a,"xl/drawings/vmlDrawing"+o+".vml",sF(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Gr(a,dg(s),b1(p))}return e.Strings!=null&&e.Strings.length>0&&(s="xl/sharedStrings."+r,Gr(a,s,KR(e.Strings,e)),i.strs.push(s),Kn(e.wbrels,-1,"sharedStrings."+r,sn.SST)),s="xl/workbook."+r,Gr(a,s,EF(t)),i.workbooks.push(s),Kn(e.rels,1,s,sn.WB),s="xl/theme/theme1.xml",Gr(a,s,W6(t.Themes,e)),i.themes.push(s),Kn(e.wbrels,-1,"theme/theme1.xml",sn.THEME),s="xl/styles."+r,Gr(a,s,rF(t,e)),i.styles.push(s),Kn(e.wbrels,-1,"styles."+r,sn.STY),t.vbaraw&&n&&(s="xl/vbaProject.bin",Gr(a,s,t.vbaraw),i.vba.push(s),Kn(e.wbrels,-1,"vbaProject.bin",sn.VBA)),s="xl/metadata."+r,Gr(a,s,aF()),i.metadata.push(s),Kn(e.wbrels,-1,"metadata."+r,sn.XLMETA),f.length>1&&(s="xl/persons/person.xml",Gr(a,s,Wee(f)),i.people.push(s),Kn(e.wbrels,-1,"persons/person.xml",sn.PEOPLE)),Gr(a,"[Content_Types].xml",_R(i,e)),Gr(a,"_rels/.rels",b1(e.rels)),Gr(a,"xl/_rels/workbook."+r+".rels",b1(e.wbrels)),delete e.revssf,delete e.ssf,a}function rb(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=wl(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Mse(t,e){return _r.find(t,"EncryptedPackage")?Lse(t,e):AF(t,e)}function Bse(t,e){var r,n=t,i=e||{};return i.type||(i.type=en&&Buffer.isBuffer(t)?"buffer":"base64"),r=YP(n,i),Fse(r,i)}function DF(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return uw(t.slice(r),e);default:break e}return Y1.to_workbook(t,e)}function Vse(t,e){var r="",n=rb(t,e);switch(e.type){case"base64":r=wl(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=Qh(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ni(r)),e.type="binary",DF(r,e)}function Use(t,e){var r=t;return e.type=="base64"&&(r=wl(r)),r=ag.utils.decode(1200,r.slice(2),"str"),e.type="binary",DF(r,e)}function zse(t){return t.match(/[^\x00-\x7F]/)?iu(t):t}function T4(t,e,r,n){return n?(r.type="string",Y1.to_workbook(t,r)):Y1.to_workbook(e,r)}function hw(t,e){_6();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return hw(new Uint8Array(t),(r=Ci(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),E1={},r.dateNF&&(E1.dateNF=r.dateNF),r.type||(r.type=en&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=en?"buffer":"binary",n=DX(t),typeof Uint8Array<"u"&&!en&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=zse(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Ci(r),r.type="array",hw(b6(n),r)}switch((i=rb(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Mse(_r.read(n,r),r);break;case 9:if(i[1]<=8)return AF(n,r);break;case 60:return uw(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return GJ(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return WR.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Bse(n,r):T4(t,n,r,a);case 239:return i[3]===60?uw(n,r):T4(t,n,r,a);case 255:if(i[1]===254)return Use(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Fh.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Fh.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return cw.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return ZR.to_workbook(n,r);break;case 10:case 13:case 32:return Vse(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return WJ.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?cw.to_workbook(n,r):T4(t,n,r,a)}function OF(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Gg(e.file,_r.write(t,{type:en?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return _r.write(t,e)}function $se(t,e){var r=Ci(e||{}),n=jse(t,r);return qse(n,r)}function qse(t,e){var r={},n=en?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?_r.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Fy(i))}return e.password&&typeof encrypt_agile<"u"?OF(encrypt_agile(i,e.password),e):e.type==="file"?Gg(e.file,i):e.type=="string"?ni(i):i}function Hse(t,e){var r=e||{},n=zae(t,r);return OF(n,r)}function Yc(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return sg(iu(n));case"binary":return iu(n);case"string":return t;case"file":return Gg(e.file,n,"utf8");case"buffer":return en?pd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Yc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Wse(t,e){switch(e.type){case"base64":return sg(t);case"binary":return t;case"string":return t;case"file":return Gg(e.file,t,"binary");case"buffer":return en?pd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function fx(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?sg(r):e.type=="string"?ni(r):r;case"file":return Gg(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function MF(t,e){_6(),Mie(t);var r=Ci(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=MF(t,r);return r.type="array",Fy(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Yc(jae(t,r),r);case"slk":case"sylk":return Yc(HR.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Yc(IF(t.Sheets[t.SheetNames[i]],r),r);case"txt":return Wse(BF(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Yc(nb(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Yc(WR.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return fx(cw.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Yc(Y1.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Yc(ZR.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Yc(GR.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Yc(LF(t,r),r);case"wk1":return fx(Fh.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return fx(Fh.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),fx(TF(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Hse(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return $se(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Gse(t,e,r,n,i,a,s,o){var l=Ca(r),c=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!s||t[r])for(var m=e.s.c;m<=e.e.c;++m){var y=s?t[r][m]:t[n[m]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;a[m]!=null&&(g[a[m]]=c);continue}var w=y.v;switch(y.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(a[m]!=null){if(w==null)if(y.t=="e"&&w===null)g[a[m]]=null;else if(c!==void 0)g[a[m]]=c;else if(f&&w===null)g[a[m]]=null;else continue;else g[a[m]]=f&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?w:sd(y,w,o);w!=null&&(p=!1)}}return{row:g,isempty:p}}function Vv(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},f=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof f){case"string":l=Sn(f);break;case"number":l=Sn(t["!ref"]),l.s.r=f;break;default:l=f}n>0&&(i=0);var p=Ca(l.s.r),g=[],m=[],y=0,w=0,k=Array.isArray(t),N=l.s.r,L=0,P={};k&&!t[N]&&(t[N]=[]);var V=c.skipHidden&&t["!cols"]||[],Y=c.skipHidden&&t["!rows"]||[];for(L=l.s.c;L<=l.e.c;++L)if(!(V[L]||{}).hidden)switch(g[L]=Ki(L),r=k?t[N][L]:t[g[L]+p],n){case 1:a[L]=L-l.s.c;break;case 2:a[L]=g[L];break;case 3:a[L]=c.header[L-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=sd(r,null,c),w=P[s]||0,!w)P[s]=1;else{do o=s+"_"+w++;while(P[o]);P[s]=w,P[o]=1}a[L]=o}for(N=l.s.r+i;N<=l.e.r;++N)if(!(Y[N]||{}).hidden){var Q=Gse(t,l,N,g,n,a,k,c);(Q.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=Q.row)}return m.length=y,m}var bE=/"/g;function Kse(t,e,r,n,i,a,s,o){for(var l=!0,c=[],f="",p=Ca(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var m=o.dense?(t[r]||[])[g]:t[n[g]+p];if(m==null)f="";else if(m.v!=null){l=!1,f=""+(o.rawNumbers&&m.t=="n"?m.v:sd(m,null,o));for(var y=0,w=0;y!==f.length;++y)if((w=f.charCodeAt(y))===i||w===a||w===34||o.forceQuotes){f='"'+f.replace(bE,'""')+'"';break}f=="ID"&&(f='"ID"')}else m.f!=null&&!m.F?(l=!1,f="="+m.f,f.indexOf(",")>=0&&(f='"'+f.replace(bE,'""')+'"')):f="";c.push(f)}return o.blankrows===!1&&l?null:c.join(s)}function nb(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Sn(t["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),f="",p=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(g[y]||{}).hidden||(p[y]=Ki(y));for(var w=0,k=i.s.r;k<=i.e.r;++k)(m[k]||{}).hidden||(f=Kse(t,i,k,p,s,l,a,n),f!=null&&(n.strip&&(f=f.replace(c,"")),(f||n.blankrows!==!1)&&r.push((w++?o:"")+f)));return delete n.dense,r.join("")}function BF(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=nb(t,e);return r}function Xse(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Sn(t["!ref"]),a="",s=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)s[o]=Ki(o);for(var f=i.s.r;f<=i.e.r;++f)for(a=Ca(f),o=i.s.c;o<=i.e.c;++o)if(e=s[o]+a,r=c?(t[f]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function VF(t,e,r){var n=r||{},i=+!n.skipHeader,a=t||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Xi(n.origin):n.origin;s=l.r,o=l.c}var c,f={s:{c:0,r:0},e:{c:o,r:s+e.length-1+i}};if(a["!ref"]){var p=Sn(a["!ref"]);f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),s==-1&&(s=p.e.r+1,f.e.r=s+e.length-1+i)}else s==-1&&(s=0,f.e.r=e.length-1+i);var g=n.header||[],m=0;e.forEach(function(w,k){ua(w).forEach(function(N){(m=g.indexOf(N))==-1&&(g[m=g.length]=N);var L=w[N],P="z",V="",Y=Rr({c:o+m,r:s+k+i});c=vg(a,Y),L&&typeof L=="object"&&!(L instanceof Date)?a[Y]=L:(typeof L=="number"?P="n":typeof L=="boolean"?P="b":typeof L=="string"?P="s":L instanceof Date?(P="d",n.cellDates||(P="n",L=ts(L)),V=n.dateNF||Tr[14]):L===null&&n.nullError&&(P="e",L=0),c?(c.t=P,c.v=L,delete c.w,delete c.R,V&&(c.z=V)):a[Y]=c={t:P,v:L},V&&(c.z=V))})}),f.e.c=Math.max(f.e.c,o+g.length-1);var y=Ca(s);if(i)for(m=0;m<g.length;++m)a[Ki(m+o)+y]={t:"s",v:g[m]};return a["!ref"]=Wr(f),a}function Yse(t,e){return VF(null,t,e)}function vg(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Xi(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?vg(t,Rr(e)):vg(t,Rr({r:e,c:r||0}))}function Qse(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function ib(){return{SheetNames:[],Sheets:{}}}function ab(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=s+i)!=-1;++i);}if(kF(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Jse(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Qse(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Zse(t,e){return t.z=e,t}function UF(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function eoe(t,e,r){return UF(t,"#"+e,r)}function toe(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function roe(t,e,r,n){for(var i=typeof e!="string"?e:Sn(e),a=typeof e=="string"?e:Wr(e),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=vg(t,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var $x={encode_col:Ki,encode_row:Ca,encode_cell:Rr,encode_range:Wr,decode_col:L6,decode_row:F6,split_cell:pY,decode_cell:Xi,decode_range:Go,format_cell:sd,sheet_add_aoa:pR,sheet_add_json:VF,sheet_add_dom:PF,aoa_to_sheet:xp,json_to_sheet:Yse,table_to_sheet:RF,table_to_book:use,sheet_to_csv:nb,sheet_to_txt:BF,sheet_to_json:Vv,sheet_to_html:IF,sheet_to_formulae:Xse,sheet_to_row_object_array:Vv,sheet_get_cell:vg,book_new:ib,book_append_sheet:ab,book_set_sheet_visibility:Jse,cell_set_number_format:Zse,cell_set_hyperlink:UF,cell_set_internal_link:eoe,cell_add_comment:toe,sheet_set_array_formula:roe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const noe=t=>new Promise((e,r)=>{RP.parse(t,{header:!0,skipEmptyLines:!0,complete:n=>e(n.data),error:r})}),ioe=async t=>{const e=await t.arrayBuffer(),r=hw(e,{type:"array"}),n=r.Sheets[r.SheetNames[0]];return $x.sheet_to_json(n)};function zF({pharmacyId:t,onClose:e}){const[r,n]=B.useState("");B.useEffect(()=>{const{overflow:o}=document.body.style;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]);const i=()=>{const o=[{name:"Paracetamol",price:800,description:"OTC analgesic",image:"https://...",category:"Over-the-Counter",stock:50,sku:"PAR-500"},{name:"Ibuprofen",price:1200,description:"NSAID",image:"https://...",category:"Over-the-Counter",stock:30,sku:"IBU-200"}],l=Object.keys(o[0]),c=[l.join(","),...o.map(m=>l.map(y=>m[y]).join(","))].join(`
`),f=new Blob([c],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(f),g=document.createElement("a");g.href=p,g.download="pharmasea_inventory_template.csv",g.click(),URL.revokeObjectURL(p)},a=async o=>{try{n("");const l=o?.[0];if(!l)return;let c=[];l.name.endsWith(".csv")?c=await noe(l):c=await ioe(l);const f=c.map(p=>({name:p.name,price:Number(p.price),description:p.description||"",image:p.image||"",category:p.category||"Over-the-Counter",stock:Number(p.stock||0),sku:p.sku||""})).filter(p=>p.name&&p.price);if(!f.length)throw new Error("No valid rows found. Expect headers: name, price, description, image, category, stock, sku");await rP(f,t),e()}catch(l){n(l.message||"Failed to parse file")}},s=d.jsx("div",{className:`
        fixed inset-0 z-[100]
        grid place-items-center
        bg-black/30 backdrop-blur-sm
        min-h-[100svh]
        animate-fade-in
      `,onClick:e,children:d.jsxs("div",{className:`
          bg-white rounded-3xl p-6 w-[92vw] max-w-sm
          shadow-xl border border-[#9ED3FF]
          max-h-[85svh] overflow-auto
          card-interactive hover:shadow-2xl transition-all duration-300
          animate-bounce-in
        `,onClick:o=>o.stopPropagation(),children:[d.jsx("div",{className:"text-lg font-light font-poppins mb-4 text-black animate-text-reveal",children:"Bulk Upload Products"}),d.jsx("div",{className:"space-y-3 animate-fade-in",style:{animationDelay:"0.1s"},children:d.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"CSV or XLSX File",type:"file",onChange:o=>a(o.target.files),accept:".csv,.xlsx"})}),d.jsxs("div",{className:"flex gap-2 mt-6 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[d.jsx("button",{onClick:i,className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700 btn-interactive hover:scale-105 active:scale-95 transition-all duration-200",children:"Download CSV template"}),d.jsx("button",{className:"flex-1 rounded-full border border-zinc-300 text-zinc-500 text-[13px] font-light py-2 btn-interactive hover:border-zinc-400 hover:scale-105 active:scale-95 transition-all duration-200",onClick:e,children:"Cancel"})]}),r&&d.jsx("div",{className:"mt-3 text-red-600 text-sm animate-shake animate-fade-in",children:r})]})});return la.createPortal(s,document.body)}function Xn(t){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(t)}var Nc=Uint8Array,gl=Uint16Array,sb=Int32Array,ob=new Nc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lb=new Nc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kE=new Nc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$F=function(t,e){for(var r=new gl(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new sb(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},qF=$F(ob,2),aoe=qF.b,pw=qF.r;aoe[28]=258,pw[258]=28;var soe=$F(lb,0),EE=soe.r,mw=new gl(32768);for(var Ei=0;Ei<32768;++Ei){var Xd=(Ei&43690)>>1|(Ei&21845)<<1;Xd=(Xd&52428)>>2|(Xd&13107)<<2,Xd=(Xd&61680)>>4|(Xd&3855)<<4,mw[Ei]=((Xd&65280)>>8|(Xd&255)<<8)>>1}var Bm=(function(t,e,r){for(var n=t.length,i=0,a=new gl(e);i<n;++i)t[i]&&++a[t[i]-1];var s=new gl(e);for(i=1;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new gl(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],f=e-t[i],p=s[t[i]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)o[mw[p]>>l]=c}else for(o=new gl(n),i=0;i<n;++i)t[i]&&(o[i]=mw[s[t[i]-1]++]>>15-t[i]);return o}),r0=new Nc(288);for(var Ei=0;Ei<144;++Ei)r0[Ei]=8;for(var Ei=144;Ei<256;++Ei)r0[Ei]=9;for(var Ei=256;Ei<280;++Ei)r0[Ei]=7;for(var Ei=280;Ei<288;++Ei)r0[Ei]=8;var Uv=new Nc(32);for(var Ei=0;Ei<32;++Ei)Uv[Ei]=5;var ooe=Bm(r0,9,0),loe=Bm(Uv,5,0),HF=function(t){return(t+7)/8|0},coe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Nc(t.subarray(e,r))},Mu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},om=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},I4=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:GF,l:0};if(i==1){var s=new Nc(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(Y,Q){return Y.f-Q.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,f=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=r[r[c].f<r[p].f?c++:p++],l=r[c!=f&&r[c].f<r[p].f?c++:p++],r[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=a[0].s,n=1;n<i;++n)a[n].s>g&&(g=a[n].s);var m=new gl(g+1),y=gw(r[f-1],m,0);if(y>e){var n=0,w=0,k=y-e,N=1<<k;for(a.sort(function(Q,R){return m[R.s]-m[Q.s]||Q.f-R.f});n<i;++n){var L=a[n].s;if(m[L]>e)w+=N-(1<<y-m[L]),m[L]=e;else break}for(w>>=k;w>0;){var P=a[n].s;m[P]<e?w-=1<<e-m[P]++-1:++n}for(;n>=0&&w;--n){var V=a[n].s;m[V]==e&&(--m[V],++w)}y=e}return{t:new Nc(m),l:y}},gw=function(t,e,r){return t.s==-1?Math.max(gw(t.l,e,r+1),gw(t.r,e,r+1)):e[t.s]=r},SE=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new gl(++e),n=0,i=t[0],a=1,s=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=t[o]}return{c:r.subarray(0,n),n:e}},lm=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},WF=function(t,e,r){var n=r.length,i=HF(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},CE=function(t,e,r,n,i,a,s,o,l,c,f){Mu(e,f++,r),++i[256];for(var p=I4(i,15),g=p.t,m=p.l,y=I4(a,15),w=y.t,k=y.l,N=SE(g),L=N.c,P=N.n,V=SE(w),Y=V.c,Q=V.n,R=new gl(19),T=0;T<L.length;++T)++R[L[T]&31];for(var T=0;T<Y.length;++T)++R[Y[T]&31];for(var S=I4(R,7),j=S.t,A=S.l,F=19;F>4&&!j[kE[F-1]];--F);var M=c+5<<3,re=lm(i,r0)+lm(a,Uv)+s,pe=lm(i,g)+lm(a,w)+s+14+3*F+lm(R,j)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&M<=re&&M<=pe)return WF(e,f,t.subarray(l,l+c));var _e,xe,oe,G;if(Mu(e,f,1+(pe<re)),f+=2,pe<re){_e=Bm(g,m,0),xe=g,oe=Bm(w,k,0),G=w;var fe=Bm(j,A,0);Mu(e,f,P-257),Mu(e,f+5,Q-1),Mu(e,f+10,F-4),f+=14;for(var T=0;T<F;++T)Mu(e,f+3*T,j[kE[T]]);f+=3*F;for(var X=[L,Y],I=0;I<2;++I)for(var q=X[I],T=0;T<q.length;++T){var W=q[T]&31;Mu(e,f,fe[W]),f+=j[W],W>15&&(Mu(e,f,q[T]>>5&127),f+=q[T]>>12)}}else _e=ooe,xe=r0,oe=loe,G=Uv;for(var T=0;T<o;++T){var J=n[T];if(J>255){var W=J>>18&31;om(e,f,_e[W+257]),f+=xe[W+257],W>7&&(Mu(e,f,J>>23&31),f+=ob[W]);var ce=J&31;om(e,f,oe[ce]),f+=G[ce],ce>3&&(om(e,f,J>>5&8191),f+=lb[ce])}else om(e,f,_e[J]),f+=xe[J]}return om(e,f,_e[256]),f+xe[256]},uoe=new sb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),GF=new Nc(0),doe=function(t,e,r,n,i,a){var s=a.z||t.length,o=new Nc(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,f=(a.r||0)&7;if(e){f&&(l[0]=a.r>>3);for(var p=uoe[e-1],g=p>>13,m=p&8191,y=(1<<r)-1,w=a.p||new gl(32768),k=a.h||new gl(y+1),N=Math.ceil(r/3),L=2*N,P=function(Pe){return(t[Pe]^t[Pe+1]<<N^t[Pe+2]<<L)&y},V=new sb(25e3),Y=new gl(288),Q=new gl(32),R=0,T=0,S=a.i||0,j=0,A=a.w||0,F=0;S+2<s;++S){var M=P(S),re=S&32767,pe=k[M];if(w[re]=pe,k[M]=re,A<=S){var _e=s-S;if((R>7e3||j>24576)&&(_e>423||!c)){f=CE(t,l,0,V,Y,Q,T,j,F,S-F,f),j=R=T=0,F=S;for(var xe=0;xe<286;++xe)Y[xe]=0;for(var xe=0;xe<30;++xe)Q[xe]=0}var oe=2,G=0,fe=m,X=re-pe&32767;if(_e>2&&M==P(S-X))for(var I=Math.min(g,_e)-1,q=Math.min(32767,S),W=Math.min(258,_e);X<=q&&--fe&&re!=pe;){if(t[S+oe]==t[S+oe-X]){for(var J=0;J<W&&t[S+J]==t[S+J-X];++J);if(J>oe){if(oe=J,G=X,J>I)break;for(var ce=Math.min(X,J-2),ve=0,xe=0;xe<ce;++xe){var Ee=S-X+xe&32767,le=w[Ee],be=Ee-le&32767;be>ve&&(ve=be,pe=Ee)}}}re=pe,pe=w[re],X+=re-pe&32767}if(G){V[j++]=268435456|pw[oe]<<18|EE[G];var Le=pw[oe]&31,ae=EE[G]&31;T+=ob[Le]+lb[ae],++Y[257+Le],++Q[ae],A=S+oe,++R}else V[j++]=t[S],++Y[t[S]]}}for(S=Math.max(S,A);S<s;++S)V[j++]=t[S],++Y[t[S]];f=CE(t,l,c,V,Y,Q,T,j,F,S-F,f),c||(a.r=f&7|l[f/8|0]<<3,f-=7,a.h=k,a.p=w,a.i=S,a.w=A)}else{for(var S=a.w||0;S<s+c;S+=65535){var je=S+65535;je>=s&&(l[f/8|0]=c,je=s),f=WF(l,f+1,t.subarray(S,je))}a.i=s}return coe(o,0,n+HF(f)+i)},KF=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},foe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new Nc(a.length+t.length);s.set(a),s.set(t,a.length),t=s,i.w=a.length}return doe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},XF=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},hoe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=KF();i.p(e.dictionary),XF(t,2,i.d())}};function xw(t,e){e||(e={});var r=KF();r.p(t);var n=foe(t,e,e.dictionary?6:2,4);return hoe(n,e),XF(n,n.length-4,r.d()),n}var poe=typeof TextDecoder<"u"&&new TextDecoder,moe=0;try{poe.decode(GF,{stream:!0}),moe=1}catch{}function goe(t){if(Array.isArray(t))return t}function xoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function NE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function voe(t,e){if(t){if(typeof t=="string")return NE(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?NE(t,e):void 0}}function yoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AE(t,e){return goe(t)||xoe(t,e)||voe(t,e)||yoe()}function TE(t,e="utf8"){return new TextDecoder(e).decode(t)}const woe=new TextEncoder;function _oe(t){return woe.encode(t)}const boe=1024*8,koe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),P4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class cb{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=boe,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof cb)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=P4[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===koe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new P4[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new P4[r](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return TE(this.readBytes(e))}decodeText(e=1,r="utf8"){return TE(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(_oe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function yp(t){let e=t.length;for(;--e>=0;)t[e]=0}const Eoe=3,Soe=258,YF=29,Coe=256,Noe=Coe+1+YF,QF=30,Aoe=512,Toe=new Array((Noe+2)*2);yp(Toe);const Ioe=new Array(QF*2);yp(Ioe);const Poe=new Array(Aoe);yp(Poe);const Roe=new Array(Soe-Eoe+1);yp(Roe);const Foe=new Array(YF);yp(Foe);const Loe=new Array(QF);yp(Loe);const joe=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var vw=joe;const Doe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Ooe=new Uint32Array(Doe()),Moe=(t,e,r,n)=>{const i=Ooe,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Kc=Moe,yw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},JF={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Boe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Voe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Boe(r,n)&&(t[n]=r[n])}}return t},Uoe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},ZF={assign:Voe,flattenChunks:Uoe};let eL=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{eL=!1}const yg=new Uint8Array(256);for(let t=0;t<256;t++)yg[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;yg[254]=yg[254]=1;var zoe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const $oe=(t,e)=>{if(e<65534&&t.subarray&&eL)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var qoe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=yg[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return $oe(a,i)},Hoe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+yg[t[r]]>e?r:e},ww={string2buf:zoe,buf2string:qoe,utf8border:Hoe};function Woe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Goe=Woe;const hx=16209,Koe=16191;var Xoe=function(e,r){let n,i,a,s,o,l,c,f,p,g,m,y,w,k,N,L,P,V,Y,Q,R,T,S,j;const A=e.state;n=e.next_in,S=e.input,i=n+(e.avail_in-5),a=e.next_out,j=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),l=A.dmax,c=A.wsize,f=A.whave,p=A.wnext,g=A.window,m=A.hold,y=A.bits,w=A.lencode,k=A.distcode,N=(1<<A.lenbits)-1,L=(1<<A.distbits)-1;e:do{y<15&&(m+=S[n++]<<y,y+=8,m+=S[n++]<<y,y+=8),P=w[m&N];t:for(;;){if(V=P>>>24,m>>>=V,y-=V,V=P>>>16&255,V===0)j[a++]=P&65535;else if(V&16){Y=P&65535,V&=15,V&&(y<V&&(m+=S[n++]<<y,y+=8),Y+=m&(1<<V)-1,m>>>=V,y-=V),y<15&&(m+=S[n++]<<y,y+=8,m+=S[n++]<<y,y+=8),P=k[m&L];r:for(;;){if(V=P>>>24,m>>>=V,y-=V,V=P>>>16&255,V&16){if(Q=P&65535,V&=15,y<V&&(m+=S[n++]<<y,y+=8,y<V&&(m+=S[n++]<<y,y+=8)),Q+=m&(1<<V)-1,Q>l){e.msg="invalid distance too far back",A.mode=hx;break e}if(m>>>=V,y-=V,V=a-s,Q>V){if(V=Q-V,V>f&&A.sane){e.msg="invalid distance too far back",A.mode=hx;break e}if(R=0,T=g,p===0){if(R+=c-V,V<Y){Y-=V;do j[a++]=g[R++];while(--V);R=a-Q,T=j}}else if(p<V){if(R+=c+p-V,V-=p,V<Y){Y-=V;do j[a++]=g[R++];while(--V);if(R=0,p<Y){V=p,Y-=V;do j[a++]=g[R++];while(--V);R=a-Q,T=j}}}else if(R+=p-V,V<Y){Y-=V;do j[a++]=g[R++];while(--V);R=a-Q,T=j}for(;Y>2;)j[a++]=T[R++],j[a++]=T[R++],j[a++]=T[R++],Y-=3;Y&&(j[a++]=T[R++],Y>1&&(j[a++]=T[R++]))}else{R=a-Q;do j[a++]=j[R++],j[a++]=j[R++],j[a++]=j[R++],Y-=3;while(Y>2);Y&&(j[a++]=j[R++],Y>1&&(j[a++]=j[R++]))}}else if((V&64)===0){P=k[(P&65535)+(m&(1<<V)-1)];continue r}else{e.msg="invalid distance code",A.mode=hx;break e}break}}else if((V&64)===0){P=w[(P&65535)+(m&(1<<V)-1)];continue t}else if(V&32){A.mode=Koe;break e}else{e.msg="invalid literal/length code",A.mode=hx;break e}break}}while(n<i&&a<o);Y=y>>3,n-=Y,y-=Y<<3,m&=(1<<y)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),A.hold=m,A.bits=y};const Z0=15,IE=852,PE=592,RE=0,R4=1,FE=2,Yoe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Qoe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Joe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zoe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ele=(t,e,r,n,i,a,s,o)=>{const l=o.bits;let c=0,f=0,p=0,g=0,m=0,y=0,w=0,k=0,N=0,L=0,P,V,Y,Q,R,T=null,S;const j=new Uint16Array(Z0+1),A=new Uint16Array(Z0+1);let F=null,M,re,pe;for(c=0;c<=Z0;c++)j[c]=0;for(f=0;f<n;f++)j[e[r+f]]++;for(m=l,g=Z0;g>=1&&j[g]===0;g--);if(m>g&&(m=g),g===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&j[p]===0;p++);for(m<p&&(m=p),k=1,c=1;c<=Z0;c++)if(k<<=1,k-=j[c],k<0)return-1;if(k>0&&(t===RE||g!==1))return-1;for(A[1]=0,c=1;c<Z0;c++)A[c+1]=A[c]+j[c];for(f=0;f<n;f++)e[r+f]!==0&&(s[A[e[r+f]]++]=f);if(t===RE?(T=F=s,S=20):t===R4?(T=Yoe,F=Qoe,S=257):(T=Joe,F=Zoe,S=0),L=0,f=0,c=p,R=a,y=m,w=0,Y=-1,N=1<<m,Q=N-1,t===R4&&N>IE||t===FE&&N>PE)return 1;for(;;){M=c-w,s[f]+1<S?(re=0,pe=s[f]):s[f]>=S?(re=F[s[f]-S],pe=T[s[f]-S]):(re=96,pe=0),P=1<<c-w,V=1<<y,p=V;do V-=P,i[R+(L>>w)+V]=M<<24|re<<16|pe|0;while(V!==0);for(P=1<<c-1;L&P;)P>>=1;if(P!==0?(L&=P-1,L+=P):L=0,f++,--j[c]===0){if(c===g)break;c=e[r+s[f]]}if(c>m&&(L&Q)!==Y){for(w===0&&(w=m),R+=p,y=c-w,k=1<<y;y+w<g&&(k-=j[y+w],!(k<=0));)y++,k<<=1;if(N+=1<<y,t===R4&&N>IE||t===FE&&N>PE)return 1;Y=L&Q,i[Y]=m<<24|y<<16|R-a|0}}return L!==0&&(i[R+L]=c-w<<24|64<<16|0),o.bits=m,0};var Vm=ele;const tle=0,tL=1,rL=2,{Z_FINISH:LE,Z_BLOCK:rle,Z_TREES:px,Z_OK:n0,Z_STREAM_END:nle,Z_NEED_DICT:ile,Z_STREAM_ERROR:Xl,Z_DATA_ERROR:nL,Z_MEM_ERROR:iL,Z_BUF_ERROR:ale,Z_DEFLATED:jE}=JF,zy=16180,DE=16181,OE=16182,ME=16183,BE=16184,VE=16185,UE=16186,zE=16187,$E=16188,qE=16189,zv=16190,Bu=16191,F4=16192,HE=16193,L4=16194,WE=16195,GE=16196,KE=16197,XE=16198,mx=16199,gx=16200,YE=16201,QE=16202,JE=16203,ZE=16204,eS=16205,j4=16206,tS=16207,rS=16208,Li=16209,aL=16210,sL=16211,sle=852,ole=592,lle=15,cle=lle,nS=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ule(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const w0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<zy||e.mode>sL?1:0},oL=t=>{if(w0(t))return Xl;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=zy,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(sle),e.distcode=e.distdyn=new Int32Array(ole),e.sane=1,e.back=-1,n0},lL=t=>{if(w0(t))return Xl;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,oL(t)},cL=(t,e)=>{let r;if(w0(t))return Xl;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Xl:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,lL(t))},uL=(t,e)=>{if(!t)return Xl;const r=new ule;t.state=r,r.strm=t,r.window=null,r.mode=zy;const n=cL(t,e);return n!==n0&&(t.state=null),n},dle=t=>uL(t,cle);let iS=!0,D4,O4;const fle=t=>{if(iS){D4=new Int32Array(512),O4=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Vm(tL,t.lens,0,288,D4,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Vm(rL,t.lens,0,32,O4,0,t.work,{bits:5}),iS=!1}t.lencode=D4,t.lenbits=9,t.distcode=O4,t.distbits=5},dL=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},hle=(t,e)=>{let r,n,i,a,s,o,l,c,f,p,g,m,y,w,k=0,N,L,P,V,Y,Q,R,T;const S=new Uint8Array(4);let j,A;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(w0(t)||!t.output||!t.input&&t.avail_in!==0)return Xl;r=t.state,r.mode===Bu&&(r.mode=F4),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,f=r.bits,p=o,g=l,T=n0;e:for(;;)switch(r.mode){case zy:if(r.wrap===0){r.mode=F4;break}for(;f<16;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,S[0]=c&255,S[1]=c>>>8&255,r.check=Kc(r.check,S,2,0),c=0,f=0,r.mode=DE;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Li;break}if((c&15)!==jE){t.msg="unknown compression method",r.mode=Li;break}if(c>>>=4,f-=4,R=(c&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){t.msg="invalid window size",r.mode=Li;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?qE:Bu,c=0,f=0;break;case DE:for(;f<16;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if(r.flags=c,(r.flags&255)!==jE){t.msg="unknown compression method",r.mode=Li;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Li;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,r.check=Kc(r.check,S,2,0)),c=0,f=0,r.mode=OE;case OE:for(;f<32;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,r.check=Kc(r.check,S,4,0)),c=0,f=0,r.mode=ME;case ME:for(;f<16;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,r.check=Kc(r.check,S,2,0)),c=0,f=0,r.mode=BE;case BE:if(r.flags&1024){for(;f<16;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(S[0]=c&255,S[1]=c>>>8&255,r.check=Kc(r.check,S,2,0)),c=0,f=0}else r.head&&(r.head.extra=null);r.mode=VE;case VE:if(r.flags&1024&&(m=r.length,m>o&&(m=o),m&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+m),R)),r.flags&512&&r.wrap&4&&(r.check=Kc(r.check,n,m,a)),o-=m,a+=m,r.length-=m),r.length))break e;r.length=0,r.mode=UE;case UE:if(r.flags&2048){if(o===0)break e;m=0;do R=n[a+m++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&m<o);if(r.flags&512&&r.wrap&4&&(r.check=Kc(r.check,n,m,a)),o-=m,a+=m,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=zE;case zE:if(r.flags&4096){if(o===0)break e;m=0;do R=n[a+m++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&m<o);if(r.flags&512&&r.wrap&4&&(r.check=Kc(r.check,n,m,a)),o-=m,a+=m,R)break e}else r.head&&(r.head.comment=null);r.mode=$E;case $E:if(r.flags&512){for(;f<16;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Li;break}c=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Bu;break;case qE:for(;f<32;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}t.adler=r.check=nS(c),c=0,f=0,r.mode=zv;case zv:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=f,ile;t.adler=r.check=1,r.mode=Bu;case Bu:if(e===rle||e===px)break e;case F4:if(r.last){c>>>=f&7,f-=f&7,r.mode=j4;break}for(;f<3;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}switch(r.last=c&1,c>>>=1,f-=1,c&3){case 0:r.mode=HE;break;case 1:if(fle(r),r.mode=mx,e===px){c>>>=2,f-=2;break e}break;case 2:r.mode=GE;break;case 3:t.msg="invalid block type",r.mode=Li}c>>>=2,f-=2;break;case HE:for(c>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Li;break}if(r.length=c&65535,c=0,f=0,r.mode=L4,e===px)break e;case L4:r.mode=WE;case WE:if(m=r.length,m){if(m>o&&(m=o),m>l&&(m=l),m===0)break e;i.set(n.subarray(a,a+m),s),o-=m,a+=m,l-=m,s+=m,r.length-=m;break}r.mode=Bu;break;case GE:for(;f<14;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if(r.nlen=(c&31)+257,c>>>=5,f-=5,r.ndist=(c&31)+1,c>>>=5,f-=5,r.ncode=(c&15)+4,c>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Li;break}r.have=0,r.mode=KE;case KE:for(;r.have<r.ncode;){for(;f<3;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}r.lens[F[r.have++]]=c&7,c>>>=3,f-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,j={bits:r.lenbits},T=Vm(tle,r.lens,0,19,r.lencode,0,r.work,j),r.lenbits=j.bits,T){t.msg="invalid code lengths set",r.mode=Li;break}r.have=0,r.mode=XE;case XE:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[c&(1<<r.lenbits)-1],N=k>>>24,L=k>>>16&255,P=k&65535,!(N<=f);){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if(P<16)c>>>=N,f-=N,r.lens[r.have++]=P;else{if(P===16){for(A=N+2;f<A;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if(c>>>=N,f-=N,r.have===0){t.msg="invalid bit length repeat",r.mode=Li;break}R=r.lens[r.have-1],m=3+(c&3),c>>>=2,f-=2}else if(P===17){for(A=N+3;f<A;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}c>>>=N,f-=N,R=0,m=3+(c&7),c>>>=3,f-=3}else{for(A=N+7;f<A;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}c>>>=N,f-=N,R=0,m=11+(c&127),c>>>=7,f-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Li;break}for(;m--;)r.lens[r.have++]=R}}if(r.mode===Li)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Li;break}if(r.lenbits=9,j={bits:r.lenbits},T=Vm(tL,r.lens,0,r.nlen,r.lencode,0,r.work,j),r.lenbits=j.bits,T){t.msg="invalid literal/lengths set",r.mode=Li;break}if(r.distbits=6,r.distcode=r.distdyn,j={bits:r.distbits},T=Vm(rL,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,j),r.distbits=j.bits,T){t.msg="invalid distances set",r.mode=Li;break}if(r.mode=mx,e===px)break e;case mx:r.mode=gx;case gx:if(o>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=f,Xoe(t,g),s=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,c=r.hold,f=r.bits,r.mode===Bu&&(r.back=-1);break}for(r.back=0;k=r.lencode[c&(1<<r.lenbits)-1],N=k>>>24,L=k>>>16&255,P=k&65535,!(N<=f);){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if(L&&(L&240)===0){for(V=N,Y=L,Q=P;k=r.lencode[Q+((c&(1<<V+Y)-1)>>V)],N=k>>>24,L=k>>>16&255,P=k&65535,!(V+N<=f);){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}c>>>=V,f-=V,r.back+=V}if(c>>>=N,f-=N,r.back+=N,r.length=P,L===0){r.mode=eS;break}if(L&32){r.back=-1,r.mode=Bu;break}if(L&64){t.msg="invalid literal/length code",r.mode=Li;break}r.extra=L&15,r.mode=YE;case YE:if(r.extra){for(A=r.extra;f<A;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=QE;case QE:for(;k=r.distcode[c&(1<<r.distbits)-1],N=k>>>24,L=k>>>16&255,P=k&65535,!(N<=f);){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if((L&240)===0){for(V=N,Y=L,Q=P;k=r.distcode[Q+((c&(1<<V+Y)-1)>>V)],N=k>>>24,L=k>>>16&255,P=k&65535,!(V+N<=f);){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}c>>>=V,f-=V,r.back+=V}if(c>>>=N,f-=N,r.back+=N,L&64){t.msg="invalid distance code",r.mode=Li;break}r.offset=P,r.extra=L&15,r.mode=JE;case JE:if(r.extra){for(A=r.extra;f<A;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Li;break}r.mode=ZE;case ZE:if(l===0)break e;if(m=g-l,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Li;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),w=r.window}else w=i,y=s-r.offset,m=r.length;m>l&&(m=l),l-=m,r.length-=m;do i[s++]=w[y++];while(--m);r.length===0&&(r.mode=gx);break;case eS:if(l===0)break e;i[s++]=r.length,l--,r.mode=gx;break;case j4:if(r.wrap){for(;f<32;){if(o===0)break e;o--,c|=n[a++]<<f,f+=8}if(g-=l,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Kc(r.check,i,g,s-g):vw(r.check,i,g,s-g)),g=l,r.wrap&4&&(r.flags?c:nS(c))!==r.check){t.msg="incorrect data check",r.mode=Li;break}c=0,f=0}r.mode=tS;case tS:if(r.wrap&&r.flags){for(;f<32;){if(o===0)break e;o--,c+=n[a++]<<f,f+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Li;break}c=0,f=0}r.mode=rS;case rS:T=nle;break e;case Li:T=nL;break e;case aL:return iL;case sL:default:return Xl}return t.next_out=s,t.avail_out=l,t.next_in=a,t.avail_in=o,r.hold=c,r.bits=f,(r.wsize||g!==t.avail_out&&r.mode<Li&&(r.mode<j4||e!==LE))&&dL(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Kc(r.check,i,g,t.next_out-g):vw(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Bu?128:0)+(r.mode===mx||r.mode===L4?256:0),(p===0&&g===0||e===LE)&&T===n0&&(T=ale),T},ple=t=>{if(w0(t))return Xl;let e=t.state;return e.window&&(e.window=null),t.state=null,n0},mle=(t,e)=>{if(w0(t))return Xl;const r=t.state;return(r.wrap&2)===0?Xl:(r.head=e,e.done=!1,n0)},gle=(t,e)=>{const r=e.length;let n,i,a;return w0(t)||(n=t.state,n.wrap!==0&&n.mode!==zv)?Xl:n.mode===zv&&(i=1,i=vw(i,e,r,0),i!==n.check)?nL:(a=dL(t,e,r,r),a?(n.mode=aL,iL):(n.havedict=1,n0))};var xle=lL,vle=cL,yle=oL,wle=dle,_le=uL,ble=hle,kle=ple,Ele=mle,Sle=gle,Cle="pako inflate (from Nodeca project)",Uu={inflateReset:xle,inflateReset2:vle,inflateResetKeep:yle,inflateInit:wle,inflateInit2:_le,inflate:ble,inflateEnd:kle,inflateGetHeader:Ele,inflateSetDictionary:Sle,inflateInfo:Cle};function Nle(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ale=Nle;const fL=Object.prototype.toString,{Z_NO_FLUSH:Tle,Z_FINISH:Ile,Z_OK:wg,Z_STREAM_END:M4,Z_NEED_DICT:B4,Z_STREAM_ERROR:Ple,Z_DATA_ERROR:aS,Z_MEM_ERROR:Rle}=JF;function t2(t){this.options=ZF.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Goe,this.strm.avail_out=0;let r=Uu.inflateInit2(this.strm,e.windowBits);if(r!==wg)throw new Error(yw[r]);if(this.header=new Ale,Uu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ww.string2buf(e.dictionary):fL.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Uu.inflateSetDictionary(this.strm,e.dictionary),r!==wg)))throw new Error(yw[r])}t2.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Ile:Tle,fL.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Uu.inflate(r,s),a===B4&&i&&(a=Uu.inflateSetDictionary(r,i),a===wg?a=Uu.inflate(r,s):a===aS&&(a=B4));r.avail_in>0&&a===M4&&r.state.wrap>0&&t[r.next_in]!==0;)Uu.inflateReset(r),a=Uu.inflate(r,s);switch(a){case Ple:case aS:case B4:case Rle:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===M4))if(this.options.to==="string"){let l=ww.utf8border(r.output,r.next_out),c=r.next_out-l,f=ww.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===wg&&o===0)){if(a===M4)return a=Uu.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};t2.prototype.onData=function(t){this.chunks.push(t)};t2.prototype.onEnd=function(t){t===wg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ZF.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Fle(t,e){const r=new t2(e);if(r.push(t),r.err)throw r.msg||yw[r.err];return r.result}var Lle=t2,jle=Fle,Dle={Inflate:Lle,inflate:jle};const{Inflate:Ole,inflate:Mle}=Dle;var sS=Ole,Ble=Mle;const hL=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;hL[t]=e}const oS=4294967295;function Vle(t,e,r){let n=t;for(let i=0;i<r;i++)n=hL[(n^e[i])&255]^n>>>8;return n}function Ule(t,e){return(Vle(oS,t,e)^oS)>>>0}function lS(t,e,r){const n=t.readUint32(),i=Ule(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function pL(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function mL(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function gL(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function xL(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function vL(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+zle(e[a-i],r[a],r[a-i])&255}}function zle(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),s=Math.abs(n-r);return i<=a&&i<=s?t:a<=s?e:r}function $le(t,e,r,n,i,a){switch(t){case 0:pL(e,r,i);break;case 1:mL(e,r,i,a);break;case 2:gL(e,r,n,i);break;case 3:xL(e,r,n,i,a);break;case 4:vL(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const qle=new Uint16Array([255]),Hle=new Uint8Array(qle.buffer),Wle=Hle[0]===255;function Gle(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let f=0;f<7;f++){const p=s[f],g=Math.ceil((r-p.x)/p.xStep),m=Math.ceil((n-p.y)/p.yStep);if(g<=0||m<=0)continue;const y=g*o,w=new Uint8Array(y);for(let k=0;k<m;k++){const N=e[c++],L=e.subarray(c,c+y);c+=y;const P=new Uint8Array(y);$le(N,L,P,w,y,o),w.set(P);for(let V=0;V<g;V++){const Y=p.x+V*p.xStep,Q=p.y+k*p.yStep;if(!(Y>=r||Q>=n))for(let R=0;R<o;R++)l[(Q*r+Y)*o+R]=P[V*o+R]}}}if(a===16){const f=new Uint16Array(l.buffer);if(Wle)for(let p=0;p<f.length;p++)f[p]=Kle(f[p]);return f}else return l}function Kle(t){return(t&255)<<8|t>>8&255}const Xle=new Uint16Array([255]),Yle=new Uint8Array(Xle.buffer),Qle=Yle[0]===255,Jle=new Uint8Array(0);function cS(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=Jle,f=0,p,g;for(let m=0;m<n;m++){switch(p=e.subarray(f+1,f+1+o),g=l.subarray(m*o,(m+1)*o),e[f]){case 0:pL(p,g,o);break;case 1:mL(p,g,o,s);break;case 2:gL(p,g,c,o);break;case 3:xL(p,g,c,o,s);break;case 4:vL(p,g,c,o,s);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}c=g,f+=o+1}if(a===16){const m=new Uint16Array(l.buffer);if(Qle)for(let y=0;y<m.length;y++)m[y]=Zle(m[y]);return m}else return l}function Zle(t){return(t&255)<<8|t>>8&255}const qx=Uint8Array.of(137,80,78,71,13,10,26,10);function uS(t){if(!ece(t.readBytes(qx.length)))throw new Error("wrong PNG signature")}function ece(t){if(t.length<qx.length)return!1;for(let e=0;e<qx.length;e++)if(t[e]!==qx[e])return!1;return!0}const tce="tEXt",rce=0,yL=new TextDecoder("latin1");function nce(t){if(ace(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const ice=/^[\u0000-\u00FF]*$/;function ace(t){if(!ice.test(t))throw new Error("invalid latin1 text")}function sce(t,e,r){const n=wL(e);t[n]=oce(e,r-n.length-1)}function wL(t){for(t.mark();t.readByte()!==rce;);const e=t.offset;t.reset();const r=yL.decode(t.readBytes(e-t.offset-1));return t.skip(1),nce(r),r}function oce(t,e){return yL.decode(t.readBytes(e))}const ul={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},V4={UNKNOWN:-1,DEFLATE:0},dS={UNKNOWN:-1,ADAPTIVE:0},U4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},xx={NONE:0,BACKGROUND:1,PREVIOUS:2},z4={SOURCE:0,OVER:1};class lce extends cb{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new sS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=V4.UNKNOWN,this._filterMethod=dS.UNKNOWN,this._interlaceMethod=U4.UNKNOWN,this._colorType=ul.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(uS(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(uS(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case tce:sce(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?lS(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?lS(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=cce(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case ul.GREYSCALE:n=1;break;case ul.TRUECOLOUR:n=3;break;case ul.INDEXED_COLOUR:n=1;break;case ul.GREYSCALE_ALPHA:n=2;break;case ul.TRUECOLOUR_ALPHA:n=4;break;case ul.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==V4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ul.GREYSCALE:case ul.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case ul.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case ul.UNKNOWN:case ul.GREYSCALE_ALPHA:case ul.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=wL(this),n=this.readUint8();if(n!==V4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Ble(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=cS({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case xx.NONE:break;case xx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const s=(i*e.width+a)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[s+o]=0}break;case xx.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,s)=>{const o=((a+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,l=(a*r.width+s)*this._png.channels;return{index:o,frameIndex:l}};switch(r.blendOp){case z4.SOURCE:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:l}=i(a,s);for(let c=0;c<this._png.channels;c++)e.data[o+c]=r.data[l+c]}break;case z4.OVER:for(let a=0;a<r.height;a++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:l}=i(a,s);for(let c=0;c<this._png.channels;c++){const f=r.data[l+this._png.channels-1]/n,p=c%(this._png.channels-1)===0?1:r.data[l+c],g=Math.floor(f*p+(1-f)*e.data[o+c]);e.data[o+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==dS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===U4.NO_INTERLACE)this._png.data=cS({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===U4.ADAM7)this._png.data=Gle({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:xx.NONE,blendOp:z4.SOURCE,data:e}),this._inflator=new sS,this._writingDataChunks=!1}}function cce(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var fS;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(fS||(fS={}));function uce(t,e){return new lce(t,e).decode()}var Or=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function $4(){Or.console&&typeof Or.console.log=="function"&&Or.console.log.apply(Or.console,arguments)}var ci={log:$4,warn:function(t){Or.console&&(typeof Or.console.warn=="function"?Or.console.warn.apply(Or.console,arguments):$4.call(null,arguments))},error:function(t){Or.console&&(typeof Or.console.error=="function"?Or.console.error.apply(Or.console,arguments):$4(t))}};function q4(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){mh(n.response,e,r)},n.onerror=function(){ci.error("could not download file")},n.send()}function hS(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function vx(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var mh=Or.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Or?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Or.URL||Or.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?hS(i.href)?q4(t,e,r):vx(i,i.target="_blank"):vx(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){vx(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(hS(t))q4(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){vx(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:Xn(a)!=="object"&&(ci.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return q4(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(Or.HTMLElement)||Or.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(t)}else{var l=Or.URL||Or.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function _L(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var Hx=Or.atob.bind(Or),pS=Or.btoa.bind(Or);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function H4(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=no(r,n,i,a,e[0],7,-680876936),a=no(a,r,n,i,e[1],12,-389564586),i=no(i,a,r,n,e[2],17,606105819),n=no(n,i,a,r,e[3],22,-1044525330),r=no(r,n,i,a,e[4],7,-176418897),a=no(a,r,n,i,e[5],12,1200080426),i=no(i,a,r,n,e[6],17,-1473231341),n=no(n,i,a,r,e[7],22,-45705983),r=no(r,n,i,a,e[8],7,1770035416),a=no(a,r,n,i,e[9],12,-1958414417),i=no(i,a,r,n,e[10],17,-42063),n=no(n,i,a,r,e[11],22,-1990404162),r=no(r,n,i,a,e[12],7,1804603682),a=no(a,r,n,i,e[13],12,-40341101),i=no(i,a,r,n,e[14],17,-1502002290),r=io(r,n=no(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=io(a,r,n,i,e[6],9,-1069501632),i=io(i,a,r,n,e[11],14,643717713),n=io(n,i,a,r,e[0],20,-373897302),r=io(r,n,i,a,e[5],5,-701558691),a=io(a,r,n,i,e[10],9,38016083),i=io(i,a,r,n,e[15],14,-660478335),n=io(n,i,a,r,e[4],20,-405537848),r=io(r,n,i,a,e[9],5,568446438),a=io(a,r,n,i,e[14],9,-1019803690),i=io(i,a,r,n,e[3],14,-187363961),n=io(n,i,a,r,e[8],20,1163531501),r=io(r,n,i,a,e[13],5,-1444681467),a=io(a,r,n,i,e[2],9,-51403784),i=io(i,a,r,n,e[7],14,1735328473),r=ao(r,n=io(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=ao(a,r,n,i,e[8],11,-2022574463),i=ao(i,a,r,n,e[11],16,1839030562),n=ao(n,i,a,r,e[14],23,-35309556),r=ao(r,n,i,a,e[1],4,-1530992060),a=ao(a,r,n,i,e[4],11,1272893353),i=ao(i,a,r,n,e[7],16,-155497632),n=ao(n,i,a,r,e[10],23,-1094730640),r=ao(r,n,i,a,e[13],4,681279174),a=ao(a,r,n,i,e[0],11,-358537222),i=ao(i,a,r,n,e[3],16,-722521979),n=ao(n,i,a,r,e[6],23,76029189),r=ao(r,n,i,a,e[9],4,-640364487),a=ao(a,r,n,i,e[12],11,-421815835),i=ao(i,a,r,n,e[15],16,530742520),r=so(r,n=ao(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=so(a,r,n,i,e[7],10,1126891415),i=so(i,a,r,n,e[14],15,-1416354905),n=so(n,i,a,r,e[5],21,-57434055),r=so(r,n,i,a,e[12],6,1700485571),a=so(a,r,n,i,e[3],10,-1894986606),i=so(i,a,r,n,e[10],15,-1051523),n=so(n,i,a,r,e[1],21,-2054922799),r=so(r,n,i,a,e[8],6,1873313359),a=so(a,r,n,i,e[15],10,-30611744),i=so(i,a,r,n,e[6],15,-1560198380),n=so(n,i,a,r,e[13],21,1309151649),r=so(r,n,i,a,e[4],6,-145523070),a=so(a,r,n,i,e[11],10,-1120210379),i=so(i,a,r,n,e[2],15,718787259),n=so(n,i,a,r,e[9],21,-343485551),t[0]=df(r,t[0]),t[1]=df(n,t[1]),t[2]=df(i,t[2]),t[3]=df(a,t[3])}function $y(t,e,r,n,i,a){return e=df(df(e,t),df(n,a)),df(e<<i|e>>>32-i,r)}function no(t,e,r,n,i,a,s){return $y(e&r|~e&n,t,e,i,a,s)}function io(t,e,r,n,i,a,s){return $y(e&n|r&~n,t,e,i,a,s)}function ao(t,e,r,n,i,a,s){return $y(e^r^n,t,e,i,a,s)}function so(t,e,r,n,i,a,s){return $y(r^(e|~n),t,e,i,a,s)}function bL(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)H4(n,dce(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(H4(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,H4(n,i),n}function dce(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var mS="0123456789abcdef".split("");function fce(t){for(var e="",r=0;r<4;r++)e+=mS[t>>8*r+4&15]+mS[t>>8*r&15];return e}function hce(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function _w(t){return bL(t).map(hce).join("")}var pce=(function(t){for(var e=0;e<t.length;e++)t[e]=fce(t[e]);return t.join("")})(bL("hello"))!="5d41402abc4b2a76b9719d911017c592";function df(t,e){if(pce){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function bw(t,e){var r,n,i,a;if(t!==r){for(var s=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var f=o[l];c=(c+f+s.charCodeAt(l))%256,o[l]=o[c],o[c]=f}r=t,n=o}else o=n;var p=e.length,g=0,m=0,y="";for(l=0;l<p;l++)m=(m+(f=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=f,s=o[(o[g]+o[m])%256],y+=String.fromCharCode(e.charCodeAt(l)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var gS={print:4,modify:8,copy:16,"annot-forms":32};function c1(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(gS.perm!==void 0)throw new Error("Invalid permission: "+o);i+=gS[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=_w(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=bw(this.encryptionKey,this.padding)}function u1(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function xS(t){if(Xn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var s=e[r][a];try{s[0].apply(t,n)}catch(o){Or.console&&ci.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function $v(t){if(!(this instanceof $v))return new $v(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function kL(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function _h(t,e,r,n,i){if(!(this instanceof _h))return new _h(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,kL.call(this,n,i)}function f1(t,e,r,n,i){if(!(this instanceof f1))return new f1(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,kL.call(this,n,i)}function yr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",f=null;Xn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=xS;var y="1.3",w=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(O){y=O};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return k};var N=m.__private__.getPageFormat=function(O){return k[O]};i=i||"a4";var L="compat",P="advanced",V=L;function Y(){this.saveGraphicsState(),de(new ir(yt,0,0,-yt,0,Ia()*yt).toString()+" cm"),this.setFontSize(this.getFontSize()/yt),c="n",V=P}function Q(){this.restoreGraphicsState(),c="S",V=L}var R=m.__private__.combineFontStyleAndFontWeight=function(O,ee){if(O=="bold"&&ee=="normal"||O=="bold"&&ee==400||O=="normal"&&ee=="italic"||O=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(O=ee==400||ee==="normal"?O==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||O!=="normal"?(ee==700?"bold":ee)+""+O:"bold"),O};m.advancedAPI=function(O){var ee=V===L;return ee&&Y.call(this),typeof O!="function"||(O(this),ee&&Q.call(this)),this},m.compatAPI=function(O){var ee=V===P;return ee&&Q.call(this),typeof O!="function"||(O(this),ee&&Y.call(this)),this},m.isAdvancedAPI=function(){return V===P};var T,S=function(O){if(V!==P)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=m.roundToPrecision=m.__private__.roundToPrecision=function(O,ee){var Ce=e||ee;if(isNaN(O)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(Ce).replace(/0+$/,"")};T=m.hpf=m.__private__.hpf=typeof l=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return j(O,l)}:l==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return j(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return j(O,16)};var A=m.f2=m.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return j(O,2)},F=m.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return j(O,3)},M=m.scale=m.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return V===L?O*yt:V===P?O:void 0},re=function(O){return M((function(ee){return V===L?Ia()-ee:V===P?ee:void 0})(O))};m.__private__.setPrecision=m.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var pe,_e="00000000000000000000000000000000",xe=m.__private__.getFileId=function(){return _e},oe=m.__private__.setFileId=function(O){return _e=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():_e.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Fn=new c1(f.userPermissions,f.userPassword,f.ownerPassword,_e)),_e};m.setFileId=function(O){return oe(O),this},m.getFileId=function(){return xe()};var G=m.__private__.convertDateToPDFDate=function(O){var ee=O.getTimezoneOffset(),Ce=ee<0?"+":"-",Oe=Math.floor(Math.abs(ee/60)),We=Math.abs(ee%60),vt=[Ce,W(Oe),"'",W(We),"'"].join("");return["D:",O.getFullYear(),W(O.getMonth()+1),W(O.getDate()),W(O.getHours()),W(O.getMinutes()),W(O.getSeconds()),vt].join("")},fe=m.__private__.convertPDFDateToDate=function(O){var ee=parseInt(O.substr(2,4),10),Ce=parseInt(O.substr(6,2),10)-1,Oe=parseInt(O.substr(8,2),10),We=parseInt(O.substr(10,2),10),vt=parseInt(O.substr(12,2),10),kt=parseInt(O.substr(14,2),10);return new Date(ee,Ce,Oe,We,vt,kt,0)},X=m.__private__.setCreationDate=function(O){var ee;if(O===void 0&&(O=new Date),O instanceof Date)ee=G(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=O}return pe=ee},I=m.__private__.getCreationDate=function(O){var ee=pe;return O==="jsDate"&&(ee=fe(pe)),ee};m.setCreationDate=function(O){return X(O),this},m.getCreationDate=function(O){return I(O)};var q,W=m.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},J=m.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},ce=0,ve=[],Ee=[],le=0,be=[],Le=[],ae=!1,je=Ee;m.__private__.setCustomOutputDestination=function(O){ae=!0,je=O};var Pe=function(O){ae||(je=O)};m.__private__.resetCustomOutputDestination=function(){ae=!1,je=Ee};var de=m.__private__.out=function(O){return O=O.toString(),le+=O.length+1,je.push(O),je},Me=m.__private__.write=function(O){return de(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},Be=m.__private__.getArrayBuffer=function(O){for(var ee=O.length,Ce=new ArrayBuffer(ee),Oe=new Uint8Array(Ce);ee--;)Oe[ee]=O.charCodeAt(ee);return Ce},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return et};var ne=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(O){return ne=V===P?O/yt:O,this};var De,Ke=m.__private__.getFontSize=m.getFontSize=function(){return V===L?ne:ne*yt},mt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(O){return mt=O,this},m.__private__.getR2L=m.getR2L=function(){return mt};var Et,Re=m.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))De=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');De=O}else De=parseInt(O,10)};m.__private__.getZoomMode=function(){return De};var qe,Ge=m.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');Et=O};m.__private__.getPageMode=function(){return Et};var dt=m.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');qe=O};m.__private__.getLayoutMode=function(){return qe},m.__private__.setDisplayMode=m.setDisplayMode=function(O,ee,Ce){return Re(O),dt(ee),Ge(Ce),this};var Nt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(O){if(Object.keys(Nt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Nt[O]},m.__private__.getDocumentProperties=function(){return Nt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(O){for(var ee in Nt)Nt.hasOwnProperty(ee)&&O[ee]&&(Nt[ee]=O[ee]);return this},m.__private__.setDocumentProperty=function(O,ee){if(Object.keys(Nt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Nt[O]=ee};var It,yt,wt,Xt,qt,Bt={},mr={},qr=[],fr={},He={},Ot={},hr={},Zt=null,Qt=0,Wt=[],br=new xS(m),Dn=t.hotfixes||[],jr={},Cn={},mn=[],ir=function O(ee,Ce,Oe,We,vt,kt){if(!(this instanceof O))return new O(ee,Ce,Oe,We,vt,kt);isNaN(ee)&&(ee=1),isNaN(Ce)&&(Ce=0),isNaN(Oe)&&(Oe=0),isNaN(We)&&(We=1),isNaN(vt)&&(vt=0),isNaN(kt)&&(kt=0),this._matrix=[ee,Ce,Oe,We,vt,kt]};Object.defineProperty(ir.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(ir.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(ir.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(ir.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(ir.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(ir.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(ir.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(ir.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(ir.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(ir.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(ir.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(ir.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(ir.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ir.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ir.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ir.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ir.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(O)},ir.prototype.multiply=function(O){var ee=O.sx*this.sx+O.shy*this.shx,Ce=O.sx*this.shy+O.shy*this.sy,Oe=O.shx*this.sx+O.sy*this.shx,We=O.shx*this.shy+O.sy*this.sy,vt=O.tx*this.sx+O.ty*this.shx+this.tx,kt=O.tx*this.shy+O.ty*this.sy+this.ty;return new ir(ee,Ce,Oe,We,vt,kt)},ir.prototype.decompose=function(){var O=this.sx,ee=this.shy,Ce=this.shx,Oe=this.sy,We=this.tx,vt=this.ty,kt=Math.sqrt(O*O+ee*ee),Yt=(O/=kt)*Ce+(ee/=kt)*Oe;Ce-=O*Yt,Oe-=ee*Yt;var tr=Math.sqrt(Ce*Ce+Oe*Oe);return Yt/=tr,O*(Oe/=tr)<ee*(Ce/=tr)&&(O=-O,ee=-ee,Yt=-Yt,kt=-kt),{scale:new ir(kt,0,0,tr,0,0),translate:new ir(1,0,0,1,We,vt),rotate:new ir(O,ee,-ee,O,0,0),skew:new ir(1,0,Yt,1,0,0)}},ir.prototype.toString=function(O){return this.join(" ")},ir.prototype.inversed=function(){var O=this.sx,ee=this.shy,Ce=this.shx,Oe=this.sy,We=this.tx,vt=this.ty,kt=1/(O*Oe-ee*Ce),Yt=Oe*kt,tr=-ee*kt,wr=-Ce*kt,Ir=O*kt;return new ir(Yt,tr,wr,Ir,-Yt*We-wr*vt,-tr*We-Ir*vt)},ir.prototype.applyToPoint=function(O){var ee=O.x*this.sx+O.y*this.shx+this.tx,Ce=O.x*this.shy+O.y*this.sy+this.ty;return new yo(ee,Ce)},ir.prototype.applyToRectangle=function(O){var ee=this.applyToPoint(O),Ce=this.applyToPoint(new yo(O.x+O.w,O.y+O.h));return new El(ee.x,ee.y,Ce.x-ee.x,Ce.y-ee.y)},ir.prototype.clone=function(){var O=this.sx,ee=this.shy,Ce=this.shx,Oe=this.sy,We=this.tx,vt=this.ty;return new ir(O,ee,Ce,Oe,We,vt)},m.Matrix=ir;var Kr=m.matrixMult=function(O,ee){return ee.multiply(O)},vi=new ir(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=vi;var Rn=function(O,ee){if(!He[O]){var Ce=(ee instanceof _h?"Sh":"P")+(Object.keys(fr).length+1).toString(10);ee.id=Ce,He[O]=Ce,fr[Ce]=ee,br.publish("addPattern",ee)}};m.ShadingPattern=_h,m.TilingPattern=f1,m.addShadingPattern=function(O,ee){return S("addShadingPattern()"),Rn(O,ee),this},m.beginTilingPattern=function(O){S("beginTilingPattern()"),Wa(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},m.endTilingPattern=function(O,ee){S("endTilingPattern()"),ee.stream=Le[q].join(`
`),Rn(O,ee),br.publish("endTilingPattern",ee),mn.pop().restore()};var Bi,Nn=m.__private__.newObject=function(){var O=si();return ie(O,!0),O},si=m.__private__.newObjectDeferred=function(){return ce++,ve[ce]=function(){return le},ce},ie=function(O,ee){return ee=typeof ee=="boolean"&&ee,ve[O]=le,ee&&de(O+" 0 obj"),O},Ae=m.__private__.newAdditionalObject=function(){var O={objId:si(),content:""};return be.push(O),O},we=si(),ke=si(),Te=m.__private__.decodeColorString=function(O){var ee=O.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length!==5||ee[4]!=="k"&&ee[4]!=="K"||(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Ce=parseFloat(ee[0]);ee=[Ce,Ce,Ce,"r"]}for(var Oe="#",We=0;We<3;We++)Oe+=("0"+Math.floor(255*parseFloat(ee[We])).toString(16)).slice(-2);return Oe},Ie=m.__private__.encodeColorString=function(O){var ee;typeof O=="string"&&(O={ch1:O});var Ce=O.ch1,Oe=O.ch2,We=O.ch3,vt=O.ch4,kt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var Yt=new _L(Ce);if(Yt.ok)Ce=Yt.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var tr=parseInt(Ce.substr(1),16);Ce=tr>>16&255,Oe=tr>>8&255,We=255&tr}if(Oe===void 0||vt===void 0&&Ce===Oe&&Oe===We)ee=typeof Ce=="string"?Ce+" "+kt[0]:O.precision===2?A(Ce/255)+" "+kt[0]:F(Ce/255)+" "+kt[0];else if(vt===void 0||Xn(vt)==="object"){if(vt&&!isNaN(vt.a)&&vt.a===0)return["1.","1.","1.",kt[1]].join(" ");ee=typeof Ce=="string"?[Ce,Oe,We,kt[1]].join(" "):O.precision===2?[A(Ce/255),A(Oe/255),A(We/255),kt[1]].join(" "):[F(Ce/255),F(Oe/255),F(We/255),kt[1]].join(" ")}else ee=typeof Ce=="string"?[Ce,Oe,We,vt,kt[2]].join(" "):O.precision===2?[A(Ce),A(Oe),A(We),A(vt),kt[2]].join(" "):[F(Ce),F(Oe),F(We),F(vt),kt[2]].join(" ");return ee},Qe=m.__private__.getFilters=function(){return s},ot=m.__private__.putStream=function(O){var ee=(O=O||{}).data||"",Ce=O.filters||Qe(),Oe=O.alreadyAppliedFilters||[],We=O.addLength1||!1,vt=ee.length,kt=O.objectId,Yt=function(Ti){return Ti};if(f!==null&&kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Yt=Fn.encryptor(kt,0));var tr={};Ce===!0&&(Ce=["FlateEncode"]);var wr=O.additionalKeyValues||[],Ir=(tr=yr.API.processDataByFilters!==void 0?yr.API.processDataByFilters(ee,Ce):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Oe)?Oe.join(" "):Oe.toString());if(tr.data.length!==0&&(wr.push({key:"Length",value:tr.data.length}),We===!0&&wr.push({key:"Length1",value:vt})),Ir.length!=0)if(Ir.split("/").length-1==1)wr.push({key:"Filter",value:Ir});else{wr.push({key:"Filter",value:"["+Ir+"]"});for(var ln=0;ln<wr.length;ln+=1)if(wr[ln].key==="DecodeParms"){for(var Jn=[],oi=0;oi<tr.reverseChain.split("/").length-1;oi+=1)Jn.push("null");Jn.push(wr[ln].value),wr[ln].value="["+Jn.join(" ")+"]"}}de("<<");for(var xn=0;xn<wr.length;xn++)de("/"+wr[xn].key+" "+wr[xn].value);de(">>"),tr.data.length!==0&&(de("stream"),de(Yt(tr.data)),de("endstream"))},tt=m.__private__.putPage=function(O){var ee=O.number,Ce=O.data,Oe=O.objId,We=O.contentsObjId;ie(Oe,!0),de("<</Type /Page"),de("/Parent "+O.rootDictionaryObjId+" 0 R"),de("/Resources "+O.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(T(O.mediaBox.bottomLeftX))+" "+parseFloat(T(O.mediaBox.bottomLeftY))+" "+T(O.mediaBox.topRightX)+" "+T(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&de("/CropBox ["+T(O.cropBox.bottomLeftX)+" "+T(O.cropBox.bottomLeftY)+" "+T(O.cropBox.topRightX)+" "+T(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&de("/BleedBox ["+T(O.bleedBox.bottomLeftX)+" "+T(O.bleedBox.bottomLeftY)+" "+T(O.bleedBox.topRightX)+" "+T(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&de("/TrimBox ["+T(O.trimBox.bottomLeftX)+" "+T(O.trimBox.bottomLeftY)+" "+T(O.trimBox.topRightX)+" "+T(O.trimBox.topRightY)+"]"),O.artBox!==null&&de("/ArtBox ["+T(O.artBox.bottomLeftX)+" "+T(O.artBox.bottomLeftY)+" "+T(O.artBox.topRightX)+" "+T(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&de("/UserUnit "+O.userUnit),br.publish("putPage",{objId:Oe,pageContext:Wt[ee],pageNumber:ee,page:Ce}),de("/Contents "+We+" 0 R"),de(">>"),de("endobj");var vt=Ce.join(`
`);return V===P&&(vt+=`
Q`),ie(We,!0),ot({data:vt,filters:Qe(),objectId:We}),de("endobj"),Oe},rt=m.__private__.putPages=function(){var O,ee,Ce=[];for(O=1;O<=Qt;O++)Wt[O].objId=si(),Wt[O].contentsObjId=si();for(O=1;O<=Qt;O++)Ce.push(tt({number:O,data:Le[O],objId:Wt[O].objId,contentsObjId:Wt[O].contentsObjId,mediaBox:Wt[O].mediaBox,cropBox:Wt[O].cropBox,bleedBox:Wt[O].bleedBox,trimBox:Wt[O].trimBox,artBox:Wt[O].artBox,userUnit:Wt[O].userUnit,rootDictionaryObjId:we,resourceDictionaryObjId:ke}));ie(we,!0),de("<</Type /Pages");var Oe="/Kids [";for(ee=0;ee<Qt;ee++)Oe+=Ce[ee]+" 0 R ";de(Oe+"]"),de("/Count "+Qt),de(">>"),de("endobj"),br.publish("postPutPages")},at=function(O){br.publish("putFont",{font:O,out:de,newObject:Nn,putStream:ot}),O.isAlreadyPutted!==!0&&(O.objectNumber=Nn(),de("<<"),de("/Type /Font"),de("/BaseFont /"+u1(O.postScriptName)),de("/Subtype /Type1"),typeof O.encoding=="string"&&de("/Encoding /"+O.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},St=function(O){O.objectNumber=Nn();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[T(O.x),T(O.y),T(O.x+O.width),T(O.y+O.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var Ce=O.pages[1].join(`
`);ot({data:Ce,additionalKeyValues:ee,objectId:O.objectNumber}),de("endobj")},Mt=function(O,ee){ee||(ee=21);var Ce=Nn(),Oe=(function(kt,Yt){var tr,wr=[],Ir=1/(Yt-1);for(tr=0;tr<1;tr+=Ir)wr.push(tr);if(wr.push(1),kt[0].offset!=0){var ln={offset:0,color:kt[0].color};kt.unshift(ln)}if(kt[kt.length-1].offset!=1){var Jn={offset:1,color:kt[kt.length-1].color};kt.push(Jn)}for(var oi="",xn=0,Ti=0;Ti<wr.length;Ti++){for(tr=wr[Ti];tr>kt[xn+1].offset;)xn++;var Mn=kt[xn].offset,Qi=(tr-Mn)/(kt[xn+1].offset-Mn),Fo=kt[xn].color,tl=kt[xn+1].color;oi+=J(Math.round((1-Qi)*Fo[0]+Qi*tl[0]).toString(16))+J(Math.round((1-Qi)*Fo[1]+Qi*tl[1]).toString(16))+J(Math.round((1-Qi)*Fo[2]+Qi*tl[2]).toString(16))}return oi.trim()})(O.colors,ee),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+ee+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot({data:Oe,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),de("endobj"),O.objectNumber=Nn(),de("<< /ShadingType "+O.type),de("/ColorSpace /DeviceRGB");var vt="/Coords ["+T(parseFloat(O.coords[0]))+" "+T(parseFloat(O.coords[1]))+" ";O.type===2?vt+=T(parseFloat(O.coords[2]))+" "+T(parseFloat(O.coords[3])):vt+=T(parseFloat(O.coords[2]))+" "+T(parseFloat(O.coords[3]))+" "+T(parseFloat(O.coords[4]))+" "+T(parseFloat(O.coords[5])),de(vt+="]"),O.matrix&&de("/Matrix ["+O.matrix.toString()+"]"),de("/Function "+Ce+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Gt=function(O,ee){var Ce=si(),Oe=Nn();ee.push({resourcesOid:Ce,objectOid:Oe}),O.objectNumber=Oe;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+O.boundingBox.map(T).join(" ")+"]"}),We.push({key:"XStep",value:T(O.xStep)}),We.push({key:"YStep",value:T(O.yStep)}),We.push({key:"Resources",value:Ce+" 0 R"}),O.matrix&&We.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),ot({data:O.stream,additionalKeyValues:We,objectId:O.objectNumber}),de("endobj")},Dt=function(O){for(var ee in O.objectNumber=Nn(),de("<<"),O)switch(ee){case"opacity":de("/ca "+A(O[ee]));break;case"stroke-opacity":de("/CA "+A(O[ee]))}de(">>"),de("endobj")},Pt=function(O){ie(O.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ee in de("/Font <<"),Bt)Bt.hasOwnProperty(ee)&&(p===!1||p===!0&&g.hasOwnProperty(ee))&&de("/"+ee+" "+Bt[ee].objectNumber+" 0 R");de(">>")})(),(function(){if(Object.keys(fr).length>0){for(var ee in de("/Shading <<"),fr)fr.hasOwnProperty(ee)&&fr[ee]instanceof _h&&fr[ee].objectNumber>=0&&de("/"+ee+" "+fr[ee].objectNumber+" 0 R");br.publish("putShadingPatternDict"),de(">>")}})(),(function(ee){if(Object.keys(fr).length>0){for(var Ce in de("/Pattern <<"),fr)fr.hasOwnProperty(Ce)&&fr[Ce]instanceof m.TilingPattern&&fr[Ce].objectNumber>=0&&fr[Ce].objectNumber<ee&&de("/"+Ce+" "+fr[Ce].objectNumber+" 0 R");br.publish("putTilingPatternDict"),de(">>")}})(O.objectOid),(function(){if(Object.keys(Ot).length>0){var ee;for(ee in de("/ExtGState <<"),Ot)Ot.hasOwnProperty(ee)&&Ot[ee].objectNumber>=0&&de("/"+ee+" "+Ot[ee].objectNumber+" 0 R");br.publish("putGStateDict"),de(">>")}})(),(function(){for(var ee in de("/XObject <<"),jr)jr.hasOwnProperty(ee)&&jr[ee].objectNumber>=0&&de("/"+ee+" "+jr[ee].objectNumber+" 0 R");br.publish("putXobjectDict"),de(">>")})(),de(">>"),de("endobj")},Er=function(O){mr[O.fontName]=mr[O.fontName]||{},mr[O.fontName][O.fontStyle]=O.id},dn=function(O,ee,Ce,Oe,We){var vt={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:O,fontName:ee,fontStyle:Ce,encoding:Oe,isStandardFont:We||!1,metadata:{}};return br.publish("addFont",{font:vt,instance:this}),Bt[vt.id]=vt,Er(vt),vt.id},Br=m.__private__.pdfEscape=m.pdfEscape=function(O,ee){return(function(Ce,Oe){var We,vt,kt,Yt,tr,wr,Ir,ln,Jn;if(kt=(Oe=Oe||{}).sourceEncoding||"Unicode",tr=Oe.outputEncoding,(Oe.autoencode||tr)&&Bt[It].metadata&&Bt[It].metadata[kt]&&Bt[It].metadata[kt].encoding&&(Yt=Bt[It].metadata[kt].encoding,!tr&&Bt[It].encoding&&(tr=Bt[It].encoding),!tr&&Yt.codePages&&(tr=Yt.codePages[0]),typeof tr=="string"&&(tr=Yt[tr]),tr)){for(Ir=!1,wr=[],We=0,vt=Ce.length;We<vt;We++)(ln=tr[Ce.charCodeAt(We)])?wr.push(String.fromCharCode(ln)):wr.push(Ce[We]),wr[We].charCodeAt(0)>>8&&(Ir=!0);Ce=wr.join("")}for(We=Ce.length;Ir===void 0&&We!==0;)Ce.charCodeAt(We-1)>>8&&(Ir=!0),We--;if(!Ir)return Ce;for(wr=Oe.noBOM?[]:[254,255],We=0,vt=Ce.length;We<vt;We++){if((Jn=(ln=Ce.charCodeAt(We))>>8)>>8)throw new Error("Character at position "+We+" of string '"+Ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wr.push(Jn),wr.push(ln-(Jn<<8))}return String.fromCharCode.apply(void 0,wr)})(O,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gn=m.__private__.beginPage=function(O){Le[++Qt]=[],Wt[Qt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},ns(Qt),Pe(Le[q])},Os=function(O,ee){var Ce,Oe,We;switch(r=ee||r,typeof O=="string"&&(Ce=N(O.toLowerCase()),Array.isArray(Ce)&&(Oe=Ce[0],We=Ce[1])),Array.isArray(O)&&(Oe=O[0]*yt,We=O[1]*yt),isNaN(Oe)&&(Oe=i[0],We=i[1]),(Oe>14400||We>14400)&&(ci.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Oe=Math.min(14400,Oe),We=Math.min(14400,We)),i=[Oe,We],r.substr(0,1)){case"l":We>Oe&&(i=[We,Oe]);break;case"p":Oe>We&&(i=[We,Oe])}gn(i),Us(_s),de(Po),On!==0&&de(On+" J"),ku!==0&&de(ku+" j"),br.publish("addPage",{pageNumber:Qt})},Ms=function(O){O>0&&O<=Qt&&(Le.splice(O,1),Wt.splice(O,1),Qt--,q>Qt&&(q=Qt),this.setPage(q))},ns=function(O){O>0&&O<=Qt&&(q=O)},fi=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Le.length-1},Xo=function(O,ee,Ce){var Oe,We=void 0;return Ce=Ce||{},O=O!==void 0?O:Bt[It].fontName,ee=ee!==void 0?ee:Bt[It].fontStyle,Oe=O.toLowerCase(),mr[Oe]!==void 0&&mr[Oe][ee]!==void 0?We=mr[Oe][ee]:mr[O]!==void 0&&mr[O][ee]!==void 0?We=mr[O][ee]:Ce.disableWarning===!1&&ci.warn("Unable to look up font label for font '"+O+"', '"+ee+"'. Refer to getFontList() for available fonts."),We||Ce.noFallback||(We=mr.times[ee])==null&&(We=mr.times.normal),We},An=m.__private__.putInfo=function(){var O=Nn(),ee=function(Oe){return Oe};for(var Ce in f!==null&&(ee=Fn.encryptor(O,0)),de("<<"),de("/Producer ("+Br(ee("jsPDF "+yr.version))+")"),Nt)Nt.hasOwnProperty(Ce)&&Nt[Ce]&&de("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+Br(ee(Nt[Ce]))+")");de("/CreationDate ("+Br(ee(pe))+")"),de(">>"),de("endobj")},_u=m.__private__.putCatalog=function(O){var ee=(O=O||{}).rootDictionaryObjId||we;switch(Nn(),de("<<"),de("/Type /Catalog"),de("/Pages "+ee+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+De;Ce.substr(Ce.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&de("/OpenAction [3 0 R /XYZ null null "+A(De)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Et&&de("/PageMode /"+Et),br.publish("putCatalog"),de(">>"),de("endobj")},yi=m.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ce+1)),de("/Root "+ce+" 0 R"),de("/Info "+(ce-1)+" 0 R"),f!==null&&de("/Encrypt "+Fn.oid+" 0 R"),de("/ID [ <"+_e+"> <"+_e+"> ]"),de(">>")},bu=m.__private__.putHeader=function(){de("%PDF-"+y),de("%ºß¬à")},tc=m.__private__.putXRef=function(){var O="0000000000";de("xref"),de("0 "+(ce+1)),de("0000000000 65535 f ");for(var ee=1;ee<=ce;ee++)typeof ve[ee]=="function"?de((O+ve[ee]()).slice(-10)+" 00000 n "):ve[ee]!==void 0?de((O+ve[ee]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},Bs=m.__private__.buildDocument=function(){var O;ce=0,le=0,Ee=[],ve=[],be=[],we=si(),ke=si(),Pe(Ee),br.publish("buildDocument"),bu(),rt(),(function(){br.publish("putAdditionalObjects");for(var Ce=0;Ce<be.length;Ce++){var Oe=be[Ce];ie(Oe.objId,!0),de(Oe.content),de("endobj")}br.publish("postPutAdditionalObjects")})(),O=[],(function(){for(var Ce in Bt)Bt.hasOwnProperty(Ce)&&(p===!1||p===!0&&g.hasOwnProperty(Ce))&&at(Bt[Ce])})(),(function(){var Ce;for(Ce in Ot)Ot.hasOwnProperty(Ce)&&Dt(Ot[Ce])})(),(function(){for(var Ce in jr)jr.hasOwnProperty(Ce)&&St(jr[Ce])})(),(function(Ce){var Oe;for(Oe in fr)fr.hasOwnProperty(Oe)&&(fr[Oe]instanceof _h?Mt(fr[Oe]):fr[Oe]instanceof f1&&Gt(fr[Oe],Ce))})(O),br.publish("putResources"),O.forEach(Pt),Pt({resourcesOid:ke,objectOid:Number.MAX_SAFE_INTEGER}),br.publish("postPutResources"),f!==null&&(Fn.oid=Nn(),de("<<"),de("/Filter /Standard"),de("/V "+Fn.v),de("/R "+Fn.r),de("/U <"+Fn.toHexString(Fn.U)+">"),de("/O <"+Fn.toHexString(Fn.O)+">"),de("/P "+Fn.P),de(">>"),de("endobj")),An(),_u();var ee=le;return tc(),yi(),de("startxref"),de(""+ee),de("%%EOF"),Pe(Le[q]),Ee.join(`
`)},Vs=m.__private__.getBlob=function(O){return new Blob([Be(O)],{type:"application/pdf"})},Ua=m.output=m.__private__.output=(Bi=function(O,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",O){case void 0:return Bs();case"save":m.save(ee.filename);break;case"arraybuffer":return Be(Bs());case"blob":return Vs(Bs());case"bloburi":case"bloburl":if(Or.URL!==void 0&&typeof Or.URL.createObjectURL=="function")return Or.URL&&Or.URL.createObjectURL(Vs(Bs()))||void 0;ci.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Oe=Bs();try{Ce=pS(Oe)}catch{Ce=pS(unescape(encodeURIComponent(Oe)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",vt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(We=ee.pdfObjectUrl,vt="");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+vt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Yt=Or.open();return Yt!==null&&Yt.document.write(kt),Yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Or)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',wr=Or.open();if(wr!==null){wr.document.write(tr);var Ir=this;wr.document.documentElement.querySelector("#pdfViewer").onload=function(){wr.document.title=ee.filename,wr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ir.output("bloburl"))}}return wr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Or)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',Jn=Or.open();if(Jn!==null&&(Jn.document.write(ln),Jn.document.title=ee.filename),Jn||typeof safari>"u")return Jn;break;case"datauri":case"dataurl":return Or.document.location.href=this.output("datauristring",ee);default:return null}},Bi.foo=function(){try{return Bi.apply(this,arguments)}catch(Ce){var O=Ce.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var ee="Error in function "+O.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!Or.console)throw new Error(ee);Or.console.error(ee,Ce),Or.alert&&alert(ee)}},Bi.foo.bar=Bi,Bi.foo),rc=function(O){return Array.isArray(Dn)===!0&&Dn.indexOf(O)>-1};switch(n){case"pt":yt=1;break;case"mm":yt=72/25.4;break;case"cm":yt=72/2.54;break;case"in":yt=72;break;case"px":yt=rc("px_scaling")==1?.75:96/72;break;case"pc":case"em":yt=12;break;case"ex":yt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);yt=n}var Fn=null;X(),oe();var za=m.__private__.getPageInfo=m.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Wt[O].objId,pageNumber:O,pageContext:Wt[O]}},nc=m.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Wt)if(Wt[ee].objId===O)break;return za(ee)},_l=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Wt[q].objId,pageNumber:q,pageContext:Wt[q]}};m.addPage=function(){return Os.apply(this,arguments),this},m.setPage=function(){return ns.apply(this,arguments),Pe.call(this,Le[q]),this},m.insertPage=function(O){return this.addPage(),this.movePage(q,O),this},m.movePage=function(O,ee){var Ce,Oe;if(O>ee){Ce=Le[O],Oe=Wt[O];for(var We=O;We>ee;We--)Le[We]=Le[We-1],Wt[We]=Wt[We-1];Le[ee]=Ce,Wt[ee]=Oe,this.setPage(ee)}else if(O<ee){Ce=Le[O],Oe=Wt[O];for(var vt=O;vt<ee;vt++)Le[vt]=Le[vt+1],Wt[vt]=Wt[vt+1];Le[ee]=Ce,Wt[ee]=Oe,this.setPage(ee)}return this},m.deletePage=function(){return Ms.apply(this,arguments),this},m.__private__.text=m.text=function(O,ee,Ce,Oe,We){var vt,kt,Yt,tr,wr,Ir,ln,Jn,oi,xn=(Oe=Oe||{}).scope||this;if(typeof O=="number"&&typeof ee=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var Ti=Ce;Ce=ee,ee=O,O=Ti}if(arguments[3]instanceof ir==0?(Yt=arguments[4],tr=arguments[5],Xn(ln=arguments[3])==="object"&&ln!==null||(typeof Yt=="string"&&(tr=Yt,Yt=null),typeof ln=="string"&&(tr=ln,ln=null),typeof ln=="number"&&(Yt=ln,ln=null),Oe={flags:ln,angle:Yt,align:tr})):(S("The transform parameter of text() with a Matrix value"),oi=We),isNaN(ee)||isNaN(Ce)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return xn;var Mn,Qi="",Fo=typeof Oe.lineHeightFactor=="number"?Oe.lineHeightFactor:qa,tl=xn.internal.scaleFactor;function Eu(Zn){return Zn=Zn.split("	").join(Array(Oe.TabLen||9).join(" ")),Br(Zn,ln)}function ac(Zn){for(var ei,Ui=Zn.concat(),zi=[],pa=Ui.length;pa--;)typeof(ei=Ui.shift())=="string"?zi.push(ei):Array.isArray(Zn)&&(ei.length===1||ei[1]===void 0&&ei[2]===void 0)?zi.push(ei[0]):zi.push([ei[0],ei[1],ei[2]]);return zi}function Vi(Zn,ei){var Ui;if(typeof Zn=="string")Ui=ei(Zn)[0];else if(Array.isArray(Zn)){for(var zi,pa,Al=Zn.concat(),nl=[],Cd=Al.length;Cd--;)typeof(zi=Al.shift())=="string"?nl.push(ei(zi)[0]):Array.isArray(zi)&&typeof zi[0]=="string"&&(pa=ei(zi[0],zi[1],zi[2]),nl.push([pa[0],pa[1],pa[2]]));Ui=nl}return Ui}var $s=!1,Dc=!0;if(typeof O=="string")$s=!0;else if(Array.isArray(O)){var bs=O.concat();kt=[];for(var b,z=bs.length;z--;)(typeof(b=bs.shift())!="string"||Array.isArray(b)&&typeof b[0]!="string")&&(Dc=!1);$s=Dc}if($s===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var Z=ne/xn.internal.scaleFactor,ge=Z*(Fo-1);switch(Oe.baseline){case"bottom":Ce-=ge;break;case"top":Ce+=Z-ge;break;case"hanging":Ce+=Z-2*ge;break;case"middle":Ce+=Z/2-ge}if((Ir=Oe.maxWidth||0)>0&&(typeof O=="string"?O=xn.splitTextToSize(O,Ir):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Zn,ei){return Zn.concat(xn.splitTextToSize(ei,Ir))},[]))),vt={text:O,x:ee,y:Ce,options:Oe,mutex:{pdfEscape:Br,activeFontKey:It,fonts:Bt,activeFontSize:ne}},br.publish("preProcessText",vt),O=vt.text,Yt=(Oe=vt.options).angle,oi instanceof ir==0&&Yt&&typeof Yt=="number"){Yt*=Math.PI/180,Oe.rotationDirection===0&&(Yt=-Yt),V===P&&(Yt=-Yt);var Xe=Math.cos(Yt),ut=Math.sin(Yt);oi=new ir(Xe,ut,-ut,Xe,0,0)}else Yt&&Yt instanceof ir&&(oi=Yt);V!==P||oi||(oi=vi),(wr=Oe.charSpace||zs)!==void 0&&(Qi+=T(M(wr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jn=Oe.horizontalScale)!==void 0&&(Qi+=T(100*Jn)+` Tz
`),Oe.lang;var Lt=-1,vn=Oe.renderingMode!==void 0?Oe.renderingMode:Oe.stroke,hi=xn.internal.getCurrentPageInfo().pageContext;switch(vn){case 0:case!1:case"fill":Lt=0;break;case 1:case!0:case"stroke":Lt=1;break;case 2:case"fillThenStroke":Lt=2;break;case 3:case"invisible":Lt=3;break;case 4:case"fillAndAddForClipping":Lt=4;break;case 5:case"strokeAndAddPathForClipping":Lt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Lt=6;break;case 7:case"addToPathForClipping":Lt=7}var Qr=hi.usedRenderingMode!==void 0?hi.usedRenderingMode:-1;Lt!==-1?Qi+=Lt+` Tr
`:Qr!==-1&&(Qi+=`0 Tr
`),Lt!==-1&&(hi.usedRenderingMode=Lt),tr=Oe.align||"left";var rn,wn=ne*Fo,as=xn.internal.pageSize.getWidth(),Ga=Bt[It];wr=Oe.charSpace||zs,Ir=Oe.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},Oe.flags);var qs=[],rl=function(Zn){return xn.getStringUnitWidth(Zn,{font:Ga,charSpace:wr,fontSize:ne,doKerning:!1})*ne/tl};if(Object.prototype.toString.call(O)==="[object Array]"){var ks;kt=ac(O),tr!=="left"&&(rn=kt.map(rl));var Es,Oc=0;if(tr==="right"){ee-=rn[0],O=[],z=kt.length;for(var Ss=0;Ss<z;Ss++)Ss===0?(Es=Ai(ee),ks=Jo(Ce)):(Es=M(Oc-rn[Ss]),ks=-wn),O.push([kt[Ss],Es,ks]),Oc=rn[Ss]}else if(tr==="center"){ee-=rn[0]/2,O=[],z=kt.length;for(var Mc=0;Mc<z;Mc++)Mc===0?(Es=Ai(ee),ks=Jo(Ce)):(Es=M((Oc-rn[Mc])/2),ks=-wn),O.push([kt[Mc],Es,ks]),Oc=rn[Mc]}else if(tr==="left"){O=[],z=kt.length;for(var Wf=0;Wf<z;Wf++)O.push(kt[Wf])}else if(tr==="justify"&&Ga.encoding==="Identity-H"){O=[],z=kt.length,Ir=Ir!==0?Ir:as;for(var Bc=0,Ii=0;Ii<z;Ii++)if(ks=Ii===0?Jo(Ce):-wn,Es=Ii===0?Ai(ee):Bc,Ii<z-1){var b0=M((Ir-rn[Ii])/(kt[Ii].split(" ").length-1)),Hs=kt[Ii].split(" ");O.push([Hs[0]+" ",Es,ks]),Bc=0;for(var Ws=1;Ws<Hs.length;Ws++){var kd=(rl(Hs[Ws-1]+" "+Hs[Ws])-rl(Hs[Ws]))*tl+b0;Ws==Hs.length-1?O.push([Hs[Ws],kd,0]):O.push([Hs[Ws]+" ",kd,0]),Bc-=kd}}else O.push([kt[Ii],Es,ks]);O.push(["",Bc,0])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],z=kt.length,Ir=Ir!==0?Ir:as,Ii=0;Ii<z;Ii++)ks=Ii===0?Jo(Ce):-wn,Es=Ii===0?Ai(ee):0,Ii<z-1?qs.push(T(M((Ir-rn[Ii])/(kt[Ii].split(" ").length-1)))):qs.push(0),O.push([kt[Ii],Es,ks])}}(typeof Oe.R2L=="boolean"?Oe.R2L:mt)===!0&&(O=Vi(O,function(Zn,ei,Ui){return[Zn.split("").reverse().join(""),ei,Ui]})),vt={text:O,x:ee,y:Ce,options:Oe,mutex:{pdfEscape:Br,activeFontKey:It,fonts:Bt,activeFontSize:ne}},br.publish("postProcessText",vt),O=vt.text,Mn=vt.mutex.isHex||!1;var Vc=Bt[It].encoding;Vc!=="WinAnsiEncoding"&&Vc!=="StandardEncoding"||(O=Vi(O,function(Zn,ei,Ui){return[Eu(Zn),ei,Ui]})),kt=ac(O),O=[];for(var Ed,Su,sc,oc=Array.isArray(kt[0])?1:0,Cl="",Sd=function(Zn,ei,Ui){var zi="";return Ui instanceof ir?(Ui=typeof Oe.angle=="number"?Kr(Ui,new ir(1,0,0,1,Zn,ei)):Kr(new ir(1,0,0,1,Zn,ei),Ui),V===P&&(Ui=Kr(new ir(1,0,0,-1,0,0),Ui)),zi=Ui.join(" ")+` Tm
`):zi=T(Zn)+" "+T(ei)+` Td
`,zi},Gs=0;Gs<kt.length;Gs++){switch(Cl="",oc){case 1:sc=(Mn?"<":"(")+kt[Gs][0]+(Mn?">":")"),Ed=parseFloat(kt[Gs][1]),Su=parseFloat(kt[Gs][2]);break;case 0:sc=(Mn?"<":"(")+kt[Gs]+(Mn?">":")"),Ed=Ai(ee),Su=Jo(Ce)}qs!==void 0&&qs[Gs]!==void 0&&(Cl=qs[Gs]+` Tw
`),Gs===0?O.push(Cl+Sd(Ed,Su,oi)+sc):oc===0?O.push(Cl+sc):oc===1&&O.push(Cl+Sd(Ed,Su,oi)+sc)}O=oc===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Nl=`BT
/`;return Nl+=It+" "+ne+` Tf
`,Nl+=T(ne*Fo)+` TL
`,Nl+=Ha+`
`,Nl+=Qi,Nl+=O,de(Nl+="ET"),g[It]=!0,xn};var bl=m.__private__.clip=m.clip=function(O){return de(O==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return bl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return de("n"),this};var tn=m.__private__.isValidStyle=function(O){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(ee=!0),ee};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(O){return tn(O)&&(c=O),this};var Yo=m.__private__.getStyle=m.getStyle=function(O){var ee=c;switch(O){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=O}return ee},Xr=m.close=function(){return de("h"),this};m.stroke=function(){return de("S"),this},m.fill=function(O){return ws("f",O),this},m.fillEvenOdd=function(O){return ws("f*",O),this},m.fillStroke=function(O){return ws("B",O),this},m.fillStrokeEvenOdd=function(O){return ws("B*",O),this};var ws=function(O,ee){Xn(ee)==="object"?yd(ee,O):de(O)},Rc=function(O){O===null||V===P&&O===void 0||(O=Yo(O),de(O))};function Fc(O,ee,Ce,Oe,We){var vt=new f1(ee||this.boundingBox,Ce||this.xStep,Oe||this.yStep,this.gState,We||this.matrix);vt.stream=this.stream;var kt=O+"$$"+this.cloneIndex+++"$$";return Rn(kt,vt),vt}var yd=function(O,ee){var Ce=He[O.key],Oe=fr[Ce];if(Oe instanceof _h)de("q"),de(wd(ee)),Oe.gState&&m.setGState(Oe.gState),de(O.matrix.toString()+" cm"),de("/"+Ce+" sh"),de("Q");else if(Oe instanceof f1){var We=new ir(1,0,0,-1,0,Ia());O.matrix&&(We=We.multiply(O.matrix||vi),Ce=Fc.call(Oe,O.key,O.boundingBox,O.xStep,O.yStep,We).id),de("q"),de("/Pattern cs"),de("/"+Ce+" scn"),Oe.gState&&m.setGState(Oe.gState),de(ee),de("Q")}},wd=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lc=m.moveTo=function(O,ee){return de(T(M(O))+" "+T(re(ee))+" m"),this},Qo=m.lineTo=function(O,ee){return de(T(M(O))+" "+T(re(ee))+" l"),this},$a=m.curveTo=function(O,ee,Ce,Oe,We,vt){return de([T(M(O)),T(re(ee)),T(M(Ce)),T(re(Oe)),T(M(We)),T(re(vt)),"c"].join(" ")),this};m.__private__.line=m.line=function(O,ee,Ce,Oe,We){if(isNaN(O)||isNaN(ee)||isNaN(Ce)||isNaN(Oe)||!tn(We))throw new Error("Invalid arguments passed to jsPDF.line");return V===L?this.lines([[Ce-O,Oe-ee]],O,ee,[1,1],We||"S"):this.lines([[Ce-O,Oe-ee]],O,ee,[1,1]).stroke()},m.__private__.lines=m.lines=function(O,ee,Ce,Oe,We,vt){var kt,Yt,tr,wr,Ir,ln,Jn,oi,xn,Ti,Mn,Qi;if(typeof O=="number"&&(Qi=Ce,Ce=ee,ee=O,O=Qi),Oe=Oe||[1,1],vt=vt||!1,isNaN(ee)||isNaN(Ce)||!Array.isArray(O)||!Array.isArray(Oe)||!tn(We)||typeof vt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lc(ee,Ce),kt=Oe[0],Yt=Oe[1],wr=O.length,Ti=ee,Mn=Ce,tr=0;tr<wr;tr++)(Ir=O[tr]).length===2?(Ti=Ir[0]*kt+Ti,Mn=Ir[1]*Yt+Mn,Qo(Ti,Mn)):(ln=Ir[0]*kt+Ti,Jn=Ir[1]*Yt+Mn,oi=Ir[2]*kt+Ti,xn=Ir[3]*Yt+Mn,Ti=Ir[4]*kt+Ti,Mn=Ir[5]*Yt+Mn,$a(ln,Jn,oi,xn,Ti,Mn));return vt&&Xr(),Rc(We),this},m.path=function(O){for(var ee=0;ee<O.length;ee++){var Ce=O[ee],Oe=Ce.c;switch(Ce.op){case"m":Lc(Oe[0],Oe[1]);break;case"l":Qo(Oe[0],Oe[1]);break;case"c":$a.apply(this,Oe);break;case"h":Xr()}}return this},m.__private__.rect=m.rect=function(O,ee,Ce,Oe,We){if(isNaN(O)||isNaN(ee)||isNaN(Ce)||isNaN(Oe)||!tn(We))throw new Error("Invalid arguments passed to jsPDF.rect");return V===L&&(Oe=-Oe),de([T(M(O)),T(re(ee)),T(M(Ce)),T(M(Oe)),"re"].join(" ")),Rc(We),this},m.__private__.triangle=m.triangle=function(O,ee,Ce,Oe,We,vt,kt){if(isNaN(O)||isNaN(ee)||isNaN(Ce)||isNaN(Oe)||isNaN(We)||isNaN(vt)||!tn(kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-O,Oe-ee],[We-Ce,vt-Oe],[O-We,ee-vt]],O,ee,[1,1],kt,!0),this},m.__private__.roundedRect=m.roundedRect=function(O,ee,Ce,Oe,We,vt,kt){if(isNaN(O)||isNaN(ee)||isNaN(Ce)||isNaN(Oe)||isNaN(We)||isNaN(vt)||!tn(kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Yt=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*Ce),vt=Math.min(vt,.5*Oe),this.lines([[Ce-2*We,0],[We*Yt,0,We,vt-vt*Yt,We,vt],[0,Oe-2*vt],[0,vt*Yt,-We*Yt,vt,-We,vt],[2*We-Ce,0],[-We*Yt,0,-We,-vt*Yt,-We,-vt],[0,2*vt-Oe],[0,-vt*Yt,We*Yt,-vt,We,-vt]],O+We,ee,[1,1],kt,!0),this},m.__private__.ellipse=m.ellipse=function(O,ee,Ce,Oe,We){if(isNaN(O)||isNaN(ee)||isNaN(Ce)||isNaN(Oe)||!tn(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var vt=4/3*(Math.SQRT2-1)*Ce,kt=4/3*(Math.SQRT2-1)*Oe;return Lc(O+Ce,ee),$a(O+Ce,ee-kt,O+vt,ee-Oe,O,ee-Oe),$a(O-vt,ee-Oe,O-Ce,ee-kt,O-Ce,ee),$a(O-Ce,ee+kt,O-vt,ee+Oe,O,ee+Oe),$a(O+vt,ee+Oe,O+Ce,ee+kt,O+Ce,ee),Rc(We),this},m.__private__.circle=m.circle=function(O,ee,Ce,Oe){if(isNaN(O)||isNaN(ee)||isNaN(Ce)||!tn(Oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,ee,Ce,Ce,Oe)},m.setFont=function(O,ee,Ce){return Ce&&(ee=R(ee,Ce)),It=Xo(O,ee,{disableWarning:!1}),this};var fa=m.__private__.getFont=m.getFont=function(){return Bt[Xo.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var O,ee,Ce={};for(O in mr)if(mr.hasOwnProperty(O))for(ee in Ce[O]=[],mr[O])mr[O].hasOwnProperty(ee)&&Ce[O].push(ee);return Ce},m.addFont=function(O,ee,Ce,Oe,We){var vt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&vt.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&vt.indexOf(arguments[3])==-1&&(Ce=R(Ce,Oe)),dn.call(this,O,ee,Ce,We=We||"Identity-H")};var qa,_s=t.lineWidth||.200025,kr=m.__private__.getLineWidth=m.getLineWidth=function(){return _s},Us=m.__private__.setLineWidth=m.setLineWidth=function(O){return _s=O,de(T(M(O))+" w"),this};m.__private__.setLineDash=yr.API.setLineDash=yr.API.setLineDashPattern=function(O,ee){if(O=O||[],ee=ee||0,isNaN(ee)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(Ce){return T(M(Ce))}).join(" "),ee=T(M(ee)),de("["+O+"] "+ee+" d"),this};var Io=m.__private__.getLineHeight=m.getLineHeight=function(){return ne*qa};m.__private__.getLineHeight=m.getLineHeight=function(){return ne*qa};var Hf=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(qa=O),this},_d=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return qa};Hf(t.lineHeight);var Ai=m.__private__.getHorizontalCoordinate=function(O){return M(O)},Jo=m.__private__.getVerticalCoordinate=function(O){return V===P?O:Wt[q].mediaBox.topRightY-Wt[q].mediaBox.bottomLeftY-M(O)},bd=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(O){return T(Ai(O))},Zo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(O){return T(Jo(O))},Po=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Te(Po)},m.__private__.setStrokeColor=m.setDrawColor=function(O,ee,Ce,Oe){return Po=Ie({ch1:O,ch2:ee,ch3:Ce,ch4:Oe,pdfColorType:"draw",precision:2}),de(Po),this};var jc=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Te(jc)},m.__private__.setFillColor=m.setFillColor=function(O,ee,Ce,Oe){return jc=Ie({ch1:O,ch2:ee,ch3:Ce,ch4:Oe,pdfColorType:"fill",precision:2}),de(jc),this};var Ha=t.textColor||"0 g",is=m.__private__.getTextColor=m.getTextColor=function(){return Te(Ha)};m.__private__.setTextColor=m.setTextColor=function(O,ee,Ce,Oe){return Ha=Ie({ch1:O,ch2:ee,ch3:Ce,ch4:Oe,pdfColorType:"text",precision:3}),this};var zs=t.charSpace,kl=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(zs||0)};m.__private__.setCharSpace=m.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zs=O,this};var On=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(O){var ee=m.CapJoinStyles[O];if(ee===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return On=ee,de(ee+" J"),this};var ku=0;m.__private__.setLineJoin=m.setLineJoin=function(O){var ee=m.CapJoinStyles[O];if(ee===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ku=ee,de(ee+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(T(M(O))+" M"),this},m.GState=$v,m.setGState=function(O){(O=typeof O=="string"?Ot[hr[O]]:el(null,O)).equals(Zt)||(de("/"+O.id+" gs"),Zt=O)};var el=function(O,ee){if(!O||!hr[O]){var Ce=!1;for(var Oe in Ot)if(Ot.hasOwnProperty(Oe)&&Ot[Oe].equals(ee)){Ce=!0;break}if(Ce)ee=Ot[Oe];else{var We="GS"+(Object.keys(Ot).length+1).toString(10);Ot[We]=ee,ee.id=We}return O&&(hr[O]=ee.id),br.publish("addGState",ee),ee}};m.addGState=function(O,ee){return el(O,ee),this},m.saveGraphicsState=function(){return de("q"),qr.push({key:It,size:ne,color:Ha}),this},m.restoreGraphicsState=function(){de("Q");var O=qr.pop();return It=O.key,ne=O.size,Ha=O.color,Zt=null,this},m.setCurrentTransformationMatrix=function(O){return de(O.toString()+" cm"),this},m.comment=function(O){return de("#"+O),this};var yo=function(O,ee){var Ce=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(vt){isNaN(vt)||(Ce=parseFloat(vt))}});var Oe=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Oe},set:function(vt){isNaN(vt)||(Oe=parseFloat(vt))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(vt){We=vt.toString()}}),this},El=function(O,ee,Ce,Oe){yo.call(this,O,ee),this.type="rect";var We=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(kt){isNaN(kt)||(We=parseFloat(kt))}});var vt=Oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return vt},set:function(kt){isNaN(kt)||(vt=parseFloat(kt))}}),this},Sl=function(){this.page=Qt,this.currentPage=q,this.pages=Le.slice(0),this.pagesContext=Wt.slice(0),this.x=wt,this.y=Xt,this.matrix=qt,this.width=Ta(q),this.height=Ia(q),this.outputDestination=je,this.id="",this.objectNumber=-1};Sl.prototype.restore=function(){Qt=this.page,q=this.currentPage,Wt=this.pagesContext,Le=this.pages,wt=this.x,Xt=this.y,qt=this.matrix,ic(q,this.width),ha(q,this.height),je=this.outputDestination};var Wa=function(O,ee,Ce,Oe,We){mn.push(new Sl),Qt=q=0,Le=[],wt=O,Xt=ee,qt=We,gn([Ce,Oe])};for(var Ro in m.beginFormObject=function(O,ee,Ce,Oe,We){return Wa(O,ee,Ce,Oe,We),this},m.endFormObject=function(O){return(function(ee){if(Cn[ee])mn.pop().restore();else{var Ce=new Sl,Oe="Xo"+(Object.keys(jr).length+1).toString(10);Ce.id=Oe,Cn[ee]=Oe,jr[Oe]=Ce,br.publish("addFormObject",Ce),mn.pop().restore()}})(O),this},m.doFormObject=function(O,ee){var Ce=jr[Cn[O]];return de("q"),de(ee.toString()+" cm"),de("/"+Ce.id+" Do"),de("Q"),this},m.getFormObject=function(O){var ee=jr[Cn[O]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},m.save=function(O,ee){return O=O||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(mh(Vs(Bs()),O),typeof mh.unload=="function"&&Or.setTimeout&&setTimeout(mh.unload,911),this):new Promise(function(Ce,Oe){try{var We=mh(Vs(Bs()),O);typeof mh.unload=="function"&&Or.setTimeout&&setTimeout(mh.unload,911),Ce(We)}catch(vt){Oe(vt.message)}})},yr.API)yr.API.hasOwnProperty(Ro)&&(Ro==="events"&&yr.API.events.length?(function(O,ee){var Ce,Oe,We;for(We=ee.length-1;We!==-1;We--)Ce=ee[We][0],Oe=ee[We][1],O.subscribe.apply(O,[Ce].concat(typeof Oe=="function"?[Oe]:Oe))})(br,yr.API.events):m[Ro]=yr.API[Ro]);var Ta=m.getPageWidth=function(O){return(Wt[O=O||q].mediaBox.topRightX-Wt[O].mediaBox.bottomLeftX)/yt},ic=m.setPageWidth=function(O,ee){Wt[O].mediaBox.topRightX=ee*yt+Wt[O].mediaBox.bottomLeftX},Ia=m.getPageHeight=function(O){return(Wt[O=O||q].mediaBox.topRightY-Wt[O].mediaBox.bottomLeftY)/yt},ha=m.setPageHeight=function(O,ee){Wt[O].mediaBox.topRightY=ee*yt+Wt[O].mediaBox.bottomLeftY};return m.internal={pdfEscape:Br,getStyle:Yo,getFont:fa,getFontSize:Ke,getCharSpace:kl,getTextColor:is,getLineHeight:Io,getLineHeightFactor:_d,getLineWidth:kr,write:Me,getHorizontalCoordinate:Ai,getVerticalCoordinate:Jo,getCoordinateString:bd,getVerticalCoordinateString:Zo,collections:{},newObject:Nn,newAdditionalObject:Ae,newObjectDeferred:si,newObjectDeferredBegin:ie,getFilters:Qe,putStream:ot,events:br,scaleFactor:yt,pageSize:{getWidth:function(){return Ta(q)},setWidth:function(O){ic(q,O)},getHeight:function(){return Ia(q)},setHeight:function(O){ha(q,O)}},encryptionOptions:f,encryption:Fn,getEncryptor:function(O){return f!==null?Fn.encryptor(O,0):function(ee){return ee}},output:Ua,getNumberOfPages:fi,pages:Le,out:de,f2:A,f3:F,getPageInfo:za,getPageInfoByObjId:nc,getCurrentPageInfo:_l,getPDFVersion:w,Point:yo,Rectangle:El,Matrix:ir,hasHotfix:rc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ta(q)},set:function(O){ic(q,O)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ia(q)},set:function(O){ha(q,O)},enumerable:!0,configurable:!0}),(function(O){for(var ee=0,Ce=et.length;ee<Ce;ee++){var Oe=dn.call(this,O[ee][0],O[ee][1],O[ee][2],et[ee][3],!0);p===!1&&(g[Oe]=!0);var We=O[ee][0].split("-");Er({id:Oe,fontName:We[0],fontStyle:We[1]||""})}br.publish("addFonts",{fonts:Bt,dictionary:mr})}).call(m,et),It="F1",Os(i,r),br.publish("initialized"),m}c1.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},c1.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},c1.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},c1.prototype.processOwnerPassword=function(t,e){return bw(_w(e).substr(0,5),t)},c1.prototype.encryptor=function(t,e){var r=_w(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return bw(r,n)}},$v.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Xn(t)!==Xn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},yr.API={events:[]},yr.version="3.0.2";var ra=yr.API,ub=1,_0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},e1=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},zr=function(t){return t.toFixed(2)},Yd=function(t){return t.toFixed(5)};ra.__acroform__={};var Ko=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},vS=function(t){return t*ub},Qc=function(t){var e=new SL,r=cr.internal.getHeight(t)||0,n=cr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(zr(n)),Number(zr(r))],e},mce=ra.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},gce=ra.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},xce=ra.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},wa=ra.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return xce(t,e-1)},_a=ra.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mce(t,e-1)},ba=ra.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gce(t,e-1)},vce=ra.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],s=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(zr(l.lowerLeft_X)),Number(zr(l.lowerLeft_Y)),Number(zr(l.upperRight_X)),Number(zr(l.upperRight_Y))]},yce=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=kw(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+zr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Qc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},kw=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var a=r,s=cr.internal.getHeight(t)||0;s=s<0?-s:s;var o=cr.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(A,F,M){if(A+1<i.length){var re=F+" "+i[A+1][0];return yx(re,t,M).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var c,f,p=yx("3",t,a).height,g=t.multiline?s-a:(s-p)/2,m=g+=2,y=0,w=0,k=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+yx(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var N="",L=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var V=!1;if(i[P].length!==1&&k!==i[P].length-1){if((p+2)*(L+2)+2>s)continue e;N+=i[P][k],V=!0,w=P,P--}else{N=(N+=i[P][k]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var Y=parseInt(P),Q=l(Y,N,a),R=P>=i.length-1;if(Q&&!R){N+=" ",k=0;continue}if(Q||R){if(R)w=Y;else if(t.multiline&&(p+2)*(L+2)+2>s)continue e}else{if(!t.multiline||(p+2)*(L+2)+2>s)continue e;w=Y}}for(var T="",S=y;S<=w;S++){var j=i[S];if(t.multiline){if(S===w){T+=j[k]+" ",k=(k+1)%j.length;continue}if(S===y){T+=j[j.length-1]+" ";continue}}T+=j[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,f=yx(T,t,a).width,t.textAlign){case"right":c=o-f-2;break;case"center":c=(o-f)/2;break;default:c=2}e+=zr(c)+" "+zr(m)+` Td
`,e+="("+_0(T)+`) Tj
`,e+=-zr(c)+` 0 Td
`,m=-(a+2),f=0,y=V?w:w+1,L++,N=""}break}return n.text=e,n.fontSize=a,n},yx=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},wce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},_ce=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},bce=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ic.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(wce)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ub=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new CL,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&_ce(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=vce(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=cr.createDefaultAppearanceStream(o),Xn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=yce(o);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var y=m[s];typeof y=="function"&&(y=y.call(i,o)),p+="/"+s+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(i,o)),p+="/"+s+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&(function(w,k){for(var N in w)if(w.hasOwnProperty(N)){var L=N,P=w[N];k.internal.newObjectDeferredBegin(P.objId,!0),Xn(P)==="object"&&typeof P.putStream=="function"&&P.putStream(),delete w[L]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},EL=ra.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),Xn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+_0(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},W4=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+_0(n(t))+")"},au=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};au.prototype.toString=function(){return this.objId+" 0 R"},au.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},au.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:EL(i,this.objId,this.scope)}):i instanceof au?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var SL=function(){au.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ko(SL,au);var CL=function(){au.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_0(r(t))+")"}},set:function(r){t=r}})};Ko(CL,au);var Ic=function t(){au.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wa(e,3)},set:function(N){N?this.F=_a(e,3):this.F=ba(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof qv)return;a="FieldObject"+t.FieldNum++}var N=function(L){return L};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+_0(N(a))+")"},set:function(N){a=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(N){a=N}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(N){s=N}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ub:c},set:function(N){c=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof qv||this instanceof jh))return W4(p,this.objId,this.scope)},set:function(N){N=N.toString(),p=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ms==0?W4(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof ms==0?N.substr(0,1)==="("?e1(N.substr(1,N.length-2)):e1(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ms==1?e1(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof ms==1?"/"+N:N}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ms==0?W4(m,this.objId,this.scope):m},set:function(N){N=N.toString(),m=this instanceof ms==0?N.substr(0,1)==="("?e1(N.substr(1,N.length-2)):e1(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ms==1?e1(m.substr(1,m.length-1)):m},set:function(N){N=N.toString(),m=this instanceof ms==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(N){N=!!N,w=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(N){y=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,1)},set:function(N){N?this.Ff=_a(this.Ff,1):this.Ff=ba(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,2)},set:function(N){N?this.Ff=_a(this.Ff,2):this.Ff=ba(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,3)},set:function(N){N?this.Ff=_a(this.Ff,3):this.Ff=ba(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');k=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(k){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Ko(Ic,au);var S1=function(){Ic.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return EL(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,18)},set:function(r){r?this.Ff=_a(this.Ff,18):this.Ff=ba(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=_a(this.Ff,19):this.Ff=ba(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,20)},set:function(r){r?(this.Ff=_a(this.Ff,20),e.sort()):this.Ff=ba(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,22)},set:function(r){r?this.Ff=_a(this.Ff,22):this.Ff=ba(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,23)},set:function(r){r?this.Ff=_a(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,27)},set:function(r){r?this.Ff=_a(this.Ff,27):this.Ff=ba(this.Ff,27)}}),this.hasAppearanceStream=!1};Ko(S1,Ic);var C1=function(){S1.call(this),this.fontName="helvetica",this.combo=!1};Ko(C1,S1);var N1=function(){C1.call(this),this.combo=!0};Ko(N1,C1);var Wx=function(){N1.call(this),this.edit=!0};Ko(Wx,N1);var ms=function(){Ic.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,15)},set:function(r){r?this.Ff=_a(this.Ff,15):this.Ff=ba(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,16)},set:function(r){r?this.Ff=_a(this.Ff,16):this.Ff=ba(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,17)},set:function(r){r?this.Ff=_a(this.Ff,17):this.Ff=ba(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,26)},set:function(r){r?this.Ff=_a(this.Ff,26):this.Ff=ba(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+_0(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Xn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ko(ms,Ic);var Gx=function(){ms.call(this),this.pushButton=!0};Ko(Gx,ms);var A1=function(){ms.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ko(A1,ms);var qv=function(){var t,e;Ic.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+_0(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Xn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=cr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ko(qv,Ic),A1.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},A1.prototype.createOption=function(t){var e=new qv;return e.Parent=this,e.optionName=t,this.Kids.push(e),kce.call(this.scope,e),e};var Kx=function(){ms.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=cr.CheckBox.createAppearanceStream()};Ko(Kx,ms);var jh=function(){Ic.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,13)},set:function(e){e?this.Ff=_a(this.Ff,13):this.Ff=ba(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,21)},set:function(e){e?this.Ff=_a(this.Ff,21):this.Ff=ba(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,23)},set:function(e){e?this.Ff=_a(this.Ff,23):this.Ff=ba(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,24)},set:function(e){e?this.Ff=_a(this.Ff,24):this.Ff=ba(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,25)},set:function(e){e?this.Ff=_a(this.Ff,25):this.Ff=ba(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,26)},set:function(e){e?this.Ff=_a(this.Ff,26):this.Ff=ba(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ko(jh,Ic);var Xx=function(){jh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wa(this.Ff,14)},set:function(t){t?this.Ff=_a(this.Ff,14):this.Ff=ba(this.Ff,14)}}),this.password=!0};Ko(Xx,jh);var cr={CheckBox:{createAppearanceStream:function(){return{N:{On:cr.CheckBox.YesNormal},D:{On:cr.CheckBox.YesPushDown,Off:cr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Qc(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=kw(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+zr(cr.internal.getWidth(t))+" "+zr(cr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+zr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Qc(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=cr.internal.getHeight(t),s=cr.internal.getWidth(t),o=kw(t,t.caption);return i.push("1 g"),i.push("0 0 "+zr(s)+" "+zr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+zr(s-1)+" "+zr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+zr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Qc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+zr(cr.internal.getWidth(t))+" "+zr(cr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:cr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=cr.RadioButton.Circle.YesNormal,e.D[t]=cr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Qc(t);e.scope=t.scope;var r=[],n=cr.internal.getWidth(t)<=cr.internal.getHeight(t)?cr.internal.getWidth(t)/4:cr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=cr.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Yd(cr.internal.getWidth(t)/2)+" "+Yd(cr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Qc(t);e.scope=t.scope;var r=[],n=cr.internal.getWidth(t)<=cr.internal.getHeight(t)?cr.internal.getWidth(t)/4:cr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*cr.internal.Bezier_C).toFixed(5)),s=Number((n*cr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yd(cr.internal.getWidth(t)/2)+" "+Yd(cr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Yd(cr.internal.getWidth(t)/2)+" "+Yd(cr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Qc(t);e.scope=t.scope;var r=[],n=cr.internal.getWidth(t)<=cr.internal.getHeight(t)?cr.internal.getWidth(t)/4:cr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*cr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yd(cr.internal.getWidth(t)/2)+" "+Yd(cr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:cr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=cr.RadioButton.Cross.YesNormal,e.D[t]=cr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Qc(t);e.scope=t.scope;var r=[],n=cr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+zr(cr.internal.getWidth(t)-2)+" "+zr(cr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(zr(n.x1.x)+" "+zr(n.x1.y)+" m"),r.push(zr(n.x2.x)+" "+zr(n.x2.y)+" l"),r.push(zr(n.x4.x)+" "+zr(n.x4.y)+" m"),r.push(zr(n.x3.x)+" "+zr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Qc(t);e.scope=t.scope;var r=cr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+zr(cr.internal.getWidth(t))+" "+zr(cr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+zr(cr.internal.getWidth(t)-2)+" "+zr(cr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(zr(r.x1.x)+" "+zr(r.x1.y)+" m"),n.push(zr(r.x2.x)+" "+zr(r.x2.y)+" l"),n.push(zr(r.x4.x)+" "+zr(r.x4.y)+" m"),n.push(zr(r.x3.x)+" "+zr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Qc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+zr(cr.internal.getWidth(t))+" "+zr(cr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};cr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=cr.internal.getWidth(t),r=cr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},cr.internal.getWidth=function(t){var e=0;return Xn(t)==="object"&&(e=vS(t.Rect[2])),e},cr.internal.getHeight=function(t){var e=0;return Xn(t)==="object"&&(e=vS(t.Rect[3])),e};var kce=ra.addField=function(t){if(bce(this,t),!(t instanceof Ic))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ra.AcroFormChoiceField=S1,ra.AcroFormListBox=C1,ra.AcroFormComboBox=N1,ra.AcroFormEditBox=Wx,ra.AcroFormButton=ms,ra.AcroFormPushButton=Gx,ra.AcroFormRadioButton=A1,ra.AcroFormCheckBox=Kx,ra.AcroFormTextField=jh,ra.AcroFormPasswordField=Xx,ra.AcroFormAppearance=cr,ra.AcroForm={ChoiceField:S1,ListBox:C1,ComboBox:N1,EditBox:Wx,Button:ms,PushButton:Gx,RadioButton:A1,CheckBox:Kx,TextField:jh,PasswordField:Xx,Appearance:cr},yr.AcroForm={ChoiceField:S1,ListBox:C1,ComboBox:N1,EditBox:Wx,Button:ms,PushButton:Gx,RadioButton:A1,CheckBox:Kx,TextField:jh,PasswordField:Xx,Appearance:cr};yr.AcroForm;function NL(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(A,F){var M,re,pe,_e,xe,oe=r;if((F=F||r)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(Q(A))for(xe in n)for(pe=n[xe],M=0;M<pe.length;M+=1){for(_e=!0,re=0;re<pe[M].length;re+=1)if(pe[M][re]!==void 0&&pe[M][re]!==A[re]){_e=!1;break}if(_e===!0){oe=xe;break}}else for(xe in n)for(pe=n[xe],M=0;M<pe.length;M+=1){for(_e=!0,re=0;re<pe[M].length;re+=1)if(pe[M][re]!==void 0&&pe[M][re]!==A.charCodeAt(re)){_e=!1;break}if(_e===!0){oe=xe;break}}return oe===r&&F!==r&&(oe=F),oe},a=function A(F){for(var M=this.internal.write,re=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var _e=[];if(_e.push({key:"Type",value:"/XObject"}),_e.push({key:"Subtype",value:"/Image"}),_e.push({key:"Width",value:F.width}),_e.push({key:"Height",value:F.height}),F.colorSpace===N.INDEXED?_e.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(_e.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===N.DEVICE_CMYK&&_e.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_e.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&_e.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var xe="",oe=0,G=F.transparency.length;oe<G;oe++)xe+=F.transparency[oe]+" "+F.transparency[oe]+" ";_e.push({key:"Mask",value:"["+xe+"]"})}F.sMask!==void 0&&_e.push({key:"SMask",value:F.objectId+1+" 0 R"});var fe=F.filter!==void 0?["/"+F.filter]:void 0;if(re({data:F.data,additionalKeyValues:_e,alreadyAppliedFilters:fe,objectId:F.objectId}),M("endobj"),"sMask"in F&&F.sMask!==void 0){var X=(F.predictor!=null?"/Predictor "+F.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+F.width,I={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:X,data:F.sMask};"filter"in F&&(I.filter=F.filter),A.call(this,I)}if(F.colorSpace===N.INDEXED){var q=this.internal.newObject();re({data:T(new Uint8Array(F.palette)),objectId:q}),M("endobj")}},s=function(){var A=this.internal.collections[e+"images"];for(var F in A)a.call(this,A[F])},o=function(){var A,F=this.internal.collections[e+"images"],M=this.internal.write;for(var re in F)M("/I"+(A=F[re]).index,A.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var A=this.internal.collections[e+"images"];return l.call(this),A},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(A){return typeof t["process"+A.toUpperCase()]=="function"},g=function(A){return Xn(A)==="object"&&A.nodeType===1},m=function(A,F){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var M=""+A.getAttribute("src");if(M.indexOf("data:image/")===0)return Hx(unescape(M).split("base64,").pop());var re=t.loadFile(M,!0);if(re!==void 0)return re}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var pe;switch(F){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Hx(A.toDataURL(pe,1).split("base64,").pop())}},y=function(A){var F=this.internal.collections[e+"images"];if(F){for(var M in F)if(A===F[M].alias)return F[M]}},w=function(A,F,M){return A||F||(A=-96,F=-96),A<0&&(A=-1*M.width*72/A/this.internal.scaleFactor),F<0&&(F=-1*M.height*72/F/this.internal.scaleFactor),A===0&&(A=F*M.width/M.height),F===0&&(F=A*M.height/M.width),[A,F]},k=function(A,F,M,re,pe,_e){var xe=w.call(this,M,re,pe),oe=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,fe=c.call(this);if(M=xe[0],re=xe[1],fe[pe.index]=pe,_e){_e*=Math.PI/180;var X=Math.cos(_e),I=Math.sin(_e),q=function(J){return J.toFixed(4)},W=[q(X),q(I),q(-1*I),q(X),0,0,"cm"]}this.internal.write("q"),_e?(this.internal.write([1,"0","0",1,oe(A),G(F+re),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([oe(M),"0","0",oe(re),"0","0","cm"].join(" "))):this.internal.write([oe(M),"0","0",oe(re),oe(A),G(F+re),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},P=t.__addimage__.sHashCode=function(A){var F,M,re=0;if(typeof A=="string")for(M=A.length,F=0;F<M;F++)re=(re<<5)-re+A.charCodeAt(F),re|=0;else if(Q(A))for(M=A.byteLength/2,F=0;F<M;F++)re=(re<<5)-re+A[F],re|=0;return re},V=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var F=!0;return A.length===0&&(F=!1),A.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(F=!1),F},Y=t.__addimage__.extractImageFromDataUrl=function(A){if(A==null||!(A=A.trim()).startsWith("data:"))return null;var F=A.indexOf(",");return F<0?null:A.substring(0,F).trim().endsWith("base64")?A.substring(F+1):null};t.__addimage__.isArrayBuffer=function(A){return A instanceof ArrayBuffer};var Q=t.__addimage__.isArrayBufferView=function(A){return A instanceof Int8Array||A instanceof Uint8Array||A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array},R=t.__addimage__.binaryStringToUint8Array=function(A){for(var F=A.length,M=new Uint8Array(F),re=0;re<F;re++)M[re]=A.charCodeAt(re);return M},T=t.__addimage__.arrayBufferToBinaryString=function(A){for(var F="",M=Q(A)?A:new Uint8Array(A),re=0;re<M.length;re+=8192)F+=String.fromCharCode.apply(null,M.subarray(re,re+8192));return F};t.addImage=function(){var A,F,M,re,pe,_e,xe,oe,G;if(typeof arguments[1]=="number"?(F=r,M=arguments[1],re=arguments[2],pe=arguments[3],_e=arguments[4],xe=arguments[5],oe=arguments[6],G=arguments[7]):(F=arguments[1],M=arguments[2],re=arguments[3],pe=arguments[4],_e=arguments[5],xe=arguments[6],oe=arguments[7],G=arguments[8]),Xn(A=arguments[0])==="object"&&!g(A)&&"imageData"in A){var fe=A;A=fe.imageData,F=fe.format||F||r,M=fe.x||M||0,re=fe.y||re||0,pe=fe.w||fe.width||pe,_e=fe.h||fe.height||_e,xe=fe.alias||xe,oe=fe.compression||oe,G=fe.rotation||fe.angle||G}var X=this.internal.getFilters();if(oe===void 0&&X.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(M)||isNaN(re))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=S.call(this,A,F,xe,oe);return k.call(this,M,re,pe,_e,I,G),this};var S=function(A,F,M,re){var pe,_e,xe;if(typeof A=="string"&&i(A)===r){A=unescape(A);var oe=j(A,!1);(oe!==""||(oe=t.loadFile(A,!0))!==void 0)&&(A=oe)}if(g(A)&&(A=m(A,F)),F=i(A,F),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((xe=M)==null||xe.length===0)&&(M=(function(G){return typeof G=="string"||Q(G)?P(G):Q(G.data)?P(G.data):null})(A)),(pe=y.call(this,M))||(A instanceof Uint8Array||F==="RGBA"||(_e=A,A=R(A)),pe=this["process"+F.toUpperCase()](A,f.call(this),M,(function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in t.image_compression?G:L.NONE})(re),_e)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},j=t.__addimage__.convertBase64ToBinaryString=function(A,F){F=typeof F!="boolean"||F;var M,re="";if(typeof A=="string"){var pe;M=(pe=Y(A))!==null&&pe!==void 0?pe:A;try{re=Hx(M)}catch(_e){if(F)throw V(M)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return re};t.getImageProperties=function(A){var F,M,re="";if(g(A)&&(A=m(A)),typeof A=="string"&&i(A)===r&&((re=j(A,!1))===""&&(re=t.loadFile(A)||""),A=re),M=i(A),!p(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(A instanceof Uint8Array||(A=R(A)),!(F=this["process"+M.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=M,F}})(yr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};yr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,f=!1,p=0;p<c.length&&!f;p++)switch((n=c[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){n=c[g];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(w.objId),L=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(N(n.contents))+")",a+=" /Popup "+k.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+m(N(L))+") >>",w.content=a;var P=w.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+P,n.open&&(a+=" /Open true"),a+=" >>",k.content=a,this.internal.write(w.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var V=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(y(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var Y=this.annotations._nameMap[n.options.name];n.options.pageNumber=Y.page,n.options.top=Y.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var Q=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+Q+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},t.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var f=this.splitTextToSize(r,o).length;s=Math.ceil(c*f)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(yr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=t.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&a(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&a(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&a(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&a(w)&&e[w.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&a(w)&&e[w.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(w){var k=0,N=r,L="",P=0;for(k=0;k<w.length;k+=1)N[w.charCodeAt(k)]!==void 0?(P++,typeof(N=N[w.charCodeAt(k)])=="number"&&(L+=String.fromCharCode(N),N=r,P=0),k===w.length-1&&(N=r,L+=w.charAt(k-(P-1)),k-=P-1,P=0)):(N=r,L+=w.charAt(k-P),k-=P,P=0);return L};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(w,k,N){return s(w)?a(w)===!1?-1:!c(w)||!s(k)&&!s(N)||!s(N)&&o(k)||o(w)&&!s(k)||o(w)&&l(k)||o(w)&&o(k)?0:f(w)&&s(k)&&!o(k)&&s(N)&&c(N)?3:o(w)||!s(N)?1:2:-1},m=function(w){var k=0,N=0,L=0,P="",V="",Y="",Q=(w=w||"").split("\\s+"),R=[];for(k=0;k<Q.length;k+=1){for(R.push(""),N=0;N<Q[k].length;N+=1)P=Q[k][N],V=Q[k][N-1],Y=Q[k][N+1],s(P)?(L=g(P,V,Y),R[k]+=L!==-1?String.fromCharCode(e[P.charCodeAt(0)][L]):P):R[k]+=P;R[k]=p(R[k])}return R.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var w,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(k)){var L=0;for(N=[],L=0;L<k.length;L+=1)Array.isArray(k[L])?N.push([m(k[L][0]),k[L][1],k[L][2]]):N.push([m(k[L])]);w=N}else w=m(k);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",y])})(yr.API),yr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),p=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,m=0,y=0,w=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var N=c.maxWidth;N>0?typeof l=="string"?l=this.splitTextToSize(l,N):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(P,V){return P.concat(k.splitTextToSize(V,N))},[])):l=Array.isArray(l)?l:[l];for(var L=0;L<l.length;L++)m<(w=this.getStringUnitWidth(l[L],{font:p})*f)&&(m=w);return m!==0&&(y=l.length),{w:m/=g,h:Math.max((y*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,f,p,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var m,y,w,k,N=[],L=[],P=[],V={},Y={},Q=[],R=[],T=(g=g||{}).autoSize||!1,S=g.printHeaders!==!1,j=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,A=g.margins||Object.assign({width:this.getPageWidth()},e),F=typeof g.padding=="number"?g.padding:3,M=g.headerBackgroundColor||"#c8c8c8",re=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=re,this.setFontSize(j),p==null)L=N=Object.keys(f[0]),P=N.map(function(){return"left"});else if(Array.isArray(p)&&Xn(p[0])==="object")for(N=p.map(function(fe){return fe.name}),L=p.map(function(fe){return fe.prompt||fe.name||""}),P=p.map(function(fe){return fe.align||"left"}),m=0;m<p.length;m+=1)Y[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(L=N=p,P=N.map(function(){return"left"}));if(T||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<N.length;m+=1){for(V[k=N[m]]=f.map(function(fe){return fe[k]}),this.setFont(void 0,"bold"),Q.push(this.getTextDimensions(L[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=V[k],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)Q.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[k]=Math.max.apply(null,Q)+F+F,Q=[]}if(S){var pe={};for(m=0;m<N.length;m+=1)pe[N[m]]={},pe[N[m]].text=L[m],pe[N[m]].align=P[m];var _e=o.call(this,pe,Y);R=N.map(function(fe){return new a(l,c,Y[fe],_e,pe[fe].text,void 0,pe[fe].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var xe=p.reduce(function(fe,X){return fe[X.name]=X.align,fe},{});for(m=0;m<f.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:f[m]},this);var oe=o.call(this,f[m],Y);for(w=0;w<N.length;w+=1){var G=f[m][N[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:w,data:G},this),s.call(this,new a(l,c,Y[N[w]],oe,G,m+2,xe[N[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var y=l[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+f+f},this).reduce(function(m,y){return Math.max(m,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(yr.API);var AL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},TL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ew=NL(TL),IL=[100,200,300,400,500,600,700,800,900],Ece=NL(IL);function G4(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return AL[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof Ew[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function yS(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Sce={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},wS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _S(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function bS(t){return t.trimLeft()}function Cce(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function Nce(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var wx,kS,ES,t1,_x,SS,CS,NS,K4=["times"];function AS(t,e,r,n){var i=4,a=IS;switch(n){case yr.API.image_compression.FAST:i=1,a=TS;break;case yr.API.image_compression.MEDIUM:i=6,a=PS;break;case yr.API.image_compression.SLOW:i=9,a=RS}t=(function(o,l,c,f){for(var p,g=o.length/l,m=new Uint8Array(o.length+g),y=[Ace,TS,IS,PS,RS],w=0;w<g;w+=1){var k=w*l,N=o.subarray(k,k+l);if(f)m.set(f(N,c,p),k+w);else{for(var L=y.length,P=[],V=0;V<L;V+=1)P[V]=y[V](N,c,p);var Y=Ice(P.concat());m.set(P[Y],k+w)}p=N}return m})(t,e,r,a);var s=xw(t,{level:i});return yr.API.__addimage__.arrayBufferToBinaryString(s)}function Ace(t){var e=Array.apply([],t);return e.unshift(0),e}function TS(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function IS(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=t[a]-s+256&255}return i}function PS(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=t[a-e]||0,o=r&&r[a]||0;i[a+1]=t[a]+256-(s+o>>>1)&255}return i}function RS(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=Tce(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-s+256&255}return i}function Tce(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function Ice(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function X4(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return PL(t,i)>>a&s}function FS(t,e,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(e&o)<<s;(function(c,f,p){if(f+1<c.byteLength)c.setUint16(f,p,!1);else{var g=p>>8&255;c.setUint8(f,g)}})(t,a,PL(t,a)&~(o<<s)&65535|l)}function PL(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Pce(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,s=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;a&&(o=e,l=s,e+=3*s);var c=!0,f=[],p=0,g=null,m=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&w||(g=null),m=w>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,V=t[e++],Y=V>>6&1,Q=1<<1+(7&V),R=o,T=l,S=!1;V>>7&&(S=!0,R=e,T=Q,e+=3*Q);var j=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}f.push({x:k,y:N,width:L,height:P,has_local_palette:S,palette_offset:R,palette_size:T,data_offset:j,data_length:e-j,transparent_index:g,interlaced:!!Y,delay:p,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return y},this.frameInfo=function(F){if(F<0||F>=f.length)throw new Error("Frame index out of range.");return f[F]},this.decodeAndBlitFrameBGRA=function(F,M){var re=this.frameInfo(F),pe=re.width*re.height,_e=new Uint8Array(pe);LS(t,re.data_offset,_e,pe);var xe=re.palette_offset,oe=re.transparent_index;oe===null&&(oe=256);var G=re.width,fe=r-G,X=G,I=4*(re.y*r+re.x),q=4*((re.y+re.height)*r+re.x),W=I,J=4*fe;re.interlaced===!0&&(J+=4*r*7);for(var ce=8,ve=0,Ee=_e.length;ve<Ee;++ve){var le=_e[ve];if(X===0&&(X=G,(W+=J)>=q&&(J=4*fe+4*r*(ce-1),W=I+(G+fe)*(ce<<1),ce>>=1)),le===oe)W+=4;else{var be=t[xe+3*le],Le=t[xe+3*le+1],ae=t[xe+3*le+2];M[W++]=ae,M[W++]=Le,M[W++]=be,M[W++]=255}--X}},this.decodeAndBlitFrameRGBA=function(F,M){var re=this.frameInfo(F),pe=re.width*re.height,_e=new Uint8Array(pe);LS(t,re.data_offset,_e,pe);var xe=re.palette_offset,oe=re.transparent_index;oe===null&&(oe=256);var G=re.width,fe=r-G,X=G,I=4*(re.y*r+re.x),q=4*((re.y+re.height)*r+re.x),W=I,J=4*fe;re.interlaced===!0&&(J+=4*r*7);for(var ce=8,ve=0,Ee=_e.length;ve<Ee;++ve){var le=_e[ve];if(X===0&&(X=G,(W+=J)>=q&&(J=4*fe+4*r*(ce-1),W=I+(G+fe)*(ce<<1),ce>>=1)),le===oe)W+=4;else{var be=t[xe+3*le],Le=t[xe+3*le+1],ae=t[xe+3*le+2];M[W++]=be,M[W++]=Le,M[W++]=ae,M[W++]=255}--X}}}function LS(t,e,r,n){for(var i=t[e++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,f=0,p=0,g=0,m=t[e++],y=new Int32Array(4096),w=null;;){for(;f<16&&m!==0;)p|=t[e++]<<f,f+=8,m===1?m=t[e++]:--m;if(f<l)break;var k=p&c;if(p>>=l,f-=l,k!==a){if(k===s)break;for(var N=k<o?k:w,L=0,P=N;P>a;)P=y[P]>>8,++L;var V=P;if(g+L+(N!==k?1:0)>n)return void ci.log("Warning, gif stream longer than expected.");r[g++]=V;var Y=g+=L;for(N!==k&&(r[g++]=V),P=N;L--;)P=y[P],r[--Y]=255&P,P>>=8;w!==null&&o<4096&&(y[o++]=w<<8|V,o>=c+1&&l<12&&(++l,c=c<<1|1)),w=k}else o=s+1,c=(1<<(l=i+1))-1,w=null}return g!==n&&ci.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Y4(t){var e,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),y=new Array(64),w=[],k=0,N=7,L=new Array(64),P=new Array(64),V=new Array(64),Y=new Array(256),Q=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _e(I,q){for(var W=0,J=0,ce=new Array,ve=1;ve<=16;ve++){for(var Ee=1;Ee<=I[ve];Ee++)ce[q[J]]=[],ce[q[J]][0]=W,ce[q[J]][1]=ve,J++,W++;W*=2}return ce}function xe(I){for(var q=I[0],W=I[1]-1;W>=0;)q&1<<W&&(k|=1<<N),W--,--N<0&&(k==255?(oe(255),oe(0)):oe(k),N=7,k=0)}function oe(I){w.push(I)}function G(I){oe(I>>8&255),oe(255&I)}function fe(I,q,W,J,ce){for(var ve,Ee=ce[0],le=ce[240],be=(function(ne,De){var Ke,mt,Et,Re,qe,Ge,dt,Nt,It,yt,wt=0;for(It=0;It<8;++It){Ke=ne[wt],mt=ne[wt+1],Et=ne[wt+2],Re=ne[wt+3],qe=ne[wt+4],Ge=ne[wt+5],dt=ne[wt+6];var Xt=Ke+(Nt=ne[wt+7]),qt=Ke-Nt,Bt=mt+dt,mr=mt-dt,qr=Et+Ge,fr=Et-Ge,He=Re+qe,Ot=Re-qe,hr=Xt+He,Zt=Xt-He,Qt=Bt+qr,Wt=Bt-qr;ne[wt]=hr+Qt,ne[wt+4]=hr-Qt;var br=.707106781*(Wt+Zt);ne[wt+2]=Zt+br,ne[wt+6]=Zt-br;var Dn=.382683433*((hr=Ot+fr)-(Wt=mr+qt)),jr=.5411961*hr+Dn,Cn=1.306562965*Wt+Dn,mn=.707106781*(Qt=fr+mr),ir=qt+mn,Kr=qt-mn;ne[wt+5]=Kr+jr,ne[wt+3]=Kr-jr,ne[wt+1]=ir+Cn,ne[wt+7]=ir-Cn,wt+=8}for(wt=0,It=0;It<8;++It){Ke=ne[wt],mt=ne[wt+8],Et=ne[wt+16],Re=ne[wt+24],qe=ne[wt+32],Ge=ne[wt+40],dt=ne[wt+48];var vi=Ke+(Nt=ne[wt+56]),Rn=Ke-Nt,Bi=mt+dt,Nn=mt-dt,si=Et+Ge,ie=Et-Ge,Ae=Re+qe,we=Re-qe,ke=vi+Ae,Te=vi-Ae,Ie=Bi+si,Qe=Bi-si;ne[wt]=ke+Ie,ne[wt+32]=ke-Ie;var ot=.707106781*(Qe+Te);ne[wt+16]=Te+ot,ne[wt+48]=Te-ot;var tt=.382683433*((ke=we+ie)-(Qe=Nn+Rn)),rt=.5411961*ke+tt,at=1.306562965*Qe+tt,St=.707106781*(Ie=ie+Nn),Mt=Rn+St,Gt=Rn-St;ne[wt+40]=Gt+rt,ne[wt+24]=Gt-rt,ne[wt+8]=Mt+at,ne[wt+56]=Mt-at,wt++}for(It=0;It<64;++It)yt=ne[It]*De[It],m[It]=yt>0?yt+.5|0:yt-.5|0;return m})(I,q),Le=0;Le<64;++Le)y[R[Le]]=be[Le];var ae=y[0]-W;W=y[0],ae==0?xe(J[0]):(xe(J[g[ve=32767+ae]]),xe(p[ve]));for(var je=63;je>0&&y[je]==0;)je--;if(je==0)return xe(Ee),W;for(var Pe,de=1;de<=je;){for(var Me=de;y[de]==0&&de<=je;)++de;var Be=de-Me;if(Be>=16){Pe=Be>>4;for(var et=1;et<=Pe;++et)xe(le);Be&=15}ve=32767+y[de],xe(ce[(Be<<4)+g[ve]]),xe(p[ve]),de++}return je!=63&&xe(Ee),W}function X(I){I=Math.min(Math.max(I,1),100),a!=I&&((function(q){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ce=s((W[J]*q+50)/100);ce=Math.min(Math.max(ce,1),255),o[R[J]]=ce}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ee=0;Ee<64;Ee++){var le=s((ve[Ee]*q+50)/100);le=Math.min(Math.max(le,1),255),l[R[Ee]]=le}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,ae=0;ae<8;ae++)for(var je=0;je<8;je++)c[Le]=1/(o[R[Le]]*be[ae]*be[je]*8),f[Le]=1/(l[R[Le]]*be[ae]*be[je]*8),Le++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),a=I)}this.encode=function(I,q){q&&X(q),w=new Array,k=0,N=7,G(65496),G(65504),G(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),G(1),G(1),oe(0),oe(0),(function(){G(65499),G(132),oe(0);for(var mt=0;mt<64;mt++)oe(o[mt]);oe(1);for(var Et=0;Et<64;Et++)oe(l[Et])})(),(function(mt,Et){G(65472),G(17),oe(8),G(Et),G(mt),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)})(I.width,I.height),(function(){G(65476),G(418),oe(0);for(var mt=0;mt<16;mt++)oe(T[mt+1]);for(var Et=0;Et<=11;Et++)oe(S[Et]);oe(16);for(var Re=0;Re<16;Re++)oe(j[Re+1]);for(var qe=0;qe<=161;qe++)oe(A[qe]);oe(1);for(var Ge=0;Ge<16;Ge++)oe(F[Ge+1]);for(var dt=0;dt<=11;dt++)oe(M[dt]);oe(17);for(var Nt=0;Nt<16;Nt++)oe(re[Nt+1]);for(var It=0;It<=161;It++)oe(pe[It])})(),G(65498),G(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var W=0,J=0,ce=0;k=0,N=7,this.encode.displayName="_encode_";for(var ve,Ee,le,be,Le,ae,je,Pe,de,Me=I.data,Be=I.width,et=I.height,ne=4*Be,De=0;De<et;){for(ve=0;ve<ne;){for(Le=ne*De+ve,je=-1,Pe=0,de=0;de<64;de++)ae=Le+(Pe=de>>3)*ne+(je=4*(7&de)),De+Pe>=et&&(ae-=ne*(De+1+Pe-et)),ve+je>=ne&&(ae-=ve+je-ne+4),Ee=Me[ae++],le=Me[ae++],be=Me[ae++],L[de]=(Q[Ee]+Q[le+256|0]+Q[be+512|0]>>16)-128,P[de]=(Q[Ee+768|0]+Q[le+1024|0]+Q[be+1280|0]>>16)-128,V[de]=(Q[Ee+1280|0]+Q[le+1536|0]+Q[be+1792|0]>>16)-128;W=fe(L,c,W,e,n),J=fe(P,f,J,r,i),ce=fe(V,f,ce,r,i),ve+=32}De+=8}if(N>=0){var Ke=[];Ke[1]=N+1,Ke[0]=(1<<N+1)-1,xe(Ke)}return G(65497),new Uint8Array(w)},t=t||50,(function(){for(var I=String.fromCharCode,q=0;q<256;q++)Y[q]=I(q)})(),e=_e(T,S),r=_e(F,M),n=_e(j,A),i=_e(re,pe),(function(){for(var I=1,q=2,W=1;W<=15;W++){for(var J=I;J<q;J++)g[32767+J]=W,p[32767+J]=[],p[32767+J][1]=W,p[32767+J][0]=J;for(var ce=-(q-1);ce<=-I;ce++)g[32767+ce]=W,p[32767+ce]=[],p[32767+ce][1]=W,p[32767+ce][0]=q-1+ce;I<<=1,q<<=1}})(),(function(){for(var I=0;I<256;I++)Q[I]=19595*I,Q[I+256|0]=38470*I,Q[I+512|0]=7471*I+32768,Q[I+768|0]=-11059*I,Q[I+1024|0]=-21709*I,Q[I+1280|0]=32768*I+8421375,Q[I+1536|0]=-27439*I,Q[I+1792|0]=-5329*I})(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function jS(t){function e(S){if(!S)throw Error("assert :P")}function r(S,j,A){for(var F=0;4>F;F++)if(S[j+F]!=A.charCodeAt(F))return!0;return!1}function n(S,j,A,F,M){for(var re=0;re<M;re++)S[j+re]=A[F+re]}function i(S,j,A,F){for(var M=0;M<F;M++)S[j+M]=A}function a(S){return new Int32Array(S)}function s(S,j){for(var A=[],F=0;F<S;F++)A.push(new j);return A}function o(S,j){var A=[];return(function F(M,re,pe){for(var _e=pe[re],xe=0;xe<_e&&(M.push(pe.length>re+1?[]:new j),!(pe.length<re+1));xe++)F(M[xe],re+1,pe)})(A,0,S),A}var l=function(){var S=this;function j(_,C){for(var U=1<<C-1>>>0;_&U;)U>>>=1;return U?(_&U-1)+U:_}function A(_,C,U,K,te){e(!(K%U));do _[C+(K-=U)]=te;while(0<K)}function F(_,C,U,K,te){if(e(2328>=te),512>=te)var ue=a(512);else if((ue=a(te))==null)return 0;return(function(he,me,ye,Se,Ve,Ze){var Ne,ze,Ye=me,pt=1<<ye,it=a(16),ft=a(16);for(e(Ve!=0),e(Se!=null),e(he!=null),e(0<ye),ze=0;ze<Ve;++ze){if(15<Se[ze])return 0;++it[Se[ze]]}if(it[0]==Ve)return 0;for(ft[1]=0,Ne=1;15>Ne;++Ne){if(it[Ne]>1<<Ne)return 0;ft[Ne+1]=ft[Ne]+it[Ne]}for(ze=0;ze<Ve;++ze)Ne=Se[ze],0<Se[ze]&&(Ze[ft[Ne]++]=ze);if(ft[15]==1)return(Se=new M).g=0,Se.value=Ze[0],A(he,Ye,1,pt,Se),pt;var ht,_t=-1,bt=pt-1,gr=0,rr=1,Vr=1,sr=1<<ye;for(ze=0,Ne=1,Ve=2;Ne<=ye;++Ne,Ve<<=1){if(rr+=Vr<<=1,0>(Vr-=it[Ne]))return 0;for(;0<it[Ne];--it[Ne])(Se=new M).g=Ne,Se.value=Ze[ze++],A(he,Ye+gr,Ve,sr,Se),gr=j(gr,Ne)}for(Ne=ye+1,Ve=2;15>=Ne;++Ne,Ve<<=1){if(rr+=Vr<<=1,0>(Vr-=it[Ne]))return 0;for(;0<it[Ne];--it[Ne]){if(Se=new M,(gr&bt)!=_t){for(Ye+=sr,ht=1<<(_t=Ne)-ye;15>_t&&!(0>=(ht-=it[_t]));)++_t,ht<<=1;pt+=sr=1<<(ht=_t-ye),he[me+(_t=gr&bt)].g=ht+ye,he[me+_t].value=Ye-me-_t}Se.g=Ne-ye,Se.value=Ze[ze++],A(he,Ye+(gr>>ye),Ve,sr,Se),gr=j(gr,Ne)}}return rr!=2*ft[15]-1?0:pt})(_,C,U,K,te,ue)}function M(){this.value=this.g=0}function re(){this.value=this.g=0}function pe(){this.G=s(5,M),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ss,re)}function _e(_,C,U,K){e(_!=null),e(C!=null),e(2147483648>K),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=C,_.pa=U,_.Jd=C,_.Yc=U+K,_.Zc=4<=K?U+K-4+1:U,Ee(_)}function xe(_,C){for(var U=0;0<C--;)U|=be(_,128)<<C;return U}function oe(_,C){var U=xe(_,C);return le(_)?-U:U}function G(_,C,U,K){var te,ue=0;for(e(_!=null),e(C!=null),e(4294967288>K),_.Sb=K,_.Ra=0,_.u=0,_.h=0,4<K&&(K=4),te=0;te<K;++te)ue+=C[U+te]<<8*te;_.Ra=ue,_.bb=K,_.oa=C,_.pa=U}function fe(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Bc-8>>>0,++_.bb,_.u-=8;J(_)&&(_.h=1,_.u=0)}function X(_,C){if(e(0<=C),!_.h&&C<=Wf){var U=W(_)&Mc[C];return _.u+=C,fe(_),U}return _.h=1,_.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(_){return _.Ra>>>(_.u&Bc-1)>>>0}function J(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Bc}function ce(_,C){_.u=C,_.h=J(_)}function ve(_){_.u>=Ii&&(e(_.u>=Ii),fe(_))}function Ee(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function le(_){return xe(_,1)}function be(_,C){var U=_.Ca;0>_.b&&Ee(_);var K=_.b,te=U*C>>>8,ue=(_.I>>>K>te)+0;for(ue?(U-=te,_.I-=te+1<<K>>>0):U=te+1,K=U,te=0;256<=K;)te+=8,K>>=8;return K=7^te+b0[K],_.b-=K,_.Ca=(U<<K)-1,ue}function Le(_,C,U){_[C+0]=U>>24&255,_[C+1]=U>>16&255,_[C+2]=U>>8&255,_[C+3]=255&U}function ae(_,C){return _[C+0]|_[C+1]<<8}function je(_,C){return ae(_,C)|_[C+2]<<16}function Pe(_,C){return ae(_,C)|ae(_,C+2)<<16}function de(_,C){var U=1<<C;return e(_!=null),e(0<C),_.X=a(U),_.X==null?0:(_.Mb=32-C,_.Xa=C,1)}function Me(_,C){e(_!=null),e(C!=null),e(_.Xa==C.Xa),n(C.X,0,_.X,0,1<<C.Xa)}function Be(){this.X=[],this.Xa=this.Mb=0}function et(_,C,U,K){e(U!=null),e(K!=null);var te=U[0],ue=K[0];return te==0&&(te=(_*ue+C/2)/C),ue==0&&(ue=(C*te+_/2)/_),0>=te||0>=ue?0:(U[0]=te,K[0]=ue,1)}function ne(_,C){return _+(1<<C)-1>>>C}function De(_,C){return((4278255360&_)+(4278255360&C)>>>0&4278255360)+((16711935&_)+(16711935&C)>>>0&16711935)>>>0}function Ke(_,C){S[C]=function(U,K,te,ue,he,me,ye){var Se;for(Se=0;Se<he;++Se){var Ve=S[_](me[ye+Se-1],te,ue+Se);me[ye+Se]=De(U[K+Se],Ve)}}}function mt(){this.ud=this.hd=this.jd=0}function Et(_,C){return((4278124286&(_^C))>>>1)+(_&C)>>>0}function Re(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function qe(_,C){return Re(_+(_-C+.5>>1))}function Ge(_,C,U){return Math.abs(C-U)-Math.abs(_-U)}function dt(_,C,U,K,te,ue,he){for(K=ue[he-1],U=0;U<te;++U)ue[he+U]=K=De(_[C+U],K)}function Nt(_,C,U,K,te){var ue;for(ue=0;ue<U;++ue){var he=_[C+ue],me=he>>8&255,ye=16711935&(ye=(ye=16711935&he)+((me<<16)+me));K[te+ue]=(4278255360&he)+ye>>>0}}function It(_,C){C.jd=255&_,C.hd=_>>8&255,C.ud=_>>16&255}function yt(_,C,U,K,te,ue){var he;for(he=0;he<K;++he){var me=C[U+he],ye=me>>>8,Se=me,Ve=255&(Ve=(Ve=me>>>16)+((_.jd<<24>>24)*(ye<<24>>24)>>>5));Se=255&(Se=(Se+=(_.hd<<24>>24)*(ye<<24>>24)>>>5)+((_.ud<<24>>24)*(Ve<<24>>24)>>>5)),te[ue+he]=(4278255360&me)+(Ve<<16)+Se}}function wt(_,C,U,K,te){S[C]=function(ue,he,me,ye,Se,Ve,Ze,Ne,ze){for(ye=Ze;ye<Ne;++ye)for(Ze=0;Ze<ze;++Ze)Se[Ve++]=te(me[K(ue[he++])])},S[_]=function(ue,he,me,ye,Se,Ve,Ze){var Ne=8>>ue.b,ze=ue.Ea,Ye=ue.K[0],pt=ue.w;if(8>Ne)for(ue=(1<<ue.b)-1,pt=(1<<Ne)-1;he<me;++he){var it,ft=0;for(it=0;it<ze;++it)it&ue||(ft=K(ye[Se++])),Ve[Ze++]=te(Ye[ft&pt]),ft>>=Ne}else S["VP8LMapColor"+U](ye,Se,Ye,pt,Ve,Ze,he,me,ze)}}function Xt(_,C,U,K,te){for(U=C+U;C<U;){var ue=_[C++];K[te++]=ue>>16&255,K[te++]=ue>>8&255,K[te++]=255&ue}}function qt(_,C,U,K,te){for(U=C+U;C<U;){var ue=_[C++];K[te++]=ue>>16&255,K[te++]=ue>>8&255,K[te++]=255&ue,K[te++]=ue>>24&255}}function Bt(_,C,U,K,te){for(U=C+U;C<U;){var ue=(he=_[C++])>>16&240|he>>12&15,he=240&he|he>>28&15;K[te++]=ue,K[te++]=he}}function mr(_,C,U,K,te){for(U=C+U;C<U;){var ue=(he=_[C++])>>16&248|he>>13&7,he=he>>5&224|he>>3&31;K[te++]=ue,K[te++]=he}}function qr(_,C,U,K,te){for(U=C+U;C<U;){var ue=_[C++];K[te++]=255&ue,K[te++]=ue>>8&255,K[te++]=ue>>16&255}}function fr(_,C,U,K,te,ue){if(ue==0)for(U=C+U;C<U;)Le(K,((ue=_[C++])[0]>>24|ue[1]>>8&65280|ue[2]<<8&16711680|ue[3]<<24)>>>0),te+=32;else n(K,te,_,C,U)}function He(_,C){S[C][0]=S[_+"0"],S[C][1]=S[_+"1"],S[C][2]=S[_+"2"],S[C][3]=S[_+"3"],S[C][4]=S[_+"4"],S[C][5]=S[_+"5"],S[C][6]=S[_+"6"],S[C][7]=S[_+"7"],S[C][8]=S[_+"8"],S[C][9]=S[_+"9"],S[C][10]=S[_+"10"],S[C][11]=S[_+"11"],S[C][12]=S[_+"12"],S[C][13]=S[_+"13"],S[C][14]=S[_+"0"],S[C][15]=S[_+"0"]}function Ot(_){return _==Td||_==Tu||_==Qf||_==Jf}function hr(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new hr,this.f.kb=new Zt,this.sd=null}function Wt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function br(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dn(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function jr(_,C){var U=_.T,K=C.ba.f.RGBA,te=K.eb,ue=K.fb+_.ka*K.A,he=Xs[C.ba.S],me=_.y,ye=_.O,Se=_.f,Ve=_.N,Ze=_.ea,Ne=_.W,ze=C.cc,Ye=C.dc,pt=C.Mc,it=C.Nc,ft=_.ka,ht=_.ka+_.T,_t=_.U,bt=_t+1>>1;for(ft==0?he(me,ye,null,null,Se,Ve,Ze,Ne,Se,Ve,Ze,Ne,te,ue,null,null,_t):(he(C.ec,C.fc,me,ye,ze,Ye,pt,it,Se,Ve,Ze,Ne,te,ue-K.A,te,ue,_t),++U);ft+2<ht;ft+=2)ze=Se,Ye=Ve,pt=Ze,it=Ne,Ve+=_.Rc,Ne+=_.Rc,ue+=2*K.A,he(me,(ye+=2*_.fa)-_.fa,me,ye,ze,Ye,pt,it,Se,Ve,Ze,Ne,te,ue-K.A,te,ue,_t);return ye+=_.fa,_.j+ht<_.o?(n(C.ec,C.fc,me,ye,_t),n(C.cc,C.dc,Se,Ve,bt),n(C.Mc,C.Nc,Ze,Ne,bt),U--):1&ht||he(me,ye,null,null,Se,Ve,Ze,Ne,Se,Ve,Ze,Ne,te,ue+K.A,null,null,_t),U}function Cn(_,C,U){var K=_.F,te=[_.J];if(K!=null){var ue=_.U,he=C.ba.S,me=he==Yf||he==Qf;C=C.ba.f.RGBA;var ye=[0],Se=_.ka;ye[0]=_.T,_.Kb&&(Se==0?--ye[0]:(--Se,te[0]-=_.width),_.j+_.ka+_.T==_.o&&(ye[0]=_.o-_.j-Se));var Ve=C.eb;Se=C.fb+Se*C.A,_=Kf(K,te[0],_.width,ue,ye,Ve,Se+(me?0:3),C.A),e(U==ye),_&&Ot(he)&&Au(Ve,Se,me,ue,ye,C.A)}return 0}function mn(_){var C=_.ma,U=C.ba.S,K=11>U,te=U==Uc||U==Xf||U==Yf||U==zn||U==12||Ot(U);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!ks(C.Oa,_,te?11:12))return 0;if(te&&Ot(U)&&Dc(),_.da)alert("todo:use_scaling");else{if(K){if(C.Ib=Dn,_.Kb){if(U=_.U+1>>1,C.memory=a(_.U+2*U),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+_.U,C.Mc=C.cc,C.Nc=C.dc+U,C.Ib=jr,Dc()}}else alert("todo:EmitYUV");te&&(C.Jb=Cn,K&&Vi())}if(K&&!Ka){for(_=0;256>_;++_)Ys[_]=89858*(_-128)+il>>lc,Qs[_]=-22014*(_-128)+il,Fd[_]=-45773*(_-128),Fu[_]=113618*(_-128)+il>>lc;for(_=Ln;_<Bn;++_)C=76283*(_-16)+il>>lc,I0[_-Ln]=rn(C,255),p2[_-Ln]=rn(C+8>>4,15);Ka=1}return 1}function ir(_){var C=_.ma,U=_.U,K=_.T;return e(!(1&_.ka)),0>=U||0>=K?0:(U=C.Ib(_,C),C.Jb!=null&&C.Jb(_,C,U),C.Dc+=U,1)}function Kr(_){_.ma.memory=null}function vi(_,C,U,K){return X(_,8)!=47?0:(C[0]=X(_,14)+1,U[0]=X(_,14)+1,K[0]=X(_,1),X(_,3)!=0?0:!_.h)}function Rn(_,C){if(4>_)return _+1;var U=_-2>>1;return(2+(1&_)<<U)+X(C,U)+1}function Bi(_,C){return 120<C?C-120:1<=(U=((U=e5[C-1])>>4)*_+(8-(15&U)))?U:1;var U}function Nn(_,C,U){var K=W(U),te=_[C+=255&K].g-8;return 0<te&&(ce(U,U.u+8),K=W(U),C+=_[C].value,C+=K&(1<<te)-1),ce(U,U.u+_[C].g),_[C].value}function si(_,C,U){return U.g+=_.g,U.value+=_.value<<C>>>0,e(8>=U.g),_.g}function ie(_,C,U){var K=_.xc;return e((C=K==0?0:_.vc[_.md*(U>>K)+(C>>K)])<_.Wb),_.Ya[C]}function Ae(_,C,U,K){var te=_.ab,ue=_.c*C,he=_.C;C=he+C;var me=U,ye=K;for(K=_.Ta,U=_.Ua;0<te--;){var Se=_.gc[te],Ve=he,Ze=C,Ne=me,ze=ye,Ye=(ye=K,me=U,Se.Ea);switch(e(Ve<Ze),e(Ze<=Se.nc),Se.hc){case 2:kd(Ne,ze,(Ze-Ve)*Ye,ye,me);break;case 0:var pt=Ve,it=Ze,ft=ye,ht=me,_t=(sr=Se).Ea;pt==0&&(Hs(Ne,ze,null,null,1,ft,ht),dt(Ne,ze+1,0,0,_t-1,ft,ht+1),ze+=_t,ht+=_t,++pt);for(var bt=1<<sr.b,gr=bt-1,rr=ne(_t,sr.b),Vr=sr.K,sr=sr.w+(pt>>sr.b)*rr;pt<it;){var nn=Vr,Pi=sr,Ur=1;for(Ws(Ne,ze,ft,ht-_t,1,ft,ht);Ur<_t;){var nr=(Ur&~gr)+bt;nr>_t&&(nr=_t),(0,oc[nn[Pi++]>>8&15])(Ne,ze+ +Ur,ft,ht+Ur-_t,nr-Ur,ft,ht+Ur),Ur=nr}ze+=_t,ht+=_t,++pt&gr||(sr+=rr)}Ze!=Se.nc&&n(ye,me-Ye,ye,me+(Ze-Ve-1)*Ye,Ye);break;case 1:for(Ye=Ne,it=ze,_t=(Ne=Se.Ea)-(ht=Ne&~(ft=(ze=1<<Se.b)-1)),pt=ne(Ne,Se.b),bt=Se.K,Se=Se.w+(Ve>>Se.b)*pt;Ve<Ze;){for(gr=bt,rr=Se,Vr=new mt,sr=it+ht,nn=it+Ne;it<sr;)It(gr[rr++],Vr),Cl(Vr,Ye,it,ze,ye,me),it+=ze,me+=ze;it<nn&&(It(gr[rr++],Vr),Cl(Vr,Ye,it,_t,ye,me),it+=_t,me+=_t),++Ve&ft||(Se+=pt)}break;case 3:if(Ne==ye&&ze==me&&0<Se.b){for(it=ye,Ne=Ye=me+(Ze-Ve)*Ye-(ht=(Ze-Ve)*ne(Se.Ea,Se.b)),ze=ye,ft=me,pt=[],ht=(_t=ht)-1;0<=ht;--ht)pt[ht]=ze[ft+ht];for(ht=_t-1;0<=ht;--ht)it[Ne+ht]=pt[ht];Vc(Se,Ve,Ze,ye,Ye,ye,me)}else Vc(Se,Ve,Ze,Ne,ze,ye,me)}me=K,ye=U}ye!=U&&n(K,U,me,ye,ue)}function we(_,C){var U=_.V,K=_.Ba+_.c*_.C,te=C-_.C;if(e(C<=_.l.o),e(16>=te),0<te){var ue=_.l,he=_.Ta,me=_.Ua,ye=ue.width;if(Ae(_,te,U,K),te=me=[me],e((U=_.C)<(K=C)),e(ue.v<ue.va),K>ue.o&&(K=ue.o),U<ue.j){var Se=ue.j-U;U=ue.j,te[0]+=Se*ye}if(U>=K?U=0:(te[0]+=4*ue.v,ue.ka=U-ue.j,ue.U=ue.va-ue.v,ue.T=K-U,U=1),U){if(me=me[0],11>(U=_.ca).S){var Ve=U.f.RGBA,Ze=(K=U.S,te=ue.U,ue=ue.T,Se=Ve.eb,Ve.A),Ne=ue;for(Ve=Ve.fb+_.Ma*Ve.A;0<Ne--;){var ze=he,Ye=me,pt=te,it=Se,ft=Ve;switch(K){case C0:Sd(ze,Ye,pt,it,ft);break;case Uc:Gs(ze,Ye,pt,it,ft);break;case Td:Gs(ze,Ye,pt,it,ft),Au(it,ft,0,pt,1,0);break;case c2:ei(ze,Ye,pt,it,ft);break;case Xf:fr(ze,Ye,pt,it,ft,1);break;case Tu:fr(ze,Ye,pt,it,ft,1),Au(it,ft,0,pt,1,0);break;case Yf:fr(ze,Ye,pt,it,ft,0);break;case Qf:fr(ze,Ye,pt,it,ft,0),Au(it,ft,1,pt,1,0);break;case zn:Nl(ze,Ye,pt,it,ft);break;case Jf:Nl(ze,Ye,pt,it,ft),Tp(it,ft,pt,1,0);break;case N0:Zn(ze,Ye,pt,it,ft);break;default:e(0)}me+=ye,Ve+=Ze}_.Ma+=ue}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=U.height)}}_.C=C,e(_.C<=_.i)}function ke(_){var C;if(0<_.ua)return 0;for(C=0;C<_.Wb;++C){var U=_.Ya[C].G,K=_.Ya[C].H;if(0<U[1][K[1]+0].g||0<U[2][K[2]+0].g||0<U[3][K[3]+0].g)return 0}return 1}function Te(_,C,U,K,te,ue){if(_.Z!=0){var he=_.qd,me=_.rd;for(e(ss[_.Z]!=null);C<U;++C)ss[_.Z](he,me,K,te,K,te,ue),he=K,me=te,te+=ue;_.qd=he,_.rd=me}}function Ie(_,C){var U=_.l.ma,K=U.Z==0||U.Z==1?_.l.j:_.C;if(K=_.C<K?K:_.C,e(C<=_.l.o),C>K){var te=_.l.width,ue=U.ca,he=U.tb+te*K,me=_.V,ye=_.Ba+_.c*K,Se=_.gc;e(_.ab==1),e(Se[0].hc==3),Su(Se[0],K,C,me,ye,ue,he),Te(U,K,C,ue,he,te)}_.C=_.Ma=C}function Qe(_,C,U,K,te,ue,he){var me=_.$/K,ye=_.$%K,Se=_.m,Ve=_.s,Ze=U+_.$,Ne=Ze;te=U+K*te;var ze=U+K*ue,Ye=280+Ve.ua,pt=_.Pb?me:16777216,it=0<Ve.ua?Ve.Wa:null,ft=Ve.wc,ht=Ze<ze?ie(Ve,ye,me):null;e(_.C<ue),e(ze<=te);var _t=!1;e:for(;;){for(;_t||Ze<ze;){var bt=0;if(me>=pt){var gr=Ze-U;e((pt=_).Pb),pt.wd=pt.m,pt.xd=gr,0<pt.s.ua&&Me(pt.s.Wa,pt.s.vb),pt=me+T0}if(ye&ft||(ht=ie(Ve,ye,me)),e(ht!=null),ht.Qb&&(C[Ze]=ht.qb,_t=!0),!_t)if(ve(Se),ht.jc){bt=Se,gr=C;var rr=Ze,Vr=ht.pd[W(bt)&Ss-1];e(ht.jc),256>Vr.g?(ce(bt,bt.u+Vr.g),gr[rr]=Vr.value,bt=0):(ce(bt,bt.u+Vr.g-256),e(256<=Vr.value),bt=Vr.value),bt==0&&(_t=!0)}else bt=Nn(ht.G[0],ht.H[0],Se);if(Se.h)break;if(_t||256>bt){if(!_t)if(ht.nd)C[Ze]=(ht.qb|bt<<8)>>>0;else{if(ve(Se),_t=Nn(ht.G[1],ht.H[1],Se),ve(Se),gr=Nn(ht.G[2],ht.H[2],Se),rr=Nn(ht.G[3],ht.H[3],Se),Se.h)break;C[Ze]=(rr<<24|_t<<16|bt<<8|gr)>>>0}if(_t=!1,++Ze,++ye>=K&&(ye=0,++me,he!=null&&me<=ue&&!(me%16)&&he(_,me),it!=null))for(;Ne<Ze;)bt=C[Ne++],it.X[(506832829*bt&4294967295)>>>it.Mb]=bt}else if(280>bt){if(bt=Rn(bt-256,Se),gr=Nn(ht.G[4],ht.H[4],Se),ve(Se),gr=Bi(K,gr=Rn(gr,Se)),Se.h)break;if(Ze-U<gr||te-Ze<bt)break e;for(rr=0;rr<bt;++rr)C[Ze+rr]=C[Ze+rr-gr];for(Ze+=bt,ye+=bt;ye>=K;)ye-=K,++me,he!=null&&me<=ue&&!(me%16)&&he(_,me);if(e(Ze<=te),ye&ft&&(ht=ie(Ve,ye,me)),it!=null)for(;Ne<Ze;)bt=C[Ne++],it.X[(506832829*bt&4294967295)>>>it.Mb]=bt}else{if(!(bt<Ye))break e;for(_t=bt-280,e(it!=null);Ne<Ze;)bt=C[Ne++],it.X[(506832829*bt&4294967295)>>>it.Mb]=bt;bt=Ze,e(!(_t>>>(gr=it).Xa)),C[bt]=gr.X[_t],_t=!0}_t||e(Se.h==J(Se))}if(_.Pb&&Se.h&&Ze<te)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Me(_.s.vb,_.s.Wa);else{if(Se.h)break e;he?.(_,me>ue?ue:me),_.a=0,_.$=Ze-U}return 1}return _.a=3,0}function ot(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var C=_.Wa;C!=null&&(C.X=null),_.vb=null,e(_!=null)}function tt(){var _=new Jn;return _==null?null:(_.a=0,_.xb=Pd,He("Predictor","VP8LPredictors"),He("Predictor","VP8LPredictors_C"),He("PredictorAdd","VP8LPredictorsAdd"),He("PredictorAdd","VP8LPredictorsAdd_C"),kd=Nt,Cl=yt,Sd=Xt,Gs=qt,Nl=Bt,Zn=mr,ei=qr,S.VP8LMapColor32b=Ed,S.VP8LMapColor8b=sc,_)}function rt(_,C,U,K,te){var ue=1,he=[_],me=[C],ye=K.m,Se=K.s,Ve=null,Ze=0;e:for(;;){if(U)for(;ue&&X(ye,1);){var Ne=he,ze=me,Ye=K,pt=1,it=Ye.m,ft=Ye.gc[Ye.ab],ht=X(it,2);if(Ye.Oc&1<<ht)ue=0;else{switch(Ye.Oc|=1<<ht,ft.hc=ht,ft.Ea=Ne[0],ft.nc=ze[0],ft.K=[null],++Ye.ab,e(4>=Ye.ab),ht){case 0:case 1:ft.b=X(it,3)+2,pt=rt(ne(ft.Ea,ft.b),ne(ft.nc,ft.b),0,Ye,ft.K),ft.K=ft.K[0];break;case 3:var _t,bt=X(it,8)+1,gr=16<bt?0:4<bt?1:2<bt?2:3;if(Ne[0]=ne(ft.Ea,gr),ft.b=gr,_t=pt=rt(bt,1,0,Ye,ft.K)){var rr,Vr=bt,sr=ft,nn=1<<(8>>sr.b),Pi=a(nn);if(Pi==null)_t=0;else{var Ur=sr.K[0],nr=sr.w;for(Pi[0]=sr.K[0][0],rr=1;rr<1*Vr;++rr)Pi[rr]=De(Ur[nr+rr],Pi[rr-1]);for(;rr<4*nn;++rr)Pi[rr]=0;sr.K[0]=null,sr.K[0]=Pi,_t=1}}pt=_t;break;case 2:break;default:e(0)}ue=pt}}if(he=he[0],me=me[0],ue&&X(ye,1)&&!(ue=1<=(Ze=X(ye,4))&&11>=Ze)){K.a=3;break e}var $t;if($t=ue)t:{var $i,Pr,Jr,ti=K,Pa=he,Ji=me,wi=Ze,ma=U,Ra=ti.m,pi=ti.s,cn=[null],_n=1,mi=0,bn=d2[wi];r:for(;;){if(ma&&X(Ra,1)){var Ri=X(Ra,3)+2,Fi=ne(Pa,Ri),$n=ne(Ji,Ri),os=Fi*$n;if(!rt(Fi,$n,0,ti,cn))break r;for(cn=cn[0],pi.xc=Ri,$i=0;$i<os;++$i){var Vn=cn[$i]>>8&65535;cn[$i]=Vn,Vn>=_n&&(_n=Vn+1)}}if(Ra.h)break r;for(Pr=0;5>Pr;++Pr){var qn=Iu[Pr];!Pr&&0<wi&&(qn+=1<<wi),mi<qn&&(mi=qn)}var Zi=s(_n*bn,M),Xa=_n,Js=s(Xa,pe);if(Js==null)var qi=null;else e(65536>=Xa),qi=Js;var Hi=a(mi);if(qi==null||Hi==null||Zi==null){ti.a=1;break r}var ls=Zi;for($i=Jr=0;$i<_n;++$i){var Hn=qi[$i],cs=Hn.G,Do=Hn.H,al=0,Fa=1,Wi=0;for(Pr=0;5>Pr;++Pr){qn=Iu[Pr],cs[Pr]=ls,Do[Pr]=Jr,!Pr&&0<wi&&(qn+=1<<wi);i:{var qc,uc=qn,Ld=ti,Pl=Hi,g2=ls,Up=Jr,li=0,sl=Ld.m,zp=X(sl,1);if(i(Pl,0,0,uc),zp){var $p=X(sl,1)+1,P0=X(sl,1),R0=X(sl,P0==0?1:8);Pl[R0]=1,$p==2&&(Pl[R0=X(sl,8)]=1);var Rl=1}else{var gi=a(19),ea=X(sl,4)+4;if(19<ea){Ld.a=3;var Gi=0;break i}for(qc=0;qc<ea;++qc)gi[Zy[qc]]=X(sl,3);var jd=void 0,dc=void 0,Dd=Ld,a5=gi,ga=uc,F0=Pl,nh=0,Fl=Dd.m,ol=8,wo=s(128,M);n:for(;F(wo,0,7,a5,19);){if(X(Fl,1)){var ih=2+2*X(Fl,3);if((jd=2+X(Fl,ih))>ga)break n}else jd=ga;for(dc=0;dc<ga&&jd--;){ve(Fl);var L0=wo[0+(127&W(Fl))];ce(Fl,Fl.u+L0.g);var Hc=L0.value;if(16>Hc)F0[dc++]=Hc,Hc!=0&&(ol=Hc);else{var x2=Hc==16,qp=Hc-16,v2=A0[qp],Hp=X(Fl,Zf[qp])+v2;if(dc+Hp>ga)break n;for(var y2=x2?ol:0;0<Hp--;)F0[dc++]=y2}}nh=1;break n}nh||(Dd.a=3),Rl=nh}(Rl=Rl&&!sl.h)&&(li=F(g2,Up,8,Pl,uc)),Rl&&li!=0?Gi=li:(Ld.a=3,Gi=0)}if(Gi==0)break r;if(Fa&&u2[Pr]==1&&(Fa=ls[Jr].g==0),al+=ls[Jr].g,Jr+=Gi,3>=Pr){var Od,j0=Hi[0];for(Od=1;Od<qn;++Od)Hi[Od]>j0&&(j0=Hi[Od]);Wi+=j0}}if(Hn.nd=Fa,Hn.Qb=0,Fa&&(Hn.qb=(cs[3][Do[3]+0].value<<24|cs[1][Do[1]+0].value<<16|cs[2][Do[2]+0].value)>>>0,al==0&&256>cs[0][Do[0]+0].value&&(Hn.Qb=1,Hn.qb+=cs[0][Do[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>Wi,Hn.jc){var ah,_o=Hn;for(ah=0;ah<Ss;++ah){var fc=ah,ll=_o.pd[fc],ju=_o.G[0][_o.H[0]+fc];256<=ju.value?(ll.g=ju.g+256,ll.value=ju.value):(ll.g=0,ll.value=0,fc>>=si(ju,8,ll),fc>>=si(_o.G[1][_o.H[1]+fc],16,ll),fc>>=si(_o.G[2][_o.H[2]+fc],0,ll),si(_o.G[3][_o.H[3]+fc],24,ll))}}}pi.vc=cn,pi.Wb=_n,pi.Ya=qi,pi.yc=Zi,$t=1;break t}$t=0}if(!(ue=$t)){K.a=3;break e}if(0<Ze){if(Se.ua=1<<Ze,!de(Se.Wa,Ze)){K.a=1,ue=0;break e}}else Se.ua=0;var D0=K,O0=he,w2=me,M0=D0.s,B0=M0.xc;if(D0.c=O0,D0.i=w2,M0.md=ne(O0,B0),M0.wc=B0==0?-1:(1<<B0)-1,U){K.xb=Il;break e}if((Ve=a(he*me))==null){K.a=1,ue=0;break e}ue=(ue=Qe(K,Ve,0,he,me,me,null))&&!ye.h;break e}return ue?(te!=null?te[0]=Ve:(e(Ve==null),e(U)),K.$=0,U||ot(Se)):ot(Se),ue}function at(_,C){var U=_.c*_.i,K=U+C+16*C;return e(_.c<=C),_.V=a(K),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+U+C,1)}function St(_,C){var U=_.C,K=C-U,te=_.V,ue=_.Ba+_.c*U;for(e(C<=_.l.o);0<K;){var he=16<K?16:K,me=_.l.ma,ye=_.l.width,Se=ye*he,Ve=me.ca,Ze=me.tb+ye*U,Ne=_.Ta,ze=_.Ua;Ae(_,he,te,ue),Ip(Ne,ze,Ve,Ze,Se),Te(me,U,U+he,Ve,Ze,ye),K-=he,te+=he*_.c,U+=he}e(U==C),_.C=_.Ma=C}function Mt(){this.ub=this.yd=this.td=this.Rb=0}function Gt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dt(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Pt(){this.Yb=(function(){var _=[];return(function C(U,K,te){for(var ue=te[K],he=0;he<ue&&(U.push(te.length>K+1?[]:0),!(te.length<K+1));he++)C(U[he],K+1,te)})(_,0,[3,11]),_})()}function Er(){this.jb=a(3),this.Wc=o([4,8],Pt),this.Xc=o([4,17],Pt)}function dn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Br(){this.ld=this.La=this.dd=this.tc=0}function gn(){this.Na=this.la=0}function Os(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ms(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ns(){this.uc=this.M=this.Nb=0,this.wa=Array(new Br),this.Y=0,this.ya=Array(new Ms),this.aa=0,this.l=new An}function fi(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Xo(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Mt,this.Kc=new Gt,this.ed=new dn,this.Qa=new Dt,this.Ic=this.$c=this.Aa=0,this.D=new ns,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,I),this.ia=0,this.pb=s(4,Os),this.Pa=new Er,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fi),this.Hd=0,this.rb=Array(new gn),this.sb=0,this.wa=Array(new Br),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ms),this.L=this.aa=0,this.gd=o([4,2],Br),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function An(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _u(){var _=new Xo;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Pu||(Pu=Bs)),_}function yi(_,C,U){return _.a==0&&(_.a=C,_.sc=U,_.cb=0),0}function bu(_,C,U){return 3<=U&&_[C+0]==157&&_[C+1]==1&&_[C+2]==42}function tc(_,C){if(_==null)return 0;if(_.a=0,_.sc="OK",C==null)return yi(_,2,"null VP8Io passed to VP8GetHeaders()");var U=C.data,K=C.w,te=C.ha;if(4>te)return yi(_,7,"Truncated header.");var ue=U[K+0]|U[K+1]<<8|U[K+2]<<16,he=_.Od;if(he.Rb=!(1&ue),he.td=ue>>1&7,he.yd=ue>>4&1,he.ub=ue>>5,3<he.td)return yi(_,3,"Incorrect keyframe parameters.");if(!he.yd)return yi(_,4,"Frame not displayable.");K+=3,te-=3;var me=_.Kc;if(he.Rb){if(7>te)return yi(_,7,"cannot parse picture header");if(!bu(U,K,te))return yi(_,3,"Bad code word");me.c=16383&(U[K+4]<<8|U[K+3]),me.Td=U[K+4]>>6,me.i=16383&(U[K+6]<<8|U[K+5]),me.Ud=U[K+6]>>6,K+=7,te-=7,_.za=me.c+15>>4,_.Ub=me.i+15>>4,C.width=me.c,C.height=me.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((ue=_.Pa).jb,0,255,ue.jb.length),e((ue=_.Qa)!=null),ue.Cb=0,ue.Bb=0,ue.Fb=1,i(ue.Zb,0,0,ue.Zb.length),i(ue.Lb,0,0,ue.Lb)}if(he.ub>te)return yi(_,7,"bad partition length");_e(ue=_.m,U,K,he.ub),K+=he.ub,te-=he.ub,he.Rb&&(me.Ld=le(ue),me.Kd=le(ue)),me=_.Qa;var ye,Se=_.Pa;if(e(ue!=null),e(me!=null),me.Cb=le(ue),me.Cb){if(me.Bb=le(ue),le(ue)){for(me.Fb=le(ue),ye=0;4>ye;++ye)me.Zb[ye]=le(ue)?oe(ue,7):0;for(ye=0;4>ye;++ye)me.Lb[ye]=le(ue)?oe(ue,6):0}if(me.Bb)for(ye=0;3>ye;++ye)Se.jb[ye]=le(ue)?xe(ue,8):255}else me.Bb=0;if(ue.Ka)return yi(_,3,"cannot parse segment header");if((me=_.ed).zd=le(ue),me.Tb=xe(ue,6),me.wb=xe(ue,3),me.Pc=le(ue),me.Pc&&le(ue)){for(Se=0;4>Se;++Se)le(ue)&&(me.vd[Se]=oe(ue,6));for(Se=0;4>Se;++Se)le(ue)&&(me.od[Se]=oe(ue,6))}if(_.L=me.Tb==0?0:me.zd?1:2,ue.Ka)return yi(_,3,"cannot parse filter header");var Ve=te;if(te=ye=K,K=ye+Ve,me=Ve,_.Xb=(1<<xe(_.m,2))-1,Ve<3*(Se=_.Xb))U=7;else{for(ye+=3*Se,me-=3*Se,Ve=0;Ve<Se;++Ve){var Ze=U[te+0]|U[te+1]<<8|U[te+2]<<16;Ze>me&&(Ze=me),_e(_.Jc[+Ve],U,ye,Ze),ye+=Ze,me-=Ze,te+=3}_e(_.Jc[+Se],U,ye,me),U=ye<K?0:5}if(U!=0)return yi(_,U,"cannot parse partitions");for(U=xe(ye=_.m,7),te=le(ye)?oe(ye,4):0,K=le(ye)?oe(ye,4):0,me=le(ye)?oe(ye,4):0,Se=le(ye)?oe(ye,4):0,ye=le(ye)?oe(ye,4):0,Ve=_.Qa,Ze=0;4>Ze;++Ze){if(Ve.Cb){var Ne=Ve.Zb[Ze];Ve.Fb||(Ne+=U)}else{if(0<Ze){_.pb[Ze]=_.pb[0];continue}Ne=U}var ze=_.pb[Ze];ze.Sc[0]=Id[rn(Ne+te,127)],ze.Sc[1]=eh[rn(Ne+0,127)],ze.Eb[0]=2*Id[rn(Ne+K,127)],ze.Eb[1]=101581*eh[rn(Ne+me,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=Id[rn(Ne+Se,117)],ze.Qc[1]=eh[rn(Ne+ye,127)],ze.lc=Ne+ye}if(!he.Rb)return yi(_,4,"Not a key frame.");for(le(ue),he=_.Pa,U=0;4>U;++U){for(te=0;8>te;++te)for(K=0;3>K;++K)for(me=0;11>me;++me)Se=be(ue,r5[U][te][K][me])?xe(ue,8):h2[U][te][K][me],he.Wc[U][te].Yb[K][me]=Se;for(te=0;17>te;++te)he.Xc[U][te]=he.Wc[U][Mp[te]]}return _.kc=le(ue),_.kc&&(_.Bd=xe(ue,8)),_.cb=1}function Bs(_,C,U,K,te,ue,he){var me=C[te].Yb[U];for(U=0;16>te;++te){if(!be(_,me[U+0]))return te;for(;!be(_,me[U+1]);)if(me=C[++te].Yb[0],U=0,te==16)return 16;var ye=C[te+1].Yb;if(be(_,me[U+2])){var Se=_,Ve=0;if(be(Se,(Ne=me)[(Ze=U)+3]))if(be(Se,Ne[Ze+6])){for(me=0,Ze=2*(Ve=be(Se,Ne[Ze+8]))+(Ne=be(Se,Ne[Ze+9+Ve])),Ve=0,Ne=Dp[Ze];Ne[me];++me)Ve+=Ve+be(Se,Ne[me]);Ve+=3+(8<<Ze)}else be(Se,Ne[Ze+7])?(Ve=7+2*be(Se,165),Ve+=be(Se,145)):Ve=5+be(Se,159);else Ve=be(Se,Ne[Ze+4])?3+be(Se,Ne[Ze+5]):2;me=ye[2]}else Ve=1,me=ye[1];ye=he+Op[te],0>(Se=_).b&&Ee(Se);var Ze,Ne=Se.b,ze=(Ze=Se.Ca>>1)-(Se.I>>Ne)>>31;--Se.b,Se.Ca+=ze,Se.Ca|=1,Se.I-=(Ze+1&ze)<<Ne,ue[ye]=((Ve^ze)-ze)*K[(0<te)+0]}return 16}function Vs(_){var C=_.rb[_.sb-1];C.la=0,C.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function Ua(_,C,U,K,te){te=_[C+U+32*K]+(te>>3),_[C+U+32*K]=-256&te?0>te?0:255:te}function rc(_,C,U,K,te,ue){Ua(_,C,0,U,K+te),Ua(_,C,1,U,K+ue),Ua(_,C,2,U,K-ue),Ua(_,C,3,U,K-te)}function Fn(_){return(20091*_>>16)+_}function za(_,C,U,K){var te,ue=0,he=a(16);for(te=0;4>te;++te){var me=_[C+0]+_[C+8],ye=_[C+0]-_[C+8],Se=(35468*_[C+4]>>16)-Fn(_[C+12]),Ve=Fn(_[C+4])+(35468*_[C+12]>>16);he[ue+0]=me+Ve,he[ue+1]=ye+Se,he[ue+2]=ye-Se,he[ue+3]=me-Ve,ue+=4,C++}for(te=ue=0;4>te;++te)me=(_=he[ue+0]+4)+he[ue+8],ye=_-he[ue+8],Se=(35468*he[ue+4]>>16)-Fn(he[ue+12]),Ua(U,K,0,0,me+(Ve=Fn(he[ue+4])+(35468*he[ue+12]>>16))),Ua(U,K,1,0,ye+Se),Ua(U,K,2,0,ye-Se),Ua(U,K,3,0,me-Ve),ue++,K+=32}function nc(_,C,U,K){var te=_[C+0]+4,ue=35468*_[C+4]>>16,he=Fn(_[C+4]),me=35468*_[C+1]>>16;rc(U,K,0,te+he,_=Fn(_[C+1]),me),rc(U,K,1,te+ue,_,me),rc(U,K,2,te-ue,_,me),rc(U,K,3,te-he,_,me)}function _l(_,C,U,K,te){za(_,C,U,K),te&&za(_,C+16,U,K+4)}function bl(_,C,U,K){zi(_,C+0,U,K,1),zi(_,C+32,U,K+128,1)}function tn(_,C,U,K){var te;for(_=_[C+0]+4,te=0;4>te;++te)for(C=0;4>C;++C)Ua(U,K,C,te,_)}function Yo(_,C,U,K){_[C+0]&&nl(_,C+0,U,K),_[C+16]&&nl(_,C+16,U,K+4),_[C+32]&&nl(_,C+32,U,K+128),_[C+48]&&nl(_,C+48,U,K+128+4)}function Xr(_,C,U,K){var te,ue=a(16);for(te=0;4>te;++te){var he=_[C+0+te]+_[C+12+te],me=_[C+4+te]+_[C+8+te],ye=_[C+4+te]-_[C+8+te],Se=_[C+0+te]-_[C+12+te];ue[0+te]=he+me,ue[8+te]=he-me,ue[4+te]=Se+ye,ue[12+te]=Se-ye}for(te=0;4>te;++te)he=(_=ue[0+4*te]+3)+ue[3+4*te],me=ue[1+4*te]+ue[2+4*te],ye=ue[1+4*te]-ue[2+4*te],Se=_-ue[3+4*te],U[K+0]=he+me>>3,U[K+16]=Se+ye>>3,U[K+32]=he-me>>3,U[K+48]=Se-ye>>3,K+=64}function ws(_,C,U){var K,te=C-32,ue=Cs,he=255-_[te-1];for(K=0;K<U;++K){var me,ye=ue,Se=he+_[C-1];for(me=0;me<U;++me)_[C+me]=ye[Se+_[te+me]];C+=32}}function Rc(_,C){ws(_,C,4)}function Fc(_,C){ws(_,C,8)}function yd(_,C){ws(_,C,16)}function wd(_,C){var U;for(U=0;16>U;++U)n(_,C+32*U,_,C-32,16)}function Lc(_,C){var U;for(U=16;0<U;--U)i(_,C,_[C-1],16),C+=32}function Qo(_,C,U){var K;for(K=0;16>K;++K)i(C,U+32*K,_,16)}function $a(_,C){var U,K=16;for(U=0;16>U;++U)K+=_[C-1+32*U]+_[C+U-32];Qo(K>>5,_,C)}function fa(_,C){var U,K=8;for(U=0;16>U;++U)K+=_[C-1+32*U];Qo(K>>4,_,C)}function qa(_,C){var U,K=8;for(U=0;16>U;++U)K+=_[C+U-32];Qo(K>>4,_,C)}function _s(_,C){Qo(128,_,C)}function kr(_,C,U){return _+2*C+U+2>>2}function Us(_,C){var U,K=C-32;for(K=new Uint8Array([kr(_[K-1],_[K+0],_[K+1]),kr(_[K+0],_[K+1],_[K+2]),kr(_[K+1],_[K+2],_[K+3]),kr(_[K+2],_[K+3],_[K+4])]),U=0;4>U;++U)n(_,C+32*U,K,0,K.length)}function Io(_,C){var U=_[C-1],K=_[C-1+32],te=_[C-1+64],ue=_[C-1+96];Le(_,C+0,16843009*kr(_[C-1-32],U,K)),Le(_,C+32,16843009*kr(U,K,te)),Le(_,C+64,16843009*kr(K,te,ue)),Le(_,C+96,16843009*kr(te,ue,ue))}function Hf(_,C){var U,K=4;for(U=0;4>U;++U)K+=_[C+U-32]+_[C-1+32*U];for(K>>=3,U=0;4>U;++U)i(_,C+32*U,K,4)}function _d(_,C){var U=_[C-1+0],K=_[C-1+32],te=_[C-1+64],ue=_[C-1-32],he=_[C+0-32],me=_[C+1-32],ye=_[C+2-32],Se=_[C+3-32];_[C+0+96]=kr(K,te,_[C-1+96]),_[C+1+96]=_[C+0+64]=kr(U,K,te),_[C+2+96]=_[C+1+64]=_[C+0+32]=kr(ue,U,K),_[C+3+96]=_[C+2+64]=_[C+1+32]=_[C+0+0]=kr(he,ue,U),_[C+3+64]=_[C+2+32]=_[C+1+0]=kr(me,he,ue),_[C+3+32]=_[C+2+0]=kr(ye,me,he),_[C+3+0]=kr(Se,ye,me)}function Ai(_,C){var U=_[C+1-32],K=_[C+2-32],te=_[C+3-32],ue=_[C+4-32],he=_[C+5-32],me=_[C+6-32],ye=_[C+7-32];_[C+0+0]=kr(_[C+0-32],U,K),_[C+1+0]=_[C+0+32]=kr(U,K,te),_[C+2+0]=_[C+1+32]=_[C+0+64]=kr(K,te,ue),_[C+3+0]=_[C+2+32]=_[C+1+64]=_[C+0+96]=kr(te,ue,he),_[C+3+32]=_[C+2+64]=_[C+1+96]=kr(ue,he,me),_[C+3+64]=_[C+2+96]=kr(he,me,ye),_[C+3+96]=kr(me,ye,ye)}function Jo(_,C){var U=_[C-1+0],K=_[C-1+32],te=_[C-1+64],ue=_[C-1-32],he=_[C+0-32],me=_[C+1-32],ye=_[C+2-32],Se=_[C+3-32];_[C+0+0]=_[C+1+64]=ue+he+1>>1,_[C+1+0]=_[C+2+64]=he+me+1>>1,_[C+2+0]=_[C+3+64]=me+ye+1>>1,_[C+3+0]=ye+Se+1>>1,_[C+0+96]=kr(te,K,U),_[C+0+64]=kr(K,U,ue),_[C+0+32]=_[C+1+96]=kr(U,ue,he),_[C+1+32]=_[C+2+96]=kr(ue,he,me),_[C+2+32]=_[C+3+96]=kr(he,me,ye),_[C+3+32]=kr(me,ye,Se)}function bd(_,C){var U=_[C+0-32],K=_[C+1-32],te=_[C+2-32],ue=_[C+3-32],he=_[C+4-32],me=_[C+5-32],ye=_[C+6-32],Se=_[C+7-32];_[C+0+0]=U+K+1>>1,_[C+1+0]=_[C+0+64]=K+te+1>>1,_[C+2+0]=_[C+1+64]=te+ue+1>>1,_[C+3+0]=_[C+2+64]=ue+he+1>>1,_[C+0+32]=kr(U,K,te),_[C+1+32]=_[C+0+96]=kr(K,te,ue),_[C+2+32]=_[C+1+96]=kr(te,ue,he),_[C+3+32]=_[C+2+96]=kr(ue,he,me),_[C+3+64]=kr(he,me,ye),_[C+3+96]=kr(me,ye,Se)}function Zo(_,C){var U=_[C-1+0],K=_[C-1+32],te=_[C-1+64],ue=_[C-1+96];_[C+0+0]=U+K+1>>1,_[C+2+0]=_[C+0+32]=K+te+1>>1,_[C+2+32]=_[C+0+64]=te+ue+1>>1,_[C+1+0]=kr(U,K,te),_[C+3+0]=_[C+1+32]=kr(K,te,ue),_[C+3+32]=_[C+1+64]=kr(te,ue,ue),_[C+3+64]=_[C+2+64]=_[C+0+96]=_[C+1+96]=_[C+2+96]=_[C+3+96]=ue}function Po(_,C){var U=_[C-1+0],K=_[C-1+32],te=_[C-1+64],ue=_[C-1+96],he=_[C-1-32],me=_[C+0-32],ye=_[C+1-32],Se=_[C+2-32];_[C+0+0]=_[C+2+32]=U+he+1>>1,_[C+0+32]=_[C+2+64]=K+U+1>>1,_[C+0+64]=_[C+2+96]=te+K+1>>1,_[C+0+96]=ue+te+1>>1,_[C+3+0]=kr(me,ye,Se),_[C+2+0]=kr(he,me,ye),_[C+1+0]=_[C+3+32]=kr(U,he,me),_[C+1+32]=_[C+3+64]=kr(K,U,he),_[C+1+64]=_[C+3+96]=kr(te,K,U),_[C+1+96]=kr(ue,te,K)}function jc(_,C){var U;for(U=0;8>U;++U)n(_,C+32*U,_,C-32,8)}function Ha(_,C){var U;for(U=0;8>U;++U)i(_,C,_[C-1],8),C+=32}function is(_,C,U){var K;for(K=0;8>K;++K)i(C,U+32*K,_,8)}function zs(_,C){var U,K=8;for(U=0;8>U;++U)K+=_[C+U-32]+_[C-1+32*U];is(K>>4,_,C)}function kl(_,C){var U,K=4;for(U=0;8>U;++U)K+=_[C+U-32];is(K>>3,_,C)}function On(_,C){var U,K=4;for(U=0;8>U;++U)K+=_[C-1+32*U];is(K>>3,_,C)}function ku(_,C){is(128,_,C)}function el(_,C,U){var K=_[C-U],te=_[C+0],ue=3*(te-K)+Tl[1020+_[C-2*U]-_[C+U]],he=Ad[112+(ue+4>>3)];_[C-U]=Cs[255+K+Ad[112+(ue+3>>3)]],_[C+0]=Cs[255+te-he]}function yo(_,C,U,K){var te=_[C+0],ue=_[C+U];return Lo[255+_[C-2*U]-_[C-U]]>K||Lo[255+ue-te]>K}function El(_,C,U,K){return 4*Lo[255+_[C-U]-_[C+0]]+Lo[255+_[C-2*U]-_[C+U]]<=K}function Sl(_,C,U,K,te){var ue=_[C-3*U],he=_[C-2*U],me=_[C-U],ye=_[C+0],Se=_[C+U],Ve=_[C+2*U],Ze=_[C+3*U];return 4*Lo[255+me-ye]+Lo[255+he-Se]>K?0:Lo[255+_[C-4*U]-ue]<=te&&Lo[255+ue-he]<=te&&Lo[255+he-me]<=te&&Lo[255+Ze-Ve]<=te&&Lo[255+Ve-Se]<=te&&Lo[255+Se-ye]<=te}function Wa(_,C,U,K){var te=2*K+1;for(K=0;16>K;++K)El(_,C+K,U,te)&&el(_,C+K,U)}function Ro(_,C,U,K){var te=2*K+1;for(K=0;16>K;++K)El(_,C+K*U,1,te)&&el(_,C+K*U,1)}function Ta(_,C,U,K){var te;for(te=3;0<te;--te)Wa(_,C+=4*U,U,K)}function ic(_,C,U,K){var te;for(te=3;0<te;--te)Ro(_,C+=4,U,K)}function Ia(_,C,U,K,te,ue,he,me){for(ue=2*ue+1;0<te--;){if(Sl(_,C,U,ue,he))if(yo(_,C,U,me))el(_,C,U);else{var ye=_,Se=C,Ve=U,Ze=ye[Se-2*Ve],Ne=ye[Se-Ve],ze=ye[Se+0],Ye=ye[Se+Ve],pt=ye[Se+2*Ve],it=27*(ht=Tl[1020+3*(ze-Ne)+Tl[1020+Ze-Ye]])+63>>7,ft=18*ht+63>>7,ht=9*ht+63>>7;ye[Se-3*Ve]=Cs[255+ye[Se-3*Ve]+ht],ye[Se-2*Ve]=Cs[255+Ze+ft],ye[Se-Ve]=Cs[255+Ne+it],ye[Se+0]=Cs[255+ze-it],ye[Se+Ve]=Cs[255+Ye-ft],ye[Se+2*Ve]=Cs[255+pt-ht]}C+=K}}function ha(_,C,U,K,te,ue,he,me){for(ue=2*ue+1;0<te--;){if(Sl(_,C,U,ue,he))if(yo(_,C,U,me))el(_,C,U);else{var ye=_,Se=C,Ve=U,Ze=ye[Se-Ve],Ne=ye[Se+0],ze=ye[Se+Ve],Ye=Ad[112+(4+(pt=3*(Ne-Ze))>>3)],pt=Ad[112+(pt+3>>3)],it=Ye+1>>1;ye[Se-2*Ve]=Cs[255+ye[Se-2*Ve]+it],ye[Se-Ve]=Cs[255+Ze+pt],ye[Se+0]=Cs[255+Ne-Ye],ye[Se+Ve]=Cs[255+ze-it]}C+=K}}function O(_,C,U,K,te,ue){Ia(_,C,U,1,16,K,te,ue)}function ee(_,C,U,K,te,ue){Ia(_,C,1,U,16,K,te,ue)}function Ce(_,C,U,K,te,ue){var he;for(he=3;0<he;--he)ha(_,C+=4*U,U,1,16,K,te,ue)}function Oe(_,C,U,K,te,ue){var he;for(he=3;0<he;--he)ha(_,C+=4,1,U,16,K,te,ue)}function We(_,C,U,K,te,ue,he,me){Ia(_,C,te,1,8,ue,he,me),Ia(U,K,te,1,8,ue,he,me)}function vt(_,C,U,K,te,ue,he,me){Ia(_,C,1,te,8,ue,he,me),Ia(U,K,1,te,8,ue,he,me)}function kt(_,C,U,K,te,ue,he,me){ha(_,C+4*te,te,1,8,ue,he,me),ha(U,K+4*te,te,1,8,ue,he,me)}function Yt(_,C,U,K,te,ue,he,me){ha(_,C+4,1,te,8,ue,he,me),ha(U,K+4,1,te,8,ue,he,me)}function tr(){this.ba=new Qt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new br,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ir(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ln(){this.ua=0,this.Wa=new Be,this.vb=new Be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new M}function Jn(){this.xb=this.a=0,this.l=new An,this.ca=new Qt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ln,this.ab=0,this.gc=s(4,Ir),this.Oc=0}function oi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new An,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xn(_,C,U,K,te,ue,he){for(_=_==null?0:_[C+0],C=0;C<he;++C)te[ue+C]=_+U[K+C]&255,_=te[ue+C]}function Ti(_,C,U,K,te,ue,he){var me;if(_==null)xn(null,null,U,K,te,ue,he);else for(me=0;me<he;++me)te[ue+me]=_[C+me]+U[K+me]&255}function Mn(_,C,U,K,te,ue,he){if(_==null)xn(null,null,U,K,te,ue,he);else{var me,ye=_[C+0],Se=ye,Ve=ye;for(me=0;me<he;++me)Se=Ve+(ye=_[C+me])-Se,Ve=U[K+me]+(-256&Se?0>Se?0:255:Se)&255,Se=ye,te[ue+me]=Ve}}function Qi(_,C,U,K){var te=C.width,ue=C.o;if(e(_!=null&&C!=null),0>U||0>=K||U+K>ue)return null;if(!_.Cc){if(_.ga==null){var he;if(_.ga=new oi,(he=_.ga==null)||(he=C.width*C.o,e(_.Gb.length==0),_.Gb=a(he),_.Uc=0,_.Gb==null?he=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,he=1),he=!he),!he){he=_.ga;var me=_.Fa,ye=_.P,Se=_.qc,Ve=_.mb,Ze=_.nb,Ne=ye+1,ze=Se-1,Ye=he.l;if(e(me!=null&&Ve!=null&&C!=null),ss[0]=null,ss[1]=xn,ss[2]=Ti,ss[3]=Mn,he.ca=Ve,he.tb=Ze,he.c=C.width,he.i=C.height,e(0<he.c&&0<he.i),1>=Se)C=0;else if(he.$a=3&me[ye+0],he.Z=me[ye+0]>>2&3,he.Lc=me[ye+0]>>4&3,ye=me[ye+0]>>6&3,0>he.$a||1<he.$a||4<=he.Z||1<he.Lc||ye)C=0;else if(Ye.put=ir,Ye.ac=mn,Ye.bc=Kr,Ye.ma=he,Ye.width=C.width,Ye.height=C.height,Ye.Da=C.Da,Ye.v=C.v,Ye.va=C.va,Ye.j=C.j,Ye.o=C.o,he.$a)e:{e(he.$a==1),C=tt();t:for(;;){if(C==null){C=0;break e}if(e(he!=null),he.mc=C,C.c=he.c,C.i=he.i,C.l=he.l,C.l.ma=he,C.l.width=he.c,C.l.height=he.i,C.a=0,G(C.m,me,Ne,ze),!rt(he.c,he.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&ke(C.s)?(he.ic=1,me=C.c*C.i,C.Ta=null,C.Ua=0,C.V=a(me),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(he.ic=0,C=at(C,he.c)),!C))break t;C=1;break e}he.mc=null,C=0}else C=ze>=he.c*he.i;he=!C}if(he)return null;_.ga.Lc!=1?_.Ga=0:K=ue-U}e(_.ga!=null),e(U+K<=ue);e:{if(C=(me=_.ga).c,ue=me.l.o,me.$a==0){if(Ne=_.rc,ze=_.Vc,Ye=_.Fa,ye=_.P+1+U*C,Se=_.mb,Ve=_.nb+U*C,e(ye<=_.P+_.qc),me.Z!=0)for(e(ss[me.Z]!=null),he=0;he<K;++he)ss[me.Z](Ne,ze,Ye,ye,Se,Ve,C),Ne=Se,ze=Ve,Ve+=C,ye+=C;else for(he=0;he<K;++he)n(Se,Ve,Ye,ye,C),Ne=Se,ze=Ve,Ve+=C,ye+=C;_.rc=Ne,_.Vc=ze}else{if(e(me.mc!=null),C=U+K,e((he=me.mc)!=null),e(C<=he.i),he.C>=C)C=1;else if(me.ic||Vi(),me.ic){me=he.V,Ne=he.Ba,ze=he.c;var pt=he.i,it=(Ye=1,ye=he.$/ze,Se=he.$%ze,Ve=he.m,Ze=he.s,he.$),ft=ze*pt,ht=ze*C,_t=Ze.wc,bt=it<ht?ie(Ze,Se,ye):null;e(it<=ft),e(C<=pt),e(ke(Ze));t:for(;;){for(;!Ve.h&&it<ht;){if(Se&_t||(bt=ie(Ze,Se,ye)),e(bt!=null),ve(Ve),256>(pt=Nn(bt.G[0],bt.H[0],Ve)))me[Ne+it]=pt,++it,++Se>=ze&&(Se=0,++ye<=C&&!(ye%16)&&Ie(he,ye));else{if(!(280>pt)){Ye=0;break t}pt=Rn(pt-256,Ve);var gr,rr=Nn(bt.G[4],bt.H[4],Ve);if(ve(Ve),!(it>=(rr=Bi(ze,rr=Rn(rr,Ve)))&&ft-it>=pt)){Ye=0;break t}for(gr=0;gr<pt;++gr)me[Ne+it+gr]=me[Ne+it+gr-rr];for(it+=pt,Se+=pt;Se>=ze;)Se-=ze,++ye<=C&&!(ye%16)&&Ie(he,ye);it<ht&&Se&_t&&(bt=ie(Ze,Se,ye))}e(Ve.h==J(Ve))}Ie(he,ye>C?C:ye);break t}!Ye||Ve.h&&it<ft?(Ye=0,he.a=Ve.h?5:3):he.$=it,C=Ye}else C=Qe(he,he.V,he.Ba,he.c,he.i,C,St);if(!C){K=0;break e}}U+K>=ue&&(_.Cc=1),K=1}if(!K)return null;if(_.Cc&&((K=_.ga)!=null&&(K.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+U*te}function Fo(_,C,U,K,te,ue){for(;0<te--;){var he,me=_,ye=C+(U?1:0),Se=_,Ve=C+(U?0:3);for(he=0;he<K;++he){var Ze=Se[Ve+4*he];Ze!=255&&(Ze*=32897,me[ye+4*he+0]=me[ye+4*he+0]*Ze>>23,me[ye+4*he+1]=me[ye+4*he+1]*Ze>>23,me[ye+4*he+2]=me[ye+4*he+2]*Ze>>23)}C+=ue}}function tl(_,C,U,K,te){for(;0<K--;){var ue;for(ue=0;ue<U;++ue){var he=_[C+2*ue+0],me=15&(Se=_[C+2*ue+1]),ye=4369*me,Se=(240&Se|Se>>4)*ye>>16;_[C+2*ue+0]=(240&he|he>>4)*ye>>16&240|(15&he|he<<4)*ye>>16>>4&15,_[C+2*ue+1]=240&Se|me}C+=te}}function Eu(_,C,U,K,te,ue,he,me){var ye,Se,Ve=255;for(Se=0;Se<te;++Se){for(ye=0;ye<K;++ye){var Ze=_[C+ye];ue[he+4*ye]=Ze,Ve&=Ze}C+=U,he+=me}return Ve!=255}function ac(_,C,U,K,te){var ue;for(ue=0;ue<te;++ue)U[K+ue]=_[C+ue]>>8}function Vi(){Au=Fo,Tp=tl,Kf=Eu,Ip=ac}function $s(_,C,U){S[_]=function(K,te,ue,he,me,ye,Se,Ve,Ze,Ne,ze,Ye,pt,it,ft,ht,_t){var bt,gr=_t-1>>1,rr=me[ye+0]|Se[Ve+0]<<16,Vr=Ze[Ne+0]|ze[Ye+0]<<16;e(K!=null);var sr=3*rr+Vr+131074>>2;for(C(K[te+0],255&sr,sr>>16,pt,it),ue!=null&&(sr=3*Vr+rr+131074>>2,C(ue[he+0],255&sr,sr>>16,ft,ht)),bt=1;bt<=gr;++bt){var nn=me[ye+bt]|Se[Ve+bt]<<16,Pi=Ze[Ne+bt]|ze[Ye+bt]<<16,Ur=rr+nn+Vr+Pi+524296,nr=Ur+2*(nn+Vr)>>3;sr=nr+rr>>1,rr=(Ur=Ur+2*(rr+Pi)>>3)+nn>>1,C(K[te+2*bt-1],255&sr,sr>>16,pt,it+(2*bt-1)*U),C(K[te+2*bt-0],255&rr,rr>>16,pt,it+(2*bt-0)*U),ue!=null&&(sr=Ur+Vr>>1,rr=nr+Pi>>1,C(ue[he+2*bt-1],255&sr,sr>>16,ft,ht+(2*bt-1)*U),C(ue[he+2*bt+0],255&rr,rr>>16,ft,ht+(2*bt+0)*U)),rr=nn,Vr=Pi}1&_t||(sr=3*rr+Vr+131074>>2,C(K[te+_t-1],255&sr,sr>>16,pt,it+(_t-1)*U),ue!=null&&(sr=3*Vr+rr+131074>>2,C(ue[he+_t-1],255&sr,sr>>16,ft,ht+(_t-1)*U)))}}function Dc(){Xs[C0]=n5,Xs[Uc]=zc,Xs[c2]=i5,Xs[Xf]=Rd,Xs[Yf]=Ru,Xs[zn]=th,Xs[N0]=Bp,Xs[Td]=zc,Xs[Tu]=Rd,Xs[Qf]=Ru,Xs[Jf]=th}function bs(_){return _&-16384?0>_?0:255:_>>$c}function b(_,C){return bs((19077*_>>8)+(26149*C>>8)-14234)}function z(_,C,U){return bs((19077*_>>8)-(6419*C>>8)-(13320*U>>8)+8708)}function Z(_,C){return bs((19077*_>>8)+(33050*C>>8)-17685)}function ge(_,C,U,K,te){K[te+0]=b(_,U),K[te+1]=z(_,C,U),K[te+2]=Z(_,C)}function Xe(_,C,U,K,te){K[te+0]=Z(_,C),K[te+1]=z(_,C,U),K[te+2]=b(_,U)}function ut(_,C,U,K,te){var ue=z(_,C,U);C=ue<<3&224|Z(_,C)>>3,K[te+0]=248&b(_,U)|ue>>5,K[te+1]=C}function Lt(_,C,U,K,te){var ue=240&Z(_,C)|15;K[te+0]=240&b(_,U)|z(_,C,U)>>4,K[te+1]=ue}function vn(_,C,U,K,te){K[te+0]=255,ge(_,C,U,K,te+1)}function hi(_,C,U,K,te){Xe(_,C,U,K,te),K[te+3]=255}function Qr(_,C,U,K,te){ge(_,C,U,K,te),K[te+3]=255}function rn(_,C){return 0>_?0:_>C?C:_}function wn(_,C,U){S[_]=function(K,te,ue,he,me,ye,Se,Ve,Ze){for(var Ne=Ve+(-2&Ze)*U;Ve!=Ne;)C(K[te+0],ue[he+0],me[ye+0],Se,Ve),C(K[te+1],ue[he+0],me[ye+0],Se,Ve+U),te+=2,++he,++ye,Ve+=2*U;1&Ze&&C(K[te+0],ue[he+0],me[ye+0],Se,Ve)}}function as(_,C,U){return U==0?_==0?C==0?6:5:C==0?4:0:U}function Ga(_,C,U,K,te){switch(_>>>30){case 3:zi(C,U,K,te,0);break;case 2:pa(C,U,K,te);break;case 1:nl(C,U,K,te)}}function qs(_,C){var U,K,te=C.M,ue=C.Nb,he=_.oc,me=_.pc+40,ye=_.oc,Se=_.pc+584,Ve=_.oc,Ze=_.pc+600;for(U=0;16>U;++U)he[me+32*U-1]=129;for(U=0;8>U;++U)ye[Se+32*U-1]=129,Ve[Ze+32*U-1]=129;for(0<te?he[me-1-32]=ye[Se-1-32]=Ve[Ze-1-32]=129:(i(he,me-32-1,127,21),i(ye,Se-32-1,127,9),i(Ve,Ze-32-1,127,9)),K=0;K<_.za;++K){var Ne=C.ya[C.aa+K];if(0<K){for(U=-1;16>U;++U)n(he,me+32*U-4,he,me+32*U+12,4);for(U=-1;8>U;++U)n(ye,Se+32*U-4,ye,Se+32*U+4,4),n(Ve,Ze+32*U-4,Ve,Ze+32*U+4,4)}var ze=_.Gd,Ye=_.Hd+K,pt=Ne.ad,it=Ne.Hc;if(0<te&&(n(he,me-32,ze[Ye].y,0,16),n(ye,Se-32,ze[Ye].f,0,8),n(Ve,Ze-32,ze[Ye].ea,0,8)),Ne.Za){var ft=he,ht=me-32+16;for(0<te&&(K>=_.za-1?i(ft,ht,ze[Ye].y[15],4):n(ft,ht,ze[Ye+1].y,0,4)),U=0;4>U;U++)ft[ht+128+U]=ft[ht+256+U]=ft[ht+384+U]=ft[ht+0+U];for(U=0;16>U;++U,it<<=2)ft=he,ht=me+Vp[U],jo[Ne.Ob[U]](ft,ht),Ga(it,pt,16*+U,ft,ht)}else if(ft=as(K,te,Ne.Ob[0]),Ns[ft](he,me),it!=0)for(U=0;16>U;++U,it<<=2)Ga(it,pt,16*+U,he,me+Vp[U]);for(U=Ne.Gc,ft=as(K,te,Ne.Dd),Ks[ft](ye,Se),Ks[ft](Ve,Ze),it=pt,ft=ye,ht=Se,255&(Ne=0|U)&&(170&Ne?Al(it,256,ft,ht):Cd(it,256,ft,ht)),Ne=Ve,it=Ze,255&(U>>=8)&&(170&U?Al(pt,320,Ne,it):Cd(pt,320,Ne,it)),te<_.Ub-1&&(n(ze[Ye].y,0,he,me+480,16),n(ze[Ye].f,0,ye,Se+224,8),n(ze[Ye].ea,0,Ve,Ze+224,8)),U=8*ue*_.B,ze=_.sa,Ye=_.ta+16*K+16*ue*_.R,pt=_.qa,Ne=_.ra+8*K+U,it=_.Ha,ft=_.Ia+8*K+U,U=0;16>U;++U)n(ze,Ye+U*_.R,he,me+32*U,16);for(U=0;8>U;++U)n(pt,Ne+U*_.B,ye,Se+32*U,8),n(it,ft+U*_.B,Ve,Ze+32*U,8)}}function rl(_,C,U,K,te,ue,he,me,ye){var Se=[0],Ve=[0],Ze=0,Ne=ye!=null?ye.kd:0,ze=ye??new wr;if(_==null||12>U)return 7;ze.data=_,ze.w=C,ze.ha=U,C=[C],U=[U],ze.gb=[ze.gb];e:{var Ye=C,pt=U,it=ze.gb;if(e(_!=null),e(pt!=null),e(it!=null),it[0]=0,12<=pt[0]&&!r(_,Ye[0],"RIFF")){if(r(_,Ye[0]+8,"WEBP")){it=3;break e}var ft=Pe(_,Ye[0]+4);if(12>ft||4294967286<ft){it=3;break e}if(Ne&&ft>pt[0]-8){it=7;break e}it[0]=ft,Ye[0]+=12,pt[0]-=12}it=0}if(it!=0)return it;for(ft=0<ze.gb[0],U=U[0];;){e:{var ht=_;pt=C,it=U;var _t=Se,bt=Ve,gr=Ye=[0];if((sr=Ze=[Ze])[0]=0,8>it[0])it=7;else{if(!r(ht,pt[0],"VP8X")){if(Pe(ht,pt[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var rr=Pe(ht,pt[0]+8),Vr=1+je(ht,pt[0]+12);if(2147483648<=Vr*(ht=1+je(ht,pt[0]+15))){it=3;break e}gr!=null&&(gr[0]=rr),_t!=null&&(_t[0]=Vr),bt!=null&&(bt[0]=ht),pt[0]+=18,it[0]-=18,sr[0]=1}it=0}}if(Ze=Ze[0],Ye=Ye[0],it!=0)return it;if(pt=!!(2&Ye),!ft&&Ze)return 3;if(ue!=null&&(ue[0]=!!(16&Ye)),he!=null&&(he[0]=pt),me!=null&&(me[0]=0),he=Se[0],Ye=Ve[0],Ze&&pt&&ye==null){it=0;break}if(4>U){it=7;break}if(ft&&Ze||!ft&&!Ze&&!r(_,C[0],"ALPH")){U=[U],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{rr=_,it=C,ft=U;var sr=ze.gb;_t=ze.na,bt=ze.P,gr=ze.Sa,Vr=22,e(rr!=null),e(ft!=null),ht=it[0];var nn=ft[0];for(e(_t!=null),e(gr!=null),_t[0]=null,bt[0]=null,gr[0]=0;;){if(it[0]=ht,ft[0]=nn,8>nn){it=7;break e}var Pi=Pe(rr,ht+4);if(4294967286<Pi){it=3;break e}var Ur=8+Pi+1&-2;if(Vr+=Ur,0<sr&&Vr>sr){it=3;break e}if(!r(rr,ht,"VP8 ")||!r(rr,ht,"VP8L")){it=0;break e}if(nn[0]<Ur){it=7;break e}r(rr,ht,"ALPH")||(_t[0]=rr,bt[0]=ht+8,gr[0]=Pi),ht+=Ur,nn-=Ur}}if(U=U[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],it!=0)break}U=[U],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(sr=_,it=C,ft=U,_t=ze.gb[0],bt=ze.Ja,gr=ze.xa,rr=it[0],ht=!r(sr,rr,"VP8 "),Vr=!r(sr,rr,"VP8L"),e(sr!=null),e(ft!=null),e(bt!=null),e(gr!=null),8>ft[0])it=7;else{if(ht||Vr){if(sr=Pe(sr,rr+4),12<=_t&&sr>_t-12){it=3;break e}if(Ne&&sr>ft[0]-8){it=7;break e}bt[0]=sr,it[0]+=8,ft[0]-=8,gr[0]=Vr}else gr[0]=5<=ft[0]&&sr[rr+0]==47&&!(sr[rr+4]>>5),bt[0]=ft[0];it=0}if(U=U[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],C=C[0],it!=0)break;if(4294967286<ze.Ja)return 3;if(me==null||pt||(me[0]=ze.xa?2:1),he=[he],Ye=[Ye],ze.xa){if(5>U){it=7;break}me=he,Ne=Ye,pt=ue,_==null||5>U?_=0:5<=U&&_[C+0]==47&&!(_[C+4]>>5)?(ft=[0],sr=[0],_t=[0],G(bt=new q,_,C,U),vi(bt,ft,sr,_t)?(me!=null&&(me[0]=ft[0]),Ne!=null&&(Ne[0]=sr[0]),pt!=null&&(pt[0]=_t[0]),_=1):_=0):_=0}else{if(10>U){it=7;break}me=Ye,_==null||10>U||!bu(_,C+3,U-3)?_=0:(Ne=_[C+0]|_[C+1]<<8|_[C+2]<<16,pt=16383&(_[C+7]<<8|_[C+6]),_=16383&(_[C+9]<<8|_[C+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=ze.Ja||!pt||!_?_=0:(he&&(he[0]=pt),me&&(me[0]=_),_=1))}if(!_||(he=he[0],Ye=Ye[0],Ze&&(Se[0]!=he||Ve[0]!=Ye)))return 3;ye!=null&&(ye[0]=ze,ye.offset=C-ye.w,e(4294967286>C-ye.w),e(ye.offset==ye.ha-U));break}return it==0||it==7&&Ze&&ye==null?(ue!=null&&(ue[0]|=ze.na!=null&&0<ze.na.length),K!=null&&(K[0]=he),te!=null&&(te[0]=Ye),0):it}function ks(_,C,U){var K=C.width,te=C.height,ue=0,he=0,me=K,ye=te;if(C.Da=_!=null&&0<_.Da,C.Da&&(me=_.cd,ye=_.bd,ue=_.v,he=_.j,11>U||(ue&=-2,he&=-2),0>ue||0>he||0>=me||0>=ye||ue+me>K||he+ye>te))return 0;if(C.v=ue,C.j=he,C.va=ue+me,C.o=he+ye,C.U=me,C.T=ye,C.da=_!=null&&0<_.da,C.da){if(!et(me,ye,U=[_.ib],ue=[_.hb]))return 0;C.ib=U[0],C.hb=ue[0]}return C.ob=_!=null&&_.ob,C.Kb=_==null||!_.Sd,C.da&&(C.ob=C.ib<3*K/4&&C.hb<3*te/4,C.Kb=0),1}function Es(_){if(_==null)return 2;if(11>_.S){var C=_.f.RGBA;C.fb+=(_.height-1)*C.A,C.A=-C.A}else C=_.f.kb,_=_.height,C.O+=(_-1)*C.fa,C.fa=-C.fa,C.N+=(_-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(_-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(_-1)*C.lb,C.lb=-C.lb);return 0}function Oc(_,C,U,K){if(K==null||0>=_||0>=C)return 2;if(U!=null){if(U.Da){var te=U.cd,ue=U.bd,he=-2&U.v,me=-2&U.j;if(0>he||0>me||0>=te||0>=ue||he+te>_||me+ue>C)return 2;_=te,C=ue}if(U.da){if(!et(_,C,te=[U.ib],ue=[U.hb]))return 2;_=te[0],C=ue[0]}}K.width=_,K.height=C;e:{var ye=K.width,Se=K.height;if(_=K.S,0>=ye||0>=Se||!(_>=C0&&13>_))_=2;else{if(0>=K.Rd&&K.sd==null){he=ue=te=C=0;var Ve=(me=ye*rh[_])*Se;if(11>_||(ue=(Se+1)/2*(C=(ye+1)/2),_==12&&(he=(te=ye)*Se)),(Se=a(Ve+2*ue+he))==null){_=1;break e}K.sd=Se,11>_?((ye=K.f.RGBA).eb=Se,ye.fb=0,ye.A=me,ye.size=Ve):((ye=K.f.kb).y=Se,ye.O=0,ye.fa=me,ye.Fd=Ve,ye.f=Se,ye.N=0+Ve,ye.Ab=C,ye.Cd=ue,ye.ea=Se,ye.W=0+Ve+ue,ye.Db=C,ye.Ed=ue,_==12&&(ye.F=Se,ye.J=0+Ve+2*ue),ye.Tc=he,ye.lb=te)}if(C=1,te=K.S,ue=K.width,he=K.height,te>=C0&&13>te)if(11>te)_=K.f.RGBA,C&=(me=Math.abs(_.A))*(he-1)+ue<=_.size,C&=me>=ue*rh[te],C&=_.eb!=null;else{_=K.f.kb,me=(ue+1)/2,Ve=(he+1)/2,ye=Math.abs(_.fa),Se=Math.abs(_.Ab);var Ze=Math.abs(_.Db),Ne=Math.abs(_.lb),ze=Ne*(he-1)+ue;C&=ye*(he-1)+ue<=_.Fd,C&=Se*(Ve-1)+me<=_.Cd,C=(C&=Ze*(Ve-1)+me<=_.Ed)&ye>=ue&Se>=me&Ze>=me,C&=_.y!=null,C&=_.f!=null,C&=_.ea!=null,te==12&&(C&=Ne>=ue,C&=ze<=_.Tc,C&=_.F!=null)}else C=0;_=C?0:2}}return _!=0||U!=null&&U.fd&&(_=Es(K)),_}var Ss=64,Mc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wf=24,Bc=32,Ii=8,b0=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(_){return _},S.Predictor2=function(_,C,U){return C[U+0]},S.Predictor3=function(_,C,U){return C[U+1]},S.Predictor4=function(_,C,U){return C[U-1]},S.Predictor5=function(_,C,U){return Et(Et(_,C[U+1]),C[U+0])},S.Predictor6=function(_,C,U){return Et(_,C[U-1])},S.Predictor7=function(_,C,U){return Et(_,C[U+0])},S.Predictor8=function(_,C,U){return Et(C[U-1],C[U+0])},S.Predictor9=function(_,C,U){return Et(C[U+0],C[U+1])},S.Predictor10=function(_,C,U){return Et(Et(_,C[U-1]),Et(C[U+0],C[U+1]))},S.Predictor11=function(_,C,U){var K=C[U+0];return 0>=Ge(K>>24&255,_>>24&255,(C=C[U-1])>>24&255)+Ge(K>>16&255,_>>16&255,C>>16&255)+Ge(K>>8&255,_>>8&255,C>>8&255)+Ge(255&K,255&_,255&C)?K:_},S.Predictor12=function(_,C,U){var K=C[U+0];return(Re((_>>24&255)+(K>>24&255)-((C=C[U-1])>>24&255))<<24|Re((_>>16&255)+(K>>16&255)-(C>>16&255))<<16|Re((_>>8&255)+(K>>8&255)-(C>>8&255))<<8|Re((255&_)+(255&K)-(255&C)))>>>0},S.Predictor13=function(_,C,U){var K=C[U-1];return(qe((_=Et(_,C[U+0]))>>24&255,K>>24&255)<<24|qe(_>>16&255,K>>16&255)<<16|qe(_>>8&255,K>>8&255)<<8|qe(255&_,255&K))>>>0};var Hs=S.PredictorAdd0;S.PredictorAdd1=dt,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var Ws=S.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var kd,Vc=S.ColorIndexInverseTransform,Ed=S.MapARGB,Su=S.VP8LColorIndexInverseTransformAlpha,sc=S.MapAlpha,oc=S.VP8LPredictorsAdd=[];oc.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Cl,Sd,Gs,Nl,Zn,ei,Ui,zi,pa,Al,nl,Cd,Cp,Np,k0,o2,l2,Cu,E0,Nd,S0,Ap,Gf,Nu,Au,Tp,Kf,Ip,Pp=a(511),Rp=a(2041),Fp=a(225),Lp=a(767),jp=0,Tl=Rp,Ad=Fp,Cs=Lp,Lo=Pp,C0=0,Uc=1,c2=2,Xf=3,Yf=4,zn=5,N0=6,Td=7,Tu=8,Qf=9,Jf=10,Zf=[2,3,7],A0=[3,3,11],Iu=[280,256,256,256,40],u2=[0,1,1,1,0],Zy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],e5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],d2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],T0=8,Id=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Pu=null,Dp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Op=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],f2=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],h2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],t5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],r5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Mp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ns=[],jo=[],Ks=[],Il=1,Pd=2,ss=[],Xs=[];$s("UpsampleRgbLinePair",ge,3),$s("UpsampleBgrLinePair",Xe,3),$s("UpsampleRgbaLinePair",Qr,4),$s("UpsampleBgraLinePair",hi,4),$s("UpsampleArgbLinePair",vn,4),$s("UpsampleRgba4444LinePair",Lt,2),$s("UpsampleRgb565LinePair",ut,2);var n5=S.UpsampleRgbLinePair,i5=S.UpsampleBgrLinePair,zc=S.UpsampleRgbaLinePair,Rd=S.UpsampleBgraLinePair,Ru=S.UpsampleArgbLinePair,th=S.UpsampleRgba4444LinePair,Bp=S.UpsampleRgb565LinePair,lc=16,il=1<<lc-1,Ln=-227,Bn=482,$c=6,Ka=0,Ys=a(256),Fu=a(256),Fd=a(256),Qs=a(256),I0=a(Bn-Ln),p2=a(Bn-Ln);wn("YuvToRgbRow",ge,3),wn("YuvToBgrRow",Xe,3),wn("YuvToRgbaRow",Qr,4),wn("YuvToBgraRow",hi,4),wn("YuvToArgbRow",vn,4),wn("YuvToRgba4444Row",Lt,2),wn("YuvToRgb565Row",ut,2);var Vp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Lu=[0,2,8],m2=[8,7,6,4,4,2,2,2,1,1,1,1],cc=1;this.WebPDecodeRGBA=function(_,C,U,K,te){var ue=Uc,he=new tr,me=new Qt;he.ba=me,me.S=ue,me.width=[me.width],me.height=[me.height];var ye=me.width,Se=me.height,Ve=new Wt;if(Ve==null||_==null)var Ze=2;else e(Ve!=null),Ze=rl(_,C,U,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(Ze!=0?ye=0:(ye!=null&&(ye[0]=Ve.width[0]),Se!=null&&(Se[0]=Ve.height[0]),ye=1),ye){me.width=me.width[0],me.height=me.height[0],K!=null&&(K[0]=me.width),te!=null&&(te[0]=me.height);e:{if(K=new An,(te=new wr).data=_,te.w=C,te.ha=U,te.kd=1,C=[0],e(te!=null),((_=rl(te.data,te.w,te.ha,null,null,null,C,null,te))==0||_==7)&&C[0]&&(_=4),(C=_)==0){if(e(he!=null),K.data=te.data,K.w=te.w+te.offset,K.ha=te.ha-te.offset,K.put=ir,K.ac=mn,K.bc=Kr,K.ma=he,te.xa){if((_=tt())==null){he=1;break e}if((function(Ne,ze){var Ye=[0],pt=[0],it=[0];t:for(;;){if(Ne==null)return 0;if(ze==null)return Ne.a=2,0;if(Ne.l=ze,Ne.a=0,G(Ne.m,ze.data,ze.w,ze.ha),!vi(Ne.m,Ye,pt,it)){Ne.a=3;break t}if(Ne.xb=Pd,ze.width=Ye[0],ze.height=pt[0],!rt(Ye[0],pt[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0})(_,K)){if(K=(C=Oc(K.width,K.height,he.Oa,he.ba))==0){t:{K=_;r:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((U=K.l)!=null),e((te=U.ma)!=null),K.xb!=0){if(K.ca=te.ba,K.tb=te.tb,e(K.ca!=null),!ks(te.Oa,U,Xf)){K.a=2;break r}if(!at(K,U.width)||U.da)break r;if((U.da||Ot(K.ca.S))&&Vi(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Vi()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!de(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Qe(K,K.V,K.Ba,K.c,K.i,U.o,we))break r;te.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(C=_.a)}else C=_.a}else{if((_=new _u)==null){he=1;break e}if(_.Fa=te.na,_.P=te.P,_.qc=te.Sa,tc(_,K)){if((C=Oc(K.width,K.height,he.Oa,he.ba))==0){if(_.Aa=0,U=he.Oa,e((te=_)!=null),U!=null){if(0<(ye=0>(ye=U.Md)?0:100<ye?255:255*ye/100)){for(Se=Ve=0;4>Se;++Se)12>(Ze=te.pb[Se]).lc&&(Ze.ia=ye*m2[0>Ze.lc?0:Ze.lc]>>3),Ve|=Ze.ia;Ve&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=U.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(Ne,ze){if(Ne==null)return 0;if(ze==null)return yi(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!tc(Ne,ze))return 0;if(e(Ne.cb),ze.ac==null||ze.ac(ze)){ze.ob&&(Ne.L=0);var Ye=Lu[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=ze.v-Ye>>4,Ne.zb=ze.j-Ye>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=ze.o+15+Ye>>4,Ne.Hb=ze.va+15+Ye>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var pt=Ne.ed;for(Ye=0;4>Ye;++Ye){var it;if(Ne.Qa.Cb){var ft=Ne.Qa.Lb[Ye];Ne.Qa.Fb||(ft+=pt.Tb)}else ft=pt.Tb;for(it=0;1>=it;++it){var ht=Ne.gd[Ye][it],_t=ft;if(pt.Pc&&(_t+=pt.vd[0],it&&(_t+=pt.od[0])),0<(_t=0>_t?0:63<_t?63:_t)){var bt=_t;0<pt.wb&&(bt=4<pt.wb?bt>>2:bt>>1)>9-pt.wb&&(bt=9-pt.wb),1>bt&&(bt=1),ht.dd=bt,ht.tc=2*_t+bt,ht.ld=40<=_t?2:15<=_t?1:0}else ht.tc=0;ht.La=it}}}Ye=0}else yi(Ne,6,"Frame setup failed"),Ye=Ne.a;if(Ye=Ye==0){if(Ye){Ne.$c=0,0<Ne.Aa||(Ne.Ic=cc);t:{Ye=Ne.Ic,pt=4*(bt=Ne.za);var gr=32*bt,rr=bt+1,Vr=0<Ne.L?bt*(0<Ne.Aa?2:1):0,sr=(Ne.Aa==2?2:1)*bt;if((ht=pt+832+(it=3*(16*Ye+Lu[Ne.L])/2*gr)+(ft=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=ht)Ye=0;else{if(ht>Ne.Vb){if(Ne.Vb=0,Ne.Ec=a(ht),Ne.Fc=0,Ne.Ec==null){Ye=yi(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=ht}ht=Ne.Ec,_t=Ne.Fc,Ne.Ac=ht,Ne.Bc=_t,_t+=pt,Ne.Gd=s(gr,fi),Ne.Hd=0,Ne.rb=s(rr+1,gn),Ne.sb=1,Ne.wa=Vr?s(Vr,Br):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=bt),e(!0),Ne.oc=ht,Ne.pc=_t,_t+=832,Ne.ya=s(sr,Ms),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=bt),Ne.R=16*bt,Ne.B=8*bt,bt=(gr=Lu[Ne.L])*Ne.R,gr=gr/2*Ne.B,Ne.sa=ht,Ne.ta=_t+bt,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*Ye*Ne.R+gr,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*Ye*Ne.B+gr,Ne.$c=0,_t+=it,Ne.mb=ft?ht:null,Ne.nb=ft?_t:null,e(_t+ft<=Ne.Fc+Ne.Vb),Vs(Ne),i(Ne.Ac,Ne.Bc,0,pt),Ye=1}}if(Ye){if(ze.ka=0,ze.y=Ne.sa,ze.O=Ne.ta,ze.f=Ne.qa,ze.N=Ne.ra,ze.ea=Ne.Ha,ze.Vd=Ne.Ia,ze.fa=Ne.R,ze.Rc=Ne.B,ze.F=null,ze.J=0,!jp){for(Ye=-255;255>=Ye;++Ye)Pp[255+Ye]=0>Ye?-Ye:Ye;for(Ye=-1020;1020>=Ye;++Ye)Rp[1020+Ye]=-128>Ye?-128:127<Ye?127:Ye;for(Ye=-112;112>=Ye;++Ye)Fp[112+Ye]=-16>Ye?-16:15<Ye?15:Ye;for(Ye=-255;510>=Ye;++Ye)Lp[255+Ye]=0>Ye?0:255<Ye?255:Ye;jp=1}Ui=Xr,zi=_l,Al=bl,nl=tn,Cd=Yo,pa=nc,Cp=O,Np=ee,k0=We,o2=vt,l2=Ce,Cu=Oe,E0=kt,Nd=Yt,S0=Wa,Ap=Ro,Gf=Ta,Nu=ic,jo[0]=Hf,jo[1]=Rc,jo[2]=Us,jo[3]=Io,jo[4]=_d,jo[5]=Jo,jo[6]=Ai,jo[7]=bd,jo[8]=Po,jo[9]=Zo,Ns[0]=$a,Ns[1]=yd,Ns[2]=wd,Ns[3]=Lc,Ns[4]=fa,Ns[5]=qa,Ns[6]=_s,Ks[0]=zs,Ks[1]=Fc,Ks[2]=jc,Ks[3]=Ha,Ks[4]=On,Ks[5]=kl,Ks[6]=ku,Ye=1}else Ye=0}Ye&&(Ye=(function(nn,Pi){for(nn.M=0;nn.M<nn.Va;++nn.M){var Ur,nr=nn.Jc[nn.M&nn.Xb],$t=nn.m,$i=nn;for(Ur=0;Ur<$i.za;++Ur){var Pr=$t,Jr=$i,ti=Jr.Ac,Pa=Jr.Bc+4*Ur,Ji=Jr.zc,wi=Jr.ya[Jr.aa+Ur];if(Jr.Qa.Bb?wi.$b=be(Pr,Jr.Pa.jb[0])?2+be(Pr,Jr.Pa.jb[2]):be(Pr,Jr.Pa.jb[1]):wi.$b=0,Jr.kc&&(wi.Ad=be(Pr,Jr.Bd)),wi.Za=!be(Pr,145)+0,wi.Za){var ma=wi.Ob,Ra=0;for(Jr=0;4>Jr;++Jr){var pi,cn=Ji[0+Jr];for(pi=0;4>pi;++pi){cn=t5[ti[Pa+pi]][cn];for(var _n=f2[be(Pr,cn[0])];0<_n;)_n=f2[2*_n+be(Pr,cn[_n])];cn=-_n,ti[Pa+pi]=cn}n(ma,Ra,ti,Pa,4),Ra+=4,Ji[0+Jr]=cn}}else cn=be(Pr,156)?be(Pr,128)?1:3:be(Pr,163)?2:0,wi.Ob[0]=cn,i(ti,Pa,cn,4),i(Ji,0,cn,4);wi.Dd=be(Pr,142)?be(Pr,114)?be(Pr,183)?1:3:2:0}if($i.m.Ka)return yi(nn,7,"Premature end-of-partition0 encountered.");for(;nn.ja<nn.za;++nn.ja){if($i=nr,Pr=($t=nn).rb[$t.sb-1],ti=$t.rb[$t.sb+$t.ja],Ur=$t.ya[$t.aa+$t.ja],Pa=$t.kc?Ur.Ad:0)Pr.la=ti.la=0,Ur.Za||(Pr.Na=ti.Na=0),Ur.Hc=0,Ur.Gc=0,Ur.ia=0;else{var mi,bn;if(Pr=ti,ti=$i,Pa=$t.Pa.Xc,Ji=$t.ya[$t.aa+$t.ja],wi=$t.pb[Ji.$b],Jr=Ji.ad,ma=0,Ra=$t.rb[$t.sb-1],cn=pi=0,i(Jr,ma,0,384),Ji.Za)var Ri=0,Fi=Pa[3];else{_n=a(16);var $n=Pr.Na+Ra.Na;if($n=Pu(ti,Pa[1],$n,wi.Eb,0,_n,0),Pr.Na=Ra.Na=(0<$n)+0,1<$n)Ui(_n,0,Jr,ma);else{var os=_n[0]+3>>3;for(_n=0;256>_n;_n+=16)Jr[ma+_n]=os}Ri=1,Fi=Pa[0]}var Vn=15&Pr.la,qn=15&Ra.la;for(_n=0;4>_n;++_n){var Zi=1&qn;for(os=bn=0;4>os;++os)Vn=Vn>>1|(Zi=($n=Pu(ti,Fi,$n=Zi+(1&Vn),wi.Sc,Ri,Jr,ma))>Ri)<<7,bn=bn<<2|(3<$n?3:1<$n?2:Jr[ma+0]!=0),ma+=16;Vn>>=4,qn=qn>>1|Zi<<7,pi=(pi<<8|bn)>>>0}for(Fi=Vn,Ri=qn>>4,mi=0;4>mi;mi+=2){for(bn=0,Vn=Pr.la>>4+mi,qn=Ra.la>>4+mi,_n=0;2>_n;++_n){for(Zi=1&qn,os=0;2>os;++os)$n=Zi+(1&Vn),Vn=Vn>>1|(Zi=0<($n=Pu(ti,Pa[2],$n,wi.Qc,0,Jr,ma)))<<3,bn=bn<<2|(3<$n?3:1<$n?2:Jr[ma+0]!=0),ma+=16;Vn>>=2,qn=qn>>1|Zi<<5}cn|=bn<<4*mi,Fi|=Vn<<4<<mi,Ri|=(240&qn)<<mi}Pr.la=Fi,Ra.la=Ri,Ji.Hc=pi,Ji.Gc=cn,Ji.ia=43690&cn?0:wi.ia,Pa=!(pi|cn)}if(0<$t.L&&($t.wa[$t.Y+$t.ja]=$t.gd[Ur.$b][Ur.Za],$t.wa[$t.Y+$t.ja].La|=!Pa),$i.Ka)return yi(nn,7,"Premature end-of-file encountered.")}if(Vs(nn),$t=Pi,$i=1,Ur=(nr=nn).D,Pr=0<nr.L&&nr.M>=nr.zb&&nr.M<=nr.Va,nr.Aa==0)t:{if(Ur.M=nr.M,Ur.uc=Pr,qs(nr,Ur),$i=1,Ur=(bn=nr.D).Nb,Pr=(cn=Lu[nr.L])*nr.R,ti=cn/2*nr.B,_n=16*Ur*nr.R,os=8*Ur*nr.B,Pa=nr.sa,Ji=nr.ta-Pr+_n,wi=nr.qa,Jr=nr.ra-ti+os,ma=nr.Ha,Ra=nr.Ia-ti+os,qn=(Vn=bn.M)==0,pi=Vn>=nr.Va-1,nr.Aa==2&&qs(nr,bn),bn.uc)for(Zi=($n=nr).D.M,e($n.D.uc),bn=$n.yb;bn<$n.Hb;++bn){Ri=bn,Fi=Zi;var Xa=(Js=(Wi=$n).D).Nb;mi=Wi.R;var Js=Js.wa[Js.Y+Ri],qi=Wi.sa,Hi=Wi.ta+16*Xa*mi+16*Ri,ls=Js.dd,Hn=Js.tc;if(Hn!=0)if(e(3<=Hn),Wi.L==1)0<Ri&&Ap(qi,Hi,mi,Hn+4),Js.La&&Nu(qi,Hi,mi,Hn),0<Fi&&S0(qi,Hi,mi,Hn+4),Js.La&&Gf(qi,Hi,mi,Hn);else{var cs=Wi.B,Do=Wi.qa,al=Wi.ra+8*Xa*cs+8*Ri,Fa=Wi.Ha,Wi=Wi.Ia+8*Xa*cs+8*Ri;Xa=Js.ld,0<Ri&&(Np(qi,Hi,mi,Hn+4,ls,Xa),o2(Do,al,Fa,Wi,cs,Hn+4,ls,Xa)),Js.La&&(Cu(qi,Hi,mi,Hn,ls,Xa),Nd(Do,al,Fa,Wi,cs,Hn,ls,Xa)),0<Fi&&(Cp(qi,Hi,mi,Hn+4,ls,Xa),k0(Do,al,Fa,Wi,cs,Hn+4,ls,Xa)),Js.La&&(l2(qi,Hi,mi,Hn,ls,Xa),E0(Do,al,Fa,Wi,cs,Hn,ls,Xa))}}if(nr.ia&&alert("todo:DitherRow"),$t.put!=null){if(bn=16*Vn,Vn=16*(Vn+1),qn?($t.y=nr.sa,$t.O=nr.ta+_n,$t.f=nr.qa,$t.N=nr.ra+os,$t.ea=nr.Ha,$t.W=nr.Ia+os):(bn-=cn,$t.y=Pa,$t.O=Ji,$t.f=wi,$t.N=Jr,$t.ea=ma,$t.W=Ra),pi||(Vn-=cn),Vn>$t.o&&(Vn=$t.o),$t.F=null,$t.J=null,nr.Fa!=null&&0<nr.Fa.length&&bn<Vn&&($t.J=Qi(nr,$t,bn,Vn-bn),$t.F=nr.mb,$t.F==null&&$t.F.length==0)){$i=yi(nr,3,"Could not decode alpha data.");break t}bn<$t.j&&(cn=$t.j-bn,bn=$t.j,e(!(1&cn)),$t.O+=nr.R*cn,$t.N+=nr.B*(cn>>1),$t.W+=nr.B*(cn>>1),$t.F!=null&&($t.J+=$t.width*cn)),bn<Vn&&($t.O+=$t.v,$t.N+=$t.v>>1,$t.W+=$t.v>>1,$t.F!=null&&($t.J+=$t.v),$t.ka=bn-$t.j,$t.U=$t.va-$t.v,$t.T=Vn-bn,$i=$t.put($t))}Ur+1!=nr.Ic||pi||(n(nr.sa,nr.ta-Pr,Pa,Ji+16*nr.R,Pr),n(nr.qa,nr.ra-ti,wi,Jr+8*nr.B,ti),n(nr.Ha,nr.Ia-ti,ma,Ra+8*nr.B,ti))}if(!$i)return yi(nn,6,"Output aborted.")}return 1})(Ne,ze)),ze.bc!=null&&ze.bc(ze),Ye&=1}return Ye?(Ne.cb=0,Ye):0})(_,K)||(C=_.a)}}else C=_.a}C==0&&he.Oa!=null&&he.Oa.fd&&(C=Es(he.ba))}he=C}ue=he!=0?null:11>ue?me.f.RGBA.eb:me.f.kb.y}else ue=null;return ue};var rh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,j){for(var A="",F=0;F<4;F++)A+=String.fromCharCode(S[j++]);return A}function f(S,j){return S[j+0]|S[j+1]<<8}function p(S,j){return(S[j+0]|S[j+1]<<8|S[j+2]<<16)>>>0}function g(S,j){return(S[j+0]|S[j+1]<<8|S[j+2]<<16|S[j+3]<<24)>>>0}new l;var m=[0],y=[0],w=[],k=new l,N=t,L=(function(S,j){var A={},F=0,M=!1,re=0,pe=0;if(A.frames=[],!(function(I,q){for(var W=0;W<4;W++)if(I[q+W]!="RIFF".charCodeAt(W))return!0;return!1})(S,j)){for(g(S,j+=4),j+=8;j<S.length;){var _e=c(S,j),xe=g(S,j+=4);j+=4;var oe=xe+(1&xe);switch(_e){case"VP8 ":case"VP8L":A.frames[F]===void 0&&(A.frames[F]={}),(X=A.frames[F]).src_off=M?pe:j-8,X.src_size=re+xe+8,F++,M&&(M=!1,re=0,pe=0);break;case"VP8X":(X=A.header={}).feature_flags=S[j];var G=j+4;X.canvas_width=1+p(S,G),G+=3,X.canvas_height=1+p(S,G),G+=3;break;case"ALPH":M=!0,re=oe+8,pe=j-8;break;case"ANIM":(X=A.header).bgcolor=g(S,j),G=j+4,X.loop_count=f(S,G),G+=2;break;case"ANMF":var fe,X;(X=A.frames[F]={}).offset_x=2*p(S,j),j+=3,X.offset_y=2*p(S,j),j+=3,X.width=1+p(S,j),j+=3,X.height=1+p(S,j),j+=3,X.duration=p(S,j),j+=3,fe=S[j++],X.dispose=1&fe,X.blend=fe>>1&1}_e!="ANMF"&&(j+=oe)}return A}})(N,0);L.response=N,L.rgbaoutput=!0,L.dataurl=!1;var P=L.header?L.header:null,V=L.frames?L.frames:null;if(P){P.loop_counter=P.loop_count,m=[P.canvas_height],y=[P.canvas_width];for(var Y=0;Y<V.length&&V[Y].blend!=0;Y++);}var Q=V[0],R=k.WebPDecodeRGBA(N,Q.src_off,Q.src_size,y,m);Q.rgba=R,Q.imgwidth=y[0],Q.imgheight=m[0];for(var T=0;T<y[0]*m[0]*4;T++)w[T]=R[T];return this.width=y,this.height=m,this.data=w,this}(function(t){var e,r,n,i,a,s,o,l,c,f=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new f}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=I;Object.defineProperty(this,"pdf",{get:function(){return q}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(Pe){W=!!Pe}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Pe){J=!!Pe}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Pe){isNaN(Pe)||(ce=Pe)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Pe){isNaN(Pe)||(ve=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Pe){var de;typeof Pe=="number"?de=[Pe,Pe,Pe,Pe]:((de=new Array(4))[0]=Pe[0],de[1]=Pe.length>=2?Pe[1]:de[0],de[2]=Pe.length>=3?Pe[2]:de[0],de[3]=Pe.length>=4?Pe[3]:de[1]),c.margin=de}});var Ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ee},set:function(Pe){Ee=Pe}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(Pe){le=Pe}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Pe){be=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Pe){Pe instanceof f&&(c=Pe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Pe){c.path=Pe}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(Pe){Le=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var de;de=g(Pe),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var de=g(Pe);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var ae=null,je=null;Object.defineProperty(this,"fontFaces",{get:function(){return je},set:function(Pe){ae=null,je=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var de;if(this.ctx.font=Pe,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var Me=de[1];de[2];var Be=de[3],et=de[4];de[5];var ne=de[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(De==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var Ke=(function(yt){var wt,Xt,qt=[],Bt=yt.trim();if(Bt==="")return K4;if(Bt in wS)return[wS[Bt]];for(;Bt!=="";){switch(Xt=null,wt=(Bt=bS(Bt)).charAt(0)){case'"':case"'":Xt=Cce(Bt.substring(1),wt);break;default:Xt=Nce(Bt)}if(Xt===null||(qt.push(Xt[0]),(Bt=bS(Xt[1]))!==""&&Bt.charAt(0)!==","))return K4;Bt=Bt.replace(/^,/,"")}return qt})(ne);if(this.fontFaces){var mt=(function(yt,wt){if(ae===null){var Xt=(function(qt){var Bt=[];return Object.keys(qt).forEach(function(mr){qt[mr].forEach(function(qr){var fr=null;switch(qr){case"bold":fr={family:mr,weight:"bold"};break;case"italic":fr={family:mr,style:"italic"};break;case"bolditalic":fr={family:mr,weight:"bold",style:"italic"};break;case"":case"normal":fr={family:mr}}fr!==null&&(fr.ref={name:mr,style:qr},Bt.push(fr))})}),Bt})(yt.getFontList());ae=(function(qt){for(var Bt={},mr=0;mr<qt.length;++mr){var qr=G4(qt[mr]),fr=qr.family,He=qr.stretch,Ot=qr.style,hr=qr.weight;Bt[fr]=Bt[fr]||{},Bt[fr][He]=Bt[fr][He]||{},Bt[fr][He][Ot]=Bt[fr][He][Ot]||{},Bt[fr][He][Ot][hr]=qr}return Bt})(Xt.concat(wt))}return ae})(this.pdf,this.fontFaces),Et=Ke.map(function(yt){return{family:yt,stretch:"normal",weight:Be,style:Me}}),Re=(function(yt,wt,Xt){for(var qt=(Xt=Xt||{}).defaultFontFamily||"times",Bt=Object.assign({},Sce,Xt.genericFontFamilies||{}),mr=null,qr=null,fr=0;fr<wt.length;++fr)if(Bt[(mr=G4(wt[fr])).family]&&(mr.family=Bt[mr.family]),yt.hasOwnProperty(mr.family)){qr=yt[mr.family];break}if(!(qr=qr||yt[qt]))throw new Error("Could not find a font-family for the rule '"+_S(mr)+"' and default family '"+qt+"'.");if(qr=(function(He,Ot){if(Ot[He])return Ot[He];var hr=Ew[He],Zt=hr<=Ew.normal?-1:1,Qt=yS(Ot,TL,hr,Zt);if(!Qt)throw new Error("Could not find a matching font-stretch value for "+He);return Qt})(mr.stretch,qr),qr=(function(He,Ot){if(Ot[He])return Ot[He];for(var hr=AL[He],Zt=0;Zt<hr.length;++Zt)if(Ot[hr[Zt]])return Ot[hr[Zt]];throw new Error("Could not find a matching font-style for "+He)})(mr.style,qr),!(qr=(function(He,Ot){if(Ot[He])return Ot[He];if(He===400&&Ot[500])return Ot[500];if(He===500&&Ot[400])return Ot[400];var hr=Ece[He],Zt=yS(Ot,IL,hr,He<400?-1:1);if(!Zt)throw new Error("Could not find a matching font-weight for value "+He);return Zt})(mr.weight,qr)))throw new Error("Failed to resolve a font for the rule '"+_S(mr)+"'.");return qr})(mt,Et);this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var qe="";(Be==="bold"||parseInt(Be,10)>=700||Me==="bold")&&(qe="bold"),Me==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Ge="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<Ke.length;Nt++){if(this.pdf.internal.getFont(Ke[Nt],qe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Ke[Nt];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(Ke[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Ke[Nt],qe="bold";else if(this.pdf.internal.getFont(Ke[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Ke[Nt],qe="normal";break}}if(Ge===""){for(var It=0;It<Ke.length;It++)if(dt[Ke[It]]){Ge=dt[Ke[It]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){V.call(this,"fill",!1)},p.prototype.stroke=function(){V.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,q){if(isNaN(I)||isNaN(q))throw ci.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new s(I,q));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new s(I,q)},p.prototype.closePath=function(){var I=new s(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Xn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){I=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},p.prototype.lineTo=function(I,q){if(isNaN(I)||isNaN(q))throw ci.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new s(I,q));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new s(W.x,W.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,q,W,J){if(isNaN(W)||isNaN(J)||isNaN(I)||isNaN(q))throw ci.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new s(W,J)),ve=this.ctx.transform.applyToPoint(new s(I,q));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},p.prototype.bezierCurveTo=function(I,q,W,J,ce,ve){if(isNaN(ce)||isNaN(ve)||isNaN(I)||isNaN(q)||isNaN(W)||isNaN(J))throw ci.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ee=this.ctx.transform.applyToPoint(new s(ce,ve)),le=this.ctx.transform.applyToPoint(new s(I,q)),be=this.ctx.transform.applyToPoint(new s(W,J));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:be.x,y2:be.y,x:Ee.x,y:Ee.y}),this.ctx.lastPoint=new s(Ee.x,Ee.y)},p.prototype.arc=function(I,q,W,J,ce,ve){if(isNaN(I)||isNaN(q)||isNaN(W)||isNaN(J)||isNaN(ce))throw ci.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Ee=this.ctx.transform.applyToPoint(new s(I,q));I=Ee.x,q=Ee.y;var le=this.ctx.transform.applyToPoint(new s(0,W)),be=this.ctx.transform.applyToPoint(new s(0,0));W=Math.sqrt(Math.pow(le.x-be.x,2)+Math.pow(le.y-be.y,2))}Math.abs(ce-J)>=2*Math.PI&&(J=0,ce=2*Math.PI),this.path.push({type:"arc",x:I,y:q,radius:W,startAngle:J,endAngle:ce,counterclockwise:ve})},p.prototype.arcTo=function(I,q,W,J,ce){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,q,W,J){if(isNaN(I)||isNaN(q)||isNaN(W)||isNaN(J))throw ci.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,q),this.lineTo(I+W,q),this.lineTo(I+W,q+J),this.lineTo(I,q+J),this.lineTo(I,q),this.lineTo(I+W,q),this.lineTo(I,q)},p.prototype.fillRect=function(I,q,W,J){if(isNaN(I)||isNaN(q)||isNaN(W)||isNaN(J))throw ci.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,q,W,J),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},p.prototype.strokeRect=function(I,q,W,J){if(isNaN(I)||isNaN(q)||isNaN(W)||isNaN(J))throw ci.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(I,q,W,J),this.stroke())},p.prototype.clearRect=function(I,q,W,J){if(isNaN(I)||isNaN(q)||isNaN(W)||isNaN(J))throw ci.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,q,W,J))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(q),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(I){var q,W,J,ce;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))q=0,W=0,J=0,ce=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ve!==null)q=parseInt(ve[1]),W=parseInt(ve[2]),J=parseInt(ve[3]),ce=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)q=parseInt(ve[1]),W=parseInt(ve[2]),J=parseInt(ve[3]),ce=parseFloat(ve[4]);else{if(ce=1,typeof I=="string"&&I.charAt(0)!=="#"){var Ee=new _L(I);I=Ee.ok?Ee.toHex():"#000000"}I.length===4?(q=I.substring(1,2),q+=q,W=I.substring(2,3),W+=W,J=I.substring(3,4),J+=J):(q=I.substring(1,3),W=I.substring(3,5),J=I.substring(5,7)),q=parseInt(q,16),W=parseInt(W,16),J=parseInt(J,16)}}return{r:q,g:W,b:J,a:ce,style:I}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,q,W,J){if(isNaN(q)||isNaN(W)||typeof I!="string")throw ci.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var ce=oe(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;F.call(this,{text:I,x:q,y:W,scale:ve,angle:ce,align:this.textAlign,maxWidth:J})}},p.prototype.strokeText=function(I,q,W,J){if(isNaN(q)||isNaN(W)||typeof I!="string")throw ci.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){J=isNaN(J)?void 0:J;var ce=oe(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;F.call(this,{text:I,x:q,y:W,scale:ve,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:J})}},p.prototype.measureText=function(I){if(typeof I!="string")throw ci.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,W=this.pdf.internal.scaleFactor,J=q.internal.getFontSize(),ce=q.getStringUnitWidth(I)*J/q.internal.scaleFactor;return new function(ve){var Ee=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ee}}),this}({width:ce*=Math.round(96*W/72*1e4)/1e4})},p.prototype.scale=function(I,q){if(isNaN(I)||isNaN(q))throw ci.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new l(I,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.rotate=function(I){if(isNaN(I))throw ci.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.translate=function(I,q){if(isNaN(I)||isNaN(q))throw ci.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new l(1,0,0,1,I,q);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.transform=function(I,q,W,J,ce,ve){if(isNaN(I)||isNaN(q)||isNaN(W)||isNaN(J)||isNaN(ce)||isNaN(ve))throw ci.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ee=new l(I,q,W,J,ce,ve);this.ctx.transform=this.ctx.transform.multiply(Ee)},p.prototype.setTransform=function(I,q,W,J,ce,ve){I=isNaN(I)?1:I,q=isNaN(q)?0:q,W=isNaN(W)?0:W,J=isNaN(J)?1:J,ce=isNaN(ce)?0:ce,ve=isNaN(ve)?0:ve,this.ctx.transform=new l(I,q,W,J,ce,ve)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,q,W,J,ce,ve,Ee,le,be){var Le=this.pdf.getImageProperties(I),ae=1,je=1,Pe=1,de=1;J!==void 0&&le!==void 0&&(Pe=le/J,de=be/ce,ae=Le.width/J*le/J,je=Le.height/ce*be/ce),ve===void 0&&(ve=q,Ee=W,q=0,W=0),J!==void 0&&le===void 0&&(le=J,be=ce),J===void 0&&le===void 0&&(le=Le.width,be=Le.height);for(var Me,Be=this.ctx.transform.decompose(),et=oe(Be.rotate.shx),ne=new l,De=(ne=(ne=(ne=ne.multiply(Be.translate)).multiply(Be.skew)).multiply(Be.scale)).applyToRectangle(new o(ve-q*Pe,Ee-W*de,J*ae,ce*je)),Ke=k.call(this,De),mt=[],Et=0;Et<Ke.length;Et+=1)mt.indexOf(Ke[Et])===-1&&mt.push(Ke[Et]);if(P(mt),this.autoPaging)for(var Re=mt[0],qe=mt[mt.length-1],Ge=Re;Ge<qe+1;Ge++){this.pdf.setPage(Ge);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=Ge===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=Ge===1?0:It+(Ge-2)*yt;if(this.ctx.clip_path.length!==0){var Xt=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Me,this.posX+this.margin[3],-wt+Nt+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=Xt}var qt=JSON.parse(JSON.stringify(De));qt=L([qt],this.posX+this.margin[3],-wt+Nt+this.ctx.prevPageLastElemOffset)[0];var Bt=(Ge>Re||Ge<qe)&&w.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,yt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,et),Bt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",De.x,De.y,De.w,De.h,null,null,et)};var k=function(I,q,W){var J=[];q=q||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":J.push(Math.floor((I.y+ce)/W)+1);break;case"arc":J.push(Math.floor((I.y+ce-I.radius)/W)+1),J.push(Math.floor((I.y+ce+I.radius)/W)+1);break;case"qct":var ve=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);J.push(Math.floor((ve.y+ce)/W)+1),J.push(Math.floor((ve.y+ve.h+ce)/W)+1);break;case"bct":var Ee=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);J.push(Math.floor((Ee.y+ce)/W)+1),J.push(Math.floor((Ee.y+Ee.h+ce)/W)+1);break;case"rect":J.push(Math.floor((I.y+ce)/W)+1),J.push(Math.floor((I.y+I.h+ce)/W)+1)}for(var le=0;le<J.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<J[le];)N.call(this);return J},N=function(){var I=this.fillStyle,q=this.strokeStyle,W=this.font,J=this.lineCap,ce=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=q,this.font=W,this.lineCap=J,this.lineWidth=ce,this.lineJoin=ve},L=function(I,q,W){for(var J=0;J<I.length;J++)switch(I[J].type){case"bct":I[J].x2+=q,I[J].y2+=W;case"qct":I[J].x1+=q,I[J].y1+=W;default:I[J].x+=q,I[J].y+=W}return I},P=function(I){return I.sort(function(q,W){return q-W})},V=function(I,q){for(var W,J,ce=this.fillStyle,ve=this.strokeStyle,Ee=this.lineCap,le=this.lineWidth,be=Math.abs(le*this.ctx.transform.scaleX),Le=this.lineJoin,ae=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),Pe=[],de=0;de<je.length;de++)if(je[de].x!==void 0)for(var Me=k.call(this,je[de]),Be=0;Be<Me.length;Be+=1)Pe.indexOf(Me[Be])===-1&&Pe.push(Me[Be]);for(var et=0;et<Pe.length;et++)for(;this.pdf.internal.getNumberOfPages()<Pe[et];)N.call(this);if(P(Pe),this.autoPaging)for(var ne=Pe[0],De=Pe[Pe.length-1],Ke=ne;Ke<De+1;Ke++){this.pdf.setPage(Ke),this.fillStyle=ce,this.strokeStyle=ve,this.lineCap=Ee,this.lineWidth=be,this.lineJoin=Le;var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=Ke===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Ke===1?0:Re+(Ke-2)*qe;if(this.ctx.clip_path.length!==0){var dt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(W,this.posX+this.margin[3],-Ge+Et+this.ctx.prevPageLastElemOffset),Y.call(this,I,!0),this.path=dt}if(J=JSON.parse(JSON.stringify(ae)),this.path=L(J,this.posX+this.margin[3],-Ge+Et+this.ctx.prevPageLastElemOffset),q===!1||Ke===0){var Nt=(Ke>ne||Ke<De)&&w.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,qe,null).clip().discardPath()),Y.call(this,I,q),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=be,Y.call(this,I,q),this.lineWidth=le;this.path=ae},Y=function(I,q){if((I!=="stroke"||q||!y.call(this))&&(I==="stroke"||q||!m.call(this))){for(var W,J,ce=[],ve=this.path,Ee=0;Ee<ve.length;Ee++){var le=ve[Ee];switch(le.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:le,deltas:[],abs:[]});break;case"lt":var be=ce.length;if(ve[Ee-1]&&!isNaN(ve[Ee-1].x)&&(W=[le.x-ve[Ee-1].x,le.y-ve[Ee-1].y],be>0)){for(;be>=0;be--)if(ce[be-1].close!==!0&&ce[be-1].begin!==!0){ce[be-1].deltas.push(W),ce[be-1].abs.push(le);break}}break;case"bct":W=[le.x1-ve[Ee-1].x,le.y1-ve[Ee-1].y,le.x2-ve[Ee-1].x,le.y2-ve[Ee-1].y,le.x-ve[Ee-1].x,le.y-ve[Ee-1].y],ce[ce.length-1].deltas.push(W);break;case"qct":var Le=ve[Ee-1].x+2/3*(le.x1-ve[Ee-1].x),ae=ve[Ee-1].y+2/3*(le.y1-ve[Ee-1].y),je=le.x+2/3*(le.x1-le.x),Pe=le.y+2/3*(le.y1-le.y),de=le.x,Me=le.y;W=[Le-ve[Ee-1].x,ae-ve[Ee-1].y,je-ve[Ee-1].x,Pe-ve[Ee-1].y,de-ve[Ee-1].x,Me-ve[Ee-1].y],ce[ce.length-1].deltas.push(W);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(le)}}J=q?null:I==="stroke"?"stroke":"fill";for(var Be=!1,et=0;et<ce.length;et++)if(ce[et].arc)for(var ne=ce[et].abs,De=0;De<ne.length;De++){var Ke=ne[De];Ke.type==="arc"?T.call(this,Ke.x,Ke.y,Ke.radius,Ke.startAngle,Ke.endAngle,Ke.counterclockwise,void 0,q,!Be):M.call(this,Ke.x,Ke.y),Be=!0}else if(ce[et].close===!0)this.pdf.internal.out("h"),Be=!1;else if(ce[et].begin!==!0){var mt=ce[et].start.x,Et=ce[et].start.y;re.call(this,ce[et].deltas,mt,Et),Be=!0}J&&S.call(this,J),q&&j.call(this)}},Q=function(I){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-W;case"top":return I+q-W;case"hanging":return I+q-2*W;case"middle":return I+q/2-W;default:return I}},R=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(q,W){this.colorStops.push([q,W])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(I,q,W,J,ce,ve,Ee,le,be){for(var Le=_e.call(this,W,J,ce,ve),ae=0;ae<Le.length;ae++){var je=Le[ae];ae===0&&(be?A.call(this,je.x1+I,je.y1+q):M.call(this,je.x1+I,je.y1+q)),pe.call(this,I,q,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}le?j.call(this):S.call(this,Ee)},S=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(I,q){this.pdf.internal.out(r(I)+" "+n(q)+" m")},F=function(I){var q;switch(I.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var W=this.pdf.getTextDimensions(I.text),J=Q.call(this,I.y),ce=R.call(this,J)-W.h,ve=this.ctx.transform.applyToPoint(new s(I.x,J)),Ee=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale);for(var be,Le,ae,je=this.ctx.transform.applyToRectangle(new o(I.x,J,W.w,W.h)),Pe=le.applyToRectangle(new o(I.x,ce,W.w,W.h)),de=k.call(this,Pe),Me=[],Be=0;Be<de.length;Be+=1)Me.indexOf(de[Be])===-1&&Me.push(de[Be]);if(P(Me),this.autoPaging)for(var et=Me[0],ne=Me[Me.length-1],De=et;De<ne+1;De++){this.pdf.setPage(De);var Ke=De===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[2],Re=Et-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],Ge=qe-this.margin[3],dt=De===1?0:mt+(De-2)*Re;if(this.ctx.clip_path.length!==0){var Nt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(be,this.posX+this.margin[3],-1*dt+Ke),Y.call(this,"fill",!0),this.path=Nt}var It=L([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-dt+Ke+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*I.scale),ae=this.lineWidth,this.lineWidth=ae*I.scale);var yt=this.autoPaging!=="text";if(yt||It.y+It.h<=Et){if(yt||It.y>=Ke&&It.x<=qe){var wt=yt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||qe-It.x)[0],Xt=L([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-dt+Ke+this.ctx.prevPageLastElemOffset)[0],qt=yt&&(De>et||De<ne)&&w.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,Re,null).clip().discardPath()),this.pdf.text(wt,Xt.x,Xt.y,{angle:I.angle,align:q,renderingMode:I.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else It.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-It.y);I.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=ae)}else I.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*I.scale),ae=this.lineWidth,this.lineWidth=ae*I.scale),this.pdf.text(I.text,ve.x+this.posX,ve.y+this.posY,{angle:I.angle,align:q,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=ae)},M=function(I,q,W,J){W=W||0,J=J||0,this.pdf.internal.out(r(I+W)+" "+n(q+J)+" l")},re=function(I,q,W){return this.pdf.lines(I,q,W,null,null)},pe=function(I,q,W,J,ce,ve,Ee,le){this.pdf.internal.out([e(i(W+I)),e(a(J+q)),e(i(ce+I)),e(a(ve+q)),e(i(Ee+I)),e(a(le+q)),"c"].join(" "))},_e=function(I,q,W,J){for(var ce=2*Math.PI,ve=Math.PI/2;q>W;)q-=ce;var Ee=Math.abs(W-q);Ee<ce&&J&&(Ee=ce-Ee);for(var le=[],be=J?-1:1,Le=q;Ee>1e-5;){var ae=Le+be*Math.min(Ee,ve);le.push(xe.call(this,I,Le,ae)),Ee-=Math.abs(ae-Le),Le=ae}return le},xe=function(I,q,W){var J=(W-q)/2,ce=I*Math.cos(J),ve=I*Math.sin(J),Ee=ce,le=-ve,be=Ee*Ee+le*le,Le=be+Ee*ce+le*ve,ae=4/3*(Math.sqrt(2*be*Le)-Le)/(Ee*ve-le*ce),je=Ee-ae*le,Pe=le+ae*Ee,de=je,Me=-Pe,Be=J+q,et=Math.cos(Be),ne=Math.sin(Be);return{x1:I*Math.cos(q),y1:I*Math.sin(q),x2:je*et-Pe*ne,y2:je*ne+Pe*et,x3:de*et-Me*ne,y3:de*ne+Me*et,x4:I*Math.cos(W),y4:I*Math.sin(W)}},oe=function(I){return 180*I/Math.PI},G=function(I,q,W,J,ce,ve){var Ee=I+.5*(W-I),le=q+.5*(J-q),be=ce+.5*(W-ce),Le=ve+.5*(J-ve),ae=Math.min(I,ce,Ee,be),je=Math.max(I,ce,Ee,be),Pe=Math.min(q,ve,le,Le),de=Math.max(q,ve,le,Le);return new o(ae,Pe,je-ae,de-Pe)},fe=function(I,q,W,J,ce,ve,Ee,le){var be,Le,ae,je,Pe,de,Me,Be,et,ne,De,Ke,mt,Et,Re=W-I,qe=J-q,Ge=ce-W,dt=ve-J,Nt=Ee-ce,It=le-ve;for(Le=0;Le<41;Le++)et=(Me=(ae=I+(be=Le/40)*Re)+be*((Pe=W+be*Ge)-ae))+be*(Pe+be*(ce+be*Nt-Pe)-Me),ne=(Be=(je=q+be*qe)+be*((de=J+be*dt)-je))+be*(de+be*(ve+be*It-de)-Be),Le==0?(De=et,Ke=ne,mt=et,Et=ne):(De=Math.min(De,et),Ke=Math.min(Ke,ne),mt=Math.max(mt,et),Et=Math.max(Et,ne));return new o(Math.round(De),Math.round(Ke),Math.round(mt-De),Math.round(Et-Ke))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,q,W=(I=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:q}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(yr.API),(function(t){var e=function(s){var o,l,c,f,p,g,m,y,w,k;for(l=[],c=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(g=(p=((p=((p=((p=(p-(k=p%85))/85)-(w=p%85))/85)-(y=p%85))/85)-(m=p%85))/85)%85,l.push(g+33,m+33,y+33,w+33,k+33)):l.push(122);return(function(N,L){for(var P=L;P>0;P--)N.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,f,p,g=String,m="length",y=255,w="charCodeAt",k="slice",N="replace";for(s[k](-2),s=s[k](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),c=[],f=0,p=(s+=o="uuuuu"[k](s[m]%5||5))[m];p>f;f+=5)l=52200625*(s[w](f)-33)+614125*(s[w](f+1)-33)+7225*(s[w](f+2)-33)+85*(s[w](f+3)-33)+(s[w](f+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(L,P){for(var V=P;V>0;V--)L.pop()})(c,o[m]),g.fromCharCode.apply(g,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=xw(o)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};t.processDataByFilters=function(s,o){var l=0,c=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}})(yr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(l,c,f){var p=new XMLHttpRequest,g=0,m=function(y){var w=y.length,k=[],N=String.fromCharCode;for(g=0;g<w;g+=1)k.push(N(255&y.charCodeAt(g)));return k.join("")};if(p.open("GET",l,!c),p.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(p.onload=function(){p.status===200?f(m(this.responseText)):f(void 0)}),p.send(null),c&&p.status===200)return m(p.responseText)})(i,a,s)}catch{}return o})(e,r,n)},t.loadImageFile=t.loadFile})(yr.API),(function(t){function e(){return(Or.html2canvas?Promise.resolve(Or.html2canvas):Yu(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Or.DOMPurify?Promise.resolve(Or.DOMPurify):Yu(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Xn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var f in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[f]=l.style[f];return c},a=function o(l,c){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(o(p,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),c);return(f=f.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var m=0;m<f.length;++m){var y=f[m],w=y.src.find(function(k){return k.format==="truetype"});w&&c.addFont(w.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(o=o||yr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,f){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,f){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(f,p){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,f),g}).then(f,p).then(function(g){return c.updateProgress(1),g})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var f=this;o&&(o=o.bind(f)),l&&(l=l.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:s.convert(Object.assign({},f),Promise.prototype),g=c.call(p,o,l);return s.convert(g,f.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,yr.getPageSize=function(o,l,c){if(Xn(o)==="object"){var f=o;o=f.orientation,l=f.unit||l,c=f.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var y,w=0,k=0;if(m.hasOwnProperty(g))w=m[g][1]/p,k=m[g][0]/p;else try{w=c[1],k=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",k>w&&(y=k,k=w,w=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>k&&(y=k,k=w,w=y)}return{width:k,height:w,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(G4):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}})(yr.API),yr.API.addJS=function(t){return ES=t,this.internal.events.subscribe("postPutResources",function(){wx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),kS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ES+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wx!==void 0&&kS!==void 0&&this.internal.out("/Names <</JavaScript "+wx+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(a=0;a<c;a++){var p=r.internal.newObject();f.push(p);var g=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(yr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,w={width:0,height:0,numcomponents:1},k=4;k<y;k+=2){if(k+=m,e.indexOf(p.charCodeAt(k+1))!==-1){g=256*p.charCodeAt(k+5)+p.charCodeAt(k+6),w={width:256*p.charCodeAt(k+7)+p.charCodeAt(k+8),height:g,numcomponents:p.charCodeAt(k+9)};break}m=256*p.charCodeAt(k+2)+p.charCodeAt(k+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return f}})(yr.API),yr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=uce(t,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,f=a.depth;i=c&&l===1?(function(R){for(var T=R.width,S=R.height,j=R.data,A=R.palette,F=R.depth,M=!1,re=[],pe=[],_e=void 0,xe=!1,oe=0,G=0;G<A.length;G++){var fe=AE(A[G],4),X=fe[0],I=fe[1],q=fe[2],W=fe[3];re.push(X,I,q),W!=null&&(W===0?(oe++,pe.length<1&&pe.push(G)):W<255&&(xe=!0))}if(xe||oe>1){M=!0,pe=void 0;var J=T*S;_e=new Uint8Array(J);for(var ce=new DataView(j.buffer),ve=0;ve<J;ve++){var Ee=X4(ce,ve,F),le=AE(A[Ee],4)[3];_e[ve]=le}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:j,alphaBytes:_e,needSMask:M,palette:re,mask:pe}})(a):l===2||l===4?(function(R){for(var T=R.data,S=R.width,j=R.height,A=R.channels,F=R.depth,M=A===2?"DeviceGray":"DeviceRGB",re=A-1,pe=S*j,_e=re,xe=pe*_e,oe=1*pe,G=Math.ceil(xe*F/8),fe=Math.ceil(oe*F/8),X=new Uint8Array(G),I=new Uint8Array(fe),q=new DataView(T.buffer),W=new DataView(X.buffer),J=new DataView(I.buffer),ce=!1,ve=0;ve<pe;ve++){for(var Ee=ve*A,le=0;le<_e;le++)FS(W,X4(q,Ee+le,F),ve*_e+le,F);var be=X4(q,Ee+_e,F);be<(1<<F)-1&&(ce=!0),FS(J,be,1*ve,F)}return{colorSpace:M,colorsPerPixel:re,colorBytes:X,alphaBytes:I,needSMask:ce}})(a):(function(R){var T=R.data,S=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:S,colorsPerPixel:S==="DeviceGray"?1:3,colorBytes:T instanceof Uint8Array?T:new Uint8Array(T.buffer),needSMask:!1}})(a);var p,g,m,y=i,w=y.colorSpace,k=y.colorsPerPixel,N=y.colorBytes,L=y.alphaBytes,P=y.needSMask,V=y.palette,Y=y.mask,Q=null;return n!==yr.API.image_compression.NONE&&typeof xw=="function"?(Q=(function(R){var T;switch(R){case yr.API.image_compression.FAST:T=11;break;case yr.API.image_compression.MEDIUM:T=13;break;case yr.API.image_compression.SLOW:T=14;break;default:T=12}return T})(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(Q," "),t=AS(N,s*k,k,n),P&&(m=AS(L,s,1,n))):(p=void 0,g="",t=N,P&&(m=L)),g+="/Colors ".concat(k," /BitsPerComponent ").concat(f," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:t,index:e,filter:p,decodeParameters:g,transparency:Y,palette:V,sMask:m,predictor:Q,width:s,height:o,bitsPerComponent:f,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new Pce(e),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},f=new Y4(100).encode(c,100);return t.processJPEG.call(this,f,r,n,i)},t.processGIF87A=t.processGIF89A})(yr.API),vc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ci.log("bit decode error:"+r)}},vc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},vc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},vc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},vc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,l=(a>>10&e)/e*255|0,c=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=s,this.data[f+3]=c}this.pos+=t}},vc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,f=i*this.width*4+4*a;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=255}this.pos+=t}},vc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},vc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},vc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new vc(e,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Y4(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(yr.API),jS.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new jS(e),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new Y4(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(yr.API),yr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var f=n[c],p=n[c+1],g=n[c+2],m=n[c+3];a[o++]=f,a[o++]=p,a[o++]=g,s[l++]=m}var y=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},t1=yr.API,_x=t1.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=c.fof?c.fof:1,p=e.doKerning!==!1,g=0,m=t.length,y=0,w=o[0]||l,k=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(g=p&&Xn(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/f:0,k.push((o[n]||w)/l+g)),y=n;return k},SS=t1.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return t1.processArabic&&(t=t1.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:_x.apply(this,arguments).reduce(function(a,s){return a+s},0)},CS=function(t,e,r,n){for(var i=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<r;)o+=e[a],a++;i.push(t.slice(0,a));var l=a;for(o=0;a!==s;)o+e[a]>n&&(i.push(t.slice(l,a)),o=0,l=a),o+=e[a],a++;return l!==a&&i.push(t.slice(l,a)),i},NS=function(t,e,r){r||(r={});var n,i,a,s,o,l,c,f=[],p=[f],g=r.textIndent||0,m=0,y=0,w=t.split(" "),k=_x.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var N=Array(l).join(" "),L=[];w.map(function(V){(V=V.split(/\s*\n/)).length>1?L=L.concat(V.map(function(Y,Q){return(Q&&Y.length?`
`:"")+Y})):L.push(V[0])}),w=L,l=SS.apply(this,[N,r])}for(a=0,s=w.length;a<s;a++){var P=0;if(n=w[a],l&&n[0]==`
`&&(n=n.substr(1),P=1),g+m+(y=(i=_x.apply(this,[n,r])).reduce(function(V,Y){return V+Y},0))>e||P){if(y>e){for(o=CS.apply(this,[n,i,e-(g+m),e]),f.push(o.shift()),f=[o.pop()];o.length;)p.push([o.shift()]);y=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(V,Y){return V+Y},0)}else f=[n];p.push(f),g=y+l,m=k}else f.push(n),g+=m+y,m=k}return c=l?function(V,Y){return(Y?N:"")+V.join(" ")}:function(V){return V.join(" ")},p.map(c)},t1.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(NS.apply(this,[n[o],s,a]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var s=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var m,y,w,k,N=["{"];for(var L in g){if(m=g[L],isNaN(parseInt(L,10))?y="'"+L+"'":(L=parseInt(L,10),y=(y=s(L).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof m=="number")m<0?(w=s(m).slice(3),k="-"):(w=s(m).slice(2),k=""),w=k+w.slice(0,-1)+i[w.slice(-1)];else{if(Xn(m)!=="object")throw new Error("Don't know what to do with value type "+Xn(m)+".");w=o(m)}N.push(y+w)}return N.push("}"),N.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,w,k,N={},L=1,P=N,V=[],Y="",Q="",R=g.length-1,T=1;T<R;T+=1)(k=g[T])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(k):k=="{"?(V.push([P,w]),P={},w=void 0):k=="}"?((y=V.pop())[0][y[1]]=P,w=void 0,P=y[0]):k=="-"?L=-1:w===void 0?n.hasOwnProperty(k)?(Y+=n[k],w=parseInt(Y,16)*L,L=1,Y=""):Y+=k:n.hasOwnProperty(k)?(Q+=n[k],P[w]=parseInt(Q,16)*L,L=1,w=void 0,Q=""):Q+=k;return N},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var m=g.font,y=p.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var w=f.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])})(yr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Hx(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(yr),yr.API.addSvgAsImage=function(t,e,r,n,i,a,s,o){if(isNaN(e)||isNaN(r))throw ci.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ci.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Or.canvg?Promise.resolve(Or.canvg):Yu(()=>import("./index.es-B3IvzKYm.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,o)})},yr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},yr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,f=0,p=0;function g(y,w){var k,N=!1;for(k=0;k<y.length;k+=1)y[k]===w&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Xn(t)==="object"){for(i in t)if(a=t[i],g(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&g(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(f=0;f<a[c].length;f+=1)typeof a[c][f]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?w.push("/"+y+" /"+r[y].value):w.push("/"+y+" "+r[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(yr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],p=0,g=a.length;p<g;++p){if(o=s.metadata.characterToGlyph(a.charCodeAt(p)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(c[4-o.length],o)}return f.join("")},n=function(a){var s,o,l,c,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(o=Object.keys(a).sort(function(m,y){return m-y})).length;p<g;p++)s=o[p],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,f=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",y=0;y<g.length;y++)m+=String.fromCharCode(g[y]);var w=c();f({data:m,addLength1:!0,objectId:w}),l("endobj");var k=c();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var N=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+u1(o.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var L=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+u1(o.fontName)),l("/FontDescriptor "+N+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+u1(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+L+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,f=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var y=c();f({data:g,addLength1:!0,objectId:y}),l("endobj");var w=c();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var k=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+u1(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var N=0;N<o.metadata.hmtx.widths.length;N++)o.metadata.hmtx.widths[N]=parseInt(o.metadata.hmtx.widths[N]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+u1(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,f=a.options||{},p=a.mutex||{},g=p.pdfEscape,m=p.activeFontKey,y=p.fonts,w=m,k="",N=0,L="",P=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:o,x:l,y:c,options:f,mutex:p};for(L=o,w=m,Array.isArray(o)&&(L=o[0]),N=0;N<L.length;N+=1)y[w].metadata.hasOwnProperty("cmap")&&(s=y[w].metadata.cmap.unicode.codeMap[L[N].charCodeAt(0)]),s||L[N].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?k+=L[N]:k+="";var V="";return parseInt(w.slice(1))<14||P==="WinAnsiEncoding"?V=g(k,w).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(V=r(k,y[w])),p.isHex=!0,{text:V,x:l,y:c,options:f,mutex:p}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])})(yr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(yr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,f,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,P=0;this.__bidiEngine__={};var V=function(A){var F=A.charCodeAt(),M=F>>8,re=w[M];return re!==void 0?p[256*re+(255&F)]:M===252||M===253?"AL":N.test(M)?"L":M===8?"R":"N"},Y=function(A){for(var F,M=0;M<A.length;M++){if((F=V(A.charAt(M)))==="L")return!1;if(F==="R")return!0}return!1},Q=function(A,F,M,re){var pe,_e,xe,oe,G=F[re];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(G="AN");break;case"AL":L=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":re<1||re+1>=F.length||(pe=M[re-1])!=="EN"&&pe!=="AN"||(_e=F[re+1])!=="EN"&&_e!=="AN"?G="N":L&&(_e="AN"),G=_e===pe?_e:"N";break;case"ES":G=(pe=re>0?M[re-1]:"B")==="EN"&&re+1<F.length&&F[re+1]==="EN"?"EN":"N";break;case"ET":if(re>0&&M[re-1]==="EN"){G="EN";break}if(L){G="N";break}for(xe=re+1,oe=F.length;xe<oe&&F[xe]==="ET";)xe++;G=xe<oe&&F[xe]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(oe=F.length,xe=re+1;xe<oe&&F[xe]==="NSM";)xe++;if(xe<oe){var fe=A[re],X=fe>=1425&&fe<=2303||fe===64286;if(pe=F[xe],X&&(pe==="R"||pe==="AL")){G="R";break}}}G=re<1||(pe=F[re-1])==="B"?"N":M[re-1];break;case"B":L=!1,i=!0,G=P;break;case"S":a=!0,G="N"}return G},R=function(A,F,M){var re=A.split("");return M&&T(re,M,{hiLevel:P}),re.reverse(),F&&F.reverse(),re.join("")},T=function(A,F,M){var re,pe,_e,xe,oe,G=-1,fe=A.length,X=0,I=[],q=P?m:g,W=[];for(L=!1,i=!1,a=!1,pe=0;pe<fe;pe++)W[pe]=V(A[pe]);for(_e=0;_e<fe;_e++){if(oe=X,I[_e]=Q(A,W,I,_e),re=240&(X=q[oe][y[I[_e]]]),X&=15,F[_e]=xe=q[X][5],re>0)if(re===16){for(pe=G;pe<_e;pe++)F[pe]=1;G=-1}else G=-1;if(q[X][6])G===-1&&(G=_e);else if(G>-1){for(pe=G;pe<_e;pe++)F[pe]=xe;G=-1}W[_e]==="B"&&(F[_e]=0),M.hiLevel|=xe}a&&(function(J,ce,ve){for(var Ee=0;Ee<ve;Ee++)if(J[Ee]==="S"){ce[Ee]=P;for(var le=Ee-1;le>=0&&J[le]==="WS";le--)ce[le]=P}})(W,F,fe)},S=function(A,F,M,re,pe){if(!(pe.hiLevel<A)){if(A===1&&P===1&&!i)return F.reverse(),void(M&&M.reverse());for(var _e,xe,oe,G,fe=F.length,X=0;X<fe;){if(re[X]>=A){for(oe=X+1;oe<fe&&re[oe]>=A;)oe++;for(G=X,xe=oe-1;G<xe;G++,xe--)_e=F[G],F[G]=F[xe],F[xe]=_e,M&&(_e=M[G],M[G]=M[xe],M[xe]=_e);X=oe}X++}}},j=function(A,F,M){var re=A.split(""),pe={hiLevel:P};return M||(M=[]),T(re,M,pe),(function(_e,xe,oe){if(oe.hiLevel!==0&&f)for(var G,fe=0;fe<_e.length;fe++)xe[fe]===1&&(G=k.indexOf(_e[fe]))>=0&&(_e[fe]=k[G+1])})(re,M,pe),S(2,re,F,M,pe),S(1,re,F,M,pe),re.join("")};return this.__bidiEngine__.doBidiReorder=function(A,F,M){if((function(pe,_e){if(_e)for(var xe=0;xe<pe.length;xe++)_e[xe]=xe;o===void 0&&(o=Y(pe)),c===void 0&&(c=Y(pe))})(A,F),s||!l||c)if(s&&l&&o^c)P=o?1:0,A=R(A,F,M);else if(!s&&l&&c)P=o?1:0,A=j(A,F,M),A=R(A,F);else if(!s||o||l||c){if(s&&!l&&o^c)A=R(A,F),o?(P=0,A=j(A,F,M)):(P=1,A=j(A,F,M),A=R(A,F));else if(s&&o&&!l&&c)P=1,A=j(A,F,M),A=R(A,F);else if(!s&&!l&&o^c){var re=f;o?(P=1,A=j(A,F,M),P=0,f=!1,A=j(A,F,M),f=re):(P=0,A=j(A,F,M),A=R(A,F),P=1,f=!1,A=j(A,F,M),f=re,A=R(A,F))}}else P=0,A=j(A,F,M);else P=o?1:0,A=j(A,F,M);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,l=A.isOutputVisual,o=A.isInputRtl,c=A.isOutputRtl,f=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(yr),yr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new If(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Wce(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Rce(this.contents),this.head=new Lce(this),this.name=new Bce(this),this.cmap=new RL(this),this.toUnicode={},this.hhea=new jce(this),this.maxp=new Vce(this),this.hmtx=new Uce(this),this.post=new Oce(this),this.os2=new Dce(this),this.loca=new Hce(this),this.glyf=new zce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Pc,If=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,s,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),Rce=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,s,o,l,c,f,p,g,m,y,w;for(w in m=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),s=Math.floor(p/l),f=16*m-p,(i=new If).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(s),i.writeShort(f),a=16*m,c=i.pos+a,o=null,y=[],r)for(g=r[w],i.writeString(w),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),y=y.concat(g),w==="head"&&(o=c),c+=g.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,s;for(r=FL.call(r);r.length%4;)r.push(0);for(a=new If(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),Fce={}.hasOwnProperty,yu=function(t,e){for(var r in e)Fce.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Pc=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Lce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new If).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),DS=(function(){function t(e,r){var n,i,a,s,o,l,c,f,p,g,m,y,w,k,N,L,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,a=(function(){var V,Y;for(Y=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)Y.push(e.readUInt16());return Y})(),e.pos+=2,w=(function(){var V,Y;for(Y=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)Y.push(e.readUInt16());return Y})(),c=(function(){var V,Y;for(Y=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)Y.push(e.readUInt16());return Y})(),f=(function(){var V,Y;for(Y=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)Y.push(e.readUInt16());return Y})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var V,Y;for(Y=[],l=V=0;0<=i?V<i:V>i;l=0<=i?++V:--V)Y.push(e.readUInt16());return Y})(),l=N=0,P=a.length;N<P;l=++N)for(k=a[l],n=L=y=w[l];y<=k?L<=k:L>=k;n=y<=k?++L:--L)f[l]===0?s=n+c[l]:(s=o[f[l]/2+(n-y)-(g-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=p}return t.encode=function(e,r){var n,i,a,s,o,l,c,f,p,g,m,y,w,k,N,L,P,V,Y,Q,R,T,S,j,A,F,M,re,pe,_e,xe,oe,G,fe,X,I,q,W,J,ce,ve,Ee,le,be,Le,ae;switch(re=new If,s=Object.keys(e).sort(function(je,Pe){return je-Pe}),r){case"macroman":for(w=0,k=(function(){var je=[];for(y=0;y<256;++y)je.push(0);return je})(),L={0:0},a={},pe=0,G=s.length;pe<G;pe++)L[le=e[i=s[pe]]]==null&&(L[le]=++w),a[i]={old:e[i],new:L[e[i]]},k[i]=L[e[i]];return re.writeUInt16(1),re.writeUInt16(0),re.writeUInt32(12),re.writeUInt16(0),re.writeUInt16(262),re.writeUInt16(0),re.write(k),{charMap:a,subtable:re.data,maxGlyphID:w+1};case"unicode":for(F=[],p=[],P=0,L={},n={},N=c=null,_e=0,fe=s.length;_e<fe;_e++)L[Y=e[i=s[_e]]]==null&&(L[Y]=++P),n[i]={old:Y,new:L[Y]},o=L[Y]-i,N!=null&&o===c||(N&&p.push(N),F.push(i),c=o),N=i;for(N&&p.push(N),p.push(65535),F.push(65535),j=2*(S=F.length),T=2*Math.pow(Math.log(S)/Math.LN2,2),g=Math.log(T/2)/Math.LN2,R=2*S-T,l=[],Q=[],m=[],y=xe=0,X=F.length;xe<X;y=++xe){if(A=F[y],f=p[y],A===65535){l.push(0),Q.push(0);break}if(A-(M=n[A].new)>=32768)for(l.push(0),Q.push(2*(m.length+S-y)),i=oe=A;A<=f?oe<=f:oe>=f;i=A<=f?++oe:--oe)m.push(n[i].new);else l.push(M-A),Q.push(0)}for(re.writeUInt16(3),re.writeUInt16(1),re.writeUInt32(12),re.writeUInt16(4),re.writeUInt16(16+8*S+2*m.length),re.writeUInt16(0),re.writeUInt16(j),re.writeUInt16(T),re.writeUInt16(g),re.writeUInt16(R),ve=0,I=p.length;ve<I;ve++)i=p[ve],re.writeUInt16(i);for(re.writeUInt16(0),Ee=0,q=F.length;Ee<q;Ee++)i=F[Ee],re.writeUInt16(i);for(be=0,W=l.length;be<W;be++)o=l[be],re.writeUInt16(o);for(Le=0,J=Q.length;Le<J;Le++)V=Q[Le],re.writeUInt16(V);for(ae=0,ce=m.length;ae<ce;ae++)w=m[ae],re.writeUInt16(w);return{charMap:n,subtable:re.data,maxGlyphID:P+1}}},t})(),RL=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new DS(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=DS.encode(e,r),(i=new If).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),jce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Dce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Oce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t})(),Mce=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Bce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,s,o,l,c,f,p,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},a=f=0,p=n.length;f<p;a=++f)i=n[a],e.pos=i.offset,c=e.readString(i.length),s=new Mce(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),Vce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Uce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,s,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,f;for(f=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)f.push(e.readInt16());return f})(),this.widths=(function(){var c,f,p,g;for(g=[],c=0,f=(p=this.metrics).length;c<f;c++)a=p[c],g.push(a.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),FL=[].slice,zce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,s,o,l,c,f,p;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(o=new If(r.read(i))).readShort(),c=o.readShort(),p=o.readShort(),l=o.readShort(),f=o.readShort(),this.cache[e]=s===-1?new qce(o,c,p,l,f):new $ce(o,s,c,p,l,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=e[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},t})(),$ce=(function(){function t(e,r,n,i,a,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),qce=(function(){function t(e,r,n,i,a){var s,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new If(FL.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Hce=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yu(t,Pc),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),f=0;f<n.length;++f)c[4*f+3]=255&n[f],c[4*f+2]=(65280&n[f])>>8,c[4*f+1]=(16711680&n[f])>>16,c[4*f]=(4278190080&n[f])>>24;return c},t})(),Wce=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,s,o,l;for(i={},s=0,o=e.length;s<o;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,s,o,l,c,f,p,g,m,y,w,k,N;for(i in n=RL.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),m={0:0},N=n.charMap)m[(l=N[i]).old]=l.new;for(y in g=n.maxGlyphID,s)y in m||(m[y]=g++);return f=(function(L){var P,V;for(P in V={},L)V[L[P]]=P;return V})(m),p=Object.keys(f).sort(function(L,P){return L-P}),w=(function(){var L,P,V;for(V=[],L=0,P=p.length;L<P;L++)o=p[L],V.push(f[o]);return V})(),a=this.font.glyf.encode(s,w,m),c=this.font.loca.encode(a.offsets,w),k={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t})();yr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+(function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+r},e})();function LL(t,e,r,n,i){n=n||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,c=o*l,f=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(f):t,g=p.length||1),r+=o*(2-a),n.valign==="middle"?r-=g/2*c:n.valign==="bottom"&&(r-=g*c),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),p&&g>=1){for(var y=0;y<p.length;y++)i.text(p[y],e-i.getStringUnitWidth(p[y])*m,r),r+=c;return i}e-=i.getStringUnitWidth(t)*m}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var OS={},T1=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:OS=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,a;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(a=this.jsPDFDocument).setDrawColor.apply(a,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,a){return this.jsPDFDocument.rect(e,r,n,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return OS||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),Sw=function(t,e){return Sw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Sw(t,e)};function jL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sw(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var DL=(function(t){jL(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function Gce(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Kce(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Hv(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function OL(t,e,r,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var s=ML(i,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function ML(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function qy(t,e){var r,n,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function BL(t,e){var r=qy(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Xce(t,e,r,n,i){var a={},s=1.3333333333333333,o=Q4(e,function(P){return i.getComputedStyle(P).backgroundColor});o!=null&&(a.fillColor=o);var l=Q4(e,function(P){return i.getComputedStyle(P).color});l!=null&&(a.textColor=l);var c=Qce(n,r);c&&(a.cellPadding=c);var f="borderTopColor",p=s*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(a.lineWidth=m)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?f="borderRightColor":a.lineWidth.bottom?f="borderBottomColor":a.lineWidth.left&&(f="borderLeftColor"));var y=Q4(e,function(P){return i.getComputedStyle(P)[f]});y!=null&&(a.lineColor=y);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var k=parseInt(n.fontSize||"");isNaN(k)||(a.fontSize=k/s);var N=Yce(n);N&&(a.fontStyle=N);var L=(n.fontFamily||"").toLowerCase();return t.indexOf(L)!==-1&&(a.font=L),a}function Yce(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Q4(t,e){var r=VL(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function VL(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:VL(t.parentElement,e):r}function Qce(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=r.map(function(o){return parseInt(o||"0")/n}),s=qy(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function UL(t,e,r,n,i){var a,s;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),f=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:g};for(var m=0;m<o.rows.length;m++){var y=o.rows[m],w=(s=(a=y?.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),k=Jce(l,c,r,y,n,i);k&&(w==="thead"?f.push(k):w==="tfoot"?g.push(k):p.push(k))}return{head:f,body:p,foot:g}}function Jce(t,e,r,n,i,a){for(var s=new DL(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(i||c.display!=="none"){var f=void 0;a&&(f=Xce(t,l,e,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:f,_element:l,content:Zce(l)})}}var p=r.getComputedStyle(n);if(s.length>0&&(i||p.display!=="none"))return s}function Zce(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function eue(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Gu(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function zL(t,e){var r=new T1(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();eue(i,n,e);var a=Gu({},i,n,e),s;typeof window<"u"&&(s=window);var o=tue(i,n,e),l=rue(i,n,e),c=nue(r,a),f=aue(r,a,s);return{id:e.tableId,content:f,hooks:l,styles:o,settings:c}}function tue(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],f=e[l],p=r[l];n.columnStyles=Gu({},c,f,p)}else{var g=[t,e,r],m=g.map(function(y){return y[l]||{}});n[l]=Gu({},m[0],m[1],m[2])}},a=0,s=Object.keys(n);a<s.length;a++){var o=s[a];i(o)}return n}function rue(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=n;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function nue(t,e){var r,n,i,a,s,o,l,c,f,p,g,m,y=qy(e.margin,40/t.scaleFactor()),w=(r=iue(t,e.startY))!==null&&r!==void 0?r:y.top,k;e.showFoot===!0?k="everyPage":e.showFoot===!1?k="never":k=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var N;e.showHead===!0?N="everyPage":e.showHead===!1?N="never":N=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var L=(a=e.useCss)!==null&&a!==void 0?a:!1,P=e.theme||(L?"plain":"striped"),V=!!e.horizontalPageBreak,Y=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:L,theme:P,startY:w,margin:y,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:N,showFoot:k,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:V,horizontalPageBreakRepeat:Y,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function iue(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),a=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;a=s===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&r?.finalY!=null?r.finalY+20/n:null}function aue(t,e,r){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var o=UL(t,e.html,r,s,e.useCss)||{};n=o.head||n,i=o.body||n,a=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||sue(n,i,a);return{columns:l,head:n,body:i,foot:a}}function sue(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(n)?o=n[parseInt(a)]:o=n[a],typeof o=="object"&&!Array.isArray(o)&&(s=o?.colSpan||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=i.length:c=a+(l>0?"_".concat(l):"");var f={dataKey:c};i.push(f)}}),i}var Cw=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),oue=(function(t){jL(e,t);function e(r,n,i,a,s,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return e})(Cw),lue=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,a,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],f=new oue(e,this,n,i,a,s),p=c(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new Cw(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new Cw(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),$L=(function(){function t(e,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof DL&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,a){var s=n.cells[a.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>i?c:i},0)},t})(),qL=(function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=qy(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),cue=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t})();function uue(t,e){due(t,e);var r=[],n=0;e.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(e);s?a.width=s:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=Nw(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=Nw(r,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),hue(e),pue(e,t),fue(e)}function due(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=BL(t,e);e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){var f=e.hooks.didParseCell;e.callCellHooks(t,f,c,a,l,null);var p=c.padding("horizontal");c.contentWidth=Hv(c.text,c.styles,t)+p;var g=Hv(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=g+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var m=10/r;c.minWidth=c.styles.minCellWidth||m,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(a){for(var s=0,o=e.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var f=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function Nw(t,e,r){for(var n=e,i=t.reduce(function(m,y){return m+y.wrappedWidth},0),a=0;a<t.length;a++){var s=t[a],o=s.wrappedWidth/i,l=n*o,c=s.width+l,f=r(s),p=c<f?f:c;e-=p-s.width,s.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(m){return e<0?m.width>r(m):!0});g.length&&(e=Nw(g,e,r))}return e}function fue(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var a=n[i],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=e[l.index];if(r>1)r--,delete a.cells[l.index];else if(c)c.cell.height+=a.height,r=c.cell.colSpan,delete a.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var f=a.cells[l.index];if(!f)continue;if(f.height=a.height,f.rowSpan>1){var p=n.length-i,g=f.rowSpan>p?p:f.rowSpan;e[l.index]={cell:f,left:g,row:a}}}}}function hue(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,a=0,s=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(s-=1,s>1&&t.columns[o+1])a+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+a}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,a=0,c.colSpan>1){i=c,a+=l.width;continue}c.width=l.width+a}}}function pue(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var a=i[n],s=0,o=t.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){e.applyStyles(c.styles,!0);var f=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,f+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=MS(c.text,f,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=MS(c.text,f,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var p=c.styles.overflow(c.text,f);typeof p=="string"?c.text=[p]:c.text=p}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<g*c.rowSpan?r={height:g,count:c.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>a.height&&(a.height=g)}}r.count--}}function MS(t,e,r,n,i){return t.map(function(a){return mue(a,e,r,n,i)})}function mue(t,e,r,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=Hv(t,r,n))return t;for(;e<Hv(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function HL(t,e){var r=new T1(t),n=gue(e,r.scaleFactor()),i=new lue(e,n);return uue(r,i),r.applyStyles(r.userStyles),i}function gue(t,e){var r=t.content,n=vue(r.columns);if(r.head.length===0){var i=BS(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=BS(n,"foot");i&&r.foot.push(i)}var a=t.settings.theme,s=t.styles;return{columns:n,head:J4("head",r.head,n,s,a,e),body:J4("body",r.body,n,s,a,e),foot:J4("foot",r.foot,n,s,a,e)}}function J4(t,e,r,n,i,a){var s={},o=e.map(function(l,c){for(var f=0,p={},g=0,m=0,y=0,w=r;y<w.length;y++){var k=w[y];if(s[k.index]==null||s[k.index].left===0)if(m===0){var N=void 0;Array.isArray(l)?N=l[k.index-g-f]:N=l[k.dataKey];var L={};typeof N=="object"&&!Array.isArray(N)&&(L=N?.styles||{});var P=yue(t,k,c,i,n,a,L),V=new qL(N,P,t);p[k.dataKey]=V,p[k.index]=V,m=V.colSpan-1,s[k.index]={left:V.rowSpan-1,times:m}}else m--,g++;else s[k.index].left--,m=s[k.index].times,f++}return new $L(l,c,t,p)});return o}function BS(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=xue(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function xue(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function vue(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new cue(i,e,r)})}function yue(t,e,r,n,i,a,s){var o=Kce(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=Gu({},o.table,o[t],i.styles,l),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?f:{},g=t==="body"&&r%2===0?Gu({},o.alternateRow,i.alternateRowStyles):{},m=Gce(a),y=Gu({},m,c,g,p);return Gu(y,s)}function wue(t,e,r){var n;r===void 0&&(r={});var i=BL(t,e),a=new Map,s=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var m=e.columns.find(function(y){return y.dataKey===g||y.index===g});m&&!a.has(m.index)&&(a.set(m.index,!0),s.push(m.index),o.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var c=!0,f=(n=r?.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(a.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(c||i>=p)c=!1,s.push(f),o.push(e.columns[f]),i-=p;else break;f++}return{colIndexes:s,columns:o,lastIndex:f-1}}function _ue(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=wue(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function WL(t,e){var r=e.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+s;if(r.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(g,m){return g+m.height},0);o+=c}var f=new T1(t);(r.pageBreak==="always"||r.startY!=null&&o>f.pageSize().height)&&(KL(f),a.y=i.top),e.callWillDrawPageHooks(f,a);var p=Gu({},a);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?bue(f,e,p,a):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return od(f,e,g,a,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(g,m){var y=m===e.body.length-1;Wv(f,e,g,y,p,a,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return od(f,e,g,a,e.columns)})),OL(f,e,p,a),e.callEndPageHooks(f,a),e.finalY=a.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function bue(t,e,r,n){var i=_ue(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,f){t.applyStyles(t.userStyles),f>0?Um(t,e,r,n,c.columns,!0):VS(t,e,n,c.columns),kue(t,e,r,n,c.columns),Z4(t,e,n,c.columns)});else for(var s=-1,o=i[0],l=function(){var c=s;if(o){t.applyStyles(t.userStyles);var f=o.columns;s>=0?Um(t,e,r,n,f,!0):VS(t,e,n,f),c=US(t,e,s+1,n,f),Z4(t,e,n,f)}var p=c-s;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Um(t,e,r,n,g.columns,!0),US(t,e,s+1,n,g.columns,p),Z4(t,e,n,g.columns)}),s=c};s<e.body.length-1;)l()}function VS(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return od(t,e,a,r,n)})}function kue(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,s){var o=s===e.body.length-1;Wv(t,e,a,o,r,n,i)})}function US(t,e,r,n,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var s=Math.min(r+a,e.body.length),o=-1;return e.body.slice(r,s).forEach(function(l,c){var f=r+c===e.body.length-1,p=GL(t,e,f,n);l.canEntireRowFit(p,i)&&(od(t,e,l,n,i),o=r+c)}),o}function Z4(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return od(t,e,a,r,n)})}function Eue(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function Sue(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var f=new qL(c.raw,c.styles,c.section);f=Gu(f,c),f.text=[];var p=Eue(c,e,n);c.text.length>p&&(f.text=c.text.splice(p,c.text.length));var g=n.scaleFactor(),m=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(g,m),c.contentHeight>=e&&(c.contentHeight=e,f.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),f.contentHeight=f.getContentHeight(g,m),f.contentHeight>a&&(a=f.contentHeight),i[l.index]=f}}var y=new $L(t.raw,-1,t.section,i,!0);y.height=a;for(var w=0,k=r.columns;w<k.length;w++){var l=k[w],f=y.cells[l.index];f&&(f.height=y.height);var c=t.cells[l.index];c&&(c.height=t.height)}return y}function Cue(t,e,r,n){var i=t.pageSize().height,a=n.settings.margin,s=a.top+a.bottom,o=i-s;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var f=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function Wv(t,e,r,n,i,a,s){var o=GL(t,e,n,a);if(r.canEntireRowFit(o,s))od(t,e,r,a,s);else if(Cue(t,r,o,e)){var l=Sue(r,o,e,t);od(t,e,r,a,s),Um(t,e,i,a,s),Wv(t,e,l,n,i,a,s)}else Um(t,e,i,a,s),Wv(t,e,r,n,i,a,s)}function od(t,e,r,n,i){n.x=e.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}Nue(t,l,n);var f=l.getTextPos();LL(l.text,f.x,f.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function Nue(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=ML(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),Aue(t,e,r,n.lineWidth))}function Aue(t,e,r,n){var i,a,s,o;n.top&&(i=r.x,a=r.y,s=r.x+e.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,a,s,o)),n.bottom&&(i=r.x,a=r.y+e.height,s=r.x+e.width,o=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,a,s,o)),n.left&&(i=r.x,a=r.y,s=r.x,o=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,a,s,o)),n.right&&(i=r.x+e.width,a=r.y,s=r.x+e.width,o=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,a,s,o));function l(c,f,p,g,m){t.getDocument().setLineWidth(c),t.getDocument().line(f,p,g,m,"S")}}function GL(t,e,r,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Um(t,e,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(o){return od(t,e,o,n,i)}),e.callEndPageHooks(t,n);var s=e.settings.margin;OL(t,e,r,n),KL(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return od(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function KL(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Tue(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=zL(this,n),a=HL(this,i);return WL(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){LL(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return T1.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){T1.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new T1(this),a=UL(i,e,window,r,!1),s=a.head,o=a.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var e3;function zS(t,e){var r=zL(t,e),n=HL(t,r);WL(t,n)}try{if(typeof window<"u"&&window){var $S=window,qS=$S.jsPDF||((e3=$S.jspdf)===null||e3===void 0?void 0:e3.jsPDF);qS&&Tue(qS)}}catch(t){console.error("Could not apply autoTable plugin",t)}async function Iue(t){const e=new yr;e.setFont("helvetica","normal"),e.setFontSize(16),e.text("Pharmacy Profile Report",20,20),e.setFontSize(12),e.text(`Name: ${t?.displayName||"Pharmacy"}`,20,35),e.text(`Email: ${t?.email||""}`,20,45);const r=await aa(doc(gt,"pharmacies",t.uid)),n=r.exists()?r.data():{};e.text(`Address: ${n.address||""}`,20,55),e.text(`Phone: ${n.phone||""}`,20,65);const a=(await jn(Nr(ur(gt,"products"),$r("pharmacyId","==",t.uid)))).docs.map(c=>({id:c.id,...c.data()}));zS(e,{startY:75,head:[["Product Name","Category","Stock","SKU","Price"]],body:a.map(c=>[c.name,c.category,c.stock,c.sku,`₦${Number(c.price).toLocaleString()}`]),theme:"striped",headStyles:{fillColor:[54,165,255]},styles:{fontSize:10}});const o=(await jn(Nr(ur(gt,"orders"),$r("pharmacyId","==",t.uid)))).docs.map(c=>({id:c.id,...c.data()}));let l=e.lastAutoTable?e.lastAutoTable.finalY+10:100;e.setFontSize(14),e.text("Orders",20,l),l+=6,zS(e,{startY:l,head:[["Order ID","Date","Total","Items"]],body:o.map(c=>[c.id.slice(0,8),c.createdAt?.toDate?.().toLocaleString?.()||"",`₦${Number(c.total).toLocaleString()}`,(c.items||[]).map(f=>`${f.name||f.productId} x${f.qty||f.quantity||1}`).join(", ")]),theme:"striped",headStyles:{fillColor:[54,165,255]},styles:{fontSize:9}}),e.save("pharmacy-profile-report.pdf")}const Pue=({title:t,searchValue:e,onSearchChange:r,onSearchSubmit:n,onSettingsClick:i})=>{const{t:a}=Na();return la.createPortal(d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:d.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h1",{className:"mt-8 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:a("pharmacy_profile",`Pharmacy
Profile`).replace("\\n",`
`)}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"hidden sm:flex items-center border-b px-2 py-1 w-[min(420px,40vw)] max-w-[520px]",children:[d.jsx("input",{value:e,onChange:r,onKeyDown:s=>{s.key==="Enter"&&n()},placeholder:"Search products, orders, customers...",className:"flex-1 text-sm font-light outline-none truncate","aria-label":"Search products or orders"}),d.jsx("button",{onClick:n,"aria-label":"Search",className:"ml-2 rounded-full p-2 text-sky-600",children:d.jsx(ad,{className:"h-4 w-4"})})]}),d.jsx("button",{onClick:n,"aria-label":"Open search",className:"ml-2 rounded-full p-2 hover:bg-sky-50 sm:hidden",children:d.jsx(ad,{className:"h-5 w-5 text-sky-600"})}),d.jsx("button",{onClick:i,"aria-label":"Open settings",className:"ml-2 rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:d.jsx(Nv,{className:"h-5 w-5 text-sky-600"})})]})]})})}),document.body)};function XL({onSwitchToCustomer:t}){const{user:e,logout:r,profile:n}=Pn(),{t:i}=Na(),[a,s]=B.useState([]),[o,l]=B.useState(!1),[c,f]=B.useState(!1),[p,g]=B.useState(0),[m,y]=B.useState(0),[w,k]=B.useState(0),[N,L]=B.useState(null),[P,V]=B.useState(""),[Y,Q]=B.useState(""),[R,T]=B.useState(""),[S,j]=B.useState(""),[A,F]=B.useState(""),[M,re]=B.useState(""),[pe,_e]=B.useState(null),[xe,oe]=B.useState(!1),[G,fe]=B.useState(!1),[X,I]=B.useState(!1),[q,W]=B.useState(new Set),[J,ce]=B.useState({displayName:e?.displayName||"Pharmacy",address:"",phone:"",email:e?.email||""}),[ve,Ee]=B.useState(""),[le,be]=B.useState(""),[Le,ae]=B.useState(!1),[je,Pe]=B.useState("products");B.useEffect(()=>{e&&e.role==="pharmacy"&&Pe("all")},[e]);const[de,Me]=B.useState(null),[Be,et]=B.useState([]),[ne,De]=B.useState(null),[Ke,mt]=B.useState(null),[Et,Re]=B.useState(null),qe=40;function Ge(He){if(!He)return null;if(He.latitude&&He.longitude)return{lat:Number(He.latitude),lng:Number(He.longitude)};if(He.lat&&He.lng)return{lat:Number(He.lat),lng:Number(He.lng)};if(He.lat&&He.lon)return{lat:Number(He.lat),lng:Number(He.lon)};if(He.location&&typeof He.location=="object"){if(He.location.lat&&He.location.lng)return{lat:Number(He.location.lat),lng:Number(He.location.lng)};if(He.location.latitude&&He.location.longitude)return{lat:Number(He.location.latitude),lng:Number(He.location.longitude)}}if(He.coords&&typeof He.coords=="object"){if(He.coords.latitude&&He.coords.longitude)return{lat:Number(He.coords.latitude),lng:Number(He.coords.longitude)};if(He.coords.lat&&He.coords.lng)return{lat:Number(He.coords.lat),lng:Number(He.coords.lng)}}return null}function dt(He,Ot){if(!He||!Ot)return null;const hr=Kr=>Kr*Math.PI/180,Zt=6371,Qt=hr(Ot.lat-He.lat),Wt=hr(Ot.lng-He.lng),br=hr(He.lat),Dn=hr(Ot.lat),jr=Math.sin(Qt/2),Cn=Math.sin(Wt/2),mn=jr*jr+Math.cos(br)*Math.cos(Dn)*Cn*Cn,ir=2*Math.atan2(Math.sqrt(mn),Math.sqrt(1-mn));return Zt*ir}function Nt(He,Ot){if(He==null||Ot==null||Ot<=0)return null;const hr=He/Ot,Zt=Math.round(hr*60);if(Zt<60)return`${Zt} min`;const Qt=Math.floor(Zt/60),Wt=Zt%60;return`${Qt}h ${Wt}m`}B.useEffect(()=>{if(Ke||!("geolocation"in navigator))return;let He=!0;return navigator.geolocation.getCurrentPosition(Ot=>{He&&mt({lat:Ot.coords.latitude,lng:Ot.coords.longitude})},Ot=>{console.debug("[ProfilePharmacy] geolocation error",Ot)},{enableHighAccuracy:!1,timeout:1e4}),()=>{He=!1}},[]),B.useEffect(()=>{if(!ne)return Re(null);const He=Ge(ne.data);if(!He){Re(null);return}let Ot=Ke||null;if(!Ot&&ne&&ne.source==="users"){const Qt=Ge(ne.data);Qt&&(Ot=Qt)}if(!Ot){Re(null);return}const hr=dt(Ot,He);if(hr==null){Re(null);return}const Zt=Nt(hr,qe);Re({distanceKm:hr,eta:Zt,speedKmh:qe,pharmCoords:He,custCoords:Ot})},[ne,Ke]);const It=Ni();B.useEffect(()=>{const He=n?.uid||e?.uid;if(He)return Ty(s,He)},[n,e]),B.useEffect(()=>{const He=n?.uid||e?.uid;if(!He)return;jn(Nr(ur(gt,"orders"),$r("pharmacyId","==",He))).then(jr=>{let Cn=0;jr.forEach(mn=>{const ir=mn.data();Cn+=(ir.items||[]).reduce((Kr,vi)=>Kr+(vi.count||vi.qty||vi.quantity||1),0)}),g(Cn)}).catch(()=>{}),jn(Nr(ur(gt,"threads"),$r("vendorId","==",He))).then(jr=>{y(jr.size)}).catch(()=>{}),jn(Nr(ur(gt,"reviews"),$r("pharmacyId","==",He))).then(jr=>{k(jr.size)}).catch(()=>{});const Ot=or(gt,"pharmacies",He),hr=or(gt,"users",He);let Zt=null,Qt=null;const Wt=()=>{const jr=Cn=>{if(!Cn)return"";const mn=String(Cn).trim();return!mn||mn.includes("@")||mn.replace(/\D/g,"").length<6?"":mn};try{console.debug("[ProfilePharmacy] refreshProfile - pharmData:",Zt,"userData:",Qt)}catch{}ce(Cn=>{const mn=Zt&&Zt.displayName||Qt&&Qt.displayName||e.displayName||Cn.displayName,ir=Zt&&Zt.address||Qt&&Qt.address||Cn.address||"",Kr=Zt&&Zt.phone||Qt&&Qt.phone||Cn.phone||"",vi=jr(Kr),Rn=Zt&&Zt.email||Qt&&Qt.email||e.email||Cn.email||"";try{console.debug("[ProfilePharmacy] computed profile ->",{displayName:mn,address:ir,rawPhone:Kr,phone:vi,email:Rn})}catch{}return{displayName:mn,address:ir,phone:vi,email:Rn}})},br=ri(Ot,jr=>{Zt=jr&&jr.exists?jr.data():null,Wt()},()=>{}),Dn=ri(hr,jr=>{Qt=jr&&jr.exists?jr.data():null,Wt()},()=>{});return Wt(),()=>{try{br&&br()}catch{}try{Dn&&Dn()}catch{}}},[n,e]);async function yt(){await Iue(n||e)}async function wt(){if(!N)return;let He=M;await ya(or(gt,"products",N.id),{name:P,category:Y,stock:Number(R),sku:S,price:Number(A),image:He||N.image||"",description:ve}),L(null)}function Xt(){L(null)}B.useEffect(()=>{N&&(V(N.name||""),Q(N.category||""),T(N.stock||""),j(N.sku||""),F(N.price||""),re(N.image||""),_e(null),Ee(N.description||""))},[N]);async function qt(){const He=(le||"").trim().toLowerCase();if(!He){et([]);return}const Ot=[];if((je==="products"||je==="all")&&a.forEach(hr=>{`${hr.name||""} ${hr.category||""} ${hr.sku||""}`.toLowerCase().includes(He)&&Ot.push({type:"product",title:hr.name||"Untitled",subtitle:`${hr.category||"Uncategorized"} • SKU: ${hr.sku||"—"}`,item:hr})}),je==="orders"||je==="all"){let hr=de;hr||(hr=(await jn(Nr(ur(gt,"orders"),$r("pharmacyId","==",n?.uid||e?.uid)))).docs.map(Qt=>({id:Qt.id,...Qt.data()})),Me(hr)),(hr||[]).forEach(Zt=>{`${Zt.id} ${(Zt.items||[]).map(Wt=>Wt.name).join(" ")} ${Zt.customerName||""}`.toLowerCase().includes(He)&&Ot.push({type:"order",title:`Order ${Zt.id}`,subtitle:`${Zt.items?.length||0} items — ₦${Number(Zt.total||0).toLocaleString()}`,item:Zt})})}et(Ot)}B.useEffect(()=>{if(!Le)return;function He(Ot){Ot.key==="Escape"&&(ae(!1),be(""),et([]))}return window.addEventListener("keydown",He),()=>window.removeEventListener("keydown",He)},[Le]),B.useEffect(()=>{if(!Le)return;if(!(le||"").trim()){et([]);return}const Ot=setTimeout(()=>{qt()},300);return()=>clearTimeout(Ot)},[le,je,Le]);function Bt(He){try{return He&&He.toDate?He.toDate().toISOString():He||""}catch{return""}}function mr(){if(!a||a.length===0){alert("No products to export");return}const He=a.map(Wt=>({id:Wt.id,name:Wt.name||"",category:Wt.category||"",sku:Wt.sku||"",price:Number(Wt.price||0),stock:Number(Wt.stock||0),description:Wt.description||"",image:Wt.image||"",createdAt:Bt(Wt.createdAt)})),Ot=RP.unparse(He),hr=new Blob([Ot],{type:"text/csv;charset=utf-8;"}),Zt=URL.createObjectURL(hr),Qt=document.createElement("a");Qt.href=Zt,Qt.download=`pharmacy-inventory-${e?.uid||"inventory"}.csv`,document.body.appendChild(Qt),Qt.click(),Qt.remove(),URL.revokeObjectURL(Zt)}function qr(){if(!a||a.length===0){alert("No products to export");return}const He=a.map(Dn=>({id:Dn.id,name:Dn.name||"",category:Dn.category||"",sku:Dn.sku||"",price:Number(Dn.price||0),stock:Number(Dn.stock||0),description:Dn.description||"",image:Dn.image||"",createdAt:Bt(Dn.createdAt)})),Ot=$x.json_to_sheet(He),hr=$x.book_new();$x.book_append_sheet(hr,Ot,"Inventory");const Zt=MF(hr,{bookType:"xlsx",type:"array"}),Qt=new Blob([Zt],{type:"application/octet-stream"}),Wt=URL.createObjectURL(Qt),br=document.createElement("a");br.href=Wt,br.download=`pharmacy-inventory-${e?.uid||"inventory"}.xlsx`,document.body.appendChild(br),br.click(),br.remove(),URL.revokeObjectURL(Wt)}if(!e)return d.jsx(ig,{lines:4,className:"my-8"});function fr({user:He}){return!He||He.role!=="superuser"?null:d.jsxs("div",{className:"mt-8 rounded-3xl border bg-yellow-50 dark:bg-gray-700 border-yellow-400 dark:border-gray-600 p-4 flex flex-col items-start relative",children:[d.jsx("div",{className:"text-[20px] font-bold text-yellow-700 dark:text-yellow-400 mb-2",children:"Superuser Dashboard"}),d.jsxs("ul",{className:"space-y-2 text-[15px] text-yellow-900",children:[d.jsx("li",{children:"Manage all users (view, edit, suspend, delete)"}),d.jsx("li",{children:"Product oversight (add, edit, remove, approve/reject)"}),d.jsx("li",{children:"Prescription management"}),d.jsx("li",{children:"Analytics & reports"}),d.jsx("li",{children:"Moderation (reviews, chats, reported content)"}),d.jsx("li",{children:"System settings"}),d.jsx("li",{children:"Bulk operations"}),d.jsx("li",{children:"Audit logs"}),d.jsx("li",{children:"Impersonate users"})]}),d.jsx("div",{className:"mt-4 text-[13px] text-yellow-700",children:"(Feature scaffolding: UI and logic for each capability can be expanded here.)"})]})}return d.jsxs(d.Fragment,{children:[d.jsx(Pue,{title:"Pharmacy Profile",searchValue:le,onSearchChange:He=>be(He.target.value),onSearchSubmit:()=>{qt(),ae(!0)},onSettingsClick:()=>It("/settings")}),d.jsxs("div",{className:"pt-28 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col animate-fadeInUp",children:[d.jsx(fr,{user:e}),Le&&d.jsx("div",{onClick:()=>{ae(!1),be(""),et([])},className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black bg-opacity-30",role:"dialog","aria-modal":"true","aria-label":"Search modal",children:d.jsxs("div",{onClick:He=>He.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-3xl w-[min(920px,95%)] p-4 shadow-xl border border-[#9ED3FF] dark:border-gray-600 max-h-[80vh] overflow-hidden",children:[d.jsxs("div",{className:"mb-3",children:[d.jsxs("div",{className:"flex items-center gap-3 w-full",children:[d.jsx("div",{className:"flex-1 min-w-0",children:d.jsxs("div",{className:"flex items-center bg-[#F0FAFF] dark:bg-gray-700 border border-[#9ED3FF] dark:border-gray-600 rounded-full px-3 py-2 w-full overflow-hidden",children:[d.jsx(ad,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mr-2 flex-shrink-0"}),d.jsx("input",{autoFocus:!0,value:le,onChange:He=>be(He.target.value),onKeyDown:He=>{He.key==="Enter"&&qt()},placeholder:"Search products, orders, customers...",className:"flex-1 min-w-0 bg-transparent text-sm outline-none truncate dark:text-white dark:placeholder:text-gray-400","aria-label":"Search query"})]})}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("select",{value:je,onChange:He=>Pe(He.target.value),className:"rounded-full border border-[#9ED3FF] dark:border-gray-600 px-3 py-2 text-sm bg-white dark:bg-gray-700 dark:text-white w-36",children:[d.jsx("option",{value:"products",children:"Products"}),d.jsx("option",{value:"orders",children:"Orders"}),d.jsx("option",{value:"all",children:"All"})]})})]}),d.jsx("div",{className:"w-full border-t mt-3",style:{borderColor:"#E6F7FF"}})]}),d.jsx("div",{className:"mt-4 max-h-[60vh] overflow-auto px-1 py-2",children:Be.length===0?d.jsx("div",{className:"text-zinc-500 p-4",children:"No results yet. Enter a query."}):d.jsx("ul",{className:"space-y-2",children:Be.map((He,Ot)=>d.jsxs("li",{className:"p-2 rounded-2xl border border-[#9ED3FF] dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition-all duration-200 flex items-center gap-3 justify-between animate-fadeInUp card-interactive hover:shadow-md",style:{animationDelay:`${Ot*.05}s`},children:[d.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[d.jsx("div",{className:"flex-shrink-0",children:He.type==="product"?d.jsx(Gl,{name:He.item?.name,image:He.item?.image,category:He.item?.category,size:48,className:"rounded-lg"}):d.jsx("div",{className:"h-12 w-12 rounded-lg bg-[#fff7ed] dark:bg-gray-600 flex items-center justify-center border border-[#ffd7a8] dark:border-gray-500 animate-pulse-gentle",children:d.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-orange-500 dark:text-orange-400",children:d.jsx("path",{d:"M3 7h18M3 12h18M3 17h18",stroke:"#f59e0b",strokeWidth:"1.5",strokeLinecap:"round"})})})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-semibold text-sm text-black truncate",children:He.title}),d.jsx("div",{className:"text-xs text-zinc-500 truncate",children:He.subtitle})]})]}),d.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:He.type==="product"?d.jsx("button",{onClick:()=>{L(He.item),ae(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"Edit"}):d.jsx("button",{onClick:()=>{It("/orders",{state:{highlightOrderId:He.item.id}}),ae(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"Open"})})]},Ot))})})]})}),d.jsxs("div",{className:"mt-8 w-full grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6 items-start",children:[d.jsx("aside",{className:"min-w-0 lg:pr-2",children:d.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start relative lg:sticky lg:top-24 overflow-hidden",children:[d.jsx("div",{className:"mb-2",children:e?.photoURL?d.jsx("img",{src:e.photoURL,alt:"Avatar",className:"h-16 w-16 rounded-full object-cover border border-[#9ED3FF] dark:border-gray-500 shadow"}):d.jsx("div",{className:"h-16 w-16 rounded-full bg-[#E3F3FF] dark:bg-gray-600 flex items-center justify-center border border-[#9ED3FF] dark:border-gray-500 shadow",children:d.jsx("span",{className:"text-sky-600 dark:text-sky-400 text-2xl font-light",children:J.displayName&&J.displayName.charAt?J.displayName.charAt(0):"P"})})}),d.jsx("div",{className:"text-3xl font-light font-poppins text-sky-600 dark:text-sky-400 mb-1 tracking-tight truncate w-full",children:J.displayName||"Pharmacy"}),d.jsx("div",{className:"w-full border-b dark:border-gray-600 mb-2",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"}}),d.jsx("div",{className:"text-[13px] text-zinc-500 font-light mb-1 truncate w-full",children:J.email||e?.email}),J.address&&d.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 flex items-center truncate w-full",children:[d.jsx($l,{className:"h-4 w-4 mr-1 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:J.address})]}),J.phone&&d.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 flex items-center truncate w-full",children:[d.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-1 flex-shrink-0",children:d.jsx("path",{d:"M2.41333 5.19333C3.37333 7.08 4.92 8.62667 6.80667 9.58667L8.27333 8.12C8.46 7.93333 8.72 7.88 8.95333 7.95333C9.7 8.2 10.5 8.33333 11.3333 8.33333C11.5101 8.33333 11.6797 8.40357 11.8047 8.5286C11.9298 8.65362 12 8.82319 12 9V11.3333C12 11.5101 11.9298 11.6797 11.8047 11.8047C11.6797 11.9298 11.5101 12 11.3333 12C8.32755 12 5.44487 10.806 3.31946 8.68054C1.19404 6.55513 0 3.67245 0 0.666667C0 0.489856 0.0702379 0.320286 0.195262 0.195262C0.320286 0.0702379 0.489856 0 0.666667 0H3C3.17681 0 3.34638 0.0702379 3.4714 0.195262C3.59643 0.320286 3.66667 0.489856 3.66667 0.666667C3.66667 1.5 3.8 2.3 4.04667 3.04667C4.12 3.28 4.06667 3.54 3.88 3.72667L2.41333 5.19333Z",fill:"#7D7D7D"})}),d.jsx("span",{className:"truncate",children:J.phone})]}),Et&&d.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 w-full truncate",children:["ETA: ",d.jsx("span",{className:"text-sky-600 font-medium",children:Et.eta})," • ",Et.distanceKm.toFixed(2)," km"]}),d.jsx("div",{className:"w-full mt-4 hidden lg:flex justify-start",children:d.jsxs("button",{onClick:async()=>{await r(),window.location.href="/auth/landing"},className:"rounded-full border border-red-300 dark:border-gray-600 text-red-600 dark:text-red-400 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[d.jsx(Z3,{className:"h-4 w-4"})," ",i("log_out","Log Out")]})})]})}),d.jsxs("section",{className:"min-w-0 space-y-6 lg:max-h-[calc(100vh-7rem)] lg:overflow-auto lg:pr-1",children:[d.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start relative overflow-hidden",children:[d.jsx("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white mb-2 tracking-tight",children:i("storefront_preview","Storefront Preview")}),d.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b dark:border-gray-600",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-zinc-500 dark:text-zinc-400 font-light",children:i("inventory","Inventory")}),d.jsx("span",{className:"text-[12px] text-sky-600 dark:text-sky-400 font-medium",children:a.length})]}),d.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("products_sold","Products Sold")}),d.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:p})]}),d.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("active_chats","Active Chats")}),d.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:m})]}),d.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[d.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("reviews","Reviews")}),d.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:w})]}),d.jsx("div",{className:"w-full flex justify-end mt-4",children:d.jsxs("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light flex items-center gap-1 shadow hover:bg-sky-700",onClick:yt,children:[d.jsx(NK,{className:"h-4 w-4"})," ",i("download_report","Download report")]})})]}),d.jsxs("div",{className:"flex gap-2 w-full",children:[d.jsxs("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700",onClick:()=>l(!0),children:["+ ",i("add_product","Add Product")]}),d.jsx("button",{className:"flex-1 rounded-full border border-sky-600 dark:border-gray-600 dark:border-gray-600 text-sky-600 dark:text-sky-400 text-[13px] font-light py-2 hover:bg-[#E3F3FF] dark:hover:bg-gray-700",onClick:()=>f(!0),children:i("bulk_upload","Bulk Upload")})]}),d.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"text-[17px] font-light font-poppins text-black dark:text-white tracking-tight",children:i("products","Products")}),a.length>3&&d.jsx("button",{className:"text-sky-600 text-[13px] font-light px-3 py-1 rounded-full hover:bg-[#E3F3FF]",onClick:()=>I(He=>!He),children:X?i("see_less","See less"):i("see_more","See more")})]}),d.jsxs("div",{className:"space-y-3",children:[(X?a:a.slice(0,3)).map(He=>d.jsxs("button",{className:"w-full text-left rounded-2xl border border-[#9ED3FF] dark:border-gray-600 p-3 flex items-center gap-3 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition shadow-sm min-w-0 overflow-hidden",onClick:()=>L(He),type:"button",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(Gl,{name:He.name,image:He.image,category:He.category,size:30,className:"border border-[#9ED3FF] dark:border-gray-500",roundedClass:"rounded-xl"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-semibold text-[15px] text-black dark:text-white truncate",children:He.name}),d.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[12px] font-light truncate",children:[He.category," • Stock: ",He.stock," • SKU: ",He.sku]})]}),d.jsxs("div",{className:"text-[15px] font-semibold text-sky-600 dark:text-sky-400 ml-3 flex-shrink-0 whitespace-nowrap",children:["₦",Number(He.price).toLocaleString()]})]},He.id)),a.length===0&&d.jsx("div",{className:"text-zinc-500",children:i("no_products_yet","No products yet. Use the buttons above to add or bulk‑upload.")})]}),d.jsxs("div",{className:"w-full flex justify-end mt-3",children:[d.jsx("button",{onClick:mr,className:"mr-2 px-4 py-2 rounded-full border border-sky-600 dark:border-gray-600 dark:border-gray-600 text-sky-600 dark:text-sky-400 text-[13px] font-light hover:bg-[#E3F3FF] dark:hover:bg-gray-700",children:i("download_csv","Download CSV")}),d.jsx("button",{onClick:qr,className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[13px] font-light hover:bg-sky-700",children:i("download_excel","Download Excel")})]})]})]})]}),o&&d.jsx(PP,{pharmacyId:n?.uid||e?.uid,onClose:()=>l(!1)}),c&&d.jsx(zF,{pharmacyId:n?.uid||e?.uid,onClose:()=>f(!1)}),N&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 w-[90vw] max-w-sm shadow-xl border border-[#9ED3FF] dark:border-gray-600 relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[d.jsx("div",{className:"text-lg font-medium font-poppins text-black dark:text-white",children:i("edit_product","Edit Product")}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{className:"rounded-full border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-zinc-500 dark:text-zinc-400 py-2 flex items-center justify-center ml-2",style:{width:"36px",height:"36px"},onClick:He=>{He.stopPropagation(),oe(Ot=>!Ot)},children:d.jsx(AK,{className:"h-4 w-4"})}),xe&&d.jsx("div",{className:"absolute right-0 top-full mt-2 bg-white dark:bg-gray-800 border border-[#9ED3FF] dark:border-gray-600 rounded-xl shadow p-2 z-10 overflow-hidden",onClick:He=>He.stopPropagation(),children:d.jsxs("button",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-[13px] font-light px-2 py-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",onClick:()=>{fe(!0),oe(!1)},children:[d.jsx(OK,{className:"h-4 w-4"})," ",i("delete","Delete")]})})]})]}),d.jsxs("div",{className:"space-y-3",onClick:()=>xe&&oe(!1),children:[d.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:P,onChange:He=>V(He.target.value),placeholder:i("name","Name")}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:Y,onChange:He=>Q(He.target.value),placeholder:i("category","Category")}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:R,onChange:He=>T(He.target.value),placeholder:i("stock","Stock"),type:"number"}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:S,onChange:He=>j(He.target.value),placeholder:"SKU"}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:A,onChange:He=>F(He.target.value),placeholder:i("price","Price"),type:"number"}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-[12px] text-zinc-500 dark:text-zinc-400 font-light",children:i("product_image","Product Image")}),d.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:M,onChange:He=>{re(He.target.value),_e(null)},placeholder:i("image_url_placeholder","Image URL (or choose file below)"),type:"text"}),d.jsx("input",{type:"file",accept:"image/*",className:"mt-1",onChange:He=>{He.target.files&&He.target.files[0]&&(_e(He.target.files[0]),re(""))}}),(M||pe)&&d.jsx("img",{src:pe?URL.createObjectURL(pe):M,alt:"Preview",className:"h-16 w-16 object-cover rounded-xl border mt-2"})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-[12px] text-zinc-500 font-light",children:i("product_description","Product Description")}),d.jsx("textarea",{className:"w-full border rounded p-2 text-sm",rows:4,value:ve,onChange:He=>Ee(He.target.value),placeholder:i("enter_product_description","Enter product description")})]})]}),d.jsxs("div",{className:"flex gap-2 mt-6 items-center",children:[d.jsx("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[12px] font-light py-2 shadow hover:bg-sky-700",onClick:wt,children:i("save","Save")}),d.jsx("button",{className:"flex-1 rounded-full border border-zinc-300 dark:border-gray-600 text-zinc-500 text-[12px] font-light py-2",onClick:()=>L(null),children:i("cancel","Cancel")})]}),G&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 rounded-3xl",onClick:()=>fe(!1),children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-xl border border-[#9ED3FF] dark:border-gray-600 text-center overflow-hidden",onClick:He=>He.stopPropagation(),children:[d.jsx("div",{className:"text-[15px] font-light mb-4 dark:text-white",children:i("confirm_delete_product","Are you sure you want to delete this item?")}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx("button",{className:"rounded-full bg-red-600 text-white text-[12px] font-light px-4 py-2",onClick:Xt,children:i("yes_delete","Yes, Delete")}),d.jsx("button",{className:"rounded-full border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-zinc-500 dark:text-zinc-400 text-[12px] font-light px-4 py-2",onClick:()=>fe(!1),children:i("cancel","Cancel")})]})]})})]})}),d.jsx("div",{className:"mt-6 lg:hidden",children:d.jsxs("button",{onClick:async()=>{await r(),window.location.href="/auth/landing"},className:"rounded-full border border-red-300 dark:border-gray-600 text-red-600 dark:text-red-400 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[d.jsx(Z3,{className:"h-4 w-4"})," ",i("log_out","Log Out")]})})]})]})}const Rue=t=>Array.from(new Set(t.map(r=>r.label.includes("/")?r.label.split("/").pop():r.label))).sort(),Fue=(t,e)=>Array.from(new Set(t.filter(n=>n.label.endsWith("/"+e)).map(n=>n.label.split("/")[0]))).sort((n,i)=>Number(n)-Number(i));function Lue({data:t,filter:e,onFilterChange:r,topPeriod:n}){const{t:i}=Na(),[a,s]=B.useState(null),[o,l]=B.useState([]);B.useEffect(()=>{if(t.length>0){const m=Math.max(...t.map(y=>y.value))||1;l(t.map(y=>y.value/m*100))}},[t]);let c=Rue(t),f=e.type==="month"?Fue(t,e.year||c[0]):[];const p=Math.max(...t.map(m=>m.value))||1,g=t.reduce((m,y)=>m+y.value,0);return d.jsxs("div",{className:"bg-gradient-to-br from-[#F7F7F7] to-[#F0F8FF] dark:from-gray-800 dark:to-gray-900 rounded-2xl border border-sky-500 dark:border-gray-600 p-6 mt-8 overflow-hidden min-w-0 relative",role:"region","aria-label":"Revenue",children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-sky-100/30 dark:from-sky-800/30 to-transparent rounded-full -translate-y-16 translate-x-16"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-100/20 dark:from-blue-800/20 to-transparent rounded-full translate-y-12 -translate-x-12"}),d.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0 relative z-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-black dark:text-white font-light text-xl tracking-tight mb-1",children:i("revenue_analytics","Revenue Analytics")}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"text-2xl font-semibold text-sky-700 dark:text-sky-400",children:["₦",g.toLocaleString()]}),d.jsx("div",{className:"px-2 py-1 bg-sky-100 dark:bg-sky-800 rounded-full text-xs text-sky-700 dark:text-sky-300 font-medium",children:i("total","Total")})]})]}),d.jsx("div",{className:"flex flex-col gap-2",children:d.jsxs("select",{className:"rounded-xl border-2 border-sky-200 bg-white px-3 py-2 text-sm text-sky-700 focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md",value:e.type,onChange:m=>r({...e,type:m.target.value}),children:[d.jsxs("option",{value:"month",children:["📊 ",i("by_month","By Month")]}),d.jsxs("option",{value:"year",children:["📈 ",i("by_year","By Year")]})]})})]}),d.jsxs("div",{className:"flex gap-2 mb-6 min-w-0 relative z-0",children:[e.type==="year"&&d.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[140px]",value:e.year||c[0]||"",onChange:m=>r({...e,year:m.target.value}),children:c.map(m=>d.jsx("option",{value:m,children:m},m))}),e.type==="month"&&d.jsxs(d.Fragment,{children:[d.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[120px]",value:e.year||c[0]||"",onChange:m=>r({...e,year:m.target.value}),children:c.map(m=>d.jsx("option",{value:m,children:m},m))}),d.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[120px]",value:e.month||f[0]||"",onChange:m=>r({...e,month:m.target.value}),children:f.map(m=>d.jsx("option",{value:m,children:i("month_number","Month {number}",{number:m})},m))})]})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-0 flex flex-col justify-between opacity-20",children:[...Array(5)].map((m,y)=>d.jsx("div",{className:"border-t border-sky-300 border-dashed"},y))}),d.jsx("div",{className:"w-full h-32 flex items-end gap-3 mt-2 min-w-0 overflow-hidden relative z-0",children:t.length===0?d.jsx("div",{className:"w-full h-full flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-4xl mb-2",children:"📊"}),d.jsx("div",{className:"text-zinc-400 text-sm",children:i("no_revenue_data","No revenue data available")}),d.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:i("start_selling_revenue","Start making sales to see your revenue analytics")})]})}):t.map((m,y)=>d.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0 relative group",onMouseEnter:()=>s(y),onMouseLeave:()=>s(null),children:[a===y&&d.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-white border border-sky-200 rounded-lg px-3 py-2 shadow-lg z-20 whitespace-nowrap",children:[d.jsx("div",{className:"text-xs font-medium text-gray-700",children:m.label}),d.jsxs("div",{className:"text-sm font-semibold text-sky-600",children:["₦",m.value.toLocaleString()]}),d.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2",children:d.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})})]}),d.jsxs("div",{className:"relative w-8 flex flex-col items-center",children:[d.jsxs("div",{className:"w-full h-32 bg-sky-100/50 rounded-t-lg relative overflow-hidden",children:[d.jsx("div",{className:`absolute bottom-0 w-full rounded-t-lg transition-all duration-1000 ease-out cursor-pointer transform ${a===y?"scale-105":"scale-100"}`,style:{height:`${o[y]||0}%`,background:a===y?"linear-gradient(135deg, #36A5FF 0%, #2563EB 50%, #1D4ED8 100%)":"linear-gradient(135deg, #36A5FF 0%, #3B82F6 100%)",boxShadow:a===y?"0 8px 25px rgba(54, 165, 255, 0.4), 0 4px 10px rgba(54, 165, 255, 0.3)":"0 4px 15px rgba(54, 165, 255, 0.2)"},children:d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 transform -skew-x-12 animate-pulse"})}),d.jsx("div",{className:"absolute w-full h-1 bg-white/40 rounded-full transition-all duration-1000",style:{bottom:`${o[y]||0}%`}})]}),a===y&&d.jsxs("div",{className:"absolute -top-6 bg-sky-600 text-white text-xs px-2 py-1 rounded font-medium",children:["₦",m.value.toLocaleString()]})]}),d.jsx("span",{className:`text-[11px] mt-2 truncate max-w-[40px] transition-colors duration-200 ${a===y?"text-sky-600 font-medium":"text-zinc-500"}`,children:m.label})]},y))}),t.length>0&&d.jsxs("div",{className:"absolute left-0 top-0 h-32 flex flex-col justify-between text-xs text-zinc-400 -ml-12",children:[d.jsxs("span",{children:["₦",p.toLocaleString()]}),d.jsxs("span",{children:["₦",Math.round(p*.75).toLocaleString()]}),d.jsxs("span",{children:["₦",Math.round(p*.5).toLocaleString()]}),d.jsxs("span",{children:["₦",Math.round(p*.25).toLocaleString()]}),d.jsx("span",{children:"₦0"})]})]}),n&&d.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-sky-50 to-blue-50 rounded-xl border border-sky-200 relative z-0",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:"🏆"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-sky-700",children:i("best_performing_period","Best Performing {period}",{period:e.type==="month"?i("month_label","Month"):i("year_label","Year")})}),d.jsxs("div",{className:"text-lg font-semibold text-sky-800",children:[n.label," • ₦",n.value.toLocaleString()]})]})]})})]})}function jue({cards:t}){return d.jsxs("div",{className:"w-full overflow-x-auto py-2",style:{overflowY:"hidden"},children:[d.jsx("div",{className:"flex gap-3",style:{minWidth:180,scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map((e,r)=>d.jsx("div",{className:"min-w-[120px] max-w-[150px] h-[80px] bg-[#F7F7F7] dark:bg-gray-800 rounded-xl border border-sky-500 dark:border-gray-600 p-3 flex flex-col items-start justify-center shadow-sm",children:e},r))}),d.jsx("style",{children:`
        .w-full.overflow-x-auto::-webkit-scrollbar { display: none; }
      `})]})}function Due({data:t}){const{t:e}=Na(),[r,n]=B.useState(null);if(!t||t.length===0)return d.jsx("div",{className:"bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8 text-zinc-400 dark:text-zinc-500 text-sm text-center",children:e("no_sales_trend_data","No sales trend data.")});const i=Math.max(...t.map(g=>g.value))||1,a=25,s=280,o=120,l=[];for(let g=0;g<=4;g++){const m=a+g/4*(o-2*a);l.push(d.jsx("line",{x1:a,y1:m,x2:s-a,y2:m,stroke:"#E5F3FF",strokeWidth:"1",strokeDasharray:"3,3"},g))}const c=t.map((g,m)=>{const y=a+m/(t.length-1)*(s-2*a),w=o-a-g.value/i*(o-2*a);return{x:y,y:w,value:g.value,label:g.label}}),f=c.map((g,m)=>`${m===0?"M":"L"} ${g.x} ${g.y}`).join(" "),p=`${f} L ${c[c.length-1].x} ${o-a} L ${c[0].x} ${o-a} Z`;return d.jsxs("div",{className:"bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8 relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-black dark:text-white font-light text-lg tracking-tight",children:e("sales_trends","Sales Trends")}),d.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:e("last_6_months","Last 6 months")})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("svg",{width:s,height:o,className:"block mx-auto overflow-visible",style:{filter:"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.1))"},children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#36A5FF",stopOpacity:"0.2"}),d.jsx("stop",{offset:"100%",stopColor:"#36A5FF",stopOpacity:"0.02"})]}),d.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",stopColor:"#36A5FF"}),d.jsx("stop",{offset:"50%",stopColor:"#2563EB"}),d.jsx("stop",{offset:"100%",stopColor:"#1D4ED8"})]})]}),l,d.jsx("path",{d:p,fill:"url(#areaGradient)",className:"transition-all duration-300"}),d.jsx("path",{d:f,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-all duration-300",style:{filter:"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.3))"}}),c.map((g,m)=>d.jsxs("g",{children:[d.jsx("circle",{cx:g.x,cy:g.y,r:r===m?"8":"6",fill:"rgba(54, 165, 255, 0.2)",className:"transition-all duration-200"}),d.jsx("circle",{cx:g.x,cy:g.y,r:r===m?"4":"3",fill:"#36A5FF",stroke:"white",strokeWidth:"2",className:"cursor-pointer transition-all duration-200 hover:r-4",onMouseEnter:()=>n(m),onMouseLeave:()=>n(null),style:{filter:r===m?"drop-shadow(0 4px 8px rgba(54, 165, 255, 0.4))":"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.2))"}})]},m))]}),r!==null&&d.jsxs("div",{className:"absolute bg-white border border-sky-200 rounded-lg px-3 py-2 shadow-lg z-10 transition-all duration-200",style:{left:c[r].x-30,top:c[r].y-50,transform:"translateX(-50%)"},children:[d.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:t[r].label}),d.jsx("div",{className:"text-sm font-semibold text-sky-600 dark:text-sky-400",children:e("orders_count","{count} order{plural}",{count:t[r].value,plural:t[r].value>1?"s":""})}),d.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:d.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})})]})]}),d.jsx("div",{className:"flex justify-between mt-3 px-6",children:t.map((g,m)=>d.jsx("span",{className:`text-xs transition-colors duration-200 ${r===m?"text-sky-600 dark:text-sky-400 font-medium":"text-zinc-500 dark:text-zinc-400"}`,children:g.label},m))}),d.jsxs("div",{className:"absolute left-1 top-12 h-24 flex flex-col justify-between text-xs text-zinc-400 dark:text-zinc-500",children:[d.jsx("span",{children:i}),d.jsx("span",{children:Math.round(i*.75)}),d.jsx("span",{children:Math.round(i*.5)}),d.jsx("span",{children:Math.round(i*.25)}),d.jsx("span",{children:"0"})]}),d.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-sky-100/50 to-transparent rounded-full -translate-y-10 translate-x-10"})]})}function Oue({threads:t,unreadCount:e,onThreadClick:r}){const n=Ni(),{t:i}=Na(),a=()=>{n("/messages")};return d.jsxs("div",{className:"relative bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2 cursor-pointer hover:bg-sky-50 dark:hover:bg-gray-700/50 -mx-2 px-2 py-1 rounded-lg transition-colors",onClick:a,children:[d.jsx("h2",{className:"text-black dark:text-white font-light text-lg tracking-tight",children:i("recent_messages","Recent Messages")}),e>0&&d.jsx("span",{className:"bg-sky-400 text-white text-xs rounded-full px-2 py-0.5 font-bold",children:e})]}),d.jsx("div",{children:t.length===0?d.jsx("div",{className:"text-zinc-400 dark:text-zinc-500 text-sm",children:i("no_recent_messages","No recent messages.")}):d.jsx("ul",{className:"divide-y divide-sky-100 dark:divide-gray-600",children:t.map(s=>d.jsxs("li",{className:"py-2 rounded-lg px-2 flex items-center cursor-pointer hover:bg-sky-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>r&&r(s),children:[d.jsx("span",{className:"font-light text-[13px] text-black dark:text-white flex-1 truncate",children:s.customerName||s.customerId}),s.unread>0&&d.jsx("span",{className:"ml-2 bg-sky-400 text-white text-xs rounded-full px-2 py-0.5 font-bold",children:s.unread})]},s.id))})})]})}const Mue=({reviews:t=[],onViewAllReviews:e})=>{const{t:r}=Na();if(!t.length)return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[d.jsx(kh,{className:"text-sky-500",size:20}),r("recent_reviews","Recent Reviews")]})}),d.jsxs("div",{className:"text-center py-8",children:[d.jsx(kh,{size:32,className:"text-gray-300 dark:text-gray-600 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r("no_recent_reviews","No recent reviews")}),d.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:r("new_reviews_appear_here","New customer reviews will appear here")})]})]});const n=i=>[...Array(5)].map((a,s)=>d.jsx(Py,{size:12,className:`${s<i?"text-yellow-400 fill-current":"text-gray-300"}`},s));return d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[d.jsx(kh,{className:"text-sky-500",size:20}),r("recent_reviews","Recent Reviews"),t.length>0&&d.jsx("span",{className:"bg-sky-100 dark:bg-sky-800 text-sky-700 dark:text-sky-300 text-xs px-2 py-1 rounded-full font-medium",children:t.length})]}),d.jsxs("button",{onClick:e,className:"text-sky-500 hover:text-sky-600 dark:text-sky-400 dark:hover:text-sky-300 text-sm font-medium flex items-center gap-1",children:[r("view_all","View All"),d.jsx(vP,{size:16})]})]}),d.jsx("div",{className:"space-y-3",children:t.slice(0,3).map(i=>d.jsx("div",{className:"flex gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:e,children:d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:i.productName}),d.jsx("div",{className:"flex items-center gap-1",children:n(i.rating)})]}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:r("by_customer","by {customerName}",{customerName:i.customerName})}),d.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:i.comment}),!i.pharmacyResponse&&d.jsx("div",{className:"mt-2",children:d.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",children:[d.jsx(kh,{size:12,className:"mr-1"}),r("needs_response","Needs Response")]})})]})},i.id))}),t.length>3&&d.jsx("button",{onClick:e,className:"w-full mt-4 py-2 text-sm text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 font-medium transition-colors",children:r("view_more_reviews","View {count} more review{plural}",{count:t.length-3,plural:t.length-3>1?"s":""})})]})};function Bue(){const{t}=Na(),[e,r]=B.useState([]),[n,i]=B.useState({}),[a,s]=B.useState(!0),[o,l]=B.useState("all"),[c,f]=B.useState("newest"),[p,g]=B.useState("all"),[m,y]=B.useState({}),[w,k]=B.useState({}),[N,L]=B.useState(!1),{user:P}=Pn();B.useEffect(()=>{V()},[P]);const V=async()=>{if(P?.uid)try{s(!0);const A=Nr(ur(gt,"products"),$r("pharmacyId","==",P.uid)),F=await jn(A),M={},re=[];F.docs.forEach(_e=>{const xe={id:_e.id,..._e.data()};M[_e.id]=xe,re.push(xe)}),i(M);const pe=[];for(const _e of re){const xe=Nr(ur(gt,"products",_e.id,"reviews"),es("createdAt","desc"));(await jn(xe)).docs.forEach(G=>{pe.push({id:G.id,productId:_e.id,productName:_e.name,...G.data()})})}r(pe)}catch(A){console.error("Error fetching reviews:",A)}finally{s(!1)}},Y=async(A,F,M)=>{if(M.trim())try{const re=or(gt,"products",F,"reviews",A);await ya(re,{pharmacyResponse:M,responseDate:Ja(),respondedBy:P.uid}),r(pe=>pe.map(_e=>_e.id===A?{..._e,pharmacyResponse:M,responseDate:new Date}:_e)),y(pe=>({...pe,[A]:""})),alert(t("response_submitted_success","Response submitted successfully!"))}catch(re){console.error("Error submitting response:",re),alert(t("response_submit_failed","Failed to submit response. Please try again."))}},Q=()=>{let A=e;return o!=="all"&&(A=A.filter(F=>F.productId===o)),p!=="all"&&(p==="positive"?A=A.filter(F=>F.rating>=4):p==="negative"?A=A.filter(F=>F.rating<=2):p==="responded"?A=A.filter(F=>F.pharmacyResponse):p==="unresponded"&&(A=A.filter(F=>!F.pharmacyResponse))),A.sort((F,M)=>c==="newest"?new Date(M.createdAt?.seconds*1e3)-new Date(F.createdAt?.seconds*1e3):c==="oldest"?new Date(F.createdAt?.seconds*1e3)-new Date(M.createdAt?.seconds*1e3):c==="highest"?M.rating-F.rating:c==="lowest"?F.rating-M.rating:0),A},R=A=>[...Array(5)].map((F,M)=>d.jsx(Py,{className:`h-4 w-4 ${M<A?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},M)),S=(()=>{const A=e.length,F=e.filter(pe=>pe.pharmacyResponse).length,M=e.length>0?e.reduce((pe,_e)=>pe+_e.rating,0)/e.length:0,re=e.filter(pe=>pe.rating>=4).length;return{total:A,responded:F,avgRating:M,positiveReviews:re}})(),j=Q();return a?d.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 overflow-hidden",children:d.jsxs("div",{className:"text-center py-16",children:[d.jsxs("div",{className:"relative mx-auto w-12 h-12 mb-6",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 dark:border-gray-600"}),d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-sky-500 dark:border-sky-400 border-t-transparent absolute top-0 left-0"})]}),d.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:t("loading_reviews","Loading your reviews...")}),d.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-1",children:t("loading_please_wait","Please wait while we fetch your data")})]})}):d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 overflow-hidden",children:[d.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:t("reviews_management","Reviews Management")}),d.jsxs("button",{onClick:()=>L(!N),className:"flex items-center justify-center gap-2 px-4 py-2 text-sm bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[d.jsx(TK,{className:"h-4 w-4"}),t("filters_sort","Filters & Sort"),N?d.jsx(SK,{className:"h-4 w-4"}):d.jsx(EK,{className:"h-4 w-4"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[d.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200 dark:border-gray-600 shadow-sm",children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:S.total}),d.jsx("div",{className:"text-xs sm:text-sm text-blue-600 font-medium",children:t("total_reviews","Total Reviews")})]}),d.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200 shadow-sm",children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:S.responded}),d.jsx("div",{className:"text-xs sm:text-sm text-green-600 font-medium",children:t("responded","Responded")})]}),d.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl border border-yellow-200 shadow-sm",children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:S.avgRating.toFixed(1)}),d.jsx("div",{className:"text-xs sm:text-sm text-yellow-600 font-medium",children:t("avg_rating","Avg Rating")})]}),d.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200 shadow-sm",children:[d.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:S.positiveReviews}),d.jsx("div",{className:"text-xs sm:text-sm text-purple-600 font-medium",children:t("positive_reviews","Positive (4+ ⭐)")})]})]}),N&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("product","Product")}),d.jsxs("select",{value:o,onChange:A=>l(A.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[d.jsx("option",{value:"all",children:t("all_products","All Products")}),Object.values(n).map(A=>d.jsx("option",{value:A.id,children:A.name},A.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("sort_by","Sort By")}),d.jsxs("select",{value:c,onChange:A=>f(A.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[d.jsx("option",{value:"newest",children:t("newest_first","Newest First")}),d.jsx("option",{value:"oldest",children:t("oldest_first","Oldest First")}),d.jsx("option",{value:"highest",children:t("highest_rating","Highest Rating")}),d.jsx("option",{value:"lowest",children:t("lowest_rating","Lowest Rating")})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("filter_by","Filter By")}),d.jsxs("select",{value:p,onChange:A=>g(A.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[d.jsx("option",{value:"all",children:t("all_reviews","All Reviews")}),d.jsx("option",{value:"positive",children:t("positive_4_stars","Positive (4+ stars)")}),d.jsx("option",{value:"negative",children:t("negative_1_2_stars","Negative (1-2 stars)")}),d.jsx("option",{value:"responded",children:t("responded","Responded")}),d.jsx("option",{value:"unresponded",children:t("needs_response","Needs Response")})]})]})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:j.length===0?d.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[d.jsx("div",{className:"bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:d.jsx(kh,{className:"h-10 w-10 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t("no_reviews_found","No reviews found")}),d.jsx("p",{className:"text-gray-600 text-sm max-w-md mx-auto",children:e.length===0?t("no_reviews_yet_message","You don't have any reviews yet. Encourage customers to leave reviews by providing excellent service and follow-up communication!"):t("no_reviews_match_filters","No reviews match your current filters. Try adjusting your search criteria.")})]}):j.map((A,F)=>d.jsx("div",{className:"p-4 sm:p-6 hover:bg-gray-50 transition-all duration-200 animate-fade-in",style:{animationDelay:`${F*.1}s`},children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:A.createdAt&&new Date(A.createdAt.seconds*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),!A.pharmacyResponse&&d.jsx("span",{className:"text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-full font-medium",children:t("needs_response","Needs Response")})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Gl,{name:A.productName,image:n[A.productId]?.image,category:n[A.productId]?.category,size:40,className:"flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base line-clamp-1",title:A.productName,children:A.productName}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:n[A.productId]?.category||t("medicine","Medicine")})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex",children:R(A.rating)}),d.jsxs("span",{className:"text-sm text-gray-600",children:["(",A.rating,"/5)"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm text-gray-600",children:[t("reviewed_by","Reviewed by:"),":"]}),d.jsx("span",{className:"font-medium text-gray-800 text-sm",children:A.customerName||A.name}),A.verified&&d.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-medium",children:t("verified","Verified")})]}),d.jsx("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:d.jsx("p",{className:"text-gray-800 text-sm sm:text-base leading-relaxed",children:A.comment})}),A.helpful>0&&d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[d.jsx("span",{children:"👍"}),d.jsx("span",{children:t("people_found_helpful","{count} people found this helpful",{count:A.helpful})})]}),A.pharmacyResponse&&d.jsxs("div",{className:"ml-0 sm:ml-4 bg-gradient-to-r from-blue-50 to-sky-50 dark:from-blue-900/20 dark:to-sky-900/20 rounded-lg p-3 sm:p-4 border-l-4 border-blue-400 dark:border-blue-500 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(u9,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-blue-900 dark:text-blue-300",children:t("your_response","Your Response")}),d.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 ml-auto",children:A.pharmacyResponse.respondedAt&&new Date(A.pharmacyResponse.respondedAt.seconds*1e3).toLocaleDateString()})]}),d.jsx("p",{className:"text-blue-900 dark:text-blue-200 text-sm leading-relaxed",children:A.pharmacyResponse.message||A.pharmacyResponse})]}),!A.pharmacyResponse&&d.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[d.jsxs("button",{onClick:()=>k(M=>({...M,[A.id]:!M[A.id]})),className:"flex items-center gap-2 text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 text-sm font-medium transition-colors",children:[d.jsx(u9,{className:"h-4 w-4"}),w[A.id]?t("cancel_response","Cancel Response"):t("respond_to_review","Respond to Review")]}),w[A.id]&&d.jsxs("div",{className:"mt-3 space-y-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("textarea",{value:m[A.id]||"",onChange:M=>y(re=>({...re,[A.id]:M.target.value})),placeholder:t("write_thoughtful_response","Write a thoughtful response to this review..."),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 dark:focus:ring-sky-400 dark:focus:border-sky-400 resize-none text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",rows:4,maxLength:500}),d.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400 dark:text-gray-500",children:[(m[A.id]||"").length,"/500"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[d.jsx("button",{onClick:()=>Y(A.id,A.productId,m[A.id]||""),className:"flex-1 sm:flex-none px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors text-sm font-medium disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",disabled:!m[A.id]?.trim(),children:t("submit_response","Submit Response")}),d.jsx("button",{onClick:()=>k(M=>({...M,[A.id]:!1})),className:"flex-1 sm:flex-none px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:t("cancel","Cancel")})]})]})]})]})},A.id))})]})}const Vue=({review:t,onDismiss:e,onViewReview:r})=>{const[n,i]=B.useState(!1);B.useEffect(()=>{i(!0);const l=setTimeout(()=>{a()},5e3);return()=>clearTimeout(l)},[]);const a=()=>{i(!1),setTimeout(()=>{e()},300)},s=()=>{r(),a()},o=l=>[...Array(5)].map((c,f)=>d.jsx(Py,{size:12,className:`${f<l?"text-yellow-400 fill-current":"text-gray-300"}`},f));return d.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${n?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:d.jsxs("div",{className:"bg-white border-l-4 border-sky-500 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-lg p-4 max-w-sm",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(kh,{size:16,className:"text-sky-500"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"New Review"})]}),d.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(tw,{size:16})})]}),d.jsxs("div",{className:"mb-3",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.productName}),d.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o(t.rating),d.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["by ",t.customerName]})]})]}),d.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.comment}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx("button",{onClick:a,className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-800 transition-colors",children:"Dismiss"}),d.jsx("button",{onClick:s,className:"px-3 py-1 bg-sky-500 text-white text-xs rounded hover:bg-sky-600 transition-colors",children:"View & Respond"})]})]})})},Uue=({newReviews:t,onDismissReview:e,onViewReview:r})=>{const[n,i]=B.useState([]);B.useEffect(()=>{if(t.length>0){const o=t[0];n.some(c=>c.id===o.id)||i(c=>[o,...c.slice(0,2)])}},[t]);const a=o=>{i(l=>l.filter(c=>c.id!==o)),e(o)},s=o=>{i(l=>l.filter(c=>c.id!==o)),r(o)};return d.jsx(d.Fragment,{children:n.map((o,l)=>d.jsx("div",{style:{transform:`translateY(${l*80}px)`,zIndex:50-l},className:"absolute",children:d.jsx(Vue,{review:o,onDismiss:()=>a(o.id),onViewReview:()=>s(o.id)})},o.id))})};function zue(){const[t,e]=B.useState([]),[r,n]=B.useState(0),{user:i}=Pn();return B.useEffect(()=>{if(!i?.uid)return;const o=Nr(ur(gt,"products"),$r("pharmacyId","==",i.uid)),l=ri(o,c=>{const f=[];return e([]),n(0),c.docs.forEach(p=>{const g={id:p.id,...p.data()},m=new Date;m.setDate(m.getDate()-7);const y=Nr(ur(gt,"products",p.id,"reviews"),$r("createdAt",">=",m),es("createdAt","desc"),f0(20)),w=ri(y,k=>{const L=k.docs.map(P=>({id:P.id,productId:p.id,productName:g.name,productImage:g.image,...P.data(),createdAt:P.data().createdAt?.toDate()||new Date})).filter(P=>!P.pharmacyResponse);e(P=>{const Y=[...P.filter(Q=>Q.productId!==p.id),...L].sort((Q,R)=>R.createdAt-Q.createdAt).slice(0,50);return n(Y.length),Y})});f.push(w)}),()=>{f.forEach(p=>p())}});return()=>l()},[i?.uid]),{newReviews:t,unreadReviewsCount:r,markReviewsAsRead:()=>{e([]),n(0)},markReviewAsResponded:o=>{e(l=>{const c=l.filter(f=>f.id!==o);return n(c.length),c})}}}function $ue({onClick:t,disabled:e}){return la.createPortal(d.jsx("button",{className:`fixed bottom-[10rem] right-6 z-[100] bg-sky-500 text-white rounded-full shadow-lg
                 w-12 h-12 flex items-center justify-center disabled:opacity-0 disabled:cursor-not-allowed`,"aria-label":"Add Product",onClick:t,disabled:e,children:d.jsx("span",{className:"text-3xl font-bold leading-none",children:"+"})}),document.body)}function YL(){const[t,e]=B.useState([]),{profile:r,user:n}=Pn(),{t:i}=Na(),[a,s]=B.useState(!1),[o,l]=B.useState(!1),[c,f]=B.useState([]),[p,g]=B.useState({type:"month",value:""}),[m,y]=B.useState(null),[w,k]=B.useState(0),[N,L]=B.useState(0),[P,V]=B.useState(0),[Y,Q]=B.useState([]),[R,T]=B.useState([]),[S,j]=B.useState([]),[A,F]=B.useState(0),[M,re]=B.useState(!1),[pe,_e]=B.useState("overview"),[xe,oe]=B.useState(0),[G,fe]=B.useState(0),[X,I]=B.useState(0),[q,W]=B.useState(0),[J,ce]=B.useState(0),[ve,Ee]=B.useState(0),le=Ni(),{newReviews:be,unreadReviewsCount:Le,markReviewsAsRead:ae}=zue(),je=()=>d.jsxs("header",{className:"sm:hidden fixed top-0 left-0 right-0 z-[100] border-b border-gray-100/50 dark:border-gray-700/50 shadow-sm px-4 py-4 transition-all duration-200",style:{backgroundColor:document.documentElement.classList.contains("dark")?"rgba(17, 24, 39, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[d.jsx("h1",{className:"mt-8 text-[25px] font-light text-black dark:text-white leading-none animate-slideInLeft mb-4",children:i("my_dashboard","My Dashboard").split(" ").map((Pe,de)=>d.jsxs("span",{children:[Pe,de===0?d.jsx("br",{}):""]},de))}),d.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[d.jsx("button",{onClick:()=>_e("overview"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${pe==="overview"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:i("overview","Overview")}),d.jsxs("button",{onClick:()=>{_e("reviews"),Le>0&&ae()},className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors relative ${pe==="reviews"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i("reviews","Reviews"),Le>0&&d.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold",children:Le>9?"9+":Le})]})]})]});return B.useEffect(()=>{async function Pe(){if(r&&r.role==="pharmacy"){const de=await nP(5,r.uid);e(de)}else e([])}Pe()},[r]),B.useEffect(()=>{async function Pe(){if(!r||r.role!=="pharmacy")return f([]);const de=Nr(ur(gt,"orders"),$r("pharmacyId","==",r.uid)),Be=(await jn(de)).docs.map(Ke=>Ke.data());let et={},ne=Ke=>"";p.type==="date"?ne=Ke=>{const mt=Ke.createdAt?.toDate?.()||new Date(Ke.createdAt);return mt?mt.toLocaleDateString("en-GB"):""}:p.type==="month"?ne=Ke=>{const mt=Ke.createdAt?.toDate?.()||new Date(Ke.createdAt);return mt?`${mt.getMonth()+1}/${mt.getFullYear()}`:""}:p.type==="year"&&(ne=Ke=>{const mt=Ke.createdAt?.toDate?.()||new Date(Ke.createdAt);return mt?`${mt.getFullYear()}`:""}),Be.forEach(Ke=>{const mt=ne(Ke);mt&&(p.value&&!mt.startsWith(p.value)||(et[mt]=(et[mt]||0)+(Ke.total||0)))});const De=Object.entries(et).map(([Ke,mt])=>({label:Ke,value:mt}));if(De.sort((Ke,mt)=>Ke.label.localeCompare(mt.label)),f(De),De.length>0){const Ke=De.reduce((mt,Et)=>Et.value>mt.value?Et:mt,De[0]);y(Ke)}else y(null)}Pe()},[r,p]),B.useEffect(()=>{async function Pe(){if(!r||r.role!=="pharmacy")return;const de=r.uid||n?.uid;if(!de)return;const Me=await jn(Nr(ur(gt,"products"),$r("pharmacyId","==",de)));k(Me.size);const Be=Me.docs.filter(yt=>{const wt=yt.data(),Xt=wt.stock||0,qt=wt.lowStockThreshold||10;return Xt<=qt});W(Be.length);const et=await jn(Nr(ur(gt,"orders"),$r("pharmacyId","==",de)));L(et.size);let ne=0,De=[];const Ke=new Date().getMonth(),mt=new Date().getFullYear(),Et=Ke===0?11:Ke-1,Re=Ke===0?mt-1:mt;let qe=0,Ge=0,dt=0;const Nt=new Set,It=[];if(et.forEach(yt=>{const wt=yt.data();ne+=wt.total||0,De.push({id:yt.id,...wt});const Xt=wt.createdAt?.toDate?.()||new Date(wt.createdAt),qt=Xt.getMonth(),Bt=Xt.getFullYear();qt===Ke&&Bt===mt&&qe++,qt===Et&&Bt===Re&&Ge++,(wt.status==="pending"||wt.status==="processing")&&dt++,qt===Ke&&Bt===mt&&wt.customerId&&Nt.add(wt.customerId),(wt.status==="completed"||wt.status==="delivered")&&It.push(wt)}),V(ne),ce(qe),Ee(Ge),I(dt),oe(Nt.size),It.length>0){const yt=It.reduce((wt,Xt)=>wt+(Xt.total||0),0);fe(yt/It.length)}else fe(0);De.sort((yt,wt)=>(wt.createdAt?.toMillis?.()||0)-(yt.createdAt?.toMillis?.()||0)),Q(De.slice(0,3))}Pe()},[r,n]),B.useEffect(()=>{async function Pe(){if(!r||r.role!=="pharmacy"){T([]);return}const de=r.uid||n?.uid;if(!de)return;const Me=Nr(ur(gt,"orders"),$r("pharmacyId","==",de)),et=(await jn(Me)).docs.map(mt=>mt.data()),ne=new Date,De=[];for(let mt=5;mt>=0;mt--){const Et=new Date(ne.getFullYear(),ne.getMonth()-mt,1);De.push({label:Et.toLocaleString("default",{month:"short"}),year:Et.getFullYear(),month:Et.getMonth()+1})}const Ke=De.map(({label:mt,year:Et,month:Re})=>{const qe=et.filter(Ge=>{const dt=Ge.createdAt?.toDate?.()||new Date(Ge.createdAt);return dt.getFullYear()===Et&&dt.getMonth()+1===Re}).length;return{label:mt,value:qe}});T(Ke)}Pe()},[r,n]),B.useEffect(()=>{async function Pe(){if(!r||r.role!=="pharmacy"){j([]),F(0);return}const de=r.uid||n?.uid;if(!de)return;const Me=Nr(ur(gt,"threads"),$r("vendorId","==",de),es("lastAt","desc"),f0(3)),et=(await jn(Me)).docs.map(De=>({id:De.id,...De.data()}));j(et.map(De=>({...De,unread:De.unread?.[de]||0})));const ne=et.reduce((De,Ke)=>De+(Ke.unread?.[de]||0),0);F(ne)}Pe()},[r,n]),d.jsxs(d.Fragment,{children:[typeof window<"u"&&la.createPortal(d.jsx(je,{}),document.body),d.jsxs("div",{className:"pt-32 sm:pt-10 pb-32 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-0 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col animate-fadeInUp",children:[d.jsxs("header",{className:"hidden sm:block pb-2 pt-4",children:[d.jsx("h1",{className:"text-[25px] font-light text-black dark:text-white leading-none animate-slideInLeft mb-4",children:i("my_dashboard","My Dashboard").split(" ").map((Pe,de)=>d.jsxs("span",{children:[Pe,de===0?d.jsx("br",{}):""]},de))}),d.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1 mb-2",children:[d.jsx("button",{onClick:()=>_e("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${pe==="overview"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:i("overview","Overview")}),d.jsxs("button",{onClick:()=>{_e("reviews"),Le>0&&ae()},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors relative ${pe==="reviews"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i("reviews","Reviews"),Le>0&&d.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold",children:Le>9?"9+":Le})]})]})]}),d.jsx("main",{className:"flex-1 px-3 sm:px-4 py-2 sm:py-6 relative w-full mt-4",children:pe==="overview"?d.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-[1fr_420px] gap-6 items-start pb-16 mt-10",children:[d.jsxs("div",{className:"flex flex-col gap-6",children:[d.jsxs("div",{className:"bg-gradient-to-br from-[#F7F7F7] to-[#F0F8FF] dark:from-gray-800 dark:to-gray-900 rounded-2xl border border-sky-500 dark:border-sky-400 p-6 relative overflow-hidden card-interactive animate-fadeInUp",style:{animationDelay:"0.1s"},children:[d.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-sky-100/40 dark:from-sky-800/40 to-transparent rounded-full -translate-y-10 translate-x-10"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-black dark:text-white font-light text-xl tracking-tight animate-slideInLeft",style:{animationDelay:"0.2s"},children:i("top_products","Top Products")}),d.jsxs("div",{className:"px-3 py-1 bg-sky-100 dark:bg-sky-800 rounded-full text-xs text-sky-700 dark:text-sky-300 font-medium animate-bounceIn",style:{animationDelay:"0.3s"},children:["🏆 ",i("best_sellers","Best Sellers")]})]}),t.length===0?d.jsxs("div",{className:"text-center py-8 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[d.jsx("div",{className:"text-4xl mb-3",children:"📊"}),d.jsx("div",{className:"text-zinc-400 dark:text-zinc-500 text-sm",children:i("no_sales_data","No sales data yet")}),d.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500 mt-1",children:i("start_selling_message","Start selling products to see your top performers")})]}):d.jsx("div",{className:"flex flex-col gap-4",children:t.map((Pe,de)=>d.jsxs("div",{className:"group hover:bg-white/50 dark:hover:bg-gray-700/50 rounded-xl p-3 transition-all duration-200 relative",children:[d.jsx("div",{className:`absolute -left-2 -top-2 w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ${de===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":de===1?"bg-gradient-to-br from-gray-400 to-gray-600":de===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-sky-400 to-sky-600"}`,children:de+1}),d.jsxs("div",{className:"flex items-center justify-between ml-4",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-[14px] text-zinc-800 dark:text-zinc-200 truncate max-w-[140px] group-hover:text-sky-700 dark:group-hover:text-sky-400 transition-colors",children:Pe.name}),d.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:i("units_sold","{count} units sold",{count:Pe.sold})})]}),d.jsx("div",{className:"flex-1 mx-4 relative",children:d.jsxs("div",{className:"h-4 bg-gradient-to-r from-sky-100 to-blue-100 rounded-full relative overflow-hidden",children:[d.jsx("div",{className:`h-4 rounded-full transition-all duration-1000 ease-out relative ${de===0?"bg-gradient-to-r from-yellow-400 to-yellow-500":de===1?"bg-gradient-to-r from-gray-400 to-gray-500":de===2?"bg-gradient-to-r from-orange-400 to-orange-500":"bg-gradient-to-r from-sky-400 to-sky-500"}`,style:{width:`${Math.max(15,Pe.sold/(t[0]?.sold||1)*100)}%`,boxShadow:"0 2px 8px rgba(54, 165, 255, 0.3)"},children:d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 transform -skew-x-12 animate-pulse"})}),d.jsxs("div",{className:"absolute top-0 right-2 h-4 flex items-center text-xs font-medium text-white",style:{left:`${Math.max(15,Pe.sold/(t[0]?.sold||1)*100)}%`,transform:"translateX(-100%)"},children:[Math.round(Pe.sold/(t[0]?.sold||1)*100),"%"]})]})}),d.jsxs("div",{className:"text-right min-w-[50px]",children:[d.jsx("span",{className:`font-bold text-lg ${de===0?"text-yellow-600 dark:text-yellow-400":de===1?"text-gray-600 dark:text-gray-400":de===2?"text-orange-600 dark:text-orange-400":"text-sky-600 dark:text-sky-400"}`,children:Pe.sold}),d.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:i("units","units")})]})]}),d.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-hover:border-sky-200 transition-all duration-200"})]},Pe.id||de))})]})]}),d.jsxs("div",{className:"flex gap-2 w-full",children:[d.jsxs("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700",onClick:()=>s(!0),children:["+ ",i("add_product","Add Product")]}),d.jsx("button",{className:"flex-1 rounded-full border border-sky-600 dark:border-sky-400 text-sky-600 dark:text-sky-400 text-[13px] font-light py-2 hover:bg-[#E3F3FF] dark:hover:bg-sky-900/30",onClick:()=>l(!0),children:i("bulk_upload","Bulk Upload")})]}),a&&d.jsx(PP,{pharmacyId:r?.uid||n?.uid,onClose:()=>s(!1)}),o&&d.jsx(zF,{pharmacyId:r?.uid||n?.uid,onClose:()=>l(!1)}),d.jsx("div",{children:d.jsx(Due,{data:R})})]}),d.jsxs("div",{className:"flex flex-col gap-6 pb-8 relative z-0",children:[d.jsx("div",{className:"relative z-0",children:d.jsx(Lue,{data:c,filter:p,onFilterChange:g,topPeriod:m})}),d.jsx("div",{children:d.jsx(jue,{cards:[d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_products","Total Products")}),d.jsx("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:w})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_orders","Total Orders")}),d.jsx("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:N})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_revenue","Total Revenue")}),d.jsxs("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:["₦",P.toLocaleString()]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("active_customers","Active Customers")}),d.jsx("div",{className:"text-[19px] font-semibold text-emerald-600 dark:text-emerald-400 tracking-tight",children:xe}),d.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("this_month","This Month")})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("avg_order_value","Avg Order Value")}),d.jsxs("div",{className:"text-[19px] font-semibold text-purple-600 dark:text-purple-400 tracking-tight",children:["₦",G.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("pending_orders","Pending Orders")}),d.jsx("div",{className:"text-[19px] font-semibold text-orange-600 dark:text-orange-400 tracking-tight",children:X}),d.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("awaiting","Awaiting")})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("low_stock_items","Low Stock Items")}),d.jsx("div",{className:"text-[19px] font-semibold text-red-600 dark:text-red-400 tracking-tight",children:q}),d.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("need_restock","Need Restock")})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("orders_this_month","Orders This Month")}),d.jsx("div",{className:"text-[19px] font-semibold text-blue-600 dark:text-blue-400 tracking-tight",children:J}),d.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:ve>0?J>=ve?d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["↗ +",((J-ve)/ve*100).toFixed(0),"%"]}):d.jsxs("span",{className:"text-red-500 dark:text-red-400",children:["↘ -",((ve-J)/ve*100).toFixed(0),"%"]}):d.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:i("no_comparison","No comparison")})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("pending_reviews","Pending Reviews")}),d.jsx("div",{className:"text-[19px] font-semibold text-yellow-600 dark:text-yellow-400 tracking-tight",children:Le}),d.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("need_response","Need Response")})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("recent_reviews","Recent Reviews")}),d.jsx("div",{className:"text-[19px] font-semibold text-indigo-600 dark:text-indigo-400 tracking-tight",children:be.length}),d.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("last_24h","Last 24h")})]})]})}),q>0&&d.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border border-red-200 dark:border-red-700 rounded-2xl p-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm font-bold",children:"!"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-red-700 dark:text-red-400 font-medium text-sm",children:i("low_stock_alert","Low Stock Alert")}),d.jsx("div",{className:"text-red-600 dark:text-red-500 text-xs",children:i("items_need_restocking","{count} item{plural} need restocking",{count:q,plural:q>1?"s":""})})]})]}),d.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 rounded-lg px-3 py-2",children:["💡 ",i("inventory_tip","Check your inventory to avoid running out of popular products")]})]}),d.jsx("div",{children:d.jsx(Oue,{threads:S,unreadCount:A,onThreadClick:Pe=>le(`/messages/${Pe.id}`)})}),d.jsx("div",{children:d.jsx(Mue,{reviews:be.slice(0,5),onViewAllReviews:()=>{_e("reviews"),ae()}})})]})]}):d.jsx("div",{className:"pb-16 mt-10",children:d.jsx(Bue,{})})}),d.jsx($ue,{onClick:()=>s(!0),disabled:a}),d.jsx(Uue,{newReviews:be,onDismissReview:Pe=>{},onViewReview:Pe=>{_e("reviews"),ae()}})]})]})}function que(){const[t,e]=B.useState(0),[r,n]=B.useState(null),[i,a]=B.useState(null),[s,o]=B.useState(!1),l=B.useRef(null),c=B.useRef(0),f=B.useRef(null),p=Ni(),g=Yl(),{profile:m}=Pn(),y=["/","/orders","/messages","/cart","/profile"],w=["/dashboard","/orders","/messages","/profile"],k=m?.role==="pharmacy"?w:y,N=k.indexOf(g.pathname),L=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,P=S=>{switch(S){case"/":return d.jsx(kP,{});case"/orders":return d.jsx(SP,{});case"/messages":return d.jsx(CP,{});case"/cart":return d.jsx(NP,{});case"/profile":return m?.role==="pharmacy"?d.jsx(XL,{}):d.jsx(IP,{});case"/dashboard":return d.jsx(YL,{});default:return null}},V=S=>{if(!L)return;const A=S.touches[0].clientX,F=window.innerWidth,M=50,re=A<M,pe=A>F-M;if(!re&&!pe)return;l.current=A,c.current=A;let _e=null,xe=-1;pe&&N<k.length-1?(_e="left",xe=N+1):re&&N>0&&(_e="right",xe=N-1),_e&&xe!==-1&&(n(_e),a(k[xe]),o(!0))},Y=S=>{if(!s||l.current===null)return;S.preventDefault();const A=S.touches[0].clientX,F=A-l.current,M=window.innerWidth;c.current=A,f.current&&cancelAnimationFrame(f.current),f.current=requestAnimationFrame(()=>{const re=M*.7;let pe=Math.abs(F)/re;const _e=pe<.5?2*pe*pe:-1+(4-2*pe)*pe;pe=Math.min(_e,1),r==="left"&&F<0||r==="right"&&F>0?(e(pe),pe>.25&&t<=.25&&"vibrate"in navigator&&navigator.vibrate(30)):Math.abs(F)>15&&Q()})},Q=()=>{if(!s)return;if(t>.25&&i)"vibrate"in navigator&&navigator.vibrate([50,50,100]),e(1),setTimeout(()=>{p(i,{state:{slide:r==="left"?"left":"right"}})},200);else{"vibrate"in navigator&&navigator.vibrate(25),(()=>{let F=t;const M=()=>{F*=.85,e(F),F>.01?requestAnimationFrame(M):(e(0),n(null),a(null),o(!1),l.current=null)};requestAnimationFrame(M)})();return}setTimeout(()=>{e(0),n(null),a(null),o(!1),l.current=null},250)};B.useEffect(()=>{if(!L)return;const S=document.body;return S.addEventListener("touchstart",V,{passive:!0}),S.addEventListener("touchmove",Y,{passive:!1}),S.addEventListener("touchend",Q,{passive:!0}),S.addEventListener("touchcancel",Q,{passive:!0}),()=>{S.removeEventListener("touchstart",V),S.removeEventListener("touchmove",Y),S.removeEventListener("touchend",Q),S.removeEventListener("touchcancel",Q),f.current&&cancelAnimationFrame(f.current)}},[L,s,t,r,N]);const R=()=>{if(!s||!r)return{};const S=t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,j=r==="left"?-S*100:S*100,A=1-S*.05,F=r==="left"?S*3:-S*3;return{transform:`translateX(${j}%) scale(${A}) rotateY(${F}deg)`,transformOrigin:r==="left"?"right center":"left center",transition:s?"none":"transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",filter:`brightness(${1-S*.1})`}},T=()=>{if(!s||!r)return{display:"none"};const S=t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,j=r==="left"?100-S*100:-100+S*100,A=.95+S*.05,F=r==="left"?(1-S)*-5:(1-S)*5;return{transform:`translateX(${j}%) scale(${A}) rotateY(${F}deg)`,transformOrigin:r==="left"?"left center":"right center",transition:s?"none":"transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"white",zIndex:s?10:-1,boxShadow:r==="left"?`-10px 0 30px rgba(0,0,0,${.1*(1-S)})`:`10px 0 30px rgba(0,0,0,${.1*(1-S)})`,filter:`brightness(${.9+S*.1})`}};return d.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[d.jsxs("div",{style:R(),className:"relative",children:[d.jsx(Hw,{}),s&&d.jsx("div",{className:"absolute inset-0 bg-black pointer-events-none",style:{opacity:t*.2,zIndex:5,transition:"opacity 0.1s ease-out"}})]}),s&&i&&d.jsx("div",{style:T(),children:d.jsxs("div",{className:"h-full bg-white relative",children:[P(i),t<.6&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/95 to-white/90 backdrop-blur-sm flex items-center justify-center pointer-events-none",style:{opacity:Math.max(0,1-t*2),transition:"opacity 0.15s ease-out"},children:d.jsxs("div",{className:"text-center space-y-3",children:[d.jsxs("div",{className:"relative w-14 h-14 mx-auto",children:[d.jsxs("svg",{className:"w-14 h-14 transform -rotate-90",viewBox:"0 0 100 100",children:[d.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:"#e5e7eb",strokeWidth:"4"}),d.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:"url(#progressGradient)",strokeWidth:"4",strokeDasharray:`${t*188.4} 188.4`,className:"transition-all duration-75 ease-out",strokeLinecap:"round"}),d.jsx("defs",{children:d.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[d.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),d.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})})]}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("span",{className:"text-xs font-semibold text-sky-600",children:[Math.round(t*100),"%"]})})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs font-medium text-gray-700 mb-0.5",children:t<.25?"Keep swiping...":"Almost there!"}),d.jsx("div",{className:"text-[10px] text-gray-500",children:t<.25?"Continue to preview":"Release to navigate"})]}),d.jsx("div",{className:"flex items-center justify-center space-x-1",children:[.1,.15,.2,.25].map((S,j)=>d.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-200 ${t>S?"bg-gradient-to-r from-sky-500 to-cyan-500 scale-110":"bg-gray-300 scale-100"}`},j))})]})})]})})]})}const Hue=()=>{const{getSetting:t}=Wg();B.useEffect(()=>{t(Ar.HIGH_CONTRAST)?document.documentElement.classList.add("high-contrast"):document.documentElement.classList.remove("high-contrast")},[t(Ar.HIGH_CONTRAST)]),B.useEffect(()=>{t(Ar.REDUCE_MOTION)?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")},[t(Ar.REDUCE_MOTION)]),B.useEffect(()=>{const e=t(Ar.THEME_MODE),r=document.documentElement;if(r.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;r.classList.add(n?"dark":"light");const i=window.matchMedia("(prefers-color-scheme: dark)"),a=s=>{r.classList.remove("light","dark"),r.classList.add(s.matches?"dark":"light")};return i.addEventListener("change",a),()=>i.removeEventListener("change",a)}else r.classList.add(e)},[t(Ar.THEME_MODE)]),B.useEffect(()=>{const e=t(Ar.FONT_SIZE),r=document.documentElement;r.classList.remove("font-small","font-medium","font-large"),r.classList.add(`font-${e}`)},[t(Ar.FONT_SIZE)]),B.useEffect(()=>{const e=t(Ar.LANGUAGE);document.documentElement.lang=e},[t(Ar.LANGUAGE)])};function Wue({color:t="black",...e}){return d.jsx("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{d:"M1.38004 6.00487L0.919293 5.79263L0.919001 5.79327L1.38004 6.00487ZM3.22754 4.0549L2.89744 3.66972L2.89735 3.6698L3.22754 4.0549ZM4.24209 3.18542L3.91215 2.80011L3.91199 2.80024L4.24209 3.18542ZM12.1657 3.18441L12.4958 2.79923L12.4958 2.79918L12.1657 3.18441ZM13.1803 4.05388L13.5107 3.66894L13.5104 3.6687L13.1803 4.05388ZM15.0268 6.00385L14.5657 6.21545L14.566 6.21609L15.0268 6.00385ZM10.233 17.0371C10.233 17.3173 10.4601 17.5444 10.7403 17.5444C11.0205 17.5444 11.2476 17.3173 11.2476 17.0371H10.7403H10.233ZM5.16027 17.0371C5.16027 17.3173 5.38738 17.5444 5.66755 17.5444C5.94771 17.5444 6.17482 17.3173 6.17482 17.0371H5.66755H5.16027ZM1.10205 8.6772H1.60933C1.60933 7.2531 1.62014 6.69785 1.84108 6.21646L1.38004 6.00487L0.919001 5.79327C0.583964 6.52326 0.594774 7.34577 0.594774 8.6772H1.10205ZM1.38004 6.00487L1.84078 6.2171C2.06254 5.7357 2.4764 5.36715 3.55773 4.44L3.22754 4.0549L2.89735 3.6698C1.88667 4.53637 1.25554 5.06266 0.919294 5.79263L1.38004 6.00487ZM3.22754 4.0549L3.55764 4.44008L4.57219 3.5706L4.24209 3.18542L3.91199 2.80024L2.89744 3.66972L3.22754 4.0549ZM4.24209 3.18542L4.57204 3.57074C5.5283 2.75189 6.2094 2.16896 6.79004 1.78503C7.35875 1.40899 7.77821 1.26082 8.20392 1.26082V0.75354V0.246264C7.50348 0.246264 6.88809 0.503911 6.23046 0.938751C5.58476 1.3657 4.84802 1.99872 3.91215 2.80011L4.24209 3.18542ZM8.20392 0.75354V1.26082C8.62982 1.26082 9.04961 1.40889 9.61834 1.78463C10.199 2.16824 10.8801 2.7509 11.8357 3.56963L12.1657 3.18441L12.4958 2.79918C11.5603 1.99767 10.8235 1.3649 10.1776 0.938137C9.51974 0.503509 8.90417 0.246264 8.20392 0.246264V0.75354ZM12.1657 3.18441L11.8356 3.56959L12.8502 4.43906L13.1803 4.05388L13.5104 3.6687L12.4958 2.79923L12.1657 3.18441ZM13.1803 4.05388L12.8499 4.43882C13.9308 5.36653 14.345 5.73455 14.5657 6.21545L15.0268 6.00385L15.4878 5.79225C15.1526 5.06178 14.5197 4.53496 13.5107 3.66894L13.1803 4.05388ZM15.0268 6.00385L14.566 6.21609C14.7876 6.69715 14.7985 7.25196 14.7985 8.67618H15.3058H15.8131C15.8131 7.34488 15.8239 6.52193 15.4875 5.79162L15.0268 6.00385ZM15.3058 8.67618H14.7985V12.9789H15.3058H15.8131V8.67618H15.3058ZM15.3058 12.9789H14.7985C14.7985 13.95 14.7974 14.627 14.7287 15.1377C14.662 15.6338 14.5399 15.8965 14.3526 16.0839L14.7113 16.4426L15.07 16.8013C15.4771 16.3941 15.6523 15.8818 15.7342 15.273C15.8141 14.6789 15.8131 13.9213 15.8131 12.9789H15.3058ZM14.7113 16.4426L14.3526 16.0839C14.1652 16.2713 13.9024 16.3933 13.4064 16.46C12.8956 16.5288 12.2187 16.5298 11.2476 16.5298V17.0371V17.5444C12.1899 17.5444 12.9475 17.5455 13.5416 17.4655C14.1504 17.3836 14.6628 17.2084 15.07 16.8013L14.7113 16.4426ZM11.2476 17.0371V16.5298H5.16026V17.0371V17.5444H11.2476V17.0371ZM5.16026 17.0371V16.5298C4.18918 16.5298 3.5122 16.5288 3.00146 16.46C2.50541 16.3933 2.24265 16.2713 2.05528 16.0839L1.69658 16.4426L1.33788 16.8013C1.74503 17.2084 2.2574 17.3836 2.86619 17.4655C3.4603 17.5455 4.21789 17.5444 5.16026 17.5444V17.0371ZM1.69658 16.4426L2.05528 16.0839C1.8679 15.8965 1.74585 15.6338 1.67911 15.1377C1.61041 14.627 1.60933 13.95 1.60933 12.9789H1.10205H0.594774C0.594774 13.9213 0.593696 14.6789 0.673619 15.273C0.755519 15.8818 0.930728 16.3941 1.33788 16.8013L1.69658 16.4426ZM1.10205 12.9789H1.60933V8.6772H1.10205H0.594774V12.9789H1.10205ZM10.7403 17.0371H11.2476V11.9643H10.7403H10.233V17.0371H10.7403ZM10.7403 11.9643H11.2476C11.2476 11.5607 11.0872 11.1736 10.8019 10.8882L10.4432 11.2469L10.0845 11.6056C10.1796 11.7008 10.233 11.8298 10.233 11.9643H10.7403ZM10.4432 11.2469L10.8019 10.8882C10.5165 10.6029 10.1294 10.4425 9.72576 10.4425V10.9498V11.4571C9.86029 11.4571 9.98932 11.5105 10.0845 11.6056L10.4432 11.2469ZM9.72576 10.9498V10.4425H6.6821V10.9498V11.4571H9.72576V10.9498ZM6.6821 10.9498V10.4425C6.27848 10.4425 5.8914 10.6028 5.606 10.8882L5.9647 11.2469L6.3234 11.6056C6.41853 11.5105 6.54756 11.4571 6.6821 11.4571V10.9498ZM5.9647 11.2469L5.606 10.8882C5.3206 11.1736 5.16027 11.5607 5.16027 11.9643H5.66755H6.17482C6.17482 11.8298 6.22827 11.7008 6.3234 11.6056L5.9647 11.2469ZM5.66755 11.9643H5.16027V17.0371H5.66755H6.17482V11.9643H5.66755Z",fill:t})})}function Gue({color:t="black",...e}){return d.jsx("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{d:"M5.12519 5.42678H10.9951M5.12519 9.27611H10.9951M5.12519 13.1254H9.03846M3.16855 0.615112H12.9517C14.0324 0.615112 14.9084 1.47681 14.9084 2.53978V15.0501C14.9084 16.1131 14.0324 16.9748 12.9517 16.9748H3.16855C2.08793 16.9748 1.21191 16.1131 1.21191 15.0501V2.53978C1.21191 1.47681 2.08793 0.615112 3.16855 0.615112Z",stroke:t,strokeWidth:"0.85113",strokeLinecap:"round"})})}const Kue=({color:t="black",...e})=>d.jsxs("svg",{width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7145 1.04437C15.256 1.04437 15.7753 1.25948 16.1582 1.64236C16.5411 2.02525 16.7562 2.54455 16.7562 3.08604V13.2944C16.7562 13.8358 16.5411 14.3551 16.1582 14.738C15.7753 15.1209 15.256 15.336 14.7145 15.336L11.653 15.335L9.31123 17.6768C9.13545 17.8525 8.90158 17.9581 8.65349 17.9737C8.4054 17.9893 8.16015 17.9139 7.96374 17.7615L7.86778 17.6768L5.52599 15.335L2.46452 15.336C1.92303 15.336 1.40373 15.1209 1.02084 14.738C0.637955 14.3551 0.422852 13.8358 0.422852 13.2944V3.08604C0.422852 2.54455 0.637955 2.02525 1.02084 1.64236C1.40373 1.25948 1.92303 1.04437 2.46452 1.04437H14.7145Z",stroke:t,strokeWidth:"0.857499",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.58849 9.21104C9.09891 9.21104 9.60932 8.70062 9.60932 8.1902C9.60932 7.67979 9.09891 7.16937 8.58849 7.16937C8.07807 7.16937 7.56868 7.67979 7.56868 8.1902C7.56868 8.70062 8.07807 9.21104 8.58849 9.21104ZM4.50516 9.21104C5.01558 9.21104 5.52599 8.70062 5.52599 8.1902C5.52599 7.67979 5.01558 7.16937 4.50516 7.16937C3.99475 7.16937 3.48535 7.67979 3.48535 8.1902C3.48535 8.70062 3.99475 9.21104 4.50516 9.21104ZM12.6718 9.21104C13.1822 9.21104 13.6926 8.70062 13.6926 8.1902C13.6926 7.67979 13.1822 7.16937 12.6718 7.16937C12.1614 7.16937 11.652 7.67979 11.652 8.1902C11.652 8.70062 12.1614 9.21104 12.6718 9.21104Z",fill:t})]});function Xue({color:t="black",...e}){return d.jsx("svg",{width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{d:"M14.463 13.865C14.9423 13.865 15.4019 14.0554 15.7408 14.3943C16.0797 14.7332 16.2701 15.1929 16.2701 15.6722C16.2701 16.1515 16.0797 16.6111 15.7408 16.95C15.4019 17.289 14.9423 17.4794 14.463 17.4794C13.9837 17.4794 13.524 17.289 13.1851 16.95C12.8462 16.6111 12.6558 16.1515 12.6558 15.6722C12.6558 15.1929 12.8462 14.7332 13.1851 14.3943C13.524 14.0554 13.9837 13.865 14.463 13.865ZM14.463 14.7686C14.2233 14.7686 13.9935 14.8638 13.824 15.0332C13.6546 15.2027 13.5594 15.4325 13.5594 15.6722C13.5594 15.9118 13.6546 16.1417 13.824 16.3111C13.9935 16.4806 14.2233 16.5758 14.463 16.5758C14.7026 16.5758 14.9324 16.4806 15.1019 16.3111C15.2714 16.1417 15.3666 15.9118 15.3666 15.6722C15.3666 15.4325 15.2714 15.2027 15.1019 15.0332C14.9324 14.8638 14.7026 14.7686 14.463 14.7686ZM6.3307 13.865C6.80999 13.865 7.26965 14.0554 7.60856 14.3943C7.94747 14.7332 8.13787 15.1929 8.13787 15.6722C8.13787 16.1515 7.94747 16.6111 7.60856 16.95C7.26965 17.289 6.80999 17.4794 6.3307 17.4794C5.8514 17.4794 5.39174 17.289 5.05283 16.95C4.71392 16.6111 4.52352 16.1515 4.52352 15.6722C4.52352 15.1929 4.71392 14.7332 5.05283 14.3943C5.39174 14.0554 5.8514 13.865 6.3307 13.865ZM6.3307 14.7686C6.09105 14.7686 5.86122 14.8638 5.69176 15.0332C5.52231 15.2027 5.42711 15.4325 5.42711 15.6722C5.42711 15.9118 5.52231 16.1417 5.69176 16.3111C5.86122 16.4806 6.09105 16.5758 6.3307 16.5758C6.57034 16.5758 6.80017 16.4806 6.96963 16.3111C7.13908 16.1417 7.23428 15.9118 7.23428 15.6722C7.23428 15.4325 7.13908 15.2027 6.96963 15.0332C6.80017 14.8638 6.57034 14.7686 6.3307 14.7686ZM16.2701 3.02198H3.86391L6.16805 8.44349H13.5594C13.8576 8.44349 14.1196 8.29892 14.2823 8.08206L16.993 4.46771C17.1105 4.3141 17.1737 4.12435 17.1737 3.92556C17.1737 3.68592 17.0785 3.45609 16.9091 3.28663C16.7396 3.11718 16.5098 3.02198 16.2701 3.02198ZM13.5594 9.34708H6.21323L5.51747 10.7567L5.42711 11.1543C5.42711 11.3939 5.52231 11.6237 5.69176 11.7932C5.86122 11.9626 6.09105 12.0578 6.3307 12.0578H16.2701V12.9614H6.3307C5.8514 12.9614 5.39174 12.771 5.05283 12.4321C4.71392 12.0932 4.52352 11.6335 4.52352 11.1543C4.52326 10.8477 4.60099 10.546 4.74942 10.2778L5.4 8.9495L2.11998 1.2148H0.90918V0.311218H2.71635L3.4844 2.11839H16.2701C16.7494 2.11839 17.2091 2.30879 17.548 2.6477C17.8869 2.98661 18.0773 3.44627 18.0773 3.92556C18.0773 4.37736 17.9237 4.75686 17.6707 5.06408L15.0413 8.57903C14.716 9.03986 14.1738 9.34708 13.5594 9.34708Z",fill:t})})}function Yue({color:t="black",...e}){return d.jsx("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{d:"M4.1359 15.3442C4.9803 14.7362 5.87636 14.2557 6.82408 13.9027C7.77114 13.5491 8.797 13.3722 9.90168 13.3722C11.0064 13.3722 12.0322 13.5491 12.9793 13.9027C13.9263 14.2564 14.8224 14.7365 15.6675 15.3432C16.3231 14.6643 16.8506 13.863 17.25 12.9391C17.6493 12.0139 17.849 10.9993 17.849 9.89528C17.849 7.6932 17.0751 5.81796 15.5274 4.26956C13.9797 2.72115 12.1044 1.94728 9.90168 1.94795C7.69895 1.94861 5.82371 2.72281 4.27597 4.27055C2.72823 5.81829 1.95435 7.6932 1.95435 9.89528C1.95435 10.9993 2.15403 12.0139 2.55339 12.9391C2.95274 13.8636 3.48024 14.665 4.1359 15.3432M9.90268 10.392C9.06556 10.392 8.35924 10.1046 7.78372 9.5297C7.2082 8.95484 6.92077 8.24918 6.92144 7.41273C6.9221 6.57627 7.20953 5.86995 7.78372 5.29377C8.35791 4.71759 9.0639 4.43016 9.90168 4.43149C10.7395 4.43281 11.4455 4.72024 12.0196 5.29377C12.5938 5.8673 12.8813 6.57329 12.8819 7.41173C12.8826 8.25018 12.5952 8.95617 12.0196 9.5297C11.4441 10.1032 10.7385 10.3907 9.90268 10.392ZM9.90168 18.836C8.65461 18.836 7.48735 18.6039 6.39989 18.1396C5.31243 17.6754 4.36604 17.0409 3.56071 16.2363C2.75538 15.4316 2.12092 14.4852 1.65732 13.3971C1.19373 12.3089 0.961601 11.1417 0.960939 9.89528C0.960277 8.64887 1.1924 7.4816 1.65732 6.39348C2.12224 5.30536 2.7567 4.35897 3.56071 3.5543C4.36604 2.74963 5.31243 2.11517 6.39989 1.65091C7.48735 1.18666 8.65461 0.954529 9.90168 0.954529C11.1488 0.954529 12.316 1.18666 13.4035 1.65091C14.4909 2.11517 15.4373 2.74963 16.2427 3.5543C17.048 4.35897 17.6824 5.30536 18.146 6.39348C18.6096 7.4816 18.8418 8.64887 18.8424 9.89528C18.8431 11.1417 18.611 12.3089 18.146 13.3971C17.6811 14.4852 17.0467 15.4316 16.2427 16.2363C15.4373 17.0409 14.4909 17.6754 13.4035 18.1396C12.316 18.6039 11.1488 18.836 9.90168 18.836ZM9.90168 17.8426C10.8176 17.8426 11.7186 17.6823 12.6048 17.3618C13.4909 17.0419 14.2568 16.6035 14.9025 16.0465C14.2575 15.5279 13.5108 15.1183 12.6624 14.8177C11.814 14.517 10.8938 14.3663 9.90168 14.3656C8.90959 14.365 7.98605 14.5123 7.13105 14.8077C6.27605 15.1031 5.53231 15.516 4.89983 16.0465C5.54555 16.6028 6.31181 17.0413 7.1986 17.3618C8.08539 17.6823 8.98642 17.8426 9.90168 17.8426ZM9.90168 9.39857C10.4593 9.39857 10.9299 9.20684 11.3133 8.82338C11.6968 8.43992 11.8885 7.96937 11.8885 7.41173C11.8885 6.8541 11.6968 6.38355 11.3133 6.00009C10.9299 5.61663 10.4593 5.4249 9.90168 5.4249C9.34405 5.4249 8.8735 5.61663 8.49004 6.00009C8.10658 6.38355 7.91485 6.8541 7.91485 7.41173C7.91485 7.96937 8.10658 8.43992 8.49004 8.82338C8.8735 9.20684 9.34405 9.39857 9.90168 9.39857Z",fill:t})})}function Que({color:t="black",...e}){return d.jsxs("svg",{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsx("path",{d:"M5.20469 12.8046H2.40469C1.98034 12.8046 1.57338 12.9731 1.27332 13.2732C0.973259 13.5733 0.804688 13.9802 0.804688 14.4046V17.2046C0.804688 17.6289 0.973259 18.0359 1.27332 18.3359C1.57338 18.636 1.98034 18.8046 2.40469 18.8046H5.20469C5.62903 18.8046 6.036 18.636 6.33606 18.3359C6.63612 18.0359 6.80469 17.6289 6.80469 17.2046V14.4046C6.80469 13.9802 6.63612 13.5733 6.33606 13.2732C6.036 12.9731 5.62903 12.8046 5.20469 12.8046ZM15.2047 0.804565H12.4047C11.9803 0.804565 11.5734 0.973136 11.2733 1.27319C10.9733 1.57325 10.8047 1.98022 10.8047 2.40457V5.20457C10.8047 5.62891 10.9733 6.03588 11.2733 6.33594C11.5734 6.63599 11.9803 6.80457 12.4047 6.80457H15.2047C15.629 6.80457 16.036 6.63599 16.3361 6.33594C16.6361 6.03588 16.8047 5.62891 16.8047 5.20457V2.40457C16.8047 1.98022 16.6361 1.57325 16.3361 1.27319C16.036 0.973136 15.629 0.804565 15.2047 0.804565Z",fill:t,fillOpacity:"0.16"}),d.jsx("path",{d:"M5.20469 0.804565H2.40469C1.98034 0.804565 1.57338 0.973136 1.27332 1.27319C0.973259 1.57325 0.804688 1.98022 0.804688 2.40457V7.20457C0.804688 7.41468 0.846073 7.62274 0.92648 7.81686C1.00689 8.01098 1.12474 8.18736 1.27332 8.33594C1.42189 8.48451 1.59827 8.60237 1.79239 8.68277C1.98652 8.76318 2.19457 8.80457 2.40469 8.80457H5.20469C5.4148 8.80457 5.62286 8.76318 5.81698 8.68277C6.0111 8.60237 6.18748 8.48451 6.33606 8.33594C6.48463 8.18736 6.60249 8.01098 6.68289 7.81686C6.7633 7.62274 6.80469 7.41468 6.80469 7.20457V2.40457C6.80469 1.98022 6.63612 1.57325 6.33606 1.27319C6.036 0.973136 5.62903 0.804565 5.20469 0.804565ZM5.20469 12.8046H2.40469C1.98034 12.8046 1.57338 12.9731 1.27332 13.2732C0.973259 13.5733 0.804688 13.9802 0.804688 14.4046V17.2046C0.804688 17.6289 0.973259 18.0359 1.27332 18.3359C1.57338 18.636 1.98034 18.8046 2.40469 18.8046H5.20469C5.62903 18.8046 6.036 18.636 6.33606 18.3359C6.63612 18.0359 6.80469 17.6289 6.80469 17.2046V14.4046C6.80469 13.9802 6.63612 13.5733 6.33606 13.2732C6.036 12.9731 5.62903 12.8046 5.20469 12.8046ZM15.2047 0.804565H12.4047C11.9803 0.804565 11.5734 0.973136 11.2733 1.27319C10.9733 1.57325 10.8047 1.98022 10.8047 2.40457V5.20457C10.8047 5.62891 10.9733 6.03588 11.2733 6.33594C11.5734 6.63599 11.9803 6.80457 12.4047 6.80457H15.2047C15.629 6.80457 16.036 6.63599 16.3361 6.33594C16.6361 6.03588 16.8047 5.62891 16.8047 5.20457V2.40457C16.8047 1.98022 16.6361 1.57325 16.3361 1.27319C16.036 0.973136 15.629 0.804565 15.2047 0.804565ZM15.2047 10.8046H12.4047C11.9803 10.8046 11.5734 10.9731 11.2733 11.2732C10.9733 11.5733 10.8047 11.9802 10.8047 12.4046V17.2046C10.8047 17.6289 10.9733 18.0359 11.2733 18.3359C11.5734 18.636 11.9803 18.8046 12.4047 18.8046H15.2047C15.629 18.8046 16.036 18.636 16.3361 18.3359C16.6361 18.0359 16.8047 17.6289 16.8047 17.2046V12.4046C16.8047 11.9802 16.6361 11.5733 16.3361 11.2732C16.036 10.9731 15.629 10.8046 15.2047 10.8046Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinejoin:"round"})]})}function Jue({tab:t,setTab:e,cartCount:r=0,unreadMessages:n=0,ordersCount:i=0}){const{profile:a}=Pn(),{t:s}=Na(),o=a&&a.role==="pharmacy",[l,c]=B.useState({left:0,opacity:0}),f=B.useRef(null),p=B.useRef({}),g=[o?{key:"/",label:s("dashboard","Dashboard"),icon:Que}:{key:"/",label:s("home","Home"),icon:Wue},{key:"/orders",label:s("orders","Orders"),icon:Gue},{key:"/messages",label:s("messages","Messages"),icon:Kue},...o?[]:[{key:"/cart",label:s("cart","Cart"),icon:Xue}],{key:"/profile",label:s("profile","Profile"),icon:Yue}],m=()=>{const k=g.findIndex(P=>P.key===t),N=p.current[t],L=f.current;if(N&&L&&k!==-1){const P=L.getBoundingClientRect(),V=N.getBoundingClientRect(),Y=V.left-P.left+V.width/2-20;c({left:`${Y}px`,opacity:1})}else c(P=>({...P,opacity:0}))},y=n>99?"99+":String(n||"");B.useEffect(()=>{requestAnimationFrame(()=>{m()})},[t,g]),B.useEffect(()=>{let k;const N=()=>{clearTimeout(k),k=setTimeout(()=>{requestAnimationFrame(m)},100)};return window.addEventListener("resize",N,{passive:!0}),()=>{window.removeEventListener("resize",N),clearTimeout(k)}},[]),B.useEffect(()=>{try{console.debug("[BottomNav] props",{tab:t,cartCount:r,unreadMessages:n,ordersCount:i,displayUnread:y,profile:a})}catch(k){console.error("[BottomNav] debug log failed",k)}},[t,r,n,i,y,a]);const w=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugBottomNav")==="1";return d.jsxs("div",{className:"fixed bottom-3 left-0 right-0 flex justify-center z-50 px-3 sm:px-4","aria-hidden":!1,children:[d.jsxs("nav",{ref:f,role:"navigation","aria-label":"Bottom navigation",className:"liquid-bottom-nav max-w-[95vw] min-w-[280px] sm:max-w-md lg:max-w-lg px-6 sm:px-5 py-3 bg-white/95 dark:bg-gray-900/40 backdrop-blur-md border border-sky-300 dark:border-sky-300 relative",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTransform:"translateZ(0)",transform:"translateZ(0)"},children:[d.jsx("div",{className:"absolute bottom-[5.8rem] w-10 h-2 bg-gradient-to-r from-sky-400 to-sky-600 rounded-full shadow-lg will-change-transform",style:{left:l.left,opacity:l.opacity,transition:"left 0.25s cubic-bezier(0.4, 0.0, 0.2, 1), opacity 0.15s ease-out",transform:`scale(${l.opacity})`,boxShadow:"0 2px 8px rgba(56, 165, 255, 0.4), 0 0 16px rgba(56, 165, 255, 0.2)"}}),d.jsx("div",{className:"flex items-center justify-center gap-[-1] px-2",children:g.map((k,N)=>{const L=t===k.key,P=k.icon,V={color:L?"#36A5FF":document.documentElement.classList.contains("dark")?"#ffffff":"#6b7280"},Y=k.key==="/cart",Q=k.key==="/messages",R=k.key==="/orders";return d.jsx("div",{className:"flex-none",children:d.jsxs("button",{ref:T=>p.current[k.key]=T,onClick:()=>e(k.key),"aria-label":k.label,"aria-pressed":L,className:`relative flex flex-col items-center text-xs min-w-[56px] sm:min-w-[64px] md:min-w-[72px] px-1 sm:px-2 py-3 focus:outline-none transition-all duration-150 ease-out will-change-transform ${L?"text-sky-600 dark:text-sky-400 transform scale-105":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:[d.jsx("div",{className:"relative z-10 transition-transform duration-150 ease-out will-change-transform hover:scale-110",children:d.jsx(P,{...V,className:`h-7 w-7 sm:h-7 sm:w-7 mb-2 sm:mb-2 transition-all duration-150 ease-out ${L?"drop-shadow-lg":""}`})}),Y&&r>0&&d.jsx("span",{className:"absolute -top-0.5 -right-0.5 z-50 bg-sky-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:r}),R&&o&&i>0&&d.jsx("span",{className:"absolute -top-0.5 -right-0 z-50 bg-orange-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:i>99?"99+":i}),Q&&n>0&&(()=>{try{return d.jsx("span",{role:"status","aria-live":"polite","aria-atomic":"true",className:"absolute top-0 right-2 z-50 bg-sky-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:y})}catch(T){return console.error("[BottomNav] Error rendering messages badge",T,{unreadMessages:n}),null}})(),d.jsx("span",{className:`truncate max-w-[56px] sm:max-w-[72px] block text-center text-[10px] sm:text-[12px] transition-all duration-150 ease-out ${L?"font-bold":"font-normal"}`,children:k.label})]})},k.key)})})]}),w&&d.jsxs("div",{className:"fixed bottom-20 right-4 z-60 bg-black/80 text-white text-xs px-3 py-1 rounded",children:["UnreadRaw: ",String(n)]})]})}function HS(t){return d.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{d:"M4.87524 5.41667C4.73158 5.41667 4.59381 5.47373 4.49223 5.57532C4.39064 5.6769 4.33358 5.81467 4.33358 5.95833V8.125H5.41691V6.5H7.04191V7.85417L8.93774 5.95833L7.04191 4.0625V5.41667H4.87524ZM6.8832 0.75454L12.2457 6.11704C12.3472 6.21862 12.4043 6.35637 12.4043 6.5C12.4043 6.64363 12.3472 6.78138 12.2457 6.88296L6.8832 12.2455C6.78162 12.347 6.64387 12.404 6.50024 12.404C6.35661 12.404 6.21886 12.347 6.11728 12.2455L0.754784 6.88296C0.653237 6.78138 0.596191 6.64363 0.596191 6.5C0.596191 6.35637 0.653237 6.21862 0.754784 6.11704L6.11728 0.75454C6.21886 0.652993 6.35661 0.595947 6.50024 0.595947C6.64387 0.595947 6.78162 0.652993 6.8832 0.75454Z",fill:"currentColor"})})}function Zue({product:t,pharmacy:e}){const{user:r}=Pn(),{t:n}=Na(),i=Ni(),{userCoords:a}=pp();if(!t)return null;const s=Number(t.price||0),[o,l]=B.useState(!1),[c,f]=B.useState(!1),[p,g]=B.useState(null),[m,y]=B.useState(!1),[w,k]=B.useState(!1),[N,L]=B.useState(!1);B.useEffect(()=>{if(e&&a){const je=v6(e,a,"driving");g(je)}else g(null)},[e,a]),B.useEffect(()=>{(async()=>{if(r&&t)try{const Pe=await cP(r.uid,t.id);k(Pe)}catch(Pe){console.error("Error checking wishlist status:",Pe)}})()},[r,t]);const[P,V]=B.useState([]),[Y,Q]=B.useState(!1);async function R(je){if(!je)return V([]);try{Q(!0);const Pe=Nr(ur(gt,"products"),$r("category","==",je)),Me=(await jn(Pe)).docs.map(Be=>({id:Be.id,...Be.data()}));V(Me),f(!0)}catch(Pe){console.error("Failed to fetch category products",Pe),V([]),f(!0)}finally{Q(!1)}}const[T,S]=B.useState([]),[j,A]=B.useState(!0),[F,M]=B.useState({name:r?.displayName||"",rating:"",comment:""}),[re,pe]=B.useState(!1),[_e,xe]=B.useState(3),[oe,G]=B.useState(!1),[fe,X]=B.useState({}),[I,q]=B.useState({});B.useEffect(()=>{async function je(){if(!t?.id)return S([]);A(!0);try{const Pe=ur(gt,"products",t.id,"reviews"),de=Nr(Pe,es("createdAt","desc")),Me=await jn(de);S(Me.docs.map(Be=>({id:Be.id,...Be.data()})))}catch{S([])}finally{A(!1)}}je()},[t?.id]),B.useEffect(()=>{async function je(){if(!r||!t?.id||T.length===0)return q({});const Pe={};for(const de of T){or(gt,"products",t.id,"reviews",de.id,"likes",r.uid);try{const Me=await jn(Nr(ur(gt,"products",t.id,"reviews",de.id,"likes")));Pe[de.id]=Me.docs.some(Be=>Be.id===r.uid)}catch{}}q(Pe)}je()},[r,t?.id,T]);function W(je){const{name:Pe,value:de}=je.target;M(Me=>({...Me,[Pe]:de}))}async function J(je){if(je.preventDefault(),!(!F.rating&&!F.comment)){pe(!0);try{const Pe=ur(gt,"products",t.id,"reviews");await fp(Pe,{name:F.name,rating:F.rating?Number(F.rating):null,comment:F.comment||"",createdAt:Ja(),userId:r?.uid||null}),M({name:r?.displayName||"",rating:"",comment:""});const de=Nr(Pe,es("createdAt","desc")),Me=await jn(de);S(Me.docs.map(Be=>({id:Be.id,...Be.data()})))}catch{}finally{pe(!1)}}}async function ce(je){X(Pe=>({...Pe,[je]:!0}));try{const Pe=or(gt,"products",t.id,"reviews",je,"likes",r.uid),de=or(gt,"products",t.id,"reviews",je);I[je]?(await So(Pe),await ya(de,{likes:gv(-1)}),S(Me=>Me.map(Be=>Be.id===je?{...Be,likes:Math.max((Be.likes||1)-1,0)}:Be)),q(Me=>({...Me,[je]:!1}))):(await kc(Pe,{likedAt:Ja(),userId:r.uid}),await ya(de,{likes:gv(1)}),S(Me=>Me.map(Be=>Be.id===je?{...Be,likes:(Be.likes||0)+1}:Be)),q(Me=>({...Me,[je]:!0})))}catch{}finally{X(Pe=>({...Pe,[je]:!1}))}}if(!r)return d.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[d.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:"Please sign in to continue"}),d.jsx("button",{className:"rounded-full bg-sky-600 text-white px-6 py-2 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>i("/auth/landing"),children:"Sign In / Sign Up"})]});function ve({value:je,onChange:Pe,disabled:de}){return d.jsx("div",{className:"flex gap-1 mb-2",role:"radiogroup","aria-label":"Rating",children:[1,2,3,4,5].map(Me=>d.jsx("button",{type:"button",onClick:()=>!de&&Pe(Me),onKeyDown:Be=>{!de&&(Be.key==="Enter"||Be.key===" ")&&Pe(Me)},tabIndex:0,"aria-label":`${Me} Star${Me>1?"s":""}`,"aria-checked":je===Me,className:`transition-all duration-150 focus:outline-none ${je>=Me?"text-amber-400 scale-110":"text-zinc-300"} hover:scale-125 active:scale-95`,children:d.jsx(Py,{className:"w-6 h-6",fill:je>=Me?"#fbbf24":"none"})},Me))})}const Ee=`${window.location.origin}/product-preview/${t?.id}`;async function le(){if(navigator.share){try{await navigator.share({title:t.name,text:`Check out this product: ${t.name}`,url:Ee})}catch{}y(!1)}else if(navigator.clipboard){try{await navigator.clipboard.writeText(Ee),alert(n("shareable_link_copied","Shareable link copied to clipboard!"))}catch{window.prompt(n("copy_this_link","Copy this link:"),Ee)}y(!1)}else window.prompt(n("copy_this_link","Copy this link:"),Ee),y(!1)}const be=async()=>{if(!r){alert(n("please_sign_in_wishlist","Please sign in to add items to your wishlist"));return}if(!N){L(!0);try{w?(await lP(r.uid,t.id),k(!1)):(await oP(r.uid,t.id,{name:t.name,price:t.price,image:t.image,category:t.category,pharmacyId:e?.id,pharmacyName:e?.name}),k(!0))}catch(je){console.error("Error toggling wishlist:",je),alert(n("failed_update_wishlist","Failed to update wishlist. Please try again."))}finally{L(!1)}}};function Le(){const je=new URLSearchParams({productId:t?.id||"",productName:t?.name||"",productImage:t?.image||"",vendorName:e?.name||"",prefillMsg:"I want to know more about this drug"});i(`/chat/${e?.id}?${je.toString()}`),y(!1)}const ae=()=>d.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:d.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[d.jsxs("button",{onClick:()=>i(-1),className:"w-[70px] h-[24px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white border border-zinc-300 dark:border-gray-600 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[d.jsx(uu,{className:"h-4 w-4 mr-1"})," Back"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",className:`p-2 rounded-full border border-zinc-200 bg-white hover:scale-110 active:scale-95 transition-all duration-200 ${w?"bg-red-50 hover:bg-red-100":"hover:bg-red-50"} ${N?"opacity-50 cursor-not-allowed":""}`,"aria-label":w?"Remove from wishlist":"Add to wishlist",onClick:be,disabled:N,children:d.jsx(c9,{className:`w-5 h-5 transition-colors ${w?"text-red-500 fill-current":"text-red-400"}`})}),d.jsx("button",{type:"button",className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":"Share product",onClick:()=>y(!0),children:d.jsx(h4,{className:"w-5 h-5 text-sky-600"})})]})]})});return d.jsxs(d.Fragment,{children:[la.createPortal(d.jsx(ae,{}),document.body),d.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 pt-24 md:pt-0",children:d.jsxs("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0",children:[d.jsxs("div",{className:"pt-6 sticky top-0 z-20 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md pb-2 animate-slide-down-fade items-center justify-between hidden md:flex",children:[d.jsxs("button",{onClick:()=>i(-1),className:"w-[70px] h-[24px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[d.jsx(uu,{className:"h-4 w-4 mr-1"})," Back"]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{type:"button",className:`p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:scale-110 active:scale-95 transition-all duration-200 ${w?"bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30":"hover:bg-red-50 dark:hover:bg-red-900/20"} ${N?"opacity-50 cursor-not-allowed":""}`,"aria-label":w?"Remove from wishlist":"Add to wishlist",onClick:be,disabled:N,children:d.jsx(c9,{className:`w-5 h-5 transition-colors ${w?"text-red-500 fill-current":"text-red-400"}`})}),d.jsx("button",{type:"button",className:"p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-sky-50 dark:hover:bg-sky-900/20 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":"Share product",onClick:()=>y(!0),children:d.jsx(h4,{className:"w-5 h-5 text-sky-600"})})]})]}),d.jsx("div",{className:"mt-1 md:border md:rounded-t-3xl md:max-w-4xl md:border-zinc-100 dark:md:border-gray-700 animate-fade-in-up",children:d.jsx("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0 pt-6 pb-36",children:d.jsx("div",{className:"mx-auto w-full",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[d.jsxs("div",{className:"rounded-2xl p-4 border flex flex-col items-center justify-center w-full card-interactive hover:shadow-lg transition-all duration-300 animate-fade-in-left",children:[t?.image&&!o?d.jsx("img",{src:t.image,alt:t.name,onError:()=>l(!0),className:"max-h-[160px] lg:max-h-[360px] w-full object-contain hover:scale-105 transition-transform duration-300"}):d.jsx("div",{className:"h-[100px] lg:h-[200px] w-full flex items-center justify-center bg-zinc-100 dark:bg-gray-700 rounded-md text-3xl font-semibold text-zinc-800 dark:text-zinc-200 animate-bounce-gentle",children:d.jsx(Gl,{name:t.name,image:t.image,category:t.category,size:48,"lg:size":80,roundedClass:"rounded-md"})}),d.jsxs("div",{className:"w-full mt-4 hidden lg:flex flex-col gap-3",children:[d.jsx("button",{onClick:async()=>{if(!r)return alert("Please sign in");if(!t.id)return alert(n("product_unavailable","Product unavailable. Please try again."));try{await w1(r.uid,t.id,1)}catch{alert(n("failed_add_to_cart","Failed to add to cart."))}},className:"w-full h-10 rounded-full bg-sky-600 text-white text-[14px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200","aria-label":n("add_to_cart","Add to Cart"),children:n("add_to_cart","Add to Cart")}),d.jsxs("a",{href:`tel:${e?.phone||""}`,className:"w-full h-10 rounded-full border border-zinc-400 dark:border-gray-600 text-[14px] font-poppins font-light flex items-center justify-center gap-2 text-zinc-800 dark:text-white bg-white dark:bg-gray-800 btn-interactive hover:border-zinc-500 dark:hover:border-gray-500 hover:scale-105 active:scale-95 transition-all duration-200","aria-label":n("call_to_order","Call to Order"),children:[d.jsx(K1,{className:"h-4 w-4 text-zinc-800 dark:text-white"})," ",n("call_to_order","Call to Order")]})]})]}),d.jsxs("div",{className:"flex flex-col animate-fade-in-right",children:[d.jsxs("div",{className:"mb-3 flex items-start justify-between animate-slide-up",style:{animationDelay:"0.1s"},children:[d.jsx("h1",{className:"text-[18px] lg:text-[20px] font-poppins font-medium tracking-tight leading-tight min-w-0 animate-text-reveal text-gray-900 dark:text-white",children:t.name}),d.jsxs("div",{className:"text-[18px] text-sky-600 dark:text-sky-400 font-poppins font-semibold lg:hidden animate-pulse-slow",children:["₦",s.toLocaleString()]})]}),d.jsx("div",{className:"mb-4 hidden lg:block animate-fade-in",style:{animationDelay:"0.2s"},children:d.jsxs("div",{className:"text-[20px] text-sky-600 dark:text-sky-400 font-poppins font-semibold animate-pulse-slow",children:["₦",s.toLocaleString()]})}),d.jsx("div",{className:"mb-2 animate-fade-in",style:{animationDelay:"0.3s"},children:d.jsx("button",{onClick:()=>i(`/vendor/${e?.id||t.pharmacyId}`),className:"text-sky-600 dark:text-sky-400 underline font-poppins text-[15px] font-light hover:text-sky-700 dark:hover:text-sky-300 transition-colors duration-200 hover:scale-105",children:e?.name})}),d.jsxs("div",{className:"mb-1 flex items-center justify-between gap-2 text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.4s"},children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[d.jsx($l,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:e?.address})]}),e?.address&&d.jsxs("button",{onClick:()=>{const je=encodeURIComponent(e.address);window.open(`https://www.google.com/maps/search/?api=1&query=${je}`,"_blank")},className:"text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-2 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 lg:hidden hover:scale-105 active:scale-95","aria-label":"Get directions",children:[d.jsx(HS,{className:"h-4 w-4 inline-block mr-1"})," ",n("get_directions","Get Directions")]})]}),d.jsxs("div",{className:"mb-3 flex items-center gap-2 text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.5s"},children:[d.jsx(Cv,{className:"h-4 w-4"}),p?n("eta_to_pharmacy","{time} to {pharmacy}").replace("{time}",p.formatted).replace("{pharmacy}",e?.name):a?n("calculating_eta","Calculating ETA..."):n("fetching_location","Fetching location...")]}),e?.address&&d.jsx("div",{className:"mb-4 hidden lg:block animate-fade-in",style:{animationDelay:"0.6s"},children:d.jsxs("button",{className:"flex items-center gap-2 text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-3 py-2 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>{const je=encodeURIComponent(e.address);window.open(`https://www.google.com/maps/search/?api=1&query=${je}`,"_blank")},children:[d.jsx(HS,{className:"h-4 w-4 text-sky-600 dark:text-sky-400"})," Get Directions"]})}),d.jsxs("div",{className:"mt-2 animate-fade-in",style:{animationDelay:"0.7s"},children:[d.jsxs("div",{className:"hidden lg:block",children:[d.jsx("div",{className:"text-[15px] tracking-tight text-black font-poppins font-medium",children:n("category","Category")}),d.jsx("div",{className:"mt-0.5 mb-5",children:d.jsx("button",{type:"button",onClick:async je=>{je.stopPropagation(),await R(t.category||"General")},className:"text-[13px] text-[#fc7f26] font-poppins font-normal underline hover:text-amber-500 transition-colors duration-200 hover:scale-105",children:t.category||"General"})})]}),d.jsx("div",{className:"block lg:hidden",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"text-[15px] text-black font-poppins font-medium mb-2",children:"Category"}),d.jsx("div",{children:d.jsx("button",{type:"button",onClick:async je=>{je.stopPropagation(),await R(t.category||"General")},className:"text-[13px] text-[#fc7f26] font-poppins font-normal underline hover:text-amber-500 transition-colors duration-200 hover:scale-105",children:t.category||"General"})})]})})]}),d.jsx("div",{className:"mt-4 border-b"}),d.jsxs("div",{className:"mt-6 animate-fade-in",style:{animationDelay:"0.8s"},children:[d.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 dark:text-white",children:n("product_description","Product Description")}),d.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-300 leading-6 font-poppins text-[14px] font-light",children:t.description})]}),d.jsx("div",{className:"mt-8 border-b"}),d.jsxs("div",{className:"mt-8 animate-fade-in-up",style:{animationDelay:"0.9s"},children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 dark:text-white",children:"Customer Reviews"}),d.jsx("span",{className:"text-sky-400 font-semibold text-[13px]",children:T.length})]}),oe&&d.jsx("button",{className:"text-sky-400 text-[13px] font-poppins underline",onClick:()=>{G(!1),xe(3)},children:"See less"})]}),d.jsx("div",{className:"space-y-4 mb-6",children:j?d.jsx("div",{className:"p-4 text-center text-zinc-400 dark:text-zinc-500 animate-pulse",children:"Loading reviews…"}):T.length===0?d.jsx("div",{className:"p-4 text-center text-zinc-400 dark:text-zinc-500 animate-fade-in text-[12px]",children:"No reviews yet. Be the first to review!"}):T.slice(0,_e).map((je,Pe)=>{let de="";if(je.createdAt){const Me=je.createdAt.seconds?new Date(je.createdAt.seconds*1e3):new Date(je.createdAt);de=Me.toLocaleDateString()+" "+Me.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}return d.jsxs("div",{className:"p-4 rounded-xl border border-sky-100 dark:border-gray-600 animate-slide-up transition-all duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-poppins font-semibold text-[14px] text-zinc-700 dark:text-zinc-200",children:je.name}),d.jsxs("span",{className:"flex gap-0.5 text-amber-400 text-[13px]",children:["★".repeat(je.rating),"☆".repeat(5-je.rating)]})]}),d.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:d.jsxs("div",{className:"flex items-center justify-center",children:[je.likes>0&&d.jsx("span",{className:"text-sky-500 font-semibold text-[13px] mr-1",children:je.likes}),d.jsx("button",{className:`flex items-center justify-center px-2 py-1 rounded transition-all duration-200 ${fe[je.id]?"opacity-50 pointer-events-none":""} ${I[je.id]?"bg-sky-50 text-sky-400":"text-zinc-400"}`,onClick:()=>ce(je.id),disabled:fe[je.id],"aria-label":I[je.id]?"Unlike review":"Like review",style:{minHeight:"20px"},children:d.jsx(DK,{className:"w-4 h-4",fill:I[je.id]?"#38bdf8":"none"})})]})})]}),d.jsx("div",{className:"text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light",children:je.comment}),de&&d.jsx("div",{className:"text-[11px] text-zinc-400 dark:text-zinc-500 mt-1",children:de}),je.pharmacyResponse&&d.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-sky-50 to-blue-50 dark:bg-gradient-to-r dark:from-gray-800 dark:to-gray-700 border border-sky-100 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("div",{className:"w-2 h-2 bg-sky-500 dark:bg-sky-400 rounded-full"}),d.jsxs("span",{className:"font-poppins font-semibold text-[13px] text-sky-700 dark:text-white",children:[e?.name||"Pharmacy"," Response"]}),(je.pharmacyResponse.respondedAt||je.responseDate)&&d.jsx("span",{className:"text-[10px] text-sky-500 dark:text-zinc-300 ml-auto",children:new Date((je.pharmacyResponse.respondedAt?.seconds||je.responseDate?.seconds||je.responseDate)*1e3).toLocaleDateString()})]}),d.jsxs("div",{className:"text-zinc-700 dark:text-white text-[13px] font-poppins leading-relaxed pl-4",children:['"',typeof je.pharmacyResponse=="string"?je.pharmacyResponse:je.pharmacyResponse.message||je.pharmacyResponse,'"']})]})]},je.id||Pe)})}),T.length>_e&&d.jsx("div",{className:"flex justify-start",children:d.jsx("button",{className:"text-sky-400 text-[13px] font-poppins underline",onClick:()=>{xe(je=>je+3),G(!0)},children:n("see_more","See more")})}),d.jsx("div",{className:"mt-4 border-b"}),d.jsxs("form",{className:"p-4 mt-6 rounded-xl border border-zinc-100 bg-white shadow-sm animate-bounce-in",style:{animationDelay:"1.0s"},onSubmit:J,children:[d.jsx("div",{className:"mb-2 font-poppins text-[14px] font-medium text-zinc-700 dark:text-zinc-300",children:n("leave_a_review","Leave a Review")}),d.jsx(ve,{value:Number(F.rating),onChange:je=>M(Pe=>({...Pe,rating:je})),disabled:re}),d.jsx("input",{type:"text",name:"name",value:F.name,onChange:W,placeholder:n("your_name","Your Name"),className:"w-full mb-2 px-3 py-2 rounded-lg border-zinc-200 font-poppins text-[13px] focus:ring-2 focus:ring-sky-200 transition-all duration-20"}),d.jsx("textarea",{name:"comment",value:F.comment,onChange:W,placeholder:n("your_review_optional","Your review... (optional)"),className:"w-full mb-2 px-3 py-2 rounded-lg border border-zinc-200 font-poppins text-[13px] focus:ring-2 focus:ring-sky-200 transition-all duration-200",rows:3}),d.jsx("button",{type:"submit",disabled:re||!F.rating&&!F.comment,className:"w-full h-10 rounded-full border border-sky-500 dark:border-gray-600 text-black text-[14px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:re?n("submitting","Submitting…"):n("submit_review","Submit Review")})]})]})]})]})})})}),d.jsx("div",{className:"fixed left-0 right-0 bottom-[8rem] z-30 lg:hidden animate-slide-up-fade",children:d.jsx("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0",children:d.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[d.jsx("button",{onClick:async()=>{if(!r)return alert(n("please_sign_in","Please sign in"));if(!t.id)return alert(n("product_unavailable","Product unavailable. Please try again."));try{await w1(r.uid,t.id,1)}catch{alert(n("failed_add_to_cart","Failed to add to cart."))}},className:"flex-1 max-w-[140px] h-10 rounded-full bg-sky-600 text-white text-[13px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:n("add_to_cart","Add to Cart")}),d.jsxs("a",{href:`tel:${e?.phone||""}`,className:"flex-1 max-w-[140px] h-10 rounded-full border border-zinc-400 dark:border-gray-600 text-[13px] font-poppins font-light flex items-center justify-center gap-2 text-zinc-800 dark:text-white bg-white dark:bg-gray-800 btn-interactive hover:border-zinc-500 dark:hover:border-gray-500 hover:scale-105 active:scale-95 transition-all duration-200",children:[d.jsx(K1,{className:"h-4 w-4 text-zinc-800 dark:text-white"})," ",n("call_to_order","Call to Order")]})]})})}),c&&d.jsx("div",{onClick:()=>f(!1),className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black bg-opacity-30 animate-fade-in",role:"dialog","aria-modal":"true",children:d.jsxs("div",{onClick:je=>je.stopPropagation(),className:"bg-white rounded-2xl p-4 w-[90vw] max-w-md max-h-[80vh] overflow-y-auto animate-bounce-in shadow-xl",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{className:"text-lg font-medium animate-text-reveal",children:n("products_in_category",'Products in "{category}"').replace("{category}",t.category||"General")}),d.jsx("button",{onClick:()=>f(!1),className:"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors duration-200 hover:scale-110 active:scale-95",children:n("close","Close")})]}),Y?d.jsx("div",{className:"p-4 text-center text-zinc-500 dark:text-zinc-400 animate-pulse",children:n("loading","Loading…")}):P.length===0?d.jsx("div",{className:"p-4 text-zinc-500 dark:text-zinc-400 animate-fade-in",children:n("no_products_found","No products found.")}):d.jsx("div",{className:"space-y-2",children:P.map((je,Pe)=>d.jsxs("button",{onClick:()=>{f(!1),i(`/product/${je.id}`)},className:"w-full text-left rounded-lg p-2 flex items-center gap-3 hover:bg-sky-50 transition-all duration-200 card-interactive animate-fadeInUp hover:scale-102",style:{animationDelay:`${Pe*.1}s`},children:[d.jsx(Gl,{name:je.name,image:je.image,category:je.category,size:48,className:"flex-shrink-0 animate-bounce-gentle",roundedClass:"rounded-md"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-sm truncate",children:je.name}),d.jsx("div",{className:"text-xs text-zinc-500 truncate",children:je.category})]})]},je.id))})]})}),m&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 animate-fade-in",role:"dialog","aria-modal":"true",children:d.jsxs("div",{className:"bg-white rounded-2xl p-6 w-[90vw] max-w-xs shadow-xl animate-bounce-in flex flex-col gap-4",children:[d.jsx("div",{className:"font-poppins font-medium text-[16px] mb-2 text-center",children:n("share_product","Share Product")}),d.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 rounded-lg border border-sky-200 dark:border-gray-600 bg-sky-50 text-sky-700 font-poppins font-medium hover:bg-sky-100 hover:scale-105 active:scale-95 transition-all duration-200",onClick:le,children:[d.jsx(h4,{className:"w-4 h-4"})," Share Product"]}),d.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 rounded-lg border border-zinc-200 bg-zinc-50 text-zinc-700 font-poppins font-medium hover:bg-zinc-100 hover:scale-105 active:scale-95 transition-all duration-200",onClick:Le,children:[d.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M21 12c0 4.418-4.03 8-9 8a9.77 9.77 0 01-4-.8l-4 1 1-4A8.96 8.96 0 013 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Message Vendor"]}),d.jsx("button",{className:"mt-2 text-zinc-400 hover:text-zinc-700 text-[13px] font-poppins underline",onClick:()=>y(!1),children:"Cancel"})]})})]})})]})}const ede="data:image/svg+xml,%3csvg%20width='26'%20height='23'%20viewBox='0%200%2026%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.41667%2022.3281C1.93056%2022.5226%201.46875%2022.4798%201.03125%2022.1998C0.59375%2021.9198%200.375%2021.5129%200.375%2020.9792V14.4167L12.0417%2011.5L0.375%208.58333V2.02083C0.375%201.48611%200.59375%201.07923%201.03125%200.800203C1.46875%200.521176%201.93056%200.478397%202.41667%200.67187L24.875%2010.151C25.4826%2010.4184%2025.7865%2010.868%2025.7865%2011.5C25.7865%2012.1319%2025.4826%2012.5816%2024.875%2012.849L2.41667%2022.3281Z'%20fill='black'/%3e%3c/svg%3e";function tde(t){return d.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:d.jsx("path",{d:"M2.68917 5.64292C3.70917 7.6475 5.3525 9.29083 7.35708 10.3108L8.91542 8.7525C9.11375 8.55417 9.39 8.4975 9.63792 8.57542C10.4312 8.8375 11.2812 8.97917 12.1667 8.97917C12.3545 8.97917 12.5347 9.05379 12.6675 9.18663C12.8004 9.31947 12.875 9.49964 12.875 9.6875V12.1667C12.875 12.3545 12.8004 12.5347 12.6675 12.6675C12.5347 12.8004 12.3545 12.875 12.1667 12.875C8.97302 12.875 5.91017 11.6063 3.65192 9.34808C1.39367 7.08983 0.125 4.02698 0.125 0.833333C0.125 0.645472 0.199628 0.465304 0.332466 0.332466C0.465304 0.199628 0.645472 0.125 0.833333 0.125H3.3125C3.50036 0.125 3.68053 0.199628 3.81337 0.332466C3.94621 0.465304 4.02083 0.645472 4.02083 0.833333C4.02083 1.71875 4.1625 2.56875 4.42458 3.36208C4.5025 3.61 4.44583 3.88625 4.2475 4.08458L2.68917 5.64292Z",fill:"black"})})}const rde="/assets/message-tone-B30p1O1l.mp3",QL=typeof document<"u"?di.useLayoutEffect:()=>{};var t3;const nde=(t3=di.useInsertionEffect)!==null&&t3!==void 0?t3:QL;function ide(t){const e=B.useRef(null);return nde(()=>{e.current=t},[t]),B.useCallback((...r)=>{const n=e.current;return n?.(...r)},[])}const qf=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},Sh=t=>t&&"window"in t&&t.window===t?t:qf(t).defaultView||window;function ade(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function sde(t){return ade(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let ode=!1;function db(){return ode}function JL(t,e){if(!db())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:sde(r)?r=r.host:r=r.parentNode}return!1}const Aw=(t=document)=>{var e;if(!db())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function ZL(t){return db()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function lde(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function cde(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function ej(t){let e=null;return()=>(e==null&&(e=t()),e)}const ude=ej(function(){return cde(/^Mac/i)}),dde=ej(function(){return lde(/Android/i)});function tj(){let t=B.useRef(new Map),e=B.useCallback((i,a,s,o)=>{let l=o?.once?(...c)=>{t.current.delete(s),s(...c)}:s;t.current.set(s,{type:a,eventTarget:i,fn:l,options:o}),i.addEventListener(a,l,o)},[]),r=B.useCallback((i,a,s,o)=>{var l;let c=((l=t.current.get(s))===null||l===void 0?void 0:l.fn)||s;i.removeEventListener(a,c,o),t.current.delete(s)},[]),n=B.useCallback(()=>{t.current.forEach((i,a)=>{r(i.eventTarget,i.type,a,i.options)})},[r]);return B.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function fde(t){return t.pointerType===""&&t.isTrusted?!0:dde()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function rj(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function hde(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function nj(t){let e=B.useRef({isFocused:!1,observer:null});QL(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=ide(n=>{t?.(n)});return B.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=n.target,a=s=>{if(e.current.isFocused=!1,i.disabled){let o=rj(s);r(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",a,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let pde=!1,r2=null,Tw=new Set,zm=new Map,i0=!1,Iw=!1;const mde={Tab:!0,Escape:!0};function fb(t,e){for(let r of Tw)r(t,e)}function gde(t){return!(t.metaKey||!ude()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Gv(t){i0=!0,gde(t)&&(r2="keyboard",fb("keyboard",t))}function I1(t){r2="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(i0=!0,fb("pointer",t))}function ij(t){fde(t)&&(i0=!0,r2="virtual")}function aj(t){t.target===window||t.target===document||pde||!t.isTrusted||(!i0&&!Iw&&(r2="virtual",fb("virtual",t)),i0=!1,Iw=!1)}function sj(){i0=!1,Iw=!0}function Pw(t){if(typeof window>"u"||typeof document>"u"||zm.get(Sh(t)))return;const e=Sh(t),r=qf(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){i0=!0,n.apply(this,arguments)},r.addEventListener("keydown",Gv,!0),r.addEventListener("keyup",Gv,!0),r.addEventListener("click",ij,!0),e.addEventListener("focus",aj,!0),e.addEventListener("blur",sj,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",I1,!0),r.addEventListener("pointermove",I1,!0),r.addEventListener("pointerup",I1,!0)),e.addEventListener("beforeunload",()=>{oj(t)},{once:!0}),zm.set(e,{focus:n})}const oj=(t,e)=>{const r=Sh(t),n=qf(t);e&&n.removeEventListener("DOMContentLoaded",e),zm.has(r)&&(r.HTMLElement.prototype.focus=zm.get(r).focus,n.removeEventListener("keydown",Gv,!0),n.removeEventListener("keyup",Gv,!0),n.removeEventListener("click",ij,!0),r.removeEventListener("focus",aj,!0),r.removeEventListener("blur",sj,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",I1,!0),n.removeEventListener("pointermove",I1,!0),n.removeEventListener("pointerup",I1,!0)),zm.delete(r))};function xde(t){const e=qf(t);let r;return e.readyState!=="loading"?Pw(t):(r=()=>{Pw(t)},e.addEventListener("DOMContentLoaded",r)),()=>oj(t,r)}typeof document<"u"&&xde();function lj(){return r2!=="pointer"}const vde=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function yde(t,e,r){let n=qf(r?.target);const i=typeof window<"u"?Sh(r?.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?Sh(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?Sh(r?.target).HTMLElement:HTMLElement,o=typeof window<"u"?Sh(r?.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!vde.has(n.activeElement.type)||n.activeElement instanceof a||n.activeElement instanceof s&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof o&&!mde[r.key])}function wde(t,e,r){Pw(),B.useEffect(()=>{let n=(i,a)=>{yde(!!r?.isTextInput,i,a)&&t(lj())};return Tw.add(n),()=>{Tw.delete(n)}},e)}function _de(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const a=B.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),s=nj(a),o=B.useCallback(l=>{const c=qf(l.target),f=c?Aw(c):Aw();l.target===l.currentTarget&&f===ZL(l.nativeEvent)&&(r&&r(l),i&&i(!0),s(l))},[i,r,s]);return{focusProps:{onFocus:!e&&(r||i||n)?o:void 0,onBlur:!e&&(n||i)?a:void 0}}}function bde(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,a=B.useRef({isFocusWithin:!1}),{addGlobalListener:s,removeAllGlobalListeners:o}=tj(),l=B.useCallback(p=>{p.currentTarget.contains(p.target)&&a.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(a.current.isFocusWithin=!1,o(),r&&r(p),i&&i(!1))},[r,i,a,o]),c=nj(l),f=B.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const g=qf(p.target),m=Aw(g);if(!a.current.isFocusWithin&&m===ZL(p.nativeEvent)){n&&n(p),i&&i(!0),a.current.isFocusWithin=!0,c(p);let y=p.currentTarget;s(g,"focus",w=>{if(a.current.isFocusWithin&&!JL(y,w.target)){let k=new g.defaultView.FocusEvent("blur",{relatedTarget:w.target});hde(k,y);let N=rj(k);l(N)}},{capture:!0})}},[n,i,c,s,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:l}}}let Rw=!1,bx=0;function kde(){Rw=!0,setTimeout(()=>{Rw=!1},50)}function WS(t){t.pointerType==="touch"&&kde()}function Ede(){if(!(typeof document>"u"))return bx===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",WS),bx++,()=>{bx--,!(bx>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",WS)}}function Sde(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[a,s]=B.useState(!1),o=B.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;B.useEffect(Ede,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=tj(),{hoverProps:f,triggerHoverEnd:p}=B.useMemo(()=>{let g=(w,k)=>{if(o.pointerType=k,i||k==="touch"||o.isHovered||!w.currentTarget.contains(w.target))return;o.isHovered=!0;let N=w.currentTarget;o.target=N,l(qf(w.target),"pointerover",L=>{o.isHovered&&o.target&&!JL(o.target,L.target)&&m(L,L.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:N,pointerType:k}),r&&r(!0),s(!0)},m=(w,k)=>{let N=o.target;o.pointerType="",o.target=null,!(k==="touch"||!o.isHovered||!N)&&(o.isHovered=!1,c(),n&&n({type:"hoverend",target:N,pointerType:k}),r&&r(!1),s(!1))},y={};return typeof PointerEvent<"u"&&(y.onPointerEnter=w=>{Rw&&w.pointerType==="mouse"||g(w,w.pointerType)},y.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&m(w,w.pointerType)}),{hoverProps:y,triggerHoverEnd:m}},[e,r,n,i,o,l,c]);return B.useEffect(()=>{i&&p({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:f,isHovered:a}}function Cde(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=B.useRef({isFocused:!1,isFocusVisible:e||lj()}),[a,s]=B.useState(!1),[o,l]=B.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=B.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),f=B.useCallback(m=>{i.current.isFocused=m,s(m),c()},[c]);wde(m=>{i.current.isFocusVisible=m,c()},[],{isTextInput:r});let{focusProps:p}=_de({isDisabled:n,onFocusChange:f}),{focusWithinProps:g}=bde({isDisabled:!n,onFocusWithinChange:f});return{isFocused:a,isFocusVisible:o,focusProps:n?g:p}}var Nde=Object.defineProperty,Ade=(t,e,r)=>e in t?Nde(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r3=(t,e,r)=>(Ade(t,typeof e!="symbol"?e+"":e,r),r);let Tde=class{constructor(){r3(this,"current",this.detect()),r3(this,"handoffState","pending"),r3(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},du=new Tde;function wp(t){var e,r;return du.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(r=(e=t.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}function cj(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Jl(){let t=[],e={addEventListener(r,n,i,a){return r.addEventListener(n,i,a),e.add(()=>r.removeEventListener(n,i,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return cj(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=Jl();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function Hy(){let[t]=B.useState(Jl);return B.useEffect(()=>()=>t.dispose(),[t]),t}let Va=(t,e)=>{du.isServer?B.useEffect(t,e):B.useLayoutEffect(t,e)};function n2(t){let e=B.useRef(t);return Va(()=>{e.current=t},[t]),e}let Un=function(t){let e=n2(t);return di.useCallback((...r)=>e.current(...r),[e])};function Ide(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function Pde(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function Rde({disabled:t=!1}={}){let e=B.useRef(null),[r,n]=B.useState(!1),i=Hy(),a=Un(()=>{e.current=null,n(!1),i.dispose()}),s=Un(o=>{if(i.dispose(),e.current===null){e.current=o.currentTarget,n(!0);{let l=wp(o.currentTarget);i.addEventListener(l,"pointerup",a,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let f=Ide(c);n(Pde(f,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",a,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:s,onPointerUp:a,onClick:a}}}let Fde=B.createContext(void 0);function uj(){return B.useContext(Fde)}function GS(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function _p(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,_p),n}var Fw=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Fw||{}),Lde=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Lde||{});function Zl(){let t=Dde();return B.useCallback(e=>jde({mergeRefs:t,...e}),[t])}function jde({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:a=!0,name:s,mergeRefs:o}){o=o??Ode;let l=dj(e,t);if(a)return kx(l,r,n,s,o);let c=i??0;if(c&2){let{static:f=!1,...p}=l;if(f)return kx(p,r,n,s,o)}if(c&1){let{unmount:f=!0,...p}=l;return _p(f?0:1,{0(){return null},1(){return kx({...p,hidden:!0,style:{display:"none"}},r,n,s,o)}})}return kx(l,r,n,s,o)}function kx(t,e={},r,n,i){let{as:a=r,children:s,refName:o="ref",...l}=n3(t,["unmount","static"]),c=t.ref!==void 0?{[o]:t.ref}:{},f=typeof s=="function"?s(e):s;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(e){let g=!1,m=[];for(let[y,w]of Object.entries(e))typeof w=="boolean"&&(g=!0),w===!0&&m.push(y.replace(/([A-Z])/g,k=>`-${k.toLowerCase()}`));if(g){p["data-headlessui-state"]=m.join(" ");for(let y of m)p[`data-${y}`]=""}}if(a===B.Fragment&&(Object.keys(r1(l)).length>0||Object.keys(r1(p)).length>0))if(!B.isValidElement(f)||Array.isArray(f)&&f.length>1){if(Object.keys(r1(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(r1(l)).concat(Object.keys(r1(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=f.props,m=g?.className,y=typeof m=="function"?(...N)=>GS(m(...N),l.className):GS(m,l.className),w=y?{className:y}:{},k=dj(f.props,r1(n3(l,["ref"])));for(let N in p)N in k&&delete p[N];return B.cloneElement(f,Object.assign({},k,p,c,{ref:i(Mde(f),c.ref)},w))}return B.createElement(a,Object.assign({},n3(l,["ref"]),a!==B.Fragment&&c,a!==B.Fragment&&p),f)}function Dde(){let t=B.useRef([]),e=B.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function Ode(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function dj(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var a;return(a=i?.preventDefault)==null?void 0:a.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...a){let s=r[n];for(let o of s){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;o(i,...a)}}});return e}function fj(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let a=r[n];for(let s of a)s?.(...i)}});return e}function ec(t){var e;return Object.assign(B.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function r1(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function n3(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function Mde(t){return di.version.split(".")[0]>="19"?t.props.ref:t.ref}let Bde=B.createContext(void 0);function Vde(){return B.useContext(Bde)}function hb(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Wy(t){return hb(t)&&"tagName"in t}function xd(t){return Wy(t)&&"accessKey"in t}function Ch(t){return Wy(t)&&"tabIndex"in t}function Ude(t){return Wy(t)&&"style"in t}function zde(t){return xd(t)&&t.nodeName==="IFRAME"}function hj(t){return xd(t)&&t.nodeName==="INPUT"}function KS(t){return xd(t)&&t.nodeName==="LABEL"}function $de(t){return xd(t)&&t.nodeName==="FIELDSET"}function pj(t){return xd(t)&&t.nodeName==="LEGEND"}function qde(t){return Wy(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Hde(t){let e=t.parentElement,r=null;for(;e&&!$de(e);)pj(e)&&(r=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&Wde(r)?!1:n}function Wde(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(pj(e))return!1;e=e.previousElementSibling}return!0}let mj=Symbol();function Gde(t,e=!0){return Object.assign(t,{[mj]:e})}function vd(...t){let e=B.useRef(t);B.useEffect(()=>{e.current=t},[t]);let r=Un(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||n?.[mj])?void 0:r}let pb=B.createContext(null);pb.displayName="DescriptionContext";function gj(){let t=B.useContext(pb);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,gj),e}return t}function Kde(){let[t,e]=B.useState([]);return[t.length>0?t.join(" "):void 0,B.useMemo(()=>function(r){let n=Un(a=>(e(s=>[...s,a]),()=>e(s=>{let o=s.slice(),l=o.indexOf(a);return l!==-1&&o.splice(l,1),o}))),i=B.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return di.createElement(pb.Provider,{value:i},r.children)},[e])]}let Xde="p";function Yde(t,e){let r=B.useId(),n=uj(),{id:i=`headlessui-description-${r}`,...a}=t,s=gj(),o=vd(e);Va(()=>s.register(i),[i,s.register]);let l=n||!1,c=B.useMemo(()=>({...s.slot,disabled:l}),[s.slot,l]),f={ref:o,...s.props,id:i};return Zl()({ourProps:f,theirProps:a,slot:c,defaultTag:Xde,name:s.name||"Description"})}let Qde=ec(Yde);Object.assign(Qde,{});var Ps=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ps||{});let Gy=B.createContext(null);Gy.displayName="LabelContext";function mb(){let t=B.useContext(Gy);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,mb),e}return t}function Jde(t){var e,r,n;let i=(r=(e=B.useContext(Gy))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function xj({inherit:t=!1}={}){let e=Jde(),[r,n]=B.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,B.useMemo(()=>function(a){let s=Un(l=>(n(c=>[...c,l]),()=>n(c=>{let f=c.slice(),p=f.indexOf(l);return p!==-1&&f.splice(p,1),f}))),o=B.useMemo(()=>({register:s,slot:a.slot,name:a.name,props:a.props,value:a.value}),[s,a.slot,a.name,a.props,a.value]);return di.createElement(Gy.Provider,{value:o},a.children)},[n])]}let Zde="label";function efe(t,e){var r;let n=B.useId(),i=mb(),a=Vde(),s=uj(),{id:o=`headlessui-label-${n}`,htmlFor:l=a??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...f}=t,p=vd(e);Va(()=>i.register(o),[o,i.register]);let g=Un(k=>{let N=k.currentTarget;if(!(k.target!==k.currentTarget&&qde(k.target))&&(KS(N)&&k.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(k),KS(N))){let L=document.getElementById(N.htmlFor);if(L){let P=L.getAttribute("disabled");if(P==="true"||P==="")return;let V=L.getAttribute("aria-disabled");if(V==="true"||V==="")return;(hj(L)&&(L.type==="file"||L.type==="radio"||L.type==="checkbox")||L.role==="radio"||L.role==="checkbox"||L.role==="switch")&&L.click(),L.focus({preventScroll:!0})}}}),m=s||!1,y=B.useMemo(()=>({...i.slot,disabled:m}),[i.slot,m]),w={ref:p,...i.props,id:o,htmlFor:l,onClick:g};return c&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in f&&delete f.onClick),Zl()({ourProps:w,theirProps:f,slot:y,defaultTag:l?Zde:"div",name:i.name||"Label"})}let tfe=ec(efe);Object.assign(tfe,{});function rfe(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function nfe(t,e=!1){let[r,n]=B.useReducer(()=>({}),{}),i=B.useMemo(()=>rfe(t),[t,r]);return Va(()=>{if(!t)return;let a=new ResizeObserver(n);return a.observe(t),()=>{a.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let vj=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var ife=Object.defineProperty,afe=(t,e,r)=>e in t?ife(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,sfe=(t,e,r)=>(afe(t,e+"",r),r),yj=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ol=(t,e,r)=>(yj(t,e,"read from private field"),r?r.call(t):e.get(t)),i3=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},XS=(t,e,r,n)=>(yj(t,e,"write to private field"),e.set(t,r),r),Jc,_m,bm;let wj=class{constructor(e){i3(this,Jc,{}),i3(this,_m,new vj(()=>new Set)),i3(this,bm,new Set),sfe(this,"disposables",Jl()),XS(this,Jc,e),du.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Ol(this,Jc)}subscribe(e,r){if(du.isServer)return()=>{};let n={selector:e,callback:r,current:e(Ol(this,Jc))};return Ol(this,bm).add(n),this.disposables.add(()=>{Ol(this,bm).delete(n)})}on(e,r){return du.isServer?()=>{}:(Ol(this,_m).get(e).add(r),this.disposables.add(()=>{Ol(this,_m).get(e).delete(r)}))}send(e){let r=this.reduce(Ol(this,Jc),e);if(r!==Ol(this,Jc)){XS(this,Jc,r);for(let n of Ol(this,bm)){let i=n.selector(Ol(this,Jc));_j(n.current,i)||(n.current=i,n.callback(i))}for(let n of Ol(this,_m).get(e.type))n(Ol(this,Jc),e)}}};Jc=new WeakMap,_m=new WeakMap,bm=new WeakMap;function _j(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:a3(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:a3(t.entries(),e.entries()):YS(t)&&YS(e)?a3(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function a3(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function YS(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function QS(t){let[e,r]=t(),n=Jl();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var ofe=Object.defineProperty,lfe=(t,e,r)=>e in t?ofe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,JS=(t,e,r)=>(lfe(t,typeof e!="symbol"?e+"":e,r),r),bj=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(bj||{});let cfe={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let a=t.stack.slice();return a.splice(i,1),a.push(r),n=a,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},ufe=class kj extends wj{constructor(){super(...arguments),JS(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),JS(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new kj({stack:[]})}reduce(e,r){return _p(r.type,cfe,e,r)}};const gb=new vj(()=>ufe.new());var s3={exports:{}},o3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function dfe(){if(ZS)return o3;ZS=1;var t=Jv();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return o3.useSyncExternalStoreWithSelector=function(l,c,f,p,g){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=s(function(){function k(Y){if(!N){if(N=!0,L=Y,Y=p(Y),g!==void 0&&y.hasValue){var Q=y.value;if(g(Q,Y))return P=Q}return P=Y}if(Q=P,r(L,Y))return Q;var R=p(Y);return g!==void 0&&g(Q,R)?(L=Y,Q):(L=Y,P=R)}var N=!1,L,P,V=f===void 0?null:f;return[function(){return k(c())},V===null?void 0:function(){return k(V())}]},[c,f,p,g]);var w=n(l,m[0],m[1]);return a(function(){y.hasValue=!0,y.value=w},[w]),o(w),w},o3}var eC;function ffe(){return eC||(eC=1,s3.exports=dfe()),s3.exports}var hfe=ffe();function su(t,e,r=_j){return hfe.useSyncExternalStoreWithSelector(Un(n=>t.subscribe(pfe,n)),Un(()=>t.state),Un(()=>t.state),Un(e),r)}function pfe(t){return t}function Ej(t,e){let r=B.useId(),n=gb.get(e),[i,a]=su(n,B.useCallback(s=>[n.selectors.isTop(s,r),n.selectors.inStack(s,r)],[n,r]));return Va(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?a?i:!0:!1}let Lw=new Map,$m=new Map;function tC(t){var e;let r=(e=$m.get(t))!=null?e:0;return $m.set(t,r+1),r!==0?()=>rC(t):(Lw.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>rC(t))}function rC(t){var e;let r=(e=$m.get(t))!=null?e:1;if(r===1?$m.delete(t):$m.set(t,r-1),r!==1)return;let n=Lw.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,Lw.delete(t))}function mfe(t,{allowed:e,disallowed:r}={}){let n=Ej(t,"inert-others");Va(()=>{var i,a;if(!n)return;let s=Jl();for(let l of(i=r?.())!=null?i:[])l&&s.add(tC(l));let o=(a=e?.())!=null?a:[];for(let l of o){if(!l)continue;let c=wp(l);if(!c)continue;let f=l.parentElement;for(;f&&f!==c.body;){for(let p of f.children)o.some(g=>p.contains(g))||s.add(tC(p));f=f.parentElement}}return s.dispose},[n,e,r])}function gfe(t,e,r){let n=n2(i=>{let a=i.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&r()});B.useEffect(()=>{if(!t)return;let i=e===null?null:xd(e)?e:e.current;if(!i)return;let a=Jl();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>n.current(i));s.observe(i),a.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>n.current(i));s.observe(i),a.add(()=>s.disconnect())}return()=>a.dispose()},[e,n,t])}let jw=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),xfe=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Dw=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Dw||{}),vfe=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(vfe||{}),yfe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(yfe||{});function Sj(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(jw)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function wfe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(xfe)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var xb=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(xb||{});function vb(t,e=0){var r;return t===((r=wp(t))==null?void 0:r.body)?!1:_p(e,{0(){return t.matches(jw)},1(){let n=t;for(;n!==null;){if(n.matches(jw))return!0;n=n.parentElement}return!1}})}function Cj(t){let e=wp(t);Jl().nextFrame(()=>{e&&Ch(e.activeElement)&&!vb(e.activeElement,0)&&bfe(t)})}var _fe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(_fe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function bfe(t){t?.focus({preventScroll:!0})}let kfe=["textarea","input"].join(",");function Efe(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,kfe))!=null?r:!1}function Nj(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),a=e(n);if(i===null||a===null)return 0;let s=i.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Sfe(t,e){return Cfe(Sj(),e,{relativeTo:t})}function Cfe(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let a=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,s=Array.isArray(t)?r?Nj(t):t:e&64?wfe(t):Sj(t);i.length>0&&s.length>1&&(s=s.filter(m=>!i.some(y=>y!=null&&"current"in y?y?.current===m:y===m))),n=n??a.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,s.indexOf(n))-1;if(e&4)return Math.max(0,s.indexOf(n))+1;if(e&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},f=0,p=s.length,g;do{if(f>=p||f+p<=0)return 0;let m=l+f;if(e&16)m=(m+p)%p;else{if(m<0)return 3;if(m>=p)return 1}g=s[m],g?.focus(c),f+=o}while(g!==a.activeElement);return e&6&&Efe(g)&&g.select(),2}function Aj(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Nfe(){return/Android/gi.test(window.navigator.userAgent)}function nC(){return Aj()||Nfe()}function h1(t,e,r,n){let i=n2(r);B.useEffect(()=>{if(!t)return;function a(s){i.current(s)}return document.addEventListener(e,a,n),()=>document.removeEventListener(e,a,n)},[t,e,n])}function Afe(t,e,r,n){let i=n2(r);B.useEffect(()=>{if(!t)return;function a(s){i.current(s)}return window.addEventListener(e,a,n),()=>window.removeEventListener(e,a,n)},[t,e,n])}const iC=30;function Tfe(t,e,r){let n=n2(r),i=B.useCallback(function(o,l){if(o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let f=(function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]})(e);for(let p of f)if(p!==null&&(p.contains(c)||o.composed&&o.composedPath().includes(p)))return;return!vb(c,xb.Loose)&&c.tabIndex!==-1&&o.preventDefault(),n.current(o,c)},[n,e]),a=B.useRef(null);h1(t,"pointerdown",o=>{var l,c;nC()||(a.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),h1(t,"pointerup",o=>{if(nC()||!a.current)return;let l=a.current;return a.current=null,i(o,()=>l)},!0);let s=B.useRef({x:0,y:0});h1(t,"touchstart",o=>{s.current.x=o.touches[0].clientX,s.current.y=o.touches[0].clientY},!0),h1(t,"touchend",o=>{let l={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(l.x-s.current.x)>=iC||Math.abs(l.y-s.current.y)>=iC))return i(o,()=>Ch(o.target)?o.target:null)},!0),Afe(t,"blur",o=>i(o,()=>zde(window.document.activeElement)?window.document.activeElement:null),!0)}function Ow(...t){return B.useMemo(()=>wp(...t),[...t])}var Ife=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(Ife||{});const Ex={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},Pfe=200,aC=5;function Rfe(t,{trigger:e,action:r,close:n,select:i}){let a=B.useRef(null),s=B.useRef(null),o=B.useRef(null);h1(t&&e!==null,"pointerdown",l=>{hb(l?.target)&&e!=null&&e.contains(l.target)&&(s.current=l.x,o.current=l.y,a.current=l.timeStamp)}),h1(t&&e!==null,"pointerup",l=>{var c,f;let p=a.current;if(p===null||(a.current=null,!Ch(l.target))||Math.abs(l.x-((c=s.current)!=null?c:l.x))<aC&&Math.abs(l.y-((f=o.current)!=null?f:l.y))<aC)return;let g=r(l);switch(g.kind){case 0:return;case 1:{l.timeStamp-p>Pfe&&(i(g.target),n());break}case 2:{n();break}}},{capture:!0})}function Ffe(t,e){return B.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Lfe(t){return B.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function jfe(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...a){let s=e[i].call(r,...a);s&&(r=s,n.forEach(o=>o()))}}}function Dfe(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),a=Math.max(0,t-i);r.style(n,"paddingRight",`${a}px`)}}}function Ofe(){return Aj()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(a=>a()).some(a=>a.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=Jl();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,s=null;e.addEventListener(t,"click",o=>{if(Ch(o.target))try{let l=o.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),f=t.querySelector(c);Ch(f)&&!n(f)&&(s=f)}catch{}},!0),e.addEventListener(t,"touchstart",o=>{if(Ch(o.target)&&Ude(o.target))if(n(o.target)){let l=o.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(o.target,"touchAction","none")}),e.addEventListener(t,"touchmove",o=>{if(Ch(o.target)){if(hj(o.target))return;if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;a!==l&&window.scrollTo(0,a),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function Mfe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Bfe(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Nh=jfe(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:Jl(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:Bfe(r)},i=[Ofe(),Dfe(),Mfe()];i.forEach(({before:a})=>a?.(n)),i.forEach(({after:a})=>a?.(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Nh.subscribe(()=>{let t=Nh.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&Nh.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Nh.dispatch("TEARDOWN",r)}});function Vfe(t,e,r=()=>({containers:[]})){let n=Lfe(Nh),i=e?n.get(e):void 0,a=i?i.count>0:!1;return Va(()=>{if(!(!e||!t))return Nh.dispatch("PUSH",e,r),()=>Nh.dispatch("POP",e,r)},[t,e]),a}function Ufe(t,e,r=()=>[document.body]){let n=Ej(t,"scroll-lock");Vfe(n,e,i=>{var a;return{containers:[...(a=i.containers)!=null?a:[],r]}})}function sC(t){return[t.screenX,t.screenY]}function zfe(){let t=B.useRef([-1,-1]);return{wasMoved(e){let r=sC(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=sC(e)}}}function $fe(t=0){let[e,r]=B.useState(t),n=B.useCallback(l=>r(l),[e]),i=B.useCallback(l=>r(c=>c|l),[e]),a=B.useCallback(l=>(e&l)===l,[e]),s=B.useCallback(l=>r(c=>c&~l),[r]),o=B.useCallback(l=>r(c=>c^l),[r]);return{flags:e,setFlag:n,addFlag:i,hasFlag:a,removeFlag:s,toggleFlag:o}}var qfe={},oC,lC;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((oC=process==null?void 0:qfe)==null?void 0:oC.NODE_ENV)==="test"&&typeof((lC=Element?.prototype)==null?void 0:lC.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Hfe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Hfe||{});function Wfe(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function Gfe(t,e,r,n){let[i,a]=B.useState(r),{hasFlag:s,addFlag:o,removeFlag:l}=$fe(t&&i?3:0),c=B.useRef(!1),f=B.useRef(!1),p=Hy();return Va(()=>{var g;if(t){if(r&&a(!0),!e){r&&o(3);return}return(g=void 0)==null||g.call(n,r),Kfe(e,{inFlight:c,prepare(){f.current?f.current=!1:f.current=c.current,c.current=!0,!f.current&&(r?(o(3),l(4)):(o(4),l(2)))},run(){f.current?r?(l(3),o(4)):(l(4),o(3)):r?l(1):o(1)},done(){var m;f.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),r||a(!1),(m=void 0)==null||m.call(n,r))}})}},[t,r,e,p]),t?[i,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Kfe(t,{prepare:e,run:r,done:n,inFlight:i}){let a=Jl();return Yfe(t,{prepare:e,inFlight:i}),a.nextFrame(()=>{r(),a.requestAnimationFrame(()=>{a.add(Xfe(t,n))})}),a.dispose}function Xfe(t,e){var r,n;let i=Jl();if(!t)return i.dispose;let a=!1;i.add(()=>{a=!0});let s=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(o=>o instanceof CSSTransition))!=null?n:[];return s.length===0?(e(),i.dispose):(Promise.allSettled(s.map(o=>o.finished)).then(()=>{a||e()}),i.dispose)}function Yfe(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function Qfe(t,{container:e,accept:r,walk:n}){let i=B.useRef(r),a=B.useRef(n);B.useEffect(()=>{i.current=r,a.current=n},[r,n]),Va(()=>{if(!e||!t)return;let s=wp(e);if(!s)return;let o=i.current,l=a.current,c=Object.assign(p=>o(p),{acceptNode:o}),f=s.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;f.nextNode();)l(f.currentNode)},[e,t,i,a])}function Ky(){return typeof window<"u"}function bp(t){return Tj(t)?(t.nodeName||"").toLowerCase():"#document"}function xl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wu(t){var e;return(e=(Tj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Tj(t){return Ky()?t instanceof Node||t instanceof xl(t).Node:!1}function Ao(t){return Ky()?t instanceof Element||t instanceof xl(t).Element:!1}function pu(t){return Ky()?t instanceof HTMLElement||t instanceof xl(t).HTMLElement:!1}function cC(t){return!Ky()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xl(t).ShadowRoot}const Jfe=new Set(["inline","contents"]);function i2(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Ac(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Jfe.has(i)}const Zfe=new Set(["table","td","th"]);function ehe(t){return Zfe.has(bp(t))}const the=[":popover-open",":modal"];function Xy(t){return the.some(e=>{try{return t.matches(e)}catch{return!1}})}const rhe=["transform","translate","scale","rotate","perspective"],nhe=["transform","translate","scale","rotate","perspective","filter"],ihe=["paint","layout","strict","content"];function yb(t){const e=wb(),r=Ao(t)?Ac(t):t;return rhe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||nhe.some(n=>(r.willChange||"").includes(n))||ihe.some(n=>(r.contain||"").includes(n))}function ahe(t){let e=Pf(t);for(;pu(e)&&!J1(e);){if(yb(e))return e;if(Xy(e))return null;e=Pf(e)}return null}function wb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const she=new Set(["html","body","#document"]);function J1(t){return she.has(bp(t))}function Ac(t){return xl(t).getComputedStyle(t)}function Yy(t){return Ao(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pf(t){if(bp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cC(t)&&t.host||wu(t);return cC(e)?e.host:e}function Ij(t){const e=Pf(t);return J1(e)?t.ownerDocument?t.ownerDocument.body:t.body:pu(e)&&i2(e)?e:Ij(e)}function _g(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Ij(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),s=xl(i);if(a){const o=Mw(s);return e.concat(s,s.visualViewport||[],i2(i)?i:[],o&&r?_g(o):[])}return e.concat(i,_g(i,[],r))}function Mw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ohe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const a0=Math.min,fo=Math.max,bg=Math.round,Sx=Math.floor,fu=t=>({x:t,y:t}),lhe={left:"right",right:"left",bottom:"top",top:"bottom"},che={start:"end",end:"start"};function uC(t,e,r){return fo(t,a0(e,r))}function kp(t,e){return typeof t=="function"?t(e):t}function Rf(t){return t.split("-")[0]}function a2(t){return t.split("-")[1]}function Pj(t){return t==="x"?"y":"x"}function Rj(t){return t==="y"?"height":"width"}const uhe=new Set(["top","bottom"]);function Ku(t){return uhe.has(Rf(t))?"y":"x"}function Fj(t){return Pj(Ku(t))}function dhe(t,e,r){r===void 0&&(r=!1);const n=a2(t),i=Fj(t),a=Rj(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Kv(s)),[s,Kv(s)]}function fhe(t){const e=Kv(t);return[Bw(t),e,Bw(e)]}function Bw(t){return t.replace(/start|end/g,e=>che[e])}const dC=["left","right"],fC=["right","left"],hhe=["top","bottom"],phe=["bottom","top"];function mhe(t,e,r){switch(t){case"top":case"bottom":return r?e?fC:dC:e?dC:fC;case"left":case"right":return e?hhe:phe;default:return[]}}function ghe(t,e,r,n){const i=a2(t);let a=mhe(Rf(t),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(Bw)))),a}function Kv(t){return t.replace(/left|right|bottom|top/g,e=>lhe[e])}function xhe(t){return{top:0,right:0,bottom:0,left:0,...t}}function vhe(t){return typeof t!="number"?xhe(t):{top:t,right:t,bottom:t,left:t}}function Xv(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function hC(t,e,r){let{reference:n,floating:i}=t;const a=Ku(e),s=Fj(e),o=Rj(s),l=Rf(e),c=a==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[o]/2-i[o]/2;let m;switch(l){case"top":m={x:f,y:n.y-i.height};break;case"bottom":m={x:f,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:p};break;case"left":m={x:n.x-i.width,y:p};break;default:m={x:n.x,y:n.y}}switch(a2(e)){case"start":m[s]-=g*(r&&c?-1:1);break;case"end":m[s]+=g*(r&&c?-1:1);break}return m}const yhe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:p}=hC(c,n,l),g=n,m={},y=0;for(let w=0;w<o.length;w++){const{name:k,fn:N}=o[w],{x:L,y:P,data:V,reset:Y}=await N({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:m,rects:c,platform:s,elements:{reference:t,floating:e}});f=L??f,p=P??p,m={...m,[k]:{...m[k],...V}},Y&&y<=50&&(y++,typeof Y=="object"&&(Y.placement&&(g=Y.placement),Y.rects&&(c=Y.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):Y.rects),{x:f,y:p}=hC(c,g,l)),w=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:m}};async function Qy(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=kp(e,t),y=vhe(m),k=o[g?p==="floating"?"reference":"floating":p],N=Xv(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(k)))==null||r?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:f,strategy:l})),L=p==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),V=await(a.isElement==null?void 0:a.isElement(P))?await(a.getScale==null?void 0:a.getScale(P))||{x:1,y:1}:{x:1,y:1},Y=Xv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:L,offsetParent:P,strategy:l}):L);return{top:(N.top-Y.top+y.top)/V.y,bottom:(Y.bottom-N.bottom+y.bottom)/V.y,left:(N.left-Y.left+y.left)/V.x,right:(Y.right-N.right+y.right)/V.x}}const whe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...k}=kp(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=Rf(i),L=Ku(o),P=Rf(o)===o,V=await(l.isRTL==null?void 0:l.isRTL(c.floating)),Y=g||(P||!w?[Kv(o)]:fhe(o)),Q=y!=="none";!g&&Q&&Y.push(...ghe(o,w,y,V));const R=[o,...Y],T=await Qy(e,k),S=[];let j=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&S.push(T[N]),p){const re=dhe(i,s,V);S.push(T[re[0]],T[re[1]])}if(j=[...j,{placement:i,overflows:S}],!S.every(re=>re<=0)){var A,F;const re=(((A=a.flip)==null?void 0:A.index)||0)+1,pe=R[re];if(pe&&(!(p==="alignment"?L!==Ku(pe):!1)||j.every(oe=>Ku(oe.placement)===L?oe.overflows[0]>0:!0)))return{data:{index:re,overflows:j},reset:{placement:pe}};let _e=(F=j.filter(xe=>xe.overflows[0]<=0).sort((xe,oe)=>xe.overflows[1]-oe.overflows[1])[0])==null?void 0:F.placement;if(!_e)switch(m){case"bestFit":{var M;const xe=(M=j.filter(oe=>{if(Q){const G=Ku(oe.placement);return G===L||G==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(G=>G>0).reduce((G,fe)=>G+fe,0)]).sort((oe,G)=>oe[1]-G[1])[0])==null?void 0:M[0];xe&&(_e=xe);break}case"initialPlacement":_e=o;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}},_he=new Set(["left","top"]);async function bhe(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Rf(r),o=a2(r),l=Ku(r)==="y",c=_he.has(s)?-1:1,f=a&&l?-1:1,p=kp(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),l?{x:m*f,y:g*c}:{x:g*c,y:m*f}}const khe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=e,l=await bhe(e,t);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},Ehe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:k=>{let{x:N,y:L}=k;return{x:N,y:L}}},...l}=kp(t,e),c={x:r,y:n},f=await Qy(e,l),p=Ku(Rf(i)),g=Pj(p);let m=c[g],y=c[p];if(a){const k=g==="y"?"top":"left",N=g==="y"?"bottom":"right",L=m+f[k],P=m-f[N];m=uC(L,m,P)}if(s){const k=p==="y"?"top":"left",N=p==="y"?"bottom":"right",L=y+f[k],P=y-f[N];y=uC(L,y,P)}const w=o.fn({...e,[g]:m,[p]:y});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[g]:a,[p]:s}}}}}},She=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:l=()=>{},...c}=kp(t,e),f=await Qy(e,c),p=Rf(i),g=a2(i),m=Ku(i)==="y",{width:y,height:w}=a.floating;let k,N;p==="top"||p==="bottom"?(k=p,N=g===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(N=p,k=g==="end"?"top":"bottom");const L=w-f.top-f.bottom,P=y-f.left-f.right,V=a0(w-f[k],L),Y=a0(y-f[N],P),Q=!e.middlewareData.shift;let R=V,T=Y;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=P),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(R=L),Q&&!g){const j=fo(f.left,0),A=fo(f.right,0),F=fo(f.top,0),M=fo(f.bottom,0);m?T=y-2*(j!==0||A!==0?j+A:fo(f.left,f.right)):R=w-2*(F!==0||M!==0?F+M:fo(f.top,f.bottom))}await l({...e,availableWidth:T,availableHeight:R});const S=await s.getDimensions(o.floating);return y!==S.width||w!==S.height?{reset:{rects:!0}}:{}}}};function Lj(t){const e=Ac(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=pu(t),a=i?t.offsetWidth:r,s=i?t.offsetHeight:n,o=bg(r)!==a||bg(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function _b(t){return Ao(t)?t:t.contextElement}function P1(t){const e=_b(t);if(!pu(e))return fu(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=Lj(e);let s=(a?bg(r.width):r.width)/n,o=(a?bg(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Che=fu(0);function jj(t){const e=xl(t);return!wb()||!e.visualViewport?Che:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Nhe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==xl(t)?!1:e}function s0(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=_b(t);let s=fu(1);e&&(n?Ao(n)&&(s=P1(n)):s=P1(t));const o=Nhe(a,r,n)?jj(a):fu(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,f=i.width/s.x,p=i.height/s.y;if(a){const g=xl(a),m=n&&Ao(n)?xl(n):n;let y=g,w=Mw(y);for(;w&&n&&m!==y;){const k=P1(w),N=w.getBoundingClientRect(),L=Ac(w),P=N.left+(w.clientLeft+parseFloat(L.paddingLeft))*k.x,V=N.top+(w.clientTop+parseFloat(L.paddingTop))*k.y;l*=k.x,c*=k.y,f*=k.x,p*=k.y,l+=P,c+=V,y=xl(w),w=Mw(y)}}return Xv({width:f,height:p,x:l,y:c})}function Jy(t,e){const r=Yy(t).scrollLeft;return e?e.left+r:s0(wu(t)).left+r}function Dj(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Jy(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function Ahe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",s=wu(n),o=e?Xy(e.floating):!1;if(n===s||o&&a)return r;let l={scrollLeft:0,scrollTop:0},c=fu(1);const f=fu(0),p=pu(n);if((p||!p&&!a)&&((bp(n)!=="body"||i2(s))&&(l=Yy(n)),pu(n))){const m=s0(n);c=P1(n),f.x=m.x+n.clientLeft,f.y=m.y+n.clientTop}const g=s&&!p&&!a?Dj(s,l):fu(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+f.x+g.x,y:r.y*c.y-l.scrollTop*c.y+f.y+g.y}}function The(t){return Array.from(t.getClientRects())}function Ihe(t){const e=wu(t),r=Yy(t),n=t.ownerDocument.body,i=fo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=fo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Jy(t);const o=-r.scrollTop;return Ac(n).direction==="rtl"&&(s+=fo(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}const pC=25;function Phe(t,e){const r=xl(t),n=wu(t),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const f=wb();(!f||f&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Jy(n);if(c<=0){const f=n.ownerDocument,p=f.body,g=getComputedStyle(p),m=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,y=Math.abs(n.clientWidth-p.clientWidth-m);y<=pC&&(a-=y)}else c<=pC&&(a+=c);return{width:a,height:s,x:o,y:l}}const Rhe=new Set(["absolute","fixed"]);function Fhe(t,e){const r=s0(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=pu(t)?P1(t):fu(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,l=i*a.x,c=n*a.y;return{width:s,height:o,x:l,y:c}}function mC(t,e,r){let n;if(e==="viewport")n=Phe(t,r);else if(e==="document")n=Ihe(wu(t));else if(Ao(e))n=Fhe(e,r);else{const i=jj(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Xv(n)}function Oj(t,e){const r=Pf(t);return r===e||!Ao(r)||J1(r)?!1:Ac(r).position==="fixed"||Oj(r,e)}function Lhe(t,e){const r=e.get(t);if(r)return r;let n=_g(t,[],!1).filter(o=>Ao(o)&&bp(o)!=="body"),i=null;const a=Ac(t).position==="fixed";let s=a?Pf(t):t;for(;Ao(s)&&!J1(s);){const o=Ac(s),l=yb(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&Rhe.has(i.position)||i2(s)&&!l&&Oj(t,s))?n=n.filter(f=>f!==s):i=o,s=Pf(s)}return e.set(t,n),n}function jhe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?Xy(e)?[]:Lhe(e,this._c):[].concat(r),n],o=s[0],l=s.reduce((c,f)=>{const p=mC(e,f,i);return c.top=fo(p.top,c.top),c.right=a0(p.right,c.right),c.bottom=a0(p.bottom,c.bottom),c.left=fo(p.left,c.left),c},mC(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Dhe(t){const{width:e,height:r}=Lj(t);return{width:e,height:r}}function Ohe(t,e,r){const n=pu(e),i=wu(e),a=r==="fixed",s=s0(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=fu(0);function c(){l.x=Jy(i)}if(n||!n&&!a)if((bp(e)!=="body"||i2(i))&&(o=Yy(e)),n){const m=s0(e,!0,a,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();a&&!n&&i&&c();const f=i&&!n&&!a?Dj(i,o):fu(0),p=s.left+o.scrollLeft-l.x-f.x,g=s.top+o.scrollTop-l.y-f.y;return{x:p,y:g,width:s.width,height:s.height}}function l3(t){return Ac(t).position==="static"}function gC(t,e){if(!pu(t)||Ac(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return wu(t)===r&&(r=r.ownerDocument.body),r}function Mj(t,e){const r=xl(t);if(Xy(t))return r;if(!pu(t)){let i=Pf(t);for(;i&&!J1(i);){if(Ao(i)&&!l3(i))return i;i=Pf(i)}return r}let n=gC(t,e);for(;n&&ehe(n)&&l3(n);)n=gC(n,e);return n&&J1(n)&&l3(n)&&!yb(n)?r:n||ahe(t)||r}const Mhe=async function(t){const e=this.getOffsetParent||Mj,r=this.getDimensions,n=await r(t.floating);return{reference:Ohe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Bhe(t){return Ac(t).direction==="rtl"}const Vhe={convertOffsetParentRelativeRectToViewportRelativeRect:Ahe,getDocumentElement:wu,getClippingRect:jhe,getOffsetParent:Mj,getElementRects:Mhe,getClientRects:The,getDimensions:Dhe,getScale:P1,isElement:Ao,isRTL:Bhe};function Bj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Uhe(t,e){let r=null,n;const i=wu(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const c=t.getBoundingClientRect(),{left:f,top:p,width:g,height:m}=c;if(o||e(),!g||!m)return;const y=Sx(p),w=Sx(i.clientWidth-(f+g)),k=Sx(i.clientHeight-(p+m)),N=Sx(f),P={rootMargin:-y+"px "+-w+"px "+-k+"px "+-N+"px",threshold:fo(0,a0(1,l))||1};let V=!0;function Y(Q){const R=Q[0].intersectionRatio;if(R!==l){if(!V)return s();R?s(!1,R):n=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!Bj(c,t.getBoundingClientRect())&&s(),V=!1}try{r=new IntersectionObserver(Y,{...P,root:i.ownerDocument})}catch{r=new IntersectionObserver(Y,P)}r.observe(t)}return s(!0),a}function zhe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=_b(t),f=i||a?[...c?_g(c):[],..._g(e)]:[];f.forEach(N=>{i&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const p=c&&o?Uhe(c,r):null;let g=-1,m=null;s&&(m=new ResizeObserver(N=>{let[L]=N;L&&L.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var P;(P=m)==null||P.observe(e)})),r()}),c&&!l&&m.observe(c),m.observe(e));let y,w=l?s0(t):null;l&&k();function k(){const N=s0(t);w&&!Bj(w,N)&&r(),w=N,y=requestAnimationFrame(k)}return r(),()=>{var N;f.forEach(L=>{i&&L.removeEventListener("scroll",r),a&&L.removeEventListener("resize",r)}),p?.(),(N=m)==null||N.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const c3=Qy,$he=khe,qhe=Ehe,Hhe=whe,Whe=She,Ghe=(t,e,r)=>{const n=new Map,i={platform:Vhe,...r},a={...i.platform,_c:n};return yhe(t,e,{...i,platform:a})};var Khe=typeof document<"u",Xhe=function(){},Yx=Khe?B.useLayoutEffect:Xhe;function Yv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Yv(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Yv(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Vj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xC(t,e){const r=Vj(t);return Math.round(e*r)/r}function u3(t){const e=B.useRef(t);return Yx(()=>{e.current=t}),e}function Yhe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[f,p]=B.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=B.useState(n);Yv(g,n)||m(n);const[y,w]=B.useState(null),[k,N]=B.useState(null),L=B.useCallback(oe=>{oe!==Q.current&&(Q.current=oe,w(oe))},[]),P=B.useCallback(oe=>{oe!==R.current&&(R.current=oe,N(oe))},[]),V=a||y,Y=s||k,Q=B.useRef(null),R=B.useRef(null),T=B.useRef(f),S=l!=null,j=u3(l),A=u3(i),F=u3(c),M=B.useCallback(()=>{if(!Q.current||!R.current)return;const oe={placement:e,strategy:r,middleware:g};A.current&&(oe.platform=A.current),Ghe(Q.current,R.current,oe).then(G=>{const fe={...G,isPositioned:F.current!==!1};re.current&&!Yv(T.current,fe)&&(T.current=fe,la.flushSync(()=>{p(fe)}))})},[g,e,r,A,F]);Yx(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(oe=>({...oe,isPositioned:!1})))},[c]);const re=B.useRef(!1);Yx(()=>(re.current=!0,()=>{re.current=!1}),[]),Yx(()=>{if(V&&(Q.current=V),Y&&(R.current=Y),V&&Y){if(j.current)return j.current(V,Y,M);M()}},[V,Y,M,j,S]);const pe=B.useMemo(()=>({reference:Q,floating:R,setReference:L,setFloating:P}),[L,P]),_e=B.useMemo(()=>({reference:V,floating:Y}),[V,Y]),xe=B.useMemo(()=>{const oe={position:r,left:0,top:0};if(!_e.floating)return oe;const G=xC(_e.floating,f.x),fe=xC(_e.floating,f.y);return o?{...oe,transform:"translate("+G+"px, "+fe+"px)",...Vj(_e.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:fe}},[r,o,_e.floating,f.x,f.y]);return B.useMemo(()=>({...f,update:M,refs:pe,elements:_e,floatingStyles:xe}),[f,M,pe,_e,xe])}const Uj=(t,e)=>({...$he(t),options:[t,e]}),Qhe=(t,e)=>({...qhe(t),options:[t,e]}),Jhe=(t,e)=>({...Hhe(t),options:[t,e]}),Zhe=(t,e)=>({...Whe(t),options:[t,e]}),zj={...Jx},e0e=zj.useInsertionEffect,t0e=e0e||(t=>t());function $j(t){const e=B.useRef(()=>{});return t0e(()=>{e.current=t}),B.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Vw=typeof document<"u"?B.useLayoutEffect:B.useEffect;let vC=!1,r0e=0;const yC=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+r0e++;function n0e(){const[t,e]=B.useState(()=>vC?yC():void 0);return Vw(()=>{t==null&&e(yC())},[]),B.useEffect(()=>{vC=!0},[]),t}const i0e=zj.useId,a0e=i0e||n0e;function s0e(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const o0e=B.createContext(null),l0e=B.createContext(null),c0e=()=>{var t;return((t=B.useContext(o0e))==null?void 0:t.id)||null},u0e=()=>B.useContext(l0e),d0e="data-floating-ui-focusable";function f0e(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=a0e(),a=B.useRef({}),[s]=B.useState(()=>s0e()),o=c0e()!=null,[l,c]=B.useState(n.reference),f=$j((m,y,w)=>{a.current.openEvent=m?y:void 0,s.emit("openchange",{open:m,event:y,reason:w,nested:o}),r?.(m,y,w)}),p=B.useMemo(()=>({setPositionReference:c}),[]),g=B.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return B.useMemo(()=>({dataRef:a,open:e,onOpenChange:f,elements:g,events:s,floatingId:i,refs:p}),[e,f,g,s,i,p])}function h0e(t){t===void 0&&(t={});const{nodeId:e}=t,r=f0e({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[a,s]=B.useState(null),[o,l]=B.useState(null),f=i?.domReference||a,p=B.useRef(null),g=u0e();Vw(()=>{f&&(p.current=f)},[f]);const m=Yhe({...t,elements:{...i,...o&&{reference:o}}}),y=B.useCallback(P=>{const V=Ao(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;l(V),m.refs.setReference(V)},[m.refs]),w=B.useCallback(P=>{(Ao(P)||P===null)&&(p.current=P,s(P)),(Ao(m.refs.reference.current)||m.refs.reference.current===null||P!==null&&!Ao(P))&&m.refs.setReference(P)},[m.refs]),k=B.useMemo(()=>({...m.refs,setReference:w,setPositionReference:y,domReference:p}),[m.refs,w,y]),N=B.useMemo(()=>({...m.elements,domReference:f}),[m.elements,f]),L=B.useMemo(()=>({...m,...n,refs:k,elements:N,nodeId:e}),[m,k,N,e,n]);return Vw(()=>{n.dataRef.current.floatingContext=L;const P=g?.nodesRef.current.find(V=>V.id===e);P&&(P.context=L)}),B.useMemo(()=>({...m,context:L,refs:k,elements:N}),[m,k,N,L])}const wC="active",_C="selected";function d3(t,e,r){const n=new Map,i=r==="item";let a=t;if(i&&t){const{[wC]:s,[_C]:o,...l}=t;a=l}return{...r==="floating"&&{tabIndex:-1,[d0e]:""},...a,...e.map(s=>{const o=s?s[r]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((s,o)=>(o&&Object.entries(o).forEach(l=>{let[c,f]=l;if(!(i&&[wC,_C].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof f=="function"){var p;(p=n.get(c))==null||p.push(f),s[c]=function(){for(var g,m=arguments.length,y=new Array(m),w=0;w<m;w++)y[w]=arguments[w];return(g=n.get(c))==null?void 0:g.map(k=>k(...y)).find(k=>k!==void 0)}}}else s[c]=f}),s),{})}}function p0e(t){t===void 0&&(t=[]);const e=t.map(o=>o?.reference),r=t.map(o=>o?.floating),n=t.map(o=>o?.item),i=B.useCallback(o=>d3(o,t,"reference"),e),a=B.useCallback(o=>d3(o,t,"floating"),r),s=B.useCallback(o=>d3(o,t,"item"),n);return B.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:s}),[i,a,s])}function bC(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const m0e=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:a=0,index:s=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:c,...f}=kp(t,e),{rects:p,elements:{floating:g}}=e,m=r.current[s],y=c?.current||g,w=g.clientTop||y.clientTop,k=g.clientTop!==0,N=y.clientTop!==0,L=g===y;if(!m)return{};const P={...e,...await Uj(-m.offsetTop-g.clientTop-p.reference.height/2-m.offsetHeight/2-a).fn(e)},V=await c3(bC(P,y.scrollHeight+w+g.clientTop),f),Y=await c3(P,{...f,elementContext:"reference"}),Q=fo(0,V.top),R=P.y+Q,j=(y.scrollHeight>y.clientHeight?A=>A:bg)(fo(0,y.scrollHeight+(k&&L||N?w*2:0)-Q-fo(0,V.bottom)));if(y.style.maxHeight=j+"px",y.scrollTop=Q,i){const A=y.offsetHeight<m.offsetHeight*a0(o,r.current.length)-1||Y.top>=-l||Y.bottom>=-l;la.flushSync(()=>i(A))}return n&&(n.current=await c3(bC({...P,y:R},y.offsetHeight+w+g.clientTop),f)),{y:R}}});function g0e(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:a,scrollRef:s,onChange:o}=e,l=$j(o),c=B.useRef(!1),f=B.useRef(null),p=B.useRef(null);B.useEffect(()=>{if(!i)return;function m(w){if(w.ctrlKey||!y||a.current==null)return;const k=w.deltaY,N=a.current.top>=-.5,L=a.current.bottom>=-.5,P=y.scrollHeight-y.clientHeight,V=k<0?-1:1,Y=k<0?"max":"min";y.scrollHeight<=y.clientHeight||(!N&&k>0||!L&&k<0?(w.preventDefault(),la.flushSync(()=>{l(Q=>Q+Math[Y](k,P*V))})):/firefox/i.test(ohe())&&(y.scrollTop+=k))}const y=s?.current||n.floating;if(r&&y)return y.addEventListener("wheel",m),requestAnimationFrame(()=>{f.current=y.scrollTop,a.current!=null&&(p.current={...a.current})}),()=>{f.current=null,p.current=null,y.removeEventListener("wheel",m)}},[i,r,n.floating,a,s,l]);const g=B.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const m=s?.current||n.floating;if(!(!a.current||!m||!c.current)){if(f.current!==null){const y=m.scrollTop-f.current;(a.current.bottom<-.5&&y<-1||a.current.top<-.5&&y>1)&&la.flushSync(()=>l(w=>w+y))}requestAnimationFrame(()=>{f.current=m.scrollTop})}}}),[n.floating,l,a,s]);return B.useMemo(()=>i?{floating:g}:{},[i,g])}let Ep=B.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ep.displayName="FloatingContext";let bb=B.createContext(null);bb.displayName="PlacementContext";function x0e(t){return B.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function v0e(){return B.useContext(Ep).setReference}function y0e(){return B.useContext(Ep).getReferenceProps}function w0e(){let{getFloatingProps:t,slot:e}=B.useContext(Ep);return B.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function _0e(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=B.useContext(bb),r=B.useMemo(()=>t,[JSON.stringify(t,(i,a)=>{var s;return(s=a?.outerHTML)!=null?s:a})]);Va(()=>{e?.(r??null)},[e,r]);let n=B.useContext(Ep);return B.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let kC=4;function b0e({children:t,enabled:e=!0}){let[r,n]=B.useState(null),[i,a]=B.useState(0),s=B.useRef(null),[o,l]=B.useState(null);k0e(o);let c=e&&r!==null&&o!==null,{to:f="bottom",gap:p=0,offset:g=0,padding:m=0,inner:y}=E0e(r,o),[w,k="center"]=f.split(" ");Va(()=>{c&&a(0)},[c]);let{refs:N,floatingStyles:L,context:P}=h0e({open:c,placement:w==="selection"?k==="center"?"bottom":`bottom-${k}`:k==="center"?`${w}`:`${w}-${k}`,strategy:"absolute",transform:!1,middleware:[Uj({mainAxis:w==="selection"?0:p,crossAxis:g}),Qhe({padding:m}),w!=="selection"&&Jhe({padding:m}),w==="selection"&&y?m0e({...y,padding:m,overflowRef:s,offset:i,minItemsVisible:kC,referenceOverflowThreshold:m,onFallbackChange(A){var F,M;if(!A)return;let re=P.elements.floating;if(!re)return;let pe=parseFloat(getComputedStyle(re).scrollPaddingBottom)||0,_e=Math.min(kC,re.childElementCount),xe=0,oe=0;for(let G of(M=(F=P.elements.floating)==null?void 0:F.childNodes)!=null?M:[])if(xd(G)){let fe=G.offsetTop,X=fe+G.clientHeight+pe,I=re.scrollTop,q=I+re.clientHeight;if(fe>=I&&X<=q)_e--;else{oe=Math.max(0,Math.min(X,q)-Math.max(fe,I)),xe=G.clientHeight;break}}_e>=1&&a(G=>{let fe=xe*_e-oe+pe;return G>=fe?G:fe})}}):null,Zhe({padding:m,apply({availableWidth:A,availableHeight:F,elements:M}){Object.assign(M.floating.style,{overflow:"auto",maxWidth:`${A}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${F}px)`})}})].filter(Boolean),whileElementsMounted:zhe}),[V=w,Y=k]=P.placement.split("-");w==="selection"&&(V="selection");let Q=B.useMemo(()=>({anchor:[V,Y].filter(Boolean).join(" ")}),[V,Y]),R=g0e(P,{overflowRef:s,onChange:a}),{getReferenceProps:T,getFloatingProps:S}=p0e([R]),j=Un(A=>{l(A),N.setFloating(A)});return B.createElement(bb.Provider,{value:n},B.createElement(Ep.Provider,{value:{setFloating:j,setReference:N.setReference,styles:L,getReferenceProps:T,getFloatingProps:S,slot:Q}},t))}function k0e(t){Va(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function E0e(t,e){var r,n,i;let a=f3((r=t?.gap)!=null?r:"var(--anchor-gap, 0)",e),s=f3((n=t?.offset)!=null?n:"var(--anchor-offset, 0)",e),o=f3((i=t?.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:a,offset:s,padding:o}}function f3(t,e,r=void 0){let n=Hy(),i=Un((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let f=EC(l,c);return[f,p=>{let g=qj(l);{let m=g.map(y=>window.getComputedStyle(c).getPropertyValue(y));n.requestAnimationFrame(function y(){n.nextFrame(y);let w=!1;for(let[N,L]of g.entries()){let P=window.getComputedStyle(c).getPropertyValue(L);if(m[N]!==P){m[N]=P,w=!0;break}}if(!w)return;let k=EC(l,c);f!==k&&(p(k),f=k)})}return n.dispose}]}return[r,null]}),a=B.useMemo(()=>i(t,e)[0],[t,e]),[s=a,o]=B.useState();return Va(()=>{let[l,c]=i(t,e);if(o(l),!!c)return c(o)},[t,e]),s}function qj(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,...qj(i)]:[n]}return[]}function EC(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let kb=B.createContext(null);kb.displayName="OpenClosedContext";var kg=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(kg||{});function S0e(){return B.useContext(kb)}function C0e({value:t,children:e}){return di.createElement(kb.Provider,{value:t},e)}function N0e(t){throw new Error("Unexpected object: "+t)}var Ba=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Ba||{});function Cx(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let a=0;a<r.length;++a)if(!e.resolveDisabled(r[a],a,r))return a;return n}case 1:{i===-1&&(i=r.length);for(let a=i-1;a>=0;--a)if(!e.resolveDisabled(r[a],a,r))return a;return n}case 2:{for(let a=i+1;a<r.length;++a)if(!e.resolveDisabled(r[a],a,r))return a;return n}case 3:{for(let a=r.length-1;a>=0;--a)if(!e.resolveDisabled(r[a],a,r))return a;return n}case 4:{for(let a=0;a<r.length;++a)if(e.resolveId(r[a],a,r)===t.id)return a;return n}case 5:return null;default:N0e(t)}}var Hj=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(Hj||{});function Wj(t){let e=Un(t),r=B.useRef(!1);B.useEffect(()=>(r.current=!1,()=>{r.current=!0,cj(()=>{r.current&&e()})}),[e])}function A0e(){let t=typeof document>"u";return"useSyncExternalStore"in Jx?(e=>e.useSyncExternalStore)(Jx)(()=>()=>{},()=>!1,()=>!t):!1}function T0e(){let t=A0e(),[e,r]=B.useState(du.isHandoffComplete);return e&&du.isHandoffComplete===!1&&r(!1),B.useEffect(()=>{e!==!0&&r(!0)},[e]),B.useEffect(()=>du.handoff(),[]),t?!1:e}let I0e=B.createContext(!1);function P0e(){return B.useContext(I0e)}function R0e(t){let e=P0e(),r=B.useContext(Kj),[n,i]=B.useState(()=>{var a;if(!e&&r!==null)return(a=r.current)!=null?a:null;if(du.isServer)return null;let s=t?.getElementById("headlessui-portal-root");if(s)return s;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return B.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),B.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let Gj=B.Fragment,F0e=ec(function(t,e){let{ownerDocument:r=null,...n}=t,i=B.useRef(null),a=vd(Gde(m=>{i.current=m}),e),s=Ow(i),o=r??s,l=R0e(o),[c]=B.useState(()=>{var m;return du.isServer?null:(m=o?.createElement("div"))!=null?m:null}),f=B.useContext(O0e),p=T0e();Va(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),Va(()=>{if(c&&f)return f.register(c)},[f,c]),Wj(()=>{var m;!l||!c||(hb(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l)))});let g=Zl();return p?!l||!c?null:la.createPortal(g({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:Gj,name:"Portal"}),c):null});function L0e(t,e){let r=vd(e),{enabled:n=!0,ownerDocument:i,...a}=t,s=Zl();return n?di.createElement(F0e,{...a,ownerDocument:i,ref:r}):s({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:Gj,name:"Portal"})}let j0e=B.Fragment,Kj=B.createContext(null);function D0e(t,e){let{target:r,...n}=t,i={ref:vd(e)},a=Zl();return di.createElement(Kj.Provider,{value:r},a({ourProps:i,theirProps:n,defaultTag:j0e,name:"Popover.Group"}))}let O0e=B.createContext(null),M0e=ec(L0e),B0e=ec(D0e),V0e=Object.assign(M0e,{Group:B0e});function U0e(t,e){let r=B.useRef({left:0,top:0});if(Va(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(r.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let n=e.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}let SC=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function CC(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!xd(i))return n;let a=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),a=!0;let s=a?(r=i.innerText)!=null?r:"":n;return SC.test(s)&&(s=s.replace(SC,"")),s}function z0e(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let a=document.getElementById(i);if(a){let s=a.getAttribute("aria-label");return typeof s=="string"?s.trim():CC(a).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return CC(t).trim()}function $0e(t){let e=B.useRef(""),r=B.useRef("");return Un(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let a=z0e(n).trim().toLowerCase();return e.current=i,r.current=a,a})}var q0e=Object.defineProperty,H0e=(t,e,r)=>e in t?q0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,NC=(t,e,r)=>(H0e(t,typeof e!="symbol"?e+"":e,r),r),Fs=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Fs||{}),Qv=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(Qv||{}),ui=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t))(ui||{});function AC(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=Nj(e(t.items.slice()),a=>a.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let W0e={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,pendingFocus:{focus:Ba.Nothing},menuState:1}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0}},2:(t,e)=>{var r,n,i,a,s;if(t.menuState===1)return t;let o={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===Ba.Nothing)return{...o,activeItemIndex:null};if(e.focus===Ba.Specific)return{...o,activeItemIndex:t.items.findIndex(f=>f.id===e.id)};if(e.focus===Ba.Previous){let f=t.activeItemIndex;if(f!==null){let p=t.items[f].dataRef.current.domRef,g=Cx(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(g!==null){let m=t.items[g].dataRef.current.domRef;if(((n=p.current)==null?void 0:n.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:g}}}}else if(e.focus===Ba.Next){let f=t.activeItemIndex;if(f!==null){let p=t.items[f].dataRef.current.domRef,g=Cx(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(g!==null){let m=t.items[g].dataRef.current.domRef;if(((a=p.current)==null?void 0:a.nextElementSibling)===m.current||((s=m.current)==null?void 0:s.nextElementSibling)===null)return{...o,activeItemIndex:g}}}}let l=AC(t),c=Cx(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...o,...l,activeItemIndex:c}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(s=>{var o;return((o=s.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!s.dataRef.current.disabled}),a=i?t.items.indexOf(i):-1;return a===-1||a===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:a,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==Ba.Nothing&&(n=Cx(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:Ba.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[a,s]of r.entries())if(i.has(s.id)&&(n.push(a),i.delete(s.id),i.size===0))break;if(n.length>0){r=r.slice();for(let a of n.reverse())r.splice(a,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...AC(t),pendingShouldSort:!1}:t};class Eb extends wj{constructor(e){super(e),NC(this,"actions",{registerItem:QS(()=>{let r=[],n=new Set;return[(i,a)=>{n.has(a)||(n.add(a),r.push({id:i,dataRef:a}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:QS(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),NC(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,a=r.items;return i===null||(n=a[i])==null?void 0:n.id},isActive(r,n){var i;let a=r.activeItemIndex,s=r.items;return a!==null?((i=s[a])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=gb.get(null);this.disposables.add(n.on(bj.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}}static new({id:e,__demoMode:r=!1}){return new Eb({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:Ba.Nothing}})}reduce(e,r){return _p(r.type,W0e,e,r)}}const Xj=B.createContext(null);function Sb(t){let e=B.useContext(Xj);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Yj),r}return e}function Yj({id:t,__demoMode:e=!1}){let r=B.useMemo(()=>Eb.new({id:t,__demoMode:e}),[]);return Wj(()=>r.dispose()),r}let G0e=B.Fragment;function K0e(t,e){let r=B.useId(),{__demoMode:n=!1,...i}=t,a=Yj({id:r,__demoMode:n}),[s,o,l]=su(a,k=>[k.menuState,k.itemsElement,k.buttonElement]),c=vd(e),f=gb.get(null),p=su(f,B.useCallback(k=>f.selectors.isTop(k,r),[f,r]));Tfe(p,[l,o],(k,N)=>{var L;a.send({type:ui.CloseMenu}),vb(N,xb.Loose)||(k.preventDefault(),(L=a.state.buttonElement)==null||L.focus())});let g=Un(()=>{a.send({type:ui.CloseMenu})}),m=B.useMemo(()=>({open:s===Fs.Open,close:g}),[s,g]),y={ref:c},w=Zl();return di.createElement(b0e,null,di.createElement(Xj.Provider,{value:a},di.createElement(C0e,{value:_p(s,{[Fs.Open]:kg.Open,[Fs.Closed]:kg.Closed})},w({ourProps:y,theirProps:i,slot:m,defaultTag:G0e,name:"Menu"}))))}let X0e="button";function Y0e(t,e){let r=Sb("Menu.Button"),n=B.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:a=!1,autoFocus:s=!1,...o}=t,l=B.useRef(null),c=y0e(),f=vd(e,l,v0e(),Un(M=>r.send({type:ui.SetButtonElement,element:M}))),p=Un(M=>{switch(M.key){case Ps.Space:case Ps.Enter:case Ps.ArrowDown:M.preventDefault(),M.stopPropagation(),r.send({type:ui.OpenMenu,focus:{focus:Ba.First}});break;case Ps.ArrowUp:M.preventDefault(),M.stopPropagation(),r.send({type:ui.OpenMenu,focus:{focus:Ba.Last}});break}}),g=Un(M=>{switch(M.key){case Ps.Space:M.preventDefault();break}}),[m,y,w]=su(r,M=>[M.menuState,M.buttonElement,M.itemsElement]),k=m===Fs.Open;Rfe(k,{trigger:y,action:B.useCallback(M=>{if(y!=null&&y.contains(M.target))return Ex.Ignore;let re=M.target.closest('[role="menuitem"]:not([data-disabled])');return xd(re)?Ex.Select(re):w!=null&&w.contains(M.target)?Ex.Ignore:Ex.Close},[y,w]),close:B.useCallback(()=>r.send({type:ui.CloseMenu}),[]),select:B.useCallback(M=>M.click(),[])});let N=Un(M=>{var re;if(M.button===Hj.Left){if(Hde(M.currentTarget))return M.preventDefault();a||(m===Fs.Open?(la.flushSync(()=>r.send({type:ui.CloseMenu})),(re=l.current)==null||re.focus({preventScroll:!0})):(M.preventDefault(),r.send({type:ui.OpenMenu,focus:{focus:Ba.Nothing},trigger:Qv.Pointer})))}}),L=B.useRef(null),P=Un(M=>{L.current=M.pointerType,M.pointerType==="mouse"&&N(M)}),V=Un(M=>{L.current!=="mouse"&&N(M)}),{isFocusVisible:Y,focusProps:Q}=Cde({autoFocus:s}),{isHovered:R,hoverProps:T}=Sde({isDisabled:a}),{pressed:S,pressProps:j}=Rde({disabled:a}),A=B.useMemo(()=>({open:m===Fs.Open,active:S||m===Fs.Open,disabled:a,hover:R,focus:Y,autofocus:s}),[m,R,Y,S,a,s]),F=fj(c(),{ref:f,id:i,type:Ffe(t,l.current),"aria-haspopup":"menu","aria-controls":w?.id,"aria-expanded":m===Fs.Open,disabled:a||void 0,autoFocus:s,onKeyDown:p,onKeyUp:g,onPointerDown:P,onClick:V},Q,T,j);return Zl()({ourProps:F,theirProps:o,slot:A,defaultTag:X0e,name:"Menu.Button"})}let Q0e="div",J0e=Fw.RenderStrategy|Fw.Static;function Z0e(t,e){let r=B.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:a=!1,modal:s=!0,transition:o=!1,...l}=t,c=x0e(i),f=Sb("Menu.Items"),[p,g]=_0e(c),m=w0e(),[y,w]=B.useState(null),k=vd(e,c?p:null,Un(G=>f.send({type:ui.SetItemsElement,element:G})),w),[N,L]=su(f,G=>[G.menuState,G.buttonElement]),P=Ow(L),V=Ow(y);c&&(a=!0);let Y=S0e(),[Q,R]=Gfe(o,y,Y!==null?(Y&kg.Open)===kg.Open:N===Fs.Open);gfe(Q,L,()=>{f.send({type:ui.CloseMenu})});let T=su(f,G=>G.__demoMode),S=T?!1:s&&N===Fs.Open;Ufe(S,V);let j=T?!1:s&&N===Fs.Open;mfe(j,{allowed:B.useCallback(()=>[L,y],[L,y])});let A=N!==Fs.Open,F=U0e(A,L)?!1:Q;B.useEffect(()=>{let G=y;G&&N===Fs.Open&&G!==V?.activeElement&&G.focus({preventScroll:!0})},[N,y,V]),Qfe(N===Fs.Open,{container:y,accept(G){return G.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:G.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(G){G.setAttribute("role","none")}});let M=Hy(),re=Un(G=>{var fe,X,I;switch(M.dispose(),G.key){case Ps.Space:if(f.state.searchQuery!=="")return G.preventDefault(),G.stopPropagation(),f.send({type:ui.Search,value:G.key});case Ps.Enter:if(G.preventDefault(),G.stopPropagation(),f.state.activeItemIndex!==null){let{dataRef:q}=f.state.items[f.state.activeItemIndex];(X=(fe=q.current)==null?void 0:fe.domRef.current)==null||X.click()}f.send({type:ui.CloseMenu}),Cj(f.state.buttonElement);break;case Ps.ArrowDown:return G.preventDefault(),G.stopPropagation(),f.send({type:ui.GoToItem,focus:Ba.Next});case Ps.ArrowUp:return G.preventDefault(),G.stopPropagation(),f.send({type:ui.GoToItem,focus:Ba.Previous});case Ps.Home:case Ps.PageUp:return G.preventDefault(),G.stopPropagation(),f.send({type:ui.GoToItem,focus:Ba.First});case Ps.End:case Ps.PageDown:return G.preventDefault(),G.stopPropagation(),f.send({type:ui.GoToItem,focus:Ba.Last});case Ps.Escape:G.preventDefault(),G.stopPropagation(),la.flushSync(()=>f.send({type:ui.CloseMenu})),(I=f.state.buttonElement)==null||I.focus({preventScroll:!0});break;case Ps.Tab:G.preventDefault(),G.stopPropagation(),la.flushSync(()=>f.send({type:ui.CloseMenu})),Sfe(f.state.buttonElement,G.shiftKey?Dw.Previous:Dw.Next);break;default:G.key.length===1&&(f.send({type:ui.Search,value:G.key}),M.setTimeout(()=>f.send({type:ui.ClearSearch}),350));break}}),pe=Un(G=>{switch(G.key){case Ps.Space:G.preventDefault();break}}),_e=B.useMemo(()=>({open:N===Fs.Open}),[N]),xe=fj(c?m():{},{"aria-activedescendant":su(f,f.selectors.activeDescendantId),"aria-labelledby":su(f,G=>{var fe;return(fe=G.buttonElement)==null?void 0:fe.id}),id:n,onKeyDown:re,onKeyUp:pe,role:"menu",tabIndex:N===Fs.Open?0:void 0,ref:k,style:{...l.style,...g,"--button-width":nfe(L,!0).width},...Wfe(R)}),oe=Zl();return di.createElement(V0e,{enabled:a?t.static||Q:!1,ownerDocument:P},oe({ourProps:xe,theirProps:l,slot:_e,defaultTag:Q0e,features:J0e,visible:F,name:"Menu.Items"}))}let e1e=B.Fragment;function t1e(t,e){let r=B.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...a}=t,s=Sb("Menu.Item"),o=su(s,A=>s.selectors.isActive(A,n)),l=B.useRef(null),c=vd(e,l),f=su(s,A=>s.selectors.shouldScrollIntoView(A,n));Va(()=>{if(f)return Jl().requestAnimationFrame(()=>{var A,F;(F=(A=l.current)==null?void 0:A.scrollIntoView)==null||F.call(A,{block:"nearest"})})},[f,l]);let p=$0e(l),g=B.useRef({disabled:i,domRef:l,get textValue(){return p()}});Va(()=>{g.current.disabled=i},[g,i]),Va(()=>(s.actions.registerItem(n,g),()=>s.actions.unregisterItem(n)),[g,n]);let m=Un(()=>{s.send({type:ui.CloseMenu})}),y=Un(A=>{if(i)return A.preventDefault();s.send({type:ui.CloseMenu}),Cj(s.state.buttonElement)}),w=Un(()=>{if(i)return s.send({type:ui.GoToItem,focus:Ba.Nothing});s.send({type:ui.GoToItem,focus:Ba.Specific,id:n})}),k=zfe(),N=Un(A=>k.update(A)),L=Un(A=>{k.wasMoved(A)&&(i||o||s.send({type:ui.GoToItem,focus:Ba.Specific,id:n,trigger:Qv.Pointer}))}),P=Un(A=>{k.wasMoved(A)&&(i||o&&s.state.activationTrigger===Qv.Pointer&&s.send({type:ui.GoToItem,focus:Ba.Nothing}))}),[V,Y]=xj(),[Q,R]=Kde(),T=B.useMemo(()=>({active:o,focus:o,disabled:i,close:m}),[o,i,m]),S={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":V,"aria-describedby":Q,disabled:void 0,onClick:y,onFocus:w,onPointerEnter:N,onMouseEnter:N,onPointerMove:L,onMouseMove:L,onPointerLeave:P,onMouseLeave:P},j=Zl();return di.createElement(Y,null,di.createElement(R,null,j({ourProps:S,theirProps:a,slot:T,defaultTag:e1e,name:"Menu.Item"})))}let r1e="div";function n1e(t,e){let[r,n]=xj(),i=t,a={ref:e,"aria-labelledby":r,role:"group"},s=Zl();return di.createElement(n,null,s({ourProps:a,theirProps:i,slot:{},defaultTag:r1e,name:"Menu.Section"}))}let i1e="header";function a1e(t,e){let r=B.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,a=mb();Va(()=>a.register(n),[n,a.register]);let s={id:n,ref:e,role:"presentation",...a.props};return Zl()({ourProps:s,theirProps:i,slot:{},defaultTag:i1e,name:"Menu.Heading"})}let s1e="div";function o1e(t,e){let r=t,n={ref:e,role:"separator"};return Zl()({ourProps:n,theirProps:r,slot:{},defaultTag:s1e,name:"Menu.Separator"})}let l1e=ec(K0e),c1e=ec(Y0e),u1e=ec(Z0e),d1e=ec(t1e),f1e=ec(n1e),h1e=ec(a1e),p1e=ec(o1e),cm=Object.assign(l1e,{Button:c1e,Items:u1e,Item:d1e,Section:f1e,Heading:h1e,Separator:p1e});const m1e=di.lazy(()=>Yu(()=>import("./CreatePrescriptionModal-BLdTq70Y.js"),[])),g1e=di.lazy(()=>Yu(()=>Promise.resolve().then(()=>XK),void 0)),x1e=di.lazy(()=>Yu(()=>import("./MessageWithLinks-BDkHa_rp.js"),[])),v1e="/ChatBg.svg";function y1e(t,e){const r=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=(new Date(r.getFullYear(),r.getMonth(),r.getDate())-n)/(1e3*60*60*24);return a===0?e("today","Today"):a===1?e("yesterday","Yesterday"):t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}const Qj=di.memo(({message:t,isMine:e,t:r})=>{if(!e)return null;const n=t.status||"sent",i=t.read||n==="read";return n==="sent"?d.jsx(kK,{className:"w-3 h-3 text-gray-400 ml-1 opacity-80",strokeWidth:2,title:r("sent","Sent")}):n==="delivered"?d.jsx(l9,{className:"w-3 h-3 text-gray-400 ml-1 opacity-80",strokeWidth:2,title:r("delivered","Delivered")}):n==="read"||i?d.jsx(l9,{className:"w-3 h-3 text-green-500 ml-1",strokeWidth:2,title:r("read","Read")}):null}),Jj=di.memo(({message:t,isMine:e,showReadReceipts:r,t:n})=>!e||!r?null:d.jsx(Qj,{message:t,isMine:e,t:n}));Qj.displayName="MessageStatus";Jj.displayName="ConditionalMessageStatus";const Qx=di.memo(()=>d.jsxs("div",{className:"flex flex-col items-start w-full mb-2 animate-pulse",children:[d.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl h-10 w-48 mb-1"}),d.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl h-6 w-32"})]}));Qx.displayName="MessageSkeleton";function TC(){const{user:t,profile:e}=Pn(),{getSetting:r}=Wg(),{t:n}=Na(),i=Ni(),a=Yl(),s=ey(),o=s.vendorId,l=s.threadId,[c,f]=B.useState(l||null),[p,g]=B.useState(""),[m,y]=B.useState(""),[w,k]=B.useState([]),[N,L]=B.useState(""),[P,V]=B.useState(""),[Y,Q]=B.useState(!0),[R,T]=B.useState(50),S=B.useRef(null),j=B.useRef(null),[A,F]=B.useState(null),[M,re]=B.useState(!0),pe=B.useRef(null),[_e,xe]=B.useState(!1),[oe,G]=B.useState([]),[fe,X]=B.useState(!1),I=new URLSearchParams(a.search),q=I.get("productId"),W=I.get("productName");I.get("productImage"),I.get("vendorName");const J=I.get("productPrice"),ce=I.get("prefillMsg");B.useEffect(()=>{t&&(async()=>{if(l){f(l);return}if(e?.role==="customer"&&o){const Me=await g6({vendorId:o,customerId:t.uid,role:"customer"});f(Me)}else if(e?.role==="vendor"&&!l){console.warn("Vendor tried to open chat without threadId in URL."),i("/messages");return}})().catch(console.error)},[t?.uid,e?.role,o,l,i]),B.useEffect(()=>{!c||!e?.role||(async()=>{const Me=await aa(or(gt,"threads",c));if(!Me.exists())return;const Be=Me.data(),[et,ne]=c.split("__");if(e.role==="customer"){const De=Be.vendorName||"",Ke=Be.vendorAddress||"";if(De)g(De),y(Ke);else{const Re=await aa(or(gt,"pharmacies",et)),qe=Re.exists()?Re.data():{};g(qe.name||Be("pharmacy","Pharmacy")),y(qe.address||qe.email||"")}const mt=await aa(or(gt,"pharmacies",et)),Et=mt.exists()?mt.data():{};V(Et.phone||"")}else{const De=Be.customerName||"",Ke=Be.customerAddress||Be.customerEmail||"";if(De)g(De),y(Ke);else{const mt=await aa(or(gt,"users",ne)),Et=mt.exists()?mt.data():{};g(Et.displayName||Be("customer","Customer")),y(Et.email||"")}}})().catch(console.error)},[c,e?.role]),B.useEffect(()=>{if(!c||!t?.uid)return;Q(!0);const Me=eP(c,Be=>{k(Be),Q(!1),Be.forEach(async et=>{if(et.senderId!==t.uid&&et.status==="sent")try{await ZI(c,et.id)}catch(ne){console.error("Error marking message as delivered:",ne)}})},console.error,100);return Sv(c,t.uid).catch(console.error),Me},[c,t?.uid]);const ve=B.useCallback((Me=!1)=>{Me?S.current?.scrollIntoView():S.current?.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[]);B.useEffect(()=>{!Y&&w.length>0&&requestAnimationFrame(()=>ve(!1))},[w.length,Y,ve]);const Ee=B.useMemo(()=>{let Me=null;return Be=>{Me||(Me=setTimeout(()=>{Be.target.scrollTop<200&&R<w.length&&T(De=>Math.min(De+50,w.length)),Me=null},100))}},[R,w.length]),le=B.useCallback(Me=>{Ee(Me)},[Ee]),be=B.useMemo(()=>w.slice(-R),[w,R]),Le=r(Ar.MESSAGE_READ_RECEIPTS);r(Ar.DATA_SAVER_MODE),B.useEffect(()=>{const Me=()=>{re(!document.hidden),!document.hidden&&c&&t?.uid&&Sv(c,t.uid).catch(console.error)};return document.addEventListener("visibilitychange",Me),()=>document.removeEventListener("visibilitychange",Me)},[c,t?.uid]);const ae=B.useRef(null);B.useEffect(()=>{if(!w.length)return;const Me=w[w.length-1];if(Me.id!==ae.current&&Me.senderId!==t?.uid&&pe.current){pe.current.currentTime=0;const Be=pe.current.play();Be&&Be.catch(()=>{})}ae.current=Me.id},[w,t?.uid]);const je=B.useCallback(()=>{if(!c||!t)return null;const[Me,Be]=c.split("__");return t.uid===Me?Be:Me},[c,t]),Pe=B.useCallback(async()=>{const Me=je();if(!Me||!N.trim()||!c)return;const Be=N.trim();L("");try{await Q3(c,{senderId:t.uid,to:Me,text:Be})}catch(et){L(Be),console.error("Failed to send message:",et)}},[c,N,t?.uid,je]);B.useEffect(()=>{if(!_e)return;let Me=null;if(e?.role==="pharmacy"?Me=t?.uid:c&&([Me]=c.split("__")),!Me)return;const Be=Nr(ur(gt,"products"),$r("pharmacyId","==",Me)),et=ri(Be,ne=>{G(ne.docs.map(De=>({id:De.id,...De.data()})))});return()=>et&&et()},[_e,e?.role,t?.uid,c]);const de=async({drugs:Me,startDate:Be,duration:et,notes:ne})=>{if(!c||!t)return;const[De,Ke]=c.split("__");await iP({pharmacyId:De,customerId:Ke,chatThreadId:c,drugs:Me,startDate:Be,duration:et,notes:ne}),xe(!1),await Q3(c,{senderId:t.uid,to:Ke,text:n("prescription_created","A new prescription has been created.")})};return B.useEffect(()=>{if(W&&q){const Me=J||"";L(n("drug_inquiry","I want to know more about this drug {productName}{priceText}.",{productName:W,priceText:Me?", "+Me:""}))}else ce&&L(ce)},[W,J,q,ce]),d.jsxs("div",{className:"h-screen w-full flex flex-col items-stretch overflow-visible bg-white dark:bg-gray-900",style:{position:"relative"},children:[d.jsx("div",{"aria-hidden":!0,style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",backgroundImage:`url(${v1e})`,backgroundRepeat:"repeat",backgroundPosition:"center center",backgroundSize:"cover",pointerEvents:"none",zIndex:0}}),d.jsxs("div",{style:{position:"relative",zIndex:10},className:"flex-1 flex flex-col min-h-0",children:[d.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none} .hide-scrollbar{-ms-overflow-style:none; scrollbar-width:none;}"}),d.jsx("audio",{ref:pe,src:rde,preload:"none"}),d.jsx("div",{className:"sticky top-0 z-20 bg-white/90 dark:bg-gray-900/90 pt-1 pb-1",style:{paddingTop:"env(safe-area-inset-top, 0)",width:"100vw",marginLeft:"calc(50% - 50vw)",paddingRight:"env(safe-area-inset-right, 0)"},children:d.jsxs("div",{className:"w-full px-4 sm:px-5 pt-6 pb-3 flex items-center gap-3 justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>{window.history.length>1?i(-1):i("/messages")},className:"rounded-full border border-gray-200 dark:border-gray-600 dark:border-gray-600 px-3 sm:px-4 py-1 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800",children:d.jsx(uu,{className:"h-4 w-4"})}),e?.role==="customer"?d.jsx("button",{className:"min-w-0 font-light text-[15px] sm:text-[17px] truncate text-left hover:underline focus:outline-none text-gray-900 dark:text-white",onClick:()=>{if(c){const[Me]=c.split("__");i(`/vendor/${Me}`)}},title:p,children:p||"..."}):d.jsxs("div",{className:"min-w-0",children:[d.jsx("div",{className:"font-light text-[15px] sm:text-[17px] truncate text-gray-900 dark:text-white",children:p||"..."}),d.jsx("div",{className:"text-[9px] text-zinc-500 dark:text-zinc-400 truncate",children:m})]})]}),e?.role==="customer"&&d.jsxs("a",{href:P?`tel:${P}`:void 0,className:`flex items-center justify-center rounded-full border border-sky-500 text-sky-600 dark:text-sky-400 px-2 py-1 text-[11px] font-poppins font-light ${P?"hover:bg-sky-50 dark:hover:bg-sky-900/20":"opacity-40 cursor-not-allowed"}`,style:{minWidth:32},title:P?n("call_pharmacy_title","Call {pharmacy}",{pharmacy:p}):n("no_phone_number","No phone number"),tabIndex:P?0:-1,"aria-disabled":!P,children:[d.jsx(tde,{className:"h-3 w-3 mr-1"})," ",n("call","Call")]}),e?.role==="pharmacy"&&c&&d.jsxs(cm,{as:"div",className:"relative inline-block text-left ml-2",children:[d.jsxs(cm.Button,{className:"px-3 py-1 rounded-full bg-sky-600 text-white text-xs font-medium",children:[n("actions","Actions")," ▾"]}),d.jsx(cm.Items,{className:"absolute right-0 mt-2 w-48 origin-top-right bg-white dark:bg-gray-800 border border-sky-200 dark:border-gray-600 divide-y divide-gray-100 dark:divide-gray-700 rounded-[5px] shadow-lg focus:outline-none z-50",children:d.jsxs("div",{className:"py-1",children:[d.jsx(cm.Item,{children:({active:Me})=>d.jsx("button",{className:`w-full text-left px-4 py-2 text-[12px] font-light ${Me?"bg-sky-50":""}`,onClick:()=>xe(!0),children:n("create_prescription","Create Prescription")})}),d.jsx(cm.Item,{children:({active:Me})=>d.jsx("button",{className:`w-full text-left px-4 py-2 text-[12px] font-light ${Me?"bg-sky-50":""}`,onClick:()=>X(!0),children:n("view_prescription_history","View Prescription History")})})]})})]})]})}),d.jsxs("div",{className:"w-full flex-1 flex flex-col min-h-0",children:[d.jsxs("div",{ref:j,className:"flex-1 overflow-y-auto px-3 sm:px-4 pb-28 min-h-0 hide-scrollbar",style:{paddingTop:12},onScroll:le,children:[R<w.length&&d.jsx("div",{className:"flex justify-center py-4",children:d.jsx("button",{onClick:()=>T(Me=>Math.min(Me+50,w.length)),className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 px-3 py-1 rounded-full transition-colors",children:n("load_more_messages","Load {count} more messages",{count:Math.min(50,w.length-R)})})}),Y?d.jsxs("div",{className:"space-y-4",children:[d.jsx(Qx,{}),d.jsxs("div",{className:"flex flex-col items-end w-full mb-2 animate-pulse",children:[d.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-10 w-40 mb-1"}),d.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-6 w-24"})]}),d.jsx(Qx,{}),d.jsx("div",{className:"flex flex-col items-end w-full mb-2 animate-pulse",children:d.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-8 w-56 mb-1"})}),d.jsx(Qx,{})]}):be.length===0?d.jsx("div",{className:"flex justify-center items-center py-12",children:d.jsxs("div",{className:"text-gray-400 dark:text-gray-500 text-sm text-center",children:[d.jsx("div",{className:"text-lg mb-2",children:"💬"}),n("start_conversation","Start your conversation")]})}):(()=>{let Me=null;return be.map(Be=>{const et=Be.senderId===t?.uid,ne=Be.createdAt?.seconds?new Date(Be.createdAt.seconds*1e3):null;let De=!1;if(ne){const Ke=ne.toDateString();Me!==Ke&&(De=!0,Me=Ke)}return d.jsxs(di.Fragment,{children:[De&&ne&&d.jsx("div",{className:"flex justify-center my-6 mb-4",children:d.jsx("span",{className:"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 text-[10px] font-medium px-2.5 py-1 rounded-lg",children:y1e(ne,n)})}),d.jsxs("div",{className:`flex flex-col items-${et?"end":"start"} w-full mb-2`,children:[d.jsx("div",{className:`${et?"bg-blue-500 text-white ml-8":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white mr-8 border border-gray-200 dark:border-gray-600 dark:border-gray-700"} px-3 py-2 max-w-[80%] sm:max-w-[70%] whitespace-pre-wrap break-words shadow-sm`,style:{borderRadius:et?"12px 12px 3px 12px":"12px 12px 12px 3px",fontSize:14,lineHeight:1.3},children:d.jsx(di.Suspense,{fallback:d.jsx("span",{children:Be.text}),children:d.jsx(x1e,{text:Be.text,isMine:et})})}),d.jsxs("div",{className:`flex items-center text-[10px] text-gray-400 dark:text-gray-500 mt-1 ${et?"mr-2 justify-end":"ml-2 justify-start"}`,children:[d.jsx("span",{children:ne?ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""}),d.jsx(Jj,{message:Be,isMine:et,showReadReceipts:Le,t:n})]})]})]},Be.id)})})(),d.jsx("div",{ref:S})]}),d.jsx("div",{className:"w-full sticky bottom-0 z-20 bg-white/85 dark:bg-gray-900/85 backdrop-blur",style:{paddingBottom:"env(safe-area-inset-bottom, 0)",width:"100vw",marginLeft:"calc(50% - 50vw)",paddingLeft:"env(safe-area-inset-left, 0)",paddingRight:"env(safe-area-inset-right, 0)"},children:d.jsxs("div",{className:"w-full",children:[d.jsxs("form",{className:"mx-4 sm:mx-5 flex items-center gap-3 py-3",onSubmit:Me=>{Me.preventDefault(),Pe()},children:[d.jsx("label",{className:"flex items-center cursor-not-allowed opacity-40",title:n("attachments_coming_soon","Attachments coming soon"),children:d.jsx(FK,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{value:N,onChange:Me=>L(Me.target.value),placeholder:n("message_placeholder","Message"),className:"flex-1 min-w-0 outline-none px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 dark:border-gray-600 rounded-full placeholder:text-gray-400 dark:placeholder:text-gray-500 placeholder:text-[14px] focus:border-blue-400 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200",style:{fontSize:14}}),d.jsx("button",{type:"submit",className:`flex items-center justify-center w-8 h-8 rounded-full transition-all duration-200 ${N.trim()?"bg-blue-500 hover:bg-blue-600 active:scale-95":"bg-gray-300 cursor-not-allowed"}`,disabled:!N.trim(),children:d.jsx("img",{src:ede,alt:"Send",className:"h-4 w-4"})})]}),d.jsx("div",{style:{height:8}})]})})]}),d.jsx(di.Suspense,{fallback:null,children:d.jsx(m1e,{open:_e,onClose:()=>xe(!1),products:oe,onSubmit:de})}),d.jsx(EP,{open:fe,onClose:()=>X(!1),children:d.jsx(di.Suspense,{fallback:null,children:d.jsx(g1e,{chatThreadId:c,products:oe,userId:t?.uid})})})]})]})}class w1e{constructor(){this.audio=null,this.permissionRequested=!1,this.notificationQueue=[],this.isProcessing=!1,this.initializeAudio(),this.requestPermissionOnUserInteraction()}initializeAudio(){try{this.audio=new Audio("/src/assets/message-tone.mp3"),this.audio.volume=.6,this.audio.preload="auto"}catch(e){console.warn("Notification audio not available:",e)}}requestPermissionOnUserInteraction(){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}const e=()=>{!this.permissionRequested&&Notification.permission==="default"&&(this.permissionRequested=!0,Notification.requestPermission().then(r=>{console.log("Notification permission:",r)}))};document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}playSound(){if(this.audio)try{this.audio.currentTime=0,this.audio.play().catch(e=>{console.warn("Could not play notification sound:",e)})}catch(e){console.warn("Audio playback error:",e)}}showNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted")return null;const n={icon:"/favicon.ico",badge:"/favicon.ico",requireInteraction:!1,silent:!1,...r};try{const i=new Notification(e,n);return n.requireInteraction||setTimeout(()=>{i&&i.close()},8e3),i.onclick=()=>{window.focus(),i.close(),r.onClick&&r.onClick()},i}catch(i){return console.error("Error showing notification:",i),null}}queueNotification(e){this.notificationQueue.push(e),this.processQueue()}async processQueue(){if(!(this.isProcessing||this.notificationQueue.length===0)){for(this.isProcessing=!0;this.notificationQueue.length>0;){const e=this.notificationQueue.shift();await this.processNotification(e),this.notificationQueue.length>0&&await new Promise(r=>setTimeout(r,1e3))}this.isProcessing=!1}}async processNotification(e){const{type:r,data:n,options:i={}}=e,a=document.hidden||i.force;switch(a&&this.playSound(),r){case"order_received":return this.handleOrderReceived(n,a);case"order_status_updated":return this.handleOrderStatusUpdated(n,a);case"message_received":return this.handleMessageReceived(n,a);case"prescription_ready":return this.handlePrescriptionReady(n,a);default:console.warn("Unknown notification type:",r)}}handleOrderReceived(e,r){const n="📦 New Order Received!",i=`Order #${e.id?.slice(-8)} - ₦${(e.total||0).toLocaleString()} from ${e.customerName||"Customer"}`;if(r)return this.showNotification(n,{body:i,tag:"order-received",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/orders"}})}handleOrderStatusUpdated(e,r){const i={confirmed:"✅ Order Confirmed",preparing:"👨‍⚕️ Order Being Prepared",ready:"📋 Order Ready for Pickup",completed:"🎉 Order Completed",cancelled:"❌ Order Cancelled"}[e.status]||"📦 Order Updated",a=`Order #${e.id?.slice(-8)} - ${e.pharmacyName||"Pharmacy"}`;if(r)return this.showNotification(i,{body:a,tag:"order-status",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/orders"}})}handleMessageReceived(e,r){const n=`💬 ${e.senderName||"New Message"}`,i=e.text?.slice(0,100)+(e.text?.length>100?"...":"")||"Sent an attachment";if(r)return this.showNotification(n,{body:i,tag:"message",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/messages"}})}handlePrescriptionReady(e,r){const n="💊 Prescription Ready",i=`Your prescription is ready for pickup at ${e.pharmacyName}`;if(r)return this.showNotification(n,{body:i,tag:"prescription",icon:"/favicon.ico",requireInteraction:!0,onClick:()=>{window.location.hash="#/orders"}})}notifyOrderReceived(e){this.queueNotification({type:"order_received",data:e})}notifyOrderStatusUpdated(e){this.queueNotification({type:"order_status_updated",data:e})}notifyMessageReceived(e){this.queueNotification({type:"message_received",data:e})}notifyPrescriptionReady(e){this.queueNotification({type:"prescription_ready",data:e})}get isSupported(){return"Notification"in window}get isPermitted(){return this.isSupported&&Notification.permission==="granted"}get permissionStatus(){return this.isSupported?Notification.permission:"not-supported"}}const Zc=new w1e;function _1e(){const[t,e]=B.useState(Zc.permissionStatus),[r,n]=B.useState(!1);B.useEffect(()=>{e(Zc.permissionStatus);const f=setInterval(()=>{e(Zc.permissionStatus)},1e3);return()=>clearInterval(f)},[]);const i=async()=>{if(!Zc.isSupported){alert("Notifications are not supported in this browser");return}try{const c=await Notification.requestPermission();e(c)}catch(c){console.error("Error requesting notification permission:",c)}},a=()=>{if(!Zc.isPermitted){alert("Please enable notifications first");return}Zc.showNotification("🔔 Test Notification",{body:"This is a test notification from PharmaSeaHealth",tag:"test",requireInteraction:!1}),n(!0),setTimeout(()=>n(!1),3e3)},s=()=>{switch(t){case"granted":return d.jsx(X0,{className:"h-5 w-5 text-green-500"});case"denied":return d.jsx(bK,{className:"h-5 w-5 text-red-500"});case"default":return d.jsx(xm,{className:"h-5 w-5 text-yellow-500"});default:return d.jsx(x6,{className:"h-5 w-5 text-gray-500"})}},o=()=>{switch(t){case"granted":return"Notifications enabled";case"denied":return"Notifications blocked";case"default":return"Permission not requested";case"not-supported":return"Not supported in this browser";default:return"Unknown status"}},l=()=>{switch(t){case"granted":return"You will receive notifications for new orders, messages, and order updates.";case"denied":return"Notifications are blocked. You can enable them in your browser settings.";case"default":return"Click the button below to enable notifications for orders and messages.";case"not-supported":return"Your browser does not support push notifications.";default:return"Unable to determine notification status."}};return d.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx(xm,{className:"h-6 w-6 text-blue-600"}),d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notification Settings"})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s(),d.jsx("span",{className:"font-medium text-gray-900",children:o()})]}),d.jsx("p",{className:"text-sm text-gray-600",children:l()})]}),d.jsxs("div",{className:"space-y-3",children:[t==="default"&&d.jsxs("button",{onClick:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(xm,{className:"h-4 w-4"}),"Enable Notifications"]}),t==="granted"&&d.jsx("button",{onClick:a,disabled:r,className:`w-full py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${r?"bg-green-100 text-green-800 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r?d.jsxs(d.Fragment,{children:[d.jsx(X0,{className:"h-4 w-4"}),"Test Sent!"]}):d.jsxs(d.Fragment,{children:[d.jsx(xm,{className:"h-4 w-4"}),"Send Test Notification"]})}),t==="denied"&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(PK,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"font-medium text-red-800 mb-1",children:"How to enable notifications:"}),d.jsxs("ol",{className:"text-red-700 space-y-1 list-decimal list-inside",children:[d.jsx("li",{children:"Click the lock icon in your browser's address bar"}),d.jsx("li",{children:'Select "Allow" for notifications'}),d.jsx("li",{children:"Refresh the page"})]})]})]})})]}),d.jsxs("div",{className:"mt-6 pt-6 border-t",children:[d.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"You'll be notified about:"}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(X0,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{children:"New orders received (Pharmacies)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(X0,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{children:"Order status updates (Customers)"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(X0,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{children:"New messages in chats"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(X0,{className:"h-4 w-4 text-green-500"}),d.jsx("span",{children:"Prescription ready for pickup"})]})]})]})]})}const b1e=({title:t,onBackClick:e})=>la.createPortal(d.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:d.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("button",{onClick:e,className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200","aria-label":"Go back",children:d.jsx(uu,{className:"h-5 w-5 text-sky-600 mt-8"})}),d.jsx("h1",{className:"mt-8 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:"Settings"})]})})}),document.body);function k1e(){const t=Ni(),{user:e}=Pn(),{getSetting:r,updateSetting:n,resetSettings:i}=Wg(),[a,s]=B.useState({}),o=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,l=c=>{n(Ar.SWIPE_NAVIGATION,c),console.log(c?"Swipe navigation enabled - swipe left/right to navigate between pages on mobile":"Swipe navigation disabled")};return d.jsxs(d.Fragment,{children:[d.jsx(b1e,{title:"Settings",onBackClick:()=>t(-1)}),d.jsx("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen animate-fadeInUp",children:d.jsxs("div",{className:"mt-4 space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-full bg-gray-100 p-2",children:d.jsx(Nv,{className:"h-5 w-5 text-gray-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"General"}),d.jsx("p",{className:"text-sm text-gray-600",children:"App preferences and navigation settings"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Swipe Navigation"}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Enable swipe gestures to navigate between pages on mobile devices",!o&&d.jsx("span",{className:" text-orange-500",children:" (Desktop - feature available on mobile only)"})]})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.SWIPE_NAVIGATION),onChange:c=>l(c.target.checked)}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]}),r(Ar.SWIPE_NAVIGATION)&&o&&d.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mt-2",children:d.jsxs("p",{className:"text-xs text-gray-700",children:[d.jsx("span",{className:"font-medium",children:"How to use:"})," Swipe left or right anywhere on the screen to navigate between Home, Cart, Messages, and Orders pages."]})}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Data Saver Mode"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Reduce bandwidth usage and optimize for slower connections"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.DATA_SAVER_MODE),onChange:c=>n(Ar.DATA_SAVER_MODE,c.target.checked)}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Read Receipts"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Show when you've read messages in chats"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.MESSAGE_READ_RECEIPTS),onChange:c=>n(Ar.MESSAGE_READ_RECEIPTS,c.target.checked)}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.1s"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-full bg-orange-100 p-2",children:d.jsx(IK,{className:"h-5 w-5 text-orange-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Language & Region"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Set your language and regional preferences"})]})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"App Language"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred language"})]}),d.jsxs("select",{value:r(Ar.LANGUAGE),onChange:c=>n(Ar.LANGUAGE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-orange-300",children:[d.jsx("option",{value:"en",children:"English"}),d.jsx("option",{value:"yo",children:"Yoruba"}),d.jsx("option",{value:"ha",children:"Hausa"}),d.jsx("option",{value:"ig",children:"Igbo"}),d.jsx("option",{value:"fr",children:"Français"})]})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.2s"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-full bg-purple-100 p-2",children:d.jsx(RK,{className:"h-5 w-5 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Appearance"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Customize how the app looks and feels"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Theme"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred color scheme"})]}),d.jsxs("select",{value:r(Ar.THEME_MODE),onChange:c=>n(Ar.THEME_MODE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-purple-300",children:[d.jsx("option",{value:"light",children:"Light"}),d.jsx("option",{value:"dark",children:"Dark"}),d.jsx("option",{value:"system",children:"System"})]})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Font Size"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Adjust text size for better readability"})]}),d.jsxs("select",{value:r(Ar.FONT_SIZE),onChange:c=>n(Ar.FONT_SIZE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-purple-300",children:[d.jsx("option",{value:"small",children:"Small"}),d.jsx("option",{value:"medium",children:"Medium"}),d.jsx("option",{value:"large",children:"Large"})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.3s"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-full bg-blue-100 p-2",children:d.jsx(Hg,{className:"h-5 w-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Accessibility"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Make the app easier to use for everyone"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"High Contrast"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Increase contrast for better visibility"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.HIGH_CONTRAST),onChange:c=>n(Ar.HIGH_CONTRAST,c.target.checked)}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Reduce Motion"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimize animations and transitions"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.REDUCE_MOTION),onChange:c=>n(Ar.REDUCE_MOTION,c.target.checked)}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.4s"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-full bg-sky-100 p-2",children:d.jsx(xm,{className:"h-5 w-5 text-sky-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Notifications"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Manage your notification preferences"})]})]}),d.jsx("div",{className:"pl-0",children:d.jsx(_1e,{})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.5s"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-full bg-green-100 p-2",children:d.jsx(yP,{className:"h-5 w-5 text-green-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Privacy & Security"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Control your data and security settings"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Biometric Login"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use fingerprint or face recognition to unlock"})]}),d.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.BIOMETRIC_LOGIN),onChange:c=>n(Ar.BIOMETRIC_LOGIN,c.target.checked)}),d.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Auto Lock"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lock app after period of inactivity"})]}),d.jsxs("select",{value:r(Ar.AUTO_LOCK),onChange:c=>n(Ar.AUTO_LOCK,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-green-300",children:[d.jsx("option",{value:"1min",children:"1 minute"}),d.jsx("option",{value:"5min",children:"5 minutes"}),d.jsx("option",{value:"15min",children:"15 minutes"}),d.jsx("option",{value:"never",children:"Never"})]})]}),d.jsxs("div",{className:"flex items-center justify-between py-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Location Sharing"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose location accuracy for deliveries"})]}),d.jsxs("select",{value:r(Ar.LOCATION_PRECISION),onChange:c=>n(Ar.LOCATION_PRECISION,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-green-300",children:[d.jsx("option",{value:"precise",children:"Precise"}),d.jsx("option",{value:"approximate",children:"Approximate"}),d.jsx("option",{value:"off",children:"Off"})]})]})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-red-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.6s"},children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"rounded-full bg-red-100 p-2",children:d.jsx(Nv,{className:"h-5 w-5 text-red-600"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-red-600 font-poppins",children:"Reset Settings"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Restore all settings to their default values"})]})]}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[d.jsxs("p",{className:"text-sm text-red-700 mb-3",children:[d.jsx("span",{className:"font-medium",children:"Warning:"})," This will reset all your preferences including theme, language, navigation settings, and accessibility options. This action cannot be undone."]}),d.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to default? This cannot be undone.")&&i()},className:"w-full px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Reset All Settings"})]})})]})]})})]})}function Vu({children:t}){const{user:e,loading:r}=Pn();return r?d.jsx("div",{className:"p-6",children:"Loading…"}):e?t:d.jsx("div",{className:"p-6",children:"Please sign in to continue."})}function Zj(){const{user:t,profile:e}=Pn(),r=Yl(),n=B.useRef({});return B.useEffect(()=>{if(!(!t?.uid||!e?.role))return Ay({uid:t.uid,role:e.role},i=>{i.forEach(a=>{if(!a.id)return;const s=Nr(ur(gt,"threads",a.id,"messages"),es("createdAt","desc"),f0(1));ri(s,o=>{if(o.empty)return;const l={id:o.docs[0].id,...o.docs[0].data()},c=l.senderId===t.uid;let f=!1;if(r.pathname.startsWith("/chat/")){const p=r.pathname.split("/chat/")[1]?.split("/")[0];e.role==="customer"?a.id===`${p}__${t.uid}`&&(f=!0):a.id.startsWith(`${t.uid}__`)&&(f=!0)}if(r.pathname==="/messages"){const g=new URLSearchParams(r.search).get("chat");g&&(e.role==="customer"?a.id===`${g}__${t.uid}`&&(f=!0):a.id===`${t.uid}__${g}`&&(f=!0))}if(!c&&n.current[a.id]!==l.id&&!f){const p=e.role==="customer"?a.pharmacyName||"Pharmacy":a.customerName||"Customer",g={...l,senderName:p,threadId:a.id};Zc.notifyMessageReceived(g)}n.current[a.id]=l.id})})},i=>console.error("GlobalMessageNotifier error:",i))},[t?.uid,e?.role,r.pathname,r.search]),null}function E1e(){const{user:t,profile:e}=Pn(),r=B.useRef({}),n=B.useRef(!1);return B.useEffect(()=>{if(!t?.uid||!e||e.role!=="customer")return;const i=e.uid||t.uid,a=Nr(ur(gt,"orders"),$r("customerId","==",i),es("updatedAt","desc")),s=ri(a,o=>{if(!n.current){o.docs.forEach(l=>{const c={id:l.id,...l.data()};r.current[c.id]=c.status}),n.current=!0;return}o.docChanges().forEach(l=>{if(l.type==="modified"){const c={id:l.doc.id,...l.doc.data()},f=r.current[c.id];f&&f!==c.status&&(Zc.notifyOrderStatusUpdated(c),c.status==="ready"&&c.type==="prescription"&&Zc.notifyPrescriptionReady({...c,pharmacyName:c.pharmacyName||"Pharmacy"})),r.current[c.id]=c.status}if(l.type==="added"){const c={id:l.doc.id,...l.doc.data()};r.current[c.id]=c.status}})},o=>{console.error("Error listening for customer order notifications:",o)});return()=>s()},[t,e]),null}function S1e(){const{profile:t}=Pn();return d.jsxs(d.Fragment,{children:[d.jsx(Zj,{}),t?.role==="customer"&&d.jsx(E1e,{})]})}function C1e({order:t,isOpen:e,onClose:r,onViewOrder:n}){const[i,a]=B.useState(!1),{profile:s}=Pn();B.useEffect(()=>{if(e){a(!0);const c=setTimeout(()=>{o()},1e4);return()=>clearTimeout(c)}else a(!1)},[e]);const o=()=>{a(!1),setTimeout(()=>r(),300)},l=()=>{n(t),o()};return!e||!t?null:d.jsx(d.Fragment,{children:d.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ${i?"translate-y-0 opacity-100 scale-100":"-translate-y-4 opacity-0 scale-95"}`,children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-blue-200 dark:border-gray-600 mx-4 overflow-hidden card-interactive hover:shadow-3xl transition-all duration-300",style:{width:"393px"},children:[d.jsxs("div",{className:"bg-gradient-to-r from-sky-300 to-sky-600 px-6 py-4 relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"}),d.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center animate-bounce",children:d.jsx("span",{className:"text-white text-lg",children:"📦"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-white font-semibold text-lg animate-text-reveal",children:"New Order Received!"}),d.jsx("p",{className:"text-green-100 text-sm animate-fade-in",style:{animationDelay:"0.1s"},children:"You have a new customer order"})]})]})]}),d.jsxs("div",{className:"px-4 py-3 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-start gap-3",children:[d.jsxs("div",{className:"flex-1 min-w-0 animate-slide-up",style:{animationDelay:"0.3s"},children:[d.jsx("p",{className:"text-gray-600 text-xs",children:"Order ID"}),d.jsxs("p",{className:"font-medium text-gray-900 text-sm truncate",children:["#",t.id?.slice(-8)||"N/A"]})]}),d.jsxs("div",{className:"flex-1 min-w-0 animate-slide-up",style:{animationDelay:"0.4s"},children:[d.jsx("p",{className:"text-gray-600 text-xs",children:"Customer"}),d.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:t.customerName||"Unknown Customer"})]}),d.jsxs("div",{className:"text-right flex-shrink-0 animate-slide-up",style:{animationDelay:"0.5s"},children:[d.jsx("p",{className:"text-gray-600 text-xs",children:"Total"}),d.jsxs("p",{className:"font-bold text-green-600 text-sm animate-pulse-slow",children:["₦",(t.total||0).toLocaleString()]})]})]}),t.items&&t.items.length>0||t.orderItems&&t.orderItems.length>0||t.products&&t.products.length>0?d.jsxs("div",{className:"border-t pt-3 animate-fade-in",style:{animationDelay:"0.6s"},children:[d.jsxs("p",{className:"text-gray-600 text-xs mb-2",children:["Items (",t.items?.length||t.orderItems?.length||t.products?.length||0,")"]}),d.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1",children:[(t.items||t.orderItems||t.products||[]).slice(0,3).map((c,f)=>d.jsxs("div",{className:"flex justify-between items-center text-xs gap-2 py-0.5 animate-fadeInUp",style:{animationDelay:`${.7+f*.1}s`},children:[d.jsx("span",{className:"text-gray-700 flex-1 leading-tight font-medium truncate",children:c.name||c.productName||c.title||c.itemName||`Item ${f+1}`}),d.jsxs("span",{className:"text-gray-600 text-right whitespace-nowrap font-semibold bg-gray-100 px-1.5 py-0.5 rounded text-xs flex-shrink-0 hover:bg-gray-200 transition-colors duration-200",children:["x",c.quantity||c.qty||c.amount||1]})]},f)),(t.items?.length||t.orderItems?.length||t.products?.length||0)>3&&d.jsxs("p",{className:"text-xs text-gray-500 italic mt-1 text-center bg-gray-50 py-0.5 rounded animate-fade-in",children:["+",(t.items?.length||t.orderItems?.length||t.products?.length||0)-3," more items"]})]})]}):d.jsxs("div",{className:"border-t pt-3 animate-fade-in",style:{animationDelay:"0.6s"},children:[d.jsx("p",{className:"text-gray-600 text-xs mb-2",children:"Items"}),d.jsx("p",{className:"text-gray-500 text-xs italic",children:"No items found"})]}),d.jsxs("div",{className:"border-t pt-2 flex justify-between items-center animate-fade-in",style:{animationDelay:"0.8s"},children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-xs",children:"Status"}),d.jsx("span",{className:"inline-block px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded-full font-medium mt-0.5 animate-bounce-gentle",children:t.status||"Pending"})]}),d.jsx("div",{className:"text-right text-xs text-gray-500",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),d.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t animate-fade-in-up",style:{animationDelay:"0.9s"},children:[d.jsx("button",{onClick:l,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium text-xs transition-all duration-200 shadow-lg hover:shadow-xl btn-interactive hover:scale-105 active:scale-95",children:"View Details"}),d.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium text-xs transition-all duration-200 btn-interactive hover:scale-105 active:scale-95",children:"Dismiss"})]})]}),d.jsx("button",{onClick:o,className:"absolute top-3 right-3 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-all duration-200 hover:scale-110 active:scale-95",children:d.jsx("span",{className:"text-lg",children:"×"})}),d.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-200 w-full",children:d.jsx("div",{className:"h-full bg-green-500 transition-all duration-[10000ms] ease-linear animate-progress-bar",style:{width:i?"0%":"100%"}})})]})})})}function N1e(){const[t,e]=B.useState(null),[r,n]=B.useState(!1),{profile:i,user:a}=Pn(),s=B.useRef(null),o=B.useRef(!0);return B.useEffect(()=>{if(!i||i.role!=="pharmacy")return;const f=i.uid||a?.uid;if(!f)return;o.current&&(s.current=new Date,o.current=!1);const p=Nr(ur(gt,"orders"),$r("pharmacyId","==",f),es("createdAt","desc"),f0(1)),g=ri(p,m=>{m.empty||m.docChanges().forEach(y=>{if(y.type==="added"){const w={id:y.doc.id,...y.doc.data()},k=w.createdAt?.toDate()||new Date;s.current&&k>s.current&&(Zc.notifyOrderReceived(w),e(w),n(!0))}})},m=>{console.error("Error listening for order notifications:",m)});return()=>g()},[i,a]),{newOrder:t,showNotification:r,clearNotification:()=>{n(!1),e(null)},viewOrder:f=>f}}const Nx=[{key:"users",label:"Users"},{key:"products",label:"Products"},{key:"prescriptions",label:"Prescriptions"},{key:"orders",label:"Orders"},{key:"carts",label:"Carts"},{key:"analytics",label:"Analytics"},{key:"moderation",label:"Moderation"},{key:"export",label:"Export"},{key:"infoCards",label:"Info Cards"}],um=3;function A1e(){const{user:t,logout:e}=Pn(),[r,n]=B.useState([]),[i,a]=B.useState([]),[s,o]=B.useState([]),[l,c]=B.useState([]),[f,p]=B.useState([]),[g,m]=B.useState([]),[y,w]=B.useState(!0),[k,N]=B.useState(!1),[L,P]=B.useState(!1),[V,Y]=B.useState(null),[Q,R]=B.useState(!1),[T,S]=B.useState(null),[j,A]=B.useState(null),[F,M]=B.useState(!1),[re,pe]=B.useState({displayName:"",email:"",address:"",phone:"",role:"",suspended:!1,password:""}),[_e,xe]=B.useState({name:"",image:"",description:"",stock:"",price:"",sku:"",category:""}),[oe,G]=B.useState({header:"",preview:"",link:"",linkText:"",image:"",fullImage:"",bgColor:"#f0f8ff"}),[fe,X]=B.useState("users"),[I,q]=B.useState("profile"),[W,J]=B.useState([]),[ce,ve]=B.useState([]),[Ee,le]=B.useState([]),[be,Le]=B.useState([]),[ae,je]=B.useState(0),[Pe,de]=B.useState(""),[Me,Be]=B.useState(""),et=B.useRef(null);return Ni(),B.useEffect(()=>{if(!t)return;w(!0);const ne=ri(ur(gt,"users"),qe=>{n(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()}))),w(!1)}),De=ri(ur(gt,"products"),qe=>{a(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))}),Ke=ri(ur(gt,"prescriptions"),qe=>{o(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))}),mt=ri(ur(gt,"orders"),qe=>{c(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))}),Et=ri(ur(gt,"carts"),qe=>{p(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))}),Re=ri(ur(gt,"infoCards"),qe=>{m(qe.docs.map(Ge=>({id:Ge.id,...Ge.data()})))});return()=>{ne(),De(),Ke(),mt(),Et(),Re()}},[t]),B.useEffect(()=>{let ne=null,De=null,Ke=null;return V&&V.id?(pe({displayName:V.displayName||"",email:V.email||"",address:V.address||"",phone:V.phone||"",role:V.role||"",suspended:V.role==="suspended",password:""}),ne=ri(Nr(ur(gt,"prescriptions"),$r("userId","==",V.id)),mt=>{J(mt.docs.map(Et=>({id:Et.id,...Et.data()})))}),De=ri(Nr(ur(gt,"orders"),$r("userId","==",V.id)),mt=>{ve(mt.docs.map(Et=>({id:Et.id,...Et.data()})))}),Ke=ri(Nr(ur(gt,"carts"),$r("userId","==",V.id)),mt=>{le(mt.docs.map(Et=>({id:Et.id,...Et.data()})))})):(pe({displayName:"",email:"",address:"",phone:"",role:"",suspended:!1,password:""}),J([]),ve([]),le([])),()=>{ne&&ne(),De&&De(),Ke&&Ke()}},[V&&V.id]),B.useEffect(()=>{T&&xe({name:T.name||"",image:T.image||"",description:T.description||"",stock:T.stock||"",price:T.price||"",sku:T.sku||"",category:T.category||""})},[T]),B.useEffect(()=>{j&&G({header:j.header||"",preview:j.preview||"",link:j.link||"",linkText:j.linkText||"",image:j.image||"",fullImage:j.fullImage||"",bgColor:j.bgColor||"#f0f8ff"})},[j]),B.useEffect(()=>{if(typeof j<"u"&&j&&G){G({header:j.header||"",preview:j.preview||"",link:j.link||"",linkText:j.linkText||"",image:j.image||"",fullImage:j.fullImage||"",bgColor:j.bgColor||"#f0f8ff",headerColor:j.headerColor||"#0ea5e9",previewColor:j.previewColor||"#475569",linkColor:j.linkColor||j.linkTextColor||"#0ea5e9",linkTextColor:j.linkTextColor||j.linkColor||"#0ea5e9",headerFontSize:j.headerFontSize||16,previewFontSize:j.previewFontSize||13,linkFontSize:j.linkFontSize||13,linkTextFontSize:j.linkTextFontSize||13});try{M(!1)}catch{}}},[j]),B.useEffect(()=>{if(!et.current)return;const ne=Nx.findIndex(Ke=>Ke.key===fe),De=Math.floor(ne/um);je(De),et.current.scrollTo({left:De*et.current.offsetWidth,behavior:"smooth"})},[fe]),t?y?d.jsx(ig,{lines:8,className:"my-8"}):d.jsxs("div",{className:"pt-10 pb-28 w-full max-w-4xl mx-auto px-4 min-h-screen flex flex-col",children:[d.jsxs("div",{className:"relative mb-8 flex items-center justify-center",children:[d.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white border border-sky-100 shadow text-sky-500 hover:bg-sky-100 transition absolute left-0 top-1/2 -translate-y-1/2",style:{display:ae>0?"flex":"none"},onClick:()=>je(ne=>Math.max(0,ne-1)),"aria-label":"Previous tabs",children:d.jsx("span",{className:"text-lg",children:"<"})}),d.jsx("div",{className:"flex gap-2 px-8 w-full justify-center",children:Nx.slice(ae*um,(ae+1)*um).map(ne=>d.jsx("button",{className:`min-w-[110px] px-3 py-2 font-semibold tracking-wide text-[13px] rounded-t-lg transition-colors duration-150
                ${fe===ne.key?"border-b-2 border-sky-500 text-sky-500 bg-sky-50":"text-zinc-400 bg-white hover:bg-sky-50"}`,onClick:()=>{X(ne.key),Le([])},children:ne.label},ne.key))}),d.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white border border-sky-100 shadow text-sky-500 hover:bg-sky-100 transition absolute right-0 top-1/2 -translate-y-1/2",style:{display:ae<Math.ceil(Nx.length/um)-1?"flex":"none"},onClick:()=>je(ne=>Math.min(Math.ceil(Nx.length/um)-1,ne+1)),"aria-label":"Next tabs",children:d.jsx("span",{className:"text-lg",children:">"})})]}),fe==="users"&&d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-[15px] font-semibold tracking-wide text-sky-500",children:"Users"}),d.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{pe({displayName:"",email:"",address:"",phone:"",role:"customer",suspended:!1}),R(!0)},children:"Add User"})]}),d.jsx("div",{className:"space-y-2",children:(k?r:r.slice(0,3)).map(ne=>d.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:be.includes(ne.id),onChange:De=>Le(Ke=>De.target.checked?[...Ke,ne.id]:Ke.filter(mt=>mt!==ne.id))}),d.jsxs("div",{className:"flex-1",onClick:De=>{De.target.tagName!=="BUTTON"&&Y(ne)},children:[d.jsx("div",{className:"font-semibold text-[13px] text-sky-500",children:ne.displayName||ne.email}),d.jsx("div",{className:"text-[12px] text-zinc-500",children:ne.email}),d.jsxs("div",{className:"text-[11px] text-zinc-400",children:["Role: ",ne.role||"customer"]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:async De=>{De.stopPropagation(),await ya(or(gt,"users",ne.id),{role:"suspended"})},children:"Suspend"}),d.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async De=>{De.stopPropagation(),await So(or(gt,"users",ne.id))},children:"Delete"})]})]},ne.id))}),be.length>0&&d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-[12px] font-medium",onClick:async()=>{for(const ne of be)await So(or(gt,"users",ne));Le([])},children:"Delete Selected"}),d.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium",onClick:async()=>{for(const ne of be)await ya(or(gt,"users",ne),{role:"suspended"});Le([])},children:"Suspend Selected"})]}),r.length>3&&!k&&d.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>N(!0),children:"See more"}),r.length>3&&k&&d.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>N(!1),children:"See less"})]}),fe==="products"&&d.jsxs("div",{className:"mb-8",children:[d.jsx("div",{className:"text-xl font-semibold mb-2",children:"Products"}),d.jsx("div",{className:"space-y-2",children:(L?i:i.slice(0,3)).map(ne=>d.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",onClick:De=>{De.target.tagName!=="BUTTON"&&S(ne)},children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-bold",children:ne.name}),d.jsx("div",{className:"text-sm text-zinc-500",children:ne.category}),d.jsxs("div",{className:"text-xs text-zinc-400",children:["Vendor: ",ne.vendorId]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:async De=>{De.stopPropagation(),await ya(or(gt,"products",ne.id),{approved:!0}),a(i.map(Ke=>Ke.id===ne.id?{...Ke,approved:!0}:Ke))},children:"Approve"}),d.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async De=>{De.stopPropagation(),await So(or(gt,"products",ne.id)),a(i.filter(Ke=>Ke.id!==ne.id))},children:"Delete"})]})]},ne.id))}),i.length>3&&!L&&d.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>P(!0),children:"See more"}),i.length>3&&L&&d.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>P(!1),children:"See less"})]}),fe==="prescriptions"&&d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-xl font-semibold",children:"Prescriptions"}),d.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{},children:"Add Prescription"})]}),d.jsx("div",{className:"space-y-2",children:s.map(ne=>d.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:be.includes(ne.id),onChange:De=>Le(Ke=>De.target.checked?[...Ke,ne.id]:Ke.filter(mt=>mt!==ne.id))}),d.jsxs("div",{className:"flex-1",onClick:()=>{},children:[d.jsx("div",{className:"font-bold",children:ne.title||ne.id}),d.jsx("div",{className:"text-xs text-zinc-500",children:ne.createdAt?new Date(ne.createdAt.seconds*1e3).toLocaleString():""}),d.jsxs("div",{className:"text-xs text-zinc-400",children:["Drugs: ",Array.isArray(ne.drugs)?ne.drugs.join(", "):ne.drugs]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async De=>{De.stopPropagation(),await So(or(gt,"prescriptions",ne.id))},children:"Delete"})})]},ne.id))}),be.length>0&&d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const ne of be)await So(or(gt,"prescriptions",ne));Le([])},children:"Delete Selected"})})]}),fe==="orders"&&d.jsxs("div",{className:"mb-8",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("div",{className:"text-xl font-semibold",children:"Orders"})}),d.jsx("div",{className:"space-y-2",children:l.map(ne=>d.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:be.includes(ne.id),onChange:De=>Le(Ke=>De.target.checked?[...Ke,ne.id]:Ke.filter(mt=>mt!==ne.id))}),d.jsxs("div",{className:"flex-1",onClick:()=>{},children:[d.jsxs("div",{className:"font-bold",children:["Order #",ne.id]}),d.jsx("div",{className:"text-xs text-zinc-500",children:ne.createdAt?new Date(ne.createdAt.seconds*1e3).toLocaleString():""}),d.jsxs("div",{className:"text-xs text-zinc-400",children:["Products: ",Array.isArray(ne.products)?ne.products.map(De=>De.name).join(", "):""]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async De=>{De.stopPropagation(),await So(or(gt,"orders",ne.id))},children:"Delete"})})]},ne.id))}),be.length>0&&d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const ne of be)await So(or(gt,"orders",ne));Le([])},children:"Delete Selected"})})]}),fe==="carts"&&d.jsxs("div",{className:"mb-8",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx("div",{className:"text-xl font-semibold",children:"Carts"})}),d.jsx("div",{className:"space-y-2",children:f.map(ne=>d.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:be.includes(ne.id),onChange:De=>Le(Ke=>De.target.checked?[...Ke,ne.id]:Ke.filter(mt=>mt!==ne.id))}),d.jsxs("div",{className:"flex-1",onClick:()=>{},children:[d.jsxs("div",{className:"font-bold",children:["Cart #",ne.id]}),d.jsx("div",{className:"text-xs text-zinc-500",children:ne.updatedAt?new Date(ne.updatedAt.seconds*1e3).toLocaleString():""}),d.jsxs("div",{className:"text-xs text-zinc-400",children:["Products: ",Array.isArray(ne.products)?ne.products.map(De=>De.name).join(", "):""]})]}),d.jsx("div",{className:"flex gap-2",children:d.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async De=>{De.stopPropagation(),await So(or(gt,"carts",ne.id))},children:"Delete"})})]},ne.id))}),be.length>0&&d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const ne of be)await So(or(gt,"carts",ne));Le([])},children:"Delete Selected"})})]}),fe==="analytics"&&d.jsxs("div",{className:"mb-8",children:[d.jsx("div",{className:"text-xl font-semibold mb-4",children:"Analytics"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold",children:r.length}),d.jsx("div",{className:"text-xs text-zinc-600",children:"Users"})]}),d.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold",children:i.length}),d.jsx("div",{className:"text-xs text-zinc-600",children:"Products"})]}),d.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold",children:s.length}),d.jsx("div",{className:"text-xs text-zinc-600",children:"Prescriptions"})]}),d.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold",children:l.length}),d.jsx("div",{className:"text-xs text-zinc-600",children:"Orders"})]}),d.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[d.jsx("div",{className:"text-2xl font-bold",children:f.length}),d.jsx("div",{className:"text-xs text-zinc-600",children:"Carts"})]})]}),d.jsx("div",{className:"mt-4 text-zinc-500 text-xs",children:"Charts and advanced analytics coming soon."})]}),fe==="moderation"&&d.jsxs("div",{className:"mb-8",children:[d.jsx("div",{className:"text-xl font-semibold mb-4",children:"Moderation"}),d.jsx("div",{className:"text-zinc-500 mb-4",children:"No flagged items yet. Moderation features coming soon."}),be.length>0&&d.jsx("div",{className:"flex gap-2 mt-2",children:d.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const ne of be);Le([])},children:"Delete Selected"})})]}),fe==="export"&&d.jsxs("div",{className:"mb-8",children:[d.jsx("div",{className:"text-xl font-semibold mb-4",children:"Export Data"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(r,"users"),children:"Export Users TSV"}),d.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(i,"products"),children:"Export Products TSV"}),d.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(s,"prescriptions"),children:"Export Prescriptions TSV"}),d.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(l,"orders"),children:"Export Orders TSV"}),d.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(f,"carts"),children:"Export Carts TSV"})]})]}),d.jsx("div",{className:"mt-6",children:d.jsx("button",{onClick:async()=>{await e(),window.location.href="/auth/landing"},className:"rounded-full border border-red-300 text-red-600 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:"Log Out"})}),(V||Q)&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full border border-sky-100",children:[d.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:Q?"Add User":"Edit User"}),Pe&&d.jsx("div",{className:"text-red-500 text-xs mb-2",children:Pe}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:re.displayName,onChange:ne=>pe(De=>({...De,displayName:ne.target.value})),placeholder:"Name"}),d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:re.email,onChange:ne=>pe(De=>({...De,email:ne.target.value})),placeholder:"Email"}),Q&&d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",type:"password",value:re.password,onChange:ne=>pe(De=>({...De,password:ne.target.value})),placeholder:"Password"}),d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:re.address,onChange:ne=>pe(De=>({...De,address:ne.target.value})),placeholder:"Address"}),d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:re.phone,onChange:ne=>pe(De=>({...De,phone:ne.target.value})),placeholder:"Phone Number"}),d.jsxs("select",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:re.role,onChange:ne=>pe(De=>({...De,role:ne.target.value})),children:[d.jsx("option",{value:"customer",children:"Customer"}),d.jsx("option",{value:"pharmacy",children:"Pharmacy"}),d.jsx("option",{value:"superuser",children:"Superuser"}),d.jsx("option",{value:"suspended",children:"Suspended"})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{if(de(""),Q){const ne=xI();try{const De=await iI(ne,re.email,re.password),Ke={...re};delete Ke.password;const mt=await Yu(()=>Promise.resolve().then(()=>FT),void 0).then(Et=>Et.addDoc(ur(gt,"users"),{...Ke,uid:De.user.uid}));n([...r,{id:mt.id,...Ke,uid:De.user.uid}]),R(!1)}catch(De){de(De.message||"Failed to create user. Check email, password, and permissions.")}}else try{await ya(or(gt,"users",V.id),{displayName:re.displayName,email:re.email,address:re.address,phone:re.phone,role:re.role}),n(r.map(ne=>ne.id===V.id?{...ne,...re}:ne)),Y(null)}catch(ne){de(ne.message||"Failed to update user.")}},children:Q?"Add":"Save"}),!Q&&(re.role==="suspended"?d.jsx("button",{className:"px-4 py-2 rounded bg-green-500 text-white font-medium text-[13px] shadow hover:bg-green-600",onClick:async()=>{await ya(or(gt,"users",V.id),{role:"customer"}),n(r.map(ne=>ne.id===V.id?{...ne,role:"customer"}:ne)),Y(null)},children:"Lift Suspension"}):d.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-medium text-[13px] shadow hover:bg-red-600",onClick:async()=>{await ya(or(gt,"users",V.id),{role:"suspended"}),n(r.map(ne=>ne.id===V.id?{...ne,role:"suspended"}:ne)),Y(null)},children:"Suspend"})),d.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>{Y(null),R(!1),de("")},children:"Cancel"})]})]})]})}),T&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-md w-full border border-sky-100",children:[d.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:"Edit Product"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.name,onChange:ne=>xe(De=>({...De,name:ne.target.value})),placeholder:"Product Name"}),d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.sku,onChange:ne=>xe(De=>({...De,sku:ne.target.value})),placeholder:"SKU"}),d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.price,onChange:ne=>xe(De=>({...De,price:ne.target.value})),placeholder:"Price"}),d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.stock,onChange:ne=>xe(De=>({...De,stock:ne.target.value})),placeholder:"Stock"}),d.jsx("textarea",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.description,onChange:ne=>xe(De=>({...De,description:ne.target.value})),placeholder:"Description",rows:"2"}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{await ya(or(gt,"products",T.id),{name:_e.name,sku:_e.sku,price:_e.price,stock:_e.stock,description:_e.description}),a(i.map(ne=>ne.id===T.id?{...ne,..._e}:ne)),S(null)},children:"Save"}),d.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>S(null),children:"Cancel"})]})]})]})}),fe==="infoCards"&&d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-xl font-semibold text-sky-500",children:"Info Cards"}),d.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{try{A(null)}catch{}try{M(!0)}catch{}try{G({header:"",preview:"",link:"",linkText:"",image:"",fullImage:"",bgColor:"#f0f8ff",headerColor:"#0ea5e9",previewColor:"#475569",linkColor:"#0ea5e9",linkTextColor:"#0ea5e9",headerFontSize:16,previewFontSize:13,linkFontSize:13,linkTextFontSize:13})}catch{}},children:"Add Info Card"})]}),d.jsx("div",{className:"space-y-4",children:g.map(ne=>d.jsxs("div",{className:"border border-sky-100 rounded-lg p-4 flex items-center justify-between group hover:shadow-md transition cursor-pointer",style:{background:ne.bgColor||"#ffffff"},children:[d.jsxs("div",{className:"flex-1",onClick:()=>{A(ne),G({header:ne.header||"",preview:ne.preview||"",link:ne.link||"",linkText:ne.linkText||"",image:ne.image||"",fullImage:ne.fullImage||"",bgColor:ne.bgColor||"#f0f8ff",headerColor:ne.headerColor||"#0ea5e9",previewColor:ne.previewColor||"#475569",linkColor:ne.linkColor||ne.linkTextColor||"#0ea5e9",linkTextColor:ne.linkTextColor||ne.linkColor||"#0ea5e9",headerFontSize:ne.headerFontSize||16,previewFontSize:ne.previewFontSize||13,linkFontSize:ne.linkFontSize||13,linkTextFontSize:ne.linkTextFontSize||13})},children:[d.jsx("div",{style:{color:ne.headerColor||"#0ea5e9",fontSize:(ne.headerFontSize||16)+"px",fontWeight:600},children:ne.header}),d.jsx("div",{style:{color:ne.previewColor||"#475569",fontSize:(ne.previewFontSize||13)+"px"},className:"mt-1",children:ne.preview}),ne.link&&ne.linkText&&d.jsx("a",{href:ne.link,style:{color:ne.linkColor||"#0ea5e9",fontSize:(ne.linkFontSize||13)+"px"},className:"underline",target:"_blank",rel:"noopener noreferrer",children:ne.linkText}),ne.image&&d.jsx("img",{src:ne.image,alt:"Info",className:"mt-2 rounded-lg",style:{maxWidth:"120px",maxHeight:"60px"}}),ne.fullImage&&d.jsx("img",{src:ne.fullImage,alt:"Full",className:"mt-2 rounded-lg",style:{maxWidth:"180px",maxHeight:"100px"}}),d.jsxs("div",{className:"text-[11px] text-zinc-400 mt-2",children:["BG: ",ne.bgColor]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:De=>{De.stopPropagation(),A(ne),M(!1),G({header:ne.header||"",preview:ne.preview||"",link:ne.link||"",linkText:ne.linkText||"",image:ne.image||"",fullImage:ne.fullImage||"",bgColor:ne.bgColor||"#f0f8ff",headerColor:ne.headerColor||"#0ea5e9",previewColor:ne.previewColor||"#475569",linkColor:ne.linkColor||ne.linkTextColor||"#0ea5e9",linkTextColor:ne.linkTextColor||ne.linkColor||"#0ea5e9",headerFontSize:ne.headerFontSize||16,previewFontSize:ne.previewFontSize||13,linkFontSize:ne.linkFontSize||13,linkTextFontSize:ne.linkTextFontSize||13})},children:"Edit"}),d.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async De=>{De.stopPropagation(),await So(or(gt,"infoCards",ne.id))},children:"Delete"})]})]},ne.id))}),(j||F)&&d.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full border border-sky-100",children:[d.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:F?"Add Info Card":"Edit Info Card"}),Me&&d.jsx("div",{className:"text-red-500 text-xs mb-2",children:Me}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:oe.header,onChange:ne=>G(De=>({...De,header:ne.target.value})),placeholder:"Header"}),d.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:oe.preview,onChange:ne=>G(De=>({...De,preview:ne.target.value})),placeholder:"Preview text"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"flex-1 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:oe.link,onChange:ne=>G(De=>({...De,link:ne.target.value})),placeholder:"Link (optional)"}),d.jsx("input",{className:"w-36 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:oe.linkText,onChange:ne=>G(De=>({...De,linkText:ne.target.value})),placeholder:"Link Text"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{className:"flex-1 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:oe.image,onChange:ne=>G(De=>({...De,image:ne.target.value})),placeholder:"Image URL (right side, optional)"}),d.jsx("input",{className:"w-36 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:oe.fullImage,onChange:ne=>G(De=>({...De,fullImage:ne.target.value})),placeholder:"Full Image URL"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("label",{className:"text-xs text-zinc-500",children:["Header Color",d.jsx("input",{type:"color",value:oe.headerColor||"#0ea5e9",onChange:ne=>G(De=>({...De,headerColor:ne.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),d.jsxs("label",{className:"text-xs text-zinc-500",children:["Header Size",d.jsx("input",{type:"range",min:"12",max:"28",value:oe.headerFontSize||16,onChange:ne=>G(De=>({...De,headerFontSize:parseInt(ne.target.value)})),className:"w-full mt-1"})]}),d.jsxs("label",{className:"text-xs text-zinc-500",children:["Preview Color",d.jsx("input",{type:"color",value:oe.previewColor||"#475569",onChange:ne=>G(De=>({...De,previewColor:ne.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),d.jsxs("label",{className:"text-xs text-zinc-500",children:["Preview Size",d.jsx("input",{type:"range",min:"10",max:"22",value:oe.previewFontSize||13,onChange:ne=>G(De=>({...De,previewFontSize:parseInt(ne.target.value)})),className:"w-full mt-1"})]}),d.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Color",d.jsx("input",{type:"color",value:oe.linkColor||"#0ea5e9",onChange:ne=>G(De=>({...De,linkColor:ne.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),d.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Size",d.jsx("input",{type:"range",min:"10",max:"22",value:oe.linkFontSize||13,onChange:ne=>G(De=>({...De,linkFontSize:parseInt(ne.target.value)})),className:"w-full mt-1"})]}),d.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Text Color",d.jsx("input",{type:"color",value:oe.linkTextColor||"#0ea5e9",onChange:ne=>G(De=>({...De,linkTextColor:ne.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),d.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Text Size",d.jsx("input",{type:"range",min:"10",max:"22",value:oe.linkTextFontSize||13,onChange:ne=>G(De=>({...De,linkTextFontSize:parseInt(ne.target.value)})),className:"w-full mt-1"})]})]}),d.jsxs("div",{className:"mt-2",children:[d.jsx("label",{className:"text-xs text-zinc-500",children:"Background Color"}),d.jsx("input",{type:"color",value:oe.bgColor||"#f0f8ff",onChange:ne=>G(De=>({...De,bgColor:ne.target.value})),className:"w-full h-10 mt-1 p-0 border-0"})]}),d.jsxs("div",{className:"mt-3",children:[d.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:"Live preview"}),d.jsxs("div",{style:{background:oe.bgColor||"#f8fafc",padding:12,borderRadius:10,display:"flex",gap:12,alignItems:"center"},children:[d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{color:oe.headerColor||"#0ea5e9",fontSize:(oe.headerFontSize||16)+"px",fontWeight:700},children:oe.header||"Header"}),d.jsx("div",{style:{color:oe.previewColor||"#475569",fontSize:(oe.previewFontSize||13)+"px",marginTop:4},children:oe.preview||"Preview text goes here"}),oe.linkText&&d.jsx("div",{style:{marginTop:6},children:d.jsx("a",{style:{color:oe.linkTextColor||oe.linkColor||"#0ea5e9",fontSize:(oe.linkTextFontSize||13)+"px"},href:oe.link||"#",children:oe.linkText})})]}),oe.image&&d.jsx("img",{src:oe.image,alt:"Preview",style:{width:80,height:60,objectFit:"cover",borderRadius:6}})]})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{if(Be(""),F)try{await fp(ur(gt,"infoCards"),oe),M(!1)}catch(ne){Be(ne.message||"Failed to add info card.")}else if(j)try{await ya(or(gt,"infoCards",j.id),oe),A(null)}catch(ne){Be(ne.message||"Failed to save info card.")}},children:F?"Add":"Save"}),d.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>{A(null),M(!1),Be("")},children:"Cancel"})]})]})]})})]})]}):d.jsx(ig,{lines:4,className:"my-8"})}function IC({className:t="h-4 w-4",...e}){return d.jsxs("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:[d.jsx("path",{d:"M3 9V1M17 17V14M3 17V13M17 10V1M10 4V1M10 17V8",stroke:"currentColor",strokeLinecap:"round"}),d.jsx("path",{d:"M3 13C4.10457 13 5 12.1046 5 11C5 9.89543 4.10457 9 3 9C1.89543 9 1 9.89543 1 11C1 12.1046 1.89543 13 3 13Z",stroke:"currentColor",strokeLinecap:"round"}),d.jsx("path",{d:"M10 8C11.1046 8 12 7.10457 12 6C12 4.89543 11.1046 4 10 4C8.89543 4 8 4.89543 8 6C8 7.10457 8.89543 8 10 8Z",stroke:"currentColor",strokeLinecap:"round"}),d.jsx("path",{d:"M17 14C18.1046 14 19 13.1046 19 12C19 10.8954 18.1046 10 17 10C15.8954 10 15 10.8954 15 12C15 13.1046 15.8954 14 17 14Z",stroke:"currentColor",strokeLinecap:"round"})]})}function T1e(){const t=Ni(),{profile:e}=Pn(),{t:r}=Na(),{userCoords:n,location:i,isLoading:a}=pp(),[s,o]=B.useState([]),[l,c]=B.useState(!0),[f,p]=B.useState(null),[g,m]=B.useState([]),[y,w]=B.useState(""),[k,N]=B.useState(!1),[L,P]=B.useState("all"),[V,Y]=B.useState(!1),[Q,R]=B.useState([]),[T,S]=B.useState(-1);B.useEffect(()=>{e&&e.role!=="customer"&&t("/")},[e,t]),B.useEffect(()=>{async function X(){try{const I=await Ev();o(I||[])}catch(I){console.error("Error loading pharmacies:",I)}finally{c(!1)}}X()},[]),B.useEffect(()=>{if(!n||s.length===0){m(s);return}let X=s.map(I=>{const q=v6(I,n,"driving"),W=j(I),J=W?Ry(n.latitude,n.longitude,W.latitude,W.longitude):1/0;return{...I,distance:J,eta:q,coords:W}}).filter(I=>I.coords);if(L!=="all"){const I=parseInt(L);X=X.filter(q=>q.distance<=I)}if(y.trim()){const I=y.toLowerCase();X=X.filter(q=>q.name?.toLowerCase().includes(I)||q.address?.toLowerCase().includes(I))}X.sort((I,q)=>I.distance-q.distance),m(X),X.length>0&&(!f||!X.find(I=>I.id===f.id))&&p(X[0])},[n,s,f,y,L]),B.useEffect(()=>{if(!y.trim()||y.length<2){R([]),Y(!1);return}const X=y.toLowerCase(),I=s.filter(q=>q.name?.toLowerCase().includes(X)||q.address?.toLowerCase().includes(X)).slice(0,5).map(q=>({id:q.id,name:q.name,address:q.address,type:q.name?.toLowerCase().includes(X)?"name":"address"}));R(I),Y(I.length>0),S(-1)},[y,s]);function j(X){return X?X.coordinates?.latitude&&X.coordinates?.longitude?{latitude:Number(X.coordinates.latitude),longitude:Number(X.coordinates.longitude)}:X.latitude&&X.longitude?{latitude:Number(X.latitude),longitude:Number(X.longitude)}:X.lat&&X.lng?{latitude:Number(X.lat),longitude:Number(X.lng)}:null:null}const A=X=>{X.phone&&(window.location.href=`tel:${X.phone}`)},F=X=>{const I=j(X);if(I&&n){const q=`https://www.google.com/maps/dir/${n.latitude},${n.longitude}/${I.latitude},${I.longitude}`;window.open(q,"_blank")}},M=X=>{p(X)},re=X=>{(X.vendorId||X.id)&&t(`/vendor/${X.vendorId||X.id}`)},pe=X=>{w(X),S(-1)},_e=X=>{w(X.name),Y(!1),S(-1);const I=s.find(q=>q.id===X.id);I&&(p(I),setTimeout(()=>{const q=document.getElementById(`pharmacy-${I.id}`);q&&q.scrollIntoView({behavior:"smooth",block:"center"})},100))},xe=()=>{Q.length>0&&y.length>=2&&Y(!0)},oe=()=>{setTimeout(()=>{Y(!1),S(-1)},200)},G=X=>{if(!(!V||Q.length===0))switch(X.key){case"ArrowDown":X.preventDefault(),S(I=>I<Q.length-1?I+1:0);break;case"ArrowUp":X.preventDefault(),S(I=>I>0?I-1:Q.length-1);break;case"Enter":X.preventDefault(),T>=0&&T<Q.length&&_e(Q[T]);break;case"Escape":Y(!1),S(-1);break}};if(l||a)return d.jsx("div",{className:"min-h-screen bg-gray-50 px-4 py-6",children:d.jsxs("div",{className:"max-w-md mx-auto",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[d.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(uu,{className:"h-5 w-5"})}),d.jsx("h1",{className:"text-[25px] font-light text-gray-900 dark:text-white",children:r("nearby_pharmacies","Nearby Pharmacies")})]}),d.jsx(ig,{lines:8,className:"space-y-4 justify-center"})]})});const fe=()=>d.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:d.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[d.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:d.jsx(uu,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("div",{className:"text-[18px] font-light tracking-tight",children:r("nearby_pharmacies","Nearby Pharmacies")}),d.jsx("div",{className:"text-[12px] text-gray-400",children:n?r("pharmacies_found_near_you","{count} found near you").replace("{count}",g.length):r("loading_location","Loading location...")})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx("button",{onClick:()=>N(!k),className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":r("filter_pharmacies","Filter pharmacies"),children:d.jsx(IC,{className:"w-5 h-5 text-sky-600"})})})]})});return d.jsxs(d.Fragment,{children:[la.createPortal(d.jsx(fe,{}),document.body),d.jsxs("div",{className:"min-h-screen bg-gray dark:bg-gray-900 pt-24 md:pt-0",children:[d.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-50 dark:border-gray-700 mx-auto px-4 py-4 sticky top-0 z-50 hidden md:block",children:d.jsx("div",{className:"max-w-md mx-auto",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:d.jsx(uu,{className:"h-5 w-5 text-gray-900 dark:text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-[20px] font-light tracking-tight text-gray-900 dark:text-white",children:r("nearby_pharmacies","Nearby Pharmacies")}),d.jsx("p",{className:"text-[12px] text-gray-400 dark:text-gray-500",children:n?r("pharmacies_found_near_you_detailed","{count} pharmacies found near you").replace("{count}",g.length):r("loading_location","Loading location...")})]})]})})}),d.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[d.jsx("div",{className:"bg-gray dark:bg-transparent rounded-lg p-4 mb-4 border border-sky-300 dark:border-gray-600 dark:border-gray-600",children:d.jsx("div",{className:"flex items-center gap-3",children:n?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r("your_location","Your Location")}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:i})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a?r("getting_your_location","Getting your location..."):r("location_access_needed","Location access needed")}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:a?r("allow_location_access_etas","Please allow location access for accurate ETAs"):r("enable_location_services","Enable location services to see nearby pharmacies")})]})]})})}),d.jsxs("div",{className:"dark:bg-transparent rounded-lg p-4 border mb-4 border-sky-300 dark:border-gray-600 dark:border-gray-600",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex-1 relative bg-transparent",children:[d.jsx(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:r("search_pharmacies","Search pharmacies..."),value:y,onChange:X=>pe(X.target.value),onFocus:xe,onBlur:oe,onKeyDown:G,className:"w-full pl-10 pr-4 py-2 border-b bg-transparent border-gray-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"off"}),V&&y.length>=2&&d.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto animate-fade-in",children:[Q.length>0?Q.map((X,I)=>d.jsx("button",{onClick:()=>_e(X),className:`w-full text-left px-4 py-3 focus:outline-none transition-colors duration-200 border-b border-gray-100 dark:border-gray-700 last:border-b-0 animate-fadeInUp ${I===T?"bg-blue-100 dark:bg-blue-900/30 border-blue-200 dark:border-gray-600 dark:border-gray-600":"hover:bg-blue-50 dark:hover:bg-blue-900/20 focus:bg-blue-50 dark:focus:bg-blue-900/20"}`,style:{animationDelay:`${I*.05}s`},children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-colors duration-200 ${I===T?"bg-blue-200 dark:bg-blue-800":"bg-blue-100 dark:bg-blue-900"}`,children:d.jsx($l,{className:`h-4 w-4 ${I===T?"text-blue-700 dark:text-blue-300":"text-blue-600 dark:text-blue-400"}`})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:X.type==="name"?d.jsx("span",{children:X.name.split(new RegExp(`(${y})`,"gi")).map((q,W)=>q.toLowerCase()===y.toLowerCase()?d.jsx("span",{className:"bg-sky-200 px-1 rounded",children:q},W):q)}):X.name}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:X.type==="address"?d.jsx("span",{children:X.address.split(new RegExp(`(${y})`,"gi")).map((q,W)=>q.toLowerCase()===y.toLowerCase()?d.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:q},W):q)}):X.address})]}),d.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium flex-shrink-0",children:X.type==="name"?r("name","Name"):r("address","Address")})]})},X.id)):d.jsxs("div",{className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400 animate-fade-in",children:[d.jsx($l,{className:"h-8 w-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),d.jsx("p",{className:"text-[12px]",children:r("no_pharmacies_found","No pharmacies found")}),d.jsx("p",{className:"text-[10px] mt-1",children:r("try_different_search","Try a different search term")})]}),Q.length>0&&d.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-[12px] text-gray-400 dark:text-gray-500 text-center",children:r("keyboard_navigation_hint","Use ↑↓ arrow keys to navigate, Enter to select, Esc to close")})]})]}),d.jsx("button",{onClick:()=>N(!k),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${k?"bg-blue-500 text-white border-blue-500 dark:border-gray-600":"text-gray-700 dark:text-gray-300"}`,children:d.jsx(IC,{className:"h-4 w-4"})})]}),k&&d.jsxs("div",{className:" pt-3",children:[d.jsx("p",{className:"text-[14px] font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("distance","Distance")}),d.jsx("div",{className:"flex gap-2 flex-wrap",children:[{value:"all",label:"All"},{value:"5",label:"Within 5km"},{value:"10",label:"Within 10km"},{value:"20",label:"Within 20km"}].map(X=>d.jsx("button",{onClick:()=>P(X.value),className:`px-3 py-1 rounded-full text-[12px] transition-colors ${L===X.value?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:X.label},X.value))})]})]}),d.jsx("div",{className:"bg-white dark:bg-transparent rounded-lg mb-4 shadow-sm overflow-hidden",children:d.jsxs("div",{className:"h-80 bg-gradient-to-br from-green-50 via-blue-50 to-indigo-100 relative",children:[d.jsx("div",{className:"absolute inset-0 opacity-10",children:d.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("defs",{children:d.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#6B7280",strokeWidth:"1"})})}),d.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),d.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 400 320",children:[d.jsx("path",{d:"M0 160 Q200 120 400 160",stroke:"#E5E7EB",strokeWidth:"8",fill:"none"}),d.jsx("path",{d:"M200 0 Q200 160 200 320",stroke:"#E5E7EB",strokeWidth:"6",fill:"none"}),d.jsx("path",{d:"M0 80 Q100 60 200 80",stroke:"#F3F4F6",strokeWidth:"4",fill:"none"}),d.jsx("path",{d:"M200 240 Q300 220 400 240",stroke:"#F3F4F6",strokeWidth:"4",fill:"none"})]}),n&&d.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"w-4 h-4 bg-black rounded-full border-2 border-white shadow-lg animate-pulse"}),d.jsx("div",{className:"absolute -inset-2 bg-blue-400 rounded-full opacity-30 animate-ping"})]}),d.jsx("span",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-xs bg-white px-2 py-1 rounded shadow-md whitespace-nowrap",children:r("you_are_here","You are here")})]}),g.slice(0,8).map((X,I)=>{const q=I*45*(Math.PI/180),W=80+I*10,J=50+Math.cos(q)*W/4,ce=50+Math.sin(q)*W/6;return d.jsx("div",{className:`absolute transform -translate-x-1/2 -translate-y-full cursor-pointer transition-all duration-200 hover:scale-125 z-20 ${f?.id===X.id?"scale-125 z-30":""}`,style:{left:`${Math.max(10,Math.min(90,J))}%`,top:`${Math.max(15,Math.min(85,ce))}%`},onClick:()=>M(X),children:d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg border-2 border-white transition-colors ${f?.id===X.id?"bg-red-500 shadow-red-200":"bg-blue-500 shadow-blue-200"}`,children:I+1}),d.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:d.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 whitespace-nowrap shadow-lg",children:[d.jsx("div",{className:"font-medium",children:X.name}),d.jsxs("div",{className:"text-gray-300",children:[X.eta?.formatted," • ",X.distance?.toFixed(1),"km"]}),d.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})})]})},X.id||I)}),d.jsx("div",{className:"absolute top-4 left-4 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx($l,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r("pharmacy_locations","Pharmacy Locations")}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:r("pharmacies_sorted_by_distance","{count} pharmacies • Sorted by distance").replace("{count}",g.length)})]})]})}),d.jsx("div",{className:"absolute bottom-4 right-4 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg p-3 shadow-sm",children:d.jsxs("div",{className:"space-y-2 text-xs",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 bg-black rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),d.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("your_location","Your location")})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),d.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("pharmacy","Pharmacy")})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),d.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("selected","Selected")})]})]})})]})}),f&&d.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-3 mb-4 shadow-sm border border-blue-200 dark:border-gray-600 dark:border-gray-600",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg flex-shrink-0",children:g.findIndex(X=>X.id===f.id)+1}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:f.name}),d.jsx("p",{className:"text-xs text-gray-600 mb-2 truncate",children:f.address}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 flex-wrap",children:[d.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-full px-2 py-1",children:[d.jsx(Cv,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),d.jsx("span",{className:"font-medium whitespace-nowrap",children:f.eta?.formatted||r("calculating","Calculating...")})]}),d.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-full px-2 py-1",children:[d.jsx($l,{className:"h-3 w-3 text-green-500 flex-shrink-0"}),d.jsxs("span",{className:"font-medium whitespace-nowrap",children:[f.distance?.toFixed(1)||"0"," km"]})]}),f.phone&&d.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-full px-2 py-1",children:[d.jsx(K1,{className:"h-3 w-3 text-purple-500 flex-shrink-0"}),d.jsx("span",{className:"font-medium text-xs truncate max-w-[80px]",children:f.phone})]})]})]})]}),d.jsx("span",{className:"bg-blue-600 text-white text-xs px-1 py-1 rounded-full font-medium flex-shrink-0 ml-2",children:r("closest","Closest")})]}),d.jsxs("div",{className:"flex gap-1.5",children:[d.jsxs("button",{onClick:()=>F(f),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-full text-xs font-medium hover:bg-blue-700 transition-all duration-200 flex items-center justify-center gap-1 btn-interactive",children:[d.jsx(ew,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:r("get_directions","Get Directions")}),d.jsx("span",{className:"sm:hidden",children:r("get_directions","Get Directions")})]}),f.phone&&d.jsxs("button",{onClick:()=>A(f),className:"bg-green-600 text-white py-2 px-3 rounded-full text-xs font-medium hover:bg-green-700 transition-all duration-200 flex items-center justify-center gap-1 btn-interactive",title:r("call_pharmacy","Call pharmacy"),children:[d.jsx(K1,{className:"h-3 w-3"}),d.jsx("span",{className:"hidden sm:inline",children:r("call","Call")})]}),d.jsxs("button",{onClick:()=>re(f),className:"flex-1 bg-white text-blue-600 py-2 px-3 rounded-full text-xs font-medium hover:bg-blue-50 transition-all duration-200 border border-blue-200 dark:border-gray-600 btn-interactive",children:[d.jsx("span",{className:"hidden sm:inline",children:r("view_products","View Products")}),d.jsx("span",{className:"sm:hidden",children:r("view_products","View Products")})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-[18px] font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:y?d.jsxs(d.Fragment,{children:[d.jsx("span",{children:r("search_results","Search Results")}),d.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full animate-pulse-slow",children:['"',y,'"']})]}):r("all_pharmacies","All Pharmacies")}),d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("pharmacies_found_count","{count} found").replace("{count}",g.length)})]}),g.length===0?d.jsxs("div",{className:"bg-white-10 rounded-lg p-8 text-center",children:[d.jsx($l,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:y?r("no_pharmacies_found_search","No pharmacies found matching your search"):r("no_pharmacies_found_general","No pharmacies found")}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:y?r("try_adjusting_search","Try adjusting your search terms"):r("try_adjusting_location","Try adjusting your location or check back later")}),y&&d.jsx("button",{onClick:()=>w(""),className:"mt-3 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium hover:scale-105 active:scale-95 transition-all duration-200 px-3 py-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r("clear_search","Clear search")})]}):g.map((X,I)=>d.jsx("div",{id:`pharmacy-${X.id}`,className:`bg-white dark:bg-transparent rounded-lg p-3 border border-gray-200 dark:border-gray-600 dark:border-gray-600 cursor-pointer transition-all duration-200 card-interactive animate-fadeInUp ${f?.id===X.id?"border-blue-300 dark:border-gray-600 bg-blue-50 dark:bg-blue-900/30 shadow-blue-100 scale-102":"border-gray-200 dark:border-gray-600 dark:border-gray-600 hover:border-gray-300 dark:border-gray-600 dark:hover:border-gray-500 hover:shadow-md"}`,style:{animationDelay:`${I*.1}s`},onClick:()=>M(X),children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[d.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-[12px] font-bold shadow-sm flex-shrink-0 ${f?.id===X.id?"bg-blue-500":"bg-gray-400"}`,children:I+1}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:X.name}),I===0&&d.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 text-sm px-2 py-0.5 rounded-full font-medium flex-shrink-0",children:r("closest","Closest")})]}),d.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 truncate",children:X.address}),d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[d.jsx(Cv,{className:"h-3 w-3 flex-shrink-0"}),d.jsx("span",{className:"font-medium whitespace-nowrap",children:X.eta?.formatted||r("calculating","Calculating...")})]}),d.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[d.jsx($l,{className:"h-3 w-3 flex-shrink-0"}),d.jsxs("span",{className:"font-medium whitespace-nowrap",children:[X.distance?.toFixed(1)||"0"," km"]})]})]})]})]}),d.jsx("button",{onClick:q=>{q.stopPropagation(),F(X)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors p-1.5 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full flex-shrink-0 ml-2",title:r("get_directions","Get directions"),children:d.jsx(ew,{className:"h-4 w-4"})})]})},X.id||I))]}),V&&Q.length>0&&d.jsx("div",{className:"absolute z-50 w-full max-w-md mx-auto mt-2 bg-white rounded-lg shadow-lg",children:d.jsx("div",{className:"flex flex-col divide-y divide-gray-200",children:Q.map(X=>d.jsxs("button",{onClick:()=>_e(X),className:"flex items-center justify-between w-full px-4 py-2 text-left text-gray-900 hover:bg-blue-50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx($l,{className:"h-5 w-5 text-blue-600"}),d.jsxs("div",{className:"flex flex-col text-sm",children:[d.jsx("span",{className:"font-medium",children:X.name}),d.jsx("span",{className:"text-gray-500 truncate",children:X.address})]})]}),d.jsx("span",{className:"text-xs text-gray-400",children:g.findIndex(I=>I.id===X.id)+1})]},X.id))})})]})]})]})}const I1e="/assets/PharmaseaLogo-J4_RPPc9.png";function Sp({children:t}){const[e,r]=B.useState(!1);return B.useEffect(()=>{const n=()=>{const a=document.documentElement.classList.contains("dark");r(a)};n();const i=new MutationObserver(n);return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),d.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:d.jsxs("div",{className:"max-w-md mx-auto px-6 pt-14 pb-10",children:[d.jsxs("div",{className:"flex flex-col items-center mb-10",children:[d.jsx("img",{src:e?"/PharmLogoDark.png":I1e,alt:"Pharmasea",className:"w-40 h-15 object-contain transition-opacity duration-300"}),d.jsx("div",{className:"mt-3 text-zinc-600 dark:text-zinc-400 text-[13px]"})]}),t]})})}function P1e(){const[t,e]=B.useState("customer"),r=Ni();return d.jsxs(Sp,{children:[d.jsxs("div",{className:"mt-4 font-poppins text-[32px] sm:text-[38px] md:text-[42px] lg:text-[54px] font-thin tracking-tight leading-[109%] text-left animate-text-reveal",children:["HealthCare at",d.jsx("br",{}),"Your Doorstep"]}),d.jsx("p",{className:"mt-1 text-black text-[13px] sm:text-[14px] md:text-[16px] tracking-tight font-thin leading-[154%] font-poppins text-left animate-fade-in",style:{animationDelay:"0.2s"},children:"Pick up and deliver medical prescribed medications and, over-the-counter items from pharmacies to your doorstep."}),d.jsxs("div",{className:"mt-8 flex flex-row gap-4 w-full max-w-[350px] mx-0 animate-fade-in-up",style:{animationDelay:"0.4s"},children:[d.jsxs("button",{onClick:()=>e("customer"),className:`relative rounded-3xl p-0 text-left font-poppins bg-[#F7F7F7]/10 w-[169px] h-[169px] ${t==="customer"?"border-[#36A5FF] border-[3px] ring-3 ring-[#36A5FF]":"border-[#36A5FF] border-[1px]"} card-interactive transition-all duration-200 hover:scale-105 active:scale-95 shadow-sm group animate-bounce-in`,style:{animationDelay:"0.5s"},children:[d.jsxs("div",{className:"absolute left-[9px] top-[80px] text-[20px] sm:text-[25px] font-light tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:["I’m a",d.jsx("br",{}),"customer"]}),d.jsx("div",{className:"absolute left-[9px] top-[127px] text-black text-[12px] sm:text-[13px] font-extralight tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:"Sign Up or Login as a customer"})]}),d.jsxs("button",{onClick:()=>e("pharmacy"),className:`relative rounded-3xl p-0 text-left font-poppins bg-[#F7F7F7]/10 w-[169px] h-[169px] ${t==="pharmacy"?"border-[#36A5FF] border-[3px] ring-3 ring-[#36A5FF]":"border-[#36A5FF] border-[1px]"} card-interactive transition-all duration-200 hover:scale-105 active:scale-95 shadow-sm group animate-bounce-in`,style:{animationDelay:"0.6s"},children:[d.jsxs("div",{className:"absolute left-[9px] top-[80px] text-[20px] sm:text-[25px] font-light tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:["I’m a",d.jsx("br",{}),"pharmacy"]}),d.jsx("div",{className:"absolute left-[9px] top-[127px] text-black text-[12px] sm:text-[13px] font-extralight tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:"Sign Up or Login as a pharmacy"})]})]}),d.jsx("div",{className:"flex justify-start w-full max-w-[350px] mx-0",children:d.jsx("button",{onClick:()=>r(t==="customer"?"/auth/customer/signin":"/auth/pharmacy/signin"),disabled:!t,className:`mt-8 w-full h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] font-light flex items-center justify-center btn-interactive transition-all duration-200 hover:scale-105 active:scale-95 shadow-sm animate-fade-in-up ${t?"border-[#36A5FF] text-[#36A5FF] cursor-pointer bg-white":"border-zinc-300 dark:border-gray-600 text-zinc-400 cursor-not-allowed bg-white"}`,style:{animationDelay:"0.7s"},children:"Continue"})}),d.jsxs("div",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 flex flex-row gap-0 justify-center z-10",children:[d.jsx("div",{className:"flex flex-col items-center",children:d.jsx("svg",{width:"91",height:"152",viewBox:"0 0 91 152",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-30 h-40",children:d.jsx("path",{d:"M17.9558 53.3893L8.27792 64.6462C6.66938 66.5171 5.41493 68.6715 4.57719 71.0016L2.02085 78.1119C1.34548 79.9904 1 81.9738 1 83.9727V144.038C1 145.898 2.49116 147.406 4.33061 147.406M17.9558 53.3893V48.6425M17.9558 53.3893L34.6089 64.4141M53.3814 18.7837L54.3809 16.3407C55.821 12.8205 54.0914 8.79384 50.5647 7.4562L47.3257 6.2277L32.2398 1.3232C31.0192 0.92638 29.7113 0.894269 28.4731 1.23072L23.0885 2.69388C15.4164 4.77859 10.0835 11.8129 10.0835 19.8478V25.8211C10.0835 26.8331 10.3089 27.832 10.7429 28.7438L17.2964 42.5105C17.7304 43.4223 17.9558 44.4213 17.9558 45.4332V48.6425M53.3814 18.7837L44.7483 21.5411C42.9395 22.1189 41.5043 23.5227 40.873 25.3318L39.9367 28.0151C39.0833 30.4607 36.1645 31.416 34.0563 29.9399C32.1107 28.5775 29.4231 29.2739 28.3648 31.4147L27.1285 33.9155C26.5328 35.1206 26.7663 36.576 27.7082 37.5287C29.0866 38.9229 28.8627 41.2433 27.2438 42.3416L17.9558 48.6425M53.3814 18.7837V25.8478C53.3814 26.8426 53.5992 27.8251 54.0192 28.7247L57.1065 35.3372C57.8674 36.9669 57.0683 38.9047 55.3879 39.5045C54.1855 39.9338 53.3814 41.0833 53.3814 42.373V45.3402C53.3814 47.4234 52.4286 49.3894 50.8006 50.6655L49.8214 51.4331C48.2553 52.6607 46.1993 53.0475 44.3015 52.4717C40.9857 51.4656 37.5042 53.4323 36.6123 56.8154L34.6089 64.4141M34.6089 64.4141L45.9226 79.1266C46.832 80.3093 47.3257 81.7647 47.3257 83.263V112.494M47.3257 112.494L57.378 114.673C58.9322 115.01 60.0426 116.399 60.0426 118.007M47.3257 112.494L39.2526 111.134C36.4692 110.664 34.2802 108.472 33.7884 105.662L28.5532 75.7452M5.84452 90.4449L16.5969 122.799C17.4252 125.291 19.6115 127.069 22.1963 127.351L44.9035 129.829M44.9035 129.829L58.4183 131.304C59.2857 131.399 60.0426 130.712 60.0426 129.829M44.9035 129.829V144.344C44.9035 146.035 43.5479 147.406 41.8756 147.406M4.33061 147.406V152M4.33061 147.406H41.8756M41.8756 147.406V152M60.0426 118.007L74.9597 115.396C75.4962 115.302 76.0484 115.39 76.5296 115.648L77.5323 116.185C78.9238 116.93 78.8663 118.966 77.435 119.629C75.9577 120.314 75.9577 122.437 77.435 123.122L80.026 124.323C80.6177 124.597 81.2779 124.683 81.9188 124.569L89.2869 123.253C89.8746 123.149 90.2421 123.876 89.8139 124.296L83.029 130.688C81.8106 132.153 79.7275 132.829 77.6711 132.516L60.0426 129.829M60.0426 118.007V129.829",stroke:t==="customer"?"#36A5FF":"#9C9C9C",strokeWidth:"1"})})}),d.jsx("div",{className:"flex flex-col items-center -mr-4",children:d.jsx("svg",{width:"124",height:"154",viewBox:"0 0 124 154",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-34 h-50",children:d.jsx("path",{d:"M91.0549 25.0462L73.1047 18.9491L69.7581 17.6418M91.0549 25.0462V15.9124C91.0549 12.2404 89.4035 8.76383 86.5593 6.44828L84.0113 4.37386C82.2516 2.94119 80.1275 2.02961 77.8784 1.74191L72.8466 1.09826C69.1654 0.627362 65.4709 1.86534 62.8128 4.46045L55.1546 11.9374M91.0549 25.0462L86.187 39.6793M55.1546 11.9374L42.0162 13.7096C40.4803 13.9168 39.3342 15.2303 39.3342 16.7831C39.3342 18.0841 40.1446 19.2469 41.3636 19.6948L45.7766 21.3161C47.53 21.9603 49.4304 22.0904 51.255 21.6911L53.3292 21.2372M55.1546 11.9374L69.7581 17.6418M69.7581 17.6418L53.3292 21.2372M86.187 39.6793L84.1073 37.9861C82.3434 36.55 81.3192 34.3938 81.3192 32.1164V29.8544C81.3192 28.0625 80.2099 26.4585 78.5355 25.8293C77.2288 25.3383 75.7654 25.5149 74.6123 26.3026L74.4142 26.438C71.9808 28.1005 68.6396 27.1674 67.4151 24.4834L66.8363 23.2147C65.6954 20.7139 62.9904 19.3251 60.2983 19.8579L53.3292 21.2372M86.187 39.6793V42.3816C86.187 47.066 83.509 51.3364 79.2968 53.3686L69.7581 57.9706M53.3292 29.619L50.776 32.8169C49.6344 34.2468 50.2196 36.3768 51.9308 37.0198C52.8004 37.3466 53.4399 38.1002 53.6221 39.0127L54.6658 44.2419C54.9838 45.8349 55.789 47.2892 56.9697 48.4027C59.0405 50.3557 62.0076 51.0253 64.7141 50.1505L65.0424 50.0443M65.0424 50.0443L69.7581 48.5201M65.0424 50.0443L69.7581 57.9706M69.7581 57.9706L58.4277 73.5484C57.2767 75.1309 56.523 76.9678 56.2302 78.9039L55.2919 85.1091C55.2005 85.7137 55.1546 86.3243 55.1546 86.9358V105.833M86.187 51.5686L94.7057 60.4094M94.7057 60.4094L97.2251 68.7403C97.5719 69.8869 97.7481 71.0785 97.7481 72.2767V117.417M94.7057 60.4094L86.5047 58.9153C83.1962 58.3125 79.7862 59.1084 77.0841 61.1141L76.4306 61.5991C74.274 63.1998 72.706 65.4699 71.9705 68.0562L66.3979 87.6526C65.643 90.3072 67.1319 93.082 69.7581 93.915M94.7057 60.4094C96.5984 57.3751 99.9175 55.5317 103.489 55.5317H110.691C116.582 55.5317 121.628 59.7609 122.669 65.5717L122.809 66.3525C122.936 67.0635 123 67.7844 123 68.5068V114.611C123 116.438 122.439 118.22 121.394 119.717C119.731 122.097 117.014 123.514 114.114 123.514H98.3397M97.7481 117.417L98.3397 123.514M97.7481 117.417L84.4731 103.089M56.6758 119.856V136.318C56.6758 138.33 58.3187 139.953 60.3267 139.925M56.6758 119.856L71.2748 118.208C75.606 117.719 79.3455 114.946 81.0785 110.939L84.4731 103.089M56.6758 119.856L51.8317 119.407C49.6266 119.202 47.4077 119.604 45.4139 120.57L41.0962 122.661C39.944 123.219 38.6602 123.447 37.3868 123.319L30.7529 122.655C29.0361 122.483 28.0373 120.626 28.8379 119.094M86.187 99.126L94.7057 79.9202M86.187 99.126L69.7581 93.915M86.187 99.126L84.4731 103.089M98.3397 123.514L99.3773 134.208C99.6467 136.986 97.4902 139.401 94.7057 139.44M55.1546 105.833L53.3508 106.408C50.2244 107.405 46.8289 107.094 43.934 105.547L39.3342 103.089M55.1546 105.833L60.1247 104.684C64.3874 103.698 67.7941 100.495 69.0476 96.2957L69.7581 93.915M39.3342 103.089H32.8489C32.3189 103.089 31.8032 103.261 31.3792 103.58C29.9657 104.642 30.1054 106.809 31.6436 107.68L31.8803 107.814M39.3342 103.089V85.7124C39.3342 82.5134 36.7461 79.9202 33.5536 79.9202M18.6459 113.759H29.0173C29.7889 113.759 30.5391 113.505 31.152 113.035L32.1866 112.242C33.6989 111.083 33.5377 108.753 31.8803 107.814M18.6459 113.759L20.9268 116.299C22.9188 118.516 25.8982 119.569 28.8379 119.094M18.6459 113.759H13.1696C6.44851 113.759 1 108.3 1 101.565V86.9318C1 83.0594 4.13289 79.9202 7.99751 79.9202M28.8379 119.094L33.5536 118.332M7.99751 79.9202L8.39241 78.1395C8.92777 75.7255 10.1829 73.5317 11.9914 71.849L13.4738 70.4696M7.99751 79.9202H33.5536M7.99751 79.9202V100.65M13.4738 70.4696H13.1696C10.9852 70.4696 9.21446 68.6953 9.21446 66.5065C9.21446 64.3178 10.9852 62.5434 13.1696 62.5434H28.0773C30.2617 62.5434 32.0324 64.3178 32.0324 66.5065V66.8114C32.0324 68.8318 30.3979 70.4696 28.3815 70.4696M13.4738 70.4696H28.3815M28.3815 70.4696L30.207 74.4328L33.5536 79.9202M33.5536 79.9202V88.4561C33.5536 95.1908 28.1051 100.65 21.384 100.65H7.99751M7.99751 100.65C7.99751 104.684 11.2741 107.946 15.2991 107.92L31.8803 107.814M60.3267 139.925V154M60.3267 139.925L94.7057 139.44M94.7057 139.44V154M20.7756 83.5784V89.9804M20.7756 89.9804V96.3824M20.7756 89.9804H26.5561M20.7756 89.9804H14.3865",stroke:t==="pharmacy"?"#36A5FF":"#989898",strokeWidth:"1"})})})]})]})}function s2({to:t}){const e=Ni();return d.jsx("button",{onClick:()=>e(t||-1),className:"mb-5 w-[70px] h-[20px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600",children:"← Back"})}function eD({email:t}){return d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-800",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 max-w-md w-full text-center",children:[d.jsxs("h2",{className:"text-xl font-thin mb-2",children:["Registration",d.jsx("br",{}),"Successful!"]}),d.jsxs("p",{className:"mb-4 text-zinc-600 text-[13px]",children:["A verification link has been sent to ",d.jsx("b",{children:t}),".",d.jsx("br",{}),"Please check your inbox and verify your email to continue."]}),d.jsx(Dh,{to:"/auth/customer/signin",className:"mt-4 inline-block px-4 py-2 bg-sky-600 text-white rounded-full",children:"Go to Sign In"})]})})}const R1e=()=>d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});function tD({onClick:t,loading:e=!1,children:r,className:n=""}){return d.jsxs("button",{type:"button",onClick:t,disabled:e,className:`w-full sm:w-[359px] h-[47px] rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-3 font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light text-gray-700 dark:text-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${n}`,children:[e?d.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):d.jsx(R1e,{}),d.jsx("span",{children:r})]})}const rD=()=>{if(typeof window>"u"||new URLSearchParams(window.location.search).get("debugGoogleAuth")!=="1")return;console.group("🔍 Google Auth Configuration Diagnostic"),console.log("Firebase Config:"),console.log("- API Key:","✅ Present"),console.log("- Auth Domain:","✅ Present"),console.log("- Project ID:","✅ Present"),console.log("Environment:","🚀 Production"),console.log("Host:",window.location.hostname),console.log("Protocol:",window.location.protocol),console.log("User Agent:",navigator.userAgent.includes("Chrome")?"✅ Chrome":navigator.userAgent.includes("Safari")?"⚠️ Safari (may have popup restrictions)":navigator.userAgent.includes("Firefox")?"⚠️ Firefox (may have popup restrictions)":"❓ Other"),console.groupEnd();const e=document.createElement("div");e.style.cssText=`
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(0,0,0,0.9);
    color: white;
    padding: 10px;
    border-radius: 5px;
    font-size: 12px;
    z-index: 9999;
    max-width: 300px;
  `,e.innerHTML=`
    <strong>🔍 Google Auth Debug</strong><br>
    API Key: ✅<br>
    Auth Domain: ✅<br>
    Project ID: ✅<br>
    Host: ${window.location.hostname}<br>
    <small>Add ?debugGoogleAuth=1 to see console logs</small>
  `,document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},1e4)};function F1e(){const{signUp:t,signUpWithGoogle:e}=Pn(),{userCoords:r,location:n,locationError:i}=pp(),[a,s]=B.useState({name:"",email:"",phone:"",password:"",address:""}),[o,l]=B.useState(!1),[c,f]=B.useState(!1),[p,g]=B.useState(null),[m,y]=B.useState([]),[w,k]=B.useState(null),N=B.useRef(),[L,P]=B.useState(!1),V=Ni();B.useEffect(()=>{rD()},[]);const Y=async j=>{if(!j)return y([]);const F=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(j)}&addressdetails=1&limit=5`)).json();y(F)},Q=j=>{const A=j.target.value;s({...a,address:A}),k(null),clearTimeout(N.current),N.current=setTimeout(()=>Y(A),400)},R=j=>{s({...a,address:j.display_name}),k(j),y([])},T=async j=>{j.preventDefault(),l(!0);try{if(!a.address)throw new Error("Address is required");const A=await t({email:a.email,password:a.password,displayName:a.name,role:"customer",address:a.address,lat:w?.lat,lon:w?.lon});g(a.email)}catch(A){alert(A.message)}finally{l(!1)}},S=async()=>{f(!0);try{console.log("Starting Google registration process..."),console.log("User location:",{location:n,userCoords:r});const j={address:n,latitude:r?.latitude,longitude:r?.longitude},A=await e(j);console.log("Google registration result:",A),A.isNewUser?(console.log("New user created, showing success screen"),g(A.user.email)):A.existingCustomer?(console.log("Existing customer, navigating to home"),V("/")):(console.log("Existing user, navigating to home"),V("/"))}catch(j){console.error("Google registration failed:",j),j.message&&!j.message.includes("Firebase:")?alert(j.message):alert("Google registration failed. Please try again or contact support if the issue persists.")}finally{f(!1)}};return p?d.jsx(eD,{email:p}):d.jsxs(Sp,{children:[d.jsx(s2,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),d.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left",children:["I'm a",d.jsx("br",{}),"Customer"]}),d.jsxs("form",{onSubmit:T,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[d.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Full Name",value:a.name,onChange:j=>s({...a,name:j.target.value})}),d.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:a.email,onChange:j=>s({...a,email:j.target.value})}),d.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Phone Number",value:a.phone,onChange:j=>s({...a,phone:j.target.value})}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Address (required)",value:a.address||"",onChange:Q,required:!0,autoComplete:"off"}),m.length>0&&d.jsx("div",{className:"absolute left-0 right-0 bg-white dark:bg-gray-800 border border-zinc-200 rounded shadow z-10 max-h-40 overflow-y-auto",children:m.map(j=>d.jsx("div",{className:"px-4 py-2 hover:bg-sky-50 cursor-pointer text-[13px]",onClick:()=>R(j),children:j.display_name},j.place_id))})]}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:L?"text":"password",className:"w-full mb-0 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Choose a password",value:a.password,onChange:j=>s({...a,password:j.target.value})}),d.jsx("button",{type:"button",onClick:()=>P(j=>!j),"aria-pressed":L,"aria-label":L?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:L?d.jsx(Iy,{className:"h-5 w-5"}):d.jsx(Hg,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"flex justify-center w-full",children:d.jsx("button",{disabled:o,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:o?"Registering…":"Register"})})]}),d.jsxs("div",{className:"mt-6 flex items-center justify-center",children:[d.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"}),d.jsx("span",{className:"px-4 text-gray-500 dark:text-gray-400 text-sm",children:"or"}),d.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"})]}),d.jsx("div",{className:"mt-6 flex justify-center",children:d.jsx(tD,{onClick:S,loading:c,children:"Register with Google"})}),!i&&r&&d.jsx("div",{className:"mt-3 text-center text-xs text-gray-500 dark:text-gray-400",children:"Google registration will use your current location as address"}),i&&d.jsx("div",{className:"mt-3 text-center text-xs text-red-500 dark:text-red-400",children:"Location access required for Google registration"}),d.jsxs("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Already have an account? ",d.jsx(Dh,{to:"/auth/customer/signin",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Sign In"})]})]})}const PC=t=>{const e=t.code||t.message;return e.includes("auth/invalid-credential")||e.includes("auth/wrong-password")||e.includes("auth/user-not-found")?"Invalid email or password. Please check your credentials and try again.":e.includes("auth/invalid-email")?"Please enter a valid email address.":e.includes("auth/too-many-requests")?"Too many failed attempts. Please try again later.":e.includes("auth/network-request-failed")?"Network error. Please check your connection and try again.":e.includes("auth/popup-closed-by-user")?"Google sign-in was cancelled. Please try again.":e.includes("auth/popup-blocked")?"Pop-up was blocked by your browser. Please allow pop-ups and try again.":e.includes("auth/account-exists-with-different-credential")?"An account with this email exists with a different sign-in method. Please use your email and password instead.":!e.includes("auth/")&&!e.includes("Firebase:")?t.message:"Sign in failed. Please try again."};function L1e(){const{signIn:t,signInWithGoogle:e}=Pn(),[r,n]=B.useState({email:"",password:""}),[i,a]=B.useState(!1),[s,o]=B.useState(!1),[l,c]=B.useState(null),[f,p]=B.useState(!1),g=Ni();B.useEffect(()=>{rD()},[]);const m=async w=>{w.preventDefault(),a(!0),c(null);try{await t(r.email,r.password),g("/")}catch(k){c(PC(k))}finally{a(!1)}},y=async()=>{o(!0),c(null);try{console.log("Starting Google sign-in process...");const w=await e();console.log("Google sign-in successful, navigating to home"),g("/")}catch(w){console.error("Google sign-in failed:",w),w.message&&!w.message.includes("Firebase:")?c(w.message):c(PC(w))}finally{o(!1)}};return d.jsxs(Sp,{children:[d.jsx(s2,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),d.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left text-black dark:text-white",children:["I'm a",d.jsx("br",{}),"Customer"]}),l&&d.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[d.jsx(x6,{className:"h-4 w-4 text-red-500 dark:text-red-400 flex-shrink-0"}),d.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:l}),d.jsx("button",{onClick:()=>c(null),className:"ml-auto text-red-400 dark:text-red-500 hover:text-red-600 dark:hover:text-red-300","aria-label":"Dismiss error",children:"×"})]}),d.jsxs("form",{onSubmit:m,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[d.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:r.email,onChange:w=>n({...r,email:w.target.value})}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:f?"text":"password",className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Password",value:r.password,onChange:w=>n({...r,password:w.target.value}),"aria-label":"Password"}),d.jsx("button",{type:"button",onClick:()=>p(w=>!w),"aria-pressed":f,"aria-label":f?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200",children:f?d.jsx(Iy,{className:"h-5 w-5"}):d.jsx(Hg,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"flex justify-center w-full",children:d.jsx("button",{disabled:i,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] dark:border-sky-400 text-[#36A5FF] dark:text-sky-400 bg-white dark:bg-gray-800 mt-4 flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in…":"Sign In"})})]}),d.jsxs("div",{className:"mt-6 flex items-center justify-center",children:[d.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"}),d.jsx("span",{className:"px-4 text-gray-500 dark:text-gray-400 text-sm",children:"or"}),d.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"})]}),d.jsx("div",{className:"mt-6 flex justify-center",children:d.jsx(tD,{onClick:y,loading:s,children:"Sign in with Google"})}),d.jsx("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:d.jsx(Dh,{to:"/auth/forgot-password",className:"text-sky-600 dark:text-sky-400 font-medium hover:text-sky-700 dark:hover:text-sky-300",children:"Forgot password?"})}),d.jsxs("div",{className:"mt-2 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Don't have an account? ",d.jsx(Dh,{to:"/auth/customer/register",className:"text-sky-600 dark:text-sky-400 font-medium hover:text-sky-700 dark:hover:text-sky-300",children:"Register"})]})]})}function j1e(){const{signUp:t}=Pn(),[e,r]=B.useState({name:"",email:"",phone:"",address:"",password:""}),[n,i]=B.useState(!1),[a,s]=B.useState([]),[o,l]=B.useState(null),[c,f]=B.useState(null),p=B.useRef(),[g,m]=B.useState(!1);Ni();const y=async N=>{if(!N)return s([]);const P=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(N)}&addressdetails=1&limit=5`)).json();s(P)},w=N=>{const L=N.target.value;r({...e,address:L}),l(null),clearTimeout(p.current),p.current=setTimeout(()=>y(L),400)},k=async N=>{N.preventDefault(),i(!0);try{await t({email:e.email,password:e.password,displayName:e.name,role:"pharmacy"});const L=Qd.currentUser?.uid;L&&await kc(or(gt,"pharmacies",L),{id:L,name:e.name,email:e.email,address:e.address,lat:o?.lat||null,lon:o?.lon||null,etaMins:25,phone:e.phone}),f(e.email)}catch(L){alert(L.message)}finally{i(!1)}};return c?d.jsx(eD,{email:c}):d.jsxs(Sp,{children:[d.jsx(s2,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),d.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left",children:["I'm a",d.jsx("br",{}),"Pharmacy"]}),d.jsxs("form",{onSubmit:k,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[d.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Pharmacy Name",value:e.name,onChange:N=>r({...e,name:N.target.value})}),d.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:e.email,onChange:N=>r({...e,email:N.target.value})}),d.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Phone Number",value:e.phone,onChange:N=>r({...e,phone:N.target.value})}),d.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Address",value:e.address,onChange:w}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:g?"text":"password",className:"w-full mb-0 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Choose a password",value:e.password,onChange:N=>r({...e,password:N.target.value})}),d.jsx("button",{type:"button",onClick:()=>m(N=>!N),"aria-pressed":g,"aria-label":g?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:g?d.jsx(Iy,{className:"h-5 w-5"}):d.jsx(Hg,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"flex justify-center w-full",children:d.jsx("button",{disabled:n,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:n?"Registering…":"Register"})})]}),d.jsxs("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Already have an account? ",d.jsx(Dh,{to:"/auth/pharmacy/signin",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Sign In"})]})]})}const D1e=t=>{const e=t.code||t.message;return e.includes("auth/invalid-credential")||e.includes("auth/wrong-password")||e.includes("auth/user-not-found")?"Invalid email or password. Please check your credentials and try again.":e.includes("auth/invalid-email")?"Please enter a valid email address.":e.includes("auth/too-many-requests")?"Too many failed attempts. Please try again later.":e.includes("auth/network-request-failed")?"Network error. Please check your connection and try again.":"Sign in failed. Please try again."};function O1e(){const{signIn:t}=Pn(),[e,r]=B.useState({email:"",password:""}),[n,i]=B.useState(!1),[a,s]=B.useState(null),[o,l]=B.useState(!1),c=Ni(),f=async p=>{p.preventDefault(),i(!0),s(null);try{await t(e.email,e.password),c("/")}catch(g){s(D1e(g))}finally{i(!1)}};return d.jsxs(Sp,{children:[d.jsx(s2,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),d.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left text-black dark:text-white",children:["I'm a",d.jsx("br",{}),"Pharmacy"]}),a&&d.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[d.jsx(x6,{className:"h-4 w-4 text-red-500 dark:text-red-400 flex-shrink-0"}),d.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:a}),d.jsx("button",{onClick:()=>s(null),className:"ml-auto text-red-400 dark:text-red-500 hover:text-red-600 dark:hover:text-red-300","aria-label":"Dismiss error",children:"×"})]}),d.jsxs("form",{onSubmit:f,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[d.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:e.email,onChange:p=>r({...e,email:p.target.value})}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:o?"text":"password",className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Password",value:e.password,onChange:p=>r({...e,password:p.target.value}),"aria-label":"Password"}),d.jsx("button",{type:"button",onClick:()=>l(p=>!p),"aria-pressed":o,"aria-label":o?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:o?d.jsx(Iy,{className:"h-5 w-5"}):d.jsx(Hg,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"flex justify-center w-full",children:d.jsx("button",{disabled:n,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:n?"Signing in…":"Sign In"})})]}),d.jsx("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:d.jsx(Dh,{to:"/auth/forgot-password",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Forgot password?"})}),d.jsxs("div",{className:"mt-2 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Don’t have an account? ",d.jsx(Dh,{to:"/auth/pharmacy/register",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Register"})]})]})}function M1e(){const{user:t,logout:e}=Pn(),[r,n]=B.useState(!1),[i,a]=B.useState(!1),s=Ni();if(B.useEffect(()=>{t&&t.emailVerified},[t]),!t||t.emailVerified)return null;const o=async()=>{a(!0),await mP(t),n(!0),a(!1)},l=async()=>{try{await e()}catch{}window.history&&window.history.length>1?s(-1):s("/auth/landing")};return d.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:d.jsxs("div",{className:"bg-white p-8 max-w-md w-full text-center",children:[d.jsx("h2",{className:"text-xl font-light mb-2",children:"Verify your email"}),d.jsxs("p",{className:"mb-4 text-zinc-600 text-[14px] font-thin",children:["A verification link has been sent to ",d.jsx("b",{children:t.email}),".",d.jsx("br",{}),"Please check your inbox and click the link to activate your account."]}),d.jsx("button",{className:"px-4 py-2 bg-sky-600 text-white rounded-full text-[12px] font-light disabled:opacity-50",onClick:o,disabled:i||r,children:r?"Verification Sent!":i?"Sending...":"Resend Email"}),d.jsx("button",{className:"block mt-4 mx-auto text-sm text-zinc-500 underline",onClick:l,children:"Back"})]})})}function B1e(){const[t,e]=B.useState(""),[r,n]=B.useState(!1),[i,a]=B.useState(""),[s,o]=B.useState(!1),l=async c=>{c.preventDefault(),o(!0),a("");try{await mK(t),n(!0)}catch(f){a(f.message||"Failed to send reset email.")}o(!1)};return d.jsxs(Sp,{children:[d.jsx(s2,{to:"/auth/landing"}),d.jsxs("div",{className:"w-full max-w-md text-center bg-white dark:bg-gray-800 rounded-2xl  p-8",children:[d.jsx("img",{src:"/ForgotPasswordIllustration.png",alt:"Forgot Password",className:"mx-auto mb-4 w-28 h-28 object-contain"}),d.jsx("h2",{className:"text-xl font-light mb-4",children:"Forgot Password?"}),r?d.jsx("p",{className:"text-green-600 font-thin text-[14px]",children:"A password reset link has been sent to your email."}):d.jsxs("form",{onSubmit:l,className:"space-y-4 text-left",children:[d.jsx("input",{type:"email",className:"w-full border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-[12px] mt-2 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-200 focus:border-sky-400 dark:border-gray-600",placeholder:"Enter your email",value:t,onChange:c=>e(c.target.value),required:!0}),i&&d.jsx("div",{className:"text-red-500 text-sm",children:i}),d.jsxs("button",{type:"submit",disabled:s,className:"w-full rounded-full bg-sky-600 text-white text-[13px] font-light py-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s&&d.jsx("span",{className:"inline-block h-4 w-4 border-2 border-white/70 border-t-transparent rounded-full animate-spin"}),s?"Sending…":"Send Reset Link"]})]})]})]})}function V1e(){const{id:t}=ey(),{userCoords:e}=pp(),{t:r}=Na(),[n,i]=B.useState(null),[a,s]=B.useState([]),[o,l]=B.useState(!1),[c,f]=B.useState(null),[p,g]=B.useState(!1),[m,y]=B.useState(""),[w,k]=B.useState(!1),[N,L]=B.useState([]),[P,V]=B.useState([]),[Y,Q]=B.useState(!1),[R,T]=B.useState(-1),[S,j]=B.useState(!1);B.useEffect(()=>{if(typeof window>"u")return;const fe=window.matchMedia("(orientation: portrait)"),X=I=>j(I.matches);return j(fe.matches),fe.addEventListener?fe.addEventListener("change",X):fe.addListener(X),()=>{fe.removeEventListener?fe.removeEventListener("change",X):fe.removeListener(X)}},[]);const A=S,F=Ni(),{user:M,profile:re}=Pn();B.useEffect(()=>{async function fe(){const X=await aa(or(gt,"pharmacies",t));i(X.data())}return fe(),Ty(s,t)},[t]),B.useEffect(()=>{async function fe(){if(M?.uid&&t){const X=await hP(M.uid,t);g(X)}}fe()},[M?.uid,t]);const pe=async()=>{if(!(!M?.uid||!n))try{p?(await fP(M.uid,t),g(!1)):(await dP(M.uid,t,{name:n.name,address:n.address,phone:n.phone,email:n.email}),g(!0))}catch(fe){console.error("Error toggling bookmark:",fe)}};B.useEffect(()=>{if(n&&e){const fe=v6(n,e,"driving");f(fe)}else f(null)},[n,e]),B.useEffect(()=>{if(!m.trim())L(a),V([]),Q(!1),T(-1);else{const fe=a.filter(I=>I.name?.toLowerCase().includes(m.toLowerCase())||I.category?.toLowerCase().includes(m.toLowerCase())||I.sku?.toLowerCase().includes(m.toLowerCase()));L(fe);const X=fe.slice(0,5);V(X),Q(X.length>0&&m.length>0),T(-1)}},[a,m]);const _e=async()=>{if(!M||!M.uid){F("/auth/landing");return}if(re?.role!=="customer"){alert(r("customers_only_chat","Only customers can start a chat with a pharmacy."));return}try{await g6({vendorId:t,customerId:M.uid,role:"customer"}),F(`/chat/${t}`)}catch(fe){console.error(fe),alert(r("could_not_start_chat","Could not start chat thread."))}},xe=fe=>{if(!(!Y||P.length===0))switch(fe.key){case"ArrowDown":fe.preventDefault(),T(X=>X<P.length-1?X+1:0);break;case"ArrowUp":fe.preventDefault(),T(X=>X>0?X-1:P.length-1);break;case"Enter":if(fe.preventDefault(),R>=0&&R<P.length){const X=P[R];F(`/product/${X.id}`),k(!1),y(""),Q(!1),T(-1)}break;case"Escape":Q(!1),T(-1);break}},oe=(fe,X)=>{if(!X||!fe)return fe;const I=new RegExp(`(${X.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return fe.split(I).map((W,J)=>I.test(W)?d.jsx("span",{className:"bg-yellow-200 font-semibold",children:W},J):W)},G=()=>d.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:d.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[d.jsxs("button",{onClick:()=>F(-1),className:"w-[72px] h-[25px] font-poppins font-extralight tracking-tight text-[14px] flex items-center justify-center rounded-full bg-white border border-zinc-300 dark:border-gray-600 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[d.jsx(uu,{className:"h-3 w-3 mr-0"})," ",r("back","Back")]}),d.jsx("div",{className:"text-[18px] font-light font-poppins leading-none",children:r("vendor_profile","Vendor Profile")}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:pe,className:`p-2 rounded-full border border-zinc-200 bg-white hover:scale-110 active:scale-95 transition-all duration-200 ${p?"bg-sky-100 border-sky-300 dark:border-gray-600":"hover:bg-sky-50"}`,"aria-label":p?"Remove from bookmarks":"Add to bookmarks",children:d.jsx(o9,{className:`w-5 h-5 ${p?"text-sky-600 fill-sky-600":"text-sky-600"}`})}),d.jsx("button",{onClick:()=>k(!0),className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":r("search_products","Search products"),children:d.jsx(ad,{className:"w-5 h-5 text-sky-600"})})]})]})});return d.jsxs(d.Fragment,{children:[la.createPortal(d.jsx(G,{}),document.body),d.jsxs("div",{className:"min-h-screen bg-white/80 dark:bg-gray-900/80 backdrop-blur-md w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 pt-24 md:pt-8 pb-28",children:[d.jsxs("div",{className:"sticky top-0 z-20 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md pb-2 pt-4 -mx-4 sm:-mx-5 md:-mx-8 lg:-mx-12 xl:-mx-0 px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 items-center gap-3 animate-slide-down-fade hidden md:flex",children:[d.jsxs("button",{onClick:()=>F(-1),className:"w-[72px] h-[25px] font-poppins font-extralight tracking-tight text-[14px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white mr-1 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[d.jsx(uu,{className:"h-3 w-3 mr-0"})," ",r("back","Back")]}),d.jsx("div",{className:"-ml-1 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none animate-text-reveal text-gray-900 dark:text-white",children:r("vendor_profile","Vendor Profile")}),d.jsx("div",{className:"ml-auto flex items-center gap-2",children:d.jsx("button",{onClick:pe,className:`p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:scale-110 active:scale-95 transition-all duration-200 ${p?"bg-sky-100 dark:bg-sky-900 border-sky-300 dark:border-gray-600 dark:border-sky-600 dark:border-gray-600":"hover:bg-sky-50 dark:hover:bg-sky-900/20"}`,"aria-label":p?"Remove from bookmarks":"Add to bookmarks",children:d.jsx(o9,{className:`w-5 h-5 ${p?"text-sky-600 fill-sky-600":"text-sky-600"}`})})})]}),d.jsx("div",{className:"w-full mx-auto mt-6",children:d.jsxs("div",{className:`flex flex-col ${A?"":"md:grid md:grid-cols-3"} gap-6`,children:[d.jsxs("div",{className:`order-2 ${A?"":"md:order-2 md:col-span-2"} animate-fade-in-up`,children:[d.jsxs("div",{className:`border border-zinc-200 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800 shadow-sm p-4 mb-4 flex items-center justify-between ${A?"":"md:sticky md:top-20 md:bg-white/90 md:dark:bg-gray-800/90 md:backdrop-blur-sm md:z-20"} animate-slide-down-fade`,children:[d.jsxs("div",{children:[d.jsxs("div",{className:"text-[18px] font-poppins font-medium text-gray-900 dark:text-white",children:[r("products_by","Products by"),d.jsx("br",{}),n?.name||r("vendor","Vendor")]}),d.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light",children:[m?N.length:a.length," ",m&&N.length!==a.length?`${r("of","of")} ${a.length}`:""," ",r("items","items")]})]}),d.jsxs("div",{children:[N.length>3&&!o&&d.jsx("button",{className:"text-sky-600 dark:text-sky-400 text-[12px] font-poppins font-light px-3 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>l(!0),children:r("see_more","See more")}),N.length>3&&o&&d.jsx("button",{className:"text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-3 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>l(!1),children:r("see_less","See less")})]})]}),d.jsx("div",{className:`${A?"":"md:max-h-[calc(100vh-12rem)] md:overflow-y-auto md:pr-4"}`,children:d.jsxs("div",{className:"space-y-3 px-0",children:[(o?N:N.slice(0,3)).map((fe,X)=>d.jsxs("div",{className:"rounded-2xl border border-zinc-200 dark:border-gray-600 p-3 flex items-center gap-3 bg-white dark:bg-gray-800 shadow-sm cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 overflow-hidden card-interactive animate-fadeInUp hover:scale-102 hover:shadow-lg",style:{animationDelay:`${X*.1}s`},onClick:()=>F(`/product/${fe.id}`),children:[d.jsx("div",{className:"flex-shrink-0 animate-bounce-gentle",children:d.jsx(Gl,{name:fe.name,image:fe.image,category:fe.category,size:30})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:"font-poppins font-medium text-[15px] tracking-tight mb-1 truncate text-gray-900 dark:text-white",title:fe.name,children:fe.name}),d.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[12px] font-poppins font-light truncate",title:`${fe.category} • ${r("stock","Stock")}: ${fe.stock} • ${r("sku","SKU")}: ${fe.sku}`,children:[fe.category," • ",r("stock","Stock"),": ",fe.stock," • ",r("sku","SKU"),": ",fe.sku]})]}),d.jsxs("div",{className:"text-[15px] font-poppins font-medium text-sky-600 ml-3 flex-shrink-0 animate-pulse-slow",children:["₦",Number(fe.price).toLocaleString()]})]},fe.id)),N.length===0&&d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light animate-fade-in",children:m?r("no_products_found_search","No products found matching your search."):r("no_products_yet","No products yet.")})]})})]}),d.jsxs("aside",{className:`order-1 ${A?"":"md:order-1 md:col-span-1 md:self-start md:sticky md:top-20"} animate-fade-in-left`,children:[d.jsxs("div",{className:"border border-zinc-200 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800 shadow-sm p-5 mb-4 w-full flex flex-col items-start card-interactive hover:shadow-lg transition-all duration-300",children:[d.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-100 dark:bg-gray-700 flex items-center justify-center mb-2 animate-bounce-gentle hover:scale-110 transition-transform duration-200",children:d.jsx("span",{className:"text-[32px] font-poppins font-light text-sky-600 dark:text-sky-400",children:n?.name?.charAt(0)||"V"})}),d.jsx("div",{className:"text-[22px] font-poppins font-medium tracking-tight text-sky-600 dark:text-sky-400 mb-1 animate-text-reveal",children:n?.name||"Vendor"}),d.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.1s"},children:n?.email||""}),d.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.2s"},children:[d.jsx($l,{className:"h-3 w-3"})," ",n?.address||""]}),d.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.3s"},children:[d.jsx(Cv,{className:"h-3 w-3"}),c?r("eta_to_pharmacy","{time} to {pharmacy}").replace("{time}",c.formatted).replace("{pharmacy}",n?.name||r("vendor","vendor")):e?r("calculating_eta","Calculating ETA..."):r("fetching_location","Fetching location...")]}),d.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.4s"},children:[d.jsx(K1,{className:"h-3 w-3"})," ",n?.phone||""]})]}),d.jsx("div",{className:"w-full mb-4 animate-fade-in-up",style:{animationDelay:"0.5s"},children:d.jsxs("button",{onClick:_e,className:"w-full rounded-full bg-sky-600 text-white h-[37px] text-[12px] font-poppins font-light flex items-center justify-center gap-2 btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:[d.jsx(kh,{className:"h-4 w-4"})," ",r("message_vendor","Message Vendor")]})})]})]})}),w&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[200]",children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-poppins font-medium text-gray-900 dark:text-white",children:r("search_products","Search Products")}),d.jsx("button",{onClick:()=>{k(!1),y(""),Q(!1)},className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:"×"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:r("search_by_name_category_sku","Search by name, category, or SKU..."),value:m,onChange:fe=>y(fe.target.value),onKeyDown:xe,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent font-poppins",autoFocus:!0}),Y&&P.length>0&&d.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 dark:border-gray-600 rounded-xl shadow-lg max-h-60 overflow-y-auto z-10",children:P.map((fe,X)=>d.jsx("button",{onClick:()=>{F(`/product/${fe.id}`),k(!1),y(""),Q(!1),T(-1)},onMouseEnter:()=>T(X),className:`w-full px-4 py-3 text-left transition-colors border-b border-gray-100 last:border-b-0 first:rounded-t-xl last:rounded-b-xl ${X===R?"bg-sky-50 border-sky-100":"hover:bg-gray-50"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx(Gl,{name:fe.name,image:fe.image,category:fe.category,size:24})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("div",{className:`font-poppins font-medium text-sm truncate ${X===R?"text-sky-700":"text-gray-900"}`,children:oe(fe.name,m)}),d.jsxs("div",{className:`text-xs truncate ${X===R?"text-sky-600":"text-gray-500"}`,children:[oe(fe.category,m)," • ₦",Number(fe.price||0).toLocaleString()]})]})]})},fe.id))})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsxs("button",{onClick:()=>{k(!1),Q(!1)},className:"flex-1 px-4 py-2 bg-sky-600 text-white rounded-xl hover:bg-sky-700 transition-colors font-poppins font-medium",children:[r("view_results","View Results")," (",N.length,")"]}),d.jsx("button",{onClick:()=>{y(""),k(!1),Q(!1)},className:"px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl hover:bg-gray-50 transition-colors font-poppins",children:r("clear","Clear")})]})]})})]})]})}function U1e(){const{id:t}=ey(),[e,r]=B.useState(null),[n,i]=B.useState(null),[a,s]=B.useState([]),[o,l]=B.useState(!0);if(B.useEffect(()=>{async function f(){l(!0);try{const p=or(gt,"products",t),g=await aa(p);if(g.exists()){const m=g.data();if(r({id:t,...m}),m.pharmacyId){const N=or(gt,"pharmacies",m.pharmacyId),L=await aa(N);L.exists()&&i({id:m.pharmacyId,...L.data()})}const y=ur(gt,"products",t,"reviews"),w=Nr(y,es("createdAt","desc")),k=await jn(w);s(k.docs.map(N=>({id:N.id,...N.data()})))}}catch{}l(!1)}f()},[t]),o)return d.jsx("div",{className:"min-h-screen flex items-center justify-center text-zinc-400 font-poppins",children:"Loading…"});if(!e)return d.jsx("div",{className:"min-h-screen flex items-center justify-center text-zinc-400 font-poppins",children:"Product not found."});const c=Number(e.price||0);return d.jsx("div",{className:"min-h-screen bg-white",children:d.jsxs("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0 pt-8 pb-36",children:[d.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[d.jsx(uu,{className:"h-5 w-5 text-zinc-500 cursor-pointer",onClick:()=>window.history.back()}),d.jsx("span",{className:"font-poppins text-[18px] font-medium",children:"Product Preview"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[d.jsxs("div",{className:"rounded-2xl p-4 border flex flex-col items-center justify-center w-full card-interactive",children:[e.image?d.jsx("img",{src:e.image,alt:e.name,className:"max-h-[360px] w-full object-contain"}):d.jsx("div",{className:"h-[200px] w-full flex items-center justify-center bg-zinc-100 rounded-md text-3xl font-semibold text-zinc-800",children:d.jsx(Gl,{name:e.name,image:e.image,category:e.category,size:80,roundedClass:"rounded-md"})}),d.jsx("div",{className:"w-full mt-4 flex flex-col gap-3",children:d.jsx("div",{className:"w-full h-10 rounded-full bg-sky-100 text-sky-700 text-[14px] font-poppins font-light shadow-sm flex items-center justify-center",children:"Preview Only"})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[d.jsx("h1",{className:"text-[20px] lg:text-[22px] font-poppins font-medium tracking-tight leading-tight min-w-0",children:e.name}),d.jsxs("div",{className:"text-[20px] text-sky-600 font-poppins font-semibold",children:["₦",c.toLocaleString()]})]}),d.jsx("div",{className:"mb-2",children:n?d.jsx("span",{className:"text-sky-600 underline font-poppins text-[15px] font-light",children:n.name}):d.jsx("span",{className:"text-zinc-400 font-poppins text-[15px] font-light",children:"Pharmacy info unavailable"})}),d.jsxs("div",{className:"mb-1 flex items-center gap-2 text-zinc-600 text-[13px] font-poppins font-light",children:[d.jsx($l,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{children:n?.address||"Address unavailable"})]}),d.jsxs("div",{className:"mt-2",children:[d.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800",children:"Product Description"}),d.jsx("p",{className:"mt-2 text-zinc-600 leading-6 font-poppins text-[14px] font-light",children:e.description})]}),d.jsxs("div",{className:"mt-8",children:[d.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 mb-2",children:"Customer Reviews"}),d.jsx("div",{className:"space-y-4 mb-6",children:a.length===0?d.jsx("div",{className:"p-4 text-center text-zinc-400",children:"No reviews yet."}):a.map((f,p)=>d.jsxs("div",{className:"p-4 rounded-xl border border-sky-100",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"font-poppins font-semibold text-[14px] text-zinc-700",children:f.name}),d.jsxs("span",{className:"flex gap-0.5 text-amber-400 text-[13px]",children:["★".repeat(f.rating),"☆".repeat(5-f.rating)]})]}),d.jsx("div",{className:"text-zinc-600 text-[13px] font-poppins font-light",children:f.comment})]},f.id||p))})]})]})]})]})})}function z1e(){const t=Yl(),e=Ni(),{user:r,profile:n}=Pn(),{getSetting:i}=Wg(),[a,s]=B.useState(t.pathname),[o,l]=B.useState(0),[c,f]=B.useState(0),[p,g]=B.useState(0),{newOrder:m,showNotification:y,clearNotification:w}=N1e();B.useEffect(()=>s(t.pathname),[t.pathname]),B.useEffect(()=>{if(!r||n&&n.role==="pharmacy")return l(0);const R=Nr(ur(gt,"users",r.uid,"cart"));return ri(R,S=>l(S.size))},[r,n]),B.useEffect(()=>{if(!r||!n||n.role!=="pharmacy")return g(0);const R=n.uid||r.uid,T=Nr(ur(gt,"orders"),$r("pharmacyId","==",R));return ri(T,j=>{const A=j.docs.filter(F=>{const re=F.data().status?.toLowerCase()||"pending";return!["processing","shipped","fulfilled","cancelled"].includes(re)});g(A.length)})},[r,n]),B.useEffect(()=>{if(!r||!n?.role)return f(0);const R=Ay({uid:r.uid,role:n.role},T=>{try{const S=T.reduce((j,A)=>{const F=A?.unread?.[r.uid];return j+(typeof F=="number"?F:0)},0);f(S),console.debug("[AppLayout] unread total from listenUserThreads",{sum:S,count:T.length})}catch(S){console.error("[AppLayout] error computing unread from threads",S)}},T=>console.error("[AppLayout] listenUserThreads error",T));return()=>R&&R()},[r,n?.role]);const N=!!new URLSearchParams(t.search).get("chat"),L=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugBottomNav")==="1";B.useEffect(()=>{L&&console.debug("[AppLayout] render",{chatModalOpen:N,unreadMessages:c,tab:a,cartCount:o})},[L,N,c,a,o]);const P=R=>{e("/orders")},V=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,Y=i(Ar.SWIPE_NAVIGATION),Q=V&&Y;return d.jsxs("div",{className:`min-h-screen bg-white w-full flex flex-col items-center px-2 md:px-8 lg:px-16 xl:px-32 ${N?"":"pb-24"}`,children:[d.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto flex-1 flex flex-col",children:Q?d.jsx(que,{}):d.jsx(Hw,{})}),!N&&d.jsx(d.Fragment,{children:d.jsx(Jue,{tab:a,setTab:R=>e(R),cartCount:o,unreadMessages:c,ordersCount:p})}),L&&d.jsxs("div",{className:"fixed bottom-24 right-4 z-60 bg-black/80 text-white text-xs px-3 py-1 rounded",children:["AppDebug: chatModalOpen=",String(N)," unread=",String(c)]}),d.jsx(C1e,{order:m,isOpen:y,onClose:w,onViewOrder:P})]})}function h3(){return d.jsx("div",{className:"min-h-screen bg-white w-full flex flex-col items-center px-2 md:px-8 lg:px-16 xl:px-32",children:d.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto flex-1 flex flex-col",children:d.jsx(Hw,{})})})}function $1e(){const{id:t}=ey(),[e,r]=B.useState(null),[n,i]=B.useState(null);return B.useEffect(()=>{async function a(){const o=(await aa(or(gt,"products",t))).data();if(r(o?{id:t,...o}:null),o?.pharmacyId){const l=await aa(or(gt,"pharmacies",o.pharmacyId));i(l.data())}}a()},[t]),e?d.jsx(Zue,{product:e,pharmacy:n}):null}function q1e(){const{profile:t}=Pn();return t?t.role==="pharmacy"?d.jsx(XL,{onSwitchToCustomer:()=>{}}):d.jsx(IP,{onSwitchToPharmacy:()=>{}}):null}function H1e(){const{user:t,profile:e}=Pn(),r=Yl(),n=new URLSearchParams(r.search);return n.get("scrollTo")&&parseInt(n.get("scrollTo"),10),t&&e===void 0?d.jsx(LoadingSkeleton,{lines:4,className:"my-8"}):t&&!t.emailVerified?d.jsxs(z8,{children:[d.jsx(Wn,{path:"/verify-email",element:d.jsx(M1e,{})}),d.jsx(Wn,{path:"*",element:d.jsx(Zp,{to:"/verify-email",replace:!0})})]}):e&&e.role==="superuser"&&r.pathname==="/"?d.jsx(Zp,{to:"/superuser",replace:!0}):d.jsxs(z8,{children:[d.jsxs(Wn,{element:d.jsx(h3,{}),children:[d.jsx(Wn,{path:"/auth/landing",element:d.jsx(P1e,{})}),d.jsx(Wn,{path:"/auth/customer/register",element:d.jsx(F1e,{})}),d.jsx(Wn,{path:"/auth/customer/signin",element:d.jsx(L1e,{})}),d.jsx(Wn,{path:"/auth/pharmacy/register",element:d.jsx(j1e,{})}),d.jsx(Wn,{path:"/auth/pharmacy/signin",element:d.jsx(O1e,{})}),d.jsx(Wn,{path:"/auth/forgot-password",element:d.jsx(B1e,{})}),d.jsx(Wn,{path:"/auth",element:d.jsx(Zp,{to:"/auth/landing",replace:!0})}),d.jsx(Wn,{path:"/chat/:vendorId",element:d.jsx(Vu,{children:d.jsx(TC,{})})}),d.jsx(Wn,{path:"/thread/:threadId",element:d.jsx(Vu,{children:d.jsx(TC,{})})})]}),d.jsx(Wn,{element:d.jsx(h3,{}),children:d.jsx(Wn,{path:"/superuser",element:d.jsx(Vu,{children:d.jsx(A1e,{})})})}),d.jsxs(Wn,{element:d.jsx(z1e,{}),children:[e&&e.role==="pharmacy"?d.jsx(Wn,{path:"/",element:d.jsx(YL,{})}):e&&e.role==="customer"?d.jsx(Wn,{path:"/",element:d.jsx(kP,{})}):null,d.jsx(Wn,{path:"/vendor/:id",element:d.jsx(V1e,{})}),d.jsx(Wn,{path:"/product/:id",element:d.jsx($1e,{})}),d.jsx(Wn,{path:"/pharmacy-map",element:d.jsx(Vu,{children:d.jsx(T1e,{})})}),d.jsx(Wn,{path:"/messages",element:d.jsx(Vu,{children:d.jsx(CP,{})})}),d.jsx(Wn,{path:"/cart",element:d.jsx(Vu,{children:e&&e.role==="pharmacy"?d.jsx(Zp,{to:"/"}):d.jsx(NP,{})})}),d.jsx(Wn,{path:"/orders",element:d.jsx(Vu,{children:d.jsx(SP,{})})}),d.jsx(Wn,{path:"/profile",element:d.jsx(Vu,{children:d.jsx(q1e,{})})}),d.jsx(Wn,{path:"/settings",element:d.jsx(Vu,{children:d.jsx(k1e,{})})})]}),d.jsx(Wn,{element:d.jsx(h3,{}),children:d.jsx(Wn,{path:"/product-preview/:id",element:d.jsx(U1e,{})})}),d.jsx(Wn,{path:"*",element:d.jsx(Zp,{to:"/",replace:!0})})]})}function W1e(){return Hue(),d.jsxs(gK,{children:[d.jsx(S1e,{}),d.jsx(H1e,{}),d.jsx(Zj,{})]})}$D.createRoot(document.getElementById("root")).render(d.jsx(zO,{children:d.jsx(UK,{children:d.jsx($K,{children:d.jsx(W1e,{})})})}));export{IK as G,EP as M,Xn as _,G1e as a,Yr as c,RC as g,d as j,B as r};
