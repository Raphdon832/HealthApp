function gz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var T3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uw={exports:{}},zm={},dw={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x9;function xz(){if(x9)return sn;x9=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=p&&Y[p]||Y["@@iterator"],typeof Y=="function"?Y:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function _(Y,P,q){this.props=Y,this.context=P,this.refs=w,this.updater=q||m}_.prototype.isReactComponent={},_.prototype.setState=function(Y,P){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,P,"setState")},_.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function E(){}E.prototype=_.prototype;function L(Y,P,q){this.props=Y,this.context=P,this.refs=w,this.updater=q||m}var I=L.prototype=new E;I.constructor=L,y(I,_.prototype),I.isPureReactComponent=!0;var V=Array.isArray,G=Object.prototype.hasOwnProperty,X={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(Y,P,q){var K,J={},ce=null,ye=null;if(P!=null)for(K in P.ref!==void 0&&(ye=P.ref),P.key!==void 0&&(ce=""+P.key),P)G.call(P,K)&&!R.hasOwnProperty(K)&&(J[K]=P[K]);var ke=arguments.length-2;if(ke===1)J.children=q;else if(1<ke){for(var ae=Array(ke),be=0;be<ke;be++)ae[be]=arguments[be+2];J.children=ae}if(Y&&Y.defaultProps)for(K in ke=Y.defaultProps,ke)J[K]===void 0&&(J[K]=ke[K]);return{$$typeof:t,type:Y,key:ce,ref:ye,props:J,_owner:X.current}}function C(Y,P){return{$$typeof:t,type:Y.type,key:P,ref:Y.ref,props:Y.props,_owner:Y._owner}}function D(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function N(Y){var P={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(q){return P[q]})}var j=/\/+/g;function B(Y,P){return typeof Y=="object"&&Y!==null&&Y.key!=null?N(""+Y.key):P.toString(36)}function te(Y,P,q,K,J){var ce=typeof Y;(ce==="undefined"||ce==="boolean")&&(Y=null);var ye=!1;if(Y===null)ye=!0;else switch(ce){case"string":case"number":ye=!0;break;case"object":switch(Y.$$typeof){case t:case e:ye=!0}}if(ye)return ye=Y,J=J(ye),Y=K===""?"."+B(ye,0):K,V(J)?(q="",Y!=null&&(q=Y.replace(j,"$&/")+"/"),te(J,P,q,"",function(be){return be})):J!=null&&(D(J)&&(J=C(J,q+(!J.key||ye&&ye.key===J.key?"":(""+J.key).replace(j,"$&/")+"/")+Y)),P.push(J)),1;if(ye=0,K=K===""?".":K+":",V(Y))for(var ke=0;ke<Y.length;ke++){ce=Y[ke];var ae=K+B(ce,ke);ye+=te(ce,P,q,ae,J)}else if(ae=g(Y),typeof ae=="function")for(Y=ae.call(Y),ke=0;!(ce=Y.next()).done;)ce=ce.value,ae=K+B(ce,ke++),ye+=te(ce,P,q,ae,J);else if(ce==="object")throw P=String(Y),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ye}function he(Y,P,q){if(Y==null)return Y;var K=[],J=0;return te(Y,K,"","",function(ce){return P.call(q,ce,J++)}),K}function _e(Y){if(Y._status===-1){var P=Y._result;P=P(),P.then(function(q){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=q)},function(q){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=q)}),Y._status===-1&&(Y._status=0,Y._result=P)}if(Y._status===1)return Y._result.default;throw Y._result}var fe={current:null},ie={transition:null},W={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:X};function ue(){throw Error("act(...) is not supported in production builds of React.")}return sn.Children={map:he,forEach:function(Y,P,q){he(Y,function(){P.apply(this,arguments)},q)},count:function(Y){var P=0;return he(Y,function(){P++}),P},toArray:function(Y){return he(Y,function(P){return P})||[]},only:function(Y){if(!D(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},sn.Component=_,sn.Fragment=r,sn.Profiler=i,sn.PureComponent=L,sn.StrictMode=n,sn.Suspense=l,sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,sn.act=ue,sn.cloneElement=function(Y,P,q){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var K=y({},Y.props),J=Y.key,ce=Y.ref,ye=Y._owner;if(P!=null){if(P.ref!==void 0&&(ce=P.ref,ye=X.current),P.key!==void 0&&(J=""+P.key),Y.type&&Y.type.defaultProps)var ke=Y.type.defaultProps;for(ae in P)G.call(P,ae)&&!R.hasOwnProperty(ae)&&(K[ae]=P[ae]===void 0&&ke!==void 0?ke[ae]:P[ae])}var ae=arguments.length-2;if(ae===1)K.children=q;else if(1<ae){ke=Array(ae);for(var be=0;be<ae;be++)ke[be]=arguments[be+2];K.children=ke}return{$$typeof:t,type:Y.type,key:J,ref:ce,props:K,_owner:ye}},sn.createContext=function(Y){return Y={$$typeof:a,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},sn.createElement=A,sn.createFactory=function(Y){var P=A.bind(null,Y);return P.type=Y,P},sn.createRef=function(){return{current:null}},sn.forwardRef=function(Y){return{$$typeof:o,render:Y}},sn.isValidElement=D,sn.lazy=function(Y){return{$$typeof:u,_payload:{_status:-1,_result:Y},_init:_e}},sn.memo=function(Y,P){return{$$typeof:c,type:Y,compare:P===void 0?null:P}},sn.startTransition=function(Y){var P=ie.transition;ie.transition={};try{Y()}finally{ie.transition=P}},sn.unstable_act=ue,sn.useCallback=function(Y,P){return fe.current.useCallback(Y,P)},sn.useContext=function(Y){return fe.current.useContext(Y)},sn.useDebugValue=function(){},sn.useDeferredValue=function(Y){return fe.current.useDeferredValue(Y)},sn.useEffect=function(Y,P){return fe.current.useEffect(Y,P)},sn.useId=function(){return fe.current.useId()},sn.useImperativeHandle=function(Y,P,q){return fe.current.useImperativeHandle(Y,P,q)},sn.useInsertionEffect=function(Y,P){return fe.current.useInsertionEffect(Y,P)},sn.useLayoutEffect=function(Y,P){return fe.current.useLayoutEffect(Y,P)},sn.useMemo=function(Y,P){return fe.current.useMemo(Y,P)},sn.useReducer=function(Y,P,q){return fe.current.useReducer(Y,P,q)},sn.useRef=function(Y){return fe.current.useRef(Y)},sn.useState=function(Y){return fe.current.useState(Y)},sn.useSyncExternalStore=function(Y,P,q){return fe.current.useSyncExternalStore(Y,P,q)},sn.useTransition=function(){return fe.current.useTransition()},sn.version="18.3.1",sn}var v9;function w5(){return v9||(v9=1,dw.exports=xz()),dw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y9;function vz(){if(y9)return zm;y9=1;var t=w5(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,p={},g=null,m=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)n.call(l,u)&&!s.hasOwnProperty(u)&&(p[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)p[u]===void 0&&(p[u]=l[u]);return{$$typeof:e,type:o,key:g,ref:m,props:p,_owner:i.current}}return zm.Fragment=r,zm.jsx=a,zm.jsxs=a,zm}var w9;function yz(){return w9||(w9=1,uw.exports=vz()),uw.exports}var f=yz(),F=w5();const fi=DI(F),py=gz({__proto__:null,default:fi},[F]);var Qx={},fw={exports:{}},Yo={},hw={exports:{}},pw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _9;function wz(){return _9||(_9=1,(function(t){function e(ie,W){var ue=ie.length;ie.push(W);e:for(;0<ue;){var Y=ue-1>>>1,P=ie[Y];if(0<i(P,W))ie[Y]=W,ie[ue]=P,ue=Y;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var W=ie[0],ue=ie.pop();if(ue!==W){ie[0]=ue;e:for(var Y=0,P=ie.length,q=P>>>1;Y<q;){var K=2*(Y+1)-1,J=ie[K],ce=K+1,ye=ie[ce];if(0>i(J,ue))ce<P&&0>i(ye,J)?(ie[Y]=ye,ie[ce]=ue,Y=ce):(ie[Y]=J,ie[K]=ue,Y=K);else if(ce<P&&0>i(ye,ue))ie[Y]=ye,ie[ce]=ue,Y=ce;else break e}}return W}function i(ie,W){var ue=ie.sortIndex-W.sortIndex;return ue!==0?ue:ie.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,p=null,g=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ie){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=ie)n(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=r(c)}}function V(ie){if(w=!1,I(ie),!y)if(r(l)!==null)y=!0,_e(G);else{var W=r(c);W!==null&&fe(V,W.startTime-ie)}}function G(ie,W){y=!1,w&&(w=!1,E(A),A=-1),m=!0;var ue=g;try{for(I(W),p=r(l);p!==null&&(!(p.expirationTime>W)||ie&&!N());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,g=p.priorityLevel;var P=Y(p.expirationTime<=W);W=t.unstable_now(),typeof P=="function"?p.callback=P:p===r(l)&&n(l),I(W)}else n(l);p=r(l)}if(p!==null)var q=!0;else{var K=r(c);K!==null&&fe(V,K.startTime-W),q=!1}return q}finally{p=null,g=ue,m=!1}}var X=!1,R=null,A=-1,C=5,D=-1;function N(){return!(t.unstable_now()-D<C)}function j(){if(R!==null){var ie=t.unstable_now();D=ie;var W=!0;try{W=R(!0,ie)}finally{W?B():(X=!1,R=null)}}else X=!1}var B;if(typeof L=="function")B=function(){L(j)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,he=te.port2;te.port1.onmessage=j,B=function(){he.postMessage(null)}}else B=function(){_(j,0)};function _e(ie){R=ie,X||(X=!0,B())}function fe(ie,W){A=_(function(){ie(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,_e(G))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ie){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var ue=g;g=W;try{return ie()}finally{g=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,W){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=g;g=ie;try{return W()}finally{g=ue}},t.unstable_scheduleCallback=function(ie,W,ue){var Y=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Y+ue:Y):ue=Y,ie){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ue+P,ie={id:u++,callback:W,priorityLevel:ie,startTime:ue,expirationTime:P,sortIndex:-1},ue>Y?(ie.sortIndex=ue,e(c,ie),r(l)===null&&ie===r(c)&&(w?(E(A),A=-1):w=!0,fe(V,ue-Y))):(ie.sortIndex=P,e(l,ie),y||m||(y=!0,_e(G))),ie},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(ie){var W=g;return function(){var ue=g;g=W;try{return ie.apply(this,arguments)}finally{g=ue}}}})(pw)),pw}var b9;function _z(){return b9||(b9=1,hw.exports=wz()),hw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k9;function bz(){if(k9)return Yo;k9=1;var t=w5(),e=_z();function r(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,x=1;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(d,h){a(d,h),a(d+"Capture",h)}function a(d,h){for(i[d]=h,d=0;d<h.length;d++)n.add(h[d])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},p={};function g(d){return l.call(p,d)?!0:l.call(u,d)?!1:c.test(d)?p[d]=!0:(u[d]=!0,!1)}function m(d,h,x,S){if(x!==null&&x.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return S?!1:x!==null?!x.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function y(d,h,x,S){if(h===null||typeof h>"u"||m(d,h,x,S))return!0;if(S)return!1;if(x!==null)switch(x.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function w(d,h,x,S,O,H,le){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=S,this.attributeNamespace=O,this.mustUseProperty=x,this.propertyName=d,this.type=h,this.sanitizeURL=H,this.removeEmptyString=le}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){_[d]=new w(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var h=d[0];_[h]=new w(h,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){_[d]=new w(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){_[d]=new w(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){_[d]=new w(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){_[d]=new w(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){_[d]=new w(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){_[d]=new w(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){_[d]=new w(d,5,!1,d.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function L(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var h=d.replace(E,L);_[h]=new w(h,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var h=d.replace(E,L);_[h]=new w(h,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var h=d.replace(E,L);_[h]=new w(h,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){_[d]=new w(d,1,!1,d.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){_[d]=new w(d,1,!1,d.toLowerCase(),null,!0,!0)});function I(d,h,x,S){var O=_.hasOwnProperty(h)?_[h]:null;(O!==null?O.type!==0:S||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(y(h,x,O,S)&&(x=null),S||O===null?g(h)&&(x===null?d.removeAttribute(h):d.setAttribute(h,""+x)):O.mustUseProperty?d[O.propertyName]=x===null?O.type===3?!1:"":x:(h=O.attributeName,S=O.attributeNamespace,x===null?d.removeAttribute(h):(O=O.type,x=O===3||O===4&&x===!0?"":""+x,S?d.setAttributeNS(S,h,x):d.setAttribute(h,x))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),X=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function W(d){return d===null||typeof d!="object"?null:(d=ie&&d[ie]||d["@@iterator"],typeof d=="function"?d:null)}var ue=Object.assign,Y;function P(d){if(Y===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Y=h&&h[1]||""}return`
`+Y+d}var q=!1;function K(d,h){if(!d||q)return"";q=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(lt){var S=lt}Reflect.construct(d,[],h)}else{try{h.call()}catch(lt){S=lt}d.call(h.prototype)}else{try{throw Error()}catch(lt){S=lt}d()}}catch(lt){if(lt&&S&&typeof lt.stack=="string"){for(var O=lt.stack.split(`
`),H=S.stack.split(`
`),le=O.length-1,Fe=H.length-1;1<=le&&0<=Fe&&O[le]!==H[Fe];)Fe--;for(;1<=le&&0<=Fe;le--,Fe--)if(O[le]!==H[Fe]){if(le!==1||Fe!==1)do if(le--,Fe--,0>Fe||O[le]!==H[Fe]){var Ue=`
`+O[le].replace(" at new "," at ");return d.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",d.displayName)),Ue}while(1<=le&&0<=Fe);break}}}finally{q=!1,Error.prepareStackTrace=x}return(d=d?d.displayName||d.name:"")?P(d):""}function J(d){switch(d.tag){case 5:return P(d.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return d=K(d.type,!1),d;case 11:return d=K(d.type.render,!1),d;case 1:return d=K(d.type,!0),d;default:return""}}function ce(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case R:return"Fragment";case X:return"Portal";case C:return"Profiler";case A:return"StrictMode";case B:return"Suspense";case te:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case N:return(d.displayName||"Context")+".Consumer";case D:return(d._context.displayName||"Context")+".Provider";case j:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case he:return h=d.displayName||null,h!==null?h:ce(d.type)||"Memo";case _e:h=d._payload,d=d._init;try{return ce(d(h))}catch{}}return null}function ye(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(h);case 8:return h===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ke(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ae(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function be(d){var h=ae(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,h),S=""+d[h];if(!d.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,H=x.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return O.call(this)},set:function(le){S=""+le,H.call(this,le)}}),Object.defineProperty(d,h,{enumerable:x.enumerable}),{getValue:function(){return S},setValue:function(le){S=""+le},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function De(d){d._valueTracker||(d._valueTracker=be(d))}function se(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var x=h.getValue(),S="";return d&&(S=ae(d)?d.checked?"true":"false":d.value),d=S,d!==x?(h.setValue(d),!0):!1}function Pe(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Re(d,h){var x=h.checked;return ue({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??d._wrapperState.initialChecked})}function me(d,h){var x=h.defaultValue==null?"":h.defaultValue,S=h.checked!=null?h.checked:h.defaultChecked;x=ke(h.value!=null?h.value:x),d._wrapperState={initialChecked:S,initialValue:x,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Oe(d,h){h=h.checked,h!=null&&I(d,"checked",h,!1)}function Me(d,h){Oe(d,h);var x=ke(h.value),S=h.type;if(x!=null)S==="number"?(x===0&&d.value===""||d.value!=x)&&(d.value=""+x):d.value!==""+x&&(d.value=""+x);else if(S==="submit"||S==="reset"){d.removeAttribute("value");return}h.hasOwnProperty("value")?re(d,h.type,x):h.hasOwnProperty("defaultValue")&&re(d,h.type,ke(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(d.defaultChecked=!!h.defaultChecked)}function Qe(d,h,x){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var S=h.type;if(!(S!=="submit"&&S!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+d._wrapperState.initialValue,x||h===d.value||(d.value=h),d.defaultValue=h}x=d.name,x!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,x!==""&&(d.name=x)}function re(d,h,x){(h!=="number"||Pe(d.ownerDocument)!==d)&&(x==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+x&&(d.defaultValue=""+x))}var je=Array.isArray;function st(d,h,x,S){if(d=d.options,h){h={};for(var O=0;O<x.length;O++)h["$"+x[O]]=!0;for(x=0;x<d.length;x++)O=h.hasOwnProperty("$"+d[x].value),d[x].selected!==O&&(d[x].selected=O),O&&S&&(d[x].defaultSelected=!0)}else{for(x=""+ke(x),h=null,O=0;O<d.length;O++){if(d[O].value===x){d[O].selected=!0,S&&(d[O].defaultSelected=!0);return}h!==null||d[O].disabled||(h=d[O])}h!==null&&(h.selected=!0)}}function At(d,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return ue({},h,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function It(d,h){var x=h.value;if(x==null){if(x=h.children,h=h.defaultValue,x!=null){if(h!=null)throw Error(r(92));if(je(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),x=h}d._wrapperState={initialValue:ke(x)}}function Le(d,h){var x=ke(h.value),S=ke(h.defaultValue);x!=null&&(x=""+x,x!==d.value&&(d.value=x),h.defaultValue==null&&d.defaultValue!==x&&(d.defaultValue=x)),S!=null&&(d.defaultValue=""+S)}function qe(d){var h=d.textContent;h===d._wrapperState.initialValue&&h!==""&&h!==null&&(d.value=h)}function We(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(d,h){return d==null||d==="http://www.w3.org/1999/xhtml"?We(h):d==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var bt,_t=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,x,S,O){MSApp.execUnsafeLocalFunction(function(){return d(h,x,S,O)})}:d})(function(d,h){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=h;else{for(bt=bt||document.createElement("div"),bt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=bt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;h.firstChild;)d.appendChild(h.firstChild)}});function vt(d,h){if(h){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=h;return}}d.textContent=h}var St={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xt=["Webkit","ms","Moz","O"];Object.keys(St).forEach(function(d){Xt.forEach(function(h){h=h+d.charAt(0).toUpperCase()+d.substring(1),St[h]=St[d]})});function Yt(d,h,x){return h==null||typeof h=="boolean"||h===""?"":x||typeof h!="number"||h===0||St.hasOwnProperty(d)&&St[d]?(""+h).trim():h+"px"}function Ut(d,h){d=d.style;for(var x in h)if(h.hasOwnProperty(x)){var S=x.indexOf("--")===0,O=Yt(x,h[x],S);x==="float"&&(x="cssFloat"),S?d.setProperty(x,O):d[x]=O}}var pr=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ge(d,h){if(h){if(pr[d]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function Ft(d,h){if(d.indexOf("-")===-1)return typeof h.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=null;function Vt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var mr=null,wr=null,Ar=null;function Jt(d){if(d=Jd(d)){if(typeof mr!="function")throw Error(r(280));var h=d.stateNode;h&&(h=Eh(h),mr(d.stateNode,d.type,h))}}function cr(d){wr?Ar?Ar.push(d):Ar=[d]:wr=d}function Fn(){if(wr){var d=wr,h=Ar;if(Ar=wr=null,Jt(d),h)for(d=0;d<h.length;d++)Jt(h[d])}}function Yr(d,h){return d(h)}function yi(){}var Un=!1;function ar(d,h,x){if(Un)return d(h,x);Un=!0;try{return Yr(d,h,x)}finally{Un=!1,(wr!==null||Ar!==null)&&(yi(),Fn())}}function dn(d,h){var x=d.stateNode;if(x===null)return null;var S=Eh(x);if(S===null)return null;x=S[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(d=d.type,S=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!S;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var Ws=!1;if(o)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{Ws=!1}function es(d,h,x,S,O,H,le,Fe,Ue){var lt=Array.prototype.slice.call(arguments,3);try{h.apply(x,lt)}catch(Lt){this.onError(Lt)}}var Tn=!1,oi=null,oe=!1,Ae=null,we={onError:function(d){Tn=!0,oi=d}};function Se(d,h,x,S,O,H,le,Fe,Ue){Tn=!1,oi=null,es.apply(we,arguments)}function Ne(d,h,x,S,O,H,le,Fe,Ue){if(Se.apply(this,arguments),Tn){if(Tn){var lt=oi;Tn=!1,oi=null}else throw Error(r(198));oe||(oe=!0,Ae=lt)}}function Ie(d){var h=d,x=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(x=h.return),d=h.return;while(d)}return h.tag===3?x:null}function Ye(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function ot(d){if(Ie(d)!==d)throw Error(r(188))}function et(d){var h=d.alternate;if(!h){if(h=Ie(d),h===null)throw Error(r(188));return h!==d?null:d}for(var x=d,S=h;;){var O=x.return;if(O===null)break;var H=O.alternate;if(H===null){if(S=O.return,S!==null){x=S;continue}break}if(O.child===H.child){for(H=O.child;H;){if(H===x)return ot(O),d;if(H===S)return ot(O),h;H=H.sibling}throw Error(r(188))}if(x.return!==S.return)x=O,S=H;else{for(var le=!1,Fe=O.child;Fe;){if(Fe===x){le=!0,x=O,S=H;break}if(Fe===S){le=!0,S=O,x=H;break}Fe=Fe.sibling}if(!le){for(Fe=H.child;Fe;){if(Fe===x){le=!0,x=H,S=O;break}if(Fe===S){le=!0,S=H,x=O;break}Fe=Fe.sibling}if(!le)throw Error(r(189))}}if(x.alternate!==S)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?d:h}function tt(d){return d=et(d),d!==null?it(d):null}function it(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=it(d);if(h!==null)return h;d=d.sibling}return null}var Et=e.unstable_scheduleCallback,Mt=e.unstable_cancelCallback,Gt=e.unstable_shouldYield,Ot=e.unstable_requestPaint,Pt=e.unstable_now,Sr=e.unstable_getCurrentPriorityLevel,fn=e.unstable_ImmediatePriority,Vr=e.unstable_UserBlockingPriority,gn=e.unstable_NormalPriority,Ha=e.unstable_LowPriority,Wa=e.unstable_IdlePriority,ca=null,hi=null;function al(d){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(ca,d,void 0,(d.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:Uu,Vu=Math.log,wi=Math.LN2;function Uu(d){return d>>>=0,d===0?32:31-(Vu(d)/wi|0)|0}var mc=64,Ga=4194304;function Ka(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Gs(d,h){var x=d.pendingLanes;if(x===0)return 0;var S=0,O=d.suspendedLanes,H=d.pingedLanes,le=x&268435455;if(le!==0){var Fe=le&~O;Fe!==0?S=Ka(Fe):(H&=le,H!==0&&(S=Ka(H)))}else le=x&~O,le!==0?S=Ka(le):H!==0&&(S=Ka(H));if(S===0)return 0;if(h!==0&&h!==S&&(h&O)===0&&(O=S&-S,H=h&-h,O>=H||O===16&&(H&4194240)!==0))return h;if((S&4)!==0&&(S|=x&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=S;0<h;)x=31-An(h),O=1<<x,S|=d[x],h&=~O;return S}function gc(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pn(d,h){for(var x=d.suspendedLanes,S=d.pingedLanes,O=d.expirationTimes,H=d.pendingLanes;0<H;){var le=31-An(H),Fe=1<<le,Ue=O[le];Ue===-1?((Fe&x)===0||(Fe&S)!==0)&&(O[le]=gc(Fe,h)):Ue<=h&&(d.expiredLanes|=Fe),H&=~Fe}}function Ks(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function xc(){var d=mc;return mc<<=1,(mc&4194240)===0&&(mc=64),d}function Fl(d){for(var h=[],x=0;31>x;x++)h.push(d);return h}function jl(d,h,x){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-An(h),d[h]=x}function tn(d,h){var x=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var S=d.eventTimes;for(d=d.expirationTimes;0<x;){var O=31-An(x),H=1<<O;h[O]=0,S[O]=-1,d[O]=-1,x&=~H}}function ol(d,h){var x=d.entangledLanes|=h;for(d=d.entanglements;x;){var S=31-An(x),O=1<<S;O&h|d[S]&h&&(d[S]|=h),x&=~O}}var Kr=0;function Ta(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Gc,Kc,Bd,Vd,Xc,ll=!1,Xs=[],ms=null,Ys=null,Aa=null,kr=new Map,Xa=new Map,Vo=[],mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(d,h){switch(d){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":kr.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(h.pointerId)}}function Ni(d,h,x,S,O,H){return d===null||d.nativeEvent!==H?(d={blockedOn:h,domEventName:x,eventSystemFlags:S,nativeEvent:H,targetContainers:[O]},h!==null&&(h=Jd(h),h!==null&&Kc(h)),d):(d.eventSystemFlags|=S,h=d.targetContainers,O!==null&&h.indexOf(O)===-1&&h.push(O),d)}function cl(d,h,x,S,O){switch(h){case"focusin":return ms=Ni(ms,d,h,x,S,O),!0;case"dragenter":return Ys=Ni(Ys,d,h,x,S,O),!0;case"mouseover":return Aa=Ni(Aa,d,h,x,S,O),!0;case"pointerover":var H=O.pointerId;return kr.set(H,Ni(kr.get(H)||null,d,h,x,S,O)),!0;case"gotpointercapture":return H=O.pointerId,Xa.set(H,Ni(Xa.get(H)||null,d,h,x,S,O)),!0}return!1}function zd(d){var h=nu(d.target);if(h!==null){var x=Ie(h);if(x!==null){if(h=x.tag,h===13){if(h=Ye(x),h!==null){d.blockedOn=h,Xc(d.priority,function(){Bd(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ul(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var x=Ol(d.domEventName,d.eventSystemFlags,h[0],d.nativeEvent);if(x===null){x=d.nativeEvent;var S=new x.constructor(x.type,x);Wt=S,x.target.dispatchEvent(S),Wt=null}else return h=Jd(x),h!==null&&Kc(h),d.blockedOn=x,!1;h.shift()}return!0}function Uo(d,h,x){ul(d)&&x.delete(h)}function Yc(){ll=!1,ms!==null&&ul(ms)&&(ms=null),Ys!==null&&ul(Ys)&&(Ys=null),Aa!==null&&ul(Aa)&&(Aa=null),kr.forEach(Uo),Xa.forEach(Uo)}function Qs(d,h){d.blockedOn===h&&(d.blockedOn=null,ll||(ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yc)))}function ua(d){function h(O){return Qs(O,d)}if(0<Xs.length){Qs(Xs[0],d);for(var x=1;x<Xs.length;x++){var S=Xs[x];S.blockedOn===d&&(S.blockedOn=null)}}for(ms!==null&&Qs(ms,d),Ys!==null&&Qs(Ys,d),Aa!==null&&Qs(Aa,d),kr.forEach(h),Xa.forEach(h),x=0;x<Vo.length;x++)S=Vo[x],S.blockedOn===d&&(S.blockedOn=null);for(;0<Vo.length&&(x=Vo[0],x.blockedOn===null);)zd(x),x.blockedOn===null&&Vo.shift()}var Ya=V.ReactCurrentBatchConfig,Dl=!0;function jn(d,h,x,S){var O=Kr,H=Ya.transition;Ya.transition=null;try{Kr=1,dl(d,h,x,S)}finally{Kr=O,Ya.transition=H}}function zu(d,h,x,S){var O=Kr,H=Ya.transition;Ya.transition=null;try{Kr=4,dl(d,h,x,S)}finally{Kr=O,Ya.transition=H}}function dl(d,h,x,S){if(Dl){var O=Ol(d,h,x,S);if(O===null)bh(d,h,S,Ao,x),Ud(d,S);else if(cl(O,d,h,x,S))S.stopPropagation();else if(Ud(d,S),h&4&&-1<mh.indexOf(d)){for(;O!==null;){var H=Jd(O);if(H!==null&&Gc(H),H=Ol(d,h,x,S),H===null&&bh(d,h,S,Ao,x),H===O)break;O=H}O!==null&&S.stopPropagation()}else bh(d,h,S,null,x)}}var Ao=null;function Ol(d,h,x,S){if(Ao=null,d=Vt(S),d=nu(d),d!==null)if(h=Ie(d),h===null)d=null;else if(x=h.tag,x===13){if(d=Ye(h),d!==null)return d;d=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null);return Ao=d,null}function Ml(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sr()){case fn:return 1;case Vr:return 4;case gn:case Ha:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var Js=null,zo=null,Ls=null;function vc(){if(Ls)return Ls;var d,h=zo,x=h.length,S,O="value"in Js?Js.value:Js.textContent,H=O.length;for(d=0;d<x&&h[d]===O[d];d++);var le=x-d;for(S=1;S<=le&&h[x-S]===O[H-S];S++);return Ls=O.slice(d,1<S?1-S:void 0)}function Fs(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function gs(){return!0}function M(){return!1}function ee(d){function h(x,S,O,H,le){this._reactName=x,this._targetInst=O,this.type=S,this.nativeEvent=H,this.target=le,this.currentTarget=null;for(var Fe in d)d.hasOwnProperty(Fe)&&(x=d[Fe],this[Fe]=x?x(H):H[Fe]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?gs:M,this.isPropagationStopped=M,this}return ue(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),h}var Ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Be=ee(Ce),He=ue({},Ce,{view:0,detail:0}),xt=ee(He),kt,Qt,tr,_r=ue({},He,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Na,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==tr&&(tr&&d.type==="mousemove"?(kt=d.screenX-tr.screenX,Qt=d.screenY-tr.screenY):Qt=kt=0,tr=d),kt)},movementY:function(d){return"movementY"in d?d.movementY:Qt}}),Pr=ee(_r),ln=ue({},_r,{dataTransfer:0}),ei=ee(ln),li=ue({},He,{relatedTarget:0}),xn=ee(li),Ii=ue({},Ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Dn=ee(Ii),ts=ue({},Ce,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),$o=ee(ts),fl=ue({},Ce,{data:0}),$u=ee(fl),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ui={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qc(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=Qa[d])?!!h[d]:!1}function Na(){return Qc}var k=ue({},He,{key:function(d){if(d.key){var h=yc[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=Fs(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Ui[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Na,charCode:function(d){return d.type==="keypress"?Fs(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Fs(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),z=ee(k),Z=ue({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xe=ee(Z),Ke=ue({},He,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Na}),ut=ee(Ke),jt=ue({},Ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),vn=ee(jt),pi=ue({},_r,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Qr=ee(pi),rn=[9,13,27,32],_n=o&&"CompositionEvent"in window,da=null;o&&"documentMode"in document&&(da=document.documentMode);var Zs=o&&"TextEvent"in window&&!da,Ja=o&&(!_n||da&&8<da&&11>=da),hl=" ",Ia=!1;function Pa(d,h){switch(d){case"keyup":return rn.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ra=!1;function Zc(d,h){switch(d){case"compositionend":return Jc(h);case"keypress":return h.which!==32?null:(Ia=!0,hl);case"textInput":return d=h.data,d===hl&&Ia?null:d;default:return null}}function gh(d,h){if(Ra)return d==="compositionend"||!_n&&Pa(d,h)?(d=vc(),Ls=zo=Js=null,Ra=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Ja&&h.locale!=="ko"?null:h.data;default:return null}}var eu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pi(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!eu[d.type]:h==="textarea"}function ep(d,h,x,S){cr(S),h=ap(h,"onChange"),0<h.length&&(x=new Be("onChange","change",null,x,S),d.push({event:x,listeners:h}))}var Za=null,eo=null;function $d(d){wh(d,0)}function tu(d){var h=Qu(d);if(se(h))return d}function qd(d,h){if(d==="change")return h}var qu=!1;if(o){var wc;if(o){var _c="oninput"in document;if(!_c){var Bl=document.createElement("div");Bl.setAttribute("oninput","return;"),_c=typeof Bl.oninput=="function"}wc=_c}else wc=!1;qu=wc&&(!document.documentMode||9<document.documentMode)}function Hd(){Za&&(Za.detachEvent("onpropertychange",to),eo=Za=null)}function to(d){if(d.propertyName==="value"&&tu(eo)){var h=[];ep(h,eo,d,Vt(d)),ar($d,h)}}function Vl(d,h,x){d==="focusin"?(Hd(),Za=h,eo=x,Za.attachEvent("onpropertychange",to)):d==="focusout"&&Hd()}function ti(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return tu(eo)}function ri(d,h){if(d==="click")return tu(h)}function zi(d,h){if(d==="input"||d==="change")return tu(h)}function $i(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var xs=typeof Object.is=="function"?Object.is:$i;function Ul(d,h){if(xs(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var x=Object.keys(d),S=Object.keys(h);if(x.length!==S.length)return!1;for(S=0;S<x.length;S++){var O=x[S];if(!l.call(h,O)||!xs(d[O],h[O]))return!1}return!0}function pl(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Wd(d,h){var x=pl(d);d=0;for(var S;x;){if(x.nodeType===3){if(S=d+x.textContent.length,d<=h&&S>=h)return{node:x,offset:h-d};d=S}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=pl(x)}}function gm(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?gm(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function xm(){for(var d=window,h=Pe();h instanceof d.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)d=h.contentWindow;else break;h=Pe(d.document)}return h}function tp(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}function mx(d){var h=xm(),x=d.focusedElem,S=d.selectionRange;if(h!==x&&x&&x.ownerDocument&&gm(x.ownerDocument.documentElement,x)){if(S!==null&&tp(x)){if(h=S.start,d=S.end,d===void 0&&(d=h),"selectionStart"in x)x.selectionStart=h,x.selectionEnd=Math.min(d,x.value.length);else if(d=(h=x.ownerDocument||document)&&h.defaultView||window,d.getSelection){d=d.getSelection();var O=x.textContent.length,H=Math.min(S.start,O);S=S.end===void 0?H:Math.min(S.end,O),!d.extend&&H>S&&(O=S,S=H,H=O),O=Wd(x,H);var le=Wd(x,S);O&&le&&(d.rangeCount!==1||d.anchorNode!==O.node||d.anchorOffset!==O.offset||d.focusNode!==le.node||d.focusOffset!==le.offset)&&(h=h.createRange(),h.setStart(O.node,O.offset),d.removeAllRanges(),H>S?(d.addRange(h),d.extend(le.node,le.offset)):(h.setEnd(le.node,le.offset),d.addRange(h)))}}for(h=[],d=x;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<h.length;x++)d=h[x],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var gx=o&&"documentMode"in document&&11>=document.documentMode,Hu=null,rp=null,Gd=null,np=!1;function vm(d,h,x){var S=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;np||Hu==null||Hu!==Pe(S)||(S=Hu,"selectionStart"in S&&tp(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Gd&&Ul(Gd,S)||(Gd=S,S=ap(rp,"onSelect"),0<S.length&&(h=new Be("onSelect","select",null,h,x),d.push({event:h,listeners:S}),h.target=Hu)))}function xh(d,h){var x={};return x[d.toLowerCase()]=h.toLowerCase(),x["Webkit"+d]="webkit"+h,x["Moz"+d]="moz"+h,x}var Wu={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},Gu={},ym={};o&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);function vh(d){if(Gu[d])return Gu[d];if(!Wu[d])return d;var h=Wu[d],x;for(x in h)if(h.hasOwnProperty(x)&&x in ym)return Gu[d]=h[x];return d}var wm=vh("animationend"),_m=vh("animationiteration"),bm=vh("animationstart"),km=vh("transitionend"),Sm=new Map,Em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zl(d,h){Sm.set(d,h),s(h,[d])}for(var Kd=0;Kd<Em.length;Kd++){var La=Em[Kd],qo=La.toLowerCase(),ip=La[0].toUpperCase()+La.slice(1);zl(qo,"on"+ip)}zl(wm,"onAnimationEnd"),zl(_m,"onAnimationIteration"),zl(bm,"onAnimationStart"),zl("dblclick","onDoubleClick"),zl("focusin","onFocus"),zl("focusout","onBlur"),zl(km,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function yh(d,h,x){var S=d.type||"unknown-event";d.currentTarget=x,Ne(S,h,void 0,d),d.currentTarget=null}function wh(d,h){h=(h&4)!==0;for(var x=0;x<d.length;x++){var S=d[x],O=S.event;S=S.listeners;e:{var H=void 0;if(h)for(var le=S.length-1;0<=le;le--){var Fe=S[le],Ue=Fe.instance,lt=Fe.currentTarget;if(Fe=Fe.listener,Ue!==H&&O.isPropagationStopped())break e;yh(O,Fe,lt),H=Ue}else for(le=0;le<S.length;le++){if(Fe=S[le],Ue=Fe.instance,lt=Fe.currentTarget,Fe=Fe.listener,Ue!==H&&O.isPropagationStopped())break e;yh(O,Fe,lt),H=Ue}}}if(oe)throw d=Ae,oe=!1,Ae=null,d}function zn(d,h){var x=h[no];x===void 0&&(x=h[no]=new Set);var S=d+"__bubble";x.has(S)||(_h(h,d,2,!1),x.add(S))}function sp(d,h,x){var S=0;h&&(S|=4),_h(x,d,S,h)}var Xd="_reactListening"+Math.random().toString(36).slice(2);function Ku(d){if(!d[Xd]){d[Xd]=!0,n.forEach(function(x){x!=="selectionchange"&&(xx.has(x)||sp(x,!1,d),sp(x,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[Xd]||(h[Xd]=!0,sp("selectionchange",!1,h))}}function _h(d,h,x,S){switch(Ml(h)){case 1:var O=jn;break;case 4:O=zu;break;default:O=dl}x=O.bind(null,h,x,d),O=void 0,!Ws||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(O=!0),S?O!==void 0?d.addEventListener(h,x,{capture:!0,passive:O}):d.addEventListener(h,x,!0):O!==void 0?d.addEventListener(h,x,{passive:O}):d.addEventListener(h,x,!1)}function bh(d,h,x,S,O){var H=S;if((h&1)===0&&(h&2)===0&&S!==null)e:for(;;){if(S===null)return;var le=S.tag;if(le===3||le===4){var Fe=S.stateNode.containerInfo;if(Fe===O||Fe.nodeType===8&&Fe.parentNode===O)break;if(le===4)for(le=S.return;le!==null;){var Ue=le.tag;if((Ue===3||Ue===4)&&(Ue=le.stateNode.containerInfo,Ue===O||Ue.nodeType===8&&Ue.parentNode===O))return;le=le.return}for(;Fe!==null;){if(le=nu(Fe),le===null)return;if(Ue=le.tag,Ue===5||Ue===6){S=H=le;continue e}Fe=Fe.parentNode}}S=S.return}ar(function(){var lt=H,Lt=Vt(x),Dt=[];e:{var Rt=Sm.get(d);if(Rt!==void 0){var Zt=Be,ur=d;switch(d){case"keypress":if(Fs(x)===0)break e;case"keydown":case"keyup":Zt=z;break;case"focusin":ur="focus",Zt=xn;break;case"focusout":ur="blur",Zt=xn;break;case"beforeblur":case"afterblur":Zt=xn;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Zt=Pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Zt=ei;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Zt=ut;break;case wm:case _m:case bm:Zt=Dn;break;case km:Zt=vn;break;case"scroll":Zt=xt;break;case"wheel":Zt=Qr;break;case"copy":case"cut":case"paste":Zt=$o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Zt=xe}var hr=(h&4)!==0,ws=!hr&&d==="scroll",rt=hr?Rt!==null?Rt+"Capture":null:Rt;hr=[];for(var $e=lt,at;$e!==null;){at=$e;var Bt=at.stateNode;if(at.tag===5&&Bt!==null&&(at=Bt,rt!==null&&(Bt=dn($e,rt),Bt!=null&&hr.push(kh($e,Bt,at)))),ws)break;$e=$e.return}0<hr.length&&(Rt=new Zt(Rt,ur,null,x,Lt),Dt.push({event:Rt,listeners:hr}))}}if((h&7)===0){e:{if(Rt=d==="mouseover"||d==="pointerover",Zt=d==="mouseout"||d==="pointerout",Rt&&x!==Wt&&(ur=x.relatedTarget||x.fromElement)&&(nu(ur)||ur[fa]))break e;if((Zt||Rt)&&(Rt=Lt.window===Lt?Lt:(Rt=Lt.ownerDocument)?Rt.defaultView||Rt.parentWindow:window,Zt?(ur=x.relatedTarget||x.toElement,Zt=lt,ur=ur?nu(ur):null,ur!==null&&(ws=Ie(ur),ur!==ws||ur.tag!==5&&ur.tag!==6)&&(ur=null)):(Zt=null,ur=lt),Zt!==ur)){if(hr=Pr,Bt="onMouseLeave",rt="onMouseEnter",$e="mouse",(d==="pointerout"||d==="pointerover")&&(hr=xe,Bt="onPointerLeave",rt="onPointerEnter",$e="pointer"),ws=Zt==null?Rt:Qu(Zt),at=ur==null?Rt:Qu(ur),Rt=new hr(Bt,$e+"leave",Zt,x,Lt),Rt.target=ws,Rt.relatedTarget=at,Bt=null,nu(Lt)===lt&&(hr=new hr(rt,$e+"enter",ur,x,Lt),hr.target=at,hr.relatedTarget=ws,Bt=hr),ws=Bt,Zt&&ur)t:{for(hr=Zt,rt=ur,$e=0,at=hr;at;at=Xu(at))$e++;for(at=0,Bt=rt;Bt;Bt=Xu(Bt))at++;for(;0<$e-at;)hr=Xu(hr),$e--;for(;0<at-$e;)rt=Xu(rt),at--;for(;$e--;){if(hr===rt||rt!==null&&hr===rt.alternate)break t;hr=Xu(hr),rt=Xu(rt)}hr=null}else hr=null;Zt!==null&&vx(Dt,Rt,Zt,hr,!1),ur!==null&&ws!==null&&vx(Dt,ws,ur,hr,!0)}}e:{if(Rt=lt?Qu(lt):window,Zt=Rt.nodeName&&Rt.nodeName.toLowerCase(),Zt==="select"||Zt==="input"&&Rt.type==="file")var xr=qd;else if(Pi(Rt))if(qu)xr=zi;else{xr=ti;var Er=Vl}else(Zt=Rt.nodeName)&&Zt.toLowerCase()==="input"&&(Rt.type==="checkbox"||Rt.type==="radio")&&(xr=ri);if(xr&&(xr=xr(d,lt))){ep(Dt,xr,x,Lt);break e}Er&&Er(d,Rt,lt),d==="focusout"&&(Er=Rt._wrapperState)&&Er.controlled&&Rt.type==="number"&&re(Rt,"number",Rt.value)}switch(Er=lt?Qu(lt):window,d){case"focusin":(Pi(Er)||Er.contentEditable==="true")&&(Hu=Er,rp=lt,Gd=null);break;case"focusout":Gd=rp=Hu=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,vm(Dt,x,Lt);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":vm(Dt,x,Lt)}var Cr;if(_n)e:{switch(d){case"compositionstart":var Or="onCompositionStart";break e;case"compositionend":Or="onCompositionEnd";break e;case"compositionupdate":Or="onCompositionUpdate";break e}Or=void 0}else Ra?Pa(d,x)&&(Or="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Or="onCompositionStart");Or&&(Ja&&x.locale!=="ko"&&(Ra||Or!=="onCompositionStart"?Or==="onCompositionEnd"&&Ra&&(Cr=vc()):(Js=Lt,zo="value"in Js?Js.value:Js.textContent,Ra=!0)),Er=ap(lt,Or),0<Er.length&&(Or=new $u(Or,d,null,x,Lt),Dt.push({event:Or,listeners:Er}),Cr?Or.data=Cr:(Cr=Jc(x),Cr!==null&&(Or.data=Cr)))),(Cr=Zs?Zc(d,x):gh(d,x))&&(lt=ap(lt,"onBeforeInput"),0<lt.length&&(Lt=new $u("onBeforeInput","beforeinput",null,x,Lt),Dt.push({event:Lt,listeners:lt}),Lt.data=Cr))}wh(Dt,h)})}function kh(d,h,x){return{instance:d,listener:h,currentTarget:x}}function ap(d,h){for(var x=h+"Capture",S=[];d!==null;){var O=d,H=O.stateNode;O.tag===5&&H!==null&&(O=H,H=dn(d,x),H!=null&&S.unshift(kh(d,H,O)),H=dn(d,h),H!=null&&S.push(kh(d,H,O))),d=d.return}return S}function Xu(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function vx(d,h,x,S,O){for(var H=h._reactName,le=[];x!==null&&x!==S;){var Fe=x,Ue=Fe.alternate,lt=Fe.stateNode;if(Ue!==null&&Ue===S)break;Fe.tag===5&&lt!==null&&(Fe=lt,O?(Ue=dn(x,H),Ue!=null&&le.unshift(kh(x,Ue,Fe))):O||(Ue=dn(x,H),Ue!=null&&le.push(kh(x,Ue,Fe)))),x=x.return}le.length!==0&&d.push({event:h,listeners:le})}var S4=/\r\n?/g,E4=/\u0000|\uFFFD/g;function yx(d){return(typeof d=="string"?d:""+d).replace(S4,`
`).replace(E4,"")}function op(d,h,x){if(h=yx(h),yx(d)!==h&&x)throw Error(r(425))}function Yd(){}var Sh=null,Yu=null;function Cm(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,C4=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(d){return _x.resolve(null).then(d).catch(T4)}:Tm;function T4(d){setTimeout(function(){throw d})}function Am(d,h){var x=h,S=0;do{var O=x.nextSibling;if(d.removeChild(x),O&&O.nodeType===8)if(x=O.data,x==="/$"){if(S===0){d.removeChild(O),ua(h);return}S--}else x!=="$"&&x!=="$?"&&x!=="$!"||S++;x=O}while(x);ua(h)}function Fa(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return d}function Ho(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return d;h--}else x==="/$"&&h++}d=d.previousSibling}return null}var ro=Math.random().toString(36).slice(2),$l="__reactFiber$"+ro,Qd="__reactProps$"+ro,fa="__reactContainer$"+ro,no="__reactEvents$"+ro,A4="__reactListeners$"+ro,N4="__reactHandles$"+ro;function nu(d){var h=d[$l];if(h)return h;for(var x=d.parentNode;x;){if(h=x[fa]||x[$l]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(d=Ho(d);d!==null;){if(x=d[$l])return x;d=Ho(d)}return h}d=x,x=d.parentNode}return null}function Jd(d){return d=d[$l]||d[fa],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Qu(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Eh(d){return d[Qd]||null}var Nm=[],bc=-1;function ml(d){return{current:d}}function Rn(d){0>bc||(d.current=Nm[bc],Nm[bc]=null,bc--)}function On(d,h){bc++,Nm[bc]=d.current,d.current=h}var iu={},ea=ml(iu),io=ml(!1),Ju=iu;function Zd(d,h){var x=d.type.contextTypes;if(!x)return iu;var S=d.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===h)return S.__reactInternalMemoizedMaskedChildContext;var O={},H;for(H in x)O[H]=h[H];return S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=O),O}function so(d){return d=d.childContextTypes,d!=null}function lp(){Rn(io),Rn(ea)}function bx(d,h,x){if(ea.current!==iu)throw Error(r(168));On(ea,h),On(io,x)}function Im(d,h,x){var S=d.stateNode;if(h=h.childContextTypes,typeof S.getChildContext!="function")return x;S=S.getChildContext();for(var O in S)if(!(O in h))throw Error(r(108,ye(d)||"Unknown",O));return ue({},x,S)}function Zu(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||iu,Ju=ea.current,On(ea,d),On(io,io.current),!0}function kx(d,h,x){var S=d.stateNode;if(!S)throw Error(r(169));x?(d=Im(d,h,Ju),S.__reactInternalMemoizedMergedChildContext=d,Rn(io),Rn(ea),On(ea,d)):Rn(io),On(io,x)}var kc=null,Ch=!1,b=!1;function T(d){kc===null?kc=[d]:kc.push(d)}function U(d){Ch=!0,T(d)}function Q(){if(!b&&kc!==null){b=!0;var d=0,h=Kr;try{var x=kc;for(Kr=1;d<x.length;d++){var S=x[d];do S=S(!0);while(S!==null)}kc=null,Ch=!1}catch(O){throw kc!==null&&(kc=kc.slice(d+1)),Et(fn,Q),O}finally{Kr=h,b=!1}}return null}var ne=[],de=0,pe=null,ge=0,ve=[],Ee=0,Ve=null,Ze=1,Te="";function ze(d,h){ne[de++]=ge,ne[de++]=pe,pe=d,ge=h}function Xe(d,h,x){ve[Ee++]=Ze,ve[Ee++]=Te,ve[Ee++]=Ve,Ve=d;var S=Ze;d=Te;var O=32-An(S)-1;S&=~(1<<O),x+=1;var H=32-An(h)+O;if(30<H){var le=O-O%5;H=(S&(1<<le)-1).toString(32),S>>=le,O-=le,Ze=1<<32-An(h)+O|x<<O|S,Te=H+d}else Ze=1<<H|x<<O|S,Te=d}function mt(d){d.return!==null&&(ze(d,1),Xe(d,1,0))}function nt(d){for(;d===pe;)pe=ne[--de],ne[de]=null,ge=ne[--de],ne[de]=null;for(;d===Ve;)Ve=ve[--Ee],ve[Ee]=null,Te=ve[--Ee],ve[Ee]=null,Ze=ve[--Ee],ve[Ee]=null}var ft=null,ht=null,yt=!1,wt=null;function gr(d,h){var x=Kl(5,null,null,0);x.elementType="DELETED",x.stateNode=h,x.return=d,h=d.deletions,h===null?(d.deletions=[x],d.flags|=16):h.push(x)}function rr(d,h){switch(d.tag){case 5:var x=d.type;return h=h.nodeType!==1||x.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(d.stateNode=h,ft=d,ht=Fa(h.firstChild),!0):!1;case 6:return h=d.pendingProps===""||h.nodeType!==3?null:h,h!==null?(d.stateNode=h,ft=d,ht=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(x=Ve!==null?{id:Ze,overflow:Te}:null,d.memoizedState={dehydrated:h,treeContext:x,retryLane:1073741824},x=Kl(18,null,null,0),x.stateNode=h,x.return=d,d.child=x,ft=d,ht=null,!0):!1;default:return!1}}function Ur(d){return(d.mode&1)!==0&&(d.flags&128)===0}function or(d){if(yt){var h=ht;if(h){var x=h;if(!rr(d,h)){if(Ur(d))throw Error(r(418));h=Fa(x.nextSibling);var S=ft;h&&rr(d,h)?gr(S,x):(d.flags=d.flags&-4097|2,yt=!1,ft=d)}}else{if(Ur(d))throw Error(r(418));d.flags=d.flags&-4097|2,yt=!1,ft=d}}}function nn(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ft=d}function Ri(d){if(d!==ft)return!1;if(!yt)return nn(d),yt=!0,!1;var h;if((h=d.tag!==3)&&!(h=d.tag!==5)&&(h=d.type,h=h!=="head"&&h!=="body"&&!Cm(d.type,d.memoizedProps)),h&&(h=ht)){if(Ur(d))throw $r(),Error(r(418));for(;h;)gr(d,h),h=Fa(h.nextSibling)}if(nn(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"){if(h===0){ht=Fa(d.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++}d=d.nextSibling}ht=null}}else ht=ft?Fa(d.stateNode.nextSibling):null;return!0}function $r(){for(var d=ht;d;)d=Fa(d.nextSibling)}function nr(){ht=ft=null,yt=!1}function qt(d){wt===null?wt=[d]:wt.push(d)}var qi=V.ReactCurrentBatchConfig;function Rr(d,h,x){if(d=x.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var S=x.stateNode}if(!S)throw Error(r(147,d));var O=S,H=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===H?h.ref:(h=function(le){var Fe=O.refs;le===null?delete Fe[H]:Fe[H]=le},h._stringRef=H,h)}if(typeof d!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,d))}return d}function Jr(d,h){throw d=Object.prototype.toString.call(h),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function ni(d){var h=d._init;return h(d._payload)}function js(d){function h(rt,$e){if(d){var at=rt.deletions;at===null?(rt.deletions=[$e],rt.flags|=16):at.push($e)}}function x(rt,$e){if(!d)return null;for(;$e!==null;)h(rt,$e),$e=$e.sibling;return null}function S(rt,$e){for(rt=new Map;$e!==null;)$e.key!==null?rt.set($e.key,$e):rt.set($e.index,$e),$e=$e.sibling;return rt}function O(rt,$e){return rt=uf(rt,$e),rt.index=0,rt.sibling=null,rt}function H(rt,$e,at){return rt.index=at,d?(at=rt.alternate,at!==null?(at=at.index,at<$e?(rt.flags|=2,$e):at):(rt.flags|=2,$e)):(rt.flags|=1048576,$e)}function le(rt){return d&&rt.alternate===null&&(rt.flags|=2),rt}function Fe(rt,$e,at,Bt){return $e===null||$e.tag!==6?($e=iw(at,rt.mode,Bt),$e.return=rt,$e):($e=O($e,at),$e.return=rt,$e)}function Ue(rt,$e,at,Bt){var xr=at.type;return xr===R?Lt(rt,$e,at.props.children,Bt,at.key):$e!==null&&($e.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===_e&&ni(xr)===$e.type)?(Bt=O($e,at.props),Bt.ref=Rr(rt,$e,at),Bt.return=rt,Bt):(Bt=$x(at.type,at.key,at.props,null,rt.mode,Bt),Bt.ref=Rr(rt,$e,at),Bt.return=rt,Bt)}function lt(rt,$e,at,Bt){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==at.containerInfo||$e.stateNode.implementation!==at.implementation?($e=sw(at,rt.mode,Bt),$e.return=rt,$e):($e=O($e,at.children||[]),$e.return=rt,$e)}function Lt(rt,$e,at,Bt,xr){return $e===null||$e.tag!==7?($e=Fh(at,rt.mode,Bt,xr),$e.return=rt,$e):($e=O($e,at),$e.return=rt,$e)}function Dt(rt,$e,at){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return $e=iw(""+$e,rt.mode,at),$e.return=rt,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case G:return at=$x($e.type,$e.key,$e.props,null,rt.mode,at),at.ref=Rr(rt,null,$e),at.return=rt,at;case X:return $e=sw($e,rt.mode,at),$e.return=rt,$e;case _e:var Bt=$e._init;return Dt(rt,Bt($e._payload),at)}if(je($e)||W($e))return $e=Fh($e,rt.mode,at,null),$e.return=rt,$e;Jr(rt,$e)}return null}function Rt(rt,$e,at,Bt){var xr=$e!==null?$e.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return xr!==null?null:Fe(rt,$e,""+at,Bt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case G:return at.key===xr?Ue(rt,$e,at,Bt):null;case X:return at.key===xr?lt(rt,$e,at,Bt):null;case _e:return xr=at._init,Rt(rt,$e,xr(at._payload),Bt)}if(je(at)||W(at))return xr!==null?null:Lt(rt,$e,at,Bt,null);Jr(rt,at)}return null}function Zt(rt,$e,at,Bt,xr){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return rt=rt.get(at)||null,Fe($e,rt,""+Bt,xr);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case G:return rt=rt.get(Bt.key===null?at:Bt.key)||null,Ue($e,rt,Bt,xr);case X:return rt=rt.get(Bt.key===null?at:Bt.key)||null,lt($e,rt,Bt,xr);case _e:var Er=Bt._init;return Zt(rt,$e,at,Er(Bt._payload),xr)}if(je(Bt)||W(Bt))return rt=rt.get(at)||null,Lt($e,rt,Bt,xr,null);Jr($e,Bt)}return null}function ur(rt,$e,at,Bt){for(var xr=null,Er=null,Cr=$e,Or=$e=0,xa=null;Cr!==null&&Or<at.length;Or++){Cr.index>Or?(xa=Cr,Cr=null):xa=Cr.sibling;var Nn=Rt(rt,Cr,at[Or],Bt);if(Nn===null){Cr===null&&(Cr=xa);break}d&&Cr&&Nn.alternate===null&&h(rt,Cr),$e=H(Nn,$e,Or),Er===null?xr=Nn:Er.sibling=Nn,Er=Nn,Cr=xa}if(Or===at.length)return x(rt,Cr),yt&&ze(rt,Or),xr;if(Cr===null){for(;Or<at.length;Or++)Cr=Dt(rt,at[Or],Bt),Cr!==null&&($e=H(Cr,$e,Or),Er===null?xr=Cr:Er.sibling=Cr,Er=Cr);return yt&&ze(rt,Or),xr}for(Cr=S(rt,Cr);Or<at.length;Or++)xa=Zt(Cr,rt,Or,at[Or],Bt),xa!==null&&(d&&xa.alternate!==null&&Cr.delete(xa.key===null?Or:xa.key),$e=H(xa,$e,Or),Er===null?xr=xa:Er.sibling=xa,Er=xa);return d&&Cr.forEach(function(df){return h(rt,df)}),yt&&ze(rt,Or),xr}function hr(rt,$e,at,Bt){var xr=W(at);if(typeof xr!="function")throw Error(r(150));if(at=xr.call(at),at==null)throw Error(r(151));for(var Er=xr=null,Cr=$e,Or=$e=0,xa=null,Nn=at.next();Cr!==null&&!Nn.done;Or++,Nn=at.next()){Cr.index>Or?(xa=Cr,Cr=null):xa=Cr.sibling;var df=Rt(rt,Cr,Nn.value,Bt);if(df===null){Cr===null&&(Cr=xa);break}d&&Cr&&df.alternate===null&&h(rt,Cr),$e=H(df,$e,Or),Er===null?xr=df:Er.sibling=df,Er=df,Cr=xa}if(Nn.done)return x(rt,Cr),yt&&ze(rt,Or),xr;if(Cr===null){for(;!Nn.done;Or++,Nn=at.next())Nn=Dt(rt,Nn.value,Bt),Nn!==null&&($e=H(Nn,$e,Or),Er===null?xr=Nn:Er.sibling=Nn,Er=Nn);return yt&&ze(rt,Or),xr}for(Cr=S(rt,Cr);!Nn.done;Or++,Nn=at.next())Nn=Zt(Cr,rt,Or,Nn.value,Bt),Nn!==null&&(d&&Nn.alternate!==null&&Cr.delete(Nn.key===null?Or:Nn.key),$e=H(Nn,$e,Or),Er===null?xr=Nn:Er.sibling=Nn,Er=Nn);return d&&Cr.forEach(function(mz){return h(rt,mz)}),yt&&ze(rt,Or),xr}function ws(rt,$e,at,Bt){if(typeof at=="object"&&at!==null&&at.type===R&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case G:e:{for(var xr=at.key,Er=$e;Er!==null;){if(Er.key===xr){if(xr=at.type,xr===R){if(Er.tag===7){x(rt,Er.sibling),$e=O(Er,at.props.children),$e.return=rt,rt=$e;break e}}else if(Er.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===_e&&ni(xr)===Er.type){x(rt,Er.sibling),$e=O(Er,at.props),$e.ref=Rr(rt,Er,at),$e.return=rt,rt=$e;break e}x(rt,Er);break}else h(rt,Er);Er=Er.sibling}at.type===R?($e=Fh(at.props.children,rt.mode,Bt,at.key),$e.return=rt,rt=$e):(Bt=$x(at.type,at.key,at.props,null,rt.mode,Bt),Bt.ref=Rr(rt,$e,at),Bt.return=rt,rt=Bt)}return le(rt);case X:e:{for(Er=at.key;$e!==null;){if($e.key===Er)if($e.tag===4&&$e.stateNode.containerInfo===at.containerInfo&&$e.stateNode.implementation===at.implementation){x(rt,$e.sibling),$e=O($e,at.children||[]),$e.return=rt,rt=$e;break e}else{x(rt,$e);break}else h(rt,$e);$e=$e.sibling}$e=sw(at,rt.mode,Bt),$e.return=rt,rt=$e}return le(rt);case _e:return Er=at._init,ws(rt,$e,Er(at._payload),Bt)}if(je(at))return ur(rt,$e,at,Bt);if(W(at))return hr(rt,$e,at,Bt);Jr(rt,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,$e!==null&&$e.tag===6?(x(rt,$e.sibling),$e=O($e,at),$e.return=rt,rt=$e):(x(rt,$e),$e=iw(at,rt.mode,Bt),$e.return=rt,rt=$e),le(rt)):x(rt,$e)}return ws}var rs=js(!0),_i=js(!1),vs=ml(null),Ds=null,mi=null,cn=null;function bn(){cn=mi=Ds=null}function gi(d){var h=vs.current;Rn(vs),d._currentValue=h}function kn(d,h,x){for(;d!==null;){var S=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,S!==null&&(S.childLanes|=h)):S!==null&&(S.childLanes&h)!==h&&(S.childLanes|=h),d===x)break;d=d.return}}function Li(d,h){Ds=d,cn=mi=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&h)!==0&&(Go=!0),d.firstContext=null)}function Fi(d){var h=d._currentValue;if(cn!==d)if(d={context:d,memoizedValue:h,next:null},mi===null){if(Ds===null)throw Error(r(308));mi=d,Ds.dependencies={lanes:0,firstContext:d}}else mi=mi.next=d;return h}var $n=null;function ha(d){$n===null?$n=[d]:$n.push(d)}function Mn(d,h,x,S){var O=h.interleaved;return O===null?(x.next=x,ha(h)):(x.next=O.next,O.next=x),h.interleaved=x,qn(d,S)}function qn(d,h){d.lanes|=h;var x=d.alternate;for(x!==null&&(x.lanes|=h),x=d,d=d.return;d!==null;)d.childLanes|=h,x=d.alternate,x!==null&&(x.childLanes|=h),x=d,d=d.return;return x.tag===3?x.stateNode:null}var ns=!1;function ta(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ao(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Hi(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function Wi(d,h,x){var S=d.updateQueue;if(S===null)return null;if(S=S.shared,(Sn&2)!==0){var O=S.pending;return O===null?h.next=h:(h.next=O.next,O.next=h),S.pending=h,qn(d,x)}return O=S.interleaved,O===null?(h.next=h,ha(S)):(h.next=O.next,O.next=h),S.interleaved=h,qn(d,x)}function pa(d,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194240)!==0)){var S=h.lanes;S&=d.pendingLanes,x|=S,h.lanes=x,ol(d,x)}}function Hn(d,h){var x=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,x===S)){var O=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var le={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};H===null?O=H=le:H=H.next=le,x=x.next}while(x!==null);H===null?O=H=h:H=H.next=h}else O=H=h;x={baseState:S.baseState,firstBaseUpdate:O,lastBaseUpdate:H,shared:S.shared,effects:S.effects},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=h:d.next=h,x.lastBaseUpdate=h}function ma(d,h,x,S){var O=d.updateQueue;ns=!1;var H=O.firstBaseUpdate,le=O.lastBaseUpdate,Fe=O.shared.pending;if(Fe!==null){O.shared.pending=null;var Ue=Fe,lt=Ue.next;Ue.next=null,le===null?H=lt:le.next=lt,le=Ue;var Lt=d.alternate;Lt!==null&&(Lt=Lt.updateQueue,Fe=Lt.lastBaseUpdate,Fe!==le&&(Fe===null?Lt.firstBaseUpdate=lt:Fe.next=lt,Lt.lastBaseUpdate=Ue))}if(H!==null){var Dt=O.baseState;le=0,Lt=lt=Ue=null,Fe=H;do{var Rt=Fe.lane,Zt=Fe.eventTime;if((S&Rt)===Rt){Lt!==null&&(Lt=Lt.next={eventTime:Zt,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var ur=d,hr=Fe;switch(Rt=h,Zt=x,hr.tag){case 1:if(ur=hr.payload,typeof ur=="function"){Dt=ur.call(Zt,Dt,Rt);break e}Dt=ur;break e;case 3:ur.flags=ur.flags&-65537|128;case 0:if(ur=hr.payload,Rt=typeof ur=="function"?ur.call(Zt,Dt,Rt):ur,Rt==null)break e;Dt=ue({},Dt,Rt);break e;case 2:ns=!0}}Fe.callback!==null&&Fe.lane!==0&&(d.flags|=64,Rt=O.effects,Rt===null?O.effects=[Fe]:Rt.push(Fe))}else Zt={eventTime:Zt,lane:Rt,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},Lt===null?(lt=Lt=Zt,Ue=Dt):Lt=Lt.next=Zt,le|=Rt;if(Fe=Fe.next,Fe===null){if(Fe=O.shared.pending,Fe===null)break;Rt=Fe,Fe=Rt.next,Rt.next=null,O.lastBaseUpdate=Rt,O.shared.pending=null}}while(!0);if(Lt===null&&(Ue=Dt),O.baseState=Ue,O.firstBaseUpdate=lt,O.lastBaseUpdate=Lt,h=O.shared.interleaved,h!==null){O=h;do le|=O.lane,O=O.next;while(O!==h)}else H===null&&(O.shared.lanes=0);Ih|=le,d.lanes=le,d.memoizedState=Dt}}function Wo(d,h,x){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var S=d[h],O=S.callback;if(O!==null){if(S.callback=null,S=x,typeof O!="function")throw Error(r(191,O));O.call(S)}}}var gl={},Os=ml(gl),Gi=ml(gl),su=ml(gl);function Sc(d){if(d===gl)throw Error(r(174));return d}function ef(d,h){switch(On(su,h),On(Gi,d),On(Os,gl),d=h.nodeType,d){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:dt(null,"");break;default:d=d===8?h.parentNode:h,h=d.namespaceURI||null,d=d.tagName,h=dt(h,d)}Rn(Os),On(Os,h)}function ql(){Rn(Os),Rn(Gi),Rn(su)}function Sx(d){Sc(su.current);var h=Sc(Os.current),x=dt(h,d.type);h!==x&&(On(Gi,d),On(Os,x))}function Pm(d){Gi.current===d&&(Rn(Os),Rn(Gi))}var ci=ml(0);function xl(d){for(var h=d;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Rm=[];function Lm(){for(var d=0;d<Rm.length;d++)Rm[d]._workInProgressVersionPrimary=null;Rm.length=0}var cp=V.ReactCurrentDispatcher,up=V.ReactCurrentBatchConfig,Hl=0,xi=null,is=null,Ki=null,tf=!1,Ec=!1,rf=0,I4=0;function ys(){throw Error(r(321))}function dp(d,h){if(h===null)return!1;for(var x=0;x<h.length&&x<d.length;x++)if(!xs(d[x],h[x]))return!1;return!0}function Th(d,h,x,S,O,H){if(Hl=H,xi=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,cp.current=d===null||d.memoizedState===null?UU:zU,d=x(S,O),Ec){H=0;do{if(Ec=!1,rf=0,25<=H)throw Error(r(301));H+=1,Ki=is=null,h.updateQueue=null,cp.current=$U,d=x(S,O)}while(Ec)}if(cp.current=Nx,h=is!==null&&is.next!==null,Hl=0,Ki=is=xi=null,tf=!1,h)throw Error(r(300));return d}function Wl(){var d=rf!==0;return rf=0,d}function vl(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ki===null?xi.memoizedState=Ki=d:Ki=Ki.next=d,Ki}function No(){if(is===null){var d=xi.alternate;d=d!==null?d.memoizedState:null}else d=is.next;var h=Ki===null?xi.memoizedState:Ki.next;if(h!==null)Ki=h,is=d;else{if(d===null)throw Error(r(310));is=d,d={memoizedState:is.memoizedState,baseState:is.baseState,baseQueue:is.baseQueue,queue:is.queue,next:null},Ki===null?xi.memoizedState=Ki=d:Ki=Ki.next=d}return Ki}function Ah(d,h){return typeof h=="function"?h(d):h}function fp(d){var h=No(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=d;var S=is,O=S.baseQueue,H=x.pending;if(H!==null){if(O!==null){var le=O.next;O.next=H.next,H.next=le}S.baseQueue=O=H,x.pending=null}if(O!==null){H=O.next,S=S.baseState;var Fe=le=null,Ue=null,lt=H;do{var Lt=lt.lane;if((Hl&Lt)===Lt)Ue!==null&&(Ue=Ue.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),S=lt.hasEagerState?lt.eagerState:d(S,lt.action);else{var Dt={lane:Lt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};Ue===null?(Fe=Ue=Dt,le=S):Ue=Ue.next=Dt,xi.lanes|=Lt,Ih|=Lt}lt=lt.next}while(lt!==null&&lt!==H);Ue===null?le=S:Ue.next=Fe,xs(S,h.memoizedState)||(Go=!0),h.memoizedState=S,h.baseState=le,h.baseQueue=Ue,x.lastRenderedState=S}if(d=x.interleaved,d!==null){O=d;do H=O.lane,xi.lanes|=H,Ih|=H,O=O.next;while(O!==d)}else O===null&&(x.lanes=0);return[h.memoizedState,x.dispatch]}function au(d){var h=No(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=d;var S=x.dispatch,O=x.pending,H=h.memoizedState;if(O!==null){x.pending=null;var le=O=O.next;do H=d(H,le.action),le=le.next;while(le!==O);xs(H,h.memoizedState)||(Go=!0),h.memoizedState=H,h.baseQueue===null&&(h.baseState=H),x.lastRenderedState=H}return[H,S]}function Ex(){}function Fm(d,h){var x=xi,S=No(),O=h(),H=!xs(S.memoizedState,O);if(H&&(S.memoizedState=O,Go=!0),S=S.queue,mp(Tx.bind(null,x,S,d),[d]),S.getSnapshot!==h||H||Ki!==null&&Ki.memoizedState.tag&1){if(x.flags|=2048,Io(9,jm.bind(null,x,S,O,h),void 0,null),ga===null)throw Error(r(349));(Hl&30)!==0||Cx(x,h,O)}return O}function Cx(d,h,x){d.flags|=16384,d={getSnapshot:h,value:x},h=xi.updateQueue,h===null?(h={lastEffect:null,stores:null},xi.updateQueue=h,h.stores=[d]):(x=h.stores,x===null?h.stores=[d]:x.push(d))}function jm(d,h,x,S){h.value=x,h.getSnapshot=S,nf(h)&&hp(d)}function Tx(d,h,x){return x(function(){nf(h)&&hp(d)})}function nf(d){var h=d.getSnapshot;d=d.value;try{var x=h();return!xs(d,x)}catch{return!0}}function hp(d){var h=qn(d,1);h!==null&&Ic(h,d,1,-1)}function Nh(d){var h=vl();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:d},h.queue=d,d=d.dispatch=VU.bind(null,xi,d),[h.memoizedState,d]}function Io(d,h,x,S){return d={tag:d,create:h,destroy:x,deps:S,next:null},h=xi.updateQueue,h===null?(h={lastEffect:null,stores:null},xi.updateQueue=h,h.lastEffect=d.next=d):(x=h.lastEffect,x===null?h.lastEffect=d.next=d:(S=x.next,x.next=d,d.next=S,h.lastEffect=d)),d}function Cc(){return No().memoizedState}function yl(d,h,x,S){var O=vl();xi.flags|=d,O.memoizedState=Io(1|h,x,void 0,S===void 0?null:S)}function ed(d,h,x,S){var O=No();S=S===void 0?null:S;var H=void 0;if(is!==null){var le=is.memoizedState;if(H=le.destroy,S!==null&&dp(S,le.deps)){O.memoizedState=Io(h,x,H,S);return}}xi.flags|=d,O.memoizedState=Io(1|h,x,H,S)}function pp(d,h){return yl(8390656,8,d,h)}function mp(d,h){return ed(2048,8,d,h)}function Ax(d,h){return ed(4,2,d,h)}function gp(d,h){return ed(4,4,d,h)}function xp(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function m7(d,h,x){return x=x!=null?x.concat([d]):null,ed(4,4,xp.bind(null,h,d),x)}function P4(){}function g7(d,h){var x=No();h=h===void 0?null:h;var S=x.memoizedState;return S!==null&&h!==null&&dp(h,S[1])?S[0]:(x.memoizedState=[d,h],d)}function x7(d,h){var x=No();h=h===void 0?null:h;var S=x.memoizedState;return S!==null&&h!==null&&dp(h,S[1])?S[0]:(d=d(),x.memoizedState=[d,h],d)}function v7(d,h,x){return(Hl&21)===0?(d.baseState&&(d.baseState=!1,Go=!0),d.memoizedState=x):(xs(x,h)||(x=xc(),xi.lanes|=x,Ih|=x,d.baseState=!0),h)}function MU(d,h){var x=Kr;Kr=x!==0&&4>x?x:4,d(!0);var S=up.transition;up.transition={};try{d(!1),h()}finally{Kr=x,up.transition=S}}function y7(){return No().memoizedState}function BU(d,h,x){var S=lf(d);if(x={lane:S,action:x,hasEagerState:!1,eagerState:null,next:null},w7(d))_7(h,x);else if(x=Mn(d,h,x,S),x!==null){var O=Ro();Ic(x,d,S,O),b7(x,h,S)}}function VU(d,h,x){var S=lf(d),O={lane:S,action:x,hasEagerState:!1,eagerState:null,next:null};if(w7(d))_7(h,O);else{var H=d.alternate;if(d.lanes===0&&(H===null||H.lanes===0)&&(H=h.lastRenderedReducer,H!==null))try{var le=h.lastRenderedState,Fe=H(le,x);if(O.hasEagerState=!0,O.eagerState=Fe,xs(Fe,le)){var Ue=h.interleaved;Ue===null?(O.next=O,ha(h)):(O.next=Ue.next,Ue.next=O),h.interleaved=O;return}}catch{}finally{}x=Mn(d,h,O,S),x!==null&&(O=Ro(),Ic(x,d,S,O),b7(x,h,S))}}function w7(d){var h=d.alternate;return d===xi||h!==null&&h===xi}function _7(d,h){Ec=tf=!0;var x=d.pending;x===null?h.next=h:(h.next=x.next,x.next=h),d.pending=h}function b7(d,h,x){if((x&4194240)!==0){var S=h.lanes;S&=d.pendingLanes,x|=S,h.lanes=x,ol(d,x)}}var Nx={readContext:Fi,useCallback:ys,useContext:ys,useEffect:ys,useImperativeHandle:ys,useInsertionEffect:ys,useLayoutEffect:ys,useMemo:ys,useReducer:ys,useRef:ys,useState:ys,useDebugValue:ys,useDeferredValue:ys,useTransition:ys,useMutableSource:ys,useSyncExternalStore:ys,useId:ys,unstable_isNewReconciler:!1},UU={readContext:Fi,useCallback:function(d,h){return vl().memoizedState=[d,h===void 0?null:h],d},useContext:Fi,useEffect:pp,useImperativeHandle:function(d,h,x){return x=x!=null?x.concat([d]):null,yl(4194308,4,xp.bind(null,h,d),x)},useLayoutEffect:function(d,h){return yl(4194308,4,d,h)},useInsertionEffect:function(d,h){return yl(4,2,d,h)},useMemo:function(d,h){var x=vl();return h=h===void 0?null:h,d=d(),x.memoizedState=[d,h],d},useReducer:function(d,h,x){var S=vl();return h=x!==void 0?x(h):h,S.memoizedState=S.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},S.queue=d,d=d.dispatch=BU.bind(null,xi,d),[S.memoizedState,d]},useRef:function(d){var h=vl();return d={current:d},h.memoizedState=d},useState:Nh,useDebugValue:P4,useDeferredValue:function(d){return vl().memoizedState=d},useTransition:function(){var d=Nh(!1),h=d[0];return d=MU.bind(null,d[1]),vl().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,x){var S=xi,O=vl();if(yt){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),ga===null)throw Error(r(349));(Hl&30)!==0||Cx(S,h,x)}O.memoizedState=x;var H={value:x,getSnapshot:h};return O.queue=H,pp(Tx.bind(null,S,H,d),[d]),S.flags|=2048,Io(9,jm.bind(null,S,H,x,h),void 0,null),x},useId:function(){var d=vl(),h=ga.identifierPrefix;if(yt){var x=Te,S=Ze;x=(S&~(1<<32-An(S)-1)).toString(32)+x,h=":"+h+"R"+x,x=rf++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=I4++,h=":"+h+"r"+x.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},zU={readContext:Fi,useCallback:g7,useContext:Fi,useEffect:mp,useImperativeHandle:m7,useInsertionEffect:Ax,useLayoutEffect:gp,useMemo:x7,useReducer:fp,useRef:Cc,useState:function(){return fp(Ah)},useDebugValue:P4,useDeferredValue:function(d){var h=No();return v7(h,is.memoizedState,d)},useTransition:function(){var d=fp(Ah)[0],h=No().memoizedState;return[d,h]},useMutableSource:Ex,useSyncExternalStore:Fm,useId:y7,unstable_isNewReconciler:!1},$U={readContext:Fi,useCallback:g7,useContext:Fi,useEffect:mp,useImperativeHandle:m7,useInsertionEffect:Ax,useLayoutEffect:gp,useMemo:x7,useReducer:au,useRef:Cc,useState:function(){return au(Ah)},useDebugValue:P4,useDeferredValue:function(d){var h=No();return is===null?h.memoizedState=d:v7(h,is.memoizedState,d)},useTransition:function(){var d=au(Ah)[0],h=No().memoizedState;return[d,h]},useMutableSource:Ex,useSyncExternalStore:Fm,useId:y7,unstable_isNewReconciler:!1};function Tc(d,h){if(d&&d.defaultProps){h=ue({},h),d=d.defaultProps;for(var x in d)h[x]===void 0&&(h[x]=d[x]);return h}return h}function R4(d,h,x,S){h=d.memoizedState,x=x(S,h),x=x==null?h:ue({},h,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var Ix={isMounted:function(d){return(d=d._reactInternals)?Ie(d)===d:!1},enqueueSetState:function(d,h,x){d=d._reactInternals;var S=Ro(),O=lf(d),H=Hi(S,O);H.payload=h,x!=null&&(H.callback=x),h=Wi(d,H,O),h!==null&&(Ic(h,d,O,S),pa(h,d,O))},enqueueReplaceState:function(d,h,x){d=d._reactInternals;var S=Ro(),O=lf(d),H=Hi(S,O);H.tag=1,H.payload=h,x!=null&&(H.callback=x),h=Wi(d,H,O),h!==null&&(Ic(h,d,O,S),pa(h,d,O))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var x=Ro(),S=lf(d),O=Hi(x,S);O.tag=2,h!=null&&(O.callback=h),h=Wi(d,O,S),h!==null&&(Ic(h,d,S,x),pa(h,d,S))}};function k7(d,h,x,S,O,H,le){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,H,le):h.prototype&&h.prototype.isPureReactComponent?!Ul(x,S)||!Ul(O,H):!0}function S7(d,h,x){var S=!1,O=iu,H=h.contextType;return typeof H=="object"&&H!==null?H=Fi(H):(O=so(h)?Ju:ea.current,S=h.contextTypes,H=(S=S!=null)?Zd(d,O):iu),h=new h(x,H),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ix,d.stateNode=h,h._reactInternals=d,S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=O,d.__reactInternalMemoizedMaskedChildContext=H),h}function E7(d,h,x,S){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,S),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,S),h.state!==d&&Ix.enqueueReplaceState(h,h.state,null)}function L4(d,h,x,S){var O=d.stateNode;O.props=x,O.state=d.memoizedState,O.refs={},ta(d);var H=h.contextType;typeof H=="object"&&H!==null?O.context=Fi(H):(H=so(h)?Ju:ea.current,O.context=Zd(d,H)),O.state=d.memoizedState,H=h.getDerivedStateFromProps,typeof H=="function"&&(R4(d,h,H,x),O.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(h=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),h!==O.state&&Ix.enqueueReplaceState(O,O.state,null),ma(d,x,O,S),O.state=d.memoizedState),typeof O.componentDidMount=="function"&&(d.flags|=4194308)}function vp(d,h){try{var x="",S=h;do x+=J(S),S=S.return;while(S);var O=x}catch(H){O=`
Error generating stack: `+H.message+`
`+H.stack}return{value:d,source:h,stack:O,digest:null}}function F4(d,h,x){return{value:d,source:null,stack:x??null,digest:h??null}}function j4(d,h){try{console.error(h.value)}catch(x){setTimeout(function(){throw x})}}var qU=typeof WeakMap=="function"?WeakMap:Map;function C7(d,h,x){x=Hi(-1,x),x.tag=3,x.payload={element:null};var S=h.value;return x.callback=function(){Ox||(Ox=!0,Y4=S),j4(d,h)},x}function T7(d,h,x){x=Hi(-1,x),x.tag=3;var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var O=h.value;x.payload=function(){return S(O)},x.callback=function(){j4(d,h)}}var H=d.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(x.callback=function(){j4(d,h),typeof S!="function"&&(af===null?af=new Set([this]):af.add(this));var le=h.stack;this.componentDidCatch(h.value,{componentStack:le!==null?le:""})}),x}function A7(d,h,x){var S=d.pingCache;if(S===null){S=d.pingCache=new qU;var O=new Set;S.set(h,O)}else O=S.get(h),O===void 0&&(O=new Set,S.set(h,O));O.has(x)||(O.add(x),d=iz.bind(null,d,h,x),h.then(d,d))}function N7(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function I7(d,h,x,S,O){return(d.mode&1)===0?(d===h?d.flags|=65536:(d.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(h=Hi(-1,1),h.tag=2,Wi(x,h,1))),x.lanes|=1),d):(d.flags|=65536,d.lanes=O,d)}var HU=V.ReactCurrentOwner,Go=!1;function Po(d,h,x,S){h.child=d===null?_i(h,null,x,S):rs(h,d.child,x,S)}function P7(d,h,x,S,O){x=x.render;var H=h.ref;return Li(h,O),S=Th(d,h,x,S,H,O),x=Wl(),d!==null&&!Go?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~O,td(d,h,O)):(yt&&x&&mt(h),h.flags|=1,Po(d,h,S,O),h.child)}function R7(d,h,x,S,O){if(d===null){var H=x.type;return typeof H=="function"&&!nw(H)&&H.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(h.tag=15,h.type=H,L7(d,h,H,S,O)):(d=$x(x.type,null,S,h,h.mode,O),d.ref=h.ref,d.return=h,h.child=d)}if(H=d.child,(d.lanes&O)===0){var le=H.memoizedProps;if(x=x.compare,x=x!==null?x:Ul,x(le,S)&&d.ref===h.ref)return td(d,h,O)}return h.flags|=1,d=uf(H,S),d.ref=h.ref,d.return=h,h.child=d}function L7(d,h,x,S,O){if(d!==null){var H=d.memoizedProps;if(Ul(H,S)&&d.ref===h.ref)if(Go=!1,h.pendingProps=S=H,(d.lanes&O)!==0)(d.flags&131072)!==0&&(Go=!0);else return h.lanes=d.lanes,td(d,h,O)}return D4(d,h,x,S,O)}function F7(d,h,x){var S=h.pendingProps,O=S.children,H=d!==null?d.memoizedState:null;if(S.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(wp,wl),wl|=x;else{if((x&1073741824)===0)return d=H!==null?H.baseLanes|x:x,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null,transitions:null},h.updateQueue=null,On(wp,wl),wl|=d,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=H!==null?H.baseLanes:x,On(wp,wl),wl|=S}else H!==null?(S=H.baseLanes|x,h.memoizedState=null):S=x,On(wp,wl),wl|=S;return Po(d,h,O,x),h.child}function j7(d,h){var x=h.ref;(d===null&&x!==null||d!==null&&d.ref!==x)&&(h.flags|=512,h.flags|=2097152)}function D4(d,h,x,S,O){var H=so(x)?Ju:ea.current;return H=Zd(h,H),Li(h,O),x=Th(d,h,x,S,H,O),S=Wl(),d!==null&&!Go?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~O,td(d,h,O)):(yt&&S&&mt(h),h.flags|=1,Po(d,h,x,O),h.child)}function D7(d,h,x,S,O){if(so(x)){var H=!0;Zu(h)}else H=!1;if(Li(h,O),h.stateNode===null)Rx(d,h),S7(h,x,S),L4(h,x,S,O),S=!0;else if(d===null){var le=h.stateNode,Fe=h.memoizedProps;le.props=Fe;var Ue=le.context,lt=x.contextType;typeof lt=="object"&&lt!==null?lt=Fi(lt):(lt=so(x)?Ju:ea.current,lt=Zd(h,lt));var Lt=x.getDerivedStateFromProps,Dt=typeof Lt=="function"||typeof le.getSnapshotBeforeUpdate=="function";Dt||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Fe!==S||Ue!==lt)&&E7(h,le,S,lt),ns=!1;var Rt=h.memoizedState;le.state=Rt,ma(h,S,le,O),Ue=h.memoizedState,Fe!==S||Rt!==Ue||io.current||ns?(typeof Lt=="function"&&(R4(h,x,Lt,S),Ue=h.memoizedState),(Fe=ns||k7(h,x,Fe,S,Rt,Ue,lt))?(Dt||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(h.flags|=4194308)):(typeof le.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=S,h.memoizedState=Ue),le.props=S,le.state=Ue,le.context=lt,S=Fe):(typeof le.componentDidMount=="function"&&(h.flags|=4194308),S=!1)}else{le=h.stateNode,ao(d,h),Fe=h.memoizedProps,lt=h.type===h.elementType?Fe:Tc(h.type,Fe),le.props=lt,Dt=h.pendingProps,Rt=le.context,Ue=x.contextType,typeof Ue=="object"&&Ue!==null?Ue=Fi(Ue):(Ue=so(x)?Ju:ea.current,Ue=Zd(h,Ue));var Zt=x.getDerivedStateFromProps;(Lt=typeof Zt=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Fe!==Dt||Rt!==Ue)&&E7(h,le,S,Ue),ns=!1,Rt=h.memoizedState,le.state=Rt,ma(h,S,le,O);var ur=h.memoizedState;Fe!==Dt||Rt!==ur||io.current||ns?(typeof Zt=="function"&&(R4(h,x,Zt,S),ur=h.memoizedState),(lt=ns||k7(h,x,lt,S,Rt,ur,Ue)||!1)?(Lt||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(S,ur,Ue),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(S,ur,Ue)),typeof le.componentDidUpdate=="function"&&(h.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof le.componentDidUpdate!="function"||Fe===d.memoizedProps&&Rt===d.memoizedState||(h.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Fe===d.memoizedProps&&Rt===d.memoizedState||(h.flags|=1024),h.memoizedProps=S,h.memoizedState=ur),le.props=S,le.state=ur,le.context=Ue,S=lt):(typeof le.componentDidUpdate!="function"||Fe===d.memoizedProps&&Rt===d.memoizedState||(h.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Fe===d.memoizedProps&&Rt===d.memoizedState||(h.flags|=1024),S=!1)}return O4(d,h,x,S,H,O)}function O4(d,h,x,S,O,H){j7(d,h);var le=(h.flags&128)!==0;if(!S&&!le)return O&&kx(h,x,!1),td(d,h,H);S=h.stateNode,HU.current=h;var Fe=le&&typeof x.getDerivedStateFromError!="function"?null:S.render();return h.flags|=1,d!==null&&le?(h.child=rs(h,d.child,null,H),h.child=rs(h,null,Fe,H)):Po(d,h,Fe,H),h.memoizedState=S.state,O&&kx(h,x,!0),h.child}function O7(d){var h=d.stateNode;h.pendingContext?bx(d,h.pendingContext,h.pendingContext!==h.context):h.context&&bx(d,h.context,!1),ef(d,h.containerInfo)}function M7(d,h,x,S,O){return nr(),qt(O),h.flags|=256,Po(d,h,x,S),h.child}var M4={dehydrated:null,treeContext:null,retryLane:0};function B4(d){return{baseLanes:d,cachePool:null,transitions:null}}function B7(d,h,x){var S=h.pendingProps,O=ci.current,H=!1,le=(h.flags&128)!==0,Fe;if((Fe=le)||(Fe=d!==null&&d.memoizedState===null?!1:(O&2)!==0),Fe?(H=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(O|=1),On(ci,O&1),d===null)return or(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((h.mode&1)===0?h.lanes=1:d.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(le=S.children,d=S.fallback,H?(S=h.mode,H=h.child,le={mode:"hidden",children:le},(S&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=le):H=qx(le,S,0,null),d=Fh(d,S,x,null),H.return=h,d.return=h,H.sibling=d,h.child=H,h.child.memoizedState=B4(x),h.memoizedState=M4,d):V4(h,le));if(O=d.memoizedState,O!==null&&(Fe=O.dehydrated,Fe!==null))return WU(d,h,le,S,Fe,O,x);if(H){H=S.fallback,le=h.mode,O=d.child,Fe=O.sibling;var Ue={mode:"hidden",children:S.children};return(le&1)===0&&h.child!==O?(S=h.child,S.childLanes=0,S.pendingProps=Ue,h.deletions=null):(S=uf(O,Ue),S.subtreeFlags=O.subtreeFlags&14680064),Fe!==null?H=uf(Fe,H):(H=Fh(H,le,x,null),H.flags|=2),H.return=h,S.return=h,S.sibling=H,h.child=S,S=H,H=h.child,le=d.child.memoizedState,le=le===null?B4(x):{baseLanes:le.baseLanes|x,cachePool:null,transitions:le.transitions},H.memoizedState=le,H.childLanes=d.childLanes&~x,h.memoizedState=M4,S}return H=d.child,d=H.sibling,S=uf(H,{mode:"visible",children:S.children}),(h.mode&1)===0&&(S.lanes=x),S.return=h,S.sibling=null,d!==null&&(x=h.deletions,x===null?(h.deletions=[d],h.flags|=16):x.push(d)),h.child=S,h.memoizedState=null,S}function V4(d,h){return h=qx({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function Px(d,h,x,S){return S!==null&&qt(S),rs(h,d.child,null,x),d=V4(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function WU(d,h,x,S,O,H,le){if(x)return h.flags&256?(h.flags&=-257,S=F4(Error(r(422))),Px(d,h,le,S)):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(H=S.fallback,O=h.mode,S=qx({mode:"visible",children:S.children},O,0,null),H=Fh(H,O,le,null),H.flags|=2,S.return=h,H.return=h,S.sibling=H,h.child=S,(h.mode&1)!==0&&rs(h,d.child,null,le),h.child.memoizedState=B4(le),h.memoizedState=M4,H);if((h.mode&1)===0)return Px(d,h,le,null);if(O.data==="$!"){if(S=O.nextSibling&&O.nextSibling.dataset,S)var Fe=S.dgst;return S=Fe,H=Error(r(419)),S=F4(H,S,void 0),Px(d,h,le,S)}if(Fe=(le&d.childLanes)!==0,Go||Fe){if(S=ga,S!==null){switch(le&-le){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(S.suspendedLanes|le))!==0?0:O,O!==0&&O!==H.retryLane&&(H.retryLane=O,qn(d,O),Ic(S,d,O,-1))}return rw(),S=F4(Error(r(421))),Px(d,h,le,S)}return O.data==="$?"?(h.flags|=128,h.child=d.child,h=sz.bind(null,d),O._reactRetry=h,null):(d=H.treeContext,ht=Fa(O.nextSibling),ft=h,yt=!0,wt=null,d!==null&&(ve[Ee++]=Ze,ve[Ee++]=Te,ve[Ee++]=Ve,Ze=d.id,Te=d.overflow,Ve=h),h=V4(h,S.children),h.flags|=4096,h)}function V7(d,h,x){d.lanes|=h;var S=d.alternate;S!==null&&(S.lanes|=h),kn(d.return,h,x)}function U4(d,h,x,S,O){var H=d.memoizedState;H===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:S,tail:x,tailMode:O}:(H.isBackwards=h,H.rendering=null,H.renderingStartTime=0,H.last=S,H.tail=x,H.tailMode=O)}function U7(d,h,x){var S=h.pendingProps,O=S.revealOrder,H=S.tail;if(Po(d,h,S.children,x),S=ci.current,(S&2)!==0)S=S&1|2,h.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&V7(d,x,h);else if(d.tag===19)V7(d,x,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}S&=1}if(On(ci,S),(h.mode&1)===0)h.memoizedState=null;else switch(O){case"forwards":for(x=h.child,O=null;x!==null;)d=x.alternate,d!==null&&xl(d)===null&&(O=x),x=x.sibling;x=O,x===null?(O=h.child,h.child=null):(O=x.sibling,x.sibling=null),U4(h,!1,O,x,H);break;case"backwards":for(x=null,O=h.child,h.child=null;O!==null;){if(d=O.alternate,d!==null&&xl(d)===null){h.child=O;break}d=O.sibling,O.sibling=x,x=O,O=d}U4(h,!0,x,null,H);break;case"together":U4(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Rx(d,h){(h.mode&1)===0&&d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2)}function td(d,h,x){if(d!==null&&(h.dependencies=d.dependencies),Ih|=h.lanes,(x&h.childLanes)===0)return null;if(d!==null&&h.child!==d.child)throw Error(r(153));if(h.child!==null){for(d=h.child,x=uf(d,d.pendingProps),h.child=x,x.return=h;d.sibling!==null;)d=d.sibling,x=x.sibling=uf(d,d.pendingProps),x.return=h;x.sibling=null}return h.child}function GU(d,h,x){switch(h.tag){case 3:O7(h),nr();break;case 5:Sx(h);break;case 1:so(h.type)&&Zu(h);break;case 4:ef(h,h.stateNode.containerInfo);break;case 10:var S=h.type._context,O=h.memoizedProps.value;On(vs,S._currentValue),S._currentValue=O;break;case 13:if(S=h.memoizedState,S!==null)return S.dehydrated!==null?(On(ci,ci.current&1),h.flags|=128,null):(x&h.child.childLanes)!==0?B7(d,h,x):(On(ci,ci.current&1),d=td(d,h,x),d!==null?d.sibling:null);On(ci,ci.current&1);break;case 19:if(S=(x&h.childLanes)!==0,(d.flags&128)!==0){if(S)return U7(d,h,x);h.flags|=128}if(O=h.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),On(ci,ci.current),S)break;return null;case 22:case 23:return h.lanes=0,F7(d,h,x)}return td(d,h,x)}var z7,z4,$7,q7;z7=function(d,h){for(var x=h.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},z4=function(){},$7=function(d,h,x,S){var O=d.memoizedProps;if(O!==S){d=h.stateNode,Sc(Os.current);var H=null;switch(x){case"input":O=Re(d,O),S=Re(d,S),H=[];break;case"select":O=ue({},O,{value:void 0}),S=ue({},S,{value:void 0}),H=[];break;case"textarea":O=At(d,O),S=At(d,S),H=[];break;default:typeof O.onClick!="function"&&typeof S.onClick=="function"&&(d.onclick=Yd)}Ge(x,S);var le;x=null;for(lt in O)if(!S.hasOwnProperty(lt)&&O.hasOwnProperty(lt)&&O[lt]!=null)if(lt==="style"){var Fe=O[lt];for(le in Fe)Fe.hasOwnProperty(le)&&(x||(x={}),x[le]="")}else lt!=="dangerouslySetInnerHTML"&&lt!=="children"&&lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&lt!=="autoFocus"&&(i.hasOwnProperty(lt)?H||(H=[]):(H=H||[]).push(lt,null));for(lt in S){var Ue=S[lt];if(Fe=O?.[lt],S.hasOwnProperty(lt)&&Ue!==Fe&&(Ue!=null||Fe!=null))if(lt==="style")if(Fe){for(le in Fe)!Fe.hasOwnProperty(le)||Ue&&Ue.hasOwnProperty(le)||(x||(x={}),x[le]="");for(le in Ue)Ue.hasOwnProperty(le)&&Fe[le]!==Ue[le]&&(x||(x={}),x[le]=Ue[le])}else x||(H||(H=[]),H.push(lt,x)),x=Ue;else lt==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Fe=Fe?Fe.__html:void 0,Ue!=null&&Fe!==Ue&&(H=H||[]).push(lt,Ue)):lt==="children"?typeof Ue!="string"&&typeof Ue!="number"||(H=H||[]).push(lt,""+Ue):lt!=="suppressContentEditableWarning"&&lt!=="suppressHydrationWarning"&&(i.hasOwnProperty(lt)?(Ue!=null&&lt==="onScroll"&&zn("scroll",d),H||Fe===Ue||(H=[])):(H=H||[]).push(lt,Ue))}x&&(H=H||[]).push("style",x);var lt=H;(h.updateQueue=lt)&&(h.flags|=4)}},q7=function(d,h,x,S){x!==S&&(h.flags|=4)};function Dm(d,h){if(!yt)switch(d.tailMode){case"hidden":h=d.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var S=null;x!==null;)x.alternate!==null&&(S=x),x=x.sibling;S===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function oo(d){var h=d.alternate!==null&&d.alternate.child===d.child,x=0,S=0;if(h)for(var O=d.child;O!==null;)x|=O.lanes|O.childLanes,S|=O.subtreeFlags&14680064,S|=O.flags&14680064,O.return=d,O=O.sibling;else for(O=d.child;O!==null;)x|=O.lanes|O.childLanes,S|=O.subtreeFlags,S|=O.flags,O.return=d,O=O.sibling;return d.subtreeFlags|=S,d.childLanes=x,h}function KU(d,h,x){var S=h.pendingProps;switch(nt(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oo(h),null;case 1:return so(h.type)&&lp(),oo(h),null;case 3:return S=h.stateNode,ql(),Rn(io),Rn(ea),Lm(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(d===null||d.child===null)&&(Ri(h)?h.flags|=4:d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,wt!==null&&(Z4(wt),wt=null))),z4(d,h),oo(h),null;case 5:Pm(h);var O=Sc(su.current);if(x=h.type,d!==null&&h.stateNode!=null)$7(d,h,x,S,O),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!S){if(h.stateNode===null)throw Error(r(166));return oo(h),null}if(d=Sc(Os.current),Ri(h)){S=h.stateNode,x=h.type;var H=h.memoizedProps;switch(S[$l]=h,S[Qd]=H,d=(h.mode&1)!==0,x){case"dialog":zn("cancel",S),zn("close",S);break;case"iframe":case"object":case"embed":zn("load",S);break;case"video":case"audio":for(O=0;O<ru.length;O++)zn(ru[O],S);break;case"source":zn("error",S);break;case"img":case"image":case"link":zn("error",S),zn("load",S);break;case"details":zn("toggle",S);break;case"input":me(S,H),zn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!H.multiple},zn("invalid",S);break;case"textarea":It(S,H),zn("invalid",S)}Ge(x,H),O=null;for(var le in H)if(H.hasOwnProperty(le)){var Fe=H[le];le==="children"?typeof Fe=="string"?S.textContent!==Fe&&(H.suppressHydrationWarning!==!0&&op(S.textContent,Fe,d),O=["children",Fe]):typeof Fe=="number"&&S.textContent!==""+Fe&&(H.suppressHydrationWarning!==!0&&op(S.textContent,Fe,d),O=["children",""+Fe]):i.hasOwnProperty(le)&&Fe!=null&&le==="onScroll"&&zn("scroll",S)}switch(x){case"input":De(S),Qe(S,H,!0);break;case"textarea":De(S),qe(S);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(S.onclick=Yd)}S=O,h.updateQueue=S,S!==null&&(h.flags|=4)}else{le=O.nodeType===9?O:O.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=We(x)),d==="http://www.w3.org/1999/xhtml"?x==="script"?(d=le.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof S.is=="string"?d=le.createElement(x,{is:S.is}):(d=le.createElement(x),x==="select"&&(le=d,S.multiple?le.multiple=!0:S.size&&(le.size=S.size))):d=le.createElementNS(d,x),d[$l]=h,d[Qd]=S,z7(d,h,!1,!1),h.stateNode=d;e:{switch(le=Ft(x,S),x){case"dialog":zn("cancel",d),zn("close",d),O=S;break;case"iframe":case"object":case"embed":zn("load",d),O=S;break;case"video":case"audio":for(O=0;O<ru.length;O++)zn(ru[O],d);O=S;break;case"source":zn("error",d),O=S;break;case"img":case"image":case"link":zn("error",d),zn("load",d),O=S;break;case"details":zn("toggle",d),O=S;break;case"input":me(d,S),O=Re(d,S),zn("invalid",d);break;case"option":O=S;break;case"select":d._wrapperState={wasMultiple:!!S.multiple},O=ue({},S,{value:void 0}),zn("invalid",d);break;case"textarea":It(d,S),O=At(d,S),zn("invalid",d);break;default:O=S}Ge(x,O),Fe=O;for(H in Fe)if(Fe.hasOwnProperty(H)){var Ue=Fe[H];H==="style"?Ut(d,Ue):H==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Ue!=null&&_t(d,Ue)):H==="children"?typeof Ue=="string"?(x!=="textarea"||Ue!=="")&&vt(d,Ue):typeof Ue=="number"&&vt(d,""+Ue):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Ue!=null&&H==="onScroll"&&zn("scroll",d):Ue!=null&&I(d,H,Ue,le))}switch(x){case"input":De(d),Qe(d,S,!1);break;case"textarea":De(d),qe(d);break;case"option":S.value!=null&&d.setAttribute("value",""+ke(S.value));break;case"select":d.multiple=!!S.multiple,H=S.value,H!=null?st(d,!!S.multiple,H,!1):S.defaultValue!=null&&st(d,!!S.multiple,S.defaultValue,!0);break;default:typeof O.onClick=="function"&&(d.onclick=Yd)}switch(x){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return oo(h),null;case 6:if(d&&h.stateNode!=null)q7(d,h,d.memoizedProps,S);else{if(typeof S!="string"&&h.stateNode===null)throw Error(r(166));if(x=Sc(su.current),Sc(Os.current),Ri(h)){if(S=h.stateNode,x=h.memoizedProps,S[$l]=h,(H=S.nodeValue!==x)&&(d=ft,d!==null))switch(d.tag){case 3:op(S.nodeValue,x,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&op(S.nodeValue,x,(d.mode&1)!==0)}H&&(h.flags|=4)}else S=(x.nodeType===9?x:x.ownerDocument).createTextNode(S),S[$l]=h,h.stateNode=S}return oo(h),null;case 13:if(Rn(ci),S=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(yt&&ht!==null&&(h.mode&1)!==0&&(h.flags&128)===0)$r(),nr(),h.flags|=98560,H=!1;else if(H=Ri(h),S!==null&&S.dehydrated!==null){if(d===null){if(!H)throw Error(r(318));if(H=h.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(r(317));H[$l]=h}else nr(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;oo(h),H=!1}else wt!==null&&(Z4(wt),wt=null),H=!0;if(!H)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=x,h):(S=S!==null,S!==(d!==null&&d.memoizedState!==null)&&S&&(h.child.flags|=8192,(h.mode&1)!==0&&(d===null||(ci.current&1)!==0?ra===0&&(ra=3):rw())),h.updateQueue!==null&&(h.flags|=4),oo(h),null);case 4:return ql(),z4(d,h),d===null&&Ku(h.stateNode.containerInfo),oo(h),null;case 10:return gi(h.type._context),oo(h),null;case 17:return so(h.type)&&lp(),oo(h),null;case 19:if(Rn(ci),H=h.memoizedState,H===null)return oo(h),null;if(S=(h.flags&128)!==0,le=H.rendering,le===null)if(S)Dm(H,!1);else{if(ra!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if(le=xl(d),le!==null){for(h.flags|=128,Dm(H,!1),S=le.updateQueue,S!==null&&(h.updateQueue=S,h.flags|=4),h.subtreeFlags=0,S=x,x=h.child;x!==null;)H=x,d=S,H.flags&=14680066,le=H.alternate,le===null?(H.childLanes=0,H.lanes=d,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=le.childLanes,H.lanes=le.lanes,H.child=le.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=le.memoizedProps,H.memoizedState=le.memoizedState,H.updateQueue=le.updateQueue,H.type=le.type,d=le.dependencies,H.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),x=x.sibling;return On(ci,ci.current&1|2),h.child}d=d.sibling}H.tail!==null&&Pt()>_p&&(h.flags|=128,S=!0,Dm(H,!1),h.lanes=4194304)}else{if(!S)if(d=xl(le),d!==null){if(h.flags|=128,S=!0,x=d.updateQueue,x!==null&&(h.updateQueue=x,h.flags|=4),Dm(H,!0),H.tail===null&&H.tailMode==="hidden"&&!le.alternate&&!yt)return oo(h),null}else 2*Pt()-H.renderingStartTime>_p&&x!==1073741824&&(h.flags|=128,S=!0,Dm(H,!1),h.lanes=4194304);H.isBackwards?(le.sibling=h.child,h.child=le):(x=H.last,x!==null?x.sibling=le:h.child=le,H.last=le)}return H.tail!==null?(h=H.tail,H.rendering=h,H.tail=h.sibling,H.renderingStartTime=Pt(),h.sibling=null,x=ci.current,On(ci,S?x&1|2:x&1),h):(oo(h),null);case 22:case 23:return tw(),S=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==S&&(h.flags|=8192),S&&(h.mode&1)!==0?(wl&1073741824)!==0&&(oo(h),h.subtreeFlags&6&&(h.flags|=8192)):oo(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function XU(d,h){switch(nt(h),h.tag){case 1:return so(h.type)&&lp(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return ql(),Rn(io),Rn(ea),Lm(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 5:return Pm(h),null;case 13:if(Rn(ci),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(r(340));nr()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Rn(ci),null;case 4:return ql(),null;case 10:return gi(h.type._context),null;case 22:case 23:return tw(),null;case 24:return null;default:return null}}var Lx=!1,lo=!1,YU=typeof WeakSet=="function"?WeakSet:Set,sr=null;function yp(d,h){var x=d.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(S){ss(d,h,S)}else x.current=null}function $4(d,h,x){try{x()}catch(S){ss(d,h,S)}}var H7=!1;function QU(d,h){if(Sh=Dl,d=xm(),tp(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var S=x.getSelection&&x.getSelection();if(S&&S.rangeCount!==0){x=S.anchorNode;var O=S.anchorOffset,H=S.focusNode;S=S.focusOffset;try{x.nodeType,H.nodeType}catch{x=null;break e}var le=0,Fe=-1,Ue=-1,lt=0,Lt=0,Dt=d,Rt=null;t:for(;;){for(var Zt;Dt!==x||O!==0&&Dt.nodeType!==3||(Fe=le+O),Dt!==H||S!==0&&Dt.nodeType!==3||(Ue=le+S),Dt.nodeType===3&&(le+=Dt.nodeValue.length),(Zt=Dt.firstChild)!==null;)Rt=Dt,Dt=Zt;for(;;){if(Dt===d)break t;if(Rt===x&&++lt===O&&(Fe=le),Rt===H&&++Lt===S&&(Ue=le),(Zt=Dt.nextSibling)!==null)break;Dt=Rt,Rt=Dt.parentNode}Dt=Zt}x=Fe===-1||Ue===-1?null:{start:Fe,end:Ue}}else x=null}x=x||{start:0,end:0}}else x=null;for(Yu={focusedElem:d,selectionRange:x},Dl=!1,sr=h;sr!==null;)if(h=sr,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,sr=d;else for(;sr!==null;){h=sr;try{var ur=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(ur!==null){var hr=ur.memoizedProps,ws=ur.memoizedState,rt=h.stateNode,$e=rt.getSnapshotBeforeUpdate(h.elementType===h.type?hr:Tc(h.type,hr),ws);rt.__reactInternalSnapshotBeforeUpdate=$e}break;case 3:var at=h.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Bt){ss(h,h.return,Bt)}if(d=h.sibling,d!==null){d.return=h.return,sr=d;break}sr=h.return}return ur=H7,H7=!1,ur}function Om(d,h,x){var S=h.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var O=S=S.next;do{if((O.tag&d)===d){var H=O.destroy;O.destroy=void 0,H!==void 0&&$4(h,x,H)}O=O.next}while(O!==S)}}function Fx(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&d)===d){var S=x.create;x.destroy=S()}x=x.next}while(x!==h)}}function q4(d){var h=d.ref;if(h!==null){var x=d.stateNode;switch(d.tag){case 5:d=x;break;default:d=x}typeof h=="function"?h(d):h.current=d}}function W7(d){var h=d.alternate;h!==null&&(d.alternate=null,W7(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&(delete h[$l],delete h[Qd],delete h[no],delete h[A4],delete h[N4])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function G7(d){return d.tag===5||d.tag===3||d.tag===4}function K7(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||G7(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function H4(d,h,x){var S=d.tag;if(S===5||S===6)d=d.stateNode,h?x.nodeType===8?x.parentNode.insertBefore(d,h):x.insertBefore(d,h):(x.nodeType===8?(h=x.parentNode,h.insertBefore(d,x)):(h=x,h.appendChild(d)),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Yd));else if(S!==4&&(d=d.child,d!==null))for(H4(d,h,x),d=d.sibling;d!==null;)H4(d,h,x),d=d.sibling}function W4(d,h,x){var S=d.tag;if(S===5||S===6)d=d.stateNode,h?x.insertBefore(d,h):x.appendChild(d);else if(S!==4&&(d=d.child,d!==null))for(W4(d,h,x),d=d.sibling;d!==null;)W4(d,h,x),d=d.sibling}var ja=null,Ac=!1;function sf(d,h,x){for(x=x.child;x!==null;)X7(d,h,x),x=x.sibling}function X7(d,h,x){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(ca,x)}catch{}switch(x.tag){case 5:lo||yp(x,h);case 6:var S=ja,O=Ac;ja=null,sf(d,h,x),ja=S,Ac=O,ja!==null&&(Ac?(d=ja,x=x.stateNode,d.nodeType===8?d.parentNode.removeChild(x):d.removeChild(x)):ja.removeChild(x.stateNode));break;case 18:ja!==null&&(Ac?(d=ja,x=x.stateNode,d.nodeType===8?Am(d.parentNode,x):d.nodeType===1&&Am(d,x),ua(d)):Am(ja,x.stateNode));break;case 4:S=ja,O=Ac,ja=x.stateNode.containerInfo,Ac=!0,sf(d,h,x),ja=S,Ac=O;break;case 0:case 11:case 14:case 15:if(!lo&&(S=x.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){O=S=S.next;do{var H=O,le=H.destroy;H=H.tag,le!==void 0&&((H&2)!==0||(H&4)!==0)&&$4(x,h,le),O=O.next}while(O!==S)}sf(d,h,x);break;case 1:if(!lo&&(yp(x,h),S=x.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=x.memoizedProps,S.state=x.memoizedState,S.componentWillUnmount()}catch(Fe){ss(x,h,Fe)}sf(d,h,x);break;case 21:sf(d,h,x);break;case 22:x.mode&1?(lo=(S=lo)||x.memoizedState!==null,sf(d,h,x),lo=S):sf(d,h,x);break;default:sf(d,h,x)}}function Y7(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var x=d.stateNode;x===null&&(x=d.stateNode=new YU),h.forEach(function(S){var O=az.bind(null,d,S);x.has(S)||(x.add(S),S.then(O,O))})}}function Nc(d,h){var x=h.deletions;if(x!==null)for(var S=0;S<x.length;S++){var O=x[S];try{var H=d,le=h,Fe=le;e:for(;Fe!==null;){switch(Fe.tag){case 5:ja=Fe.stateNode,Ac=!1;break e;case 3:ja=Fe.stateNode.containerInfo,Ac=!0;break e;case 4:ja=Fe.stateNode.containerInfo,Ac=!0;break e}Fe=Fe.return}if(ja===null)throw Error(r(160));X7(H,le,O),ja=null,Ac=!1;var Ue=O.alternate;Ue!==null&&(Ue.return=null),O.return=null}catch(lt){ss(O,h,lt)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)Q7(h,d),h=h.sibling}function Q7(d,h){var x=d.alternate,S=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Nc(h,d),ou(d),S&4){try{Om(3,d,d.return),Fx(3,d)}catch(hr){ss(d,d.return,hr)}try{Om(5,d,d.return)}catch(hr){ss(d,d.return,hr)}}break;case 1:Nc(h,d),ou(d),S&512&&x!==null&&yp(x,x.return);break;case 5:if(Nc(h,d),ou(d),S&512&&x!==null&&yp(x,x.return),d.flags&32){var O=d.stateNode;try{vt(O,"")}catch(hr){ss(d,d.return,hr)}}if(S&4&&(O=d.stateNode,O!=null)){var H=d.memoizedProps,le=x!==null?x.memoizedProps:H,Fe=d.type,Ue=d.updateQueue;if(d.updateQueue=null,Ue!==null)try{Fe==="input"&&H.type==="radio"&&H.name!=null&&Oe(O,H),Ft(Fe,le);var lt=Ft(Fe,H);for(le=0;le<Ue.length;le+=2){var Lt=Ue[le],Dt=Ue[le+1];Lt==="style"?Ut(O,Dt):Lt==="dangerouslySetInnerHTML"?_t(O,Dt):Lt==="children"?vt(O,Dt):I(O,Lt,Dt,lt)}switch(Fe){case"input":Me(O,H);break;case"textarea":Le(O,H);break;case"select":var Rt=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!H.multiple;var Zt=H.value;Zt!=null?st(O,!!H.multiple,Zt,!1):Rt!==!!H.multiple&&(H.defaultValue!=null?st(O,!!H.multiple,H.defaultValue,!0):st(O,!!H.multiple,H.multiple?[]:"",!1))}O[Qd]=H}catch(hr){ss(d,d.return,hr)}}break;case 6:if(Nc(h,d),ou(d),S&4){if(d.stateNode===null)throw Error(r(162));O=d.stateNode,H=d.memoizedProps;try{O.nodeValue=H}catch(hr){ss(d,d.return,hr)}}break;case 3:if(Nc(h,d),ou(d),S&4&&x!==null&&x.memoizedState.isDehydrated)try{ua(h.containerInfo)}catch(hr){ss(d,d.return,hr)}break;case 4:Nc(h,d),ou(d);break;case 13:Nc(h,d),ou(d),O=d.child,O.flags&8192&&(H=O.memoizedState!==null,O.stateNode.isHidden=H,!H||O.alternate!==null&&O.alternate.memoizedState!==null||(X4=Pt())),S&4&&Y7(d);break;case 22:if(Lt=x!==null&&x.memoizedState!==null,d.mode&1?(lo=(lt=lo)||Lt,Nc(h,d),lo=lt):Nc(h,d),ou(d),S&8192){if(lt=d.memoizedState!==null,(d.stateNode.isHidden=lt)&&!Lt&&(d.mode&1)!==0)for(sr=d,Lt=d.child;Lt!==null;){for(Dt=sr=Lt;sr!==null;){switch(Rt=sr,Zt=Rt.child,Rt.tag){case 0:case 11:case 14:case 15:Om(4,Rt,Rt.return);break;case 1:yp(Rt,Rt.return);var ur=Rt.stateNode;if(typeof ur.componentWillUnmount=="function"){S=Rt,x=Rt.return;try{h=S,ur.props=h.memoizedProps,ur.state=h.memoizedState,ur.componentWillUnmount()}catch(hr){ss(S,x,hr)}}break;case 5:yp(Rt,Rt.return);break;case 22:if(Rt.memoizedState!==null){e9(Dt);continue}}Zt!==null?(Zt.return=Rt,sr=Zt):e9(Dt)}Lt=Lt.sibling}e:for(Lt=null,Dt=d;;){if(Dt.tag===5){if(Lt===null){Lt=Dt;try{O=Dt.stateNode,lt?(H=O.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(Fe=Dt.stateNode,Ue=Dt.memoizedProps.style,le=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null,Fe.style.display=Yt("display",le))}catch(hr){ss(d,d.return,hr)}}}else if(Dt.tag===6){if(Lt===null)try{Dt.stateNode.nodeValue=lt?"":Dt.memoizedProps}catch(hr){ss(d,d.return,hr)}}else if((Dt.tag!==22&&Dt.tag!==23||Dt.memoizedState===null||Dt===d)&&Dt.child!==null){Dt.child.return=Dt,Dt=Dt.child;continue}if(Dt===d)break e;for(;Dt.sibling===null;){if(Dt.return===null||Dt.return===d)break e;Lt===Dt&&(Lt=null),Dt=Dt.return}Lt===Dt&&(Lt=null),Dt.sibling.return=Dt.return,Dt=Dt.sibling}}break;case 19:Nc(h,d),ou(d),S&4&&Y7(d);break;case 21:break;default:Nc(h,d),ou(d)}}function ou(d){var h=d.flags;if(h&2){try{e:{for(var x=d.return;x!==null;){if(G7(x)){var S=x;break e}x=x.return}throw Error(r(160))}switch(S.tag){case 5:var O=S.stateNode;S.flags&32&&(vt(O,""),S.flags&=-33);var H=K7(d);W4(d,H,O);break;case 3:case 4:var le=S.stateNode.containerInfo,Fe=K7(d);H4(d,Fe,le);break;default:throw Error(r(161))}}catch(Ue){ss(d,d.return,Ue)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function JU(d,h,x){sr=d,J7(d)}function J7(d,h,x){for(var S=(d.mode&1)!==0;sr!==null;){var O=sr,H=O.child;if(O.tag===22&&S){var le=O.memoizedState!==null||Lx;if(!le){var Fe=O.alternate,Ue=Fe!==null&&Fe.memoizedState!==null||lo;Fe=Lx;var lt=lo;if(Lx=le,(lo=Ue)&&!lt)for(sr=O;sr!==null;)le=sr,Ue=le.child,le.tag===22&&le.memoizedState!==null?t9(O):Ue!==null?(Ue.return=le,sr=Ue):t9(O);for(;H!==null;)sr=H,J7(H),H=H.sibling;sr=O,Lx=Fe,lo=lt}Z7(d)}else(O.subtreeFlags&8772)!==0&&H!==null?(H.return=O,sr=H):Z7(d)}}function Z7(d){for(;sr!==null;){var h=sr;if((h.flags&8772)!==0){var x=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:lo||Fx(5,h);break;case 1:var S=h.stateNode;if(h.flags&4&&!lo)if(x===null)S.componentDidMount();else{var O=h.elementType===h.type?x.memoizedProps:Tc(h.type,x.memoizedProps);S.componentDidUpdate(O,x.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var H=h.updateQueue;H!==null&&Wo(h,H,S);break;case 3:var le=h.updateQueue;if(le!==null){if(x=null,h.child!==null)switch(h.child.tag){case 5:x=h.child.stateNode;break;case 1:x=h.child.stateNode}Wo(h,le,x)}break;case 5:var Fe=h.stateNode;if(x===null&&h.flags&4){x=Fe;var Ue=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Ue.autoFocus&&x.focus();break;case"img":Ue.src&&(x.src=Ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var lt=h.alternate;if(lt!==null){var Lt=lt.memoizedState;if(Lt!==null){var Dt=Lt.dehydrated;Dt!==null&&ua(Dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}lo||h.flags&512&&q4(h)}catch(Rt){ss(h,h.return,Rt)}}if(h===d){sr=null;break}if(x=h.sibling,x!==null){x.return=h.return,sr=x;break}sr=h.return}}function e9(d){for(;sr!==null;){var h=sr;if(h===d){sr=null;break}var x=h.sibling;if(x!==null){x.return=h.return,sr=x;break}sr=h.return}}function t9(d){for(;sr!==null;){var h=sr;try{switch(h.tag){case 0:case 11:case 15:var x=h.return;try{Fx(4,h)}catch(Ue){ss(h,x,Ue)}break;case 1:var S=h.stateNode;if(typeof S.componentDidMount=="function"){var O=h.return;try{S.componentDidMount()}catch(Ue){ss(h,O,Ue)}}var H=h.return;try{q4(h)}catch(Ue){ss(h,H,Ue)}break;case 5:var le=h.return;try{q4(h)}catch(Ue){ss(h,le,Ue)}}}catch(Ue){ss(h,h.return,Ue)}if(h===d){sr=null;break}var Fe=h.sibling;if(Fe!==null){Fe.return=h.return,sr=Fe;break}sr=h.return}}var ZU=Math.ceil,jx=V.ReactCurrentDispatcher,G4=V.ReactCurrentOwner,Gl=V.ReactCurrentBatchConfig,Sn=0,ga=null,Ms=null,Da=0,wl=0,wp=ml(0),ra=0,Mm=null,Ih=0,Dx=0,K4=0,Bm=null,Ko=null,X4=0,_p=1/0,rd=null,Ox=!1,Y4=null,af=null,Mx=!1,of=null,Bx=0,Vm=0,Q4=null,Vx=-1,Ux=0;function Ro(){return(Sn&6)!==0?Pt():Vx!==-1?Vx:Vx=Pt()}function lf(d){return(d.mode&1)===0?1:(Sn&2)!==0&&Da!==0?Da&-Da:qi.transition!==null?(Ux===0&&(Ux=xc()),Ux):(d=Kr,d!==0||(d=window.event,d=d===void 0?16:Ml(d.type)),d)}function Ic(d,h,x,S){if(50<Vm)throw Vm=0,Q4=null,Error(r(185));jl(d,x,S),((Sn&2)===0||d!==ga)&&(d===ga&&((Sn&2)===0&&(Dx|=x),ra===4&&cf(d,Da)),Xo(d,S),x===1&&Sn===0&&(h.mode&1)===0&&(_p=Pt()+500,Ch&&Q()))}function Xo(d,h){var x=d.callbackNode;Pn(d,h);var S=Gs(d,d===ga?Da:0);if(S===0)x!==null&&Mt(x),d.callbackNode=null,d.callbackPriority=0;else if(h=S&-S,d.callbackPriority!==h){if(x!=null&&Mt(x),h===1)d.tag===0?U(n9.bind(null,d)):T(n9.bind(null,d)),C4(function(){(Sn&6)===0&&Q()}),x=null;else{switch(Ta(S)){case 1:x=fn;break;case 4:x=Vr;break;case 16:x=gn;break;case 536870912:x=Wa;break;default:x=gn}x=d9(x,r9.bind(null,d))}d.callbackPriority=h,d.callbackNode=x}}function r9(d,h){if(Vx=-1,Ux=0,(Sn&6)!==0)throw Error(r(327));var x=d.callbackNode;if(bp()&&d.callbackNode!==x)return null;var S=Gs(d,d===ga?Da:0);if(S===0)return null;if((S&30)!==0||(S&d.expiredLanes)!==0||h)h=zx(d,S);else{h=S;var O=Sn;Sn|=2;var H=s9();(ga!==d||Da!==h)&&(rd=null,_p=Pt()+500,Rh(d,h));do try{rz();break}catch(Fe){i9(d,Fe)}while(!0);bn(),jx.current=H,Sn=O,Ms!==null?h=0:(ga=null,Da=0,h=ra)}if(h!==0){if(h===2&&(O=Ks(d),O!==0&&(S=O,h=J4(d,O))),h===1)throw x=Mm,Rh(d,0),cf(d,S),Xo(d,Pt()),x;if(h===6)cf(d,S);else{if(O=d.current.alternate,(S&30)===0&&!ez(O)&&(h=zx(d,S),h===2&&(H=Ks(d),H!==0&&(S=H,h=J4(d,H))),h===1))throw x=Mm,Rh(d,0),cf(d,S),Xo(d,Pt()),x;switch(d.finishedWork=O,d.finishedLanes=S,h){case 0:case 1:throw Error(r(345));case 2:Lh(d,Ko,rd);break;case 3:if(cf(d,S),(S&130023424)===S&&(h=X4+500-Pt(),10<h)){if(Gs(d,0)!==0)break;if(O=d.suspendedLanes,(O&S)!==S){Ro(),d.pingedLanes|=d.suspendedLanes&O;break}d.timeoutHandle=Tm(Lh.bind(null,d,Ko,rd),h);break}Lh(d,Ko,rd);break;case 4:if(cf(d,S),(S&4194240)===S)break;for(h=d.eventTimes,O=-1;0<S;){var le=31-An(S);H=1<<le,le=h[le],le>O&&(O=le),S&=~H}if(S=O,S=Pt()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*ZU(S/1960))-S,10<S){d.timeoutHandle=Tm(Lh.bind(null,d,Ko,rd),S);break}Lh(d,Ko,rd);break;case 5:Lh(d,Ko,rd);break;default:throw Error(r(329))}}}return Xo(d,Pt()),d.callbackNode===x?r9.bind(null,d):null}function J4(d,h){var x=Bm;return d.current.memoizedState.isDehydrated&&(Rh(d,h).flags|=256),d=zx(d,h),d!==2&&(h=Ko,Ko=x,h!==null&&Z4(h)),d}function Z4(d){Ko===null?Ko=d:Ko.push.apply(Ko,d)}function ez(d){for(var h=d;;){if(h.flags&16384){var x=h.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var S=0;S<x.length;S++){var O=x[S],H=O.getSnapshot;O=O.value;try{if(!xs(H(),O))return!1}catch{return!1}}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function cf(d,h){for(h&=~K4,h&=~Dx,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var x=31-An(h),S=1<<x;d[x]=-1,h&=~S}}function n9(d){if((Sn&6)!==0)throw Error(r(327));bp();var h=Gs(d,0);if((h&1)===0)return Xo(d,Pt()),null;var x=zx(d,h);if(d.tag!==0&&x===2){var S=Ks(d);S!==0&&(h=S,x=J4(d,S))}if(x===1)throw x=Mm,Rh(d,0),cf(d,h),Xo(d,Pt()),x;if(x===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Lh(d,Ko,rd),Xo(d,Pt()),null}function ew(d,h){var x=Sn;Sn|=1;try{return d(h)}finally{Sn=x,Sn===0&&(_p=Pt()+500,Ch&&Q())}}function Ph(d){of!==null&&of.tag===0&&(Sn&6)===0&&bp();var h=Sn;Sn|=1;var x=Gl.transition,S=Kr;try{if(Gl.transition=null,Kr=1,d)return d()}finally{Kr=S,Gl.transition=x,Sn=h,(Sn&6)===0&&Q()}}function tw(){wl=wp.current,Rn(wp)}function Rh(d,h){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;if(x!==-1&&(d.timeoutHandle=-1,wx(x)),Ms!==null)for(x=Ms.return;x!==null;){var S=x;switch(nt(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&lp();break;case 3:ql(),Rn(io),Rn(ea),Lm();break;case 5:Pm(S);break;case 4:ql();break;case 13:Rn(ci);break;case 19:Rn(ci);break;case 10:gi(S.type._context);break;case 22:case 23:tw()}x=x.return}if(ga=d,Ms=d=uf(d.current,null),Da=wl=h,ra=0,Mm=null,K4=Dx=Ih=0,Ko=Bm=null,$n!==null){for(h=0;h<$n.length;h++)if(x=$n[h],S=x.interleaved,S!==null){x.interleaved=null;var O=S.next,H=x.pending;if(H!==null){var le=H.next;H.next=O,S.next=le}x.pending=S}$n=null}return d}function i9(d,h){do{var x=Ms;try{if(bn(),cp.current=Nx,tf){for(var S=xi.memoizedState;S!==null;){var O=S.queue;O!==null&&(O.pending=null),S=S.next}tf=!1}if(Hl=0,Ki=is=xi=null,Ec=!1,rf=0,G4.current=null,x===null||x.return===null){ra=1,Mm=h,Ms=null;break}e:{var H=d,le=x.return,Fe=x,Ue=h;if(h=Da,Fe.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var lt=Ue,Lt=Fe,Dt=Lt.tag;if((Lt.mode&1)===0&&(Dt===0||Dt===11||Dt===15)){var Rt=Lt.alternate;Rt?(Lt.updateQueue=Rt.updateQueue,Lt.memoizedState=Rt.memoizedState,Lt.lanes=Rt.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var Zt=N7(le);if(Zt!==null){Zt.flags&=-257,I7(Zt,le,Fe,H,h),Zt.mode&1&&A7(H,lt,h),h=Zt,Ue=lt;var ur=h.updateQueue;if(ur===null){var hr=new Set;hr.add(Ue),h.updateQueue=hr}else ur.add(Ue);break e}else{if((h&1)===0){A7(H,lt,h),rw();break e}Ue=Error(r(426))}}else if(yt&&Fe.mode&1){var ws=N7(le);if(ws!==null){(ws.flags&65536)===0&&(ws.flags|=256),I7(ws,le,Fe,H,h),qt(vp(Ue,Fe));break e}}H=Ue=vp(Ue,Fe),ra!==4&&(ra=2),Bm===null?Bm=[H]:Bm.push(H),H=le;do{switch(H.tag){case 3:H.flags|=65536,h&=-h,H.lanes|=h;var rt=C7(H,Ue,h);Hn(H,rt);break e;case 1:Fe=Ue;var $e=H.type,at=H.stateNode;if((H.flags&128)===0&&(typeof $e.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(af===null||!af.has(at)))){H.flags|=65536,h&=-h,H.lanes|=h;var Bt=T7(H,Fe,h);Hn(H,Bt);break e}}H=H.return}while(H!==null)}o9(x)}catch(xr){h=xr,Ms===x&&x!==null&&(Ms=x=x.return);continue}break}while(!0)}function s9(){var d=jx.current;return jx.current=Nx,d===null?Nx:d}function rw(){(ra===0||ra===3||ra===2)&&(ra=4),ga===null||(Ih&268435455)===0&&(Dx&268435455)===0||cf(ga,Da)}function zx(d,h){var x=Sn;Sn|=2;var S=s9();(ga!==d||Da!==h)&&(rd=null,Rh(d,h));do try{tz();break}catch(O){i9(d,O)}while(!0);if(bn(),Sn=x,jx.current=S,Ms!==null)throw Error(r(261));return ga=null,Da=0,ra}function tz(){for(;Ms!==null;)a9(Ms)}function rz(){for(;Ms!==null&&!Gt();)a9(Ms)}function a9(d){var h=u9(d.alternate,d,wl);d.memoizedProps=d.pendingProps,h===null?o9(d):Ms=h,G4.current=null}function o9(d){var h=d;do{var x=h.alternate;if(d=h.return,(h.flags&32768)===0){if(x=KU(x,h,wl),x!==null){Ms=x;return}}else{if(x=XU(x,h),x!==null){x.flags&=32767,Ms=x;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{ra=6,Ms=null;return}}if(h=h.sibling,h!==null){Ms=h;return}Ms=h=d}while(h!==null);ra===0&&(ra=5)}function Lh(d,h,x){var S=Kr,O=Gl.transition;try{Gl.transition=null,Kr=1,nz(d,h,x,S)}finally{Gl.transition=O,Kr=S}return null}function nz(d,h,x,S){do bp();while(of!==null);if((Sn&6)!==0)throw Error(r(327));x=d.finishedWork;var O=d.finishedLanes;if(x===null)return null;if(d.finishedWork=null,d.finishedLanes=0,x===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var H=x.lanes|x.childLanes;if(tn(d,H),d===ga&&(Ms=ga=null,Da=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Mx||(Mx=!0,d9(gn,function(){return bp(),null})),H=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||H){H=Gl.transition,Gl.transition=null;var le=Kr;Kr=1;var Fe=Sn;Sn|=4,G4.current=null,QU(d,x),Q7(x,d),mx(Yu),Dl=!!Sh,Yu=Sh=null,d.current=x,JU(x),Ot(),Sn=Fe,Kr=le,Gl.transition=H}else d.current=x;if(Mx&&(Mx=!1,of=d,Bx=O),H=d.pendingLanes,H===0&&(af=null),al(x.stateNode),Xo(d,Pt()),h!==null)for(S=d.onRecoverableError,x=0;x<h.length;x++)O=h[x],S(O.value,{componentStack:O.stack,digest:O.digest});if(Ox)throw Ox=!1,d=Y4,Y4=null,d;return(Bx&1)!==0&&d.tag!==0&&bp(),H=d.pendingLanes,(H&1)!==0?d===Q4?Vm++:(Vm=0,Q4=d):Vm=0,Q(),null}function bp(){if(of!==null){var d=Ta(Bx),h=Gl.transition,x=Kr;try{if(Gl.transition=null,Kr=16>d?16:d,of===null)var S=!1;else{if(d=of,of=null,Bx=0,(Sn&6)!==0)throw Error(r(331));var O=Sn;for(Sn|=4,sr=d.current;sr!==null;){var H=sr,le=H.child;if((sr.flags&16)!==0){var Fe=H.deletions;if(Fe!==null){for(var Ue=0;Ue<Fe.length;Ue++){var lt=Fe[Ue];for(sr=lt;sr!==null;){var Lt=sr;switch(Lt.tag){case 0:case 11:case 15:Om(8,Lt,H)}var Dt=Lt.child;if(Dt!==null)Dt.return=Lt,sr=Dt;else for(;sr!==null;){Lt=sr;var Rt=Lt.sibling,Zt=Lt.return;if(W7(Lt),Lt===lt){sr=null;break}if(Rt!==null){Rt.return=Zt,sr=Rt;break}sr=Zt}}}var ur=H.alternate;if(ur!==null){var hr=ur.child;if(hr!==null){ur.child=null;do{var ws=hr.sibling;hr.sibling=null,hr=ws}while(hr!==null)}}sr=H}}if((H.subtreeFlags&2064)!==0&&le!==null)le.return=H,sr=le;else e:for(;sr!==null;){if(H=sr,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Om(9,H,H.return)}var rt=H.sibling;if(rt!==null){rt.return=H.return,sr=rt;break e}sr=H.return}}var $e=d.current;for(sr=$e;sr!==null;){le=sr;var at=le.child;if((le.subtreeFlags&2064)!==0&&at!==null)at.return=le,sr=at;else e:for(le=$e;sr!==null;){if(Fe=sr,(Fe.flags&2048)!==0)try{switch(Fe.tag){case 0:case 11:case 15:Fx(9,Fe)}}catch(xr){ss(Fe,Fe.return,xr)}if(Fe===le){sr=null;break e}var Bt=Fe.sibling;if(Bt!==null){Bt.return=Fe.return,sr=Bt;break e}sr=Fe.return}}if(Sn=O,Q(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(ca,d)}catch{}S=!0}return S}finally{Kr=x,Gl.transition=h}}return!1}function l9(d,h,x){h=vp(x,h),h=C7(d,h,1),d=Wi(d,h,1),h=Ro(),d!==null&&(jl(d,1,h),Xo(d,h))}function ss(d,h,x){if(d.tag===3)l9(d,d,x);else for(;h!==null;){if(h.tag===3){l9(h,d,x);break}else if(h.tag===1){var S=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(af===null||!af.has(S))){d=vp(x,d),d=T7(h,d,1),h=Wi(h,d,1),d=Ro(),h!==null&&(jl(h,1,d),Xo(h,d));break}}h=h.return}}function iz(d,h,x){var S=d.pingCache;S!==null&&S.delete(h),h=Ro(),d.pingedLanes|=d.suspendedLanes&x,ga===d&&(Da&x)===x&&(ra===4||ra===3&&(Da&130023424)===Da&&500>Pt()-X4?Rh(d,0):K4|=x),Xo(d,h)}function c9(d,h){h===0&&((d.mode&1)===0?h=1:(h=Ga,Ga<<=1,(Ga&130023424)===0&&(Ga=4194304)));var x=Ro();d=qn(d,h),d!==null&&(jl(d,h,x),Xo(d,x))}function sz(d){var h=d.memoizedState,x=0;h!==null&&(x=h.retryLane),c9(d,x)}function az(d,h){var x=0;switch(d.tag){case 13:var S=d.stateNode,O=d.memoizedState;O!==null&&(x=O.retryLane);break;case 19:S=d.stateNode;break;default:throw Error(r(314))}S!==null&&S.delete(h),c9(d,x)}var u9;u9=function(d,h,x){if(d!==null)if(d.memoizedProps!==h.pendingProps||io.current)Go=!0;else{if((d.lanes&x)===0&&(h.flags&128)===0)return Go=!1,GU(d,h,x);Go=(d.flags&131072)!==0}else Go=!1,yt&&(h.flags&1048576)!==0&&Xe(h,ge,h.index);switch(h.lanes=0,h.tag){case 2:var S=h.type;Rx(d,h),d=h.pendingProps;var O=Zd(h,ea.current);Li(h,x),O=Th(null,h,S,d,O,x);var H=Wl();return h.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,so(S)?(H=!0,Zu(h)):H=!1,h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,ta(h),O.updater=Ix,h.stateNode=O,O._reactInternals=h,L4(h,S,d,x),h=O4(null,h,S,!0,H,x)):(h.tag=0,yt&&H&&mt(h),Po(null,h,O,x),h=h.child),h;case 16:S=h.elementType;e:{switch(Rx(d,h),d=h.pendingProps,O=S._init,S=O(S._payload),h.type=S,O=h.tag=lz(S),d=Tc(S,d),O){case 0:h=D4(null,h,S,d,x);break e;case 1:h=D7(null,h,S,d,x);break e;case 11:h=P7(null,h,S,d,x);break e;case 14:h=R7(null,h,S,Tc(S.type,d),x);break e}throw Error(r(306,S,""))}return h;case 0:return S=h.type,O=h.pendingProps,O=h.elementType===S?O:Tc(S,O),D4(d,h,S,O,x);case 1:return S=h.type,O=h.pendingProps,O=h.elementType===S?O:Tc(S,O),D7(d,h,S,O,x);case 3:e:{if(O7(h),d===null)throw Error(r(387));S=h.pendingProps,H=h.memoizedState,O=H.element,ao(d,h),ma(h,S,null,x);var le=h.memoizedState;if(S=le.element,H.isDehydrated)if(H={element:S,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},h.updateQueue.baseState=H,h.memoizedState=H,h.flags&256){O=vp(Error(r(423)),h),h=M7(d,h,S,x,O);break e}else if(S!==O){O=vp(Error(r(424)),h),h=M7(d,h,S,x,O);break e}else for(ht=Fa(h.stateNode.containerInfo.firstChild),ft=h,yt=!0,wt=null,x=_i(h,null,S,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(nr(),S===O){h=td(d,h,x);break e}Po(d,h,S,x)}h=h.child}return h;case 5:return Sx(h),d===null&&or(h),S=h.type,O=h.pendingProps,H=d!==null?d.memoizedProps:null,le=O.children,Cm(S,O)?le=null:H!==null&&Cm(S,H)&&(h.flags|=32),j7(d,h),Po(d,h,le,x),h.child;case 6:return d===null&&or(h),null;case 13:return B7(d,h,x);case 4:return ef(h,h.stateNode.containerInfo),S=h.pendingProps,d===null?h.child=rs(h,null,S,x):Po(d,h,S,x),h.child;case 11:return S=h.type,O=h.pendingProps,O=h.elementType===S?O:Tc(S,O),P7(d,h,S,O,x);case 7:return Po(d,h,h.pendingProps,x),h.child;case 8:return Po(d,h,h.pendingProps.children,x),h.child;case 12:return Po(d,h,h.pendingProps.children,x),h.child;case 10:e:{if(S=h.type._context,O=h.pendingProps,H=h.memoizedProps,le=O.value,On(vs,S._currentValue),S._currentValue=le,H!==null)if(xs(H.value,le)){if(H.children===O.children&&!io.current){h=td(d,h,x);break e}}else for(H=h.child,H!==null&&(H.return=h);H!==null;){var Fe=H.dependencies;if(Fe!==null){le=H.child;for(var Ue=Fe.firstContext;Ue!==null;){if(Ue.context===S){if(H.tag===1){Ue=Hi(-1,x&-x),Ue.tag=2;var lt=H.updateQueue;if(lt!==null){lt=lt.shared;var Lt=lt.pending;Lt===null?Ue.next=Ue:(Ue.next=Lt.next,Lt.next=Ue),lt.pending=Ue}}H.lanes|=x,Ue=H.alternate,Ue!==null&&(Ue.lanes|=x),kn(H.return,x,h),Fe.lanes|=x;break}Ue=Ue.next}}else if(H.tag===10)le=H.type===h.type?null:H.child;else if(H.tag===18){if(le=H.return,le===null)throw Error(r(341));le.lanes|=x,Fe=le.alternate,Fe!==null&&(Fe.lanes|=x),kn(le,x,h),le=H.sibling}else le=H.child;if(le!==null)le.return=H;else for(le=H;le!==null;){if(le===h){le=null;break}if(H=le.sibling,H!==null){H.return=le.return,le=H;break}le=le.return}H=le}Po(d,h,O.children,x),h=h.child}return h;case 9:return O=h.type,S=h.pendingProps.children,Li(h,x),O=Fi(O),S=S(O),h.flags|=1,Po(d,h,S,x),h.child;case 14:return S=h.type,O=Tc(S,h.pendingProps),O=Tc(S.type,O),R7(d,h,S,O,x);case 15:return L7(d,h,h.type,h.pendingProps,x);case 17:return S=h.type,O=h.pendingProps,O=h.elementType===S?O:Tc(S,O),Rx(d,h),h.tag=1,so(S)?(d=!0,Zu(h)):d=!1,Li(h,x),S7(h,S,O),L4(h,S,O,x),O4(null,h,S,!0,d,x);case 19:return U7(d,h,x);case 22:return F7(d,h,x)}throw Error(r(156,h.tag))};function d9(d,h){return Et(d,h)}function oz(d,h,x,S){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(d,h,x,S){return new oz(d,h,x,S)}function nw(d){return d=d.prototype,!(!d||!d.isReactComponent)}function lz(d){if(typeof d=="function")return nw(d)?1:0;if(d!=null){if(d=d.$$typeof,d===j)return 11;if(d===he)return 14}return 2}function uf(d,h){var x=d.alternate;return x===null?(x=Kl(d.tag,h,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=h,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&14680064,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,h=d.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x}function $x(d,h,x,S,O,H){var le=2;if(S=d,typeof d=="function")nw(d)&&(le=1);else if(typeof d=="string")le=5;else e:switch(d){case R:return Fh(x.children,O,H,h);case A:le=8,O|=8;break;case C:return d=Kl(12,x,h,O|2),d.elementType=C,d.lanes=H,d;case B:return d=Kl(13,x,h,O),d.elementType=B,d.lanes=H,d;case te:return d=Kl(19,x,h,O),d.elementType=te,d.lanes=H,d;case fe:return qx(x,O,H,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case D:le=10;break e;case N:le=9;break e;case j:le=11;break e;case he:le=14;break e;case _e:le=16,S=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return h=Kl(le,x,h,O),h.elementType=d,h.type=S,h.lanes=H,h}function Fh(d,h,x,S){return d=Kl(7,d,S,h),d.lanes=x,d}function qx(d,h,x,S){return d=Kl(22,d,S,h),d.elementType=fe,d.lanes=x,d.stateNode={isHidden:!1},d}function iw(d,h,x){return d=Kl(6,d,null,h),d.lanes=x,d}function sw(d,h,x){return h=Kl(4,d.children!==null?d.children:[],d.key,h),h.lanes=x,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function cz(d,h,x,S,O){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fl(0),this.expirationTimes=Fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fl(0),this.identifierPrefix=S,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function aw(d,h,x,S,O,H,le,Fe,Ue){return d=new cz(d,h,x,Fe,Ue),h===1?(h=1,H===!0&&(h|=8)):h=0,H=Kl(3,null,null,h),d.current=H,H.stateNode=d,H.memoizedState={element:S,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},ta(H),d}function uz(d,h,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:S==null?null:""+S,children:d,containerInfo:h,implementation:x}}function f9(d){if(!d)return iu;d=d._reactInternals;e:{if(Ie(d)!==d||d.tag!==1)throw Error(r(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(so(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(d.tag===1){var x=d.type;if(so(x))return Im(d,x,h)}return h}function h9(d,h,x,S,O,H,le,Fe,Ue){return d=aw(x,S,!0,d,O,H,le,Fe,Ue),d.context=f9(null),x=d.current,S=Ro(),O=lf(x),H=Hi(S,O),H.callback=h??null,Wi(x,H,O),d.current.lanes=O,jl(d,O,S),Xo(d,S),d}function Hx(d,h,x,S){var O=h.current,H=Ro(),le=lf(O);return x=f9(x),h.context===null?h.context=x:h.pendingContext=x,h=Hi(H,le),h.payload={element:d},S=S===void 0?null:S,S!==null&&(h.callback=S),d=Wi(O,h,le),d!==null&&(Ic(d,O,le,H),pa(d,O,le)),le}function Wx(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function p9(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<h?x:h}}function ow(d,h){p9(d,h),(d=d.alternate)&&p9(d,h)}function dz(){return null}var m9=typeof reportError=="function"?reportError:function(d){console.error(d)};function lw(d){this._internalRoot=d}Gx.prototype.render=lw.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(r(409));Hx(d,h,null,null)},Gx.prototype.unmount=lw.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;Ph(function(){Hx(null,d,null,null)}),h[fa]=null}};function Gx(d){this._internalRoot=d}Gx.prototype.unstable_scheduleHydration=function(d){if(d){var h=Vd();d={blockedOn:null,target:d,priority:h};for(var x=0;x<Vo.length&&h!==0&&h<Vo[x].priority;x++);Vo.splice(x,0,d),x===0&&zd(d)}};function cw(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Kx(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function g9(){}function fz(d,h,x,S,O){if(O){if(typeof S=="function"){var H=S;S=function(){var lt=Wx(le);H.call(lt)}}var le=h9(h,S,d,0,null,!1,!1,"",g9);return d._reactRootContainer=le,d[fa]=le.current,Ku(d.nodeType===8?d.parentNode:d),Ph(),le}for(;O=d.lastChild;)d.removeChild(O);if(typeof S=="function"){var Fe=S;S=function(){var lt=Wx(Ue);Fe.call(lt)}}var Ue=aw(d,0,!1,null,null,!1,!1,"",g9);return d._reactRootContainer=Ue,d[fa]=Ue.current,Ku(d.nodeType===8?d.parentNode:d),Ph(function(){Hx(h,Ue,x,S)}),Ue}function Xx(d,h,x,S,O){var H=x._reactRootContainer;if(H){var le=H;if(typeof O=="function"){var Fe=O;O=function(){var Ue=Wx(le);Fe.call(Ue)}}Hx(h,le,d,O)}else le=fz(x,h,d,O,S);return Wx(le)}Gc=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var x=Ka(h.pendingLanes);x!==0&&(ol(h,x|1),Xo(h,Pt()),(Sn&6)===0&&(_p=Pt()+500,Q()))}break;case 13:Ph(function(){var S=qn(d,1);if(S!==null){var O=Ro();Ic(S,d,1,O)}}),ow(d,1)}},Kc=function(d){if(d.tag===13){var h=qn(d,134217728);if(h!==null){var x=Ro();Ic(h,d,134217728,x)}ow(d,134217728)}},Bd=function(d){if(d.tag===13){var h=lf(d),x=qn(d,h);if(x!==null){var S=Ro();Ic(x,d,h,S)}ow(d,h)}},Vd=function(){return Kr},Xc=function(d,h){var x=Kr;try{return Kr=d,h()}finally{Kr=x}},mr=function(d,h,x){switch(h){case"input":if(Me(d,x),h=x.name,x.type==="radio"&&h!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<x.length;h++){var S=x[h];if(S!==d&&S.form===d.form){var O=Eh(S);if(!O)throw Error(r(90));se(S),Me(S,O)}}}break;case"textarea":Le(d,x);break;case"select":h=x.value,h!=null&&st(d,!!x.multiple,h,!1)}},Yr=ew,yi=Ph;var hz={usingClientEntryPoint:!1,Events:[Jd,Qu,Eh,cr,Fn,ew]},Um={findFiberByHostInstance:nu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pz={bundleType:Um.bundleType,version:Um.version,rendererPackageName:Um.rendererPackageName,rendererConfig:Um.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=tt(d),d===null?null:d.stateNode},findFiberByHostInstance:Um.findFiberByHostInstance||dz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yx.isDisabled&&Yx.supportsFiber)try{ca=Yx.inject(pz),hi=Yx}catch{}}return Yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hz,Yo.createPortal=function(d,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cw(h))throw Error(r(200));return uz(d,h,null,x)},Yo.createRoot=function(d,h){if(!cw(d))throw Error(r(299));var x=!1,S="",O=m9;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),h=aw(d,1,!1,null,null,x,!1,S,O),d[fa]=h.current,Ku(d.nodeType===8?d.parentNode:d),new lw(h)},Yo.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=tt(h),d=d===null?null:d.stateNode,d},Yo.flushSync=function(d){return Ph(d)},Yo.hydrate=function(d,h,x){if(!Kx(h))throw Error(r(200));return Xx(null,d,h,!0,x)},Yo.hydrateRoot=function(d,h,x){if(!cw(d))throw Error(r(405));var S=x!=null&&x.hydratedSources||null,O=!1,H="",le=m9;if(x!=null&&(x.unstable_strictMode===!0&&(O=!0),x.identifierPrefix!==void 0&&(H=x.identifierPrefix),x.onRecoverableError!==void 0&&(le=x.onRecoverableError)),h=h9(h,null,d,1,x??null,O,!1,H,le),d[fa]=h.current,Ku(d),S)for(d=0;d<S.length;d++)x=S[d],O=x._getVersion,O=O(x._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[x,O]:h.mutableSourceEagerHydrationData.push(x,O);return new Gx(h)},Yo.render=function(d,h,x){if(!Kx(h))throw Error(r(200));return Xx(null,d,h,!1,x)},Yo.unmountComponentAtNode=function(d){if(!Kx(d))throw Error(r(40));return d._reactRootContainer?(Ph(function(){Xx(null,null,d,!1,function(){d._reactRootContainer=null,d[fa]=null})}),!0):!1},Yo.unstable_batchedUpdates=ew,Yo.unstable_renderSubtreeIntoContainer=function(d,h,x,S){if(!Kx(x))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return Xx(d,h,x,!1,S)},Yo.version="18.3.1-next-f1338f8080-20240426",Yo}var S9;function OI(){if(S9)return fw.exports;S9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fw.exports=bz(),fw.exports}var E9;function kz(){if(E9)return Qx;E9=1;var t=OI();return Qx.createRoot=t.createRoot,Qx.hydrateRoot=t.hydrateRoot,Qx}var Sz=kz(),Ps=OI();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vg.apply(this,arguments)}var Tf;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tf||(Tf={}));const C9="popstate";function Ez(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return t_("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:my(i)}return Tz(e,r,null,t)}function As(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cz(){return Math.random().toString(36).substr(2,8)}function T9(t,e){return{usr:t.state,key:t.key,idx:e}}function t_(t,e,r,n){return r===void 0&&(r=null),Vg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?U1(e):e,{state:r,key:e&&e.key||n||Cz()})}function my(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function U1(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Tz(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Tf.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Vg({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function p(){o=Tf.Pop;let _=u(),E=_==null?null:_-c;c=_,l&&l({action:o,location:w.location,delta:E})}function g(_,E){o=Tf.Push;let L=t_(w.location,_,E);c=u()+1;let I=T9(L,c),V=w.createHref(L);try{a.pushState(I,"",V)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(V)}s&&l&&l({action:o,location:w.location,delta:1})}function m(_,E){o=Tf.Replace;let L=t_(w.location,_,E);c=u();let I=T9(L,c),V=w.createHref(L);a.replaceState(I,"",V),s&&l&&l({action:o,location:w.location,delta:0})}function y(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof _=="string"?_:my(_);return L=L.replace(/ $/,"%20"),As(E,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,E)}let w={get action(){return o},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(C9,p),l=_,()=>{i.removeEventListener(C9,p),l=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let E=y(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:m,go(_){return a.go(_)}};return w}var A9;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A9||(A9={}));function Az(t,e,r){return r===void 0&&(r="/"),Nz(t,e,r)}function Nz(t,e,r,n){let i=typeof e=="string"?U1(e):e,s=Xb(i.pathname||"/",r);if(s==null)return null;let a=BI(t);Iz(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=zz(s);o=Bz(a[l],c)}return o}function BI(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(As(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Lf([n,l.relativePath]),u=r.concat(l);s.children&&s.children.length>0&&(As(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),BI(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Oz(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of VI(s.path))i(s,a,l)}),e}function VI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=VI(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Iz(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Mz(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Pz=/^:[\w-]+$/,Rz=3,Lz=2,Fz=1,jz=10,Dz=-2,N9=t=>t==="*";function Oz(t,e){let r=t.split("/"),n=r.length;return r.some(N9)&&(n+=Dz),e&&(n+=Lz),r.filter(i=>!N9(i)).reduce((i,s)=>i+(Pz.test(s)?Rz:s===""?Fz:jz),n)}function Mz(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Bz(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",p=Vz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),g=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Lf([s,p.pathname]),pathnameBase:Wz(Lf([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Lf([s,p.pathnameBase]))}return a}function Vz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Uz(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,u,p)=>{let{paramName:g,isOptional:m}=u;if(g==="*"){let w=o[p]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[p];return m&&!y?c[g]=void 0:c[g]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function Uz(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),MI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function zz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return MI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function $z(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?U1(t):t;return{pathname:r?r.startsWith("/")?r:qz(r,e):e,search:Gz(n),hash:Kz(i)}}function qz(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function mw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hz(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Yb(t,e){let r=Hz(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qb(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=U1(t):(i=Vg({},t),As(!i.pathname||!i.pathname.includes("?"),mw("?","pathname","search",i)),As(!i.pathname||!i.pathname.includes("#"),mw("#","pathname","hash",i)),As(!i.search||!i.search.includes("#"),mw("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}o=p>=0?e[p]:"/"}let l=$z(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Lf=t=>t.join("/").replace(/\/\/+/g,"/"),Wz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UI=["post","put","patch","delete"];new Set(UI);const Yz=["get",...UI];new Set(Yz);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ug.apply(this,arguments)}const Jb=F.createContext(null),Qz=F.createContext(null),rh=F.createContext(null),_5=F.createContext(null),Fu=F.createContext({outlet:null,matches:[],isDataRoute:!1}),zI=F.createContext(null);function Jz(t,e){let{relative:r}=e===void 0?{}:e;z1()||As(!1);let{basename:n,navigator:i}=F.useContext(rh),{hash:s,pathname:a,search:o}=qI(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Lf([n,a])),i.createHref({pathname:l,search:o,hash:s})}function z1(){return F.useContext(_5)!=null}function Ll(){return z1()||As(!1),F.useContext(_5).location}function $I(t){F.useContext(rh).static||F.useLayoutEffect(t)}function Jn(){let{isDataRoute:t}=F.useContext(Fu);return t?h$():Zz()}function Zz(){z1()||As(!1);let t=F.useContext(Jb),{basename:e,future:r,navigator:n}=F.useContext(rh),{matches:i}=F.useContext(Fu),{pathname:s}=Ll(),a=JSON.stringify(Yb(i,r.v7_relativeSplatPath)),o=F.useRef(!1);return $I(()=>{o.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let p=Qb(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Lf([e,p.pathname])),(u.replace?n.replace:n.push)(p,u.state,u)},[e,n,a,s,t])}const e$=F.createContext(null);function t$(t){let e=F.useContext(Fu).outlet;return e&&F.createElement(e$.Provider,{value:t},e)}function b5(){let{matches:t}=F.useContext(Fu),e=t[t.length-1];return e?e.params:{}}function qI(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=F.useContext(rh),{matches:i}=F.useContext(Fu),{pathname:s}=Ll(),a=JSON.stringify(Yb(i,n.v7_relativeSplatPath));return F.useMemo(()=>Qb(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function r$(t,e){return n$(t,e)}function n$(t,e,r,n){z1()||As(!1);let{navigator:i}=F.useContext(rh),{matches:s}=F.useContext(Fu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Ll(),u;if(e){var p;let _=typeof e=="string"?U1(e):e;l==="/"||(p=_.pathname)!=null&&p.startsWith(l)||As(!1),u=_}else u=c;let g=u.pathname||"/",m=g;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Az(t,{pathname:m}),w=l$(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Lf([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Lf([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return e&&w?F.createElement(_5.Provider,{value:{location:Ug({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Tf.Pop}},w):w}function i$(){let t=f$(),e=Xz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),r?F.createElement("pre",{style:i},r):null,null)}const s$=F.createElement(i$,null);class a$ extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?F.createElement(Fu.Provider,{value:this.props.routeContext},F.createElement(zI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o$(t){let{routeContext:e,match:r,children:n}=t,i=F.useContext(Jb);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(Fu.Provider,{value:e},n)}function l$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);u>=0||As(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let p=a[u];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=u),p.route.id){let{loaderData:g,errors:m}=r,y=p.route.loader&&g[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,p,g)=>{let m,y=!1,w=null,_=null;r&&(m=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||s$,l&&(c<0&&g===0?(p$("route-fallback"),y=!0,_=null):c===g&&(y=!0,_=p.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,g+1)),L=()=>{let I;return m?I=w:y?I=_:p.route.Component?I=F.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=u,F.createElement(o$,{match:p,routeContext:{outlet:u,matches:E,isDataRoute:r!=null},children:I})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?F.createElement(a$,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:L(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):L()},null)}var HI=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(HI||{}),WI=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(WI||{});function c$(t){let e=F.useContext(Jb);return e||As(!1),e}function u$(t){let e=F.useContext(Qz);return e||As(!1),e}function d$(t){let e=F.useContext(Fu);return e||As(!1),e}function GI(t){let e=d$(),r=e.matches[e.matches.length-1];return r.route.id||As(!1),r.route.id}function f$(){var t;let e=F.useContext(zI),r=u$(),n=GI();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function h$(){let{router:t}=c$(HI.UseNavigateStable),e=GI(WI.UseNavigateStable),r=F.useRef(!1);return $I(()=>{r.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ug({fromRouteId:e},s)))},[t,e])}const I9={};function p$(t,e,r){I9[t]||(I9[t]=!0)}function m$(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function zh(t){let{to:e,replace:r,state:n,relative:i}=t;z1()||As(!1);let{future:s,static:a}=F.useContext(rh),{matches:o}=F.useContext(Fu),{pathname:l}=Ll(),c=Jn(),u=Qb(e,Yb(o,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(u);return F.useEffect(()=>c(JSON.parse(p),{replace:r,state:n,relative:i}),[c,p,i,r,n]),null}function Zb(t){return t$(t.context)}function Bn(t){As(!1)}function g$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Tf.Pop,navigator:s,static:a=!1,future:o}=t;z1()&&As(!1);let l=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:s,static:a,future:Ug({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=U1(n));let{pathname:u="/",search:p="",hash:g="",state:m=null,key:y="default"}=n,w=F.useMemo(()=>{let _=Xb(u,l);return _==null?null:{location:{pathname:_,search:p,hash:g,state:m,key:y},navigationType:i}},[l,u,p,g,m,y,i]);return w==null?null:F.createElement(rh.Provider,{value:c},F.createElement(_5.Provider,{children:r,value:w}))}function P9(t){let{children:e,location:r}=t;return r$(r_(e),r)}new Promise(()=>{});function r_(t,e){e===void 0&&(e=[]);let r=[];return F.Children.forEach(t,(n,i)=>{if(!F.isValidElement(n))return;let s=[...e,i];if(n.type===F.Fragment){r.push.apply(r,r_(n.props.children,s));return}n.type!==Bn&&As(!1),!n.props.index||!n.props.children||As(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=r_(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n_.apply(this,arguments)}function x$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function v$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y$(t,e){return t.button===0&&(!e||e==="_self")&&!v$(t)}function i_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function w$(t,e){let r=i_(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const _$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b$="6";try{window.__reactRouterVersion=b$}catch{}const k$="startTransition",R9=py[k$];function S$(t){let{basename:e,children:r,future:n,window:i}=t,s=F.useRef();s.current==null&&(s.current=Ez({window:i,v5Compat:!0}));let a=s.current,[o,l]=F.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},u=F.useCallback(p=>{c&&R9?R9(()=>l(p)):l(p)},[l,c]);return F.useLayoutEffect(()=>a.listen(u),[a,u]),F.useEffect(()=>m$(n),[n]),F.createElement(g$,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const E$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h0=F.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:p}=e,g=x$(e,_$),{basename:m}=F.useContext(rh),y,w=!1;if(typeof c=="string"&&C$.test(c)&&(y=c,E$))try{let I=new URL(window.location.href),V=c.startsWith("//")?new URL(I.protocol+c):new URL(c),G=Xb(V.pathname,m);V.origin===I.origin&&G!=null?c=G+V.search+V.hash:w=!0}catch{}let _=Jz(c,{relative:i}),E=T$(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:p});function L(I){n&&n(I),I.defaultPrevented||E(I)}return F.createElement("a",n_({},g,{href:y||_,onClick:w||s?n:L,ref:r,target:l}))});var L9;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(L9||(L9={}));var F9;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(F9||(F9={}));function T$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Jn(),c=Ll(),u=qI(t,{relative:a});return F.useCallback(p=>{if(y$(p,r)){p.preventDefault();let g=n!==void 0?n:my(c)===my(u);l(t,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,n,i,r,t,s,a,o])}function A$(t){let e=F.useRef(i_(t)),r=F.useRef(!1),n=Ll(),i=F.useMemo(()=>w$(n.search,r.current?null:e.current),[n.search]),s=Jn(),a=F.useCallback((o,l)=>{const c=i_(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var j9={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},N$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},XI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(g=64)),n.push(r[u],r[p],r[g],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||p==null)throw new I$;const g=s<<2|o>>4;if(n.push(g),c!==64){const m=o<<4&240|c>>2;if(n.push(m),p!==64){const y=c<<6&192|p;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P$=function(t){const e=KI(t);return XI.encodeByteArray(e,!0)},gy=function(t){return P$(t).replace(/\./g,"")},YI=function(t){try{return XI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=()=>R$().__FIREBASE_DEFAULTS__,F$=()=>{if(typeof process>"u"||typeof j9>"u")return;const t=j9.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YI(t[1]);return e&&JSON.parse(e)},k5=()=>{try{return L$()||F$()||j$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QI=t=>{var e,r;return(r=(e=k5())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},e6=t=>{const e=QI(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},JI=()=>{var t;return(t=k5())===null||t===void 0?void 0:t.config},ZI=t=>{var e;return(e=k5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gy(JSON.stringify(r)),gy(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sa())}function M$(){var t;const e=(t=k5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function V$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function U$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z$(){const t=sa();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tP(){return!M$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rP(){try{return typeof indexedDB=="object"}catch{return!1}}function $$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="FirebaseError";class qc extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=q$,Object.setPrototypeOf(this,qc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T2.prototype.create)}}class T2{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?H$(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new qc(i,o,n)}}function H$(t,e){return t.replace(W$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const W$=/\{\$([^}]+)}/g;function G$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Df(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(D9(s)&&D9(a)){if(!Df(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function D9(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function tg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rg(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function K$(t,e){const r=new X$(t,e);return r.subscribe.bind(r)}class X${constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Y$(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=gw),i.error===void 0&&(i.error=gw),i.complete===void 0&&(i.complete=gw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y$(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function gw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class vd{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new D$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z$(e))try{this.getOrInitializeService({instanceIdentifier:Mh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Mh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mh){return this.instances.has(e)}getOptions(e=Mh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:J$(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Mh){return this.component?this.component.multipleInstances?e:Mh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J$(t){return t===Mh?void 0:t}function Z$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Q$(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(hn||(hn={}));const tq={debug:hn.DEBUG,verbose:hn.VERBOSE,info:hn.INFO,warn:hn.WARN,error:hn.ERROR,silent:hn.SILENT},rq=hn.INFO,nq={[hn.DEBUG]:"log",[hn.VERBOSE]:"log",[hn.INFO]:"info",[hn.WARN]:"warn",[hn.ERROR]:"error"},iq=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=nq[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t6{constructor(e){this.name=e,this._logLevel=rq,this._logHandler=iq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hn.DEBUG,...e),this._logHandler(this,hn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hn.VERBOSE,...e),this._logHandler(this,hn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hn.INFO,...e),this._logHandler(this,hn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hn.WARN,...e),this._logHandler(this,hn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hn.ERROR,...e),this._logHandler(this,hn.ERROR,...e)}}const sq=(t,e)=>e.some(r=>t instanceof r);let O9,M9;function aq(){return O9||(O9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oq(){return M9||(M9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nP=new WeakMap,s_=new WeakMap,iP=new WeakMap,xw=new WeakMap,r6=new WeakMap;function lq(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Ff(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&nP.set(r,t)}).catch(()=>{}),r6.set(e,t),e}function cq(t){if(s_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});s_.set(t,e)}let a_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return s_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iP.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ff(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uq(t){a_=t(a_)}function dq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(vw(this),e,...r);return iP.set(n,e.sort?e.sort():[e]),Ff(n)}:oq().includes(t)?function(...e){return t.apply(vw(this),e),Ff(nP.get(this))}:function(...e){return Ff(t.apply(vw(this),e))}}function fq(t){return typeof t=="function"?dq(t):(t instanceof IDBTransaction&&cq(t),sq(t,aq())?new Proxy(t,a_):t)}function Ff(t){if(t instanceof IDBRequest)return lq(t);if(xw.has(t))return xw.get(t);const e=fq(t);return e!==t&&(xw.set(t,e),r6.set(e,t)),e}const vw=t=>r6.get(t);function hq(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ff(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Ff(a.result),l.oldVersion,l.newVersion,Ff(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const pq=["get","getKey","getAll","getAllKeys","count"],mq=["put","add","delete","clear"],yw=new Map;function B9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yw.get(e))return yw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=mq.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||pq.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return yw.set(e,s),s}uq(t=>({...t,get:(e,r,n)=>B9(e,r)||t.get(e,r,n),has:(e,r)=>!!B9(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(xq(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function xq(t){const e=t.getComponent();return e?.type==="VERSION"}const o_="@firebase/app",V9="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new t6("@firebase/app"),vq="@firebase/app-compat",yq="@firebase/analytics-compat",wq="@firebase/analytics",_q="@firebase/app-check-compat",bq="@firebase/app-check",kq="@firebase/auth",Sq="@firebase/auth-compat",Eq="@firebase/database",Cq="@firebase/data-connect",Tq="@firebase/database-compat",Aq="@firebase/functions",Nq="@firebase/functions-compat",Iq="@firebase/installations",Pq="@firebase/installations-compat",Rq="@firebase/messaging",Lq="@firebase/messaging-compat",Fq="@firebase/performance",jq="@firebase/performance-compat",Dq="@firebase/remote-config",Oq="@firebase/remote-config-compat",Mq="@firebase/storage",Bq="@firebase/storage-compat",Vq="@firebase/firestore",Uq="@firebase/vertexai-preview",zq="@firebase/firestore-compat",$q="firebase",qq="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="[DEFAULT]",Hq={[o_]:"fire-core",[vq]:"fire-core-compat",[wq]:"fire-analytics",[yq]:"fire-analytics-compat",[bq]:"fire-app-check",[_q]:"fire-app-check-compat",[kq]:"fire-auth",[Sq]:"fire-auth-compat",[Eq]:"fire-rtdb",[Cq]:"fire-data-connect",[Tq]:"fire-rtdb-compat",[Aq]:"fire-fn",[Nq]:"fire-fn-compat",[Iq]:"fire-iid",[Pq]:"fire-iid-compat",[Rq]:"fire-fcm",[Lq]:"fire-fcm-compat",[Fq]:"fire-perf",[jq]:"fire-perf-compat",[Dq]:"fire-rc",[Oq]:"fire-rc-compat",[Mq]:"fire-gcs",[Bq]:"fire-gcs-compat",[Vq]:"fire-fst",[zq]:"fire-fst-compat",[Uq]:"fire-vertex","fire-js":"fire-js",[$q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Map,Wq=new Map,l_=new Map;function U9(t,e){try{t.container.addComponent(e)}catch(r){yd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Of(t){const e=t.name;if(l_.has(e))return yd.debug(`There were multiple attempts to register component ${e}.`),!1;l_.set(e,t);for(const r of vy.values())U9(r,t);for(const r of Wq.values())U9(r,t);return!0}function M0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Gq(t,e,r=xy){M0(t,e).clearInstance(r)}function Fc(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jf=new T2("app","Firebase",Kq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new vd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=qq;function sP(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:xy,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw jf.create("bad-app-name",{appName:String(i)});if(r||(r=JI()),!r)throw jf.create("no-options");const s=vy.get(i);if(s){if(Df(r,s.options)&&Df(n,s.config))return s;throw jf.create("duplicate-app",{appName:i})}const a=new eq(i);for(const l of l_.values())a.addComponent(l);const o=new Xq(r,n,a);return vy.set(i,o),o}function S5(t=xy){const e=vy.get(t);if(!e&&t===xy&&JI())return sP();if(!e)throw jf.create("no-app",{appName:t});return e}function sc(t,e,r){var n;let i=(n=Hq[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yd.warn(o.join(" "));return}Of(new vd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="firebase-heartbeat-database",Qq=1,zg="firebase-heartbeat-store";let ww=null;function aP(){return ww||(ww=hq(Yq,Qq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zg)}catch(r){console.warn(r)}}}}).catch(t=>{throw jf.create("idb-open",{originalErrorMessage:t.message})})),ww}async function Jq(t){try{const r=(await aP()).transaction(zg),n=await r.objectStore(zg).get(oP(t));return await r.done,n}catch(e){if(e instanceof qc)yd.warn(e.message);else{const r=jf.create("idb-get",{originalErrorMessage:e?.message});yd.warn(r.message)}}}async function z9(t,e){try{const n=(await aP()).transaction(zg,"readwrite");await n.objectStore(zg).put(e,oP(t)),await n.done}catch(r){if(r instanceof qc)yd.warn(r.message);else{const n=jf.create("idb-set",{originalErrorMessage:r?.message});yd.warn(n.message)}}}function oP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=1024,eH=720*60*60*1e3;class tH{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new nH(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$9();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=eH}),this._storage.overwrite(this._heartbeatsCache))}catch(n){yd.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=$9(),{heartbeatsToSend:n,unsentEntries:i}=rH(this._heartbeatsCache.heartbeats),s=gy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return yd.warn(r),""}}}function $9(){return new Date().toISOString().substring(0,10)}function rH(t,e=Zq){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),q9(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),q9(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class nH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rP()?$$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Jq(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return z9(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return z9(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function q9(t){return gy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(t){Of(new vd("platform-logger",e=>new gq(e),"PRIVATE")),Of(new vd("heartbeat",e=>new tH(e),"PRIVATE")),sc(o_,V9,t),sc(o_,V9,"esm2017"),sc("fire-js","")}iH("");var H9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n0,lP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function C(){}C.prototype=A.prototype,R.D=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.C=function(D,N,j){for(var B=Array(arguments.length-2),te=2;te<arguments.length;te++)B[te-2]=arguments[te];return A.prototype[N].apply(D,B)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,A,C){C||(C=0);var D=Array(16);if(typeof A=="string")for(var N=0;16>N;++N)D[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;16>N;++N)D[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],N=R.g[2];var j=R.g[3],B=A+(j^C&(N^j))+D[0]+3614090360&4294967295;A=C+(B<<7&4294967295|B>>>25),B=j+(N^A&(C^N))+D[1]+3905402710&4294967295,j=A+(B<<12&4294967295|B>>>20),B=N+(C^j&(A^C))+D[2]+606105819&4294967295,N=j+(B<<17&4294967295|B>>>15),B=C+(A^N&(j^A))+D[3]+3250441966&4294967295,C=N+(B<<22&4294967295|B>>>10),B=A+(j^C&(N^j))+D[4]+4118548399&4294967295,A=C+(B<<7&4294967295|B>>>25),B=j+(N^A&(C^N))+D[5]+1200080426&4294967295,j=A+(B<<12&4294967295|B>>>20),B=N+(C^j&(A^C))+D[6]+2821735955&4294967295,N=j+(B<<17&4294967295|B>>>15),B=C+(A^N&(j^A))+D[7]+4249261313&4294967295,C=N+(B<<22&4294967295|B>>>10),B=A+(j^C&(N^j))+D[8]+1770035416&4294967295,A=C+(B<<7&4294967295|B>>>25),B=j+(N^A&(C^N))+D[9]+2336552879&4294967295,j=A+(B<<12&4294967295|B>>>20),B=N+(C^j&(A^C))+D[10]+4294925233&4294967295,N=j+(B<<17&4294967295|B>>>15),B=C+(A^N&(j^A))+D[11]+2304563134&4294967295,C=N+(B<<22&4294967295|B>>>10),B=A+(j^C&(N^j))+D[12]+1804603682&4294967295,A=C+(B<<7&4294967295|B>>>25),B=j+(N^A&(C^N))+D[13]+4254626195&4294967295,j=A+(B<<12&4294967295|B>>>20),B=N+(C^j&(A^C))+D[14]+2792965006&4294967295,N=j+(B<<17&4294967295|B>>>15),B=C+(A^N&(j^A))+D[15]+1236535329&4294967295,C=N+(B<<22&4294967295|B>>>10),B=A+(N^j&(C^N))+D[1]+4129170786&4294967295,A=C+(B<<5&4294967295|B>>>27),B=j+(C^N&(A^C))+D[6]+3225465664&4294967295,j=A+(B<<9&4294967295|B>>>23),B=N+(A^C&(j^A))+D[11]+643717713&4294967295,N=j+(B<<14&4294967295|B>>>18),B=C+(j^A&(N^j))+D[0]+3921069994&4294967295,C=N+(B<<20&4294967295|B>>>12),B=A+(N^j&(C^N))+D[5]+3593408605&4294967295,A=C+(B<<5&4294967295|B>>>27),B=j+(C^N&(A^C))+D[10]+38016083&4294967295,j=A+(B<<9&4294967295|B>>>23),B=N+(A^C&(j^A))+D[15]+3634488961&4294967295,N=j+(B<<14&4294967295|B>>>18),B=C+(j^A&(N^j))+D[4]+3889429448&4294967295,C=N+(B<<20&4294967295|B>>>12),B=A+(N^j&(C^N))+D[9]+568446438&4294967295,A=C+(B<<5&4294967295|B>>>27),B=j+(C^N&(A^C))+D[14]+3275163606&4294967295,j=A+(B<<9&4294967295|B>>>23),B=N+(A^C&(j^A))+D[3]+4107603335&4294967295,N=j+(B<<14&4294967295|B>>>18),B=C+(j^A&(N^j))+D[8]+1163531501&4294967295,C=N+(B<<20&4294967295|B>>>12),B=A+(N^j&(C^N))+D[13]+2850285829&4294967295,A=C+(B<<5&4294967295|B>>>27),B=j+(C^N&(A^C))+D[2]+4243563512&4294967295,j=A+(B<<9&4294967295|B>>>23),B=N+(A^C&(j^A))+D[7]+1735328473&4294967295,N=j+(B<<14&4294967295|B>>>18),B=C+(j^A&(N^j))+D[12]+2368359562&4294967295,C=N+(B<<20&4294967295|B>>>12),B=A+(C^N^j)+D[5]+4294588738&4294967295,A=C+(B<<4&4294967295|B>>>28),B=j+(A^C^N)+D[8]+2272392833&4294967295,j=A+(B<<11&4294967295|B>>>21),B=N+(j^A^C)+D[11]+1839030562&4294967295,N=j+(B<<16&4294967295|B>>>16),B=C+(N^j^A)+D[14]+4259657740&4294967295,C=N+(B<<23&4294967295|B>>>9),B=A+(C^N^j)+D[1]+2763975236&4294967295,A=C+(B<<4&4294967295|B>>>28),B=j+(A^C^N)+D[4]+1272893353&4294967295,j=A+(B<<11&4294967295|B>>>21),B=N+(j^A^C)+D[7]+4139469664&4294967295,N=j+(B<<16&4294967295|B>>>16),B=C+(N^j^A)+D[10]+3200236656&4294967295,C=N+(B<<23&4294967295|B>>>9),B=A+(C^N^j)+D[13]+681279174&4294967295,A=C+(B<<4&4294967295|B>>>28),B=j+(A^C^N)+D[0]+3936430074&4294967295,j=A+(B<<11&4294967295|B>>>21),B=N+(j^A^C)+D[3]+3572445317&4294967295,N=j+(B<<16&4294967295|B>>>16),B=C+(N^j^A)+D[6]+76029189&4294967295,C=N+(B<<23&4294967295|B>>>9),B=A+(C^N^j)+D[9]+3654602809&4294967295,A=C+(B<<4&4294967295|B>>>28),B=j+(A^C^N)+D[12]+3873151461&4294967295,j=A+(B<<11&4294967295|B>>>21),B=N+(j^A^C)+D[15]+530742520&4294967295,N=j+(B<<16&4294967295|B>>>16),B=C+(N^j^A)+D[2]+3299628645&4294967295,C=N+(B<<23&4294967295|B>>>9),B=A+(N^(C|~j))+D[0]+4096336452&4294967295,A=C+(B<<6&4294967295|B>>>26),B=j+(C^(A|~N))+D[7]+1126891415&4294967295,j=A+(B<<10&4294967295|B>>>22),B=N+(A^(j|~C))+D[14]+2878612391&4294967295,N=j+(B<<15&4294967295|B>>>17),B=C+(j^(N|~A))+D[5]+4237533241&4294967295,C=N+(B<<21&4294967295|B>>>11),B=A+(N^(C|~j))+D[12]+1700485571&4294967295,A=C+(B<<6&4294967295|B>>>26),B=j+(C^(A|~N))+D[3]+2399980690&4294967295,j=A+(B<<10&4294967295|B>>>22),B=N+(A^(j|~C))+D[10]+4293915773&4294967295,N=j+(B<<15&4294967295|B>>>17),B=C+(j^(N|~A))+D[1]+2240044497&4294967295,C=N+(B<<21&4294967295|B>>>11),B=A+(N^(C|~j))+D[8]+1873313359&4294967295,A=C+(B<<6&4294967295|B>>>26),B=j+(C^(A|~N))+D[15]+4264355552&4294967295,j=A+(B<<10&4294967295|B>>>22),B=N+(A^(j|~C))+D[6]+2734768916&4294967295,N=j+(B<<15&4294967295|B>>>17),B=C+(j^(N|~A))+D[13]+1309151649&4294967295,C=N+(B<<21&4294967295|B>>>11),B=A+(N^(C|~j))+D[4]+4149444226&4294967295,A=C+(B<<6&4294967295|B>>>26),B=j+(C^(A|~N))+D[11]+3174756917&4294967295,j=A+(B<<10&4294967295|B>>>22),B=N+(A^(j|~C))+D[2]+718787259&4294967295,N=j+(B<<15&4294967295|B>>>17),B=C+(j^(N|~A))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(N+(B<<21&4294967295|B>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+j&4294967295}n.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var C=A-this.blockSize,D=this.B,N=this.h,j=0;j<A;){if(N==0)for(;j<=C;)i(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<A;)if(D[N++]=R.charCodeAt(j++),N==this.blockSize){i(this,D),N=0;break}}else for(;j<A;)if(D[N++]=R[j++],N==this.blockSize){i(this,D),N=0;break}}this.h=N,this.o+=A},n.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var C=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=C&255,C/=256;for(this.u(R),R=Array(16),A=C=0;4>A;++A)for(var D=0;32>D;D+=8)R[C++]=this.g[A]>>>D&255;return R};function s(R,A){var C=o;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function a(R,A){this.h=A;for(var C=[],D=!0,N=R.length-1;0<=N;N--){var j=R[N]|0;D&&j==A||(C[N]=j,D=!1)}this.g=C}var o={};function l(R){return-128<=R&&128>R?s(R,function(A){return new a([A|0],0>A?-1:0)}):new a([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return p;if(0>R)return _(c(-R));for(var A=[],C=1,D=0;R>=C;D++)A[D]=R/C|0,C*=4294967296;return new a(A,0)}function u(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return _(u(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(A,8)),D=p,N=0;N<R.length;N+=8){var j=Math.min(8,R.length-N),B=parseInt(R.substring(N,N+j),A);8>j?(j=c(Math.pow(A,j)),D=D.j(j).add(c(B))):(D=D.j(C),D=D.add(c(B)))}return D}var p=l(0),g=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(w(this))return-_(this).m();for(var R=0,A=1,C=0;C<this.g.length;C++){var D=this.i(C);R+=(0<=D?D:4294967296+D)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(y(this))return"0";if(w(this))return"-"+_(this).toString(R);for(var A=c(Math.pow(R,6)),C=this,D="";;){var N=V(C,A).g;C=E(C,N.j(A));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(R);if(C=N,y(C))return j+D;for(;6>j.length;)j="0"+j;D=j+D}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function y(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function w(R){return R.h==-1}t.l=function(R){return R=E(this,R),w(R)?-1:y(R)?0:1};function _(R){for(var A=R.g.length,C=[],D=0;D<A;D++)C[D]=~R.g[D];return new a(C,~R.h).add(g)}t.abs=function(){return w(this)?_(this):this},t.add=function(R){for(var A=Math.max(this.g.length,R.g.length),C=[],D=0,N=0;N<=A;N++){var j=D+(this.i(N)&65535)+(R.i(N)&65535),B=(j>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);D=B>>>16,j&=65535,B&=65535,C[N]=B<<16|j}return new a(C,C[C.length-1]&-2147483648?-1:0)};function E(R,A){return R.add(_(A))}t.j=function(R){if(y(this)||y(R))return p;if(w(this))return w(R)?_(this).j(_(R)):_(_(this).j(R));if(w(R))return _(this.j(_(R)));if(0>this.l(m)&&0>R.l(m))return c(this.m()*R.m());for(var A=this.g.length+R.g.length,C=[],D=0;D<2*A;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<R.g.length;N++){var j=this.i(D)>>>16,B=this.i(D)&65535,te=R.i(N)>>>16,he=R.i(N)&65535;C[2*D+2*N]+=B*he,L(C,2*D+2*N),C[2*D+2*N+1]+=j*he,L(C,2*D+2*N+1),C[2*D+2*N+1]+=B*te,L(C,2*D+2*N+1),C[2*D+2*N+2]+=j*te,L(C,2*D+2*N+2)}for(D=0;D<A;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=A;D<2*A;D++)C[D]=0;return new a(C,0)};function L(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function I(R,A){this.g=R,this.h=A}function V(R,A){if(y(A))throw Error("division by zero");if(y(R))return new I(p,p);if(w(R))return A=V(_(R),A),new I(_(A.g),_(A.h));if(w(A))return A=V(R,_(A)),new I(_(A.g),A.h);if(30<R.g.length){if(w(R)||w(A))throw Error("slowDivide_ only works with positive integers.");for(var C=g,D=A;0>=D.l(R);)C=G(C),D=G(D);var N=X(C,1),j=X(D,1);for(D=X(D,2),C=X(C,2);!y(D);){var B=j.add(D);0>=B.l(R)&&(N=N.add(C),j=B),D=X(D,1),C=X(C,1)}return A=E(R,N.j(A)),new I(N,A)}for(N=p;0<=R.l(A);){for(C=Math.max(1,Math.floor(R.m()/A.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),j=c(C),B=j.j(A);w(B)||0<B.l(R);)C-=D,j=c(C),B=j.j(A);y(j)&&(j=g),N=N.add(j),R=E(R,B)}return new I(N,R)}t.A=function(R){return V(this,R).h},t.and=function(R){for(var A=Math.max(this.g.length,R.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)&R.i(D);return new a(C,this.h&R.h)},t.or=function(R){for(var A=Math.max(this.g.length,R.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)|R.i(D);return new a(C,this.h|R.h)},t.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),C=[],D=0;D<A;D++)C[D]=this.i(D)^R.i(D);return new a(C,this.h^R.h)};function G(R){for(var A=R.g.length+1,C=[],D=0;D<A;D++)C[D]=R.i(D)<<1|R.i(D-1)>>>31;return new a(C,R.h)}function X(R,A){var C=A>>5;A%=32;for(var D=R.g.length-C,N=[],j=0;j<D;j++)N[j]=0<A?R.i(j+C)>>>A|R.i(j+C+1)<<32-A:R.i(j+C);return new a(N,R.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,lP=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,n0=a}).apply(typeof H9<"u"?H9:typeof self<"u"?self:typeof window<"u"?window:{});var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cP,ng,uP,Vv,c_,dP,fP,hP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,z,Z){return k==Array.prototype||k==Object.prototype||(k[z]=Z.value),k};function r(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jx=="object"&&Jx];for(var z=0;z<k.length;++z){var Z=k[z];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var n=r(this);function i(k,z){if(z)e:{var Z=n;k=k.split(".");for(var xe=0;xe<k.length-1;xe++){var Ke=k[xe];if(!(Ke in Z))break e;Z=Z[Ke]}k=k[k.length-1],xe=Z[k],z=z(xe),z!=xe&&z!=null&&e(Z,k,{configurable:!0,writable:!0,value:z})}}function s(k,z){k instanceof String&&(k+="");var Z=0,xe=!1,Ke={next:function(){if(!xe&&Z<k.length){var ut=Z++;return{value:z(ut,k[ut]),done:!1}}return xe=!0,{done:!0,value:void 0}}};return Ke[Symbol.iterator]=function(){return Ke},Ke}i("Array.prototype.values",function(k){return k||function(){return s(this,function(z,Z){return Z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(k){var z=typeof k;return z=z!="object"?z:k?Array.isArray(k)?"array":z:"null",z=="array"||z=="object"&&typeof k.length=="number"}function c(k){var z=typeof k;return z=="object"&&k!=null||z=="function"}function u(k,z,Z){return k.call.apply(k.bind,arguments)}function p(k,z,Z){if(!k)throw Error();if(2<arguments.length){var xe=Array.prototype.slice.call(arguments,2);return function(){var Ke=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ke,xe),k.apply(z,Ke)}}return function(){return k.apply(z,arguments)}}function g(k,z,Z){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:p,g.apply(null,arguments)}function m(k,z){var Z=Array.prototype.slice.call(arguments,1);return function(){var xe=Z.slice();return xe.push.apply(xe,arguments),k.apply(this,xe)}}function y(k,z){function Z(){}Z.prototype=z.prototype,k.aa=z.prototype,k.prototype=new Z,k.prototype.constructor=k,k.Qb=function(xe,Ke,ut){for(var jt=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)jt[vn-2]=arguments[vn];return z.prototype[Ke].apply(xe,jt)}}function w(k){const z=k.length;if(0<z){const Z=Array(z);for(let xe=0;xe<z;xe++)Z[xe]=k[xe];return Z}return[]}function _(k,z){for(let Z=1;Z<arguments.length;Z++){const xe=arguments[Z];if(l(xe)){const Ke=k.length||0,ut=xe.length||0;k.length=Ke+ut;for(let jt=0;jt<ut;jt++)k[Ke+jt]=xe[jt]}else k.push(xe)}}class E{constructor(z,Z){this.i=z,this.j=Z,this.h=0,this.g=null}get(){let z;return 0<this.h?(this.h--,z=this.g,this.g=z.next,z.next=null):z=this.i(),z}}function L(k){return/^[\s\xa0]*$/.test(k)}function I(){var k=o.navigator;return k&&(k=k.userAgent)?k:""}function V(k){return V[" "](k),k}V[" "]=function(){};var G=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function X(k,z,Z){for(const xe in k)z.call(Z,k[xe],xe,k)}function R(k,z){for(const Z in k)z.call(void 0,k[Z],Z,k)}function A(k){const z={};for(const Z in k)z[Z]=k[Z];return z}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(k,z){let Z,xe;for(let Ke=1;Ke<arguments.length;Ke++){xe=arguments[Ke];for(Z in xe)k[Z]=xe[Z];for(let ut=0;ut<C.length;ut++)Z=C[ut],Object.prototype.hasOwnProperty.call(xe,Z)&&(k[Z]=xe[Z])}}function N(k){var z=1;k=k.split(":");const Z=[];for(;0<z&&k.length;)Z.push(k.shift()),z--;return k.length&&Z.push(k.join(":")),Z}function j(k){o.setTimeout(()=>{throw k},0)}function B(){var k=W;let z=null;return k.g&&(z=k.g,k.g=k.g.next,k.g||(k.h=null),z.next=null),z}class te{constructor(){this.h=this.g=null}add(z,Z){const xe=he.get();xe.set(z,Z),this.h?this.h.next=xe:this.g=xe,this.h=xe}}var he=new E(()=>new _e,k=>k.reset());class _e{constructor(){this.next=this.g=this.h=null}set(z,Z){this.h=z,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ie=!1,W=new te,ue=()=>{const k=o.Promise.resolve(void 0);fe=()=>{k.then(Y)}};var Y=()=>{for(var k;k=B();){try{k.h.call(k.g)}catch(Z){j(Z)}var z=he;z.j(k),100>z.h&&(z.h++,k.next=z.g,z.g=k)}ie=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(k,z){this.type=k,this.g=this.target=z,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var k=!1,z=Object.defineProperty({},"passive",{get:function(){k=!0}});try{const Z=()=>{};o.addEventListener("test",Z,z),o.removeEventListener("test",Z,z)}catch{}return k})();function J(k,z){if(q.call(this,k?k.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,k){var Z=this.type=k.type,xe=k.changedTouches&&k.changedTouches.length?k.changedTouches[0]:null;if(this.target=k.target||k.srcElement,this.g=z,z=k.relatedTarget){if(G){e:{try{V(z.nodeName);var Ke=!0;break e}catch{}Ke=!1}Ke||(z=null)}}else Z=="mouseover"?z=k.fromElement:Z=="mouseout"&&(z=k.toElement);this.relatedTarget=z,xe?(this.clientX=xe.clientX!==void 0?xe.clientX:xe.pageX,this.clientY=xe.clientY!==void 0?xe.clientY:xe.pageY,this.screenX=xe.screenX||0,this.screenY=xe.screenY||0):(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0),this.button=k.button,this.key=k.key||"",this.ctrlKey=k.ctrlKey,this.altKey=k.altKey,this.shiftKey=k.shiftKey,this.metaKey=k.metaKey,this.pointerId=k.pointerId||0,this.pointerType=typeof k.pointerType=="string"?k.pointerType:ce[k.pointerType]||"",this.state=k.state,this.i=k,k.defaultPrevented&&J.aa.h.call(this)}}y(J,q);var ce={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var k=this.i;k.preventDefault?k.preventDefault():k.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),ke=0;function ae(k,z,Z,xe,Ke){this.listener=k,this.proxy=null,this.src=z,this.type=Z,this.capture=!!xe,this.ha=Ke,this.key=++ke,this.da=this.fa=!1}function be(k){k.da=!0,k.listener=null,k.proxy=null,k.src=null,k.ha=null}function De(k){this.src=k,this.g={},this.h=0}De.prototype.add=function(k,z,Z,xe,Ke){var ut=k.toString();k=this.g[ut],k||(k=this.g[ut]=[],this.h++);var jt=Pe(k,z,xe,Ke);return-1<jt?(z=k[jt],Z||(z.fa=!1)):(z=new ae(z,this.src,ut,!!xe,Ke),z.fa=Z,k.push(z)),z};function se(k,z){var Z=z.type;if(Z in k.g){var xe=k.g[Z],Ke=Array.prototype.indexOf.call(xe,z,void 0),ut;(ut=0<=Ke)&&Array.prototype.splice.call(xe,Ke,1),ut&&(be(z),k.g[Z].length==0&&(delete k.g[Z],k.h--))}}function Pe(k,z,Z,xe){for(var Ke=0;Ke<k.length;++Ke){var ut=k[Ke];if(!ut.da&&ut.listener==z&&ut.capture==!!Z&&ut.ha==xe)return Ke}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),me={};function Oe(k,z,Z,xe,Ke){if(Array.isArray(z)){for(var ut=0;ut<z.length;ut++)Oe(k,z[ut],Z,xe,Ke);return null}return Z=qe(Z),k&&k[ye]?k.K(z,Z,c(xe)?!!xe.capture:!1,Ke):Me(k,z,Z,!1,xe,Ke)}function Me(k,z,Z,xe,Ke,ut){if(!z)throw Error("Invalid event type");var jt=c(Ke)?!!Ke.capture:!!Ke,vn=It(k);if(vn||(k[Re]=vn=new De(k)),Z=vn.add(z,Z,xe,jt,ut),Z.proxy)return Z;if(xe=Qe(),Z.proxy=xe,xe.src=k,xe.listener=Z,k.addEventListener)K||(Ke=jt),Ke===void 0&&(Ke=!1),k.addEventListener(z.toString(),xe,Ke);else if(k.attachEvent)k.attachEvent(st(z.toString()),xe);else if(k.addListener&&k.removeListener)k.addListener(xe);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function Qe(){function k(Z){return z.call(k.src,k.listener,Z)}const z=At;return k}function re(k,z,Z,xe,Ke){if(Array.isArray(z))for(var ut=0;ut<z.length;ut++)re(k,z[ut],Z,xe,Ke);else xe=c(xe)?!!xe.capture:!!xe,Z=qe(Z),k&&k[ye]?(k=k.i,z=String(z).toString(),z in k.g&&(ut=k.g[z],Z=Pe(ut,Z,xe,Ke),-1<Z&&(be(ut[Z]),Array.prototype.splice.call(ut,Z,1),ut.length==0&&(delete k.g[z],k.h--)))):k&&(k=It(k))&&(z=k.g[z.toString()],k=-1,z&&(k=Pe(z,Z,xe,Ke)),(Z=-1<k?z[k]:null)&&je(Z))}function je(k){if(typeof k!="number"&&k&&!k.da){var z=k.src;if(z&&z[ye])se(z.i,k);else{var Z=k.type,xe=k.proxy;z.removeEventListener?z.removeEventListener(Z,xe,k.capture):z.detachEvent?z.detachEvent(st(Z),xe):z.addListener&&z.removeListener&&z.removeListener(xe),(Z=It(z))?(se(Z,k),Z.h==0&&(Z.src=null,z[Re]=null)):be(k)}}}function st(k){return k in me?me[k]:me[k]="on"+k}function At(k,z){if(k.da)k=!0;else{z=new J(z,this);var Z=k.listener,xe=k.ha||k.src;k.fa&&je(k),k=Z.call(xe,z)}return k}function It(k){return k=k[Re],k instanceof De?k:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function qe(k){return typeof k=="function"?k:(k[Le]||(k[Le]=function(z){return k.handleEvent(z)}),k[Le])}function We(){P.call(this),this.i=new De(this),this.M=this,this.F=null}y(We,P),We.prototype[ye]=!0,We.prototype.removeEventListener=function(k,z,Z,xe){re(this,k,z,Z,xe)};function dt(k,z){var Z,xe=k.F;if(xe)for(Z=[];xe;xe=xe.F)Z.push(xe);if(k=k.M,xe=z.type||z,typeof z=="string")z=new q(z,k);else if(z instanceof q)z.target=z.target||k;else{var Ke=z;z=new q(xe,k),D(z,Ke)}if(Ke=!0,Z)for(var ut=Z.length-1;0<=ut;ut--){var jt=z.g=Z[ut];Ke=bt(jt,xe,!0,z)&&Ke}if(jt=z.g=k,Ke=bt(jt,xe,!0,z)&&Ke,Ke=bt(jt,xe,!1,z)&&Ke,Z)for(ut=0;ut<Z.length;ut++)jt=z.g=Z[ut],Ke=bt(jt,xe,!1,z)&&Ke}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var k=this.i,z;for(z in k.g){for(var Z=k.g[z],xe=0;xe<Z.length;xe++)be(Z[xe]);delete k.g[z],k.h--}}this.F=null},We.prototype.K=function(k,z,Z,xe){return this.i.add(String(k),z,!1,Z,xe)},We.prototype.L=function(k,z,Z,xe){return this.i.add(String(k),z,!0,Z,xe)};function bt(k,z,Z,xe){if(z=k.i.g[String(z)],!z)return!0;z=z.concat();for(var Ke=!0,ut=0;ut<z.length;++ut){var jt=z[ut];if(jt&&!jt.da&&jt.capture==Z){var vn=jt.listener,pi=jt.ha||jt.src;jt.fa&&se(k.i,jt),Ke=vn.call(pi,xe)!==!1&&Ke}}return Ke&&!xe.defaultPrevented}function _t(k,z,Z){if(typeof k=="function")Z&&(k=g(k,Z));else if(k&&typeof k.handleEvent=="function")k=g(k.handleEvent,k);else throw Error("Invalid listener argument");return 2147483647<Number(z)?-1:o.setTimeout(k,z||0)}function vt(k){k.g=_t(()=>{k.g=null,k.i&&(k.i=!1,vt(k))},k.l);const z=k.h;k.h=null,k.m.apply(null,z)}class St extends P{constructor(z,Z){super(),this.m=z,this.l=Z,this.h=null,this.i=!1,this.g=null}j(z){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(k){P.call(this),this.h=k,this.g={}}y(Xt,P);var Yt=[];function Ut(k){X(k.g,function(z,Z){this.g.hasOwnProperty(Z)&&je(z)},k),k.g={}}Xt.prototype.N=function(){Xt.aa.N.call(this),Ut(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pr=o.JSON.stringify,Ge=o.JSON.parse,Ft=class{stringify(k){return o.JSON.stringify(k,void 0)}parse(k){return o.JSON.parse(k,void 0)}};function Wt(){}Wt.prototype.h=null;function Vt(k){return k.h||(k.h=k.i())}function mr(){}var wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){q.call(this,"d")}y(Ar,q);function Jt(){q.call(this,"c")}y(Jt,q);var cr={},Fn=null;function Yr(){return Fn=Fn||new We}cr.La="serverreachability";function yi(k){q.call(this,cr.La,k)}y(yi,q);function Un(k){const z=Yr();dt(z,new yi(z))}cr.STAT_EVENT="statevent";function ar(k,z){q.call(this,cr.STAT_EVENT,k),this.stat=z}y(ar,q);function dn(k){const z=Yr();dt(z,new ar(z,k))}cr.Ma="timingevent";function Ws(k,z){q.call(this,cr.Ma,k),this.size=z}y(Ws,q);function Zn(k,z){if(typeof k!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){k()},z)}function es(){this.g=!0}es.prototype.xa=function(){this.g=!1};function Tn(k,z,Z,xe,Ke,ut){k.info(function(){if(k.g)if(ut)for(var jt="",vn=ut.split("&"),pi=0;pi<vn.length;pi++){var Qr=vn[pi].split("=");if(1<Qr.length){var rn=Qr[0];Qr=Qr[1];var _n=rn.split("_");jt=2<=_n.length&&_n[1]=="type"?jt+(rn+"="+Qr+"&"):jt+(rn+"=redacted&")}}else jt=null;else jt=ut;return"XMLHTTP REQ ("+xe+") [attempt "+Ke+"]: "+z+`
`+Z+`
`+jt})}function oi(k,z,Z,xe,Ke,ut,jt){k.info(function(){return"XMLHTTP RESP ("+xe+") [ attempt "+Ke+"]: "+z+`
`+Z+`
`+ut+" "+jt})}function oe(k,z,Z,xe){k.info(function(){return"XMLHTTP TEXT ("+z+"): "+we(k,Z)+(xe?" "+xe:"")})}function Ae(k,z){k.info(function(){return"TIMEOUT: "+z})}es.prototype.info=function(){};function we(k,z){if(!k.g)return z;if(!z)return null;try{var Z=JSON.parse(z);if(Z){for(k=0;k<Z.length;k++)if(Array.isArray(Z[k])){var xe=Z[k];if(!(2>xe.length)){var Ke=xe[1];if(Array.isArray(Ke)&&!(1>Ke.length)){var ut=Ke[0];if(ut!="noop"&&ut!="stop"&&ut!="close")for(var jt=1;jt<Ke.length;jt++)Ke[jt]=""}}}}return pr(Z)}catch{return z}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function Ye(){}y(Ye,Wt),Ye.prototype.g=function(){return new XMLHttpRequest},Ye.prototype.i=function(){return{}},Ie=new Ye;function ot(k,z,Z,xe){this.j=k,this.i=z,this.l=Z,this.R=xe||1,this.U=new Xt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new et}function et(){this.i=null,this.g="",this.h=!1}var tt={},it={};function Et(k,z,Z){k.L=1,k.v=ol(Ks(z)),k.m=Z,k.P=!0,Mt(k,null)}function Mt(k,z){k.F=Date.now(),Pt(k),k.A=Ks(k.v);var Z=k.A,xe=k.R;Array.isArray(xe)||(xe=[String(xe)]),kr(Z.i,"t",xe),k.C=0,Z=k.j.J,k.h=new et,k.g=fl(k.j,Z?z:null,!k.m),0<k.O&&(k.M=new St(g(k.Y,k,k.g),k.O)),z=k.U,Z=k.g,xe=k.ca;var Ke="readystatechange";Array.isArray(Ke)||(Ke&&(Yt[0]=Ke.toString()),Ke=Yt);for(var ut=0;ut<Ke.length;ut++){var jt=Oe(Z,Ke[ut],xe||z.handleEvent,!1,z.h||z);if(!jt)break;z.g[jt.key]=jt}z=k.H?A(k.H):{},k.m?(k.u||(k.u="POST"),z["Content-Type"]="application/x-www-form-urlencoded",k.g.ea(k.A,k.u,k.m,z)):(k.u="GET",k.g.ea(k.A,k.u,null,z)),Un(),Tn(k.i,k.u,k.A,k.l,k.R,k.m)}ot.prototype.ca=function(k){k=k.target;const z=this.M;z&&Ls(k)==3?z.j():this.Y(k)},ot.prototype.Y=function(k){try{if(k==this.g)e:{const _n=Ls(this.g);var z=this.g.Ba();const da=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||vc(this.g)))){this.J||_n!=4||z==7||(z==8||0>=da?Un(3):Un(2)),fn(this);var Z=this.g.Z();this.X=Z;t:if(Gt(this)){var xe=vc(this.g);k="";var Ke=xe.length,ut=Ls(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Vr(this);var jt="";break t}this.h.i=new o.TextDecoder}for(z=0;z<Ke;z++)this.h.h=!0,k+=this.h.i.decode(xe[z],{stream:!(ut&&z==Ke-1)});xe.length=0,this.h.g+=k,this.C=0,jt=this.h.g}else jt=this.g.oa();if(this.o=Z==200,oi(this.i,this.u,this.A,this.l,this.R,_n,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var vn,pi=this.g;if((vn=pi.g?pi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(vn)){var Qr=vn;break t}}Qr=null}if(Z=Qr)oe(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ha(this,Z);else{this.o=!1,this.s=3,dn(12),gn(this),Vr(this);break e}}if(this.P){Z=!0;let Zs;for(;!this.J&&this.C<jt.length;)if(Zs=Ot(this,jt),Zs==it){_n==4&&(this.s=4,dn(14),Z=!1),oe(this.i,this.l,null,"[Incomplete Response]");break}else if(Zs==tt){this.s=4,dn(15),oe(this.i,this.l,jt,"[Invalid Chunk]"),Z=!1;break}else oe(this.i,this.l,Zs,null),Ha(this,Zs);if(Gt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||jt.length!=0||this.h.h||(this.s=1,dn(16),Z=!1),this.o=this.o&&Z,!Z)oe(this.i,this.l,jt,"[Invalid Chunked Response]"),gn(this),Vr(this);else if(0<jt.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+jt.length),ln(rn),rn.M=!0,dn(11))}}else oe(this.i,this.l,jt,null),Ha(this,jt);_n==4&&gn(this),this.o&&!this.J&&(_n==4?xn(this.j,this):(this.o=!1,Pt(this)))}else Fs(this.g),Z==400&&0<jt.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),gn(this),Vr(this)}}}catch{}finally{}};function Gt(k){return k.g?k.u=="GET"&&k.L!=2&&k.j.Ca:!1}function Ot(k,z){var Z=k.C,xe=z.indexOf(`
`,Z);return xe==-1?it:(Z=Number(z.substring(Z,xe)),isNaN(Z)?tt:(xe+=1,xe+Z>z.length?it:(z=z.slice(xe,xe+Z),k.C=xe+Z,z)))}ot.prototype.cancel=function(){this.J=!0,gn(this)};function Pt(k){k.S=Date.now()+k.I,Sr(k,k.I)}function Sr(k,z){if(k.B!=null)throw Error("WatchDog timer not null");k.B=Zn(g(k.ba,k),z)}function fn(k){k.B&&(o.clearTimeout(k.B),k.B=null)}ot.prototype.ba=function(){this.B=null;const k=Date.now();0<=k-this.S?(Ae(this.i,this.A),this.L!=2&&(Un(),dn(17)),gn(this),this.s=2,Vr(this)):Sr(this,this.S-k)};function Vr(k){k.j.G==0||k.J||xn(k.j,k)}function gn(k){fn(k);var z=k.M;z&&typeof z.ma=="function"&&z.ma(),k.M=null,Ut(k.U),k.g&&(z=k.g,k.g=null,z.abort(),z.ma())}function Ha(k,z){try{var Z=k.j;if(Z.G!=0&&(Z.g==k||An(Z.h,k))){if(!k.K&&An(Z.h,k)&&Z.G==3){try{var xe=Z.Da.g.parse(z)}catch{xe=null}if(Array.isArray(xe)&&xe.length==3){var Ke=xe;if(Ke[0]==0){e:if(!Z.u){if(Z.g)if(Z.g.F+3e3<k.F)li(Z),Ce(Z);else break e;Pr(Z),dn(18)}}else Z.za=Ke[1],0<Z.za-Z.T&&37500>Ke[2]&&Z.F&&Z.v==0&&!Z.C&&(Z.C=Zn(g(Z.Za,Z),6e3));if(1>=al(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else Dn(Z,11)}else if((k.K||Z.g==k)&&li(Z),!L(z))for(Ke=Z.Da.g.parse(z),z=0;z<Ke.length;z++){let Qr=Ke[z];if(Z.T=Qr[0],Qr=Qr[1],Z.G==2)if(Qr[0]=="c"){Z.K=Qr[1],Z.ia=Qr[2];const rn=Qr[3];rn!=null&&(Z.la=rn,Z.j.info("VER="+Z.la));const _n=Qr[4];_n!=null&&(Z.Aa=_n,Z.j.info("SVER="+Z.Aa));const da=Qr[5];da!=null&&typeof da=="number"&&0<da&&(xe=1.5*da,Z.L=xe,Z.j.info("backChannelRequestTimeoutMs_="+xe)),xe=Z;const Zs=k.g;if(Zs){const Ja=Zs.g?Zs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ja){var ut=xe.h;ut.g||Ja.indexOf("spdy")==-1&&Ja.indexOf("quic")==-1&&Ja.indexOf("h2")==-1||(ut.j=ut.l,ut.g=new Set,ut.h&&(Vu(ut,ut.h),ut.h=null))}if(xe.D){const hl=Zs.g?Zs.g.getResponseHeader("X-HTTP-Session-Id"):null;hl&&(xe.ya=hl,tn(xe.I,xe.D,hl))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-k.F,Z.j.info("Handshake RTT: "+Z.R+"ms")),xe=Z;var jt=k;if(xe.qa=$o(xe,xe.J?xe.ia:null,xe.W),jt.K){wi(xe.h,jt);var vn=jt,pi=xe.L;pi&&(vn.I=pi),vn.B&&(fn(vn),Pt(vn)),xe.g=jt}else _r(xe);0<Z.i.length&&He(Z)}else Qr[0]!="stop"&&Qr[0]!="close"||Dn(Z,7);else Z.G==3&&(Qr[0]=="stop"||Qr[0]=="close"?Qr[0]=="stop"?Dn(Z,7):ee(Z):Qr[0]!="noop"&&Z.l&&Z.l.ta(Qr),Z.v=0)}}Un(4)}catch{}}var Wa=class{constructor(k,z){this.g=k,this.map=z}};function ca(k){this.l=k||10,o.PerformanceNavigationTiming?(k=o.performance.getEntriesByType("navigation"),k=0<k.length&&(k[0].nextHopProtocol=="hq"||k[0].nextHopProtocol=="h2")):k=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=k?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hi(k){return k.h?!0:k.g?k.g.size>=k.j:!1}function al(k){return k.h?1:k.g?k.g.size:0}function An(k,z){return k.h?k.h==z:k.g?k.g.has(z):!1}function Vu(k,z){k.g?k.g.add(z):k.h=z}function wi(k,z){k.h&&k.h==z?k.h=null:k.g&&k.g.has(z)&&k.g.delete(z)}ca.prototype.cancel=function(){if(this.i=Uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const k of this.g.values())k.cancel();this.g.clear()}};function Uu(k){if(k.h!=null)return k.i.concat(k.h.D);if(k.g!=null&&k.g.size!==0){let z=k.i;for(const Z of k.g.values())z=z.concat(Z.D);return z}return w(k.i)}function mc(k){if(k.V&&typeof k.V=="function")return k.V();if(typeof Map<"u"&&k instanceof Map||typeof Set<"u"&&k instanceof Set)return Array.from(k.values());if(typeof k=="string")return k.split("");if(l(k)){for(var z=[],Z=k.length,xe=0;xe<Z;xe++)z.push(k[xe]);return z}z=[],Z=0;for(xe in k)z[Z++]=k[xe];return z}function Ga(k){if(k.na&&typeof k.na=="function")return k.na();if(!k.V||typeof k.V!="function"){if(typeof Map<"u"&&k instanceof Map)return Array.from(k.keys());if(!(typeof Set<"u"&&k instanceof Set)){if(l(k)||typeof k=="string"){var z=[];k=k.length;for(var Z=0;Z<k;Z++)z.push(Z);return z}z=[],Z=0;for(const xe in k)z[Z++]=xe;return z}}}function Ka(k,z){if(k.forEach&&typeof k.forEach=="function")k.forEach(z,void 0);else if(l(k)||typeof k=="string")Array.prototype.forEach.call(k,z,void 0);else for(var Z=Ga(k),xe=mc(k),Ke=xe.length,ut=0;ut<Ke;ut++)z.call(void 0,xe[ut],Z&&Z[ut],k)}var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gc(k,z){if(k){k=k.split("&");for(var Z=0;Z<k.length;Z++){var xe=k[Z].indexOf("="),Ke=null;if(0<=xe){var ut=k[Z].substring(0,xe);Ke=k[Z].substring(xe+1)}else ut=k[Z];z(ut,Ke?decodeURIComponent(Ke.replace(/\+/g," ")):"")}}}function Pn(k){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,k instanceof Pn){this.h=k.h,xc(this,k.j),this.o=k.o,this.g=k.g,Fl(this,k.s),this.l=k.l;var z=k.i,Z=new Xs;Z.i=z.i,z.g&&(Z.g=new Map(z.g),Z.h=z.h),jl(this,Z),this.m=k.m}else k&&(z=String(k).match(Gs))?(this.h=!1,xc(this,z[1]||"",!0),this.o=Kr(z[2]||""),this.g=Kr(z[3]||"",!0),Fl(this,z[4]),this.l=Kr(z[5]||"",!0),jl(this,z[6]||"",!0),this.m=Kr(z[7]||"")):(this.h=!1,this.i=new Xs(null,this.h))}Pn.prototype.toString=function(){var k=[],z=this.j;z&&k.push(Ta(z,Kc,!0),":");var Z=this.g;return(Z||z=="file")&&(k.push("//"),(z=this.o)&&k.push(Ta(z,Kc,!0),"@"),k.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.s,Z!=null&&k.push(":",String(Z))),(Z=this.l)&&(this.g&&Z.charAt(0)!="/"&&k.push("/"),k.push(Ta(Z,Z.charAt(0)=="/"?Vd:Bd,!0))),(Z=this.i.toString())&&k.push("?",Z),(Z=this.m)&&k.push("#",Ta(Z,ll)),k.join("")};function Ks(k){return new Pn(k)}function xc(k,z,Z){k.j=Z?Kr(z,!0):z,k.j&&(k.j=k.j.replace(/:$/,""))}function Fl(k,z){if(z){if(z=Number(z),isNaN(z)||0>z)throw Error("Bad port number "+z);k.s=z}else k.s=null}function jl(k,z,Z){z instanceof Xs?(k.i=z,Vo(k.i,k.h)):(Z||(z=Ta(z,Xc)),k.i=new Xs(z,k.h))}function tn(k,z,Z){k.i.set(z,Z)}function ol(k){return tn(k,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),k}function Kr(k,z){return k?z?decodeURI(k.replace(/%25/g,"%2525")):decodeURIComponent(k):""}function Ta(k,z,Z){return typeof k=="string"?(k=encodeURI(k).replace(z,Gc),Z&&(k=k.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k):null}function Gc(k){return k=k.charCodeAt(0),"%"+(k>>4&15).toString(16)+(k&15).toString(16)}var Kc=/[#\/\?@]/g,Bd=/[#\?:]/g,Vd=/[#\?]/g,Xc=/[#\?@]/g,ll=/#/g;function Xs(k,z){this.h=this.g=null,this.i=k||null,this.j=!!z}function ms(k){k.g||(k.g=new Map,k.h=0,k.i&&gc(k.i,function(z,Z){k.add(decodeURIComponent(z.replace(/\+/g," ")),Z)}))}t=Xs.prototype,t.add=function(k,z){ms(this),this.i=null,k=Xa(this,k);var Z=this.g.get(k);return Z||this.g.set(k,Z=[]),Z.push(z),this.h+=1,this};function Ys(k,z){ms(k),z=Xa(k,z),k.g.has(z)&&(k.i=null,k.h-=k.g.get(z).length,k.g.delete(z))}function Aa(k,z){return ms(k),z=Xa(k,z),k.g.has(z)}t.forEach=function(k,z){ms(this),this.g.forEach(function(Z,xe){Z.forEach(function(Ke){k.call(z,Ke,xe,this)},this)},this)},t.na=function(){ms(this);const k=Array.from(this.g.values()),z=Array.from(this.g.keys()),Z=[];for(let xe=0;xe<z.length;xe++){const Ke=k[xe];for(let ut=0;ut<Ke.length;ut++)Z.push(z[xe])}return Z},t.V=function(k){ms(this);let z=[];if(typeof k=="string")Aa(this,k)&&(z=z.concat(this.g.get(Xa(this,k))));else{k=Array.from(this.g.values());for(let Z=0;Z<k.length;Z++)z=z.concat(k[Z])}return z},t.set=function(k,z){return ms(this),this.i=null,k=Xa(this,k),Aa(this,k)&&(this.h-=this.g.get(k).length),this.g.set(k,[z]),this.h+=1,this},t.get=function(k,z){return k?(k=this.V(k),0<k.length?String(k[0]):z):z};function kr(k,z,Z){Ys(k,z),0<Z.length&&(k.i=null,k.g.set(Xa(k,z),w(Z)),k.h+=Z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const k=[],z=Array.from(this.g.keys());for(var Z=0;Z<z.length;Z++){var xe=z[Z];const ut=encodeURIComponent(String(xe)),jt=this.V(xe);for(xe=0;xe<jt.length;xe++){var Ke=ut;jt[xe]!==""&&(Ke+="="+encodeURIComponent(String(jt[xe]))),k.push(Ke)}}return this.i=k.join("&")};function Xa(k,z){return z=String(z),k.j&&(z=z.toLowerCase()),z}function Vo(k,z){z&&!k.j&&(ms(k),k.i=null,k.g.forEach(function(Z,xe){var Ke=xe.toLowerCase();xe!=Ke&&(Ys(this,xe),kr(this,Ke,Z))},k)),k.j=z}function mh(k,z){const Z=new es;if(o.Image){const xe=new Image;xe.onload=m(Ni,Z,"TestLoadImage: loaded",!0,z,xe),xe.onerror=m(Ni,Z,"TestLoadImage: error",!1,z,xe),xe.onabort=m(Ni,Z,"TestLoadImage: abort",!1,z,xe),xe.ontimeout=m(Ni,Z,"TestLoadImage: timeout",!1,z,xe),o.setTimeout(function(){xe.ontimeout&&xe.ontimeout()},1e4),xe.src=k}else z(!1)}function Ud(k,z){const Z=new es,xe=new AbortController,Ke=setTimeout(()=>{xe.abort(),Ni(Z,"TestPingServer: timeout",!1,z)},1e4);fetch(k,{signal:xe.signal}).then(ut=>{clearTimeout(Ke),ut.ok?Ni(Z,"TestPingServer: ok",!0,z):Ni(Z,"TestPingServer: server error",!1,z)}).catch(()=>{clearTimeout(Ke),Ni(Z,"TestPingServer: error",!1,z)})}function Ni(k,z,Z,xe,Ke){try{Ke&&(Ke.onload=null,Ke.onerror=null,Ke.onabort=null,Ke.ontimeout=null),xe(Z)}catch{}}function cl(){this.g=new Ft}function zd(k,z,Z){const xe=Z||"";try{Ka(k,function(Ke,ut){let jt=Ke;c(Ke)&&(jt=pr(Ke)),z.push(xe+ut+"="+encodeURIComponent(jt))})}catch(Ke){throw z.push(xe+"type="+encodeURIComponent("_badmap")),Ke}}function ul(k){this.l=k.Ub||null,this.j=k.eb||!1}y(ul,Wt),ul.prototype.g=function(){return new Uo(this.l,this.j)},ul.prototype.i=(function(k){return function(){return k}})({});function Uo(k,z){We.call(this),this.D=k,this.o=z,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Uo,We),t=Uo.prototype,t.open=function(k,z){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=k,this.A=z,this.readyState=1,ua(this)},t.send=function(k){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const z={headers:this.u,method:this.B,credentials:this.m,cache:void 0};k&&(z.body=k),(this.D||o).fetch(new Request(this.A,z)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},t.Sa=function(k){if(this.g&&(this.l=k,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=k.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")k.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in k){if(this.j=k.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yc(this)}else k.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yc(k){k.j.read().then(k.Pa.bind(k)).catch(k.ga.bind(k))}t.Pa=function(k){if(this.g){if(this.o&&k.value)this.response.push(k.value);else if(!this.o){var z=k.value?k.value:new Uint8Array(0);(z=this.v.decode(z,{stream:!k.done}))&&(this.response=this.responseText+=z)}k.done?Qs(this):ua(this),this.readyState==3&&Yc(this)}},t.Ra=function(k){this.g&&(this.response=this.responseText=k,Qs(this))},t.Qa=function(k){this.g&&(this.response=k,Qs(this))},t.ga=function(){this.g&&Qs(this)};function Qs(k){k.readyState=4,k.l=null,k.j=null,k.v=null,ua(k)}t.setRequestHeader=function(k,z){this.u.append(k,z)},t.getResponseHeader=function(k){return this.h&&this.h.get(k.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const k=[],z=this.h.entries();for(var Z=z.next();!Z.done;)Z=Z.value,k.push(Z[0]+": "+Z[1]),Z=z.next();return k.join(`\r
`)};function ua(k){k.onreadystatechange&&k.onreadystatechange.call(k)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(k){this.m=k?"include":"same-origin"}});function Ya(k){let z="";return X(k,function(Z,xe){z+=xe,z+=":",z+=Z,z+=`\r
`}),z}function Dl(k,z,Z){e:{for(xe in Z){var xe=!1;break e}xe=!0}xe||(Z=Ya(Z),typeof k=="string"?Z!=null&&encodeURIComponent(String(Z)):tn(k,z,Z))}function jn(k){We.call(this),this.headers=new Map,this.o=k||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(jn,We);var zu=/^https?$/i,dl=["POST","PUT"];t=jn.prototype,t.Ha=function(k){this.J=k},t.ea=function(k,z,Z,xe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+k);z=z?z.toUpperCase():"GET",this.D=k,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?Vt(this.o):Vt(Ie),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(z,String(k),!0),this.B=!1}catch(ut){Ao(this,ut);return}if(k=Z||"",Z=new Map(this.headers),xe)if(Object.getPrototypeOf(xe)===Object.prototype)for(var Ke in xe)Z.set(Ke,xe[Ke]);else if(typeof xe.keys=="function"&&typeof xe.get=="function")for(const ut of xe.keys())Z.set(ut,xe.get(ut));else throw Error("Unknown input type for opt_headers: "+String(xe));xe=Array.from(Z.keys()).find(ut=>ut.toLowerCase()=="content-type"),Ke=o.FormData&&k instanceof o.FormData,!(0<=Array.prototype.indexOf.call(dl,z,void 0))||xe||Ke||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ut,jt]of Z)this.g.setRequestHeader(ut,jt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zo(this),this.u=!0,this.g.send(k),this.u=!1}catch(ut){Ao(this,ut)}};function Ao(k,z){k.h=!1,k.g&&(k.j=!0,k.g.abort(),k.j=!1),k.l=z,k.m=5,Ol(k),Js(k)}function Ol(k){k.A||(k.A=!0,dt(k,"complete"),dt(k,"error"))}t.abort=function(k){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=k||7,dt(this,"complete"),dt(this,"abort"),Js(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Js(this,!0)),jn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ml(this):this.bb())},t.bb=function(){Ml(this)};function Ml(k){if(k.h&&typeof a<"u"&&(!k.v[1]||Ls(k)!=4||k.Z()!=2)){if(k.u&&Ls(k)==4)_t(k.Ea,0,k);else if(dt(k,"readystatechange"),Ls(k)==4){k.h=!1;try{const jt=k.Z();e:switch(jt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var z=!0;break e;default:z=!1}var Z;if(!(Z=z)){var xe;if(xe=jt===0){var Ke=String(k.D).match(Gs)[1]||null;!Ke&&o.self&&o.self.location&&(Ke=o.self.location.protocol.slice(0,-1)),xe=!zu.test(Ke?Ke.toLowerCase():"")}Z=xe}if(Z)dt(k,"complete"),dt(k,"success");else{k.m=6;try{var ut=2<Ls(k)?k.g.statusText:""}catch{ut=""}k.l=ut+" ["+k.Z()+"]",Ol(k)}}finally{Js(k)}}}}function Js(k,z){if(k.g){zo(k);const Z=k.g,xe=k.v[0]?()=>{}:null;k.g=null,k.v=null,z||dt(k,"ready");try{Z.onreadystatechange=xe}catch{}}}function zo(k){k.I&&(o.clearTimeout(k.I),k.I=null)}t.isActive=function(){return!!this.g};function Ls(k){return k.g?k.g.readyState:0}t.Z=function(){try{return 2<Ls(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(k){if(this.g){var z=this.g.responseText;return k&&z.indexOf(k)==0&&(z=z.substring(k.length)),Ge(z)}};function vc(k){try{if(!k.g)return null;if("response"in k.g)return k.g.response;switch(k.H){case"":case"text":return k.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in k.g)return k.g.mozResponseArrayBuffer}return null}catch{return null}}function Fs(k){const z={};k=(k.g&&2<=Ls(k)&&k.g.getAllResponseHeaders()||"").split(`\r
`);for(let xe=0;xe<k.length;xe++){if(L(k[xe]))continue;var Z=N(k[xe]);const Ke=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const ut=z[Ke]||[];z[Ke]=ut,ut.push(Z)}R(z,function(xe){return xe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(k,z,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[k]||z}function M(k){this.Aa=0,this.i=[],this.j=new es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,k),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,k),this.cb=gs("retryDelaySeedMs",1e4,k),this.Wa=gs("forwardChannelMaxRetries",2,k),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,k),this.pa=k&&k.xmlHttpFactory||void 0,this.Xa=k&&k.Tb||void 0,this.Ca=k&&k.useFetchStreams||!1,this.L=void 0,this.J=k&&k.supportsCrossDomainXhr||!1,this.K="",this.h=new ca(k&&k.concurrentRequestLimit),this.Da=new cl,this.P=k&&k.fastHandshake||!1,this.O=k&&k.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=k&&k.Rb||!1,k&&k.xa&&this.j.xa(),k&&k.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&k&&k.detectBufferingProxy||!1,this.ja=void 0,k&&k.longPollingTimeout&&0<k.longPollingTimeout&&(this.ja=k.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=M.prototype,t.la=8,t.G=1,t.connect=function(k,z,Z,xe){dn(0),this.W=k,this.H=z||{},Z&&xe!==void 0&&(this.H.OSID=Z,this.H.OAID=xe),this.F=this.X,this.I=$o(this,null,this.W),He(this)};function ee(k){if(Be(k),k.G==3){var z=k.U++,Z=Ks(k.I);if(tn(Z,"SID",k.K),tn(Z,"RID",z),tn(Z,"TYPE","terminate"),Qt(k,Z),z=new ot(k,k.j,z),z.L=2,z.v=ol(Ks(Z)),Z=!1,o.navigator&&o.navigator.sendBeacon)try{Z=o.navigator.sendBeacon(z.v.toString(),"")}catch{}!Z&&o.Image&&(new Image().src=z.v,Z=!0),Z||(z.g=fl(z.j,null),z.g.ea(z.v)),z.F=Date.now(),Pt(z)}ts(k)}function Ce(k){k.g&&(ln(k),k.g.cancel(),k.g=null)}function Be(k){Ce(k),k.u&&(o.clearTimeout(k.u),k.u=null),li(k),k.h.cancel(),k.s&&(typeof k.s=="number"&&o.clearTimeout(k.s),k.s=null)}function He(k){if(!hi(k.h)&&!k.s){k.s=!0;var z=k.Ga;fe||ue(),ie||(fe(),ie=!0),W.add(z,k),k.B=0}}function xt(k,z){return al(k.h)>=k.h.j-(k.s?1:0)?!1:k.s?(k.i=z.D.concat(k.i),!0):k.G==1||k.G==2||k.B>=(k.Va?0:k.Wa)?!1:(k.s=Zn(g(k.Ga,k,z),Ii(k,k.B)),k.B++,!0)}t.Ga=function(k){if(this.s)if(this.s=null,this.G==1){if(!k){this.U=Math.floor(1e5*Math.random()),k=this.U++;const Ke=new ot(this,this.j,k);let ut=this.o;if(this.S&&(ut?(ut=A(ut),D(ut,this.S)):ut=this.S),this.m!==null||this.O||(Ke.H=ut,ut=null),this.P)e:{for(var z=0,Z=0;Z<this.i.length;Z++){t:{var xe=this.i[Z];if("__data__"in xe.map&&(xe=xe.map.__data__,typeof xe=="string")){xe=xe.length;break t}xe=void 0}if(xe===void 0)break;if(z+=xe,4096<z){z=Z;break e}if(z===4096||Z===this.i.length-1){z=Z+1;break e}}z=1e3}else z=1e3;z=tr(this,Ke,z),Z=Ks(this.I),tn(Z,"RID",k),tn(Z,"CVER",22),this.D&&tn(Z,"X-HTTP-Session-Id",this.D),Qt(this,Z),ut&&(this.O?z="headers="+encodeURIComponent(String(Ya(ut)))+"&"+z:this.m&&Dl(Z,this.m,ut)),Vu(this.h,Ke),this.Ua&&tn(Z,"TYPE","init"),this.P?(tn(Z,"$req",z),tn(Z,"SID","null"),Ke.T=!0,Et(Ke,Z,null)):Et(Ke,Z,z),this.G=2}}else this.G==3&&(k?kt(this,k):this.i.length==0||hi(this.h)||kt(this))};function kt(k,z){var Z;z?Z=z.l:Z=k.U++;const xe=Ks(k.I);tn(xe,"SID",k.K),tn(xe,"RID",Z),tn(xe,"AID",k.T),Qt(k,xe),k.m&&k.o&&Dl(xe,k.m,k.o),Z=new ot(k,k.j,Z,k.B+1),k.m===null&&(Z.H=k.o),z&&(k.i=z.D.concat(k.i)),z=tr(k,Z,1e3),Z.I=Math.round(.5*k.wa)+Math.round(.5*k.wa*Math.random()),Vu(k.h,Z),Et(Z,xe,z)}function Qt(k,z){k.H&&X(k.H,function(Z,xe){tn(z,xe,Z)}),k.l&&Ka({},function(Z,xe){tn(z,xe,Z)})}function tr(k,z,Z){Z=Math.min(k.i.length,Z);var xe=k.l?g(k.l.Na,k.l,k):null;e:{var Ke=k.i;let ut=-1;for(;;){const jt=["count="+Z];ut==-1?0<Z?(ut=Ke[0].g,jt.push("ofs="+ut)):ut=0:jt.push("ofs="+ut);let vn=!0;for(let pi=0;pi<Z;pi++){let Qr=Ke[pi].g;const rn=Ke[pi].map;if(Qr-=ut,0>Qr)ut=Math.max(0,Ke[pi].g-100),vn=!1;else try{zd(rn,jt,"req"+Qr+"_")}catch{xe&&xe(rn)}}if(vn){xe=jt.join("&");break e}}}return k=k.i.splice(0,Z),z.D=k,xe}function _r(k){if(!k.g&&!k.u){k.Y=1;var z=k.Fa;fe||ue(),ie||(fe(),ie=!0),W.add(z,k),k.v=0}}function Pr(k){return k.g||k.u||3<=k.v?!1:(k.Y++,k.u=Zn(g(k.Fa,k),Ii(k,k.v)),k.v++,!0)}t.Fa=function(){if(this.u=null,ei(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var k=2*this.R;this.j.info("BP detection timer enabled: "+k),this.A=Zn(g(this.ab,this),k)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dn(10),Ce(this),ei(this))};function ln(k){k.A!=null&&(o.clearTimeout(k.A),k.A=null)}function ei(k){k.g=new ot(k,k.j,"rpc",k.Y),k.m===null&&(k.g.H=k.o),k.g.O=0;var z=Ks(k.qa);tn(z,"RID","rpc"),tn(z,"SID",k.K),tn(z,"AID",k.T),tn(z,"CI",k.F?"0":"1"),!k.F&&k.ja&&tn(z,"TO",k.ja),tn(z,"TYPE","xmlhttp"),Qt(k,z),k.m&&k.o&&Dl(z,k.m,k.o),k.L&&(k.g.I=k.L);var Z=k.g;k=k.ia,Z.L=1,Z.v=ol(Ks(z)),Z.m=null,Z.P=!0,Mt(Z,k)}t.Za=function(){this.C!=null&&(this.C=null,Ce(this),Pr(this),dn(19))};function li(k){k.C!=null&&(o.clearTimeout(k.C),k.C=null)}function xn(k,z){var Z=null;if(k.g==z){li(k),ln(k),k.g=null;var xe=2}else if(An(k.h,z))Z=z.D,wi(k.h,z),xe=1;else return;if(k.G!=0){if(z.o)if(xe==1){Z=z.m?z.m.length:0,z=Date.now()-z.F;var Ke=k.B;xe=Yr(),dt(xe,new Ws(xe,Z)),He(k)}else _r(k);else if(Ke=z.s,Ke==3||Ke==0&&0<z.X||!(xe==1&&xt(k,z)||xe==2&&Pr(k)))switch(Z&&0<Z.length&&(z=k.h,z.i=z.i.concat(Z)),Ke){case 1:Dn(k,5);break;case 4:Dn(k,10);break;case 3:Dn(k,6);break;default:Dn(k,2)}}}function Ii(k,z){let Z=k.Ta+Math.floor(Math.random()*k.cb);return k.isActive()||(Z*=2),Z*z}function Dn(k,z){if(k.j.info("Error code "+z),z==2){var Z=g(k.fb,k),xe=k.Xa;const Ke=!xe;xe=new Pn(xe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||xc(xe,"https"),ol(xe),Ke?mh(xe.toString(),Z):Ud(xe.toString(),Z)}else dn(2);k.G=0,k.l&&k.l.sa(z),ts(k),Be(k)}t.fb=function(k){k?(this.j.info("Successfully pinged google.com"),dn(2)):(this.j.info("Failed to ping google.com"),dn(1))};function ts(k){if(k.G=0,k.ka=[],k.l){const z=Uu(k.h);(z.length!=0||k.i.length!=0)&&(_(k.ka,z),_(k.ka,k.i),k.h.i.length=0,w(k.i),k.i.length=0),k.l.ra()}}function $o(k,z,Z){var xe=Z instanceof Pn?Ks(Z):new Pn(Z);if(xe.g!="")z&&(xe.g=z+"."+xe.g),Fl(xe,xe.s);else{var Ke=o.location;xe=Ke.protocol,z=z?z+"."+Ke.hostname:Ke.hostname,Ke=+Ke.port;var ut=new Pn(null);xe&&xc(ut,xe),z&&(ut.g=z),Ke&&Fl(ut,Ke),Z&&(ut.l=Z),xe=ut}return Z=k.D,z=k.ya,Z&&z&&tn(xe,Z,z),tn(xe,"VER",k.la),Qt(k,xe),xe}function fl(k,z,Z){if(z&&!k.J)throw Error("Can't create secondary domain capable XhrIo object.");return z=k.Ca&&!k.pa?new jn(new ul({eb:Z})):new jn(k.pa),z.Ha(k.J),z}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}t=$u.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yc(){}yc.prototype.g=function(k,z){return new Ui(k,z)};function Ui(k,z){We.call(this),this.g=new M(z),this.l=k,this.h=z&&z.messageUrlParams||null,k=z&&z.messageHeaders||null,z&&z.clientProtocolHeaderRequired&&(k?k["X-Client-Protocol"]="webchannel":k={"X-Client-Protocol":"webchannel"}),this.g.o=k,k=z&&z.initMessageHeaders||null,z&&z.messageContentType&&(k?k["X-WebChannel-Content-Type"]=z.messageContentType:k={"X-WebChannel-Content-Type":z.messageContentType}),z&&z.va&&(k?k["X-WebChannel-Client-Profile"]=z.va:k={"X-WebChannel-Client-Profile":z.va}),this.g.S=k,(k=z&&z.Sb)&&!L(k)&&(this.g.m=k),this.v=z&&z.supportsCrossDomainXhr||!1,this.u=z&&z.sendRawJson||!1,(z=z&&z.httpSessionIdParam)&&!L(z)&&(this.g.D=z,k=this.h,k!==null&&z in k&&(k=this.h,z in k&&delete k[z])),this.j=new Na(this)}y(Ui,We),Ui.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ui.prototype.close=function(){ee(this.g)},Ui.prototype.o=function(k){var z=this.g;if(typeof k=="string"){var Z={};Z.__data__=k,k=Z}else this.u&&(Z={},Z.__data__=pr(k),k=Z);z.i.push(new Wa(z.Ya++,k)),z.G==3&&He(z)},Ui.prototype.N=function(){this.g.l=null,delete this.j,ee(this.g),delete this.g,Ui.aa.N.call(this)};function Qa(k){Ar.call(this),k.__headers__&&(this.headers=k.__headers__,this.statusCode=k.__status__,delete k.__headers__,delete k.__status__);var z=k.__sm__;if(z){e:{for(const Z in z){k=Z;break e}k=void 0}(this.i=k)&&(k=this.i,z=z!==null&&k in z?z[k]:void 0),this.data=z}else this.data=k}y(Qa,Ar);function Qc(){Jt.call(this),this.status=1}y(Qc,Jt);function Na(k){this.g=k}y(Na,$u),Na.prototype.ua=function(){dt(this.g,"a")},Na.prototype.ta=function(k){dt(this.g,new Qa(k))},Na.prototype.sa=function(k){dt(this.g,new Qc)},Na.prototype.ra=function(){dt(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,Ui.prototype.send=Ui.prototype.o,Ui.prototype.open=Ui.prototype.m,Ui.prototype.close=Ui.prototype.close,hP=function(){return new yc},fP=function(){return Yr()},dP=cr,c_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Vv=Se,Ne.COMPLETE="complete",uP=Ne,mr.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",We.prototype.listen=We.prototype.K,ng=mr,jn.prototype.listenOnce=jn.prototype.L,jn.prototype.getLastError=jn.prototype.Ka,jn.prototype.getLastErrorCode=jn.prototype.Ba,jn.prototype.getStatus=jn.prototype.Z,jn.prototype.getResponseJson=jn.prototype.Oa,jn.prototype.getResponseText=jn.prototype.oa,jn.prototype.send=jn.prototype.ea,jn.prototype.setWithCredentials=jn.prototype.Ha,cP=jn}).apply(typeof Jx<"u"?Jx:typeof self<"u"?self:typeof window<"u"?window:{});const W9="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_a.UNAUTHENTICATED=new _a(null),_a.GOOGLE_CREDENTIALS=new _a("google-credentials-uid"),_a.FIRST_PARTY=new _a("first-party-uid"),_a.MOCK_USER=new _a("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new t6("@firebase/firestore");function jp(){return Mf.logLevel}function sH(t){Mf.setLogLevel(t)}function Nt(t,...e){if(Mf.logLevel<=hn.DEBUG){const r=e.map(n6);Mf.debug(`Firestore (${$1}): ${t}`,...r)}}function Ts(t,...e){if(Mf.logLevel<=hn.ERROR){const r=e.map(n6);Mf.error(`Firestore (${$1}): ${t}`,...r)}}function Nl(t,...e){if(Mf.logLevel<=hn.WARN){const r=e.map(n6);Mf.warn(`Firestore (${$1}): ${t}`,...r)}}function n6(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t="Unexpected state"){const e=`FIRESTORE (${$1}) INTERNAL ASSERTION FAILED: `+t;throw Ts(e),new Error(e)}function fr(t,e){t||er()}function aH(t,e){t||er()}function Ht(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends qc{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(_a.UNAUTHENTICATED)))}shutdown(){}}class oH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class lH{constructor(e){this.t=e,this.currentUser=_a.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){fr(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ea,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ea)}}),0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(fr(typeof n.accessToken=="string"),new pP(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fr(e===null||typeof e=="string"),new _a(e)}}class cH{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=_a.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uH{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new cH(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(_a.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){fr(this.o===void 0);const n=s=>{s.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Nt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(fr(typeof r.token=="string"),this.R=r.token,new gP(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class fH{getToken(){return Promise.resolve(new gP(""))}invalidateToken(){}start(e,r){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=hH(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Br(t,e){return t<e?-1:t>e?1:0}function x1(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}function xP(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Tt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Tt(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Tt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bi.fromMillis(Date.now())}static fromDate(e){return Bi.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Bi(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Br(this.nanoseconds,e.nanoseconds):Br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vr(e)}static min(){return new vr(new Bi(0,0))}static max(){return new vr(new Bi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,r,n){r===void 0?r=0:r>e.length&&er(),n===void 0?n=e.length-r:n>e.length-r&&er(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return $g.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof $g?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class pn extends $g{construct(e,r,n){return new pn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Tt(ct.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new pn(r)}static emptyPath(){return new pn([])}}const pH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Si extends $g{construct(e,r,n){return new Si(e,r,n)}static isValidIdentifier(e){return pH.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Si.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Si(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Tt(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Tt(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Tt(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new Tt(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Si(r)}static emptyPath(){return new Si([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.path=e}static fromPath(e){return new Kt(pn.fromString(e))}static fromName(e){return new Kt(pn.fromString(e).popFirst(5))}static empty(){return new Kt(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return pn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kt(new pn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function u_(t){return t.fields.find((e=>e.kind===2))}function Bh(t){return t.fields.filter((e=>e.kind!==2))}function mH(t,e){let r=Br(t.collectionGroup,e.collectionGroup);if(r!==0)return r;for(let n=0;n<Math.min(t.fields.length,e.fields.length);++n)if(r=gH(t.fields[n],e.fields[n]),r!==0)return r;return Br(t.fields.length,e.fields.length)}v1.UNKNOWN_ID=-1;class i0{constructor(e,r){this.fieldPath=e,this.kind=r}}function gH(t,e){const r=Si.comparator(t.fieldPath,e.fieldPath);return r!==0?r:Br(t.kind,e.kind)}class y1{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new y1(0,Il.min())}}function vP(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=vr.fromTimestamp(n===1e9?new Bi(r+1,0):new Bi(r,n));return new Il(i,Kt.empty(),e)}function yP(t){return new Il(t.readTime,t.key,-1)}class Il{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Il(vr.min(),Kt.empty(),-1)}static max(){return new Il(vr.max(),Kt.empty(),-1)}}function s6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Kt.comparator(t.documentKey,e.documentKey),r!==0?r:Br(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _P{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t){if(t.code!==ct.FAILED_PRECONDITION||t.message!==wP)throw t;Nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&er(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Je(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Je?r:Je.resolve(r)}catch(r){return Je.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Je.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Je.reject(r)}static resolve(e){return new Je(((r,n)=>{r(e)}))}static reject(e){return new Je(((r,n)=>{n(e)}))}static waitFor(e){return new Je(((r,n)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&r()}),(l=>n(l)))})),a=!0,s===i&&r()}))}static or(e){let r=Je.resolve(!1);for(const n of e)r=r.next((i=>i?Je.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new Je(((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;r(e[c]).next((u=>{a[c]=u,++o,o===s&&n(a)}),(u=>i(u)))}}))}static doWhile(e,r){return new Je(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ea,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new pg(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=a6(n.target.error);this.V.reject(new pg(e,i))}}static open(e,r,n,i){try{return new E5(r,e.transaction(i,n))}catch(s){throw new pg(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Nt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new vH(r)}}class ku{constructor(e,r,n){this.name=e,this.version=r,this.p=n,ku.S(sa())===12.2&&Ts("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Nt("SimpleDb","Removing database:",e),$h(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!rP())return!1;if(ku.v())return!0;const e=sa(),r=ku.S(e),n=0<r&&r<10,i=bP(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Nt("SimpleDb","Opening database:",this.name),this.db=await new Promise(((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new pg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new Tt(ct.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new Tt(ct.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new pg(e,a))},i.onupgradeneeded=s=>{Nt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next((()=>{Nt("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=E5.open(this.db,e,s?"readonly":"readwrite",n),l=i(o).next((c=>(o.g(),c))).catch((c=>(o.abort(c),Je.reject(c)))).toPromise();return l.catch((()=>{})),await o.m,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(Nt("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function bP(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class xH{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return $h(this.B.delete())}}class pg extends Tt{constructor(e,r){super(ct.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function ih(t){return t.name==="IndexedDbTransactionError"}class vH{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Nt("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Nt("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),$h(n)}add(e){return Nt("SimpleDb","ADD",this.store.name,e,e),$h(this.store.add(e))}get(e){return $h(this.store.get(e)).next((r=>(r===void 0&&(r=null),Nt("SimpleDb","GET",this.store.name,e,r),r)))}delete(e){return Nt("SimpleDb","DELETE",this.store.name,e),$h(this.store.delete(e))}count(){return Nt("SimpleDb","COUNT",this.store.name),$h(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new Je(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(n),a=[];return this.W(s,((o,l)=>{a.push(l)})).next((()=>a))}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new Je(((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}}))}j(e,r){Nt("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,((s,a,o)=>o.delete()))}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new Je(((n,i)=>{r.onerror=s=>{const a=a6(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():n()})):n()}}))}W(e,r){const n=[];return new Je(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new xH(o),c=r(o.primaryKey,o.value,l);if(c instanceof Je){const u=c.catch((p=>(l.done(),Je.reject(p))));n.push(u)}l.isDone?i():l.K===null?o.continue():o.continue(l.K)}})).next((()=>Je.waitFor(n)))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function $h(t){return new Je(((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=a6(n.target.error);r(i)}}))}let G9=!1;function a6(t){const e=ku.S(sa());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Tt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return G9||(G9=!0,setTimeout((()=>{throw n}),0)),n}}return t}class yH{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Nt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Nt("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){ih(r)?Nt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await nh(r)}await this.X(6e4)}))}}class wH{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(r=>this.te(r,e)))}te(e,r){const n=new Set;let i=r,s=!0;return Je.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!n.has(a))return Nt("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next((o=>{i-=o,n.add(a)}));s=!1})))).next((()=>r-i))}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next((i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this.re(i,s))).next((o=>(Nt("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o)))).next((()=>a.size))}))))}re(e,r){let n=e;return r.changes.forEach(((i,s)=>{const a=yP(s);s6(a,n)>0&&(n=a)})),new Il(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Zo.oe=-1;function N2(t){return t==null}function qg(t){return t===0&&1/t==-1/0}function kP(t){return typeof t=="number"&&Number.isInteger(t)&&!qg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=K9(e)),e=_H(t.get(r),e);return K9(e)}function _H(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function K9(t){return t+""}function xu(t){const e=t.length;if(fr(e>=2),e===2)return fr(t.charAt(0)===""&&t.charAt(1)===""),pn.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&er(),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),n.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:er()}s=a+2}return new pn(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t,e){return[t,ko(e)]}function SP(t,e,r){return[t,ko(e),r]}const bH={},kH=["prefixPath","collectionGroup","readTime","documentId"],SH=["prefixPath","collectionGroup","documentId"],EH=["collectionGroup","readTime","prefixPath","documentId"],CH=["canonicalId","targetId"],TH=["targetId","path"],AH=["path","targetId"],NH=["collectionId","parent"],IH=["indexId","uid"],PH=["uid","sequenceNumber"],RH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LH=["indexId","uid","orderedDocumentKey"],FH=["userId","collectionPath","documentId"],jH=["userId","collectionPath","largestBatchId"],DH=["userId","collectionGroup","largestBatchId"],EP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],OH=[...EP,"documentOverlays"],CP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TP=CP,o6=[...TP,"indexConfiguration","indexState","indexEntries"],MH=o6,BH=[...o6,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends _P{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function la(t,e){const r=Ht(t);return ku.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function sh(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function AP(t,e){const r=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(e(t[n],n,t));return r}function NP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,r){this.comparator=e,this.root=r||Va.EMPTY}insert(e,r){return new vi(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Va.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Va.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zx(this.root,e,this.comparator,!0)}}class Zx{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Va{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Va.RED,this.left=i??Va.EMPTY,this.right=s??Va.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Va(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Va.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Va.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Va.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Va.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw er();const e=this.left.check();if(e!==this.right.check())throw er();return e+(this.isRed()?0:1)}}Va.EMPTY=null,Va.RED=!0,Va.BLACK=!1;Va.EMPTY=new class{constructor(){this.size=0}get key(){throw er()}get value(){throw er()}get color(){throw er()}get left(){throw er()}get right(){throw er()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Va(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Q9(this.data.getIterator())}getIteratorFrom(e){return new Q9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new si(this.comparator);return r.data=e,r}}class Q9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kp(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.fields=e,e.sort(Si.comparator)}static empty(){return new el([])}unionWith(e){let r=new si(Si.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new el(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return x1(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VH(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new IP("Invalid base64 string: "+s):s}})(e);return new Ji(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Ji(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ji.EMPTY_BYTE_STRING=new Ji("");const UH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wd(t){if(fr(!!t),typeof t=="string"){let e=0;const r=UH.exec(t);if(fr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Di(t.seconds),nanos:Di(t.nanos)}}function Di(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function _d(t){return typeof t=="string"?Ji.fromBase64String(t):Ji.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function T5(t){const e=t.mapValue.fields.__previous_value__;return C5(e)?T5(e):e}function Hg(t){const e=wd(t.mapValue.fields.__local_write_time__.timestampValue);return new Bi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,r,n,i,s,a,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class Bf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Bf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zv={nullValue:"NULL_VALUE"};function Vf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C5(t)?4:PP(t)?9007199254740991:A5(t)?10:11:er()}function Ru(t,e){if(t===e)return!0;const r=Vf(t);if(r!==Vf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hg(t).isEqual(Hg(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=wd(i.timestampValue),o=wd(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return _d(i.bytesValue).isEqual(_d(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Di(i.geoPointValue.latitude)===Di(s.geoPointValue.latitude)&&Di(i.geoPointValue.longitude)===Di(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Di(i.integerValue)===Di(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Di(i.doubleValue),o=Di(s.doubleValue);return a===o?qg(a)===qg(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return x1(t.arrayValue.values||[],e.arrayValue.values||[],Ru);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Y9(a)!==Y9(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ru(a[l],o[l])))return!1;return!0})(t,e);default:return er()}}function Wg(t,e){return(t.values||[]).find((r=>Ru(r,e)))!==void 0}function Uf(t,e){if(t===e)return 0;const r=Vf(t),n=Vf(e);if(r!==n)return Br(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Br(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=Di(s.integerValue||s.doubleValue),l=Di(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return J9(t.timestampValue,e.timestampValue);case 4:return J9(Hg(t),Hg(e));case 5:return Br(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=_d(s),l=_d(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Br(o[c],l[c]);if(u!==0)return u}return Br(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=Br(Di(s.latitude),Di(a.latitude));return o!==0?o:Br(Di(s.longitude),Di(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Z9(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var o,l,c,u;const p=s.fields||{},g=a.fields||{},m=(o=p.value)===null||o===void 0?void 0:o.arrayValue,y=(l=g.value)===null||l===void 0?void 0:l.arrayValue,w=Br(((c=m?.values)===null||c===void 0?void 0:c.length)||0,((u=y?.values)===null||u===void 0?void 0:u.length)||0);return w!==0?w:Z9(m,y)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Af.mapValue&&a===Af.mapValue)return 0;if(s===Af.mapValue)return 1;if(a===Af.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let p=0;p<l.length&&p<u.length;++p){const g=Br(l[p],u[p]);if(g!==0)return g;const m=Uf(o[l[p]],c[u[p]]);if(m!==0)return m}return Br(l.length,u.length)})(t.mapValue,e.mapValue);default:throw er()}}function J9(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Br(t,e);const r=wd(t),n=wd(e),i=Br(r.seconds,n.seconds);return i!==0?i:Br(r.nanos,n.nanos)}function Z9(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Uf(r[i],n[i]);if(s)return s}return Br(r.length,n.length)}function w1(t){return f_(t)}function f_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=wd(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return _d(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Kt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=f_(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${f_(r.fields[a])}`;return i+"}"})(t.mapValue):er()}function $v(t){switch(Vf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=T5(t);return e?16+$v(e):16;case 5:return 2*t.stringValue.length;case 6:return _d(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+$v(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return sh(n.fields,((s,a)=>{i+=s.length+$v(a)})),i})(t.mapValue);default:throw er()}}function p0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function h_(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function eS(t){return!!t&&"nullValue"in t}function tS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qv(t){return!!t&&"mapValue"in t}function A5(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function mg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return sh(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=mg(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=mg(t.arrayValue.values[r]);return e}return Object.assign({},t)}function PP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const RP={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function $H(t){return"nullValue"in t?zv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?p0(Bf.empty(),Kt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?A5(t)?RP:{mapValue:{}}:er()}function qH(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?p0(Bf.empty(),Kt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?RP:"mapValue"in t?A5(t)?{mapValue:{}}:Af:er()}function rS(t,e){const r=Uf(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function nS(t,e){const r=Uf(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.value=e}static empty(){return new $a({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!qv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=mg(r)}setAll(e){let r=Si.emptyPath(),n={},i=[];e.forEach(((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=mg(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());qv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Ru(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];qv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){sh(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new $a(mg(this.value))}}function LP(t){const e=[];return sh(t.fields,((r,n)=>{const i=new Si([r]);if(qv(n)){const s=LP(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new el(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ki(e,0,vr.min(),vr.min(),vr.min(),$a.empty(),0)}static newFoundDocument(e,r,n,i){return new ki(e,1,r,vr.min(),n,i,0)}static newNoDocument(e,r){return new ki(e,2,r,vr.min(),vr.min(),$a.empty(),0)}static newUnknownDocument(e,r){return new ki(e,3,r,vr.min(),vr.min(),$a.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(vr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$a.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$a.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ki&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ki(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,r){this.position=e,this.inclusive=r}}function iS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Kt.comparator(Kt.fromName(a.referenceValue),r.key):n=Uf(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function sS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Ru(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,r="asc"){this.field=e,this.dir=r}}function HH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FP=class{};class mn extends FP{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new WH(e,r,n):r==="array-contains"?new XH(e,n):r==="in"?new VP(e,n):r==="not-in"?new YH(e,n):r==="array-contains-any"?new QH(e,n):new mn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new GH(e,n):new KH(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Uf(r,this.value)):r!==null&&Vf(this.value)===Vf(r)&&this.matchesComparison(Uf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return er()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends FP{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Yn(e,r)}matches(e){return _1(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _1(t){return t.op==="and"}function p_(t){return t.op==="or"}function l6(t){return jP(t)&&_1(t)}function jP(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function m_(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+w1(t.value);if(l6(t))return t.filters.map((e=>m_(e))).join(",");{const e=t.filters.map((r=>m_(r))).join(",");return`${t.op}(${e})`}}function DP(t,e){return t instanceof mn?(function(n,i){return i instanceof mn&&n.op===i.op&&n.field.isEqual(i.field)&&Ru(n.value,i.value)})(t,e):t instanceof Yn?(function(n,i){return i instanceof Yn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,o)=>s&&DP(a,i.filters[o])),!0):!1})(t,e):void er()}function OP(t,e){const r=t.filters.concat(e);return Yn.create(r,t.op)}function MP(t){return t instanceof mn?(function(r){return`${r.field.canonicalString()} ${r.op} ${w1(r.value)}`})(t):t instanceof Yn?(function(r){return r.op.toString()+" {"+r.getFilters().map(MP).join(" ,")+"}"})(t):"Filter"}class WH extends mn{constructor(e,r,n){super(e,r,n),this.key=Kt.fromName(n.referenceValue)}matches(e){const r=Kt.comparator(e.key,this.key);return this.matchesComparison(r)}}class GH extends mn{constructor(e,r){super(e,"in",r),this.keys=BP("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class KH extends mn{constructor(e,r){super(e,"not-in",r),this.keys=BP("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function BP(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>Kt.fromName(n.referenceValue)))}class XH extends mn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Gg(r)&&Wg(r.arrayValue,this.value)}}class VP extends mn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Wg(this.value.arrayValue,r)}}class YH extends mn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Wg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Wg(this.value.arrayValue,r)}}class QH extends mn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Gg(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Wg(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function g_(t,e=null,r=[],n=[],i=null,s=null,a=null){return new JH(t,e,r,n,i,s,a)}function m0(t){const e=Ht(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>m_(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),N2(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>w1(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>w1(n))).join(",")),e.ue=r}return e.ue}function I2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!HH(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!DP(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sS(t.startAt,e.startAt)&&sS(t.endAt,e.endAt)}function yy(t){return Kt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function wy(t,e){return t.filters.filter((r=>r instanceof mn&&r.field.isEqual(e)))}function aS(t,e,r){let n=zv,i=!0;for(const s of wy(t,e)){let a=zv,o=!0;switch(s.op){case"<":case"<=":a=$H(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=zv}rS({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];rS({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function oS(t,e,r){let n=Af,i=!0;for(const s of wy(t,e)){let a=Af,o=!0;switch(s.op){case">=":case">":a=qH(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Af}nS({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];nS({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function UP(t,e,r,n,i,s,a,o){return new Ad(t,e,r,n,i,s,a,o)}function q1(t){return new Ad(t)}function lS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c6(t){return t.collectionGroup!==null}function Jp(t){const e=Ht(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new si(Si.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Kg(s,n))})),r.has(Si.keyField().canonicalString())||e.ce.push(new Kg(Si.keyField(),n))}return e.ce}function So(t){const e=Ht(t);return e.le||(e.le=$P(e,Jp(t))),e.le}function zP(t){const e=Ht(t);return e.he||(e.he=$P(e,t.explicitOrderBy)),e.he}function $P(t,e){if(t.limitType==="F")return g_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Kg(i.field,s)}));const r=t.endAt?new zf(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new zf(t.startAt.position,t.startAt.inclusive):null;return g_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function x_(t,e){const r=t.filters.concat([e]);return new Ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function _y(t,e,r){return new Ad(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function P2(t,e){return I2(So(t),So(e))&&t.limitType===e.limitType}function qP(t){return`${m0(So(t))}|lt:${t.limitType}`}function Dp(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>MP(i))).join(", ")}]`),N2(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>w1(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>w1(i))).join(",")),`Target(${n})`})(So(t))}; limitType=${t.limitType})`}function R2(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Kt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of Jp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(a,o,l){const c=iS(a,o,l);return a.inclusive?c<=0:c<0})(n.startAt,Jp(n),i)||n.endAt&&!(function(a,o,l){const c=iS(a,o,l);return a.inclusive?c>=0:c>0})(n.endAt,Jp(n),i))})(t,e)}function HP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WP(t){return(e,r)=>{let n=!1;for(const i of Jp(t)){const s=ZH(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function ZH(t,e,r){const n=t.field.isKeyField()?Kt.comparator(e.key,r.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Uf(l,c):er()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return er()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sh(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return NP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eW=new vi(Kt.comparator);function tl(){return eW}const GP=new vi(Kt.comparator);function ig(...t){let e=GP;for(const r of t)e=e.insert(r.key,r);return e}function KP(t){let e=GP;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function vu(){return gg()}function XP(){return gg()}function gg(){return new Nd((t=>t.toString()),((t,e)=>t.isEqual(e)))}const tW=new vi(Kt.comparator),rW=new si(Kt.comparator);function Hr(...t){let e=rW;for(const r of t)e=e.add(r);return e}const nW=new si(Br);function u6(){return nW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qg(e)?"-0":e}}function YP(t){return{integerValue:""+t}}function QP(t,e){return kP(e)?YP(e):d6(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this._=void 0}}function iW(t,e,r){return t instanceof b1?(function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&C5(s)&&(s=T5(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(r,e):t instanceof g0?ZP(t,e):t instanceof x0?eR(t,e):(function(i,s){const a=JP(i,s),o=cS(a)+cS(i.Pe);return h_(a)&&h_(i.Pe)?YP(o):d6(i.serializer,o)})(t,e)}function sW(t,e,r){return t instanceof g0?ZP(t,e):t instanceof x0?eR(t,e):r}function JP(t,e){return t instanceof k1?(function(n){return h_(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class b1 extends N5{}class g0 extends N5{constructor(e){super(),this.elements=e}}function ZP(t,e){const r=tR(e);for(const n of t.elements)r.some((i=>Ru(i,n)))||r.push(n);return{arrayValue:{values:r}}}class x0 extends N5{constructor(e){super(),this.elements=e}}function eR(t,e){let r=tR(e);for(const n of t.elements)r=r.filter((i=>!Ru(i,n)));return{arrayValue:{values:r}}}class k1 extends N5{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function cS(t){return Di(t.integerValue||t.doubleValue)}function tR(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,r){this.field=e,this.transform=r}}function aW(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof g0&&i instanceof g0||n instanceof x0&&i instanceof x0?x1(n.elements,i.elements,Ru):n instanceof k1&&i instanceof k1?Ru(n.Pe,i.Pe):n instanceof b1&&i instanceof b1})(t.transform,e.transform)}class oW{constructor(e,r){this.version=e,this.transformResults=r}}class Oi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class I5{}function rR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W1(t.key,Oi.none()):new H1(t.key,t.data,Oi.none());{const r=t.data,n=$a.empty();let i=new si(Si.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Id(t.key,n,new el(i.toArray()),Oi.none())}}function lW(t,e,r){t instanceof H1?(function(i,s,a){const o=i.value.clone(),l=dS(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,r):t instanceof Id?(function(i,s,a){if(!Hv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=dS(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(nR(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,r):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,r)}function xg(t,e,r,n){return t instanceof H1?(function(s,a,o,l){if(!Hv(s.precondition,a))return o;const c=s.value.clone(),u=fS(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,r,n):t instanceof Id?(function(s,a,o,l){if(!Hv(s.precondition,a))return o;const c=fS(s.fieldTransforms,l,a),u=a.data;return u.setAll(nR(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(s,a,o){return Hv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,r)}function cW(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=JP(n.transform,i||null);s!=null&&(r===null&&(r=$a.empty()),r.set(n.field,s))}return r||null}function uS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&x1(n,i,((s,a)=>aW(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class H1 extends I5{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Id extends I5{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function nR(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function dS(t,e,r){const n=new Map;fr(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,sW(a,o,r[i]))}return n}function fS(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,iW(s,a,e))}return n}class W1 extends I5{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f6 extends I5{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lW(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=xg(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=xg(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=XP();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=rR(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(vr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Hr())}isEqual(e){return this.batchId===e.batchId&&x1(this.mutations,e.mutations,((r,n)=>uS(r,n)))&&x1(this.baseMutations,e.baseMutations,((r,n)=>uS(r,n)))}}class p6{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){fr(e.mutations.length===n.length);let i=(function(){return tW})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new p6(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,r,n){this.alias=e,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vs,yn;function sR(t){switch(t){default:return er();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0}}function aR(t){if(t===void 0)return Ts("GRPC error has no .code"),ct.UNKNOWN;switch(t){case Vs.OK:return ct.OK;case Vs.CANCELLED:return ct.CANCELLED;case Vs.UNKNOWN:return ct.UNKNOWN;case Vs.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case Vs.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case Vs.INTERNAL:return ct.INTERNAL;case Vs.UNAVAILABLE:return ct.UNAVAILABLE;case Vs.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case Vs.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case Vs.NOT_FOUND:return ct.NOT_FOUND;case Vs.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case Vs.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case Vs.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case Vs.ABORTED:return ct.ABORTED;case Vs.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case Vs.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case Vs.DATA_LOSS:return ct.DATA_LOSS;default:return er()}}(yn=Vs||(Vs={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=new n0([4294967295,4294967295],0);function hS(t){const e=oR().encode(t),r=new lP;return r.update(e),new Uint8Array(r.digest())}function pS(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new n0([r,n],0),new n0([i,s],0)]}class g6{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new sg(`Invalid padding: ${r}`);if(n<0)throw new sg(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new sg(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new sg(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=n0.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(n0.fromNumber(n)));return i.compare(dW)===1&&(i=new n0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=hS(e),[n,i]=pS(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new g6(s,i,r);return n.forEach((o=>a.insert(o))),a}insert(e){if(this.Ie===0)return;const r=hS(e),[n,i]=pS(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class sg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,j2.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new F2(vr.min(),i,new vi(Br),tl(),Hr())}}class j2{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new j2(n,r,Hr(),Hr(),Hr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class lR{constructor(e,r){this.targetId=e,this.me=r}}class cR{constructor(e,r,n=Ji.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class mS{constructor(){this.fe=0,this.ge=xS(),this.pe=Ji.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Hr(),r=Hr(),n=Hr();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:er()}})),new j2(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=xS()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class fW{constructor(e){this.Le=e,this.Be=new Map,this.ke=tl(),this.qe=gS(),this.Qe=new vi(Br)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:er()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(yy(s))if(n===0){const a=new Kt(s.path);this.Ue(r,a,ki.newNoDocument(a,vr.min()))}else fr(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}by?.et((function(u,p,g,m,y){var w,_,E,L,I,V;const G={localCacheCount:u,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},X=p.unchangedNames;return X&&(G.bloomFilter={applied:y===0,hashCount:(w=X?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(L=(E=(_=X?.bits)===null||_===void 0?void 0:_.bitmap)===null||E===void 0?void 0:E.length)!==null&&L!==void 0?L:0,padding:(V=(I=X?.bits)===null||I===void 0?void 0:I.padding)!==null&&V!==void 0?V:0,mightContain:R=>{var A;return(A=m?.mightContain(R))!==null&&A!==void 0&&A}}),G})(a,e.me,this.Le.tt(),o,l))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=_d(n).toUint8Array()}catch(l){if(l instanceof IP)return Nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new g6(a,i,s)}catch(l){return Nl(l instanceof sg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((s,a)=>{const o=this.Je(a);if(o){if(s.current&&yy(o.target)){const l=new Kt(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,ki.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}}));let n=Hr();this.qe.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(e)));const i=new F2(e,r,this.Qe,this.ke,n);return this.ke=tl(),this.qe=gS(),this.Qe=new vi(Br),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new mS,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new si(Br),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Nt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mS),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function gS(){return new vi(Kt.comparator)}function xS(){return new vi(Kt.comparator)}const hW={asc:"ASCENDING",desc:"DESCENDING"},pW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mW={and:"AND",or:"OR"};class gW{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function v_(t,e){return t.useProto3Json||N2(e)?e:{value:e}}function S1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xW(t,e){return S1(t,e.toTimestamp())}function Ns(t){return fr(!!t),vr.fromTimestamp((function(r){const n=wd(r);return new Bi(n.seconds,n.nanos)})(t))}function x6(t,e){return y_(t,e).canonicalString()}function y_(t,e){const r=(function(i){return new pn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function dR(t){const e=pn.fromString(t);return fr(_R(e)),e}function Xg(t,e){return x6(t.databaseId,e.path)}function Su(t,e){const r=dR(e);if(r.get(1)!==t.databaseId.projectId)throw new Tt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Tt(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Kt(pR(r))}function fR(t,e){return x6(t.databaseId,e)}function hR(t){const e=dR(t);return e.length===4?pn.emptyPath():pR(e)}function w_(t){return new pn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pR(t){return fr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vS(t,e,r){return{name:Xg(t,e),fields:r.value.mapValue.fields}}function mR(t,e,r){const n=Su(t,e.name),i=Ns(e.updateTime),s=e.createTime?Ns(e.createTime):vr.min(),a=new $a({mapValue:{fields:e.fields}}),o=ki.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function vW(t,e){return"found"in e?(function(n,i){fr(!!i.found),i.found.name,i.found.updateTime;const s=Su(n,i.found.name),a=Ns(i.found.updateTime),o=i.found.createTime?Ns(i.found.createTime):vr.min(),l=new $a({mapValue:{fields:i.found.fields}});return ki.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(n,i){fr(!!i.missing),fr(!!i.readTime);const s=Su(n,i.missing),a=Ns(i.readTime);return ki.newNoDocument(s,a)})(t,e):er()}function yW(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:er()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,u){return c.useProto3Json?(fr(u===void 0||typeof u=="string"),Ji.fromBase64String(u||"")):(fr(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Ji.fromUint8Array(u||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const u=c.code===void 0?ct.UNKNOWN:aR(c.code);return new Tt(u,c.message||"")})(a);r=new cR(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Su(t,n.document.name),s=Ns(n.document.updateTime),a=n.document.createTime?Ns(n.document.createTime):vr.min(),o=new $a({mapValue:{fields:n.document.fields}}),l=ki.newFoundDocument(i,s,a,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Wv(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Su(t,n.document),s=n.readTime?Ns(n.readTime):vr.min(),a=ki.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Wv([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Su(t,n.document),s=n.removedTargetIds||[];r=new Wv([],s,i,null)}else{if(!("filter"in e))return er();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new uW(i,s),o=n.targetId;r=new lR(o,a)}}return r}function Yg(t,e){let r;if(e instanceof H1)r={update:vS(t,e.key,e.value)};else if(e instanceof W1)r={delete:Xg(t,e.key)};else if(e instanceof Id)r={update:vS(t,e.key,e.data),updateMask:EW(e.fieldMask)};else{if(!(e instanceof f6))return er();r={verify:Xg(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const o=a.transform;if(o instanceof b1)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof g0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof x0)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof k1)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw er()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:xW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:er()})(t,e.precondition)),r}function __(t,e){const r=e.currentDocument?(function(s){return s.updateTime!==void 0?Oi.updateTime(Ns(s.updateTime)):s.exists!==void 0?Oi.exists(s.exists):Oi.none()})(e.currentDocument):Oi.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)fr(o.setToServerValue==="REQUEST_TIME"),l=new b1;else if("appendMissingElements"in o){const u=o.appendMissingElements.values||[];l=new g0(u)}else if("removeAllFromArray"in o){const u=o.removeAllFromArray.values||[];l=new x0(u)}else"increment"in o?l=new k1(a,o.increment):er();const c=Si.fromServerFormat(o.fieldPath);return new L2(c,l)})(t,i))):[];if(e.update){e.update.name;const i=Su(t,e.update.name),s=new $a({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new el(c.map((u=>Si.fromServerFormat(u))))})(e.updateMask);return new Id(i,s,a,r,n)}return new H1(i,s,r,n)}if(e.delete){const i=Su(t,e.delete);return new W1(i,r)}if(e.verify){const i=Su(t,e.verify);return new f6(i,r)}return er()}function wW(t,e){return t&&t.length>0?(fr(e!==void 0),t.map((r=>(function(i,s){let a=i.updateTime?Ns(i.updateTime):Ns(s);return a.isEqual(vr.min())&&(a=Ns(s)),new oW(a,i.transformResults||[])})(r,e)))):[]}function gR(t,e){return{documents:[fR(t,e.path)]}}function P5(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=fR(t,i);const s=(function(c){if(c.length!==0)return wR(Yn.create(c,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((u=>(function(g){return{field:wf(g.field),direction:bW(g.dir)}})(u)))})(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=v_(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{_t:r,parent:i}}function xR(t,e,r,n){const{_t:i,parent:s}=P5(t,e),a={},o=[];let l=0;return r.forEach((c=>{const u=n?c.alias:"aggregate_"+l++;a[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:wf(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:wf(c.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},ut:a,parent:s}}function vR(t){let e=hR(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){fr(n===1);const u=r.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];r.where&&(s=(function(p){const g=yR(p);return g instanceof Yn&&l6(g)?g.getFilters():[g]})(r.where));let a=[];r.orderBy&&(a=(function(p){return p.map((g=>(function(y){return new Kg(Op(y.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(g)))})(r.orderBy));let o=null;r.limit&&(o=(function(p){let g;return g=typeof p=="object"?p.value:p,N2(g)?null:g})(r.limit));let l=null;r.startAt&&(l=(function(p){const g=!!p.before,m=p.values||[];return new zf(m,g)})(r.startAt));let c=null;return r.endAt&&(c=(function(p){const g=!p.before,m=p.values||[];return new zf(m,g)})(r.endAt)),UP(e,i,a,s,o,"F",l,c)}function _W(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return er()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function yR(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Op(r.unaryFilter.field);return mn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Op(r.unaryFilter.field);return mn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Op(r.unaryFilter.field);return mn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Op(r.unaryFilter.field);return mn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return er()}})(t):t.fieldFilter!==void 0?(function(r){return mn.create(Op(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return er()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Yn.create(r.compositeFilter.filters.map((n=>yR(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return er()}})(r.compositeFilter.op))})(t):er()}function bW(t){return hW[t]}function kW(t){return pW[t]}function SW(t){return mW[t]}function wf(t){return{fieldPath:t.canonicalString()}}function Op(t){return Si.fromServerFormat(t.fieldPath)}function wR(t){return t instanceof mn?(function(r){if(r.op==="=="){if(tS(r.value))return{unaryFilter:{field:wf(r.field),op:"IS_NAN"}};if(eS(r.value))return{unaryFilter:{field:wf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(tS(r.value))return{unaryFilter:{field:wf(r.field),op:"IS_NOT_NAN"}};if(eS(r.value))return{unaryFilter:{field:wf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wf(r.field),op:kW(r.op),value:r.value}}})(t):t instanceof Yn?(function(r){const n=r.getFilters().map((i=>wR(i)));return n.length===1?n[0]:{compositeFilter:{op:SW(r.op),filters:n}}})(t):er()}function EW(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function _R(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,r,n,i,s=vr.min(),a=vr.min(),o=Ji.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new ad(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new ad(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ad(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ad(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.ct=e}}function CW(t,e){let r;if(e.document)r=mR(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Kt.fromSegments(e.noDocument.path),i=y0(e.noDocument.readTime);r=ki.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return er();{const n=Kt.fromSegments(e.unknownDocument.path),i=y0(e.unknownDocument.version);r=ki.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime((function(i){const s=new Bi(i[0],i[1]);return vr.fromTimestamp(s)})(e.readTime)),r}function yS(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:ky(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(s,a){return{name:Xg(s,a.key),fields:a.data.value.mapValue.fields,updateTime:S1(s,a.version.toTimestamp()),createTime:S1(s,a.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:v0(e.version)};else{if(!e.isUnknownDocument())return er();n.unknownDocument={path:r.path.toArray(),version:v0(e.version)}}return n}function ky(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function v0(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function y0(t){const e=new Bi(t.seconds,t.nanoseconds);return vr.fromTimestamp(e)}function qh(t,e){const r=(e.baseMutations||[]).map((s=>__(t.ct,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map((s=>__(t.ct,s))),i=Bi.fromMillis(e.localWriteTimeMs);return new h6(e.batchId,i,r,n)}function ag(t){const e=y0(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?y0(t.lastLimboFreeSnapshotVersion):vr.min();let n;return n=(function(s){return s.documents!==void 0})(t.query)?(function(s){return fr(s.documents.length===1),So(q1(hR(s.documents[0])))})(t.query):(function(s){return So(vR(s))})(t.query),new ad(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Ji.fromBase64String(t.resumeToken))}function kR(t,e){const r=v0(e.snapshotVersion),n=v0(e.lastLimboFreeSnapshotVersion);let i;i=yy(e.target)?gR(t.ct,e.target):P5(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:m0(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function v6(t){const e=vR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_y(e,e.limit,"L"):e}function _w(t,e){return new m6(e.largestBatchId,__(t.ct,e.overlayMutation))}function wS(t,e){const r=e.path.lastSegment();return[t,ko(e.path.popLast()),r]}function _S(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:v0(n.readTime),documentKey:ko(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{getBundleMetadata(e,r){return bS(e).get(r).next((n=>{if(n)return(function(s){return{id:s.bundleId,createTime:y0(s.createTime),version:s.version}})(n)}))}saveBundleMetadata(e,r){return bS(e).put((function(i){return{bundleId:i.id,createTime:v0(Ns(i.createTime)),version:i.version}})(r))}getNamedQuery(e,r){return kS(e).get(r).next((n=>{if(n)return(function(s){return{name:s.name,query:v6(s.bundledQuery),readTime:y0(s.readTime)}})(n)}))}saveNamedQuery(e,r){return kS(e).put((function(i){return{name:i.name,readTime:v0(Ns(i.readTime)),bundledQuery:i.bundledQuery}})(r))}}function bS(t){return la(t,"bundles")}function kS(t){return la(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new R5(e,n)}getOverlay(e,r){return $m(e).get(wS(this.userId,r)).next((n=>n?_w(this.serializer,n):null))}getOverlays(e,r){const n=vu();return Je.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){const i=[];return n.forEach(((s,a)=>{const o=new m6(r,a);i.push(this.ht(e,o))})),Je.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach((a=>i.add(ko(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push($m(e).j("collectionPathOverlayIndex",o))})),Je.waitFor(s)}getOverlaysForCollection(e,r,n){const i=vu(),s=ko(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return $m(e).U("collectionPathOverlayIndex",a).next((o=>{for(const l of o){const c=_w(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,r,n,i){const s=vu();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return $m(e).J({index:"collectionGroupOverlayIndex",range:o},((l,c,u)=>{const p=_w(this.serializer,c);s.size()<i||p.largestBatchId===a?(s.set(p.getKey(),p),a=p.largestBatchId):u.done()})).next((()=>s))}ht(e,r){return $m(e).put((function(i,s,a){const[o,l,c]=wS(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Yg(i.ct,a.mutation)}})(this.serializer,this.userId,r))}}function $m(t){return la(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{Pt(e){return la(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((r=>{const n=r?.value;return n?Ji.fromUint8Array(n):Ji.EMPTY_BYTE_STRING}))}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Di(e.integerValue));else if("doubleValue"in e){const n=Di(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),qg(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=wd(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(_d(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?PP(e)?this.dt(r,Number.MAX_SAFE_INTEGER):A5(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):er()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(Di(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),Kt.fromName(e).path.forEach((n=>{this.dt(r,60),this.Dt(n,r)}))}dt(e,r){e.At(r)}ft(e){e.At(2)}}Hh.vt=new Hh;function NW(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function SS(t){const e=64-(function(n){let i=0;for(let s=0;s<8;++s){const a=NW(255&n[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class IW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=SS(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=SS(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class PW{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class RW{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class qm{constructor(){this.jt=new IW,this.Ht=new PW(this.jt),this.Jt=new RW(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Wh(this.indexId,this.documentKey,this.arrayValue,n)}}function ff(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=ES(t.arrayValue,e.arrayValue),r!==0?r:(r=ES(t.directionalValue,e.directionalValue),r!==0?r:Kt.comparator(t.documentKey,e.documentKey)))}function ES(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.Xt=new si(((r,n)=>Si.comparator(r.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(fr(e.collectionGroup===this.collectionId),this.nn)return!1;const r=u_(e);if(r!==void 0&&!this.sn(r))return!1;const n=Bh(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=n[s];if(!this.on(o,l)||!this._n(this.en[a++],l))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new si(Si.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new i0(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new i0(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new i0(n.field,n.dir==="asc"?0:1)));return new v1(v1.UNKNOWN_ID,this.collectionId,r,y1.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t){var e,r;if(fr(t instanceof mn||t instanceof Yn),t instanceof mn){if(t instanceof VP){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map((s=>mn.create(t.field,"==",s))))||[];return Yn.create(i,"or")}return t}const n=t.filters.map((i=>SR(i)));return Yn.create(n,t.op)}function LW(t){if(t.getFilters().length===0)return[];const e=S_(SR(t));return fr(ER(e)),b_(e)||k_(e)?[e]:e.getFilters()}function b_(t){return t instanceof mn}function k_(t){return t instanceof Yn&&l6(t)}function ER(t){return b_(t)||k_(t)||(function(r){if(r instanceof Yn&&p_(r)){for(const n of r.getFilters())if(!b_(n)&&!k_(n))return!1;return!0}return!1})(t)}function S_(t){if(fr(t instanceof mn||t instanceof Yn),t instanceof mn)return t;if(t.filters.length===1)return S_(t.filters[0]);const e=t.filters.map((n=>S_(n)));let r=Yn.create(e,t.op);return r=Sy(r),ER(r)?r:(fr(r instanceof Yn),fr(_1(r)),fr(r.filters.length>1),r.filters.reduce(((n,i)=>y6(n,i))))}function y6(t,e){let r;return fr(t instanceof mn||t instanceof Yn),fr(e instanceof mn||e instanceof Yn),r=t instanceof mn?e instanceof mn?(function(i,s){return Yn.create([i,s],"and")})(t,e):TS(t,e):e instanceof mn?TS(e,t):(function(i,s){if(fr(i.filters.length>0&&s.filters.length>0),_1(i)&&_1(s))return OP(i,s.getFilters());const a=p_(i)?i:s,o=p_(i)?s:i,l=a.filters.map((c=>y6(c,o)));return Yn.create(l,"or")})(t,e),Sy(r)}function TS(t,e){if(_1(e))return OP(e,t.getFilters());{const r=e.filters.map((n=>y6(t,n)));return Yn.create(r,"or")}}function Sy(t){if(fr(t instanceof mn||t instanceof Yn),t instanceof mn)return t;const e=t.getFilters();if(e.length===1)return Sy(e[0]);if(jP(t))return t;const r=e.map((i=>Sy(i))),n=[];return r.forEach((i=>{i instanceof mn?n.push(i):i instanceof Yn&&(i.op===t.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:Yn.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(){this.un=new w6}addToCollectionParentIndex(e,r){return this.un.add(r),Je.resolve()}getCollectionParents(e,r){return Je.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Je.resolve()}deleteFieldIndex(e,r){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,r){return Je.resolve()}getDocumentsMatchingTarget(e,r){return Je.resolve(null)}getIndexType(e,r){return Je.resolve(0)}getFieldIndexes(e,r){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,r){return Je.resolve(Il.min())}getMinOffsetFromCollectionGroup(e,r){return Je.resolve(Il.min())}updateCollectionGroup(e,r,n){return Je.resolve()}updateIndexEntries(e,r){return Je.resolve()}}class w6{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new si(pn.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new si(pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Uint8Array(0);class jW{constructor(e,r){this.databaseId=r,this.cn=new w6,this.ln=new Nd((n=>m0(n)),((n,i)=>I2(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener((()=>{this.cn.add(r)}));const s={collectionId:n,parent:ko(i)};return AS(e).put(s)}return Je.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[xP(r),""],!1,!0);return AS(e).U(i).next((s=>{for(const a of s){if(a.collectionId!==r)break;n.push(xu(a.parent))}return n}))}addFieldIndex(e,r){const n=Hm(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=Ep(e);return s.next((o=>{a.put(_S(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))}))}return s.next()}deleteFieldIndex(e,r){const n=Hm(e),i=Ep(e),s=Sp(e);return n.delete(r.indexId).next((()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const r=Hm(e),n=Sp(e),i=Ep(e);return r.j().next((()=>n.j())).next((()=>i.j()))}createTargetIndexes(e,r){return Je.forEach(this.hn(r),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const s=new CS(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,r){const n=Sp(e);let i=!0;const s=new Map;return Je.forEach(this.hn(r),(a=>this.Pn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=Hr();const o=[];return Je.forEach(s,((l,c)=>{Nt("IndexedDbIndexManager",`Using index ${(function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map((V=>`${V.fieldPath}:${V.kind}`)).join(",")}`})(l)} to execute ${m0(r)}`);const u=(function(I,V){const G=u_(V);if(G===void 0)return null;for(const X of wy(I,G.fieldPath))switch(X.op){case"array-contains-any":return X.value.arrayValue.values||[];case"array-contains":return[X.value]}return null})(c,l),p=(function(I,V){const G=new Map;for(const X of Bh(V))for(const R of wy(I,X.fieldPath))switch(R.op){case"==":case"in":G.set(X.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return G.set(X.fieldPath.canonicalString(),R.value),Array.from(G.values())}return null})(c,l),g=(function(I,V){const G=[];let X=!0;for(const R of Bh(V)){const A=R.kind===0?aS(I,R.fieldPath,I.startAt):oS(I,R.fieldPath,I.startAt);G.push(A.value),X&&(X=A.inclusive)}return new zf(G,X)})(c,l),m=(function(I,V){const G=[];let X=!0;for(const R of Bh(V)){const A=R.kind===0?oS(I,R.fieldPath,I.endAt):aS(I,R.fieldPath,I.endAt);G.push(A.value),X&&(X=A.inclusive)}return new zf(G,X)})(c,l),y=this.In(l,c,g),w=this.In(l,c,m),_=this.Tn(l,c,p),E=this.En(l.indexId,u,y,g.inclusive,w,m.inclusive,_);return Je.forEach(E,(L=>n.G(L,r.limit).next((I=>{I.forEach((V=>{const G=Kt.fromSegments(V.documentKey);a.has(G)||(a=a.add(G),o.push(G))}))}))))})).next((()=>o))}return Je.resolve(null)}))}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=LW(Yn.create(e.filters,"and")).map((n=>g_(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const l=(r!=null?r.length:1)*Math.max(n.length,s.length),c=l/(r!=null?r.length:1),u=[];for(let p=0;p<l;++p){const g=r?this.dn(r[p/c]):ev,m=this.An(e,g,n[p%c],i),y=this.Rn(e,g,s[p%c],a),w=o.map((_=>this.An(e,g,_,!0)));u.push(...this.createRange(m,y,w))}return u}An(e,r,n,i){const s=new Wh(e,Kt.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new Wh(e,Kt.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new CS(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,r){let n=2;const i=this.hn(r);return Je.forEach(i,(s=>this.Pn(e,s).next((a=>{a?n!==0&&a.fields.length<(function(l){let c=new si(Si.comparator),u=!1;for(const p of l.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?u=!0:c=c.add(g.field));for(const p of l.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(u?1:0)})(s)&&(n=1):n=0})))).next((()=>(function(a){return a.limit!==null})(r)&&i.length>1&&n===2?1:n))}Vn(e,r){const n=new qm;for(const i of Bh(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);Hh.vt.It(s,a)}return n.zt()}dn(e){const r=new qm;return Hh.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new qm;return Hh.vt.It(p0(this.databaseId,r),n.Yt((function(s){const a=Bh(s);return a.length===0?0:a[a.length-1].kind})(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new qm);let s=0;for(const a of Bh(e)){const o=n[s++];for(const l of i)if(this.fn(r,a.fieldPath)&&Gg(o))i=this.gn(i,a,o);else{const c=l.Yt(a.kind);Hh.vt.It(o,c)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const l=new qm;l.seed(o.zt()),Hh.vt.It(a,l.Yt(r.kind)),s.push(l)}return s}fn(e,r){return!!e.filters.find((n=>n instanceof mn&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,r){const n=Hm(e),i=Ep(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next((s=>{const a=[];return Je.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(u,p){const g=p?new y1(p.sequenceNumber,new Il(y0(p.readTime),new Kt(xu(p.documentKey)),p.largestBatchId)):y1.empty(),m=u.fields.map((([y,w])=>new i0(Si.fromServerFormat(y),w)));return new v1(u.indexId,u.collectionGroup,m,g)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((r=>r.length===0?null:(r.sort(((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Br(n.collectionGroup,i.collectionGroup)})),r[0].collectionGroup)))}updateCollectionGroup(e,r,n){const i=Hm(e),s=Ep(e);return this.yn(e).next((a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next((o=>Je.forEach(o,(l=>s.put(_S(l.indexId,this.uid,a,n))))))))}updateIndexEntries(e,r){const n=new Map;return Je.forEach(r,((i,s)=>{const a=n.get(i.collectionGroup);return(a?Je.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(n.set(i.collectionGroup,o),Je.forEach(o,(l=>this.wn(e,i,l).next((c=>{const u=this.Sn(s,l);return c.isEqual(u)?Je.resolve():this.bn(e,s,l,c,u)})))))))}))}Dn(e,r,n,i){return Sp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return Sp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=Sp(e);let s=new si(ff);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},((a,o)=>{s=s.add(new Wh(n.indexId,r,o.arrayValue,o.directionalValue))})).next((()=>s))}Sn(e,r){let n=new si(ff);const i=this.Vn(r,e);if(i==null)return n;const s=u_(r);if(s!=null){const a=e.data.field(s.fieldPath);if(Gg(a))for(const o of a.arrayValue.values||[])n=n.add(new Wh(r.indexId,e.key,this.dn(o),i))}else n=n.add(new Wh(r.indexId,e.key,ev,i));return n}bn(e,r,n,i,s){Nt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return(function(l,c,u,p,g){const m=l.getIterator(),y=c.getIterator();let w=kp(m),_=kp(y);for(;w||_;){let E=!1,L=!1;if(w&&_){const I=u(w,_);I<0?L=!0:I>0&&(E=!0)}else w!=null?L=!0:E=!0;E?(p(_),_=kp(y)):L?(g(w),w=kp(m)):(w=kp(m),_=kp(y))}})(i,s,ff,(o=>{a.push(this.Dn(e,r,n,o))}),(o=>{a.push(this.vn(e,r,n,o))})),Je.waitFor(a)}yn(e){let r=1;return Ep(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,s)=>{s.done(),r=i.sequenceNumber+1})).next((()=>r))}createRange(e,r,n){n=n.sort(((a,o)=>ff(a,o))).filter(((a,o,l)=>!o||ff(a,l[o-1])!==0));const i=[];i.push(e);for(const a of n){const o=ff(a,e),l=ff(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,ev,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,ev,[]];s.push(IDBKeyRange.bound(o,l))}return s}Cn(e,r){return ff(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(NS)}getMinOffset(e,r){return Je.mapArray(this.hn(r),(n=>this.Pn(e,n).next((i=>i||er())))).next(NS)}}function AS(t){return la(t,"collectionParents")}function Sp(t){return la(t,"indexEntries")}function Hm(t){return la(t,"indexConfiguration")}function Ep(t){return la(t,"indexState")}function NS(t){fr(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;s6(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Il(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class go{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new go(e,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const l=n.J({range:a},((u,p,g)=>(o++,g.delete())));s.push(l.next((()=>{fr(o===1)})));const c=[];for(const u of r.mutations){const p=SP(e,u.key.path,r.batchId);s.push(i.delete(p)),c.push(u.key)}return Je.waitFor(s).next((()=>c))}function Ey(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw er();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go.DEFAULT_COLLECTION_PERCENTILE=10,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,go.DEFAULT=new go(41943040,go.DEFAULT_COLLECTION_PERCENTILE,go.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),go.DISABLED=new go(-1,0,0);class L5{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){fr(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new L5(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hf(e).J({index:"userMutationsIndex",range:n},((i,s,a)=>{r=!1,a.done()})).next((()=>r))}addMutationBatch(e,r,n,i){const s=Mp(e),a=hf(e);return a.add({}).next((o=>{fr(typeof o=="number");const l=new h6(o,r,n,i),c=(function(m,y,w){const _=w.baseMutations.map((L=>Yg(m.ct,L))),E=w.mutations.map((L=>Yg(m.ct,L)));return{userId:y,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:_,mutations:E}})(this.serializer,this.userId,l),u=[];let p=new si(((g,m)=>Br(g.canonicalString(),m.canonicalString())));for(const g of i){const m=SP(this.userId,g.key.path,o);p=p.add(g.key.path.popLast()),u.push(a.put(c)),u.push(s.put(m,bH))}return p.forEach((g=>{u.push(this.indexManager.addToCollectionParentIndex(e,g))})),e.addOnCommittedListener((()=>{this.Fn[o]=l.keys()})),Je.waitFor(u).next((()=>l))}))}lookupMutationBatch(e,r){return hf(e).get(r).next((n=>n?(fr(n.userId===this.userId),qh(this.serializer,n)):null))}Mn(e,r){return this.Fn[r]?Je.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next((n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return hf(e).J({index:"userMutationsIndex",range:i},((a,o,l)=>{o.userId===this.userId&&(fr(o.batchId>=n),s=qh(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return hf(e).J({index:"userMutationsIndex",range:r,reverse:!0},((i,s,a)=>{n=s.batchId,a.done()})).next((()=>n))}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hf(e).U("userMutationsIndex",r).next((n=>n.map((i=>qh(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Uv(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return Mp(e).J({range:i},((a,o,l)=>{const[c,u,p]=a,g=xu(u);if(c===this.userId&&r.path.isEqual(g))return hf(e).get(p).next((m=>{if(!m)throw er();fr(m.userId===this.userId),s.push(qh(this.serializer,m))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new si(Br);const i=[];return r.forEach((s=>{const a=Uv(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=Mp(e).J({range:o},((c,u,p)=>{const[g,m,y]=c,w=xu(m);g===this.userId&&s.path.isEqual(w)?n=n.add(y):p.done()}));i.push(l)})),Je.waitFor(i).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=Uv(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new si(Br);return Mp(e).J({range:a},((l,c,u)=>{const[p,g,m]=l,y=xu(g);p===this.userId&&n.isPrefixOf(y)?y.length===i&&(o=o.add(m)):u.done()})).next((()=>this.xn(e,o)))}xn(e,r){const n=[],i=[];return r.forEach((s=>{i.push(hf(e).get(s).next((a=>{if(a===null)throw er();fr(a.userId===this.userId),n.push(qh(this.serializer,a))})))})),Je.waitFor(i).next((()=>n))}removeMutationBatch(e,r){return CR(e._e,this.userId,r).next((n=>(e.addOnCommittedListener((()=>{this.On(r.batchId)})),Je.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((r=>{if(!r)return Je.resolve();const n=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return Mp(e).J({range:n},((s,a,o)=>{if(s[0]===this.userId){const l=xu(s[1]);i.push(l)}else o.done()})).next((()=>{fr(i.length===0)}))}))}containsKey(e,r){return TR(e,this.userId,r)}Nn(e){return AR(e).get(this.userId).next((r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function TR(t,e,r){const n=Uv(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return Mp(t).J({range:s,H:!0},((o,l,c)=>{const[u,p,g]=o;u===e&&p===i&&(a=!0),c.done()})).next((()=>a))}function hf(t){return la(t,"mutations")}function Mp(t){return la(t,"documentMutations")}function AR(t){return la(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new w0(0)}static kn(){return new w0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next((r=>{const n=new w0(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next((()=>r.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((r=>vr.fromTimestamp(new Bi(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((r=>r.highestListenSequenceNumber))}setTargetsMetadata(e,r,n){return this.qn(e).next((i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i))))}addTargetData(e,r){return this.Kn(e,r).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next((()=>Cp(e).delete(r.targetId))).next((()=>this.qn(e))).next((n=>(fr(n.targetCount>0),n.targetCount-=1,this.Qn(e,n))))}removeTargets(e,r,n){let i=0;const s=[];return Cp(e).J(((a,o)=>{const l=ag(o);l.sequenceNumber<=r&&n.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>Je.waitFor(s))).next((()=>i))}forEachTarget(e,r){return Cp(e).J(((n,i)=>{const s=ag(i);r(s)}))}qn(e){return PS(e).get("targetGlobalKey").next((r=>(fr(r!==null),r)))}Qn(e,r){return PS(e).put("targetGlobalKey",r)}Kn(e,r){return Cp(e).put(kR(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((r=>r.targetCount))}getTargetData(e,r){const n=m0(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Cp(e).J({range:i,index:"queryTargetsIndex"},((a,o,l)=>{const c=ag(o);I2(r,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,r,n){const i=[],s=_f(e);return r.forEach((a=>{const o=ko(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))})),Je.waitFor(i)}removeMatchingKeys(e,r,n){const i=_f(e);return Je.forEach(r,(s=>{const a=ko(s.path);return Je.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])}))}removeMatchingKeysForTargetId(e,r){const n=_f(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=_f(e);let s=Hr();return i.J({range:n,H:!0},((a,o,l)=>{const c=xu(a[1]),u=new Kt(c);s=s.add(u)})).next((()=>s))}containsKey(e,r){const n=ko(r.path),i=IDBKeyRange.bound([n],[xP(n)],!1,!0);let s=0;return _f(e).J({index:"documentTargetsIndex",H:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}ot(e,r){return Cp(e).get(r).next((n=>n?ag(n):null))}}function Cp(t){return la(t,"targets")}function PS(t){return la(t,"targetGlobal")}function _f(t){return la(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS([t,e],[r,n]){const i=Br(t,r);return i===0?Br(e,n):i}class OW{constructor(e){this.Un=e,this.buffer=new si(RS),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();RS(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class NR{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Nt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){ih(r)?Nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await nh(r)}await this.Hn(3e5)}))}}class MW{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Je.resolve(Zo.oe);const n=new OW(r);return this.Jn.forEachTarget(e,(i=>n.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>n.zn(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(IS)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IS):this.Xn(e,r)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,o=Date.now(),this.removeTargets(e,n,r)))).next((p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(c=Date.now(),jp()<=hn.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function IR(t,e){return new MW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,r){this.db=e,this.garbageCollector=IR(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,((n,i)=>r(i)))}addReference(e,r,n){return tv(e,n)}removeReference(e,r,n){return tv(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return tv(e,r)}nr(e,r){return(function(i,s){let a=!1;return AR(i).Y((o=>TR(i,o,s).next((l=>(l&&(a=!0),Je.resolve(!l)))))).next((()=>a))})(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,((a,o)=>{if(o<=r){const l=this.nr(e,a).next((c=>{if(!c)return s++,n.getEntry(e,a).next((()=>(n.removeEntry(a,vr.min()),_f(e).delete((function(p){return[0,ko(p.path)]})(a)))))}));i.push(l)}})).next((()=>Je.waitFor(i))).next((()=>n.apply(e))).next((()=>s))}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return tv(e,r)}tr(e,r){const n=_f(e);let i,s=Zo.oe;return n.J({index:"documentTargetsIndex"},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==Zo.oe&&r(new Kt(xu(i)),s),s=c,i=l):s=Zo.oe})).next((()=>{s!==Zo.oe&&r(new Kt(xu(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function tv(t,e){return _f(t).put((function(n,i){return{targetId:0,path:ko(n.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.changes=new Nd((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,ki.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Je.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return jh(e).put(n)}removeEntry(e,r,n){return jh(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],ky(a),o[o.length-1]]})(r,n))}updateMetadata(e,r){return this.getMetadata(e).next((n=>(n.byteSize+=r,this.rr(e,n))))}getEntry(e,r){let n=ki.newInvalidDocument(r);return jh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wm(r))},((i,s)=>{n=this.ir(r,s)})).next((()=>n))}sr(e,r){let n={size:0,document:ki.newInvalidDocument(r)};return jh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wm(r))},((i,s)=>{n={document:this.ir(r,s),size:Ey(s)}})).next((()=>n))}getEntries(e,r){let n=tl();return this._r(e,r,((i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)})).next((()=>n))}ar(e,r){let n=tl(),i=new vi(Kt.comparator);return this._r(e,r,((s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,Ey(a))})).next((()=>({documents:n,ur:i})))}_r(e,r,n){if(r.isEmpty())return Je.resolve();let i=new si(jS);r.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(Wm(i.first()),Wm(i.last())),a=i.getIterator();let o=a.getNext();return jh(e).J({index:"documentKeyIndex",range:s},((l,c,u)=>{const p=Kt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&jS(o,p)<0;)n(o,null),o=a.getNext();o&&o.isEqual(p)&&(n(o,c),o=a.hasNext()?a.getNext():null),o?u.$(Wm(o)):u.done()})).next((()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),ky(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return jh(e).U(IDBKeyRange.bound(o,l,!0)).next((c=>{s?.incrementDocumentReadCount(c.length);let u=tl();for(const p of c){const g=this.ir(Kt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(R2(r,g)||i.has(g.key))&&(u=u.insert(g.key,g))}return u}))}getAllFromCollectionGroup(e,r,n,i){let s=tl();const a=FS(r,n),o=FS(r,Il.max());return jh(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},((l,c,u)=>{const p=this.ir(Kt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(p.key,p),s.size===i&&u.done()})).next((()=>s))}newChangeBuffer(e){return new UW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((r=>r.byteSize))}getMetadata(e){return LS(e).get("remoteDocumentGlobalKey").next((r=>(fr(!!r),r)))}rr(e,r){return LS(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=CW(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(vr.min())))return n}return ki.newInvalidDocument(e)}}function RR(t){return new VW(t)}class UW extends PR{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Nd((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const r=[];let n=0,i=new si(((s,a)=>Br(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=yS(this.cr.serializer,a);i=i.add(s.path.popLast());const c=Ey(l);n+=c-o.size,r.push(this.cr.addEntry(e,s,l))}else if(n-=o.size,this.trackRemovals){const l=yS(this.cr.serializer,a.convertToNoDocument(vr.min()));r.push(this.cr.addEntry(e,s,l))}})),i.forEach((s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))})),r.push(this.cr.updateMetadata(e,n)),Je.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next((n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,r){return this.cr.ar(e,r).next((({documents:n,ur:i})=>(i.forEach(((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})})),n)))}}function LS(t){return la(t,"remoteDocumentGlobal")}function jh(t){return la(t,"remoteDocumentsV14")}function Wm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FS(t,e){const r=e.documentKey.path.toArray();return[t,ky(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function jS(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=Br(r[s],n[s]),i)return i;return i=Br(r.length,n.length),i||(i=Br(r[r.length-2],n[n.length-2]),i||Br(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&xg(n.mutation,i,el.empty(),Bi.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Hr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Hr()){const i=vu();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let a=ig();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,r){const n=vu();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Hr())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{r.set(a,o)}))}))}computeViews(e,r,n,i){let s=tl();const a=gg(),o=(function(){return gg()})();return r.forEach(((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Id)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),xg(u.mutation,c,u.mutation.getFieldMask(),Bi.now())):a.set(c.key,el.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,u)=>a.set(c,u))),r.forEach(((c,u)=>{var p;return o.set(c,new zW(u,(p=a.get(c))!==null&&p!==void 0?p:null))})),o)))}recalculateAndSaveOverlays(e,r){const n=gg();let i=new vi(((a,o)=>a-o)),s=Hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||el.empty();u=o.applyToLocalView(c,u),n.set(l,u);const p=(i.get(o.batchId)||Hr()).add(l);i=i.insert(o.batchId,p)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,p=XP();u.forEach((g=>{if(!s.has(g)){const m=rR(r.get(g),n.get(g));m!==null&&p.set(g,m),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return Je.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(a){return Kt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):c6(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Je.resolve(vu());let o=-1,l=s;return a.next((c=>Je.forEach(c,((u,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(u)?Je.resolve():this.remoteDocumentCache.getEntry(e,u).next((g=>{l=l.insert(u,g)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,Hr()))).next((u=>({batchId:o,changes:KP(u)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Kt(r)).next((n=>{let i=ig();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=ig();return this.indexManager.getCollectionParents(e,s).next((o=>Je.forEach(o,(l=>{const c=(function(p,g){return new Ad(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next((u=>{u.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((a=>{s.forEach(((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,ki.newInvalidDocument(u)))}));let o=ig();return a.forEach(((l,c)=>{const u=s.get(l);u!==void 0&&xg(u.mutation,c,el.empty(),Bi.now()),R2(r,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Je.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Ns(i.createTime)}})(r)),Je.resolve()}getNamedQuery(e,r){return Je.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:v6(i.bundledQuery),readTime:Ns(i.readTime)}})(r)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(){this.overlays=new vi(Kt.comparator),this.Ir=new Map}getOverlay(e,r){return Je.resolve(this.overlays.get(r))}getOverlays(e,r){const n=vu();return Je.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.ht(e,r,s)})),Je.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),Je.resolve()}getOverlaysForCollection(e,r,n){const i=vu(),s=r.length+1,a=new Kt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new vi(((c,u)=>c-u));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=s.get(c.largestBatchId);u===null&&(u=vu(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=vu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,u)=>o.set(c,u))),!(o.size()>=i)););return Je.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new m6(r,n));let s=this.Ir.get(r);s===void 0&&(s=Hr(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(){this.sessionToken=Ji.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this.Tr=new si(va.Er),this.dr=new si(va.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new va(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new va(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new Kt(new pn([])),n=new va(r,e),i=new va(r,e+1),s=[];return this.dr.forEachInRange([n,i],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Kt(new pn([])),n=new va(r,e),i=new va(r,e+1);let s=Hr();return this.dr.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const r=new va(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class va{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Kt.comparator(e.key,r.key)||Br(e.wr,r.wr)}static Ar(e,r){return Br(e.wr,r.wr)||Kt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new si(va.Er)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new h6(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new va(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Je.resolve(a)}lookupMutationBatch(e,r){return Je.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return Je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new va(r,0),i=new va(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(a=>{const o=this.Dr(a.wr);s.push(o)})),Je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new si(Br);return r.forEach((i=>{const s=new va(i,0),a=new va(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(o=>{n=n.add(o.wr)}))})),Je.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Kt.isDocumentKey(s)||(s=s.child(""));const a=new va(new Kt(s),0);let o=new si(Br);return this.br.forEachWhile((l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)}),a),Je.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){fr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Je.forEach(r.mutations,(i=>{const s=new va(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new va(r,0),i=this.br.firstAfterOrEqual(n);return Je.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.Mr=e,this.docs=(function(){return new vi(Kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Je.resolve(n?n.document.mutableCopy():ki.newInvalidDocument(r))}getEntries(e,r){let n=tl();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():ki.newInvalidDocument(i))})),Je.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=tl();const a=r.path,o=new Kt(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||s6(yP(u),n)<=0||(i.has(u.key)||R2(r,u))&&(s=s.insert(u.key,u.mutableCopy()))}return Je.resolve(s)}getAllFromCollectionGroup(e,r,n,i){er()}Or(e,r){return Je.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new KW(this)}getSize(e){return Je.resolve(this.size)}}class KW extends PR{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),Je.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.persistence=e,this.Nr=new Nd((r=>m0(r)),I2),this.lastRemoteSnapshotVersion=vr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _6,this.targetCount=0,this.kr=w0.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Je.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new w0(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Je.resolve()}updateTargetData(e,r){return this.Kn(r),Je.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach(((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),Je.waitFor(s).next((()=>i))}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Je.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Je.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),Je.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Je.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Je.resolve(n)}containsKey(e,r){return Je.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Zo(0),this.Kr=!1,this.Kr=!0,this.$r=new HW,this.referenceDelegate=e(this),this.Ur=new XW(this),this.indexManager=new FW,this.remoteDocumentCache=(function(i){return new GW(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new bR(r),this.Gr=new $W(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new qW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new WW(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Nt("MemoryPersistence","Starting transaction:",e);const i=new YW(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,r){return Je.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class YW extends _P{constructor(e){super(),this.currentSequenceNumber=e}}class F5{constructor(e){this.persistence=e,this.Jr=new _6,this.Yr=null}static Zr(e){return new F5(e)}get Xr(){if(this.Yr)return this.Yr;throw er()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Je.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Je.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Je.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xr,(n=>{const i=Kt.fromPath(n);return this.ei(e,i).next((s=>{s||r.removeEntry(i,vr.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return Je.or([()=>Je.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Cy{constructor(e,r){this.persistence=e,this.ti=new Nd((n=>ko(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=IR(this,r)}static Zr(e,r){return new Cy(e,r)}zr(){}jr(e){return Je.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}Yn(e){const r=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}Zn(e,r){return Je.forEach(this.ti,((n,i)=>this.nr(e,n,i).next((s=>s?Je.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,(a=>this.nr(e,a,r).next((o=>{o||(n++,s.removeEntry(a,vr.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.ti.set(r,e.currentSequenceNumber),Je.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.ti.set(n,e.currentSequenceNumber),Je.resolve()}removeReference(e,r,n){return this.ti.set(n,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,r){return this.ti.set(r,e.currentSequenceNumber),Je.resolve()}Wr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=$v(e.data.value)),r}nr(e,r,n){return Je.or([()=>this.persistence.Hr(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.ti.get(r);return Je.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(e){this.serializer=e}O(e,r,n,i){const s=new E5("createOrUpgrade",r);n<1&&i>=1&&((function(l){l.createObjectStore("owner")})(e),(function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",X9,{unique:!0}),l.createObjectStore("documentMutations")})(e),DS(e),(function(l){l.createObjectStore("remoteDocuments")})(e));let a=Je.resolve();return n<3&&i>=3&&(n!==0&&((function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")})(e),DS(e)),a=a.next((()=>(function(l){const c=l.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vr.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)})(s)))),n<4&&i>=4&&(n!==0&&(a=a.next((()=>(function(l,c){return c.store("mutations").U().next((u=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",X9,{unique:!0});const p=c.store("mutations"),g=u.map((m=>p.put(m)));return Je.waitFor(g)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),n<5&&i>=5&&(a=a.next((()=>this.ni(s)))),n<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore("remoteDocumentGlobal")})(e),this.ri(s))))),n<7&&i>=7&&(a=a.next((()=>this.ii(s)))),n<8&&i>=8&&(a=a.next((()=>this.si(e,s)))),n<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(a=a.next((()=>this.oi(s)))),n<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(l){l.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),n<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:FH});c.createIndex("collectionPathOverlayIndex",jH,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",DH,{unique:!1})})(e)}))),n<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:kH});c.createIndex("documentKeyIndex",SH),c.createIndex("collectionGroupIndex",EH)})(e))).next((()=>this._i(e,s))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(a=a.next((()=>this.ai(e,s)))),n<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:IH}).createIndex("sequenceNumberIndex",PH,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:RH}).createIndex("documentKeyIndex",LH,{unique:!1})})(e)))),n<16&&i>=16&&(a=a.next((()=>{r.objectStore("indexState").clear()})).next((()=>{r.objectStore("indexEntries").clear()}))),n<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)}))),a}ri(e){let r=0;return e.store("remoteDocuments").J(((n,i)=>{r+=Ey(i)})).next((()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next((i=>Je.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next((o=>Je.forEach(o,(l=>{fr(l.userId===s.userId);const c=qh(this.serializer,l);return CR(e,s.userId,c).next((()=>{}))}))))}))))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const s=[];return n.J(((a,o)=>{const l=new pn(a),c=(function(p){return[0,ko(p)]})(l);s.push(r.get(c).next((u=>u?Je.resolve():(p=>r.put({targetId:0,path:ko(p),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>Je.waitFor(s)))}))}si(e,r){e.createObjectStore("collectionParents",{keyPath:NH});const n=r.store("collectionParents"),i=new w6,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return n.put({collectionId:o,parent:ko(l)})}};return r.store("remoteDocuments").J({H:!0},((a,o)=>{const l=new pn(a);return s(l.popLast())})).next((()=>r.store("documentMutations").J({H:!0},(([a,o,l],c)=>{const u=xu(o);return s(u.popLast())}))))}oi(e){const r=e.store("targets");return r.J(((n,i)=>{const s=ag(i),a=kR(this.serializer,s);return r.put(a)}))}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J(((s,a)=>{const o=r.store("remoteDocumentsV14"),l=(function(p){return p.document?new Kt(pn.fromString(p.document.name).popFirst(5)):p.noDocument?Kt.fromSegments(p.noDocument.path):p.unknownDocument?Kt.fromSegments(p.unknownDocument.path):er()})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>Je.waitFor(i)))}ai(e,r){const n=r.store("mutations"),i=RR(this.serializer),s=new b6(F5.Zr,this.serializer.ct);return n.U().next((a=>{const o=new Map;return a.forEach((l=>{var c;let u=(c=o.get(l.userId))!==null&&c!==void 0?c:Hr();qh(this.serializer,l).keys().forEach((p=>u=u.add(p))),o.set(l.userId,u)})),Je.forEach(o,((l,c)=>{const u=new _a(c),p=R5.lt(this.serializer,u),g=s.getIndexManager(u),m=L5.lt(u,this.serializer,g,s.referenceDelegate);return new LR(i,m,p,g).recalculateAndSaveOverlaysForDocumentKeys(new d_(r,Zo.oe),l).next()}))}))}}function DS(t){t.createObjectStore("targetDocuments",{keyPath:TH}).createIndex("documentTargetsIndex",AH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",CH,{unique:!0}),t.createObjectStore("targetGlobal")}const bw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class k6{constructor(e,r,n,i,s,a,o,l,c,u,p=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=c,this.li=u,this.hi=p,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=g=>Promise.resolve(),!k6.D())throw new Tt(ct.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BW(this,i),this.Ai=r+"main",this.serializer=new bR(l),this.Ri=new ku(this.Ai,this.hi,new QW(this.serializer)),this.$r=new AW,this.Ur=new DW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RR(this.serializer),this.Gr=new TW,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,u===!1&&Ts("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Tt(ct.FAILED_PRECONDITION,bw);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new Zo(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async r=>{r.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>rv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((r=>this.isPrimary&&!r?this.bi(e).next((()=>!1)):!!r&&this.Di(e).next((()=>!0)))))).catch((e=>{if(ih(e))return Nt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Nt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Gm(e).get("owner").next((r=>Je.resolve(this.vi(r))))}Ci(e){return rv(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(r=>{const n=la(r,"clientMetadata");return n.U().next((i=>{const s=this.xi(i,18e5),a=i.filter((o=>s.indexOf(o)===-1));return Je.forEach(a,(o=>n.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Je.resolve(!0):Gm(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Tt(ct.FAILED_PRECONDITION,bw);return!1}}return!(!this.networkEnabled||!this.inForeground)||rv(e).U().next((n=>this.xi(n,5e3).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((r=>(this.isPrimary!==r&&Nt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const r=new d_(e,Zo.oe);return this.bi(r).next((()=>this.Ci(r)))})),this.Ri.close(),this.qi()}xi(e,r){return e.filter((n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>rv(e).U().next((r=>this.xi(r,18e5).map((n=>n.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return L5.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jW(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return R5.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Nt("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=(function(l){return l===17?BH:l===16?MH:l===15?o6:l===14?TP:l===13?CP:l===12?OH:l===11?EP:void er()})(this.hi);let a;return this.Ri.runTransaction(e,i,s,(o=>(a=new d_(o,this.Qr?this.Qr.next():Zo.oe),r==="readwrite-primary"?this.wi(a).next((l=>!!l||this.Si(a))).next((l=>{if(!l)throw Ts(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new Tt(ct.FAILED_PRECONDITION,wP);return n(a)})).next((l=>this.Di(a).next((()=>l)))):this.Ki(a).next((()=>n(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Ki(e){return Gm(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Tt(ct.FAILED_PRECONDITION,bw)}))}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Gm(e).put("owner",r)}static D(){return ku.D()}bi(e){const r=Gm(e);return r.get("owner").next((n=>this.vi(n)?(Nt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Je.resolve()))}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Ts(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;tP()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Nt("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Ts("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Ts("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Gm(t){return la(t,"owner")}function rv(t){return la(t,"clientMetadata")}function S6(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Hr(),i=Hr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new E6(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return tP()?8:bP(sa())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(e,r,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new JW;return this.Xi(e,r,a).next((o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)}))})).next((()=>s.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(jp()<=hn.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",Dp(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Je.resolve()):(jp()<=hn.DEBUG&&Nt("QueryEngine","Query:",Dp(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(jp()<=hn.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",Dp(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,So(r))):Je.resolve())}Yi(e,r){if(lS(r))return Je.resolve(null);let n=So(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=_y(r,null,"F"),n=So(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=Hr(...s);return this.Ji.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,n).next((l=>{const c=this.ts(r,o);return this.ns(r,c,a,l.readTime)?this.Yi(e,_y(r,null,"F")):this.rs(e,c,r,l)}))))})))))}Zi(e,r,n,i){return lS(r)||i.isEqual(vr.min())?Je.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?Je.resolve(null):(jp()<=hn.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Dp(r)),this.rs(e,a,r,vP(i,-1)).next((o=>o)))}))}ts(e,r){let n=new si(WP(e));return r.forEach(((i,s)=>{R2(e,s)&&(n=n.add(s))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return jp()<=hn.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Dp(r)),this.Ji.getDocumentsMatchingQuery(e,r,Il.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new vi(Br),this._s=new Nd((s=>m0(s)),I2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function jR(t,e,r,n){return new ZW(t,e,r,n)}async function DR(t,e){const r=Ht(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],o=[];let l=Hr();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next((c=>({hs:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function eG(t,e){const r=Ht(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,u){const p=c.batch,g=p.keys();let m=Je.resolve();return g.forEach((y=>{m=m.next((()=>u.getEntry(l,y))).next((w=>{const _=c.docVersions.get(y);fr(_!==null),w.version.compareTo(_)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),u.addEntry(w)))}))})),m.next((()=>o.mutationQueue.removeMutationBatch(l,p)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let l=Hr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function OR(t){const e=Ht(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function tG(t,e){const r=Ht(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach(((u,p)=>{const g=i.get(p);if(!g)return;o.push(r.Ur.removeMatchingKeys(s,u.removedDocuments,p).next((()=>r.Ur.addMatchingKeys(s,u.addedDocuments,p))));let m=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Ji.EMPTY_BYTE_STRING,vr.min()).withLastLimboFreeSnapshotVersion(vr.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,n)),i=i.insert(p,m),(function(w,_,E){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(g,m,u)&&o.push(r.Ur.updateTargetData(s,m))}));let l=tl(),c=Hr();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,u))})),o.push(MR(s,a,e.documentUpdates).next((u=>{l=u.Ps,c=u.Is}))),!n.isEqual(vr.min())){const u=r.Ur.getLastRemoteSnapshotVersion(s).next((p=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));o.push(u)}return Je.waitFor(o).next((()=>a.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(r.os=i,s)))}function MR(t,e,r){let n=Hr(),i=Hr();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let a=tl();return r.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(vr.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Nt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{Ps:a,Is:i}}))}function rG(t,e){const r=Ht(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function E1(t,e){const r=Ht(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((s=>s?(i=s,Je.resolve(i)):r.Ur.allocateTargetId(n).next((a=>(i=new ad(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function C1(t,e,r){const n=Ht(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!ih(a))throw a;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Ty(t,e,r){const n=Ht(t);let i=vr.min(),s=Hr();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,u){const p=Ht(l),g=p._s.get(u);return g!==void 0?Je.resolve(p.os.get(g)):p.Ur.getTargetData(c,u)})(n,a,So(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:vr.min(),r?s:Hr()))).next((o=>(UR(n,HP(e),o),{documents:o,Ts:s})))))}function BR(t,e){const r=Ht(t),n=Ht(r.Ur),i=r.os.get(e);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",(s=>n.ot(s,e).next((a=>a?a.target:null))))}function VR(t,e){const r=Ht(t),n=r.us.get(e)||vr.min();return r.persistence.runTransaction("Get new document changes","readonly",(i=>r.cs.getAllFromCollectionGroup(i,e,vP(n,-1),Number.MAX_SAFE_INTEGER))).then((i=>(UR(r,e,i),i)))}function UR(t,e,r){let n=t.us.get(e)||vr.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.us.set(e,n)}async function nG(t,e,r,n){const i=Ht(t);let s=Hr(),a=tl();for(const c of r){const u=e.Es(c.metadata.name);c.document&&(s=s.add(u));const p=e.ds(c);p.setReadTime(e.As(c.metadata.readTime)),a=a.insert(u,p)}const o=i.cs.newChangeBuffer({trackRemovals:!0}),l=await E1(i,(function(u){return So(q1(pn.fromString(`__bundle__/docs/${u}`)))})(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>MR(c,o,a).next((u=>(o.apply(c),u))).next((u=>i.Ur.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Ur.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,u.Ps,u.Is))).next((()=>u.Ps))))))}async function iG(t,e,r=Hr()){const n=await E1(t,So(v6(e.bundledQuery))),i=Ht(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Ns(e.readTime);if(n.snapshotVersion.compareTo(a)>=0)return i.Gr.saveNamedQuery(s,e);const o=n.withResumeToken(Ji.EMPTY_BYTE_STRING,a);return i.os=i.os.insert(o.targetId,o),i.Ur.updateTargetData(s,o).next((()=>i.Ur.removeMatchingKeysForTargetId(s,n.targetId))).next((()=>i.Ur.addMatchingKeys(s,r,n.targetId))).next((()=>i.Gr.saveNamedQuery(s,e)))}))}function OS(t,e){return`firestore_clients_${t}_${e}`}function MS(t,e,r){let n=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function kw(t,e){return`firestore_targets_${t}_${e}`}class Ay{constructor(e,r,n,i){this.user=e,this.batchId=r,this.state=n,this.error=i}static Rs(e,r,n){const i=JSON.parse(n);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new Tt(i.error.code,i.error.message))),a?new Ay(e,r,i.state,s):(Ts("SharedClientState",`Failed to parse mutation state for ID '${r}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vg{constructor(e,r,n){this.targetId=e,this.state=r,this.error=n}static Rs(e,r){const n=JSON.parse(r);let i,s=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return s&&n.error&&(s=typeof n.error.message=="string"&&typeof n.error.code=="string",s&&(i=new Tt(n.error.code,n.error.message))),s?new vg(e,n.state,i):(Ts("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ny{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const n=JSON.parse(r);let i=typeof n=="object"&&n.activeTargetIds instanceof Array,s=u6();for(let a=0;i&&a<n.activeTargetIds.length;++a)i=kP(n.activeTargetIds[a]),s=s.add(n.activeTargetIds[a]);return i?new Ny(e,s):(Ts("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class C6{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new C6(r.clientId,r.onlineState):(Ts("SharedClientState",`Failed to parse online state: ${e}`),null)}}class E_{constructor(){this.activeTargetIds=u6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sw{constructor(e,r,n,i,s){this.window=e,this.ui=r,this.persistenceKey=n,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new vi(Br),this.started=!1,this.bs=[];const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=OS(this.persistenceKey,this.ps),this.vs=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new E_),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this.Os=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const i=this.getItem(OS(this.persistenceKey,n));if(i){const s=Ny.Rs(n,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const r=this.storage.getItem(this.xs);if(r){const n=this.Ls(r);n&&this.Bs(n)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(r=!0)})),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,n){this.qs(e,r,n),this.Qs(e)}addLocalQueryTarget(e,r=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(kw(this.persistenceKey,e));if(i){const s=vg.Rs(e,i);s&&(n=s.state)}}return r&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kw(this.persistenceKey,e))}updateQueryState(e,r,n){this.$s(e,r,n)}handleUserChange(e,r,n){r.forEach((i=>{this.Qs(i)})),this.currentUser=e,n.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Nt("SharedClientState","READ",e,r),r}setItem(e,r){Nt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Nt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const r=e;if(r.storageArea===this.storage){if(Nt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void Ts("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(r.key!==null){if(this.Cs.test(r.key)){if(r.newValue==null){const n=this.Gs(r.key);return this.zs(n,null)}{const n=this.js(r.key,r.newValue);if(n)return this.zs(n.clientId,n)}}else if(this.Fs.test(r.key)){if(r.newValue!==null){const n=this.Hs(r.key,r.newValue);if(n)return this.Js(n)}}else if(this.Ms.test(r.key)){if(r.newValue!==null){const n=this.Ys(r.key,r.newValue);if(n)return this.Zs(n)}}else if(r.key===this.xs){if(r.newValue!==null){const n=this.Ls(r.newValue);if(n)return this.Bs(n)}}else if(r.key===this.vs){const n=(function(s){let a=Zo.oe;if(s!=null)try{const o=JSON.parse(s);fr(typeof o=="number"),a=o}catch(o){Ts("SharedClientState","Failed to read sequence number from WebStorage",o)}return a})(r.newValue);n!==Zo.oe&&this.sequenceNumberHandler(n)}else if(r.key===this.Os){const n=this.Xs(r.newValue);await Promise.all(n.map((i=>this.syncEngine.eo(i))))}}}else this.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,n){const i=new Ay(this.currentUser,e,r,n),s=MS(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const r=MS(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){const r={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(r))}$s(e,r,n){const i=kw(this.persistenceKey,e),s=new vg(e,r,n);this.setItem(i,s.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const n=this.Gs(e);return Ny.Rs(n,r)}Hs(e,r){const n=this.Fs.exec(e),i=Number(n[1]),s=n[2]!==void 0?n[2]:null;return Ay.Rs(new _a(s),i,r)}Ys(e,r){const n=this.Ms.exec(e),i=Number(n[1]);return vg.Rs(i,r)}Ls(e){return C6.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Nt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const n=r?this.Ss.insert(e,r):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(n),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.io(a,o).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=u6();return e.forEach(((n,i)=>{r=r.unionWith(i.activeTargetIds)})),r}}class zR{constructor(){this.so=new E_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new E_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv=null;function Ew(){return nv===null?nv=(function(){return 268435456+Math.round(2147483648*Math.random())})():nv++,"0x"+nv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="WebChannelConnection";class lG extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=Ew(),l=this.xo(r,n.toUriEncodedString());Nt("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(r,l,c,i).then((u=>(Nt("RestConnection",`Received RPC '${r}' ${o}: `,u),u)),(u=>{throw Nl("RestConnection",`RPC '${r}' ${o} failed with error: `,u,"url: ",l,"request:",i),u}))}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$1})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>r[a]=s)),i&&i.headers.forEach(((s,a)=>r[a]=s))}xo(r,n){const i=aG[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Ew();return new Promise(((a,o)=>{const l=new cP;l.setWithCredentials(!0),l.listenOnce(uP.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case Vv.NO_ERROR:const u=l.getResponseJson();Nt(co,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),a(u);break;case Vv.TIMEOUT:Nt(co,`RPC '${e}' ${s} timed out`),o(new Tt(ct.DEADLINE_EXCEEDED,"Request time out"));break;case Vv.HTTP_ERROR:const p=l.getStatus();if(Nt(co,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const m=g?.error;if(m&&m.status&&m.message){const y=(function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(E)>=0?E:ct.UNKNOWN})(m.status);o(new Tt(y,m.message))}else o(new Tt(ct.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Tt(ct.UNAVAILABLE,"Connection failed."));break;default:er()}}finally{Nt(co,`RPC '${e}' ${s} completed.`)}}));const c=JSON.stringify(i);Nt(co,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",c,n,15)}))}Bo(e,r,n){const i=Ew(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=hP(),o=fP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=s.join("");Nt(co,`Creating RPC '${e}' stream ${i}: ${u}`,l);const p=a.createWebChannel(u,l);let g=!1,m=!1;const y=new oG({Io:_=>{m?Nt(co,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(g||(Nt(co,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Nt(co,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},To:()=>p.close()}),w=(_,E,L)=>{_.listen(E,(I=>{try{L(I)}catch(V){setTimeout((()=>{throw V}),0)}}))};return w(p,ng.EventType.OPEN,(()=>{m||(Nt(co,`RPC '${e}' stream ${i} transport opened.`),y.yo())})),w(p,ng.EventType.CLOSE,(()=>{m||(m=!0,Nt(co,`RPC '${e}' stream ${i} transport closed`),y.So())})),w(p,ng.EventType.ERROR,(_=>{m||(m=!0,Nl(co,`RPC '${e}' stream ${i} transport errored:`,_),y.So(new Tt(ct.UNAVAILABLE,"The operation could not be completed")))})),w(p,ng.EventType.MESSAGE,(_=>{var E;if(!m){const L=_.data[0];fr(!!L);const I=L,V=I.error||((E=I[0])===null||E===void 0?void 0:E.error);if(V){Nt(co,`RPC '${e}' stream ${i} received error:`,V);const G=V.status;let X=(function(C){const D=Vs[C];if(D!==void 0)return aR(D)})(G),R=V.message;X===void 0&&(X=ct.INTERNAL,R="Unknown error status: "+G+" with message "+V.message),m=!0,y.So(new Tt(X,R)),p.close()}else Nt(co,`RPC '${e}' stream ${i} received:`,L),y.bo(L)}})),w(o,dP.STAT_EVENT,(_=>{_.stat===c_.PROXY?Nt(co,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===c_.NOPROXY&&Nt(co,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{y.wo()}),0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof window<"u"?window:null}function Gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){return new gW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new T6(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ct.RESOURCE_EXHAUSTED?(Ts(r.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new Tt(ct.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cG extends qR{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=yW(this.serializer,e),n=(function(s){if(!("targetChange"in s))return vr.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?vr.min():a.readTime?Ns(a.readTime):vr.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=w_(this.serializer),r.addTarget=(function(s,a){let o;const l=a.target;if(o=yy(l)?{documents:gR(s,l)}:{query:P5(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=uR(s,a.resumeToken);const c=v_(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(vr.min())>0){o.readTime=S1(s,a.snapshotVersion.toTimestamp());const c=v_(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const n=_W(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=w_(this.serializer),r.removeTarget=e,this.a_(r)}}class uG extends qR{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return fr(!!e.streamToken),this.lastStreamToken=e.streamToken,fr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=wW(e.writeResults,e.commitTime),n=Ns(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=w_(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Yg(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Tt(ct.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(e,y_(r,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Tt(ct.UNKNOWN,s.toString())}))}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Lo(e,y_(r,n),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Tt(ct.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class fG{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ts(r),this.D_=!1):Nt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hG{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{n.enqueueAndForget((async()=>{ah(this)&&(Nt("RemoteStore","Restarting streams for network reachability change."),await(async function(l){const c=Ht(l);c.L_.add(4),await G1(c),c.q_.set("Unknown"),c.L_.delete(4),await O2(c)})(this))}))})),this.q_=new fG(n,i)}}async function O2(t){if(ah(t))for(const e of t.B_)await e(!0)}async function G1(t){for(const e of t.B_)await e(!1)}function j5(t,e){const r=Ht(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),I6(r)?N6(r):X1(r).r_()&&A6(r,e))}function T1(t,e){const r=Ht(t),n=X1(r);r.N_.delete(e),n.r_()&&HR(r,e),r.N_.size===0&&(n.r_()?n.o_():ah(r)&&r.q_.set("Unknown"))}function A6(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}X1(t).A_(e)}function HR(t,e){t.Q_.xe(e),X1(t).R_(e)}function N6(t){t.Q_=new fW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),X1(t).start(),t.q_.v_()}function I6(t){return ah(t)&&!X1(t).n_()&&t.N_.size>0}function ah(t){return Ht(t).L_.size===0}function WR(t){t.Q_=void 0}async function pG(t){t.q_.set("Online")}async function mG(t){t.N_.forEach(((e,r)=>{A6(t,e)}))}async function gG(t,e){WR(t),I6(t)?(t.q_.M_(e),N6(t)):t.q_.set("Unknown")}async function xG(t,e,r){if(t.q_.set("Online"),e instanceof cR&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))})(t,e)}catch(n){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Iy(t,n)}else if(e instanceof Wv?t.Q_.Ke(e):e instanceof lR?t.Q_.He(e):t.Q_.We(e),!r.isEqual(vr.min()))try{const n=await OR(t.localStore);r.compareTo(n)>=0&&await(function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.N_.get(c);u&&s.N_.set(c,u.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const u=s.N_.get(l);if(!u)return;s.N_.set(l,u.withResumeToken(Ji.EMPTY_BYTE_STRING,u.snapshotVersion)),HR(s,l);const p=new ad(u.target,l,c,u.sequenceNumber);A6(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(t,r)}catch(n){Nt("RemoteStore","Failed to raise snapshot:",n),await Iy(t,n)}}async function Iy(t,e,r){if(!ih(e))throw e;t.L_.add(1),await G1(t),t.q_.set("Offline"),r||(r=()=>OR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Nt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await O2(t)}))}function GR(t,e){return e().catch((r=>Iy(t,r,e)))}async function K1(t){const e=Ht(t),r=$f(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vG(e);)try{const i=await rG(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,yG(e,i)}catch(i){await Iy(e,i)}KR(e)&&XR(e)}function vG(t){return ah(t)&&t.O_.length<10}function yG(t,e){t.O_.push(e);const r=$f(t);r.r_()&&r.V_&&r.m_(e.mutations)}function KR(t){return ah(t)&&!$f(t).n_()&&t.O_.length>0}function XR(t){$f(t).start()}async function wG(t){$f(t).p_()}async function _G(t){const e=$f(t);for(const r of t.O_)e.m_(r.mutations)}async function bG(t,e,r){const n=t.O_.shift(),i=p6.from(n,e,r);await GR(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await K1(t)}async function kG(t,e){e&&$f(t).V_&&await(async function(n,i){if((function(a){return sR(a)&&a!==ct.ABORTED})(i.code)){const s=n.O_.shift();$f(n).s_(),await GR(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await K1(n)}})(t,e),KR(t)&&XR(t)}async function VS(t,e){const r=Ht(t);r.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const n=ah(r);r.L_.add(3),await G1(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await O2(r)}async function C_(t,e){const r=Ht(t);e?(r.L_.delete(2),await O2(r)):e||(r.L_.add(2),await G1(r),r.q_.set("Unknown"))}function X1(t){return t.K_||(t.K_=(function(r,n,i){const s=Ht(r);return s.w_(),new cG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:pG.bind(null,t),Ro:mG.bind(null,t),mo:gG.bind(null,t),d_:xG.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),I6(t)?N6(t):t.q_.set("Unknown")):(await t.K_.stop(),WR(t))}))),t.K_}function $f(t){return t.U_||(t.U_=(function(r,n,i){const s=Ht(r);return s.w_(),new uG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wG.bind(null,t),mo:kG.bind(null,t),f_:_G.bind(null,t),g_:bG.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await K1(t)):(await t.U_.stop(),t.O_.length>0&&(Nt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new P6(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y1(t,e){if(Ts("AsyncQueue",`${e}: ${t}`),ih(t))return new Tt(ct.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Kt.comparator(r.key,n.key):(r,n)=>Kt.comparator(r.key,n.key),this.keyedMap=ig(),this.sortedSet=new vi(this.comparator)}static emptySet(e){return new Zp(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Zp)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Zp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.W_=new vi(Kt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):er():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class A1{constructor(e,r,n,i,s,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach((o=>{a.push({type:0,doc:o})})),new A1(e,r,Zp.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&P2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SG{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class EG{constructor(){this.queries=zS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ht(r),s=i.queries;i.queries=zS(),s.forEach(((a,o)=>{for(const l of o.j_)l.onError(n)}))})(this,new Tt(ct.ABORTED,"Firestore shutting down"))}}function zS(){return new Nd((t=>qP(t)),P2)}async function R6(t,e){const r=Ht(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new SG,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=Y1(a,`Initialization of query '${Dp(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&F6(r)}async function L6(t,e){const r=Ht(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function CG(t,e){const r=Ht(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&F6(r)}function TG(t,e,r){const n=Ht(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function F6(t){t.Y_.forEach((e=>{e.next()}))}var T_,$S;($S=T_||(T_={})).ea="default",$S.Cache="cache";class j6{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new A1(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=A1.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==T_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.serializer=e}Es(e){return Su(this.serializer,e)}ds(e){return e.metadata.exists?mR(this.serializer,e.document,!1):ki.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Ns(e)}}class NG{constructor(e,r,n){this.ca=e,this.localStore=r,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YR(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const n=pn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,n=new qS(this.serializer);for(const i of e)if(i.metadata.queries){const s=n.Es(i.metadata.name);for(const a of i.metadata.queries){const o=(r.get(a)||Hr()).add(s);r.set(a,o)}}return r}async complete(){const e=await nG(this.localStore,new qS(this.serializer),this.documents,this.ca.id),r=this.ha(this.documents);for(const n of this.queries)await iG(this.localStore,n,r.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function YR(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.key=e}}class JR{constructor(e){this.key=e}}class ZR{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Hr(),this.mutatedKeys=Hr(),this.Aa=WP(e),this.Ra=new Zp(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new US,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((u,p)=>{const g=i.get(u),m=R2(this.query,p)?p:null,y=!!g&&this.mutatedKeys.has(g.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;g&&m?g.data.isEqual(m.data)?y!==w&&(n.track({type:3,doc:m}),_=!0):this.ga(g,m)||(n.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!g&&m?(n.track({type:0,doc:m}),_=!0):g&&!m&&(n.track({type:1,doc:g}),_=!0,(l||c)&&(o=!0)),_&&(m?(a=a.add(m),s=w?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),n.track({type:1,doc:u})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((u,p)=>(function(m,y){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return er()}};return w(m)-w(y)})(u.type,p.type)||this.Aa(u.doc,p.doc))),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new A1(this.query,e.Ra,s,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new US,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Hr(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new JR(n))})),this.da.forEach((n=>{e.has(n)||r.push(new QR(n))})),r}ba(e){this.Ta=e.Ts,this.da=Hr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return A1.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IG{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class PG{constructor(e){this.key=e,this.va=!1}}class RG{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Nd((o=>qP(o)),P2),this.Ma=new Map,this.xa=new Set,this.Oa=new vi(Kt.comparator),this.Na=new Map,this.La=new _6,this.Ba={},this.ka=new Map,this.qa=w0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function LG(t,e,r=!0){const n=D5(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await eL(n,e,r,!0),i}async function FG(t,e){const r=D5(t);await eL(r,e,!0,!1)}async function eL(t,e,r,n){const i=await E1(t.localStore,So(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await D6(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&j5(t.remoteStore,i),o}async function D6(t,e,r,n,i){t.Ka=(p,g,m)=>(async function(w,_,E,L){let I=_.view.ma(E);I.ns&&(I=await Ty(w.localStore,_.query,!1).then((({documents:R})=>_.view.ma(R,I))));const V=L&&L.targetChanges.get(_.targetId),G=L&&L.targetMismatches.get(_.targetId)!=null,X=_.view.applyChanges(I,w.isPrimaryClient,V,G);return A_(w,_.targetId,X.wa),X.snapshot})(t,p,g,m);const s=await Ty(t.localStore,e,!0),a=new ZR(e,s.Ts),o=a.ma(s.documents),l=j2.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);A_(t,r,c.wa);const u=new IG(e,r,a);return t.Fa.set(e,u),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function jG(t,e,r){const n=Ht(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((a=>!P2(a,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await C1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&T1(n.remoteStore,i.targetId),N1(n,i.targetId)})).catch(nh)):(N1(n,i.targetId),await C1(n.localStore,i.targetId,!0))}async function DG(t,e){const r=Ht(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),T1(r.remoteStore,n.targetId))}async function OG(t,e,r){const n=V6(t);try{const i=await(function(a,o){const l=Ht(a),c=Bi.now(),u=o.reduce(((m,y)=>m.add(y.key)),Hr());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let y=tl(),w=Hr();return l.cs.getEntries(m,u).next((_=>{y=_,y.forEach(((E,L)=>{L.isValidDocument()||(w=w.add(E))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,y))).next((_=>{p=_;const E=[];for(const L of o){const I=cW(L,p.get(L.key).overlayedDocument);I!=null&&E.push(new Id(L.key,I,LP(I.value.mapValue),Oi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,E,o)})).next((_=>{g=_;const E=_.applyToLocalDocumentSet(p,w);return l.documentOverlayCache.saveOverlays(m,_.batchId,E)}))})).then((()=>({batchId:g.batchId,changes:KP(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new vi(Br)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c})(n,i.batchId,r),await Pd(n,i.changes),await K1(n.remoteStore)}catch(i){const s=Y1(i,"Failed to persist write");r.reject(s)}}async function tL(t,e){const r=Ht(t);try{const n=await tG(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=r.Na.get(s);a&&(fr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?fr(a.va):i.removedDocuments.size>0&&(fr(a.va),a.va=!1))})),await Pd(r,n,e)}catch(n){await nh(n)}}function HS(t,e,r){const n=Ht(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=Ht(a);l.onlineState=o;let c=!1;l.queries.forEach(((u,p)=>{for(const g of p.j_)g.Z_(o)&&(c=!0)})),c&&F6(l)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function MG(t,e,r){const n=Ht(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new vi(Kt.comparator);a=a.insert(s,ki.newNoDocument(s,vr.min()));const o=Hr().add(s),l=new F2(vr.min(),new Map,new vi(Br),a,o);await tL(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),B6(n)}else await C1(n.localStore,e,!1).then((()=>N1(n,e,r))).catch(nh)}async function BG(t,e){const r=Ht(t),n=e.batch.batchId;try{const i=await eG(r.localStore,e);M6(r,n,null),O6(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Pd(r,i)}catch(i){await nh(i)}}async function VG(t,e,r){const n=Ht(t);try{const i=await(function(a,o){const l=Ht(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next((p=>(fr(p!==null),u=p.keys(),l.mutationQueue.removeMutationBatch(c,p)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u))).next((()=>l.localDocuments.getDocuments(c,u)))}))})(n.localStore,e);M6(n,e,r),O6(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Pd(n,i)}catch(i){await nh(i)}}async function UG(t,e){const r=Ht(t);ah(r.remoteStore)||Nt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=await(function(a){const o=Ht(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(r.localStore);if(n===-1)return void e.resolve();const i=r.ka.get(n)||[];i.push(e),r.ka.set(n,i)}catch(n){const i=Y1(n,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function O6(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function M6(t,e,r){const n=Ht(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function N1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||rL(t,n)}))}function rL(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(T1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),B6(t))}function A_(t,e,r){for(const n of r)n instanceof QR?(t.La.addReference(n.key,e),zG(t,n)):n instanceof JR?(Nt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||rL(t,n.key)):er()}function zG(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Nt("SyncEngine","New document in limbo: "+r),t.xa.add(n),B6(t))}function B6(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Kt(pn.fromString(e)),n=t.qa.next();t.Na.set(n,new PG(r)),t.Oa=t.Oa.insert(r,n),j5(t.remoteStore,new ad(So(q1(r.path)),n,"TargetPurposeLimboResolution",Zo.oe))}}async function Pd(t,e,r){const n=Ht(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach(((o,l)=>{a.push(n.Ka(l,e,r).then((c=>{var u;if((c||r)&&n.isPrimaryClient){const p=c?!c.fromCache:(u=r?.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){i.push(c);const p=E6.Wi(l.targetId,c);s.push(p)}})))})),await Promise.all(a),n.Ca.d_(i),await(async function(l,c){const u=Ht(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Je.forEach(c,(g=>Je.forEach(g.$i,(m=>u.persistence.referenceDelegate.addReference(p,g.targetId,m))).next((()=>Je.forEach(g.Ui,(m=>u.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))))))}catch(p){if(!ih(p))throw p;Nt("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const m=u.os.get(g),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);u.os=u.os.insert(g,w)}}})(n.localStore,s))}async function $G(t,e){const r=Ht(t);if(!r.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const n=await DR(r.localStore,e);r.currentUser=e,(function(s,a){s.ka.forEach((o=>{o.forEach((l=>{l.reject(new Tt(ct.CANCELLED,a))}))})),s.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Pd(r,n.hs)}}function qG(t,e){const r=Ht(t),n=r.Na.get(e);if(n&&n.va)return Hr().add(n.key);{let i=Hr();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}async function HG(t,e){const r=Ht(t),n=await Ty(r.localStore,e.query,!0),i=e.view.ba(n);return r.isPrimaryClient&&A_(r,e.targetId,i.wa),i}async function WG(t,e){const r=Ht(t);return VR(r.localStore,e).then((n=>Pd(r,n)))}async function GG(t,e,r,n){const i=Ht(t),s=await(function(o,l){const c=Ht(o),u=Ht(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(p=>u.Mn(p,l).next((g=>g?c.localDocuments.getDocuments(p,g):Je.resolve(null)))))})(i.localStore,e);s!==null?(r==="pending"?await K1(i.remoteStore):r==="acknowledged"||r==="rejected"?(M6(i,e,n||null),O6(i,e),(function(o,l){Ht(Ht(o).mutationQueue).On(l)})(i.localStore,e)):er(),await Pd(i,s)):Nt("SyncEngine","Cannot apply mutation batch with id: "+e)}async function KG(t,e){const r=Ht(t);if(D5(r),V6(r),e===!0&&r.Qa!==!0){const n=r.sharedClientState.getAllActiveQueryTargets(),i=await WS(r,n.toArray());r.Qa=!0,await C_(r.remoteStore,!0);for(const s of i)j5(r.remoteStore,s)}else if(e===!1&&r.Qa!==!1){const n=[];let i=Promise.resolve();r.Ma.forEach(((s,a)=>{r.sharedClientState.isLocalQueryTarget(a)?n.push(a):i=i.then((()=>(N1(r,a),C1(r.localStore,a,!0)))),T1(r.remoteStore,a)})),await i,await WS(r,n),(function(a){const o=Ht(a);o.Na.forEach(((l,c)=>{T1(o.remoteStore,c)})),o.La.pr(),o.Na=new Map,o.Oa=new vi(Kt.comparator)})(r),r.Qa=!1,await C_(r.remoteStore,!1)}}async function WS(t,e,r){const n=Ht(t),i=[],s=[];for(const a of e){let o;const l=n.Ma.get(a);if(l&&l.length!==0){o=await E1(n.localStore,So(l[0]));for(const c of l){const u=n.Fa.get(c),p=await HG(n,u);p.snapshot&&s.push(p.snapshot)}}else{const c=await BR(n.localStore,a);o=await E1(n.localStore,c),await D6(n,nL(c),a,!1,o.resumeToken)}i.push(o)}return n.Ca.d_(s),i}function nL(t){return UP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function XG(t){return(function(r){return Ht(Ht(r).persistence).Qi()})(Ht(t).localStore)}async function YG(t,e,r,n){const i=Ht(t);if(i.Qa)return void Nt("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(r){case"current":case"not-current":{const a=await VR(i.localStore,HP(s[0])),o=F2.createSynthesizedRemoteEventForCurrentChange(e,r==="current",Ji.EMPTY_BYTE_STRING);await Pd(i,a,o);break}case"rejected":await C1(i.localStore,e,!0),N1(i,e,n);break;default:er()}}async function QG(t,e,r){const n=D5(t);if(n.Qa){for(const i of e){if(n.Ma.has(i)&&n.sharedClientState.isActiveQueryTarget(i)){Nt("SyncEngine","Adding an already active target "+i);continue}const s=await BR(n.localStore,i),a=await E1(n.localStore,s);await D6(n,nL(s),a.targetId,!1,a.resumeToken),j5(n.remoteStore,a)}for(const i of r)n.Ma.has(i)&&await C1(n.localStore,i,!1).then((()=>{T1(n.remoteStore,i),N1(n,i)})).catch(nh)}}function D5(t){const e=Ht(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MG.bind(null,e),e.Ca.d_=CG.bind(null,e.eventManager),e.Ca.$a=TG.bind(null,e.eventManager),e}function V6(t){const e=Ht(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VG.bind(null,e),e}function JG(t,e,r){const n=Ht(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(m,y){const w=Ht(m),_=Ns(y.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",(E=>w.Gr.getBundleMetadata(E,y.id))).then((E=>!!E&&E.createTime.compareTo(_)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(YR(l));const c=new NG(l,s.localStore,a.serializer);let u=await a.Ua();for(;u;){const g=await c.la(u);g&&o._updateProgress(g),u=await a.Ua()}const p=await c.complete();return await Pd(s,p.Ia,void 0),await(function(m,y){const w=Ht(m);return w.persistence.runTransaction("Save bundle","readwrite",(_=>w.Gr.saveBundleMetadata(_,y)))})(s.localStore,l),o._completeWith(p.progress),Promise.resolve(p.Pa)}catch(l){return Nl("SyncEngine",`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(n,e,r).then((i=>{n.sharedClientState.notifyBundleLoaded(i)}))}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=D2(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return jR(this.persistence,new FR,e.initialUser,this.serializer)}Ga(e){return new b6(F5.Zr,this.serializer)}Wa(e){return new zR}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class ZG extends qf{constructor(e){super(),this.cacheSizeBytes=e}ja(e,r){fr(this.persistence.referenceDelegate instanceof Cy);const n=this.persistence.referenceDelegate.garbageCollector;return new NR(n,e.asyncQueue,r)}Ga(e){const r=this.cacheSizeBytes!==void 0?go.withCacheSize(this.cacheSizeBytes):go.DEFAULT;return new b6((n=>Cy.Zr(n,r)),this.serializer)}}class U6 extends qf{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await V6(this.Ja.syncEngine),await K1(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return jR(this.persistence,new FR,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new NR(n,e.asyncQueue,r)}Ha(e,r){const n=new wH(r,this.persistence);return new yH(e.asyncQueue,n)}Ga(e){const r=S6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?go.withCacheSize(this.cacheSizeBytes):go.DEFAULT;return new k6(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,$R(),Gv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new zR}}class iL extends U6{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const r=this.Ja.syncEngine;this.sharedClientState instanceof Sw&&(this.sharedClientState.syncEngine={no:GG.bind(null,r),ro:YG.bind(null,r),io:QG.bind(null,r),Qi:XG.bind(null,r),eo:WG.bind(null,r)},await this.sharedClientState.start()),await this.persistence.yi((async n=>{await KG(this.Ja.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Wa(e){const r=$R();if(!Sw.D(r))throw new Tt(ct.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=S6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sw(r,e.asyncQueue,n,e.clientId,e.initialUser)}}class Hf{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>HS(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=$G.bind(null,this.syncEngine),await C_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new EG})()}createDatastore(e){const r=D2(e.databaseInfo.databaseId),n=(function(s){return new lG(s)})(e.databaseInfo);return(function(s,a,o,l){return new dG(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,a,o){return new hG(n,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(r=>HS(this.syncEngine,r,0)),(function(){return BS.D()?new BS:new sG})())}createSyncEngine(e,r){return(function(i,s,a,o,l,c,u){const p=new RG(i,s,a,o,l,c);return u&&(p.Qa=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=Ht(i);Nt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await G1(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Hf.provider={build:()=>new Hf};function GS(t,e=10240){let r=0;return{async read(){if(r<t.byteLength){const n={value:t.slice(r,r+e),done:!1};return r+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Ea,this.buffer=new Uint8Array,this.eu=(function(){return new TextDecoder("utf-8")})(),this.tu().then((n=>{n&&n.ua()?this.metadata.resolve(n.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n?.aa)}`))}),(n=>this.metadata.reject(n)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const r=this.eu.decode(e),n=Number(r);isNaN(n)&&this.ru(`length string (${r}) is not valid number`);const i=await this.iu(n);return new AG(JSON.parse(i),e.length+n)}su(){return this.buffer.findIndex((e=>e===123))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),r}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const r=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),r}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const r=new Uint8Array(this.buffer.length+e.value.length);r.set(this.buffer),r.set(e.value,this.buffer.length),this.buffer=r}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Tt(ct.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(i,s){const a=Ht(i),o={documents:s.map((p=>Xg(a.serializer,p)))},l=await a.Lo("BatchGetDocuments",a.serializer.databaseId,pn.emptyPath(),o,s.length),c=new Map;l.forEach((p=>{const g=vW(a.serializer,p);c.set(g.key.toString(),g)}));const u=[];return s.forEach((p=>{const g=c.get(p.toString());fr(!!g),u.push(g)})),u})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new W1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const i=Kt.fromPath(n);this.mutations.push(new f6(i,this.precondition(i)))})),await(async function(n,i){const s=Ht(n),a={writes:i.map((o=>Yg(s.serializer,o)))};await s.Mo("Commit",s.serializer.databaseId,pn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw er();r=vr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new Tt(ct.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(vr.min())?Oi.exists(!1):Oi.updateTime(r):Oi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(vr.min()))throw new Tt(ct.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oi.updateTime(r)}return Oi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e,r,n,i,s){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=s,this._u=n.maxAttempts,this.t_=new T6(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new tK(this.datastore),r=this.cu(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((i=>{this.lu(i)}))))})).catch((n=>{this.lu(n)}))}))}cu(e){try{const r=this.updateFunction(e);return!N2(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!sR(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=_a.UNAUTHENTICATED,this.clientId=i6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{Nt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Nt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Y1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Cw(t,e){t.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await DR(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function KS(t,e){t.asyncQueue.verifyOperationInProgress();const r=await z6(t);Nt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>VS(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>VS(e.remoteStore,i))),t._onlineComponents=e}async function z6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ct.FAILED_PRECONDITION||i.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Nl("Error using user provided cache. Falling back to memory cache: "+r),await Cw(t,new qf)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),await Cw(t,new qf);return t._offlineComponents}async function M5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),await KS(t,t._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),await KS(t,new Hf))),t._onlineComponents}function sL(t){return z6(t).then((e=>e.persistence))}function Q1(t){return z6(t).then((e=>e.localStore))}function aL(t){return M5(t).then((e=>e.remoteStore))}function $6(t){return M5(t).then((e=>e.syncEngine))}function oL(t){return M5(t).then((e=>e.datastore))}async function I1(t){const e=await M5(t),r=e.eventManager;return r.onListen=LG.bind(null,e.syncEngine),r.onUnlisten=jG.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=FG.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=DG.bind(null,e.syncEngine),r}function iK(t){return t.asyncQueue.enqueue((async()=>{const e=await sL(t),r=await aL(t);return e.setNetworkEnabled(!0),(function(i){const s=Ht(i);return s.L_.delete(0),O2(s)})(r)}))}function sK(t){return t.asyncQueue.enqueue((async()=>{const e=await sL(t),r=await aL(t);return e.setNetworkEnabled(!1),(async function(i){const s=Ht(i);s.L_.add(0),await G1(s),s.q_.set("Offline")})(r)}))}function aK(t,e){const r=new Ea;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,u){const p=Ht(c);return p.persistence.runTransaction("read document","readonly",(g=>p.localDocuments.getDocument(g,u)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new Tt(ct.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Y1(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await Q1(t),e,r))),r.promise}function lL(t,e,r={}){const n=new Ea;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new O5({next:g=>{u.Za(),a.enqueueAndForget((()=>L6(s,p)));const m=g.docs.has(o);!m&&g.fromCache?c.reject(new Tt(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?c.reject(new Tt(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new j6(q1(o.path),u,{includeMetadataChanges:!0,_a:!0});return R6(s,p)})(await I1(t),t.asyncQueue,e,r,n))),n.promise}function oK(t,e){const r=new Ea;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await Ty(i,s,!0),l=new ZR(s,o.Ts),c=l.ma(o.documents),u=l.applyChanges(c,!1);a.resolve(u.snapshot)}catch(o){const l=Y1(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await Q1(t),e,r))),r.promise}function cL(t,e,r={}){const n=new Ea;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const u=new O5({next:g=>{u.Za(),a.enqueueAndForget((()=>L6(s,p))),g.fromCache&&l.source==="server"?c.reject(new Tt(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new j6(o,u,{includeMetadataChanges:!0,_a:!0});return R6(s,p)})(await I1(t),t.asyncQueue,e,r,n))),n.promise}function lK(t,e,r){const n=new Ea;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await oL(t);n.resolve((async function(a,o,l){var c;const u=Ht(a),{request:p,ut:g,parent:m}=xR(u.serializer,zP(o),l);u.connection.Fo||delete p.parent;const y=(await u.Lo("RunAggregationQuery",u.serializer.databaseId,m,p,1)).filter((_=>!!_.result));fr(y.length===1);const w=(c=y[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(w).reduce(((_,E)=>(_[g[E]]=w[E],_)),{})})(i,e,r))}catch(i){n.reject(i)}})),n.promise}function cK(t,e){const r=new O5(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Ht(i).Y_.add(s),s.next()})(await I1(t),r))),()=>{r.Za(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Ht(i).Y_.delete(s)})(await I1(t),r)))}}function uK(t,e,r,n){const i=(function(a,o){let l;return l=typeof a=="string"?oR().encode(a):a,(function(u,p){return new eK(u,p)})((function(u,p){if(u instanceof Uint8Array)return GS(u,p);if(u instanceof ArrayBuffer)return GS(new Uint8Array(u),p);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(r,D2(e));t.asyncQueue.enqueueAndForget((async()=>{JG(await $6(t),i,n)}))}function dK(t,e){return t.asyncQueue.enqueue((async()=>(function(n,i){const s=Ht(n);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Gr.getNamedQuery(a,i)))})(await Q1(t),e)))}function fK(t,e){return t.asyncQueue.enqueue((async()=>(async function(n,i){const s=Ht(n),a=s.indexManager,o=[];return s.persistence.runTransaction("Configure indexes","readwrite",(l=>a.getFieldIndexes(l).next((c=>(function(p,g,m,y,w){p=[...p],g=[...g],p.sort(m),g.sort(m);const _=p.length,E=g.length;let L=0,I=0;for(;L<E&&I<_;){const V=m(p[I],g[L]);V<0?w(p[I++]):V>0?y(g[L++]):(L++,I++)}for(;L<E;)y(g[L++]);for(;I<_;)w(p[I++])})(c,i,mH,(u=>{o.push(a.addFieldIndex(l,u))}),(u=>{o.push(a.deleteFieldIndex(l,u))})))).next((()=>Je.waitFor(o)))))})(await Q1(t),e)))}function hK(t,e){return t.asyncQueue.enqueue((async()=>(function(n,i){Ht(n).ss.zi=i})(await Q1(t),e)))}function pK(t){return t.asyncQueue.enqueue((async()=>(function(r){const n=Ht(r),i=n.indexManager;return n.persistence.runTransaction("Delete All Indexes","readwrite",(s=>i.deleteAllFieldIndexes(s)))})(await Q1(t))))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e,r){if(!r)throw new Tt(ct.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dL(t,e,r,n){if(e===!0&&n===!0)throw new Tt(ct.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function YS(t){if(!Kt.isDocumentKey(t))throw new Tt(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function QS(t){if(Kt.isDocumentKey(t))throw new Tt(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function B5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":er()}function on(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Tt(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=B5(t);throw new Tt(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function fL(t,e){if(e<=0)throw new Tt(ct.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Tt(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Tt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uL((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Tt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Tt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Tt(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class M2{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JS({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Tt(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JS(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new mP;switch(n.type){case"firstParty":return new uH(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Tt(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=XS.get(r);n&&(Nt("ComponentProvider","Removing Datastore"),XS.delete(r),n.terminate())})(this),Promise.resolve()}}function hL(t,e,r,n={}){var i;const s=(t=on(t,M2))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=_a.MOCK_USER;else{o=eP(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new Tt(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _a(c)}t._authCredentials=new oH(new pP(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class us{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new us(this.firestore,e,this._key)}}class Oc extends Ca{constructor(e,r,n){super(e,r,q1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new us(this.firestore,null,new Kt(e))}withConverter(e){return new Oc(this.firestore,e,this._path)}}function lr(t,e,...r){if(t=un(t),q6("collection","path",e),t instanceof M2){const n=pn.fromString(e,...r);return QS(n),new Oc(t,null,n)}{if(!(t instanceof us||t instanceof Oc))throw new Tt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pn.fromString(e,...r));return QS(n),new Oc(t.firestore,null,n)}}function mK(t,e){if(t=on(t,M2),q6("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Tt(ct.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ca(t,null,(function(n){return new Ad(pn.emptyPath(),n)})(e))}function ir(t,e,...r){if(t=un(t),arguments.length===1&&(e=i6.newId()),q6("doc","path",e),t instanceof M2){const n=pn.fromString(e,...r);return YS(n),new us(t,null,new Kt(n))}{if(!(t instanceof us||t instanceof Oc))throw new Tt(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pn.fromString(e,...r));return YS(n),new us(t.firestore,t instanceof Oc?t.converter:null,new Kt(n))}}function gK(t,e){return t=un(t),e=un(e),(t instanceof us||t instanceof Oc)&&(e instanceof us||e instanceof Oc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function H6(t,e){return t=un(t),e=un(e),t instanceof Ca&&e instanceof Ca&&t.firestore===e.firestore&&P2(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new T6(this,"async_queue_retry"),this.Vu=()=>{const n=Gv();n&&Nt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Gv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Gv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new Ea;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ih(e))throw e;Nt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o})(n);throw Ts("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=P6.createAndSchedule(this,e,r,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&er()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function N_(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class pL{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ea,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,n){this._progressObserver={next:e,error:r,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=-1;class ai extends M2{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new ZS,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZS(e),this._firestoreClient=void 0,await e}}}function vK(t,e,r){r||(r="(default)");const n=M0(t,"firestore");if(n.isInitialized(r)){const i=n.getImmediate({identifier:r}),s=n.getOptions(r);if(Df(s,e))return i;throw new Tt(ct.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Tt(ct.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Tt(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e,instanceIdentifier:r})}function mL(t,e){const r=typeof t=="object"?t:S5(),n=typeof t=="string"?t:e||"(default)",i=M0(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=e6("firestore");s&&hL(i,...s)}return i}function Vi(t){if(t._terminated)throw new Tt(ct.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gL(t),t._firestoreClient}function gL(t){var e,r,n;const i=t._freezeSettings(),s=(function(o,l,c,u){return new zH(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,uL(u.experimentalLongPollingOptions),u.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new nK(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}function yK(t,e){Nl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return xL(t,Hf.provider,{build:n=>new U6(n,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function wK(t){Nl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();xL(t,Hf.provider,{build:r=>new iL(r,e.cacheSizeBytes)})}function xL(t,e,r){if((t=on(t,ai))._firestoreClient||t._terminated)throw new Tt(ct.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Tt(ct.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},gL(t)}function _K(t){if(t._initialized&&!t._terminated)throw new Tt(ct.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ea;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(n){if(!ku.D())return Promise.resolve();const i=n+"main";await ku.delete(i)})(S6(t._databaseId,t._persistenceKey)),e.resolve()}catch(r){e.reject(r)}})),e.promise}function bK(t){return(function(r){const n=new Ea;return r.asyncQueue.enqueueAndForget((async()=>UG(await $6(r),n))),n.promise})(Vi(t=on(t,ai)))}function kK(t){return iK(Vi(t=on(t,ai)))}function SK(t){return sK(Vi(t=on(t,ai)))}function EK(t){return Gq(t.app,"firestore",t._databaseId.database),t._delete()}function CK(t,e){const r=Vi(t=on(t,ai)),n=new pL;return uK(r,t._databaseId,e,n),n}function TK(t,e){return dK(Vi(t=on(t,ai)),e).then((r=>r?new Ca(t,null,r.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=e}}class vL{constructor(e,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wf(Ji.fromBase64String(e))}catch(r){throw new Tt(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wf(Ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Tt(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function AK(){return new oh("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Tt(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Tt(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Br(this._lat,e._lat)||Br(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NK=/^__.*__$/;class IK{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Id(e,this.data,this.fieldMask,r,this.fieldTransforms):new H1(e,this.data,r,this.fieldTransforms)}}class yL{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Id(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function wL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw er()}}class U5{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new U5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Py(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(wL(this.Cu)&&NK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class PK{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||D2(e)}Qu(e,r,n,i=!1){return new U5({Cu:e,methodName:r,qu:n,path:Si.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V0(t){const e=t._freezeSettings(),r=D2(t._databaseId);return new PK(t._databaseId,!!e.ignoreUndefinedProperties,r)}function z5(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);J6("Data must be an object, but it was:",a,n);const o=kL(n,a);let l,c;if(s.merge)l=new el(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const p of s.mergeFields){const g=Qg(e,p,r);if(!a.contains(g))throw new Tt(ct.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);EL(u,g)||u.push(g)}l=new el(u),c=a.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,c=a.fieldTransforms;return new IK(new $a(o),l,c)}class V2 extends lh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof V2}}function _L(t,e,r){return new U5({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class W6 extends lh{_toFieldTransform(e){return new L2(e.path,new b1)}isEqual(e){return e instanceof W6}}class G6 extends lh{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=_L(this,e,!0),n=this.Ku.map((s=>U0(s,r))),i=new g0(n);return new L2(e.path,i)}isEqual(e){return e instanceof G6&&Df(this.Ku,e.Ku)}}class K6 extends lh{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=_L(this,e,!0),n=this.Ku.map((s=>U0(s,r))),i=new x0(n);return new L2(e.path,i)}isEqual(e){return e instanceof K6&&Df(this.Ku,e.Ku)}}class X6 extends lh{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new k1(e.serializer,QP(e.serializer,this.$u));return new L2(e.path,r)}isEqual(e){return e instanceof X6&&this.$u===e.$u}}function Y6(t,e,r,n){const i=t.Qu(1,e,r);J6("Data must be an object, but it was:",i,n);const s=[],a=$a.empty();sh(n,((l,c)=>{const u=$5(e,l,r);c=un(c);const p=i.Nu(u);if(c instanceof V2)s.push(u);else{const g=U0(c,p);g!=null&&(s.push(u),a.set(u,g))}}));const o=new el(s);return new yL(a,o,i.fieldTransforms)}function Q6(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[Qg(e,n,r)],l=[i];if(s.length%2!=0)throw new Tt(ct.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(Qg(e,s[g])),l.push(s[g+1]);const c=[],u=$a.empty();for(let g=o.length-1;g>=0;--g)if(!EL(c,o[g])){const m=o[g];let y=l[g];y=un(y);const w=a.Nu(m);if(y instanceof V2)c.push(m);else{const _=U0(y,w);_!=null&&(c.push(m),u.set(m,_))}}const p=new el(c);return new yL(u,p,a.fieldTransforms)}function bL(t,e,r,n=!1){return U0(r,t.Qu(n?4:3,e))}function U0(t,e){if(SL(t=un(t)))return J6("Unsupported field value:",e,t),kL(t,e);if(t instanceof lh)return(function(n,i){if(!wL(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const o of n){let l=U0(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return QP(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Bi.fromDate(n);return{timestampValue:S1(i.serializer,s)}}if(n instanceof Bi){const s=new Bi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:S1(i.serializer,s)}}if(n instanceof V5)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wf)return{bytesValue:uR(i.serializer,n._byteString)};if(n instanceof us){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:x6(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof B2)return(function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return d6(o.serializer,l)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${B5(n)}`)})(t,e)}function kL(t,e){const r={};return NP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sh(t,((n,i)=>{const s=U0(i,e.Mu(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function SL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bi||t instanceof V5||t instanceof Wf||t instanceof us||t instanceof lh||t instanceof B2)}function J6(t,e,r){if(!SL(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=B5(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Qg(t,e,r){if((e=un(e))instanceof oh)return e._internalPath;if(typeof e=="string")return $5(t,e);throw Py("Field path arguments must be of type string or ",t,!1,void 0,r)}const RK=new RegExp("[~\\*/\\[\\]]");function $5(t,e,r){if(e.search(RK)>=0)throw Py(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new oh(...e.split("."))._internalPath}catch{throw Py(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Py(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Tt(ct.INVALID_ARGUMENT,o+t+l)}function EL(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new us(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(q5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class LK extends Jg{data(){return super.data()}}function q5(t,e){return typeof e=="string"?$5(t,e):e instanceof oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Tt(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z6{}class J1 extends Z6{}function Tr(t,e,...r){let n=[];e instanceof Z6&&n.push(e),n=n.concat(r),(function(s){const a=s.filter((l=>l instanceof z0)).length,o=s.filter((l=>l instanceof Z1)).length;if(a>1||a>0&&o>0)throw new Tt(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Z1 extends J1{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Z1(e,r,n)}_apply(e){const r=this._parse(e);return AL(e._query,r),new Ca(e.firestore,e.converter,x_(e._query,r))}_parse(e){const r=V0(e.firestore);return(function(s,a,o,l,c,u,p){let g;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Tt(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){tE(p,u);const m=[];for(const y of p)m.push(eE(l,s,y));g={arrayValue:{values:m}}}else g=eE(l,s,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||tE(p,u),g=bL(o,a,p,u==="in"||u==="not-in");return mn.create(c,u,g)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function zr(t,e,r){const n=e,i=q5("where",t);return Z1._create(i,n,r)}class z0 extends Z6{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new z0(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Yn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)AL(a,l),a=x_(a,l)})(e._query,r),new Ca(e.firestore,e.converter,x_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FK(...t){return t.forEach((e=>NL("or",e))),z0._create("or",t)}function jK(...t){return t.forEach((e=>NL("and",e))),z0._create("and",t)}class H5 extends J1{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new H5(e,r)}_apply(e){const r=(function(i,s,a){if(i.startAt!==null)throw new Tt(ct.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Tt(ct.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kg(s,a)})(e._query,this._field,this._direction);return new Ca(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Ad(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function aa(t,e="asc"){const r=e,n=q5("orderBy",t);return H5._create(n,r)}class U2 extends J1{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new U2(e,r,n)}_apply(e){return new Ca(e.firestore,e.converter,_y(e._query,this._limit,this._limitType))}}function $0(t){return fL("limit",t),U2._create("limit",t,"F")}function DK(t){return fL("limitToLast",t),U2._create("limitToLast",t,"L")}class z2 extends J1{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new z2(e,r,n)}_apply(e){const r=TL(e,this.type,this._docOrFields,this._inclusive);return new Ca(e.firestore,e.converter,(function(i,s){return new Ad(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,r))}}function OK(...t){return z2._create("startAt",t,!0)}function MK(...t){return z2._create("startAfter",t,!1)}class $2 extends J1{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new $2(e,r,n)}_apply(e){const r=TL(e,this.type,this._docOrFields,this._inclusive);return new Ca(e.firestore,e.converter,(function(i,s){return new Ad(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,r))}}function BK(...t){return $2._create("endBefore",t,!1)}function VK(...t){return $2._create("endAt",t,!0)}function TL(t,e,r,n){if(r[0]=un(r[0]),r[0]instanceof Jg)return(function(s,a,o,l,c){if(!l)throw new Tt(ct.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const u=[];for(const p of Jp(s))if(p.field.isKeyField())u.push(p0(a,l.key));else{const g=l.data.field(p.field);if(C5(g))throw new Tt(ct.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const m=p.field.canonicalString();throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}u.push(g)}return new zf(u,c)})(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=V0(t.firestore);return(function(a,o,l,c,u,p){const g=a.explicitOrderBy;if(u.length>g.length)throw new Tt(ct.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<u.length;y++){const w=u[y];if(g[y].field.isKeyField()){if(typeof w!="string")throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!c6(a)&&w.indexOf("/")!==-1)throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);const _=a.path.child(pn.fromString(w));if(!Kt.isDocumentKey(_))throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const E=new Kt(_);m.push(p0(o,E))}else{const _=bL(l,c,w);m.push(_)}}return new zf(m,p)})(t._query,t.firestore._databaseId,i,e,r,n)}}function eE(t,e,r){if(typeof(r=un(r))=="string"){if(r==="")throw new Tt(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!c6(e)&&r.indexOf("/")!==-1)throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(pn.fromString(r));if(!Kt.isDocumentKey(n))throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return p0(t,new Kt(n))}if(r instanceof us)return p0(t,r._key);throw new Tt(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${B5(r)}.`)}function tE(t,e){if(!Array.isArray(t)||t.length===0)throw new Tt(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AL(t,e){const r=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Tt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Tt(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function NL(t,e){if(!(e instanceof Z1||e instanceof z0))throw new Tt(ct.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class e8{convertValue(e,r="none"){switch(Vf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Di(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(_d(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw er()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return sh(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((a=>Di(a.doubleValue)));return new B2(s)}convertGeoPoint(e){return new V5(Di(e.latitude),Di(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=T5(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Hg(e));default:return null}}convertTimestamp(e){const r=wd(e);return new Bi(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=pn.fromString(e);fr(_R(n));const i=new Bf(n.get(1),n.get(3)),s=new Kt(n.popFirst(5));return i.isEqual(r)||Ts(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class UK extends e8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new us(this.firestore,null,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zK(t){return new P1("sum",Qg("sum",t))}function $K(t){return new P1("avg",Qg("average",t))}function IL(){return new P1("count")}function qK(t,e){var r,n;return t instanceof P1&&e instanceof P1&&t.aggregateType===e.aggregateType&&((r=t._internalFieldPath)===null||r===void 0?void 0:r.canonicalString())===((n=e._internalFieldPath)===null||n===void 0?void 0:n.canonicalString())}function HK(t,e){return H6(t.query,e.query)&&Df(t.data(),e.data())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _0 extends Jg{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(q5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class yg extends _0{data(e={}){return super.data(e)}}class b0{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Nf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new yg(this._firestore,this._userDataWriter,n.key,n,new Nf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Tt(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new yg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Nf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new yg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Nf(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:WK(o.type),doc:l,oldIndex:c,newIndex:u}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function WK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return er()}}function GK(t,e){return t instanceof _0&&e instanceof _0?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof b0&&e instanceof b0&&t._firestore===e._firestore&&H6(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t){t=on(t,us);const e=on(t.firestore,ai);return lL(Vi(e),t._key).then((r=>t8(e,t,r)))}class ch extends e8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new us(this.firestore,null,r)}}function KK(t){t=on(t,us);const e=on(t.firestore,ai),r=Vi(e),n=new ch(e);return aK(r,t._key).then((i=>new _0(e,n,t._key,i,new Nf(i!==null&&i.hasLocalMutations,!0),t.converter)))}function XK(t){t=on(t,us);const e=on(t.firestore,ai);return lL(Vi(e),t._key,{source:"server"}).then((r=>t8(e,t,r)))}function Ln(t){t=on(t,Ca);const e=on(t.firestore,ai),r=Vi(e),n=new ch(e);return CL(t._query),cL(r,t._query).then((i=>new b0(e,n,t,i)))}function YK(t){t=on(t,Ca);const e=on(t.firestore,ai),r=Vi(e),n=new ch(e);return oK(r,t._query).then((i=>new b0(e,n,t,i)))}function QK(t){t=on(t,Ca);const e=on(t.firestore,ai),r=Vi(e),n=new ch(e);return cL(r,t._query,{source:"server"}).then((i=>new b0(e,n,t,i)))}function Mc(t,e,r){t=on(t,us);const n=on(t.firestore,ai),i=W5(t.converter,e,r);return tm(n,[z5(V0(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Oi.none())])}function ks(t,e,r,...n){t=on(t,us);const i=on(t.firestore,ai),s=V0(i);let a;return a=typeof(e=un(e))=="string"||e instanceof oh?Q6(s,"updateDoc",t._key,e,r,n):Y6(s,"updateDoc",t._key,e),tm(i,[a.toMutation(t._key,Oi.exists(!0))])}function Fo(t){return tm(on(t.firestore,ai),[new W1(t._key,Oi.none())])}function em(t,e){const r=on(t.firestore,ai),n=ir(t),i=W5(t.converter,e);return tm(r,[z5(V0(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Oi.exists(!1))]).then((()=>n))}function Kn(t,...e){var r,n,i;t=un(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||N_(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(N_(e[a])){const p=e[a];e[a]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[a+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,c,u;if(t instanceof us)c=on(t.firestore,ai),u=q1(t._key.path),l={next:p=>{e[a]&&e[a](t8(c,t,p))},error:e[a+1],complete:e[a+2]};else{const p=on(t,Ca);c=on(p.firestore,ai),u=p._query;const g=new ch(c);l={next:m=>{e[a]&&e[a](new b0(c,g,p,m))},error:e[a+1],complete:e[a+2]},CL(t._query)}return(function(g,m,y,w){const _=new O5(w),E=new j6(m,_,y);return g.asyncQueue.enqueueAndForget((async()=>R6(await I1(g),E))),()=>{_.Za(),g.asyncQueue.enqueueAndForget((async()=>L6(await I1(g),E)))}})(Vi(c),u,o,l)}function JK(t,e){return cK(Vi(t=on(t,ai)),N_(e)?e:{next:e})}function tm(t,e){return(function(n,i){const s=new Ea;return n.asyncQueue.enqueueAndForget((async()=>OG(await $6(n),i,s))),s.promise})(Vi(t),e)}function t8(t,e,r){const n=r.docs.get(e._key),i=new ch(t);return new _0(t,i,e._key,n,new Nf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t){return PL(t,{count:IL()})}function PL(t,e){const r=on(t.firestore,ai),n=Vi(r),i=AP(e,((s,a)=>new iR(a,s.aggregateType,s._internalFieldPath)));return lK(n,t._query,i).then((s=>(function(o,l,c){const u=new ch(o);return new vL(l,u,c)})(r,t,s)))}class eX{constructor(e){this.kind="memory",this._onlineComponentProvider=Hf.provider,e?.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=qf.provider}toJSON(){return{kind:this.kind}}}class tX{constructor(e){let r;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),r=e.tabManager):(r=RL(void 0),r._initialize(e)),this._onlineComponentProvider=r._onlineComponentProvider,this._offlineComponentProvider=r._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class rX{constructor(){this.kind="memoryEager",this._offlineComponentProvider=qf.provider}toJSON(){return{kind:this.kind}}}class nX{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new ZG(e)}}toJSON(){return{kind:this.kind}}}function iX(){return new rX}function sX(t){return new nX(t?.cacheSizeBytes)}function aX(t){return new eX(t)}function oX(t){return new tX(t)}class lX{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Hf.provider,this._offlineComponentProvider={build:r=>new U6(r,e?.cacheSizeBytes,this.forceOwnership)}}}class cX{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Hf.provider,this._offlineComponentProvider={build:r=>new iL(r,e?.cacheSizeBytes)}}}function RL(t){return new lX(t?.forceOwnership)}function uX(){return new cX}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dX={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=V0(e)}set(e,r,n){this._verifyNotCommitted();const i=bf(e,this._firestore),s=W5(i.converter,r,n),a=z5(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Oi.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=bf(e,this._firestore);let a;return a=typeof(r=un(r))=="string"||r instanceof oh?Q6(this._dataReader,"WriteBatch.update",s._key,r,n,i):Y6(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(a.toMutation(s._key,Oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=bf(e,this._firestore);return this._mutations=this._mutations.concat(new W1(r._key,Oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bf(t,e){if((t=un(t)).firestore!==e)throw new Tt(ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=V0(r)}get(r){const n=bf(r,this._firestore),i=new UK(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return er();const a=s[0];if(a.isFoundDocument())return new Jg(this._firestore,i,a.key,a,n.converter);if(a.isNoDocument())return new Jg(this._firestore,i,n._key,null,n.converter);throw er()}))}set(r,n,i){const s=bf(r,this._firestore),a=W5(s.converter,n,i),o=z5(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,i);return this._transaction.set(s._key,o),this}update(r,n,i,...s){const a=bf(r,this._firestore);let o;return o=typeof(n=un(n))=="string"||n instanceof oh?Q6(this._dataReader,"Transaction.update",a._key,n,i,s):Y6(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,o),this}delete(r){const n=bf(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=bf(e,this._firestore),n=new ch(this._firestore);return super.get(e).then((i=>new _0(this._firestore,n,r._key,i._document,new Nf(!1,!1),r.converter)))}}function fX(t,e,r){t=on(t,ai);const n=Object.assign(Object.assign({},dX),r);return(function(s){if(s.maxAttempts<1)throw new Tt(ct.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(s,a,o){const l=new Ea;return s.asyncQueue.enqueueAndForget((async()=>{const c=await oL(s);new rK(s.asyncQueue,c,o,a,l).au()})),l.promise})(Vi(t),(i=>e(new FL(t,i))),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(){return new V2("deleteField")}function ia(){return new W6("serverTimestamp")}function pX(...t){return new G6("arrayUnion",t)}function mX(...t){return new K6("arrayRemove",t)}function Ry(t){return new X6("increment",t)}function gX(t){return new B2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t){return Vi(t=on(t,ai)),new LL(t,(e=>tm(t,e)))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t,e){const r=Vi(t=on(t,ai));if(!r._uninitializedComponentsProvider||r._uninitializedComponentsProvider._offline.kind==="memory")return Nl("Cannot enable indexes when persistence is disabled"),Promise.resolve();const n=(function(s){const a=typeof s=="string"?(function(c){try{return JSON.parse(c)}catch(u){throw new Tt(ct.INVALID_ARGUMENT,"Failed to parse JSON: "+u?.message)}})(s):s,o=[];if(Array.isArray(a.indexes))for(const l of a.indexes){const c=rE(l,"collectionGroup"),u=[];if(Array.isArray(l.fields))for(const p of l.fields){const g=$5("setIndexConfiguration",rE(p,"fieldPath"));p.arrayConfig==="CONTAINS"?u.push(new i0(g,2)):p.order==="ASCENDING"?u.push(new i0(g,0)):p.order==="DESCENDING"&&u.push(new i0(g,1))}o.push(new v1(v1.UNKNOWN_ID,c,u,y1.empty()))}return o})(e);return fK(r,n)}function rE(t,e){if(typeof t[e]!="string")throw new Tt(ct.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function vX(t){var e;t=on(t,ai);const r=nE.get(t);if(r)return r;if(((e=Vi(t)._uninitializedComponentsProvider)===null||e===void 0?void 0:e._offline.kind)!=="persistent")return null;const n=new jL(t);return nE.set(t,n),n}function yX(t){DL(t,!0)}function wX(t){DL(t,!1)}function _X(t){pK(Vi(t._firestore)).then((e=>Nt("deleting all persistent cache indexes succeeded"))).catch((e=>Nl("deleting all persistent cache indexes failed",e)))}function DL(t,e){hK(Vi(t._firestore),e).then((r=>Nt(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>Nl(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const nE=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){var e;const r=(e=Vi(on(t.firestore,ai))._onlineComponents)===null||e===void 0?void 0:e.datastore.serializer;return r===void 0?null:P5(r,So(t._query))._t}function kX(t,e){var r;const n=AP(e,((s,a)=>new iR(a,s.aggregateType,s._internalFieldPath))),i=(r=Vi(on(t.firestore,ai))._onlineComponents)===null||r===void 0?void 0:r.datastore.serializer;return i===void 0?null:xR(i,zP(t._query),n,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return n8.instance.onExistenceFilterMismatch(e)}}class n8{constructor(){this.Uu=new Map}static get instance(){return iv||(iv=new n8,(function(r){if(by)throw new Error("a TestingHooksSpi instance is already set");by=r})(iv)),iv}et(e){this.Uu.forEach((r=>r(e)))}onExistenceFilterMismatch(e){const r=Symbol(),n=this.Uu;return n.set(r,e),()=>n.delete(r)}}let iv=null;(function(e,r=!0){(function(i){$1=i})(B0),Of(new vd("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new ai(new lH(n.getProvider("auth-internal")),new dH(n.getProvider("app-check-internal")),(function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Tt(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bf(c.options.projectId,u)})(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),sc(W9,"4.7.3",e),sc(W9,"4.7.3","esm2017")})();const OL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:e8,AggregateField:P1,AggregateQuerySnapshot:vL,Bytes:Wf,CACHE_SIZE_UNLIMITED:xK,CollectionReference:Oc,DocumentReference:us,DocumentSnapshot:_0,FieldPath:oh,FieldValue:lh,Firestore:ai,FirestoreError:Tt,GeoPoint:V5,LoadBundleTask:pL,PersistentCacheIndexManager:jL,Query:Ca,QueryCompositeFilterConstraint:z0,QueryConstraint:J1,QueryDocumentSnapshot:yg,QueryEndAtConstraint:$2,QueryFieldFilterConstraint:Z1,QueryLimitConstraint:U2,QueryOrderByConstraint:H5,QuerySnapshot:b0,QueryStartAtConstraint:z2,SnapshotMetadata:Nf,Timestamp:Bi,Transaction:FL,VectorValue:B2,WriteBatch:LL,_AutoId:i6,_ByteString:Ji,_DatabaseId:Bf,_DocumentKey:Kt,_EmptyAppCheckTokenProvider:fH,_EmptyAuthCredentialsProvider:mP,_FieldPath:Si,_TestingHooks:SX,_cast:on,_debugAssert:aH,_internalAggregationQueryToProtoRunAggregationQueryRequest:kX,_internalQueryToProtoQueryTarget:bX,_isBase64Available:VH,_logWarn:Nl,_validateIsNotUsedTogether:dL,addDoc:em,aggregateFieldEqual:qK,aggregateQuerySnapshotEqual:HK,and:jK,arrayRemove:mX,arrayUnion:pX,average:$K,clearIndexedDbPersistence:_K,collection:lr,collectionGroup:mK,connectFirestoreEmulator:hL,count:IL,deleteAllPersistentCacheIndexes:_X,deleteDoc:Fo,deleteField:hX,disableNetwork:SK,disablePersistentCacheIndexAutoCreation:wX,doc:ir,documentId:AK,enableIndexedDbPersistence:yK,enableMultiTabIndexedDbPersistence:wK,enableNetwork:kK,enablePersistentCacheIndexAutoCreation:yX,endAt:VK,endBefore:BK,ensureFirestoreConfigured:Vi,executeWrite:tm,getAggregateFromServer:PL,getCountFromServer:ZK,getDoc:Ci,getDocFromCache:KK,getDocFromServer:XK,getDocs:Ln,getDocsFromCache:YK,getDocsFromServer:QK,getFirestore:mL,getPersistentCacheIndexManager:vX,increment:Ry,initializeFirestore:vK,limit:$0,limitToLast:DK,loadBundle:CK,memoryEagerGarbageCollector:iX,memoryLocalCache:aX,memoryLruGarbageCollector:sX,namedQuery:TK,onSnapshot:Kn,onSnapshotsInSync:JK,or:FK,orderBy:aa,persistentLocalCache:oX,persistentMultipleTabManager:uX,persistentSingleTabManager:RL,query:Tr,queryEqual:H6,refEqual:gK,runTransaction:fX,serverTimestamp:ia,setDoc:Mc,setIndexConfiguration:xX,setLogLevel:sH,snapshotEqual:GK,startAfter:MK,startAt:OK,sum:zK,terminate:EK,updateDoc:ks,vector:gX,waitForPendingWrites:bK,where:zr,writeBatch:r8},Symbol.toStringTag,{value:"Module"}));var EX="firebase",CX="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sc(EX,CX,"app");function i8(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function ML(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TX=ML,BL=new T2("auth","Firebase",ML());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new t6("@firebase/auth");function AX(t,...e){Ly.logLevel<=hn.WARN&&Ly.warn(`Auth (${B0}): ${t}`,...e)}function Kv(t,...e){Ly.logLevel<=hn.ERROR&&Ly.error(`Auth (${B0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t,...e){throw a8(t,...e)}function Bc(t,...e){return a8(t,...e)}function s8(t,e,r){const n=Object.assign(Object.assign({},TX()),{[e]:r});return new T2("auth","Firebase",n).create(e,{appName:t.name})}function hd(t){return s8(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NX(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&lc(t,"argument-error"),s8(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function a8(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return BL.create(t,...e)}function Dr(t,e,...r){if(!t)throw a8(e,...r)}function od(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kv(e),new Error(e)}function bd(t,e){t||od(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IX(){return iE()==="http:"||iE()==="https:"}function iE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IX()||V$()||"connection"in navigator)?navigator.onLine:!0}function RX(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,r){this.shortDelay=e,this.longDelay=r,bd(r>e,"Short delay should be less than long delay!"),this.isMobile=O$()||U$()}get(){return PX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e){bd(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;od("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;od("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;od("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FX=new q2(3e4,6e4);function Rd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ju(t,e,r,n,i={}){return UL(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=A2(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return B$()||(c.referrerPolicy="no-referrer"),VL.fetch()(zL(t,t.config.apiHost,r,o),c)})}async function UL(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},LX),e);try{const i=new DX(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw sv(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sv(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw sv(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw sv(t,"user-disabled",a);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw s8(t,u,c);lc(t,u)}}catch(i){if(i instanceof qc)throw i;lc(t,"network-request-failed",{message:String(i)})}}async function H2(t,e,r,n,i={}){const s=await ju(t,e,r,n,i);return"mfaPendingCredential"in s&&lc(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zL(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?o8(t.config,i):`${t.config.apiScheme}://${i}`}function jX(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DX{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Bc(this.auth,"network-request-failed")),FX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sv(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Bc(t,e,n);return i.customData._tokenResponse=r,i}function sE(t){return t!==void 0&&t.enterprise!==void 0}class OX{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return jX(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function MX(t,e){return ju(t,"GET","/v2/recaptchaConfig",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BX(t,e){return ju(t,"POST","/v1/accounts:delete",e)}async function $L(t,e){return ju(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VX(t,e=!1){const r=un(t),n=await r.getIdToken(e),i=l8(n);Dr(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:n,authTime:wg(Tw(i.auth_time)),issuedAtTime:wg(Tw(i.iat)),expirationTime:wg(Tw(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Tw(t){return Number(t)*1e3}function l8(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Kv("JWT malformed, contained fewer than 3 sections"),null;try{const i=YI(r);return i?JSON.parse(i):(Kv("Failed to decode base64 JWT payload"),null)}catch(i){return Kv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aE(t){const e=l8(t);return Dr(e,"internal-error"),Dr(typeof e.exp<"u","internal-error"),Dr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof qc&&UX(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function UX({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=wg(this.lastLoginAt),this.creationTime=wg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(t){var e;const r=t.auth,n=await t.getIdToken(),i=await R1(t,$L(r,{idToken:n}));Dr(i?.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qL(s.providerUserInfo):[],o=qX(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!o?.length,u=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new P_(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,p)}async function $X(t){const e=un(t);await Fy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qX(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function qL(t){return t.map(e=>{var{providerId:r}=e,n=i8(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HX(t,e){const r=await UL(t,{},async()=>{const n=A2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=zL(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",VL.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function WX(t,e){return ju(t,"POST","/v2/accounts:revokeToken",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Dr(e.idToken,"internal-error"),Dr(typeof e.idToken<"u","internal-error"),Dr(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Dr(e.length!==0,"internal-error");const r=aE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Dr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await HX(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new e1;return n&&(Dr(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Dr(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Dr(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e1,this.toJSON())}_performRefresh(){return od("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t,e){Dr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ld{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=i8(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await R1(this,this.stsTokenManager.getToken(this.auth,e));return Dr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return VX(this,e)}reload(){return $X(this)}_assign(e){this!==e&&(Dr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ld(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Dr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Fy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fc(this.auth.app))return Promise.reject(hd(this.auth));const e=await this.getIdToken();return await R1(this,BX(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,c,u;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,g=(i=r.email)!==null&&i!==void 0?i:void 0,m=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,y=(a=r.photoURL)!==null&&a!==void 0?a:void 0,w=(o=r.tenantId)!==null&&o!==void 0?o:void 0,_=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=r.createdAt)!==null&&c!==void 0?c:void 0,L=(u=r.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:I,emailVerified:V,isAnonymous:G,providerData:X,stsTokenManager:R}=r;Dr(I&&R,e,"internal-error");const A=e1.fromJSON(this.name,R);Dr(typeof I=="string",e,"internal-error"),pf(p,e.name),pf(g,e.name),Dr(typeof V=="boolean",e,"internal-error"),Dr(typeof G=="boolean",e,"internal-error"),pf(m,e.name),pf(y,e.name),pf(w,e.name),pf(_,e.name),pf(E,e.name),pf(L,e.name);const C=new ld({uid:I,auth:e,email:g,emailVerified:V,displayName:p,isAnonymous:G,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:A,createdAt:E,lastLoginAt:L});return X&&Array.isArray(X)&&(C.providerData=X.map(D=>Object.assign({},D))),_&&(C._redirectEventId=_),C}static async _fromIdTokenResponse(e,r,n=!1){const i=new e1;i.updateFromServerResponse(r);const s=new ld({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Fy(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Dr(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?qL(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new e1;o.updateFromIdToken(n);const l=new ld({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new P_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;function cd(t){bd(t instanceof Function,"Expected a class definition");let e=oE.get(t);return e?(bd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,oE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}HL.type="NONE";const lE=HL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e,r){return`firebase:${t}:${e}:${r}`}class t1{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Xv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xv("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ld._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new t1(cd(lE),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||cd(lE);const a=Xv(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const u=await c._get(a);if(u){const p=ld._fromJSON(e,u);c!==s&&(o=p),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t1(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new t1(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QL(e))return"Blackberry";if(JL(e))return"Webos";if(GL(e))return"Safari";if((e.includes("chrome/")||KL(e))&&!e.includes("edge/"))return"Chrome";if(YL(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function WL(t=sa()){return/firefox\//i.test(t)}function GL(t=sa()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KL(t=sa()){return/crios\//i.test(t)}function XL(t=sa()){return/iemobile/i.test(t)}function YL(t=sa()){return/android/i.test(t)}function QL(t=sa()){return/blackberry/i.test(t)}function JL(t=sa()){return/webos/i.test(t)}function c8(t=sa()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GX(t=sa()){var e;return c8(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KX(){return z$()&&document.documentMode===10}function ZL(t=sa()){return c8(t)||YL(t)||JL(t)||QL(t)||/windows phone/i.test(t)||XL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e=[]){let r;switch(t){case"Browser":r=cE(sa());break;case"Worker":r=`${cE(sa())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${B0}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YX(t,e={}){return ju(t,"GET","/v2/passwordPolicy",Rd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=6;class JX{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:QX,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new XX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=cd(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await t1.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await $L(this,{idToken:e}),n=await ld._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Fc(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Dr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Fy(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RX()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fc(this.app))return Promise.reject(hd(this));const r=e?un(e):null;return r&&Dr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Dr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fc(this.app)?Promise.reject(hd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fc(this.app)?Promise.reject(hd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cd(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YX(this),r=new JX(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new T2("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await WX(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&cd(e)||this._popupRedirectResolver;Dr(r,this,"argument-error"),this.redirectPersistenceManager=await t1.create(this,[cd(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Dr(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Dr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&AX(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Ld(t){return un(t)}class uE{constructor(e){this.auth=e,this.observer=null,this.addObserver=K$(r=>this.observer=r)}get next(){return Dr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eY(t){G5=t}function tF(t){return G5.loadJS(t)}function tY(){return G5.recaptchaEnterpriseScript}function rY(){return G5.gapiScript}function nY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const iY="recaptcha-enterprise",sY="NO_RECAPTCHA";class aY{constructor(e){this.type=iY,this.auth=Ld(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{MX(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new OX(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;sE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(sY)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&sE(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tY();l.length!==0&&(l+=o),tF(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function dE(t,e,r,n=!1){const i=new aY(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function jy(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await dE(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await dE(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t,e){const r=M0(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Df(s,e??{}))return i;lc(i,"already-initialized")}return r.initialize({options:e})}function lY(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(cd);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function cY(t,e,r){const n=Ld(t);Dr(n._canInitEmulator,n,"emulator-config-failed"),Dr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=rF(e),{host:a,port:o}=uY(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),dY()}function rF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uY(t){const e=rF(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:fE(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:fE(a)}}}function fE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dY(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return od("not implemented")}_getIdTokenResponse(e){return od("not implemented")}_linkToIdToken(e,r){return od("not implemented")}_getReauthenticationResolver(e){return od("not implemented")}}async function fY(t,e){return ju(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hY(t,e){return H2(t,"POST","/v1/accounts:signInWithPassword",Rd(t,e))}async function nF(t,e){return ju(t,"POST","/v1/accounts:sendOobCode",Rd(t,e))}async function pY(t,e){return nF(t,e)}async function mY(t,e){return nF(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gY(t,e){return H2(t,"POST","/v1/accounts:signInWithEmailLink",Rd(t,e))}async function xY(t,e){return H2(t,"POST","/v1/accounts:signInWithEmailLink",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends u8{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new Zg(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Zg(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jy(e,r,"signInWithPassword",hY);case"emailLink":return gY(e,{email:this._email,oobCode:this._password});default:lc(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jy(e,n,"signUpPassword",fY);case"emailLink":return xY(e,{idToken:r,email:this._email,oobCode:this._password});default:lc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t,e){return H2(t,"POST","/v1/accounts:signInWithIdp",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY="http://localhost";class k0 extends u8{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new k0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):lc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=i8(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new k0(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return r1(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,r1(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,r1(e,r)}buildRequest(){const e={requestUri:vY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=A2(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wY(t){const e=tg(rg(t)).link,r=e?tg(rg(e)).deep_link_id:null,n=tg(rg(t)).deep_link_id;return(n?tg(rg(n)).link:null)||n||r||e||t}class d8{constructor(e){var r,n,i,s,a,o;const l=tg(rg(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,u=(n=l.oobCode)!==null&&n!==void 0?n:null,p=yY((i=l.mode)!==null&&i!==void 0?i:null);Dr(c&&u&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=wY(e);try{return new d8(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.providerId=q0.PROVIDER_ID}static credential(e,r){return Zg._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=d8.parseLink(r);return Dr(n,"argument-error"),Zg._fromEmailAndCode(e,n.code,n.tenantId)}}q0.PROVIDER_ID="password";q0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";q0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2 extends f8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends W2{constructor(){super("facebook.com")}static credential(e){return k0._fromParams({providerId:kf.PROVIDER_ID,signInMethod:kf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kf.credentialFromTaggedObject(e)}static credentialFromError(e){return kf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kf.credential(e.oauthAccessToken)}catch{return null}}}kf.FACEBOOK_SIGN_IN_METHOD="facebook.com";kf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends W2{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return k0._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return gu.credentialFromTaggedObject(e)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return gu.credential(r,n)}catch{return null}}}gu.GOOGLE_SIGN_IN_METHOD="google.com";gu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends W2{constructor(){super("github.com")}static credential(e){return k0._fromParams({providerId:Sf.PROVIDER_ID,signInMethod:Sf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sf.credentialFromTaggedObject(e)}static credentialFromError(e){return Sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sf.credential(e.oauthAccessToken)}catch{return null}}}Sf.GITHUB_SIGN_IN_METHOD="github.com";Sf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends W2{constructor(){super("twitter.com")}static credential(e,r){return k0._fromParams({providerId:Ef.PROVIDER_ID,signInMethod:Ef.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ef.credentialFromTaggedObject(e)}static credentialFromError(e){return Ef.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ef.credential(r,n)}catch{return null}}}Ef.TWITTER_SIGN_IN_METHOD="twitter.com";Ef.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Y(t,e){return H2(t,"POST","/v1/accounts:signUp",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ld._fromIdTokenResponse(e,n,i),a=hE(n);return new S0({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=hE(n);return new S0({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function hE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends qc{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Dy.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Dy(e,r,n,i)}}function iF(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dy._fromErrorAndOperation(t,s,e,n):s})}async function bY(t,e,r=!1){const n=await R1(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return S0._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e,r=!1){const{auth:n}=t;if(Fc(n.app))return Promise.reject(hd(n));const i="reauthenticate";try{const s=await R1(t,iF(n,i,e,t),r);Dr(s.idToken,n,"internal-error");const a=l8(s.idToken);Dr(a,n,"internal-error");const{sub:o}=a;return Dr(t.uid===o,n,"user-mismatch"),S0._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&lc(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e,r=!1){if(Fc(t.app))return Promise.reject(hd(t));const n="signIn",i=await iF(t,n,e),s=await S0._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function kY(t,e){return aF(Ld(t),e)}async function SY(t,e){return sF(un(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t){const e=Ld(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EY(t,e,r){const n=Ld(t);await jy(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",mY)}async function lF(t,e,r){if(Fc(t.app))return Promise.reject(hd(t));const n=Ld(t),a=await jy(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_Y).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oF(t),l}),o=await S0._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function CY(t,e,r){return Fc(t.app)?Promise.reject(hd(t)):kY(un(t),q0.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&oF(t),n})}async function TY(t,e){const r=un(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await pY(r.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AY(t,e){return ju(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cF(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=un(t),s={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await R1(n,AY(n.auth,s));n.displayName=a.displayName||null,n.photoURL=a.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(a)}function NY(t,e,r,n){return un(t).onIdTokenChanged(e,r,n)}function IY(t,e,r){return un(t).beforeAuthStateChanged(e,r)}function PY(t,e,r,n){return un(t).onAuthStateChanged(e,r,n)}function RY(t){return un(t).signOut()}const Oy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Oy,"1"),this.storage.removeItem(Oy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LY=1e3,FY=10;class dF extends uF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);KX()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FY):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},LY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}dF.type="LOCAL";const jY=dF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF extends uF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}fF.type="SESSION";const hF=fF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new K5(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async c=>c(r.origin,s)),l=await DY(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}K5.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=h8("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(){return window}function MY(t){Eu().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(){return typeof Eu().WorkerGlobalScope<"u"&&typeof Eu().importScripts=="function"}async function BY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VY(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function UY(){return pF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF="firebaseLocalStorageDb",zY=1,My="firebaseLocalStorage",gF="fbase_key";class G2{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function X5(t,e){return t.transaction([My],e?"readwrite":"readonly").objectStore(My)}function $Y(){const t=indexedDB.deleteDatabase(mF);return new G2(t).toPromise()}function R_(){const t=indexedDB.open(mF,zY);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(My,{keyPath:gF})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(My)?e(n):(n.close(),await $Y(),e(await R_()))})})}async function pE(t,e,r){const n=X5(t,!0).put({[gF]:e,value:r});return new G2(n).toPromise()}async function qY(t,e){const r=X5(t,!1).get(e),n=await new G2(r).toPromise();return n===void 0?null:n.value}function mE(t,e){const r=X5(t,!0).delete(e);return new G2(r).toPromise()}const HY=800,WY=3;class xF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await R_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>WY)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=K5._getInstance(UY()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await BY(),!this.activeServiceWorker)return;this.sender=new OY(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await R_();return await pE(e,Oy,"1"),await mE(e,Oy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>pE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>qY(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>mE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=X5(i,!1).getAll();return new G2(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xF.type="LOCAL";const GY=xF;new q2(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e){return e?cd(e):(Dr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8 extends u8{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return r1(e,this._buildIdpRequest())}_linkToIdToken(e,r){return r1(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return r1(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function KY(t){return aF(t.auth,new p8(t),t.bypassAuthState)}function XY(t){const{auth:e,user:r}=t;return Dr(r,e,"internal-error"),sF(r,new p8(t),t.bypassAuthState)}async function YY(t){const{auth:e,user:r}=t;return Dr(r,e,"internal-error"),bY(r,new p8(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KY;case"linkViaPopup":case"linkViaRedirect":return YY;case"reauthViaPopup":case"reauthViaRedirect":return XY;default:lc(this.auth,"internal-error")}}resolve(e){bd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QY=new q2(2e3,1e4);async function gE(t,e,r){if(Fc(t.app))return Promise.reject(Bc(t,"operation-not-supported-in-this-environment"));const n=Ld(t);NX(t,e,f8);const i=vF(n,r);return new Xh(n,"signInViaPopup",e,i).executeNotNull()}class Xh extends yF{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Xh.currentPopupAction&&Xh.currentPopupAction.cancel(),Xh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Dr(e,this.auth,"internal-error"),e}async onExecution(){bd(this.filter.length===1,"Popup operations only handle one event");const e=h8();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Bc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QY.get())};e()}}Xh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JY="pendingRedirect",Yv=new Map;class ZY extends yF{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Yv.get(this.auth._key());if(!e){try{const n=await eQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Yv.set(this.auth._key(),e)}return this.bypassAuthState||Yv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eQ(t,e){const r=nQ(e),n=rQ(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function tQ(t,e){Yv.set(t._key(),e)}function rQ(t){return cd(t._redirectPersistence)}function nQ(t){return Xv(JY,t.config.apiKey,t.name)}async function iQ(t,e,r=!1){if(Fc(t.app))return Promise.reject(hd(t));const n=Ld(t),i=vF(n,e),a=await new ZY(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ=600*1e3;class aQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oQ(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!wF(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Bc(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wF({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function oQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lQ(t,e={}){return ju(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uQ=/^https?/;async function dQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lQ(t);for(const r of e)try{if(fQ(r))return}catch{}lc(t,"unauthorized-domain")}function fQ(t){const e=I_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!uQ.test(r))return!1;if(cQ.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQ=new q2(3e4,6e4);function vE(){const t=Eu().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function pQ(t){return new Promise((e,r)=>{var n,i,s;function a(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),r(Bc(t,"network-request-failed"))},timeout:hQ.get()})}if(!((i=(n=Eu().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Eu().gapi)===null||s===void 0)&&s.load)a();else{const o=nY("iframefcb");return Eu()[o]=()=>{gapi.load?a():r(Bc(t,"network-request-failed"))},tF(`${rY()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw Qv=null,e})}let Qv=null;function mQ(t){return Qv=Qv||pQ(t),Qv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=new q2(5e3,15e3),xQ="__/auth/iframe",vQ="emulator/auth/iframe",yQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _Q(t){const e=t.config;Dr(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?o8(e,vQ):`https://${t.config.authDomain}/${xQ}`,n={apiKey:e.apiKey,appName:t.name,v:B0},i=wQ.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${A2(n).slice(1)}`}async function bQ(t){const e=await mQ(t),r=Eu().gapi;return Dr(r,t,"internal-error"),e.open({where:document.body,url:_Q(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yQ,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Bc(t,"network-request-failed"),o=Eu().setTimeout(()=>{s(a)},gQ.get());function l(){Eu().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SQ=500,EQ=600,CQ="_blank",TQ="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AQ(t,e,r,n=SQ,i=EQ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},kQ),{width:n.toString(),height:i.toString(),top:s,left:a}),c=sa().toLowerCase();r&&(o=KL(c)?CQ:r),WL(c)&&(e=e||TQ,l.scrollbars="yes");const u=Object.entries(l).reduce((g,[m,y])=>`${g}${m}=${y},`,"");if(GX(c)&&o!=="_self")return NQ(e||"",o),new yE(null);const p=window.open(e||"",o,u);Dr(p,t,"popup-blocked");try{p.focus()}catch{}return new yE(p)}function NQ(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IQ="__/auth/handler",PQ="emulator/auth/handler",RQ=encodeURIComponent("fac");async function wE(t,e,r,n,i,s){Dr(t.config.authDomain,t,"auth-domain-config-required"),Dr(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:B0,eventId:i};if(e instanceof f8){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",G$(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,p]of Object.entries({}))a[u]=p}if(e instanceof W2){const u=e.getScopes().filter(p=>p!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${RQ}=${encodeURIComponent(l)}`:"";return`${LQ(t)}?${A2(o).slice(1)}${c}`}function LQ({config:t}){return t.emulator?o8(t,PQ):`https://${t.authDomain}/${IQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="webStorageSupport";class FQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hF,this._completeRedirectFn=iQ,this._overrideRedirectResult=tQ}async _openPopup(e,r,n,i){var s;bd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await wE(e,r,n,I_(),i);return AQ(e,a,h8())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await wE(e,r,n,I_(),i);return MY(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(bd(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await bQ(e),n=new aQ(e);return r.register("authEvent",i=>(Dr(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Aw,{type:Aw},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[Aw];a!==void 0&&r(!!a),lc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dQ(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ZL()||GL()||c8()}}const jQ=FQ;var _E="@firebase/auth",bE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Dr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MQ(t){Of(new vd("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Dr(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eF(t)},c=new ZX(n,i,s,l);return lY(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Of(new vd("auth-internal",e=>{const r=Ld(e.getProvider("auth").getImmediate());return(n=>new DQ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),sc(_E,bE,OQ(t)),sc(_E,bE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BQ=300,VQ=ZI("authIdTokenMaxAge")||BQ;let kE=null;const UQ=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>VQ)return;const i=r?.token;kE!==i&&(kE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _F(t=S5()){const e=M0(t,"auth");if(e.isInitialized())return e.getImmediate();const r=oY(t,{popupRedirectResolver:jQ,persistence:[GY,jY,hF]}),n=ZI("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=UQ(s.toString());IY(r,a,()=>a(r.currentUser)),NY(r,o=>a(o))}}const i=QI("auth");return i&&cY(r,`http://${i}`),r}function zQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eY({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Bc("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",zQ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MQ("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="firebasestorage.googleapis.com",kF="storageBucket",$Q=120*1e3,qQ=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends qc{constructor(e,r,n=0){super(Nw(e),`Firebase Storage: ${r} (${Nw(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Nw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fs||(fs={}));function Nw(t){return"storage/"+t}function m8(){const t="An unknown error occurred, please check the error payload for server response.";return new ps(fs.UNKNOWN,t)}function HQ(t){return new ps(fs.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function WQ(t){return new ps(fs.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function GQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ps(fs.UNAUTHENTICATED,t)}function KQ(){return new ps(fs.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function XQ(t){return new ps(fs.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function YQ(){return new ps(fs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QQ(){return new ps(fs.CANCELED,"User canceled the upload/download.")}function JQ(t){return new ps(fs.INVALID_URL,"Invalid URL '"+t+"'.")}function ZQ(t){return new ps(fs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eJ(){return new ps(fs.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kF+"' property when initializing the app?")}function tJ(){return new ps(fs.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rJ(){return new ps(fs.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nJ(t){return new ps(fs.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function L_(t){return new ps(fs.INVALID_ARGUMENT,t)}function SF(){return new ps(fs.APP_DELETED,"The Firebase app was deleted.")}function iJ(t){return new ps(fs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _g(t,e){return new ps(fs.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Km(t){throw new ps(fs.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Cl.makeFromUrl(e,r)}catch{return new Cl(e,"")}if(n.path==="")return n;throw ZQ(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(V){V.path_=decodeURIComponent(V.path)}const u="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${u}/b/${i}/o${g}`,"i"),y={bucket:1,path:3},w=r===bF?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",E=new RegExp(`^https?://${w}/${i}/${_}`,"i"),I=[{regex:o,indices:l,postModify:s},{regex:m,indices:y,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let V=0;V<I.length;V++){const G=I[V],X=G.regex.exec(e);if(X){const R=X[G.indices.bucket];let A=X[G.indices.path];A||(A=""),n=new Cl(R,A),G.postModify(n);break}}if(n==null)throw JQ(e);return n}}class sJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(..._){c||(c=!0,e.apply(null,_))}function p(_){i=setTimeout(()=>{i=null,t(m,l())},_)}function g(){s&&clearTimeout(s)}function m(_,...E){if(c){g();return}if(_){g(),u.call(null,_,...E);return}if(l()||a){g(),u.call(null,_,...E);return}n<64&&(n*=2);let I;o===1?(o=2,I=0):I=(n+Math.random())*1e3,p(I)}let y=!1;function w(_){y||(y=!0,g(),!c&&(i!==null?(_||(o=2),clearTimeout(i),p(0)):_||(o=1)))}return p(0),s=setTimeout(()=>{a=!0,w(!0)},r),w}function oJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lJ(t){return t!==void 0}function cJ(t){return typeof t=="object"&&!Array.isArray(t)}function g8(t){return typeof t=="string"||t instanceof String}function SE(t){return x8()&&t instanceof Blob}function x8(){return typeof Blob<"u"}function EE(t,e,r,n){if(n<e)throw L_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw L_(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function EF(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var s0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(s0||(s0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uJ(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dJ{constructor(e,r,n,i,s,a,o,l,c,u,p,g=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new av(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===s0.NO_ERROR,l=s.getStatus();if(!o||uJ(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===s0.ABORT;n(!1,new av(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new av(c,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());lJ(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=m8();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?SF():QQ();a(l)}else{const l=YQ();a(l)}};this.canceled_?r(!1,new av(!1,null,!0)):this.backoffId_=aJ(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class av{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function fJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gJ(t,e,r,n,i,s,a=!0){const o=EF(t.urlParams),l=t.url+o,c=Object.assign({},t.headers);return pJ(c,e),fJ(c,r),hJ(c,s),mJ(c,n),new dJ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vJ(...t){const e=xJ();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(x8())return new Blob(t);throw new ps(fs.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function yJ(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wJ(t){if(typeof atob>"u")throw nJ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Iw{constructor(e,r){this.data=e,this.contentType=r||null}}function _J(t,e){switch(t){case yu.RAW:return new Iw(CF(e));case yu.BASE64:case yu.BASE64URL:return new Iw(TF(t,e));case yu.DATA_URL:return new Iw(kJ(e),SJ(e))}throw m8()}function CF(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,a=t.charCodeAt(++r);n=65536|(s&1023)<<10|a&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function bJ(t){let e;try{e=decodeURIComponent(t)}catch{throw _g(yu.DATA_URL,"Malformed data URL.")}return CF(e)}function TF(t,e){switch(t){case yu.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw _g(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yu.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw _g(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=wJ(e)}catch(i){throw i.message.includes("polyfill")?i:_g(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class AF{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw _g(yu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=EJ(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function kJ(t){const e=new AF(t);return e.base64?TF(yu.BASE64,e.rest):bJ(e.rest)}function SJ(t){return new AF(t).contentType}function EJ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,r){let n=0,i="";SE(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(SE(this.data_)){const n=this.data_,i=yJ(n,e,r);return i===null?null:new Cf(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Cf(n,!0)}}static getBlob(...e){if(x8()){const r=e.map(n=>n instanceof Cf?n.data_:n);return new Cf(vJ.apply(null,r))}else{const r=e.map(a=>g8(a)?_J(yu.RAW,a).data:a.data_);let n=0;r.forEach(a=>{n+=a.byteLength});const i=new Uint8Array(n);let s=0;return r.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new Cf(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){let e;try{e=JSON.parse(t)}catch{return null}return cJ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function TJ(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function IF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AJ(t,e){return e}class Lo{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||AJ}}let ov=null;function NJ(t){return!g8(t)||t.length<2?t:IF(t)}function PF(){if(ov)return ov;const t=[];t.push(new Lo("bucket")),t.push(new Lo("generation")),t.push(new Lo("metageneration")),t.push(new Lo("name","fullPath",!0));function e(s,a){return NJ(a)}const r=new Lo("name");r.xform=e,t.push(r);function n(s,a){return a!==void 0?Number(a):a}const i=new Lo("size");return i.xform=n,t.push(i),t.push(new Lo("timeCreated")),t.push(new Lo("updated")),t.push(new Lo("md5Hash",null,!0)),t.push(new Lo("cacheControl",null,!0)),t.push(new Lo("contentDisposition",null,!0)),t.push(new Lo("contentEncoding",null,!0)),t.push(new Lo("contentLanguage",null,!0)),t.push(new Lo("contentType",null,!0)),t.push(new Lo("metadata","customMetadata",!0)),ov=t,ov}function IJ(t,e){function r(){const n=t.bucket,i=t.fullPath,s=new Cl(n,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function PJ(t,e,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const a=r[s];n[a.local]=a.xform(n,e[a.server])}return IJ(n,t),n}function RF(t,e,r){const n=NF(e);return n===null?null:PJ(t,n,r)}function RJ(t,e,r,n){const i=NF(e);if(i===null||!g8(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const u=t.bucket,p=t.fullPath,g="/b/"+a(u)+"/o/"+a(p),m=v8(g,r,n),y=EF({alt:"media",token:c});return m+y})[0]}function LJ(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class LF{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){if(!t)throw m8()}function FJ(t,e){function r(n,i){const s=RF(t,i,e);return FF(s!==null),s}return r}function jJ(t,e){function r(n,i){const s=RF(t,i,e);return FF(s!==null),RJ(s,i,t.host,t._protocol)}return r}function jF(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=KQ():i=GQ():r.getStatus()===402?i=WQ(t.bucket):r.getStatus()===403?i=XQ(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function DJ(t){const e=jF(t);function r(n,i){let s=e(n,i);return n.getStatus()===404&&(s=HQ(t.path)),s.serverResponse=i.serverResponse,s}return r}function OJ(t,e,r){const n=e.fullServerUrl(),i=v8(n,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new LF(i,s,jJ(t,r),a);return o.errorHandler=DJ(e),o}function MJ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function BJ(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=MJ(null,e)),n}function VJ(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let I="";for(let V=0;V<2;V++)I=I+Math.random().toString().slice(2);return I}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=BJ(e,n,i),u=LJ(c,r),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+l+"--",m=Cf.getBlob(p,n,g);if(m===null)throw tJ();const y={name:c.fullPath},w=v8(s,t.host,t._protocol),_="POST",E=t.maxUploadRetryTime,L=new LF(w,_,FJ(t,r),E);return L.urlParams=y,L.headers=a,L.body=m.uploadData(),L.errorHandler=jF(e),L}class UJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=s0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=s0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=s0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Km("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Km("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Km("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Km("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Km("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zJ extends UJ{initXhr(){this.xhr_.responseType="text"}}function DF(){return new zJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,r){this._service=e,r instanceof Cl?this._location=r:this._location=Cl.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new E0(e,r)}get root(){const e=new Cl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IF(this._location.path)}get storage(){return this._service}get parent(){const e=CJ(this._location.path);if(e===null)return null;const r=new Cl(this._location.bucket,e);return new E0(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw iJ(e)}}function $J(t,e,r){t._throwIfRoot("uploadBytes");const n=VJ(t.storage,t._location,PF(),new Cf(e,!0),r);return t.storage.makeRequestWithTokens(n,DF).then(i=>({metadata:i,ref:t}))}function qJ(t){t._throwIfRoot("getDownloadURL");const e=OJ(t.storage,t._location,PF());return t.storage.makeRequestWithTokens(e,DF).then(r=>{if(r===null)throw rJ();return r})}function HJ(t,e){const r=TJ(t._location.path,e),n=new Cl(t._location.bucket,r);return new E0(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WJ(t){return/^[A-Za-z]+:\/\//.test(t)}function GJ(t,e){return new E0(t,e)}function OF(t,e){if(t instanceof y8){const r=t;if(r._bucket==null)throw eJ();const n=new E0(r,r._bucket);return e!=null?OF(n,e):n}else return e!==void 0?HJ(t,e):t}function KJ(t,e){if(e&&WJ(e)){if(t instanceof y8)return GJ(t,e);throw L_("To use ref(service, url), the first argument must be a Storage instance.")}else return OF(t,e)}function CE(t,e){const r=e?.[kF];return r==null?null:Cl.makeFromBucketSpec(r,t)}function XJ(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:eP(i,t.app.options.projectId))}class y8{constructor(e,r,n,i,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=bF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$Q,this._maxUploadRetryTime=qQ,this._requests=new Set,i!=null?this._bucket=Cl.makeFromBucketSpec(i,this._host):this._bucket=CE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cl.makeFromBucketSpec(this._url,e):this._bucket=CE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new E0(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new sJ(SF());{const a=gJ(e,this._appId,n,i,r,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const TE="@firebase/storage",AE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF="storage";function YJ(t,e,r){return t=un(t),$J(t,e,r)}function QJ(t){return t=un(t),qJ(t)}function JJ(t,e){return t=un(t),KJ(t,e)}function ZJ(t=S5(),e){t=un(t);const n=M0(t,MF).getImmediate({identifier:e}),i=e6("storage");return i&&eZ(n,...i),n}function eZ(t,e,r,n={}){XJ(t,e,r,n)}function tZ(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new y8(r,n,i,e,B0)}function rZ(){Of(new vd(MF,tZ,"PUBLIC").setMultipleInstances(!0)),sc(TE,AE,""),sc(TE,AE,"esm2017")}rZ();const nZ={apiKey:"AIzaSyB1GNt6gatBiZyVDj9wZP4TSnefXsohCho",authDomain:"healthapp-f4173.firebaseapp.com",projectId:"healthapp-f4173",storageBucket:"healthapp-f4173.firebasestorage.app",messagingSenderId:"169032569236",appId:"1:169032569236:web:38585fcf19c35ba1737f81"},w8=sP(nZ),yf=_F(w8),pt=mL(w8),iZ=ZJ(w8);function F_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function BF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$F(n.key),n)}}function VF(t,e,r){return e&&NE(t.prototype,e),r&&NE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UF(t,e,r){return(e=$F(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.push.apply(r,n)}return r}function cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IE(Object(r),!0).forEach((function(n){UF(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function j_(t,e){if(t==null)return{};var r,n,i=(function(a,o){if(a==null)return{};var l={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(o.indexOf(c)!==-1)continue;l[c]=a[c]}return l})(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function sZ(t,e){return(function(r){if(Array.isArray(r))return r})(t)||(function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var s,a,o,l,c=[],u=!0,p=!1;try{if(o=(i=i.call(r)).next,n!==0)for(;!(u=(s=o.call(i)).done)&&(c.push(s.value),c.length!==n);u=!0);}catch(g){p=!0,a=g}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(p)throw a}}return c}})(t,e)||qF(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function zF(t){return(function(e){if(Array.isArray(e))return F_(e)})(t)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||qF(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function $F(t){var e=(function(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)})(t,"string");return typeof e=="symbol"?e:e+""}function C0(t){return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}function qF(t,e){if(t){if(typeof t=="string")return F_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F_(t,e):void 0}}var _8={cookieTestUrl:"https://legacy-staging.paystack.co/test-iframe/start.html",publishableKey:"uFmz/uE/SDT6GupOrSEXIZXGByjQ0zFkPyc9LqKHFqnTI0WPN3JS5kQPo/j9or0TOXlqMQj2lzHn/UGsQT4XeQ==",publicKey:`-----BEGIN PUBLIC KEY-----\r
MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALhZs/7hP0g0+hrqTq0hFyGVxgco0NMx\r
ZD8nPS6ihxap0yNFjzdyUuZED6P4/aK9Ezl5ajEI9pcx5/1BrEE+F3kCAwEAAQ==\r
-----END PUBLIC KEY-----`,applePayVersion:6,applePayValidateSessionPath:"applepay/validate-session/",applePayChargePath:"applepay/charge"};cs(cs({},_8),{},{checkoutUrl:"http://localhost:8081/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"http://localhost:8081/static/vendor/pusher.min.js"});var aZ=cs(cs({},_8),{},{checkoutUrl:"https://checkout-studio.paystack.com/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://beta.paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"https://checkout-studio.paystack.com/static/vendor/pusher.min.js"}),Jo={production:cs(cs({},_8),{},{checkoutUrl:"https://checkout.paystack.com/",paymentBaseUrl:"https://standard.paystack.co/",paystackApiUrl:"https://api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"8e4b9b7ca3418bd5cdc8",pusherUrl:"https://checkout.paystack.com/static/vendor/pusher.min.js"})}.production||aZ;function HF(t,e){var r=[];return Object.keys(t).forEach((function(n){var i=e?"".concat(e,"[").concat(n,"]"):n,s=t[i];r.push(s!==null&&(typeof v>"u"?"undefined":C0(v))==="object"?HF(s,i):"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(s)))})),r.join("&")}function Bp(){return document.currentScript||(t=document.getElementsByTagName("script"))[t.length-1];var t}function PE(){var t=[],e=Bp();if(e){var r=Array.prototype.slice.call(e.attributes);t=Object.keys(r).filter((function(n){var i=r[n].nodeName;return i&&i.indexOf("data")>-1})).map((function(n){return r[n].nodeName}))}return t}var WF=`
  <svg id="inline-button-wordmark--white" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#ffffff"/>
  </svg>
`,oZ=`
<svg id="inline-button-wordmark--grey" width="166" height="16" viewBox="0 0 166 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path
  d="M0.564068 6.26985L1.86515 6.10375C1.85184 5.15143 1.83489 3.71187 1.84942 3.45964C1.95955 1.67927 3.39982 0.16589 5.13056 0.0170127C5.23949 0.00839996 5.34842 0.0034784 5.45371 0.00101762C6.36645 -0.0209585 7.25272 0.313716 7.93 0.936113C8.62472 1.56238 9.07979 2.4864 9.14999 3.4055C9.16815 3.64174 9.1621 5.24002 9.1621 6.18249L10.4886 6.38305L10.4438 14.0767L5.47308 14.7657L0.519287 13.961L0.564068 6.26985ZM5.53359 5.63743L7.62016 5.95241C7.61169 4.80446 7.55965 3.12867 7.30548 2.68696C6.91939 2.0164 6.28156 1.62021 5.55901 1.60421H5.48276C4.7481 1.61406 4.10543 2.0004 3.71813 2.66727C3.44944 3.13236 3.39619 4.70972 3.3974 5.91181L5.53359 5.63743ZM22.5808 12.4378C21.8836 12.4378 21.293 12.3492 20.8089 12.172C20.372 12.0088 19.9719 11.7577 19.6325 11.4338C19.3256 11.1331 19.0833 10.7712 18.9208 10.3707C18.7637 9.95815 18.6612 9.52621 18.6158 9.08621H19.8358C19.8745 9.40119 19.9423 9.70141 20.0391 9.98686C20.136 10.2625 20.286 10.5085 20.4894 10.7251C20.6927 10.9318 20.959 11.0991 21.2882 11.2271C21.6271 11.3452 22.0579 11.4043 22.5808 11.4043C22.9197 11.4043 23.2295 11.36 23.5103 11.2714C23.8008 11.173 24.0525 11.0351 24.2655 10.858C24.4785 10.6808 24.6431 10.4692 24.7593 10.2231C24.8852 9.97701 24.9481 9.70633 24.9481 9.41103C24.9481 9.11574 24.9094 8.85982 24.8319 8.64327C24.7536 8.41559 24.6125 8.21568 24.4253 8.06745C24.196 7.88594 23.9347 7.75064 23.6555 7.6688C23.257 7.54201 22.849 7.4482 22.4355 7.38828C21.9393 7.31041 21.4491 7.19693 20.9686 7.04869C20.5808 6.92967 20.2133 6.75038 19.8794 6.51716C19.5939 6.29685 19.3607 6.01432 19.1968 5.69034C19.0418 5.35567 18.9644 4.9521 18.9644 4.47963C18.9644 4.07607 19.0467 3.70203 19.2113 3.35752C19.3759 3.00317 19.6034 2.69803 19.8939 2.44211C20.194 2.18619 20.5475 1.98441 20.9541 1.83676C21.3608 1.68911 21.811 1.61529 22.3048 1.61529C23.3505 1.61529 24.1784 1.86629 24.7884 2.36829C25.4081 2.86044 25.7711 3.57899 25.8777 4.52393H24.7448C24.6189 3.8546 24.3624 3.37721 23.9751 3.09176C23.5878 2.79646 23.031 2.64882 22.3048 2.64882C21.5883 2.64882 21.0461 2.81123 20.6782 3.13605C20.5037 3.28606 20.3648 3.47417 20.2717 3.68635C20.1787 3.89853 20.1339 4.12931 20.1408 4.36152C20.1408 4.61744 20.1698 4.84875 20.2279 5.05546C20.2957 5.25232 20.4167 5.42457 20.591 5.57222C20.775 5.71987 21.0267 5.85275 21.3463 5.97087C21.7689 6.09987 22.2012 6.19369 22.6389 6.25139C23.2198 6.33998 23.7281 6.4581 24.1639 6.60575C24.5996 6.75339 24.9675 6.94533 25.2677 7.18157C25.5678 7.4178 25.7905 7.70818 25.9358 8.05268C26.0907 8.39719 26.1681 8.82045 26.1681 9.32245C26.1681 9.76539 26.0761 10.1788 25.8922 10.5627C25.7149 10.9408 25.4627 11.2775 25.1515 11.5519C24.8319 11.8275 24.4495 12.0441 24.0041 12.2016C23.5684 12.359 23.094 12.4378 22.5808 12.4378ZM31.2066 12.4378C30.6741 12.4378 30.1803 12.3443 29.7252 12.1573C29.2906 11.9775 28.8956 11.7115 28.5633 11.3747C28.2268 11.0185 27.965 10.5966 27.7936 10.1345C27.6136 9.61796 27.5251 9.07309 27.5321 8.52515V8.40704C27.5321 7.82629 27.6193 7.29476 27.7936 6.81245C27.9679 6.3203 28.2099 5.90196 28.5198 5.55746C28.8393 5.2031 29.2169 4.93242 29.6526 4.7454C30.0883 4.54854 30.5676 4.45011 31.0905 4.45011C31.5262 4.45011 31.9473 4.52393 32.354 4.67158C32.7704 4.80938 33.1383 5.03085 33.4578 5.33599C33.7773 5.64112 34.0291 6.03977 34.213 6.53192C34.4067 7.01424 34.5035 7.5999 34.5035 8.28892V8.68756H28.7812C28.8102 9.57345 29.0281 10.2526 29.4348 10.7251C29.8414 11.1877 30.4369 11.419 31.2212 11.419C32.4121 11.419 33.085 10.9712 33.24 10.0754H34.4454C34.3099 10.8531 33.9516 11.4436 33.3707 11.8472C32.7897 12.2409 32.0684 12.4378 31.2066 12.4378ZM33.269 7.69833C33.2109 6.90104 32.9882 6.33014 32.6009 5.98563C32.2233 5.64112 31.7198 5.46887 31.0905 5.46887C30.4708 5.46887 29.9624 5.67065 29.5655 6.07422C29.1782 6.46794 28.9313 7.00932 28.8248 7.69833H33.269ZM39.3593 12.4378C38.8267 12.4378 38.3329 12.3492 37.8779 12.172C37.4401 11.9901 37.0407 11.7245 36.7014 11.3895C36.3636 11.0315 36.0973 10.6103 35.9172 10.1493C35.7268 9.63002 35.6332 9.07925 35.6412 8.52515V8.40704C35.6412 7.81645 35.738 7.28 35.9317 6.79769C36.1253 6.30553 36.3868 5.8872 36.716 5.54269C37.0548 5.19818 37.447 4.93242 37.8924 4.7454C38.3475 4.54854 38.8267 4.45011 39.3302 4.45011C39.7272 4.45011 40.1097 4.49932 40.4776 4.59775C40.8552 4.69618 41.1893 4.85367 41.4797 5.07022C41.7799 5.27693 42.0316 5.55253 42.235 5.89704C42.4383 6.24155 42.569 6.65988 42.6271 7.15204H41.4362C41.3393 6.54177 41.0924 6.10867 40.6955 5.85275C40.3082 5.59683 39.8531 5.46887 39.3302 5.46887C38.995 5.46599 38.6632 5.53649 38.3571 5.67557C38.0667 5.81338 37.8101 6.01024 37.5874 6.26616C37.3615 6.53514 37.1889 6.84598 37.0791 7.18157C36.9484 7.57626 36.8845 7.99063 36.8902 8.40704V8.52515C36.8902 9.47994 37.1178 10.2034 37.5729 10.6956C38.0376 11.1779 38.6379 11.419 39.3738 11.419C39.6449 11.419 39.9015 11.3797 40.1436 11.3009C40.6361 11.1497 41.0523 10.8113 41.3055 10.356C41.441 10.1197 41.5233 9.84413 41.5524 9.52915H42.6707C42.6338 9.9361 42.5204 10.3321 42.3366 10.6956C42.1663 11.0447 41.9293 11.3559 41.6395 11.611C41.349 11.8669 41.0101 12.0687 40.6228 12.2163C40.2355 12.364 39.8144 12.4378 39.3593 12.4378ZM46.9164 12.4378C46.5568 12.4406 46.199 12.3858 45.8562 12.2754C45.5441 12.1717 45.2605 11.9947 45.0284 11.7586C44.7829 11.4908 44.595 11.1741 44.4765 10.8284C44.3409 10.4544 44.2731 10.0016 44.2731 9.47009V4.58299H45.4786V9.41103C45.4786 10.0902 45.619 10.5873 45.8998 10.9023C46.1903 11.2172 46.6356 11.3747 47.236 11.3747C47.5071 11.3747 47.7685 11.3304 48.0202 11.2419C48.272 11.1533 48.4947 11.0204 48.6883 10.8432C48.882 10.666 49.0369 10.4446 49.1531 10.1788C49.2693 9.91303 49.3274 9.6079 49.3274 9.26339V4.58299H50.5328V12.3049H49.3274V11.0794C49.1531 11.4436 48.8578 11.7635 48.4414 12.0391C48.0348 12.3049 47.5264 12.4378 46.9164 12.4378ZM52.8239 4.58299H54.0294V5.97087C54.2715 5.53777 54.5765 5.18342 54.9444 4.90781C55.322 4.62236 55.8497 4.46979 56.5275 4.45011V5.60175C56.1799 5.61707 55.8346 5.66652 55.4963 5.7494C55.2039 5.81939 54.9308 5.95567 54.6975 6.14804C54.4729 6.35252 54.303 6.6116 54.2037 6.90104C54.0875 7.20618 54.0294 7.59498 54.0294 8.06745V12.3049H52.8239V4.58299ZM61.0347 12.4378C60.5021 12.4378 60.0083 12.3443 59.5533 12.1573C59.1186 11.9775 58.7236 11.7115 58.3914 11.3747C58.0549 11.0185 57.793 10.5966 57.6216 10.1345C57.4416 9.61796 57.3531 9.07309 57.3602 8.52515V8.40704C57.3602 7.82629 57.4473 7.29476 57.6216 6.81245C57.7959 6.3203 58.038 5.90196 58.3478 5.55746C58.6673 5.2031 59.0449 4.93242 59.4806 4.7454C59.9164 4.54854 60.3956 4.45011 60.9185 4.45011C61.3542 4.45011 61.7754 4.52393 62.1821 4.67158C62.5984 4.80938 62.9663 5.03085 63.2859 5.33599C63.6054 5.64112 63.8571 6.03977 64.0411 6.53192C64.2347 7.01424 64.3316 7.5999 64.3316 8.28892V8.68756H58.6092C58.6383 9.57345 58.8561 10.2526 59.2628 10.7251C59.6695 11.1877 60.2649 11.419 61.0492 11.419C62.2401 11.419 62.9131 10.9712 63.068 10.0754H64.2735C64.1379 10.8531 63.7797 11.4436 63.1987 11.8472C62.6178 12.2409 61.8964 12.4378 61.0347 12.4378ZM63.097 7.69833C63.0389 6.90104 62.8162 6.33014 62.429 5.98563C62.0513 5.64112 61.5478 5.46887 60.9185 5.46887C60.2988 5.46887 59.7905 5.67065 59.3935 6.07422C59.0062 6.46794 58.7593 7.00932 58.6528 7.69833H63.097ZM68.8968 12.4378C68.403 12.4378 67.9431 12.3541 67.5171 12.1868C67.1072 12.0141 66.7365 11.7578 66.4278 11.4338C66.1165 11.0803 65.8749 10.6693 65.7161 10.2231C65.5451 9.69956 65.4617 9.15057 65.4692 8.59898V8.48086C65.4692 7.89027 65.5564 7.3489 65.7307 6.85675C65.905 6.36459 66.147 5.94134 66.4569 5.58698C66.7667 5.22279 67.1395 4.94226 67.5752 4.7454C68.0109 4.54854 68.4902 4.45011 69.013 4.45011C69.6521 4.45011 70.1701 4.58791 70.5671 4.86352C70.964 5.12928 71.2739 5.44918 71.4966 5.82322V0.891819H72.702V12.3049H71.4966V10.9761C71.3901 11.1631 71.2448 11.3452 71.0609 11.5224C70.8713 11.7038 70.6617 11.8623 70.4363 11.9949C70.2066 12.1258 69.963 12.2298 69.7102 12.3049C69.4487 12.3935 69.1776 12.4378 68.8968 12.4378ZM69.0275 11.419C69.3761 11.419 69.7053 11.36 70.0152 11.2419C70.325 11.1237 70.5913 10.9466 70.814 10.7103C71.0367 10.4642 71.2109 10.1591 71.3368 9.79492C71.4724 9.42088 71.5401 8.98778 71.5401 8.49562V8.37751C71.5401 7.38335 71.3223 6.65004 70.8866 6.17757C70.4606 5.7051 69.8748 5.46887 69.1292 5.46887C68.374 5.46887 67.7834 5.72479 67.3573 6.23663C66.9313 6.74847 66.7183 7.47686 66.7183 8.4218V8.53992C66.7183 9.02223 66.7764 9.44549 66.8926 9.80968C67.0184 10.1739 67.183 10.4741 67.3864 10.7103C67.5994 10.9466 67.8463 11.1237 68.1271 11.2419C68.4079 11.36 68.708 11.419 69.0275 11.419ZM82.4716 12.4378C81.852 12.4378 81.3243 12.3 80.8886 12.0244C80.485 11.7813 80.146 11.4417 79.901 11.0351V12.3049H78.6955V0.891819H79.901V5.88228C80.0153 5.68531 80.1572 5.50626 80.3221 5.35075C80.5061 5.17357 80.7094 5.02101 80.9321 4.89305C81.1645 4.75524 81.4114 4.64697 81.6729 4.56822C81.9343 4.48948 82.2005 4.45011 82.4716 4.45011C82.9655 4.45011 83.4254 4.53869 83.8514 4.71587C84.2774 4.89305 84.6405 5.14897 84.9407 5.48363C85.2505 5.8183 85.4926 6.22679 85.6669 6.7091C85.8411 7.19141 85.9283 7.73278 85.9283 8.33321V8.45133C85.9283 9.04192 85.846 9.58329 85.6814 10.0754C85.5295 10.535 85.2929 10.9609 84.9843 11.3304C84.6852 11.6839 84.3133 11.9662 83.895 12.1573C83.4445 12.3492 82.96 12.4447 82.4716 12.4378ZM82.3555 11.419C83.1107 11.419 83.6868 11.173 84.0838 10.6808C84.4808 10.1788 84.6793 9.45533 84.6793 8.51039V8.39227C84.6793 7.90012 84.6163 7.47194 84.4904 7.10775C84.3829 6.77559 84.2099 6.46915 83.9821 6.2071C83.7841 5.96487 83.5294 5.77704 83.2414 5.66081C82.9581 5.53232 82.6511 5.46687 82.3409 5.46887C81.9924 5.46887 81.6632 5.52793 81.3533 5.64604C81.0537 5.7638 80.7852 5.95084 80.569 6.19234C80.3464 6.42857 80.1721 6.73371 80.0462 7.10775C79.9127 7.52209 79.8488 7.95635 79.8574 8.39227V8.51039C79.8574 9.4947 80.0898 10.228 80.5545 10.7103C81.0193 11.1828 81.6196 11.419 82.3555 11.419ZM89.6342 11.5076L86.6569 4.58299H87.9495L90.2733 10.1197L92.3792 4.58299H93.6137L89.4164 14.9921H88.1964L89.6342 11.5076ZM105.97 4.51532C105.618 4.13844 105.195 3.83755 104.727 3.63067C104.257 3.42601 103.751 3.32132 103.241 3.32307C102.698 3.32307 102.214 3.42888 101.804 3.64297C101.501 3.7934 101.229 4.00091 101.003 4.25447V4.01947C101.003 3.93064 100.979 3.84347 100.933 3.76781C100.888 3.69214 100.822 3.631 100.744 3.59129C100.691 3.56626 100.633 3.55364 100.574 3.55438H98.9827C98.9241 3.55245 98.8658 3.56433 98.8125 3.58909C98.7592 3.61385 98.7122 3.65082 98.6753 3.69711C98.5956 3.78474 98.5523 3.90019 98.5542 4.01947V15.0561C98.5542 15.1791 98.5954 15.2874 98.6753 15.3735C98.715 15.4152 98.7629 15.4479 98.8158 15.4698C98.8688 15.4916 98.9256 15.502 98.9827 15.5002H100.606C100.661 15.5001 100.715 15.4889 100.766 15.4671C100.817 15.4453 100.863 15.4135 100.901 15.3735C100.945 15.3333 100.979 15.284 101.002 15.229C101.025 15.174 101.036 15.1146 101.034 15.0548V11.2898C101.25 11.5384 101.539 11.7291 101.884 11.8607C102.307 12.0256 102.755 12.1105 103.207 12.1105C103.727 12.1105 104.233 12.0096 104.71 11.8054C105.185 11.599 105.613 11.2958 105.969 10.9146C106.338 10.5135 106.628 10.0422 106.824 9.52669C107.044 8.94733 107.152 8.33033 107.143 7.70941C107.143 7.045 107.038 6.43349 106.824 5.89212C106.631 5.38011 106.341 4.91182 105.97 4.51409V4.51532ZM104.513 8.50178C104.424 8.73555 104.295 8.94718 104.131 9.12928C103.969 9.31219 103.77 9.45789 103.547 9.55674C103.325 9.65558 103.085 9.70531 102.842 9.70264C102.6 9.70387 102.358 9.65342 102.136 9.55499C101.911 9.4556 101.71 9.31074 101.542 9.12928C101.375 8.94704 101.244 8.73407 101.155 8.50178C101.062 8.25439 101.015 7.99155 101.016 7.72663C101.016 7.45102 101.064 7.19141 101.155 6.95026C101.332 6.48635 101.682 6.1122 102.128 5.90935C102.352 5.80353 102.595 5.7494 102.842 5.75063C103.103 5.75063 103.343 5.80476 103.56 5.91058C103.774 6.0127 103.969 6.15542 104.134 6.33014C104.476 6.71058 104.661 7.21105 104.648 7.72663C104.648 8.00347 104.603 8.26308 104.513 8.50178ZM115.859 3.55684H114.249C114.193 3.55751 114.138 3.56987 114.087 3.59315C114.036 3.61643 113.99 3.65013 113.952 3.69219C113.868 3.78 113.821 3.8973 113.821 4.01947V4.22371C113.62 3.9808 113.372 3.78302 113.092 3.64297C112.654 3.42397 112.17 3.31511 111.681 3.32553C111.166 3.32821 110.657 3.43439 110.183 3.63795C109.708 3.84151 109.278 4.13843 108.917 4.51162C108.537 4.91069 108.236 5.37962 108.029 5.89335C107.801 6.47081 107.687 7.08847 107.696 7.71064C107.696 8.37505 107.807 8.98655 108.029 9.52792C108.251 10.0619 108.545 10.5331 108.91 10.9158C109.265 11.2945 109.693 11.5958 110.167 11.8016C110.641 12.0074 111.15 12.1133 111.665 12.113C112.194 12.113 112.675 12.0047 113.085 11.7943C113.388 11.6343 113.637 11.4412 113.821 11.2148V11.4326C113.82 11.4923 113.831 11.5516 113.854 11.6066C113.877 11.6615 113.911 11.7109 113.954 11.7512C113.993 11.7915 114.038 11.8236 114.089 11.8456C114.14 11.8676 114.194 11.879 114.249 11.8792H115.859C115.916 11.8812 115.972 11.8706 116.024 11.8483C116.077 11.826 116.124 11.7925 116.162 11.75C116.203 11.7085 116.235 11.6589 116.256 11.6043C116.277 11.5497 116.287 11.4912 116.285 11.4326V4.0207C116.287 3.90142 116.244 3.78597 116.164 3.69834C116.127 3.65337 116.08 3.61736 116.027 3.5929C115.975 3.56844 115.917 3.55613 115.859 3.55684ZM113.685 8.4907C113.601 8.72324 113.473 8.9368 113.308 9.11943C113.143 9.29538 112.95 9.43933 112.735 9.54269C112.52 9.64727 112.275 9.70141 112.014 9.70141C111.764 9.70141 111.521 9.64727 111.3 9.54146C111.079 9.4398 110.881 9.29437 110.717 9.11372C110.552 8.93306 110.425 8.72082 110.343 8.48947C110.253 8.24551 110.207 7.98712 110.207 7.72663C110.207 7.44979 110.253 7.19018 110.343 6.94903C110.433 6.71156 110.562 6.50116 110.723 6.32891C110.888 6.15296 111.086 6.00901 111.301 5.90812C111.521 5.80353 111.764 5.7494 112.015 5.7494C112.275 5.7494 112.52 5.80353 112.735 5.90935C112.951 6.01393 113.144 6.15542 113.308 6.32891C113.65 6.70961 113.834 7.21001 113.821 7.7254C113.821 7.98993 113.776 8.24709 113.685 8.4907ZM131.919 7.49901C131.685 7.28955 131.417 7.12228 131.127 7.00439C130.828 6.88012 130.511 6.78169 130.177 6.71525L128.95 6.46425C128.635 6.40273 128.416 6.3203 128.293 6.21448C128.242 6.17732 128.201 6.12853 128.172 6.07209C128.144 6.01565 128.128 5.95315 128.128 5.88966C128.128 5.75432 128.204 5.64358 128.357 5.54269C128.523 5.43688 128.755 5.38274 129.042 5.38274C129.357 5.38274 129.669 5.44795 129.958 5.57591C130.252 5.70633 130.528 5.85398 130.769 6.01885C131.126 6.24893 131.43 6.21817 131.649 5.95364L132.238 5.25232C132.351 5.13393 132.416 4.97752 132.422 4.81307C132.422 4.65558 132.345 4.51162 132.198 4.3812C131.948 4.15481 131.553 3.91612 131.023 3.68234C130.494 3.44611 129.829 3.32553 129.042 3.32553C128.525 3.32553 128.049 3.39689 127.628 3.53716C127.205 3.67988 126.842 3.87674 126.547 4.12036C126.251 4.37136 126.017 4.66173 125.858 4.99763C125.699 5.33341 125.617 5.70154 125.618 6.07422C125.618 6.76324 125.82 7.32552 126.218 7.74509C126.615 8.15481 127.145 8.43411 127.796 8.56945L129.072 8.8549C129.435 8.93118 129.711 9.01731 129.889 9.11328C130.045 9.19572 130.119 9.31383 130.119 9.47871C130.119 9.62635 130.045 9.758 129.892 9.87735C129.731 10.0053 129.478 10.0681 129.139 10.0681C128.79 10.0717 128.445 9.99161 128.133 9.83429C127.836 9.68469 127.56 9.49515 127.312 9.27077C127.202 9.17922 127.076 9.1084 126.941 9.0616C126.788 9.01608 126.616 9.0653 126.419 9.22155L125.714 9.78876C125.509 9.96717 125.423 10.1825 125.461 10.431C125.496 10.6697 125.691 10.9158 126.055 11.1939C126.38 11.4313 126.798 11.6467 127.3 11.8312C127.803 12.017 128.391 12.113 129.059 12.113C129.596 12.113 130.092 12.0416 130.529 11.9013C130.967 11.7549 131.354 11.5593 131.668 11.3108C131.98 11.0724 132.231 10.7631 132.404 10.4077C132.576 10.0523 132.663 9.66076 132.659 9.26462C132.659 8.87212 132.595 8.52638 132.46 8.23601C132.331 7.95492 132.147 7.70366 131.919 7.49778V7.49901ZM138.958 9.51193C138.923 9.445 138.872 9.3882 138.809 9.34687C138.747 9.30555 138.675 9.28105 138.601 9.27569C138.451 9.27322 138.305 9.3222 138.186 9.41473C138.071 9.49101 137.946 9.55007 137.815 9.58821C137.649 9.64412 137.47 9.64967 137.3 9.60421C137.219 9.58443 137.144 9.54519 137.081 9.48978C137.005 9.42056 136.946 9.33472 136.908 9.23878C136.855 9.09669 136.83 8.94521 136.836 8.79338V5.76662H138.931C139.051 5.76662 139.159 5.71741 139.253 5.62267C139.295 5.58108 139.329 5.5314 139.352 5.4765C139.376 5.42159 139.388 5.36254 139.389 5.30276V4.02193C139.389 3.96024 139.377 3.89918 139.353 3.84249C139.329 3.78579 139.294 3.73465 139.25 3.69219C139.165 3.60724 139.05 3.55916 138.931 3.55807H136.835V1.49717C136.838 1.43555 136.827 1.37406 136.805 1.31679C136.782 1.25952 136.748 1.20777 136.704 1.16497C136.627 1.08454 136.521 1.03854 136.41 1.03701H134.784C134.695 1.03555 134.609 1.06135 134.535 1.11101C134.462 1.16066 134.405 1.23182 134.372 1.31507C134.349 1.37287 134.338 1.43484 134.339 1.49717V3.55684H133.411C133.353 3.55549 133.294 3.5675 133.241 3.59199C133.188 3.61647 133.14 3.65281 133.102 3.69834C133.025 3.78687 132.982 3.90193 132.984 4.0207V5.304C132.985 5.39177 133.01 5.47753 133.055 5.55238C133.1 5.62724 133.164 5.68846 133.24 5.72971C133.294 5.75555 133.352 5.76908 133.41 5.76662H134.339V9.36551C134.339 9.84536 134.423 10.2588 134.581 10.5996C134.741 10.9367 134.951 11.2197 135.204 11.4313C135.466 11.6503 135.766 11.8128 136.088 11.9087C136.415 12.0121 136.755 12.0638 137.096 12.0638C137.562 12.0638 138.004 11.9887 138.421 11.8423C138.817 11.7053 139.175 11.4722 139.463 11.1631C139.647 10.9404 139.668 10.6943 139.518 10.4483L138.958 9.51316V9.51193ZM147.78 3.55684H146.171C146.116 3.55785 146.061 3.57036 146.01 3.59363C145.959 3.6169 145.914 3.65043 145.876 3.69219C145.835 3.73558 145.802 3.78651 145.779 3.84229C145.758 3.89876 145.746 3.95885 145.747 4.01947V4.22371C145.544 3.98167 145.295 3.78409 145.014 3.64297C144.609 3.43011 144.136 3.32553 143.601 3.32553C143.092 3.32553 142.591 3.42765 142.117 3.6319C141.638 3.83631 141.204 4.13534 140.84 4.51162C140.46 4.9102 140.158 5.37925 139.952 5.89335C139.722 6.47038 139.608 7.08828 139.618 7.71064C139.618 8.37505 139.729 8.98655 139.95 9.52792C140.173 10.0619 140.468 10.5331 140.833 10.9158C141.188 11.2943 141.614 11.5956 142.087 11.8014C142.56 12.0072 143.069 12.1132 143.584 12.113C144.076 12.1217 144.563 12.0125 145.006 11.7943C145.314 11.6343 145.559 11.4412 145.747 11.2148V11.4326C145.745 11.4921 145.756 11.5513 145.778 11.6062C145.801 11.6612 145.834 11.7106 145.877 11.7512C145.916 11.7913 145.961 11.8232 146.012 11.8452C146.062 11.8671 146.116 11.8787 146.171 11.8792H147.78C147.837 11.8806 147.893 11.8699 147.946 11.8476C147.998 11.8254 148.046 11.7921 148.085 11.75C148.166 11.6649 148.21 11.5508 148.208 11.4326V4.0207C148.21 3.90149 148.167 3.78617 148.087 3.69834C148.049 3.65272 148.002 3.61618 147.948 3.59129C147.895 3.56679 147.838 3.555 147.78 3.55684ZM145.606 8.4907C145.437 8.95456 145.095 9.33232 144.655 9.54269C144.43 9.64997 144.184 9.70423 143.936 9.70141C143.685 9.70141 143.446 9.64727 143.224 9.54146C143.004 9.43906 142.806 9.2934 142.642 9.11285C142.477 8.9323 142.349 8.72044 142.266 8.48947C142.175 8.24565 142.129 7.98721 142.129 7.72663C142.129 7.44979 142.174 7.19018 142.264 6.94903C142.353 6.71894 142.481 6.50855 142.645 6.32891C142.812 6.15296 143.008 6.00901 143.224 5.90812C143.447 5.8023 143.69 5.74817 143.936 5.7494C144.199 5.7494 144.438 5.80353 144.655 5.90935C144.874 6.01393 145.066 6.15542 145.226 6.32891C145.388 6.50486 145.517 6.71402 145.606 6.94903C145.796 7.44486 145.796 7.99486 145.606 8.4907ZM156.622 9.40119L155.699 8.67157C155.522 8.52638 155.355 8.48701 155.21 8.54853C155.079 8.60436 154.964 8.69079 154.872 8.80076C154.673 9.05649 154.434 9.27863 154.167 9.45902C153.934 9.60913 153.629 9.68418 153.269 9.68418C153.004 9.68418 152.76 9.63496 152.542 9.53407C152.327 9.43495 152.134 9.2917 151.975 9.11328C151.812 8.93013 151.686 8.71715 151.602 8.48578C151.515 8.24262 151.471 7.98546 151.474 7.72663C151.474 7.4461 151.515 7.18772 151.602 6.94903C151.687 6.71279 151.811 6.50239 151.975 6.33014C152.138 6.15296 152.332 6.01024 152.546 5.90935C152.772 5.80107 153.019 5.74694 153.269 5.7494C153.629 5.7494 153.931 5.82814 154.167 5.97948C154.406 6.13451 154.646 6.35598 154.873 6.63651C154.968 6.7497 155.079 6.83337 155.21 6.88997C155.358 6.94903 155.523 6.90965 155.695 6.7657L156.618 6.03485C156.732 5.95424 156.817 5.83809 156.861 5.70387C156.886 5.63045 156.896 5.55227 156.889 5.47473C156.882 5.39719 156.858 5.32214 156.82 5.25478C156.464 4.67928 155.973 4.20275 155.391 3.86813C154.781 3.51009 154.05 3.32553 153.232 3.32553C152.668 3.32238 152.109 3.43311 151.588 3.65129C151.066 3.86947 150.593 4.19076 150.194 4.59652C149.805 4.99271 149.497 5.4701 149.29 5.99547C149.07 6.54494 148.957 7.13314 148.96 7.72663C148.96 8.33567 149.072 8.91765 149.29 9.45164C149.5 9.97332 149.807 10.4458 150.194 10.8395C150.593 11.2451 151.067 11.5663 151.588 11.7846C152.11 12.003 152.668 12.1142 153.232 12.1117C154.05 12.1117 154.781 11.9284 155.391 11.5654C155.976 11.232 156.468 10.7537 156.822 10.1751C156.86 10.1101 156.882 10.0374 156.889 9.96225C156.896 9.88643 156.886 9.80992 156.861 9.73832C156.813 9.60626 156.731 9.49007 156.622 9.40242V9.40119ZM165.194 11.1299L162.647 7.26277L164.827 4.29138C164.941 4.12036 164.971 3.95672 164.918 3.80292C164.88 3.69219 164.777 3.55684 164.514 3.55684H162.789C162.69 3.55775 162.593 3.58219 162.506 3.62821C162.398 3.68359 162.309 3.77173 162.253 3.88043L160.511 6.39904H160.089V0.447649C160.091 0.329229 160.048 0.214475 159.969 0.127748C159.929 0.0869473 159.881 0.0547186 159.828 0.0329554C159.776 0.0111921 159.719 0.000333517 159.663 0.00101762H158.051C157.964 0.00131009 157.88 0.0270233 157.807 0.0750545C157.735 0.123086 157.678 0.191382 157.643 0.271703C157.62 0.327334 157.608 0.387308 157.61 0.447649V11.4313C157.61 11.5581 157.656 11.6688 157.743 11.75C157.783 11.7911 157.831 11.8236 157.884 11.8456C157.937 11.8676 157.993 11.8786 158.051 11.878H159.664C159.721 11.8798 159.777 11.8692 159.83 11.8469C159.882 11.8246 159.929 11.7912 159.968 11.7488C160.007 11.7068 160.038 11.657 160.058 11.6024C160.08 11.5477 160.09 11.489 160.087 11.4301V8.52392H160.555L162.456 11.5335C162.592 11.7635 162.779 11.8792 163.013 11.8792H164.817C165.091 11.8792 165.205 11.7439 165.251 11.6307C165.316 11.4707 165.297 11.3083 165.194 11.1311V11.1299ZM125.015 3.55684H123.213C123.146 3.55424 123.079 3.56628 123.017 3.59218C122.954 3.61807 122.898 3.6572 122.852 3.70695C122.774 3.79331 122.72 3.89895 122.695 4.01332L121.365 9.14035H121.041L119.61 4.01332C119.586 3.90347 119.539 3.79998 119.473 3.70941C119.435 3.66072 119.386 3.62162 119.331 3.59516C119.276 3.5687 119.215 3.55559 119.154 3.55684H117.285C117.044 3.55684 116.892 3.63805 116.835 3.79431C116.786 3.94184 116.785 4.10149 116.832 4.24955L119.116 11.4658C119.152 11.5802 119.213 11.675 119.292 11.7512C119.337 11.7944 119.391 11.828 119.449 11.8499C119.507 11.8719 119.57 11.8818 119.632 11.8792H120.598L120.518 12.113L120.288 12.786C120.225 12.9927 120.103 13.1754 119.937 13.3101C119.784 13.4312 119.595 13.4954 119.402 13.4922C119.234 13.4914 119.069 13.4536 118.918 13.3815C118.768 13.312 118.625 13.2257 118.494 13.1243C118.375 13.0381 118.234 12.9889 118.089 12.9829H118.069C117.912 12.9829 117.775 13.0739 117.665 13.2486L117.091 14.1197C116.858 14.4938 116.987 14.7399 117.139 14.8764C117.422 15.152 117.778 15.3673 118.198 15.5211C118.614 15.6749 119.073 15.75 119.56 15.75C120.386 15.75 121.076 15.5199 121.605 15.0548C122.131 14.5922 122.52 13.9635 122.757 13.1797L125.405 4.24955C125.465 4.05884 125.465 3.90012 125.411 3.77093C125.366 3.6725 125.26 3.55684 125.015 3.55684Z"
  fill="#838383"
/>
</svg>
`,lZ=`
  <button type="button" id="apple-pay-close-button">
    <svg width="10" height="9" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M5.572 4.033L8.89.71a.4.4 0 0 0-.566-.566L5.003 3.459 1.681.145a.4.4 0 0 0-.566.566L4.44 4.033
      1.115 7.354a.398.398 0 0 0 0 .566.4.4 0 0 0 .566 0l3.322-3.33 3.322 3.33a.4.4 0 0 0 .566-.566L5.57 4.033z"
        fill="white"
      />
    </svg>
  </button>
`,cZ=`
<svg width="74" height="19" viewBox="0 0 74 19" fill="none" xmlns="http://www.w3.org/2000/svg" id="vault-logo">
  <g clip-path="url(#clip0_9910_9664)">
    <path
      d="M32.1273 15.8163H28.9432C28.6448 15.8163 28.4481 15.6622 28.3497 15.3507L25.1886 6.20188C25.1165 6.01825 25.1296 5.85101 25.2214 5.70345C25.3132 5.55589 25.451 5.48047 25.6346 5.48047H27.9693C28.2513 5.48047 28.435 5.63787 28.5202 5.94611L30.6648 12.9077L32.5536 5.94611C32.6388 5.63459 32.829 5.48047 33.1274 5.48047H35.4195C35.6031 5.48047 35.7441 5.55589 35.8425 5.70345C35.9409 5.85101 35.954 6.01825 35.8851 6.20188L32.7241 15.3507C32.6257 15.6622 32.4257 15.8163 32.1305 15.8163H32.1273Z"
      fill="#343C43" />
    <path
      d="M37.6361 14.5842C36.6097 13.5644 36.0981 12.2495 36.0981 10.6362C36.0981 9.02283 36.6097 7.71118 37.6361 6.69792C38.6624 5.68795 39.8757 5.17969 41.2759 5.17969C41.9416 5.17969 42.5384 5.31085 43.0696 5.57318C43.6008 5.83551 43.9943 6.16998 44.2468 6.57988V5.94373C44.2468 5.81584 44.2927 5.70763 44.3845 5.61581C44.4763 5.524 44.578 5.47809 44.6927 5.47809H46.8373C46.9652 5.47809 47.0701 5.524 47.1554 5.61581C47.2406 5.70763 47.2833 5.81584 47.2833 5.94373V15.3679C47.2833 15.4958 47.2406 15.6008 47.1554 15.686C47.0701 15.7713 46.9652 15.8139 46.8373 15.8139H44.6927C44.578 15.8139 44.4763 15.7713 44.3845 15.686C44.2927 15.6008 44.2468 15.4958 44.2468 15.3679V14.7088C43.991 15.1187 43.6008 15.4565 43.0696 15.7155C42.5384 15.9779 41.935 16.109 41.2562 16.109C39.8691 16.109 38.6624 15.6008 37.6361 14.581V14.5842ZM39.9151 8.79985C39.433 9.31795 39.1936 9.93443 39.1936 10.6558C39.1936 11.3772 39.433 11.997 39.9151 12.5118C40.3971 13.0299 40.9972 13.2857 41.7186 13.2857C42.44 13.2857 43.0401 13.0266 43.5221 12.5118C44.0041 11.997 44.2435 11.3772 44.2435 10.6558C44.2435 9.93443 44.0041 9.31467 43.5221 8.79985C43.0401 8.28502 42.44 8.02597 41.7186 8.02597C40.9972 8.02597 40.3938 8.28502 39.9151 8.79985Z"
      fill="#343C43" />
    <path
      d="M51.6315 5.9016V11.2302C51.6315 11.9385 51.8086 12.4959 52.1627 12.9058C52.5169 13.3157 53.0415 13.5223 53.7334 13.5223C54.4253 13.5223 54.9401 13.319 55.3139 12.9058C55.6878 12.4959 55.878 11.9516 55.878 11.2728V5.9016C55.878 5.78683 55.9239 5.68845 56.0157 5.60319C56.1075 5.51794 56.2092 5.47531 56.3239 5.47531H58.4685C58.6095 5.47531 58.7242 5.52122 58.8095 5.61303C58.8948 5.70485 58.9374 5.81306 58.9374 5.94094V15.3652C58.9374 15.4931 58.8948 15.598 58.8095 15.6832C58.7242 15.7685 58.6128 15.8111 58.4685 15.8111H56.3239C56.196 15.8111 56.0911 15.7718 56.0058 15.6931C55.9206 15.6144 55.878 15.5127 55.878 15.3848V14.7257C55.1139 15.6472 54.081 16.1062 52.7792 16.1062C51.4774 16.1062 50.4707 15.7062 49.7132 14.9061C48.9557 14.106 48.5786 13.0501 48.5786 11.7319V5.89504C48.5786 5.78027 48.6278 5.68189 48.7262 5.59664C48.8246 5.51138 48.9295 5.46875 49.0442 5.46875H51.1658C51.2937 5.46875 51.4019 5.51138 51.4938 5.59664C51.5856 5.68189 51.6315 5.78027 51.6315 5.89504V5.9016Z"
      fill="#343C43" />
    <path
      d="M62.9872 15.8148C62.0658 15.8148 61.387 15.582 60.9509 15.113C60.5115 14.6474 60.2917 14.0178 60.2917 13.2243V1.42267C60.2917 1.29478 60.3344 1.18657 60.4196 1.09475C60.5049 1.00294 60.6164 0.957031 60.7607 0.957031H62.8823C63.0233 0.957031 63.138 1.00294 63.2233 1.09475C63.3085 1.18657 63.3512 1.29478 63.3512 1.42267V12.6078C63.3512 12.8045 63.4069 12.9652 63.5217 13.0865C63.6332 13.2079 63.7906 13.2669 63.9873 13.2669H64.6464C64.9448 13.2669 65.0924 13.4144 65.0924 13.7129V15.2409C65.0924 15.6246 64.8956 15.8148 64.4989 15.8148H62.9905H62.9872Z"
      fill="#343C43" />
    <path
      d="M66.722 12.7378V8.04861H65.3644C65.2365 8.04861 65.1316 8.00271 65.0463 7.91089C64.9611 7.81907 64.9185 7.71086 64.9185 7.58298V5.94997C64.9185 5.82208 64.9611 5.71387 65.0463 5.62206C65.1316 5.53024 65.2365 5.48433 65.3644 5.48433H66.722V2.74626C66.722 2.60526 66.7679 2.49049 66.8597 2.40523C66.9515 2.31997 67.0597 2.27734 67.1876 2.27734H69.3518C69.4666 2.27734 69.5683 2.31997 69.6601 2.40523C69.7519 2.49049 69.7978 2.60198 69.7978 2.74626V5.48433H72.7064C72.8343 5.48433 72.9458 5.53024 73.0474 5.62206C73.1458 5.71387 73.195 5.82208 73.195 5.94997V7.58298C73.195 7.69775 73.1458 7.80268 73.0474 7.90105C72.949 7.99943 72.8343 8.04861 72.7064 8.04861H69.7978V12.0164C69.7978 12.4689 69.9027 12.7804 70.1159 12.9509C70.329 13.1214 70.5684 13.2067 70.8373 13.2067C71.1193 13.2067 71.4308 13.1083 71.7718 12.9083C72.1555 12.6689 72.4441 12.6951 72.6408 12.9935L73.3852 14.1806C73.5557 14.4495 73.5327 14.7052 73.3229 14.9446C72.6146 15.6792 71.5948 16.0497 70.2667 16.0497C69.2764 16.0497 68.437 15.7742 67.7516 15.2234C67.0663 14.6725 66.722 13.8428 66.722 12.741V12.7378Z"
      fill="#343C43" />
    <path
      d="M15.2266 0H4.43496C2.26089 0 0.5 1.76089 0.5 3.93496V14.7266C0.5 16.9006 2.26089 18.6615 4.43496 18.6615H15.2266C17.4006 18.6615 19.1615 16.9006 19.1615 14.7266V3.93496C19.1615 1.76089 17.4006 0 15.2266 0ZM15.079 12.2312L12.1442 14.6118C11.9114 14.8086 11.5507 14.6807 11.4949 14.379L10.8161 11.8934C10.7702 11.6934 10.8489 11.4868 11.0096 11.3589C11.4425 11.0113 11.7179 10.4801 11.7179 9.8833C11.7179 8.44048 10.098 7.37476 8.5765 8.40113C8.48468 8.46344 8.40598 8.54214 8.34368 8.63723C7.63539 9.68983 7.92723 10.7883 8.65192 11.3655C8.8126 11.4934 8.88474 11.6967 8.84211 11.8967L8.22891 14.3823C8.17317 14.6839 7.81246 14.8118 7.57964 14.6151L4.57924 12.2344C4.47431 12.1262 4.41856 11.9787 4.4284 11.8278L4.77271 6.69271C4.78582 6.49268 4.91371 6.31561 5.09734 6.23691L9.41924 4.03661C9.68157 3.9284 9.97341 3.9284 10.2357 4.03661L14.5576 6.23691C14.7445 6.31561 14.8691 6.49268 14.8855 6.69271L15.2299 11.8278C15.2397 11.9787 15.1839 12.1262 15.079 12.2344V12.2312Z"
      fill="#343C43" />
  </g>
  <defs>
    <clipPath id="clip0_9910_9664">
      <rect width="73" height="18.6615" fill="white" transform="translate(0.5)" />
    </clipPath>
  </defs>
</svg>
`,Pw={height:"50px",width:"auto",borderRadius:"3px",padding:"10px",locale:"en",type:"pay"},RE=function(t){return t&&C0(t)==="object"?Object.keys(Pw).reduce((function(e,r){return cs(cs({},e),{},UF({},r,t[r]||Pw[r]))}),{}):Pw},uZ=`
  .pre-checkout-modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.75);
    transition: all 0.2s ease;
  }

  .pre-checkout-modal.show {
    display: block;
  }

  .pre-checkout-modal__content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    margin-left: auto;
    margin-right: auto;
    background-color: #fefefe;
    padding: 20px;
    padding-bottom: max(30px, env(safe-area-inset-bottom));
    width: 100%;
    border-radius: 6px 6px 0 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 350px;

    box-sizing: border-box;
    transform: translateY(238px);
    transition: transform 0.3s cubic-bezier(.16,.81,.32,1);
  }

  .modal-wrapper {
    width: 100%;
  }

  .payment-info {
    position: relative;
    padding-bottom: 15px;
    border-bottom: solid 1px whitesmoke;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    width: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .customer-email {
    color: #737373;
    font-size: 13px;
    line-height: 16px;
  }

  .customer-info {
    flex: 1;
    text-align: right;
  }

  .merchant-logo {
    display: flex;
    align-items: center;
    height: 30px;
  }
  .transaction-amount {
    margin-top: 5px;
    font-size: 13px;
    line-height: 16px;
    color: #737373;
  }

  .amount {
    color: #29b263;
    font-weight: bold;
  }

  @media only screen and (min-width: 500px) {
    .pre-checkout-modal__content {
      bottom: 0;
      top: 0;
      margin: auto;
      border-radius: 6px;
      height: fit-content;
    }
  }

  .pre-checkout-modal__content.show {
    transform: translateY(0);
    margin: 0 auto;
    margin-top: 100px;
  }

  .pre-checkout-modal__content > * {
    margin-top: 0;
    margin-bottom: 40px;
  }
  .pre-checkout-modal__content > *:last-child {
    margin-bottom: 0;
  }

  .pre-checkout-modal__content svg {
    margin: auto;
    width: 100%;
  }

  #inline-button-wordmark--white {
    position: absolute;
    bottom: -50px;
    margin: auto;
    left: 0;
    right: 0;
    width: fit-content;
  }

  #inline-button-wordmark--grey {
    display: none;
  }

  .pre-checkout-modal__content #apple-pay-mark--light {
    margin-bottom: 16px;
  }

  .pre-checkout-modal p {
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    color: #4E4E4E;
    line-height: 140%;
    font-size: 14px;
    font-weight: 500;
    margin: 0;
    padding: 0 20px;
    text-align: center;
    letter-spacing: -0.3px;
  }

  .pre-checkout-modal button {
    height: 42px;
    width: 100%;
    
    box-sizing: border-box;
    border-radius: 3px;
    font-size: 14px;
    line-height: 24px;
    cursor: pointer;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .pre-checkout-modal .open-paystack-pop-button {
    background: #FAFAFA;
    border: 1px solid #F2F3F3;
    color: #4E4E4E;
    font-weight: 500;
  }

  .pre-checkout-modal .open-paystack-pop-button:hover, 
  .pre-checkout-modal .open-paystack-pop-button:active, 
  .pre-checkout-modal .open-paystack-pop-button:focus {
    background: #F2F3F3;
  }

  .pre-checkout-modal .pay-with-vault-button {
    font-weight: 700;
    background: #44b669;
    background: linear-gradient(to bottom, #44b669 0%, #40ad57 100%);
    border: solid 1px #49a861;
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);
    outline: none;
    color: white;
    transition: all 300ms;
  }

  .pre-checkout-modal .vault-instruction {
    color: #2f3d4d;
    font-size: 14px;
    letter-spacing: normal;
    line-height: 1.4;
    margin: 0 auto 24px;
    padding: 0;
  }
  .vault-logo-container {
    width: 74px;
    height: 20px;
    margin: 0 auto 24px
  }
  .vault-logo-container img {
    height: 100%;
    width: 100%;
    border-radius: 8px;
  }
  .vault-divider {
    margin-bottom: 16px;
    margin-top: 24px;
    position: relative;
  }
  .vault-divider__container {
    align-items: center;
    bottom: 0;
    display: flex;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
  }
  .vault-divider__line {
    border: 1px dashed #ccced0;
    width: 100%;
  }
  .vault-divider__text-container {
    display: flex;
    justify-content: center;
    position: relative;
  }
  .vault-divider__text {
    background-color: #fff;
    color: #999da1;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: -.3px;
    line-height: 19.6px;
    margin-bottom: 2px;
    padding: 0 8px;
  }

  #payment-request-button {
    width: 100%;
    height: fit-content;
    margin: 24px 0 16px 0;
  }

  #paystackpop-button {
    padding: 0 16px;
  }

  #apple-pay-close-button {
    position: absolute;
    text-align: center;
    top: 0;
    right: -26px;
    height: 16px;
    width: 16px;
    padding: 0;
    display: inline-block;
    z-index: 3;
    border-radius: 50%;
    background: transparent;
    transition: all 300ms;
    outline: none;
    cursor: pointer;
    border: none;
  }

  #apple-pay-close-button svg {
    width: initial;
  }
  
  #apple-pay-close-button:hover {
    background-color: #e22b28;
  }

  @media only screen and (max-width: 500px) {
    .pre-checkout-modal__content {
      max-width: 500px;
      border-radius: 0;
      padding-bottom: 0;
    }

    .modal-wrapper {
      padding: 0;
    }

    .vault-logo-container {
      width: 74px;
      height: 20px;
    }

    #inline-button-wordmark--white {
      display: none
    }
    
    #inline-button-wordmark--grey {
      display: block;
      width: 100%;
      margin: 16px 0;
      height: 13px;
    }

    #apple-pay-close-button {
      display: none;
    }
  }
`,LE=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Number(parseFloat(t/100).toFixed(2))},FE={headers:{accept:"application/json, text/plain, */*","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","content-type":"application/x-www-form-urlencoded","sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"},referrerPolicy:"no-referrer-when-downgrade",method:"POST",mode:"cors",credentials:"omit"};function jE(t){return Object.keys(t).reduce((function(e,r){var n=encodeURIComponent(r),i=encodeURIComponent(t[r]),s="".concat(n,"=").concat(i);return[].concat(zF(e),[s])}),[]).join("&")}var dZ=function(t){return{biannually:"BIANNUAL PLAN",annually:"ANNUAL PLAN"}[t]||"".concat(t.toUpperCase()," PLAN")},GF=function(){try{return window.location&&window.location.protocol==="https:"&&window.ApplePaySession&&window.ApplePaySession.supportsVersion(Jo.applePayVersion)}catch{return!1}},D_=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return GF()&&t.includes("apple_pay")};function fZ(){var t=0;return Array.from(document.querySelectorAll("body *")).forEach((function(e){var r=window.getComputedStyle(e),n=parseFloat(r.zIndex);!Number.isNaN(n)&&n>t&&(t=n)})),t}function Rw(t){var e=document.createElement("iframe");return e.setAttribute("frameBorder","0"),e.setAttribute("allowtransparency","true"),e.id=t,e.style.display="none",e}function Jv(t){return t.querySelector("apple-pay-button")||t.querySelector("#apple-pay-button")}function lv(t){return document.querySelector("#".concat(t))}function DE(t,e,r){var n=e.channels,i=n===void 0?[]:n,s=e.styles,a=s===void 0?{}:s,o={applePay:!1};return new Promise((function(l,c){if(t)if(D_(i)){if(Jv(t))return o.applePay=!0,void l(o);(function(u,p){var g=p.container,m=p.integrity;return new Promise((function(y,w){var _=document.createElement("script");_.src=u,_.crossOrigin="anonymous",m&&(_.integrity=m),_.addEventListener("load",(function(){y(!0)})),_.addEventListener("error",(function(){_.remove(),w(!1)})),g?g.appendChild(_):document.head.appendChild(_)}))})("https://applepay.cdn-apple.com/jsapi/v1.1.0/apple-pay-sdk.js",{container:t,integrity:"sha384-z/6BVHCcSypLSykOVpaT1PQWHOOgU45uOOlMkgi/bElX4yFqmChNMb7qiv80wFav"}).then((function(){if(r&&r!==1077497&&window&&!Array.isArray(window.webpackJsonp))throw new Error("Incorrect data type for 'webpackJsonp', expected array, got ".concat(C0(window.webpackJsonp),". Switching to fallback apple pay button"));(function(u,p){var g,m,y,w,_,E=p.styles,L=p.theme,I=document.createElement("style"),V=(m=(g=E).height,y=g.width,w=g.borderRadius,_=g.padding,`
  apple-pay-button {
    --apple-pay-button-width: `.concat(y,`;
    --apple-pay-button-height: `).concat(m,`;
    --apple-pay-button-border-radius: `).concat(w,`;
    --apple-pay-button-padding: `).concat(_,`;
    --apple-pay-button-box-sizing: border-box;
    width: `).concat(y,`;
  }
`));I.type="text/css",I.styleSheet?I.styleSheet.cssText=V:I.appendChild(document.createTextNode(V)),u.appendChild(I);var G=document.createElement("apple-pay-button");G.setAttribute("buttonstyle",L==="light"?"white":"black"),G.setAttribute("type",E.type),G.setAttribute("locale",E.locale),u.appendChild(G)})(t,{styles:RE(a.applePay),theme:a.theme}),o.applePay=!0,l(o)})).catch((function(){(function(u,p){var g,m,y,w,_,E,L,I=p.styles,V=p.theme,G=document.createElement("style"),X=(m=(g=I).height,y=g.width,w=g.borderRadius,_=g.padding,E=g.type,L=g.locale,`
  @supports (-webkit-appearance: -apple-pay-button) { 
    .apple-pay-button {
        display: inline-block;
        -webkit-appearance: -apple-pay-button;
        width: `.concat(y,`;
        height: `).concat(m,`;
        border-radius: `).concat(w,`;
        padding: `).concat(_,`;
        -apple-pay-button-type: `).concat(E,`;
        -webkit-locale: `).concat(L,`;
    }
    .apple-pay-button-black {
        -apple-pay-button-style: black;
    }
    .apple-pay-button-white {
        -apple-pay-button-style: white;
    }
    .apple-pay-button-white-with-line {
        -apple-pay-button-style: white-outline;
    }
  }

  @supports not (-webkit-appearance: -apple-pay-button) {
    .apple-pay-button {
        display: inline-block;
        background-size: 100% 60%;
        background-repeat: no-repeat;
        background-position: 50% 50%;
        border-radius: 5px;
        padding: 0px;
        box-sizing: border-box;
        min-width: 200px;
        min-height: 32px;
        max-height: 64px;
    }
    .apple-pay-button-black {
        background-image: -webkit-named-image(apple-pay-logo-white);
        background-color: black;
    }
    .apple-pay-button-white {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
    }
    .apple-pay-button-white-with-line {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
        border: .5px solid black;
    }
  }
`));G.type="text/css",G.styleSheet?G.styleSheet.cssText=X:G.appendChild(document.createTextNode(X)),u.appendChild(G);var R=document.createElement("button");R.classList.add("apple-pay-button",V==="light"?"apple-pay-button-white":"apple-pay-button-black"),R.id="apple-pay-button";var A=document.createElement("span");A.classList.add("logo"),R.appendChild(A),u.appendChild(R)})(t,{styles:RE(a.applePay),theme:a.theme}),o.applePay=!0,l(o)}))}else c("No wallet payment method is available on this device");else c("Container to mount elements was not provided")}))}function hZ(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var KF="payment-request-button",XF="paystackpop-button",YF="pay-with-vault-button";function QF(t){var e=document.createElement("button");return e.id=XF,e.className="open-paystack-pop-button",e.innerText=t,e}function OE(t){return t.querySelector("#".concat(XF))}function JF(){var t=document.createElement("div");return t.id=KF,t}function Lw(t){return t.querySelector("#".concat(KF))}function pZ(){var t=document.createElement("button");return t.className="pay-with-vault-button",t.id=YF,t.innerText="Pay with Vault",t}function mZ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=document.createElement("div");r.className="vault-logo-container",r.innerHTML=cZ,t.appendChild(r);var n=document.createElement("p");n.id="instruction",n.className="vault-instruction",n.innerHTML="Access your saved cards and bank details for faster, more secure payments",t.appendChild(n);var i=pZ();t.appendChild(i);var s=document.createElement("div");if(s.className="vault-divider",s.innerHTML='<div id="vault-divider" class="vault-divider__container"><div class="vault-divider__line"></div></div><div class="vault-divider__text-container"><span class="vault-divider__text">or</span></div>',t.appendChild(s),e.canPayWithApplePay){var a=JF();t.appendChild(a)}if(e.hasOtherPaymentMethods){var o=QF("Use other payment methods");t.appendChild(o)}}function gZ(t,e){var r=e.hasOtherPaymentMethods,n=document.createElement("div");n.innerHTML=`
  <svg width="51" height="32" viewBox="0 0 51 32" fill="none" xmlns="http://www.w3.org/2000/svg" id="apple-pay-mark--light">
    <g>
    <path d="M46.0162 0H4.98386C4.81297 0 4.64177 0 4.47118 0.000996555C4.32698 0.00202331 4.18311 0.00362383 4.03925 0.00754966C3.72548 0.0160355 3.40903 0.0345472 3.09919 0.0902335C2.7844 0.146886 2.49148 0.239294 2.20571 0.384791C1.92477 0.52766 1.66757 0.71453 1.44468 0.937516C1.22169 1.1605 1.03482 1.41728 0.891977 1.69852C0.74645 1.98429 0.653982 2.27731 0.597722 2.59234C0.541737 2.90227 0.523101 3.21866 0.514645 3.53209C0.51078 3.67596 0.509122 3.81982 0.508183 3.96366C0.507186 4.13461 0.507519 4.30545 0.507519 4.4767V27.5236C0.507519 27.6949 0.507186 27.8654 0.508183 28.0367C0.509122 28.1805 0.51078 28.3244 0.514645 28.4683C0.523101 28.7814 0.541737 29.0978 0.597722 29.4077C0.653982 29.7228 0.74645 30.0157 0.891977 30.3015C1.03482 30.5827 1.22169 30.8399 1.44468 31.0625C1.66757 31.2859 1.92477 31.4727 2.20571 31.6152C2.49148 31.7611 2.7844 31.8535 3.09919 31.9102C3.40903 31.9655 3.72548 31.9843 4.03925 31.9928C4.18311 31.9961 4.32698 31.998 4.47118 31.9987C4.64177 32 4.81297 32 4.98386 32H46.0162C46.1868 32 46.358 32 46.5286 31.9987C46.6724 31.998 46.8163 31.9961 46.9608 31.9928C47.2739 31.9843 47.5903 31.9655 47.9009 31.9102C48.2153 31.8535 48.5083 31.7611 48.7941 31.6152C49.0753 31.4727 49.3317 31.2859 49.5551 31.0625C49.7777 30.8399 49.9646 30.5827 50.1078 30.3015C50.2537 30.0157 50.346 29.7228 50.402 29.4077C50.458 29.0978 50.4762 28.7814 50.4847 28.4683C50.4886 28.3244 50.4906 28.1805 50.4912 28.0367C50.4925 27.8654 50.4926 27.6949 50.4926 27.5236V4.4767C50.4926 4.30545 50.4925 4.13461 50.4912 3.96366C50.4906 3.81982 50.4886 3.67596 50.4847 3.53209C50.4762 3.21866 50.458 2.90227 50.402 2.59234C50.346 2.27731 50.2537 1.98429 50.1078 1.69852C49.9646 1.41728 49.7777 1.1605 49.5551 0.937516C49.3317 0.71453 49.0753 0.52766 48.7941 0.384791C48.5083 0.239294 48.2153 0.146886 47.9009 0.0902335C47.5903 0.0345472 47.2739 0.0160355 46.9608 0.00754966C46.8163 0.00362383 46.6724 0.00202331 46.5286 0.000996555C46.358 0 46.1868 0 46.0162 0Z" fill="black"/>
    <path d="M46.0162 1.06662L46.521 1.06759C46.6577 1.06855 46.7945 1.07003 46.932 1.07378C47.1711 1.08024 47.4509 1.09319 47.7117 1.13994C47.9384 1.18077 48.1285 1.24286 48.311 1.33575C48.4911 1.42728 48.6562 1.54723 48.8003 1.69113C48.9449 1.83599 49.065 2.0013 49.1578 2.18343C49.2501 2.36447 49.3118 2.55369 49.3524 2.78205C49.3991 3.04001 49.412 3.32055 49.4185 3.56121C49.4222 3.69704 49.424 3.83287 49.4247 3.97194C49.426 4.14012 49.4259 4.3082 49.4259 4.47671V27.5236C49.4259 27.6921 49.426 27.8599 49.4246 28.0317C49.424 28.1675 49.4222 28.3033 49.4185 28.4394C49.4119 28.6797 49.3991 28.9601 49.3519 29.2211C49.3118 29.4463 49.2502 29.6356 49.1573 29.8175C49.0648 29.9992 48.9449 30.1643 48.8009 30.3083C48.656 30.4532 48.4915 30.5728 48.3092 30.6652C48.1281 30.7576 47.9383 30.8197 47.7138 30.8601C47.4477 30.9075 47.1562 30.9205 46.9367 30.9265C46.7986 30.9296 46.6611 30.9315 46.5203 30.9321C46.3525 30.9334 46.1841 30.9334 46.0162 30.9334H4.98386C4.98162 30.9334 4.97945 30.9334 4.97718 30.9334C4.81127 30.9334 4.64503 30.9334 4.4761 30.9321C4.33836 30.9315 4.20093 30.9296 4.06805 30.9266C3.8435 30.9205 3.55181 30.9075 3.2879 30.8604C3.06151 30.8197 2.87171 30.7576 2.68822 30.664C2.50766 30.5724 2.34329 30.453 2.19831 30.3077C2.05444 30.1641 1.93488 29.9995 1.84245 29.8176C1.74992 29.6358 1.68801 29.446 1.64731 29.218C1.60025 28.9576 1.58733 28.6783 1.58087 28.4396C1.57718 28.303 1.57564 28.1664 1.57476 28.0305L1.5741 27.6295L1.57413 27.5236V4.47671L1.5741 4.37083L1.57473 3.97067C1.57564 3.83402 1.57718 3.6974 1.58087 3.56088C1.58733 3.32197 1.60025 3.04258 1.64769 2.77991C1.68804 2.55405 1.74992 2.36422 1.84293 2.18155C1.93464 2.001 2.05441 1.83617 2.19903 1.69158C2.34308 1.54747 2.50799 1.42767 2.6897 1.33527C2.87122 1.24283 3.06138 1.18077 3.28778 1.14003C3.54864 1.09316 3.82861 1.08024 4.06839 1.07375C4.20507 1.07003 4.34174 1.06855 4.4774 1.06762L4.98386 1.06662H46.0162Z" fill="white"/>
    <path d="M14.1531 10.7629C14.5811 10.2276 14.8715 9.50886 14.7949 8.77435C14.1684 8.80551 13.4038 9.18768 12.9612 9.72342C12.5638 10.1822 12.212 10.9311 12.3037 11.6348C13.007 11.6958 13.7097 11.2832 14.1531 10.7629Z" fill="black"/>
    <path d="M14.7869 11.7722C13.7655 11.7114 12.8972 12.3519 12.4094 12.3519C11.9214 12.3519 11.1745 11.8029 10.3667 11.8177C9.31521 11.8331 8.33959 12.4276 7.80602 13.3731C6.70857 15.2646 7.51641 18.0704 8.58362 19.611C9.10188 20.3731 9.72648 21.2123 10.5495 21.1822C11.3271 21.1517 11.6319 20.6787 12.5771 20.6787C13.5216 20.6787 13.7961 21.1822 14.6192 21.1669C15.4729 21.1516 16.0065 20.4044 16.5248 19.6415C17.1193 18.7727 17.3627 17.9338 17.378 17.8877C17.3627 17.8725 15.732 17.2469 15.7169 15.3711C15.7015 13.8004 16.9972 13.0534 17.0581 13.007C16.3265 11.9249 15.1832 11.8029 14.7869 11.7722Z" fill="black"/>
    <path d="M23.68 9.64661C25.8999 9.64661 27.4457 11.1768 27.4457 13.4046C27.4457 15.6404 25.8681 17.1786 23.6244 17.1786H21.1665V21.0872H19.3907V9.64661H23.68V9.64661ZM21.1665 15.688H23.2041C24.7502 15.688 25.6302 14.8556 25.6302 13.4126C25.6302 11.9697 24.7502 11.1451 23.2121 11.1451H21.1665V15.688Z" fill="black"/>
    <path d="M27.9097 18.7167C27.9097 17.2578 29.0276 16.3619 31.0098 16.2509L33.293 16.1162V15.474C33.293 14.5464 32.6666 13.9914 31.6203 13.9914C30.629 13.9914 30.0106 14.467 29.8601 15.2124H28.2428C28.3379 13.7059 29.6222 12.5959 31.6836 12.5959C33.7053 12.5959 34.9976 13.6663 34.9976 15.3392V21.0872H33.3563V19.7156H33.3169C32.8333 20.6433 31.7787 21.2299 30.6847 21.2299C29.0514 21.2299 27.9097 20.2151 27.9097 18.7167ZM33.293 17.9635V17.3055L31.2395 17.4323C30.2167 17.5037 29.6381 17.9556 29.6381 18.6691C29.6381 19.3985 30.2406 19.8742 31.1603 19.8742C32.3574 19.8742 33.293 19.0496 33.293 17.9635Z" fill="black"/>
    <path d="M36.547 24.1556V22.768C36.6736 22.7997 36.959 22.7997 37.1018 22.7997C37.8946 22.7997 38.3228 22.4668 38.5843 21.6105C38.5843 21.5946 38.7351 21.1031 38.7351 21.0952L35.7224 12.7466H37.5774L39.6866 19.5333H39.7181L41.8273 12.7466H43.6349L40.5109 21.5232C39.7976 23.5451 38.973 24.1952 37.2447 24.1952C37.1018 24.1952 36.6736 24.1793 36.547 24.1556Z" fill="black"/>
    </g>
    <defs>
    <clipPath id="clip0">
    <rect width="49.9851" height="32" fill="white" transform="translate(0.507462)"/>
    </clipPath>
    </defs>
  </svg>
`,t.appendChild(n);var i=document.createElement("p");i.id="apple-pay-description",i.innerHTML="Pay with Apple Pay to complete your purchase without filling a form",t.appendChild(i);var s=JF();if(t.appendChild(s),r){var a=QF("More payment options");t.appendChild(a)}}function ME(t){return t.some((function(e){return e!=="apple_pay"}))}var cv=[{value:"key",required:!0,types:["string"]},{value:"amount",required:!0,or:["plan","planCode"],types:["string","number"]},{value:"currency",required:!1,types:["string"]},{value:"email",required:!0,or:["customerCode"],types:["string"]},{value:"label",required:!1,types:["string"]},{value:"firstName",required:!1,types:["string"]},{value:"lastName",required:!1,types:["string"]},{value:"reference",required:!1,types:["string"]},{value:"phone",required:!1,types:["string"]},{value:"customerCode",required:!1,override:"email",types:["string"]},{value:"channels",required:!1,types:["array"]},{value:"paymentRequest",required:!1,types:["string","number"]},{value:"paymentPage",required:!1,types:["string"]},{value:"hash",required:!1,types:["string"]},{value:"container",required:!1,types:["string"]},{value:"metadata",required:!1,types:["object"]},{value:"subaccountCode",required:!1,types:["string"]},{value:"bearer",required:!1,types:["string"]},{value:"transactionCharge",required:!1,types:["string","number"]},{value:"planCode",required:!1,override:"amount",types:["string"]},{value:"subscriptionCount",required:!1,types:["number"]},{value:"planInterval",required:!1,types:["string"]},{value:"subscriptionLimit",required:!1,types:["number"]},{value:"subscriptionStartDate",required:!1,types:["string"]},{value:"accessCode",required:!1,types:["string"]},{value:"onError",required:!1,types:["function"]},{value:"onLoad",required:!1,types:["function"]},{value:"onSuccess",required:!1,types:["function"]},{value:"onCancel",required:!1,types:["function"]},{value:"callback",required:!1,types:["function"]},{value:"onClose",required:!1,types:["function"]},{value:"onBankTransferConfirmationPending",required:!1,types:["function"]},{value:"firstname",required:!1,types:["string"]},{value:"lastname",required:!1,types:["string"]},{value:"customer_code",required:!1,types:["string"]},{value:"payment_request",required:!1,types:["string","number"]},{value:"subaccount",required:!1,types:["string"]},{value:"transaction_charge",required:!1,types:["number","string"]},{value:"plan",required:!1,types:["string"]},{value:"quantity",required:!1,types:["number"]},{value:"interval",required:!1,types:["string"]},{value:"invoice_limit",required:!1,types:["number","string"]},{value:"start_date",required:!1,types:["string"]},{value:"payment_page",required:!1,types:["number","string"]},{value:"order_id",required:!1,types:["number"]},{value:"ref",required:!1,types:["string"]},{value:"card",required:!1,types:["string"]},{value:"bank",required:!1,types:["string"]},{value:"split",required:!1,types:["object"]},{value:"split_code",required:!1,types:["string"]},{value:"transaction_type",required:!1,types:["string"]},{value:"subscription",required:!1,types:["number"]},{value:"language",required:!1,types:["string"]},{value:"connect_account",required:!1,types:["string"]},{value:"connect_split",required:!1,types:["array"]}];function xZ(t){return t?.length>500?t.split("?")[0]:t}function vZ(t){var e,r,n,i,s=cs({},t);return s.metadata=t.metadata||{},s.metadata.referrer=(e=window.location,r=e.href,n=r===void 0?"":r,i=e.ancestorOrigins,[n].concat(zF(i===void 0?[]:i)).map(xZ).join(",")),s.metadata=JSON.stringify(s.metadata),s.mode="popup",t.split&&typeof t.split!="string"&&(s.split=JSON.stringify(s.split)),s.card!==void 0&&["false",!1].indexOf(s.card)>-1&&(s.channels=["bank"],delete s.card),s.bank!==void 0&&["false",!1].indexOf(s.bank)>-1&&(s.channels=["card"],delete s.bank),[{to:"firstname",from:"firstName"},{to:"lastname",from:"lastName"},{to:"customer_code",from:"customerCode"},{to:"payment_request",from:"paymentRequest"},{to:"subaccount",from:"subaccountCode"},{to:"transaction_charge",from:"transactionCharge"},{to:"plan",from:"planCode"},{to:"quantity",from:"subscriptionCount"},{to:"interval",from:"planInterval"},{to:"invoice_limit",from:"subscriptionLimit"},{to:"start_date",from:"subscriptionStartDate"},{to:"ref",from:"reference"}].forEach((function(a){s[a.from]&&(s[a.to]=s[a.from],delete s[a.from])})),Object.values(t).forEach((function(a,o){if(typeof a=="function"){var l=Object.keys(t)[o];delete s[l]}})),s}var yZ=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"],ZF=window&&window.navigator&&(window.navigator.platform||window.navigator.userAgentData&&window.navigator.userAgentData.platform),ej=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.platform,r=t.userAgent,n=r===void 0?window&&window.navigator&&window.navigator.userAgent:r,i=e||ZF;return yZ.includes(i)||n.includes("Mac")&&"ontouchend"in document},wZ=function(t,e,r){var n="".concat(Jo.paystackApiUrl,"transaction/update_log/").concat(t),i={Authorization:"Bearer ".concat(e)};return fetch(n,{method:"POST",body:JSON.stringify({payload:JSON.stringify(r)}),headers:i})},_Z=function(t,e){var r="".concat(Jo.paystackApiUrl,"transaction/set_ip/").concat(t),n={Authorization:"Bearer ".concat(e)};return fetch(r,{method:"POST",headers:n})},bZ={initializeLog:function(t){var e=t||{},r=e.attempts,n=e.authentication,i=e.errors,s=e.history;this.log={start_time:Math.round(Date.now()/1e3),time_spent:0,attempts:r||0,authentication:n,errors:i||0,success:!1,mobile:ej(),input:[],history:s||[]}},getTimeSpent:function(){var t=Math.round(Date.now()/1e3);return this.log.time_spent=t-this.log.start_time,this.log.time_spent},logAPIResponse:function(t,e){switch(t.status){case"success":return this.logApiSuccess(e);case"failed":return this.logApiError(t.message);default:return!1}},logValidationResponse:function(t){return this.log.history.push({type:"action",message:t,time:this.getTimeSpent()}),this.saveLog()},logAttempt:function(t){var e="Attempted to pay";return t&&(e+=" with ".concat(t)),this.log.attempts+=1,this.log.history.push({type:"action",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiError:function(t){var e="Error";return t&&(e+=": ".concat(t)),this.log.errors+=1,this.log.history.push({type:"error",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiSuccess:function(t){var e="Successfully paid";return t&&(e+=" with ".concat(t)),this.log.success=!0,this.log.history.push({type:"success",message:e,time:this.getTimeSpent()}),this.saveLog()},saveLog:function(){try{if(this.response)return wZ(this.id,this.response.merchant_key,this.log)}catch{}},saveIpAddress:function(){try{if(this.response)return _Z(this.id,this.response.merchant_key)}catch{}}},kZ=["language","connect_account"],SZ={requestInline:function(){var t=this,e=this.urlParameters,r=e.language,n=e.connect_account,i=j_(e,kZ),s=cs({"Content-Type":"application/json"},r&&{"Accept-Language":r});return(this.accessCode?fetch(new URL("transaction/verify_access_code/".concat(this.accessCode),Jo.paystackApiUrl).toString(),{headers:s}):fetch(new URL("/checkout/request_inline",Jo.paystackApiUrl).toString(),{method:"POST",body:JSON.stringify(i),headers:cs(cs({},s),n&&{"x-connect-account":n})})).then((function(a){return a.json()})).then((function(a){if(a.status===!1)throw new Error(a.message);return t.response=a.data,t.id=a.data.id,t.status=a.data.transaction_status,t.accessCode=a.data.access_code,t.log=null,Object.assign(t,bZ),t.initializeLog(a.data.log),t.saveIpAddress(),a.data}))}},Fw=(function(){function t(e){BF(this,t),(function(c){function u(y,w){this.message=y,this.issues=w||[]}if(!c||C0(c)!=="object")throw new u("Transaction parameters should be a non-empty object");var p=c;if("accessCode"in p)return{accessCode:p.accessCode};Object.keys(p).forEach((function(y){cv.find((function(w){return w.value===y}))!==void 0||delete p[y]}));var g=Object.keys(p),m=[];if(cv.filter((function(y){return y.required})).forEach((function(y){var w=!p[y.value],_=y.or?y.or.some((function(E){return p[E]})):null;w&&!_&&m.push({message:"Required parameter missing: ".concat(y.value)})})),g.forEach((function(y){var w=p[y],_=cv.find((function(L){return L.value===y})),E=C0(w);E==="object"&&Array.isArray(w)&&(E="array"),_.types.indexOf(E)<=-1&&m.push({message:"Invalid parameter type: ".concat(y),validTypes:_.types})})),g.forEach((function(y){var w=cv.find((function(_){return _.value===y}));w.override&&delete p[w.override]})),m.length)throw new u("Invalid transaction parameters",m)})(e),this.parameters=e,this.urlParameters=vZ(e),this.id=null,this.status=null,this.accessCode=e.accessCode||null,this.authorizationUrl=null,this.errors=[],this.response=null,this.isActive=!0;var r=e.onError,n=e.onLoad,i=e.onSuccess,s=e.onCancel,a=e.callback,o=e.onClose,l=e.onBankTransferConfirmationPending;this.callbacks={onError:r,onLoad:n,onSuccess:i,onCancel:s,onBankTransferConfirmationPending:l},this.deprecatedCallbacks={callback:a,onClose:o},Object.assign(this,SZ)}return VF(t,[{key:"onSetupError",value:function(e){this.logError(e),this.callbacks.onError&&this.callbacks.onError(e)}},{key:"onLoad",value:function(e){var r=e.id,n=e.customer,i=e.accessCode;Object.assign(this,{id:r,customer:n,accessCode:i}),this.authorizationUrl="".concat(Jo.checkoutUrl).concat(i),this.callbacks.onLoad&&this.callbacks.onLoad({id:r,customer:n,accessCode:i})}},{key:"onSuccess",value:function(e){this.isActive=!1,this.response=e,this.status=e.status,this.callbacks.onSuccess&&this.callbacks.onSuccess(e),this.deprecatedCallbacks.callback&&this.deprecatedCallbacks.callback(e)}},{key:"setStatus",value:function(e){this.status=e}},{key:"onCancel",value:function(){this.callbacks.onCancel&&this.callbacks.onCancel(),this.deprecatedCallbacks.onClose&&this.deprecatedCallbacks.onClose()}},{key:"cancel",value:function(){this.isActive=!1,this.onCancel()}},{key:"onBankTransferConfirmationPending",value:function(){this.cancel(),this.callbacks.onBankTransferConfirmationPending&&this.callbacks.onBankTransferConfirmationPending()}},{key:"logError",value:function(e){this.errors.push(e)}}]),t})(),b8=console?console.warn||console.log:function(){};function BE(t,e,r){b8('"'.concat(t,'" has been deprecated, please use "').concat(e,'". ').concat(r))}var Zr,EZ=["preload","inlineTransaction","transactionData"],CZ=["container","styles","onElementsMount"];function jw(t,e){if(!t.length)return null;var r=t.filter((function(n){var i,s,a,o,l=!n.status||n.status==="abandoned",c=(i=n.parameters,s=e,a=Object.keys(i).sort().join("")===Object.keys(s).sort().join(""),o=Object.values(i).sort().join("")===Object.values(s).sort().join(""),a&&o);return l&&c}));return r.length?r[r.length-1]:null}function VE(t){var e=t.checkoutIframe,r=t.urlParameters;e&&r&&e.contentWindow.postMessage({type:"inline:url",path:"newTransaction",params:r},"*")}var TZ="trackCheckoutClosed",UE="trackPaymentError",AZ="trackPaymentAttempt",NZ="trackPaymentCompletion";function Dw(t){throw b8(t),new Error(t)}var zE,$E,tj=(function(){function t(e){var r,n;BF(this,t),this.id=(function(){for(var i="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a+=1)i+=s.charAt(Math.floor(Math.random()*s.length));return i})(),this.transactions=[],this.isOpen=!1,this.isLoaded=!1,this.isDeprecatedApi=e&&e.isDeprecatedApi,e&&e.isEmbed?this.isEmbed=!0:e&&e.isPaymentRequest&&(e.container&&lv(e.container)||Dw("A container is required to mount the payment request button"),this.paymentRequestContainer=lv(e.container),this.paymentRequestTransaction=null),this.preCheckoutModal=null,this.backgroundIframe=(function(i){var s=Rw("inline-background-".concat(i));s.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  background: rgba(0, 0, 0, 0.75);    
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  transition: opacity 0.3s;
  -webkit-transition: opacity 0.3s;
  visibility: hidden;
  display: none;
`,document.body.appendChild(s);var a=s.contentWindow.document;return a.open(),a.write(`
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Paystack Popup Loader</title>
    <style>
      .app-loader {
        margin: 200px 0;
        text-align: center;
        color: white;
      }      
      @keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @-webkit-keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      .app-loader__spinner {
        position: relative;
        display: inline-block;
      }
      .app-loader__spinner div {
        left: 95px;
        top: 35px;
        position: absolute;
        -webkit-animation: app-loader__spinner linear 1s infinite;
        animation: app-loader__spinner linear 1s infinite;
        background: white;
        width: 10px;
        height: 30px;
        border-radius: 40%;
        -webkit-transform-origin: 5px 65px;
        transform-origin: 5px 65px;
      }
      .app-loader__spinner div:nth-child(1) {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
        -webkit-animation-delay: -0.916666666666667s;
        animation-delay: -0.916666666666667s;
      }
      .app-loader__spinner div:nth-child(2) {
        -webkit-transform: rotate(30deg);
        transform: rotate(30deg);
        -webkit-animation-delay: -0.833333333333333s;
        animation-delay: -0.833333333333333s;
      }
      .app-loader__spinner div:nth-child(3) {
        -webkit-transform: rotate(60deg);
        transform: rotate(60deg);
        -webkit-animation-delay: -0.75s;
        animation-delay: -0.75s;
      }
      .app-loader__spinner div:nth-child(4) {
        -webkit-transform: rotate(90deg);
        transform: rotate(90deg);
        -webkit-animation-delay: -0.666666666666667s;
        animation-delay: -0.666666666666667s;
      }
      .app-loader__spinner div:nth-child(5) {
        -webkit-transform: rotate(120deg);
        transform: rotate(120deg);
        -webkit-animation-delay: -0.583333333333333s;
        animation-delay: -0.583333333333333s;
      }
      .app-loader__spinner div:nth-child(6) {
        -webkit-transform: rotate(150deg);
        transform: rotate(150deg);
        -webkit-animation-delay: -0.5s;
        animation-delay: -0.5s;
      }
      .app-loader__spinner div:nth-child(7) {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
        -webkit-animation-delay: -0.416666666666667s;
        animation-delay: -0.416666666666667s;
      }
      .app-loader__spinner div:nth-child(8) {
        -webkit-transform: rotate(210deg);
        transform: rotate(210deg);
        -webkit-animation-delay: -0.333333333333333s;
        animation-delay: -0.333333333333333s;
      }
      .app-loader__spinner div:nth-child(9) {
        -webkit-transform: rotate(240deg);
        transform: rotate(240deg);
        -webkit-animation-delay: -0.25s;
        animation-delay: -0.25s;
      }
      .app-loader__spinner div:nth-child(10) {
        -webkit-transform: rotate(270deg);
        transform: rotate(270deg);
        -webkit-animation-delay: -0.166666666666667s;
        animation-delay: -0.166666666666667s;
      }
      .app-loader__spinner div:nth-child(11) {
        -webkit-transform: rotate(300deg);
        transform: rotate(300deg);
        -webkit-animation-delay: -0.083333333333333s;
        animation-delay: -0.083333333333333s;
      }
      .app-loader__spinner div:nth-child(12) {
        -webkit-transform: rotate(330deg);
        transform: rotate(330deg);
        -webkit-animation-delay: 0s;
        animation-delay: 0s;
      }
      .app-loader__spinner {
        width: 40px;
        height: 40px;
        -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
        transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
      }
    </style>
  </head>

  <body>
    <div id="app-loader" class="app-loader">
      <div id="spinner" class="app-loader__spinner">
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div><div></div><div></div><div></div><div></div>
      </div>
    </div>
  </body>

  </html>
`),a.close(),s})(this.id),this.checkoutIframe=(r=this.id,(n=Rw("inline-checkout-".concat(r))).src="".concat(Jo.checkoutUrl,"popup"),n.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  visibility: hidden;
  display: none;
  height: 100%;
`,n.setAttribute("allowpaymentrequest","true"),n.setAttribute("allow","payment; clipboard-read; clipboard-write"),document.body.appendChild(n),n),this.registerListeners()}return VF(t,[{key:"registerListeners",value:function(){var e=this;window.addEventListener("message",(function(r){var n="".concat(r.origin,"/")===Jo.checkoutUrl,i=e.checkoutIframe&&e.checkoutIframe.contentWindow===r.source,s=e.isEmbed;n||i?e.respondToEvent(r):s&&e.respondToEmbedEvents(r)}))}},{key:"sendAnalyticsEventToCheckout",value:function(e,r){this.checkoutIframe.contentWindow.postMessage({type:"analytics",action:e,params:r},"*")}},{key:"checkout",value:function(e){this.activeTransaction()&&this.activeTransaction().cancel(),Zr=this;var r=jw(this.transactions,e)||new Fw(e);return new Promise((function(n,i){r.requestInline().then((function(s){var a=(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.platform,u=l.userAgent,p=u===void 0?window&&window.navigator&&window.navigator.userAgent:u,g=c||ZF,m=p&&!!p.match(/Version\/[\d.]+.*Safari/),y=g&&/(Mac)/i.test(g);return ej()||y&&m})()&&D_(s.channels),o=(function(){var l,c,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!((l=u.link_config)===null||l===void 0||!l.enabled||(c=u.link_config)===null||c===void 0||!c.has_payment_instruments)})(s);o||a?(Zr.preloadTransaction({inlineTransaction:r,transactionData:s}),Zr.preCheckoutModal=(function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.querySelector("#pre-checkout-modal-".concat(l));if(p){if(OE(p)&&Lw(p))return p;p.remove()}var g=document.createElement("div");g.classList.add("pre-checkout-modal"),g.id="pre-checkout-modal-".concat(l),g.style.zIndex=fZ()+1;var m=document.createElement("div");m.classList.add("pre-checkout-modal__content"),g.appendChild(m);var y=c||{},w=y.merchant_logo,_=y.merchant_name,E=y.email,L=y.amount,I=y.currency,V=y.label,G=y.channels,X=new Intl.NumberFormat("en",{style:"currency",currency:I,currencyDisplay:"code",maximumFractionDigits:2,minimumFractionDigits:0}).format(L/100),R=document.createElement("div");R.classList.add("payment-info"),R.innerHTML='<img class="merchant-logo" src="'.concat(w,'" alt="').concat(_,` Logo">
    <div class="customer-info">
      <div class="customer-email">`).concat(V||E,`</div>
      <div class="transaction-amount">Pay <span class="amount">`).concat(X,`</span></div>
    </div>`),m.appendChild(R),m.innerHTML+=lZ;var A=document.createElement("div");A.classList.add("modal-wrapper"),u.canPayWithVault?mZ(A,{canPayWithApplePay:u.canPayWithApplePay,hasOtherPaymentMethods:ME(G)}):gZ(A,{hasOtherPaymentMethods:ME(G)}),A.innerHTML=A.innerHTML+WF+oZ,m.appendChild(A);var C=document.createElement("style");return C.textContent=uZ,document.body.appendChild(C),document.body.appendChild(g),g})(Zr.id,s,{canPayWithVault:o,canPayWithApplePay:a}),a?(Zr.paymentRequestContainer=Lw(Zr.preCheckoutModal),DE(Zr.paymentRequestContainer,{channels:s.channels,styles:{applePay:{width:"100%",type:"pay",height:"42px",padding:"15px",borderRadius:"5px"}}},s.merchant_id).then((function(){Zr.registerPaymentRequestEventListeners()})).catch((function(){o?Lw(Zr.preCheckoutModal).remove():(Zr.closePreCheckoutModal(),Zr.animateCheckoutIn())})).finally((function(){n(r)}))):n(r)):(Zr.newTransaction({inlineTransaction:r,transactionData:s}),n(r))})).catch((function(s){r.onSetupError({status:!1,message:s.message}),i(s)}))}))}},{key:"openPreCheckoutModal",value:function(){var e;this.registerPreCheckoutModalEventListeners(),e=this.preCheckoutModal,new Promise((function(r,n){try{var i=e.querySelector(".pre-checkout-modal__content");e.classList.add("show"),setTimeout((function(){i.classList.add("show"),r(!0)}),50)}catch(s){n(s)}}))}},{key:"registerPreCheckoutModalEventListeners",value:function(){var e,r=this,n=!1,i=this.activeTransaction();document.addEventListener("touchstart",(function(l){l.preventDefault(),n||(n=!0,e=setTimeout((function(){n=!1}),125))}),!0),document.addEventListener("touchend",(function(l){l.target&&l.target.isSameNode(Zr.preCheckoutModal)&&n&&(clearTimeout(e),Zr.closePreCheckoutModal(),i&&i.cancel()),n=!1}),!0);var s=OE(this.preCheckoutModal);s&&(s.onclick=function(){r.closePreCheckoutModal(),r.animateCheckoutIn()});var a=this.preCheckoutModal.querySelector("#".concat(YF));a&&(a.onclick=function(){r.closePreCheckoutModal(),r.animateCheckoutIn(),r.checkoutIframe.contentWindow.postMessage({type:"inline:pay-with-vault"},"*")});var o=(function(l){return l.querySelector("#apple-pay-close-button")})(this.preCheckoutModal);o.onclick=function(){r.sendAnalyticsEventToCheckout(TZ),r.closePreCheckoutModalAndCancelTransaction()}}},{key:"closePreCheckoutModal",value:function(e){var r;this.preCheckoutModal&&(e==="failed"?(r=this.preCheckoutModal)&&(r.querySelector("#apple-pay-mark--light").innerHTML=`<svg width="50" height="30" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="error-icon">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="error" fill-rule="nonzero">
            <path d="M9.14672,0.47855 L0.14829,15.47855 C-0.0403320234,15.7872042 -0.0475647902,16.1736607 0.129375884,16.4891566 C0.306316558,16.8046526 0.639843999,16.9999993 1.00157,17 L19.43546,17 C19.797186,16.9999993 20.1307134,16.8046526 20.3076541,16.4891566 C20.4845948,16.1736607 20.477362,15.7872042 20.28874,15.47855 L10.85328,0.47855 C10.671624,0.181297031 10.3483651,3.00996351e-06 10,3.00996351e-06 C9.6516349,3.00996351e-06 9.32837603,0.181297031 9.14672,0.47855 Z" id="Shape" fill="#FFAA22"></path>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="6" width="2" height="5"></rect>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="12" width="2" height="2"></rect>
        </g>
    </g>
</svg>`,r.querySelector("#apple-pay-description").textContent="An error occurred while paying with Apple Pay. Please try again or use another payment method."):((function(n){n&&(n.querySelector(".pre-checkout-modal__content").classList.remove("show"),n.classList.remove("show"))})(this.preCheckoutModal),this.preCheckoutModal.remove(),this.preCheckoutModal=null))}},{key:"closePreCheckoutModalAndCancelTransaction",value:function(){this.preCheckoutModal&&(this.cancelTransaction(),this.checkoutIframe&&this.checkoutIframe.contentWindow&&this.checkoutIframe.contentWindow.postMessage("close","*"),this.closePreCheckoutModal())}},{key:"newTransaction",value:function(e){var r=e.preload,n=e.inlineTransaction,i=e.transactionData,s=j_(e,EZ),a=this.paymentRequestContainer&&Jv(this.paymentRequestContainer);if(this.activeTransaction()&&!a&&this.activeTransaction().cancel(),n&&i)return this.transactions.push(n),this.isDeprecatedApi||this.open({accessCode:i.access_code,language:n.urlParameters.language},r),n;var o=jw(this.transactions,n?n.parameters:s);if(o)return o.isActive=!0,this.isDeprecatedApi||this.open({accessCode:o.accessCode,language:o.urlParameters.language},r),o;var l=n||new Fw(s),c=l.accessCode?{accessCode:l.accessCode,language:l.urlParameters.language}:l.urlParameters;return this.transactions.push(l),this.isDeprecatedApi||this.open(c,r),l}},{key:"preloadTransaction",value:function(e){var r=this;return this.newTransaction(cs(cs({},e),{},{preload:!0})),function(){return r.animateCheckoutIn()}}},{key:"paymentRequest",value:function(e){var r=e.container,n=e.styles,i=e.onElementsMount,s=j_(e,CZ);return Zr=this,new Promise((function(a,o){var l=document.querySelector("#".concat(e.loadPaystackCheckoutButton));if(GF()){Zr.activeTransaction()&&Zr.activeTransaction().cancel(),r&&lv(r)||Dw("A container is required to mount the payment request button"),Zr.paymentRequestContainer=lv(r);var c=jw(Zr.transactions,s),u=c||new Fw(s);u.requestInline().then((function(m){DE(Zr.paymentRequestContainer,{channels:m.channels,styles:n},m.merchant_id).then((function(y){i&&i(y)})).catch((function(){i&&i(null)})).finally((function(){if(c?u.isActive=!0:Zr.transactions.push(u),Zr.registerPaymentRequestEventListeners(),l){var y=Zr.preloadTransaction({inlineTransaction:u,transactionData:m});l.onclick=y}a(u)}))})).catch((function(m){u.onSetupError({status:!1,message:m.message}),o(m)}))}else{if(e&&e.loadPaystackCheckoutButton)if(l){var p=Zr.preloadTransaction(s);l.onclick=p}else b8("This device does not support any payment request wallet options. Please consult our documentation at https://developers.paystack.co/docs/paystack-inline to see how to load alternative payment options using 'loadPaystackCheckoutButton'");i&&i(null);var g=Zr.activeTransaction();a(g)}}))}},{key:"registerApplePayEventListener",value:function(){var e=this;Jv(this.paymentRequestContainer).onclick=function(){return e.startApplePay()}}},{key:"registerPaymentRequestEventListeners",value:function(){var e=this.activeTransaction();e&&D_(e.response.channels)?this.registerApplePayEventListener():hZ(this.paymentRequestContainer)}},{key:"startApplePay",value:function(){var e,r,n,i,s,a=this,o="apple pay",l=this.activeTransaction();if(l){var c={channel:"apple_pay",paymentMethod:o,currency:l.currency,amount:l.amount},u={channel:"apple_pay",currency:l.currency,amount:l.amount,timeSpent:l.getTimeSpent()};try{l.logAttempt(o),this.sendAnalyticsEventToCheckout(AZ,c);var p=(e={currency:l.response.currency,amount:l.response.amount,merchantName:l.response.merchant_name,interval:l.response.plan_details&&l.response.plan_details.interval},r=e.currency,n=e.amount,i=e.merchantName,s=e.interval,cs({countryCode:"NG",currencyCode:r,merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],supportedNetworks:["visa","masterCard"],requiredBillingContactFields:["postalAddress","name","phone","email"],total:{label:"".concat(i," - Paystack"),type:"final",amount:String(LE(n))}},typeof s=="string"&&s.trim()!==""&&{lineItems:[{label:dZ(s),amount:String(LE(n))}]})),g=new window.ApplePaySession(Jo.applePayVersion,p);g.onvalidatemerchant=function(m){var y=(function(w){var _=w.transactionId,E=w.validationURL,L=w.merchantName,I=w.domainName,V=I===void 0?window&&window.location&&window.location.hostname:I,G="".concat(Jo.paymentBaseUrl).concat(Jo.applePayValidateSessionPath),X=jE({transaction:_,sessionUrl:E,displayName:L,domainName:V});return fetch(G,cs(cs({},FE),{},{body:X})).then((function(R){return R.json()}))})({validationURL:m.validationURL,transactionId:l.id,merchantName:l.response.merchant_name});y.then((function(w){w.status!=="success"?l.onSetupError(w):g.completeMerchantValidation(w.data),l.logValidationResponse(w.message)})).catch((function(w){l.onSetupError(w)}))},g.oncancel=function(){Zr.preCheckoutModal||l.onCancel()},g.onpaymentauthorized=function(m){var y=m.payment,w=(function(_){var E=_.transactionId,L=_.payment,I="".concat(Jo.paymentBaseUrl).concat(Jo.applePayChargePath),V=jE({transaction:E,paymentObject:JSON.stringify(L)});return fetch(I,cs(cs({},FE),{},{body:V})).then((function(G){return G.json()}))})({transactionId:l.id,payment:y});w.then((function(_){l.logAPIResponse(_,o),_.status==="success"?(g.completePayment(g.STATUS_SUCCESS),l.onSuccess(_),a.sendAnalyticsEventToCheckout(NZ,u)):(g.completePayment(g.STATUS_FAILURE),l.onSetupError(_),a.sendAnalyticsEventToCheckout(UE,{channel:"apple_pay",message:_&&_.message||"Transaction attempt failed"})),Zr.closePreCheckoutModal(_.status)})).catch((function(_){g.completePayment(g.STATUS_FAILURE),l.onSetupError(_),a.sendAnalyticsEventToCheckout(UE,{channel:"apple_pay",message:_&&_.message||"Error occurred"}),Zr.closePreCheckoutModal("failed")}))},g.begin()}catch(m){l.onSetupError(m)}}else Dw("Could not initiate apple pay transaction")}},{key:"resumeTransaction",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.onSuccess,i=r.onCancel,s=r.onLoad,a=r.onError;return this.newTransaction({accessCode:e,onSuccess:n,onCancel:i,onLoad:s,onError:a})}},{key:"activeTransaction",value:function(){var e=this.transactions.filter((function(n){return n.isActive})),r=e.length?e[e.length-1]:null;return r}},{key:"cancelTransaction",value:function(e){var r=this.transactions.find((function(n){return n.id===e}))||this.activeTransaction();r&&(r.cancel(),this.close())}},{key:"respondToEvent",value:function(e){if(e){var r,n,i=this.activeTransaction();try{var s=e.data||e.message,a=s.event,o=s.data;if(a)switch(a){case"loaded:checkout":if(this.isLoaded=!0,i){var l=this.checkoutIframe,c=i.urlParameters,u=i.response;VE({checkoutIframe:l,urlParameters:u?{accessCode:u.access_code,language:c?.language}:c})}break;case"loaded:transaction":r=this.backgroundIframe,(n=r.contentWindow.document)&&(n.getElementById("app-loader").style.display="none"),this.preCheckoutModal&&this.openPreCheckoutModal(),i.onLoad(o);break;case"error":o.type==="setup"?i.onSetupError(o):i.logError(o);break;case"cancel":case"close":this.close();var p=o&&o.status;p&&i.setStatus(p),!(this.paymentRequestContainer&&Jv(this.paymentRequestContainer)&&!this.preCheckoutModal)&&(i.isActive=!1),i.onCancel();break;case"transfer:pending":this.close();var g=o&&o.status;g&&i.setStatus(g),i.onBankTransferConfirmationPending();break;case"success":this.close(),i.onSuccess(o)}}catch{}}}},{key:"respondToEmbedEvents",value:function(e){var r,n,i=this.activeTransaction(),s=e.data||e.message;if(s&&(typeof s=="string"||s instanceof String)){var a={action:n=(r=s)&&typeof r=="string"?r.split(" ")[0]:null,data:n?r.split(" ").slice(2).join(" "):null};a&&a.action==="PaystackClose"&&a.data&&i.onSuccess(s),a.action==="PaystackTLSClose"&&i.cancel()}}},{key:"animateCheckoutIn",value:function(){var e,r=this;if(!this.isOpen){var n=this.checkoutIframe,i=this.backgroundIframe;(e={checkoutIframe:n,backgroundIframe:i},new Promise((function(s,a){e||a("No dom element provided");var o=e.checkoutIframe,l=e.backgroundIframe;o&&l||a("No dom element provided"),o.style.display="",o.style.visibility="visible",l.style.display="",l.style.visibility="visible",s()}))).then((function(){r.checkoutIframe.contentWindow.postMessage("render","*")})),this.isOpen=!0}}},{key:"open",value:function(e,r){e&&(VE({checkoutIframe:this.checkoutIframe,urlParameters:e}),r||this.animateCheckoutIn())}},{key:"close",value:function(){var e=this;if(this.isOpen){var r,n=this.checkoutIframe,i=this.backgroundIframe;(r={checkoutIframe:n,backgroundIframe:i},new Promise((function(s,a){r||a("No dom element provided");var o=r.checkoutIframe,l=r.backgroundIframe;o&&l||a("No dom element provided"),l.style.opacity=0,o.style.display="none",o.style.visibility="hidden",setTimeout((function(){l.style.display="none",l.style.visibility="hidden",l.style.opacity=1,s()}),300)}))).then((function(){e.checkoutIframe.contentWindow.postMessage("close","*")})),this.isOpen=!1}}},{key:"isLoaded",value:function(){return this.isLoaded}}],[{key:"setup",value:function(e){var r=e&&e.container;Zr||(Zr=new t({isDeprecatedApi:!0,isEmbed:r})),BE("PaystackPop.setup()","new PaystackPop()","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline");var n=Zr.newTransaction(e,"deprecated"),i=n.urlParameters;if(r){var s="".concat(Jo.siteUrl,"/assets/payment/production/inline.html?").concat(HF(i)),a=(function(o,l){var c=Rw("embed-checkout-".concat(o));return c.style.cssText=`
  background: transparent;
  background: rgba(0,0,0,0);
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  nmargin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  visibility: hidden;
  display: none;
`,c.src=l,c.id=o,c.name=o,c})(Zr.id,s);(function(o,l){var c=document.getElementById(o);c.innerHTML="",c.removeAttribute("style"),c.className="paystack-embed-container",c.style.position="relative",c.style.width="100%",c.appendChild(l)})(e.container,a),a.onload=function(){var o;a.contentWindow.postMessage("PaystackOpen ".concat(Zr.id),"*"),o=a,new Promise((function(l,c){o||c("No dom element provided"),o.style.display="",o.style.visibility="visible",l()}))}}else n.openIframe=function(){BE("openIframe","open","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline"),Zr.open(i)};return n}}]),t})();if(zE=PE().length>0,$E=Bp()&&Bp().parentElement.tagName==="FORM",zE&&$E){var Ow,Dh=(function(){var t={},e=Bp();return PE().forEach((function(r){var n=e.getAttribute(r),i=r.split("data-")[1].replace(/-([a-z])/g,(function(s){return s[1].toUpperCase()}));t[i]=n})),(function(r){if(r.buttonId&&!document.getElementById(r.buttonId))throw new Error("Please make sure the buttonId is an element available in the DOM");var n=cs({},r);n.buttonText=r.buttonText||"Pay",n.buttonVariant="normal",n.buttonWordmarkVariant="normal";var i=["normal","light"];return r.buttonVariant&&i.indexOf(r.buttonVariant)>-1&&(n.buttonVariant=r.buttonVariant),r.buttonWordmarkVariant&&i.indexOf(r.buttonWordmarkVariant)>-1&&(n.buttonWordmarkVariant=r.buttonWordmarkVariant),n})(t)})(),qE=Bp().parentElement;Zr||(Zr=new tj),(function(t){var e;if(t.id)(e=document.getElementById(t.id)).setAttribute("data-inline-id",t.id);else{var r=document.createElement("div");r.id="inline-button-".concat(t.inlineId),r.innerHTML=(function(n){var i,s,a={normal:`
  <svg id="inline-button-wordmark" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#011B33"/>
    </svg>`,light:WF};return`
    <style>
      #inline-button-`.concat(n.inlineId,` {
        position: relative;
        text-align: center;
        display: inline-block;
      }
      #inline-button-`).concat(n.inlineId,`__trigger {
        `).concat((i=n.variant||"normal",s={normal:`
    background: linear-gradient(180deg,#44b669 0,#40ad57);
    text-shadow: 1px 1px 1px rgba(0,0,0,.1);
    color: #ffffff;
  `,light:`
    background: white;
    text-shadow: none;
    color: #011b33;
  `},"".concat(`
    box-sizing: border-box;
    display: inline-block;
    line-height: 1;
    white-space: nowrap;
    margin: 0 0 10px;
    text-align: center;
    -webkit-appearance: none;
    outline: none;
    font-size: 14px;
    font-weight: 600;
    border-radius: 6px;
    cursor: pointer;
    padding: 16px 24px;
    box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);
    transition: all .3s ease;
    border: none;
    min-width: 190px;
  `).concat(s[i])),`
      }
      #inline-button-`).concat(n.inlineId,`__trigger:hover {
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
      }
      #inline-button-`).concat(n.inlineId,`__trigger:active {
        transform: translateY(3px);
      }
    </style>
    <button id="inline-button-`).concat(n.inlineId,'__trigger" data-inline-id="').concat(n.inlineId,'">').concat(n.text||"Pay"," ").concat(n.currency||"NGN"," ").concat(n.amount,`</button>
    <div id="inline-button-`).concat(n.inlineId,`__wordmark">
      `).concat(a[n.wordmarkVariant||"normal"],`
    </div>
  `)})(t),t.parent.parentNode.insertBefore(r,t.parent.nextSibling),e=sZ(r.getElementsByTagName("button"),1)[0]}return e})({inlineId:Zr.id,amount:Dh.amount/100,currency:Dh.currency,id:Dh.buttonId,text:Dh.buttonText,variant:Dh.buttonVariant,wordmarkVariant:Dh.buttonWordmarkVariant,parent:Bp()}).addEventListener("click",(function(t){t.preventDefault(),Ow?Zr.resumeTransaction(Ow.accessCode):Ow=Zr.newTransaction(cs(cs({},Dh),{},{onSuccess:function(e){var r,n,i,s,a,o;r={type:"hidden",name:"reference",value:e.reference,parent:qE},n=r.type,i=r.value,s=r.name,a=r.parent,(o=document.createElement("input")).type=n,o.value=i,o.name=s,a.appendChild(o),qE.submit()}}))}))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IZ="type.googleapis.com/google.protobuf.Int64Value",PZ="type.googleapis.com/google.protobuf.UInt64Value";function rj(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function O_(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>O_(e));if(typeof t=="function"||typeof t=="object")return rj(t,e=>O_(e));throw new Error("Data cannot be encoded in JSON: "+t)}function By(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case IZ:case PZ:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>By(e)):typeof t=="function"||typeof t=="object"?rj(t,e=>By(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class n1 extends qc{constructor(e,r,n){super(`${k8}/${e}`,r||""),this.details=n}}function RZ(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function LZ(t,e){let r=RZ(t),n=r,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!HE[a])return new n1("internal","internal");r=HE[a],n=a}const o=s.message;typeof o=="string"&&(n=o),i=s.details,i!==void 0&&(i=By(i))}}catch{}return r==="ok"?null:new n1(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FZ{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="us-central1";function jZ(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new n1("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class DZ{constructor(e,r,n,i,s=M_,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new FZ(r,n,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=M_}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function OZ(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function MZ(t,e,r){return(n=>VZ(t,e,n,{}))}async function BZ(t,e,r,n){r["Content-Type"]="application/json";let i;try{i=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function VZ(t,e,r,n){const i=t._url(e);return UZ(t,i,r,n)}async function UZ(t,e,r,n){r=O_(r);const i={data:r},s={},a=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=n.timeout||7e4,l=jZ(o),c=await Promise.race([BZ(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new n1("cancelled","Firebase Functions instance was deleted.");const u=LZ(c.status,c.json);if(u)throw u;if(!c.json)throw new n1("internal","Response is not valid JSON object.");let p=c.json.data;if(typeof p>"u"&&(p=c.json.result),typeof p>"u")throw new n1("internal","Response is missing data field.");return{data:By(p)}}const WE="@firebase/functions",GE="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ="auth-internal",$Z="app-check-internal",qZ="messaging-internal";function HZ(t,e){const r=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),a=n.getProvider(zZ),o=n.getProvider(qZ),l=n.getProvider($Z);return new DZ(s,a,o,l,i,t)};Of(new vd(k8,r,"PUBLIC").setMultipleInstances(!0)),sc(WE,GE,e),sc(WE,GE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WZ(t=S5(),e=M_){const n=M0(un(t),k8).getImmediate({identifier:e}),i=e6("functions");return i&&GZ(n,...i),n}function GZ(t,e,r){OZ(un(t),e,r)}function KZ(t,e,r){return MZ(un(t),e)}HZ(fetch.bind(self));const XZ=WZ();async function YZ(t){const r=await KZ(XZ,"initOrder")({total:t}),{checkoutUrl:n,accessCode:i,orderId:s,paystackReference:a}=r.data;return new Promise((o,l)=>{new tj().resumeTransaction(i,{onSuccess:()=>{console.log("Payment successful"),o({status:!0,message:"Payment successful",data:{checkoutUrl:n,orderId:s,paystackReference:a}})},onCancel:()=>{console.log("User cancelled"),o({status:!1,message:"Payment cancelled"})},onError:()=>{console.log("Payment failed"),o({status:!1,message:"Payment cancelled"})},onLoad:()=>{console.log("Page is loaded")}})})}const Vy=async()=>{const t=await Ln(lr(pt,"pharmacies"));return await Promise.all(t.docs.map(async r=>{const n={id:r.id,...r.data()};if(n.lat&&n.lon)n.coordinates={latitude:Number(n.lat),longitude:Number(n.lon)};else if(n.address)try{const s=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n.address)}&limit=1`)).json();s&&s[0]&&(n.coordinates={latitude:Number(s[0].lat),longitude:Number(s[0].lon)})}catch{}return n}))},S8=async({vendorId:t,customerId:e,role:r})=>{const n=`${t}__${e}`,i=ir(pt,"threads",n);if(!(await Ci(i)).exists()){const[a,o]=await Promise.all([Ci(ir(pt,"pharmacies",t)),Ci(ir(pt,"users",e))]),l=a.exists()?a.data().name:"Pharmacy",c=o.exists()?o.data().displayName:"Customer";await Mc(i,{id:n,vendorId:t,customerId:e,vendorName:l,customerName:c,lastMessage:"",lastBy:null,lastAt:ia(),unread:{[t]:0,[e]:0},createdAt:ia()})}return n},B_=async(t,{senderId:e,to:r,text:n},i=null)=>{const s=lr(pt,"threads",t,"messages"),a=await em(s,{senderId:e,to:r,text:n||"",createdAt:ia(),read:!1,status:"sent",deliveredAt:null,readAt:null,prescriptionId:i});return await ks(ir(pt,"threads",t),{lastMessage:n||"",lastBy:e,lastAt:ia(),[`unread.${r}`]:Ry(1)}),setTimeout(async()=>{await ks(a,{status:"delivered",deliveredAt:ia()})},1e3),a.id},Uy=async(t,e)=>{await ks(ir(pt,"threads",t),{[`unread.${e}`]:0});const r=Tr(lr(pt,"threads",t,"messages"),zr("to","==",e),zr("read","==",!1),aa("createdAt","desc"),$0(50)),n=await Ln(r);if(!n.empty){const i=r8(pt),s=ia();n.docs.forEach(a=>{i.update(a.ref,{read:!0,status:"read",readAt:s})}),await i.commit()}},nj=async(t,e)=>{const r=ir(pt,"threads",t,"messages",e);await ks(r,{status:"delivered",deliveredAt:ia()})},ij=(t,e,r,n=50)=>{const i=Tr(lr(pt,"threads",t,"messages"),aa("createdAt","desc"),$0(n));return Kn(i,s=>{const a=s.docs.map(o=>({id:o.id,...o.data()})).reverse();e(a)},s=>r?.(s))},Y5=(t,e,r,n={})=>{if(!t?.uid||!t?.role)return()=>{};const i=lr(pt,"threads"),s=t.role==="customer"?Tr(i,zr("customerId","==",t.uid)):Tr(i,zr("vendorId","==",t.uid)),a=n.noSort?s:Tr(s,aa("lastAt","desc"));return Kn(a,o=>e(o.docs.map(l=>({id:l.id,...l.data()}))),o=>r?.(o))},Q5=(t,e=null)=>{const r=lr(pt,"products"),n=e?Tr(r,zr("pharmacyId","==",e),aa("createdAt","desc")):Tr(r,aa("createdAt","desc"));return Kn(n,i=>t(i.docs.map(s=>({id:s.id,...s.data()}))),i=>console.error("listenProducts error:",i))},sj=async t=>{const e=lr(pt,"products");await em(e,{...t,createdAt:ia()})},aj=async(t,e)=>{const r=r8(pt);t.forEach(n=>{const i=ir(lr(pt,"products"));r.set(i,{...n,pharmacyId:e,price:Number(n.price),stock:Number(n.stock||0),createdAt:ia()})}),await r.commit()},i1=async(t,e,r=1)=>{const n=ir(lr(pt,"users",t,"cart"));await Mc(n,{productId:e,qty:r})},Zv=(t,e)=>Fo(ir(pt,"users",t,"cart",e)),e2=async({customerId:t,pharmacyId:e,items:r,total:n,email:i,prescription:s=!1})=>{const a=await YZ(n),{data:o,status:l}=a;return console.log("Data: ",o),console.log("Items: ",r),l&&Mc(ir(pt,"orders",o.orderId),{customerId:t,customerEmail:i,items:r.map(c=>({productId:c.productId,pharmacyId:c.pharmacyId,price:c.price,quantity:c.quantity||1,status:"pending",paid:!!s,transferReference:null,transferStatus:null})),total:n,paystackReference:o.paystackReference,status:"paid",prescriptionId:s||null,paidAt:ia(),createdAt:ia()}),l},oj=async(t=5,e)=>{if(!e)return[];const n=(await Ln(Tr(lr(pt,"products"),zr("pharmacyId","==",e)))).docs.map(o=>({id:o.id,...o.data()}));if(n.length===0)return[];const i=await Ln(Tr(lr(pt,"orders"),zr("pharmacyId","==",e))),s={};i.forEach(o=>{(o.data().items||[]).forEach(c=>{s[c.productId]||(s[c.productId]=0),s[c.productId]+=c.quantity||1})});const a=n.map(o=>({...o,sold:s[o.id]||0}));return a.sort((o,l)=>l.sold!==o.sold?l.sold-o.sold:(l.dateAdded?.toMillis?.()||0)-(o.dateAdded?.toMillis?.()||0)),a.slice(0,t).map(o=>({id:o.id,name:o.name,sold:o.sold,dateAdded:o.dateAdded}))};async function lj({pharmacyId:t,customerId:e,chatThreadId:r,drugs:n,startDate:i,duration:s,notes:a}){return await em(lr(pt,"prescriptions"),{pharmacyId:t,customerId:e,chatThreadId:r,drugs:n,startDate:i,duration:s,notes:a,status:"active",createdAt:ia(),updatedAt:ia()})}async function cj(t){const e=Tr(lr(pt,"prescriptions"),zr("chatThreadId","==",t));return(await Ln(e)).docs.map(n=>({id:n.id,...n.data()}))}async function uj({customerId:t}){const r=(await Ln(Tr(lr(pt,"prescriptions"),zr("customerId","==",t),zr("requirePurchase","==",!0),zr("fulfilled","!=",!0)))).docs.map(s=>({id:s.id,...s.data()}));if(!r.length)return;const n=await Ln(Tr(lr(pt,"orders"),zr("customerId","==",t),zr("status","==","fulfilled"))),i=[];n.forEach(s=>{(s.data().items||[]).forEach(o=>{i.push(o.productId)})});for(const s of r)s.drugs.every(o=>o.productId&&i.includes(o.productId))&&await ks(ir(pt,"prescriptions",s.id),{fulfilled:!0})}const dj=async(t,e,r)=>{const n=ir(pt,"wishlists",`${t}_${e}`);await Mc(n,{userId:t,productId:e,productData:r,createdAt:ia()})},fj=async(t,e)=>{const r=ir(pt,"wishlists",`${t}_${e}`);await Fo(r)},hj=async(t,e)=>{const r=ir(pt,"wishlists",`${t}_${e}`);return(await Ci(r)).exists()},pj=(t,e,r=console.error)=>{const n=Tr(lr(pt,"wishlists"),zr("userId","==",t),aa("createdAt","desc"));return Kn(n,i=>{const s=i.docs.map(a=>({id:a.id,...a.data()}));e(s)},r)},mj=async(t,e,r)=>{const n=ir(pt,"vendorBookmarks",`${t}_${e}`);await Mc(n,{userId:t,vendorId:e,vendorData:r,createdAt:ia()})},gj=async(t,e)=>{const r=ir(pt,"vendorBookmarks",`${t}_${e}`);await Fo(r)},xj=async(t,e)=>{const r=ir(pt,"vendorBookmarks",`${t}_${e}`);return(await Ci(r)).exists()},vj=(t,e,r=console.error)=>{const n=Tr(lr(pt,"vendorBookmarks"),zr("userId","==",t),aa("createdAt","desc"));return Kn(n,i=>{const s=i.docs.map(a=>({id:a.id,...a.data()}));e(s)},r)},QZ=Object.freeze(Object.defineProperty({__proto__:null,addProduct:sj,addToCart:i1,addToWishlist:dj,addVendorBookmark:mj,bulkAddProducts:aj,createPrescription:lj,fulfillPrescriptionIfOrdered:uj,getAllPharmacies:Vy,getBestSellingProducts:oj,getOrCreateThread:S8,getPrescriptionsForThread:cj,isInWishlist:hj,isVendorBookmarked:xj,listenProducts:Q5,listenThreadMessagesPaginated:ij,listenUserBookmarkedVendors:vj,listenUserThreads:Y5,listenUserWishlist:pj,markMessageDelivered:nj,markThreadRead:Uy,placeOrder:e2,removeFromCart:Zv,removeFromWishlist:fj,removeVendorBookmark:gj,sendChatMessage:B_},Symbol.toStringTag,{value:"Module"}));async function yj(t){t&&await TY(t)}async function JZ(t){await EY(yf,t)}const wj=F.createContext(),wn=()=>F.useContext(wj);function ZZ({children:t}){const[e,r]=F.useState(null),[n,i]=F.useState(null),[s,a]=F.useState(!0);F.useEffect(()=>PY(yf,async g=>{if(r(g),g){const m=ir(pt,"users",g.uid),y=await Ci(m);y.exists()&&i(y.data())}else i(null);a(!1)}),[]);const o=(g,m)=>CY(yf,g,m),l=async({email:g,password:m,displayName:y,role:w,address:_,lat:E,lon:L})=>{const{user:I}=await lF(yf,g,m);y&&await cF(I,{displayName:y});const V={uid:I.uid,email:g,displayName:y,role:w};return _&&(V.address=_),E&&(V.lat=E),L&&(V.lon=L),await Mc(ir(pt,"users",I.uid),V),w==="pharmacy"&&await Mc(ir(pt,"pharmacies",I.uid),{id:I.uid,name:y||"Pharmacy",email:g,address:_||"",etaMins:30,phone:""}),await yj(I),{user:I,verificationSent:!0}},c=async()=>{const g=new gu;g.addScope("email"),g.addScope("profile"),g.setCustomParameters({prompt:"select_account"});try{console.log("Attempting Google sign-in...");const m=await gE(yf,g);return console.log("Google sign-in successful:",m.user.email),m}catch(m){throw console.error("Google sign-in error:",m),m.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again."):m.code==="auth/popup-blocked"?new Error("Pop-up was blocked by your browser. Please allow pop-ups and try again."):m.code==="auth/network-request-failed"?new Error("Network error. Please check your connection and try again."):m.code==="auth/internal-error"?new Error("Google sign-in is not properly configured. Please contact support."):m.code==="auth/configuration-not-found"?new Error("Google sign-in configuration missing. Please contact support."):m}},u=async g=>{const m=new gu;m.addScope("email"),m.addScope("profile"),m.setCustomParameters({prompt:"select_account"});try{console.log("Attempting Google registration/sign-in...");const y=await gE(yf,m),{user:w}=y;console.log("Google auth successful for:",w.email);const _=ir(pt,"users",w.uid),E=await Ci(_);if(E.exists()){if(console.log("Existing user found:",w.email),E.data().role!=="customer")throw new Error("This email is associated with a pharmacy account. Please use pharmacy sign-in instead.");return{user:w,verificationSent:!1,isNewUser:!1,existingCustomer:!0}}else{console.log("Creating new customer profile for:",w.email);const L={uid:w.uid,email:w.email,displayName:w.displayName||"Google User",role:"customer",address:g?.address||"Location not available",lat:g?.latitude,lon:g?.longitude,createdAt:new Date().toISOString(),authMethod:"google"};return await Mc(_,L),console.log("New customer profile created successfully"),{user:w,verificationSent:!1,isNewUser:!0}}}catch(y){throw console.error("Google registration/sign-in error:",y),y.code==="auth/account-exists-with-different-credential"?new Error('An account with this email already exists. Please sign in with your email and password instead, or use the "Sign In with Google" option.'):y.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again."):y.code==="auth/popup-blocked"?new Error("Pop-up was blocked by your browser. Please allow pop-ups and try again."):y.code==="auth/network-request-failed"?new Error("Network error. Please check your connection and try again."):y.code==="auth/internal-error"?new Error("Google sign-in is not properly configured. Please contact support."):y.code==="auth/configuration-not-found"?new Error("Google sign-in configuration missing. Please contact support."):y}},p=()=>RY(yf);return f.jsx(wj.Provider,{value:{user:e,profile:n,loading:s,signIn:o,signUp:l,signInWithGoogle:c,signUpWithGoogle:u,logout:p},children:t})}const eee="modulepreload",tee=function(t){return"/"+t},KE={},pd=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=l(r.map(c=>{if(c=tee(c),c in KE)return;KE[c]=!0;const u=c.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":eee,u||(g.as="script"),g.crossOrigin="",g.href=c,o&&g.setAttribute("nonce",o),document.head.appendChild(g),u)return new Promise((m,y)=>{g.addEventListener("load",m),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function XE(t){return f.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:f.jsx("path",{d:"M6.66683 0C8.34653 0 9.95744 0.66726 11.1452 1.85499C12.3329 3.04272 13.0002 4.65363 13.0002 6.33333C13.0002 8.01304 12.3329 9.62395 11.1452 10.8117C9.95744 11.9994 8.34653 12.6667 6.66683 12.6667C4.98712 12.6667 3.37622 11.9994 2.18849 10.8117C1.00076 9.62395 0.333496 8.01304 0.333496 6.33333C0.333496 4.65363 1.00076 3.04272 2.18849 1.85499C3.37622 0.66726 4.98712 0 6.66683 0ZM6.66683 0.666667C5.16394 0.666667 3.7226 1.26369 2.65989 2.3264C1.59719 3.3891 1.00016 4.83044 1.00016 6.33333C1.00016 7.83623 1.59719 9.27757 2.65989 10.3403C3.7226 11.403 5.16394 12 6.66683 12C7.41099 12 8.14786 11.8534 8.83537 11.5687C9.52288 11.2839 10.1476 10.8665 10.6738 10.3403C11.2 9.81407 11.6174 9.18939 11.9021 8.50187C12.1869 7.81436 12.3335 7.07749 12.3335 6.33333C12.3335 4.83044 11.7365 3.3891 10.6738 2.3264C9.61106 1.26369 8.16972 0.666667 6.66683 0.666667ZM6.3335 2.66667H7.00016V6.28L10.1335 8.08667L9.80016 8.66667L6.3335 6.66667V2.66667Z",fill:"#848484"})})}/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_j=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...nee,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:_j("lucide",i),...o},[...a.map(([c,u])=>F.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=(t,e)=>{const r=F.forwardRef(({className:n,...i},s)=>F.createElement(iee,{ref:s,iconNode:e,className:_j(`lucide-${ree(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=Xr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=Xr("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Xr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=Xr("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=Xr("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=Xr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=Xr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=Xr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=Xr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Xr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Xr("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Xr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=Xr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=Xr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=Xr("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=Xr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Xr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=Xr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=Xr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Xr("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=Xr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=Xr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Xr("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Xr("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Xr("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=Xr("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=Xr("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=Xr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=Xr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Xr("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Xr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Xr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Xr("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=Xr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=Xr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=Xr("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=Xr("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=Xr("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Xr("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Xr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function wee({className:t="",children:e,...r}){return f.jsx("div",{className:`rounded-3xl border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-gray-800 ${t}`,...r,children:e})}function Pl({name:t,image:e,category:r,size:n=64,className:i="",alt:s,style:a={},imgClassName:o="",roundedClass:l="rounded-xl"}){const[c,u]=F.useState(!1),p=(r||"")?.toString().toLowerCase().trim();let g=null;p&&(p.includes("prescription")?g="PrescriptionDrugs.svg":p.includes("over")?g="Over-the-counter Icon.svg":p.includes("syrup")?g="Syrup.svg":p.includes("therapeutic")?g="Therapeutic.svg":p.includes("control")?g="ControlledSubstances.svg":p.includes("target")&&(g="TargetSystem.svg"));const m="GeneralPill.svg",y=g||m,w={width:n,height:n,...a};return e&&!c?f.jsx("img",{src:e,alt:s||t||"Product image",className:`${l} object-cover ${o}`.trim(),style:w,onError:()=>u(!0)}):f.jsx("div",{className:`${i}`,style:w,children:f.jsx("img",{src:`/${encodeURIComponent(y)}`,alt:s||(r?`${r} icon`:"product icon"),className:`${l} object-contain w-full h-full`,onError:_=>{if(y!==m){_.currentTarget.src=`/${encodeURIComponent(m)}`;return}}})})}function Bw({product:t,vendorName:e,vendorDistanceKm:r,vendorEtaMins:n,onOpen:i,onAdd:s,cardWidth:a="172px",cardHeight:o="199px",nameSize:l="15.54px",nameWeight:c="medium",priceSize:u="14.43px",priceColor:p="#BDBDBD",priceWeight:g="medium",addColor:m="#36A5FF",borderRadius:y}){const[w,_]=F.useState(!1),[E,L]=F.useState(!1),[I,V]=F.useState(!1),G=t?.image&&!w;return f.jsxs(wee,{className:`p-3 cursor-pointer relative flex flex-col justify-between overflow-hidden card-interactive group transition-all duration-200 ${E?"scale-95":"hover:scale-105"}`,onClick:i,onMouseDown:()=>L(!0),onMouseUp:()=>L(!1),onMouseLeave:()=>L(!1),style:{width:a,height:o,borderRadius:y||"10px"},children:[f.jsx("div",{className:"overflow-hidden flex items-center justify-center bg-white dark:bg-gray-800 transition-all duration-200 group-hover:bg-gradient-to-br group-hover:from-blue-50 group-hover:to-sky-50 dark:group-hover:from-blue-900/20 dark:group-hover:to-sky-900/20",style:{height:`calc(${o} * 0.6)`,borderRadius:y||"3px"},children:G?f.jsx("img",{src:t.image,alt:t.name||"product image",className:"object-contain h-full w-full transition-transform duration-200 group-hover:scale-110",onError:()=>_(!0),style:{maxWidth:"100%"}}):f.jsx("div",{className:"flex items-center justify-center w-full h-full transition-transform duration-200 group-hover:scale-110",style:{padding:8},children:f.jsx(Pl,{name:t.name,image:t.image,category:t.category,size:Math.min(30,Math.max(48,parseInt(o,10)/2))})})}),f.jsxs("div",{className:"mt-1 text-xs text-zinc-500 font-poppins font-light truncate flex items-center gap-2 transition-colors duration-200 group-hover:text-zinc-600",style:{fontSize:"10px",maxWidth:"100%"},children:[f.jsx("span",{className:"truncate",children:e}),(typeof r=="number"||typeof n=="number")&&f.jsxs("span",{className:"text-[9px] text-zinc-400 whitespace-nowrap transition-colors duration-200 group-hover:text-sky-500",children:[typeof r=="number"?`${r.toFixed(1)} km`:"",typeof r=="number"&&typeof n=="number"?"  ":"",typeof n=="number"?`${n} min`:""]})]}),f.jsx("div",{className:"mt-1 font-poppins transition-colors duration-200 group-hover:text-zinc-800 dark:group-hover:text-white",style:{fontSize:l,fontWeight:c,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t.name,children:t.name}),f.jsxs("div",{className:"font-poppins transition-colors duration-200 group-hover:text-sky-600",style:{fontSize:u,color:p,fontWeight:g,overflow:"hidden"},children:["",Number(t.price).toLocaleString()]}),f.jsx("button",{onClick:X=>{X.stopPropagation(),V(!0),setTimeout(()=>V(!1),150),s()},className:`absolute bottom-3 right-3 h-8 w-8 flex items-center justify-center border border-solid btn-interactive transition-all duration-200 hover:scale-110 hover:shadow-lg ${I?"scale-90 shadow-inner":"active:scale-95"}`,style:{borderColor:m,borderRadius:y||"6px",background:I?m:"transparent",boxShadow:I?`inset 0 2px 4px rgba(0,0,0,0.2), 0 0 0 2px ${m}40`:void 0},onMouseEnter:X=>{I||(X.target.style.backgroundColor=m,X.target.querySelector("svg").style.color="white")},onMouseLeave:X=>{I||(X.target.style.backgroundColor="transparent",X.target.querySelector("svg").style.color=m)},children:f.jsx(xee,{color:I?"white":m,size:16,className:`transition-all duration-200 ${I?"animate-pulse":""}`})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{borderRadius:y||"10px"}})]})}function F1({className:t="",style:e={},lines:r=3,desktopAlign:n="center"}){const i=n==="left"?"lg:justify-start lg:pl-12":"lg:justify-center";return f.jsxs("div",{className:`w-screen h-screen flex items-center justify-center ${i} bg-white dark:bg-gray-900 ${t}`,style:e,role:"status","aria-live":"polite",children:[f.jsx("div",{className:"animate-fadeInScale",children:f.jsxs("picture",{children:[f.jsx("source",{media:"(min-width: 1024px)",srcSet:"/DesktopLoading.svg"}),f.jsx("img",{src:"/Loading.svg",alt:"Loading",className:"w-full h-full object-contain lg:object-cover lg:w-screen lg:h-screen animate-pulse-gentle"})]})}),f.jsx("span",{className:"sr-only",children:"Loading"})]})}function H0(){const[t,e]=F.useState(null),[r,n]=F.useState("Fetching location..."),[i,s]=F.useState(null),[a,o]=F.useState(!0);return F.useEffect(()=>{if(!navigator.geolocation){n("Location not supported"),s("Geolocation is not supported by this browser"),o(!1);return}const l={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(async c=>{const{latitude:u,longitude:p}=c.coords;e({latitude:u,longitude:p}),s(null);try{const m=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${u}&lon=${p}`,{timeout:5e3})).json();n(m.display_name||"Location unavailable")}catch(g){console.warn("Failed to fetch address:",g),n("Location detected")}finally{o(!1)}},c=>{switch(console.warn("Geolocation error:",c),s(c.message),o(!1),c.code){case c.PERMISSION_DENIED:n("Location permission denied");break;case c.POSITION_UNAVAILABLE:n("Location unavailable");break;case c.TIMEOUT:n("Location request timeout");break;default:n("Location error occurred");break}},l)},[]),{userCoords:t,location:r,locationError:i,isLoading:a}}function Ej(t){if(!t)return null;if(t.coordinates&&typeof t.coordinates=="object"){if(t.coordinates.latitude&&t.coordinates.longitude)return{latitude:Number(t.coordinates.latitude),longitude:Number(t.coordinates.longitude)};if(t.coordinates.lat&&t.coordinates.lng)return{latitude:Number(t.coordinates.lat),longitude:Number(t.coordinates.lng)};if(t.coordinates.lat&&t.coordinates.lon)return{latitude:Number(t.coordinates.lat),longitude:Number(t.coordinates.lon)}}if(t.latitude&&t.longitude)return{latitude:Number(t.latitude),longitude:Number(t.longitude)};if(t.lat&&t.lng)return{latitude:Number(t.lat),longitude:Number(t.lng)};if(t.lat&&t.lon)return{latitude:Number(t.lat),longitude:Number(t.lon)};if(t.location&&typeof t.location=="object"){if(t.location.latitude&&t.location.longitude)return{latitude:Number(t.location.latitude),longitude:Number(t.location.longitude)};if(t.location.lat&&t.location.lng)return{latitude:Number(t.location.lat),longitude:Number(t.location.lng)}}if(t.coords&&typeof t.coords=="object"){if(t.coords.latitude&&t.coords.longitude)return{latitude:Number(t.coords.latitude),longitude:Number(t.coords.longitude)};if(t.coords.lat&&t.coords.lng)return{latitude:Number(t.coords.lat),longitude:Number(t.coords.lng)}}return null}function X2(t,e,r,n){const s=(r-t)*Math.PI/180,a=(n-e)*Math.PI/180,o=Math.sin(s/2)**2+Math.cos(t*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function Cj(t,e="driving"){if(!Number.isFinite(t)||t<=0)return null;const r={walking:5,cycling:15,driving:30},n=r[e]||r.driving,i=t/n,s=Math.round(i*60);let a;if(s<1)a="< 1 min";else if(s<60)a=`${s} min${s!==1?"s":""}`;else{const o=Math.floor(s/60),l=s%60;l===0?a=`${o} hr${o!==1?"s":""}`:a=`${o}h ${l}m`}return{minutes:s,formatted:a,distance:t,mode:e}}function _ee(t,e,r="driving"){if(!t||t.length===0||!e)return null;let n=null,i=1/0,s=null;return t.forEach(a=>{const o=Ej(a);if(o){const l=X2(e.latitude,e.longitude,o.latitude,o.longitude);l<i&&(i=l,n=a,s=Cj(l,r))}}),n?{pharmacy:n,eta:s,distance:i}:null}function T8(t,e,r="driving"){const n=Ej(t);if(!n||!e)return null;const i=X2(e.latitude,e.longitude,n.latitude,n.longitude);return Cj(i,r)}const Tj=F.createContext(),Y2=()=>{const t=F.useContext(Tj);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Nr={SWIPE_NAVIGATION:"swipe_navigation_enabled",THEME_MODE:"theme_mode",LANGUAGE:"language",FONT_SIZE:"font_size",BIOMETRIC_LOGIN:"biometric_login_enabled",AUTO_LOCK:"auto_lock_timeout",LOCATION_PRECISION:"location_precision",MESSAGE_READ_RECEIPTS:"message_read_receipts",ORDER_NOTIFICATIONS:"order_notifications_enabled",PRESCRIPTION_REMINDERS:"prescription_reminders_enabled",DATA_SAVER_MODE:"data_saver_mode_enabled",HIGH_CONTRAST:"high_contrast_enabled",REDUCE_MOTION:"reduce_motion_enabled"},Vw={[Nr.SWIPE_NAVIGATION]:!1,[Nr.THEME_MODE]:"light",[Nr.LANGUAGE]:"en",[Nr.FONT_SIZE]:"small",[Nr.BIOMETRIC_LOGIN]:!1,[Nr.AUTO_LOCK]:"5min",[Nr.LOCATION_PRECISION]:"precise",[Nr.MESSAGE_READ_RECEIPTS]:!0,[Nr.ORDER_NOTIFICATIONS]:!0,[Nr.PRESCRIPTION_REMINDERS]:!0,[Nr.DATA_SAVER_MODE]:!1,[Nr.HIGH_CONTRAST]:!1,[Nr.REDUCE_MOTION]:!1},bee=({children:t})=>{const[e,r]=F.useState(Vw),[n,i]=F.useState(!0);F.useEffect(()=>{try{const c=localStorage.getItem("app_settings");if(c){const u=JSON.parse(c);r(p=>({...p,...u}))}}catch(c){console.error("Error loading settings:",c)}finally{i(!1)}},[]),F.useEffect(()=>{if(!n)try{localStorage.setItem("app_settings",JSON.stringify(e))}catch(c){console.error("Error saving settings:",c)}},[e,n]);const l={settings:e,updateSetting:(c,u)=>{r(p=>({...p,[c]:u}))},getSetting:c=>e[c]??Vw[c],resetSettings:()=>{r(Vw)},isLoading:n};return f.jsx(Tj.Provider,{value:l,children:t})},kee=F.createContext(),eC={en:{home:"Home",cart:"Cart",messages:"Messages",orders:"Orders",settings:"Settings",notifications:"Notifications",search:"Search",back:"Back",continue:"Continue",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",message:"Message",sent:"Sent",delivered:"Delivered",read:"Read",type_message:"Type a message...",send:"Send",add_to_cart:"Add to Cart",buy_now:"Buy Now",price:"Price",out_of_stock:"Out of Stock",in_stock:"In Stock",product_description:"Product Description",product_unavailable:"Product unavailable. Please try again.",hello:"Hello",friend:"Friend",search_placeholder:"Search drugs, pharmacies",new_arrivals:"New Arrivals",view_all:"view all",popular_products:"Popular Products",all_new_products:"All New Products",load_more:"Load more",new:"New",close:"Close",please_sign_in:"Please sign in",your_pharmacy_location:"Your pharmacy location",location_services:"Location services",calculating_eta:"Calculating ETA...",fetching_location:"Fetching location...",nearest_pharmacy:"nearest pharmacy",to:"to",welcome_message:"Welcome to PharmaSeA",find_medicines:"Find medicines near you",fast_delivery:"Fast & reliable delivery",learn_more:"Learn more",get_started:"Get started",shop_now:"Shop now",order_now:"Order now",browse_catalog:"Browse catalog",special_offer:"Special Offer",limited_time:"Limited time offer",orders:"Orders",all:"All",pending:"Pending",processing:"Processing",fulfilled:"Fulfilled",cancelled:"Cancelled",no_orders_yet:"No orders yet.",order_number:"Order #",customer:"Customer",items:"Items",total:"Total",status:"Status",see_more:"See more",see_less:"See less",more_items:"more",reveal_number:"Reveal Number",please_sign_in_continue:"Please sign in to continue",sign_in_sign_up:"Sign In / Sign Up",qty:"Qty",my_conversations:`My
Conversations`,search_chats:"Search chats",no_conversations_yet:"No conversations yet.",no_messages_yet:"No messages yet.",cart:"Cart",your_cart_is_empty:"Your cart is empty.",remove:"Remove",subtotal:"Subtotal",delivery_fee:"Delivery Fee",total:"Total",proceed_to_checkout:"Proceed to Checkout",order_summary:"Order Summary",items:"Items",delivery_details:"Delivery Details",delivery_address:"Delivery Address",phone_number:"Phone Number",email_optional:"Email (Optional)",enter_delivery_address:"Enter delivery address",enter_phone_number:"Enter phone number",enter_email_address:"Enter email address",use_current_location:"Use current location",continue_to_payment:"Continue to Payment",payment_method:"Payment Method",pay_on_delivery:"Pay on Delivery",pay_with_cash_delivery:"Pay with cash when order arrives",online_payment:"Online Payment",pay_with_card:"Pay with card, bank transfer, or USSD",pay_with_card_bank_ussd:"Pay with card, bank transfer, or USSD",pay_with_cash_on_delivery:"Pay with cash when order arrives",use_your_health_insurance:"Use your health insurance",pay_with_insurance:"Pay with Insurance",use_health_insurance:"Use your health insurance",coming_soon:"Coming Soon",total_amount:"Total Amount",pay_now:"Pay Now",place_order:"Place Order",decrease_quantity:"Decrease quantity",increase_quantity:"Increase quantity",order_placement_failed:"Order placement failed",order_placed_delivery:"Order placed successfully! You'll pay on delivery.",payment_successful:"Payment successful! Your order has been placed.",checkout_failed:"Checkout failed. Please try again.",my_profile:"My Profile",pharmacy_profile:"Pharmacy Profile",edit_profile:"Edit Profile",edit:"Edit",save:"Save",cancel:"Cancel",close:"Close",view:"View",open:"Open",name:"Name",phone_number_profile:"Phone Number",address_profile:"Address",password:"Password",items_in_cart:"Items in Cart",active_chats:"Active Chats",saved_items:"Saved Items",drugs_bought:"Drugs Bought",all_drugs_bought:"All Drugs Bought",my_saved_items:"My Saved Items",products:"Products",vendors:"Vendors",no_products_saved:"No products saved",start_adding_products:"Start adding products you like!",no_vendors_bookmarked:"No vendors bookmarked",bookmark_vendors:"Bookmark vendors you like!",log_out:"Log Out",search_placeholder_profile:"Search prescriptions, orders, drugs...",prescriptions:"Prescriptions",orders_profile:"Orders",drugs:"Drugs",all_results:"All",times:"times",bought:"bought",no_search_results:"No results found",try_different_search:"Try a different search term",add_product:"Add Product",bulk_upload:"Bulk Upload",download_report:"Download report",download_csv:"Download CSV",download_excel:"Download Excel",inventory:"Inventory",edit_product:"Edit Product",delete_product:"Delete Product",products_sold:"Products Sold",active_chats:"Active Chats",reviews:"Reviews",no_products_yet:"No products yet. Use the buttons above to add or bulkupload.",edit_product:"Edit Product",product_image:"Product Image",image_url_placeholder:"Image URL (or choose file below)",product_description:"Product Description",enter_product_description:"Enter product description",confirm_delete_product:"Are you sure you want to delete this item?",yes_delete:"Yes, Delete",delete:"Delete",log_out:"Log Out",customer_reviews:"Customer Reviews",loading_reviews:"Loading reviews",no_reviews_yet:"No reviews yet. Be the first to review!",pharmacy_response:"{pharmacyName} Response",message_vendor:"Message Vendor",call_to_order:"Call to Order",your_name:"Your Name",your_review_optional:"Your review... (optional)",back:"Back",call_to_order:"Call to Order",get_directions:"Get Directions",category:"Category",add_to_cart:"Add to Cart",message_vendor:"Message Vendor",share_product:"Share Product",close:"Close",loading:"Loading",no_products_found:"No products found.",leave_a_review:"Leave a Review",your_name:"Your Name",your_review_optional:"Your review... (optional)",submit_review:"Submit Review",submitting:"Submitting",see_more:"See more",show_less:"Show less",products_in_category:'Products in "{category}"',eta_to_pharmacy:"{time} to {pharmacy}",calculating_eta:"Calculating ETA...",fetching_location:"Fetching location...",shareable_link_copied:"Shareable link copied to clipboard!",copy_this_link:"Copy this link:",please_sign_in_wishlist:"Please sign in to add items to your wishlist",failed_update_wishlist:"Failed to update wishlist. Please try again.",please_sign_in:"Please sign in",product_unavailable:"Product unavailable. Please try again.",failed_add_to_cart:"Failed to add to cart.",reviews_section:"Reviews",no_reviews_yet:"No reviews yet. Be the first to review!",helpful:"Helpful",vendor_profile:"Vendor Profile",products_by:"Products by",vendor:"Vendor",of:"of",no_products_found_search:"No products found matching your search.",no_products_yet:"No products yet.",customers_only_chat:"Only customers can start a chat with a pharmacy.",could_not_start_chat:"Could not start chat thread.",pharmacy_report:"Pharmacy Report",field:"Field",value:"Value",pharmacy:"Pharmacy",email:"Email",address:"Address",phone:"Phone",product_name:"Product Name",category:"Category",stock:"Stock",sku:"SKU",price:"Price",order_id:"Order ID",customer:"Customer",status:"Status",date:"Date",products:"Products",add_to_bookmarks:"Add to bookmarks",remove_from_bookmarks:"Remove from bookmarks",search_by_name_category_sku:"Search by name, category, or SKU...",view_results:"View Results",clear:"Clear",nearby_pharmacies:"Nearby Pharmacies",pharmacies_found_near_you:"{count} found near you",loading_location:"Loading location...",filter_pharmacies:"Filter pharmacies",pharmacies_found_near_you_detailed:"{count} pharmacies found near you",your_location:"Your location",getting_your_location:"Getting your location...",location_access_needed:"Location access needed",allow_location_access_etas:"Please allow location access for accurate ETAs",enable_location_services:"Enable location services to see nearby pharmacies",search_pharmacies:"Search pharmacies...",no_pharmacies_found:"No pharmacies found",try_different_search:"Try a different search term",name:"Name",address:"Address",keyboard_navigation_hint:"Use  arrow keys to navigate, Enter to select, Esc to close",distance:"Distance",all:"All",within_5km:"Within 5km",within_10km:"Within 10km",within_20km:"Within 20km",you_are_here:"You are here",pharmacy_locations:"Pharmacy Locations",pharmacies_sorted_by_distance:"{count} pharmacies  Sorted by distance",pharmacy:"Pharmacy",selected:"Selected",calculating:"Calculating...",closest:"Closest",get_directions:"Get Directions",call:"Call",call_pharmacy:"Call pharmacy",view_products:"View Products",search_results:"Search Results",all_pharmacies:"All Pharmacies",pharmacies_found_count:"{count} found",no_pharmacies_found_search:"No pharmacies found matching your search",no_pharmacies_found_general:"No pharmacies found",try_adjusting_search:"Try adjusting your search terms",try_adjusting_location:"Try adjusting your location or check back later",clear_search:"Clear search",today:"Today",yesterday:"Yesterday",sent:"Sent",delivered:"Delivered",read:"Read",customer:"Customer",pharmacy:"Pharmacy",prescription_created:"A new prescription has been created.",drug_inquiry:"I want to know more about this drug {productName}{priceText}.",call:"Call",call_pharmacy_title:"Call {pharmacy}",no_phone_number:"No phone number",actions:"Actions",create_prescription:"Create Prescription",view_prescription_history:"View Prescription History",load_more_messages:"Load {count} more messages",start_conversation:"Start your conversation",message_placeholder:"Message",attachments_coming_soon:"Attachments coming soon",my_dashboard:"My Dashboard",overview:"Overview",top_products:"Top Products",best_sellers:"Best Sellers",no_sales_data:"No sales data yet",start_selling_message:"Start selling products to see your top performers",units_sold:"{count} units sold",units:"units",total_products:"Total Products",total_orders:"Total Orders",total_revenue:"Total Revenue",active_customers:"Active Customers",this_month:"This Month",avg_order_value:"Avg Order Value",pending_orders:"Pending Orders",awaiting:"Awaiting",low_stock_items:"Low Stock Items",need_restock:"Need Restock",orders_this_month:"Orders This Month",no_comparison:"No comparison",pending_reviews:"Pending Reviews",need_response:"Need Response",recent_reviews:"Recent Reviews",last_24h:"Last 24h",low_stock_alert:"Low Stock Alert",items_need_restocking:"{count} item{plural} need restocking",inventory_tip:"Check your inventory to avoid running out of popular products",recent_messages:"Recent Messages",no_recent_messages:"No recent messages.",no_recent_reviews:"No recent reviews",new_reviews_appear_here:"New customer reviews will appear here",view_all:"View All",by_customer:"by {customerName}",needs_response:"Needs Response",view_more_reviews:"View {count} more review{plural}",revenue_analytics:"Revenue Analytics",total:"Total",by_month:"By Month",by_year:"By Year",month_number:"Month {number}",no_revenue_data:"No revenue data available",start_selling_revenue:"Start making sales to see your revenue analytics",best_performing_period:"Best Performing {period}",month_label:"Month",year_label:"Year",sales_trends:"Sales Trends",last_6_months:"Last 6 months",no_sales_trend_data:"No sales trend data.",orders_count:"{count} order{plural}",reviews_management:"Reviews Management",filters_sort:"Filters & Sort",total_reviews:"Total Reviews",responded:"Responded",avg_rating:"Avg Rating",positive_reviews:"Positive (4+ )",product:"Product",all_products:"All Products",sort_by:"Sort By",newest_first:"Newest First",oldest_first:"Oldest First",highest_rating:"Highest Rating",lowest_rating:"Lowest Rating",filter_by:"Filter By",all_reviews:"All Reviews",positive_4_stars:"Positive (4+ stars)",negative_1_2_stars:"Negative (1-2 stars)",no_reviews_found:"No reviews found",no_reviews_yet_message:"You don't have any reviews yet. Encourage customers to leave reviews by providing excellent service and follow-up communication!",no_reviews_match_filters:"No reviews match your current filters. Try adjusting your search criteria.",medicine:"Medicine",reviewed_by:"Reviewed by",verified:"Verified",people_found_helpful:"{count} people found this helpful",your_response:"Your Response",cancel_response:"Cancel Response",respond_to_review:"Respond to Review",write_thoughtful_response:"Write a thoughtful response to this review...",submit_response:"Submit Response",response_submitted_success:"Response submitted successfully!",response_submit_failed:"Failed to submit response. Please try again.",loading_reviews:"Loading your reviews...",loading_please_wait:"Please wait while we fetch your data",my_prescriptions:"My Prescriptions",add_to_calendar:"Add to Calendar",no_prescriptions_found:"No prescriptions found.",see_more_count:"See more ({count})",see_less:"See less",time_to_take_medicine:"Time to take {drugName}",take_medicine:"Take {drugName}",dosage_frequency:"Dosage: {dosage} ({frequency})",my_activity:"My Activity",active_chats:"Active Chats",storefront_preview:"Storefront Preview",inventory:"Inventory",products_sold:"Products Sold",general:"General",appearance:"Appearance",language_region:"Language & Region",privacy_security:"Privacy & Security",accessibility:"Accessibility",swipe_navigation:"Swipe Navigation",data_saver_mode:"Data Saver Mode",read_receipts:"Read Receipts",theme:"Theme",font_size:"Font Size",app_language:"App Language",add_product_title:"Add New Product",product_name:"Product Name",product_name_placeholder:"Enter product name",product_price:"Price",product_price_placeholder:"Enter price",product_category:"Category",select_category:"Select Category",prescription_drugs:"Prescription Drugs",over_counter:"Over-the-counter",general_pills:"General Pills",controlled_substances:"Controlled Substances",syrup_liquid:"Syrup/Liquid",therapeutic_drugs:"Therapeutic Drugs",supplements_vitamins:"Supplements & Vitamins",stock_quantity:"Stock Quantity",stock_placeholder:"Enter stock quantity",product_sku:"SKU",sku_placeholder:"Enter SKU (optional)",product_tags:"Tags",tags_placeholder:"Add tags separated by commas",product_image:"Product Image",upload_image:"Upload Image",image_url:"Image URL",image_url_placeholder:"Or enter image URL",product_description:"Description",description_placeholder:"Enter product description",uploading:"Uploading...",create_product:"Create Product",creating_product:"Creating Product...",product_created_success:"Product created successfully!",error_creating_product:"Error creating product. Please try again.",please_fill_required:"Please fill in all required fields",invalid_price:"Please enter a valid price"},yo:{home:"Ile",cart:"Agolo",messages:"Ifirane",orders:"Awn ibere",settings:"Eto",notifications:"Iwifun",search:"Wa",back:"Pada",continue:"Tsiwaju",save:"Tju",cancel:"Fagile",delete:"Pa r",edit:"atunk",loading:"N gbe...",profile:"Profaili",message:"Ifirane",sent:"Ti fi rane",delivered:"Ti gba",read:"Ti ka",type_message:"K ifirane...",send:"Fi rane",hello:"Bawo",friend:"Ore",search_placeholder:"Wa oogun, ile oogun",new_arrivals:"Awn tuntun",view_all:"wo gbogbo",popular_products:"Awn oogun olokiki",all_new_products:"Gbogbo oogun tuntun",load_more:"Gbe siwaju",new:"Tuntun",close:"Ti",please_sign_in:"Jw wle",your_pharmacy_location:"Ipo ile oogun r",location_services:"Awn i ipo",calculating_eta:"N e iiro akoko...",fetching_location:"N gba ipo...",nearest_pharmacy:"ile oogun to sunm",to:"si",welcome_message:"Kaabo si PharmaSeA",find_medicines:"Wa awn oogun to wa nitosi r",fast_delivery:"Ifiji to yara ati to gbkle",learn_more:"K siwaju si",get_started:"Br",shop_now:"Ra ni bayi",order_now:"Bere ni bayi",browse_catalog:"Wo awn oogun wa",special_offer:"Ipese Pataki",limited_time:"Ipese akoko die",orders:"Awn ibere",all:"Gbogbo",pending:"Ti nduro",processing:"N i",fulfilled:"Ti pari",cancelled:"Ti fagile",no_orders_yet:"Ko si ibere kankan sib.",order_number:"Ibere #",customer:"Onibara",items:"Awn nkan",total:"Lapap",status:"Ipo",see_more:"Wo siwaju si",see_less:"Wo di kere si",more_items:"siwaju si",reveal_number:"Fi nmba han",please_sign_in_continue:"Jw wle lati tsiwaju",sign_in_sign_up:"Wle / Foruksil",qty:"Iye",my_conversations:`Awn
Iforran Mi`,search_chats:"Wa awn iforran",no_conversations_yet:"Ko si iforran kankan sib.",no_messages_yet:"Ko si ifiran kankan sib.",cart:"Agolo",your_cart_is_empty:"Agolo r ko ni nkankan.",remove:"Yo kuro",subtotal:"Apap kekere",delivery_fee:"Owo ifiji",total:"Lapap",proceed_to_checkout:"Tsiwaju si isanwo",order_summary:"Akop ibere",items:"Awn nkan",delivery_details:"Awn alaye ifiji",delivery_address:"Adiresi ifiji",phone_number:"Nmba foonu",email_optional:"Imeeli (Ti o ba f)",enter_delivery_address:"T adiresi ifiji",enter_phone_number:"T nmba foonu",enter_email_address:"T adiresi imeeli",use_current_location:"Lo ipo oni bayi",continue_to_payment:"Tsiwaju si isanwo",payment_method:"Ona isanwo",pay_on_delivery:"San nigba ifiji",pay_with_cash_delivery:"San plu owo nigba ti ibere ba de",online_payment:"Isanwo ori ayelujara",pay_with_card:"San plu kaadi, gbigbe owo banki, tabi USSD",pay_with_card_bank_ussd:"San plu kaadi, gbigbe owo banki, tabi USSD",pay_with_cash_on_delivery:"San plu owo nigba ti ibere ba de",use_your_health_insurance:"Lo idaabobo ilera r",pay_with_insurance:"San plu idaabobo",use_health_insurance:"Lo idaabobo ilera r",coming_soon:"O nb laip",total_amount:"Iye lapap",pay_now:"San ni bayi",place_order:"Gbe ibere kal",decrease_quantity:"Din iye ku",increase_quantity:"P si iye",order_placement_failed:"Gbigbe ibere kal kuna",order_placed_delivery:"A ti gbe ibere kal ni aeyri! O ma san nigba ifiji.",payment_successful:"Isanwo aeyri! A ti gbe ibere r kal.",checkout_failed:"Isanwo kuna. Jw gbiyanju lkansi.",my_profile:"Profaili Mi",pharmacy_profile:"Profaili Ile-oogun",edit_profile:"atune Profaili",edit:"atune",save:"Fi pam",cancel:"Fagilee",close:"Ti",view:"Wo",open:"i",name:"Oruk",phone_number_profile:"Nmba Foonu",address_profile:"Adiresi",password:"r aina",items_in_cart:"Awn nkan ninu agolo",active_chats:"Awn ibaranisr ti ni",saved_items:"Awn nkan ti a fi pam",drugs_bought:"Awn oogun ti a ra",all_drugs_bought:"Gbogbo awn oogun ti a ra",my_saved_items:"Awn nkan ti mo fi pam",products:"Awn ja",vendors:"Awn olutaja",no_products_saved:"Ko si ja ti a fi pam",start_adding_products:"Br fifi awn ja ti o fran si!",no_vendors_bookmarked:"Ko si olutaja ti a aami",bookmark_vendors:"e aami awn olutaja ti o fran!",log_out:"Jade",search_placeholder_profile:"Wa awn atr, awn ibere, oogun...",prescriptions:"Awn atr",orders_profile:"Awn ibere",drugs:"Awn oogun",all_results:"Gbogbo",times:"igba",bought:"ti a ra",no_search_results:"Ko si abajade",try_different_search:"Gbiyanju r wiwa miiran",back:"Pada",call_to_order:"Pe lati gbe ibere",get_directions:"Gba itsna",category:"Isri",add_to_cart:"Fi si agolo",message_vendor:"Firan si olutaja",share_product:"Pin ja",close:"Ti",loading:"Ngbigba...",no_products_found:"Ko si ja ti a ri.",leave_a_review:"Fi atunywo sil",your_name:"Oruk r",your_review_optional:"Atunywo r... (ti o ba f)",submit_review:"Fi atunywo ran",submitting:"Nfiran...",see_more:"Wo siwaju si",show_less:"Fi di han",products_in_category:'Awn ja ninu "{category}"',eta_to_pharmacy:"{time} si {pharmacy}",calculating_eta:"Niro akoko...",fetching_location:"Ngba ipo...",shareable_link_copied:"A ti daak na asop pinpin si clipboard!",copy_this_link:"Daak na asop yii:",please_sign_in_wishlist:"Jw wle lati fi awn nkan si atok if r",failed_update_wishlist:"Kuna lati e imudojuiwn atok if. Jw gbiyanju lkansi.",please_sign_in:"Jw wle",product_unavailable:"ja ko si. Jw gbiyanju lkansi.",failed_add_to_cart:"Kuna lati fi si agolo.",reviews_section:"Awn atunywo",no_reviews_yet:"Ko si atunywo sib. J ni akk lati e atunywo!",helpful:"To wulo",vendor_profile:"Profaili Olutaja",products_by:"Awn ja nipas",vendor:"Olutaja",of:"ninu",no_products_found_search:"Ko si ja ti a ri ti o baamu wiwa r.",no_products_yet:"Ko si ja sib.",customers_only_chat:"Awn alabara nikan lo le br ibaranisr plu ile-oogun.",could_not_start_chat:"Ko le br okun ibaranisr.",pharmacy_report:"Ijab ile-oogun",field:"Aaye",value:"Iye",pharmacy:"Ile-oogun",email:"Imeeli",address:"Adiresi",phone:"Foonu",product_name:"Oruk ja",category:"Isri",stock:"Ipam",sku:"SKU",price:"Idiyele",order_id:"ID ibere",customer:"Alabara",status:"Ipo",date:"j",products:"Awn ja",add_to_bookmarks:"Fi si awn aami iwe",remove_from_bookmarks:"Yo kuro ninu awn aami iwe",search_by_name_category_sku:"Wa nipas oruk, isri, tabi SKU...",view_results:"Wo awn abajade",clear:"Nu",nearby_pharmacies:"Awn Ile-oogun Nitosi",pharmacies_found_near_you:"{count} ti a ri nitosi r",loading_location:"N gba ipo...",filter_pharmacies:"e aj awn ile-oogun",pharmacies_found_near_you_detailed:"Awn ile-oogun {count} ti a ri nitosi r",your_location:"Ipo r",getting_your_location:"N gba ipo r...",location_access_needed:"A nilo iwle si ipo",allow_location_access_etas:"Jw gba iwle si ipo fun awn akoko to peye",enable_location_services:"Mu awn i ipo i lati ri awn ile-oogun nitosi",search_pharmacies:"Wa awn ile-oogun...",no_pharmacies_found:"Ko ri ile-oogun kankan",try_different_search:"Gbiyanju r wiwa miiran",name:"Oruk",address:"Adiresi",keyboard_navigation_hint:"Lo awn btini  lati lil, Enter lati yan, Esc lati ti",distance:"Ijinna",all:"Gbogbo",within_5km:"Laarin 5km",within_10km:"Laarin 10km",within_20km:"Laarin 20km",you_are_here:"O wa nibi",pharmacy_locations:"Awn Ipo Ile-oogun",pharmacies_sorted_by_distance:"Awn ile-oogun {count}  Ti a to ni na ijinna",pharmacy:"Ile-oogun",selected:"Ti a yan",calculating:"N e iiro...",closest:"Ti o sunm jul",get_directions:"Gba Itsna",call:"Pe",call_pharmacy:"Pe ile-oogun",view_products:"Wo Awn ja",search_results:"Awn Abajade Wiwa",all_pharmacies:"Gbogbo Awn Ile-oogun",pharmacies_found_count:"{count} ti a ri",no_pharmacies_found_search:"Ko ri ile-oogun ti o baamu wiwa r",no_pharmacies_found_general:"Ko ri ile-oogun kankan",try_adjusting_search:"Gbiyanju e atune awn r wiwa r",try_adjusting_location:"Gbiyanju e atune ipo r tabi padanu nigbamii",clear_search:"Nu wiwa",today:"Oni",yesterday:"Ana",sent:"Ti fi ran",delivered:"Ti gba",read:"Ti ka",customer:"Alabara",pharmacy:"Ile-oogun",prescription_created:"A ti e iwe-a oogun tuntun.",drug_inquiry:"Mo f m di sii nipa oogun yii {productName}{priceText}.",call:"Pe",call_pharmacy_title:"Pe {pharmacy}",no_phone_number:"Ko si nmba foonu",actions:"Awn ie",create_prescription:"e Iwe-a Oogun",view_prescription_history:"Wo Itan Iwe-a Oogun",load_more_messages:"Gbe awn ifiran {count} sii",start_conversation:"Br ibaranisr r",message_placeholder:"Ifiran",attachments_coming_soon:"Awn aop n b laipe",my_dashboard:"Ptk Mi",overview:"Akop",top_products:"Awn ja Giga",best_sellers:"Awn Ti O Ta Jul",no_sales_data:"Ko si data tita sib",start_selling_message:"Br tita awn ja lati ri awn ti o e daradara",units_sold:"Awn ya {count} ti a ta",units:"awn ya",total_products:"Lapap Awn ja",total_orders:"Lapap Awn Ibere",total_revenue:"Lapap Owo Wiwle",active_customers:"Awn Alabara Ti Ni",this_month:"Ou Yii",avg_order_value:"Idiye Ibere Aarin",pending_orders:"Awn Ibere Ti Nduro",awaiting:"N duro",low_stock_items:"Awn ja Ti Ko To",need_restock:"Nilo e Ipam",orders_this_month:"Awn Ibere Ou Yii",no_comparison:"Ko si afiwe",pending_reviews:"Awn Atunywo Ti Nduro",need_response:"Nilo Idahun",recent_reviews:"Awn Atunywo Aip",last_24h:"Wakati 24 shin",low_stock_alert:"Ikil Ipam Kekere",items_need_restocking:"Awn nkan {count} nilo atunk ipam",inventory_tip:"aywo ipam r lati yago fun sisnu awn ja olokiki",recent_messages:"Awn Ifiran Aip",no_recent_messages:"Ko si awn ifiran aip.",no_recent_reviews:"Ko si awn atunywo aip",new_reviews_appear_here:"Awn atunywo alabara tuntun yoo han nibi",view_all:"Wo Gbogbo",by_customer:"nipas {customerName}",needs_response:"Nilo Idahun",view_more_reviews:"Wo awn atunywo {count} sii",revenue_analytics:"Itupal Owo Wiwle",total:"Lapap",by_month:"Nipas Ou",by_year:"Nipas dun",month_number:"Ou {number}",no_revenue_data:"Ko si data owo wiwle",start_selling_revenue:"Br tita lati ri itupal owo wiwle r",best_performing_period:"Asiko Ti O e Daradara Jul {period}",month_label:"Ou",year_label:"dun",sales_trends:"Awn Ilsiwaju Tita",last_6_months:"Ou 6 shin",no_sales_trend_data:"Ko si data ilsiwaju tita.",orders_count:"Awn ibere {count}",reviews_management:"Iakoso Awn Atunywo",filters_sort:"Awn  ati Tito",total_reviews:"Lapap Awn Atunywo",responded:"Ti Dahun",avg_rating:"Iwn Aarin",positive_reviews:"Rere (4+ )",product:"ja",all_products:"Gbogbo Awn ja",sort_by:"To Nipas",newest_first:"Tuntun Ni Akk",oldest_first:"Atij Ni Akk",highest_rating:"Iwn Giga Jul",lowest_rating:"Iwn Kekere Jul",filter_by:" Nipas",all_reviews:"Gbogbo Awn Atunywo",positive_4_stars:"Rere (4+ irawo)",negative_1_2_stars:"Buburu (1-2 irawo)",no_reviews_found:"Ko ri atunywo kankan",no_reviews_yet_message:"O ko ni awn atunywo sib. Gba awn alabara niyanju lati fi awn atunywo sil nipa ipese i to dara ati ibaranisr atle!",no_reviews_match_filters:"Ko si atunywo ti o baamu awn  r lwlw. Gbiyanju atune awn ami wiwa r.",medicine:"Oogun",reviewed_by:"Ti a e atunywo nipas",verified:"Ti a e Idaniloju",people_found_helpful:"Awn eniyan {count} ri eyi ni iranlw",your_response:"Idahun R",cancel_response:"Pa Idahun R",respond_to_review:"Dahun si Atunywo",write_thoughtful_response:"K idahun ti o ni ero si atunywo yii...",submit_response:"Fi Idahun Ran",response_submitted_success:"Idahun ti fi ran ni aeyri!",response_submit_failed:"Kuna lati fi idahun ran. Jw gbiyanju lkansi.",loading_reviews:"Ngba awn atunywo r...",loading_please_wait:"Jw duro nigba ti a n gba data r",my_prescriptions:"Awn Iwe-a Oogun Mi",add_to_calendar:"Fi si Kalenda",no_prescriptions_found:"Ko ri iwe-a oogun kankan.",see_more_count:"Wo sii ({count})",see_less:"Wo kere",time_to_take_medicine:"Akoko lati mu {drugName}",take_medicine:"Mu {drugName}",dosage_frequency:"Iwn: {dosage} ({frequency})",my_activity:"I Mi",active_chats:"Awn Ibaranisr Ti Ni",storefront_preview:"Iwoye Ile-itaja",inventory:"Ipam",products_sold:"Awn ja Ti A Ta",add_product:"Fi ja kun",bulk_upload:"Gbigbe plp",download_report:"Gba ijab",download_csv:"Gba CSV",download_excel:"Gba Excel",inventory:"Ibi ipam ja",edit_product:"atune ja",delete_product:"Pa ja r",products_sold:"Awn ja ti a ta",active_chats:"Awn ibaranisr ti ni",reviews:"Awn atunywo",no_products_yet:"Ko si ja sibsib. Lo awn btini ti o wa loke lati afikun tabi gb-gbe soke.",edit_product:"atune ja",product_image:"Aworan ja",image_url_placeholder:"URL aworan (tabi yan faili ti o wa nisal)",product_description:"Apejuwe ja",enter_product_description:"T apejuwe ja sii",confirm_delete_product:"e o da  loju pe o f pa nkan yii r?",yes_delete:"Bni, Pa r",delete:"Pa r",log_out:"Jade",customer_reviews:"Awn Atunywo Alabara",loading_reviews:"N gba awn atunywo",no_reviews_yet:"Ko si atunywo sib. J ki o j k akoko lati e atunywo!",pharmacy_response:"Idahun {pharmacyName}",message_vendor:"Ran si Olutasja",call_to_order:"Pe lati Br",your_name:"Oruko R",your_review_optional:"Atunywo r... (ni afoye)",general:"Gbogbogbo",appearance:"Irisi",language_region:"Ede & Agbegbe",privacy_security:"Airi & Aabo",accessibility:"Iwle",swipe_navigation:"Lil plu fif",data_saver_mode:"Ipo itju data",read_receipts:"Iwe eriwo kika",theme:"Koko",font_size:"Iwn lta",app_language:"Ede ohun elo",add_product_title:"afikun ja Tuntun",product_name:"Oruk ja",product_name_placeholder:"T oruk ja",product_price:"Idiyele",product_price_placeholder:"T idiyele",product_category:"ka",select_category:"Yan ka",prescription_drugs:"Awn Oogun Iwe-a",over_counter:"Ti ko nilo iwe-a",general_pills:"Awn Oogun Gbogbogbo",controlled_substances:"Awn Oogun Iakoso",syrup_liquid:"Syrup/Omi",therapeutic_drugs:"Awn Oogun Iwosan",supplements_vitamins:"Afsunt & Vitamini",stock_quantity:"Iye Ipam",stock_placeholder:"T iye ipam",product_sku:"SKU",sku_placeholder:"T SKU (afoye)",product_tags:"Awn Aami",tags_placeholder:"afikun awn aami ti o ya nipas awn kma",product_image:"Aworan ja",upload_image:"Gbe Aworan Soke",image_url:"URL Aworan",image_url_placeholder:"Tabi t URL aworan",product_description:"Apejuwe",description_placeholder:"T apejuwe ja",uploading:"N gbe soke...",create_product:"da ja",creating_product:"N da ja...",product_created_success:"ja ti da ni aeyri!",error_creating_product:"Aie ni ida ja. Jw gbiyanju lkansi.",please_fill_required:"Jw kun gbogbo awn aaye ti a nilo",invalid_price:"Jw t idiyele ti o t"},ha:{home:"Gida",cart:"Kaya",messages:"Saonni",orders:"Oda",settings:"Saiti",notifications:"Sanarwa",search:"Nema",back:"Baya",continue:"Ci gaba",save:"Ajiye",cancel:"Soke",delete:"Share",edit:"Gyara",loading:"Ana lodawa...",profile:"Bayanan martaba",add_to_cart:"Saka cikin kaya",buy_now:"Saya yanzu",price:"Farashi",out_of_stock:"Ba a kantin ba",in_stock:"A wanzu",product_description:"Bayanin kaya",product_unavailable:"Kaya ba ya samuwa. Ka sake gwadawa.",hello:"Sannu",friend:"Aboki",search_placeholder:"Nema magunguna, kantin magani",new_arrivals:"Sababbin abubuwa",view_all:"dubi duka",popular_products:"Shahararrun magunguna",all_new_products:"Dukan sababbin magunguna",load_more:"Dauko kari",new:"Sabon",close:"Rufe",please_sign_in:"Ka shigar da sunan",your_pharmacy_location:"Wurin kantin maganin ku",location_services:"Sabis na wuri",calculating_eta:"Ana lissafa lokaci...",fetching_location:"Ana samun wuri...",nearest_pharmacy:"kantin magani mafi kusa",to:"zuwa",welcome_message:"Barka da zuwa PharmaSeA",find_medicines:"Nemo magunguna a kusa da ku",fast_delivery:"Isar da sauri da aminci",learn_more:"Koyi karin bayani",get_started:"Fara",shop_now:"Sayi yanzu",order_now:"Yi oda yanzu",browse_catalog:"Duba magunguna",special_offer:"Tayin na musamman",limited_time:"Tayin na an lokaci",orders:"Oda",all:"Duka",pending:"Ana jira",processing:"Ana aiki",fulfilled:"An gama",cancelled:"An soke",no_orders_yet:"Babu oda tukuna.",order_number:"Oda #",customer:"Abokin ciniki",items:"Abubuwa",total:"Duka",status:"Matsayi",see_more:"Duba karin",see_less:"Duba kadan",more_items:"kari",reveal_number:"Nuna lambar",please_sign_in_continue:"Ka shigar da sunan don ci gaba",sign_in_sign_up:"Shiga / Yi rajista",qty:"Adadi",my_conversations:`Tattaunawa
Na`,search_chats:"Nemo tattaunawa",no_conversations_yet:"Babu tattaunawa tukuna.",no_messages_yet:"Babu saonni tukuna.",cart:"Kaya",your_cart_is_empty:"Kayar ku babu komai.",remove:"Cire",subtotal:"aramin jimla",delivery_fee:"Kuin isar da kaya",total:"Duka",proceed_to_checkout:"Ci gaba zuwa biyan kui",order_summary:"Taaitaccen oda",items:"Abubuwa",delivery_details:"Bayanan isar da kaya",delivery_address:"Adireshin isar da kaya",phone_number:"Lambar waya",email_optional:"Imel (Ba dole ba)",enter_delivery_address:"Shigar da adireshin isar da kaya",enter_phone_number:"Shigar da lambar waya",enter_email_address:"Shigar da adireshin imel",use_current_location:"Yi amfani da wurin yanzu",continue_to_payment:"Ci gaba zuwa biyan kui",payment_method:"Hanyar biyan kui",pay_on_delivery:"Biya lokacin isar da kaya",pay_with_cash_delivery:"Biya da kui lokacin da oda ya zo",online_payment:"Biyan kui a yanar gizo",pay_with_card:"Biya da kati, canja wurin banki, ko USSD",pay_with_card_bank_ussd:"Biya da kati, canja wurin banki, ko USSD",pay_with_cash_on_delivery:"Biya da kui lokacin da oda ya zo",use_your_health_insurance:"Yi amfani da inshorar lafiya",pay_with_insurance:"Biya da inshora",use_health_insurance:"Yi amfani da inshorar lafiya",coming_soon:"Yana zuwa nan ba da jimawa ba",total_amount:"Dukkanin adadin",pay_now:"Biya yanzu",place_order:"Yi oda",decrease_quantity:"Rage yawan",increase_quantity:"ara yawan",order_placement_failed:"Yin oda ya kasa",order_placed_delivery:"An yi oda cikin nasara! Za ku biya lokacin isar da kaya.",payment_successful:"Biyan kui ya yi nasara! An yi odar ku.",checkout_failed:"Biyan kui ya kasa. Da fatan za a sake gwadawa.",my_profile:"Bayanin Kaina",pharmacy_profile:"Bayanin Kantin Magani",edit_profile:"Gyara Bayanin",edit:"Gyara",save:"Ajiye",cancel:"Soke",close:"Rufe",view:"Duba",open:"Bue",name:"Suna",phone_number_profile:"Lambar Waya",address_profile:"Adireshi",password:"Kalmar sirri",items_in_cart:"Abubuwa a cikin kaya",active_chats:"Tattaunawa masu aiki",saved_items:"Abubuwa da aka ajiye",drugs_bought:"Magungunan da aka saya",all_drugs_bought:"Dukan magungunan da aka saya",my_saved_items:"Abubuwan da na ajiye",products:"Kayayyaki",vendors:"Masu sayarwa",no_products_saved:"Babu kayayyaki da aka ajiye",start_adding_products:"Fara ara kayayyakin da kuke so!",no_vendors_bookmarked:"Babu masu sayarwa da aka yi alamar",bookmark_vendors:"Yi alamar masu sayarwan da kuke so!",log_out:"Fita",search_placeholder_profile:"Nemi takardar likita, oda, magunguna...",prescriptions:"Takardar likita",orders_profile:"Oda",drugs:"Magunguna",all_results:"Duka",times:"lokuta",bought:"da aka saya",no_search_results:"Babu sakamakon",try_different_search:"Gwada kalmar nema daban",general:"Gabaaya",appearance:"Bayyanar",language_region:"Harshe da Yanki",privacy_security:"Sirri da Tsaro",accessibility:"Samun dama",app_language:"Harshen app",vendor_profile:"Bayanin Mai sayarwa",products_by:"Kayayyaki da",vendor:"Mai sayarwa",of:"daga",no_products_found_search:"Babu kayayyakin da aka samu da suka dace da binciken ku.",no_products_yet:"Babu kayayyaki tukuna.",customers_only_chat:"Abokan ciniki ne kawai za su iya fara tattaunawa da kantin magani.",could_not_start_chat:"Ba za a iya fara zaren tattaunawa ba.",pharmacy_report:"Rahoton kantin magani",field:"Fili",value:"Kima",pharmacy:"Kantin magani",email:"Imel",address:"Adireshi",phone:"Waya",product_name:"Sunan kaya",category:"Nau'i",stock:"Ajiya",sku:"SKU",price:"Farashi",order_id:"ID oda",customer:"Abokin ciniki",status:"Matsayi",date:"Kwanan wata",products:"Kayayyaki",add_to_bookmarks:"Saka a cikin alamomi",remove_from_bookmarks:"Cire daga alamomi",search_by_name_category_sku:"Nema da suna, nau'i, ko SKU...",view_results:"Duba sakamakon",clear:"Share",nearby_pharmacies:"Kantunan Magani Kusa",pharmacies_found_near_you:"{count} an samu kusa da kai",loading_location:"Ana samun wuri...",filter_pharmacies:"Tace kantunan magani",pharmacies_found_near_you_detailed:"Kantunan magani {count} an samu kusa da kai",your_location:"Wurin ka",getting_your_location:"Ana samun wurin ka...",location_access_needed:"Ana bukatar samun dama ga wuri",allow_location_access_etas:"Ka ba da izinin samun wuri don daidaitaccen lokaci",enable_location_services:"Kunna sabis na wuri don ganin kantunan magani kusa",search_pharmacies:"Nemi kantunan magani...",no_pharmacies_found:"Ba a sami kantunan magani ba",try_different_search:"Gwada kalmar bincike daban",name:"Suna",address:"Adireshi",keyboard_navigation_hint:"Yi amfani da  maballin tui, Enter don zaa, Esc don rufewa",distance:"Nisa",all:"Duka",within_5km:"A cikin 5km",within_10km:"A cikin 10km",within_20km:"A cikin 20km",you_are_here:"Kana nan",pharmacy_locations:"Wuraren Kantunan Magani",pharmacies_sorted_by_distance:"Kantunan magani {count}  An jera bisa nisa",pharmacy:"Kantin magani",selected:"An zaa",calculating:"Ana lissafi...",closest:"Mafi kusa",get_directions:"Samu Jagora",call:"Kira",call_pharmacy:"Kira kantin magani",view_products:"Duba Kayayyaki",search_results:"Sakamakon Bincike",all_pharmacies:"Dukan Kantunan Magani",pharmacies_found_count:"{count} an samu",no_pharmacies_found_search:"Ba a sami kantunan magani da suka dace da binciken ku ba",no_pharmacies_found_general:"Ba a sami kantunan magani ba",try_adjusting_search:"Gwada gyara kalmomin binciken ku",try_adjusting_location:"Gwada gyara wurin ku ko ku sake dubawa daga baya",clear_search:"Share bincike",today:"Yau",yesterday:"Jiya",sent:"An aiko",delivered:"An kai",read:"An karanta",customer:"Abokin ciniki",pharmacy:"Kantin magani",prescription_created:"An iriri sabon takardar magani.",drug_inquiry:"Ina son sanin arin game da wannan magani {productName}{priceText}.",call:"Kira",call_pharmacy_title:"Kira {pharmacy}",no_phone_number:"Babu lambar waya",actions:"Ayyuka",create_prescription:"iriri Takardar Magani",view_prescription_history:"Duba Tarihin Takardar Magani",load_more_messages:"auko arin saonnin {count}",start_conversation:"Fara tattaunawar ku",message_placeholder:"Sao",attachments_coming_soon:"Abubuwan hai suna zuwa nan ba da jimawa ba",my_dashboard:"Dashboard Na",overview:"Taaitaccen Bayani",top_products:"Manyan Kayayyaki",best_sellers:"Mafi Sayarwa",no_sales_data:"Babu bayanan tallace-tallace har yanzu",start_selling_message:"Fara sayar da kayayyaki don ganin mafi kyawun ku",units_sold:"Raka'o {count} da aka sayar",units:"raka'o",total_products:"Jimillar Kayayyaki",total_orders:"Jimillar Oda",total_revenue:"Jimillar Kudaden Shiga",active_customers:"Abokan Ciniki Masu Aiki",this_month:"Wannan Wata",avg_order_value:"Matsakaicin Darajar Oda",pending_orders:"Oda Da Ake Jira",awaiting:"Ana jira",low_stock_items:"Kayayyakin Da Suka Rage",need_restock:"Bukata Sake Cikawa",orders_this_month:"Oda Na Wannan Wata",no_comparison:"Babu kwatance",pending_reviews:"Sharhi Da Ake Jira",need_response:"Bukatar Amsa",recent_reviews:"Sharhi Na Baya-bayan Nan",last_24h:"Sa'o 24 da suka gabata",low_stock_alert:"Sanarwar Karancin Kaya",items_need_restocking:"Kaya {count} na bukatar sake cikawa",inventory_tip:"Duba ajiyar ku don guje wa rashin shahararru kayayyaki",recent_messages:"Saonnin Baya-bayan Nan",no_recent_messages:"Babu saonnin baya-bayan nan.",no_recent_reviews:"Babu sharhi na baya-bayan nan",new_reviews_appear_here:"Sabbin sharhin abokan ciniki za su bayyana a nan",view_all:"Duba Duka",by_customer:"ta {customerName}",needs_response:"Bukatar Amsa",view_more_reviews:"Duba arin sharhi {count}",revenue_analytics:"Nazarin Kudaden Shiga",total:"Jimillar",by_month:"Ta Wata",by_year:"Ta Shekara",month_number:"Wata {number}",no_revenue_data:"Babu bayanan kudaden shiga",start_selling_revenue:"Fara sayarwa don ganin nazarin kudaden shiga",best_performing_period:"Lokaci Mafi Kyau {period}",month_label:"Wata",year_label:"Shekara",sales_trends:"Hanyoyin Tallace-tallace",last_6_months:"Watannin 6 da suka gabata",no_sales_trend_data:"Babu bayanan hanyoyin tallace-tallace.",orders_count:"Oda {count}",reviews_management:"Gudanar da Sharhi",filters_sort:"Tacewa da Jeri",total_reviews:"Jimillar Sharhi",responded:"An Amsa",avg_rating:"Matsakaicin Daraja",positive_reviews:"Mai Kyau (4+ )",product:"Kaya",all_products:"Dukan Kayayyaki",sort_by:"Jera Ta",newest_first:"Sabo Da Farko",oldest_first:"Tsoho Da Farko",highest_rating:"Mafi Girman Daraja",lowest_rating:"Mafi arancin Daraja",filter_by:"Tacewa Ta",all_reviews:"Dukan Sharhi",positive_4_stars:"Mai Kyau (4+ tauraro)",negative_1_2_stars:"Marar Kyau (1-2 tauraro)",no_reviews_found:"Ba a sami sharhi ba",no_reviews_yet_message:"Har yanzu ba ku da sharhi. arfafa abokan ciniki su bar sharhi ta hanyar samar da kyakkyawan sabis da bin diddigin sadarwa!",no_reviews_match_filters:"Babu sharhi da ya dace da taushirinku na yanzu. Gwada daidaita ka'idodin binciken ku.",medicine:"Magani",reviewed_by:"An yi sharhi ta",verified:"An Tabbatar",people_found_helpful:"Mutane {count} sun sami wannan yana da amfani",your_response:"Amsarku",cancel_response:"Soke Amsa",respond_to_review:"Amsa ga Sharhi",write_thoughtful_response:"Rubuta amsa mai tunani ga wannan sharhi...",submit_response:"Tura Amsa",response_submitted_success:"An tura amsa cikin nasara!",response_submit_failed:"An kasa tura amsa. Da fatan za a sake gwadawa.",loading_reviews:"Ana aukar sharhinku...",loading_please_wait:"Da fatan ku jira yayin da muke aukar bayananku",my_prescriptions:"Takardun Magani Na",add_to_calendar:"Saka a Kalanda",no_prescriptions_found:"Ba a sami takardar magani ba.",see_more_count:"Duba ari ({count})",see_less:"Duba kaan",time_to_take_medicine:"Lokaci ya yi na shan {drugName}",take_medicine:"Sha {drugName}",dosage_frequency:"Adadin: {dosage} ({frequency})",my_activity:"Ayyukan Na",active_chats:"Tattaunawa Masu Aiki",storefront_preview:"Kallaren Kantin",inventory:"Ajiya",products_sold:"Kayayyaki Da Aka Sayar",no_products_yet:"Har yanzu babu kayayyaki. Yi amfani da maballin da ke sama don ara ko loda da yawa.",edit_product:"Gyara Kayayyaki",product_image:"Hoton Kayayyaki",image_url_placeholder:"URL hoto (ko zai fayil da ke asa)",product_description:"Bayanin Kayayyaki",enter_product_description:"Shigar da bayanin kayayyaki",confirm_delete_product:"Kana da tabbas kana son share wannan abu?",yes_delete:"Eh, Share",log_out:"Fita",customer_reviews:"Sharhin Abokan Ciniki",loading_reviews:"Ana loda sharhi",no_reviews_yet:"Har yanzu babu sharhi. Ka zama na farko da ya ba da sharhi!",pharmacy_response:"Amsar {pharmacyName}",message_vendor:"Aika Sao zuwa Dillali",call_to_order:"Kira don Yin Oda",your_name:"Sunan Ka",your_review_optional:"Sharhin ka... (na zabin)",general:"Gabaaya",appearance:"Bayyanar",language_region:"Harshe da Yanki",privacy_security:"Sirri da Tsaro",accessibility:"Samun Dama",swipe_navigation:"Kewayawa ta Shafawa",data_saver_mode:"Yanayin Adana Bayanai",read_receipts:"Takardar Karatu",theme:"Jigo",font_size:"Girman Rubutu",app_language:"Harshen Manhaja",add_product_title:"ara Sabon Kaya",product_name:"Sunan Kaya",product_name_placeholder:"Shigar da sunan kaya",product_price:"Farashi",product_price_placeholder:"Shigar da farashi",product_category:"Nau'i",select_category:"Zai Nau'i",prescription_drugs:"Magunguna na Takarda",over_counter:"Ba tare da takarda ba",general_pills:"Magungunan Gabaaya",controlled_substances:"Magungunan Da Aka Sarrafa",syrup_liquid:"Syrup/Ruwa",therapeutic_drugs:"Magunguna na Warkewa",supplements_vitamins:"ari da Bitamin",stock_quantity:"Adadin Ajiya",stock_placeholder:"Shigar da adadin ajiya",product_sku:"SKU",sku_placeholder:"Shigar da SKU (na zai)",product_tags:"Alamomi",tags_placeholder:"ara alamomi da rabu da waafi",product_image:"Hoton Kaya",upload_image:"Loda Hoto",image_url:"URL Hoto",image_url_placeholder:"Ko shigar da URL hoto",product_description:"Bayanin",description_placeholder:"Shigar da bayanin kaya",uploading:"Ana lodawa...",create_product:"iriri Kaya",creating_product:"Ana irirar Kaya...",product_created_success:"An iriri kaya cikin nasara!",error_creating_product:"Kuskure wajen irirar kaya. Biko sake gwadawa.",please_fill_required:"Biko cika duk filayen da ake bukata",invalid_price:"Biko shigar da farashi mai inganci"},ig:{home:"l",cart:"Ngwa aha",messages:"Ozi",orders:"t",settings:"Nhazi",notifications:"kwa",search:"Ch",back:"Laghachi az",continue:"Gaa n'ihu",save:"Chekwaa",cancel:"Kagbuo",delete:"Hichap",edit:"Dezie",loading:"Na-ebu...",profile:"Profaili",add_to_cart:"Tinye na ngwa aha",buy_now:"Z ugbu a",price:"n aha",out_of_stock:"Agwla",in_stock:"D n'l aha",product_description:"Nkwa ngwaaha",product_unavailable:"Ngwaaha adgh. Biko nwaa z.",hello:"Ndewo",friend:"Enyi",search_placeholder:"Ch gw, l gw",new_arrivals:"Nd hr",view_all:"lee niile",popular_products:"gw nd ama ama",all_new_products:"gw hr niile",load_more:"Buo kara",new:"hr",close:"Mechie",please_sign_in:"Biko banye",your_pharmacy_location:"nd l gw g",location_services:"r nd",calculating_eta:"Na-agbako oge...",fetching_location:"Na-eweta nd...",nearest_pharmacy:"l gw kacha nso",to:"gaa",welcome_message:"Nn na PharmaSeA",find_medicines:"Chta gw nd d g nso",fast_delivery:"Nnyefe s s na ntkwas obi",learn_more:"Mtakwuo ihe",get_started:"Malite",shop_now:"Z ugbu a",order_now:"Nye tt ugbu a",browse_catalog:"Lelee gw nd any nwere",special_offer:"Onyinye pr iche",limited_time:"Onyinye nwa oge",orders:"t",all:"Niile",pending:"Na-echere",processing:"Na-ar r",fulfilled:"Emezula",cancelled:"Akagbuola",no_orders_yet:"Enwebegh t  bla.",order_number:"t #",customer:"Onye aha",items:"Ihe nd",total:"Mkpokta",status:"nd",see_more:"Hkwuo",see_less:"H nke nta",more_items:"kara",reveal_number:"Gosi nmba",please_sign_in_continue:"Biko banye ga n'ihu",sign_in_sign_up:"Banye / Debanye aha",qty:"ngg",my_conversations:`Mkparta ka
M`,search_chats:"Ch mkparta ka",no_conversations_yet:"Enwebegh mkparta ka  bla.",no_messages_yet:"Enwebegh ozi  bla.",cart:"Ngwa aha",your_cart_is_empty:"Ngwa aha g adgh.",remove:"Wep",subtotal:"Obere mkpokta",delivery_fee:"Ego nnyefe",total:"Mkpokta",proceed_to_checkout:"Gaa n'kw gw",order_summary:"Nchkta t",items:"Ihe nd",delivery_details:"Nkwa nnyefe",delivery_address:"Adress nnyefe",phone_number:"Nmba ekwent",email_optional:"meel (Nhr)",enter_delivery_address:"Tinye adrees nnyefe",enter_phone_number:"Tinye nmba ekwent",enter_email_address:"Tinye adrees meel",use_current_location:"Jiri ebe d ugbu a",continue_to_payment:"Gaa n'kw gw",payment_method:"z kw gw",pay_on_delivery:"Kw mgbe nnyefe",pay_with_cash_delivery:"Kw ego mgbe t ruru",online_payment:"kw gw n'ntanet",pay_with_card:"Kw na kaad, mbufe ego banki, ma  b USSD",pay_with_card_bank_ussd:"Kw na kaad, mbufe ego banki, ma  b USSD",pay_with_cash_on_delivery:"Kw ego mgbe t ruru",use_your_health_insurance:"Jiri mkpuchi ah ike g",pay_with_insurance:"Kw na mkpuchi",use_health_insurance:"Jiri mkpuchi ah ike g",coming_soon:"Na-aba n'oge na-adgh anya",total_amount:"Mkpokta ego",pay_now:"Kw ugbu a",place_order:"Nye t",decrease_quantity:"Belata ngg",increase_quantity:"Mee ka ngg mbaa",order_placement_failed:"Inyefe t dara",order_placed_delivery:"Enyela t nke ma!  ga-akw gw mgbe nnyefe.",payment_successful:"kw gw gara nke ma! Enyela t g.",checkout_failed:"kw gw dara. Biko nwaa z.",my_profile:"Profal M",pharmacy_profile:"Profal l gw",edit_profile:"Dezie Profal",edit:"Dezie",save:"Chekwaa",cancel:"Kagbuo",close:"Mechie",view:"Lee",open:"Meghe",name:"Aha",phone_number_profile:"Nmba Ekwent",address_profile:"Adrees",password:"Okwu nzuzo",items_in_cart:"Ihe nd d na ngwa aha",active_chats:"Mkparta ka na-ar r",saved_items:"Ihe nd echekwala",drugs_bought:"gw nd aztala",all_drugs_bought:"gw niile ezutala",my_saved_items:"Ihe nd m chekwara",products:"Ngwaaha",vendors:"Nd na-ere",no_products_saved:"Enwegh ngwaaha echekwara",start_adding_products:"Malite itinye ngwaaha  hr n'anya!",no_vendors_bookmarked:"Enwegh nd na-ere akara akara",bookmark_vendors:"Kaa nd na-ere  hr n'anya akara!",log_out:"P",search_placeholder_profile:"Ch gw, t, gw...",prescriptions:"gw",orders_profile:"t",drugs:"gw",all_results:"Niile",times:"ugboro",bought:"aztara",no_search_results:"Enwegh nsonaaz",try_different_search:"Gbala okwu chch z",general:"Izugbe",appearance:"dd",language_region:"Ass na Mpaghara",privacy_security:"Nzuzo na Nchekwa",accessibility:"nweta ohere",app_language:"Ass ngwa",vendor_profile:"Profal Onye na-ere",products_by:"Ngwaaha site na",vendor:"Onye na-ere",of:"n'ime",no_products_found_search:"Achtagh ngwaaha  bla daktara na nchghar g.",no_products_yet:"Enwebegh ngwaaha  bla.",customers_only_chat:" b naan nd aha nwere ike malite mkparta ka na l gw.",could_not_start_chat:"Enwegh ike malite mkparta ka.",pharmacy_report:"Akk l gw",field:"Ogige",value:"Uru",pharmacy:"l gw",email:"Email",address:"Adrees",phone:"Ekwent",product_name:"Aha ngwaaha",category:"d",stock:"Nchekwa",sku:"SKU",price:"n aha",order_id:"ID nyere",customer:"Onye aha",status:"nd",date:"bch",products:"Ngwaaha",add_to_bookmarks:"Tinye na akara akwkw",remove_from_bookmarks:"Wep na akara akwkw",search_by_name_category_sku:"Ch site na aha, d, ma  b SKU...",view_results:"Lee nsonaaz",clear:"Hichap",nearby_pharmacies:"l gw Nd D Nso",pharmacies_found_near_you:"{count} achtara nso g",loading_location:"Na-ebu ebe...",filter_pharmacies:"Hr l gw",pharmacies_found_near_you_detailed:"l gw {count} achtara nso g",your_location:"Ebe g",getting_your_location:"Na-enweta ebe g...",location_access_needed:"A chr ohere ebe",allow_location_access_etas:"Biko kwere ka a nweta ebe maka oge ziri ezi",enable_location_services:"Mee ka r ebe r r ka  h l gw nd d nso",search_pharmacies:"Ch l gw...",no_pharmacies_found:"Achtagh l gw  bla",try_different_search:"Nwaa okwu chch d iche",name:"Aha",address:"Adrees",keyboard_navigation_hint:"Jiri  mkps aka ga ebe, Enter hr, Esc imechi",distance:"Anya",all:"Niile",within_5km:"N'ime 5km",within_10km:"N'ime 10km",within_20km:"N'ime 20km",you_are_here:" n ebe a",pharmacy_locations:"Ebe l gw D",pharmacies_sorted_by_distance:"l gw {count}  Edobere site na anya",pharmacy:"l gw",selected:"Ahrla",calculating:"Na-agbako...",closest:"Nke kacha nso",get_directions:"Nweta Nduzi",call:"Kp",call_pharmacy:"Kp l gw",view_products:"Lee Ngwaaha",search_results:"Nsonaaz chch",all_pharmacies:"l gw Niile",pharmacies_found_count:"{count} achtara",no_pharmacies_found_search:"Achtagh l gw  bla daktara na chch g",no_pharmacies_found_general:"Achtagh l gw  bla",try_adjusting_search:"Gbala imezighar okwu chch g",try_adjusting_location:"Gbala imezighar ebe g ma  b lghachi az mgbe z",clear_search:"Hichap chch",today:"Taa",yesterday:"nyaah",sent:"Ezigala",delivered:"Enyela",read:"Agla",customer:"Onye aha",pharmacy:"l gw",prescription_created:"Emeptala akwkw gw hr.",drug_inquiry:"Achr m mata kara gbasara gw a {productName}{priceText}.",call:"Kp",call_pharmacy_title:"Kp {pharmacy}",no_phone_number:"Enwegh nmba ekwent",actions:"Omume",create_prescription:"Mepta Akwkw gw",view_prescription_history:"Lee Akk Akwkw gw",load_more_messages:"Bulie ozi {count} z",start_conversation:"Malite mkparta ka g",message_placeholder:"Ozi",attachments_coming_soon:"Ihe nd agbakwunyere na-aba ngwa ngwa",my_dashboard:"Dashboard M",overview:"Nchikta",top_products:"Ngwaaha Kachas Elu",best_sellers:"Nd Na-ere Kacha Mma",no_sales_data:"Enwebegh data ire ere",start_selling_message:"Malite ire ngwaaha iji h nd kacha ar r",units_sold:"Nkeji {count} erere",units:"nkeji",total_products:"Mkpokta Ngwaaha",total_orders:"Mkpokta rder",total_revenue:"Mkpokta Ego Mbata",active_customers:"Nd Aha Na-ar r",this_month:"nwa A",avg_order_value:"Uru rder Nkezi",pending_orders:"rder Na-echere",awaiting:"Na-echere",low_stock_items:"Ngwaaha D Ntakr",need_restock:"Kwesr Itinyeghachi",orders_this_month:"rder nwa A",no_comparison:"Enwegh ntnyere",pending_reviews:"Nyocha Na-echere",need_response:"Kwesr Nzaghachi",recent_reviews:"Nyocha Nso Nso A",last_24h:"Awa 24 gara aga",low_stock_alert:"kwa Ngwaaha D Ntakr",items_need_restocking:"Ihe {count} kwesr itinyeghachi",inventory_tip:"Lelee ngwaaha g iji zere gw ngwaaha nd a ma ama",recent_messages:"Ozi Nso Nso A",no_recent_messages:"Enwegh ozi nso nso a.",no_recent_reviews:"Enwegh nyocha nso nso a",new_reviews_appear_here:"Nyocha nd aha hr ga-apta ebe a",view_all:"Lee Niile",by_customer:"site n'aka {customerName}",needs_response:"Kwesr Nzaghachi",view_more_reviews:"Lee nyocha {count} z",revenue_analytics:"Nyocha Ego Mbata",total:"Mkpokta",by_month:"Site n'nwa",by_year:"Site n'Af",month_number:"nwa {number}",no_revenue_data:"Enwegh data ego mbata",start_selling_revenue:"Malite ire iji h nyocha ego mbata g",best_performing_period:"Oge Kacha Mma {period}",month_label:"nwa",year_label:"Af",sales_trends:"z Ire Aha",last_6_months:"nwa 6 gara aga",no_sales_trend_data:"Enwegh data z ire aha.",orders_count:"rder {count}",reviews_management:"Nlekta Nyocha",filters_sort:"Nzacha na Nhazi",total_reviews:"Mkpokta Nyocha",responded:"Azaghachila",avg_rating:"Nkezi Ogo",positive_reviews:"Nke ma (4+ )",product:"Ngwaaha",all_products:"Ngwaaha Niile",sort_by:"Hazie Site Na",newest_first:"hr Mb",oldest_first:"Ochie Mb",highest_rating:"Ogo Kacha Elu",lowest_rating:"Ogo Kacha Ala",filter_by:"Zpta Site Na",all_reviews:"Nyocha Niile",positive_4_stars:"Nke ma (4+ kpakpando)",negative_1_2_stars:"Nke j (1-2 kpakpando)",no_reviews_found:"Achtagh nyocha  bla",no_reviews_yet_message:"I nwebegh nyocha  bla. Gbaa nd aha ume ka ha hap nyocha site n'inye r magburu onwe ya na nkwurta okwu na-esote!",no_reviews_match_filters:"Enwegh nyocha dabara na nzacha g ugbu a. Gbala ime mgbanwe na njirisi chch g.",medicine:"gw",reviewed_by:"Nyochara site na",verified:"Enyochala",people_found_helpful:"Nd mmad {count} chptara na nke a bara uru",your_response:"Nzaghachi G",cancel_response:"Kagbuo Nzaghachi",respond_to_review:"Zaghachi na Nyocha",write_thoughtful_response:"Dee nzaghachi nwere uche na nyocha a...",submit_response:"Ziga Nzaghachi",response_submitted_success:"E zigara nzaghachi nke ma!",response_submit_failed:"E nwegh ike izipu nzaghachi. Biko nwaghachi z.",loading_reviews:"Na-ebu nyocha g...",loading_please_wait:"Biko chere ka any na-eweta data g",my_prescriptions:"Akwkw gw M",add_to_calendar:"Tinye na Kalenda",no_prescriptions_found:"Achtagh akwkw gw  bla.",see_more_count:"Lee z ({count})",see_less:"Lee ntakr",time_to_take_medicine:"Oge  {drugName}",take_medicine:" {drugName}",dosage_frequency:"ngg: {dosage} ({frequency})",my_activity:"r M",active_chats:"Mkparta ka Na-ar r",storefront_preview:"Nlele l Aha",inventory:"Nchekwa Ngwaaha",products_sold:"Ngwaaha E Rere",no_products_yet:"Enwebegh ngwaaha. Jiri btn nd d n'elu tinye ma  b bulite tt.",edit_product:"Dezie Ngwaaha",product_image:"Foto Ngwaaha",image_url_placeholder:"URL foto (ma  b hr fal n'okpuru)",product_description:"Nkwa Ngwaaha",enter_product_description:"Tinye nkwa ngwaaha",confirm_delete_product:" ji n'ezie ch ihichap ihe a?",yes_delete:"Ee, Hichap",log_out:"P",customer_reviews:"Nyocha Nd Aha",loading_reviews:"Na-ebu nyocha",no_reviews_yet:"Enwebegh nyocha. Br onye mb nyochaa!",pharmacy_response:"Nzaghachi {pharmacyName}",message_vendor:"Zigara Onye Na-ere Aha Ozi",call_to_order:"Kp Maka z",your_name:"Aha G",your_review_optional:"Nyocha g... (nhr)",general:"Izugbe",appearance:"dd",language_region:"Ass na Mpaghara",privacy_security:"Nzuzo na Nchekwa",accessibility:"Nnweta",swipe_navigation:"gaghar Site na Ifufe",data_saver_mode:"nd Nchekwa Data",read_receipts:"Akwkw Nnata gg",theme:"Isiokwu",font_size:"Nha Mkpredemede",app_language:"Ass Ngwa",add_product_title:"Tinye Ngwaaha hr",product_name:"Aha Ngwaaha",product_name_placeholder:"Tinye aha ngwaaha",product_price:"naha",product_price_placeholder:"Tinye naha",product_category:"d",select_category:"Hr d",prescription_drugs:"gw Akwkw gw",over_counter:"Na-enwegh akwkw gw",general_pills:"gw Izugbe",controlled_substances:"gw E Ji Achkwa",syrup_liquid:"Syrup/Mmiri",therapeutic_drugs:"gw gwgw",supplements_vitamins:"Mgbakwunye na Vitamin",stock_quantity:"ngg Nchekwa",stock_placeholder:"Tinye ngg nchekwa",product_sku:"SKU",sku_placeholder:"Tinye SKU (nhr)",product_tags:"Mkpado",tags_placeholder:"Tinye mkpado nkewa site na akara mkpak",product_image:"Foto Ngwaaha",upload_image:"Bulite Foto",image_url:"URL Foto",image_url_placeholder:"Ma  b tinye URL foto",product_description:"Nkwa",description_placeholder:"Tinye nkwa ngwaaha",uploading:"Na-ebuli...",create_product:"Mepta Ngwaaha",creating_product:"Na-emepta Ngwaaha...",product_created_success:"E meptala ngwaaha nke ma!",error_creating_product:"Njehie na imepta ngwaaha. Biko nwaa z.",please_fill_required:"Biko jupta oghere niile achr",invalid_price:"Biko tinye naha ziri ezi"},fr:{home:"Accueil",cart:"Panier",messages:"Messages",orders:"Commandes",settings:"Paramtres",notifications:"Notifications",search:"Rechercher",back:"Retour",continue:"Continuer",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",loading:"Chargement...",profile:"Profil",add_to_cart:"Ajouter au panier",buy_now:"Acheter maintenant",price:"Prix",out_of_stock:"Rupture de stock",in_stock:"En stock",product_description:"Description du produit",product_unavailable:"Produit indisponible. Veuillez ressayer.",hello:"Bonjour",friend:"Ami",search_placeholder:"Rechercher mdicaments, pharmacies",new_arrivals:"Nouveauts",view_all:"voir tout",popular_products:"Produits populaires",all_new_products:"Tous les nouveaux produits",load_more:"Charger plus",new:"Nouveau",close:"Fermer",please_sign_in:"Veuillez vous connecter",your_pharmacy_location:"Emplacement de votre pharmacie",location_services:"Services de localisation",calculating_eta:"Calcul du temps...",fetching_location:"Obtention de la localisation...",nearest_pharmacy:"pharmacie la plus proche",to:"vers",welcome_message:"Bienvenue  PharmaSeA",find_medicines:"Trouvez des mdicaments prs de chez vous",fast_delivery:"Livraison rapide et fiable",learn_more:"En savoir plus",get_started:"Commencer",shop_now:"Acheter maintenant",order_now:"Commander maintenant",browse_catalog:"Parcourir le catalogue",special_offer:"Offre spciale",limited_time:"Offre  dure limite",orders:"Commandes",all:"Tout",pending:"En attente",processing:"En cours",fulfilled:"Livr",cancelled:"Annul",no_orders_yet:"Aucune commande pour le moment.",order_number:"Commande #",customer:"Client",items:"Articles",total:"Total",status:"Statut",see_more:"Voir plus",see_less:"Voir moins",more_items:"de plus",reveal_number:"Rvler le numro",please_sign_in_continue:"Veuillez vous connecter pour continuer",sign_in_sign_up:"Se connecter / S'inscrire",qty:"Qt",my_conversations:`Mes
Conversations`,search_chats:"Rechercher des conversations",no_conversations_yet:"Aucune conversation pour le moment.",no_messages_yet:"Aucun message pour le moment.",cart:"Panier",your_cart_is_empty:"Votre panier est vide.",remove:"Supprimer",subtotal:"Sous-total",delivery_fee:"Frais de livraison",total:"Total",proceed_to_checkout:"Procder au paiement",order_summary:"Rsum de commande",items:"Articles",delivery_details:"Dtails de livraison",delivery_address:"Adresse de livraison",phone_number:"Numro de tlphone",email_optional:"E-mail (Facultatif)",enter_delivery_address:"Entrer l'adresse de livraison",enter_phone_number:"Entrer le numro de tlphone",enter_email_address:"Entrer l'adresse e-mail",use_current_location:"Utiliser la localisation actuelle",continue_to_payment:"Continuer vers le paiement",payment_method:"Mode de paiement",pay_on_delivery:"Payer  la livraison",pay_with_cash_delivery:"Payer en espces  la livraison",online_payment:"Paiement en ligne",pay_with_card:"Payer par carte, virement bancaire, ou USSD",pay_with_card_bank_ussd:"Payer par carte, virement bancaire, ou USSD",pay_with_cash_on_delivery:"Payer en espces  la livraison",use_your_health_insurance:"Utiliser votre assurance sant",pay_with_insurance:"Payer avec l'assurance",use_health_insurance:"Utiliser votre assurance sant",coming_soon:"Bientt disponible",total_amount:"Montant total",pay_now:"Payer maintenant",place_order:"Passer commande",decrease_quantity:"Diminuer la quantit",increase_quantity:"Augmenter la quantit",order_placement_failed:"chec de la commande",order_placed_delivery:"Commande passe avec succs! Vous paierez  la livraison.",payment_successful:"Paiement russi! Votre commande a t passe.",checkout_failed:"Paiement chou. Veuillez ressayer.",my_profile:"Mon Profil",pharmacy_profile:"Profil de la Pharmacie",edit_profile:"Modifier le Profil",edit:"Modifier",save:"Enregistrer",cancel:"Annuler",close:"Fermer",view:"Voir",open:"Ouvrir",name:"Nom",phone_number_profile:"Numro de Tlphone",address_profile:"Adresse",password:"Mot de passe",items_in_cart:"Articles dans le panier",active_chats:"Conversations actives",saved_items:"Articles sauvegards",drugs_bought:"Mdicaments achets",all_drugs_bought:"Tous les mdicaments achets",my_saved_items:"Mes articles sauvegards",products:"Produits",vendors:"Vendeurs",no_products_saved:"Aucun produit sauvegard",start_adding_products:"Commencez  ajouter des produits que vous aimez!",no_vendors_bookmarked:"Aucun vendeur mis en signet",bookmark_vendors:"Mettez en signet les vendeurs que vous aimez!",log_out:"Dconnexion",search_placeholder_profile:"Rechercher prescriptions, commandes, mdicaments...",prescriptions:"Prescriptions",orders_profile:"Commandes",drugs:"Mdicaments",all_results:"Tous",times:"fois",bought:"achet",no_search_results:"Aucun rsultat trouv",try_different_search:"Essayez un terme de recherche diffrent",general:"Gnral",appearance:"Apparence",language_region:"Langue et Rgion",privacy_security:"Confidentialit et Scurit",accessibility:"Accessibilit",app_language:"Langue de l'application",vendor_profile:"Profil du Vendeur",products_by:"Produits par",vendor:"Vendeur",of:"sur",no_products_found_search:"Aucun produit trouv correspondant  votre recherche.",no_products_yet:"Aucun produit pour le moment.",customers_only_chat:"Seuls les clients peuvent entamer une conversation avec une pharmacie.",could_not_start_chat:"Impossible de dmarrer le fil de discussion.",pharmacy_report:"Rapport de pharmacie",field:"Champ",value:"Valeur",pharmacy:"Pharmacie",email:"Email",address:"Adresse",phone:"Tlphone",product_name:"Nom du produit",category:"Catgorie",stock:"Stock",sku:"SKU",price:"Prix",order_id:"ID commande",customer:"Client",status:"Statut",date:"Date",products:"Produits",add_to_bookmarks:"Ajouter aux favoris",remove_from_bookmarks:"Supprimer des favoris",search_by_name_category_sku:"Rechercher par nom, catgorie ou SKU...",view_results:"Voir les rsultats",clear:"Effacer",nearby_pharmacies:"Pharmacies  Proximit",pharmacies_found_near_you:"{count} trouves prs de vous",loading_location:"Chargement de la localisation...",filter_pharmacies:"Filtrer les pharmacies",pharmacies_found_near_you_detailed:"{count} pharmacies trouves prs de vous",your_location:"Votre localisation",getting_your_location:"Obtention de votre localisation...",location_access_needed:"Accs  la localisation ncessaire",allow_location_access_etas:"Veuillez autoriser l'accs  la localisation pour des horaires prcis",enable_location_services:"Activez les services de localisation pour voir les pharmacies  proximit",search_pharmacies:"Rechercher des pharmacies...",no_pharmacies_found:"Aucune pharmacie trouve",try_different_search:"Essayez un terme de recherche diffrent",name:"Nom",address:"Adresse",keyboard_navigation_hint:"Utilisez  pour naviguer, Entre pour slectionner, chap pour fermer",distance:"Distance",all:"Tout",within_5km:"Dans les 5km",within_10km:"Dans les 10km",within_20km:"Dans les 20km",you_are_here:"Vous tes ici",pharmacy_locations:"Emplacements des Pharmacies",pharmacies_sorted_by_distance:"{count} pharmacies  Tries par distance",pharmacy:"Pharmacie",selected:"Slectionn",calculating:"Calcul en cours...",closest:"Le plus proche",get_directions:"Obtenir un Itinraire",call:"Appeler",call_pharmacy:"Appeler la pharmacie",view_products:"Voir les Produits",search_results:"Rsultats de Recherche",all_pharmacies:"Toutes les Pharmacies",pharmacies_found_count:"{count} trouves",no_pharmacies_found_search:"Aucune pharmacie trouve correspondant  votre recherche",no_pharmacies_found_general:"Aucune pharmacie trouve",try_adjusting_search:"Essayez d'ajuster vos termes de recherche",try_adjusting_location:"Essayez d'ajuster votre localisation ou revenez plus tard",clear_search:"Effacer la recherche",today:"Aujourd'hui",yesterday:"Hier",sent:"Envoy",delivered:"Livr",read:"Lu",customer:"Client",pharmacy:"Pharmacie",prescription_created:"Une nouvelle ordonnance a t cre.",drug_inquiry:"Je souhaiterais en savoir plus sur ce mdicament {productName}{priceText}.",call:"Appeler",call_pharmacy_title:"Appeler {pharmacy}",no_phone_number:"Pas de numro de tlphone",actions:"Actions",create_prescription:"Crer une Ordonnance",view_prescription_history:"Voir l'Historique des Ordonnances",load_more_messages:"Charger {count} messages de plus",start_conversation:"Commencez votre conversation",message_placeholder:"Message",attachments_coming_soon:"Pices jointes bientt disponibles",my_dashboard:"Mon Tableau de Bord",overview:"Aperu",top_products:"Produits Populaires",best_sellers:"Meilleures Ventes",no_sales_data:"Aucune donne de vente pour le moment",start_selling_message:"Commencez  vendre des produits pour voir vos meilleures performances",units_sold:"{count} units vendues",units:"units",total_products:"Total Produits",total_orders:"Total Commandes",total_revenue:"Chiffre d'Affaires Total",active_customers:"Clients Actifs",this_month:"Ce Mois",avg_order_value:"Valeur Moyenne Commande",pending_orders:"Commandes En Attente",awaiting:"En attente",low_stock_items:"Articles En Rupture",need_restock:" Rapprovisionner",orders_this_month:"Commandes Ce Mois",no_comparison:"Pas de comparaison",pending_reviews:"Avis En Attente",need_response:"Ncessitent Rponse",recent_reviews:"Avis Rcents",last_24h:"Dernires 24h",low_stock_alert:"Alerte Stock Faible",items_need_restocking:"{count} article{plural} ncessitent un rapprovisionnement",inventory_tip:"Vrifiez votre inventaire pour viter les ruptures de produits populaires",recent_messages:"Messages Rcents",no_recent_messages:"Aucun message rcent.",no_recent_reviews:"Aucun avis rcent",new_reviews_appear_here:"Les nouveaux avis clients apparatront ici",view_all:"Voir Tout",by_customer:"par {customerName}",needs_response:"Ncessitent Rponse",view_more_reviews:"Voir {count} avis de plus",revenue_analytics:"Analyse des Revenus",total:"Total",by_month:"Par Mois",by_year:"Par Anne",month_number:"Mois {number}",no_revenue_data:"Aucune donne de revenus disponible",start_selling_revenue:"Commencez  vendre pour voir vos analyses de revenus",best_performing_period:"Meilleure Priode {period}",month_label:"Mois",year_label:"Anne",sales_trends:"Tendances des Ventes",last_6_months:"6 derniers mois",no_sales_trend_data:"Aucune donne de tendance des ventes.",orders_count:"{count} commande{plural}",reviews_management:"Gestion des Avis",filters_sort:"Filtres et Tri",total_reviews:"Total des Avis",responded:"Rpondu",avg_rating:"Note Moyenne",positive_reviews:"Positifs (4+ )",product:"Produit",all_products:"Tous les Produits",sort_by:"Trier par",newest_first:"Plus Rcents d'Abord",oldest_first:"Plus Anciens d'Abord",highest_rating:"Note la Plus Haute",lowest_rating:"Note la Plus Basse",filter_by:"Filtrer par",all_reviews:"Tous les Avis",positive_4_stars:"Positifs (4+ toiles)",negative_1_2_stars:"Ngatifs (1-2 toiles)",no_reviews_found:"Aucun avis trouv",no_reviews_yet_message:"Vous n'avez pas encore d'avis. Encouragez les clients  laisser des avis en fournissant un excellent service et une communication de suivi !",no_reviews_match_filters:"Aucun avis ne correspond  vos filtres actuels. Essayez d'ajuster vos critres de recherche.",medicine:"Mdicament",reviewed_by:"Avis par",verified:"Vrifi",people_found_helpful:"{count} personnes ont trouv cela utile",your_response:"Votre Rponse",cancel_response:"Annuler la Rponse",respond_to_review:"Rpondre  l'Avis",write_thoughtful_response:"Rdigez une rponse rflchie  cet avis...",submit_response:"Envoyer la Rponse",response_submitted_success:"Rponse envoye avec succs !",response_submit_failed:"chec de l'envoi de la rponse. Veuillez ressayer.",loading_reviews:"Chargement de vos avis...",loading_please_wait:"Veuillez patienter pendant que nous rcuprons vos donnes",my_prescriptions:"Mes Ordonnances",add_to_calendar:"Ajouter au Calendrier",no_prescriptions_found:"Aucune ordonnance trouve.",see_more_count:"Voir plus ({count})",see_less:"Voir moins",time_to_take_medicine:"Il est temps de prendre {drugName}",take_medicine:"Prendre {drugName}",dosage_frequency:"Dosage: {dosage} ({frequency})",my_activity:"Mon Activit",active_chats:"Chats Actifs",storefront_preview:"Aperu de la Vitrine",inventory:"Inventaire",products_sold:"Produits Vendus",no_products_yet:"Pas encore de produits. Utilisez les boutons ci-dessus pour ajouter ou tlcharger en masse.",edit_product:"Modifier le Produit",product_image:"Image du Produit",image_url_placeholder:"URL de l'image (ou choisissez un fichier ci-dessous)",product_description:"Description du Produit",enter_product_description:"Entrez la description du produit",confirm_delete_product:"tes-vous sr de vouloir supprimer cet lment ?",yes_delete:"Oui, Supprimer",log_out:"Se Dconnecter",customer_reviews:"Avis Clients",loading_reviews:"Chargement des avis",no_reviews_yet:"Pas encore d'avis. Soyez le premier  donner votre avis !",pharmacy_response:"Rponse de {pharmacyName}",message_vendor:"Contacter le Vendeur",call_to_order:"Appeler pour Commander",your_name:"Votre Nom",your_review_optional:"Votre avis... (optionnel)",general:"Gnral",appearance:"Apparence",language_region:"Langue et Rgion",privacy_security:"Confidentialit et Scurit",accessibility:"Accessibilit",swipe_navigation:"Navigation par Balayage",data_saver_mode:"Mode conomie de Donnes",read_receipts:"Accuss de Lecture",theme:"Thme",font_size:"Taille de Police",app_language:"Langue de l'Application",add_product_title:"Ajouter un Nouveau Produit",product_name:"Nom du Produit",product_name_placeholder:"Entrez le nom du produit",product_price:"Prix",product_price_placeholder:"Entrez le prix",product_category:"Catgorie",select_category:"Slectionnez une Catgorie",prescription_drugs:"Mdicaments sur Ordonnance",over_counter:"En Vente Libre",general_pills:"Pilules Gnrales",controlled_substances:"Substances Contrles",syrup_liquid:"Sirop/Liquide",therapeutic_drugs:"Mdicaments Thrapeutiques",supplements_vitamins:"Supplments et Vitamines",stock_quantity:"Quantit en Stock",stock_placeholder:"Entrez la quantit en stock",product_sku:"SKU",sku_placeholder:"Entrez le SKU (optionnel)",product_tags:"tiquettes",tags_placeholder:"Ajoutez des tiquettes spares par des virgules",product_image:"Image du Produit",upload_image:"Tlcharger une Image",image_url:"URL de l'Image",image_url_placeholder:"Ou entrez l'URL de l'image",product_description:"Description",description_placeholder:"Entrez la description du produit",uploading:"Tlchargement...",create_product:"Crer le Produit",creating_product:"Cration du Produit...",product_created_success:"Produit cr avec succs !",error_creating_product:"Erreur lors de la cration du produit. Veuillez ressayer.",please_fill_required:"Veuillez remplir tous les champs requis",invalid_price:"Veuillez entrer un prix valide"}},Zi=()=>{const{getSetting:t}=Y2(),e=t(Nr.LANGUAGE)||"en";return{t:F.useMemo(()=>(n,i=n)=>eC[e]?.[n]||eC.en?.[n]||i,[e]),currentLanguage:e}},See=({children:t})=>{const{t:e,currentLanguage:r}=Zi();return f.jsx(kee.Provider,{value:{t:e,currentLanguage:r},children:t})},Eee=({user:t,profile:e,location:r,navigate:n,etaInfo:i,closestPharmacy:s,vendors:a,userCoords:o,t:l})=>Ps.createPortal(f.jsx("div",{className:"fixed top-0 left-0 right-0 z-[100] w-full bg-white dark:bg-gray-900 border-b dark:border-gray-700 flex-shrink-0 px-2",children:f.jsx("div",{className:"w-full mx-auto pt-8 pb-4",children:f.jsx("div",{className:"pt-4 pb-2 w-full",children:f.jsxs("div",{className:"w-full mx-auto px-0",children:[f.jsxs("div",{className:"flex justify-between items-center w-full h-[14px] md:h-[14px] lg:h-[20px]",children:[f.jsxs("div",{className:"flex flex-col justify-center",children:[f.jsxs("div",{className:"text-[17px] md:text-[26px] lg:text-[20px] font-regular font-poppins text-gray-900 dark:text-white",children:[l("hello","Hello"),t?`, ${t.displayName?.split(" ")[0]||l("friend","Friend")}`:""]}),f.jsx("span",{className:"text-zinc-500 dark:text-zinc-400 text-[10px] md:text-[12px] lg:text-[14px] font-thin font-poppins truncate max-w-xs md:max-w-md lg:max-w-lg",title:r,children:r})]}),e?.role==="customer"?f.jsxs("button",{onClick:()=>n("/pharmacy-map"),className:"flex flex-col justify-center items-end hover:bg-blue-50 transition-colors rounded-lg p-2 -m-2 group",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(XE,{className:"h-4 w-4 md:h-5 md:w-5 lg:h-6 lg:w-6 mb-0.5 mt-0.5 text-sky-500"}),f.jsx(bj,{className:"h-4 w-4 md:h-3 md:w-3 lg:h-4 lg:w-4 text-sky-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300 animate-pulse"})]}),f.jsx("span",{className:"text-[10px] md:text-[12px] lg:text-[14px] font-poppins font-thin text-right leading-tight mt-1.5 group-hover:text-blue-600 transition-colors",children:i&&s?`${i.formatted} ${l("to","to")} ${a[s.vendorId]?.name||l("nearest_pharmacy","nearest pharmacy")}`:o?l("calculating_eta","Calculating ETA..."):l("fetching_location","Fetching location...")})]}):f.jsxs("div",{className:"flex flex-col justify-center items-end",children:[f.jsx("div",{className:"flex items-center gap-1",children:f.jsx(XE,{className:"h-3 w-3 md:h-5 md:w-5 lg:h-6 lg:w-6 mb-0.5 mt-0.5 text-sky-500"})}),f.jsx("span",{className:"text-[10px] md:text-[12px] lg:text-[14px] font-poppins font-thin text-right leading-tight mt-1.5 text-gray-800",children:e?.role==="pharmacy"?l("your_pharmacy_location","Your pharmacy location"):l("location_services","Location services")})]})]}),f.jsx("div",{className:"w-full"})]})})})}),document.body);function U_(){const[t,e]=F.useState([]),[r,n]=F.useState({}),[i,s]=F.useState([]),[a,o]=F.useState(!1),[l,c]=F.useState(-1),[u,p]=F.useState(null),[g,m]=F.useState(!1),[y,w]=F.useState(""),{user:_,profile:E}=wn(),{t:L}=Zi(),I=Jn(),{userCoords:V,location:G}=H0(),[X,R]=F.useState(null),[A,C]=F.useState(null),D=F.useRef(null),[N,j]=F.useState(!1),[B,te]=F.useState(!1),[he,_e]=F.useState("All"),[fe,ie]=F.useState([]),W=F.useRef(null),[ue,Y]=F.useState(0),P=F.useRef([]),q=Le=>qe=>{P.current[Le]=qe||null},[K,J]=F.useState(1),[ce,ye]=F.useState(1),ke=F.useMemo(()=>{let Le=t;const qe=y.trim().toLowerCase();qe&&u?.products&&Array.isArray(u.products)&&(Le=u.products);let We=Le;return he&&he!=="All"&&(We=Le.filter(dt=>{const bt=dt.category||"";return he==="Over-the-counter"?bt.toLowerCase().includes("over"):he==="Controlled"?bt.toLowerCase().includes("control"):bt===he})),qe?We.filter(dt=>{const bt=(dt.name||"").toLowerCase(),_t=(dt.category||"").toLowerCase(),vt=Array.isArray(dt.tags)?dt.tags.join(" ").toLowerCase():"",St=dt.vendorId?r[dt.vendorId]||{}:{},Xt=(St.name||"").toLowerCase(),Yt=(St.location||"").toLowerCase(),Ut=[dt.price,dt.mrp,dt.cost,dt.listPrice].map(Wt=>Wt==null?"":String(Wt)).join(" ").toLowerCase(),pr=bt.includes(qe)||_t.includes(qe)||vt.includes(qe)||Xt.includes(qe)||Yt.includes(qe)||Ut.includes(qe),Ge=qe.replace(/[^0-9.]/g,""),Ft=Ge&&(Ut.includes(Ge)||dt.price&&String(dt.price).includes(Ge));return pr||!!Ft}):We},[t,y,he,r,u]),ae=F.useMemo(()=>{const Le=y.trim().toLowerCase();return Le?u?.pharmacies&&Array.isArray(u.pharmacies)?u.pharmacies.slice(0,6):i.filter(qe=>{const We=(qe.name||qe.displayName||"").toLowerCase(),dt=(qe.address||qe.city||qe.location||"").toLowerCase();return We.includes(Le)||dt.includes(Le)}).slice(0,6):[]},[i,y,u]);F.useEffect(()=>Q5(e),[]),F.useEffect(()=>{async function Le(){if(!V)return;let qe=i;if(qe.length===0&&(qe=await Vy(),!qe||qe.length===0))return;const We=_ee(qe,V,"driving");We?(R(We.pharmacy),C(We.eta)):(R(null),C(null))}Le()},[V,i]),F.useEffect(()=>{if(!D.current)return;let Le,qe;const We=()=>{j(!0),clearTimeout(qe),qe=setTimeout(()=>j(!1),2e3)},dt=D.current;return dt.addEventListener("scroll",We),Le=setInterval(()=>{!N&&dt&&(dt.scrollBy({left:120,behavior:"smooth"}),dt.scrollLeft+dt.offsetWidth>=dt.scrollWidth-5&&dt.scrollTo({left:0,behavior:"smooth"}))},2500),()=>{clearInterval(Le),dt.removeEventListener("scroll",We),qe&&clearTimeout(qe)}},[N,ke.length]),F.useEffect(()=>{async function Le(){const qe=Array.from(new Set(t.map(dt=>dt.vendorId).filter(Boolean))),We={};await Promise.all(qe.map(async dt=>{try{const bt=await Ci(ir(pt,"pharmacies",dt));if(bt.exists()){const _t=bt.data()||{};We[dt]={name:_t.name||"Pharmacy",location:_t.address||_t.city||_t.location||"",coords:_t.coordinates||null}}}catch{}})),n(We)}t.length&&Le()},[t]),F.useEffect(()=>{let Le=!0;return(async()=>{try{const qe=await Vy();if(!Le)return;s(Array.isArray(qe)?qe:[])}catch{}})(),()=>{Le=!1}},[]),F.useEffect(()=>{const Le=y.trim();if(!Le){p(null),m(!1);return}const qe=new AbortController,We=setTimeout(async()=>{m(!0);try{const dt=await fetch(`/.netlify/functions/search?q=${encodeURIComponent(Le)}`,{signal:qe.signal,headers:{Accept:"application/json"}});if(!dt.ok)throw new Error("server search failed");const bt=await dt.json();p(bt||null)}catch{p(null)}finally{m(!1)}},300);return()=>{qe.abort(),clearTimeout(We)}},[y]),F.useEffect(()=>{const Le=Kn(lr(pt,"infoCards"),qe=>{ie(qe.docs.map(We=>({id:We.id,...We.data()})))});return()=>Le()},[]);const be=F.useMemo(()=>[...ke].filter(Le=>Le.stock===void 0||Le.stock>0).sort((Le,qe)=>(qe.viewCount||0)+(qe.sold||0)-((Le.viewCount||0)+(Le.sold||0))),[ke]),De=F.useMemo(()=>[...t].filter(Le=>Le.createdAt).sort((Le,qe)=>(qe.createdAt?.seconds||0)-(Le.createdAt?.seconds||0)).slice(0,12),[t]),se=F.useMemo(()=>[...t].filter(Le=>Le.createdAt).sort((Le,qe)=>(qe.createdAt?.seconds||0)-(Le.createdAt?.seconds||0)),[t]),Pe=30,Re=Math.max(1,Math.ceil(be.length/Pe)),me=be.slice(0,K*Pe),Oe=12,Me=Math.max(1,Math.ceil(se.length/Oe)),Qe=se.slice(0,ce*Oe);F.useEffect(()=>J(1),[be.length]),F.useEffect(()=>ye(1),[se.length]);const re=Le=>{if(!Le)return Le;if(Le.startsWith("t:")){const We=Le.substring(2);return L(We,Le)}const qe=Le.match(/^\{(.+)\}$/);return qe?L(qe[1],Le):Le},je=Le=>{if(!Le)return"";const qe=String(Le).trim();return/^(https?:)?\/\//i.test(qe)||/^mailto:/i.test(qe)||/^tel:/i.test(qe)||qe.startsWith("/")?qe:`https://${qe}`},st=Le=>Le?/^(https?:)?\/\//i.test(Le)||/^mailto:/i.test(Le)||/^tel:/i.test(Le):!1,At=async Le=>{I(`/product/${Le}`),e(qe=>qe.map(We=>We.id===Le?{...We,viewCount:(We.viewCount||0)+1}:We));try{const{doc:qe,updateDoc:We,increment:dt}=await pd(async()=>{const{doc:bt,updateDoc:_t,increment:vt}=await Promise.resolve().then(()=>OL);return{doc:bt,updateDoc:_t,increment:vt}},void 0);await We(qe(pt,"products",Le),{viewCount:dt(1)})}catch{}};F.useEffect(()=>{const Le=W.current;if(!Le)return;let qe=0;const We=()=>{cancelAnimationFrame(qe),qe=requestAnimationFrame(()=>{const dt=Le.scrollLeft+Le.clientWidth/2;let bt=0,_t=1/0;P.current.forEach((vt,St)=>{if(!vt)return;const Xt=vt.getBoundingClientRect(),Yt=Le.getBoundingClientRect(),Ut=Xt.left-Yt.left+Xt.width/2+Le.scrollLeft,pr=Math.abs(Ut-dt);pr<_t&&(_t=pr,bt=St)}),Y(bt)})};return Le.addEventListener("scroll",We,{passive:!0}),We(),()=>{Le.removeEventListener("scroll",We),cancelAnimationFrame(qe)}},[fe.length]),F.useEffect(()=>{const Le=W.current;if(!Le||P.current.length===0||window.matchMedia?.("(prefers-reduced-motion: reduce)").matches)return;let qe=!1,We;const dt=()=>{qe=!0,clearTimeout(We),We=setTimeout(()=>{qe=!1},1800)};Le.addEventListener("pointerdown",dt),Le.addEventListener("wheel",dt,{passive:!0}),Le.addEventListener("touchstart",dt,{passive:!0});const bt=setInterval(()=>{if(qe)return;const _t=(ue+1)%P.current.length,vt=P.current[_t];if(vt&&Le){const St=vt.offsetLeft,Xt=Math.max(0,Math.round(St-(Le.clientWidth-vt.clientWidth)/2));Le.scrollTo({left:Xt,behavior:"smooth"})}},3e3);return()=>{clearInterval(bt),Le.removeEventListener("pointerdown",dt),Le.removeEventListener("wheel",dt),Le.removeEventListener("touchstart",dt),clearTimeout(We)}},[ue,fe.length]),_&&_.role;const It={Prescription:"PrescriptionDrugs.svg","Over-the-counter":"Over-the-counter Icon.svg",Syrup:"Syrup.svg",Therapeutic:"Therapeutic.svg",Controlled:"ControlledSubstances.svg","Target System":"TargetSystem.svg"};return t.length?f.jsxs(f.Fragment,{children:[f.jsx(Eee,{user:_,profile:E,location:G,navigate:I,etaInfo:A,closestPharmacy:X,vendors:r,userCoords:V,t:L}),f.jsx("div",{className:"min-h-screen w-full px-0 pb-20 pt-32 bg-white dark:bg-gray-900",children:f.jsxs("div",{className:"flex-1 overflow-y-auto w-full mx-auto flex flex-col pb-28 px-0",children:[f.jsxs("div",{className:"flex items-center gap-3 border-b border-zinc-300 dark:border-gray-600 dark:border-zinc-600 pb-2",children:[f.jsx(kd,{className:"h-5 w-5 md:h-6 md:w-6 lg:h-7 lg:w-7 text-zinc-400 dark:text-zinc-500"}),f.jsx("input",{value:y,onChange:Le=>{w(Le.target.value),o(!0),c(-1)},onKeyDown:Le=>{if(!(!a||ae.length===0))switch(Le.key){case"ArrowDown":Le.preventDefault(),c(qe=>qe<ae.length-1?qe+1:0);break;case"ArrowUp":Le.preventDefault(),c(qe=>qe>0?qe-1:ae.length-1);break;case"Enter":if(Le.preventDefault(),l>=0&&l<ae.length){const qe=ae[l];w(qe.name||qe.displayName||""),o(!1);const We=qe.id||qe.vendorId;We&&I(`/vendor/${We}`)}break;case"Escape":o(!1),c(-1);break}},onBlur:()=>{setTimeout(()=>{o(!1),c(-1)},200)},placeholder:L("search_placeholder","Search drugs, pharmacies"),className:"w-full outline-none bg-transparent text-gray-900 dark:text-white placeholder:text-[12px] md:placeholder:text-[14px] lg:placeholder:text-[16px] placeholder:text-[#888888] dark:placeholder:text-[#aaaaaa] placeholder:font-light"})]}),a&&y.trim().length>0&&ae.length>0&&f.jsxs("div",{className:"mt-2 left-0 right-0 md:left-6 md:right-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg divide-y dark:divide-gray-700 max-h-56 overflow-auto animate-fade-in",children:[ae.map((Le,qe)=>f.jsx("button",{onClick:()=>{w(Le.name||Le.displayName||""),o(!1);const We=Le.id||Le.vendorId;if(We)try{I(`/vendor/${We}`)}catch{window.location.href=`/vendor/${We}`}},onKeyDown:We=>{if(We.key==="Enter"||We.key===" "){We.preventDefault();const dt=Le.id||Le.vendorId;dt&&I(`/vendor/${dt}`)}},className:`w-full text-left px-4 py-3 focus:outline-none transition-all duration-200 animate-fadeInUp border-b border-gray-100 last:border-b-0 ${qe===l?"bg-blue-100 border-blue-200":"hover:bg-zinc-50 focus:bg-zinc-100"}`,style:{animationDelay:`${qe*.05}s`},role:"option",tabIndex:0,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 flex-shrink-0",children:f.jsxs("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:y.trim()&&(Le.name||Le.displayName||"").toLowerCase().includes(y.toLowerCase())?f.jsx("span",{children:(Le.name||Le.displayName||"").split(new RegExp(`(${y})`,"gi")).map((We,dt)=>We.toLowerCase()===y.toLowerCase()?f.jsx("span",{className:"bg-yellow-200 px-1 rounded",children:We},dt):We)}):Le.name||Le.displayName}),f.jsx("div",{className:"text-xs text-gray-500 truncate mt-1",children:y.trim()&&(Le.address||Le.city||Le.location||"").toLowerCase().includes(y.toLowerCase())?f.jsx("span",{children:(Le.address||Le.city||Le.location||"").split(new RegExp(`(${y})`,"gi")).map((We,dt)=>We.toLowerCase()===y.toLowerCase()?f.jsx("span",{className:"bg-yellow-200 px-1 rounded",children:We},dt):We)}):Le.address||Le.city||Le.location||""})]}),f.jsx("div",{className:"text-xs text-blue-600 font-medium flex-shrink-0",children:"Pharmacy"})]})},Le.id||Le.vendorId||Le.name)),ae.length>0&&f.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 text-center bg-gray-50 border-t animate-fade-in",children:"Use  arrow keys to navigate, Enter to select, Esc to close"})]}),f.jsx("div",{className:"mt-3 mb-2 w-full overflow-x-auto scrollbar-hide",children:f.jsx("div",{className:"flex gap-3 min-w-max",children:["All","Prescription","Over-the-counter","Syrup","Therapeutic","Controlled","Target System"].map((Le,qe)=>{const We=It[Le],dt=he===Le;return f.jsx("button",{className:`flex items-center px-4 py-2 md:px-6 md:py-2.5 lg:px-8 lg:py-3 rounded-full text-[9px] md:text-[12px] lg:text-[14px] font-poppins font-light whitespace-nowrap border transition-all duration-200 btn-interactive animate-fadeInUp ${dt?"bg-sky-100 dark:bg-sky-900 border-sky-400 dark:border-gray-600 dark:border-sky-500 text-sky-700 dark:text-sky-300 shadow-md scale-105":"bg-zinc-100 dark:bg-gray-700 text-zinc-700 dark:text-zinc-300 border-zinc-200 dark:border-gray-600 hover:bg-sky-50 dark:hover:bg-sky-800 hover:border-sky-300 dark:border-gray-600 dark:hover:border-sky-500 hover:shadow-sm"}`,style:{animationDelay:`${qe*.1}s`},onClick:()=>_e(Le),children:We?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:`/${encodeURIComponent(We)}`,alt:`${Le} icon`,className:`h-4 w-4 md:h-5 md:w-5 mr-2 object-contain flex-shrink-0 transition-transform duration-200 dark:invert dark:brightness-0 dark:contrast-100 ${dt?"scale-110":""}`}),f.jsx("span",{className:"truncate",children:Le})]}):f.jsx("span",{className:"truncate",children:Le})},Le)})})}),fe.length>0&&f.jsx("div",{className:"w-full mt-6 mb-4 overflow-x-auto scrollbar-hide snap-x snap-mandatory scroll-smooth",ref:W,role:"region","aria-label":"Announcements",style:{height:140},children:f.jsx("div",{className:"flex gap-4 md:gap-6 min-w-max h-full",children:fe.map((Le,qe)=>{const We=Le.bgColor||"#3BA3FF",dt=Le.headerColor||"#ffffff",bt=Le.previewColor||(Le.headerColor?Le.headerColor+"cc":"#ffffffcc"),_t=Le.linkColor||Le.linkTextColor||"#ffffff",vt=Le.headerFontSize||20,St=Le.previewFontSize||13,Xt=Le.linkTextFontSize||Le.linkFontSize||13;return f.jsxs("div",{ref:q(qe),className:"relative flex-shrink-0 snap-center rounded-2xl overflow-hidden",style:{width:"90vw",maxWidth:700,minWidth:260,height:"100%",background:We,position:"relative"},children:[Le.fullImage&&f.jsx("img",{src:Le.fullImage,alt:Le.header||"Info",className:"w-full h-full object-cover",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}),Le.image&&!Le.fullImage&&f.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center justify-end pointer-events-none",children:f.jsx("img",{src:Le.image,alt:"",className:"object-cover",style:{height:"100%",maxWidth:"100%",borderRadius:"0 16px 16px 0"}})}),f.jsx("div",{className:"absolute inset-y-0 right-0",style:{width:"55%",background:"linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.06) 60%, rgba(0,0,0,0.10) 100%)",pointerEvents:"none"}}),f.jsx("div",{className:"relative z-10 h-full flex items-center",children:f.jsxs("div",{className:"px-4 md:px-6 py-5 min-w-0 max-w-[65%] md:max-w-[60%] lg:max-w-[60%]",children:[f.jsx("div",{style:{color:dt,fontSize:vt+"px",lineHeight:1,fontWeight:300,letterSpacing:"-0.02em"},children:re(Le.header)||""}),Le.preview&&f.jsx("div",{style:{marginTop:8,color:bt,fontSize:St+"px",lineHeight:1.2},children:re(Le.preview)}),Le.link&&Le.linkText&&(()=>{const Yt=je(Le.link),Ut=st(Yt);return f.jsx("a",{href:Yt,onClick:pr=>{if(!Ut){pr.preventDefault();try{I(Yt)}catch{window.location.href=Yt}}},...Ut?{target:"_blank",rel:"noopener noreferrer"}:{},style:{display:"inline-block",marginTop:12,textDecoration:"underline",color:_t,fontSize:Xt+"px",fontWeight:500},children:re(Le.linkText)})})()]})})]},Le.id)})})}),f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("div",{className:"text-[15px] md:text-[18px] lg:text-[22px] font-medium font-poppins",children:L("new_arrivals","New Arrivals")}),f.jsx("button",{className:"text-[13px] md:text-[15px] lg:text-[17px] font-normal font-poppins text-sky-600",onClick:()=>te(!0),children:L("view_all","view all")})]}),f.jsx("div",{ref:D,className:"w-full overflow-x-auto scrollbar-hide cursor-grab active:cursor-grabbing",style:{overflowX:"auto"},onMouseDown:Le=>{const qe=D.current;if(!qe)return;let We=Le.pageX-qe.offsetLeft,dt=qe.scrollLeft;function bt(vt){qe.scrollLeft=dt-(vt.pageX-qe.offsetLeft-We)}function _t(){window.removeEventListener("mousemove",bt),window.removeEventListener("mouseup",_t)}window.addEventListener("mousemove",bt),window.addEventListener("mouseup",_t)},children:f.jsx("div",{className:"flex gap-3 md:gap-4 lg:gap-6 min-w-max pb-2",children:De.map(Le=>f.jsxs("div",{className:"relative",children:[f.jsx(Bw,{product:Le,onOpen:()=>At(Le.id),onAdd:()=>_?i1(_.uid,Le.id,1):alert(L("please_sign_in","Please sign in")),cardWidth:"110px",cardHeight:"128px",nameSize:"11px",nameWeight:"medium",nameTracking:"-0.5px",priceSize:"9px",priceColor:"#BDBDBD",priceWeight:"medium",addColor:"#36A5FF",addSize:"9px"}),f.jsx("span",{className:"absolute top-1 left-1 bg-sky-500 text-white text-[9px] font-semibold px-2 py-0.5 rounded-full shadow-sm select-none pointer-events-none",children:L("new","New")})]},Le.id||Le.sku))})})]}),B&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:f.jsxs("div",{className:"bg-white rounded-[20px] shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 relative",children:[f.jsx("button",{className:"absolute top-2 right-2 text-zinc-500 hover:text-zinc-800 text-xl font-bold",onClick:()=>te(!1),"aria-label":L("close","Close"),children:""}),f.jsx("div",{className:"text-[20px] md:text-[26px] font-light mb-4 font-poppins text-left",children:L("all_new_products","All New Products")}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 justify-items-center",children:Qe.map(Le=>f.jsxs("div",{className:"relative flex flex-col items-center",children:[f.jsx(Bw,{product:Le,onOpen:()=>At(Le.id),onAdd:()=>_?i1(_.uid,Le.id,1):alert(L(L("please_sign_in","please_sign_in","Please sign in"))),cardWidth:"110px",cardHeight:"128px",nameSize:"11px",nameWeight:"semi-bold",nameTracking:"-0.5px",priceSize:"9px",priceColor:"#BDBDBD",priceWeight:"medium",addColor:"#36A5FF",addSize:"9px"}),f.jsx("span",{className:"absolute top-1 left-1 bg-sky-500 text-white text-[9px] font-semibold px-2 py-0.5 rounded-full shadow-sm select-none pointer-events-none",children:L("new","New")})]},Le.id||Le.sku))}),Me>1&&ce<Me&&f.jsx("div",{className:"flex items-center justify-center gap-3 mt-4",children:f.jsx("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white hover:bg-sky-700",onClick:()=>ye(Le=>Math.min(Me,Le+1)),"aria-label":L("load_more","Load more")+" "+L("new_arrivals","new arrivals"),children:L("load_more","Load more")})})]})}),f.jsxs("div",{className:"mt-10",children:[f.jsx("div",{className:"text-[15px] md:text-[18px] lg:text-[22px] font-medium font-poppins mb-3",children:L("popular_products","Popular Products")}),f.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 lg:gap-8",children:me.map(Le=>f.jsx("div",{className:"flex justify-center relative",children:f.jsx(Bw,{product:Le,onOpen:()=>At(Le.id),onAdd:()=>_?i1(_.uid,Le.id,1):alert("Please sign in"),cardWidth:"128px",cardHeight:"120px",nameSize:"12px",nameWeight:"semi-bold",nameTracking:"-0.5px",nameLineHeight:"-1.1",priceSize:"11px",priceColor:"#BDBDBD",priceWeight:"medium",priceLineHeight:"1.1",addColor:"#36A5FF",addSize:"9px",borderRadius:"10px"},Le.id||Le.sku)},(Le.id||Le.sku)+"-wrapper"))}),Re>1&&K<Re&&f.jsx("div",{className:"flex items-center justify-center gap-4 mt-4",children:f.jsx("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white hover:bg-sky-700",onClick:()=>J(Le=>Math.min(Re,Le+1)),"aria-label":L("load_more","Load more")+" "+L("popular_products","popular products"),children:L("load_more","Load more")})})]})]})})]}):f.jsx(F1,{lines:6,className:"my-8"})}function Aj({open:t,onClose:e,children:r}){const[n,i]=F.useState(!1),[s,a]=F.useState(!1);return F.useEffect(()=>{t?(a(!0),setTimeout(()=>i(!0),10)):(i(!1),setTimeout(()=>a(!1),300))},[t]),s?f.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center px-2 sm:px-4 transition-all duration-300 ${n?"bg-black/30":"bg-black/0"}`,onClick:e,children:f.jsxs("div",{className:`bg-white rounded-2xl shadow-xl max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto border border-[#36A5FF] transition-all duration-300 transform ${n?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"}`,style:{borderWidth:1},onClick:o=>o.stopPropagation(),children:[f.jsx("button",{onClick:e,className:"absolute top-3 right-3 text-zinc-400 hover:text-zinc-700 text-xl font-bold focus:outline-none transition-all duration-200 hover:scale-110 hover:bg-zinc-100 rounded-full w-8 h-8 flex items-center justify-center","aria-label":"Close",children:""}),f.jsx("div",{className:"animate-fadeInUp",children:r})]})}):null}const tC=["pending","processing","fulfilled","cancelled"],Cee=({title:t,t:e})=>Ps.createPortal(f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:f.jsx("div",{className:"w-full mx-auto",children:f.jsx("h1",{className:"mt-8 text-[28px] sm:text-[35px] md:text-[42px] lg:text-[48px] font-light font-poppins text-gray-900 dark:text-white",children:e("orders","Orders")})})}),document.body);function Nj(){const{user:t,profile:e}=wn(),{t:r}=Zi(),[n,i]=F.useState([]),[s,a]=F.useState("all"),[o,l]=F.useState({}),[c,u]=F.useState({}),[p,g]=F.useState(null),[m,y]=F.useState([]),w=Jn(),_=Ll(),[E,L]=F.useState(null);F.useEffect(()=>{if(!t||!e)return;const R=e.uid||t.uid;let A;return e.role==="pharmacy"?A=Tr(lr(pt,"orders"),zr("pharmacyId","==",R),aa("createdAt","desc")):A=Tr(lr(pt,"orders"),zr("customerId","==",R),aa("createdAt","desc")),Kn(A,D=>{i(D.docs.map(N=>({id:N.id,...N.data()})))})},[t,e]),F.useEffect(()=>{const R=_?.state?.highlightOrderId,A=new URLSearchParams(_.search).get("highlight");R?L(R):A&&L(A)},[_]),F.useEffect(()=>{if(!E||n.length===0)return;const R=E,A=setTimeout(()=>{const D=document.getElementById(`order-${R}`);D&&D.scrollIntoView({behavior:"smooth",block:"center"})},250),C=setTimeout(()=>L(null),5e3);return w(_.pathname,{replace:!0,state:{}}),()=>{clearTimeout(A),clearTimeout(C)}},[E,n]);const I=async(R,A)=>{await ks(ir(pt,"orders",R),{status:A})},V=s==="all"?n:n.filter(R=>(R.status||"pending")===s),G=R=>{l(A=>({...A,[R]:!A[R]}))};F.useEffect(()=>{async function R(){if(!p||!p.items)return y([]);const C=p.items.map(N=>N.productId).map(N=>Ci(ir(pt,"products",N))),D=await Promise.all(C);y(D.map(N=>N.exists()?{id:N.id,...N.data()}:null))}R()},[p]);function X(R){const A={};return R.forEach(C=>{const D=C.productId;A[D]?A[D].qty+=Number(C.qty||C.quantity||1):A[D]={...C,qty:Number(C.qty||C.quantity||1)}}),Object.values(A)}return t?f.jsxs(f.Fragment,{children:[f.jsx(Cee,{title:"Orders",t:r}),f.jsxs("div",{className:"pt-10 pb-28 w-full mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-16 min-h-screen flex flex-col",children:[f.jsx("div",{className:"mt-8 -mx-4 sm:mx-0 sticky top-20 pt-8 sm:static z-40 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-b border-gray-100 dark:border-gray-800",children:f.jsxs("div",{className:"flex gap-2 flex-nowrap px-4 sm:px-0 overflow-x-auto no-scrollbar py-2",children:[f.jsx("button",{className:`px-3 py-1 rounded-full border text-[10px] font-light ${s==="all"?"bg-sky-600 text-white border-sky-600 dark:border-gray-600":"border-zinc-300 dark:border-gray-600 text-zinc-600"}`,onClick:()=>a("all"),children:r("all","All")}),tC.map(R=>f.jsx("button",{className:`px-3 py-1 rounded-full border text-[10px] font-light ${s===R?"bg-sky-600 text-white border-sky-600 dark:border-gray-600":"border-zinc-300 dark:border-gray-600 text-zinc-600"}`,onClick:()=>a(R),children:r(R,R.charAt(0).toUpperCase()+R.slice(1))},R))]})}),f.jsx("div",{className:"mt-4 space-y-6",children:V.length===0?f.jsx("div",{className:"text-zinc-500 font-extralight text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] text-center py-12 animate-fadeInUp",children:r("no_orders_yet","No orders yet.")}):V.map((R,A)=>{const C=R.items||[],D=o[R.id],N=C.length>4,j=D?C:C.slice(0,4),B=R.customerPhone||R.customer_phone||R.phone||"",te=c[R.id];return f.jsxs("div",{id:`order-${R.id}`,className:`relative -mx-4 sm:mx-0 rounded-[10px] sm:rounded-[10px] border border-gray-200 dark:border-gray-600 p-4 flex flex-col gap-2 group hover:bg-sky-50 transition-all duration-200 card-interactive animate-fadeInUp ${E===R.id?"ring-4 ring-sky-200 bg-sky-50 scale-102":""}`,style:{cursor:"pointer",animationDelay:`${A*.1}s`},onClick:he=>{he.target.closest(".order-see-more-btn")||e.role==="pharmacy"&&he.target.closest(".order-status-dropdown")||g(R)},children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"font-light text-[14px] sm:text-[15px] md:text-[18px] lg:text-[22px]",children:[r("order_number","Order #"),R.id.slice(0,6)]}),f.jsx("div",{className:"text-gray-500 text-[11px] sm:text-[12px] md:text-[14px] lg:text-[16px] font-light",children:R.createdAt?.toDate?.().toLocaleString?.()||""})]}),f.jsxs("div",{className:"text-[14px] sm:text-[15px] md:text-[18px] lg:text-[22px] font-medium",children:["",Number(R.total).toLocaleString()]})]}),e.role==="pharmacy"&&f.jsxs("div",{className:"mt-2",children:[f.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 flex items-center gap-2",children:[r("customer","Customer"),": ",R.customerName||R.customerId||R.customer_id||"N/A"]}),f.jsx("div",{className:"text-[12px] text-zinc-400 font-light mb-2",children:R.customerEmail||""}),f.jsxs("div",{className:"text-[13px] text-zinc-700 font-medium mb-1",children:[r("items","Items"),":"]}),f.jsx("ul",{className:"ml-2 list-disc text-[13px] text-zinc-700",children:j.map((he,_e)=>f.jsxs("li",{children:[f.jsx("span",{children:he.name||he.productId}),f.jsxs("span",{children:[" x",he.qty||he.quantity||1]})]},_e))}),N&&f.jsx("button",{className:"order-see-more-btn text-sky-600 text-xs mt-1 ml-2 font-medium hover:underline focus:outline-none",onClick:he=>{he.stopPropagation(),G(R.id)},children:D?r("see_less","See less"):`${r("see_more","See more")} (${C.length-4} ${r("more_items","more")})`}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsxs("span",{className:"text-[12px] text-zinc-500",children:[r("status","Status"),":"]}),f.jsx("select",{className:"order-status-dropdown border rounded px-2 py-1 text-[12px]",value:R.status||"pending",onChange:he=>I(R.id,he.target.value),children:tC.map(he=>f.jsx("option",{value:he,children:r(he,he.charAt(0).toUpperCase()+he.slice(1))},he))}),B&&!te&&f.jsx("button",{className:"ml-2 px-3 py-1 rounded-full bg-sky-600 text-white text-[12px] font-light",onClick:he=>{he.stopPropagation(),u(_e=>({..._e,[R.id]:!0}))},children:r("reveal_number","Reveal Number")}),B&&te&&f.jsx("span",{className:"ml-2 text-[13px] text-zinc-700 font-medium",children:B})]})]})]},R.id)})}),f.jsx(Aj,{open:!!p,onClose:()=>g(null),children:p&&f.jsxs("div",{children:[f.jsxs("div",{className:"text-lg font-medium mb-2",children:[r("order_number","Order #"),p.id.slice(0,6)]}),f.jsx("div",{className:"text-zinc-500 text-xs mb-4",children:p.createdAt?.toDate?.().toLocaleString?.()||""}),f.jsxs("div",{className:"mb-2 text-[15px] font-medium",children:[r("items","Items"),":"]}),f.jsx("ul",{className:"mb-4 space-y-2",children:X(p.items).map((R,A)=>{const C=m.find(D=>D&&D.id===R.productId);return f.jsxs("li",{className:"flex items-center gap-3",children:[C?f.jsx(Pl,{name:C.name,image:C.image,category:C.category,size:40,roundedClass:"rounded-lg"}):null,f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-poppins font-medium text-[14px]",children:C?C.name:R.productId}),f.jsxs("div",{className:"text-zinc-500 text-xs",children:[r("qty","Qty"),": ",R.qty]})]}),f.jsxs("div",{className:"text-[14px] font-medium text-sky-600",children:["",Number(R.price||C?.price||0).toLocaleString()]})]},R.productId)})}),f.jsxs("div",{className:"flex justify-between items-center border-t pt-3 mt-2",children:[f.jsxs("div",{className:"text-[15px] font-medium",children:[r("total","Total"),":"]}),f.jsxs("div",{className:"text-[15px] font-bold text-sky-700",children:["",Number(p.total).toLocaleString()]})]}),f.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[r("status","Status"),": ",r(p.status||"pending",p.status||"pending")]})]})})]})]}):f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[f.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:r("please_sign_in_continue","Please sign in to continue")}),f.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>w("/auth/landing"),children:r("sign_in_sign_up","Sign In / Sign Up")})]})}const Tee=({title:t,t:e})=>Ps.createPortal(f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:f.jsx("div",{className:"w-full mt-8 max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:f.jsx("h1",{className:"text-[25px] font-light leading-none text-gray-900 dark:text-white whitespace-pre-line",children:e("my_conversations",`My
Conversations`)})})}),document.body);function Ij(){const{user:t,profile:e}=wn(),{t:r}=Zi(),[n,i]=F.useState([]),[s,a]=F.useState("");Ll();const o=Jn();F.useEffect(()=>{if(!(!t||!e?.role))return Y5({uid:t.uid,role:e.role},i,y=>console.error("listenUserThreads error:",y))},[t?.uid,e?.role]);const l=async y=>{try{await Uy(y.id,t.uid)}catch(w){console.error(w)}if(e?.role==="customer"){const w=y.vendorId||(y.id&&y.id.includes("__")?y.id.split("__")[0]:"");o(w?`/chat/${w}`:`/thread/${y.id}`)}else o(`/thread/${y.id}`)};if(!t)return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[f.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:r("please_sign_in_continue","Please sign in to continue")}),f.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>o("/auth/landing"),children:r("sign_in_sign_up","Sign In / Sign Up")})]});const c=t?.uid,u=y=>y?.unread?.[c]||0,p=y=>(e?.role==="customer"?y.vendorName:y.customerName)||"",g=y=>y.lastAt?.seconds?new Date(y.lastAt.seconds*1e3):null,m=n.filter(y=>{const w=p(y).toLowerCase(),_=s.toLowerCase();return!_||w.includes(_)||(y.lastMessage||"").toLowerCase().includes(_)});return f.jsxs(f.Fragment,{children:[f.jsx(Tee,{title:"My Conversations",t:r}),f.jsxs("div",{className:"min-h-screen pt-24 w-full mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-16 pb-28",children:[f.jsxs("div",{className:"mt-14 flex items-center gap-3 border-b border-zinc-300 dark:border-gray-600 pb-2",children:[f.jsx(kd,{className:"h-4 w-4 text-zinc-400"}),f.jsx("input",{placeholder:r("search_chats","Search chats"),value:s,onChange:y=>a(y.target.value),className:"w-full outline-none placeholder:text-zinc-400 bg-transparent placeholder:text-sm"})]}),f.jsxs("div",{className:"mt-8 space-y-4 w-full",children:[m.map((y,w)=>f.jsx("div",{className:"-mx-4 sm:mx-0",children:f.jsxs("button",{onClick:()=>l(y),className:"w-full rounded-[10px] sm:rounded-[10px] border border-gray-300 dark:border-gray-600 px-4 py-3 text-left h-[62px] flex items-center gap-3 bg-white hover:bg-zinc-50 transition-all duration-200 card-interactive animate-fadeInUp",style:{animationDelay:`${w*.1}s`},children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-200 flex items-center justify-center",children:f.jsx("span",{className:"text-zinc-500 text-xs font-semibold",children:(p(y)||"U")[0]})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-sm truncate",children:p(y)}),f.jsx("div",{className:"text-zinc-500 text-[10px] truncate",children:y.lastMessage||r("no_messages_yet","No messages yet.")})]}),f.jsxs("div",{className:"flex flex-col items-end justify-between h-full min-w-[48px]",children:[u(y)>0&&f.jsx("span",{className:"bg-sky-500 text-white text-[10px] font-semibold rounded-full px-2 py-0.5 mb-1",children:u(y)}),f.jsx("span",{className:"text-zinc-400 text-[10px]",children:g(y)?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})||""})]})]})},y.id)),m.length===0&&f.jsx("div",{className:"text-zinc-500",children:r("no_conversations_yet","No conversations yet.")})]})]})]})}function Aee(t){return f.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:f.jsxs("g",{children:[f.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"#fd9292"}),f.jsx("path",{d:"M5.5 5.5L10.5 10.5M10.5 5.5L5.5 10.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})})}const Nee=({title:t,itemCount:e,t:r})=>Ps.createPortal(f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:f.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:f.jsx("div",{className:"flex mt-8 items-center justify-between",children:f.jsx("h1",{className:"text-[28px] sm:text-[35px] md:text-[42px] lg:text-[48px] font-light font-poppins text-gray-900 dark:text-white",children:r("cart","Cart")})})})}),document.body);function Pj(){const{user:t}=wn(),{t:e}=Zi(),r=Jn(),{userCoords:n,location:i}=H0(),[s,a]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState(!1),[p,g]=F.useState(""),[m,y]=F.useState(""),[w,_]=F.useState(""),[E,L]=F.useState([]),[I,V]=F.useState(!1),[G,X]=F.useState(""),[R,A]=F.useState(0);F.useEffect(()=>{if(!t)return;const W=Tr(lr(pt,"users",t.uid,"cart"));return Kn(W,async ue=>{const Y=await Promise.all(ue.docs.map(async P=>{const q=P.data(),K=await Ci(ir(pt,"products",q.productId));return{id:P.id,...q,product:{id:K.id,...K.data()}}}));a(Y)})},[t]),F.useEffect(()=>{t&&!p&&(_(t.email||""),y(t.phoneNumber||""),g(i||"Current location"))},[t,i,p]),F.useEffect(()=>{s.length>0&&n&&N()},[s,n]);const C=F.useMemo(()=>s.reduce((W,ue)=>W+(ue.product?.price+0||0)*ue.qty,0),[s]),D=F.useMemo(()=>C+R,[C,R]),N=async()=>{if(!n||s.length===0){A(0);return}try{const W=[...new Set(s.map(P=>P.product?.pharmacyId).filter(Boolean))];let ue=0;for(const P of W){const K=(await Ci(ir(pt,"pharmacies",P))).data();if(K){let J,ce;if(K.coordinates?.latitude&&K.coordinates?.longitude?(J=K.coordinates.latitude,ce=K.coordinates.longitude):K.lat&&K.lon?(J=K.lat,ce=K.lon):K.latitude&&K.longitude&&(J=K.latitude,ce=K.longitude),J&&ce){const ye=X2(n.latitude,n.longitude,J,ce);ue+=ye}}}const Y=Math.round(ue*300);A(Y)}catch(W){console.error("Error calculating delivery fee:",W),A(300)}},j=async W=>{if(W.length<3){L([]);return}V(!0);try{const Y=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(W)}&limit=5&countrycodes=ng`)).json();L(Y.map(P=>P.display_name))}catch(ue){console.error("Error searching addresses:",ue),L([])}V(!1)},B=()=>{i&&n&&(g(i),L([]))},te=()=>{l(!0)},he=()=>{l(!1),u(!0)},_e=async()=>{if(!(!t||!s.length||!G))try{const ue=s[0].product?.pharmacyId,Y=fe(),P={customerId:t.uid,pharmacyId:ue,items:Y.map(K=>({productId:K.productId,quantity:K.qty,price:K.product.price,pharmacyId:K.product.pharmacyId})),total:D,subtotal:C,deliveryFee:R,deliveryAddress:p,customerPhone:m,customerEmail:w||t.email,paymentMethod:G};let q;if(G==="online"?q=await e2(P.customerId,P.pharmacyId,P.items,P.total,P.customerEmail):q=await e2({...P,paymentStatus:"pending",orderStatus:"confirmed"}),console.log(`OrderStatus: ${q}`),q===!1){alert(e("order_placement_failed","Order placement failed"));return}for(const K of s)await Zv(t.uid,K.id);u(!1),l(!1),alert(G==="cash"?e("order_placed_delivery","Order placed successfully! You'll pay on delivery."):e("payment_successful","Payment successful! Your order has been placed.")),r("/customer/orders")}catch(W){console.error("Checkout error:",W),alert(e("checkout_failed","Checkout failed. Please try again."))}},fe=()=>{const W=new Map;for(const ue of s){const Y=ue.product?.id;if(Y)if(W.has(Y)){const P=W.get(Y);W.set(Y,{...P,qty:P.qty+ue.qty,ids:[...P.ids||[P.id],ue.id]})}else W.set(Y,{...ue,ids:[ue.id]})}return Array.from(W.values())},ie=F.useMemo(()=>{const W=new Map;for(const ue of s){const Y=ue.product?.id;if(Y)if(W.has(Y)){const P=W.get(Y);W.set(Y,{...P,qty:P.qty+ue.qty,ids:[...P.ids||[P.id],ue.id]})}else W.set(Y,{...ue,ids:[ue.id]})}return Array.from(W.values())},[s]);return t?t&&s.length===0?f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:f.jsx("div",{className:"text-zinc-500 font-extralight text-[14px]",children:e("your_cart_is_empty","Your cart is empty.")})}):f.jsxs(f.Fragment,{children:[f.jsx(Nee,{title:"Cart",itemCount:s.length,t:e}),f.jsxs("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col",children:[f.jsxs("div",{className:"mt-10 grid grid-cols-2 gap-3",children:[ie.map((W,ue)=>f.jsxs("div",{className:"relative rounded-xl border border-zinc-200 p-2 flex flex-col items-center gap-2 min-w-0 card-interactive animate-fadeInUp",style:{animationDelay:`${ue*.1}s`},children:[f.jsx("button",{onClick:()=>W.ids.forEach(Y=>Zv(t.uid,Y)),className:"absolute top-2 right-2 z-10 p-0.5 rounded-full hover:scale-110 transition-all duration-200 hover:bg-red-50 icon-interactive","aria-label":e("remove","Remove"),children:f.jsx(Aee,{className:"w-5 h-5 text-red-500"})}),f.jsx(Pl,{name:W.product?.name,image:W.product?.image,category:W.product?.category,size:35,roundedClass:"rounded-xl"}),f.jsxs("div",{className:"flex-1 w-full text-center",children:[f.jsx("div",{className:"font-semibold text-[12px] sm:text-[13px] md:text-[14px] lg:text-[15px] truncate",children:W.product?.name}),f.jsxs("div",{className:"text-zinc-500 text-[10px] sm:text-[11px] md:text-[12px] lg:text-[13px]",children:["",Number(W.product?.price||0).toLocaleString()]})]}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx("button",{className:"w-6 h-6 rounded-full border border-zinc-300 dark:border-gray-600 flex items-center justify-center text-[18px] font-light disabled:opacity-40 btn-interactive transition-all duration-200 hover:border-sky-500 hover:text-sky-600",onClick:async()=>{W.qty>1&&await Zv(t.uid,W.ids[0])},disabled:W.qty<=1,"aria-label":e("decrease_quantity","Decrease quantity"),children:"-"}),f.jsx("span",{className:"text-[13px] font-poppins w-6 text-center font-medium",children:W.qty}),f.jsx("button",{className:"w-6 h-6 rounded-full border border-zinc-300 dark:border-gray-600 flex items-center justify-center text-[18px] font-light btn-interactive transition-all duration-200 hover:border-sky-500 hover:text-sky-600",onClick:async()=>{if(W.product?.id){const{addToCart:Y}=await pd(async()=>{const{addToCart:P}=await Promise.resolve().then(()=>QZ);return{addToCart:P}},void 0);await Y(t.uid,W.product.id,1)}},"aria-label":e("increase_quantity","Increase quantity"),children:"+"})]})]},W.product?.id)),ie.length===0&&f.jsx("div",{className:"text-zinc-500 font-extralight text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] col-span-2",children:e("your_cart_is_empty","Your cart is empty.")})]}),ie.length>0&&f.jsxs("div",{className:"mt-6 rounded-xl border border-sky-400 dark:border-gray-600 p-3",children:[f.jsxs("div",{className:"flex flex-col gap-2 text-[13px] sm:text-[15px] md:text-[18px] lg:text-[22px] font-regular",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{children:e("subtotal","Subtotal")}),f.jsxs("span",{className:"font-semibold text-[12px] sm:text-[15px]",children:["",Number(C).toLocaleString()]})]}),R>0&&f.jsxs("div",{className:"flex items-center justify-between text-[11px] sm:text-[13px] text-gray-600",children:[f.jsx("span",{children:e("delivery_fee","Delivery Fee")}),f.jsxs("span",{children:["",Number(R).toLocaleString()]})]}),f.jsxs("div",{className:"flex items-center justify-between border-t pt-2 font-medium",children:[f.jsx("span",{children:e("total","Total")}),f.jsxs("span",{className:"font-semibold text-[12px] sm:text-[15px]",children:["",Number(D).toLocaleString()]})]})]}),f.jsx("button",{onClick:te,className:"mt-4 w-full rounded-full border bg-sky-400 text-white py-2 text-[12px] sm:text-[14px] lg:text-[16px] font-light",children:e("proceed_to_checkout","Proceed to Checkout")})]})]}),o&&f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 p-4",children:f.jsx("div",{className:"bg-white rounded-3xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600",children:e("order_summary","Order Summary")}),f.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:f.jsx(t2,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("h3",{className:"text-[16px] font-medium mb-3",children:[e("items","Items")," (",ie.length,")"]}),f.jsx("div",{className:"space-y-3",children:ie.map(W=>f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx(Pl,{name:W.product?.name,image:W.product?.image,category:W.product?.category,size:40,roundedClass:"rounded-lg"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-[14px] font-medium truncate",children:W.product?.name}),f.jsxs("div",{className:"text-[12px] text-gray-600",children:[e("qty","Qty"),": ",W.qty]})]}),f.jsxs("div",{className:"text-[14px] font-medium text-sky-600",children:["",Number((W.product?.price||0)*W.qty).toLocaleString()]})]},W.product?.id))})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-[16px] font-medium mb-3",children:e("delivery_details","Delivery Details")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:[e("delivery_address","Delivery Address")," *"]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",value:p,onChange:W=>{g(W.target.value),j(W.target.value)},placeholder:e("enter_delivery_address","Enter delivery address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px] pr-10"}),f.jsx("button",{onClick:B,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-sky-600 hover:bg-sky-50 rounded-full transition-colors",title:e("use_current_location","Use current location"),children:f.jsx($y,{className:"w-4 h-4"})})]}),E.length>0&&f.jsx("div",{className:"mt-2 bg-white border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-40 overflow-y-auto relative z-[10000]",children:E.map((W,ue)=>f.jsx("button",{onClick:()=>{g(W),L([])},className:"w-full text-left p-3 hover:bg-gray-50 text-[13px] border-b last:border-b-0",children:W},ue))})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:[e("phone_number","Phone Number")," *"]}),f.jsx("input",{type:"tel",value:m,onChange:W=>y(W.target.value),placeholder:e("enter_phone_number","Enter phone number"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:e("email_optional","Email (Optional)")}),f.jsx("input",{type:"email",value:w,onChange:W=>_(W.target.value),placeholder:e("enter_email_address","Enter email address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]})]})]})]}),f.jsxs("div",{className:"mb-6 p-4 bg-sky-50 rounded-lg",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-[14px]",children:e("subtotal","Subtotal")}),f.jsxs("span",{className:"text-[14px] font-medium",children:["",Number(C).toLocaleString()]})]}),R>0&&f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-[14px]",children:e("delivery_fee","Delivery Fee")}),f.jsxs("span",{className:"text-[14px]",children:["",Number(R).toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-sky-200",children:[f.jsx("span",{className:"text-[16px] font-medium",children:e("total","Total")}),f.jsxs("span",{className:"text-[16px] font-bold text-sky-600",children:["",Number(D).toLocaleString()]})]})]}),f.jsx("button",{onClick:he,disabled:!p.trim()||!m.trim(),className:"w-full bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:e("continue_to_payment","Continue to Payment")})]})})}),c&&f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 p-4",children:f.jsx("div",{className:"bg-white rounded-3xl w-full max-w-md",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600",children:e("payment_method","Payment Method")}),f.jsx("button",{onClick:()=>u(!1),className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:f.jsx(t2,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:()=>X("cash"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${G==="cash"?"border-sky-500 bg-sky-50":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Sj,{className:"w-6 h-6 text-sky-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-[16px] font-medium",children:e("pay_on_delivery","Pay on Delivery")}),f.jsx("div",{className:"text-[13px] text-gray-600",children:e("pay_with_cash_on_delivery","Pay with cash when order arrives")})]})]})}),f.jsx("button",{onClick:()=>X("online"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${G==="online"?"border-sky-500 bg-sky-50":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(kj,{className:"w-6 h-6 text-sky-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-[16px] font-medium",children:e("online_payment","Online Payment")}),f.jsx("div",{className:"text-[13px] text-gray-600",children:e("pay_with_card_bank_ussd","Pay with card, bank transfer, or USSD")})]})]})}),f.jsx("button",{disabled:!0,className:"w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 bg-gray-100 text-left cursor-not-allowed opacity-60",children:f.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(C8,{className:"w-6 h-6 text-gray-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-[16px] font-medium text-gray-500",children:e("pay_with_insurance","Pay with Insurance")}),f.jsx("div",{className:"text-[13px] text-gray-400",children:e("use_your_health_insurance","Use your health insurance")})]})]}),f.jsx("span",{className:"text-[12px] text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:e("coming_soon","Coming Soon")})]})})]}),f.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-[16px] font-medium",children:e("total_amount","Total Amount")}),f.jsxs("span",{className:"text-[18px] font-bold text-sky-600",children:["",Number(D).toLocaleString()]})]})}),f.jsx("button",{onClick:_e,disabled:!G,className:"w-full mt-6 bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:G==="online"?e("pay_now","Pay Now"):e("place_order","Place Order")})]})})})]}):f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[f.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:e("please_sign_in_continue","Please sign in to continue")}),f.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>r("/auth/landing"),children:e("sign_in_sign_up","Sign In / Sign Up")})]})}function Rj({chatThreadId:t,prescriptions:e,userId:r}){const[n,i]=F.useState(e||[]),[s,a]=F.useState({});F.useEffect(()=>{if(e&&e.length>0){i(e);const u={};e.forEach(p=>{u[p.id]={},p.drugs.forEach((g,m)=>{u[p.id][m]=g.quantity})}),a(u);return}t&&cj(t).then(u=>{i(u);const p={};u.forEach(g=>{p[g.id]={},g.drugs.forEach((m,y)=>{p[g.id][y]=m.quantity})}),a(p)})},[t,e]);function o(u,p,g){const m=new Date(p.startDate),w=Math.floor((new Date-m)/(1e3*60*60*24)),_=Math.max(0,Number(u.duration||p.duration)-w),E=s[p.id]?.[g]??u.quantity;return{daysLeft:_,quantityLeft:E}}function l(u){if(!u)return 1;const p=u.match(/(\d+(?:\.\d+)?)/);return p?Number(p[1]):1}async function c(u,p){a(_=>{const E={..._},L=n.find(X=>X.id===u);if(!L)return _;const I=L.drugs[p],V=l(I.dosage),G=E[u]?.[p]??I.quantity;return E[u]={...E[u],[p]:Math.max(0,G-V)},E});const g=n.find(_=>_.id===u);if(!g)return;const m=g.drugs[p],y=l(m.dosage),w=g.drugs.map((_,E)=>E===p?{..._,quantity:Math.max(0,_.quantity-y)}:_);await ks(ir(pt,"prescriptions",u),{drugs:w}),i(_=>_.map(E=>E.id===u?{...E,drugs:w}:E))}return f.jsxs("div",{className:"mt-4",children:[f.jsx("div",{className:"text-lg font-light mb-2 text-black dark:text-white",children:"Prescriptions"}),n.length===0&&f.jsx("div",{className:"text-zinc-400 text-sm",children:"No prescriptions yet."}),n.map(u=>f.jsxs("div",{className:"mb-4 border rounded-2xl p-4 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 shadow-sm relative",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"font-thin text-[14px] mb-1 text-black dark:text-white",children:["Created: ",new Date(u.startDate).toLocaleDateString()]}),f.jsxs("div",{className:"mb-1 text-xs text-zinc-500 font-light",children:["Status: ",u.status]})]}),f.jsx("div",{className:"flex flex-col gap-2",children:u.drugs.map((p,g)=>{const{quantityLeft:m}=o(p,u,g),y=u.requirePurchase&&!u.fulfilled||m<=0;return f.jsx("button",{className:"rounded-full bg-sky-600 text-white text-[10px] px-2 py-0.5 ml-auto disabled:opacity-40 mb-1 shadow-sm",style:{minWidth:70,height:24,lineHeight:"16px"},disabled:y,onClick:()=>c(u.id,g),children:"Mark Dose"},g)})})]}),f.jsx("ul",{className:"mb-2 text-[13px]",children:u.drugs.map((p,g)=>{const{daysLeft:m,quantityLeft:y}=o(p,u,g);return f.jsxs("li",{className:"mb-2 flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[f.jsx("span",{className:"font-medium text-sky-700",children:p.name}),f.jsxs("span",{className:"text-zinc-500",children:["Qty: ",y]}),f.jsxs("span",{className:"text-zinc-500",children:["Dosage: ",p.dosage]}),f.jsxs("span",{className:"text-zinc-500",children:["Freq: ",p.frequency]}),f.jsxs("span",{className:m<=2?"text-red-500":"text-green-600",children:["Days left: ",m]}),f.jsxs("span",{className:y<=2?"text-red-500":"text-green-600",children:["Qty left: ",y]}),p.notes&&f.jsxs("span",{className:"block text-xs text-zinc-400",children:["Notes: ",p.notes]}),p.productId&&u.requirePurchase&&f.jsx("a",{href:`/product/${p.productId}`,className:"mt-1 inline-block text-xs text-sky-600 underline hover:text-sky-800 transition",children:"View & Buy"})]},g)})}),f.jsxs("div",{className:"text-xs text-zinc-400",children:["Duration: ",u.duration," days"]})]},u.id))]})}const Iee=Object.freeze(Object.defineProperty({__proto__:null,default:Rj},Symbol.toStringTag,{value:"Module"}));function Lj(t){if(!t)return 1;const e=t.match(/(\d+)x\s*\/\s*day/i);return e?Number(e[1]):1}function Pee(t,e){if(!("Notification"in window)||Notification.permission!=="granted")return;const{drugs:r,startDate:n,duration:i}=t,s=new Date(n),a=new Date,o=Number(i)||1;r.forEach(l=>{const c=Lj(l.frequency);for(let u=0;u<o;u++)for(let p=0;p<c;p++){const g=new Date(s.getTime()+u*24*60*60*1e3+p*(24/c)*60*60*1e3);if(g>a){const m=g.getTime()-a.getTime();setTimeout(()=>{new Notification(e("time_to_take_medicine",`Time to take ${l.name}`),{body:e("dosage_frequency",`Dosage: ${l.dosage||""} (${l.frequency||""})`,{dosage:l.dosage||"",frequency:l.frequency||""})})},m)}}})}function Ree(t,e){const{drugs:r,startDate:n,duration:i}=t,s=new Date(n),a=Number(i)||1;let o=`BEGIN:VCALENDAR
VERSION:2.0
`;r.forEach(p=>{const g=Lj(p.frequency);for(let m=0;m<a;m++)for(let y=0;y<g;y++){const _=new Date(s.getTime()+m*24*60*60*1e3+y*(24/g)*60*60*1e3).toISOString().replace(/[-:]/g,"").replace(/\..+/,"");o+=`BEGIN:VEVENT
SUMMARY:${e("take_medicine","Take {drugName}",{drugName:p.name})}
DESCRIPTION:${e("dosage_frequency","Dosage: {dosage} ({frequency})",{dosage:p.dosage||"",frequency:p.frequency||""})}
DTSTART:${_}
DTEND:${_}
END:VEVENT
`}}),o+="END:VCALENDAR";const l=new Blob([o],{type:"text/calendar"}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download="prescription.ics",u.click(),URL.revokeObjectURL(c)}function Lee(t){if(localStorage.setItem("prescriptionAlarms",JSON.stringify(t)),"indexedDB"in window){const e=indexedDB.open("HealthAppDB",1);e.onupgradeneeded=r=>{const n=r.target.result;n.objectStoreNames.contains("alarms")||n.createObjectStore("alarms",{keyPath:"id"})},e.onsuccess=r=>{const s=r.target.result.transaction("alarms","readwrite").objectStore("alarms");t.forEach(a=>s.put(a))}}}function Fee(){const{user:t}=wn(),{t:e}=Zi(),[r,n]=F.useState([]),[i,s]=F.useState(!1);if(F.useEffect(()=>{if(!t)return;async function l(){await uj({customerId:t.uid});const c=Tr(lr(pt,"prescriptions"),zr("customerId","==",t.uid));let p=(await Ln(c)).docs.map(g=>({id:g.id,...g.data()}));p=p.sort((g,m)=>new Date(m.startDate)-new Date(g.startDate)),n(p),Notification.permission==="granted"&&p.forEach(g=>Pee(g,e)),Lee(p)}l()},[t]),F.useEffect(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]),!t)return null;const a=r.length,o=i?r:r.slice(0,1);return f.jsxs("div",{className:"w-full",children:[f.jsxs("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white mb-2 tracking-tight",children:[e("my_prescriptions","My Prescriptions"),r.length>0&&f.jsx("button",{className:"ml-4 px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs font-medium",onClick:()=>r.forEach(l=>Ree(l,e)),children:e("add_to_calendar","Add to Calendar")})]}),r.length===0?f.jsx("div",{className:"text-zinc-400 text-[12px] font-light",children:e("no_prescriptions_found","No prescriptions found.")}):f.jsxs(f.Fragment,{children:[f.jsx(Rj,{prescriptions:o,userId:t.uid,chatThreadId:null}),a>1&&!i&&f.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-700 text-xs font-medium",onClick:()=>s(!0),children:e("see_more","See more")}),i&&a>1&&f.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-zinc-100 text-zinc-700 text-xs font-medium",onClick:()=>s(!1),children:e("see_less","See less")})]})]})}const jee=({title:t,onSearchClick:e,onSettingsClick:r})=>{const{t:n}=Zi();return Ps.createPortal(f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:f.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:f.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[f.jsx("h1",{className:"text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:n("my_profile",`My
Profile`).replace("\\n",`
`)}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:e,"aria-label":"Open search",className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:f.jsx(kd,{className:"h-5 w-5 text-sky-600"})}),f.jsx("button",{onClick:r,"aria-label":"Open settings",className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:f.jsx(qy,{className:"h-5 w-5 text-sky-600"})})]})]})})}),document.body)};function Fj(){const{user:t,logout:e}=wn(),{t:r}=Zi(),[n,i]=F.useState(!1),[s,a]=F.useState(""),[o,l]=F.useState(""),[c,u]=F.useState(""),[p,g]=F.useState(""),[m,y]=F.useState(!1),[w,_]=F.useState(0),[E,L]=F.useState(0),[I,V]=F.useState([]),[G,X]=F.useState(!1),[R,A]=F.useState([]),[C,D]=F.useState("products"),[N,j]=F.useState([]),[B,te]=F.useState({displayName:t?.displayName||"Customer",address:"Kuje, Abuja, Nigeria",phone:t?.phoneNumber||"",email:t?.email||""}),[he,_e]=F.useState(""),[fe,ie]=F.useState(!1),[W,ue]=F.useState("all"),[Y,P]=F.useState([]),[q,K]=F.useState(null),[J,ce]=F.useState(null),ye=Jn();F.useEffect(()=>{if(!t)return;Ln(lr(pt,"users",t.uid,"cart")).then(De=>{_(De.size)}),Ln(Tr(lr(pt,"threads"),zr("customerId","==",t.uid))).then(De=>{L(De.size)});const ae=pj(t.uid,De=>{V(De)}),be=vj(t.uid,De=>{A(De)});return()=>{ae&&ae(),be&&be()}},[t]),F.useEffect(()=>{!n&&B&&(a(B.displayName||""),l(B.phone||""),u(B.address||"Kuje, Abuja, Nigeria"))},[B,n]);async function ke(){const ae=(he||"").trim().toLowerCase();if(!ae){P([]);return}const be=[];if((W==="drugs"||W==="all")&&(N||[]).forEach(De=>{`${De.name||""}`.toLowerCase().includes(ae)&&be.push({type:"drug",title:De.name,subtitle:`Bought ${De.count||0} times`,item:De})}),W==="orders"||W==="all"){let De=q;De||(De=(await Ln(Tr(lr(pt,"orders"),zr("customerId","==",t.uid)))).docs.map(Pe=>({id:Pe.id,...Pe.data()})),K(De)),(De||[]).forEach(se=>{`${se.id} ${(se.items||[]).map(Re=>Re.name).join(" ")} ${se.total||""}`.toLowerCase().includes(ae)&&be.push({type:"order",title:`Order ${se.id}`,subtitle:`${se.items?.length||0} items  ${Number(se.total||0).toLocaleString()}`,item:se})})}if(W==="prescriptions"||W==="all"){let De=J;De||(De=(await Ln(Tr(lr(pt,"prescriptions"),zr("customerId","==",t.uid)))).docs.map(Pe=>({id:Pe.id,...Pe.data()})),ce(De)),(De||[]).forEach(se=>{const Pe=(se.medicines||[]).join(" ");`${se.id} ${Pe} ${se.note||""} ${se.pharmacyName||""}`.toLowerCase().includes(ae)&&be.push({type:"prescription",title:`Prescription ${se.id}`,subtitle:se.note||"",item:se})})}P(be)}return F.useEffect(()=>{if(!fe)return;function ae(be){be.key==="Escape"&&(ie(!1),_e(""),P([]))}return window.addEventListener("keydown",ae),()=>window.removeEventListener("keydown",ae)},[fe]),F.useEffect(()=>{if(!fe)return;if(!(he||"").trim()){P([]);return}const be=setTimeout(()=>{ke()},300);return()=>clearTimeout(be)},[he,W,fe]),t?f.jsxs(f.Fragment,{children:[f.jsx(jee,{title:"My Profile",onSearchClick:()=>ie(!0),onSettingsClick:()=>ye("/settings")}),f.jsxs("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen animate-fadeInUp",children:[fe&&f.jsx("div",{onClick:()=>{ie(!1),_e(""),P([])},className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black bg-opacity-30 animate-fadeInScale",role:"dialog","aria-modal":"true","aria-label":"Search modal",children:f.jsxs("div",{onClick:ae=>ae.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-3xl w-[min(920px,95%)] p-4 shadow-xl border border-[#9ED3FF] dark:border-gray-600 max-h-[80vh] overflow-hidden modal-backdrop animate-bounceIn",children:[f.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center bg-[#F0FAFF] dark:bg-gray-700 border border-[#9ED3FF] dark:border-gray-600 rounded-full px-3 py-2 w-full overflow-hidden input-interactive",children:[f.jsx(kd,{className:"h-4 w-4 text-sky-600 mr-2 flex-shrink-0"}),f.jsx("input",{autoFocus:!0,value:he,onChange:ae=>_e(ae.target.value),onKeyDown:ae=>{ae.key==="Enter"&&ke()},placeholder:r("search_placeholder_profile","Search prescriptions, orders, drugs..."),className:"flex-1 min-w-0 bg-transparent text-sm outline-none truncate","aria-label":"Search query"})]})}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("select",{value:W,onChange:ae=>ue(ae.target.value),className:"rounded-full border border-[#9ED3FF] dark:border-gray-600 px-3 py-2 text-sm bg-white dark:bg-gray-700 dark:text-white w-36 input-interactive",children:[f.jsx("option",{value:"prescriptions",children:r("prescriptions","Prescriptions")}),f.jsx("option",{value:"orders",children:r("orders_profile","Orders")}),f.jsx("option",{value:"drugs",children:r("drugs","Drugs")}),f.jsx("option",{value:"all",children:r("all_results","All")})]})})]}),f.jsx("div",{className:"border-t",style:{borderColor:"#E6F7FF"}}),f.jsx("div",{className:"mt-4 max-h-[60vh] overflow-auto px-1 py-2",children:Y.length===0?f.jsx("div",{className:"text-zinc-500 p-4",children:"No results yet. Enter a query."}):f.jsx("ul",{className:"space-y-2",children:Y.map((ae,be)=>f.jsxs("li",{className:"p-2 rounded-2xl border border-[#9ED3FF] dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition-all duration-200 flex items-center gap-3 justify-between animate-fadeInUp card-interactive hover:shadow-md",style:{animationDelay:`${be*.05}s`},children:[f.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${ae.type==="order"?"bg-green-100":ae.type==="prescription"?"bg-blue-100":"bg-purple-100"}`,children:ae.type==="order"?f.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}):ae.type==="prescription"?f.jsx("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):f.jsx("svg",{className:"h-4 w-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"font-semibold text-sm text-black truncate",children:ae.title}),f.jsx("div",{className:"text-xs text-zinc-500 truncate",children:ae.subtitle})]})]}),f.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:ae.type==="order"?f.jsx("button",{onClick:()=>{ye("/orders",{state:{highlightOrderId:ae.item.id}}),ie(!1),_e(""),P([])},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"Open"}):ae.type==="prescription"?f.jsx("button",{onClick:()=>{ye(`/prescriptions/${ae.item.id}`),ie(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"Open"}):f.jsx("button",{onClick:()=>{ie(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"View"})})]},be))})})]})}),f.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6",children:[f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:[f.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-200 dark:bg-zinc-700 flex items-center justify-center mb-3 overflow-hidden",children:t?.photoURL?f.jsx("img",{src:t.photoURL,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):f.jsx("span",{className:"text-3xl text-zinc-400 font-light",children:B.displayName&&B.displayName[0]||"C"})}),f.jsxs("div",{className:"w-full flex items-center justify-between mt-1",children:[f.jsx("div",{className:"text-[20px] font-medium text-sky-600 tracking-tighter",children:B.displayName||"Customer"}),f.jsxs("button",{className:"ml-2 px-3 py-1 rounded-full border border-sky-200 dark:border-gray-600 text-sky-600 text-xs flex items-center gap-1 hover:bg-sky-50",onClick:()=>i(!0),children:[f.jsx(gee,{className:"h-4 w-4"})," ",r("edit","Edit")]})]}),n&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 animate-fadeInScale",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-sm shadow-xl modal-backdrop animate-bounceIn",children:[f.jsx("div",{className:"text-[22px] font-light font-poppins text-sky-600 mb-2 tracking-tight animate-slideInLeft",children:r("edit_profile","Edit Profile")}),f.jsxs("form",{className:"flex flex-col gap-4",onSubmit:async ae=>{if(ae.preventDefault(),s!==(B?.displayName||t?.displayName)||o!==(B?.phone||t?.phoneNumber)||c!==(B?.address||"Address missing")){if(!p){alert("Please enter your account password to save changes.");return}try{const be=q0.credential(t.email,p);await SY(t,be),await cF(t,{displayName:s}),await ks(ir(pt,"users",t.uid),{displayName:s,phoneNumber:o,address:c}),i(!1),window.location.reload()}catch(be){alert("Failed to update profile: "+be.message)}}else i(!1)},children:[f.jsx("label",{className:"text-[12px] text-zinc-500 font-light animate-fadeInUp",style:{animationDelay:"0.1s"}}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all input-interactive animate-fadeInUp",style:{animationDelay:"0.2s",boxShadow:"none"},value:s,placeholder:"Name",onChange:ae=>a(ae.target.value)}),f.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",value:o,placeholder:r("phone_number_profile","Phone Number"),onChange:ae=>l(ae.target.value),style:{boxShadow:"none"}}),f.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",value:c,placeholder:r("address_profile","Address"),onChange:ae=>u(ae.target.value),style:{boxShadow:"none"}}),f.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",type:"password",placeholder:r("password","Account Password (required to save)"),onChange:ae=>g(ae.target.value),required:!0,style:{boxShadow:"none"}}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx("button",{type:"button",className:"px-4 py-2 rounded-full bg-zinc-100 text-[12px] font-light",onClick:()=>i(!1),children:r("cancel","Cancel")}),f.jsx("button",{type:"submit",className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light",children:r("save","Save")})]})]})]})}),f.jsx("div",{className:"text-zinc-500 mt-1 text-[12px] font-light w-full pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:B.email}),f.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 mt-2 text-[12px] font-light w-full pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx(ic,{className:"h-2.5 w-2.5"})," ",B.address||"Kuje, Abuja, Nigeria"]}),f.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 mt-1 text-[12px] font-light w-full",children:[f.jsx(L1,{className:"h-2.5 w-2.5"})," ",B.phone||"phone number missing"]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:[f.jsx("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white mb-2 tracking-tight",children:r("my_activity","My Activity")}),f.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:r("items_in_cart","Items in Cart")}),f.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:w??0})]}),f.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:r("active_chats","Active Chats")}),f.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:E??0})]}),f.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-sky-500 font-light",children:r("saved_items","Saved Items")}),f.jsx("button",{className:"text-[12px] text-sky-600 font-medium hover:underline",onClick:()=>X(!0),children:(I?.length??0)+(R?.length??0)})]}),f.jsxs("div",{className:"w-full flex items-center justify-between mt-3 mb-1",children:[f.jsx("span",{className:"text-[14px] font-light text-zinc-800 dark:text-zinc-200",children:r("drugs_bought","Drugs Bought")}),f.jsx("button",{className:"text-[12px] text-sky-600 font-light px-2 py-1 rounded-full hover:bg-sky-50",onClick:()=>y(!0),children:r("see_more","See more")})]}),f.jsx("div",{className:"w-full flex flex-col gap-2",children:N.slice(0,3).map((ae,be)=>f.jsxs("div",{className:"w-full flex items-center pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-left",children:ae.name}),f.jsx("span",{className:"text-[12px] text-zinc-400 font-light w-1/3 flex justify-center",children:ae.date}),f.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-right",children:ae.count??1})]},ae.id||be))}),m&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-sm shadow-xl",children:[f.jsx("div",{className:"text-[18px] font-light font-poppins text-sky-600 mb-2 tracking-tight",children:r("all_drugs_bought","All Drugs Bought")}),f.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:N.map((ae,be)=>f.jsxs("div",{className:"w-full flex items-center pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-left",children:ae.name}),f.jsx("span",{className:"text-[12px] text-zinc-400 font-light w-1/3 flex justify-center",children:ae.date}),f.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-right",children:ae.count??1})]},ae.id||be))}),f.jsx("button",{className:"mt-4 px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light w-full",onClick:()=>y(!1),children:r("close","Close")})]})}),G&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-md shadow-xl",children:[f.jsx("div",{className:"text-[18px] font-light font-poppins text-sky-600 dark:text-sky-400 mb-4 tracking-tight",children:r("my_saved_items","My Saved Items")}),f.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-600 dark:border-gray-600 mb-4",children:[f.jsxs("button",{className:`px-4 py-2 text-[14px] font-medium transition-colors ${C==="products"?"text-sky-600 border-b-2 border-sky-600 dark:border-gray-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>D("products"),children:[r("products","Products")," (",I?.length??0,")"]}),f.jsxs("button",{className:`px-4 py-2 text-[14px] font-medium transition-colors ${C==="vendors"?"text-sky-600 border-b-2 border-sky-600 dark:border-gray-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>D("vendors"),children:[r("vendors","Vendors")," (",R?.length??0,")"]})]}),f.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:C==="products"?I?.length>0?I.map(ae=>f.jsx("div",{className:"w-full flex items-center pb-3 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:f.jsxs("div",{className:"flex items-center gap-3 w-full",children:[f.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:ae.productData?.image?f.jsx("img",{src:ae.productData.image,alt:ae.productData?.name,className:"w-full h-full object-cover"}):f.jsx("span",{className:"text-gray-400 text-xs font-medium",children:ae.productData?.name?.[0]||"P"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-[13px] font-medium text-gray-800 truncate",children:ae.productData?.name||"Unknown Product"}),f.jsx("div",{className:"text-[11px] text-gray-500",children:ae.productData?.pharmacyName||"Unknown Pharmacy"}),f.jsxs("div",{className:"text-[12px] text-sky-600 font-medium",children:["",ae.productData?.price||"0"]})]}),f.jsx("button",{className:"px-3 py-1 bg-sky-100 text-sky-600 rounded-full text-[10px] font-medium hover:bg-sky-200 transition-colors",onClick:()=>{ye(`/product/${ae.productId}`),X(!1)},children:r("view","View")})]})},ae.id)):f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx("div",{className:"text-4xl mb-2",children:""}),f.jsx("div",{className:"text-[14px] font-light",children:r("no_products_saved","No products saved")}),f.jsx("div",{className:"text-[12px] text-gray-400 mt-1",children:r("start_adding_products","Start adding products you like!")})]}):R?.length>0?R.map(ae=>f.jsx("div",{className:"w-full flex items-center pb-3 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:f.jsxs("div",{className:"flex items-center gap-3 w-full",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center flex-shrink-0",children:f.jsx("span",{className:"text-sky-600 text-lg font-medium",children:ae.vendorData?.name?.[0]||"V"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-[13px] font-medium text-gray-800 truncate",children:ae.vendorData?.name||"Unknown Vendor"}),f.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:ae.vendorData?.address||"Address not available"}),f.jsx("div",{className:"text-[11px] text-gray-500",children:ae.vendorData?.phone||""})]}),f.jsx("button",{className:"px-3 py-1 bg-sky-100 text-sky-600 rounded-full text-[10px] font-medium hover:bg-sky-200 transition-colors",onClick:()=>{ye(`/vendor/${ae.vendorId}`),X(!1)},children:"Visit"})]})},ae.id)):f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx("div",{className:"text-4xl mb-2",children:""}),f.jsx("div",{className:"text-[14px] font-light",children:r("no_vendors_bookmarked","No vendors bookmarked")}),f.jsx("div",{className:"text-[12px] text-gray-400 mt-1",children:r("bookmark_vendors","Bookmark vendors you like!")})]})}),f.jsx("button",{className:"mt-4 px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light w-full",onClick:()=>{X(!1),D("products")},children:r("close","Close")})]})})]}),f.jsx("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:f.jsx(Fee,{})})]})]}),f.jsx("div",{children:f.jsxs("button",{onClick:()=>{e(),window.location.href="/auth/onboarding"},className:"mt-10 rounded-full border border-red-300 dark:border-gray-600 text-red-600 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[f.jsx(V_,{className:"h-4 w-4"})," ",r("log_out","Log Out")]})})]})]}):f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900",children:[f.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:"Please sign in to continue"}),f.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>ye("/auth/landing"),children:"Sign In / Sign Up"})]})}var ey={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Dee=ey.exports,rC;function Oee(){return rC||(rC=1,(function(t,e){((r,n)=>{t.exports=n()})(Dee,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var D=G(C);D.chunkSize=parseInt(D.chunkSize),C.step||C.chunk||(D.chunkSize=null),this._handle=new w(D),(this._handle.streamer=this)._config=D}).call(this,A),this.parseChunk=function(C,D){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let B=this._config.newline;B||(j=this._config.quoteChar||'"',B=this._handle.guessLineEndings(C,j)),C=[...C.split(B).slice(N)].join(B)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(C))!==void 0&&(C=j),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+C,j=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=j.meta.cursor,N=(this._finished||(this._partialLine=N.substring(C-this._baseIndex),this._baseIndex=C),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:j,workerId:c.WORKER_ID,finished:N});else if(R(this._config.chunk)&&!D){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!N||!R(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(C){R(this._config.error)?this._config.error(C):a&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:C,finished:!1})}}function p(A){var C;(A=A||{}).chunkSize||(A.chunkSize=c.RemoteChunkSize),u.call(this,A),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),s||(C.onload=X(this._chunkLoaded,this),C.onerror=X(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var D,N=this._config.downloadRequestHeaders;for(D in N)C.setRequestHeader(D,N[D])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+j));try{C.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}s&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(D){D=C.statusText||D,this._sendError(new Error(D))}}function g(A){(A=A||{}).chunkSize||(A.chunkSize=c.LocalChunkSize),u.call(this,A);var C,D,N=typeof FileReader<"u";this.stream=function(j){this._input=j,D=j.slice||j.webkitSlice||j.mozSlice,N?((C=new FileReader).onload=X(this._chunkLoaded,this),C.onerror=X(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),j=D.call(j,this._start,B)),C.readAsText(j,this._config.encoding));N||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(C.error)}}function m(A){var C;u.call(this,A=A||{}),this.stream=function(D){return C=D,this._nextChunk()},this._nextChunk=function(){var D,N;if(!this._finished)return D=this._config.chunkSize,C=D?(N=C.substring(0,D),C.substring(D)):(N=C,""),this._finished=!C,this.parseChunk(N)}}function y(A){u.call(this,A=A||{});var C=[],D=!0,N=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):D=!0},this._streamData=X(function(j){try{C.push(typeof j=="string"?j:j.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(B){this._streamError(B)}},this),this._streamError=X(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=X(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(A){var C,D,N,j,B=Math.pow(2,53),te=-B,he=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,_e=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,fe=this,ie=0,W=0,ue=!1,Y=!1,P=[],q={data:[],errors:[],meta:{}};function K(ke){return A.skipEmptyLines==="greedy"?ke.join("").trim()==="":ke.length===1&&ke[0].length===0}function J(){if(q&&N&&(ye("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),N=!1),A.skipEmptyLines&&(q.data=q.data.filter(function(De){return!K(De)})),ce()){let De=function(se,Pe){R(A.transformHeader)&&(se=A.transformHeader(se,Pe)),P.push(se)};if(q)if(Array.isArray(q.data[0])){for(var ke=0;ce()&&ke<q.data.length;ke++)q.data[ke].forEach(De);q.data.splice(0,1)}else q.data.forEach(De)}function ae(De,se){for(var Pe=A.header?{}:[],Re=0;Re<De.length;Re++){var me=Re,Oe=De[Re],Oe=((Me,Qe)=>(re=>(A.dynamicTypingFunction&&A.dynamicTyping[re]===void 0&&(A.dynamicTyping[re]=A.dynamicTypingFunction(re)),(A.dynamicTyping[re]||A.dynamicTyping)===!0))(Me)?Qe==="true"||Qe==="TRUE"||Qe!=="false"&&Qe!=="FALSE"&&((re=>{if(he.test(re)&&(re=parseFloat(re),te<re&&re<B))return 1})(Qe)?parseFloat(Qe):_e.test(Qe)?new Date(Qe):Qe===""?null:Qe):Qe)(me=A.header?Re>=P.length?"__parsed_extra":P[Re]:me,Oe=A.transform?A.transform(Oe,me):Oe);me==="__parsed_extra"?(Pe[me]=Pe[me]||[],Pe[me].push(Oe)):Pe[me]=Oe}return A.header&&(Re>P.length?ye("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+Re,W+se):Re<P.length&&ye("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+Re,W+se)),Pe}var be;q&&(A.header||A.dynamicTyping||A.transform)&&(be=1,!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(ae),be=q.data.length):q.data=ae(q.data,0),A.header&&q.meta&&(q.meta.fields=P),W+=be)}function ce(){return A.header&&P.length===0}function ye(ke,ae,be,De){ke={type:ke,code:ae,message:be},De!==void 0&&(ke.row=De),q.errors.push(ke)}R(A.step)&&(j=A.step,A.step=function(ke){q=ke,ce()?J():(J(),q.data.length!==0&&(ie+=ke.data.length,A.preview&&ie>A.preview?D.abort():(q.data=q.data[0],j(q,fe))))}),this.parse=function(ke,ae,be){var De=A.quoteChar||'"',De=(A.newline||(A.newline=this.guessLineEndings(ke,De)),N=!1,A.delimiter?R(A.delimiter)&&(A.delimiter=A.delimiter(ke),q.meta.delimiter=A.delimiter):((De=((se,Pe,Re,me,Oe)=>{var Me,Qe,re,je;Oe=Oe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var st=0;st<Oe.length;st++){for(var At,It=Oe[st],Le=0,qe=0,We=0,dt=(re=void 0,new E({comments:me,delimiter:It,newline:Pe,preview:10}).parse(se)),bt=0;bt<dt.data.length;bt++)Re&&K(dt.data[bt])?We++:(At=dt.data[bt].length,qe+=At,re===void 0?re=At:0<At&&(Le+=Math.abs(At-re),re=At));0<dt.data.length&&(qe/=dt.data.length-We),(Qe===void 0||Le<=Qe)&&(je===void 0||je<qe)&&1.99<qe&&(Qe=Le,Me=It,je=qe)}return{successful:!!(A.delimiter=Me),bestDelimiter:Me}})(ke,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=De.bestDelimiter:(N=!0,A.delimiter=c.DefaultDelimiter),q.meta.delimiter=A.delimiter),G(A));return A.preview&&A.header&&De.preview++,C=ke,D=new E(De),q=D.parse(C,ae,be),J(),ue?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return ue},this.pause=function(){ue=!0,D.abort(),C=R(A.chunk)?"":C.substring(D.getCharIndex())},this.resume=function(){fe.streamer._halted?(ue=!1,fe.streamer.parseChunk(C,!0)):setTimeout(fe.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,D.abort(),q.meta.aborted=!0,R(A.complete)&&A.complete(q),C=""},this.guessLineEndings=function(se,De){se=se.substring(0,1048576);var De=new RegExp(_(De)+"([^]*?)"+_(De),"gm"),be=(se=se.replace(De,"")).split("\r"),De=se.split(`
`),se=1<De.length&&De[0].length<be[0].length;if(be.length===1||se)return`
`;for(var Pe=0,Re=0;Re<be.length;Re++)be[Re][0]===`
`&&Pe++;return Pe>=be.length/2?`\r
`:"\r"}}function _(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(A){var C=(A=A||{}).delimiter,D=A.newline,N=A.comments,j=A.step,B=A.preview,te=A.fastMode,he=null,_e=!1,fe=A.quoteChar==null?'"':A.quoteChar,ie=fe;if(A.escapeChar!==void 0&&(ie=A.escapeChar),(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=","),N===C)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<c.BAD_DELIMITERS.indexOf(N))&&(N=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var W=0,ue=!1;this.parse=function(Y,P,q){if(typeof Y!="string")throw new Error("Input must be a string");var K=Y.length,J=C.length,ce=D.length,ye=N.length,ke=R(j),ae=[],be=[],De=[],se=W=0;if(!Y)return Le();if(te||te!==!1&&Y.indexOf(fe)===-1){for(var Pe=Y.split(D),Re=0;Re<Pe.length;Re++){if(De=Pe[Re],W+=De.length,Re!==Pe.length-1)W+=D.length;else if(q)return Le();if(!N||De.substring(0,ye)!==N){if(ke){if(ae=[],je(De.split(C)),qe(),ue)return Le()}else je(De.split(C));if(B&&B<=Re)return ae=ae.slice(0,B),Le(!0)}}return Le()}for(var me=Y.indexOf(C,W),Oe=Y.indexOf(D,W),Me=new RegExp(_(ie)+_(fe),"g"),Qe=Y.indexOf(fe,W);;)if(Y[W]===fe)for(Qe=W,W++;;){if((Qe=Y.indexOf(fe,Qe+1))===-1)return q||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:W}),At();if(Qe===K-1)return At(Y.substring(W,Qe).replace(Me,fe));if(fe===ie&&Y[Qe+1]===ie)Qe++;else if(fe===ie||Qe===0||Y[Qe-1]!==ie){me!==-1&&me<Qe+1&&(me=Y.indexOf(C,Qe+1));var re=st((Oe=Oe!==-1&&Oe<Qe+1?Y.indexOf(D,Qe+1):Oe)===-1?me:Math.min(me,Oe));if(Y.substr(Qe+1+re,J)===C){De.push(Y.substring(W,Qe).replace(Me,fe)),Y[W=Qe+1+re+J]!==fe&&(Qe=Y.indexOf(fe,W)),me=Y.indexOf(C,W),Oe=Y.indexOf(D,W);break}if(re=st(Oe),Y.substring(Qe+1+re,Qe+1+re+ce)===D){if(De.push(Y.substring(W,Qe).replace(Me,fe)),It(Qe+1+re+ce),me=Y.indexOf(C,W),Qe=Y.indexOf(fe,W),ke&&(qe(),ue))return Le();if(B&&ae.length>=B)return Le(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:W}),Qe++}}else if(N&&De.length===0&&Y.substring(W,W+ye)===N){if(Oe===-1)return Le();W=Oe+ce,Oe=Y.indexOf(D,W),me=Y.indexOf(C,W)}else if(me!==-1&&(me<Oe||Oe===-1))De.push(Y.substring(W,me)),W=me+J,me=Y.indexOf(C,W);else{if(Oe===-1)break;if(De.push(Y.substring(W,Oe)),It(Oe+ce),ke&&(qe(),ue))return Le();if(B&&ae.length>=B)return Le(!0)}return At();function je(We){ae.push(We),se=W}function st(We){var dt=0;return dt=We!==-1&&(We=Y.substring(Qe+1,We))&&We.trim()===""?We.length:dt}function At(We){return q||(We===void 0&&(We=Y.substring(W)),De.push(We),W=K,je(De),ke&&qe()),Le()}function It(We){W=We,je(De),De=[],Oe=Y.indexOf(D,W)}function Le(We){if(A.header&&!P&&ae.length&&!_e){var dt=ae[0],bt=Object.create(null),_t=new Set(dt);let vt=!1;for(let St=0;St<dt.length;St++){let Xt=dt[St];if(bt[Xt=R(A.transformHeader)?A.transformHeader(Xt,St):Xt]){let Yt,Ut=bt[Xt];for(;Yt=Xt+"_"+Ut,Ut++,_t.has(Yt););_t.add(Yt),dt[St]=Yt,bt[Xt]++,vt=!0,(he=he===null?{}:he)[Yt]=Xt}else bt[Xt]=1,dt[St]=Xt;_t.add(Xt)}vt&&console.warn("Duplicate headers found and renamed."),_e=!0}return{data:ae,errors:be,meta:{delimiter:C,linebreak:D,aborted:ue,truncated:!!We,cursor:se+(P||0),renamedHeaders:he}}}function qe(){j(Le()),ae=[],be=[]}},this.abort=function(){ue=!0},this.getCharIndex=function(){return W}}function L(A){var C=A.data,D=o[C.workerId],N=!1;if(C.error)D.userError(C.error,C.file);else if(C.results&&C.results.data){var j={abort:function(){N=!0,I(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(R(D.userStep)){for(var B=0;B<C.results.data.length&&(D.userStep({data:C.results.data[B],errors:C.results.errors,meta:C.results.meta},j),!N);B++);delete C.results}else R(D.userChunk)&&(D.userChunk(C.results,j,C.file),delete C.results)}C.finished&&!N&&I(C.workerId,C.results)}function I(A,C){var D=o[A];R(D.userComplete)&&D.userComplete(C),D.terminate(),delete o[A]}function V(){throw new Error("Not implemented.")}function G(A){if(typeof A!="object"||A===null)return A;var C,D=Array.isArray(A)?[]:{};for(C in A)D[C]=G(A[C]);return D}function X(A,C){return function(){A.apply(C,arguments)}}function R(A){return typeof A=="function"}return c.parse=function(A,C){var D=(C=C||{}).dynamicTyping||!1;if(R(D)&&(C.dynamicTypingFunction=D,D={}),C.dynamicTyping=D,C.transform=!!R(C.transform)&&C.transform,!C.worker||!c.WORKERS_SUPPORTED)return D=null,c.NODE_STREAM_INPUT,typeof A=="string"?(A=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(A),D=new(C.download?p:m)(C)):A.readable===!0&&R(A.read)&&R(A.on)?D=new y(C):(n.File&&A instanceof File||A instanceof Object)&&(D=new g(C)),D.stream(A);(D=(()=>{var N;return!!c.WORKERS_SUPPORTED&&(N=(()=>{var j=n.URL||n.webkitURL||null,B=r.toString();return c.BLOB_URL||(c.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(N=new n.Worker(N)).onmessage=L,N.id=l++,o[N.id]=N)})()).userStep=C.step,D.userChunk=C.chunk,D.userComplete=C.complete,D.userError=C.error,C.step=R(C.step),C.chunk=R(C.chunk),C.complete=R(C.complete),C.error=R(C.error),delete C.worker,D.postMessage({input:A,config:C,workerId:D.id})},c.unparse=function(A,C){var D=!1,N=!0,j=",",B=`\r
`,te='"',he=te+te,_e=!1,fe=null,ie=!1,W=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||c.BAD_DELIMITERS.filter(function(P){return C.delimiter.indexOf(P)!==-1}).length||(j=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(D=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(_e=C.skipEmptyLines),typeof C.newline=="string"&&(B=C.newline),typeof C.quoteChar=="string"&&(te=C.quoteChar),typeof C.header=="boolean"&&(N=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");fe=C.columns}C.escapeChar!==void 0&&(he=C.escapeChar+te),C.escapeFormulae instanceof RegExp?ie=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(ie=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(te),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ue(null,A,_e);if(typeof A[0]=="object")return ue(fe||Object.keys(A[0]),A,_e)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||fe),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ue(A.fields||[],A.data||[],_e);throw new Error("Unable to serialize unrecognized input");function ue(P,q,K){var J="",ce=(typeof P=="string"&&(P=JSON.parse(P)),typeof q=="string"&&(q=JSON.parse(q)),Array.isArray(P)&&0<P.length),ye=!Array.isArray(q[0]);if(ce&&N){for(var ke=0;ke<P.length;ke++)0<ke&&(J+=j),J+=Y(P[ke],ke);0<q.length&&(J+=B)}for(var ae=0;ae<q.length;ae++){var be=(ce?P:q[ae]).length,De=!1,se=ce?Object.keys(q[ae]).length===0:q[ae].length===0;if(K&&!ce&&(De=K==="greedy"?q[ae].join("").trim()==="":q[ae].length===1&&q[ae][0].length===0),K==="greedy"&&ce){for(var Pe=[],Re=0;Re<be;Re++){var me=ye?P[Re]:Re;Pe.push(q[ae][me])}De=Pe.join("").trim()===""}if(!De){for(var Oe=0;Oe<be;Oe++){0<Oe&&!se&&(J+=j);var Me=ce&&ye?P[Oe]:Oe;J+=Y(q[ae][Me],Oe)}ae<q.length-1&&(!K||0<be&&!se)&&(J+=B)}}return J}function Y(P,q){var K,J;return P==null?"":P.constructor===Date?JSON.stringify(P).slice(1,25):(J=!1,ie&&typeof P=="string"&&ie.test(P)&&(P="'"+P,J=!0),K=P.toString().replace(W,he),(J=J||D===!0||typeof D=="function"&&D(P,q)||Array.isArray(D)&&D[q]||((ce,ye)=>{for(var ke=0;ke<ye.length;ke++)if(-1<ce.indexOf(ye[ke]))return!0;return!1})(K,c.BAD_DELIMITERS)||-1<K.indexOf(j)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?te+K+te:K)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=E,c.ParserHandle=w,c.NetworkStreamer=p,c.FileStreamer=g,c.StringStreamer=m,c.ReadableStreamStreamer=y,n.jQuery&&((i=n.jQuery).fn.parse=function(A){var C=A.config||{},D=[];return this.each(function(B){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var te=0;te<this.files.length;te++)D.push({file:this.files[te],inputElem:this,instanceConfig:i.extend({},C)})}),N(),this;function N(){if(D.length===0)R(A.complete)&&A.complete();else{var B,te,he,_e,fe=D[0];if(R(A.before)){var ie=A.before(fe.file,fe.inputElem);if(typeof ie=="object"){if(ie.action==="abort")return B="AbortError",te=fe.file,he=fe.inputElem,_e=ie.reason,void(R(A.error)&&A.error({name:B},te,he,_e));if(ie.action==="skip")return void j();typeof ie.config=="object"&&(fe.instanceConfig=i.extend(fe.instanceConfig,ie.config))}else if(ie==="skip")return void j()}var W=fe.instanceConfig.complete;fe.instanceConfig.complete=function(ue){R(W)&&W(ue,fe.file,fe.inputElem),j()},c.parse(fe.file,fe.instanceConfig)}}function j(){D.splice(0,1),N()}}),a&&(n.onmessage=function(A){A=A.data,c.WORKER_ID===void 0&&A&&(c.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=c.parse(A.input,A.config))&&n.postMessage({workerId:c.WORKER_ID,results:A,finished:!0})}),(p.prototype=Object.create(u.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(u.prototype)).constructor=y,c})})(ey)),ey.exports}var Mee=Oee();const jj=DI(Mee);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Hy={};Hy.version="0.18.5";var Dj=1252,Bee=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],A8={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},N8=function(t){Bee.indexOf(t)!=-1&&(Dj=A8[0]=t)};function Vee(){N8(1252)}var jc=function(t){N8(t)};function I8(){jc(1200),Vee()}function nC(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function Uee(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function Oj(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var lg=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?Uee(t.slice(2)):e==254&&r==255?Oj(t.slice(2)):e==65279?t.slice(1):t},uv=function(e){return String.fromCharCode(e)},iC=function(e){return String.fromCharCode(e)},r2,If="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n2(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),s=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=If.charAt(s)+If.charAt(a)+If.charAt(o)+If.charAt(l);return e}function Rl(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=If.indexOf(t.charAt(c++)),a=If.indexOf(t.charAt(c++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=If.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=If.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var en=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Fd=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Gf(t){return en?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function sC(t){return en?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Sl=function(e){return en?Fd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function e4(t){if(typeof ArrayBuffer>"u")return Sl(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function uh(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function zee(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function P8(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return P8(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var ka=en?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Fd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function $ee(t){for(var e=[],r=0,n=t.length+250,i=Gf(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Gf(65535),n=65530)}return e.push(i.slice(0,r)),ka(e)}var Bo=/\u0000/g,cg=/[\u0001-\u0006]/g;function s1(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Dc(t,e){var r=""+t;return r.length>=e?r:ls("0",e-r.length)+r}function R8(t,e){var r=""+t;return r.length>=e?r:ls(" ",e-r.length)+r}function Wy(t,e){var r=""+t;return r.length>=e?r:r+ls(" ",e-r.length)}function qee(t,e){var r=""+Math.round(t);return r.length>=e?r:ls("0",e-r.length)+r}function Hee(t,e){var r=""+t;return r.length>=e?r:ls("0",e-r.length)+r}var aC=Math.pow(2,32);function Ap(t,e){if(t>aC||t<-aC)return qee(t,e);var r=Math.round(t);return Hee(r,e)}function Gy(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var oC=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Uw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Wee(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ir={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},lC={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Gee={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Ky(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,c=0,u=0,p=Math.floor(i);c<e&&(p=Math.floor(i),o=p*a+s,u=p*c+l,!(i-p<5e-8));)i=1/(i-p),s=a,a=o,l=c,c=u;if(u>e&&(c>e?(u=l,o=s):(u=c,o=a)),!r)return[0,n*o,u];var g=Math.floor(n*o/u);return[g,n*o-g*u,u]}function Qh(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=Zee(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var Mj=new Date(1899,11,31,0,0,0),Kee=Mj.getTime(),Xee=new Date(1900,2,1,0,0,0);function Bj(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=Xee&&(r+=1440*60*1e3),(r-(Kee+(t.getTimezoneOffset()-Mj.getTimezoneOffset())*6e4))/(1440*60*1e3)}function L8(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Yee(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Qee(t){var e=t<0?12:11,r=L8(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function Jee(t){var e=L8(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function i2(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=Qee(t):e===10?r=t.toFixed(10).substr(0,12):r=Jee(t),L8(Yee(r.toUpperCase()))}function T0(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):i2(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return cc(14,Bj(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Zee(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function ete(t,e,r,n){var i="",s=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return Uw[r.m-1][1];case 5:return Uw[r.m-1][0];default:return Uw[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return oC[r.q][0];default:return oC[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Dc(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Dc(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Dc(l,c):"";return u}function Pf(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var Vj=/%/g;function tte(t,e,r){var n=e.replace(Vj,""),i=e.length-n.length;return md(t,n,r*Math.pow(10,2*i))+ls("%",i)}function rte(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return md(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function Uj(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Uj(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var zj=/# (\?+)( ?)\/( ?)(\d+)/;function nte(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?ls(" ",t[1].length+1+t[4].length):R8(a,t[1].length)+t[2]+"/"+t[3]+Dc(o,t[4].length))}function ite(t,e,r){return r+(e===0?"":""+e)+ls(" ",t[1].length+2+t[4].length)}var $j=/^#*0*\.([0#]+)/,qj=/\).*[0#]/,Hj=/\(###\) ###\\?-####/;function jo(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function cC(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function uC(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ste(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function ate(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Jl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(qj)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Jl("n",n,r):"("+Jl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return rte(t,e,r);if(e.indexOf("%")!==-1)return tte(t,e,r);if(e.indexOf("E")!==-1)return Uj(e,r);if(e.charCodeAt(0)===36)return"$"+Jl(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Ap(l,e.length);if(e.match(/^[#?]+$/))return i=Ap(r,0),i==="0"&&(i=""),i.length>e.length?i:jo(e.substr(0,e.length-i.length))+i;if(s=e.match(zj))return nte(s,l,c);if(e.match(/^#+0+$/))return c+Ap(l,e.length-e.indexOf("0"));if(s=e.match($j))return i=cC(r,s[1].length).replace(/^([^\.]+)$/,"$1."+jo(s[1])).replace(/\.$/,"."+jo(s[1])).replace(/\.(\d*)$/,function(y,w){return"."+w+ls("0",jo(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+cC(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Pf(Ap(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Jl(t,e,-r):Pf(""+(Math.floor(r)+ste(r,s[1].length)))+"."+Dc(uC(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Jl(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=s1(Jl(t,e.replace(/[\\-]/g,""),r)),a=0,s1(s1(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(Hj))return i=Jl(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Ky(l,Math.pow(10,a)-1,!1),i=""+c,u=md("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Wy(o[2],a),u.length<s[4].length&&(u=jo(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Ky(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?R8(o[1],a)+s[2]+"/"+s[3]+Wy(o[2],a):ls(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Ap(r,0),e.length<=i.length?i:jo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return jo(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=uC(r,s[1].length),r<0?"-"+Jl(t,e,-r):Pf(ate(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Dc(0,3-y.length):"")+y})+"."+Dc(a,s[1].length);switch(e){case"###,##0.00":return Jl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Pf(Ap(l,0));return m!=="0"?c+m:"";case"###,###.00":return Jl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Jl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ote(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return md(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function lte(t,e,r){var n=e.replace(Vj,""),i=e.length-n.length;return md(t,n,r*Math.pow(10,2*i))+ls("%",i)}function Wj(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Wj(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function du(t,e,r){if(t.charCodeAt(0)===40&&!e.match(qj)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?du("n",n,r):"("+du("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return ote(t,e,r);if(e.indexOf("%")!==-1)return lte(t,e,r);if(e.indexOf("E")!==-1)return Wj(e,r);if(e.charCodeAt(0)===36)return"$"+du(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Dc(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:jo(e.substr(0,e.length-i.length))+i;if(s=e.match(zj))return ite(s,l,c);if(e.match(/^#+0+$/))return c+Dc(l,e.length-e.indexOf("0"));if(s=e.match($j))return i=(""+r).replace(/^([^\.]+)$/,"$1."+jo(s[1])).replace(/\.$/,"."+jo(s[1])),i=i.replace(/\.(\d*)$/,function(y,w){return"."+w+ls("0",jo(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Pf(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+du(t,e,-r):Pf(""+r)+"."+ls("0",s[1].length);if(s=e.match(/^#,#*,#0/))return du(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=s1(du(t,e.replace(/[\\-]/g,""),r)),a=0,s1(s1(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(Hj))return i=du(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Ky(l,Math.pow(10,a)-1,!1),i=""+c,u=md("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=Wy(o[2],a),u.length<s[4].length&&(u=jo(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Ky(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?R8(o[1],a)+s[2]+"/"+s[3]+Wy(o[2],a):ls(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:jo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return jo(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+du(t,e,-r):Pf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Dc(0,3-y.length):"")+y})+"."+Dc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Pf(""+l);return m!=="0"?c+m:"";default:if(e.match(/\.[0#?]*$/))return du(t,e.slice(0,e.lastIndexOf(".")),r)+jo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function md(t,e,r){return(r|0)===r?du(t,e,r):Jl(t,e,r)}function cte(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Gj=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function rm(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Gy(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Gj))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function ute(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",c,u,p,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!Gy(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=t.charAt(++a),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=Qh(e,r,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Qh(e,r),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var w={t:o,v:o};if(c==null&&(c=Qh(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(w.v=c.H>=12?"P":"A"),w.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(w.v=c.H>=12?"PM":"AM"),w.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(w.v=c.H>=12?"":""),w.t="T",a+=5,g="h"):(w.t="t",++a),c==null&&w.t==="T")return"";i[i.length]=w,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Gj)){if(c==null&&(c=Qh(e,r),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",rm(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var _=0,E=0,L;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,l="h",_<1&&(_=1);break;case"s":(L=i[a].v.match(/\.0+$/))&&(E=Math.max(E,L[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[a].v.match(/[Hh]/)&&(_=1),_<2&&i[a].v.match(/[Mm]/)&&(_=2),_<3&&i[a].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var I="",V;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=ete(i[a].t.charCodeAt(0),i[a].v,c,E),i[a].t="t";break;case"n":case"?":for(V=a+1;i[V]!=null&&((o=i[V].t)==="?"||o==="D"||(o===" "||o==="t")&&i[V+1]!=null&&(i[V+1].t==="?"||i[V+1].t==="t"&&i[V+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[V].v==="/"||i[V].v===" "&&i[V+1]!=null&&i[V+1].t=="?"));)i[a].v+=i[V].v,i[V]={v:"",t:";"},++V;I+=i[a].v,a=V-1;break;case"G":i[a].t="t",i[a].v=T0(e,r);break}var G="",X,R;if(I.length>0){I.charCodeAt(0)==40?(X=e<0&&I.charCodeAt(0)===45?-e:e,R=md("n",I,X)):(X=e<0&&n>1?-e:e,R=md("n",I,X),X<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),V=R.length-1;var A=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){A=a;break}var C=i.length;if(A===i.length&&R.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(V>=i[a].v.length-1?(V-=i[a].v.length,i[a].v=R.substr(V+1,i[a].v.length)):V<0?i[a].v="":(i[a].v=R.substr(0,V+1),V=-1),i[a].t="t",C=a);V>=0&&C<i.length&&(i[C].v=R.substr(0,V+1)+i[C].v)}else if(A!==i.length&&R.indexOf("E")===-1){for(V=R.indexOf(".")-1,a=A;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===A?i[a].v.indexOf(".")-1:i[a].v.length-1,G=i[a].v.substr(u+1);u>=0;--u)V>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(G=R.charAt(V--)+G);i[a].v=G,i[a].t="t",C=a}for(V>=0&&C<i.length&&(i[C].v=R.substr(0,V+1)+i[C].v),V=R.indexOf(".")+1,a=A;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==A)){for(u=i[a].v.indexOf(".")>-1&&a===A?i[a].v.indexOf(".")+1:0,G=i[a].v.substr(0,u);u<i[a].v.length;++u)V<R.length&&(G+=R.charAt(V++));i[a].v=G,i[a].t="t",C=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(X=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=md(i[a].t,i[a].v,X),i[a].t="t");var D="";for(a=0;a!==i.length;++a)i[a]!=null&&(D+=i[a].v);return D}var dC=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function fC(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function dte(t,e){var r=cte(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(dC),o=r[1].match(dC);return fC(e,a)?[n,r[0]]:fC(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function cc(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ir)[t],n==null&&(n=r.table&&r.table[lC[t]]||Ir[lC[t]]),n==null&&(n=Gee[t]||"General");break}if(Gy(n,0))return T0(e,r);e instanceof Date&&(e=Bj(e,r.date1904));var i=dte(n,e);if(Gy(i[1]))return T0(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return ute(i[1],e,r,i[0])}function gd(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Ir[r]==null){e<0&&(e=r);continue}if(Ir[r]==t){e=r;break}}e<0&&(e=391)}return Ir[e]=t,e}function t4(t){for(var e=0;e!=392;++e)t[e]!==void 0&&gd(t[e],e)}function nm(){Ir=Wee()}var fte={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Kj=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function hte(t){var e=typeof t=="number"?Ir[t]:t;return e=e.replace(Kj,"(\\d+)"),new RegExp("^"+e+"$")}function pte(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(Kj)||[]).forEach(function(p,g){var m=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&s==-1?u:c+"T"+u}var mte=(function(){var t={};t.version="1.2.0";function e(){for(var R=0,A=new Array(256),C=0;C!=256;++C)R=C,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,A[C]=R;return typeof Int32Array<"u"?new Int32Array(A):A}var r=e();function n(R){var A=0,C=0,D=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)N[D]=R[D];for(D=0;D!=256;++D)for(C=R[D],A=256+D;A<4096;A+=256)C=N[A]=C>>>8^R[C&255];var j=[];for(D=1;D!=16;++D)j[D-1]=typeof Int32Array<"u"?N.subarray(D*256,D*256+256):N.slice(D*256,D*256+256);return j}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],p=i[6],g=i[7],m=i[8],y=i[9],w=i[10],_=i[11],E=i[12],L=i[13],I=i[14];function V(R,A){for(var C=A^-1,D=0,N=R.length;D<N;)C=C>>>8^r[(C^R.charCodeAt(D++))&255];return~C}function G(R,A){for(var C=A^-1,D=R.length-15,N=0;N<D;)C=I[R[N++]^C&255]^L[R[N++]^C>>8&255]^E[R[N++]^C>>16&255]^_[R[N++]^C>>>24]^w[R[N++]]^y[R[N++]]^m[R[N++]]^g[R[N++]]^p[R[N++]]^u[R[N++]]^c[R[N++]]^l[R[N++]]^o[R[N++]]^a[R[N++]]^s[R[N++]]^r[R[N++]];for(D+=15;N<D;)C=C>>>8^r[(C^R[N++])&255];return~C}function X(R,A){for(var C=A^-1,D=0,N=R.length,j=0,B=0;D<N;)j=R.charCodeAt(D++),j<128?C=C>>>8^r[(C^j)&255]:j<2048?(C=C>>>8^r[(C^(192|j>>6&31))&255],C=C>>>8^r[(C^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,B=R.charCodeAt(D++)&1023,C=C>>>8^r[(C^(240|j>>8&7))&255],C=C>>>8^r[(C^(128|j>>2&63))&255],C=C>>>8^r[(C^(128|B>>6&15|(j&3)<<4))&255],C=C>>>8^r[(C^(128|B&63))&255]):(C=C>>>8^r[(C^(224|j>>12&15))&255],C=C>>>8^r[(C^(128|j>>6&63))&255],C=C>>>8^r[(C^(128|j&63))&255]);return~C}return t.table=r,t.bstr=V,t.buf=G,t.str=X,t})(),br=(function(){var e={};e.version="1.2.1";function r(oe,Ae){for(var we=oe.split("/"),Se=Ae.split("/"),Ne=0,Ie=0,Ye=Math.min(we.length,Se.length);Ne<Ye;++Ne){if(Ie=we[Ne].length-Se[Ne].length)return Ie;if(we[Ne]!=Se[Ne])return we[Ne]<Se[Ne]?-1:1}return we.length-Se.length}function n(oe){if(oe.charAt(oe.length-1)=="/")return oe.slice(0,-1).indexOf("/")===-1?oe:n(oe.slice(0,-1));var Ae=oe.lastIndexOf("/");return Ae===-1?oe:oe.slice(0,Ae+1)}function i(oe){if(oe.charAt(oe.length-1)=="/")return i(oe.slice(0,-1));var Ae=oe.lastIndexOf("/");return Ae===-1?oe:oe.slice(Ae+1)}function s(oe,Ae){typeof Ae=="string"&&(Ae=new Date(Ae));var we=Ae.getHours();we=we<<6|Ae.getMinutes(),we=we<<5|Ae.getSeconds()>>>1,oe.write_shift(2,we);var Se=Ae.getFullYear()-1980;Se=Se<<4|Ae.getMonth()+1,Se=Se<<5|Ae.getDate(),oe.write_shift(2,Se)}function a(oe){var Ae=oe.read_shift(2)&65535,we=oe.read_shift(2)&65535,Se=new Date,Ne=we&31;we>>>=5;var Ie=we&15;we>>>=4,Se.setMilliseconds(0),Se.setFullYear(we+1980),Se.setMonth(Ie-1),Se.setDate(Ne);var Ye=Ae&31;Ae>>>=5;var ot=Ae&63;return Ae>>>=6,Se.setHours(Ae),Se.setMinutes(ot),Se.setSeconds(Ye<<1),Se}function o(oe){za(oe,0);for(var Ae={},we=0;oe.l<=oe.length-4;){var Se=oe.read_shift(2),Ne=oe.read_shift(2),Ie=oe.l+Ne,Ye={};switch(Se){case 21589:we=oe.read_shift(1),we&1&&(Ye.mtime=oe.read_shift(4)),Ne>5&&(we&2&&(Ye.atime=oe.read_shift(4)),we&4&&(Ye.ctime=oe.read_shift(4))),Ye.mtime&&(Ye.mt=new Date(Ye.mtime*1e3));break}oe.l=Ie,Ae[Se]=Ye}return Ae}var l;function c(){return l||(l={})}function u(oe,Ae){if(oe[0]==80&&oe[1]==75)return mr(oe,Ae);if((oe[0]|32)==109&&(oe[1]|32)==105)return ar(oe,Ae);if(oe.length<512)throw new Error("CFB file size "+oe.length+" < 512");var we=3,Se=512,Ne=0,Ie=0,Ye=0,ot=0,et=0,tt=[],it=oe.slice(0,512);za(it,0);var Et=p(it);switch(we=Et[0],we){case 3:Se=512;break;case 4:Se=4096;break;case 0:if(Et[1]==0)return mr(oe,Ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+we)}Se!==512&&(it=oe.slice(0,Se),za(it,28));var Mt=oe.slice(0,Se);g(it,we);var Gt=it.read_shift(4,"i");if(we===3&&Gt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Gt);it.l+=4,Ye=it.read_shift(4,"i"),it.l+=4,it.chk("00100000","Mini Stream Cutoff Size: "),ot=it.read_shift(4,"i"),Ne=it.read_shift(4,"i"),et=it.read_shift(4,"i"),Ie=it.read_shift(4,"i");for(var Ot=-1,Pt=0;Pt<109&&(Ot=it.read_shift(4,"i"),!(Ot<0));++Pt)tt[Pt]=Ot;var Sr=m(oe,Se);_(et,Ie,Sr,Se,tt);var fn=L(Sr,Ye,tt,Se);fn[Ye].name="!Directory",Ne>0&&ot!==B&&(fn[ot].name="!MiniFAT"),fn[tt[0]].name="!FAT",fn.fat_addrs=tt,fn.ssz=Se;var Vr={},gn=[],Ha=[],Wa=[];I(Ye,fn,Sr,gn,Ne,Vr,Ha,ot),y(Ha,Wa,gn),gn.shift();var ca={FileIndex:Ha,FullPaths:Wa};return Ae&&Ae.raw&&(ca.raw={header:Mt,sectors:Sr}),ca}function p(oe){if(oe[oe.l]==80&&oe[oe.l+1]==75)return[0,0];oe.chk(te,"Header Signature: "),oe.l+=16;var Ae=oe.read_shift(2,"u");return[oe.read_shift(2,"u"),Ae]}function g(oe,Ae){var we=9;switch(oe.l+=2,we=oe.read_shift(2)){case 9:if(Ae!=3)throw new Error("Sector Shift: Expected 9 saw "+we);break;case 12:if(Ae!=4)throw new Error("Sector Shift: Expected 12 saw "+we);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+we)}oe.chk("0600","Mini Sector Shift: "),oe.chk("000000000000","Reserved: ")}function m(oe,Ae){for(var we=Math.ceil(oe.length/Ae)-1,Se=[],Ne=1;Ne<we;++Ne)Se[Ne-1]=oe.slice(Ne*Ae,(Ne+1)*Ae);return Se[we-1]=oe.slice(we*Ae),Se}function y(oe,Ae,we){for(var Se=0,Ne=0,Ie=0,Ye=0,ot=0,et=we.length,tt=[],it=[];Se<et;++Se)tt[Se]=it[Se]=Se,Ae[Se]=we[Se];for(;ot<it.length;++ot)Se=it[ot],Ne=oe[Se].L,Ie=oe[Se].R,Ye=oe[Se].C,tt[Se]===Se&&(Ne!==-1&&tt[Ne]!==Ne&&(tt[Se]=tt[Ne]),Ie!==-1&&tt[Ie]!==Ie&&(tt[Se]=tt[Ie])),Ye!==-1&&(tt[Ye]=Se),Ne!==-1&&Se!=tt[Se]&&(tt[Ne]=tt[Se],it.lastIndexOf(Ne)<ot&&it.push(Ne)),Ie!==-1&&Se!=tt[Se]&&(tt[Ie]=tt[Se],it.lastIndexOf(Ie)<ot&&it.push(Ie));for(Se=1;Se<et;++Se)tt[Se]===Se&&(Ie!==-1&&tt[Ie]!==Ie?tt[Se]=tt[Ie]:Ne!==-1&&tt[Ne]!==Ne&&(tt[Se]=tt[Ne]));for(Se=1;Se<et;++Se)if(oe[Se].type!==0){if(ot=Se,ot!=tt[ot])do ot=tt[ot],Ae[Se]=Ae[ot]+"/"+Ae[Se];while(ot!==0&&tt[ot]!==-1&&ot!=tt[ot]);tt[Se]=-1}for(Ae[0]+="/",Se=1;Se<et;++Se)oe[Se].type!==2&&(Ae[Se]+="/")}function w(oe,Ae,we){for(var Se=oe.start,Ne=oe.size,Ie=[],Ye=Se;we&&Ne>0&&Ye>=0;)Ie.push(Ae.slice(Ye*j,Ye*j+j)),Ne-=j,Ye=Gh(we,Ye*4);return Ie.length===0?gt(0):ka(Ie).slice(0,oe.size)}function _(oe,Ae,we,Se,Ne){var Ie=B;if(oe===B){if(Ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(oe!==-1){var Ye=we[oe],ot=(Se>>>2)-1;if(!Ye)return;for(var et=0;et<ot&&(Ie=Gh(Ye,et*4))!==B;++et)Ne.push(Ie);_(Gh(Ye,Se-4),Ae-1,we,Se,Ne)}}function E(oe,Ae,we,Se,Ne){var Ie=[],Ye=[];Ne||(Ne=[]);var ot=Se-1,et=0,tt=0;for(et=Ae;et>=0;){Ne[et]=!0,Ie[Ie.length]=et,Ye.push(oe[et]);var it=we[Math.floor(et*4/Se)];if(tt=et*4&ot,Se<4+tt)throw new Error("FAT boundary crossed: "+et+" 4 "+Se);if(!oe[it])break;et=Gh(oe[it],tt)}return{nodes:Ie,data:SC([Ye])}}function L(oe,Ae,we,Se){var Ne=oe.length,Ie=[],Ye=[],ot=[],et=[],tt=Se-1,it=0,Et=0,Mt=0,Gt=0;for(it=0;it<Ne;++it)if(ot=[],Mt=it+Ae,Mt>=Ne&&(Mt-=Ne),!Ye[Mt]){et=[];var Ot=[];for(Et=Mt;Et>=0;){Ot[Et]=!0,Ye[Et]=!0,ot[ot.length]=Et,et.push(oe[Et]);var Pt=we[Math.floor(Et*4/Se)];if(Gt=Et*4&tt,Se<4+Gt)throw new Error("FAT boundary crossed: "+Et+" 4 "+Se);if(!oe[Pt]||(Et=Gh(oe[Pt],Gt),Ot[Et]))break}Ie[Mt]={nodes:ot,data:SC([et])}}return Ie}function I(oe,Ae,we,Se,Ne,Ie,Ye,ot){for(var et=0,tt=Se.length?2:0,it=Ae[oe].data,Et=0,Mt=0,Gt;Et<it.length;Et+=128){var Ot=it.slice(Et,Et+128);za(Ot,64),Mt=Ot.read_shift(2),Gt=V8(Ot,0,Mt-tt),Se.push(Gt);var Pt={name:Gt,type:Ot.read_shift(1),color:Ot.read_shift(1),L:Ot.read_shift(4,"i"),R:Ot.read_shift(4,"i"),C:Ot.read_shift(4,"i"),clsid:Ot.read_shift(16),state:Ot.read_shift(4,"i"),start:0,size:0},Sr=Ot.read_shift(2)+Ot.read_shift(2)+Ot.read_shift(2)+Ot.read_shift(2);Sr!==0&&(Pt.ct=V(Ot,Ot.l-8));var fn=Ot.read_shift(2)+Ot.read_shift(2)+Ot.read_shift(2)+Ot.read_shift(2);fn!==0&&(Pt.mt=V(Ot,Ot.l-8)),Pt.start=Ot.read_shift(4,"i"),Pt.size=Ot.read_shift(4,"i"),Pt.size<0&&Pt.start<0&&(Pt.size=Pt.type=0,Pt.start=B,Pt.name=""),Pt.type===5?(et=Pt.start,Ne>0&&et!==B&&(Ae[et].name="!StreamData")):Pt.size>=4096?(Pt.storage="fat",Ae[Pt.start]===void 0&&(Ae[Pt.start]=E(we,Pt.start,Ae.fat_addrs,Ae.ssz)),Ae[Pt.start].name=Pt.name,Pt.content=Ae[Pt.start].data.slice(0,Pt.size)):(Pt.storage="minifat",Pt.size<0?Pt.size=0:et!==B&&Pt.start!==B&&Ae[et]&&(Pt.content=w(Pt,Ae[et].data,(Ae[ot]||{}).data))),Pt.content&&za(Pt.content,0),Ie[Gt]=Pt,Ye.push(Pt)}}function V(oe,Ae){return new Date((kl(oe,Ae+4)/1e7*Math.pow(2,32)+kl(oe,Ae)/1e7-11644473600)*1e3)}function G(oe,Ae){return c(),u(l.readFileSync(oe),Ae)}function X(oe,Ae){var we=Ae&&Ae.type;switch(we||en&&Buffer.isBuffer(oe)&&(we="buffer"),we||"base64"){case"file":return G(oe,Ae);case"base64":return u(Sl(Rl(oe)),Ae);case"binary":return u(Sl(oe),Ae)}return u(oe,Ae)}function R(oe,Ae){var we=Ae||{},Se=we.root||"Root Entry";if(oe.FullPaths||(oe.FullPaths=[]),oe.FileIndex||(oe.FileIndex=[]),oe.FullPaths.length!==oe.FileIndex.length)throw new Error("inconsistent CFB structure");oe.FullPaths.length===0&&(oe.FullPaths[0]=Se+"/",oe.FileIndex[0]={name:Se,type:5}),we.CLSID&&(oe.FileIndex[0].clsid=we.CLSID),A(oe)}function A(oe){var Ae="Sh33tJ5";if(!br.find(oe,"/"+Ae)){var we=gt(4);we[0]=55,we[1]=we[3]=50,we[2]=54,oe.FileIndex.push({name:Ae,type:2,content:we,size:4,L:69,R:69,C:69}),oe.FullPaths.push(oe.FullPaths[0]+Ae),C(oe)}}function C(oe,Ae){R(oe);for(var we=!1,Se=!1,Ne=oe.FullPaths.length-1;Ne>=0;--Ne){var Ie=oe.FileIndex[Ne];switch(Ie.type){case 0:Se?we=!0:(oe.FileIndex.pop(),oe.FullPaths.pop());break;case 1:case 2:case 5:Se=!0,isNaN(Ie.R*Ie.L*Ie.C)&&(we=!0),Ie.R>-1&&Ie.L>-1&&Ie.R==Ie.L&&(we=!0);break;default:we=!0;break}}if(!(!we&&!Ae)){var Ye=new Date(1987,1,19),ot=0,et=Object.create?Object.create(null):{},tt=[];for(Ne=0;Ne<oe.FullPaths.length;++Ne)et[oe.FullPaths[Ne]]=!0,oe.FileIndex[Ne].type!==0&&tt.push([oe.FullPaths[Ne],oe.FileIndex[Ne]]);for(Ne=0;Ne<tt.length;++Ne){var it=n(tt[Ne][0]);Se=et[it],Se||(tt.push([it,{name:i(it).replace("/",""),type:1,clsid:_e,ct:Ye,mt:Ye,content:null}]),et[it]=!0)}for(tt.sort(function(Gt,Ot){return r(Gt[0],Ot[0])}),oe.FullPaths=[],oe.FileIndex=[],Ne=0;Ne<tt.length;++Ne)oe.FullPaths[Ne]=tt[Ne][0],oe.FileIndex[Ne]=tt[Ne][1];for(Ne=0;Ne<tt.length;++Ne){var Et=oe.FileIndex[Ne],Mt=oe.FullPaths[Ne];if(Et.name=i(Mt).replace("/",""),Et.L=Et.R=Et.C=-(Et.color=1),Et.size=Et.content?Et.content.length:0,Et.start=0,Et.clsid=Et.clsid||_e,Ne===0)Et.C=tt.length>1?1:-1,Et.size=0,Et.type=5;else if(Mt.slice(-1)=="/"){for(ot=Ne+1;ot<tt.length&&n(oe.FullPaths[ot])!=Mt;++ot);for(Et.C=ot>=tt.length?-1:ot,ot=Ne+1;ot<tt.length&&n(oe.FullPaths[ot])!=n(Mt);++ot);Et.R=ot>=tt.length?-1:ot,Et.type=1}else n(oe.FullPaths[Ne+1]||"")==n(Mt)&&(Et.R=Ne+1),Et.type=2}}}function D(oe,Ae){var we=Ae||{};if(we.fileType=="mad")return dn(oe,we);switch(C(oe),we.fileType){case"zip":return Ar(oe,we)}var Se=(function(Gt){for(var Ot=0,Pt=0,Sr=0;Sr<Gt.FileIndex.length;++Sr){var fn=Gt.FileIndex[Sr];if(fn.content){var Vr=fn.content.length;Vr>0&&(Vr<4096?Ot+=Vr+63>>6:Pt+=Vr+511>>9)}}for(var gn=Gt.FullPaths.length+3>>2,Ha=Ot+7>>3,Wa=Ot+127>>7,ca=Ha+Pt+gn+Wa,hi=ca+127>>7,al=hi<=109?0:Math.ceil((hi-109)/127);ca+hi+al+127>>7>hi;)al=++hi<=109?0:Math.ceil((hi-109)/127);var An=[1,al,hi,Wa,gn,Pt,Ot,0];return Gt.FileIndex[0].size=Ot<<6,An[7]=(Gt.FileIndex[0].start=An[0]+An[1]+An[2]+An[3]+An[4]+An[5])+(An[6]+7>>3),An})(oe),Ne=gt(Se[7]<<9),Ie=0,Ye=0;{for(Ie=0;Ie<8;++Ie)Ne.write_shift(1,he[Ie]);for(Ie=0;Ie<8;++Ie)Ne.write_shift(2,0);for(Ne.write_shift(2,62),Ne.write_shift(2,3),Ne.write_shift(2,65534),Ne.write_shift(2,9),Ne.write_shift(2,6),Ie=0;Ie<3;++Ie)Ne.write_shift(2,0);for(Ne.write_shift(4,0),Ne.write_shift(4,Se[2]),Ne.write_shift(4,Se[0]+Se[1]+Se[2]+Se[3]-1),Ne.write_shift(4,0),Ne.write_shift(4,4096),Ne.write_shift(4,Se[3]?Se[0]+Se[1]+Se[2]-1:B),Ne.write_shift(4,Se[3]),Ne.write_shift(-4,Se[1]?Se[0]-1:B),Ne.write_shift(4,Se[1]),Ie=0;Ie<109;++Ie)Ne.write_shift(-4,Ie<Se[2]?Se[1]+Ie:-1)}if(Se[1])for(Ye=0;Ye<Se[1];++Ye){for(;Ie<236+Ye*127;++Ie)Ne.write_shift(-4,Ie<Se[2]?Se[1]+Ie:-1);Ne.write_shift(-4,Ye===Se[1]-1?B:Ye+1)}var ot=function(Gt){for(Ye+=Gt;Ie<Ye-1;++Ie)Ne.write_shift(-4,Ie+1);Gt&&(++Ie,Ne.write_shift(-4,B))};for(Ye=Ie=0,Ye+=Se[1];Ie<Ye;++Ie)Ne.write_shift(-4,fe.DIFSECT);for(Ye+=Se[2];Ie<Ye;++Ie)Ne.write_shift(-4,fe.FATSECT);ot(Se[3]),ot(Se[4]);for(var et=0,tt=0,it=oe.FileIndex[0];et<oe.FileIndex.length;++et)it=oe.FileIndex[et],it.content&&(tt=it.content.length,!(tt<4096)&&(it.start=Ye,ot(tt+511>>9)));for(ot(Se[6]+7>>3);Ne.l&511;)Ne.write_shift(-4,fe.ENDOFCHAIN);for(Ye=Ie=0,et=0;et<oe.FileIndex.length;++et)it=oe.FileIndex[et],it.content&&(tt=it.content.length,!(!tt||tt>=4096)&&(it.start=Ye,ot(tt+63>>6)));for(;Ne.l&511;)Ne.write_shift(-4,fe.ENDOFCHAIN);for(Ie=0;Ie<Se[4]<<2;++Ie){var Et=oe.FullPaths[Ie];if(!Et||Et.length===0){for(et=0;et<17;++et)Ne.write_shift(4,0);for(et=0;et<3;++et)Ne.write_shift(4,-1);for(et=0;et<12;++et)Ne.write_shift(4,0);continue}it=oe.FileIndex[Ie],Ie===0&&(it.start=it.size?it.start-1:B);var Mt=Ie===0&&we.root||it.name;if(tt=2*(Mt.length+1),Ne.write_shift(64,Mt,"utf16le"),Ne.write_shift(2,tt),Ne.write_shift(1,it.type),Ne.write_shift(1,it.color),Ne.write_shift(-4,it.L),Ne.write_shift(-4,it.R),Ne.write_shift(-4,it.C),it.clsid)Ne.write_shift(16,it.clsid,"hex");else for(et=0;et<4;++et)Ne.write_shift(4,0);Ne.write_shift(4,it.state||0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,0),Ne.write_shift(4,it.start),Ne.write_shift(4,it.size),Ne.write_shift(4,0)}for(Ie=1;Ie<oe.FileIndex.length;++Ie)if(it=oe.FileIndex[Ie],it.size>=4096)if(Ne.l=it.start+1<<9,en&&Buffer.isBuffer(it.content))it.content.copy(Ne,Ne.l,0,it.size),Ne.l+=it.size+511&-512;else{for(et=0;et<it.size;++et)Ne.write_shift(1,it.content[et]);for(;et&511;++et)Ne.write_shift(1,0)}for(Ie=1;Ie<oe.FileIndex.length;++Ie)if(it=oe.FileIndex[Ie],it.size>0&&it.size<4096)if(en&&Buffer.isBuffer(it.content))it.content.copy(Ne,Ne.l,0,it.size),Ne.l+=it.size+63&-64;else{for(et=0;et<it.size;++et)Ne.write_shift(1,it.content[et]);for(;et&63;++et)Ne.write_shift(1,0)}if(en)Ne.l=Ne.length;else for(;Ne.l<Ne.length;)Ne.write_shift(1,0);return Ne}function N(oe,Ae){var we=oe.FullPaths.map(function(et){return et.toUpperCase()}),Se=we.map(function(et){var tt=et.split("/");return tt[tt.length-(et.slice(-1)=="/"?2:1)]}),Ne=!1;Ae.charCodeAt(0)===47?(Ne=!0,Ae=we[0].slice(0,-1)+Ae):Ne=Ae.indexOf("/")!==-1;var Ie=Ae.toUpperCase(),Ye=Ne===!0?we.indexOf(Ie):Se.indexOf(Ie);if(Ye!==-1)return oe.FileIndex[Ye];var ot=!Ie.match(cg);for(Ie=Ie.replace(Bo,""),ot&&(Ie=Ie.replace(cg,"!")),Ye=0;Ye<we.length;++Ye)if((ot?we[Ye].replace(cg,"!"):we[Ye]).replace(Bo,"")==Ie||(ot?Se[Ye].replace(cg,"!"):Se[Ye]).replace(Bo,"")==Ie)return oe.FileIndex[Ye];return null}var j=64,B=-2,te="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],_e="00000000000000000000000000000000",fe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:te,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:_e,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(oe,Ae,we){c();var Se=D(oe,we);l.writeFileSync(Ae,Se)}function W(oe){for(var Ae=new Array(oe.length),we=0;we<oe.length;++we)Ae[we]=String.fromCharCode(oe[we]);return Ae.join("")}function ue(oe,Ae){var we=D(oe,Ae);switch(Ae&&Ae.type||"buffer"){case"file":return c(),l.writeFileSync(Ae.filename,we),we;case"binary":return typeof we=="string"?we:W(we);case"base64":return n2(typeof we=="string"?we:W(we));case"buffer":if(en)return Buffer.isBuffer(we)?we:Fd(we);case"array":return typeof we=="string"?Sl(we):we}return we}var Y;function P(oe){try{var Ae=oe.InflateRaw,we=new Ae;if(we._processChunk(new Uint8Array([3,0]),we._finishFlushFlag),we.bytesRead)Y=oe;else throw new Error("zlib does not expose bytesRead")}catch(Se){console.error("cannot use native zlib: "+(Se.message||Se))}}function q(oe,Ae){if(!Y)return Wt(oe,Ae);var we=Y.InflateRaw,Se=new we,Ne=Se._processChunk(oe.slice(oe.l),Se._finishFlushFlag);return oe.l+=Se.bytesRead,Ne}function K(oe){return Y?Y.deflateRawSync(oe):vt(oe)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ye=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(oe){var Ae=(oe<<1|oe<<11)&139536|(oe<<5|oe<<15)&558144;return(Ae>>16|Ae>>8|Ae)&255}for(var ae=typeof Uint8Array<"u",be=ae?new Uint8Array(256):[],De=0;De<256;++De)be[De]=ke(De);function se(oe,Ae){var we=be[oe&255];return Ae<=8?we>>>8-Ae:(we=we<<8|be[oe>>8&255],Ae<=16?we>>>16-Ae:(we=we<<8|be[oe>>16&255],we>>>24-Ae))}function Pe(oe,Ae){var we=Ae&7,Se=Ae>>>3;return(oe[Se]|(we<=6?0:oe[Se+1]<<8))>>>we&3}function Re(oe,Ae){var we=Ae&7,Se=Ae>>>3;return(oe[Se]|(we<=5?0:oe[Se+1]<<8))>>>we&7}function me(oe,Ae){var we=Ae&7,Se=Ae>>>3;return(oe[Se]|(we<=4?0:oe[Se+1]<<8))>>>we&15}function Oe(oe,Ae){var we=Ae&7,Se=Ae>>>3;return(oe[Se]|(we<=3?0:oe[Se+1]<<8))>>>we&31}function Me(oe,Ae){var we=Ae&7,Se=Ae>>>3;return(oe[Se]|(we<=1?0:oe[Se+1]<<8))>>>we&127}function Qe(oe,Ae,we){var Se=Ae&7,Ne=Ae>>>3,Ie=(1<<we)-1,Ye=oe[Ne]>>>Se;return we<8-Se||(Ye|=oe[Ne+1]<<8-Se,we<16-Se)||(Ye|=oe[Ne+2]<<16-Se,we<24-Se)||(Ye|=oe[Ne+3]<<24-Se),Ye&Ie}function re(oe,Ae,we){var Se=Ae&7,Ne=Ae>>>3;return Se<=5?oe[Ne]|=(we&7)<<Se:(oe[Ne]|=we<<Se&255,oe[Ne+1]=(we&7)>>8-Se),Ae+3}function je(oe,Ae,we){var Se=Ae&7,Ne=Ae>>>3;return we=(we&1)<<Se,oe[Ne]|=we,Ae+1}function st(oe,Ae,we){var Se=Ae&7,Ne=Ae>>>3;return we<<=Se,oe[Ne]|=we&255,we>>>=8,oe[Ne+1]=we,Ae+8}function At(oe,Ae,we){var Se=Ae&7,Ne=Ae>>>3;return we<<=Se,oe[Ne]|=we&255,we>>>=8,oe[Ne+1]=we&255,oe[Ne+2]=we>>>8,Ae+16}function It(oe,Ae){var we=oe.length,Se=2*we>Ae?2*we:Ae+5,Ne=0;if(we>=Ae)return oe;if(en){var Ie=sC(Se);if(oe.copy)oe.copy(Ie);else for(;Ne<oe.length;++Ne)Ie[Ne]=oe[Ne];return Ie}else if(ae){var Ye=new Uint8Array(Se);if(Ye.set)Ye.set(oe);else for(;Ne<we;++Ne)Ye[Ne]=oe[Ne];return Ye}return oe.length=Se,oe}function Le(oe){for(var Ae=new Array(oe),we=0;we<oe;++we)Ae[we]=0;return Ae}function qe(oe,Ae,we){var Se=1,Ne=0,Ie=0,Ye=0,ot=0,et=oe.length,tt=ae?new Uint16Array(32):Le(32);for(Ie=0;Ie<32;++Ie)tt[Ie]=0;for(Ie=et;Ie<we;++Ie)oe[Ie]=0;et=oe.length;var it=ae?new Uint16Array(et):Le(et);for(Ie=0;Ie<et;++Ie)tt[Ne=oe[Ie]]++,Se<Ne&&(Se=Ne),it[Ie]=0;for(tt[0]=0,Ie=1;Ie<=Se;++Ie)tt[Ie+16]=ot=ot+tt[Ie-1]<<1;for(Ie=0;Ie<et;++Ie)ot=oe[Ie],ot!=0&&(it[Ie]=tt[ot+16]++);var Et=0;for(Ie=0;Ie<et;++Ie)if(Et=oe[Ie],Et!=0)for(ot=se(it[Ie],Se)>>Se-Et,Ye=(1<<Se+4-Et)-1;Ye>=0;--Ye)Ae[ot|Ye<<Et]=Et&15|Ie<<4;return Se}var We=ae?new Uint16Array(512):Le(512),dt=ae?new Uint16Array(32):Le(32);if(!ae){for(var bt=0;bt<512;++bt)We[bt]=0;for(bt=0;bt<32;++bt)dt[bt]=0}(function(){for(var oe=[],Ae=0;Ae<32;Ae++)oe.push(5);qe(oe,dt,32);var we=[];for(Ae=0;Ae<=143;Ae++)we.push(8);for(;Ae<=255;Ae++)we.push(9);for(;Ae<=279;Ae++)we.push(7);for(;Ae<=287;Ae++)we.push(8);qe(we,We,288)})();var _t=(function(){for(var Ae=ae?new Uint8Array(32768):[],we=0,Se=0;we<ye.length-1;++we)for(;Se<ye[we+1];++Se)Ae[Se]=we;for(;Se<32768;++Se)Ae[Se]=29;var Ne=ae?new Uint8Array(259):[];for(we=0,Se=0;we<ce.length-1;++we)for(;Se<ce[we+1];++Se)Ne[Se]=we;function Ie(ot,et){for(var tt=0;tt<ot.length;){var it=Math.min(65535,ot.length-tt),Et=tt+it==ot.length;for(et.write_shift(1,+Et),et.write_shift(2,it),et.write_shift(2,~it&65535);it-- >0;)et[et.l++]=ot[tt++]}return et.l}function Ye(ot,et){for(var tt=0,it=0,Et=ae?new Uint16Array(32768):[];it<ot.length;){var Mt=Math.min(65535,ot.length-it);if(Mt<10){for(tt=re(et,tt,+(it+Mt==ot.length)),tt&7&&(tt+=8-(tt&7)),et.l=tt/8|0,et.write_shift(2,Mt),et.write_shift(2,~Mt&65535);Mt-- >0;)et[et.l++]=ot[it++];tt=et.l*8;continue}tt=re(et,tt,+(it+Mt==ot.length)+2);for(var Gt=0;Mt-- >0;){var Ot=ot[it];Gt=(Gt<<5^Ot)&32767;var Pt=-1,Sr=0;if((Pt=Et[Gt])&&(Pt|=it&-32768,Pt>it&&(Pt-=32768),Pt<it))for(;ot[Pt+Sr]==ot[it+Sr]&&Sr<250;)++Sr;if(Sr>2){Ot=Ne[Sr],Ot<=22?tt=st(et,tt,be[Ot+1]>>1)-1:(st(et,tt,3),tt+=5,st(et,tt,be[Ot-23]>>5),tt+=3);var fn=Ot<8?0:Ot-4>>2;fn>0&&(At(et,tt,Sr-ce[Ot]),tt+=fn),Ot=Ae[it-Pt],tt=st(et,tt,be[Ot]>>3),tt-=3;var Vr=Ot<4?0:Ot-2>>1;Vr>0&&(At(et,tt,it-Pt-ye[Ot]),tt+=Vr);for(var gn=0;gn<Sr;++gn)Et[Gt]=it&32767,Gt=(Gt<<5^ot[it])&32767,++it;Mt-=Sr-1}else Ot<=143?Ot=Ot+48:tt=je(et,tt,1),tt=st(et,tt,be[Ot]),Et[Gt]=it&32767,++it}tt=st(et,tt,0)-1}return et.l=(tt+7)/8|0,et.l}return function(et,tt){return et.length<8?Ie(et,tt):Ye(et,tt)}})();function vt(oe){var Ae=gt(50+Math.floor(oe.length*1.1)),we=_t(oe,Ae);return Ae.slice(0,we)}var St=ae?new Uint16Array(32768):Le(32768),Xt=ae?new Uint16Array(32768):Le(32768),Yt=ae?new Uint16Array(128):Le(128),Ut=1,pr=1;function Ge(oe,Ae){var we=Oe(oe,Ae)+257;Ae+=5;var Se=Oe(oe,Ae)+1;Ae+=5;var Ne=me(oe,Ae)+4;Ae+=4;for(var Ie=0,Ye=ae?new Uint8Array(19):Le(19),ot=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],et=1,tt=ae?new Uint8Array(8):Le(8),it=ae?new Uint8Array(8):Le(8),Et=Ye.length,Mt=0;Mt<Ne;++Mt)Ye[J[Mt]]=Ie=Re(oe,Ae),et<Ie&&(et=Ie),tt[Ie]++,Ae+=3;var Gt=0;for(tt[0]=0,Mt=1;Mt<=et;++Mt)it[Mt]=Gt=Gt+tt[Mt-1]<<1;for(Mt=0;Mt<Et;++Mt)(Gt=Ye[Mt])!=0&&(ot[Mt]=it[Gt]++);var Ot=0;for(Mt=0;Mt<Et;++Mt)if(Ot=Ye[Mt],Ot!=0){Gt=be[ot[Mt]]>>8-Ot;for(var Pt=(1<<7-Ot)-1;Pt>=0;--Pt)Yt[Gt|Pt<<Ot]=Ot&7|Mt<<3}var Sr=[];for(et=1;Sr.length<we+Se;)switch(Gt=Yt[Me(oe,Ae)],Ae+=Gt&7,Gt>>>=3){case 16:for(Ie=3+Pe(oe,Ae),Ae+=2,Gt=Sr[Sr.length-1];Ie-- >0;)Sr.push(Gt);break;case 17:for(Ie=3+Re(oe,Ae),Ae+=3;Ie-- >0;)Sr.push(0);break;case 18:for(Ie=11+Me(oe,Ae),Ae+=7;Ie-- >0;)Sr.push(0);break;default:Sr.push(Gt),et<Gt&&(et=Gt);break}var fn=Sr.slice(0,we),Vr=Sr.slice(we);for(Mt=we;Mt<286;++Mt)fn[Mt]=0;for(Mt=Se;Mt<30;++Mt)Vr[Mt]=0;return Ut=qe(fn,St,286),pr=qe(Vr,Xt,30),Ae}function Ft(oe,Ae){if(oe[0]==3&&!(oe[1]&3))return[Gf(Ae),2];for(var we=0,Se=0,Ne=sC(Ae||1<<18),Ie=0,Ye=Ne.length>>>0,ot=0,et=0;(Se&1)==0;){if(Se=Re(oe,we),we+=3,Se>>>1)Se>>1==1?(ot=9,et=5):(we=Ge(oe,we),ot=Ut,et=pr);else{we&7&&(we+=8-(we&7));var tt=oe[we>>>3]|oe[(we>>>3)+1]<<8;if(we+=32,tt>0)for(!Ae&&Ye<Ie+tt&&(Ne=It(Ne,Ie+tt),Ye=Ne.length);tt-- >0;)Ne[Ie++]=oe[we>>>3],we+=8;continue}for(;;){!Ae&&Ye<Ie+32767&&(Ne=It(Ne,Ie+32767),Ye=Ne.length);var it=Qe(oe,we,ot),Et=Se>>>1==1?We[it]:St[it];if(we+=Et&15,Et>>>=4,(Et>>>8&255)===0)Ne[Ie++]=Et;else{if(Et==256)break;Et-=257;var Mt=Et<8?0:Et-4>>2;Mt>5&&(Mt=0);var Gt=Ie+ce[Et];Mt>0&&(Gt+=Qe(oe,we,Mt),we+=Mt),it=Qe(oe,we,et),Et=Se>>>1==1?dt[it]:Xt[it],we+=Et&15,Et>>>=4;var Ot=Et<4?0:Et-2>>1,Pt=ye[Et];for(Ot>0&&(Pt+=Qe(oe,we,Ot),we+=Ot),!Ae&&Ye<Gt&&(Ne=It(Ne,Gt+100),Ye=Ne.length);Ie<Gt;)Ne[Ie]=Ne[Ie-Pt],++Ie}}}return Ae?[Ne,we+7>>>3]:[Ne.slice(0,Ie),we+7>>>3]}function Wt(oe,Ae){var we=oe.slice(oe.l||0),Se=Ft(we,Ae);return oe.l+=Se[1],Se[0]}function Vt(oe,Ae){if(oe)typeof console<"u"&&console.error(Ae);else throw new Error(Ae)}function mr(oe,Ae){var we=oe;za(we,0);var Se=[],Ne=[],Ie={FileIndex:Se,FullPaths:Ne};R(Ie,{root:Ae.root});for(var Ye=we.length-4;(we[Ye]!=80||we[Ye+1]!=75||we[Ye+2]!=5||we[Ye+3]!=6)&&Ye>=0;)--Ye;we.l=Ye+4,we.l+=4;var ot=we.read_shift(2);we.l+=6;var et=we.read_shift(4);for(we.l=et,Ye=0;Ye<ot;++Ye){we.l+=20;var tt=we.read_shift(4),it=we.read_shift(4),Et=we.read_shift(2),Mt=we.read_shift(2),Gt=we.read_shift(2);we.l+=8;var Ot=we.read_shift(4),Pt=o(we.slice(we.l+Et,we.l+Et+Mt));we.l+=Et+Mt+Gt;var Sr=we.l;we.l=Ot+4,wr(we,tt,it,Ie,Pt),we.l=Sr}return Ie}function wr(oe,Ae,we,Se,Ne){oe.l+=2;var Ie=oe.read_shift(2),Ye=oe.read_shift(2),ot=a(oe);if(Ie&8257)throw new Error("Unsupported ZIP encryption");for(var et=oe.read_shift(4),tt=oe.read_shift(4),it=oe.read_shift(4),Et=oe.read_shift(2),Mt=oe.read_shift(2),Gt="",Ot=0;Ot<Et;++Ot)Gt+=String.fromCharCode(oe[oe.l++]);if(Mt){var Pt=o(oe.slice(oe.l,oe.l+Mt));(Pt[21589]||{}).mt&&(ot=Pt[21589].mt),((Ne||{})[21589]||{}).mt&&(ot=Ne[21589].mt)}oe.l+=Mt;var Sr=oe.slice(oe.l,oe.l+tt);switch(Ye){case 8:Sr=q(oe,it);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ye)}var fn=!1;Ie&8&&(et=oe.read_shift(4),et==134695760&&(et=oe.read_shift(4),fn=!0),tt=oe.read_shift(4),it=oe.read_shift(4)),tt!=Ae&&Vt(fn,"Bad compressed size: "+Ae+" != "+tt),it!=we&&Vt(fn,"Bad uncompressed size: "+we+" != "+it),Zn(Se,Gt,Sr,{unsafe:!0,mt:ot})}function Ar(oe,Ae){var we=Ae||{},Se=[],Ne=[],Ie=gt(1),Ye=we.compression?8:0,ot=0,et=0,tt=0,it=0,Et=0,Mt=oe.FullPaths[0],Gt=Mt,Ot=oe.FileIndex[0],Pt=[],Sr=0;for(et=1;et<oe.FullPaths.length;++et)if(Gt=oe.FullPaths[et].slice(Mt.length),Ot=oe.FileIndex[et],!(!Ot.size||!Ot.content||Gt=="Sh33tJ5")){var fn=it,Vr=gt(Gt.length);for(tt=0;tt<Gt.length;++tt)Vr.write_shift(1,Gt.charCodeAt(tt)&127);Vr=Vr.slice(0,Vr.l),Pt[Et]=mte.buf(Ot.content,0);var gn=Ot.content;Ye==8&&(gn=K(gn)),Ie=gt(30),Ie.write_shift(4,67324752),Ie.write_shift(2,20),Ie.write_shift(2,ot),Ie.write_shift(2,Ye),Ot.mt?s(Ie,Ot.mt):Ie.write_shift(4,0),Ie.write_shift(-4,Pt[Et]),Ie.write_shift(4,gn.length),Ie.write_shift(4,Ot.content.length),Ie.write_shift(2,Vr.length),Ie.write_shift(2,0),it+=Ie.length,Se.push(Ie),it+=Vr.length,Se.push(Vr),it+=gn.length,Se.push(gn),Ie=gt(46),Ie.write_shift(4,33639248),Ie.write_shift(2,0),Ie.write_shift(2,20),Ie.write_shift(2,ot),Ie.write_shift(2,Ye),Ie.write_shift(4,0),Ie.write_shift(-4,Pt[Et]),Ie.write_shift(4,gn.length),Ie.write_shift(4,Ot.content.length),Ie.write_shift(2,Vr.length),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(4,0),Ie.write_shift(4,fn),Sr+=Ie.l,Ne.push(Ie),Sr+=Vr.length,Ne.push(Vr),++Et}return Ie=gt(22),Ie.write_shift(4,101010256),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,Et),Ie.write_shift(2,Et),Ie.write_shift(4,Sr),Ie.write_shift(4,it),Ie.write_shift(2,0),ka([ka(Se),ka(Ne),Ie])}var Jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function cr(oe,Ae){if(oe.ctype)return oe.ctype;var we=oe.name||"",Se=we.match(/\.([^\.]+)$/);return Se&&Jt[Se[1]]||Ae&&(Se=(we=Ae).match(/[\.\\]([^\.\\])+$/),Se&&Jt[Se[1]])?Jt[Se[1]]:"application/octet-stream"}function Fn(oe){for(var Ae=n2(oe),we=[],Se=0;Se<Ae.length;Se+=76)we.push(Ae.slice(Se,Se+76));return we.join(`\r
`)+`\r
`}function Yr(oe){var Ae=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(tt){var it=tt.charCodeAt(0).toString(16).toUpperCase();return"="+(it.length==1?"0"+it:it)});Ae=Ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ae.charAt(0)==`
`&&(Ae="=0D"+Ae.slice(1)),Ae=Ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var we=[],Se=Ae.split(`\r
`),Ne=0;Ne<Se.length;++Ne){var Ie=Se[Ne];if(Ie.length==0){we.push("");continue}for(var Ye=0;Ye<Ie.length;){var ot=76,et=Ie.slice(Ye,Ye+ot);et.charAt(ot-1)=="="?ot--:et.charAt(ot-2)=="="?ot-=2:et.charAt(ot-3)=="="&&(ot-=3),et=Ie.slice(Ye,Ye+ot),Ye+=ot,Ye<Ie.length&&(et+="="),we.push(et)}}return we.join(`\r
`)}function yi(oe){for(var Ae=[],we=0;we<oe.length;++we){for(var Se=oe[we];we<=oe.length&&Se.charAt(Se.length-1)=="=";)Se=Se.slice(0,Se.length-1)+oe[++we];Ae.push(Se)}for(var Ne=0;Ne<Ae.length;++Ne)Ae[Ne]=Ae[Ne].replace(/[=][0-9A-Fa-f]{2}/g,function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))});return Sl(Ae.join(`\r
`))}function Un(oe,Ae,we){for(var Se="",Ne="",Ie="",Ye,ot=0;ot<10;++ot){var et=Ae[ot];if(!et||et.match(/^\s*$/))break;var tt=et.match(/^(.*?):\s*([^\s].*)$/);if(tt)switch(tt[1].toLowerCase()){case"content-location":Se=tt[2].trim();break;case"content-type":Ie=tt[2].trim();break;case"content-transfer-encoding":Ne=tt[2].trim();break}}switch(++ot,Ne.toLowerCase()){case"base64":Ye=Sl(Rl(Ae.slice(ot).join("")));break;case"quoted-printable":Ye=yi(Ae.slice(ot));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Ne)}var it=Zn(oe,Se.slice(we.length),Ye,{unsafe:!0});Ie&&(it.ctype=Ie)}function ar(oe,Ae){if(W(oe.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var we=Ae&&Ae.root||"",Se=(en&&Buffer.isBuffer(oe)?oe.toString("binary"):W(oe)).split(`\r
`),Ne=0,Ie="";for(Ne=0;Ne<Se.length;++Ne)if(Ie=Se[Ne],!!/^Content-Location:/i.test(Ie)&&(Ie=Ie.slice(Ie.indexOf("file")),we||(we=Ie.slice(0,Ie.lastIndexOf("/")+1)),Ie.slice(0,we.length)!=we))for(;we.length>0&&(we=we.slice(0,we.length-1),we=we.slice(0,we.lastIndexOf("/")+1),Ie.slice(0,we.length)!=we););var Ye=(Se[1]||"").match(/boundary="(.*?)"/);if(!Ye)throw new Error("MAD cannot find boundary");var ot="--"+(Ye[1]||""),et=[],tt=[],it={FileIndex:et,FullPaths:tt};R(it);var Et,Mt=0;for(Ne=0;Ne<Se.length;++Ne){var Gt=Se[Ne];Gt!==ot&&Gt!==ot+"--"||(Mt++&&Un(it,Se.slice(Et,Ne),we),Et=Ne)}return it}function dn(oe,Ae){var we=Ae||{},Se=we.boundary||"SheetJS";Se="------="+Se;for(var Ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Se.slice(2)+'"',"","",""],Ie=oe.FullPaths[0],Ye=Ie,ot=oe.FileIndex[0],et=1;et<oe.FullPaths.length;++et)if(Ye=oe.FullPaths[et].slice(Ie.length),ot=oe.FileIndex[et],!(!ot.size||!ot.content||Ye=="Sh33tJ5")){Ye=Ye.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Sr){return"_x"+Sr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Sr){return"_u"+Sr.charCodeAt(0).toString(16)+"_"});for(var tt=ot.content,it=en&&Buffer.isBuffer(tt)?tt.toString("binary"):W(tt),Et=0,Mt=Math.min(1024,it.length),Gt=0,Ot=0;Ot<=Mt;++Ot)(Gt=it.charCodeAt(Ot))>=32&&Gt<128&&++Et;var Pt=Et>=Mt*4/5;Ne.push(Se),Ne.push("Content-Location: "+(we.root||"file:///C:/SheetJS/")+Ye),Ne.push("Content-Transfer-Encoding: "+(Pt?"quoted-printable":"base64")),Ne.push("Content-Type: "+cr(ot,Ye)),Ne.push(""),Ne.push(Pt?Yr(it):Fn(it))}return Ne.push(Se+`--\r
`),Ne.join(`\r
`)}function Ws(oe){var Ae={};return R(Ae,oe),Ae}function Zn(oe,Ae,we,Se){var Ne=Se&&Se.unsafe;Ne||R(oe);var Ie=!Ne&&br.find(oe,Ae);if(!Ie){var Ye=oe.FullPaths[0];Ae.slice(0,Ye.length)==Ye?Ye=Ae:(Ye.slice(-1)!="/"&&(Ye+="/"),Ye=(Ye+Ae).replace("//","/")),Ie={name:i(Ae),type:2},oe.FileIndex.push(Ie),oe.FullPaths.push(Ye),Ne||br.utils.cfb_gc(oe)}return Ie.content=we,Ie.size=we?we.length:0,Se&&(Se.CLSID&&(Ie.clsid=Se.CLSID),Se.mt&&(Ie.mt=Se.mt),Se.ct&&(Ie.ct=Se.ct)),Ie}function es(oe,Ae){R(oe);var we=br.find(oe,Ae);if(we){for(var Se=0;Se<oe.FileIndex.length;++Se)if(oe.FileIndex[Se]==we)return oe.FileIndex.splice(Se,1),oe.FullPaths.splice(Se,1),!0}return!1}function Tn(oe,Ae,we){R(oe);var Se=br.find(oe,Ae);if(Se){for(var Ne=0;Ne<oe.FileIndex.length;++Ne)if(oe.FileIndex[Ne]==Se)return oe.FileIndex[Ne].name=i(we),oe.FullPaths[Ne]=we,!0}return!1}function oi(oe){C(oe,!0)}return e.find=N,e.read=X,e.parse=u,e.write=ue,e.writeFile=ie,e.utils={cfb_new:Ws,cfb_add:Zn,cfb_del:es,cfb_mov:Tn,cfb_gc:oi,ReadShift:bg,CheckField:gD,prep_blob:za,bconcat:ka,use_zlib:P,_deflateRaw:vt,_inflateRaw:Wt,consts:fe},e})();function gte(t){return typeof t=="string"?e4(t):Array.isArray(t)?zee(t):t}function Q2(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=e4(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?wu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([gte(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=uh(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function xte(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function hs(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function hC(t,e){for(var r=[],n=hs(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function r4(t){for(var e=[],r=hs(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function n4(t){for(var e=[],r=hs(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function vte(t){for(var e=[],r=hs(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Xy=new Date(1899,11,30,0,0,0);function oa(t,e){var r=t.getTime(),n=Xy.getTime()+(t.getTimezoneOffset()-Xy.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var Xj=new Date,yte=Xy.getTime()+(Xj.getTimezoneOffset()-Xy.getTimezoneOffset())*6e4,pC=Xj.getTimezoneOffset();function i4(t){var e=new Date;return e.setTime(t*24*60*60*1e3+yte),e.getTimezoneOffset()!==pC&&e.setTime(e.getTime()+(e.getTimezoneOffset()-pC)*6e4),e}function wte(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var mC=new Date("2017-02-19T19:06:09.000Z"),Yj=isNaN(mC.getFullYear())?new Date("2/19/17"):mC,_te=Yj.getFullYear()==2017;function Ti(t,e){var r=new Date(t);if(_te)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Yj.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function A0(t,e){if(en&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return wu(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return wu(Oj(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return wu(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return wu(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Ai(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Ai(t[r]));return e}function ls(t,e){for(var r="";r.length<e;)r+=t;return r}function Vc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var bte=["january","february","march","april","may","june","july","august","september","october","november","december"];function j1(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&bte.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var kte=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function Qj(t){return t?t.content&&t.type?A0(t.content,!0):t.data?lg(t.data):t.asNodeBuffer&&en?lg(t.asNodeBuffer().toString("binary")):t.asBinary?lg(t.asBinary()):t._data&&t._data.getContent?lg(A0(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function Jj(t){if(!t)return null;if(t.data)return nC(t.data);if(t.asNodeBuffer&&en)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?nC(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Ste(t){return t&&t.name.slice(-4)===".bin"?Jj(t):Qj(t)}function rc(t,e){for(var r=t.FullPaths||hs(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var a=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function F8(t,e){var r=rc(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Us(t,e,r){if(!r)return Ste(F8(t,e));if(!e)return null;try{return Us(t,e)}catch{return null}}function El(t,e,r){if(!r)return Qj(F8(t,e));if(!e)return null;try{return El(t,e)}catch{return null}}function Ete(t,e,r){return Jj(F8(t,e))}function gC(t){for(var e=t.FullPaths||hs(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Gr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return en?n=Fd(r):n=$ee(r),br.utils.cfb_add(t,e,n)}br.utils.cfb_add(t,e,r)}else t.file(e,r)}function j8(){return br.utils.cfb_new()}function Zj(t,e){switch(e.type){case"base64":return br.read(t,{type:"base64"});case"binary":return br.read(t,{type:"binary"});case"buffer":case"array":return br.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function ug(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Rs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Cte=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,xC=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Tte=/<[^>]*>/g,To=Rs.match(xC)?xC:Tte,Ate=/<\w*:/,Nte=/<(\/?)\w+:/;function jr(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var a=t.match(Cte),o=0,l="",c=0,u="",p="",g=1;if(a)for(c=0;c!=a.length;++c){for(p=a[c],s=0;s!=p.length&&p.charCodeAt(s)!==61;++s);for(u=p.slice(0,s).trim();p.charCodeAt(s+1)==32;)++s;for(g=(i=p.charCodeAt(s+1))==34||i==39?1:0,l=p.slice(s+1+g,p.length-g),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[m]&&u.slice(o-3,o)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function Du(t){return t.replace(Nte,"<$1")}var eD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},D8=r4(eD),En=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return eD[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,a)+r(i.slice(a+3))}})(),O8=/[&<>'"]/g,Ite=/[\u0000-\u0008\u000b-\u001f]/g;function Qn(t){var e=t+"";return e.replace(O8,function(r){return D8[r]}).replace(Ite,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function vC(t){return Qn(t).replace(/ /g,"_x0020_")}var tD=/[\u0000-\u001f]/g;function M8(t){var e=t+"";return e.replace(O8,function(r){return D8[r]}).replace(/\n/g,"<br/>").replace(tD,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Pte(t){var e=t+"";return e.replace(O8,function(r){return D8[r]}).replace(tD,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var yC=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function Rte(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function bi(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zw(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function wC(t){var e=Gf(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function _C(t){return Fd(t,"binary").toString("utf8")}var dv="foo bar baz",ii=en&&(_C(dv)==zw(dv)&&_C||wC(dv)==zw(dv)&&wC)||zw,wu=en?function(t){return Fd(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},s2=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),rD=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),Lte=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Fte=/<\/?(?:vt:)?variant>/g,jte=/<(?:vt:)([^>]*)>([\s\S]*)</;function bC(t,e){var r=jr(t),n=t.match(Lte(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var a=s.replace(Fte,"").match(jte);a&&i.push({v:ii(a[2]),t:a[1]})}),i}var nD=/(^\s|\s$|\n)/;function qa(t,e){return"<"+t+(e.match(nD)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function a2(t){return hs(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function zt(t,e,r){return"<"+t+(r!=null?a2(r):"")+(e!=null?(e.match(nD)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function z_(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function Dte(t,e){switch(typeof t){case"string":var r=zt("vt:lpwstr",Qn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return zt((t|0)==t?"vt:i4":"vt:r8",Qn(String(t)));case"boolean":return zt("vt:bool",t?"true":"false")}if(t instanceof Date)return zt("vt:filetime",z_(t));throw new Error("Unable to serialize "+t)}function B8(t){if(en&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return ii(uh(P8(t)));throw new Error("Bad input format: expected Buffer or string")}var o2=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,na={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},W0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],bl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Ote(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function Mte(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var kC=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},SC=en?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Fd(e)})):kC(t)}:kC,EC=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(ud(t,i)));return n.join("").replace(Bo,"")},V8=en?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Bo,""):EC(t,e,r)}:EC,CC=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},iD=en?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):CC(t,e,r)}:CC,TC=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Vp(t,i)));return n.join("")},J2=en?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):TC(e,r,n)}:TC,sD=function(t,e){var r=kl(t,e);return r>0?J2(t,e+4,e+4+r-1):""},aD=sD,oD=function(t,e){var r=kl(t,e);return r>0?J2(t,e+4,e+4+r-1):""},lD=oD,cD=function(t,e){var r=2*kl(t,e);return r>0?J2(t,e+4,e+4+r-1):""},uD=cD,dD=function(e,r){var n=kl(e,r);return n>0?V8(e,r+4,r+4+n):""},fD=dD,hD=function(t,e){var r=kl(t,e);return r>0?J2(t,e+4,e+4+r):""},pD=hD,mD=function(t,e){return Ote(t,e)},Yy=mD,U8=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};en&&(aD=function(e,r){if(!Buffer.isBuffer(e))return sD(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},lD=function(e,r){if(!Buffer.isBuffer(e))return oD(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},uD=function(e,r){if(!Buffer.isBuffer(e))return cD(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},fD=function(e,r){if(!Buffer.isBuffer(e))return dD(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},pD=function(e,r){if(!Buffer.isBuffer(e))return hD(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Yy=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):mD(e,r)},U8=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Vp=function(t,e){return t[e]},ud=function(t,e){return t[e+1]*256+t[e]},Bte=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},kl=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Gh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Vte=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function bg(t,e){var r="",n,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,en&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(ud(this,c)),c+=2;t*=2;break;case"utf8":r=J2(this,this.l,this.l+t);break;case"utf16le":t*=2,r=V8(this,this.l,this.l+t);break;case"wstr":return bg.call(this,t,"dbcs");case"lpstr-ansi":r=aD(this,this.l),t=4+kl(this,this.l);break;case"lpstr-cp":r=lD(this,this.l),t=4+kl(this,this.l);break;case"lpwstr":r=uD(this,this.l),t=4+2*kl(this,this.l);break;case"lpp4":t=4+kl(this,this.l),r=fD(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+kl(this,this.l),r=pD(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Vp(this,this.l+t++))!==0;)s.push(uv(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=ud(this,this.l+t))!==0;)s.push(uv(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Vp(this,c),this.l=c+1,o=bg.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(uv(ud(this,c))),c+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Vp(this,c),this.l=c+1,o=bg.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(uv(Vp(this,c))),c+=1}r=s.join("");break;default:switch(t){case 1:return n=Vp(this,this.l),this.l++,n;case 2:return n=(e==="i"?Bte:ud)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Gh:Vte)(this,this.l),this.l+=4,n):(i=kl(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Yy(this,this.l):i=Yy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=iD(this,this.l,t);break}}return this.l+=t,r}var Ute=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},zte=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},$te=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function qte(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)$te(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,Ute(this,e,this.l);break;case 8:if(n=8,r==="f"){Mte(this,e,this.l);break}case 16:break;case-4:n=4,zte(this,e,this.l);break}return this.l+=n,this}function gD(t,e){var r=iD(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function za(t,e){t.l=e,t.read_shift=bg,t.chk=gD,t.write_shift=qte}function Co(t,e){t.l+=e}function gt(t){var e=Gf(t);return za(e,0),e}function jd(t,e,r){if(t){var n,i,s;za(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=h2[o]||h2[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;l=t.l+s;var u=c.f&&c.f(t,s,r);if(t.l=l,e(u,c,o))return}}}function nl(){var t=[],e=en?256:2048,r=function(c){var u=gt(c);return za(u,0),u},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},a=function(){return i(),ka(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function Ct(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=h2[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&U8(r)&&t.push(r)}}function kg(t,e,r){var n=Ai(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function AC(t,e,r){var n=Ai(t);return n.s=kg(n.s,e.s,r),n.e=kg(n.e,e.s,r),n}function Sg(t,e){if(t.cRel&&t.c<0)for(t=Ai(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Ai(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Lr(t);return!t.cRel&&t.cRel!=null&&(r=Gte(r)),!t.rRel&&t.rRel!=null&&(r=Hte(r)),r}function $w(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Yi(t.s.c)+":"+(t.e.cRel?"":"$")+Yi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Is(t.s.r)+":"+(t.e.rRel?"":"$")+Is(t.e.r):Sg(t.s,e.biff)+":"+Sg(t.e,e.biff)}function z8(t){return parseInt(Wte(t),10)-1}function Is(t){return""+(t+1)}function Hte(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Wte(t){return t.replace(/\$(\d+)$/,"$1")}function $8(t){for(var e=Kte(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Yi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Gte(t){return t.replace(/^([A-Z])/,"$$$1")}function Kte(t){return t.replace(/^\$([A-Z])/,"$1")}function Xte(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Qi(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Lr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function il(t){var e=t.indexOf(":");return e==-1?{s:Qi(t),e:Qi(t)}:{s:Qi(t.slice(0,e)),e:Qi(t.slice(e+1))}}function Wr(t,e){return typeof e>"u"||typeof e=="number"?Wr(t.s,t.e):(typeof t!="string"&&(t=Lr(t)),typeof e!="string"&&(e=Lr(e)),t==e?t:t+":"+e)}function Cn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function NC(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=cc(t.z,r?oa(e):e)}catch{}try{return t.w=cc((t.XF||{}).numFmtId||(r?14:0),r?oa(e):e)}catch{return""+e}}function Sd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Dd[t.v]||t.v:e==null?NC(t,t.v):NC(t,e))}function dh(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function xD(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Qi(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=Cn(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(c.e.r=a=u.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var m={v:e[p][g]},y=a+p,w=o+g;if(c.s.r>y&&(c.s.r=y),c.s.c>w&&(c.s.c=w),c.e.r<y&&(c.e.r=y),c.e.c<w&&(c.e.c=w),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))m=e[p][g];else if(Array.isArray(m.v)&&(m.f=e[p][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ir[14],n.cellDates?(m.t="d",m.w=cc(m.z,oa(m.v))):(m.t="n",m.v=oa(m.v),m.w=cc(m.z,m.v))):m.t="s";if(i)s[y]||(s[y]=[]),s[y][w]&&s[y][w].z&&(m.z=s[y][w].z),s[y][w]=m;else{var _=Lr({c:w,r:y});s[_]&&s[_].z&&(m.z=s[_].z),s[_]=m}}}return c.s.c<1e7&&(s["!ref"]=Wr(c)),s}function im(t,e){return xD(null,t,e)}function Yte(t){return t.read_shift(4,"i")}function Uc(t,e){return e||(e=gt(4)),e.write_shift(4,t),e}function Eo(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Sa(t,e){var r=!1;return e==null&&(r=!0,e=gt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function Qte(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Jte(t,e){return e||(e=gt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function q8(t,e){var r=t.l,n=t.read_shift(1),i=Eo(t),s=[],a={t:i,h:i};if((n&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(Qte(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function Zte(t,e){var r=!1;return e==null&&(r=!0,e=gt(15+4*t.t.length)),e.write_shift(1,0),Sa(t.t,e),r?e.slice(0,e.l):e}var ere=q8;function tre(t,e){var r=!1;return e==null&&(r=!0,e=gt(23+4*t.t.length)),e.write_shift(1,1),Sa(t.t,e),e.write_shift(4,1),Jte({},e),r?e.slice(0,e.l):e}function dc(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function G0(t,e){return e==null&&(e=gt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function K0(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function X0(t,e){return e==null&&(e=gt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var rre=Eo,vD=Sa;function H8(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Qy(t,e){var r=!1;return e==null&&(r=!0,e=gt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var nre=Eo,$_=H8,W8=Qy;function G8(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Yy([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Gh(e,0)>>2;return r?i/100:i}function yD(t,e){e==null&&(e=gt(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function wD(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function ire(t,e){return e||(e=gt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Y0=wD,sm=ire;function _o(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function N0(t,e){return(e||gt(8)).write_shift(8,t,"f")}function sre(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=a0[i];c&&(e.rgb=c2(c));break;case 2:e.rgb=c2([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Jy(t,e){if(e||(e=gt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function are(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function ore(t,e){e||(e=gt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function _D(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function lre(t){return _D(t,1)}function cre(t){return _D(t,2)}var K8=2,Qo=3,fv=11,IC=12,Zy=19,hv=64,ure=65,dre=71,fre=4108,hre=4126,ya=80,bD=81,pre=[ya,bD],q_={1:{n:"CodePage",t:K8},2:{n:"Category",t:ya},3:{n:"PresentationFormat",t:ya},4:{n:"ByteCount",t:Qo},5:{n:"LineCount",t:Qo},6:{n:"ParagraphCount",t:Qo},7:{n:"SlideCount",t:Qo},8:{n:"NoteCount",t:Qo},9:{n:"HiddenCount",t:Qo},10:{n:"MultimediaClipCount",t:Qo},11:{n:"ScaleCrop",t:fv},12:{n:"HeadingPairs",t:fre},13:{n:"TitlesOfParts",t:hre},14:{n:"Manager",t:ya},15:{n:"Company",t:ya},16:{n:"LinksUpToDate",t:fv},17:{n:"CharacterCount",t:Qo},19:{n:"SharedDoc",t:fv},22:{n:"HyperlinksChanged",t:fv},23:{n:"AppVersion",t:Qo,p:"version"},24:{n:"DigSig",t:ure},26:{n:"ContentType",t:ya},27:{n:"ContentStatus",t:ya},28:{n:"Language",t:ya},29:{n:"Version",t:ya},255:{},2147483648:{n:"Locale",t:Zy},2147483651:{n:"Behavior",t:Zy},1919054434:{}},H_={1:{n:"CodePage",t:K8},2:{n:"Title",t:ya},3:{n:"Subject",t:ya},4:{n:"Author",t:ya},5:{n:"Keywords",t:ya},6:{n:"Comments",t:ya},7:{n:"Template",t:ya},8:{n:"LastAuthor",t:ya},9:{n:"RevNumber",t:ya},10:{n:"EditTime",t:hv},11:{n:"LastPrinted",t:hv},12:{n:"CreatedDate",t:hv},13:{n:"ModifiedDate",t:hv},14:{n:"PageCount",t:Qo},15:{n:"WordCount",t:Qo},16:{n:"CharCount",t:Qo},17:{n:"Thumbnail",t:dre},18:{n:"Application",t:ya},19:{n:"DocSecurity",t:Qo},255:{},2147483648:{n:"Locale",t:Zy},2147483651:{n:"Behavior",t:Zy},1919054434:{}},PC={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},mre=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function gre(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var xre=gre([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),a0=Ai(xre),Dd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},kD={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},W_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},pv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function X8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vre(t){var e=X8();if(!t||!t.match)return e;var r={};if((t.match(To)||[]).forEach(function(n){var i=jr(n);switch(i[0].replace(Ate,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[W_[i.ContentType]]!==void 0&&e[W_[i.ContentType]].push(i.PartName);break}}),e.xmlns!==na.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function SD(t,e){var r=vte(W_),n=[],i;n[n.length]=Rs,n[n.length]=zt("Types",null,{xmlns:na.CT,"xmlns:xsd":na.xsd,"xmlns:xsi":na.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return zt("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=zt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:pv[l][e.bookType]||pv[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){n[n.length]=zt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:pv[l][e.bookType]||pv[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=zt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var an={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function l2(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Eg(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(To)||[]).forEach(function(i){var s=jr(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:ug(s.Target,e);r[o]=a,n[s.Id]=a}}),r["!id"]=n,r}function a1(t){var e=[Rs,zt("Relationships",null,{xmlns:na.RELS})];return hs(t["!id"]).forEach(function(r){e[e.length]=zt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Gn(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[an.HLINK,an.XPATH,an.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var yre="application/vnd.oasis.opendocument.spreadsheet";function wre(t,e){for(var r=B8(t),n,i;n=o2.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=jr(n[0],!1),i.path=="/"&&i.type!==yre)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function _re(t){var e=[Rs];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function RC(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function bre(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function kre(t){var e=[Rs];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(RC(t[r][0],t[r][1])),e.push(bre("",t[r][0]));return e.push(RC("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function ED(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Hy.version+"</meta:generator></office:meta></office:document-meta>"}var ac=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Sre=(function(){for(var t=new Array(ac.length),e=0;e<ac.length;++e){var r=ac[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function CD(t){var e={};t=ii(t);for(var r=0;r<ac.length;++r){var n=ac[r],i=t.match(Sre[r]);i!=null&&i.length>0&&(e[n[1]]=En(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Ti(e[n[1]]))}return e}function qw(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Qn(e),n[n.length]=r?zt(t,e,r):qa(t,e))}function TD(t,e){var r=e||{},n=[Rs,zt("cp:coreProperties",null,{"xmlns:cp":na.CORE_PROPS,"xmlns:dc":na.dc,"xmlns:dcterms":na.dcterms,"xmlns:dcmitype":na.dcmitype,"xmlns:xsi":na.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&qw("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:z_(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&qw("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:z_(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=ac.length;++s){var a=ac[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&qw(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var o0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],AD=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ND(t,e,r,n){var i=[];if(typeof t=="string")i=bC(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(u){return{v:u}}));var a=typeof e=="string"?bC(e,n).map(function(u){return u.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=a.slice(o,o+l);break}o+=l}}function Ere(t,e,r){var n={};return e||(e={}),t=ii(t),o0.forEach(function(i){var s=(t.match(s2(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=En(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&ND(n.HeadingPairs,n.TitlesOfParts,e,r),e}function ID(t){var e=[],r=zt;return t||(t={}),t.Application="SheetJS",e[e.length]=Rs,e[e.length]=zt("Properties",null,{xmlns:na.EXT_PROPS,"xmlns:vt":na.vt}),o0.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Qn(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Qn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Cre=/<[^>]+>[^<]*/g;function Tre(t,e){var r={},n="",i=t.match(Cre);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=jr(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=En(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=En(u);break;case"bool":r[n]=bi(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Ti(u);break;case"cy":case"error":r[n]=En(u);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return r}function PD(t){var e=[Rs,zt("Properties",null,{xmlns:na.CUST_PROPS,"xmlns:vt":na.vt})];if(!t)return e.join("");var r=1;return hs(t).forEach(function(i){++r,e[e.length]=zt("property",Dte(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Qn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var G_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Hw;function Are(t,e,r){Hw||(Hw=r4(G_)),e=Hw[e]||e,t[e]=r}function Nre(t,e){var r=[];return hs(G_).map(function(n){for(var i=0;i<ac.length;++i)if(ac[i][1]==n)return ac[i];for(i=0;i<o0.length;++i)if(o0[i][1]==n)return o0[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(qa(G_[n[1]]||n[1],i))}}),zt("DocumentProperties",r.join(""),{xmlns:bl.o})}function Ire(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&hs(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<ac.length;++a)if(s==ac[a][1])return;for(a=0;a<o0.length;++a)if(s==o0[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(zt(vC(s),o,{"dt:dt":l}))}}),e&&hs(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(zt(vC(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+bl.o+'">'+i.join("")+"</"+n+">"}function Y8(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Pre(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=gt(8);return a.write_shift(4,n),a.write_shift(4,i),a}function RD(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function LD(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function FD(t,e,r){return e===31?LD(t):RD(t,e,r)}function K_(t,e,r){return FD(t,e,r===!1?0:4)}function Rre(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return FD(t,e,0)}function Lre(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Bo,""),t.l-i&2&&(t.l+=2)}return r}function Fre(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Bo,"");return r}function jre(t){var e=t.l,r=e5(t,bD);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=e5(t,Qo);return[r,n]}function Dre(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(jre(t));return r}function LC(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),a=t.read_shift(4);n[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Bo,"").replace(cg,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function jD(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function Ore(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function e5(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==IC&&n!==e&&pre.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===IC?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return RD(t,n,4).replace(Bo,"");case 31:return LD(t);case 64:return Y8(t);case 65:return jD(t);case 71:return Ore(t);case 80:return K_(t,n,!s.raw).replace(Bo,"");case 81:return Rre(t,n).replace(Bo,"");case 4108:return Dre(t);case 4126:case 4127:return n==4127?Lre(t):Fre(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function FC(t,e){var r=gt(4),n=gt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=gt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=Pre(e);break;case 31:case 80:for(n=gt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ka([r,n])}function jC(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var u=t.read_shift(4),p=t.read_shift(4);s[a]=[u,p+r]}s.sort(function(L,I){return L[1]-I[1]});var g={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var m=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,m=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],m=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],m=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(m=!1,t.l=s[a][1]),m)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var y=e[s[a][0]];if(g[y.n]=e5(t,y.t,{raw:!0}),y.p==="version"&&(g[y.n]=String(g[y.n]>>16)+"."+("0000"+String(g[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(g[y.n]){case 0:g[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:jc(o=g[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[y.n])}}else if(s[a][0]===1){if(o=g.CodePage=e5(t,K8),jc(o),l!==-1){var w=t.l;t.l=s[l][1],c=LC(t,o),t.l=w}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=LC(t,o)}else{var _=c[s[a][0]],E;switch(t[t.l]){case 65:t.l+=4,E=jD(t);break;case 30:t.l+=4,E=K_(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,E=K_(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,E=t.read_shift(4,"i");break;case 19:t.l+=4,E=t.read_shift(4);break;case 5:t.l+=4,E=t.read_shift(8,"f");break;case 11:t.l+=4,E=_s(t,4);break;case 64:t.l+=4,E=Ti(Y8(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[_]=E}}return t.l=r+n,g}var DD=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Mre(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function DC(t,e,r){var n=gt(8),i=[],s=[],a=8,o=0,l=gt(8),c=gt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=gt(8),c.write_shift(4,0),i.unshift(c);var u=[gt(4)];for(u[0].write_shift(4,t.length),o=0;o<t.length;++o){var p=t[o][0];for(l=gt(8+2*(p.length+1)+(p.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,p.length+1),l.write_shift(0,p,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=ka(u),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(DD.indexOf(t[o][0])>-1||AD.indexOf(t[o][0])>-1)&&t[o][1]!=null){var g=t[o][1],m=0;if(e){m=+e[t[o][0]];var y=r[m];if(y.p=="version"&&typeof g=="string"){var w=g.split(".");g=(+w[0]<<16)+(+w[1]||0)}l=FC(y.t,g)}else{var _=Mre(g);_==-1&&(_=31,g=String(g)),l=FC(_,g)}s.push(l),c=gt(8),c.write_shift(4,e?m:2+o),i.push(c),a+=8+l.length}var E=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,E),E+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),ka([n].concat(i).concat(s))}function OC(t,e,r){var n=t.content;if(!n)return{};za(n,0);var i,s,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==br.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),l=n.read_shift(4));var p=jC(n,e),g={SystemIdentifier:c};for(var m in p)g[m]=p[m];if(g.FMTID=s,i===1)return g;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var y;try{y=jC(n,null)}catch{}for(m in y)g[m]=y[m];return g.FMTID=[s,a],g}function MC(t,e,r,n,i,s){var a=gt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,br.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=DC(t,r,n);if(o.push(l),i){var c=DC(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return ka(o)}function mf(t,e){return t.read_shift(e),null}function Bre(t,e){e||(e=gt(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function Vre(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function _s(t,e){return t.read_shift(e)===1}function Do(t,e){return e||(e=gt(2)),e.write_shift(2,+!!t),e}function zs(t){return t.read_shift(2,"u")}function nc(t,e){return e||(e=gt(2)),e.write_shift(2,t),e}function OD(t,e){return Vre(t,e,zs)}function Ure(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function MD(t,e,r){return r||(r=gt(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Z2(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function zre(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),a=0,o,l={};i&&(a=t.read_shift(2)),n&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),n&&(t.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function $re(t){var e=t.t||"",r=gt(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=gt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return ka(i)}function I0(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function ex(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):I0(t,n,r)}function Q0(t,e,r){if(r.biff>5)return ex(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function BD(t,e,r){return r||(r=gt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function qre(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function Hre(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Bo,"");return n&&(t.l+=24),i}function Wre(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Bo,"");return r+a}function Gre(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Hre(t);case"0303000000000000c000000000000046":return Wre(t);default:throw new Error("Unsupported Moniker "+r)}}function mv(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Bo,""):"";return r}function BC(t,e){e||(e=gt(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function Kre(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",u,p;i&16&&(s=mv(t,r-t.l)),i&128&&(a=mv(t,r-t.l)),(i&257)===257&&(o=mv(t,r-t.l)),(i&257)===1&&(l=Gre(t,r-t.l)),i&8&&(c=mv(t,r-t.l)),i&32&&(u=t.read_shift(16)),i&64&&(p=Y8(t)),t.l=r;var g=a||o||l||"";g&&c&&(g+="#"+c),g||(g="#"+c),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var m={Target:g};return u&&(m.guid=u),p&&(m.time=p),s&&(m.Tooltip=s),m}function Xre(t){var e=gt(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),BC(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&BC(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function VD(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function UD(t,e){var r=VD(t);return r[3]=0,r}function Ou(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function P0(t,e,r,n){return n||(n=gt(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Yre(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function Qre(t,e,r){return e===0?"":Q0(t,e,r)}function Jre(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function zD(t){var e=t.read_shift(2),r=G8(t);return[e,r]}function Zre(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Z2(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function s4(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function $D(t,e){return e||(e=gt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function qD(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var ene=qD;function HD(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function tne(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function rne(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function uo(t){t.l+=2,t.l+=t.read_shift(2)}var nne={0:uo,4:uo,5:uo,6:uo,7:rne,8:uo,9:uo,10:uo,11:uo,12:uo,13:tne,14:uo,15:uo,16:uo,17:uo,18:uo,19:uo,20:uo,21:HD};function ine(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(nne[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function gv(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function Q8(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=gt(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function sne(t,e){return e===0||t.read_shift(2),1200}function ane(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=Q0(t,0,r);return t.read_shift(e+n-t.l),i}function one(t,e){var r=!e||e.biff==8,n=gt(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function lne(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function cne(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Z2(t,0,r);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function une(t,e){var r=!e||e.biff>=8?2:1,n=gt(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function dne(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<r;++a)s.push(zre(t));return s.Count=n,s.Unique=i,s}function fne(t,e){var r=gt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=$re(t[i]);var s=ka([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function hne(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function pne(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function mne(t){var e=Yre(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function gne(t){return t.read_shift(2),t.read_shift(4)}function VC(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function xne(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function vne(){var t=gt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function yne(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function wne(t){var e=gt(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function _ne(){}function bne(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Z2(t,0,r),n}function kne(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=gt(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Sne(t){var e=Ou(t);return e.isst=t.read_shift(4),e}function Ene(t,e,r,n){var i=gt(10);return P0(t,e,n,i),i.write_shift(4,r),i}function Cne(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Ou(t);r.biff==2&&t.l++;var s=ex(t,n-t.l,r);return i.val=s,i}function Tne(t,e,r,n,i){var s=!i||i.biff==8,a=gt(8+ +s+(1+s)*r.length);return P0(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function Ane(t,e,r){var n=t.read_shift(2),i=Q0(t,0,r);return[n,i]}function Nne(t,e,r,n){var i=r&&r.biff==5;n||(n=gt(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var Ine=Q0;function UC(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:s,c:o},e:{r:a,c:l}}}function Pne(t,e){var r=e.biff==8||!e.biff?4:2,n=gt(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Rne(t){var e=t.read_shift(2),r=t.read_shift(2),n=zD(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function Lne(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(zD(t));if(t.l!==r)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function Fne(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function jne(t,e,r,n){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=mre[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function Dne(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=jne(t,e,n.fStyle,r),n}function zC(t,e,r,n){var i=r&&r.biff==5;n||(n=gt(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function One(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function Mne(t){var e=gt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function $C(t,e,r){var n=Ou(t);(r.biff==2||e==9)&&++t.l;var i=Ure(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function Bne(t,e,r,n,i,s){var a=gt(8);return P0(t,e,n,a),MD(r,s,a),a}function Vne(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ou(t),i=_o(t);return n.val=i,n}function Une(t,e,r,n){var i=gt(14);return P0(t,e,n,i),N0(r,i),i}var qC=Qre;function zne(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=I0(t,s),o=[];n>t.l;)o.push(ex(t));return[s,i,a,o]}function HC(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=Zre(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var $ne=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function WC(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=I0(t,a,r);i&32&&(c=$ne[c.charCodeAt(0)]);var u=n-t.l;r&&r.biff==2&&--u;var p=n==t.l||o===0||!(u>0)?[]:ile(t,u,r,o);return{chKey:s,Name:c,itab:l,rgce:p}}function WD(t,e,r){if(r.biff<8)return qne(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(Jre(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function qne(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Z2(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function Hne(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=I0(t,n,r),a=I0(t,i,r);return[s,a]}function Wne(t,e,r){var n=qD(t);t.l++;var i=t.read_shift(1);return e-=8,[sle(t,e,r),i,n]}function GC(t,e,r){var n=ene(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,rle(t,e,r)]}function Gne(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function Kne(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=Q0(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,a,s]}}function Xne(t,e,r){return Kne(t,e,r)}function Yne(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(s4(t));return r}function Qne(t){var e=gt(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)$D(t[r],e);return e}function Jne(t,e,r){if(r&&r.biff<8)return eie(t,e,r);var n=HD(t),i=ine(t,e-22,n[1]);return{cmo:n,ft:i}}var Zne={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function eie(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((Zne[n]||Co)(t,e,r)),{cmo:[i,n,s],ft:a}}function tie(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=qre(t,6,r);var o=t.read_shift(2);t.read_shift(2),zs(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var u=t[t.l],p=I0(t,t.lens[c+1]-t.lens[c]-1);if(i+=p,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function rie(t,e){var r=s4(t);t.l+=16;var n=Kre(t,e-24);return[r,n]}function nie(t){var e=gt(24),r=Qi(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return ka([e,Xre(t[1])])}function iie(t,e){t.read_shift(2);var r=s4(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Bo,""),[r,n]}function sie(t){var e=t[1].Tooltip,r=gt(10+2*(e.length+1));r.write_shift(2,2048);var n=Qi(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function aie(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=PC[r]||r,r=t.read_shift(2),e[1]=PC[r]||r,e}function oie(t){return t||(t=gt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function lie(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(UD(t));return r}function cie(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(UD(t));return r}function uie(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function GD(t,e,r){if(!r.cellStyles)return Co(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function die(t,e){var r=gt(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function fie(t,e){var r={};return e<32||(t.l+=16,r.header=_o(t),r.footer=_o(t),t.l+=2),r}function hie(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function pie(t){for(var e=gt(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var mie=Ou,gie=OD,xie=ex;function vie(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function yie(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ou(t);++t.l;var i=Q0(t,e-7,r);return n.t="str",n.val=i,n}function wie(t){var e=Ou(t);++t.l;var r=_o(t);return e.t="n",e.val=r,e}function _ie(t,e,r){var n=gt(15);return ix(n,t,e),n.write_shift(8,r,"f"),n}function bie(t){var e=Ou(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function kie(t,e,r){var n=gt(9);return ix(n,t,e),n.write_shift(2,r),n}function Sie(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Eie(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Cie(t,e,r){var n=t.l+e,i=Ou(t),s=t.read_shift(2),a=I0(t,s,r);return t.l=n,i.t="str",i.val=a,i}var Tie=[2,3,48,49,131,139,140,245],X_=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=r4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Gf(1);switch(l.type){case"base64":u=Sl(Rl(o));break;case"binary":u=Sl(o);break;case"buffer":case"array":u=o;break}za(u,0);var p=u.read_shift(1),g=!!(p&136),m=!1,y=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,_=521;p==2&&(w=u.read_shift(2)),u.l+=3,p!=2&&(w=u.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(_=u.read_shift(2));var E=u.read_shift(2),L=l.codepage||1252;p!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(L=t[u[u.l]]),u.l+=1,u.l+=2),y&&(u.l+=36);for(var I=[],V={},G=Math.min(u.length,p==2?521:_-10-(m?264:0)),X=y?32:11;u.l<G&&u[u.l]!=13;)switch(V={},V.name=r2.utils.decode(L,u.slice(u.l,u.l+X)).replace(/[\u0000\r\n].*$/g,""),u.l+=X,V.type=String.fromCharCode(u.read_shift(1)),p!=2&&!y&&(V.offset=u.read_shift(4)),V.len=u.read_shift(1),p==2&&(V.offset=u.read_shift(2)),V.dec=u.read_shift(1),V.name.length&&I.push(V),p!=2&&(u.l+=y?13:14),V.type){case"B":(!m||V.len!=8)&&l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+V.type)}if(u[u.l]!==13&&(u.l=_-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=_;var R=0,A=0;for(c[0]=[],A=0;A!=I.length;++A)c[0][A]=I[A].name;for(;w-- >0;){if(u[u.l]===42){u.l+=E;continue}for(++u.l,c[++R]=[],A=0,A=0;A!=I.length;++A){var C=u.slice(u.l,u.l+I[A].len);u.l+=I[A].len,za(C,0);var D=r2.utils.decode(L,C);switch(I[A].type){case"C":D.trim().length&&(c[R][A]=D.replace(/\s+$/,""));break;case"D":D.length===8?c[R][A]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):c[R][A]=D;break;case"F":c[R][A]=parseFloat(D.trim());break;case"+":case"I":c[R][A]=y?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":c[R][A]=!0;break;case"N":case"F":c[R][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));c[R][A]="##MEMO##"+(y?parseInt(D.trim(),10):C.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(c[R][A]=+D||0);break;case"@":c[R][A]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":c[R][A]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":c[R][A]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[R][A]=-C.read_shift(-8,"f");break;case"B":if(m&&I[A].len==8){c[R][A]=C.read_shift(8,"f");break}case"G":case"P":C.l+=I[A].len;break;case"0":if(I[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[A].type)}}}if(p!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=I,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=im(r(o,c),c);return u["!cols"]=c.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete c.DBF,u}function i(o,l){try{return dh(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&jc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=nl(),p=n5(o,{header:1,raw:!0,cellDates:!0}),g=p[0],m=p.slice(1),y=o["!cols"]||[],w=0,_=0,E=0,L=1;for(w=0;w<g.length;++w){if(((y[w]||{}).DBF||{}).name){g[w]=y[w].DBF.name,++E;continue}if(g[w]!=null){if(++E,typeof g[w]=="number"&&(g[w]=g[w].toString(10)),typeof g[w]!="string")throw new Error("DBF Invalid column name "+g[w]+" |"+typeof g[w]+"|");if(g.indexOf(g[w])!==w){for(_=0;_<1024;++_)if(g.indexOf(g[w]+"_"+_)==-1){g[w]+="_"+_;break}}}}var I=Cn(o["!ref"]),V=[],G=[],X=[];for(w=0;w<=I.e.c-I.s.c;++w){var R="",A="",C=0,D=[];for(_=0;_<m.length;++_)m[_][w]!=null&&D.push(m[_][w]);if(D.length==0||g[w]==null){V[w]="?";continue}for(_=0;_<D.length;++_){switch(typeof D[_]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=D[_]instanceof Date?"D":"C";break;default:A="C"}C=Math.max(C,String(D[_]).length),R=R&&R!=A?"C":A}C>250&&(C=250),A=((y[w]||{}).DBF||{}).type,A=="C"&&y[w].DBF.len>C&&(C=y[w].DBF.len),R=="B"&&A=="N"&&(R="N",X[w]=y[w].DBF.dec,C=y[w].DBF.len),G[w]=R=="C"||A=="N"?C:s[R]||0,L+=G[w],V[w]=R}var N=u.next(32);for(N.write_shift(4,318902576),N.write_shift(4,m.length),N.write_shift(2,296+32*E),N.write_shift(2,L),w=0;w<4;++w)N.write_shift(4,0);for(N.write_shift(4,0|(+e[Dj]||3)<<8),w=0,_=0;w<g.length;++w)if(g[w]!=null){var j=u.next(32),B=(g[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,B,"sbcs"),j.write_shift(1,V[w]=="?"?"C":V[w],"sbcs"),j.write_shift(4,_),j.write_shift(1,G[w]||s[V[w]]||0),j.write_shift(1,X[w]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),_+=G[w]||s[V[w]]||0}var te=u.next(264);for(te.write_shift(4,13),w=0;w<65;++w)te.write_shift(4,0);for(w=0;w<m.length;++w){var he=u.next(L);for(he.write_shift(1,0),_=0;_<g.length;++_)if(g[_]!=null)switch(V[_]){case"L":he.write_shift(1,m[w][_]==null?63:m[w][_]?84:70);break;case"B":he.write_shift(8,m[w][_]||0,"f");break;case"N":var _e="0";for(typeof m[w][_]=="number"&&(_e=m[w][_].toFixed(X[_]||0)),E=0;E<G[_]-_e.length;++E)he.write_shift(1,32);he.write_shift(1,_e,"sbcs");break;case"D":m[w][_]?(he.write_shift(4,("0000"+m[w][_].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(m[w][_].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+m[w][_].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var fe=String(m[w][_]!=null?m[w][_]:"").slice(0,G[_]);for(he.write_shift(1,fe,"sbcs"),E=0;E<G[_]-fe.length;++E)he.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}})(),KD=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+hs(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,m){var y=t[m];return typeof y=="number"?iC(y):y},n=function(g,m,y){var w=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return w==59?g:iC(w)};t["|"]=254;function i(g,m){switch(m.type){case"base64":return s(Rl(g),m);case"binary":return s(g,m);case"buffer":return s(en&&Buffer.isBuffer(g)?g.toString("binary"):uh(g),m);case"array":return s(A0(g),m)}throw new Error("Unrecognized type "+m.type)}function s(g,m){var y=g.split(/[\n\r]+/),w=-1,_=-1,E=0,L=0,I=[],V=[],G=null,X={},R=[],A=[],C=[],D=0,N;for(+m.codepage>=0&&jc(+m.codepage);E!==y.length;++E){D=0;var j=y[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),B=j.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),te=B[0],he;if(j.length>0)switch(te){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&V.push(j.slice(3).replace(/;;/g,";"));break;case"C":var _e=!1,fe=!1,ie=!1,W=!1,ue=-1,Y=-1;for(L=1;L<B.length;++L)switch(B[L].charAt(0)){case"A":break;case"X":_=parseInt(B[L].slice(1))-1,fe=!0;break;case"Y":for(w=parseInt(B[L].slice(1))-1,fe||(_=0),N=I.length;N<=w;++N)I[N]=[];break;case"K":he=B[L].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN(Vc(he))?isNaN(j1(he).getDate())||(he=Ti(he)):(he=Vc(he),G!==null&&rm(G)&&(he=i4(he))),_e=!0;break;case"E":W=!0;var P=o1(B[L].slice(1),{r:w,c:_});I[w][_]=[I[w][_],P];break;case"S":ie=!0,I[w][_]=[I[w][_],"S5S"];break;case"G":break;case"R":ue=parseInt(B[L].slice(1))-1;break;case"C":Y=parseInt(B[L].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}if(_e&&(I[w][_]&&I[w][_].length==2?I[w][_][0]=he:I[w][_]=he,G=null),ie){if(W)throw new Error("SYLK shared formula cannot have own formula");var q=ue>-1&&I[ue][Y];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");I[w][_][1]=fO(q[1],{r:w-ue,c:_-Y})}break;case"F":var K=0;for(L=1;L<B.length;++L)switch(B[L].charAt(0)){case"X":_=parseInt(B[L].slice(1))-1,++K;break;case"Y":for(w=parseInt(B[L].slice(1))-1,N=I.length;N<=w;++N)I[N]=[];break;case"M":D=parseInt(B[L].slice(1))/20;break;case"F":break;case"G":break;case"P":G=V[parseInt(B[L].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=B[L].slice(1).split(" "),N=parseInt(C[0],10);N<=parseInt(C[1],10);++N)D=parseInt(C[2],10),A[N-1]=D===0?{hidden:!0}:{wch:D},Kf(A[N-1]);break;case"C":_=parseInt(B[L].slice(1))-1,A[_]||(A[_]={});break;case"R":w=parseInt(B[L].slice(1))-1,R[w]||(R[w]={}),D>0?(R[w].hpt=D,R[w].hpx=O1(D)):D===0&&(R[w].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}K<1&&(G=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+j)}}return R.length>0&&(X["!rows"]=R),A.length>0&&(X["!cols"]=A),m&&m.sheetRows&&(I=I.slice(0,m.sheetRows)),[I,X]}function a(g,m){var y=i(g,m),w=y[0],_=y[1],E=im(w,m);return hs(_).forEach(function(L){E[L]=_[L]}),E}function o(g,m){return dh(a(g,m),m)}function l(g,m,y,w){var _="C;Y"+(y+1)+";X"+(w+1)+";K";switch(g.t){case"n":_+=g.v||0,g.f&&!g.F&&(_+=";E"+nk(g.f,{r:y,c:w}));break;case"b":_+=g.v?"TRUE":"FALSE";break;case"e":_+=g.w||g.v;break;case"d":_+='"'+(g.w||g.v)+'"';break;case"s":_+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function c(g,m){m.forEach(function(y,w){var _="F;W"+(w+1)+" "+(w+1)+" ";y.hidden?_+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=u2(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=d2(y.wpx)),typeof y.wch=="number"&&(_+=Math.round(y.wch))),_.charAt(_.length-1)!=" "&&g.push(_)})}function u(g,m){m.forEach(function(y,w){var _="F;";y.hidden?_+="M0;":y.hpt?_+="M"+20*y.hpt+";":y.hpx&&(_+="M"+20*f2(y.hpx)+";"),_.length>2&&g.push(_+"R"+(w+1))})}function p(g,m){var y=["ID;PWXL;N;E"],w=[],_=Cn(g["!ref"]),E,L=Array.isArray(g),I=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&c(y,g["!cols"]),g["!rows"]&&u(y,g["!rows"]),y.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var V=_.s.r;V<=_.e.r;++V)for(var G=_.s.c;G<=_.e.c;++G){var X=Lr({r:V,c:G});E=L?(g[V]||[])[G]:g[X],!(!E||E.v==null&&(!E.f||E.F))&&w.push(l(E,g,V,G))}return y.join(I)+I+w.join(I)+I+"E"+I}return{to_workbook:o,to_sheet:a,from_sheet:p}})(),XD=(function(){function t(s,a){switch(a.type){case"base64":return e(Rl(s),a);case"binary":return e(s,a);case"buffer":return e(en&&Buffer.isBuffer(s)?s.toString("binary"):uh(s),a);case"array":return e(A0(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,u=0,p=[];u!==o.length;++u){if(o[u].trim()==="BOT"){p[++l]=[],c=0;continue}if(!(l<0)){var g=o[u].trim().split(","),m=g[0],y=g[1];++u;for(var w=o[u]||"";(w.match(/["]/g)||[]).length&1&&u<o.length-1;)w+=`
`+o[++u];switch(w=w.trim(),+m){case-1:if(w==="BOT"){p[++l]=[],c=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[l][c]=!0:w==="FALSE"?p[l][c]=!1:isNaN(Vc(y))?isNaN(j1(y).getDate())?p[l][c]=y:p[l][c]=Ti(y):p[l][c]=Vc(y),++c;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[l][c++]=w!==""?w:null;break}if(w==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function r(s,a){return im(t(s,a),a)}function n(s,a){return dh(r(s,a),a)}var i=(function(){var s=function(l,c,u,p,g){l.push(c),l.push(u+","+p),l.push('"'+g.replace(/"/g,'""')+'"')},a=function(l,c,u,p){l.push(c+","+u),l.push(c==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(l){var c=[],u=Cn(l["!ref"]),p,g=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){a(c,-1,0,"BOT");for(var y=u.s.c;y<=u.e.c;++y){var w=Lr({r:m,c:y});if(p=g?(l[m]||[])[y]:l[w],!p){a(c,1,0,"");continue}switch(p.t){case"n":var _=p.w;!_&&p.v!=null&&(_=p.v),_==null?p.f&&!p.F?a(c,1,0,"="+p.f):a(c,1,0,""):a(c,0,_,"V");break;case"b":a(c,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=cc(p.z||Ir[14],oa(Ti(p.v)))),a(c,0,p.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var E=`\r
`,L=c.join(E);return L}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),YD=(function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var m=p.split(`
`),y=-1,w=-1,_=0,E=[];_!==m.length;++_){var L=m[_].trim().split(":");if(L[0]==="cell"){var I=Qi(L[1]);if(E.length<=I.r)for(y=E.length;y<=I.r;++y)E[y]||(E[y]=[]);switch(y=I.r,w=I.c,L[2]){case"t":E[y][w]=t(L[3]);break;case"v":E[y][w]=+L[3];break;case"vtf":var V=L[L.length-1];case"vtc":switch(L[3]){case"nl":E[y][w]=!!+L[4];break;default:E[y][w]=+L[4];break}L[2]=="vtf"&&(E[y][w]=[E[y][w],V])}}}return g&&g.sheetRows&&(E=E.slice(0,g.sheetRows)),E}function n(p,g){return im(r(p,g),g)}function i(p,g){return dh(n(p,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(p){if(!p||!p["!ref"])return"";for(var g=[],m=[],y,w="",_=il(p["!ref"]),E=Array.isArray(p),L=_.s.r;L<=_.e.r;++L)for(var I=_.s.c;I<=_.e.c;++I)if(w=Lr({r:L,c:I}),y=E?(p[L]||[])[I]:p[w],!(!y||y.v==null||y.t==="z")){switch(m=["cell",w,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var V=oa(Ti(y.v));m[2]="vtc",m[3]="nd",m[4]=""+V,m[5]=y.w||cc(y.z||Ir[14],V);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function u(p){return[s,a,o,a,c(p),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}})(),D1=(function(){function t(u,p,g,m,y){y.raw?p[g][m]=u:u===""||(u==="TRUE"?p[g][m]=!0:u==="FALSE"?p[g][m]=!1:isNaN(Vc(u))?isNaN(j1(u).getDate())?p[g][m]=u:p[g][m]=Ti(u):p[g][m]=Vc(u))}function e(u,p){var g=p||{},m=[];if(!u||u.length===0)return m;for(var y=u.split(/[\r\n]/),w=y.length-1;w>=0&&y[w].length===0;)--w;for(var _=10,E=0,L=0;L<=w;++L)E=y[L].indexOf(" "),E==-1?E=y[L].length:E++,_=Math.max(_,E);for(L=0;L<=w;++L){m[L]=[];var I=0;for(t(y[L].slice(0,_).trim(),m,L,I,g),I=1;I<=(y[L].length-_)/10+1;++I)t(y[L].slice(_+(I-1)*10,_+I*10).trim(),m,L,I,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var p={},g=!1,m=0,y=0;m<u.length;++m)(y=u.charCodeAt(m))==34?g=!g:!g&&y in r&&(p[y]=(p[y]||0)+1);y=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&y.push([p[m],m]);if(!y.length){p=n;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&y.push([p[m],m])}return y.sort(function(w,_){return w[0]-_[0]||n[w[1]]-n[_[1]]}),r[y.pop()[1]]||44}function s(u,p){var g=p||{},m="",y=g.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=i(u.slice(0,1024)):g&&g.FS?m=g.FS:m=i(u.slice(0,1024));var _=0,E=0,L=0,I=0,V=0,G=m.charCodeAt(0),X=!1,R=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var C=g.dateNF!=null?hte(g.dateNF):null;function D(){var N=u.slice(I,V),j={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)j.t="z";else if(g.raw)j.t="s",j.v=N;else if(N.trim().length===0)j.t="s",j.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(j.t="s",j.v=N.slice(2,-1).replace(/""/g,'"')):zae(N)?(j.t="n",j.f=N.slice(1)):(j.t="s",j.v=N);else if(N=="TRUE")j.t="b",j.v=!0;else if(N=="FALSE")j.t="b",j.v=!1;else if(!isNaN(L=Vc(N)))j.t="n",g.cellText!==!1&&(j.w=N),j.v=L;else if(!isNaN(j1(N).getDate())||C&&N.match(C)){j.z=g.dateNF||Ir[14];var B=0;C&&N.match(C)&&(N=pte(N,g.dateNF,N.match(C)||[]),B=1),g.cellDates?(j.t="d",j.v=Ti(N,B)):(j.t="n",j.v=oa(Ti(N,B))),g.cellText!==!1&&(j.w=cc(j.z,j.v instanceof Date?oa(j.v):j.v)),g.cellNF||delete j.z}else j.t="s",j.v=N;if(j.t=="z"||(g.dense?(y[_]||(y[_]=[]),y[_][E]=j):y[Lr({c:E,r:_})]=j),I=V+1,A=u.charCodeAt(I),w.e.c<E&&(w.e.c=E),w.e.r<_&&(w.e.r=_),R==G)++E;else if(E=0,++_,g.sheetRows&&g.sheetRows<=_)return!0}e:for(;V<u.length;++V)switch(R=u.charCodeAt(V)){case 34:A===34&&(X=!X);break;case G:case 10:case 13:if(!X&&D())break e;break}return V-I>0&&D(),y["!ref"]=Wr(w),y}function a(u,p){return!(p&&p.PRN)||p.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,p):im(e(u,p),p)}function o(u,p){var g="",m=p.type=="string"?[0,0,0,0]:dk(u,p);switch(p.type){case"base64":g=Rl(u);break;case"binary":g=u;break;case"buffer":p.codepage==65001?g=u.toString("utf8"):p.codepage&&typeof r2<"u"||(g=en&&Buffer.isBuffer(u)?u.toString("binary"):uh(u));break;case"array":g=A0(u);break;case"string":g=u;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=ii(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=ii(g):p.type=="binary"&&typeof r2<"u",g.slice(0,19)=="socialcalc:version:"?YD.to_sheet(p.type=="string"?g:ii(g),p):a(g,p)}function l(u,p){return dh(o(u,p),p)}function c(u){for(var p=[],g=Cn(u["!ref"]),m,y=Array.isArray(u),w=g.s.r;w<=g.e.r;++w){for(var _=[],E=g.s.c;E<=g.e.c;++E){var L=Lr({r:w,c:E});if(m=y?(u[w]||[])[E]:u[L],!m||m.v==null){_.push("          ");continue}for(var I=(m.w||(Sd(m),m.w)||"").slice(0,10);I.length<10;)I+=" ";_.push(I+(E===0?" ":""))}p.push(_.join(""))}return p.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function Aie(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=KD.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return D1.to_workbook(t,e)}}var l0=(function(){function t(P,q,K){if(P){za(P,P.l||0);for(var J=K.Enum||ue;P.l<P.length;){var ce=P.read_shift(2),ye=J[ce]||J[65535],ke=P.read_shift(2),ae=P.l+ke,be=ye.f&&ye.f(P,ke,K);if(P.l=ae,q(be,ye,ce))return}}}function e(P,q){switch(q.type){case"base64":return r(Sl(Rl(P)),q);case"binary":return r(Sl(P),q);case"buffer":case"array":return r(P,q)}throw"Unsupported type "+q.type}function r(P,q){if(!P)return P;var K=q||{},J=K.dense?[]:{},ce="Sheet1",ye="",ke=0,ae={},be=[],De=[],se={s:{r:0,c:0},e:{r:0,c:0}},Pe=K.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)K.Enum=ue,t(P,function(Me,Qe,re){switch(re){case 0:K.vers=Me,Me>=4096&&(K.qpro=!0);break;case 6:se=Me;break;case 204:Me&&(ye=Me);break;case 222:ye=Me;break;case 15:case 51:K.qpro||(Me[1].v=Me[1].v.slice(1));case 13:case 14:case 16:re==14&&(Me[2]&112)==112&&(Me[2]&15)>1&&(Me[2]&15)<15&&(Me[1].z=K.dateNF||Ir[14],K.cellDates&&(Me[1].t="d",Me[1].v=i4(Me[1].v))),K.qpro&&Me[3]>ke&&(J["!ref"]=Wr(se),ae[ce]=J,be.push(ce),J=K.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},ke=Me[3],ce=ye||"Sheet"+(ke+1),ye="");var je=K.dense?(J[Me[0].r]||[])[Me[0].c]:J[Lr(Me[0])];if(je){je.t=Me[1].t,je.v=Me[1].v,Me[1].z!=null&&(je.z=Me[1].z),Me[1].f!=null&&(je.f=Me[1].f);break}K.dense?(J[Me[0].r]||(J[Me[0].r]=[]),J[Me[0].r][Me[0].c]=Me[1]):J[Lr(Me[0])]=Me[1];break}},K);else if(P[2]==26||P[2]==14)K.Enum=Y,P[2]==14&&(K.qpro=!0,P.l=0),t(P,function(Me,Qe,re){switch(re){case 204:ce=Me;break;case 22:Me[1].v=Me[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Me[3]>ke&&(J["!ref"]=Wr(se),ae[ce]=J,be.push(ce),J=K.dense?[]:{},se={s:{r:0,c:0},e:{r:0,c:0}},ke=Me[3],ce="Sheet"+(ke+1)),Pe>0&&Me[0].r>=Pe)break;K.dense?(J[Me[0].r]||(J[Me[0].r]=[]),J[Me[0].r][Me[0].c]=Me[1]):J[Lr(Me[0])]=Me[1],se.e.c<Me[0].c&&(se.e.c=Me[0].c),se.e.r<Me[0].r&&(se.e.r=Me[0].r);break;case 27:Me[14e3]&&(De[Me[14e3][0]]=Me[14e3][1]);break;case 1537:De[Me[0]]=Me[1],Me[0]==ke&&(ce=Me[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(J["!ref"]=Wr(se),ae[ye||ce]=J,be.push(ye||ce),!De.length)return{SheetNames:be,Sheets:ae};for(var Re={},me=[],Oe=0;Oe<De.length;++Oe)ae[be[Oe]]?(me.push(De[Oe]||be[Oe]),Re[De[Oe]]=ae[De[Oe]]||ae[be[Oe]]):(me.push(De[Oe]),Re[De[Oe]]={"!ref":"A1"});return{SheetNames:me,Sheets:Re}}function n(P,q){var K=q||{};if(+K.codepage>=0&&jc(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var J=nl(),ce=Cn(P["!ref"]),ye=Array.isArray(P),ke=[];$t(J,0,s(1030)),$t(J,6,l(ce));for(var ae=Math.min(ce.e.r,8191),be=ce.s.r;be<=ae;++be)for(var De=Is(be),se=ce.s.c;se<=ce.e.c;++se){be===ce.s.r&&(ke[se]=Yi(se));var Pe=ke[se]+De,Re=ye?(P[be]||[])[se]:P[Pe];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?$t(J,13,m(be,se,Re.v)):$t(J,14,w(be,se,Re.v));else{var me=Sd(Re);$t(J,15,p(be,se,me.slice(0,239)))}}return $t(J,1),J.end()}function i(P,q){var K=q||{};if(+K.codepage>=0&&jc(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var J=nl();$t(J,0,a(P));for(var ce=0,ye=0;ce<P.SheetNames.length;++ce)(P.Sheets[P.SheetNames[ce]]||{})["!ref"]&&$t(J,27,W(P.SheetNames[ce],ye++));var ke=0;for(ce=0;ce<P.SheetNames.length;++ce){var ae=P.Sheets[P.SheetNames[ce]];if(!(!ae||!ae["!ref"])){for(var be=Cn(ae["!ref"]),De=Array.isArray(ae),se=[],Pe=Math.min(be.e.r,8191),Re=be.s.r;Re<=Pe;++Re)for(var me=Is(Re),Oe=be.s.c;Oe<=be.e.c;++Oe){Re===be.s.r&&(se[Oe]=Yi(Oe));var Me=se[Oe]+me,Qe=De?(ae[Re]||[])[Oe]:ae[Me];if(!(!Qe||Qe.t=="z"))if(Qe.t=="n")$t(J,23,D(Re,Oe,ke,Qe.v));else{var re=Sd(Qe);$t(J,22,R(Re,Oe,ke,re.slice(0,239)))}}++ke}}return $t(J,1),J.end()}function s(P){var q=gt(2);return q.write_shift(2,P),q}function a(P){var q=gt(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var K=0,J=0,ce=0,ye=0;ye<P.SheetNames.length;++ye){var ke=P.SheetNames[ye],ae=P.Sheets[ke];if(!(!ae||!ae["!ref"])){++ce;var be=il(ae["!ref"]);K<be.e.r&&(K=be.e.r),J<be.e.c&&(J=be.e.c)}}return K>8191&&(K=8191),q.write_shift(2,K),q.write_shift(1,ce),q.write_shift(1,J),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(P,q,K){var J={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&K.qpro?(J.s.c=P.read_shift(1),P.l++,J.s.r=P.read_shift(2),J.e.c=P.read_shift(1),P.l++,J.e.r=P.read_shift(2),J):(J.s.c=P.read_shift(2),J.s.r=P.read_shift(2),q==12&&K.qpro&&(P.l+=2),J.e.c=P.read_shift(2),J.e.r=P.read_shift(2),q==12&&K.qpro&&(P.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function l(P){var q=gt(8);return q.write_shift(2,P.s.c),q.write_shift(2,P.s.r),q.write_shift(2,P.e.c),q.write_shift(2,P.e.r),q}function c(P,q,K){var J=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(J[0].c=P.read_shift(1),J[3]=P.read_shift(1),J[0].r=P.read_shift(2),P.l+=2):(J[2]=P.read_shift(1),J[0].c=P.read_shift(2),J[0].r=P.read_shift(2)),J}function u(P,q,K){var J=P.l+q,ce=c(P,q,K);if(ce[1].t="s",K.vers==20768){P.l++;var ye=P.read_shift(1);return ce[1].v=P.read_shift(ye,"utf8"),ce}return K.qpro&&P.l++,ce[1].v=P.read_shift(J-P.l,"cstr"),ce}function p(P,q,K){var J=gt(7+K.length);J.write_shift(1,255),J.write_shift(2,q),J.write_shift(2,P),J.write_shift(1,39);for(var ce=0;ce<J.length;++ce){var ye=K.charCodeAt(ce);J.write_shift(1,ye>=128?95:ye)}return J.write_shift(1,0),J}function g(P,q,K){var J=c(P,q,K);return J[1].v=P.read_shift(2,"i"),J}function m(P,q,K){var J=gt(7);return J.write_shift(1,255),J.write_shift(2,q),J.write_shift(2,P),J.write_shift(2,K,"i"),J}function y(P,q,K){var J=c(P,q,K);return J[1].v=P.read_shift(8,"f"),J}function w(P,q,K){var J=gt(13);return J.write_shift(1,255),J.write_shift(2,q),J.write_shift(2,P),J.write_shift(8,K,"f"),J}function _(P,q,K){var J=P.l+q,ce=c(P,q,K);if(ce[1].v=P.read_shift(8,"f"),K.qpro)P.l=J;else{var ye=P.read_shift(2);V(P.slice(P.l,P.l+ye),ce),P.l+=ye}return ce}function E(P,q,K){var J=q&32768;return q&=-32769,q=(J?P:0)+(q>=8192?q-16384:q),(J?"":"$")+(K?Yi(q):Is(q))}var L={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function V(P,q){za(P,0);for(var K=[],J=0,ce="",ye="",ke="",ae="";P.l<P.length;){var be=P[P.l++];switch(be){case 0:K.push(P.read_shift(8,"f"));break;case 1:ye=E(q[0].c,P.read_shift(2),!0),ce=E(q[0].r,P.read_shift(2),!1),K.push(ye+ce);break;case 2:{var De=E(q[0].c,P.read_shift(2),!0),se=E(q[0].r,P.read_shift(2),!1);ye=E(q[0].c,P.read_shift(2),!0),ce=E(q[0].r,P.read_shift(2),!1),K.push(De+se+":"+ye+ce)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(P.read_shift(2));break;case 6:{for(var Pe="";be=P[P.l++];)Pe+=String.fromCharCode(be);K.push('"'+Pe.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ae=K.pop(),ke=K.pop(),K.push(["AND","OR"][be-20]+"("+ke+","+ae+")");break;default:if(be<32&&I[be])ae=K.pop(),ke=K.pop(),K.push(ke+I[be]+ae);else if(L[be]){if(J=L[be][1],J==69&&(J=P[P.l++]),J>K.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+K.join("|")+"|");return}var Re=K.slice(-J);K.length-=J,K.push(L[be][0]+"("+Re.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}K.length==1?q[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function G(P){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=P.read_shift(2),q[3]=P[P.l++],q[0].c=P[P.l++],q}function X(P,q){var K=G(P);return K[1].t="s",K[1].v=P.read_shift(q-4,"cstr"),K}function R(P,q,K,J){var ce=gt(6+J.length);ce.write_shift(2,P),ce.write_shift(1,K),ce.write_shift(1,q),ce.write_shift(1,39);for(var ye=0;ye<J.length;++ye){var ke=J.charCodeAt(ye);ce.write_shift(1,ke>=128?95:ke)}return ce.write_shift(1,0),ce}function A(P,q){var K=G(P);K[1].v=P.read_shift(2);var J=K[1].v>>1;if(K[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return K[1].v=J,K}function C(P,q){var K=G(P),J=P.read_shift(4),ce=P.read_shift(4),ye=P.read_shift(2);if(ye==65535)return J===0&&ce===3221225472?(K[1].t="e",K[1].v=15):J===0&&ce===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var ke=ye&32768;return ye=(ye&32767)-16446,K[1].v=(1-ke*2)*(ce*Math.pow(2,ye+32)+J*Math.pow(2,ye)),K}function D(P,q,K,J){var ce=gt(14);if(ce.write_shift(2,P),ce.write_shift(1,K),ce.write_shift(1,q),J==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var ye=0,ke=0,ae=0,be=0;return J<0&&(ye=1,J=-J),ke=Math.log2(J)|0,J/=Math.pow(2,ke-31),be=J>>>0,(be&2147483648)==0&&(J/=2,++ke,be=J>>>0),J-=be,be|=2147483648,be>>>=0,J*=Math.pow(2,32),ae=J>>>0,ce.write_shift(4,ae),ce.write_shift(4,be),ke+=16383+(ye?32768:0),ce.write_shift(2,ke),ce}function N(P,q){var K=C(P);return P.l+=q-14,K}function j(P,q){var K=G(P),J=P.read_shift(4);return K[1].v=J>>6,K}function B(P,q){var K=G(P),J=P.read_shift(8,"f");return K[1].v=J,K}function te(P,q){var K=B(P);return P.l+=q-10,K}function he(P,q){return P[P.l+q-1]==0?P.read_shift(q,"cstr"):""}function _e(P,q){var K=P[P.l++];K>q-1&&(K=q-1);for(var J="";J.length<K;)J+=String.fromCharCode(P[P.l++]);return J}function fe(P,q,K){if(!(!K.qpro||q<21)){var J=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ce=P.read_shift(q-21,"cstr");return[J,ce]}}function ie(P,q){for(var K={},J=P.l+q;P.l<J;){var ce=P.read_shift(2);if(ce==14e3){for(K[ce]=[0,""],K[ce][0]=P.read_shift(2);P[P.l];)K[ce][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return K}function W(P,q){var K=gt(5+P.length);K.write_shift(2,14e3),K.write_shift(2,q);for(var J=0;J<P.length;++J){var ce=P.charCodeAt(J);K[K.l++]=ce>127?95:ce}return K[K.l++]=0,K}var ue={0:{n:"BOF",f:zs},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:_e},65535:{n:""}},Y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:X},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:te},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:fe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function Nie(t){var e={},r=t.match(To),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=jr(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=A8[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Iie=(function(){var t=s2("t"),e=s2("rPr");function r(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:En(a[1])},l=s.match(e);return l&&(o.s=Nie(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),Pie=(function(){var e=/(\r\n|\n)/g;function r(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),Rie=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Lie=/<(?:\w+:)?r>/,Fie=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function J8(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=En(ii(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=ii(t),r&&(n.h=M8(n.t))):t.match(Lie)&&(n.r=ii(t),n.t=En(ii((t.replace(Fie,"").match(Rie)||[]).join("").replace(To,""))),r&&(n.h=Pie(Iie(n.r)))),n):{t:""}}var jie=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Die=/<(?:\w+:)?(?:si|sstItem)>/g,Oie=/<\/(?:\w+:)?(?:si|sstItem)>/;function Mie(t,e){var r=[],n="";if(!t)return r;var i=t.match(jie);if(i){n=i[2].replace(Die,"").split(Oie);for(var s=0;s!=n.length;++s){var a=J8(n[s].trim(),e);a!=null&&(r[r.length]=a)}i=jr(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var Bie=/^\s|\s$|[\t\n\r]/;function QD(t,e){if(!e.bookSST)return"";var r=[Rs];r[r.length]=zt("sst",null,{xmlns:W0[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Bie)&&(s+=' xml:space="preserve"'),s+=">"+Qn(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Vie(t){return[t.read_shift(4),t.read_shift(4)]}function Uie(t,e){var r=[],n=!1;return jd(t,function(s,a,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function zie(t,e){return e||(e=gt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var $ie=Zte;function qie(t){var e=nl();Ct(e,159,zie(t));for(var r=0;r<t.length;++r)Ct(e,19,$ie(t[r]));return Ct(e,160),e.end()}function JD(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function xd(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function Hie(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=xd(t,4),e.U=xd(t,4),e.W=xd(t,4),e}function Wie(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function Gie(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(Wie(t));return e}function Kie(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function Xie(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=xd(t,4),e.U=xd(t,4),e.W=xd(t,4),e}function Yie(t){var e=Xie(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function ZD(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function eO(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function Qie(t){var e=xd(t);switch(e.Minor){case 2:return[e.Minor,Jie(t)];case 3:return[e.Minor,Zie()];case 4:return[e.Minor,ese(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Jie(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=ZD(t,r),i=eO(t,t.length-t.l);return{t:"Std",h:n,v:i}}function Zie(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ese(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(To,function(s){var a=jr(s);switch(Du(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function tse(t,e){var r={},n=r.EncryptionVersionInfo=xd(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=ZD(t,i),e-=i,r.EncryptionVerifier=eO(t,e),r}function rse(t){var e={},r=e.EncryptionVersionInfo=xd(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function Z8(t){var e=0,r,n=JD(t),i=n.length+1,s,a,o,l,c;for(r=Gf(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var tO=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var u=a[c],p=0;p!=7;++p)u&64&&(o^=r[l]),u*=2,--l;return o};return function(a){for(var o=JD(a),l=s(o),c=o.length,u=Gf(16),p=0;p!=16;++p)u[p]=0;var g,m,y;for((c&1)===1&&(g=l>>8,u[c]=i(t[0],g),--c,g=l&255,m=o[o.length-1],u[c]=i(m,g));c>0;)--c,g=l>>8,u[c]=i(o[c],g),--c,g=l&255,u[c]=i(o[c],g);for(c=15,y=15-o.length;y>0;)g=l>>8,u[c]=i(t[y],g),--c,--y,g=l&255,u[c]=i(o[c],g),--c,--y;return u}})(),nse=function(t,e,r,n,i){i||(i=e),n||(n=tO(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[r],a=(a>>5|a<<3)&255,i[s]=a,++r;return[i,r,n]},ise=function(t){var e=0,r=tO(t);return function(n){var i=nse("",n,e,r);return e=i[1],i[0]}};function sse(t,e,r,n){var i={key:zs(t),verificationBytes:zs(t)};return r.password&&(i.verifier=Z8(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=ise(r.password)),i}function ase(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=rse(t):n.Data=tse(t,e),n}function ose(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?ase(t,e-2,n):sse(t,r.biff>=8?e:e-2,r,n),n}var rO=(function(){function t(i,s){switch(s.type){case"base64":return e(Rl(i),s);case"binary":return e(i,s);case"buffer":return e(en&&Buffer.isBuffer(i)?i.toString("binary"):uh(i),s);case"array":return e(A0(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,m=0,y,w=-1;y=g.exec(u);){switch(y[0]){case"\\cell":var _=u.slice(m,g.lastIndex-y[0].length);if(_[0]==" "&&(_=_.slice(1)),++w,_.length){var E={v:_,t:"s"};Array.isArray(o)?o[p][w]=E:o[Lr({r:p,c:w})]=E}break}m=g.lastIndex}w>c.e.c&&(c.e.c=w)}),o["!ref"]=Wr(c),o}function r(i,s){return dh(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Cn(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var p=Lr({r:c,c:u});o=l?(i[c]||[])[u]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Sd(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function lse(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function c2(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function cse(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((r-n)/a+6)%6;break;case r:o=(n-e)/a+2;break;case n:o=(e-r)/a+4;break}return[o/6,l,c/2]}function use(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function t5(t,e){if(e===0)return t;var r=cse(lse(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),c2(use(r))}var nO=6,dse=15,fse=1,yo=nO;function u2(t){return Math.floor((t+Math.round(128/yo)/256)*yo)}function d2(t){return Math.floor((t-5)/yo*100+.5)/100}function r5(t){return Math.round((t*yo+5)/yo*256)/256}function Ww(t){return r5(d2(u2(t)))}function ek(t){var e=Math.abs(t-Ww(t)),r=yo;if(e>.005)for(yo=fse;yo<dse;++yo)Math.abs(t-Ww(t))<=e&&(e=Math.abs(t-Ww(t)),r=yo);yo=r}function Kf(t){t.width?(t.wpx=u2(t.width),t.wch=d2(t.wpx),t.MDW=yo):t.wpx?(t.wch=d2(t.wpx),t.width=r5(t.wch),t.MDW=yo):typeof t.wch=="number"&&(t.width=r5(t.wch),t.wpx=u2(t.width),t.MDW=yo),t.customWidth&&delete t.customWidth}var hse=96,iO=hse;function f2(t){return t*96/iO}function O1(t){return t*iO/96}var pse={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function mse(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(To)||[]).forEach(function(a){var o=jr(a);switch(Du(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=bi(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=bi(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function gse(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(To)||[]).forEach(function(a){var o=jr(a);switch(Du(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function xse(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(To)||[]).forEach(function(a){var o=jr(a);switch(Du(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=ii(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?bi(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?bi(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?bi(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?bi(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?bi(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?bi(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?bi(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=A8[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=bi(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=a0[i.color.index];i.color.index==81&&(l=a0[1]),l||(l=a0[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=t5(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function vse(t,e,r){e.NumberFmt=[];for(var n=hs(Ir),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Ir[n[i]];var s=t[0].match(To);if(s)for(i=0;i<s.length;++i){var a=jr(s[i]);switch(Du(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=En(ii(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}gd(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function yse(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=zt("numFmt",null,{numFmtId:n,formatCode:Qn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=zt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var xv=["numFmtId","fillId","fontId","borderId","xfId"],vv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function wse(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(To)||[]).forEach(function(s){var a=jr(s),o=0;switch(Du(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<xv.length;++o)n[xv[o]]&&(n[xv[o]]=parseInt(n[xv[o]],10));for(o=0;o<vv.length;++o)n[vv[o]]&&(n[vv[o]]=bi(n[vv[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=bi(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function _se(t){var e=[];return e[e.length]=zt("cellXfs",null),t.forEach(function(r){e[e.length]=zt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=zt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var bse=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&vse(p,u,c),(p=o.match(i))&&xse(p,u,l,c),(p=o.match(n))&&gse(p,u,l,c),(p=o.match(s))&&mse(p,u,l,c),(p=o.match(r))&&wse(p,u,c),u}})();function sO(t,e){var r=[Rs,zt("styleSheet",null,{xmlns:W0[0],"xmlns:vt":na.vt})],n;return t.SSF&&(n=yse(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=_se(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function kse(t,e){var r=t.read_shift(2),n=Eo(t);return[r,n]}function Sse(t,e,r){r||(r=gt(6+4*e.length)),r.write_shift(2,t),Sa(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Ese(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=are(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=sre(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Eo(t),n}function Cse(t,e){e||(e=gt(153)),e.write_shift(2,t.sz*20),ore(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Jy(t.color,e);var n=0;return n=2,e.write_shift(1,n),Sa(t.name,e),e.length>e.l?e.slice(0,e.l):e}var Tse=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Gw,Ase=Co;function KC(t,e){e||(e=gt(84)),Gw||(Gw=r4(Tse));var r=Gw[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Jy({auto:1},e),Jy({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Nse(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function aO(t,e,r){r||(r=gt(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Xm(t,e){return e||(e=gt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Ise=Co;function Pse(t,e){return e||(e=gt(51)),e.write_shift(1,0),Xm(null,e),Xm(null,e),Xm(null,e),Xm(null,e),Xm(null,e),e.length>e.l?e.slice(0,e.l):e}function Rse(t,e){return e||(e=gt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Qy(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Lse(t,e,r){var n=gt(2052);return n.write_shift(4,t),Qy(e,n),Qy(r,n),n.length>n.l?n.slice(0,n.l):n}function Fse(t,e,r){var n={};n.NumberFmt=[];for(var i in Ir)n.NumberFmt[i]=Ir[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return jd(t,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],gd(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=t5(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(u),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!a||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function jse(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Ct(t,615,Uc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ct(t,44,Sse(i,e[i]))}),Ct(t,616))}}function Dse(t){var e=1;Ct(t,611,Uc(e)),Ct(t,43,Cse({sz:12,color:{theme:1},name:"Calibri",family:2})),Ct(t,612)}function Ose(t){var e=2;Ct(t,603,Uc(e)),Ct(t,45,KC({patternType:"none"})),Ct(t,45,KC({patternType:"gray125"})),Ct(t,604)}function Mse(t){var e=1;Ct(t,613,Uc(e)),Ct(t,46,Pse()),Ct(t,614)}function Bse(t){var e=1;Ct(t,626,Uc(e)),Ct(t,47,aO({numFmtId:0},65535)),Ct(t,627)}function Vse(t,e){Ct(t,617,Uc(e.length)),e.forEach(function(r){Ct(t,47,aO(r,0))}),Ct(t,618)}function Use(t){var e=1;Ct(t,619,Uc(e)),Ct(t,48,Rse({xfId:0,name:"Normal"})),Ct(t,620)}function zse(t){var e=0;Ct(t,505,Uc(e)),Ct(t,506)}function $se(t){var e=0;Ct(t,508,Lse(e,"TableStyleMedium9","PivotStyleMedium4")),Ct(t,509)}function qse(t,e){var r=nl();return Ct(r,278),jse(r,t.SSF),Dse(r),Ose(r),Mse(r),Bse(r),Vse(r,e.cellXfs),Use(r),zse(r),$se(r),Ct(r,279),r.end()}var Hse=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Wse(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(To)||[]).forEach(function(i){var s=jr(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Hse.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Gse(){}function Kse(){}var Xse=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Yse=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Qse=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Jse(t,e,r){e.themeElements={};var n;[["clrScheme",Xse,Wse],["fontScheme",Yse,Gse],["fmtScheme",Qse,Kse]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var Zse=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function oO(t,e){(!t||t.length===0)&&(t=tk());var r,n={};if(!(r=t.match(Zse)))throw new Error("themeElements not found in theme");return Jse(r[0],n,e),n.raw=t,n}function tk(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Rs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function eae(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var a;try{a=Zj(s,{type:"array"})}catch{return}var o=El(a,"theme/theme/theme1.xml",!0);if(o)return oO(o,r)}}function tae(t){return t.read_shift(4)}function rae(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=nae(t,4);break;case 2:e.xclrValue=VD(t);break;case 3:e.xclrValue=tae(t);break;case 4:t.l+=4;break}return t.l+=8,e}function nae(t,e){return Co(t,e)}function iae(t,e){return Co(t,e)}function sae(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=rae(t);break;case 6:n[1]=iae(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function aae(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(sae(t,r-t.l));return{ixfe:n,ext:s}}function oae(t,e){e.forEach(function(r){r[0]})}function lae(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Eo(t)}}function cae(t){var e=gt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Sa(t.name,e),e.slice(0,e.l)}function uae(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function dae(t){var e=gt(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function fae(t,e){var r=gt(8+2*e.length);return r.write_shift(4,t),Sa(e,r),r.slice(0,r.l)}function hae(t){return t.l+=4,t.read_shift(4)!=0}function pae(t,e){var r=gt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function mae(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],a=!1,o=2;return jd(t,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(p){o==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):o==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function gae(){var t=nl();return Ct(t,332),Ct(t,334,Uc(1)),Ct(t,335,cae({name:"XLDAPR",version:12e4,flags:3496657072})),Ct(t,336),Ct(t,339,fae(1,"XLDAPR")),Ct(t,52),Ct(t,35,Uc(514)),Ct(t,4096,Uc(0)),Ct(t,4097,nc(1)),Ct(t,36),Ct(t,53),Ct(t,340),Ct(t,337,pae(1)),Ct(t,51,dae([[1,0]])),Ct(t,338),Ct(t,333),t.end()}function xae(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,a;return t.replace(To,function(o){var l=jr(o);switch(Du(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(a=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function lO(){var t=[Rs];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function vae(t){var e=[];if(!t)return e;var r=1;return(t.match(To)||[]).forEach(function(n){var i=jr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function yae(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Lr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function wae(t,e,r){var n=[];return jd(t,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function _ae(t,e,r,n){if(!t)return t;var i=n||{},s=!1;jd(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function bae(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var $p=1024;function cO(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[zt("xml",null,{"xmlns:v":bl.v,"xmlns:o":bl.o,"xmlns:x":bl.x,"xmlns:mv":bl.mv}).replace(/\/>/,">"),zt("o:shapelayout",zt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),zt("v:shapetype",[zt("v:stroke",null,{joinstyle:"miter"}),zt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];$p<t*1e3;)$p+=1e3;return e.forEach(function(s){var a=Qi(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?zt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=zt("v:fill",l,o),u={on:"t",obscured:"t"};++$p,i=i.concat(["<v:shape"+a2({id:"_x0000_s"+$p,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,zt("v:shadow",null,u),zt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",qa("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),qa("x:AutoFill","False"),qa("x:Row",String(a.r)),qa("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function XC(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(a){var o=Qi(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Cn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Wr(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var u={a:a.author,t:a.t,r:a.r,T:r};a.h&&(u.h=a.h);for(var p=s.c.length-1;p>=0;--p){if(!r&&s.c[p].T)return;r&&!s.c[p].T&&s.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(u.a==n[p].id){u.a=n[p].name||u.a;break}}s.c.push(u)})}function kae(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=jr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Qi(l.ref);if(!(e.sheetRows&&e.sheetRows<=u.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&J8(p[1])||{r:"",t:"",h:""};c.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),c.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=g.h),n.push(c)}}}}),n}function uO(t){var e=[Rs,zt("comments",null,{xmlns:W0[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Qn(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Qn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(qa("t",Qn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(qa("t",Qn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Sae(t,e){var r=[],n=!1,i={},s=0;return t.replace(To,function(o,l){var c=jr(o);switch(Du(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Eae(t,e,r){var n=[Rs,zt("ThreadedComments",null,{xmlns:na.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(zt("threadedComment",qa("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Cae(t,e){var r=[],n=!1;return t.replace(To,function(s){var a=jr(s);switch(Du(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),r}function Tae(t){var e=[Rs,zt("personList",null,{xmlns:na.TCMNT,"xmlns:x":W0[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(zt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Aae(t){var e={};e.iauthor=t.read_shift(4);var r=Y0(t);return e.rfx=r.s,e.ref=Lr(r.s),t.l+=16,e}function Nae(t,e){return e==null&&(e=gt(36)),e.write_shift(4,t[1].iauthor),sm(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Iae=Eo;function Pae(t){return Sa(t.slice(0,54))}function Rae(t,e){var r=[],n=[],i={},s=!1;return jd(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function Lae(t){var e=nl(),r=[];return Ct(e,628),Ct(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Ct(e,632,Pae(i.a)))})}),Ct(e,631),Ct(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Qi(n[0]),e:Qi(n[0])};Ct(e,635,Nae([s,i])),i.t&&i.t.length>0&&Ct(e,637,tre(i)),Ct(e,636),delete i.iauthor})}),Ct(e,634),Ct(e,629),e.end()}var Fae="application/vnd.ms-office.vbaProject";function jae(t){var e=br.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");br.utils.cfb_add(e,i,t.FileIndex[n].content)}}),br.write(e)}function Dae(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&br.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var dO=["xlsb","xlsm","xlam","biff8","xla"];function Oae(){return{"!type":"dialog"}}function Mae(){return{"!type":"dialog"}}function Bae(){return{"!type":"macro"}}function Vae(){return{"!type":"macro"}}var o1=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,l?c+=e.r:--c,i+(o?"":"$")+Yi(u)+(l?"":"$")+Is(c)}return function(i,s){return e=s,i.replace(t,r)}})(),rk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,nk=(function(){return function(e,r){return e.replace(rk,function(n,i,s,a,o,l){var c=$8(a)-(s?0:r.c),u=z8(l)-(o?0:r.r),p=u==0?"":o?u+1:"["+u+"]",g=c==0?"":s?c+1:"["+c+"]";return i+"R"+p+"C"+g})}})();function fO(t,e){return t.replace(rk,function(r,n,i,s,a,o){return n+(i=="$"?i+s:Yi($8(s)+e.c))+(a=="$"?a+o:Is(z8(o)+e.r))})}function Uae(t,e,r){var n=il(e),i=n.s,s=Qi(r),a={r:s.r-i.r,c:s.c-i.c};return fO(t,a)}function zae(t){return t.length!=1}function YC(t){return t.replace(/_xlfn\./g,"")}function Bs(t){t.l+=1}function Xf(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function hO(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return pO(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=Xf(t),o=Xf(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function pO(t){var e=Xf(t),r=Xf(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function $ae(t,e,r){if(r.biff<8)return pO(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Xf(t),a=Xf(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function mO(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return qae(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Xf(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function qae(t){var e=Xf(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Hae(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Wae(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Gae(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function Gae(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function Kae(t,e,r){var n=(t[t.l++]&96)>>5,i=hO(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function Xae(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=hO(t,s,r);return[n,i,a]}function Yae(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Qae(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function Jae(t,e,r){var n=(t[t.l++]&96)>>5,i=$ae(t,e-1,r);return[n,i]}function Zae(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function QC(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function eoe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function toe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function roe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function noe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function ioe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function gO(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function soe(t){return t.read_shift(2),gO(t)}function aoe(t){return t.read_shift(2),gO(t)}function ooe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=mO(t,0,r);return[n,i]}function loe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Wae(t,0,r);return[n,i]}function coe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=mO(t,0,r);return[n,i,s]}function uoe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[hle[i],yO[i],n]}function doe(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:foe(t);return[i,(s[0]===0?yO:fle)[s[1]]]}function foe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function hoe(t,e,r){t.l+=r&&r.biff==2?3:4}function poe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function moe(t){return t.l++,Dd[t.read_shift(1)]}function goe(t){return t.l++,t.read_shift(2)}function xoe(t){return t.l++,t.read_shift(1)!==0}function voe(t){return t.l++,_o(t)}function yoe(t,e,r){return t.l++,Z2(t,e-1,r)}function woe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=_s(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Dd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=_o(t);break;case 2:r[1]=Q0(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function _oe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Y0:s4)(t));return i}function boe(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=woe(t,r.biff);return a}function koe(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function Soe(t,e,r){if(r.biff==5)return Eoe(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function Eoe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Coe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Toe(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Aoe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function Noe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var Ioe=Co,Poe=Co,Roe=Co;function tx(t,e,r){return t.l+=2,[Hae(t)]}function ik(t){return t.l+=6,[]}var Loe=tx,Foe=ik,joe=ik,Doe=tx;function xO(t){return t.l+=2,[zs(t),t.read_shift(2)&1]}var Ooe=tx,Moe=xO,Boe=ik,Voe=tx,Uoe=tx,zoe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $oe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=zoe[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function qoe(t){return t.l+=2,[t.read_shift(4)]}function Hoe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Woe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Goe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Koe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Xoe(t){return t.l+=4,[0,0]}var JC={1:{n:"PtgExp",f:poe},2:{n:"PtgTbl",f:Roe},3:{n:"PtgAdd",f:Bs},4:{n:"PtgSub",f:Bs},5:{n:"PtgMul",f:Bs},6:{n:"PtgDiv",f:Bs},7:{n:"PtgPower",f:Bs},8:{n:"PtgConcat",f:Bs},9:{n:"PtgLt",f:Bs},10:{n:"PtgLe",f:Bs},11:{n:"PtgEq",f:Bs},12:{n:"PtgGe",f:Bs},13:{n:"PtgGt",f:Bs},14:{n:"PtgNe",f:Bs},15:{n:"PtgIsect",f:Bs},16:{n:"PtgUnion",f:Bs},17:{n:"PtgRange",f:Bs},18:{n:"PtgUplus",f:Bs},19:{n:"PtgUminus",f:Bs},20:{n:"PtgPercent",f:Bs},21:{n:"PtgParen",f:Bs},22:{n:"PtgMissArg",f:Bs},23:{n:"PtgStr",f:yoe},26:{n:"PtgSheet",f:Hoe},27:{n:"PtgEndSheet",f:Woe},28:{n:"PtgErr",f:moe},29:{n:"PtgBool",f:xoe},30:{n:"PtgInt",f:goe},31:{n:"PtgNum",f:voe},32:{n:"PtgArray",f:Zae},33:{n:"PtgFunc",f:uoe},34:{n:"PtgFuncVar",f:doe},35:{n:"PtgName",f:koe},36:{n:"PtgRef",f:ooe},37:{n:"PtgArea",f:Kae},38:{n:"PtgMemArea",f:Coe},39:{n:"PtgMemErr",f:Ioe},40:{n:"PtgMemNoMem",f:Poe},41:{n:"PtgMemFunc",f:Toe},42:{n:"PtgRefErr",f:Aoe},43:{n:"PtgAreaErr",f:Yae},44:{n:"PtgRefN",f:loe},45:{n:"PtgAreaN",f:Jae},46:{n:"PtgMemAreaN",f:Goe},47:{n:"PtgMemNoMemN",f:Koe},57:{n:"PtgNameX",f:Soe},58:{n:"PtgRef3d",f:coe},59:{n:"PtgArea3d",f:Xae},60:{n:"PtgRefErr3d",f:Noe},61:{n:"PtgAreaErr3d",f:Qae},255:{}},Yoe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Qoe={1:{n:"PtgElfLel",f:xO},2:{n:"PtgElfRw",f:Voe},3:{n:"PtgElfCol",f:Loe},6:{n:"PtgElfRwV",f:Uoe},7:{n:"PtgElfColV",f:Doe},10:{n:"PtgElfRadical",f:Ooe},11:{n:"PtgElfRadicalS",f:Boe},13:{n:"PtgElfColS",f:Foe},15:{n:"PtgElfColSV",f:joe},16:{n:"PtgElfRadicalLel",f:Moe},25:{n:"PtgList",f:$oe},29:{n:"PtgSxName",f:qoe},255:{}},Joe={0:{n:"PtgAttrNoop",f:Xoe},1:{n:"PtgAttrSemi",f:ioe},2:{n:"PtgAttrIf",f:roe},4:{n:"PtgAttrChoose",f:eoe},8:{n:"PtgAttrGoto",f:toe},16:{n:"PtgAttrSum",f:hoe},32:{n:"PtgAttrBaxcel",f:QC},33:{n:"PtgAttrBaxcel",f:QC},64:{n:"PtgAttrSpace",f:soe},65:{n:"PtgAttrSpaceSemi",f:aoe},128:{n:"PtgAttrIfError",f:noe},255:{}};function rx(t,e,r,n){if(n.biff<8)return Co(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=boe(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=_oe(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Co(t,e)),s}function nx(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=JC[s]||JC[Yoe[s]],(s===24||s===25)&&(i=(s===24?Qoe:Joe)[t[t.l+1]]),!i||!i.f?Co(t,e):a.push([i.n,i.f(t,e,r)]);return a}function Zoe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var ele={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function tle(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function vO(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function ZC(t,e,r){var n=vO(t,e,r);return n=="#REF"?n:tle(n,r)}function vo(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,u,p=0,g=0,m,y="";if(!t[0]||!t[0][0])return"";for(var w=-1,_="",E=0,L=t[0].length;E<L;++E){var I=t[0][E];switch(I[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),w>=0){switch(t[0][w][1][0]){case 0:_=ls(" ",t[0][w][1][1]);break;case 1:_=ls("\r",t[0][w][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}c=c+_,w=-1}o.push(c+ele[I[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=kg(I[1][1],a,i),o.push(Sg(u,s));break;case"PtgRefN":u=r?kg(I[1][1],r,i):I[1][1],o.push(Sg(u,s));break;case"PtgRef3d":p=I[1][1],u=kg(I[1][2],a,i),y=ZC(n,p,i),o.push(y+"!"+Sg(u,s));break;case"PtgFunc":case"PtgFuncVar":var V=I[1][0],G=I[1][1];V||(V=0),V&=127;var X=V==0?[]:o.slice(-V);o.length-=V,G==="User"&&(G=X.shift()),o.push(G+"("+X.join(",")+")");break;case"PtgBool":o.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(I[1]);break;case"PtgNum":o.push(String(I[1]));break;case"PtgStr":o.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(I[1]);break;case"PtgAreaN":m=AC(I[1][1],r?{s:r}:a,i),o.push($w(m,i));break;case"PtgArea":m=AC(I[1][1],a,i),o.push($w(m,i));break;case"PtgArea3d":p=I[1][1],m=I[1][2],y=ZC(n,p,i),o.push(y+"!"+$w(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=I[1][2];var R=(n.names||[])[g-1]||(n[0]||[])[g],A=R?R.Name:"SH33TJSNAME"+String(g);A&&A.slice(0,6)=="_xlfn."&&!i.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var C=I[1][1];g=I[1][2];var D;if(i.biff<=5)C<0&&(C=-C),n[C]&&(D=n[C][g]);else{var N="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][g]&&n[C][g].itab>0&&(N=n.SheetNames[n[C][g].itab-1]+"!"):N=n.SheetNames[g-1]+"!"),n[C]&&n[C][g])N+=n[C][g].Name;else if(n[0]&&n[0][g])N+=n[0][g].Name;else{var j=(vO(n,C,i)||"").split(";;");j[g-1]?N=j[g-1]:N+="SH33TJSERRX"}o.push(N);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var B="(",te=")";if(w>=0){switch(_="",t[0][w][1][0]){case 2:B=ls(" ",t[0][w][1][1])+B;break;case 3:B=ls("\r",t[0][w][1][1])+B;break;case 4:te=ls(" ",t[0][w][1][1])+te;break;case 5:te=ls("\r",t[0][w][1][1])+te;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}o.push(B+o.pop()+te);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:I[1][1],r:I[1][0]};var he={c:r.c,r:r.r};if(n.sharedf[Lr(u)]){var _e=n.sharedf[Lr(u)];o.push(vo(_e,a,he,n,i))}else{var fe=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(vo(c[1],a,he,n,i)),fe=!0;break}fe||o.push(I[1])}break;case"PtgArray":o.push("{"+Zoe(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&ie.indexOf(t[0][E][0])==-1){I=t[0][w];var W=!0;switch(I[1][0]){case 4:W=!1;case 0:_=ls(" ",I[1][1]);break;case 5:W=!1;case 1:_=ls("\r",I[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}o.push((W?_:"")+o.pop()+(W?"":_)),w=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function rle(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Co(t,e-2)];var o=nx(t,a,r);return e!==a+i&&(s=rx(t,e-a-i,o,r)),t.l=n,[o,s]}function nle(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Co(t,e-2)];var o=nx(t,a,r);return e!==a+i&&(s=rx(t,e-a-i,o,r)),t.l=n,[o,s]}function ile(t,e,r,n){var i=t.l+e,s=nx(t,n,r),a;return i!==t.l&&(a=rx(t,i-t.l,s,r)),[s,a]}function sle(t,e,r){var n=t.l+e,i,s=t.read_shift(2),a=nx(t,s,r);return s==65535?[[],Co(t,e-2)]:(e!==s+2&&(i=rx(t,n-s-2,a,r)),[a,i])}function ale(t){var e;if(ud(t,t.l+6)!==65535)return[_o(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function ole(t){if(t==null){var e=gt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return N0(t);return N0(0)}function Kw(t,e,r){var n=t.l+e,i=Ou(t);r.biff==2&&++t.l;var s=ale(t),a=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=nle(t,n-t.l,r);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function lle(t,e,r,n,i){var s=P0(e,r,i),a=ole(t.v),o=gt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=gt(t.bf.length),u=0;u<t.bf.length;++u)c[u]=t.bf[u];var p=ka([s,a,o,c]);return p}function a4(t,e,r){var n=t.read_shift(4),i=nx(t,n,r),s=t.read_shift(4),a=s>0?rx(t,s,i,r):null;return[i,a]}var cle=a4,o4=a4,ule=a4,dle=a4,fle={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},yO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},hle={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function eT(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function ple(t){var e="of:="+t.replace(rk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Xw(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function mle(t){return t.replace(/\./,"!")}var Cg={},l1={},Tg=typeof Map<"u";function sk(t,e,r){var n=0,i=t.length;if(r){if(Tg?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=Tg?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Tg?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function l4(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(yo=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=d2(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=r5(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function c0(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function fh(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){gd(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function wO(t,e,r,n,i,s){try{n.cellNF&&(t.z=Ir[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Ti(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Ir[e]==null&&gd(fte[e]||"General",e),t.t==="e")t.w=t.w||Dd[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=i2(t.v);else if(t.t==="d"){var a=oa(t.v);(a|0)===a?t.w=a.toString(10):t.w=i2(a)}else{if(t.v===void 0)return"";t.w=T0(t.v,l1)}else t.t==="d"?t.w=cc(e,oa(t.v),l1):t.w=cc(e,t.v,l1)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=t5(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=t5(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function gle(t,e,r){if(t&&t["!ref"]){var n=Cn(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function xle(t,e){var r=Cn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Wr(r))}var vle=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,yle=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,wle=/<(?:\w:)?hyperlink [^>]*>/mg,_le=/"(\w*:\w*)"/,ble=/<(?:\w:)?col\b[^>]*[\/]?>/g,kle=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Sle=/<(?:\w:)?pageMargins[^>]*\/>/g,_O=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Ele=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Cle=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Tle(t,e,r,n,i,s,a){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",p=t.match(yle);p?(c=t.slice(0,p.index),u=t.slice(p.index+p[0].length)):c=u=t;var g=c.match(_O);g?ak(g[0],o,i,r):(g=c.match(Ele))&&Nle(g[0],g[1]||"",o,i,r);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=c.slice(m,m+50).match(_le);y&&xle(o,y[1])}var w=c.match(Cle);w&&w[1]&&zle(w[1],i);var _=[];if(e.cellStyles){var E=c.match(ble);E&&Ole(_,E)}p&&Hle(p[1],o,e,l,s,a);var L=u.match(kle);L&&(o["!autofilter"]=Ble(L[0]));var I=[],V=u.match(vle);if(V)for(m=0;m!=V.length;++m)I[m]=Cn(V[m].slice(V[m].indexOf('"')+1));var G=u.match(wle);G&&Fle(o,G,n);var X=u.match(Sle);if(X&&(o["!margins"]=jle(jr(X[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Wr(l)),e.sheetRows>0&&o["!ref"]){var R=Cn(o["!ref"]);e.sheetRows<=+R.e.r&&(R.e.r=e.sheetRows-1,R.e.r>l.e.r&&(R.e.r=l.e.r),R.e.r<R.s.r&&(R.s.r=R.e.r),R.e.c>l.e.c&&(R.e.c=l.e.c),R.e.c<R.s.c&&(R.s.c=R.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Wr(R))}return _.length>0&&(o["!cols"]=_),I.length>0&&(o["!merges"]=I),o}function Ale(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Wr(t[r])+'"/>';return e+"</mergeCells>"}function ak(t,e,r,n){var i=jr(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=En(ii(i.codeName)))}function Nle(t,e,r,n,i){ak(t.slice(0,t.indexOf(">")),r,n,i)}function Ile(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=wu(Qn(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+zt("outlinePr",null,c)}!s&&!o||(i[i.length]=zt("sheetPr",o,a))}var Ple=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Rle=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Lle(t){var e={sheet:1};return Ple.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),Rle.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=Z8(t.password).toString(16).toUpperCase()),zt("sheetProtection",null,e)}function Fle(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=jr(ii(e[i]),!0);if(!s.ref)return;var a=((r||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+En(s.location))):(s.Target="#"+En(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Cn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Lr({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[u]||(t[u]={t:"z",v:void 0}),t[u].l=s)}}}function jle(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function Dle(t){return c0(t),zt("pageMargins",null,t)}function Ole(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=jr(e[n],!0);i.hidden&&(i.hidden=bi(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,ek(i.width)),Kf(i);s<=a;)t[s++]=Ai(i)}}function Mle(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=zt("col",null,l4(i,n)));return r[r.length]="</cols>",r.join("")}function Ble(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function Vle(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Wr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=il(i);a.s.r==a.e.r&&(a.e.r=il(e["!ref"]).e.r,i=Wr(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),zt("autoFilter",null,{ref:i})}var Ule=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function zle(t,e){e.Views||(e.Views=[{}]),(t.match(Ule)||[]).forEach(function(r,n){var i=jr(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),bi(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function $le(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),zt("sheetViews",zt("sheetView",null,i),{})}function qle(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Dd[t.v];break;case"d":n&&n.cellDates?i=Ti(t.v,-1).toISOString():(t=Ai(t),t.t="n",i=""+(t.v=oa(Ti(t.v)))),typeof t.z>"u"&&(t.z=Ir[14]);break;default:i=t.v;break}var o=qa("v",Qn(i)),l={r:e},c=fh(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=qa("v",""+sk(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var u=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=zt("f",Qn(t.f),u)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),zt("c",o,l)}var Hle=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=s2("v"),a=s2("f");return function(l,c,u,p,g,m){for(var y=0,w="",_=[],E=[],L=0,I=0,V=0,G="",X,R,A=0,C=0,D,N,j=0,B=0,te=Array.isArray(m.CellXf),he,_e=[],fe=[],ie=Array.isArray(c),W=[],ue={},Y=!1,P=!!u.sheetStubs,q=l.split(e),K=0,J=q.length;K!=J;++K){w=q[K].trim();var ce=w.length;if(ce!==0){var ye=0;e:for(y=0;y<ce;++y)switch(w[y]){case">":if(w[y-1]!="/"){++y;break e}if(u&&u.cellStyles){if(R=jr(w.slice(ye,y),!0),A=R.r!=null?parseInt(R.r,10):A+1,C=-1,u.sheetRows&&u.sheetRows<A)continue;ue={},Y=!1,R.ht&&(Y=!0,ue.hpt=parseFloat(R.ht),ue.hpx=O1(ue.hpt)),R.hidden=="1"&&(Y=!0,ue.hidden=!0),R.outlineLevel!=null&&(Y=!0,ue.level=+R.outlineLevel),Y&&(W[A-1]=ue)}break;case"<":ye=y;break}if(ye>=y)break;if(R=jr(w.slice(ye,y),!0),A=R.r!=null?parseInt(R.r,10):A+1,C=-1,!(u.sheetRows&&u.sheetRows<A)){p.s.r>A-1&&(p.s.r=A-1),p.e.r<A-1&&(p.e.r=A-1),u&&u.cellStyles&&(ue={},Y=!1,R.ht&&(Y=!0,ue.hpt=parseFloat(R.ht),ue.hpx=O1(ue.hpt)),R.hidden=="1"&&(Y=!0,ue.hidden=!0),R.outlineLevel!=null&&(Y=!0,ue.level=+R.outlineLevel),Y&&(W[A-1]=ue)),_=w.slice(y).split(t);for(var ke=0;ke!=_.length&&_[ke].trim().charAt(0)=="<";++ke);for(_=_.slice(ke),y=0;y!=_.length;++y)if(w=_[y].trim(),w.length!==0){if(E=w.match(r),L=y,I=0,V=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,E!=null&&E.length===2){for(L=0,G=E[1],I=0;I!=G.length&&!((V=G.charCodeAt(I)-64)<1||V>26);++I)L=26*L+V;--L,C=L}else++C;for(I=0;I!=w.length&&w.charCodeAt(I)!==62;++I);if(++I,R=jr(w.slice(0,I),!0),R.r||(R.r=Lr({r:A-1,c:C})),G=w.slice(I),X={t:""},(E=G.match(s))!=null&&E[1]!==""&&(X.v=En(E[1])),u.cellFormula){if((E=G.match(a))!=null&&E[1]!==""){if(X.f=En(ii(E[1])).replace(/\r\n/g,`
`),u.xlfn||(X.f=YC(X.f)),E[0].indexOf('t="array"')>-1)X.F=(G.match(i)||[])[1],X.F.indexOf(":")>-1&&_e.push([Cn(X.F),X.F]);else if(E[0].indexOf('t="shared"')>-1){N=jr(E[0]);var ae=En(ii(E[1]));u.xlfn||(ae=YC(ae)),fe[parseInt(N.si,10)]=[N,ae,R.r]}}else(E=G.match(/<f[^>]*\/>/))&&(N=jr(E[0]),fe[N.si]&&(X.f=Uae(fe[N.si][1],fe[N.si][2],R.r)));var be=Qi(R.r);for(I=0;I<_e.length;++I)be.r>=_e[I][0].s.r&&be.r<=_e[I][0].e.r&&be.c>=_e[I][0].s.c&&be.c<=_e[I][0].e.c&&(X.F=_e[I][1])}if(R.t==null&&X.v===void 0)if(X.f||X.F)X.v=0,X.t="n";else if(P)X.t="z";else continue;else X.t=R.t||"n";switch(p.s.c>C&&(p.s.c=C),p.e.c<C&&(p.e.c=C),X.t){case"n":if(X.v==""||X.v==null){if(!P)continue;X.t="z"}else X.v=parseFloat(X.v);break;case"s":if(typeof X.v>"u"){if(!P)continue;X.t="z"}else D=Cg[parseInt(X.v,10)],X.v=D.t,X.r=D.r,u.cellHTML&&(X.h=D.h);break;case"str":X.t="s",X.v=X.v!=null?ii(X.v):"",u.cellHTML&&(X.h=M8(X.v));break;case"inlineStr":E=G.match(n),X.t="s",E!=null&&(D=J8(E[1]))?(X.v=D.t,u.cellHTML&&(X.h=D.h)):X.v="";break;case"b":X.v=bi(X.v);break;case"d":u.cellDates?X.v=Ti(X.v,1):(X.v=oa(Ti(X.v,1)),X.t="n");break;case"e":(!u||u.cellText!==!1)&&(X.w=X.v),X.v=kD[X.v];break}if(j=B=0,he=null,te&&R.s!==void 0&&(he=m.CellXf[R.s],he!=null&&(he.numFmtId!=null&&(j=he.numFmtId),u.cellStyles&&he.fillId!=null&&(B=he.fillId))),wO(X,j,B,u,g,m),u.cellDates&&te&&X.t=="n"&&rm(Ir[j])&&(X.t="d",X.v=i4(X.v)),R.cm&&u.xlmeta){var De=(u.xlmeta.Cell||[])[+R.cm-1];De&&De.type=="XLDAPR"&&(X.D=!0)}if(ie){var se=Qi(R.r);c[se.r]||(c[se.r]=[]),c[se.r][se.c]=X}else c[R.r]=X}}}}W.length>0&&(c["!rows"]=W)}})();function Wle(t,e,r,n){var i=[],s=[],a=Cn(t["!ref"]),o="",l,c="",u=[],p=0,g=0,m=t["!rows"],y=Array.isArray(t),w={r:c},_,E=-1;for(g=a.s.c;g<=a.e.c;++g)u[g]=Yi(g);for(p=a.s.r;p<=a.e.r;++p){for(s=[],c=Is(p),g=a.s.c;g<=a.e.c;++g){l=u[g]+c;var L=y?(t[p]||[])[g]:t[l];L!==void 0&&(o=qle(L,l,t,e))!=null&&s.push(o)}(s.length>0||m&&m[p])&&(w={r:c},m&&m[p]&&(_=m[p],_.hidden&&(w.hidden=1),E=-1,_.hpx?E=f2(_.hpx):_.hpt&&(E=_.hpt),E>-1&&(w.ht=E,w.customHeight=1),_.level&&(w.outlineLevel=_.level)),i[i.length]=zt("row",s.join(""),w))}if(m)for(;p<m.length;++p)m&&m[p]&&(w={r:p+1},_=m[p],_.hidden&&(w.hidden=1),E=-1,_.hpx?E=f2(_.hpx):_.hpt&&(E=_.hpt),E>-1&&(w.ht=E,w.customHeight=1),_.level&&(w.outlineLevel=_.level),i[i.length]=zt("row","",w));return i.join("")}function bO(t,e,r,n){var i=[Rs,zt("worksheet",null,{xmlns:W0[0],"xmlns:r":na.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",u=Cn(c);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=Wr(u)}n||(n={}),l["!comments"]=[];var p=[];Ile(l,r,t,e,i),i[i.length]=zt("dimension",null,{ref:c}),i[i.length]=$le(l,e,t,r),e.sheetFormat&&(i[i.length]=zt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=Mle(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=Wle(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=Lle(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=Vle(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=Ale(l["!merges"]));var g=-1,m,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(w){w[1].Target&&(m={ref:w[0]},w[1].Target.charAt(0)!="#"&&(y=Gn(n,-1,Qn(w[1].Target).replace(/#.*$/,""),an.HLINK),m["r:id"]="rId"+y),(g=w[1].Target.indexOf("#"))>-1&&(m.location=Qn(w[1].Target.slice(g+1))),w[1].Tooltip&&(m.tooltip=Qn(w[1].Tooltip)),i[i.length]=zt("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=Dle(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=qa("ignoredErrors",zt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),p.length>0&&(y=Gn(n,-1,"../drawings/drawing"+(t+1)+".xml",an.DRAW),i[i.length]=zt("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=p),l["!comments"].length>0&&(y=Gn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",an.VML),i[i.length]=zt("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Gle(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function Kle(t,e,r){var n=gt(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=f2(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var p=-1,g=-1,m=u<<10;m<u+1<<10;++m){c.c=m;var y=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Lr(c)];y&&(p<0&&(p=m),g=m)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,g))}var w=n.l;return n.l=l,n.write_shift(4,o),n.l=w,n.length>n.l?n.slice(0,n.l):n}function Xle(t,e,r,n){var i=Kle(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Ct(t,0,i)}var Yle=Y0,Qle=sm;function Jle(){}function Zle(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=rre(t),r}function ece(t,e,r){r==null&&(r=gt(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Jy({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),vD(t,r),r.slice(0,r.l)}function tce(t){var e=dc(t);return[e]}function rce(t,e,r){return r==null&&(r=gt(8)),G0(e,r)}function nce(t){var e=K0(t);return[e]}function ice(t,e,r){return r==null&&(r=gt(4)),X0(e,r)}function sce(t){var e=dc(t),r=t.read_shift(1);return[e,r,"b"]}function ace(t,e,r){return r==null&&(r=gt(9)),G0(e,r),r.write_shift(1,t.v?1:0),r}function oce(t){var e=K0(t),r=t.read_shift(1);return[e,r,"b"]}function lce(t,e,r){return r==null&&(r=gt(5)),X0(e,r),r.write_shift(1,t.v?1:0),r}function cce(t){var e=dc(t),r=t.read_shift(1);return[e,r,"e"]}function uce(t,e,r){return r==null&&(r=gt(9)),G0(e,r),r.write_shift(1,t.v),r}function dce(t){var e=K0(t),r=t.read_shift(1);return[e,r,"e"]}function fce(t,e,r){return r==null&&(r=gt(8)),X0(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function hce(t){var e=dc(t),r=t.read_shift(4);return[e,r,"s"]}function pce(t,e,r){return r==null&&(r=gt(12)),G0(e,r),r.write_shift(4,e.v),r}function mce(t){var e=K0(t),r=t.read_shift(4);return[e,r,"s"]}function gce(t,e,r){return r==null&&(r=gt(8)),X0(e,r),r.write_shift(4,e.v),r}function xce(t){var e=dc(t),r=_o(t);return[e,r,"n"]}function vce(t,e,r){return r==null&&(r=gt(16)),G0(e,r),N0(t.v,r),r}function kO(t){var e=K0(t),r=_o(t);return[e,r,"n"]}function yce(t,e,r){return r==null&&(r=gt(12)),X0(e,r),N0(t.v,r),r}function wce(t){var e=dc(t),r=G8(t);return[e,r,"n"]}function _ce(t,e,r){return r==null&&(r=gt(12)),G0(e,r),yD(t.v,r),r}function bce(t){var e=K0(t),r=G8(t);return[e,r,"n"]}function kce(t,e,r){return r==null&&(r=gt(8)),X0(e,r),yD(t.v,r),r}function Sce(t){var e=dc(t),r=q8(t);return[e,r,"is"]}function Ece(t){var e=dc(t),r=Eo(t);return[e,r,"str"]}function Cce(t,e,r){return r==null&&(r=gt(12+4*t.v.length)),G0(e,r),Sa(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Tce(t){var e=K0(t),r=Eo(t);return[e,r,"str"]}function Ace(t,e,r){return r==null&&(r=gt(8+4*t.v.length)),X0(e,r),Sa(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Nce(t,e,r){var n=t.l+e,i=dc(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=o4(t,n-t.l,r);a[3]=vo(o,null,i,r.supbooks,r)}else t.l=n;return a}function Ice(t,e,r){var n=t.l+e,i=dc(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=o4(t,n-t.l,r);a[3]=vo(o,null,i,r.supbooks,r)}else t.l=n;return a}function Pce(t,e,r){var n=t.l+e,i=dc(t);i.r=r["!row"];var s=_o(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=o4(t,n-t.l,r);a[3]=vo(o,null,i,r.supbooks,r)}else t.l=n;return a}function Rce(t,e,r){var n=t.l+e,i=dc(t);i.r=r["!row"];var s=Eo(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=o4(t,n-t.l,r);a[3]=vo(o,null,i,r.supbooks,r)}else t.l=n;return a}var Lce=Y0,Fce=sm;function jce(t,e){return e==null&&(e=gt(4)),e.write_shift(4,t),e}function Dce(t,e){var r=t.l+e,n=Y0(t),i=H8(t),s=Eo(t),a=Eo(t),o=Eo(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function Oce(t,e){var r=gt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));sm({s:Qi(t[0]),e:Qi(t[0])},r),W8("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Sa(i||"",r),Sa(t[1].Tooltip||"",r),Sa("",r),r.slice(0,r.l)}function Mce(){}function Bce(t,e,r){var n=t.l+e,i=wD(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=cle(t,n-t.l,r);a[1]=o}else t.l=n;return a}function Vce(t,e,r){var n=t.l+e,i=Y0(t),s=[i];if(r.cellFormula){var a=dle(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function Uce(t,e,r){r==null&&(r=gt(18));var n=l4(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var SO=["left","right","top","bottom","header","footer"];function zce(t){var e={};return SO.forEach(function(r){e[r]=_o(t)}),e}function $ce(t,e){return e==null&&(e=gt(48)),c0(t),SO.forEach(function(r){N0(t[r],e)}),e}function qce(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Hce(t,e,r){r==null&&(r=gt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Wce(t){var e=gt(24);return e.write_shift(4,4),e.write_shift(4,1),sm(t,e),e}function Gce(t,e){return e==null&&(e=gt(66)),e.write_shift(2,t.password?Z8(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Kce(){}function Xce(){}function Yce(t,e,r,n,i,s,a){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,m,y,w,_,E,L,I,V,G,X=[];o.biff=12,o["!row"]=0;var R=0,A=!1,C=[],D={},N=o.supbooks||i.supbooks||[[]];if(N.sharedf=D,N.arrayf=C,N.SheetNames=i.SheetNames||i.Sheets.map(function(ie){return ie.name}),!o.supbooks&&(o.supbooks=N,i.Names))for(var j=0;j<i.Names.length;++j)N[0][j+1]=i.Names[j];var B=[],te=[],he=!1;h2[16]={n:"BrtShortReal",f:kO};var _e;if(jd(t,function(W,ue,Y){if(!g)switch(Y){case 148:c=W;break;case 0:m=W,o.sheetRows&&o.sheetRows<=m.r&&(g=!0),V=Is(_=m.r),o["!row"]=m.r,(W.hidden||W.hpt||W.level!=null)&&(W.hpt&&(W.hpx=O1(W.hpt)),te[W.r]=W);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:W[2]},W[2]){case"n":y.v=W[1];break;case"s":I=Cg[W[1]],y.v=I.t,y.r=I.r;break;case"b":y.v=!!W[1];break;case"e":y.v=W[1],o.cellText!==!1&&(y.w=Dd[y.v]);break;case"str":y.t="s",y.v=W[1];break;case"is":y.t="s",y.v=W[1].t;break}if((w=a.CellXf[W[0].iStyleRef])&&wO(y,w.numFmtId,null,o,s,a),E=W[0].c==-1?E+1:W[0].c,o.dense?(l[_]||(l[_]=[]),l[_][E]=y):l[Yi(E)+V]=y,o.cellFormula){for(A=!1,R=0;R<C.length;++R){var P=C[R];m.r>=P[0].s.r&&m.r<=P[0].e.r&&E>=P[0].s.c&&E<=P[0].e.c&&(y.F=Wr(P[0]),A=!0)}!A&&W.length>3&&(y.f=W[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>E&&(u.s.c=E),u.e.r<m.r&&(u.e.r=m.r),u.e.c<E&&(u.e.c=E),o.cellDates&&w&&y.t=="n"&&rm(Ir[w.numFmtId])){var q=Qh(y.v);q&&(y.t="d",y.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}_e&&(_e.type=="XLDAPR"&&(y.D=!0),_e=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;y={t:"z",v:void 0},E=W[0].c==-1?E+1:W[0].c,o.dense?(l[_]||(l[_]=[]),l[_][E]=y):l[Yi(E)+V]=y,u.s.r>m.r&&(u.s.r=m.r),u.s.c>E&&(u.s.c=E),u.e.r<m.r&&(u.e.r=m.r),u.e.c<E&&(u.e.c=E),_e&&(_e.type=="XLDAPR"&&(y.D=!0),_e=void 0);break;case 176:X.push(W);break;case 49:_e=((o.xlmeta||{}).Cell||[])[W-1];break;case 494:var K=n["!id"][W.relId];for(K?(W.Target=K.Target,W.loc&&(W.Target+="#"+W.loc),W.Rel=K):W.relId==""&&(W.Target="#"+W.loc),_=W.rfx.s.r;_<=W.rfx.e.r;++_)for(E=W.rfx.s.c;E<=W.rfx.e.c;++E)o.dense?(l[_]||(l[_]=[]),l[_][E]||(l[_][E]={t:"z",v:void 0}),l[_][E].l=W):(L=Lr({c:E,r:_}),l[L]||(l[L]={t:"z",v:void 0}),l[L].l=W);break;case 426:if(!o.cellFormula)break;C.push(W),G=o.dense?l[_][E]:l[Yi(E)+V],G.f=vo(W[1],u,{r:m.r,c:E},N,o),G.F=Wr(W[0]);break;case 427:if(!o.cellFormula)break;D[Lr(W[0].s)]=W[1],G=o.dense?l[_][E]:l[Yi(E)+V],G.f=vo(W[1],u,{r:m.r,c:E},N,o);break;case 60:if(!o.cellStyles)break;for(;W.e>=W.s;)B[W.e--]={width:W.w/256,hidden:!!(W.flags&1),level:W.level},he||(he=!0,ek(W.w/256)),Kf(B[W.e+1]);break;case 161:l["!autofilter"]={ref:Wr(W)};break;case 476:l["!margins"]=W;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),W.name&&(i.Sheets[r].CodeName=W.name),(W.above||W.left)&&(l["!outline"]={above:W.above,left:W.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),W.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!ue.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+Y.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Wr(c||u)),o.sheetRows&&l["!ref"]){var fe=Cn(l["!ref"]);o.sheetRows<=+fe.e.r&&(fe.e.r=o.sheetRows-1,fe.e.r>u.e.r&&(fe.e.r=u.e.r),fe.e.r<fe.s.r&&(fe.s.r=fe.e.r),fe.e.c>u.e.c&&(fe.e.c=u.e.c),fe.e.c<fe.s.c&&(fe.s.c=fe.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Wr(fe))}return X.length>0&&(l["!merges"]=X),B.length>0&&(l["!cols"]=B),te.length>0&&(l["!rows"]=te),l}function Qce(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Ai(e),e.z=e.z||Ir[14],e.v=oa(Ti(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=fh(i.cellXfs,e,i),e.l&&s["!links"].push([Lr(l),e.l]),e.c&&s["!comments"].push([Lr(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=sk(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?Ct(t,18,gce(e,l)):Ct(t,7,pce(e,l))):(l.t="str",a?Ct(t,17,Ace(e,l)):Ct(t,6,Cce(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?Ct(t,13,kce(e,l)):Ct(t,2,_ce(e,l)):a?Ct(t,16,yce(e,l)):Ct(t,5,vce(e,l)),!0;case"b":return l.t="b",a?Ct(t,15,lce(e,l)):Ct(t,4,ace(e,l)),!0;case"e":return l.t="e",a?Ct(t,14,fce(e,l)):Ct(t,3,uce(e,l)),!0}return a?Ct(t,12,ice(e,l)):Ct(t,1,rce(e,l)),!0}function Jce(t,e,r,n){var i=Cn(e["!ref"]||"A1"),s,a="",o=[];Ct(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=c;++u){a=Is(u),Xle(t,e,i,u);var p=!1;if(u<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){u===i.s.r&&(o[g]=Yi(g)),s=o[g]+a;var m=l?(e[u]||[])[g]:e[s];if(!m){p=!1;continue}p=Qce(t,m,u,g,n,e,p)}}Ct(t,146)}function Zce(t,e){!e||!e["!merges"]||(Ct(t,177,jce(e["!merges"].length)),e["!merges"].forEach(function(r){Ct(t,176,Fce(r))}),Ct(t,178))}function eue(t,e){!e||!e["!cols"]||(Ct(t,390),e["!cols"].forEach(function(r,n){r&&Ct(t,60,Uce(n,r))}),Ct(t,391))}function tue(t,e){!e||!e["!ref"]||(Ct(t,648),Ct(t,649,Wce(Cn(e["!ref"]))),Ct(t,650))}function rue(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Gn(r,-1,n[1].Target.replace(/#.*$/,""),an.HLINK);Ct(t,494,Oce(n,i))}}),delete e["!links"]}function nue(t,e,r,n){if(e["!comments"].length>0){var i=Gn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",an.VML);Ct(t,551,W8("rId"+i)),e["!legacy"]=i}}function iue(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Wr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=il(s);o.s.r==o.e.r&&(o.e.r=il(e["!ref"]).e.r,s=Wr(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ct(t,161,sm(Cn(s))),Ct(t,162)}}function sue(t,e,r){Ct(t,133),Ct(t,137,Hce(e,r)),Ct(t,138),Ct(t,134)}function aue(t,e){e["!protect"]&&Ct(t,535,Gce(e["!protect"]))}function oue(t,e,r,n){var i=nl(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Cn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Ct(i,129),(r.vbaraw||a["!outline"])&&Ct(i,147,ece(o,a["!outline"])),Ct(i,148,Qle(l)),sue(i,a,r.Workbook),eue(i,a),Jce(i,a,t,e),aue(i,a),iue(i,a,r,t),Zce(i,a),rue(i,a,n),a["!margins"]&&Ct(i,476,$ce(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&tue(i,a),nue(i,a,t,n),Ct(i,130),i.end()}function lue(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=r?+a[2]:a[2])});var i=En((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function cue(t,e,r,n,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=lue(p);u.s.r=u.s.c=0,u.e.c=o,c=Yi(o),g[0].forEach(function(m,y){a[c+Is(y)]={t:"n",v:m,z:g[1]},l=y}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(a["!ref"]=Wr(u)),a}function uue(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(_O);return o&&ak(o[0],s,i,r),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function due(t,e){t.l+=10;var r=Eo(t);return{name:r}}function fue(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return jd(t,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var ok=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],hue=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],pue=[],mue=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function tT(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=bi(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function rT(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=bi(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function EO(t){rT(t.WBProps,ok),rT(t.CalcPr,mue),tT(t.WBView,hue),tT(t.Sheets,pue),l1.date1904=bi(t.WBProps.date1904)}function gue(t){return!t.Workbook||!t.Workbook.WBProps?"false":bi(t.Workbook.WBProps.date1904)?"true":"false"}var xue="][*?/\\".split("");function CO(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return xue.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function vue(t,e,r){t.forEach(function(n,i){CO(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function yue(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];vue(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)gle(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var wue=/<\w+:workbook/;function _ue(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(t.replace(To,function(l,c){var u=jr(l);switch(Du(u[0])){case"<?xml":break;case"<workbook":l.match(wue)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":ok.forEach(function(p){if(u[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=bi(u[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(u[p[0]],10);break;default:r.WBProps[p[0]]=u[p[0]]}}),u.codeName&&(r.WBProps.CodeName=ii(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=En(ii(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=ii(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),bi(u.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=En(ii(t.slice(a,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),W0.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return EO(r),r}function TO(t){var e=[Rs];e[e.length]=zt("workbook",null,{xmlns:W0[0],"xmlns:r":na.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(ok.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=zt("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Qn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=zt("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=zt("definedName",Qn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function bue(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=$_(t),r.name=Eo(t),r}function kue(t,e){return e||(e=gt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),W8(t.strRelID,e),Sa(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Sue(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Eo(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Eue(t,e){e||(e=gt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),vD(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Cue(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function Tue(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=nre(t),a=ule(t,0,r),o=H8(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Aue(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],h2[16]={n:"BrtFRTArchID$",f:Cue},jd(t,function(l,c,u){switch(u){case 156:a.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=vo(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([u,l]):a[0]=[u,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},e),EO(r),r.Names=s,r.supbooks=a,r}function Nue(t,e){Ct(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Ct(t,156,kue(i))}Ct(t,144)}function Iue(t,e){e||(e=gt(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Sa("SheetJS",e),Sa(Hy.version,e),Sa(Hy.version,e),Sa("7262",e),e.length>e.l?e.slice(0,e.l):e}function Pue(t,e){e||(e=gt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function Rue(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(Ct(t,135),Ct(t,158,Pue(i)),Ct(t,136))}}function Lue(t,e){var r=nl();return Ct(r,131),Ct(r,128,Iue()),Ct(r,153,Eue(t.Workbook&&t.Workbook.WBProps||null)),Rue(r,t),Nue(r,t),Ct(r,132),r.end()}function Fue(t,e,r){return e.slice(-4)===".bin"?Aue(t,r):_ue(t,r)}function jue(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?Yce(t,n,r,i,s,a,o):Tle(t,n,r,i,s,a,o)}function Due(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?fue(t,n,r,i,s):uue(t,n,r,i,s)}function Oue(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?Bae():Vae()}function Mue(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?Oae():Mae()}function Bue(t,e,r,n){return e.slice(-4)===".bin"?Fse(t,r,n):bse(t,r,n)}function Vue(t,e,r){return oO(t,r)}function Uue(t,e,r){return e.slice(-4)===".bin"?Uie(t,r):Mie(t,r)}function zue(t,e,r){return e.slice(-4)===".bin"?Rae(t,r):kae(t,r)}function $ue(t,e,r){return e.slice(-4)===".bin"?wae(t):vae(t)}function que(t,e,r,n){return r.slice(-4)===".bin"?_ae(t,e,r,n):void 0}function Hue(t,e,r){return e.slice(-4)===".bin"?mae(t,e,r):xae(t,e,r)}function Wue(t,e,r){return(e.slice(-4)===".bin"?Lue:TO)(t)}function Gue(t,e,r,n,i){return(e.slice(-4)===".bin"?oue:bO)(t,r,n,i)}function Kue(t,e,r){return(e.slice(-4)===".bin"?qse:sO)(t,r)}function Xue(t,e,r){return(e.slice(-4)===".bin"?qie:QD)(t,r)}function Yue(t,e,r){return(e.slice(-4)===".bin"?Lae:uO)(t)}function Que(t){return(t.slice(-4)===".bin"?gae:lO)()}var AO=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,NO=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Pc(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(AO),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(NO),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function Jue(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(AO),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(NO),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),r[a]=i[2].slice(1,i[2].length-1));return r}var Ag;function Zue(t,e){var r=Ag[t]||En(t);return r==="General"?T0(e):cc(r,e)}function ede(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=bi(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Ti(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[En(e)]=i}function tde(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Dd[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=i2(t.v):t.w=T0(t.v):t.w=Zue(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=Ag[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&rm(n)){var i=Qh(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function rde(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=pse[n.Pattern]||n.Pattern)}t[e.ID]=e}function nde(t,e,r,n,i,s,a,o,l,c){var u="General",p=n.StyleID,g={};c=c||{};var m=[],y=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&a&&(p=a.StyleID);s[p]!==void 0&&(s[p].nf&&(u=s[p].nf),s[p].Interior&&m.push(s[p].Interior),!!s[p].Parent);)p=s[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=bi(t);break;case"String":n.t="s",n.r=yC(En(t)),n.v=t.indexOf("<")>-1?En(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Ti(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=En(t):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=kD[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=yC(e||t));break}if(tde(n,u,c),c.cellFormula!==!1)if(n.Formula){var w=En(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=o1(w,i),delete n.Formula,n.ArrayRange=="RC"?n.F=o1("RC:RC",i):n.ArrayRange&&(n.F=o1(n.ArrayRange,i),l.push([Cn(n.F),n.F]))}else for(y=0;y<l.length;++y)i.r>=l[y][0].s.r&&i.r<=l[y][0].e.r&&i.c>=l[y][0].s.c&&i.c<=l[y][0].e.c&&(n.F=l[y][1]);c.cellStyles&&(m.forEach(function(_){!g.patternType&&_.patternType&&(g.patternType=_.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function ide(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Yw(t,e){var r=e||{};nm();var n=lg(B8(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=ii(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Ai(r);return a.type="string",D1.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Qe){i.indexOf("<"+Qe)>=0&&(s=!0)}),s)return $de(n,r);Ag={"General Number":"General","General Date":Ir[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ir[15],"Short Date":Ir[14],"Long Time":Ir[19],"Medium Time":Ir[18],"Short Time":Ir[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ir[2],Standard:Ir[4],Percent:Ir[10],Scientific:Ir[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},p=[],g=r.dense?[]:{},m="",y={},w={},_=Pc('<Data ss:Type="String">'),E=0,L=0,I=0,V={s:{r:2e6,c:2e6},e:{r:0,c:0}},G={},X={},R="",A=0,C=[],D={},N={},j=0,B=[],te=[],he={},_e=[],fe,ie=!1,W=[],ue=[],Y={},P=0,q=0,K={Sheets:[],WBProps:{date1904:!1}},J={};o2.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";o=o2.exec(n);)switch(o[3]=(ce=o[3]).toLowerCase()){case"data":if(ce=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?nde(n.slice(E,o.index),R,_,l[l.length-1][0]=="comment"?he:y,{c:L,r:I},G,_e[L],w,W,r):(R="",_=Pc(o[0]),E=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(te.length>0&&(y.c=te),(!r.sheetRows||r.sheetRows>I)&&y.v!==void 0&&(r.dense?(g[I]||(g[I]=[]),g[I][L]=y):g[Yi(L)+Is(I)]=y),y.HRef&&(y.l={Target:En(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(P=L+(parseInt(y.MergeAcross,10)|0),q=I+(parseInt(y.MergeDown,10)|0),C.push({s:{c:L,r:I},e:{c:P,r:q}})),!r.sheetStubs)y.MergeAcross?L=P+1:++L;else if(y.MergeAcross||y.MergeDown){for(var ye=L;ye<=P;++ye)for(var ke=I;ke<=q;++ke)(ye>L||ke>I)&&(r.dense?(g[ke]||(g[ke]=[]),g[ke][ye]={t:"z"}):g[Yi(ye)+Is(ke)]={t:"z"});L=P+1}else++L;else y=Jue(o[0]),y.Index&&(L=+y.Index-1),L<V.s.c&&(V.s.c=L),L>V.e.c&&(V.e.c=L),o[0].slice(-2)==="/>"&&++L,te=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(I<V.s.r&&(V.s.r=I),I>V.e.r&&(V.e.r=I),o[0].slice(-2)==="/>"&&(w=Pc(o[0]),w.Index&&(I=+w.Index-1)),L=0,++I):(w=Pc(o[0]),w.Index&&(I=+w.Index-1),Y={},(w.AutoFitHeight=="0"||w.Height)&&(Y.hpx=parseInt(w.Height,10),Y.hpt=f2(Y.hpx),ue[I]=Y),w.Hidden=="1"&&(Y.hidden=!0,ue[I]=Y));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));p.push(m),V.s.r<=V.e.r&&V.s.c<=V.e.c&&(g["!ref"]=Wr(V),r.sheetRows&&r.sheetRows<=V.e.r&&(g["!fullref"]=g["!ref"],V.e.r=r.sheetRows-1,g["!ref"]=Wr(V))),C.length&&(g["!merges"]=C),_e.length>0&&(g["!cols"]=_e),ue.length>0&&(g["!rows"]=ue),u[m]=g}else V={s:{r:2e6,c:2e6},e:{r:0,c:0}},I=L=0,l.push([o[3],!1]),c=Pc(o[0]),m=En(c.Name),g=r.dense?[]:{},C=[],W=[],ue=[],J={name:m,Hidden:0},K.Sheets.push(J);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),_e=[],ie=!1}break;case"style":o[1]==="/"?rde(G,X,r):X=Pc(o[0]);break;case"numberformat":X.nf=En(Pc(o[0]).Format||"General"),Ag[X.nf]&&(X.nf=Ag[X.nf]);for(var ae=0;ae!=392&&Ir[ae]!=X.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(Ir[ae]==null){gd(X.nf,ae);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(fe=Pc(o[0]),fe.Hidden&&(fe.hidden=!0,delete fe.Hidden),fe.Width&&(fe.wpx=parseInt(fe.Width,10)),!ie&&fe.wpx>10){ie=!0,yo=nO;for(var be=0;be<_e.length;++be)_e[be]&&Kf(_e[be])}ie&&Kf(fe),_e[fe.Index-1||_e.length]=fe;for(var De=0;De<+fe.Span;++De)_e[_e.length]=Ai(fe);break;case"namedrange":if(o[1]==="/")break;K.Names||(K.Names=[]);var se=jr(o[0]),Pe={Name:se.Name,Ref:o1(se.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Pe.Sheet=K.Sheets.length-1),K.Names.push(Pe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?R+=n.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;X.Interior=Pc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Are(D,ce,n.slice(j,o.index)):j=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));ide(he),te.push(he)}else l.push([o[3],!1]),c=Pc(o[0]),he={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Re=Pc(o[0]);g["!autofilter"]={ref:o1(Re.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return oT(n,r);var me=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:me=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:me=!1}break;case"excelworkbook":switch(o[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:me=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:me=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(j,o.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else j=o.index+o[0].length;break;case"header":g["!margins"]||c0(g["!margins"]={},"xlml"),isNaN(+jr(o[0]).Margin)||(g["!margins"].header=+jr(o[0]).Margin);break;case"footer":g["!margins"]||c0(g["!margins"]={},"xlml"),isNaN(+jr(o[0]).Margin)||(g["!margins"].footer=+jr(o[0]).Margin);break;case"pagemargins":var Oe=jr(o[0]);g["!margins"]||c0(g["!margins"]={},"xlml"),isNaN(+Oe.Top)||(g["!margins"].top=+Oe.Top),isNaN(+Oe.Left)||(g["!margins"].left=+Oe.Left),isNaN(+Oe.Right)||(g["!margins"].right=+Oe.Right),isNaN(+Oe.Bottom)||(g["!margins"].bottom=+Oe.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:me=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:me=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:me=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:me=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:me=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:me=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:me=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:me=!1}break;case"smarttags":break;default:me=!1;break}if(me||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?ede(N,ce,B,n.slice(j,o.index)):(B=o,j=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Me={};return!r.bookSheets&&!r.bookProps&&(Me.Sheets=u),Me.SheetNames=p,Me.Workbook=K,Me.SSF=Ai(Ir),Me.Props=D,Me.Custprops=N,Me}function Y_(t,e){switch(ck(e=e||{}),e.type||"base64"){case"base64":return Yw(Rl(t),e);case"binary":case"buffer":case"file":return Yw(t,e);case"array":return Yw(uh(t),e)}}function sde(t,e){var r=[];return t.Props&&r.push(Nre(t.Props,e)),t.Custprops&&r.push(Ire(t.Props,t.Custprops)),r.join("")}function ade(){return""}function ode(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(zt("NumberFormat",null,{"ss:Format":Qn(Ir[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(zt("Style",s.join(""),a))}),zt("Styles",r.join(""))}function IO(t){return zt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+nk(t.Ref,{r:0,c:0})})}function lde(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(IO(i)))}return zt("Names",r.join(""))}function cde(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(IO(o)))}return s.join("")}function ude(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(zt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(zt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(zt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(zt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(qa("ProtectContents","True")),t["!protect"].objects&&i.push(qa("ProtectObjects","True")),t["!protect"].scenarios&&i.push(qa("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(qa("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(qa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":zt("WorksheetOptions",i.join(""),{xmlns:bl.x})}function dde(t){return t.map(function(e){var r=Rte(e.t||""),n=zt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return zt("Comment",n,{"ss:Author":e.a})}).join("")}function fde(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Qn(nk(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Qi(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Qn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Qn(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=a.c||c[u].s.r!=a.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var p="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(t.v);break;case"b":p="Boolean",g=t.v?"1":"0";break;case"e":p="Error",g=Dd[t.v];break;case"d":p="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ir[14]);break;case"s":p="String",g=Pte(t.v||"");break}var m=fh(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var y=t.v!=null?g:"",w=t.t=="z"?"":'<Data ss:Type="'+p+'">'+y+"</Data>";return(t.c||[]).length>0&&(w+=dde(t.c)),zt("Cell",w,o)}function hde(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=O1(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function pde(t,e,r,n){if(!t["!ref"])return"";var i=Cn(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(_,E){Kf(_);var L=!!_.width,I=l4(E,_),V={"ss:Index":E+1};L&&(V["ss:Width"]=u2(I.width)),_.hidden&&(V["ss:Hidden"]="1"),o.push(zt("Column",null,V))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var u=[hde(c,(t["!rows"]||[])[c])],p=i.s.c;p<=i.e.c;++p){var g=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>p)&&!(s[a].s.r>c)&&!(s[a].e.c<p)&&!(s[a].e.r<c)){(s[a].s.c!=p||s[a].s.r!=c)&&(g=!0);break}if(!g){var m={r:c,c:p},y=Lr(m),w=l?(t[c]||[])[p]:t[y];u.push(fde(w,y,t,e,r,n,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function mde(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?cde(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?pde(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(ude(s,e,t,r)),n.join("")}function gde(t,e){e||(e={}),t.SSF||(t.SSF=Ai(Ir)),t.SSF&&(nm(),t4(t.SSF),e.revssf=n4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],fh(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(sde(t,e)),r.push(ade()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(zt("Worksheet",mde(n,e,t),{"ss:Name":Qn(t.SheetNames[n])}));return r[2]=ode(t,e),r[3]=lde(t),Rs+zt("Workbook",r.join(""),{xmlns:bl.ss,"xmlns:o":bl.o,"xmlns:x":bl.x,"xmlns:ss":bl.ss,"xmlns:dt":bl.dt,"xmlns:html":bl.html})}function xde(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=lre(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=cre(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var vde=[60,1084,2066,2165,2175];function yde(t,e,r,n,i){var s=n,a=[],o=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),r.l+=s;for(var l=ud(r,r.l),c=Q_[l],u=0;c!=null&&vde.indexOf(l)>-1;)s=ud(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+s),a.push(o),r.l+=4+s,c=Q_[l=ud(r,r.l)];var p=ka(a);za(p,0);var g=0;p.lens=[];for(var m=0;m<a.length;++m)p.lens.push(g),g+=a[m].length;if(p.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+p.length+" < "+n;return e.f(p,p.length,i)}function lu(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Ir[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Dd[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=i2(t.v):t.w=T0(t.v):t.w=cc(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&rm(Ir[n]||String(n))){var i=Qh(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function yv(t,e,r){return{v:t,ixfe:e,t:r}}function wde(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",u={},p,g="",m,y,w,_,E={},L=[],I,V,G=[],X=[],R={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},C=function(vt){return vt<8?a0[vt]:vt<64&&X[vt-8]||a0[vt]},D=function(vt,St,Xt){var Yt=St.XF.data;if(!(!Yt||!Yt.patternType||!Xt||!Xt.cellStyles)){St.s={},St.s.patternType=Yt.patternType;var Ut;(Ut=c2(C(Yt.icvFore)))&&(St.s.fgColor={rgb:Ut}),(Ut=c2(C(Yt.icvBack)))&&(St.s.bgColor={rgb:Ut})}},N=function(vt,St,Xt){if(!(Y>1)&&!(Xt.sheetRows&&vt.r>=Xt.sheetRows)){if(Xt.cellStyles&&St.XF&&St.XF.data&&D(vt,St,Xt),delete St.ixfe,delete St.XF,p=vt,g=Lr(vt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),vt.r<a.s.r&&(a.s.r=vt.r),vt.c<a.s.c&&(a.s.c=vt.c),vt.r+1>a.e.r&&(a.e.r=vt.r+1),vt.c+1>a.e.c&&(a.e.c=vt.c+1),Xt.cellFormula&&St.f){for(var Yt=0;Yt<L.length;++Yt)if(!(L[Yt][0].s.c>vt.c||L[Yt][0].s.r>vt.r)&&!(L[Yt][0].e.c<vt.c||L[Yt][0].e.r<vt.r)){St.F=Wr(L[Yt][0]),(L[Yt][0].s.c!=vt.c||L[Yt][0].s.r!=vt.r)&&delete St.f,St.f&&(St.f=""+vo(L[Yt][1],a,vt,W,j));break}}Xt.dense?(i[vt.r]||(i[vt.r]=[]),i[vt.r][vt.c]=St):i[g]=St}},j={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:L,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(j.password=e.password);var B,te=[],he=[],_e=[],fe=[],ie=!1,W=[];W.SheetNames=j.snames,W.sharedf=j.sharedf,W.arrayf=j.arrayf,W.names=[],W.XTI=[];var ue=0,Y=0,P=0,q=[],K=[],J;j.codepage=1200,jc(1200);for(var ce=!1;t.l<t.length-1;){var ye=t.l,ke=t.read_shift(2);if(ke===0&&ue===10)break;var ae=t.l===t.length?0:t.read_shift(2),be=Q_[ke];if(be&&be.f){if(e.bookSheets&&ue===133&&ke!==133)break;if(ue=ke,be.r===2||be.r==12){var De=t.read_shift(2);if(ae-=2,!j.enc&&De!==ke&&((De&255)<<8|De>>8)!==ke)throw new Error("rt mismatch: "+De+"!="+ke);be.r==12&&(t.l+=10,ae-=10)}var se={};if(ke===10?se=be.f(t,ae,j):se=yde(ke,be,t,ae,j),Y==0&&[9,521,1033,2057].indexOf(ue)===-1)continue;switch(ke){case 34:r.opts.Date1904=R.WBProps.date1904=se;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(j.enc||(t.l=0),j.enc=se,!e.password)throw new Error("File is password-protected");if(se.valid==null)throw new Error("Encryption scheme unsupported");if(!se.valid)throw new Error("Password is incorrect");break;case 92:j.lastuser=se;break;case 66:var Pe=Number(se);switch(Pe){case 21010:Pe=1200;break;case 32768:Pe=1e4;break;case 32769:Pe=1252;break}jc(j.codepage=Pe),ce=!0;break;case 317:j.rrtabid=se;break;case 25:j.winlocked=se;break;case 439:r.opts.RefreshAll=se;break;case 12:r.opts.CalcCount=se;break;case 16:r.opts.CalcDelta=se;break;case 17:r.opts.CalcIter=se;break;case 13:r.opts.CalcMode=se;break;case 14:r.opts.CalcPrecision=se;break;case 95:r.opts.CalcSaveRecalc=se;break;case 15:j.CalcRefMode=se;break;case 2211:r.opts.FullCalc=se;break;case 129:se.fDialog&&(i["!type"]="dialog"),se.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),se.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:G.push(se);break;case 430:W.push([se]),W[W.length-1].XTI=[];break;case 35:case 547:W[W.length-1].push(se);break;case 24:case 536:J={Name:se.Name,Ref:vo(se.rgce,a,null,W,j)},se.itab>0&&(J.Sheet=se.itab-1),W.names.push(J),W[0]||(W[0]=[],W[0].XTI=[]),W[W.length-1].push(se),se.Name=="_xlnm._FilterDatabase"&&se.itab>0&&se.rgce&&se.rgce[0]&&se.rgce[0][0]&&se.rgce[0][0][0]=="PtgArea3d"&&(K[se.itab-1]={ref:Wr(se.rgce[0][0][1][2])});break;case 22:j.ExternCount=se;break;case 23:W.length==0&&(W[0]=[],W[0].XTI=[]),W[W.length-1].XTI=W[W.length-1].XTI.concat(se),W.XTI=W.XTI.concat(se);break;case 2196:if(j.biff<8)break;J!=null&&(J.Comment=se[1]);break;case 18:i["!protect"]=se;break;case 19:se!==0&&j.WTF&&console.error("Password verifier: "+se);break;case 133:s[se.pos]=se,j.snames.push(se.name);break;case 10:{if(--Y)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=Wr(a),e.sheetRows&&e.sheetRows<=a.e.r){var Re=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Wr(a),a.e.r=Re}a.e.r++,a.e.c++}te.length>0&&(i["!merges"]=te),he.length>0&&(i["!objects"]=he),_e.length>0&&(i["!cols"]=_e),fe.length>0&&(i["!rows"]=fe),R.Sheets.push(A)}c===""?u=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(j.biff===8&&(j.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[se.BIFFVer]||8),j.biffguess=se.BIFFVer==0,se.BIFFVer==0&&se.dt==4096&&(j.biff=5,ce=!0,jc(j.codepage=28591)),j.biff==8&&se.BIFFVer==0&&se.dt==16&&(j.biff=2),Y++)break;if(i=e.dense?[]:{},j.biff<8&&!ce&&(ce=!0,jc(j.codepage=e.codepage||1252)),j.biff<5||se.BIFFVer==0&&se.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var me={pos:t.l-ae,name:c};s[me.pos]=me,j.snames.push(c)}else c=(s[ye]||{name:""}).name;se.dt==32&&(i["!type"]="chart"),se.dt==64&&(i["!type"]="macro"),te=[],he=[],j.arrayf=L=[],_e=[],fe=[],ie=!1,A={Hidden:(s[ye]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[se.r]||[])[se.c]:i[Lr({c:se.c,r:se.r})])&&++se.c,I={ixfe:se.ixfe,XF:G[se.ixfe]||{},v:se.val,t:"n"},P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N({c:se.c,r:se.r},I,e);break;case 5:case 517:I={ixfe:se.ixfe,XF:G[se.ixfe],v:se.val,t:se.t},P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N({c:se.c,r:se.r},I,e);break;case 638:I={ixfe:se.ixfe,XF:G[se.ixfe],v:se.rknum,t:"n"},P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N({c:se.c,r:se.r},I,e);break;case 189:for(var Oe=se.c;Oe<=se.C;++Oe){var Me=se.rkrec[Oe-se.c][0];I={ixfe:Me,XF:G[Me],v:se.rkrec[Oe-se.c][1],t:"n"},P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N({c:Oe,r:se.r},I,e)}break;case 6:case 518:case 1030:{if(se.val=="String"){o=se;break}if(I=yv(se.val,se.cell.ixfe,se.tt),I.XF=G[I.ixfe],e.cellFormula){var Qe=se.formula;if(Qe&&Qe[0]&&Qe[0][0]&&Qe[0][0][0]=="PtgExp"){var re=Qe[0][0][1][0],je=Qe[0][0][1][1],st=Lr({r:re,c:je});E[st]?I.f=""+vo(se.formula,a,se.cell,W,j):I.F=((e.dense?(i[re]||[])[je]:i[st])||{}).F}else I.f=""+vo(se.formula,a,se.cell,W,j)}P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N(se.cell,I,e),o=se}break;case 7:case 519:if(o)o.val=se,I=yv(se,o.cell.ixfe,"s"),I.XF=G[I.ixfe],e.cellFormula&&(I.f=""+vo(o.formula,a,o.cell,W,j)),P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N(o.cell,I,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{L.push(se);var At=Lr(se[0].s);if(m=e.dense?(i[se[0].s.r]||[])[se[0].s.c]:i[At],e.cellFormula&&m){if(!o||!At||!m)break;m.f=""+vo(se[1],a,se[0],W,j),m.F=Wr(se[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;E[Lr(o.cell)]=se[0],m=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Lr(o.cell)],(m||{}).f=""+vo(se[0],a,p,W,j)}}break;case 253:I=yv(l[se.isst].t,se.ixfe,"s"),l[se.isst].h&&(I.h=l[se.isst].h),I.XF=G[I.ixfe],P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N({c:se.c,r:se.r},I,e);break;case 513:e.sheetStubs&&(I={ixfe:se.ixfe,XF:G[se.ixfe],t:"z"},P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N({c:se.c,r:se.r},I,e));break;case 190:if(e.sheetStubs)for(var It=se.c;It<=se.C;++It){var Le=se.ixfe[It-se.c];I={ixfe:Le,XF:G[Le],t:"z"},P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N({c:It,r:se.r},I,e)}break;case 214:case 516:case 4:I=yv(se.val,se.ixfe,"s"),I.XF=G[I.ixfe],P>0&&(I.z=q[I.ixfe>>8&63]),lu(I,e,r.opts.Date1904),N({c:se.c,r:se.r},I,e);break;case 0:case 512:Y===1&&(a=se);break;case 252:l=se;break;case 1054:if(j.biff==4){q[P++]=se[1];for(var qe=0;qe<P+163&&Ir[qe]!=se[1];++qe);qe>=163&&gd(se[1],P+163)}else gd(se[1],se[0]);break;case 30:{q[P++]=se;for(var We=0;We<P+163&&Ir[We]!=se;++We);We>=163&&gd(se,P+163)}break;case 229:te=te.concat(se);break;case 93:he[se.cmo[0]]=j.lastobj=se;break;case 438:j.lastobj.TxO=se;break;case 127:j.lastobj.ImData=se;break;case 440:for(_=se[0].s.r;_<=se[0].e.r;++_)for(w=se[0].s.c;w<=se[0].e.c;++w)m=e.dense?(i[_]||[])[w]:i[Lr({c:w,r:_})],m&&(m.l=se[1]);break;case 2048:for(_=se[0].s.r;_<=se[0].e.r;++_)for(w=se[0].s.c;w<=se[0].e.c;++w)m=e.dense?(i[_]||[])[w]:i[Lr({c:w,r:_})],m&&m.l&&(m.l.Tooltip=se[1]);break;case 28:{if(j.biff<=5&&j.biff>=2)break;m=e.dense?(i[se[0].r]||[])[se[0].c]:i[Lr(se[0])];var dt=he[se[2]];m||(e.dense?(i[se[0].r]||(i[se[0].r]=[]),m=i[se[0].r][se[0].c]={t:"z"}):m=i[Lr(se[0])]={t:"z"},a.e.r=Math.max(a.e.r,se[0].r),a.s.r=Math.min(a.s.r,se[0].r),a.e.c=Math.max(a.e.c,se[0].c),a.s.c=Math.min(a.s.c,se[0].c)),m.c||(m.c=[]),y={a:se[1],t:dt.TxO.t},m.c.push(y)}break;case 2173:oae(G[se.ixfe],se.ext);break;case 125:{if(!j.cellStyles)break;for(;se.e>=se.s;)_e[se.e--]={width:se.w/256,level:se.level||0,hidden:!!(se.flags&1)},ie||(ie=!0,ek(se.w/256)),Kf(_e[se.e+1])}break;case 520:{var bt={};se.level!=null&&(fe[se.r]=bt,bt.level=se.level),se.hidden&&(fe[se.r]=bt,bt.hidden=!0),se.hpt&&(fe[se.r]=bt,bt.hpt=se.hpt,bt.hpx=O1(se.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||c0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=se;break;case 161:i["!margins"]||c0(i["!margins"]={}),i["!margins"].header=se.header,i["!margins"].footer=se.footer;break;case 574:se.RTL&&(R.Views[0].RTL=!0);break;case 146:X=se;break;case 2198:B=se;break;case 140:V=se;break;case 442:c?A.CodeName=se||A.name:R.WBProps.CodeName=se||"ThisWorkbook";break}}else be||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),t.l+=ae}return r.SheetNames=hs(s).sort(function(_t,vt){return Number(_t)-Number(vt)}).map(function(_t){return s[_t].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&K.forEach(function(_t,vt){r.Sheets[r.SheetNames[vt]]["!autofilter"]=_t}),r.Strings=l,r.SSF=Ai(Ir),j.enc&&(r.Encryption=j.enc),B&&(r.Themes=B),r.Metadata={},V!==void 0&&(r.Metadata.Country=V),W.names.length>0&&(R.Names=W.names),r.Workbook=R,r}var Ng={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function _de(t,e,r){var n=br.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=OC(n,q_,Ng.DSI);for(var s in i)e[s]=i[s]}catch(c){if(r.WTF)throw c}var a=br.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=OC(a,H_,Ng.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(ND(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function bde(t,e){var r=[],n=[],i=[],s=0,a,o=hC(q_,"n"),l=hC(H_,"n");if(t.Props)for(a=hs(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=hs(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)DD.indexOf(i[s][0])>-1||AD.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);n.length&&br.utils.cfb_add(e,"/SummaryInformation",MC(n,Ng.SI,l,H_)),(r.length||c.length)&&br.utils.cfb_add(e,"/DocumentSummaryInformation",MC(r,Ng.DSI,o,q_,c.length?c:null,Ng.UDI))}function PO(t,e){e||(e={}),ck(e),I8(),e.codepage&&N8(e.codepage);var r,n;if(t.FullPaths){if(br.find(t,"/encryption"))throw new Error("File is password-protected");r=br.find(t,"!CompObj"),n=br.find(t,"/Workbook")||br.find(t,"/Book")}else{switch(e.type){case"base64":t=Sl(Rl(t));break;case"binary":t=Sl(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}za(t,0),n={content:t}}var i,s;if(r&&xde(r),e.bookProps&&!e.bookSheets)i={};else{var a=en?"buffer":"array";if(n&&n.content)i=wde(n.content,e);else if((s=br.find(t,"PerfectOffice_MAIN"))&&s.content)i=l0.to_workbook(s.content,(e.type=a,e));else if((s=br.find(t,"NativeContent_MAIN"))&&s.content)i=l0.to_workbook(s.content,(e.type=a,e));else throw(s=br.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&br.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=jae(t))}var o={};return t.FullPaths&&_de(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function kde(t,e){var r=e||{},n=br.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return br.utils.cfb_add(n,i,RO(t,r)),r.biff==8&&(t.Props||t.Custprops)&&bde(t,n),r.biff==8&&t.vbaraw&&Dae(n,br.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var h2={0:{f:Gle},1:{f:tce},2:{f:wce},3:{f:cce},4:{f:sce},5:{f:xce},6:{f:Ece},7:{f:hce},8:{f:Rce},9:{f:Pce},10:{f:Nce},11:{f:Ice},12:{f:nce},13:{f:bce},14:{f:dce},15:{f:oce},16:{f:kO},17:{f:Tce},18:{f:mce},19:{f:q8},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Tue},40:{},42:{},43:{f:Ese},44:{f:kse},45:{f:Ase},46:{f:Ise},47:{f:Nse},48:{},49:{f:Yte},50:{},51:{f:uae},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GD},62:{f:Sce},63:{f:yae},64:{f:Kce},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Co,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:qce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Zle},148:{f:Yle,p:16},151:{f:Mce},152:{},153:{f:Sue},154:{},155:{},156:{f:bue},157:{},158:{},159:{T:1,f:Vie},160:{T:-1},161:{T:1,f:Y0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Lce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:lae},336:{T:-1},337:{f:hae,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:WD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Bce},427:{f:Vce},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:zce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Jle},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Dce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Iae},633:{T:1},634:{T:-1},635:{T:1,f:Aae},636:{T:-1},637:{f:ere},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:due},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Xce},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Q_={6:{f:Kw},10:{f:mf},12:{f:zs},13:{f:zs},14:{f:_s},15:{f:_s},16:{f:_o},17:{f:_s},18:{f:_s},19:{f:zs},20:{f:qC},21:{f:qC},23:{f:WD},24:{f:WC},25:{f:_s},26:{},27:{},28:{f:Xne},29:{},34:{f:_s},35:{f:HC},38:{f:_o},39:{f:_o},40:{f:_o},41:{f:_o},42:{f:_s},43:{f:_s},47:{f:ose},49:{f:bne},51:{f:zs},60:{},61:{f:xne},64:{f:_s},65:{f:_ne},66:{f:zs},77:{},80:{},81:{},82:{},85:{f:zs},89:{},90:{},91:{},92:{f:ane},93:{f:Jne},94:{},95:{f:_s},96:{},97:{},99:{f:_s},125:{f:GD},128:{f:One},129:{f:lne},130:{f:zs},131:{f:_s},132:{f:_s},133:{f:cne},134:{},140:{f:aie},141:{f:zs},144:{},146:{f:cie},151:{},152:{},153:{},154:{},155:{},156:{f:zs},157:{},158:{},160:{f:gie},161:{f:fie},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Lne},190:{f:Fne},193:{f:mf},197:{},198:{},199:{},200:{},201:{},202:{f:_s},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:zs},220:{},221:{f:_s},222:{},224:{f:Dne},225:{f:sne},226:{f:mf},227:{},229:{f:Yne},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:dne},253:{f:Sne},255:{f:hne},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:OD},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:_s},353:{f:mf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:zne},431:{f:_s},432:{},433:{},434:{},437:{},438:{f:tie},439:{f:_s},440:{f:rie},441:{},442:{f:ex},443:{},444:{f:zs},445:{},446:{},448:{f:mf},449:{f:gne,r:2},450:{f:mf},512:{f:UC},513:{f:mie},515:{f:Vne},516:{f:Cne},517:{f:$C},519:{f:xie},520:{f:pne},523:{},545:{f:GC},549:{f:VC},566:{},574:{f:yne},638:{f:Rne},659:{},1048:{},1054:{f:Ane},1084:{},1212:{f:Wne},2048:{f:iie},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:gv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:mf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:uie,r:12},2173:{f:aae,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:_s,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Hne,r:12},2197:{},2198:{f:eae,r:12},2199:{},2200:{},2201:{},2202:{f:Gne,r:12},2203:{f:mf},2204:{},2205:{},2206:{},2207:{},2211:{f:mne},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:zs},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:hie},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:lie},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:UC},1:{},2:{f:bie},3:{f:wie},4:{f:yie},5:{f:$C},7:{f:Sie},8:{},9:{f:gv},11:{},22:{f:zs},30:{f:Ine},31:{},32:{},33:{f:GC},36:{},37:{f:VC},50:{f:Eie},62:{},52:{},67:{},68:{f:zs},69:{},86:{},126:{},127:{f:vie},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Cie},223:{},234:{},354:{},421:{},518:{f:Kw},521:{f:gv},536:{f:WC},547:{f:HC},561:{},579:{},1030:{f:Kw},1033:{f:gv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $t(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&U8(r)&&t.push(r)}}function Sde(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return $t(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var u=t.next(4);for(u.write_shift(2,s),u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(u=t.next(4),u.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;u.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function ix(t,e,r){return t||(t=gt(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Ede(t,e,r,n){var i=gt(9);return ix(i,t,e),MD(r,n||"b",i),i}function Cde(t,e,r){var n=gt(8+2*r.length);return ix(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Tde(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?oa(Ti(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?$t(t,2,kie(r,n,i)):$t(t,3,_ie(r,n,i));return;case"b":case"e":$t(t,5,Ede(r,n,e.v,e.t));return;case"s":case"str":$t(t,4,Cde(r,n,(e.v||"").slice(0,255)));return}$t(t,1,ix(null,r,n))}function Ade(t,e,r,n){var i=Array.isArray(e),s=Cn(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Wr(s)}for(var c=s.s.r;c<=s.e.r;++c){o=Is(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=Yi(u)),a=l[u]+o;var p=i?(e[c]||[])[u]:e[a];p&&Tde(t,p,c,u)}}}function Nde(t,e){for(var r=e||{},n=nl(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return $t(n,r.biff==4?1033:r.biff==3?521:9,Q8(t,16,r)),Ade(n,t.Sheets[t.SheetNames[i]],i,r),$t(n,10),n.end()}function Ide(t,e,r){$t(t,49,kne({sz:12,name:"Arial"},r))}function Pde(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&$t(t,1054,Nne(i,e[i],r))})}function Rde(t,e){var r=gt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),$t(t,2151,r),r=gt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),$D(Cn(e["!ref"]||"A1"),r),r.write_shift(4,4),$t(t,2152,r)}function Lde(t,e){for(var r=0;r<16;++r)$t(t,224,zC({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){$t(t,224,zC(n,0,e))})}function Fde(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];$t(t,440,nie(n)),n[1].Tooltip&&$t(t,2048,sie(n))}delete e["!links"]}function jde(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&$t(t,125,die(l4(i,n),i))})}}function Dde(t,e,r,n,i){var s=16+fh(i.cellXfs,e,i);if(e.v==null&&!e.bf){$t(t,513,P0(r,n,s));return}if(e.bf)$t(t,6,lle(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?oa(Ti(e.v)):e.v;$t(t,515,Une(r,n,a,s));break;case"b":case"e":$t(t,517,Bne(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=sk(i.Strings,e.v,i.revStrings);$t(t,253,Ene(r,n,o,s))}else $t(t,516,Tne(r,n,(e.v||"").slice(0,255),s,i));break;default:$t(t,513,P0(r,n,s))}}function Ode(t,e,r){var n=nl(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,u,p="",g=[],m=Cn(s["!ref"]||"A1"),y=c?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}$t(n,2057,Q8(r,16,e)),$t(n,13,nc(1)),$t(n,12,nc(100)),$t(n,15,Do(!0)),$t(n,17,Do(!1)),$t(n,16,N0(.001)),$t(n,95,Do(!0)),$t(n,42,Do(!1)),$t(n,43,Do(!1)),$t(n,130,nc(1)),$t(n,128,Mne()),$t(n,131,Do(!1)),$t(n,132,Do(!1)),c&&jde(n,s["!cols"]),$t(n,512,Pne(m,e)),c&&(s["!links"]=[]);for(var w=m.s.r;w<=m.e.r;++w){p=Is(w);for(var _=m.s.c;_<=m.e.c;++_){w===m.s.r&&(g[_]=Yi(_)),u=g[_]+p;var E=l?(s[w]||[])[_]:s[u];E&&(Dde(n,E,w,_,e),c&&E.l&&s["!links"].push([u,E.l]))}}var L=o.CodeName||o.name||i;return c&&$t(n,574,wne((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&$t(n,229,Qne(s["!merges"])),c&&Fde(n,s),$t(n,442,BD(L)),c&&Rde(n,s),$t(n,10),n.end()}function Mde(t,e,r){var n=nl(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if($t(n,2057,Q8(t,5,r)),r.bookType=="xla"&&$t(n,135),$t(n,225,o?nc(1200):null),$t(n,193,Bre(2)),l&&$t(n,191),l&&$t(n,192),$t(n,226),$t(n,92,one("SheetJS",r)),$t(n,66,nc(o?1200:1252)),o&&$t(n,353,nc(0)),o&&$t(n,448),$t(n,317,pie(t.SheetNames.length)),o&&t.vbaraw&&$t(n,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";$t(n,442,BD(c))}$t(n,156,nc(17)),$t(n,25,Do(!1)),$t(n,18,Do(!1)),$t(n,19,nc(0)),o&&$t(n,431,Do(!1)),o&&$t(n,444,nc(0)),$t(n,61,vne()),$t(n,64,Do(!1)),$t(n,141,nc(0)),$t(n,34,Do(gue(t)=="true")),$t(n,14,Do(!0)),o&&$t(n,439,Do(!1)),$t(n,218,nc(0)),Ide(n,t,r),Pde(n,t.SSF,r),Lde(n,r),o&&$t(n,352,Do(!1));var u=n.end(),p=nl();o&&$t(p,140,oie()),o&&r.Strings&&Sde(p,252,fne(r.Strings)),$t(p,10);var g=p.end(),m=nl(),y=0,w=0;for(w=0;w<t.SheetNames.length;++w)y+=(o?12:11)+(o?2:1)*t.SheetNames[w].length;var _=u.length+y+g.length;for(w=0;w<t.SheetNames.length;++w){var E=s[w]||{};$t(m,133,une({pos:_,hs:E.Hidden||0,dt:0,name:t.SheetNames[w]},r)),_+=e[w].length}var L=m.end();if(y!=L.length)throw new Error("BS8 "+y+" != "+L.length);var I=[];return u.length&&I.push(u),L.length&&I.push(L),g.length&&I.push(g),ka(I)}function Bde(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Ai(Ir)),t&&t.SSF&&(nm(),t4(t.SSF),r.revssf=n4(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,uk(r),r.cellXfs=[],fh(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=Ode(i,r,t);return n.unshift(Mde(t,n,r)),ka(n)}function RO(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=il(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Bde(t,e);case 4:case 3:case 2:return Nde(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function nT(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=kte(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,p=0,g=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(a=0;a<l.length;++a){var w=l[a].trim(),_=w.slice(0,3).toLowerCase();if(_=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(_!="<td"&&_!="<th")){var E=w.split(/<\/t[dh]>/i);for(o=0;o<E.length;++o){var L=E[o].trim();if(L.match(/<t[dh]/i)){for(var I=L,V=0;I.charAt(0)=="<"&&(V=I.indexOf(">"))>-1;)I=I.slice(V+1);for(var G=0;G<y.length;++G){var X=y[G];X.s.c==u&&X.s.r<c&&c<=X.e.r&&(u=X.e.c+1,G=-1)}var R=jr(L.slice(0,L.indexOf(">")));g=R.colspan?+R.colspan:1,((p=+R.rowspan)>1||g>1)&&y.push({s:{r:c,c:u},e:{r:c+(p||1)-1,c:u+g-1}});var A=R.t||R["data-t"]||"";if(!I.length){u+=g;continue}if(I=rD(I),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!I.length){u+=g;continue}var C={t:"s",v:I};r.raw||!I.trim().length||A=="s"||(I==="TRUE"?C={t:"b",v:!0}:I==="FALSE"?C={t:"b",v:!1}:isNaN(Vc(I))?isNaN(j1(I).getDate())||(C={t:"d",v:Ti(I)},r.cellDates||(C={t:"n",v:oa(C.v)}),C.z=r.dateNF||Ir[14]):C={t:"n",v:Vc(I)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=C):n[Lr({r:c,c:u})]=C,u+=g}}}}return n["!ref"]=Wr(m),y.length&&(n["!merges"]=y),n}function Vde(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=Lr({r,c:a}),p=n.dense?(t[r]||[])[a]:t[u],g=p&&p.v!=null&&(p.h||M8(p.w||(Sd(p),p.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),m.id=(n.id||"sjs")+"-"+u,s.push(zt("td",g,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var Ude='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zde="</body></html>";function $de(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return dh(nT(r[0],e),e);var n=hk();return r.forEach(function(i,s){pk(n,nT(i,e),"Sheet"+(s+1))}),n}function qde(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function LO(t,e){var r=e||{},n=r.header!=null?r.header:Ude,i=r.footer!=null?r.footer:zde,s=[n],a=il(t["!ref"]);r.dense=Array.isArray(t),s.push(qde(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(Vde(t,a,o,r));return s.push("</table>"+i),s.join("")}function FO(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Qi(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var u=il(t["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var p=[],g=0,m=t["!rows"]||(t["!rows"]=[]),y=0,w=0,_=0,E=0,L=0,I=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&w<l;++y){var V=o[y];if(iT(V)){if(n.display)continue;m[w]={hidden:!0}}var G=V.children;for(_=E=0;_<G.length;++_){var X=G[_];if(!(n.display&&iT(X))){var R=X.hasAttribute("data-v")?X.getAttribute("data-v"):X.hasAttribute("v")?X.getAttribute("v"):rD(X.innerHTML),A=X.getAttribute("data-z")||X.getAttribute("z");for(g=0;g<p.length;++g){var C=p[g];C.s.c==E+s&&C.s.r<w+i&&w+i<=C.e.r&&(E=C.e.c+1-s,g=-1)}I=+X.getAttribute("colspan")||1,((L=+X.getAttribute("rowspan")||1)>1||I>1)&&p.push({s:{r:w+i,c:E+s},e:{r:w+i+(L||1)-1,c:E+s+(I||1)-1}});var D={t:"s",v:R},N=X.getAttribute("data-t")||X.getAttribute("t")||"";R!=null&&(R.length==0?D.t=N||"z":n.raw||R.trim().length==0||N=="s"||(R==="TRUE"?D={t:"b",v:!0}:R==="FALSE"?D={t:"b",v:!1}:isNaN(Vc(R))?isNaN(j1(R).getDate())||(D={t:"d",v:Ti(R)},n.cellDates||(D={t:"n",v:oa(D.v)}),D.z=n.dateNF||Ir[14]):D={t:"n",v:Vc(R)})),D.z===void 0&&A!=null&&(D.z=A);var j="",B=X.getElementsByTagName("A");if(B&&B.length)for(var te=0;te<B.length&&!(B[te].hasAttribute("href")&&(j=B[te].getAttribute("href"),j.charAt(0)!="#"));++te);j&&j.charAt(0)!="#"&&(D.l={Target:j}),n.dense?(t[w+i]||(t[w+i]=[]),t[w+i][E+s]=D):t[Lr({c:E+s,r:w+i})]=D,c.e.c<E+s&&(c.e.c=E+s),E+=I}}++w}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),c.e.r=Math.max(c.e.r,w-1+i),t["!ref"]=Wr(c),w>=l&&(t["!fullref"]=Wr((c.e.r=o.length-y+w-1+i,c))),t}function jO(t,e){var r=e||{},n=r.dense?[]:{};return FO(n,t,e)}function Hde(t,e){return dh(jO(t,e),e)}function iT(t){var e="",r=Wde(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Wde(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Gde(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=En(e.replace(/<[^>]*>/g,""));return[r]}var sT={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function DO(t,e){var r=e||{},n=B8(t),i=[],s,a,o={name:""},l="",c=0,u,p,g={},m=[],y=r.dense?[]:{},w,_,E={value:""},L="",I=0,V=[],G=-1,X=-1,R={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,C={},D=[],N={},j=0,B=0,te=[],he=1,_e=1,fe=[],ie={Names:[]},W={},ue=["",""],Y=[],P={},q="",K=0,J=!1,ce=!1,ye=0;for(o2.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=o2.exec(n);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"":w[1]==="/"?(R.e.c>=R.s.c&&R.e.r>=R.s.r?y["!ref"]=Wr(R):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=R.e.r&&(y["!fullref"]=y["!ref"],R.e.r=r.sheetRows-1,y["!ref"]=Wr(R)),D.length&&(y["!merges"]=D),te.length&&(y["!rows"]=te),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),g[u.name]=y,ce=!1):w[0].charAt(w[0].length-2)!=="/"&&(u=jr(w[0],!1),G=X=-1,R.s.r=R.s.c=1e7,R.e.r=R.e.c=0,y=r.dense?[]:{},D=[],te=[],ce=!0);break;case"table-row-group":w[1]==="/"?--A:++A;break;case"table-row":case"":if(w[1]==="/"){G+=he,he=1;break}if(p=jr(w[0],!1),p.?G=p.-1:G==-1&&(G=0),he=+p["number-rows-repeated"]||1,he<10)for(ye=0;ye<he;++ye)A>0&&(te[G+ye]={level:A});X=-1;break;case"covered-table-cell":w[1]!=="/"&&++X,r.sheetStubs&&(r.dense?(y[G]||(y[G]=[]),y[G][X]={t:"z"}):y[Lr({r:G,c:X})]={t:"z"}),L="",V=[];break;case"table-cell":case"":if(w[0].charAt(w[0].length-2)==="/")++X,E=jr(w[0],!1),_e=parseInt(E["number-columns-repeated"]||"1",10),_={t:"z",v:null},E.formula&&r.cellFormula!=!1&&(_.f=eT(En(E.formula))),(E.||E["value-type"])=="string"&&(_.t="s",_.v=En(E["string-value"]||""),r.dense?(y[G]||(y[G]=[]),y[G][X]=_):y[Lr({r:G,c:X})]=_),X+=_e-1;else if(w[1]!=="/"){++X,L="",I=0,V=[],_e=1;var ke=he?G+he-1:G;if(X>R.e.c&&(R.e.c=X),X<R.s.c&&(R.s.c=X),G<R.s.r&&(R.s.r=G),ke>R.e.r&&(R.e.r=ke),E=jr(w[0],!1),Y=[],P={},_={t:E.||E["value-type"],v:null},r.cellFormula)if(E.formula&&(E.formula=En(E.formula)),E["number-matrix-columns-spanned"]&&E["number-matrix-rows-spanned"]&&(j=parseInt(E["number-matrix-rows-spanned"],10)||0,B=parseInt(E["number-matrix-columns-spanned"],10)||0,N={s:{r:G,c:X},e:{r:G+j-1,c:X+B-1}},_.F=Wr(N),fe.push([N,_.F])),E.formula)_.f=eT(E.formula);else for(ye=0;ye<fe.length;++ye)G>=fe[ye][0].s.r&&G<=fe[ye][0].e.r&&X>=fe[ye][0].s.c&&X<=fe[ye][0].e.c&&(_.F=fe[ye][1]);switch((E["number-columns-spanned"]||E["number-rows-spanned"])&&(j=parseInt(E["number-rows-spanned"],10)||0,B=parseInt(E["number-columns-spanned"],10)||0,N={s:{r:G,c:X},e:{r:G+j-1,c:X+B-1}},D.push(N)),E["number-columns-repeated"]&&(_e=parseInt(E["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=bi(E["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(E.value);break;case"percentage":_.t="n",_.v=parseFloat(E.value);break;case"currency":_.t="n",_.v=parseFloat(E.value);break;case"date":_.t="d",_.v=Ti(E["date-value"]),r.cellDates||(_.t="n",_.v=oa(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=wte(E["time-value"])/86400,r.cellDates&&(_.t="d",_.v=i4(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(E.);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",E["string-value"]!=null&&(L=En(E["string-value"]),V=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(J=!1,_.t==="s"&&(_.v=L||"",V.length&&(_.R=V),J=I==0),W.Target&&(_.l=W),Y.length>0&&(_.c=Y,Y=[]),L&&r.cellText!==!1&&(_.w=L),J&&(_.t="z",delete _.v),(!J||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=G))for(var ae=0;ae<he;++ae){if(_e=parseInt(E["number-columns-repeated"]||"1",10),r.dense)for(y[G+ae]||(y[G+ae]=[]),y[G+ae][X]=ae==0?_:Ai(_);--_e>0;)y[G+ae][X+_e]=Ai(_);else for(y[Lr({r:G+ae,c:X})]=_;--_e>0;)y[Lr({r:G+ae,c:X+_e})]=Ai(_);R.e.c<=X&&(R.e.c=X)}_e=parseInt(E["number-columns-repeated"]||"1",10),X+=_e-1,_e=0,_={},L="",V=[]}W={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;P.t=L,V.length&&(P.R=V),P.a=q,Y.push(P)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);q="",K=0,L="",I=0,V=[];break;case"creator":w[1]==="/"?q=n.slice(K,w.index):K=w.index+w[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);L="",I=0,V=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(C[o.name]=l,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(l="",o=jr(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=jr(w[0],!1),l+=sT[w[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=jr(w[0],!1),l+=sT[w[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,w.index);break}else c=w.index+w[0].length;break;case"named-range":a=jr(w[0],!1),ue=Xw(a["cell-range-address"]);var be={Name:a.name,Ref:ue[0]+"!"+ue[1]};ce&&(be.Sheet=m.length),ie.Names.push(be);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!E||!E["string-value"])){var De=Gde(n.slice(I,w.index));L=(L.length>0?L+`
`:"")+De[0]}else jr(w[0],!1),I=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{ue=Xw(jr(w[0])["target-range-address"]),g[ue[0]]["!autofilter"]={ref:ue[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(W=jr(w[0],!1),!W.href)break;W.Target=En(W.href),delete W.href,W.Target.charAt(0)=="#"&&W.Target.indexOf(".")>-1?(ue=Xw(W.Target.slice(1)),W.Target="#"+ue[0]+"!"+ue[1]):W.Target.match(/^\.\.[\\\/]/)&&(W.Target=W.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(w)}}var se={Sheets:g,SheetNames:m,Workbook:ie};return r.bookSheets&&delete se.Sheets,se}function aT(t,e){e=e||{},rc(t,"META-INF/manifest.xml")&&wre(Us(t,"META-INF/manifest.xml"),e);var r=El(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=DO(ii(r),e);return rc(t,"meta.xml")&&(n.Props=CD(Us(t,"meta.xml"))),n}function oT(t,e){return DO(t,e)}var Kde=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+a2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Rs+e}})(),lT=(function(){var t=function(s){return Qn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Qn(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,p=il(s["!ref"]||"A1"),g=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(u=0;u<=p.e.c;++u)l.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+`></table:table-column>
`);var w="",_=s["!rows"]||[];for(c=0;c<p.s.r;++c)w=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+w+`></table:table-row>
`);for(;c<=p.e.r;++c){for(w=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+w+`>
`),u=0;u<p.s.c;++u)l.push(e);for(;u<=p.e.c;++u){var E=!1,L={},I="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>u)&&!(g[m].s.r>c)&&!(g[m].e.c<u)&&!(g[m].e.r<c)){(g[m].s.c!=u||g[m].s.r!=c)&&(E=!0),L["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,L["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(E){l.push(r);continue}var V=Lr({r:c,c:u}),G=y?(s[c]||[])[u]:s[V];if(G&&G.f&&(L["table:formula"]=Qn(ple(G.f)),G.F&&G.F.slice(0,V.length)==V)){var X=il(G.F);L["table:number-matrix-columns-spanned"]=X.e.c-X.s.c+1,L["table:number-matrix-rows-spanned"]=X.e.r-X.s.r+1}if(!G){l.push(e);continue}switch(G.t){case"b":I=G.v?"TRUE":"FALSE",L["office:value-type"]="boolean",L["office:boolean-value"]=G.v?"true":"false";break;case"n":I=G.w||String(G.v||0),L["office:value-type"]="float",L["office:value"]=G.v||0;break;case"s":case"str":I=G.v==null?"":G.v,L["office:value-type"]="string";break;case"d":I=G.w||Ti(G.v).toISOString(),L["office:value-type"]="date",L["office:date-value"]=Ti(G.v).toISOString(),L["table:style-name"]="ce1";break;default:l.push(e);continue}var R=t(I);if(G.l&&G.l.Target){var A=G.l.Target;A=A.charAt(0)=="#"?"#"+mle(A.slice(1)):A,A.charAt(0)!="#"&&!A.match(/^\w+:/)&&(A="../"+A),R=zt("text:a",R,{"xlink:href":A.replace(/&/g,"&amp;")})}l.push("          "+zt("table:table-cell",zt("text:p",R,{}),L)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var p=c["!cols"][u];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Kf(p),p.ods=o;var g=c["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var p=c["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Rs],c=a2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=a2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(ED().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var p=0;p!=a.SheetNames.length;++p)l.push(n(a.Sheets[a.SheetNames[p]],a,p));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function OO(t,e){if(e.bookType=="fods")return lT(t,e);var r=j8(),n="",i=[],s=[];return n="mimetype",Gr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Gr(r,n,lT(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Gr(r,n,Kde(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Gr(r,n,Rs+ED()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Gr(r,n,kre(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Gr(r,n,_re(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function R0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function J_(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):ii(uh(t))}function Xde(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Sl(wu(t))}function Yde(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Yf(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function cT(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Qde(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Jde(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function p2(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Wn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ds(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function In(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=p2(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=p2(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Oa(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Wn(n*8+i.type)),i.type==2&&e.push(Wn(i.data.length)),e.push(i.data))})}),Yf(e)}function lk(t,e){return t?.map(function(r){return e(r.data)})||[]}function Zl(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=p2(t,n),s=In(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:ds(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=In(o.data),c=ds(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=ds(s[3][0].data)>>>0>0),r.push(a)}return r}function Np(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Wn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Wn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Wn(a.data.length)}],n[2].push({data:Oa(a.meta),type:2})});var s=Oa(n);e.push(Wn(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Yf(e)}function Zde(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=p2(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Yf(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=Yf(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function ec(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Zde(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Yf(e)}function Ip(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=Wn(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Yf(e)}function efe(t,e,r,n){var i=R0(t),s=i.getUint32(4,!0),a=(n>1?12:8)+cT(s&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=cT(s&(n>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(u.setTime(u.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var p;switch(t[2]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[l]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:c>0};break;case 7:p={t:"n",v:c/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else if(l>-1)p={t:"s",v:e[l]};else if(!isNaN(c))p={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return p}function tfe(t,e,r){var n=R0(t),i=n.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=Qde(t,s),s+=16),i&2&&(c=n.getFloat64(s,!0),s+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var p;switch(t[1]){case 0:break;case 2:p={t:"n",v:l};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:u};break;case 6:p={t:"b",v:c>0};break;case 7:p={t:"n",v:c/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:r[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:p={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return p}function Qw(t,e){var r=new Uint8Array(32),n=R0(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,Jde(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function Jw(t,e){var r=new Uint8Array(32),n=R0(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function rfe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return efe(t,e,r,t[0]);case 5:return tfe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function xo(t){var e=In(t);return p2(e[1][0].data)}function uT(t,e){var r=In(e.data),n=ds(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(a){var o=In(a.data),l=ds(o[1][0].data)>>>0;switch(n){case 1:s[l]=J_(o[3][0].data);break;case 8:{var c=t[xo(o[9][0].data)][0],u=In(c.data),p=t[xo(u[1][0].data)][0],g=ds(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var m=In(p.data);s[l]=m[3].map(function(y){return J_(y.data)}).join("")}break}}),s}function nfe(t,e){var r,n,i,s,a,o,l,c,u,p,g,m,y,w,_=In(t),E=ds(_[1][0].data)>>>0,L=ds(_[2][0].data)>>>0,I=((n=(r=_[8])==null?void 0:r[0])==null?void 0:n.data)&&ds(_[8][0].data)>0||!1,V,G;if((s=(i=_[7])==null?void 0:i[0])!=null&&s.data&&e!=0)V=(o=(a=_[7])==null?void 0:a[0])==null?void 0:o.data,G=(c=(l=_[6])==null?void 0:l[0])==null?void 0:c.data;else if((p=(u=_[4])==null?void 0:u[0])!=null&&p.data&&e!=1)V=(m=(g=_[4])==null?void 0:g[0])==null?void 0:m.data,G=(w=(y=_[3])==null?void 0:y[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var X=I?4:1,R=R0(V),A=[],C=0;C<V.length/2;++C){var D=R.getUint16(C*2,!0);D<65535&&A.push([C,D])}if(A.length!=L)throw"Expected ".concat(L," cells, found ").concat(A.length);var N=[];for(C=0;C<A.length-1;++C)N[A[C][0]]=G.subarray(A[C][1]*X,A[C+1][1]*X);return A.length>=1&&(N[A[A.length-1][0]]=G.subarray(A[A.length-1][1]*X)),{R:E,cells:N}}function ife(t,e){var r,n=In(e.data),i=(r=n?.[7])!=null&&r[0]?ds(n[7][0].data)>>>0>0?1:0:-1,s=lk(n[5],function(a){return nfe(a,i)});return{nrows:ds(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function sfe(t,e,r){var n,i=In(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ds(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(ds(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Wr(s);var a=In(i[4][0].data),o=uT(t,t[xo(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?uT(t,t[xo(a[17][0].data)][0]):[],c=In(a[3][0].data),u=0;c[1].forEach(function(p){var g=In(p.data),m=t[xo(g[2][0].data)][0],y=ds(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var w=ife(t,m);w.data.forEach(function(_,E){_.forEach(function(L,I){var V=Lr({r:u+E,c:I}),G=rfe(L,o,l);G&&(r[V]=G)})}),u+=w.nrows})}function afe(t,e){var r=In(e.data),n={"!ref":"A1"},i=t[xo(r[2][0].data)],s=ds(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return sfe(t,i[0],n),n}function ofe(t,e){var r,n=In(e.data),i={name:(r=n[1])!=null&&r[0]?J_(n[1][0].data):"",sheets:[]},s=lk(n[2],xo);return s.forEach(function(a){t[a].forEach(function(o){var l=ds(o.meta[1][0].data);l==6e3&&i.sheets.push(afe(t,o))})}),i}function lfe(t,e){var r=hk(),n=In(e.data),i=lk(n[1],xo);if(i.forEach(function(s){t[s].forEach(function(a){var o=ds(a.meta[1][0].data);if(o==2){var l=ofe(t,a);l.sheets.forEach(function(c,u){pk(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Zw(t){var e,r,n,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=ec(l.content)}catch(p){return console.log("?? "+l.content.length+" "+(p.message||p))}var u;try{u=Zl(c)}catch(p){return console.log("## "+(p.message||p))}u.forEach(function(p){s[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=s?.[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&ds(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var u=ds(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return lfe(s,o)}function cfe(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&ds(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=R0(t[7][0].data),u=0,p=[],g=R0(t[4][0].data),m=0,y=[],w=0;w<e.length;++w){if(e[w]==null){c.setUint16(w*2,65535,!0),g.setUint16(w*2,65535);continue}c.setUint16(w*2,u,!0),g.setUint16(w*2,m,!0);var _,E;switch(typeof e[w]){case"string":_=Qw({t:"s",v:e[w]},r),E=Jw({t:"s",v:e[w]},r);break;case"number":_=Qw({t:"n",v:e[w]},r),E=Jw({t:"n",v:e[w]},r);break;case"boolean":_=Qw({t:"b",v:e[w]},r),E=Jw({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}p.push(_),u+=_.length,y.push(E),m+=E.length,++l}for(t[2][0].data=Wn(l);w<t[7][0].data.length/2;++w)c.setUint16(w*2,65535,!0),g.setUint16(w*2,65535,!0);return t[6][0].data=Yf(p),t[3][0].data=Yf(y),l}function ufe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=il(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Wr(n)));var s=n5(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(K){typeof K=="string"&&a.push(K)})});var o={},l=[],c=br.read(e.numbers,{type:"base64"});c.FileIndex.map(function(q,K){return[q,c.FullPaths[K]]}).forEach(function(q){var K=q[0],J=q[1];if(K.type==2&&K.name.match(/\.iwa/)){var ce=K.content,ye=ec(ce),ke=Zl(ye);ke.forEach(function(ae){l.push(ae.id),o[ae.id]={deps:[],location:J,type:ds(ae.messages[0].meta[1][0].data)}})}}),l.sort(function(q,K){return q-K});var u=l.filter(function(q){return q>1}).map(function(q){return[q,Wn(q)]});c.FileIndex.map(function(q,K){return[q,c.FullPaths[K]]}).forEach(function(q){var K=q[0];if(q[1],!!K.name.match(/\.iwa/)){var J=Zl(ec(K.content));J.forEach(function(ce){ce.messages.forEach(function(ye){u.forEach(function(ke){ce.messages.some(function(ae){return ds(ae.meta[1][0].data)!=11006&&Yde(ae.data,ke[1])})&&o[ke[0]].deps.push(ce.id)})})})}});for(var p=br.find(c,o[1].location),g=Zl(ec(p.content)),m,y=0;y<g.length;++y){var w=g[y];w.id==1&&(m=w)}var _=xo(In(m.messages[0].data)[1][0].data);for(p=br.find(c,o[_].location),g=Zl(ec(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);for(_=xo(In(m.messages[0].data)[2][0].data),p=br.find(c,o[_].location),g=Zl(ec(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);for(_=xo(In(m.messages[0].data)[2][0].data),p=br.find(c,o[_].location),g=Zl(ec(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);var E=In(m.messages[0].data);{E[6][0].data=Wn(n.e.r+1),E[7][0].data=Wn(n.e.c+1);var L=xo(E[46][0].data),I=br.find(c,o[L].location),V=Zl(ec(I.content));{for(var G=0;G<V.length&&V[G].id!=L;++G);if(V[G].id!=L)throw"Bad ColumnRowUIDMapArchive";var X=In(V[G].messages[0].data);X[1]=[],X[2]=[],X[3]=[];for(var R=0;R<=n.e.c;++R){var A=[];A[1]=A[2]=[{type:0,data:Wn(R+420690)}],X[1].push({type:2,data:Oa(A)}),X[2].push({type:0,data:Wn(R)}),X[3].push({type:0,data:Wn(R)})}X[4]=[],X[5]=[],X[6]=[];for(var C=0;C<=n.e.r;++C)A=[],A[1]=A[2]=[{type:0,data:Wn(C+726270)}],X[4].push({type:2,data:Oa(A)}),X[5].push({type:0,data:Wn(C)}),X[6].push({type:0,data:Wn(C)});V[G].messages[0].data=Oa(X)}I.content=Ip(Np(V)),I.size=I.content.length,delete E[46];var D=In(E[4][0].data);{D[7][0].data=Wn(n.e.r+1);var N=In(D[1][0].data),j=xo(N[2][0].data);I=br.find(c,o[j].location),V=Zl(ec(I.content));{if(V[0].id!=j)throw"Bad HeaderStorageBucket";var B=In(V[0].messages[0].data);for(C=0;C<s.length;++C){var te=In(B[2][0].data);te[1][0].data=Wn(C),te[4][0].data=Wn(s[C].length),B[2][C]={type:B[2][0].type,data:Oa(te)}}V[0].messages[0].data=Oa(B)}I.content=Ip(Np(V)),I.size=I.content.length;var he=xo(D[2][0].data);I=br.find(c,o[he].location),V=Zl(ec(I.content));{if(V[0].id!=he)throw"Bad HeaderStorageBucket";for(B=In(V[0].messages[0].data),R=0;R<=n.e.c;++R)te=In(B[2][0].data),te[1][0].data=Wn(R),te[4][0].data=Wn(n.e.r+1),B[2][R]={type:B[2][0].type,data:Oa(te)};V[0].messages[0].data=Oa(B)}I.content=Ip(Np(V)),I.size=I.content.length;var _e=xo(D[4][0].data);(function(){for(var q=br.find(c,o[_e].location),K=Zl(ec(q.content)),J,ce=0;ce<K.length;++ce){var ye=K[ce];ye.id==_e&&(J=ye)}var ke=In(J.messages[0].data);{ke[3]=[];var ae=[];a.forEach(function(se,Pe){ae[1]=[{type:0,data:Wn(Pe)}],ae[2]=[{type:0,data:Wn(1)}],ae[3]=[{type:2,data:Xde(se)}],ke[3].push({type:2,data:Oa(ae)})})}J.messages[0].data=Oa(ke);var be=Np(K),De=Ip(be);q.content=De,q.size=q.content.length})();var fe=In(D[3][0].data);{var ie=fe[1][0];delete fe[2];var W=In(ie.data);{var ue=xo(W[2][0].data);(function(){for(var q=br.find(c,o[ue].location),K=Zl(ec(q.content)),J,ce=0;ce<K.length;++ce){var ye=K[ce];ye.id==ue&&(J=ye)}var ke=In(J.messages[0].data);{delete ke[6],delete fe[7];var ae=new Uint8Array(ke[5][0].data);ke[5]=[];for(var be=0,De=0;De<=n.e.r;++De){var se=In(ae);be+=cfe(se,s[De],a),se[1][0].data=Wn(De),ke[5].push({data:Oa(se),type:2})}ke[1]=[{type:0,data:Wn(n.e.c+1)}],ke[2]=[{type:0,data:Wn(n.e.r+1)}],ke[3]=[{type:0,data:Wn(be)}],ke[4]=[{type:0,data:Wn(n.e.r+1)}]}J.messages[0].data=Oa(ke);var Pe=Np(K),Re=Ip(Pe);q.content=Re,q.size=q.content.length})()}ie.data=Oa(W)}D[3][0].data=Oa(fe)}E[4][0].data=Oa(D)}m.messages[0].data=Oa(E);var Y=Np(g),P=Ip(Y);return p.content=P,p.size=p.content.length,c}function MO(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function ck(t){MO([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function uk(t){MO([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function dfe(t){return an.WS.indexOf(t)>-1?"sheet":t==an.CS?"chart":t==an.DS?"dialog":t==an.MS?"macro":t&&t.length?t:"sheet"}function ffe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,dfe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function hfe(t,e,r,n,i,s,a,o,l,c,u,p){try{s[n]=Eg(El(t,r,!0),e);var g=Us(t,e),m;switch(o){case"sheet":m=jue(g,e,i,l,s[n],c,u,p);break;case"chart":if(m=Due(g,e,i,l,s[n],c,u,p),!m||!m["!drawel"])break;var y=ug(m["!drawel"].Target,e),w=l2(y),_=bae(El(t,y,!0),Eg(El(t,w,!0),y)),E=ug(_,y),L=l2(E);m=cue(El(t,E,!0),E,l,Eg(El(t,L,!0),E),c,m);break;case"macro":m=Oue(g,e,i,l,s[n],c,u,p);break;case"dialog":m=Mue(g,e,i,l,s[n],c,u,p);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=m;var I=[];s&&s[n]&&hs(s[n]).forEach(function(V){var G="";if(s[n][V].Type==an.CMNT){G=ug(s[n][V].Target,e);var X=zue(Us(t,G,!0),G,l);if(!X||!X.length)return;XC(m,X,!1)}s[n][V].Type==an.TCMNT&&(G=ug(s[n][V].Target,e),I=I.concat(Sae(Us(t,G,!0),l)))}),I&&I.length&&XC(m,I,!0,l.people||[])}catch(V){if(l.WTF)throw V}}function Xl(t){return t.charAt(0)=="/"?t.slice(1):t}function pfe(t,e){if(nm(),e=e||{},ck(e),rc(t,"META-INF/manifest.xml")||rc(t,"objectdata.xml"))return aT(t,e);if(rc(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Zw<"u"){if(t.FileIndex)return Zw(t);var r=br.utils.cfb_new();return gC(t).forEach(function(te){Gr(r,te,Ete(t,te))}),Zw(r)}throw new Error("Unsupported NUMBERS file")}if(!rc(t,"[Content_Types].xml"))throw rc(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):rc(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=gC(t),i=vre(El(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Us(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Us(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(Cg=[],i.sst)try{Cg=Uue(Us(t,Xl(i.sst)),i.sst,e)}catch(te){if(e.WTF)throw te}e.cellStyles&&i.themes.length&&(l=Vue(El(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=Bue(Us(t,Xl(i.style)),i.style,l,e))}i.links.map(function(te){try{var he=Eg(El(t,l2(Xl(te))),te);return que(Us(t,Xl(te)),he,te,e)}catch{}});var u=Fue(Us(t,Xl(i.workbooks[0])),i.workbooks[0],e),p={},g="";i.coreprops.length&&(g=Us(t,Xl(i.coreprops[0]),!0),g&&(p=CD(g)),i.extprops.length!==0&&(g=Us(t,Xl(i.extprops[0]),!0),g&&Ere(g,p,e)));var m={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=El(t,Xl(i.custprops[0]),!0),g&&(m=Tre(g,e)));var y={};if((e.bookSheets||e.bookProps)&&(u.Sheets?a=u.Sheets.map(function(he){return he.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),e.bookProps&&(y.Props=p,y.Custprops=m),e.bookSheets&&typeof a<"u"&&(y.SheetNames=a),e.bookSheets?y.SheetNames:e.bookProps))return y;a={};var w={};e.bookDeps&&i.calcchain&&(w=$ue(Us(t,Xl(i.calcchain)),i.calcchain));var _=0,E={},L,I;{var V=u.Sheets;p.Worksheets=V.length,p.SheetNames=[];for(var G=0;G!=V.length;++G)p.SheetNames[G]=V[G].name}var X=s?"bin":"xml",R=i.workbooks[0].lastIndexOf("/"),A=(i.workbooks[0].slice(0,R+1)+"_rels/"+i.workbooks[0].slice(R+1)+".rels").replace(/^\//,"");rc(t,A)||(A="xl/_rels/workbook."+X+".rels");var C=Eg(El(t,A,!0),A.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=Hue(Us(t,Xl(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Cae(Us(t,Xl(i.people[0])),e)),C&&(C=ffe(C,u.Sheets));var D=Us(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=p.Worksheets;++_){var N="sheet";if(C&&C[_]?(L="xl/"+C[_][1].replace(/[\/]?xl\//,""),rc(t,L)||(L=C[_][1]),rc(t,L)||(L=A.replace(/_rels\/.*$/,"")+C[_][1]),N=C[_][2]):(L="xl/worksheets/sheet"+(_+1-D)+"."+X,L=L.replace(/sheet0\./,"sheet.")),I=L.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(_!=e.sheets)continue e;break;case"string":if(p.SheetNames[_].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var j=!1,B=0;B!=e.sheets.length;++B)typeof e.sheets[B]=="number"&&e.sheets[B]==_&&(j=1),typeof e.sheets[B]=="string"&&e.sheets[B].toLowerCase()==p.SheetNames[_].toLowerCase()&&(j=1);if(!j)continue e}}hfe(t,L,I,p.SheetNames[_],_,E,a,N,e,u,l,c)}return y={Directory:i,Workbook:u,Props:p,Custprops:m,Deps:w,Sheets:a,SheetNames:p.SheetNames,Strings:Cg,Styles:c,Themes:l,SSF:Ai(Ir)},e&&e.bookFiles&&(t.files?(y.keys=n,y.files=t.files):(y.keys=[],y.files={},t.FullPaths.forEach(function(te,he){te=te.replace(/^Root Entry[\/]/,""),y.keys.push(te),y.files[te]=t.FileIndex[he]}))),e&&e.bookVBA&&(i.vba.length>0?y.vbaraw=Us(t,Xl(i.vba[0]),!0):i.defaults&&i.defaults.bin===Fae&&(y.vbaraw=Us(t,"xl/vbaProject.bin",!0))),y}function mfe(t,e){var r=e||{},n="Workbook",i=br.find(t,n);try{if(n="/!DataSpaces/Version",i=br.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Hie(i.content),n="/!DataSpaces/DataSpaceMap",i=br.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Gie(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=br.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=Kie(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=br.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);Yie(i.content)}catch{}if(n="/EncryptionInfo",i=br.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Qie(i.content);if(n="/EncryptedPackage",i=br.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function gfe(t,e){return e.bookType=="ods"?OO(t,e):e.bookType=="numbers"?ufe(t,e):e.bookType=="xlsb"?xfe(t,e):vfe(t,e)}function xfe(t,e){$p=1024,t&&!t.SSF&&(t.SSF=Ai(Ir)),t&&t.SSF&&(nm(),t4(t.SSF),e.revssf=n4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Tg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=dO.indexOf(e.bookType)>-1,i=X8();uk(e=e||{});var s=j8(),a="",o=0;if(e.cellXfs=[],fh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Gr(s,a,TD(t.Props,e)),i.coreprops.push(a),Gn(e.rels,2,a,an.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Gr(s,a,ID(t.Props)),i.extprops.push(a),Gn(e.rels,3,a,an.EXT_PROPS),t.Custprops!==t.Props&&hs(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Gr(s,a,PD(t.Custprops)),i.custprops.push(a),Gn(e.rels,4,a,an.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var u={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Gr(s,a,Gue(o-1,a,e,t,u)),i.sheets.push(a),Gn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,an.WS[0])}if(p){var m=p["!comments"],y=!1,w="";m&&m.length>0&&(w="xl/comments"+o+"."+r,Gr(s,w,Yue(m,w)),i.comments.push(w),Gn(u,-1,"../comments"+o+"."+r,an.CMNT),y=!0),p["!legacy"]&&y&&Gr(s,"xl/drawings/vmlDrawing"+o+".vml",cO(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}u["!id"].rId1&&Gr(s,l2(a),a1(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Gr(s,a,Xue(e.Strings,a,e)),i.strs.push(a),Gn(e.wbrels,-1,"sharedStrings."+r,an.SST)),a="xl/workbook."+r,Gr(s,a,Wue(t,a)),i.workbooks.push(a),Gn(e.rels,1,a,an.WB),a="xl/theme/theme1.xml",Gr(s,a,tk(t.Themes,e)),i.themes.push(a),Gn(e.wbrels,-1,"theme/theme1.xml",an.THEME),a="xl/styles."+r,Gr(s,a,Kue(t,a,e)),i.styles.push(a),Gn(e.wbrels,-1,"styles."+r,an.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Gr(s,a,t.vbaraw),i.vba.push(a),Gn(e.wbrels,-1,"vbaProject.bin",an.VBA)),a="xl/metadata."+r,Gr(s,a,Que(a)),i.metadata.push(a),Gn(e.wbrels,-1,"metadata."+r,an.XLMETA),Gr(s,"[Content_Types].xml",SD(i,e)),Gr(s,"_rels/.rels",a1(e.rels)),Gr(s,"xl/_rels/workbook."+r+".rels",a1(e.wbrels)),delete e.revssf,delete e.ssf,s}function vfe(t,e){$p=1024,t&&!t.SSF&&(t.SSF=Ai(Ir)),t&&t.SSF&&(nm(),t4(t.SSF),e.revssf=n4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Tg?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=dO.indexOf(e.bookType)>-1,i=X8();uk(e=e||{});var s=j8(),a="",o=0;if(e.cellXfs=[],fh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Gr(s,a,TD(t.Props,e)),i.coreprops.push(a),Gn(e.rels,2,a,an.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Gr(s,a,ID(t.Props)),i.extprops.push(a),Gn(e.rels,3,a,an.EXT_PROPS),t.Custprops!==t.Props&&hs(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Gr(s,a,PD(t.Custprops)),i.custprops.push(a),Gn(e.rels,4,a,an.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var p={"!id":{}},g=t.Sheets[t.SheetNames[o-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Gr(s,a,bO(o-1,e,t,p)),i.sheets.push(a),Gn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,an.WS[0])}if(g){var y=g["!comments"],w=!1,_="";if(y&&y.length>0){var E=!1;y.forEach(function(L){L[1].forEach(function(I){I.T==!0&&(E=!0)})}),E&&(_="xl/threadedComments/threadedComment"+o+"."+r,Gr(s,_,Eae(y,u,e)),i.threadedcomments.push(_),Gn(p,-1,"../threadedComments/threadedComment"+o+"."+r,an.TCMNT)),_="xl/comments"+o+"."+r,Gr(s,_,uO(y)),i.comments.push(_),Gn(p,-1,"../comments"+o+"."+r,an.CMNT),w=!0}g["!legacy"]&&w&&Gr(s,"xl/drawings/vmlDrawing"+o+".vml",cO(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Gr(s,l2(a),a1(p))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Gr(s,a,QD(e.Strings,e)),i.strs.push(a),Gn(e.wbrels,-1,"sharedStrings."+r,an.SST)),a="xl/workbook."+r,Gr(s,a,TO(t)),i.workbooks.push(a),Gn(e.rels,1,a,an.WB),a="xl/theme/theme1.xml",Gr(s,a,tk(t.Themes,e)),i.themes.push(a),Gn(e.wbrels,-1,"theme/theme1.xml",an.THEME),a="xl/styles."+r,Gr(s,a,sO(t,e)),i.styles.push(a),Gn(e.wbrels,-1,"styles."+r,an.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Gr(s,a,t.vbaraw),i.vba.push(a),Gn(e.wbrels,-1,"vbaProject.bin",an.VBA)),a="xl/metadata."+r,Gr(s,a,lO()),i.metadata.push(a),Gn(e.wbrels,-1,"metadata."+r,an.XLMETA),u.length>1&&(a="xl/persons/person.xml",Gr(s,a,Tae(u)),i.people.push(a),Gn(e.wbrels,-1,"persons/person.xml",an.PEOPLE)),Gr(s,"[Content_Types].xml",SD(i,e)),Gr(s,"_rels/.rels",a1(e.rels)),Gr(s,"xl/_rels/workbook."+r+".rels",a1(e.wbrels)),delete e.revssf,delete e.ssf,s}function dk(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Rl(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function yfe(t,e){return br.find(t,"EncryptedPackage")?mfe(t,e):PO(t,e)}function wfe(t,e){var r,n=t,i=e||{};return i.type||(i.type=en&&Buffer.isBuffer(t)?"buffer":"base64"),r=Zj(n,i),pfe(r,i)}function BO(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return Y_(t.slice(r),e);default:break e}return D1.to_workbook(t,e)}function _fe(t,e){var r="",n=dk(t,e);switch(e.type){case"base64":r=Rl(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=A0(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=ii(r)),e.type="binary",BO(r,e)}function bfe(t,e){var r=t;return e.type=="base64"&&(r=Rl(r)),r=r2.utils.decode(1200,r.slice(2),"str"),e.type="binary",BO(r,e)}function kfe(t){return t.match(/[^\x00-\x7F]/)?wu(t):t}function e3(t,e,r,n){return n?(r.type="string",D1.to_workbook(t,r)):D1.to_workbook(e,r)}function Z_(t,e){I8();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Z_(new Uint8Array(t),(r=Ai(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),l1={},r.dateNF&&(l1.dateNF=r.dateNF),r.type||(r.type=en&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=en?"buffer":"binary",n=xte(t),typeof Uint8Array<"u"&&!en&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=kfe(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return r=Ai(r),r.type="array",Z_(P8(n),r)}switch((i=dk(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return yfe(br.read(n,r),r);break;case 9:if(i[1]<=8)return PO(n,r);break;case 60:return Y_(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Aie(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return XD.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?wfe(n,r):e3(t,n,r,s);case 239:return i[3]===60?Y_(n,r):e3(t,n,r,s);case 255:if(i[1]===254)return bfe(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return l0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return l0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return X_.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return rO.to_workbook(n,r);break;case 10:case 13:case 32:return _fe(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Tie.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?X_.to_workbook(n,r):e3(t,n,r,s)}function VO(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Q2(e.file,br.write(t,{type:en?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return br.write(t,e)}function Sfe(t,e){var r=Ai(e||{}),n=gfe(t,r);return Efe(n,r)}function Efe(t,e){var r={},n=en?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?br.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(e4(i))}return e.password&&typeof encrypt_agile<"u"?VO(encrypt_agile(i,e.password),e):e.type==="file"?Q2(e.file,i):e.type=="string"?ii(i):i}function Cfe(t,e){var r=e||{},n=kde(t,r);return VO(n,r)}function fu(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return n2(wu(n));case"binary":return wu(n);case"string":return t;case"file":return Q2(e.file,n,"utf8");case"buffer":return en?Fd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):fu(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Tfe(t,e){switch(e.type){case"base64":return n2(t);case"binary":return t;case"string":return t;case"file":return Q2(e.file,t,"binary");case"buffer":return en?Fd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function wv(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?n2(r):e.type=="string"?ii(r):r;case"file":return Q2(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function UO(t,e){I8(),yue(t);var r=Ai(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=UO(t,r);return r.type="array",e4(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return fu(gde(t,r),r);case"slk":case"sylk":return fu(KD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return fu(LO(t.Sheets[t.SheetNames[i]],r),r);case"txt":return Tfe(zO(t.Sheets[t.SheetNames[i]],r),r);case"csv":return fu(fk(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return fu(XD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return wv(X_.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return fu(D1.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return fu(rO.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return fu(YD.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return fu(OO(t,r),r);case"wk1":return wv(l0.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return wv(l0.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),wv(RO(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Cfe(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Sfe(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Afe(t,e,r,n,i,s,a,o){var l=Is(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var y=a?t[r][m]:t[n[m]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;s[m]!=null&&(g[s[m]]=c);continue}var w=y.v;switch(y.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(w==null)if(y.t=="e"&&w===null)g[s[m]]=null;else if(c!==void 0)g[s[m]]=c;else if(u&&w===null)g[s[m]]=null;else continue;else g[s[m]]=u&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?w:Sd(y,w,o);w!=null&&(p=!1)}}return{row:g,isempty:p}}function n5(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Cn(u);break;case"number":l=Cn(t["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var p=Is(l.s.r),g=[],m=[],y=0,w=0,_=Array.isArray(t),E=l.s.r,L=0,I={};_&&!t[E]&&(t[E]=[]);var V=c.skipHidden&&t["!cols"]||[],G=c.skipHidden&&t["!rows"]||[];for(L=l.s.c;L<=l.e.c;++L)if(!(V[L]||{}).hidden)switch(g[L]=Yi(L),r=_?t[E][L]:t[g[L]+p],n){case 1:s[L]=L-l.s.c;break;case 2:s[L]=g[L];break;case 3:s[L]=c.header[L-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Sd(r,null,c),w=I[a]||0,!w)I[a]=1;else{do o=a+"_"+w++;while(I[o]);I[a]=w,I[o]=1}s[L]=o}for(E=l.s.r+i;E<=l.e.r;++E)if(!(G[E]||{}).hidden){var X=Afe(t,l,E,g,n,s,_,c);(X.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=X.row)}return m.length=y,m}var dT=/"/g;function Nfe(t,e,r,n,i,s,a,o){for(var l=!0,c=[],u="",p=Is(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var m=o.dense?(t[r]||[])[g]:t[n[g]+p];if(m==null)u="";else if(m.v!=null){l=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:Sd(m,null,o));for(var y=0,w=0;y!==u.length;++y)if((w=u.charCodeAt(y))===i||w===s||w===34||o.forceQuotes){u='"'+u.replace(dT,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(l=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(dT,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(a)}function fk(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Cn(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",p=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(g[y]||{}).hidden||(p[y]=Yi(y));for(var w=0,_=i.s.r;_<=i.e.r;++_)(m[_]||{}).hidden||(u=Nfe(t,i,_,p,a,l,s,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((w++?o:"")+u)));return delete n.dense,r.join("")}function zO(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=fk(t,e);return r}function Ife(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Cn(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Yi(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=Is(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=c?(t[u]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function $O(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Qi(n.origin):n.origin;a=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var p=Cn(s["!ref"]);u.e.c=Math.max(u.e.c,p.e.c),u.e.r=Math.max(u.e.r,p.e.r),a==-1&&(a=p.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var g=n.header||[],m=0;e.forEach(function(w,_){hs(w).forEach(function(E){(m=g.indexOf(E))==-1&&(g[m=g.length]=E);var L=w[E],I="z",V="",G=Lr({c:o+m,r:a+_+i});c=m2(s,G),L&&typeof L=="object"&&!(L instanceof Date)?s[G]=L:(typeof L=="number"?I="n":typeof L=="boolean"?I="b":typeof L=="string"?I="s":L instanceof Date?(I="d",n.cellDates||(I="n",L=oa(L)),V=n.dateNF||Ir[14]):L===null&&n.nullError&&(I="e",L=0),c?(c.t=I,c.v=L,delete c.w,delete c.R,V&&(c.z=V)):s[G]=c={t:I,v:L},V&&(c.z=V))})}),u.e.c=Math.max(u.e.c,o+g.length-1);var y=Is(a);if(i)for(m=0;m<g.length;++m)s[Yi(m+o)+y]={t:"s",v:g[m]};return s["!ref"]=Wr(u),s}function Pfe(t,e){return $O(null,t,e)}function m2(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Qi(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?m2(t,Lr(e)):m2(t,Lr({r:e,c:r||0}))}function Rfe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function hk(){return{SheetNames:[],Sheets:{}}}function pk(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(CO(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Lfe(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Rfe(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Ffe(t,e){return t.z=e,t}function qO(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function jfe(t,e,r){return qO(t,"#"+e,r)}function Dfe(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Ofe(t,e,r,n){for(var i=typeof e!="string"?e:Cn(e),s=typeof e=="string"?e:Wr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=m2(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var ty={encode_col:Yi,encode_row:Is,encode_cell:Lr,encode_range:Wr,decode_col:$8,decode_row:z8,split_cell:Xte,decode_cell:Qi,decode_range:il,format_cell:Sd,sheet_add_aoa:xD,sheet_add_json:$O,sheet_add_dom:FO,aoa_to_sheet:im,json_to_sheet:Pfe,table_to_sheet:jO,table_to_book:Hde,sheet_to_csv:fk,sheet_to_txt:zO,sheet_to_json:n5,sheet_to_html:LO,sheet_to_formulae:Ife,sheet_to_row_object_array:n5,sheet_get_cell:m2,book_new:hk,book_append_sheet:pk,book_set_sheet_visibility:Lfe,cell_set_number_format:Ffe,cell_set_hyperlink:qO,cell_set_internal_link:jfe,cell_add_comment:Dfe,sheet_set_array_formula:Ofe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Mfe=t=>new Promise((e,r)=>{jj.parse(t,{header:!0,skipEmptyLines:!0,complete:n=>e(n.data),error:r})}),Bfe=async t=>{const e=await t.arrayBuffer(),r=Z_(e,{type:"array"}),n=r.Sheets[r.SheetNames[0]];return ty.sheet_to_json(n)};function HO({pharmacyId:t,onClose:e}){const[r,n]=F.useState("");F.useEffect(()=>{const{overflow:o}=document.body.style;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]);const i=()=>{const o=[{name:"Paracetamol",price:800,description:"OTC analgesic",image:"https://...",category:"Over-the-Counter",stock:50,sku:"PAR-500"},{name:"Ibuprofen",price:1200,description:"NSAID",image:"https://...",category:"Over-the-Counter",stock:30,sku:"IBU-200"}],l=Object.keys(o[0]),c=[l.join(","),...o.map(m=>l.map(y=>m[y]).join(","))].join(`
`),u=new Blob([c],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(u),g=document.createElement("a");g.href=p,g.download="pharmasea_inventory_template.csv",g.click(),URL.revokeObjectURL(p)},s=async o=>{try{n("");const l=o?.[0];if(!l)return;let c=[];l.name.endsWith(".csv")?c=await Mfe(l):c=await Bfe(l);const u=c.map(p=>({name:p.name,price:Number(p.price),description:p.description||"",image:p.image||"",category:p.category||"Over-the-Counter",stock:Number(p.stock||0),sku:p.sku||""})).filter(p=>p.name&&p.price);if(!u.length)throw new Error("No valid rows found. Expect headers: name, price, description, image, category, stock, sku");await aj(u,t),e()}catch(l){n(l.message||"Failed to parse file")}},a=f.jsx("div",{className:`\r
        fixed inset-0 z-[100]\r
        grid place-items-center\r
        bg-black/30 backdrop-blur-sm\r
        min-h-[100svh]\r
        animate-fade-in\r
      `,onClick:e,children:f.jsxs("div",{className:`\r
          bg-white rounded-3xl p-6 w-[92vw] max-w-sm\r
          shadow-xl border border-[#9ED3FF]\r
          max-h-[85svh] overflow-auto\r
          card-interactive hover:shadow-2xl transition-all duration-300\r
          animate-bounce-in\r
        `,onClick:o=>o.stopPropagation(),children:[f.jsx("div",{className:"text-lg font-light font-poppins mb-4 text-black animate-text-reveal",children:"Bulk Upload Products"}),f.jsx("div",{className:"space-y-3 animate-fade-in",style:{animationDelay:"0.1s"},children:f.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"CSV or XLSX File",type:"file",onChange:o=>s(o.target.files),accept:".csv,.xlsx"})}),f.jsxs("div",{className:"flex gap-2 mt-6 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[f.jsx("button",{onClick:i,className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700 btn-interactive hover:scale-105 active:scale-95 transition-all duration-200",children:"Download CSV template"}),f.jsx("button",{className:"flex-1 rounded-full border border-zinc-300 text-zinc-500 text-[13px] font-light py-2 btn-interactive hover:border-zinc-400 hover:scale-105 active:scale-95 transition-all duration-200",onClick:e,children:"Cancel"})]}),r&&f.jsx("div",{className:"mt-3 text-red-600 text-sm animate-shake animate-fade-in",children:r})]})});return Ps.createPortal(a,document.body)}function Xn(t){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(t)}var zc=Uint8Array,Tl=Uint16Array,mk=Int32Array,gk=new zc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xk=new zc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fT=new zc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),WO=function(t,e){for(var r=new Tl(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new mk(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},GO=WO(gk,2),Vfe=GO.b,eb=GO.r;Vfe[28]=258,eb[258]=28;var Ufe=WO(xk,0),hT=Ufe.r,tb=new Tl(32768);for(var Ei=0;Ei<32768;++Ei){var gf=(Ei&43690)>>1|(Ei&21845)<<1;gf=(gf&52428)>>2|(gf&13107)<<2,gf=(gf&61680)>>4|(gf&3855)<<4,tb[Ei]=((gf&65280)>>8|(gf&255)<<8)>>1}var Ig=(function(t,e,r){for(var n=t.length,i=0,s=new Tl(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Tl(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Tl(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],p=a[t[i]-1]++<<u,g=p|(1<<u)-1;p<=g;++p)o[tb[p]>>l]=c}else for(o=new Tl(n),i=0;i<n;++i)t[i]&&(o[i]=tb[a[t[i]-1]++]>>15-t[i]);return o}),L0=new zc(288);for(var Ei=0;Ei<144;++Ei)L0[Ei]=8;for(var Ei=144;Ei<256;++Ei)L0[Ei]=9;for(var Ei=256;Ei<280;++Ei)L0[Ei]=7;for(var Ei=280;Ei<288;++Ei)L0[Ei]=8;var i5=new zc(32);for(var Ei=0;Ei<32;++Ei)i5[Ei]=5;var zfe=Ig(L0,9,0),$fe=Ig(i5,5,0),KO=function(t){return(t+7)/8|0},qfe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new zc(t.subarray(e,r))},nd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ym=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},t3=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:YO,l:0};if(i==1){var a=new zc(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(G,X){return G.f-X.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[p].f?c++:p++],l=r[c!=u&&r[c].f<r[p].f?c++:p++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,n=1;n<i;++n)s[n].s>g&&(g=s[n].s);var m=new Tl(g+1),y=rb(r[u-1],m,0);if(y>e){var n=0,w=0,_=y-e,E=1<<_;for(s.sort(function(X,R){return m[R.s]-m[X.s]||X.f-R.f});n<i;++n){var L=s[n].s;if(m[L]>e)w+=E-(1<<y-m[L]),m[L]=e;else break}for(w>>=_;w>0;){var I=s[n].s;m[I]<e?w-=1<<e-m[I]++-1:++n}for(;n>=0&&w;--n){var V=s[n].s;m[V]==e&&(--m[V],++w)}y=e}return{t:new zc(m),l:y}},rb=function(t,e,r){return t.s==-1?Math.max(rb(t.l,e,r+1),rb(t.r,e,r+1)):e[t.s]=r},pT=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Tl(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Qm=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},XO=function(t,e,r){var n=r.length,i=KO(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},mT=function(t,e,r,n,i,s,a,o,l,c,u){nd(e,u++,r),++i[256];for(var p=t3(i,15),g=p.t,m=p.l,y=t3(s,15),w=y.t,_=y.l,E=pT(g),L=E.c,I=E.n,V=pT(w),G=V.c,X=V.n,R=new Tl(19),A=0;A<L.length;++A)++R[L[A]&31];for(var A=0;A<G.length;++A)++R[G[A]&31];for(var C=t3(R,7),D=C.t,N=C.l,j=19;j>4&&!D[fT[j-1]];--j);var B=c+5<<3,te=Qm(i,L0)+Qm(s,i5)+a,he=Qm(i,g)+Qm(s,w)+a+14+3*j+Qm(R,D)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&B<=te&&B<=he)return XO(e,u,t.subarray(l,l+c));var _e,fe,ie,W;if(nd(e,u,1+(he<te)),u+=2,he<te){_e=Ig(g,m,0),fe=g,ie=Ig(w,_,0),W=w;var ue=Ig(D,N,0);nd(e,u,I-257),nd(e,u+5,X-1),nd(e,u+10,j-4),u+=14;for(var A=0;A<j;++A)nd(e,u+3*A,D[fT[A]]);u+=3*j;for(var Y=[L,G],P=0;P<2;++P)for(var q=Y[P],A=0;A<q.length;++A){var K=q[A]&31;nd(e,u,ue[K]),u+=D[K],K>15&&(nd(e,u,q[A]>>5&127),u+=q[A]>>12)}}else _e=zfe,fe=L0,ie=$fe,W=i5;for(var A=0;A<o;++A){var J=n[A];if(J>255){var K=J>>18&31;Ym(e,u,_e[K+257]),u+=fe[K+257],K>7&&(nd(e,u,J>>23&31),u+=gk[K]);var ce=J&31;Ym(e,u,ie[ce]),u+=W[ce],ce>3&&(Ym(e,u,J>>5&8191),u+=xk[ce])}else Ym(e,u,_e[J]),u+=fe[J]}return Ym(e,u,_e[256]),u+fe[256]},Hfe=new mk([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),YO=new zc(0),Wfe=function(t,e,r,n,i,s){var a=s.z||t.length,o=new zc(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var p=Hfe[e-1],g=p>>13,m=p&8191,y=(1<<r)-1,w=s.p||new Tl(32768),_=s.h||new Tl(y+1),E=Math.ceil(r/3),L=2*E,I=function(Re){return(t[Re]^t[Re+1]<<E^t[Re+2]<<L)&y},V=new mk(25e3),G=new Tl(288),X=new Tl(32),R=0,A=0,C=s.i||0,D=0,N=s.w||0,j=0;C+2<a;++C){var B=I(C),te=C&32767,he=_[B];if(w[te]=he,_[B]=te,N<=C){var _e=a-C;if((R>7e3||D>24576)&&(_e>423||!c)){u=mT(t,l,0,V,G,X,A,D,j,C-j,u),D=R=A=0,j=C;for(var fe=0;fe<286;++fe)G[fe]=0;for(var fe=0;fe<30;++fe)X[fe]=0}var ie=2,W=0,ue=m,Y=te-he&32767;if(_e>2&&B==I(C-Y))for(var P=Math.min(g,_e)-1,q=Math.min(32767,C),K=Math.min(258,_e);Y<=q&&--ue&&te!=he;){if(t[C+ie]==t[C+ie-Y]){for(var J=0;J<K&&t[C+J]==t[C+J-Y];++J);if(J>ie){if(ie=J,W=Y,J>P)break;for(var ce=Math.min(Y,J-2),ye=0,fe=0;fe<ce;++fe){var ke=C-Y+fe&32767,ae=w[ke],be=ke-ae&32767;be>ye&&(ye=be,he=ke)}}}te=he,he=w[te],Y+=te-he&32767}if(W){V[D++]=268435456|eb[ie]<<18|hT[W];var De=eb[ie]&31,se=hT[W]&31;A+=gk[De]+xk[se],++G[257+De],++X[se],N=C+ie,++R}else V[D++]=t[C],++G[t[C]]}}for(C=Math.max(C,N);C<a;++C)V[D++]=t[C],++G[t[C]];u=mT(t,l,c,V,G,X,A,D,j,C-j,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=_,s.p=w,s.i=C,s.w=N)}else{for(var C=s.w||0;C<a+c;C+=65535){var Pe=C+65535;Pe>=a&&(l[u/8|0]=c,Pe=a),u=XO(l,u+1,t.subarray(C,Pe))}s.i=a}return qfe(o,0,n+KO(u)+i)},QO=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Gfe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new zc(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Wfe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},JO=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Kfe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=QO();i.p(e.dictionary),JO(t,2,i.d())}};function nb(t,e){e||(e={});var r=QO();r.p(t);var n=Gfe(t,e,e.dictionary?6:2,4);return Kfe(n,e),JO(n,n.length-4,r.d()),n}var Xfe=typeof TextDecoder<"u"&&new TextDecoder,Yfe=0;try{Xfe.decode(YO,{stream:!0}),Yfe=1}catch{}function Qfe(t){if(Array.isArray(t))return t}function Jfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function gT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Zfe(t,e){if(t){if(typeof t=="string")return gT(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gT(t,e):void 0}}function ehe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xT(t,e){return Qfe(t)||Jfe(t,e)||Zfe(t,e)||ehe()}function vT(t,e="utf8"){return new TextDecoder(e).decode(t)}const the=new TextEncoder;function rhe(t){return the.encode(t)}const nhe=1024*8,ihe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),r3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class vk{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=nhe,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof vk)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=r3[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===ihe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new r3[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new r3[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return vT(this.readBytes(e))}decodeText(e=1,r="utf8"){return vT(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(rhe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function am(t){let e=t.length;for(;--e>=0;)t[e]=0}const she=3,ahe=258,ZO=29,ohe=256,lhe=ohe+1+ZO,eM=30,che=512,uhe=new Array((lhe+2)*2);am(uhe);const dhe=new Array(eM*2);am(dhe);const fhe=new Array(che);am(fhe);const hhe=new Array(ahe-she+1);am(hhe);const phe=new Array(ZO);am(phe);const mhe=new Array(eM);am(mhe);const ghe=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var ib=ghe;const xhe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},vhe=new Uint32Array(xhe()),yhe=(t,e,r,n)=>{const i=vhe,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var cu=yhe,sb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tM={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const whe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var _he=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)whe(r,n)&&(t[n]=r[n])}}return t},bhe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},rM={assign:_he,flattenChunks:bhe};let nM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nM=!1}const g2=new Uint8Array(256);for(let t=0;t<256;t++)g2[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;g2[254]=g2[254]=1;var khe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const She=(t,e)=>{if(e<65534&&t.subarray&&nM)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Ehe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=g2[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return She(s,i)},Che=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+g2[t[r]]>e?r:e},ab={string2buf:khe,buf2string:Ehe,utf8border:Che};function The(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Ahe=The;const _v=16209,Nhe=16191;var Ihe=function(e,r){let n,i,s,a,o,l,c,u,p,g,m,y,w,_,E,L,I,V,G,X,R,A,C,D;const N=e.state;n=e.next_in,C=e.input,i=n+(e.avail_in-5),s=e.next_out,D=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=N.dmax,c=N.wsize,u=N.whave,p=N.wnext,g=N.window,m=N.hold,y=N.bits,w=N.lencode,_=N.distcode,E=(1<<N.lenbits)-1,L=(1<<N.distbits)-1;e:do{y<15&&(m+=C[n++]<<y,y+=8,m+=C[n++]<<y,y+=8),I=w[m&E];t:for(;;){if(V=I>>>24,m>>>=V,y-=V,V=I>>>16&255,V===0)D[s++]=I&65535;else if(V&16){G=I&65535,V&=15,V&&(y<V&&(m+=C[n++]<<y,y+=8),G+=m&(1<<V)-1,m>>>=V,y-=V),y<15&&(m+=C[n++]<<y,y+=8,m+=C[n++]<<y,y+=8),I=_[m&L];r:for(;;){if(V=I>>>24,m>>>=V,y-=V,V=I>>>16&255,V&16){if(X=I&65535,V&=15,y<V&&(m+=C[n++]<<y,y+=8,y<V&&(m+=C[n++]<<y,y+=8)),X+=m&(1<<V)-1,X>l){e.msg="invalid distance too far back",N.mode=_v;break e}if(m>>>=V,y-=V,V=s-a,X>V){if(V=X-V,V>u&&N.sane){e.msg="invalid distance too far back",N.mode=_v;break e}if(R=0,A=g,p===0){if(R+=c-V,V<G){G-=V;do D[s++]=g[R++];while(--V);R=s-X,A=D}}else if(p<V){if(R+=c+p-V,V-=p,V<G){G-=V;do D[s++]=g[R++];while(--V);if(R=0,p<G){V=p,G-=V;do D[s++]=g[R++];while(--V);R=s-X,A=D}}}else if(R+=p-V,V<G){G-=V;do D[s++]=g[R++];while(--V);R=s-X,A=D}for(;G>2;)D[s++]=A[R++],D[s++]=A[R++],D[s++]=A[R++],G-=3;G&&(D[s++]=A[R++],G>1&&(D[s++]=A[R++]))}else{R=s-X;do D[s++]=D[R++],D[s++]=D[R++],D[s++]=D[R++],G-=3;while(G>2);G&&(D[s++]=D[R++],G>1&&(D[s++]=D[R++]))}}else if((V&64)===0){I=_[(I&65535)+(m&(1<<V)-1)];continue r}else{e.msg="invalid distance code",N.mode=_v;break e}break}}else if((V&64)===0){I=w[(I&65535)+(m&(1<<V)-1)];continue t}else if(V&32){N.mode=Nhe;break e}else{e.msg="invalid literal/length code",N.mode=_v;break e}break}}while(n<i&&s<o);G=y>>3,n-=G,y-=G<<3,m&=(1<<y)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),N.hold=m,N.bits=y};const Pp=15,yT=852,wT=592,_T=0,n3=1,bT=2,Phe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Rhe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Lhe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Fhe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jhe=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let c=0,u=0,p=0,g=0,m=0,y=0,w=0,_=0,E=0,L=0,I,V,G,X,R,A=null,C;const D=new Uint16Array(Pp+1),N=new Uint16Array(Pp+1);let j=null,B,te,he;for(c=0;c<=Pp;c++)D[c]=0;for(u=0;u<n;u++)D[e[r+u]]++;for(m=l,g=Pp;g>=1&&D[g]===0;g--);if(m>g&&(m=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&D[p]===0;p++);for(m<p&&(m=p),_=1,c=1;c<=Pp;c++)if(_<<=1,_-=D[c],_<0)return-1;if(_>0&&(t===_T||g!==1))return-1;for(N[1]=0,c=1;c<Pp;c++)N[c+1]=N[c]+D[c];for(u=0;u<n;u++)e[r+u]!==0&&(a[N[e[r+u]]++]=u);if(t===_T?(A=j=a,C=20):t===n3?(A=Phe,j=Rhe,C=257):(A=Lhe,j=Fhe,C=0),L=0,u=0,c=p,R=s,y=m,w=0,G=-1,E=1<<m,X=E-1,t===n3&&E>yT||t===bT&&E>wT)return 1;for(;;){B=c-w,a[u]+1<C?(te=0,he=a[u]):a[u]>=C?(te=j[a[u]-C],he=A[a[u]-C]):(te=96,he=0),I=1<<c-w,V=1<<y,p=V;do V-=I,i[R+(L>>w)+V]=B<<24|te<<16|he|0;while(V!==0);for(I=1<<c-1;L&I;)I>>=1;if(I!==0?(L&=I-1,L+=I):L=0,u++,--D[c]===0){if(c===g)break;c=e[r+a[u]]}if(c>m&&(L&X)!==G){for(w===0&&(w=m),R+=p,y=c-w,_=1<<y;y+w<g&&(_-=D[y+w],!(_<=0));)y++,_<<=1;if(E+=1<<y,t===n3&&E>yT||t===bT&&E>wT)return 1;G=L&X,i[G]=m<<24|y<<16|R-s|0}}return L!==0&&(i[R+L]=c-w<<24|64<<16|0),o.bits=m,0};var Pg=jhe;const Dhe=0,iM=1,sM=2,{Z_FINISH:kT,Z_BLOCK:Ohe,Z_TREES:bv,Z_OK:F0,Z_STREAM_END:Mhe,Z_NEED_DICT:Bhe,Z_STREAM_ERROR:uc,Z_DATA_ERROR:aM,Z_MEM_ERROR:oM,Z_BUF_ERROR:Vhe,Z_DEFLATED:ST}=tM,c4=16180,ET=16181,CT=16182,TT=16183,AT=16184,NT=16185,IT=16186,PT=16187,RT=16188,LT=16189,s5=16190,id=16191,i3=16192,FT=16193,s3=16194,jT=16195,DT=16196,OT=16197,MT=16198,kv=16199,Sv=16200,BT=16201,VT=16202,UT=16203,zT=16204,$T=16205,a3=16206,qT=16207,HT=16208,ji=16209,lM=16210,cM=16211,Uhe=852,zhe=592,$he=15,qhe=$he,WT=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Hhe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const J0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<c4||e.mode>cM?1:0},uM=t=>{if(J0(t))return uc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=c4,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Uhe),e.distcode=e.distdyn=new Int32Array(zhe),e.sane=1,e.back=-1,F0},dM=t=>{if(J0(t))return uc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,uM(t)},fM=(t,e)=>{let r;if(J0(t))return uc;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?uc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,dM(t))},hM=(t,e)=>{if(!t)return uc;const r=new Hhe;t.state=r,r.strm=t,r.window=null,r.mode=c4;const n=fM(t,e);return n!==F0&&(t.state=null),n},Whe=t=>hM(t,qhe);let GT=!0,o3,l3;const Ghe=t=>{if(GT){o3=new Int32Array(512),l3=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Pg(iM,t.lens,0,288,o3,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Pg(sM,t.lens,0,32,l3,0,t.work,{bits:5}),GT=!1}t.lencode=o3,t.lenbits=9,t.distcode=l3,t.distbits=5},pM=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Khe=(t,e)=>{let r,n,i,s,a,o,l,c,u,p,g,m,y,w,_=0,E,L,I,V,G,X,R,A;const C=new Uint8Array(4);let D,N;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(J0(t)||!t.output||!t.input&&t.avail_in!==0)return uc;r=t.state,r.mode===id&&(r.mode=i3),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,p=o,g=l,A=F0;e:for(;;)switch(r.mode){case c4:if(r.wrap===0){r.mode=i3;break}for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=c&255,C[1]=c>>>8&255,r.check=cu(r.check,C,2,0),c=0,u=0,r.mode=ET;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=ji;break}if((c&15)!==ST){t.msg="unknown compression method",r.mode=ji;break}if(c>>>=4,u-=4,R=(c&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){t.msg="invalid window size",r.mode=ji;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?LT:id,c=0,u=0;break;case ET:for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==ST){t.msg="unknown compression method",r.mode=ji;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=ji;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=cu(r.check,C,2,0)),c=0,u=0,r.mode=CT;case CT:for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,r.check=cu(r.check,C,4,0)),c=0,u=0,r.mode=TT;case TT:for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=cu(r.check,C,2,0)),c=0,u=0,r.mode=AT;case AT:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=cu(r.check,C,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=NT;case NT:if(r.flags&1024&&(m=r.length,m>o&&(m=o),m&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+m),R)),r.flags&512&&r.wrap&4&&(r.check=cu(r.check,n,m,s)),o-=m,s+=m,r.length-=m),r.length))break e;r.length=0,r.mode=IT;case IT:if(r.flags&2048){if(o===0)break e;m=0;do R=n[s+m++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&m<o);if(r.flags&512&&r.wrap&4&&(r.check=cu(r.check,n,m,s)),o-=m,s+=m,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=PT;case PT:if(r.flags&4096){if(o===0)break e;m=0;do R=n[s+m++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&m<o);if(r.flags&512&&r.wrap&4&&(r.check=cu(r.check,n,m,s)),o-=m,s+=m,R)break e}else r.head&&(r.head.comment=null);r.mode=RT;case RT:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=ji;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=id;break;case LT:for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}t.adler=r.check=WT(c),c=0,u=0,r.mode=s5;case s5:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=u,Bhe;t.adler=r.check=1,r.mode=id;case id:if(e===Ohe||e===bv)break e;case i3:if(r.last){c>>>=u&7,u-=u&7,r.mode=a3;break}for(;u<3;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=FT;break;case 1:if(Ghe(r),r.mode=kv,e===bv){c>>>=2,u-=2;break e}break;case 2:r.mode=DT;break;case 3:t.msg="invalid block type",r.mode=ji}c>>>=2,u-=2;break;case FT:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ji;break}if(r.length=c&65535,c=0,u=0,r.mode=s3,e===bv)break e;case s3:r.mode=jT;case jT:if(m=r.length,m){if(m>o&&(m=o),m>l&&(m=l),m===0)break e;i.set(n.subarray(s,s+m),a),o-=m,s+=m,l-=m,a+=m,r.length-=m;break}r.mode=id;break;case DT:for(;u<14;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ji;break}r.have=0,r.mode=OT;case OT:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.lens[j[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[j[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},A=Pg(Dhe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,A){t.msg="invalid code lengths set",r.mode=ji;break}r.have=0,r.mode=MT;case MT:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[c&(1<<r.lenbits)-1],E=_>>>24,L=_>>>16&255,I=_&65535,!(E<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(I<16)c>>>=E,u-=E,r.lens[r.have++]=I;else{if(I===16){for(N=E+2;u<N;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(c>>>=E,u-=E,r.have===0){t.msg="invalid bit length repeat",r.mode=ji;break}R=r.lens[r.have-1],m=3+(c&3),c>>>=2,u-=2}else if(I===17){for(N=E+3;u<N;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=E,u-=E,R=0,m=3+(c&7),c>>>=3,u-=3}else{for(N=E+7;u<N;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=E,u-=E,R=0,m=11+(c&127),c>>>=7,u-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ji;break}for(;m--;)r.lens[r.have++]=R}}if(r.mode===ji)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=ji;break}if(r.lenbits=9,D={bits:r.lenbits},A=Pg(iM,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,A){t.msg="invalid literal/lengths set",r.mode=ji;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},A=Pg(sM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,A){t.msg="invalid distances set",r.mode=ji;break}if(r.mode=kv,e===bv)break e;case kv:r.mode=Sv;case Sv:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=u,Ihe(t,g),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,u=r.bits,r.mode===id&&(r.back=-1);break}for(r.back=0;_=r.lencode[c&(1<<r.lenbits)-1],E=_>>>24,L=_>>>16&255,I=_&65535,!(E<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(L&&(L&240)===0){for(V=E,G=L,X=I;_=r.lencode[X+((c&(1<<V+G)-1)>>V)],E=_>>>24,L=_>>>16&255,I=_&65535,!(V+E<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=V,u-=V,r.back+=V}if(c>>>=E,u-=E,r.back+=E,r.length=I,L===0){r.mode=$T;break}if(L&32){r.back=-1,r.mode=id;break}if(L&64){t.msg="invalid literal/length code",r.mode=ji;break}r.extra=L&15,r.mode=BT;case BT:if(r.extra){for(N=r.extra;u<N;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=VT;case VT:for(;_=r.distcode[c&(1<<r.distbits)-1],E=_>>>24,L=_>>>16&255,I=_&65535,!(E<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if((L&240)===0){for(V=E,G=L,X=I;_=r.distcode[X+((c&(1<<V+G)-1)>>V)],E=_>>>24,L=_>>>16&255,I=_&65535,!(V+E<=u);){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}c>>>=V,u-=V,r.back+=V}if(c>>>=E,u-=E,r.back+=E,L&64){t.msg="invalid distance code",r.mode=ji;break}r.offset=I,r.extra=L&15,r.mode=UT;case UT:if(r.extra){for(N=r.extra;u<N;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ji;break}r.mode=zT;case zT:if(l===0)break e;if(m=g-l,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ji;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),w=r.window}else w=i,y=a-r.offset,m=r.length;m>l&&(m=l),l-=m,r.length-=m;do i[a++]=w[y++];while(--m);r.length===0&&(r.mode=Sv);break;case $T:if(l===0)break e;i[a++]=r.length,l--,r.mode=Sv;break;case a3:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[s++]<<u,u+=8}if(g-=l,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?cu(r.check,i,g,a-g):ib(r.check,i,g,a-g)),g=l,r.wrap&4&&(r.flags?c:WT(c))!==r.check){t.msg="incorrect data check",r.mode=ji;break}c=0,u=0}r.mode=qT;case qT:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[s++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=ji;break}c=0,u=0}r.mode=HT;case HT:A=Mhe;break e;case ji:A=aM;break e;case lM:return oM;case cM:default:return uc}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=u,(r.wsize||g!==t.avail_out&&r.mode<ji&&(r.mode<a3||e!==kT))&&pM(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?cu(r.check,i,g,t.next_out-g):ib(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===id?128:0)+(r.mode===kv||r.mode===s3?256:0),(p===0&&g===0||e===kT)&&A===F0&&(A=Vhe),A},Xhe=t=>{if(J0(t))return uc;let e=t.state;return e.window&&(e.window=null),t.state=null,F0},Yhe=(t,e)=>{if(J0(t))return uc;const r=t.state;return(r.wrap&2)===0?uc:(r.head=e,e.done=!1,F0)},Qhe=(t,e)=>{const r=e.length;let n,i,s;return J0(t)||(n=t.state,n.wrap!==0&&n.mode!==s5)?uc:n.mode===s5&&(i=1,i=ib(i,e,r,0),i!==n.check)?aM:(s=pM(t,e,r,r),s?(n.mode=lM,oM):(n.havedict=1,F0))};var Jhe=dM,Zhe=fM,e0e=uM,t0e=Whe,r0e=hM,n0e=Khe,i0e=Xhe,s0e=Yhe,a0e=Qhe,o0e="pako inflate (from Nodeca project)",sd={inflateReset:Jhe,inflateReset2:Zhe,inflateResetKeep:e0e,inflateInit:t0e,inflateInit2:r0e,inflate:n0e,inflateEnd:i0e,inflateGetHeader:s0e,inflateSetDictionary:a0e,inflateInfo:o0e};function l0e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var c0e=l0e;const mM=Object.prototype.toString,{Z_NO_FLUSH:u0e,Z_FINISH:d0e,Z_OK:x2,Z_STREAM_END:c3,Z_NEED_DICT:u3,Z_STREAM_ERROR:f0e,Z_DATA_ERROR:KT,Z_MEM_ERROR:h0e}=tM;function sx(t){this.options=rM.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ahe,this.strm.avail_out=0;let r=sd.inflateInit2(this.strm,e.windowBits);if(r!==x2)throw new Error(sb[r]);if(this.header=new c0e,sd.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ab.string2buf(e.dictionary):mM.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=sd.inflateSetDictionary(this.strm,e.dictionary),r!==x2)))throw new Error(sb[r])}sx.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?d0e:u0e,mM.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=sd.inflate(r,a),s===u3&&i&&(s=sd.inflateSetDictionary(r,i),s===x2?s=sd.inflate(r,a):s===KT&&(s=u3));r.avail_in>0&&s===c3&&r.state.wrap>0&&t[r.next_in]!==0;)sd.inflateReset(r),s=sd.inflate(r,a);switch(s){case f0e:case KT:case u3:case h0e:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===c3))if(this.options.to==="string"){let l=ab.utf8border(r.output,r.next_out),c=r.next_out-l,u=ab.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===x2&&o===0)){if(s===c3)return s=sd.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};sx.prototype.onData=function(t){this.chunks.push(t)};sx.prototype.onEnd=function(t){t===x2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rM.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function p0e(t,e){const r=new sx(e);if(r.push(t),r.err)throw r.msg||sb[r.err];return r.result}var m0e=sx,g0e=p0e,x0e={Inflate:m0e,inflate:g0e};const{Inflate:v0e,inflate:y0e}=x0e;var XT=v0e,w0e=y0e;const gM=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;gM[t]=e}const YT=4294967295;function _0e(t,e,r){let n=t;for(let i=0;i<r;i++)n=gM[(n^e[i])&255]^n>>>8;return n}function b0e(t,e){return(_0e(YT,t,e)^YT)>>>0}function QT(t,e,r){const n=t.readUint32(),i=b0e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function xM(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function vM(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function yM(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function wM(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function _M(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+k0e(e[s-i],r[s],r[s-i])&255}}function k0e(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function S0e(t,e,r,n,i,s){switch(t){case 0:xM(e,r,i);break;case 1:vM(e,r,i,s);break;case 2:yM(e,r,n,i);break;case 3:wM(e,r,n,i,s);break;case 4:_M(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const E0e=new Uint16Array([255]),C0e=new Uint8Array(E0e.buffer),T0e=C0e[0]===255;function A0e(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const p=a[u],g=Math.ceil((r-p.x)/p.xStep),m=Math.ceil((n-p.y)/p.yStep);if(g<=0||m<=0)continue;const y=g*o,w=new Uint8Array(y);for(let _=0;_<m;_++){const E=e[c++],L=e.subarray(c,c+y);c+=y;const I=new Uint8Array(y);S0e(E,L,I,w,y,o),w.set(I);for(let V=0;V<g;V++){const G=p.x+V*p.xStep,X=p.y+_*p.yStep;if(!(G>=r||X>=n))for(let R=0;R<o;R++)l[(X*r+G)*o+R]=I[V*o+R]}}}if(s===16){const u=new Uint16Array(l.buffer);if(T0e)for(let p=0;p<u.length;p++)u[p]=N0e(u[p]);return u}else return l}function N0e(t){return(t&255)<<8|t>>8&255}const I0e=new Uint16Array([255]),P0e=new Uint8Array(I0e.buffer),R0e=P0e[0]===255,L0e=new Uint8Array(0);function JT(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let c=L0e,u=0,p,g;for(let m=0;m<n;m++){switch(p=e.subarray(u+1,u+1+o),g=l.subarray(m*o,(m+1)*o),e[u]){case 0:xM(p,g,o);break;case 1:vM(p,g,o,a);break;case 2:yM(p,g,c,o);break;case 3:wM(p,g,c,o,a);break;case 4:_M(p,g,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=g,u+=o+1}if(s===16){const m=new Uint16Array(l.buffer);if(R0e)for(let y=0;y<m.length;y++)m[y]=F0e(m[y]);return m}else return l}function F0e(t){return(t&255)<<8|t>>8&255}const ry=Uint8Array.of(137,80,78,71,13,10,26,10);function ZT(t){if(!j0e(t.readBytes(ry.length)))throw new Error("wrong PNG signature")}function j0e(t){if(t.length<ry.length)return!1;for(let e=0;e<ry.length;e++)if(t[e]!==ry[e])return!1;return!0}const D0e="tEXt",O0e=0,bM=new TextDecoder("latin1");function M0e(t){if(V0e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const B0e=/^[\u0000-\u00FF]*$/;function V0e(t){if(!B0e.test(t))throw new Error("invalid latin1 text")}function U0e(t,e,r){const n=kM(e);t[n]=z0e(e,r-n.length-1)}function kM(t){for(t.mark();t.readByte()!==O0e;);const e=t.offset;t.reset();const r=bM.decode(t.readBytes(e-t.offset-1));return t.skip(1),M0e(r),r}function z0e(t,e){return bM.decode(t.readBytes(e))}const _l={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},d3={UNKNOWN:-1,DEFLATE:0},eA={UNKNOWN:-1,ADAPTIVE:0},f3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ev={NONE:0,BACKGROUND:1,PREVIOUS:2},h3={SOURCE:0,OVER:1};class $0e extends vk{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new XT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=d3.UNKNOWN,this._filterMethod=eA.UNKNOWN,this._interlaceMethod=f3.UNKNOWN,this._colorType=_l.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ZT(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(ZT(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case D0e:U0e(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?QT(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?QT(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=q0e(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case _l.GREYSCALE:n=1;break;case _l.TRUECOLOUR:n=3;break;case _l.INDEXED_COLOUR:n=1;break;case _l.GREYSCALE_ALPHA:n=2;break;case _l.TRUECOLOUR_ALPHA:n=4;break;case _l.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==d3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case _l.GREYSCALE:case _l.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case _l.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case _l.UNKNOWN:case _l.GREYSCALE_ALPHA:case _l.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=kM(this),n=this.readUint8();if(n!==d3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:w0e(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=JT({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Ev.NONE:break;case Ev.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[a+o]=0}break;case Ev.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(s,a)=>{const o=((s+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,l=(s*r.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(r.blendOp){case h3.SOURCE:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++)e.data[o+c]=r.data[l+c]}break;case h3.OVER:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++){const u=r.data[l+this._png.channels-1]/n,p=c%(this._png.channels-1)===0?1:r.data[l+c],g=Math.floor(u*p+(1-u)*e.data[o+c]);e.data[o+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==eA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===f3.NO_INTERLACE)this._png.data=JT({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===f3.ADAM7)this._png.data=A0e({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ev.NONE,blendOp:h3.SOURCE,data:e}),this._inflator=new XT,this._writingDataChunks=!1}}function q0e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var tA;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(tA||(tA={}));function H0e(t,e){return new $0e(t,e).decode()}var Mr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function p3(){Mr.console&&typeof Mr.console.log=="function"&&Mr.console.log.apply(Mr.console,arguments)}var ui={log:p3,warn:function(t){Mr.console&&(typeof Mr.console.warn=="function"?Mr.console.warn.apply(Mr.console,arguments):p3.call(null,arguments))},error:function(t){Mr.console&&(typeof Mr.console.error=="function"?Mr.console.error.apply(Mr.console,arguments):p3(t))}};function m3(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Vh(n.response,e,r)},n.onerror=function(){ui.error("could not download file")},n.send()}function rA(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Cv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Vh=Mr.saveAs||((typeof window>"u"?"undefined":Xn(window))!=="object"||window!==Mr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Mr.URL||Mr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?rA(i.href)?m3(t,e,r):Cv(i,i.target="_blank"):Cv(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(rA(t))m3(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Cv(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Xn(s)!=="object"&&(ui.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return m3(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Mr.HTMLElement)||Mr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Xn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(t)}else{var l=Mr.URL||Mr.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function SM(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var ny=Mr.atob.bind(Mr),nA=Mr.btoa.bind(Mr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function g3(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=fo(r,n,i,s,e[0],7,-680876936),s=fo(s,r,n,i,e[1],12,-389564586),i=fo(i,s,r,n,e[2],17,606105819),n=fo(n,i,s,r,e[3],22,-1044525330),r=fo(r,n,i,s,e[4],7,-176418897),s=fo(s,r,n,i,e[5],12,1200080426),i=fo(i,s,r,n,e[6],17,-1473231341),n=fo(n,i,s,r,e[7],22,-45705983),r=fo(r,n,i,s,e[8],7,1770035416),s=fo(s,r,n,i,e[9],12,-1958414417),i=fo(i,s,r,n,e[10],17,-42063),n=fo(n,i,s,r,e[11],22,-1990404162),r=fo(r,n,i,s,e[12],7,1804603682),s=fo(s,r,n,i,e[13],12,-40341101),i=fo(i,s,r,n,e[14],17,-1502002290),r=ho(r,n=fo(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ho(s,r,n,i,e[6],9,-1069501632),i=ho(i,s,r,n,e[11],14,643717713),n=ho(n,i,s,r,e[0],20,-373897302),r=ho(r,n,i,s,e[5],5,-701558691),s=ho(s,r,n,i,e[10],9,38016083),i=ho(i,s,r,n,e[15],14,-660478335),n=ho(n,i,s,r,e[4],20,-405537848),r=ho(r,n,i,s,e[9],5,568446438),s=ho(s,r,n,i,e[14],9,-1019803690),i=ho(i,s,r,n,e[3],14,-187363961),n=ho(n,i,s,r,e[8],20,1163531501),r=ho(r,n,i,s,e[13],5,-1444681467),s=ho(s,r,n,i,e[2],9,-51403784),i=ho(i,s,r,n,e[7],14,1735328473),r=po(r,n=ho(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=po(s,r,n,i,e[8],11,-2022574463),i=po(i,s,r,n,e[11],16,1839030562),n=po(n,i,s,r,e[14],23,-35309556),r=po(r,n,i,s,e[1],4,-1530992060),s=po(s,r,n,i,e[4],11,1272893353),i=po(i,s,r,n,e[7],16,-155497632),n=po(n,i,s,r,e[10],23,-1094730640),r=po(r,n,i,s,e[13],4,681279174),s=po(s,r,n,i,e[0],11,-358537222),i=po(i,s,r,n,e[3],16,-722521979),n=po(n,i,s,r,e[6],23,76029189),r=po(r,n,i,s,e[9],4,-640364487),s=po(s,r,n,i,e[12],11,-421815835),i=po(i,s,r,n,e[15],16,530742520),r=mo(r,n=po(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=mo(s,r,n,i,e[7],10,1126891415),i=mo(i,s,r,n,e[14],15,-1416354905),n=mo(n,i,s,r,e[5],21,-57434055),r=mo(r,n,i,s,e[12],6,1700485571),s=mo(s,r,n,i,e[3],10,-1894986606),i=mo(i,s,r,n,e[10],15,-1051523),n=mo(n,i,s,r,e[1],21,-2054922799),r=mo(r,n,i,s,e[8],6,1873313359),s=mo(s,r,n,i,e[15],10,-30611744),i=mo(i,s,r,n,e[6],15,-1560198380),n=mo(n,i,s,r,e[13],21,1309151649),r=mo(r,n,i,s,e[4],6,-145523070),s=mo(s,r,n,i,e[11],10,-1120210379),i=mo(i,s,r,n,e[2],15,718787259),n=mo(n,i,s,r,e[9],21,-343485551),t[0]=Rf(r,t[0]),t[1]=Rf(n,t[1]),t[2]=Rf(i,t[2]),t[3]=Rf(s,t[3])}function u4(t,e,r,n,i,s){return e=Rf(Rf(e,t),Rf(n,s)),Rf(e<<i|e>>>32-i,r)}function fo(t,e,r,n,i,s,a){return u4(e&r|~e&n,t,e,i,s,a)}function ho(t,e,r,n,i,s,a){return u4(e&n|r&~n,t,e,i,s,a)}function po(t,e,r,n,i,s,a){return u4(e^r^n,t,e,i,s,a)}function mo(t,e,r,n,i,s,a){return u4(r^(e|~n),t,e,i,s,a)}function EM(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)g3(n,W0e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(g3(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,g3(n,i),n}function W0e(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var iA="0123456789abcdef".split("");function G0e(t){for(var e="",r=0;r<4;r++)e+=iA[t>>8*r+4&15]+iA[t>>8*r&15];return e}function K0e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ob(t){return EM(t).map(K0e).join("")}var X0e=(function(t){for(var e=0;e<t.length;e++)t[e]=G0e(t[e]);return t.join("")})(EM("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rf(t,e){if(X0e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function lb(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=t,n=o}else o=n;var p=e.length,g=0,m=0,y="";for(l=0;l<p;l++)m=(m+(u=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=u,a=o[(o[g]+o[m])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sA={print:4,modify:8,copy:16,"annot-forms":32};function Up(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(sA.perm!==void 0)throw new Error("Invalid permission: "+o);i+=sA[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=ob(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=lb(this.encryptionKey,this.padding)}function zp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function aA(t){if(Xn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Mr.console&&ui.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function a5(t){if(!(this instanceof a5))return new a5(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function CM(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Kh(t,e,r,n,i){if(!(this instanceof Kh))return new Kh(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,CM.call(this,n,i)}function qp(t,e,r,n,i){if(!(this instanceof qp))return new qp(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,CM.call(this,n,i)}function yr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Xn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=aA;var y="1.3",w=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(M){y=M};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return _};var E=m.__private__.getPageFormat=function(M){return _[M]};i=i||"a4";var L="compat",I="advanced",V=L;function G(){this.saveGraphicsState(),me(new ar(vt,0,0,-vt,0,Fs()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),c="n",V=I}function X(){this.restoreGraphicsState(),c="S",V=L}var R=m.__private__.combineFontStyleAndFontWeight=function(M,ee){if(M=="bold"&&ee=="normal"||M=="bold"&&ee==400||M=="normal"&&ee=="italic"||M=="bold"&&ee=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ee&&(M=ee==400||ee==="normal"?M==="italic"?"italic":"normal":ee!=700&&ee!=="bold"||M!=="normal"?(ee==700?"bold":ee)+""+M:"bold"),M};m.advancedAPI=function(M){var ee=V===L;return ee&&G.call(this),typeof M!="function"||(M(this),ee&&X.call(this)),this},m.compatAPI=function(M){var ee=V===I;return ee&&X.call(this),typeof M!="function"||(M(this),ee&&G.call(this)),this},m.isAdvancedAPI=function(){return V===I};var A,C=function(M){if(V!==I)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=m.roundToPrecision=m.__private__.roundToPrecision=function(M,ee){var Ce=e||ee;if(isNaN(M)||isNaN(Ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ce).replace(/0+$/,"")};A=m.hpf=m.__private__.hpf=typeof l=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,l)}:l==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,16)};var N=m.f2=m.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return D(M,2)},j=m.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return D(M,3)},B=m.scale=m.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return V===L?M*vt:V===I?M:void 0},te=function(M){return B((function(ee){return V===L?Fs()-ee:V===I?ee:void 0})(M))};m.__private__.setPrecision=m.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var he,_e="00000000000000000000000000000000",fe=m.__private__.getFileId=function(){return _e},ie=m.__private__.setFileId=function(M){return _e=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():_e.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Pn=new Up(u.userPermissions,u.userPassword,u.ownerPassword,_e)),_e};m.setFileId=function(M){return ie(M),this},m.getFileId=function(){return fe()};var W=m.__private__.convertDateToPDFDate=function(M){var ee=M.getTimezoneOffset(),Ce=ee<0?"+":"-",Be=Math.floor(Math.abs(ee/60)),He=Math.abs(ee%60),xt=[Ce,K(Be),"'",K(He),"'"].join("");return["D:",M.getFullYear(),K(M.getMonth()+1),K(M.getDate()),K(M.getHours()),K(M.getMinutes()),K(M.getSeconds()),xt].join("")},ue=m.__private__.convertPDFDateToDate=function(M){var ee=parseInt(M.substr(2,4),10),Ce=parseInt(M.substr(6,2),10)-1,Be=parseInt(M.substr(8,2),10),He=parseInt(M.substr(10,2),10),xt=parseInt(M.substr(12,2),10),kt=parseInt(M.substr(14,2),10);return new Date(ee,Ce,Be,He,xt,kt,0)},Y=m.__private__.setCreationDate=function(M){var ee;if(M===void 0&&(M=new Date),M instanceof Date)ee=W(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ee=M}return he=ee},P=m.__private__.getCreationDate=function(M){var ee=he;return M==="jsDate"&&(ee=ue(he)),ee};m.setCreationDate=function(M){return Y(M),this},m.getCreationDate=function(M){return P(M)};var q,K=m.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},J=m.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},ce=0,ye=[],ke=[],ae=0,be=[],De=[],se=!1,Pe=ke;m.__private__.setCustomOutputDestination=function(M){se=!0,Pe=M};var Re=function(M){se||(Pe=M)};m.__private__.resetCustomOutputDestination=function(){se=!1,Pe=ke};var me=m.__private__.out=function(M){return M=M.toString(),ae+=M.length+1,Pe.push(M),Pe},Oe=m.__private__.write=function(M){return me(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Me=m.__private__.getArrayBuffer=function(M){for(var ee=M.length,Ce=new ArrayBuffer(ee),Be=new Uint8Array(Ce);ee--;)Be[ee]=M.charCodeAt(ee);return Ce},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Qe};var re=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(M){return re=V===I?M/vt:M,this};var je,st=m.__private__.getFontSize=m.getFontSize=function(){return V===L?re:re*vt},At=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(M){return At=M,this},m.__private__.getR2L=m.getR2L=function(){return At};var It,Le=m.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))je=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');je=M}else je=parseInt(M,10)};m.__private__.getZoomMode=function(){return je};var qe,We=m.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');It=M};m.__private__.getPageMode=function(){return It};var dt=m.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');qe=M};m.__private__.getLayoutMode=function(){return qe},m.__private__.setDisplayMode=m.setDisplayMode=function(M,ee,Ce){return Le(M),dt(ee),We(Ce),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(M){if(Object.keys(bt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[M]},m.__private__.getDocumentProperties=function(){return bt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(M){for(var ee in bt)bt.hasOwnProperty(ee)&&M[ee]&&(bt[ee]=M[ee]);return this},m.__private__.setDocumentProperty=function(M,ee){if(Object.keys(bt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[M]=ee};var _t,vt,St,Xt,Yt,Ut={},pr={},Ge=[],Ft={},Wt={},Vt={},mr={},wr=null,Ar=0,Jt=[],cr=new aA(m),Fn=t.hotfixes||[],Yr={},yi={},Un=[],ar=function M(ee,Ce,Be,He,xt,kt){if(!(this instanceof M))return new M(ee,Ce,Be,He,xt,kt);isNaN(ee)&&(ee=1),isNaN(Ce)&&(Ce=0),isNaN(Be)&&(Be=0),isNaN(He)&&(He=1),isNaN(xt)&&(xt=0),isNaN(kt)&&(kt=0),this._matrix=[ee,Ce,Be,He,xt,kt]};Object.defineProperty(ar.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(ar.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(ar.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(ar.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(ar.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(ar.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(ar.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(ar.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(ar.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(ar.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(ar.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(ar.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(ar.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ar.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ar.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ar.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ar.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(M)},ar.prototype.multiply=function(M){var ee=M.sx*this.sx+M.shy*this.shx,Ce=M.sx*this.shy+M.shy*this.sy,Be=M.shx*this.sx+M.sy*this.shx,He=M.shx*this.shy+M.sy*this.sy,xt=M.tx*this.sx+M.ty*this.shx+this.tx,kt=M.tx*this.shy+M.ty*this.sy+this.ty;return new ar(ee,Ce,Be,He,xt,kt)},ar.prototype.decompose=function(){var M=this.sx,ee=this.shy,Ce=this.shx,Be=this.sy,He=this.tx,xt=this.ty,kt=Math.sqrt(M*M+ee*ee),Qt=(M/=kt)*Ce+(ee/=kt)*Be;Ce-=M*Qt,Be-=ee*Qt;var tr=Math.sqrt(Ce*Ce+Be*Be);return Qt/=tr,M*(Be/=tr)<ee*(Ce/=tr)&&(M=-M,ee=-ee,Qt=-Qt,kt=-kt),{scale:new ar(kt,0,0,tr,0,0),translate:new ar(1,0,0,1,He,xt),rotate:new ar(M,ee,-ee,M,0,0),skew:new ar(1,0,Qt,1,0,0)}},ar.prototype.toString=function(M){return this.join(" ")},ar.prototype.inversed=function(){var M=this.sx,ee=this.shy,Ce=this.shx,Be=this.sy,He=this.tx,xt=this.ty,kt=1/(M*Be-ee*Ce),Qt=Be*kt,tr=-ee*kt,_r=-Ce*kt,Pr=M*kt;return new ar(Qt,tr,_r,Pr,-Qt*He-_r*xt,-tr*He-Pr*xt)},ar.prototype.applyToPoint=function(M){var ee=M.x*this.sx+M.y*this.shx+this.tx,Ce=M.x*this.shy+M.y*this.sy+this.ty;return new Ao(ee,Ce)},ar.prototype.applyToRectangle=function(M){var ee=this.applyToPoint(M),Ce=this.applyToPoint(new Ao(M.x+M.w,M.y+M.h));return new Ol(ee.x,ee.y,Ce.x-ee.x,Ce.y-ee.y)},ar.prototype.clone=function(){var M=this.sx,ee=this.shy,Ce=this.shx,Be=this.sy,He=this.tx,xt=this.ty;return new ar(M,ee,Ce,Be,He,xt)},m.Matrix=ar;var dn=m.matrixMult=function(M,ee){return ee.multiply(M)},Ws=new ar(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Ws;var Zn=function(M,ee){if(!Wt[M]){var Ce=(ee instanceof Kh?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);ee.id=Ce,Wt[M]=Ce,Ft[Ce]=ee,cr.publish("addPattern",ee)}};m.ShadingPattern=Kh,m.TilingPattern=qp,m.addShadingPattern=function(M,ee){return C("addShadingPattern()"),Zn(M,ee),this},m.beginTilingPattern=function(M){C("beginTilingPattern()"),Js(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},m.endTilingPattern=function(M,ee){C("endTilingPattern()"),ee.stream=De[q].join(`
`),Zn(M,ee),cr.publish("endTilingPattern",ee),Un.pop().restore()};var es,Tn=m.__private__.newObject=function(){var M=oi();return oe(M,!0),M},oi=m.__private__.newObjectDeferred=function(){return ce++,ye[ce]=function(){return ae},ce},oe=function(M,ee){return ee=typeof ee=="boolean"&&ee,ye[M]=ae,ee&&me(M+" 0 obj"),M},Ae=m.__private__.newAdditionalObject=function(){var M={objId:oi(),content:""};return be.push(M),M},we=oi(),Se=oi(),Ne=m.__private__.decodeColorString=function(M){var ee=M.split(" ");if(ee.length!==2||ee[1]!=="g"&&ee[1]!=="G")ee.length!==5||ee[4]!=="k"&&ee[4]!=="K"||(ee=[(1-ee[0])*(1-ee[3]),(1-ee[1])*(1-ee[3]),(1-ee[2])*(1-ee[3]),"r"]);else{var Ce=parseFloat(ee[0]);ee=[Ce,Ce,Ce,"r"]}for(var Be="#",He=0;He<3;He++)Be+=("0"+Math.floor(255*parseFloat(ee[He])).toString(16)).slice(-2);return Be},Ie=m.__private__.encodeColorString=function(M){var ee;typeof M=="string"&&(M={ch1:M});var Ce=M.ch1,Be=M.ch2,He=M.ch3,xt=M.ch4,kt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ce=="string"&&Ce.charAt(0)!=="#"){var Qt=new SM(Ce);if(Qt.ok)Ce=Qt.toHex();else if(!/^\d*\.?\d*$/.test(Ce))throw new Error('Invalid color "'+Ce+'" passed to jsPDF.encodeColorString.')}if(typeof Ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ce)&&(Ce="#"+Ce[1]+Ce[1]+Ce[2]+Ce[2]+Ce[3]+Ce[3]),typeof Ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ce)){var tr=parseInt(Ce.substr(1),16);Ce=tr>>16&255,Be=tr>>8&255,He=255&tr}if(Be===void 0||xt===void 0&&Ce===Be&&Be===He)ee=typeof Ce=="string"?Ce+" "+kt[0]:M.precision===2?N(Ce/255)+" "+kt[0]:j(Ce/255)+" "+kt[0];else if(xt===void 0||Xn(xt)==="object"){if(xt&&!isNaN(xt.a)&&xt.a===0)return["1.","1.","1.",kt[1]].join(" ");ee=typeof Ce=="string"?[Ce,Be,He,kt[1]].join(" "):M.precision===2?[N(Ce/255),N(Be/255),N(He/255),kt[1]].join(" "):[j(Ce/255),j(Be/255),j(He/255),kt[1]].join(" ")}else ee=typeof Ce=="string"?[Ce,Be,He,xt,kt[2]].join(" "):M.precision===2?[N(Ce),N(Be),N(He),N(xt),kt[2]].join(" "):[j(Ce),j(Be),j(He),j(xt),kt[2]].join(" ");return ee},Ye=m.__private__.getFilters=function(){return a},ot=m.__private__.putStream=function(M){var ee=(M=M||{}).data||"",Ce=M.filters||Ye(),Be=M.alreadyAppliedFilters||[],He=M.addLength1||!1,xt=ee.length,kt=M.objectId,Qt=function(Ii){return Ii};if(u!==null&&kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Qt=Pn.encryptor(kt,0));var tr={};Ce===!0&&(Ce=["FlateEncode"]);var _r=M.additionalKeyValues||[],Pr=(tr=yr.API.processDataByFilters!==void 0?yr.API.processDataByFilters(ee,Ce):{data:ee,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(tr.data.length!==0&&(_r.push({key:"Length",value:tr.data.length}),He===!0&&_r.push({key:"Length1",value:xt})),Pr.length!=0)if(Pr.split("/").length-1==1)_r.push({key:"Filter",value:Pr});else{_r.push({key:"Filter",value:"["+Pr+"]"});for(var ln=0;ln<_r.length;ln+=1)if(_r[ln].key==="DecodeParms"){for(var ei=[],li=0;li<tr.reverseChain.split("/").length-1;li+=1)ei.push("null");ei.push(_r[ln].value),_r[ln].value="["+ei.join(" ")+"]"}}me("<<");for(var xn=0;xn<_r.length;xn++)me("/"+_r[xn].key+" "+_r[xn].value);me(">>"),tr.data.length!==0&&(me("stream"),me(Qt(tr.data)),me("endstream"))},et=m.__private__.putPage=function(M){var ee=M.number,Ce=M.data,Be=M.objId,He=M.contentsObjId;oe(Be,!0),me("<</Type /Page"),me("/Parent "+M.rootDictionaryObjId+" 0 R"),me("/Resources "+M.resourceDictionaryObjId+" 0 R"),me("/MediaBox ["+parseFloat(A(M.mediaBox.bottomLeftX))+" "+parseFloat(A(M.mediaBox.bottomLeftY))+" "+A(M.mediaBox.topRightX)+" "+A(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&me("/CropBox ["+A(M.cropBox.bottomLeftX)+" "+A(M.cropBox.bottomLeftY)+" "+A(M.cropBox.topRightX)+" "+A(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&me("/BleedBox ["+A(M.bleedBox.bottomLeftX)+" "+A(M.bleedBox.bottomLeftY)+" "+A(M.bleedBox.topRightX)+" "+A(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&me("/TrimBox ["+A(M.trimBox.bottomLeftX)+" "+A(M.trimBox.bottomLeftY)+" "+A(M.trimBox.topRightX)+" "+A(M.trimBox.topRightY)+"]"),M.artBox!==null&&me("/ArtBox ["+A(M.artBox.bottomLeftX)+" "+A(M.artBox.bottomLeftY)+" "+A(M.artBox.topRightX)+" "+A(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&me("/UserUnit "+M.userUnit),cr.publish("putPage",{objId:Be,pageContext:Jt[ee],pageNumber:ee,page:Ce}),me("/Contents "+He+" 0 R"),me(">>"),me("endobj");var xt=Ce.join(`
`);return V===I&&(xt+=`
Q`),oe(He,!0),ot({data:xt,filters:Ye(),objectId:He}),me("endobj"),Be},tt=m.__private__.putPages=function(){var M,ee,Ce=[];for(M=1;M<=Ar;M++)Jt[M].objId=oi(),Jt[M].contentsObjId=oi();for(M=1;M<=Ar;M++)Ce.push(et({number:M,data:De[M],objId:Jt[M].objId,contentsObjId:Jt[M].contentsObjId,mediaBox:Jt[M].mediaBox,cropBox:Jt[M].cropBox,bleedBox:Jt[M].bleedBox,trimBox:Jt[M].trimBox,artBox:Jt[M].artBox,userUnit:Jt[M].userUnit,rootDictionaryObjId:we,resourceDictionaryObjId:Se}));oe(we,!0),me("<</Type /Pages");var Be="/Kids [";for(ee=0;ee<Ar;ee++)Be+=Ce[ee]+" 0 R ";me(Be+"]"),me("/Count "+Ar),me(">>"),me("endobj"),cr.publish("postPutPages")},it=function(M){cr.publish("putFont",{font:M,out:me,newObject:Tn,putStream:ot}),M.isAlreadyPutted!==!0&&(M.objectNumber=Tn(),me("<<"),me("/Type /Font"),me("/BaseFont /"+zp(M.postScriptName)),me("/Subtype /Type1"),typeof M.encoding=="string"&&me("/Encoding /"+M.encoding),me("/FirstChar 32"),me("/LastChar 255"),me(">>"),me("endobj"))},Et=function(M){M.objectNumber=Tn();var ee=[];ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Form"}),ee.push({key:"BBox",value:"["+[A(M.x),A(M.y),A(M.x+M.width),A(M.y+M.height)].join(" ")+"]"}),ee.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ce=M.pages[1].join(`
`);ot({data:Ce,additionalKeyValues:ee,objectId:M.objectNumber}),me("endobj")},Mt=function(M,ee){ee||(ee=21);var Ce=Tn(),Be=(function(kt,Qt){var tr,_r=[],Pr=1/(Qt-1);for(tr=0;tr<1;tr+=Pr)_r.push(tr);if(_r.push(1),kt[0].offset!=0){var ln={offset:0,color:kt[0].color};kt.unshift(ln)}if(kt[kt.length-1].offset!=1){var ei={offset:1,color:kt[kt.length-1].color};kt.push(ei)}for(var li="",xn=0,Ii=0;Ii<_r.length;Ii++){for(tr=_r[Ii];tr>kt[xn+1].offset;)xn++;var Dn=kt[xn].offset,ts=(tr-Dn)/(kt[xn+1].offset-Dn),$o=kt[xn].color,fl=kt[xn+1].color;li+=J(Math.round((1-ts)*$o[0]+ts*fl[0]).toString(16))+J(Math.round((1-ts)*$o[1]+ts*fl[1]).toString(16))+J(Math.round((1-ts)*$o[2]+ts*fl[2]).toString(16))}return li.trim()})(M.colors,ee),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+ee+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot({data:Be,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ce}),me("endobj"),M.objectNumber=Tn(),me("<< /ShadingType "+M.type),me("/ColorSpace /DeviceRGB");var xt="/Coords ["+A(parseFloat(M.coords[0]))+" "+A(parseFloat(M.coords[1]))+" ";M.type===2?xt+=A(parseFloat(M.coords[2]))+" "+A(parseFloat(M.coords[3])):xt+=A(parseFloat(M.coords[2]))+" "+A(parseFloat(M.coords[3]))+" "+A(parseFloat(M.coords[4]))+" "+A(parseFloat(M.coords[5])),me(xt+="]"),M.matrix&&me("/Matrix ["+M.matrix.toString()+"]"),me("/Function "+Ce+" 0 R"),me("/Extend [true true]"),me(">>"),me("endobj")},Gt=function(M,ee){var Ce=oi(),Be=Tn();ee.push({resourcesOid:Ce,objectOid:Be}),M.objectNumber=Be;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+M.boundingBox.map(A).join(" ")+"]"}),He.push({key:"XStep",value:A(M.xStep)}),He.push({key:"YStep",value:A(M.yStep)}),He.push({key:"Resources",value:Ce+" 0 R"}),M.matrix&&He.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),ot({data:M.stream,additionalKeyValues:He,objectId:M.objectNumber}),me("endobj")},Ot=function(M){for(var ee in M.objectNumber=Tn(),me("<<"),M)switch(ee){case"opacity":me("/ca "+N(M[ee]));break;case"stroke-opacity":me("/CA "+N(M[ee]))}me(">>"),me("endobj")},Pt=function(M){oe(M.resourcesOid,!0),me("<<"),me("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ee in me("/Font <<"),Ut)Ut.hasOwnProperty(ee)&&(p===!1||p===!0&&g.hasOwnProperty(ee))&&me("/"+ee+" "+Ut[ee].objectNumber+" 0 R");me(">>")})(),(function(){if(Object.keys(Ft).length>0){for(var ee in me("/Shading <<"),Ft)Ft.hasOwnProperty(ee)&&Ft[ee]instanceof Kh&&Ft[ee].objectNumber>=0&&me("/"+ee+" "+Ft[ee].objectNumber+" 0 R");cr.publish("putShadingPatternDict"),me(">>")}})(),(function(ee){if(Object.keys(Ft).length>0){for(var Ce in me("/Pattern <<"),Ft)Ft.hasOwnProperty(Ce)&&Ft[Ce]instanceof m.TilingPattern&&Ft[Ce].objectNumber>=0&&Ft[Ce].objectNumber<ee&&me("/"+Ce+" "+Ft[Ce].objectNumber+" 0 R");cr.publish("putTilingPatternDict"),me(">>")}})(M.objectOid),(function(){if(Object.keys(Vt).length>0){var ee;for(ee in me("/ExtGState <<"),Vt)Vt.hasOwnProperty(ee)&&Vt[ee].objectNumber>=0&&me("/"+ee+" "+Vt[ee].objectNumber+" 0 R");cr.publish("putGStateDict"),me(">>")}})(),(function(){for(var ee in me("/XObject <<"),Yr)Yr.hasOwnProperty(ee)&&Yr[ee].objectNumber>=0&&me("/"+ee+" "+Yr[ee].objectNumber+" 0 R");cr.publish("putXobjectDict"),me(">>")})(),me(">>"),me("endobj")},Sr=function(M){pr[M.fontName]=pr[M.fontName]||{},pr[M.fontName][M.fontStyle]=M.id},fn=function(M,ee,Ce,Be,He){var xt={id:"F"+(Object.keys(Ut).length+1).toString(10),postScriptName:M,fontName:ee,fontStyle:Ce,encoding:Be,isStandardFont:He||!1,metadata:{}};return cr.publish("addFont",{font:xt,instance:this}),Ut[xt.id]=xt,Sr(xt),xt.id},Vr=m.__private__.pdfEscape=m.pdfEscape=function(M,ee){return(function(Ce,Be){var He,xt,kt,Qt,tr,_r,Pr,ln,ei;if(kt=(Be=Be||{}).sourceEncoding||"Unicode",tr=Be.outputEncoding,(Be.autoencode||tr)&&Ut[_t].metadata&&Ut[_t].metadata[kt]&&Ut[_t].metadata[kt].encoding&&(Qt=Ut[_t].metadata[kt].encoding,!tr&&Ut[_t].encoding&&(tr=Ut[_t].encoding),!tr&&Qt.codePages&&(tr=Qt.codePages[0]),typeof tr=="string"&&(tr=Qt[tr]),tr)){for(Pr=!1,_r=[],He=0,xt=Ce.length;He<xt;He++)(ln=tr[Ce.charCodeAt(He)])?_r.push(String.fromCharCode(ln)):_r.push(Ce[He]),_r[He].charCodeAt(0)>>8&&(Pr=!0);Ce=_r.join("")}for(He=Ce.length;Pr===void 0&&He!==0;)Ce.charCodeAt(He-1)>>8&&(Pr=!0),He--;if(!Pr)return Ce;for(_r=Be.noBOM?[]:[254,255],He=0,xt=Ce.length;He<xt;He++){if((ei=(ln=Ce.charCodeAt(He))>>8)>>8)throw new Error("Character at position "+He+" of string '"+Ce+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");_r.push(ei),_r.push(ln-(ei<<8))}return String.fromCharCode.apply(void 0,_r)})(M,ee).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gn=m.__private__.beginPage=function(M){De[++Ar]=[],Jt[Ar]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},ca(Ar),Re(De[q])},Ha=function(M,ee){var Ce,Be,He;switch(r=ee||r,typeof M=="string"&&(Ce=E(M.toLowerCase()),Array.isArray(Ce)&&(Be=Ce[0],He=Ce[1])),Array.isArray(M)&&(Be=M[0]*vt,He=M[1]*vt),isNaN(Be)&&(Be=i[0],He=i[1]),(Be>14400||He>14400)&&(ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),He=Math.min(14400,He)),i=[Be,He],r.substr(0,1)){case"l":He>Be&&(i=[He,Be]);break;case"p":Be>He&&(i=[He,Be])}gn(i),Xa(Aa),me(Uo),jn!==0&&me(jn+" J"),zu!==0&&me(zu+" j"),cr.publish("addPage",{pageNumber:Ar})},Wa=function(M){M>0&&M<=Ar&&(De.splice(M,1),Jt.splice(M,1),Ar--,q>Ar&&(q=Ar),this.setPage(q))},ca=function(M){M>0&&M<=Ar&&(q=M)},hi=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return De.length-1},al=function(M,ee,Ce){var Be,He=void 0;return Ce=Ce||{},M=M!==void 0?M:Ut[_t].fontName,ee=ee!==void 0?ee:Ut[_t].fontStyle,Be=M.toLowerCase(),pr[Be]!==void 0&&pr[Be][ee]!==void 0?He=pr[Be][ee]:pr[M]!==void 0&&pr[M][ee]!==void 0?He=pr[M][ee]:Ce.disableWarning===!1&&ui.warn("Unable to look up font label for font '"+M+"', '"+ee+"'. Refer to getFontList() for available fonts."),He||Ce.noFallback||(He=pr.times[ee])==null&&(He=pr.times.normal),He},An=m.__private__.putInfo=function(){var M=Tn(),ee=function(Be){return Be};for(var Ce in u!==null&&(ee=Pn.encryptor(M,0)),me("<<"),me("/Producer ("+Vr(ee("jsPDF "+yr.version))+")"),bt)bt.hasOwnProperty(Ce)&&bt[Ce]&&me("/"+Ce.substr(0,1).toUpperCase()+Ce.substr(1)+" ("+Vr(ee(bt[Ce]))+")");me("/CreationDate ("+Vr(ee(he))+")"),me(">>"),me("endobj")},Vu=m.__private__.putCatalog=function(M){var ee=(M=M||{}).rootDictionaryObjId||we;switch(Tn(),me("<<"),me("/Type /Catalog"),me("/Pages "+ee+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":me("/OpenAction [3 0 R /FitH null]");break;case"fullheight":me("/OpenAction [3 0 R /FitV null]");break;case"fullpage":me("/OpenAction [3 0 R /Fit]");break;case"original":me("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ce=""+je;Ce.substr(Ce.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&me("/OpenAction [3 0 R /XYZ null null "+N(je)+"]")}switch(qe||(qe="continuous"),qe){case"continuous":me("/PageLayout /OneColumn");break;case"single":me("/PageLayout /SinglePage");break;case"two":case"twoleft":me("/PageLayout /TwoColumnLeft");break;case"tworight":me("/PageLayout /TwoColumnRight")}It&&me("/PageMode /"+It),cr.publish("putCatalog"),me(">>"),me("endobj")},wi=m.__private__.putTrailer=function(){me("trailer"),me("<<"),me("/Size "+(ce+1)),me("/Root "+ce+" 0 R"),me("/Info "+(ce-1)+" 0 R"),u!==null&&me("/Encrypt "+Pn.oid+" 0 R"),me("/ID [ <"+_e+"> <"+_e+"> ]"),me(">>")},Uu=m.__private__.putHeader=function(){me("%PDF-"+y),me("%")},mc=m.__private__.putXRef=function(){var M="0000000000";me("xref"),me("0 "+(ce+1)),me("0000000000 65535 f ");for(var ee=1;ee<=ce;ee++)typeof ye[ee]=="function"?me((M+ye[ee]()).slice(-10)+" 00000 n "):ye[ee]!==void 0?me((M+ye[ee]).slice(-10)+" 00000 n "):me("0000000000 00000 n ")},Ga=m.__private__.buildDocument=function(){var M;ce=0,ae=0,ke=[],ye=[],be=[],we=oi(),Se=oi(),Re(ke),cr.publish("buildDocument"),Uu(),tt(),(function(){cr.publish("putAdditionalObjects");for(var Ce=0;Ce<be.length;Ce++){var Be=be[Ce];oe(Be.objId,!0),me(Be.content),me("endobj")}cr.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var Ce in Ut)Ut.hasOwnProperty(Ce)&&(p===!1||p===!0&&g.hasOwnProperty(Ce))&&it(Ut[Ce])})(),(function(){var Ce;for(Ce in Vt)Vt.hasOwnProperty(Ce)&&Ot(Vt[Ce])})(),(function(){for(var Ce in Yr)Yr.hasOwnProperty(Ce)&&Et(Yr[Ce])})(),(function(Ce){var Be;for(Be in Ft)Ft.hasOwnProperty(Be)&&(Ft[Be]instanceof Kh?Mt(Ft[Be]):Ft[Be]instanceof qp&&Gt(Ft[Be],Ce))})(M),cr.publish("putResources"),M.forEach(Pt),Pt({resourcesOid:Se,objectOid:Number.MAX_SAFE_INTEGER}),cr.publish("postPutResources"),u!==null&&(Pn.oid=Tn(),me("<<"),me("/Filter /Standard"),me("/V "+Pn.v),me("/R "+Pn.r),me("/U <"+Pn.toHexString(Pn.U)+">"),me("/O <"+Pn.toHexString(Pn.O)+">"),me("/P "+Pn.P),me(">>"),me("endobj")),An(),Vu();var ee=ae;return mc(),wi(),me("startxref"),me(""+ee),me("%%EOF"),Re(De[q]),ke.join(`
`)},Ka=m.__private__.getBlob=function(M){return new Blob([Me(M)],{type:"application/pdf"})},Gs=m.output=m.__private__.output=(es=function(M,ee){switch(typeof(ee=ee||{})=="string"?ee={filename:ee}:ee.filename=ee.filename||"generated.pdf",M){case void 0:return Ga();case"save":m.save(ee.filename);break;case"arraybuffer":return Me(Ga());case"blob":return Ka(Ga());case"bloburi":case"bloburl":if(Mr.URL!==void 0&&typeof Mr.URL.createObjectURL=="function")return Mr.URL&&Mr.URL.createObjectURL(Ka(Ga()))||void 0;ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ce="",Be=Ga();try{Ce=nA(Be)}catch{Ce=nA(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+ee.filename+";base64,"+Ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mr)==="[object Window]"){var He="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ee.pdfObjectUrl&&(He=ee.pdfObjectUrl,xt="");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+He+'"'+xt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ee)+");<\/script></body></html>",Qt=Mr.open();return Qt!==null&&Qt.document.write(kt),Qt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mr)==="[object Window]"){var tr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ee.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ee.filename+'" width="500px" height="400px" /></body></html>',_r=Mr.open();if(_r!==null){_r.document.write(tr);var Pr=this;_r.document.documentElement.querySelector("#pdfViewer").onload=function(){_r.document.title=ee.filename,_r.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Pr.output("bloburl"))}}return _r}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ee)+'"></iframe></body></html>',ei=Mr.open();if(ei!==null&&(ei.document.write(ln),ei.document.title=ee.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return Mr.document.location.href=this.output("datauristring",ee);default:return null}},es.foo=function(){try{return es.apply(this,arguments)}catch(Ce){var M=Ce.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var ee="Error in function "+M.split(`
`)[0].split("<")[0]+": "+Ce.message;if(!Mr.console)throw new Error(ee);Mr.console.error(ee,Ce),Mr.alert&&alert(ee)}},es.foo.bar=es,es.foo),gc=function(M){return Array.isArray(Fn)===!0&&Fn.indexOf(M)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=gc("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var Pn=null;Y(),ie();var Ks=m.__private__.getPageInfo=m.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jt[M].objId,pageNumber:M,pageContext:Jt[M]}},xc=m.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ee in Jt)if(Jt[ee].objId===M)break;return Ks(ee)},Fl=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Jt[q].objId,pageNumber:q,pageContext:Jt[q]}};m.addPage=function(){return Ha.apply(this,arguments),this},m.setPage=function(){return ca.apply(this,arguments),Re.call(this,De[q]),this},m.insertPage=function(M){return this.addPage(),this.movePage(q,M),this},m.movePage=function(M,ee){var Ce,Be;if(M>ee){Ce=De[M],Be=Jt[M];for(var He=M;He>ee;He--)De[He]=De[He-1],Jt[He]=Jt[He-1];De[ee]=Ce,Jt[ee]=Be,this.setPage(ee)}else if(M<ee){Ce=De[M],Be=Jt[M];for(var xt=M;xt<ee;xt++)De[xt]=De[xt+1],Jt[xt]=Jt[xt+1];De[ee]=Ce,Jt[ee]=Be,this.setPage(ee)}return this},m.deletePage=function(){return Wa.apply(this,arguments),this},m.__private__.text=m.text=function(M,ee,Ce,Be,He){var xt,kt,Qt,tr,_r,Pr,ln,ei,li,xn=(Be=Be||{}).scope||this;if(typeof M=="number"&&typeof ee=="number"&&(typeof Ce=="string"||Array.isArray(Ce))){var Ii=Ce;Ce=ee,ee=M,M=Ii}if(arguments[3]instanceof ar==0?(Qt=arguments[4],tr=arguments[5],Xn(ln=arguments[3])==="object"&&ln!==null||(typeof Qt=="string"&&(tr=Qt,Qt=null),typeof ln=="string"&&(tr=ln,ln=null),typeof ln=="number"&&(Qt=ln,ln=null),Be={flags:ln,angle:Qt,align:tr})):(C("The transform parameter of text() with a Matrix value"),li=He),isNaN(ee)||isNaN(Ce)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return xn;var Dn,ts="",$o=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:Ys,fl=xn.internal.scaleFactor;function $u(ti){return ti=ti.split("	").join(Array(Be.TabLen||9).join(" ")),Vr(ti,ln)}function yc(ti){for(var ri,zi=ti.concat(),$i=[],xs=zi.length;xs--;)typeof(ri=zi.shift())=="string"?$i.push(ri):Array.isArray(ti)&&(ri.length===1||ri[1]===void 0&&ri[2]===void 0)?$i.push(ri[0]):$i.push([ri[0],ri[1],ri[2]]);return $i}function Ui(ti,ri){var zi;if(typeof ti=="string")zi=ri(ti)[0];else if(Array.isArray(ti)){for(var $i,xs,Ul=ti.concat(),pl=[],Wd=Ul.length;Wd--;)typeof($i=Ul.shift())=="string"?pl.push(ri($i)[0]):Array.isArray($i)&&typeof $i[0]=="string"&&(xs=ri($i[0],$i[1],$i[2]),pl.push([xs[0],xs[1],xs[2]]));zi=pl}return zi}var Qa=!1,Qc=!0;if(typeof M=="string")Qa=!0;else if(Array.isArray(M)){var Na=M.concat();kt=[];for(var k,z=Na.length;z--;)(typeof(k=Na.shift())!="string"||Array.isArray(k)&&typeof k[0]!="string")&&(Qc=!1);Qa=Qc}if(Qa===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Z=re/xn.internal.scaleFactor,xe=Z*($o-1);switch(Be.baseline){case"bottom":Ce-=xe;break;case"top":Ce+=Z-xe;break;case"hanging":Ce+=Z-2*xe;break;case"middle":Ce+=Z/2-xe}if((Pr=Be.maxWidth||0)>0&&(typeof M=="string"?M=xn.splitTextToSize(M,Pr):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(ti,ri){return ti.concat(xn.splitTextToSize(ri,Pr))},[]))),xt={text:M,x:ee,y:Ce,options:Be,mutex:{pdfEscape:Vr,activeFontKey:_t,fonts:Ut,activeFontSize:re}},cr.publish("preProcessText",xt),M=xt.text,Qt=(Be=xt.options).angle,li instanceof ar==0&&Qt&&typeof Qt=="number"){Qt*=Math.PI/180,Be.rotationDirection===0&&(Qt=-Qt),V===I&&(Qt=-Qt);var Ke=Math.cos(Qt),ut=Math.sin(Qt);li=new ar(Ke,ut,-ut,Ke,0,0)}else Qt&&Qt instanceof ar&&(li=Qt);V!==I||li||(li=Ws),(_r=Be.charSpace||Ya)!==void 0&&(ts+=A(B(_r))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=Be.horizontalScale)!==void 0&&(ts+=A(100*ei)+` Tz
`),Be.lang;var jt=-1,vn=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,pi=xn.internal.getCurrentPageInfo().pageContext;switch(vn){case 0:case!1:case"fill":jt=0;break;case 1:case!0:case"stroke":jt=1;break;case 2:case"fillThenStroke":jt=2;break;case 3:case"invisible":jt=3;break;case 4:case"fillAndAddForClipping":jt=4;break;case 5:case"strokeAndAddPathForClipping":jt=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":jt=6;break;case 7:case"addToPathForClipping":jt=7}var Qr=pi.usedRenderingMode!==void 0?pi.usedRenderingMode:-1;jt!==-1?ts+=jt+` Tr
`:Qr!==-1&&(ts+=`0 Tr
`),jt!==-1&&(pi.usedRenderingMode=jt),tr=Be.align||"left";var rn,_n=re*$o,da=xn.internal.pageSize.getWidth(),Zs=Ut[_t];_r=Be.charSpace||Ya,Pr=Be.maxWidth||0,ln=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var Ja=[],hl=function(ti){return xn.getStringUnitWidth(ti,{font:Zs,charSpace:_r,fontSize:re,doKerning:!1})*re/fl};if(Object.prototype.toString.call(M)==="[object Array]"){var Ia;kt=yc(M),tr!=="left"&&(rn=kt.map(hl));var Pa,Jc=0;if(tr==="right"){ee-=rn[0],M=[],z=kt.length;for(var Ra=0;Ra<z;Ra++)Ra===0?(Pa=Ni(ee),Ia=cl(Ce)):(Pa=B(Jc-rn[Ra]),Ia=-_n),M.push([kt[Ra],Pa,Ia]),Jc=rn[Ra]}else if(tr==="center"){ee-=rn[0]/2,M=[],z=kt.length;for(var Zc=0;Zc<z;Zc++)Zc===0?(Pa=Ni(ee),Ia=cl(Ce)):(Pa=B((Jc-rn[Zc])/2),Ia=-_n),M.push([kt[Zc],Pa,Ia]),Jc=rn[Zc]}else if(tr==="left"){M=[],z=kt.length;for(var gh=0;gh<z;gh++)M.push(kt[gh])}else if(tr==="justify"&&Zs.encoding==="Identity-H"){M=[],z=kt.length,Pr=Pr!==0?Pr:da;for(var eu=0,Pi=0;Pi<z;Pi++)if(Ia=Pi===0?cl(Ce):-_n,Pa=Pi===0?Ni(ee):eu,Pi<z-1){var ep=B((Pr-rn[Pi])/(kt[Pi].split(" ").length-1)),Za=kt[Pi].split(" ");M.push([Za[0]+" ",Pa,Ia]),eu=0;for(var eo=1;eo<Za.length;eo++){var $d=(hl(Za[eo-1]+" "+Za[eo])-hl(Za[eo]))*fl+ep;eo==Za.length-1?M.push([Za[eo],$d,0]):M.push([Za[eo]+" ",$d,0]),eu-=$d}}else M.push([kt[Pi],Pa,Ia]);M.push(["",eu,0])}else{if(tr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],z=kt.length,Pr=Pr!==0?Pr:da,Pi=0;Pi<z;Pi++)Ia=Pi===0?cl(Ce):-_n,Pa=Pi===0?Ni(ee):0,Pi<z-1?Ja.push(A(B((Pr-rn[Pi])/(kt[Pi].split(" ").length-1)))):Ja.push(0),M.push([kt[Pi],Pa,Ia])}}(typeof Be.R2L=="boolean"?Be.R2L:At)===!0&&(M=Ui(M,function(ti,ri,zi){return[ti.split("").reverse().join(""),ri,zi]})),xt={text:M,x:ee,y:Ce,options:Be,mutex:{pdfEscape:Vr,activeFontKey:_t,fonts:Ut,activeFontSize:re}},cr.publish("postProcessText",xt),M=xt.text,Dn=xt.mutex.isHex||!1;var tu=Ut[_t].encoding;tu!=="WinAnsiEncoding"&&tu!=="StandardEncoding"||(M=Ui(M,function(ti,ri,zi){return[$u(ti),ri,zi]})),kt=yc(M),M=[];for(var qd,qu,wc,_c=Array.isArray(kt[0])?1:0,Bl="",Hd=function(ti,ri,zi){var $i="";return zi instanceof ar?(zi=typeof Be.angle=="number"?dn(zi,new ar(1,0,0,1,ti,ri)):dn(new ar(1,0,0,1,ti,ri),zi),V===I&&(zi=dn(new ar(1,0,0,-1,0,0),zi)),$i=zi.join(" ")+` Tm
`):$i=A(ti)+" "+A(ri)+` Td
`,$i},to=0;to<kt.length;to++){switch(Bl="",_c){case 1:wc=(Dn?"<":"(")+kt[to][0]+(Dn?">":")"),qd=parseFloat(kt[to][1]),qu=parseFloat(kt[to][2]);break;case 0:wc=(Dn?"<":"(")+kt[to]+(Dn?">":")"),qd=Ni(ee),qu=cl(Ce)}Ja!==void 0&&Ja[to]!==void 0&&(Bl=Ja[to]+` Tw
`),to===0?M.push(Bl+Hd(qd,qu,li)+wc):_c===0?M.push(Bl+wc):_c===1&&M.push(Bl+Hd(qd,qu,li)+wc)}M=_c===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Vl=`BT
/`;return Vl+=_t+" "+re+` Tf
`,Vl+=A(re*$o)+` TL
`,Vl+=Qs+`
`,Vl+=ts,Vl+=M,me(Vl+="ET"),g[_t]=!0,xn};var jl=m.__private__.clip=m.clip=function(M){return me(M==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return jl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return me("n"),this};var tn=m.__private__.isValidStyle=function(M){var ee=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(ee=!0),ee};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(M){return tn(M)&&(c=M),this};var ol=m.__private__.getStyle=m.getStyle=function(M){var ee=c;switch(M){case"D":case"S":ee="S";break;case"F":ee="f";break;case"FD":case"DF":ee="B";break;case"f":case"f*":case"B":case"B*":ee=M}return ee},Kr=m.close=function(){return me("h"),this};m.stroke=function(){return me("S"),this},m.fill=function(M){return Ta("f",M),this},m.fillEvenOdd=function(M){return Ta("f*",M),this},m.fillStroke=function(M){return Ta("B",M),this},m.fillStrokeEvenOdd=function(M){return Ta("B*",M),this};var Ta=function(M,ee){Xn(ee)==="object"?Bd(ee,M):me(M)},Gc=function(M){M===null||V===I&&M===void 0||(M=ol(M),me(M))};function Kc(M,ee,Ce,Be,He){var xt=new qp(ee||this.boundingBox,Ce||this.xStep,Be||this.yStep,this.gState,He||this.matrix);xt.stream=this.stream;var kt=M+"$$"+this.cloneIndex+++"$$";return Zn(kt,xt),xt}var Bd=function(M,ee){var Ce=Wt[M.key],Be=Ft[Ce];if(Be instanceof Kh)me("q"),me(Vd(ee)),Be.gState&&m.setGState(Be.gState),me(M.matrix.toString()+" cm"),me("/"+Ce+" sh"),me("Q");else if(Be instanceof qp){var He=new ar(1,0,0,-1,0,Fs());M.matrix&&(He=He.multiply(M.matrix||Ws),Ce=Kc.call(Be,M.key,M.boundingBox,M.xStep,M.yStep,He).id),me("q"),me("/Pattern cs"),me("/"+Ce+" scn"),Be.gState&&m.setGState(Be.gState),me(ee),me("Q")}},Vd=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Xc=m.moveTo=function(M,ee){return me(A(B(M))+" "+A(te(ee))+" m"),this},ll=m.lineTo=function(M,ee){return me(A(B(M))+" "+A(te(ee))+" l"),this},Xs=m.curveTo=function(M,ee,Ce,Be,He,xt){return me([A(B(M)),A(te(ee)),A(B(Ce)),A(te(Be)),A(B(He)),A(te(xt)),"c"].join(" ")),this};m.__private__.line=m.line=function(M,ee,Ce,Be,He){if(isNaN(M)||isNaN(ee)||isNaN(Ce)||isNaN(Be)||!tn(He))throw new Error("Invalid arguments passed to jsPDF.line");return V===L?this.lines([[Ce-M,Be-ee]],M,ee,[1,1],He||"S"):this.lines([[Ce-M,Be-ee]],M,ee,[1,1]).stroke()},m.__private__.lines=m.lines=function(M,ee,Ce,Be,He,xt){var kt,Qt,tr,_r,Pr,ln,ei,li,xn,Ii,Dn,ts;if(typeof M=="number"&&(ts=Ce,Ce=ee,ee=M,M=ts),Be=Be||[1,1],xt=xt||!1,isNaN(ee)||isNaN(Ce)||!Array.isArray(M)||!Array.isArray(Be)||!tn(He)||typeof xt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xc(ee,Ce),kt=Be[0],Qt=Be[1],_r=M.length,Ii=ee,Dn=Ce,tr=0;tr<_r;tr++)(Pr=M[tr]).length===2?(Ii=Pr[0]*kt+Ii,Dn=Pr[1]*Qt+Dn,ll(Ii,Dn)):(ln=Pr[0]*kt+Ii,ei=Pr[1]*Qt+Dn,li=Pr[2]*kt+Ii,xn=Pr[3]*Qt+Dn,Ii=Pr[4]*kt+Ii,Dn=Pr[5]*Qt+Dn,Xs(ln,ei,li,xn,Ii,Dn));return xt&&Kr(),Gc(He),this},m.path=function(M){for(var ee=0;ee<M.length;ee++){var Ce=M[ee],Be=Ce.c;switch(Ce.op){case"m":Xc(Be[0],Be[1]);break;case"l":ll(Be[0],Be[1]);break;case"c":Xs.apply(this,Be);break;case"h":Kr()}}return this},m.__private__.rect=m.rect=function(M,ee,Ce,Be,He){if(isNaN(M)||isNaN(ee)||isNaN(Ce)||isNaN(Be)||!tn(He))throw new Error("Invalid arguments passed to jsPDF.rect");return V===L&&(Be=-Be),me([A(B(M)),A(te(ee)),A(B(Ce)),A(B(Be)),"re"].join(" ")),Gc(He),this},m.__private__.triangle=m.triangle=function(M,ee,Ce,Be,He,xt,kt){if(isNaN(M)||isNaN(ee)||isNaN(Ce)||isNaN(Be)||isNaN(He)||isNaN(xt)||!tn(kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ce-M,Be-ee],[He-Ce,xt-Be],[M-He,ee-xt]],M,ee,[1,1],kt,!0),this},m.__private__.roundedRect=m.roundedRect=function(M,ee,Ce,Be,He,xt,kt){if(isNaN(M)||isNaN(ee)||isNaN(Ce)||isNaN(Be)||isNaN(He)||isNaN(xt)||!tn(kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qt=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*Ce),xt=Math.min(xt,.5*Be),this.lines([[Ce-2*He,0],[He*Qt,0,He,xt-xt*Qt,He,xt],[0,Be-2*xt],[0,xt*Qt,-He*Qt,xt,-He,xt],[2*He-Ce,0],[-He*Qt,0,-He,-xt*Qt,-He,-xt],[0,2*xt-Be],[0,-xt*Qt,He*Qt,-xt,He,-xt]],M+He,ee,[1,1],kt,!0),this},m.__private__.ellipse=m.ellipse=function(M,ee,Ce,Be,He){if(isNaN(M)||isNaN(ee)||isNaN(Ce)||isNaN(Be)||!tn(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xt=4/3*(Math.SQRT2-1)*Ce,kt=4/3*(Math.SQRT2-1)*Be;return Xc(M+Ce,ee),Xs(M+Ce,ee-kt,M+xt,ee-Be,M,ee-Be),Xs(M-xt,ee-Be,M-Ce,ee-kt,M-Ce,ee),Xs(M-Ce,ee+kt,M-xt,ee+Be,M,ee+Be),Xs(M+xt,ee+Be,M+Ce,ee+kt,M+Ce,ee),Gc(He),this},m.__private__.circle=m.circle=function(M,ee,Ce,Be){if(isNaN(M)||isNaN(ee)||isNaN(Ce)||!tn(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,ee,Ce,Ce,Be)},m.setFont=function(M,ee,Ce){return Ce&&(ee=R(ee,Ce)),_t=al(M,ee,{disableWarning:!1}),this};var ms=m.__private__.getFont=m.getFont=function(){return Ut[al.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var M,ee,Ce={};for(M in pr)if(pr.hasOwnProperty(M))for(ee in Ce[M]=[],pr[M])pr[M].hasOwnProperty(ee)&&Ce[M].push(ee);return Ce},m.addFont=function(M,ee,Ce,Be,He){var xt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xt.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&xt.indexOf(arguments[3])==-1&&(Ce=R(Ce,Be)),fn.call(this,M,ee,Ce,He=He||"Identity-H")};var Ys,Aa=t.lineWidth||.200025,kr=m.__private__.getLineWidth=m.getLineWidth=function(){return Aa},Xa=m.__private__.setLineWidth=m.setLineWidth=function(M){return Aa=M,me(A(B(M))+" w"),this};m.__private__.setLineDash=yr.API.setLineDash=yr.API.setLineDashPattern=function(M,ee){if(M=M||[],ee=ee||0,isNaN(ee)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Ce){return A(B(Ce))}).join(" "),ee=A(B(ee)),me("["+M+"] "+ee+" d"),this};var Vo=m.__private__.getLineHeight=m.getLineHeight=function(){return re*Ys};m.__private__.getLineHeight=m.getLineHeight=function(){return re*Ys};var mh=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Ys=M),this},Ud=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ys};mh(t.lineHeight);var Ni=m.__private__.getHorizontalCoordinate=function(M){return B(M)},cl=m.__private__.getVerticalCoordinate=function(M){return V===I?M:Jt[q].mediaBox.topRightY-Jt[q].mediaBox.bottomLeftY-B(M)},zd=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(M){return A(Ni(M))},ul=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(M){return A(cl(M))},Uo=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ne(Uo)},m.__private__.setStrokeColor=m.setDrawColor=function(M,ee,Ce,Be){return Uo=Ie({ch1:M,ch2:ee,ch3:Ce,ch4:Be,pdfColorType:"draw",precision:2}),me(Uo),this};var Yc=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ne(Yc)},m.__private__.setFillColor=m.setFillColor=function(M,ee,Ce,Be){return Yc=Ie({ch1:M,ch2:ee,ch3:Ce,ch4:Be,pdfColorType:"fill",precision:2}),me(Yc),this};var Qs=t.textColor||"0 g",ua=m.__private__.getTextColor=m.getTextColor=function(){return Ne(Qs)};m.__private__.setTextColor=m.setTextColor=function(M,ee,Ce,Be){return Qs=Ie({ch1:M,ch2:ee,ch3:Ce,ch4:Be,pdfColorType:"text",precision:3}),this};var Ya=t.charSpace,Dl=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Ya||0)};m.__private__.setCharSpace=m.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ya=M,this};var jn=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(M){var ee=m.CapJoinStyles[M];if(ee===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jn=ee,me(ee+" J"),this};var zu=0;m.__private__.setLineJoin=m.setLineJoin=function(M){var ee=m.CapJoinStyles[M];if(ee===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return zu=ee,me(ee+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return me(A(B(M))+" M"),this},m.GState=a5,m.setGState=function(M){(M=typeof M=="string"?Vt[mr[M]]:dl(null,M)).equals(wr)||(me("/"+M.id+" gs"),wr=M)};var dl=function(M,ee){if(!M||!mr[M]){var Ce=!1;for(var Be in Vt)if(Vt.hasOwnProperty(Be)&&Vt[Be].equals(ee)){Ce=!0;break}if(Ce)ee=Vt[Be];else{var He="GS"+(Object.keys(Vt).length+1).toString(10);Vt[He]=ee,ee.id=He}return M&&(mr[M]=ee.id),cr.publish("addGState",ee),ee}};m.addGState=function(M,ee){return dl(M,ee),this},m.saveGraphicsState=function(){return me("q"),Ge.push({key:_t,size:re,color:Qs}),this},m.restoreGraphicsState=function(){me("Q");var M=Ge.pop();return _t=M.key,re=M.size,Qs=M.color,wr=null,this},m.setCurrentTransformationMatrix=function(M){return me(M.toString()+" cm"),this},m.comment=function(M){return me("#"+M),this};var Ao=function(M,ee){var Ce=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ce},set:function(xt){isNaN(xt)||(Ce=parseFloat(xt))}});var Be=ee||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(xt){isNaN(xt)||(Be=parseFloat(xt))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(xt){He=xt.toString()}}),this},Ol=function(M,ee,Ce,Be){Ao.call(this,M,ee),this.type="rect";var He=Ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(kt){isNaN(kt)||(He=parseFloat(kt))}});var xt=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xt},set:function(kt){isNaN(kt)||(xt=parseFloat(kt))}}),this},Ml=function(){this.page=Ar,this.currentPage=q,this.pages=De.slice(0),this.pagesContext=Jt.slice(0),this.x=St,this.y=Xt,this.matrix=Yt,this.width=Ls(q),this.height=Fs(q),this.outputDestination=Pe,this.id="",this.objectNumber=-1};Ml.prototype.restore=function(){Ar=this.page,q=this.currentPage,Jt=this.pagesContext,De=this.pages,St=this.x,Xt=this.y,Yt=this.matrix,vc(q,this.width),gs(q,this.height),Pe=this.outputDestination};var Js=function(M,ee,Ce,Be,He){Un.push(new Ml),Ar=q=0,De=[],St=M,Xt=ee,Yt=He,gn([Ce,Be])};for(var zo in m.beginFormObject=function(M,ee,Ce,Be,He){return Js(M,ee,Ce,Be,He),this},m.endFormObject=function(M){return(function(ee){if(yi[ee])Un.pop().restore();else{var Ce=new Ml,Be="Xo"+(Object.keys(Yr).length+1).toString(10);Ce.id=Be,yi[ee]=Be,Yr[Be]=Ce,cr.publish("addFormObject",Ce),Un.pop().restore()}})(M),this},m.doFormObject=function(M,ee){var Ce=Yr[yi[M]];return me("q"),me(ee.toString()+" cm"),me("/"+Ce.id+" Do"),me("Q"),this},m.getFormObject=function(M){var ee=Yr[yi[M]];return{x:ee.x,y:ee.y,width:ee.width,height:ee.height,matrix:ee.matrix}},m.save=function(M,ee){return M=M||"generated.pdf",(ee=ee||{}).returnPromise=ee.returnPromise||!1,ee.returnPromise===!1?(Vh(Ka(Ga()),M),typeof Vh.unload=="function"&&Mr.setTimeout&&setTimeout(Vh.unload,911),this):new Promise(function(Ce,Be){try{var He=Vh(Ka(Ga()),M);typeof Vh.unload=="function"&&Mr.setTimeout&&setTimeout(Vh.unload,911),Ce(He)}catch(xt){Be(xt.message)}})},yr.API)yr.API.hasOwnProperty(zo)&&(zo==="events"&&yr.API.events.length?(function(M,ee){var Ce,Be,He;for(He=ee.length-1;He!==-1;He--)Ce=ee[He][0],Be=ee[He][1],M.subscribe.apply(M,[Ce].concat(typeof Be=="function"?[Be]:Be))})(cr,yr.API.events):m[zo]=yr.API[zo]);var Ls=m.getPageWidth=function(M){return(Jt[M=M||q].mediaBox.topRightX-Jt[M].mediaBox.bottomLeftX)/vt},vc=m.setPageWidth=function(M,ee){Jt[M].mediaBox.topRightX=ee*vt+Jt[M].mediaBox.bottomLeftX},Fs=m.getPageHeight=function(M){return(Jt[M=M||q].mediaBox.topRightY-Jt[M].mediaBox.bottomLeftY)/vt},gs=m.setPageHeight=function(M,ee){Jt[M].mediaBox.topRightY=ee*vt+Jt[M].mediaBox.bottomLeftY};return m.internal={pdfEscape:Vr,getStyle:ol,getFont:ms,getFontSize:st,getCharSpace:Dl,getTextColor:ua,getLineHeight:Vo,getLineHeightFactor:Ud,getLineWidth:kr,write:Oe,getHorizontalCoordinate:Ni,getVerticalCoordinate:cl,getCoordinateString:zd,getVerticalCoordinateString:ul,collections:{},newObject:Tn,newAdditionalObject:Ae,newObjectDeferred:oi,newObjectDeferredBegin:oe,getFilters:Ye,putStream:ot,events:cr,scaleFactor:vt,pageSize:{getWidth:function(){return Ls(q)},setWidth:function(M){vc(q,M)},getHeight:function(){return Fs(q)},setHeight:function(M){gs(q,M)}},encryptionOptions:u,encryption:Pn,getEncryptor:function(M){return u!==null?Pn.encryptor(M,0):function(ee){return ee}},output:Gs,getNumberOfPages:hi,pages:De,out:me,f2:N,f3:j,getPageInfo:Ks,getPageInfoByObjId:xc,getCurrentPageInfo:Fl,getPDFVersion:w,Point:Ao,Rectangle:Ol,Matrix:ar,hasHotfix:gc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ls(q)},set:function(M){vc(q,M)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Fs(q)},set:function(M){gs(q,M)},enumerable:!0,configurable:!0}),(function(M){for(var ee=0,Ce=Qe.length;ee<Ce;ee++){var Be=fn.call(this,M[ee][0],M[ee][1],M[ee][2],Qe[ee][3],!0);p===!1&&(g[Be]=!0);var He=M[ee][0].split("-");Sr({id:Be,fontName:He[0],fontStyle:He[1]||""})}cr.publish("addFonts",{fonts:Ut,dictionary:pr})}).call(m,Qe),_t="F1",Ha(i,r),cr.publish("initialized"),m}Up.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Up.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Up.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Up.prototype.processOwnerPassword=function(t,e){return lb(ob(e).substr(0,5),t)},Up.prototype.encryptor=function(t,e){var r=ob(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return lb(r,n)}},a5.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Xn(t)!==Xn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},yr.API={events:[]},yr.version="3.0.2";var as=yr.API,yk=1,Z0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},qr=function(t){return t.toFixed(2)},xf=function(t){return t.toFixed(5)};as.__acroform__={};var sl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},oA=function(t){return t*yk},hu=function(t){var e=new AM,r=dr.internal.getHeight(t)||0,n=dr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(qr(n)),Number(qr(r))],e},Y0e=as.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Q0e=as.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},J0e=as.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ss=as.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J0e(t,e-1)},Es=as.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Y0e(t,e-1)},Cs=as.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Q0e(t,e-1)},Z0e=as.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(qr(l.lowerLeft_X)),Number(qr(l.lowerLeft_Y)),Number(qr(l.upperRight_X)),Number(qr(l.upperRight_Y))]},epe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=cb(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+qr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=hu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},cb=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=r,a=dr.internal.getHeight(t)||0;a=a<0?-a:a;var o=dr.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(N,j,B){if(N+1<i.length){var te=j+" "+i[N+1][0];return Tv(te,t,B).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,p=Tv("3",t,s).height,g=t.multiline?a-s:(a-p)/2,m=g+=2,y=0,w=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Tv(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var E="",L=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var V=!1;if(i[I].length!==1&&_!==i[I].length-1){if((p+2)*(L+2)+2>a)continue e;E+=i[I][_],V=!0,w=I,I--}else{E=(E+=i[I][_]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var G=parseInt(I),X=l(G,E,s),R=I>=i.length-1;if(X&&!R){E+=" ",_=0;continue}if(X||R){if(R)w=G;else if(t.multiline&&(p+2)*(L+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(L+2)+2>a)continue e;w=G}}for(var A="",C=y;C<=w;C++){var D=i[C];if(t.multiline){if(C===w){A+=D[_]+" ",_=(_+1)%D.length;continue}if(C===y){A+=D[D.length-1]+" ";continue}}A+=D[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=Tv(A,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}e+=qr(c)+" "+qr(m)+` Td
`,e+="("+Z0(A)+`) Tj
`,e+=-qr(c)+` 0 Td
`,m=-(s+2),u=0,y=V?w:w+1,L++,E=""}break}return n.text=e,n.fontSize=s,n},Tv=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},tpe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},rpe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},npe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Hc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(tpe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");yk=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new NM,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&rpe(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=Z0e(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=dr.createDefaultAppearanceStream(o),Xn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=epe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var y=m[a];typeof y=="function"&&(y=y.call(i,o)),p+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(i,o)),p+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&(function(w,_){for(var E in w)if(w.hasOwnProperty(E)){var L=E,I=w[E];_.internal.newObjectDeferredBegin(I.objId,!0),Xn(I)==="object"&&typeof I.putStream=="function"&&I.putStream(),delete w[L]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},TM=as.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Xn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Z0(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},x3=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Z0(n(t))+")"},_u=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_u.prototype.toString=function(){return this.objId+" 0 R"},_u.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},_u.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:TM(i,this.objId,this.scope)}):i instanceof _u?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var AM=function(){_u.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};sl(AM,_u);var NM=function(){_u.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Z0(r(t))+")"}},set:function(r){t=r}})};sl(NM,_u);var Hc=function t(){_u.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ss(e,3)},set:function(E){E?this.F=Es(e,3):this.F=Cs(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');r=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof o5)return;s="FieldObject"+t.FieldNum++}var E=function(L){return L};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Z0(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/yk:c},set:function(E){c=E}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof o5||this instanceof u0))return x3(p,this.objId,this.scope)},set:function(E){E=E.toString(),p=E}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ba==0?x3(g,this.objId,this.scope):g},set:function(E){E=E.toString(),g=this instanceof ba==0?E.substr(0,1)==="("?Rp(E.substr(1,E.length-2)):Rp(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ba==1?Rp(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof ba==1?"/"+E:E}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ba==0?x3(m,this.objId,this.scope):m},set:function(E){E=E.toString(),m=this instanceof ba==0?E.substr(0,1)==="("?Rp(E.substr(1,E.length-2)):Rp(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ba==1?Rp(m.substr(1,m.length-1)):m},set:function(E){E=E.toString(),m=this instanceof ba==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(E){E=!!E,w=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(E){y=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,1)},set:function(E){E?this.Ff=Es(this.Ff,1):this.Ff=Cs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,2)},set:function(E){E?this.Ff=Es(this.Ff,2):this.Ff=Cs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,3)},set:function(E){E?this.Ff=Es(this.Ff,3):this.Ff=Cs(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');_=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(_){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};sl(Hc,_u);var c1=function(){Hc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return TM(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,18)},set:function(r){r?this.Ff=Es(this.Ff,18):this.Ff=Cs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Es(this.Ff,19):this.Ff=Cs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,20)},set:function(r){r?(this.Ff=Es(this.Ff,20),e.sort()):this.Ff=Cs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,22)},set:function(r){r?this.Ff=Es(this.Ff,22):this.Ff=Cs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,23)},set:function(r){r?this.Ff=Es(this.Ff,23):this.Ff=Cs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,27)},set:function(r){r?this.Ff=Es(this.Ff,27):this.Ff=Cs(this.Ff,27)}}),this.hasAppearanceStream=!1};sl(c1,Hc);var u1=function(){c1.call(this),this.fontName="helvetica",this.combo=!1};sl(u1,c1);var d1=function(){u1.call(this),this.combo=!0};sl(d1,u1);var iy=function(){d1.call(this),this.edit=!0};sl(iy,d1);var ba=function(){Hc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,15)},set:function(r){r?this.Ff=Es(this.Ff,15):this.Ff=Cs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,16)},set:function(r){r?this.Ff=Es(this.Ff,16):this.Ff=Cs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,17)},set:function(r){r?this.Ff=Es(this.Ff,17):this.Ff=Cs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,26)},set:function(r){r?this.Ff=Es(this.Ff,26):this.Ff=Cs(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Z0(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Xn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};sl(ba,Hc);var sy=function(){ba.call(this),this.pushButton=!0};sl(sy,ba);var f1=function(){ba.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};sl(f1,ba);var o5=function(){var t,e;Hc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Z0(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Xn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};sl(o5,Hc),f1.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},f1.prototype.createOption=function(t){var e=new o5;return e.Parent=this,e.optionName=t,this.Kids.push(e),ipe.call(this.scope,e),e};var ay=function(){ba.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dr.CheckBox.createAppearanceStream()};sl(ay,ba);var u0=function(){Hc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,13)},set:function(e){e?this.Ff=Es(this.Ff,13):this.Ff=Cs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,21)},set:function(e){e?this.Ff=Es(this.Ff,21):this.Ff=Cs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,23)},set:function(e){e?this.Ff=Es(this.Ff,23):this.Ff=Cs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,24)},set:function(e){e?this.Ff=Es(this.Ff,24):this.Ff=Cs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,25)},set:function(e){e?this.Ff=Es(this.Ff,25):this.Ff=Cs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,26)},set:function(e){e?this.Ff=Es(this.Ff,26):this.Ff=Cs(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};sl(u0,Hc);var oy=function(){u0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,14)},set:function(t){t?this.Ff=Es(this.Ff,14):this.Ff=Cs(this.Ff,14)}}),this.password=!0};sl(oy,u0);var dr={CheckBox:{createAppearanceStream:function(){return{N:{On:dr.CheckBox.YesNormal},D:{On:dr.CheckBox.YesPushDown,Off:dr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=hu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=cb(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+qr(dr.internal.getWidth(t))+" "+qr(dr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+qr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=hu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=dr.internal.getHeight(t),a=dr.internal.getWidth(t),o=cb(t,t.caption);return i.push("1 g"),i.push("0 0 "+qr(a)+" "+qr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+qr(a-1)+" "+qr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+qr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=hu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+qr(dr.internal.getWidth(t))+" "+qr(dr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:dr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=dr.RadioButton.Circle.YesNormal,e.D[t]=dr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=hu(t);e.scope=t.scope;var r=[],n=dr.internal.getWidth(t)<=dr.internal.getHeight(t)?dr.internal.getWidth(t)/4:dr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=dr.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xf(dr.internal.getWidth(t)/2)+" "+xf(dr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=hu(t);e.scope=t.scope;var r=[],n=dr.internal.getWidth(t)<=dr.internal.getHeight(t)?dr.internal.getWidth(t)/4:dr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*dr.internal.Bezier_C).toFixed(5)),a=Number((n*dr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xf(dr.internal.getWidth(t)/2)+" "+xf(dr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xf(dr.internal.getWidth(t)/2)+" "+xf(dr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=hu(t);e.scope=t.scope;var r=[],n=dr.internal.getWidth(t)<=dr.internal.getHeight(t)?dr.internal.getWidth(t)/4:dr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*dr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xf(dr.internal.getWidth(t)/2)+" "+xf(dr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:dr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=dr.RadioButton.Cross.YesNormal,e.D[t]=dr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=hu(t);e.scope=t.scope;var r=[],n=dr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+qr(dr.internal.getWidth(t)-2)+" "+qr(dr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(qr(n.x1.x)+" "+qr(n.x1.y)+" m"),r.push(qr(n.x2.x)+" "+qr(n.x2.y)+" l"),r.push(qr(n.x4.x)+" "+qr(n.x4.y)+" m"),r.push(qr(n.x3.x)+" "+qr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=hu(t);e.scope=t.scope;var r=dr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+qr(dr.internal.getWidth(t))+" "+qr(dr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+qr(dr.internal.getWidth(t)-2)+" "+qr(dr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(qr(r.x1.x)+" "+qr(r.x1.y)+" m"),n.push(qr(r.x2.x)+" "+qr(r.x2.y)+" l"),n.push(qr(r.x4.x)+" "+qr(r.x4.y)+" m"),n.push(qr(r.x3.x)+" "+qr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=hu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+qr(dr.internal.getWidth(t))+" "+qr(dr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};dr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=dr.internal.getWidth(t),r=dr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},dr.internal.getWidth=function(t){var e=0;return Xn(t)==="object"&&(e=oA(t.Rect[2])),e},dr.internal.getHeight=function(t){var e=0;return Xn(t)==="object"&&(e=oA(t.Rect[3])),e};var ipe=as.addField=function(t){if(npe(this,t),!(t instanceof Hc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};as.AcroFormChoiceField=c1,as.AcroFormListBox=u1,as.AcroFormComboBox=d1,as.AcroFormEditBox=iy,as.AcroFormButton=ba,as.AcroFormPushButton=sy,as.AcroFormRadioButton=f1,as.AcroFormCheckBox=ay,as.AcroFormTextField=u0,as.AcroFormPasswordField=oy,as.AcroFormAppearance=dr,as.AcroForm={ChoiceField:c1,ListBox:u1,ComboBox:d1,EditBox:iy,Button:ba,PushButton:sy,RadioButton:f1,CheckBox:ay,TextField:u0,PasswordField:oy,Appearance:dr},yr.AcroForm={ChoiceField:c1,ListBox:u1,ComboBox:d1,EditBox:iy,Button:ba,PushButton:sy,RadioButton:f1,CheckBox:ay,TextField:u0,PasswordField:oy,Appearance:dr};yr.AcroForm;function IM(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(N,j){var B,te,he,_e,fe,ie=r;if((j=j||r)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(X(N))for(fe in n)for(he=n[fe],B=0;B<he.length;B+=1){for(_e=!0,te=0;te<he[B].length;te+=1)if(he[B][te]!==void 0&&he[B][te]!==N[te]){_e=!1;break}if(_e===!0){ie=fe;break}}else for(fe in n)for(he=n[fe],B=0;B<he.length;B+=1){for(_e=!0,te=0;te<he[B].length;te+=1)if(he[B][te]!==void 0&&he[B][te]!==N.charCodeAt(te)){_e=!1;break}if(_e===!0){ie=fe;break}}return ie===r&&j!==r&&(ie=j),ie},s=function N(j){for(var B=this.internal.write,te=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var _e=[];if(_e.push({key:"Type",value:"/XObject"}),_e.push({key:"Subtype",value:"/Image"}),_e.push({key:"Width",value:j.width}),_e.push({key:"Height",value:j.height}),j.colorSpace===E.INDEXED?_e.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(_e.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===E.DEVICE_CMYK&&_e.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_e.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&_e.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var fe="",ie=0,W=j.transparency.length;ie<W;ie++)fe+=j.transparency[ie]+" "+j.transparency[ie]+" ";_e.push({key:"Mask",value:"["+fe+"]"})}j.sMask!==void 0&&_e.push({key:"SMask",value:j.objectId+1+" 0 R"});var ue=j.filter!==void 0?["/"+j.filter]:void 0;if(te({data:j.data,additionalKeyValues:_e,alreadyAppliedFilters:ue,objectId:j.objectId}),B("endobj"),"sMask"in j&&j.sMask!==void 0){var Y=(j.predictor!=null?"/Predictor "+j.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+j.width,P={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:Y,data:j.sMask};"filter"in j&&(P.filter=j.filter),N.call(this,P)}if(j.colorSpace===E.INDEXED){var q=this.internal.newObject();te({data:A(new Uint8Array(j.palette)),objectId:q}),B("endobj")}},a=function(){var N=this.internal.collections[e+"images"];for(var j in N)s.call(this,N[j])},o=function(){var N,j=this.internal.collections[e+"images"],B=this.internal.write;for(var te in j)B("/I"+(N=j[te]).index,N.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var N=this.internal.collections[e+"images"];return l.call(this),N},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(N){return typeof t["process"+N.toUpperCase()]=="function"},g=function(N){return Xn(N)==="object"&&N.nodeType===1},m=function(N,j){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var B=""+N.getAttribute("src");if(B.indexOf("data:image/")===0)return ny(unescape(B).split("base64,").pop());var te=t.loadFile(B,!0);if(te!==void 0)return te}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var he;switch(j){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return ny(N.toDataURL(he,1).split("base64,").pop())}},y=function(N){var j=this.internal.collections[e+"images"];if(j){for(var B in j)if(N===j[B].alias)return j[B]}},w=function(N,j,B){return N||j||(N=-96,j=-96),N<0&&(N=-1*B.width*72/N/this.internal.scaleFactor),j<0&&(j=-1*B.height*72/j/this.internal.scaleFactor),N===0&&(N=j*B.width/B.height),j===0&&(j=N*B.height/B.width),[N,j]},_=function(N,j,B,te,he,_e){var fe=w.call(this,B,te,he),ie=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,ue=c.call(this);if(B=fe[0],te=fe[1],ue[he.index]=he,_e){_e*=Math.PI/180;var Y=Math.cos(_e),P=Math.sin(_e),q=function(J){return J.toFixed(4)},K=[q(Y),q(P),q(-1*P),q(Y),0,0,"cm"]}this.internal.write("q"),_e?(this.internal.write([1,"0","0",1,ie(N),W(j+te),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([ie(B),"0","0",ie(te),"0","0","cm"].join(" "))):this.internal.write([ie(B),"0","0",ie(te),ie(N),W(j+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},I=t.__addimage__.sHashCode=function(N){var j,B,te=0;if(typeof N=="string")for(B=N.length,j=0;j<B;j++)te=(te<<5)-te+N.charCodeAt(j),te|=0;else if(X(N))for(B=N.byteLength/2,j=0;j<B;j++)te=(te<<5)-te+N[j],te|=0;return te},V=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var j=!0;return N.length===0&&(j=!1),N.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(j=!1),j},G=t.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var j=N.indexOf(",");return j<0?null:N.substring(0,j).trim().endsWith("base64")?N.substring(j+1):null};t.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var X=t.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},R=t.__addimage__.binaryStringToUint8Array=function(N){for(var j=N.length,B=new Uint8Array(j),te=0;te<j;te++)B[te]=N.charCodeAt(te);return B},A=t.__addimage__.arrayBufferToBinaryString=function(N){for(var j="",B=X(N)?N:new Uint8Array(N),te=0;te<B.length;te+=8192)j+=String.fromCharCode.apply(null,B.subarray(te,te+8192));return j};t.addImage=function(){var N,j,B,te,he,_e,fe,ie,W;if(typeof arguments[1]=="number"?(j=r,B=arguments[1],te=arguments[2],he=arguments[3],_e=arguments[4],fe=arguments[5],ie=arguments[6],W=arguments[7]):(j=arguments[1],B=arguments[2],te=arguments[3],he=arguments[4],_e=arguments[5],fe=arguments[6],ie=arguments[7],W=arguments[8]),Xn(N=arguments[0])==="object"&&!g(N)&&"imageData"in N){var ue=N;N=ue.imageData,j=ue.format||j||r,B=ue.x||B||0,te=ue.y||te||0,he=ue.w||ue.width||he,_e=ue.h||ue.height||_e,fe=ue.alias||fe,ie=ue.compression||ie,W=ue.rotation||ue.angle||W}var Y=this.internal.getFilters();if(ie===void 0&&Y.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(B)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=C.call(this,N,j,fe,ie);return _.call(this,B,te,he,_e,P,W),this};var C=function(N,j,B,te){var he,_e,fe;if(typeof N=="string"&&i(N)===r){N=unescape(N);var ie=D(N,!1);(ie!==""||(ie=t.loadFile(N,!0))!==void 0)&&(N=ie)}if(g(N)&&(N=m(N,j)),j=i(N,j),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((fe=B)==null||fe.length===0)&&(B=(function(W){return typeof W=="string"||X(W)?I(W):X(W.data)?I(W.data):null})(N)),(he=y.call(this,B))||(N instanceof Uint8Array||j==="RGBA"||(_e=N,N=R(N)),he=this["process"+j.toUpperCase()](N,u.call(this),B,(function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in t.image_compression?W:L.NONE})(te),_e)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},D=t.__addimage__.convertBase64ToBinaryString=function(N,j){j=typeof j!="boolean"||j;var B,te="";if(typeof N=="string"){var he;B=(he=G(N))!==null&&he!==void 0?he:N;try{te=ny(B)}catch(_e){if(j)throw V(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};t.getImageProperties=function(N){var j,B,te="";if(g(N)&&(N=m(N)),typeof N=="string"&&i(N)===r&&((te=D(N,!1))===""&&(te=t.loadFile(N)||""),N=te),B=i(N),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(N instanceof Uint8Array||(N=R(N)),!(j=this["process"+B.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=B,j}})(yr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};yr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,p=0;p<c.length&&!u;p++)switch((n=c[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){n=c[g];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(w.objId),L=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(E(n.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(E(L))+") >>",w.content=s;var I=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(w.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var V=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var G=this.annotations._nameMap[n.options.name];n.options.pageNumber=G.page,n.options.top=G.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var X=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+X+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(r,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(yr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=t.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(w){var _=0,E=r,L="",I=0;for(_=0;_<w.length;_+=1)E[w.charCodeAt(_)]!==void 0?(I++,typeof(E=E[w.charCodeAt(_)])=="number"&&(L+=String.fromCharCode(E),E=r,I=0),_===w.length-1&&(E=r,L+=w.charAt(_-(I-1)),_-=I-1,I=0)):(E=r,L+=w.charAt(_-I),_-=I,I=0);return L};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(w,_,E){return a(w)?s(w)===!1?-1:!c(w)||!a(_)&&!a(E)||!a(E)&&o(_)||o(w)&&!a(_)||o(w)&&l(_)||o(w)&&o(_)?0:u(w)&&a(_)&&!o(_)&&a(E)&&c(E)?3:o(w)||!a(E)?1:2:-1},m=function(w){var _=0,E=0,L=0,I="",V="",G="",X=(w=w||"").split("\\s+"),R=[];for(_=0;_<X.length;_+=1){for(R.push(""),E=0;E<X[_].length;E+=1)I=X[_][E],V=X[_][E-1],G=X[_][E+1],a(I)?(L=g(I,V,G),R[_]+=L!==-1?String.fromCharCode(e[I.charCodeAt(0)][L]):I):R[_]+=I;R[_]=p(R[_])}return R.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var w,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(_)){var L=0;for(E=[],L=0;L<_.length;L+=1)Array.isArray(_[L])?E.push([m(_[L][0]),_[L][1],_[L][2]]):E.push([m(_[L])]);w=E}else w=m(_);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",y])})(yr.API),yr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),p=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,m=0,y=0,w=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var E=c.maxWidth;E>0?typeof l=="string"?l=this.splitTextToSize(l,E):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(I,V){return I.concat(_.splitTextToSize(V,E))},[])):l=Array.isArray(l)?l:[l];for(var L=0;L<l.length;L++)m<(w=this.getStringUnitWidth(l[L],{font:p})*u)&&(m=w);return m!==0&&(y=l.length),{w:m/=g,h:Math.max((y*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,p,g){if(n.call(this),!u)throw new Error("No data for PDF table.");var m,y,w,_,E=[],L=[],I=[],V={},G={},X=[],R=[],A=(g=g||{}).autoSize||!1,C=g.printHeaders!==!1,D=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,N=g.margins||Object.assign({width:this.getPageWidth()},e),j=typeof g.padding=="number"?g.padding:3,B=g.headerBackgroundColor||"#c8c8c8",te=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=te,this.setFontSize(D),p==null)L=E=Object.keys(u[0]),I=E.map(function(){return"left"});else if(Array.isArray(p)&&Xn(p[0])==="object")for(E=p.map(function(ue){return ue.name}),L=p.map(function(ue){return ue.prompt||ue.name||""}),I=p.map(function(ue){return ue.align||"left"}),m=0;m<p.length;m+=1)G[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(L=E=p,I=E.map(function(){return"left"}));if(A||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<E.length;m+=1){for(V[_=E[m]]=u.map(function(ue){return ue[_]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(L[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=V[_],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)X.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);G[_]=Math.max.apply(null,X)+j+j,X=[]}if(C){var he={};for(m=0;m<E.length;m+=1)he[E[m]]={},he[E[m]].text=L[m],he[E[m]].align=I[m];var _e=o.call(this,he,G);R=E.map(function(ue){return new s(l,c,G[ue],_e,he[ue].text,void 0,he[ue].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var fe=p.reduce(function(ue,Y){return ue[Y.name]=Y.align,ue},{});for(m=0;m<u.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:u[m]},this);var ie=o.call(this,u[m],G);for(w=0;w<E.length;w+=1){var W=u[m][E[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:w,data:W},this),a.call(this,new s(l,c,G[E[w]],ie,W,m+2,fe[E[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var y=l[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[m]-u-u)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+u+u},this).reduce(function(m,y){return Math.max(m,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){u=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(yr.API);var PM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},RM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ub=IM(RM),LM=[100,200,300,400,500,600,700,800,900],spe=IM(LM);function v3(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return PM[s=s||"normal"]?s:"normal"})(t.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof ub[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function lA(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var ape={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},cA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function uA(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function dA(t){return t.trimLeft()}function ope(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function lpe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Av,fA,hA,Lp,Nv,pA,mA,gA,y3=["times"];function xA(t,e,r,n){var i=4,s=yA;switch(n){case yr.API.image_compression.FAST:i=1,s=vA;break;case yr.API.image_compression.MEDIUM:i=6,s=wA;break;case yr.API.image_compression.SLOW:i=9,s=_A}t=(function(o,l,c,u){for(var p,g=o.length/l,m=new Uint8Array(o.length+g),y=[cpe,vA,yA,wA,_A],w=0;w<g;w+=1){var _=w*l,E=o.subarray(_,_+l);if(u)m.set(u(E,c,p),_+w);else{for(var L=y.length,I=[],V=0;V<L;V+=1)I[V]=y[V](E,c,p);var G=dpe(I.concat());m.set(I[G],_+w)}p=E}return m})(t,e,r,s);var a=nb(t,{level:i});return yr.API.__addimage__.arrayBufferToBinaryString(a)}function cpe(t){var e=Array.apply([],t);return e.unshift(0),e}function vA(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function yA(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function wA(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function _A(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=upe(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function upe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function dpe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function w3(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return FM(t,i)>>s&a}function bA(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(c,u,p){if(u+1<c.byteLength)c.setUint16(u,p,!1);else{var g=p>>8&255;c.setUint8(u,g)}})(t,s,FM(t,s)&~(o<<a)&65535|l)}function FM(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function fpe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],p=0,g=null,m=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&w||(g=null),m=w>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,V=t[e++],G=V>>6&1,X=1<<1+(7&V),R=o,A=l,C=!1;V>>7&&(C=!0,R=e,A=X,e+=3*X);var D=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}u.push({x:_,y:E,width:L,height:I,has_local_palette:C,palette_offset:R,palette_size:A,data_offset:D,data_length:e-D,transparent_index:g,interlaced:!!G,delay:p,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return y},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,B){var te=this.frameInfo(j),he=te.width*te.height,_e=new Uint8Array(he);kA(t,te.data_offset,_e,he);var fe=te.palette_offset,ie=te.transparent_index;ie===null&&(ie=256);var W=te.width,ue=r-W,Y=W,P=4*(te.y*r+te.x),q=4*((te.y+te.height)*r+te.x),K=P,J=4*ue;te.interlaced===!0&&(J+=4*r*7);for(var ce=8,ye=0,ke=_e.length;ye<ke;++ye){var ae=_e[ye];if(Y===0&&(Y=W,(K+=J)>=q&&(J=4*ue+4*r*(ce-1),K=P+(W+ue)*(ce<<1),ce>>=1)),ae===ie)K+=4;else{var be=t[fe+3*ae],De=t[fe+3*ae+1],se=t[fe+3*ae+2];B[K++]=se,B[K++]=De,B[K++]=be,B[K++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(j,B){var te=this.frameInfo(j),he=te.width*te.height,_e=new Uint8Array(he);kA(t,te.data_offset,_e,he);var fe=te.palette_offset,ie=te.transparent_index;ie===null&&(ie=256);var W=te.width,ue=r-W,Y=W,P=4*(te.y*r+te.x),q=4*((te.y+te.height)*r+te.x),K=P,J=4*ue;te.interlaced===!0&&(J+=4*r*7);for(var ce=8,ye=0,ke=_e.length;ye<ke;++ye){var ae=_e[ye];if(Y===0&&(Y=W,(K+=J)>=q&&(J=4*ue+4*r*(ce-1),K=P+(W+ue)*(ce<<1),ce>>=1)),ae===ie)K+=4;else{var be=t[fe+3*ae],De=t[fe+3*ae+1],se=t[fe+3*ae+2];B[K++]=be,B[K++]=De,B[K++]=se,B[K++]=255}--Y}}}function kA(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,p=0,g=0,m=t[e++],y=new Int32Array(4096),w=null;;){for(;u<16&&m!==0;)p|=t[e++]<<u,u+=8,m===1?m=t[e++]:--m;if(u<l)break;var _=p&c;if(p>>=l,u-=l,_!==s){if(_===a)break;for(var E=_<o?_:w,L=0,I=E;I>s;)I=y[I]>>8,++L;var V=I;if(g+L+(E!==_?1:0)>n)return void ui.log("Warning, gif stream longer than expected.");r[g++]=V;var G=g+=L;for(E!==_&&(r[g++]=V),I=E;L--;)I=y[I],r[--G]=255&I,I>>=8;w!==null&&o<4096&&(y[o++]=w<<8|V,o>=c+1&&l<12&&(++l,c=c<<1|1)),w=_}else o=a+1,c=(1<<(l=i+1))-1,w=null}return g!==n&&ui.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _3(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),y=new Array(64),w=[],_=0,E=7,L=new Array(64),I=new Array(64),V=new Array(64),G=new Array(256),X=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _e(P,q){for(var K=0,J=0,ce=new Array,ye=1;ye<=16;ye++){for(var ke=1;ke<=P[ye];ke++)ce[q[J]]=[],ce[q[J]][0]=K,ce[q[J]][1]=ye,J++,K++;K*=2}return ce}function fe(P){for(var q=P[0],K=P[1]-1;K>=0;)q&1<<K&&(_|=1<<E),K--,--E<0&&(_==255?(ie(255),ie(0)):ie(_),E=7,_=0)}function ie(P){w.push(P)}function W(P){ie(P>>8&255),ie(255&P)}function ue(P,q,K,J,ce){for(var ye,ke=ce[0],ae=ce[240],be=(function(re,je){var st,At,It,Le,qe,We,dt,bt,_t,vt,St=0;for(_t=0;_t<8;++_t){st=re[St],At=re[St+1],It=re[St+2],Le=re[St+3],qe=re[St+4],We=re[St+5],dt=re[St+6];var Xt=st+(bt=re[St+7]),Yt=st-bt,Ut=At+dt,pr=At-dt,Ge=It+We,Ft=It-We,Wt=Le+qe,Vt=Le-qe,mr=Xt+Wt,wr=Xt-Wt,Ar=Ut+Ge,Jt=Ut-Ge;re[St]=mr+Ar,re[St+4]=mr-Ar;var cr=.707106781*(Jt+wr);re[St+2]=wr+cr,re[St+6]=wr-cr;var Fn=.382683433*((mr=Vt+Ft)-(Jt=pr+Yt)),Yr=.5411961*mr+Fn,yi=1.306562965*Jt+Fn,Un=.707106781*(Ar=Ft+pr),ar=Yt+Un,dn=Yt-Un;re[St+5]=dn+Yr,re[St+3]=dn-Yr,re[St+1]=ar+yi,re[St+7]=ar-yi,St+=8}for(St=0,_t=0;_t<8;++_t){st=re[St],At=re[St+8],It=re[St+16],Le=re[St+24],qe=re[St+32],We=re[St+40],dt=re[St+48];var Ws=st+(bt=re[St+56]),Zn=st-bt,es=At+dt,Tn=At-dt,oi=It+We,oe=It-We,Ae=Le+qe,we=Le-qe,Se=Ws+Ae,Ne=Ws-Ae,Ie=es+oi,Ye=es-oi;re[St]=Se+Ie,re[St+32]=Se-Ie;var ot=.707106781*(Ye+Ne);re[St+16]=Ne+ot,re[St+48]=Ne-ot;var et=.382683433*((Se=we+oe)-(Ye=Tn+Zn)),tt=.5411961*Se+et,it=1.306562965*Ye+et,Et=.707106781*(Ie=oe+Tn),Mt=Zn+Et,Gt=Zn-Et;re[St+40]=Gt+tt,re[St+24]=Gt-tt,re[St+8]=Mt+it,re[St+56]=Mt-it,St++}for(_t=0;_t<64;++_t)vt=re[_t]*je[_t],m[_t]=vt>0?vt+.5|0:vt-.5|0;return m})(P,q),De=0;De<64;++De)y[R[De]]=be[De];var se=y[0]-K;K=y[0],se==0?fe(J[0]):(fe(J[g[ye=32767+se]]),fe(p[ye]));for(var Pe=63;Pe>0&&y[Pe]==0;)Pe--;if(Pe==0)return fe(ke),K;for(var Re,me=1;me<=Pe;){for(var Oe=me;y[me]==0&&me<=Pe;)++me;var Me=me-Oe;if(Me>=16){Re=Me>>4;for(var Qe=1;Qe<=Re;++Qe)fe(ae);Me&=15}ye=32767+y[me],fe(ce[(Me<<4)+g[ye]]),fe(p[ye]),me++}return Pe!=63&&fe(ke),K}function Y(P){P=Math.min(Math.max(P,1),100),s!=P&&((function(q){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ce=a((K[J]*q+50)/100);ce=Math.min(Math.max(ce,1),255),o[R[J]]=ce}for(var ye=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var ae=a((ye[ke]*q+50)/100);ae=Math.min(Math.max(ae,1),255),l[R[ke]]=ae}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,se=0;se<8;se++)for(var Pe=0;Pe<8;Pe++)c[De]=1/(o[R[De]]*be[se]*be[Pe]*8),u[De]=1/(l[R[De]]*be[se]*be[Pe]*8),De++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,q){q&&Y(q),w=new Array,_=0,E=7,W(65496),W(65504),W(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),W(1),W(1),ie(0),ie(0),(function(){W(65499),W(132),ie(0);for(var At=0;At<64;At++)ie(o[At]);ie(1);for(var It=0;It<64;It++)ie(l[It])})(),(function(At,It){W(65472),W(17),ie(8),W(It),W(At),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(P.width,P.height),(function(){W(65476),W(418),ie(0);for(var At=0;At<16;At++)ie(A[At+1]);for(var It=0;It<=11;It++)ie(C[It]);ie(16);for(var Le=0;Le<16;Le++)ie(D[Le+1]);for(var qe=0;qe<=161;qe++)ie(N[qe]);ie(1);for(var We=0;We<16;We++)ie(j[We+1]);for(var dt=0;dt<=11;dt++)ie(B[dt]);ie(17);for(var bt=0;bt<16;bt++)ie(te[bt+1]);for(var _t=0;_t<=161;_t++)ie(he[_t])})(),W(65498),W(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var K=0,J=0,ce=0;_=0,E=7,this.encode.displayName="_encode_";for(var ye,ke,ae,be,De,se,Pe,Re,me,Oe=P.data,Me=P.width,Qe=P.height,re=4*Me,je=0;je<Qe;){for(ye=0;ye<re;){for(De=re*je+ye,Pe=-1,Re=0,me=0;me<64;me++)se=De+(Re=me>>3)*re+(Pe=4*(7&me)),je+Re>=Qe&&(se-=re*(je+1+Re-Qe)),ye+Pe>=re&&(se-=ye+Pe-re+4),ke=Oe[se++],ae=Oe[se++],be=Oe[se++],L[me]=(X[ke]+X[ae+256|0]+X[be+512|0]>>16)-128,I[me]=(X[ke+768|0]+X[ae+1024|0]+X[be+1280|0]>>16)-128,V[me]=(X[ke+1280|0]+X[ae+1536|0]+X[be+1792|0]>>16)-128;K=ue(L,c,K,e,n),J=ue(I,u,J,r,i),ce=ue(V,u,ce,r,i),ye+=32}je+=8}if(E>=0){var st=[];st[1]=E+1,st[0]=(1<<E+1)-1,fe(st)}return W(65497),new Uint8Array(w)},t=t||50,(function(){for(var P=String.fromCharCode,q=0;q<256;q++)G[q]=P(q)})(),e=_e(A,C),r=_e(j,B),n=_e(D,N),i=_e(te,he),(function(){for(var P=1,q=2,K=1;K<=15;K++){for(var J=P;J<q;J++)g[32767+J]=K,p[32767+J]=[],p[32767+J][1]=K,p[32767+J][0]=J;for(var ce=-(q-1);ce<=-P;ce++)g[32767+ce]=K,p[32767+ce]=[],p[32767+ce][1]=K,p[32767+ce][0]=q-1+ce;P<<=1,q<<=1}})(),(function(){for(var P=0;P<256;P++)X[P]=19595*P,X[P+256|0]=38470*P,X[P+512|0]=7471*P+32768,X[P+768|0]=-11059*P,X[P+1024|0]=-21709*P,X[P+1280|0]=32768*P+8421375,X[P+1536|0]=-27439*P,X[P+1792|0]=-5329*P})(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Rc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function SA(t){function e(C){if(!C)throw Error("assert :P")}function r(C,D,N){for(var j=0;4>j;j++)if(C[D+j]!=N.charCodeAt(j))return!0;return!1}function n(C,D,N,j,B){for(var te=0;te<B;te++)C[D+te]=N[j+te]}function i(C,D,N,j){for(var B=0;B<j;B++)C[D+B]=N}function s(C){return new Int32Array(C)}function a(C,D){for(var N=[],j=0;j<C;j++)N.push(new D);return N}function o(C,D){var N=[];return(function j(B,te,he){for(var _e=he[te],fe=0;fe<_e&&(B.push(he.length>te+1?[]:new D),!(he.length<te+1));fe++)j(B[fe],te+1,he)})(N,0,C),N}var l=function(){var C=this;function D(b,T){for(var U=1<<T-1>>>0;b&U;)U>>>=1;return U?(b&U-1)+U:b}function N(b,T,U,Q,ne){e(!(Q%U));do b[T+(Q-=U)]=ne;while(0<Q)}function j(b,T,U,Q,ne){if(e(2328>=ne),512>=ne)var de=s(512);else if((de=s(ne))==null)return 0;return(function(pe,ge,ve,Ee,Ve,Ze){var Te,ze,Xe=ge,mt=1<<ve,nt=s(16),ft=s(16);for(e(Ve!=0),e(Ee!=null),e(pe!=null),e(0<ve),ze=0;ze<Ve;++ze){if(15<Ee[ze])return 0;++nt[Ee[ze]]}if(nt[0]==Ve)return 0;for(ft[1]=0,Te=1;15>Te;++Te){if(nt[Te]>1<<Te)return 0;ft[Te+1]=ft[Te]+nt[Te]}for(ze=0;ze<Ve;++ze)Te=Ee[ze],0<Ee[ze]&&(Ze[ft[Te]++]=ze);if(ft[15]==1)return(Ee=new B).g=0,Ee.value=Ze[0],N(pe,Xe,1,mt,Ee),mt;var ht,yt=-1,wt=mt-1,gr=0,rr=1,Ur=1,or=1<<ve;for(ze=0,Te=1,Ve=2;Te<=ve;++Te,Ve<<=1){if(rr+=Ur<<=1,0>(Ur-=nt[Te]))return 0;for(;0<nt[Te];--nt[Te])(Ee=new B).g=Te,Ee.value=Ze[ze++],N(pe,Xe+gr,Ve,or,Ee),gr=D(gr,Te)}for(Te=ve+1,Ve=2;15>=Te;++Te,Ve<<=1){if(rr+=Ur<<=1,0>(Ur-=nt[Te]))return 0;for(;0<nt[Te];--nt[Te]){if(Ee=new B,(gr&wt)!=yt){for(Xe+=or,ht=1<<(yt=Te)-ve;15>yt&&!(0>=(ht-=nt[yt]));)++yt,ht<<=1;mt+=or=1<<(ht=yt-ve),pe[ge+(yt=gr&wt)].g=ht+ve,pe[ge+yt].value=Xe-ge-yt}Ee.g=Te-ve,Ee.value=Ze[ze++],N(pe,Xe+(gr>>ve),Ve,or,Ee),gr=D(gr,Te)}}return rr!=2*ft[15]-1?0:mt})(b,T,U,Q,ne,de)}function B(){this.value=this.g=0}function te(){this.value=this.g=0}function he(){this.G=a(5,B),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ra,te)}function _e(b,T,U,Q){e(b!=null),e(T!=null),e(2147483648>Q),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=T,b.pa=U,b.Jd=T,b.Yc=U+Q,b.Zc=4<=Q?U+Q-4+1:U,ke(b)}function fe(b,T){for(var U=0;0<T--;)U|=be(b,128)<<T;return U}function ie(b,T){var U=fe(b,T);return ae(b)?-U:U}function W(b,T,U,Q){var ne,de=0;for(e(b!=null),e(T!=null),e(4294967288>Q),b.Sb=Q,b.Ra=0,b.u=0,b.h=0,4<Q&&(Q=4),ne=0;ne<Q;++ne)de+=T[U+ne]<<8*ne;b.Ra=de,b.bb=Q,b.oa=T,b.pa=U}function ue(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<eu-8>>>0,++b.bb,b.u-=8;J(b)&&(b.h=1,b.u=0)}function Y(b,T){if(e(0<=T),!b.h&&T<=gh){var U=K(b)&Zc[T];return b.u+=T,ue(b),U}return b.h=1,b.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(b){return b.Ra>>>(b.u&eu-1)>>>0}function J(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>eu}function ce(b,T){b.u=T,b.h=J(b)}function ye(b){b.u>=Pi&&(e(b.u>=Pi),ue(b))}function ke(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ae(b){return fe(b,1)}function be(b,T){var U=b.Ca;0>b.b&&ke(b);var Q=b.b,ne=U*T>>>8,de=(b.I>>>Q>ne)+0;for(de?(U-=ne,b.I-=ne+1<<Q>>>0):U=ne+1,Q=U,ne=0;256<=Q;)ne+=8,Q>>=8;return Q=7^ne+ep[Q],b.b-=Q,b.Ca=(U<<Q)-1,de}function De(b,T,U){b[T+0]=U>>24&255,b[T+1]=U>>16&255,b[T+2]=U>>8&255,b[T+3]=255&U}function se(b,T){return b[T+0]|b[T+1]<<8}function Pe(b,T){return se(b,T)|b[T+2]<<16}function Re(b,T){return se(b,T)|se(b,T+2)<<16}function me(b,T){var U=1<<T;return e(b!=null),e(0<T),b.X=s(U),b.X==null?0:(b.Mb=32-T,b.Xa=T,1)}function Oe(b,T){e(b!=null),e(T!=null),e(b.Xa==T.Xa),n(T.X,0,b.X,0,1<<T.Xa)}function Me(){this.X=[],this.Xa=this.Mb=0}function Qe(b,T,U,Q){e(U!=null),e(Q!=null);var ne=U[0],de=Q[0];return ne==0&&(ne=(b*de+T/2)/T),de==0&&(de=(T*ne+b/2)/b),0>=ne||0>=de?0:(U[0]=ne,Q[0]=de,1)}function re(b,T){return b+(1<<T)-1>>>T}function je(b,T){return((4278255360&b)+(4278255360&T)>>>0&4278255360)+((16711935&b)+(16711935&T)>>>0&16711935)>>>0}function st(b,T){C[T]=function(U,Q,ne,de,pe,ge,ve){var Ee;for(Ee=0;Ee<pe;++Ee){var Ve=C[b](ge[ve+Ee-1],ne,de+Ee);ge[ve+Ee]=je(U[Q+Ee],Ve)}}}function At(){this.ud=this.hd=this.jd=0}function It(b,T){return((4278124286&(b^T))>>>1)+(b&T)>>>0}function Le(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function qe(b,T){return Le(b+(b-T+.5>>1))}function We(b,T,U){return Math.abs(T-U)-Math.abs(b-U)}function dt(b,T,U,Q,ne,de,pe){for(Q=de[pe-1],U=0;U<ne;++U)de[pe+U]=Q=je(b[T+U],Q)}function bt(b,T,U,Q,ne){var de;for(de=0;de<U;++de){var pe=b[T+de],ge=pe>>8&255,ve=16711935&(ve=(ve=16711935&pe)+((ge<<16)+ge));Q[ne+de]=(4278255360&pe)+ve>>>0}}function _t(b,T){T.jd=255&b,T.hd=b>>8&255,T.ud=b>>16&255}function vt(b,T,U,Q,ne,de){var pe;for(pe=0;pe<Q;++pe){var ge=T[U+pe],ve=ge>>>8,Ee=ge,Ve=255&(Ve=(Ve=ge>>>16)+((b.jd<<24>>24)*(ve<<24>>24)>>>5));Ee=255&(Ee=(Ee+=(b.hd<<24>>24)*(ve<<24>>24)>>>5)+((b.ud<<24>>24)*(Ve<<24>>24)>>>5)),ne[de+pe]=(4278255360&ge)+(Ve<<16)+Ee}}function St(b,T,U,Q,ne){C[T]=function(de,pe,ge,ve,Ee,Ve,Ze,Te,ze){for(ve=Ze;ve<Te;++ve)for(Ze=0;Ze<ze;++Ze)Ee[Ve++]=ne(ge[Q(de[pe++])])},C[b]=function(de,pe,ge,ve,Ee,Ve,Ze){var Te=8>>de.b,ze=de.Ea,Xe=de.K[0],mt=de.w;if(8>Te)for(de=(1<<de.b)-1,mt=(1<<Te)-1;pe<ge;++pe){var nt,ft=0;for(nt=0;nt<ze;++nt)nt&de||(ft=Q(ve[Ee++])),Ve[Ze++]=ne(Xe[ft&mt]),ft>>=Te}else C["VP8LMapColor"+U](ve,Ee,Xe,mt,Ve,Ze,pe,ge,ze)}}function Xt(b,T,U,Q,ne){for(U=T+U;T<U;){var de=b[T++];Q[ne++]=de>>16&255,Q[ne++]=de>>8&255,Q[ne++]=255&de}}function Yt(b,T,U,Q,ne){for(U=T+U;T<U;){var de=b[T++];Q[ne++]=de>>16&255,Q[ne++]=de>>8&255,Q[ne++]=255&de,Q[ne++]=de>>24&255}}function Ut(b,T,U,Q,ne){for(U=T+U;T<U;){var de=(pe=b[T++])>>16&240|pe>>12&15,pe=240&pe|pe>>28&15;Q[ne++]=de,Q[ne++]=pe}}function pr(b,T,U,Q,ne){for(U=T+U;T<U;){var de=(pe=b[T++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;Q[ne++]=de,Q[ne++]=pe}}function Ge(b,T,U,Q,ne){for(U=T+U;T<U;){var de=b[T++];Q[ne++]=255&de,Q[ne++]=de>>8&255,Q[ne++]=de>>16&255}}function Ft(b,T,U,Q,ne,de){if(de==0)for(U=T+U;T<U;)De(Q,((de=b[T++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),ne+=32;else n(Q,ne,b,T,U)}function Wt(b,T){C[T][0]=C[b+"0"],C[T][1]=C[b+"1"],C[T][2]=C[b+"2"],C[T][3]=C[b+"3"],C[T][4]=C[b+"4"],C[T][5]=C[b+"5"],C[T][6]=C[b+"6"],C[T][7]=C[b+"7"],C[T][8]=C[b+"8"],C[T][9]=C[b+"9"],C[T][10]=C[b+"10"],C[T][11]=C[b+"11"],C[T][12]=C[b+"12"],C[T][13]=C[b+"13"],C[T][14]=C[b+"0"],C[T][15]=C[b+"0"]}function Vt(b){return b==Xd||b==Ku||b==_h||b==bh}function mr(){this.eb=[],this.size=this.A=this.fb=0}function wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ar(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mr,this.f.kb=new wr,this.sd=null}function Jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Fn(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Yr(b,T){var U=b.T,Q=T.ba.f.RGBA,ne=Q.eb,de=Q.fb+b.ka*Q.A,pe=no[T.ba.S],ge=b.y,ve=b.O,Ee=b.f,Ve=b.N,Ze=b.ea,Te=b.W,ze=T.cc,Xe=T.dc,mt=T.Mc,nt=T.Nc,ft=b.ka,ht=b.ka+b.T,yt=b.U,wt=yt+1>>1;for(ft==0?pe(ge,ve,null,null,Ee,Ve,Ze,Te,Ee,Ve,Ze,Te,ne,de,null,null,yt):(pe(T.ec,T.fc,ge,ve,ze,Xe,mt,nt,Ee,Ve,Ze,Te,ne,de-Q.A,ne,de,yt),++U);ft+2<ht;ft+=2)ze=Ee,Xe=Ve,mt=Ze,nt=Te,Ve+=b.Rc,Te+=b.Rc,de+=2*Q.A,pe(ge,(ve+=2*b.fa)-b.fa,ge,ve,ze,Xe,mt,nt,Ee,Ve,Ze,Te,ne,de-Q.A,ne,de,yt);return ve+=b.fa,b.j+ht<b.o?(n(T.ec,T.fc,ge,ve,yt),n(T.cc,T.dc,Ee,Ve,wt),n(T.Mc,T.Nc,Ze,Te,wt),U--):1&ht||pe(ge,ve,null,null,Ee,Ve,Ze,Te,Ee,Ve,Ze,Te,ne,de+Q.A,null,null,yt),U}function yi(b,T,U){var Q=b.F,ne=[b.J];if(Q!=null){var de=b.U,pe=T.ba.S,ge=pe==wh||pe==_h;T=T.ba.f.RGBA;var ve=[0],Ee=b.ka;ve[0]=b.T,b.Kb&&(Ee==0?--ve[0]:(--Ee,ne[0]-=b.width),b.j+b.ka+b.T==b.o&&(ve[0]=b.o-b.j-Ee));var Ve=T.eb;Ee=T.fb+Ee*T.A,b=vh(Q,ne[0],b.width,de,ve,Ve,Ee+(ge?0:3),T.A),e(U==ve),b&&Vt(pe)&&Gu(Ve,Ee,ge,de,ve,T.A)}return 0}function Un(b){var T=b.ma,U=T.ba.S,Q=11>U,ne=U==ru||U==yh||U==wh||U==zn||U==12||Vt(U);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!Ia(T.Oa,b,ne?11:12))return 0;if(ne&&Vt(U)&&Qc(),b.da)alert("todo:use_scaling");else{if(Q){if(T.Ib=Fn,b.Kb){if(U=b.U+1>>1,T.memory=s(b.U+2*U),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+b.U,T.Mc=T.cc,T.Nc=T.dc+U,T.Ib=Yr,Qc()}}else alert("todo:EmitYUV");ne&&(T.Jb=yi,Q&&Ui())}if(Q&&!ea){for(b=0;256>b;++b)io[b]=89858*(b-128)+ml>>bc,so[b]=-22014*(b-128)+ml,Zd[b]=-45773*(b-128),Ju[b]=113618*(b-128)+ml>>bc;for(b=Rn;b<On;++b)T=76283*(b-16)+ml>>bc,lp[b-Rn]=rn(T,255),bx[b-Rn]=rn(T+8>>4,15);ea=1}return 1}function ar(b){var T=b.ma,U=b.U,Q=b.T;return e(!(1&b.ka)),0>=U||0>=Q?0:(U=T.Ib(b,T),T.Jb!=null&&T.Jb(b,T,U),T.Dc+=U,1)}function dn(b){b.ma.memory=null}function Ws(b,T,U,Q){return Y(b,8)!=47?0:(T[0]=Y(b,14)+1,U[0]=Y(b,14)+1,Q[0]=Y(b,1),Y(b,3)!=0?0:!b.h)}function Zn(b,T){if(4>b)return b+1;var U=b-2>>1;return(2+(1&b)<<U)+Y(T,U)+1}function es(b,T){return 120<T?T-120:1<=(U=((U=E4[T-1])>>4)*b+(8-(15&U)))?U:1;var U}function Tn(b,T,U){var Q=K(U),ne=b[T+=255&Q].g-8;return 0<ne&&(ce(U,U.u+8),Q=K(U),T+=b[T].value,T+=Q&(1<<ne)-1),ce(U,U.u+b[T].g),b[T].value}function oi(b,T,U){return U.g+=b.g,U.value+=b.value<<T>>>0,e(8>=U.g),b.g}function oe(b,T,U){var Q=b.xc;return e((T=Q==0?0:b.vc[b.md*(U>>Q)+(T>>Q)])<b.Wb),b.Ya[T]}function Ae(b,T,U,Q){var ne=b.ab,de=b.c*T,pe=b.C;T=pe+T;var ge=U,ve=Q;for(Q=b.Ta,U=b.Ua;0<ne--;){var Ee=b.gc[ne],Ve=pe,Ze=T,Te=ge,ze=ve,Xe=(ve=Q,ge=U,Ee.Ea);switch(e(Ve<Ze),e(Ze<=Ee.nc),Ee.hc){case 2:$d(Te,ze,(Ze-Ve)*Xe,ve,ge);break;case 0:var mt=Ve,nt=Ze,ft=ve,ht=ge,yt=(or=Ee).Ea;mt==0&&(Za(Te,ze,null,null,1,ft,ht),dt(Te,ze+1,0,0,yt-1,ft,ht+1),ze+=yt,ht+=yt,++mt);for(var wt=1<<or.b,gr=wt-1,rr=re(yt,or.b),Ur=or.K,or=or.w+(mt>>or.b)*rr;mt<nt;){var nn=Ur,Ri=or,$r=1;for(eo(Te,ze,ft,ht-yt,1,ft,ht);$r<yt;){var nr=($r&~gr)+wt;nr>yt&&(nr=yt),(0,_c[nn[Ri++]>>8&15])(Te,ze+ +$r,ft,ht+$r-yt,nr-$r,ft,ht+$r),$r=nr}ze+=yt,ht+=yt,++mt&gr||(or+=rr)}Ze!=Ee.nc&&n(ve,ge-Xe,ve,ge+(Ze-Ve-1)*Xe,Xe);break;case 1:for(Xe=Te,nt=ze,yt=(Te=Ee.Ea)-(ht=Te&~(ft=(ze=1<<Ee.b)-1)),mt=re(Te,Ee.b),wt=Ee.K,Ee=Ee.w+(Ve>>Ee.b)*mt;Ve<Ze;){for(gr=wt,rr=Ee,Ur=new At,or=nt+ht,nn=nt+Te;nt<or;)_t(gr[rr++],Ur),Bl(Ur,Xe,nt,ze,ve,ge),nt+=ze,ge+=ze;nt<nn&&(_t(gr[rr++],Ur),Bl(Ur,Xe,nt,yt,ve,ge),nt+=yt,ge+=yt),++Ve&ft||(Ee+=mt)}break;case 3:if(Te==ve&&ze==ge&&0<Ee.b){for(nt=ve,Te=Xe=ge+(Ze-Ve)*Xe-(ht=(Ze-Ve)*re(Ee.Ea,Ee.b)),ze=ve,ft=ge,mt=[],ht=(yt=ht)-1;0<=ht;--ht)mt[ht]=ze[ft+ht];for(ht=yt-1;0<=ht;--ht)nt[Te+ht]=mt[ht];tu(Ee,Ve,Ze,ve,Xe,ve,ge)}else tu(Ee,Ve,Ze,Te,ze,ve,ge)}ge=Q,ve=U}ve!=U&&n(Q,U,ge,ve,de)}function we(b,T){var U=b.V,Q=b.Ba+b.c*b.C,ne=T-b.C;if(e(T<=b.l.o),e(16>=ne),0<ne){var de=b.l,pe=b.Ta,ge=b.Ua,ve=de.width;if(Ae(b,ne,U,Q),ne=ge=[ge],e((U=b.C)<(Q=T)),e(de.v<de.va),Q>de.o&&(Q=de.o),U<de.j){var Ee=de.j-U;U=de.j,ne[0]+=Ee*ve}if(U>=Q?U=0:(ne[0]+=4*de.v,de.ka=U-de.j,de.U=de.va-de.v,de.T=Q-U,U=1),U){if(ge=ge[0],11>(U=b.ca).S){var Ve=U.f.RGBA,Ze=(Q=U.S,ne=de.U,de=de.T,Ee=Ve.eb,Ve.A),Te=de;for(Ve=Ve.fb+b.Ma*Ve.A;0<Te--;){var ze=pe,Xe=ge,mt=ne,nt=Ee,ft=Ve;switch(Q){case ip:Hd(ze,Xe,mt,nt,ft);break;case ru:to(ze,Xe,mt,nt,ft);break;case Xd:to(ze,Xe,mt,nt,ft),Gu(nt,ft,0,mt,1,0);break;case xx:ri(ze,Xe,mt,nt,ft);break;case yh:Ft(ze,Xe,mt,nt,ft,1);break;case Ku:Ft(ze,Xe,mt,nt,ft,1),Gu(nt,ft,0,mt,1,0);break;case wh:Ft(ze,Xe,mt,nt,ft,0);break;case _h:Ft(ze,Xe,mt,nt,ft,0),Gu(nt,ft,1,mt,1,0);break;case zn:Vl(ze,Xe,mt,nt,ft);break;case bh:Vl(ze,Xe,mt,nt,ft),ym(nt,ft,mt,1,0);break;case sp:ti(ze,Xe,mt,nt,ft);break;default:e(0)}ge+=ve,Ve+=Ze}b.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=U.height)}}b.C=T,e(b.C<=b.i)}function Se(b){var T;if(0<b.ua)return 0;for(T=0;T<b.Wb;++T){var U=b.Ya[T].G,Q=b.Ya[T].H;if(0<U[1][Q[1]+0].g||0<U[2][Q[2]+0].g||0<U[3][Q[3]+0].g)return 0}return 1}function Ne(b,T,U,Q,ne,de){if(b.Z!=0){var pe=b.qd,ge=b.rd;for(e(fa[b.Z]!=null);T<U;++T)fa[b.Z](pe,ge,Q,ne,Q,ne,de),pe=Q,ge=ne,ne+=de;b.qd=pe,b.rd=ge}}function Ie(b,T){var U=b.l.ma,Q=U.Z==0||U.Z==1?b.l.j:b.C;if(Q=b.C<Q?Q:b.C,e(T<=b.l.o),T>Q){var ne=b.l.width,de=U.ca,pe=U.tb+ne*Q,ge=b.V,ve=b.Ba+b.c*Q,Ee=b.gc;e(b.ab==1),e(Ee[0].hc==3),qu(Ee[0],Q,T,ge,ve,de,pe),Ne(U,Q,T,de,pe,ne)}b.C=b.Ma=T}function Ye(b,T,U,Q,ne,de,pe){var ge=b.$/Q,ve=b.$%Q,Ee=b.m,Ve=b.s,Ze=U+b.$,Te=Ze;ne=U+Q*ne;var ze=U+Q*de,Xe=280+Ve.ua,mt=b.Pb?ge:16777216,nt=0<Ve.ua?Ve.Wa:null,ft=Ve.wc,ht=Ze<ze?oe(Ve,ve,ge):null;e(b.C<de),e(ze<=ne);var yt=!1;e:for(;;){for(;yt||Ze<ze;){var wt=0;if(ge>=mt){var gr=Ze-U;e((mt=b).Pb),mt.wd=mt.m,mt.xd=gr,0<mt.s.ua&&Oe(mt.s.Wa,mt.s.vb),mt=ge+op}if(ve&ft||(ht=oe(Ve,ve,ge)),e(ht!=null),ht.Qb&&(T[Ze]=ht.qb,yt=!0),!yt)if(ye(Ee),ht.jc){wt=Ee,gr=T;var rr=Ze,Ur=ht.pd[K(wt)&Ra-1];e(ht.jc),256>Ur.g?(ce(wt,wt.u+Ur.g),gr[rr]=Ur.value,wt=0):(ce(wt,wt.u+Ur.g-256),e(256<=Ur.value),wt=Ur.value),wt==0&&(yt=!0)}else wt=Tn(ht.G[0],ht.H[0],Ee);if(Ee.h)break;if(yt||256>wt){if(!yt)if(ht.nd)T[Ze]=(ht.qb|wt<<8)>>>0;else{if(ye(Ee),yt=Tn(ht.G[1],ht.H[1],Ee),ye(Ee),gr=Tn(ht.G[2],ht.H[2],Ee),rr=Tn(ht.G[3],ht.H[3],Ee),Ee.h)break;T[Ze]=(rr<<24|yt<<16|wt<<8|gr)>>>0}if(yt=!1,++Ze,++ve>=Q&&(ve=0,++ge,pe!=null&&ge<=de&&!(ge%16)&&pe(b,ge),nt!=null))for(;Te<Ze;)wt=T[Te++],nt.X[(506832829*wt&4294967295)>>>nt.Mb]=wt}else if(280>wt){if(wt=Zn(wt-256,Ee),gr=Tn(ht.G[4],ht.H[4],Ee),ye(Ee),gr=es(Q,gr=Zn(gr,Ee)),Ee.h)break;if(Ze-U<gr||ne-Ze<wt)break e;for(rr=0;rr<wt;++rr)T[Ze+rr]=T[Ze+rr-gr];for(Ze+=wt,ve+=wt;ve>=Q;)ve-=Q,++ge,pe!=null&&ge<=de&&!(ge%16)&&pe(b,ge);if(e(Ze<=ne),ve&ft&&(ht=oe(Ve,ve,ge)),nt!=null)for(;Te<Ze;)wt=T[Te++],nt.X[(506832829*wt&4294967295)>>>nt.Mb]=wt}else{if(!(wt<Xe))break e;for(yt=wt-280,e(nt!=null);Te<Ze;)wt=T[Te++],nt.X[(506832829*wt&4294967295)>>>nt.Mb]=wt;wt=Ze,e(!(yt>>>(gr=nt).Xa)),T[wt]=gr.X[yt],yt=!0}yt||e(Ee.h==J(Ee))}if(b.Pb&&Ee.h&&Ze<ne)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Oe(b.s.vb,b.s.Wa);else{if(Ee.h)break e;pe?.(b,ge>de?de:ge),b.a=0,b.$=Ze-U}return 1}return b.a=3,0}function ot(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var T=b.Wa;T!=null&&(T.X=null),b.vb=null,e(b!=null)}function et(){var b=new ei;return b==null?null:(b.a=0,b.xb=Qd,Wt("Predictor","VP8LPredictors"),Wt("Predictor","VP8LPredictors_C"),Wt("PredictorAdd","VP8LPredictorsAdd"),Wt("PredictorAdd","VP8LPredictorsAdd_C"),$d=bt,Bl=vt,Hd=Xt,to=Yt,Vl=Ut,ti=pr,ri=Ge,C.VP8LMapColor32b=qd,C.VP8LMapColor8b=wc,b)}function tt(b,T,U,Q,ne){var de=1,pe=[b],ge=[T],ve=Q.m,Ee=Q.s,Ve=null,Ze=0;e:for(;;){if(U)for(;de&&Y(ve,1);){var Te=pe,ze=ge,Xe=Q,mt=1,nt=Xe.m,ft=Xe.gc[Xe.ab],ht=Y(nt,2);if(Xe.Oc&1<<ht)de=0;else{switch(Xe.Oc|=1<<ht,ft.hc=ht,ft.Ea=Te[0],ft.nc=ze[0],ft.K=[null],++Xe.ab,e(4>=Xe.ab),ht){case 0:case 1:ft.b=Y(nt,3)+2,mt=tt(re(ft.Ea,ft.b),re(ft.nc,ft.b),0,Xe,ft.K),ft.K=ft.K[0];break;case 3:var yt,wt=Y(nt,8)+1,gr=16<wt?0:4<wt?1:2<wt?2:3;if(Te[0]=re(ft.Ea,gr),ft.b=gr,yt=mt=tt(wt,1,0,Xe,ft.K)){var rr,Ur=wt,or=ft,nn=1<<(8>>or.b),Ri=s(nn);if(Ri==null)yt=0;else{var $r=or.K[0],nr=or.w;for(Ri[0]=or.K[0][0],rr=1;rr<1*Ur;++rr)Ri[rr]=je($r[nr+rr],Ri[rr-1]);for(;rr<4*nn;++rr)Ri[rr]=0;or.K[0]=null,or.K[0]=Ri,yt=1}}mt=yt;break;case 2:break;default:e(0)}de=mt}}if(pe=pe[0],ge=ge[0],de&&Y(ve,1)&&!(de=1<=(Ze=Y(ve,4))&&11>=Ze)){Q.a=3;break e}var qt;if(qt=de)t:{var qi,Rr,Jr,ni=Q,js=pe,rs=ge,_i=Ze,vs=U,Ds=ni.m,mi=ni.s,cn=[null],bn=1,gi=0,kn=yx[_i];r:for(;;){if(vs&&Y(Ds,1)){var Li=Y(Ds,3)+2,Fi=re(js,Li),$n=re(rs,Li),ha=Fi*$n;if(!tt(Fi,$n,0,ni,cn))break r;for(cn=cn[0],mi.xc=Li,qi=0;qi<ha;++qi){var Mn=cn[qi]>>8&65535;cn[qi]=Mn,Mn>=bn&&(bn=Mn+1)}}if(Ds.h)break r;for(Rr=0;5>Rr;++Rr){var qn=Xu[Rr];!Rr&&0<_i&&(qn+=1<<_i),gi<qn&&(gi=qn)}var ns=a(bn*kn,B),ta=bn,ao=a(ta,he);if(ao==null)var Hi=null;else e(65536>=ta),Hi=ao;var Wi=s(gi);if(Hi==null||Wi==null||ns==null){ni.a=1;break r}var pa=ns;for(qi=Jr=0;qi<bn;++qi){var Hn=Hi[qi],ma=Hn.G,Wo=Hn.H,gl=0,Os=1,Gi=0;for(Rr=0;5>Rr;++Rr){qn=Xu[Rr],ma[Rr]=pa,Wo[Rr]=Jr,!Rr&&0<_i&&(qn+=1<<_i);i:{var su,Sc=qn,ef=ni,ql=Wi,Sx=pa,Pm=Jr,ci=0,xl=ef.m,Rm=Y(xl,1);if(i(ql,0,0,Sc),Rm){var Lm=Y(xl,1)+1,cp=Y(xl,1),up=Y(xl,cp==0?1:8);ql[up]=1,Lm==2&&(ql[up=Y(xl,8)]=1);var Hl=1}else{var xi=s(19),is=Y(xl,4)+4;if(19<is){ef.a=3;var Ki=0;break i}for(su=0;su<is;++su)xi[S4[su]]=Y(xl,3);var tf=void 0,Ec=void 0,rf=ef,I4=xi,ys=Sc,dp=ql,Th=0,Wl=rf.m,vl=8,No=a(128,B);n:for(;j(No,0,7,I4,19);){if(Y(Wl,1)){var Ah=2+2*Y(Wl,3);if((tf=2+Y(Wl,Ah))>ys)break n}else tf=ys;for(Ec=0;Ec<ys&&tf--;){ye(Wl);var fp=No[0+(127&K(Wl))];ce(Wl,Wl.u+fp.g);var au=fp.value;if(16>au)dp[Ec++]=au,au!=0&&(vl=au);else{var Ex=au==16,Fm=au-16,Cx=ap[Fm],jm=Y(Wl,kh[Fm])+Cx;if(Ec+jm>ys)break n;for(var Tx=Ex?vl:0;0<jm--;)dp[Ec++]=Tx}}Th=1;break n}Th||(rf.a=3),Hl=Th}(Hl=Hl&&!xl.h)&&(ci=j(Sx,Pm,8,ql,Sc)),Hl&&ci!=0?Ki=ci:(ef.a=3,Ki=0)}if(Ki==0)break r;if(Os&&vx[Rr]==1&&(Os=pa[Jr].g==0),gl+=pa[Jr].g,Jr+=Ki,3>=Rr){var nf,hp=Wi[0];for(nf=1;nf<qn;++nf)Wi[nf]>hp&&(hp=Wi[nf]);Gi+=hp}}if(Hn.nd=Os,Hn.Qb=0,Os&&(Hn.qb=(ma[3][Wo[3]+0].value<<24|ma[1][Wo[1]+0].value<<16|ma[2][Wo[2]+0].value)>>>0,gl==0&&256>ma[0][Wo[0]+0].value&&(Hn.Qb=1,Hn.qb+=ma[0][Wo[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>Gi,Hn.jc){var Nh,Io=Hn;for(Nh=0;Nh<Ra;++Nh){var Cc=Nh,yl=Io.pd[Cc],ed=Io.G[0][Io.H[0]+Cc];256<=ed.value?(yl.g=ed.g+256,yl.value=ed.value):(yl.g=0,yl.value=0,Cc>>=oi(ed,8,yl),Cc>>=oi(Io.G[1][Io.H[1]+Cc],16,yl),Cc>>=oi(Io.G[2][Io.H[2]+Cc],0,yl),oi(Io.G[3][Io.H[3]+Cc],24,yl))}}}mi.vc=cn,mi.Wb=bn,mi.Ya=Hi,mi.yc=ns,qt=1;break t}qt=0}if(!(de=qt)){Q.a=3;break e}if(0<Ze){if(Ee.ua=1<<Ze,!me(Ee.Wa,Ze)){Q.a=1,de=0;break e}}else Ee.ua=0;var pp=Q,mp=pe,Ax=ge,gp=pp.s,xp=gp.xc;if(pp.c=mp,pp.i=Ax,gp.md=re(mp,xp),gp.wc=xp==0?-1:(1<<xp)-1,U){Q.xb=$l;break e}if((Ve=s(pe*ge))==null){Q.a=1,de=0;break e}de=(de=Ye(Q,Ve,0,pe,ge,ge,null))&&!ve.h;break e}return de?(ne!=null?ne[0]=Ve:(e(Ve==null),e(U)),Q.$=0,U||ot(Ee)):ot(Ee),de}function it(b,T){var U=b.c*b.i,Q=U+T+16*T;return e(b.c<=T),b.V=s(Q),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+U+T,1)}function Et(b,T){var U=b.C,Q=T-U,ne=b.V,de=b.Ba+b.c*U;for(e(T<=b.l.o);0<Q;){var pe=16<Q?16:Q,ge=b.l.ma,ve=b.l.width,Ee=ve*pe,Ve=ge.ca,Ze=ge.tb+ve*U,Te=b.Ta,ze=b.Ua;Ae(b,pe,ne,de),wm(Te,ze,Ve,Ze,Ee),Ne(ge,U,U+pe,Ve,Ze,ve),Q-=pe,ne+=pe*b.c,U+=pe}e(U==T),b.C=b.Ma=T}function Mt(){this.ub=this.yd=this.td=this.Rb=0}function Gt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ot(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Pt(){this.Yb=(function(){var b=[];return(function T(U,Q,ne){for(var de=ne[Q],pe=0;pe<de&&(U.push(ne.length>Q+1?[]:0),!(ne.length<Q+1));pe++)T(U[pe],Q+1,ne)})(b,0,[3,11]),b})()}function Sr(){this.jb=s(3),this.Wc=o([4,8],Pt),this.Xc=o([4,17],Pt)}function fn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vr(){this.ld=this.La=this.dd=this.tc=0}function gn(){this.Na=this.la=0}function Ha(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ca(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vr),this.Y=0,this.ya=Array(new Wa),this.aa=0,this.l=new An}function hi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function al(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new Mt,this.Kc=new Gt,this.ed=new fn,this.Qa=new Ot,this.Ic=this.$c=this.Aa=0,this.D=new ca,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,P),this.ia=0,this.pb=a(4,Ha),this.Pa=new Sr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hi),this.Hd=0,this.rb=Array(new gn),this.sb=0,this.wa=Array(new Vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wa),this.L=this.aa=0,this.gd=o([4,2],Vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function An(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Vu(){var b=new al;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Yu||(Yu=Ga)),b}function wi(b,T,U){return b.a==0&&(b.a=T,b.sc=U,b.cb=0),0}function Uu(b,T,U){return 3<=U&&b[T+0]==157&&b[T+1]==1&&b[T+2]==42}function mc(b,T){if(b==null)return 0;if(b.a=0,b.sc="OK",T==null)return wi(b,2,"null VP8Io passed to VP8GetHeaders()");var U=T.data,Q=T.w,ne=T.ha;if(4>ne)return wi(b,7,"Truncated header.");var de=U[Q+0]|U[Q+1]<<8|U[Q+2]<<16,pe=b.Od;if(pe.Rb=!(1&de),pe.td=de>>1&7,pe.yd=de>>4&1,pe.ub=de>>5,3<pe.td)return wi(b,3,"Incorrect keyframe parameters.");if(!pe.yd)return wi(b,4,"Frame not displayable.");Q+=3,ne-=3;var ge=b.Kc;if(pe.Rb){if(7>ne)return wi(b,7,"cannot parse picture header");if(!Uu(U,Q,ne))return wi(b,3,"Bad code word");ge.c=16383&(U[Q+4]<<8|U[Q+3]),ge.Td=U[Q+4]>>6,ge.i=16383&(U[Q+6]<<8|U[Q+5]),ge.Ud=U[Q+6]>>6,Q+=7,ne-=7,b.za=ge.c+15>>4,b.Ub=ge.i+15>>4,T.width=ge.c,T.height=ge.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((de=b.Pa).jb,0,255,de.jb.length),e((de=b.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(pe.ub>ne)return wi(b,7,"bad partition length");_e(de=b.m,U,Q,pe.ub),Q+=pe.ub,ne-=pe.ub,pe.Rb&&(ge.Ld=ae(de),ge.Kd=ae(de)),ge=b.Qa;var ve,Ee=b.Pa;if(e(de!=null),e(ge!=null),ge.Cb=ae(de),ge.Cb){if(ge.Bb=ae(de),ae(de)){for(ge.Fb=ae(de),ve=0;4>ve;++ve)ge.Zb[ve]=ae(de)?ie(de,7):0;for(ve=0;4>ve;++ve)ge.Lb[ve]=ae(de)?ie(de,6):0}if(ge.Bb)for(ve=0;3>ve;++ve)Ee.jb[ve]=ae(de)?fe(de,8):255}else ge.Bb=0;if(de.Ka)return wi(b,3,"cannot parse segment header");if((ge=b.ed).zd=ae(de),ge.Tb=fe(de,6),ge.wb=fe(de,3),ge.Pc=ae(de),ge.Pc&&ae(de)){for(Ee=0;4>Ee;++Ee)ae(de)&&(ge.vd[Ee]=ie(de,6));for(Ee=0;4>Ee;++Ee)ae(de)&&(ge.od[Ee]=ie(de,6))}if(b.L=ge.Tb==0?0:ge.zd?1:2,de.Ka)return wi(b,3,"cannot parse filter header");var Ve=ne;if(ne=ve=Q,Q=ve+Ve,ge=Ve,b.Xb=(1<<fe(b.m,2))-1,Ve<3*(Ee=b.Xb))U=7;else{for(ve+=3*Ee,ge-=3*Ee,Ve=0;Ve<Ee;++Ve){var Ze=U[ne+0]|U[ne+1]<<8|U[ne+2]<<16;Ze>ge&&(Ze=ge),_e(b.Jc[+Ve],U,ve,Ze),ve+=Ze,ge-=Ze,ne+=3}_e(b.Jc[+Ee],U,ve,ge),U=ve<Q?0:5}if(U!=0)return wi(b,U,"cannot parse partitions");for(U=fe(ve=b.m,7),ne=ae(ve)?ie(ve,4):0,Q=ae(ve)?ie(ve,4):0,ge=ae(ve)?ie(ve,4):0,Ee=ae(ve)?ie(ve,4):0,ve=ae(ve)?ie(ve,4):0,Ve=b.Qa,Ze=0;4>Ze;++Ze){if(Ve.Cb){var Te=Ve.Zb[Ze];Ve.Fb||(Te+=U)}else{if(0<Ze){b.pb[Ze]=b.pb[0];continue}Te=U}var ze=b.pb[Ze];ze.Sc[0]=Yd[rn(Te+ne,127)],ze.Sc[1]=Sh[rn(Te+0,127)],ze.Eb[0]=2*Yd[rn(Te+Q,127)],ze.Eb[1]=101581*Sh[rn(Te+ge,127)]>>16,8>ze.Eb[1]&&(ze.Eb[1]=8),ze.Qc[0]=Yd[rn(Te+Ee,117)],ze.Qc[1]=Sh[rn(Te+ve,127)],ze.lc=Te+ve}if(!pe.Rb)return wi(b,4,"Not a key frame.");for(ae(de),pe=b.Pa,U=0;4>U;++U){for(ne=0;8>ne;++ne)for(Q=0;3>Q;++Q)for(ge=0;11>ge;++ge)Ee=be(de,T4[U][ne][Q][ge])?fe(de,8):_x[U][ne][Q][ge],pe.Wc[U][ne].Yb[Q][ge]=Ee;for(ne=0;17>ne;++ne)pe.Xc[U][ne]=pe.Wc[U][Am[ne]]}return b.kc=ae(de),b.kc&&(b.Bd=fe(de,8)),b.cb=1}function Ga(b,T,U,Q,ne,de,pe){var ge=T[ne].Yb[U];for(U=0;16>ne;++ne){if(!be(b,ge[U+0]))return ne;for(;!be(b,ge[U+1]);)if(ge=T[++ne].Yb[0],U=0,ne==16)return 16;var ve=T[ne+1].Yb;if(be(b,ge[U+2])){var Ee=b,Ve=0;if(be(Ee,(Te=ge)[(Ze=U)+3]))if(be(Ee,Te[Ze+6])){for(ge=0,Ze=2*(Ve=be(Ee,Te[Ze+8]))+(Te=be(Ee,Te[Ze+9+Ve])),Ve=0,Te=Cm[Ze];Te[ge];++ge)Ve+=Ve+be(Ee,Te[ge]);Ve+=3+(8<<Ze)}else be(Ee,Te[Ze+7])?(Ve=7+2*be(Ee,165),Ve+=be(Ee,145)):Ve=5+be(Ee,159);else Ve=be(Ee,Te[Ze+4])?3+be(Ee,Te[Ze+5]):2;ge=ve[2]}else Ve=1,ge=ve[1];ve=pe+Tm[ne],0>(Ee=b).b&&ke(Ee);var Ze,Te=Ee.b,ze=(Ze=Ee.Ca>>1)-(Ee.I>>Te)>>31;--Ee.b,Ee.Ca+=ze,Ee.Ca|=1,Ee.I-=(Ze+1&ze)<<Te,de[ve]=((Ve^ze)-ze)*Q[(0<ne)+0]}return 16}function Ka(b){var T=b.rb[b.sb-1];T.la=0,T.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Gs(b,T,U,Q,ne){ne=b[T+U+32*Q]+(ne>>3),b[T+U+32*Q]=-256&ne?0>ne?0:255:ne}function gc(b,T,U,Q,ne,de){Gs(b,T,0,U,Q+ne),Gs(b,T,1,U,Q+de),Gs(b,T,2,U,Q-de),Gs(b,T,3,U,Q-ne)}function Pn(b){return(20091*b>>16)+b}function Ks(b,T,U,Q){var ne,de=0,pe=s(16);for(ne=0;4>ne;++ne){var ge=b[T+0]+b[T+8],ve=b[T+0]-b[T+8],Ee=(35468*b[T+4]>>16)-Pn(b[T+12]),Ve=Pn(b[T+4])+(35468*b[T+12]>>16);pe[de+0]=ge+Ve,pe[de+1]=ve+Ee,pe[de+2]=ve-Ee,pe[de+3]=ge-Ve,de+=4,T++}for(ne=de=0;4>ne;++ne)ge=(b=pe[de+0]+4)+pe[de+8],ve=b-pe[de+8],Ee=(35468*pe[de+4]>>16)-Pn(pe[de+12]),Gs(U,Q,0,0,ge+(Ve=Pn(pe[de+4])+(35468*pe[de+12]>>16))),Gs(U,Q,1,0,ve+Ee),Gs(U,Q,2,0,ve-Ee),Gs(U,Q,3,0,ge-Ve),de++,Q+=32}function xc(b,T,U,Q){var ne=b[T+0]+4,de=35468*b[T+4]>>16,pe=Pn(b[T+4]),ge=35468*b[T+1]>>16;gc(U,Q,0,ne+pe,b=Pn(b[T+1]),ge),gc(U,Q,1,ne+de,b,ge),gc(U,Q,2,ne-de,b,ge),gc(U,Q,3,ne-pe,b,ge)}function Fl(b,T,U,Q,ne){Ks(b,T,U,Q),ne&&Ks(b,T+16,U,Q+4)}function jl(b,T,U,Q){$i(b,T+0,U,Q,1),$i(b,T+32,U,Q+128,1)}function tn(b,T,U,Q){var ne;for(b=b[T+0]+4,ne=0;4>ne;++ne)for(T=0;4>T;++T)Gs(U,Q,T,ne,b)}function ol(b,T,U,Q){b[T+0]&&pl(b,T+0,U,Q),b[T+16]&&pl(b,T+16,U,Q+4),b[T+32]&&pl(b,T+32,U,Q+128),b[T+48]&&pl(b,T+48,U,Q+128+4)}function Kr(b,T,U,Q){var ne,de=s(16);for(ne=0;4>ne;++ne){var pe=b[T+0+ne]+b[T+12+ne],ge=b[T+4+ne]+b[T+8+ne],ve=b[T+4+ne]-b[T+8+ne],Ee=b[T+0+ne]-b[T+12+ne];de[0+ne]=pe+ge,de[8+ne]=pe-ge,de[4+ne]=Ee+ve,de[12+ne]=Ee-ve}for(ne=0;4>ne;++ne)pe=(b=de[0+4*ne]+3)+de[3+4*ne],ge=de[1+4*ne]+de[2+4*ne],ve=de[1+4*ne]-de[2+4*ne],Ee=b-de[3+4*ne],U[Q+0]=pe+ge>>3,U[Q+16]=Ee+ve>>3,U[Q+32]=pe-ge>>3,U[Q+48]=Ee-ve>>3,Q+=64}function Ta(b,T,U){var Q,ne=T-32,de=La,pe=255-b[ne-1];for(Q=0;Q<U;++Q){var ge,ve=de,Ee=pe+b[T-1];for(ge=0;ge<U;++ge)b[T+ge]=ve[Ee+b[ne+ge]];T+=32}}function Gc(b,T){Ta(b,T,4)}function Kc(b,T){Ta(b,T,8)}function Bd(b,T){Ta(b,T,16)}function Vd(b,T){var U;for(U=0;16>U;++U)n(b,T+32*U,b,T-32,16)}function Xc(b,T){var U;for(U=16;0<U;--U)i(b,T,b[T-1],16),T+=32}function ll(b,T,U){var Q;for(Q=0;16>Q;++Q)i(T,U+32*Q,b,16)}function Xs(b,T){var U,Q=16;for(U=0;16>U;++U)Q+=b[T-1+32*U]+b[T+U-32];ll(Q>>5,b,T)}function ms(b,T){var U,Q=8;for(U=0;16>U;++U)Q+=b[T-1+32*U];ll(Q>>4,b,T)}function Ys(b,T){var U,Q=8;for(U=0;16>U;++U)Q+=b[T+U-32];ll(Q>>4,b,T)}function Aa(b,T){ll(128,b,T)}function kr(b,T,U){return b+2*T+U+2>>2}function Xa(b,T){var U,Q=T-32;for(Q=new Uint8Array([kr(b[Q-1],b[Q+0],b[Q+1]),kr(b[Q+0],b[Q+1],b[Q+2]),kr(b[Q+1],b[Q+2],b[Q+3]),kr(b[Q+2],b[Q+3],b[Q+4])]),U=0;4>U;++U)n(b,T+32*U,Q,0,Q.length)}function Vo(b,T){var U=b[T-1],Q=b[T-1+32],ne=b[T-1+64],de=b[T-1+96];De(b,T+0,16843009*kr(b[T-1-32],U,Q)),De(b,T+32,16843009*kr(U,Q,ne)),De(b,T+64,16843009*kr(Q,ne,de)),De(b,T+96,16843009*kr(ne,de,de))}function mh(b,T){var U,Q=4;for(U=0;4>U;++U)Q+=b[T+U-32]+b[T-1+32*U];for(Q>>=3,U=0;4>U;++U)i(b,T+32*U,Q,4)}function Ud(b,T){var U=b[T-1+0],Q=b[T-1+32],ne=b[T-1+64],de=b[T-1-32],pe=b[T+0-32],ge=b[T+1-32],ve=b[T+2-32],Ee=b[T+3-32];b[T+0+96]=kr(Q,ne,b[T-1+96]),b[T+1+96]=b[T+0+64]=kr(U,Q,ne),b[T+2+96]=b[T+1+64]=b[T+0+32]=kr(de,U,Q),b[T+3+96]=b[T+2+64]=b[T+1+32]=b[T+0+0]=kr(pe,de,U),b[T+3+64]=b[T+2+32]=b[T+1+0]=kr(ge,pe,de),b[T+3+32]=b[T+2+0]=kr(ve,ge,pe),b[T+3+0]=kr(Ee,ve,ge)}function Ni(b,T){var U=b[T+1-32],Q=b[T+2-32],ne=b[T+3-32],de=b[T+4-32],pe=b[T+5-32],ge=b[T+6-32],ve=b[T+7-32];b[T+0+0]=kr(b[T+0-32],U,Q),b[T+1+0]=b[T+0+32]=kr(U,Q,ne),b[T+2+0]=b[T+1+32]=b[T+0+64]=kr(Q,ne,de),b[T+3+0]=b[T+2+32]=b[T+1+64]=b[T+0+96]=kr(ne,de,pe),b[T+3+32]=b[T+2+64]=b[T+1+96]=kr(de,pe,ge),b[T+3+64]=b[T+2+96]=kr(pe,ge,ve),b[T+3+96]=kr(ge,ve,ve)}function cl(b,T){var U=b[T-1+0],Q=b[T-1+32],ne=b[T-1+64],de=b[T-1-32],pe=b[T+0-32],ge=b[T+1-32],ve=b[T+2-32],Ee=b[T+3-32];b[T+0+0]=b[T+1+64]=de+pe+1>>1,b[T+1+0]=b[T+2+64]=pe+ge+1>>1,b[T+2+0]=b[T+3+64]=ge+ve+1>>1,b[T+3+0]=ve+Ee+1>>1,b[T+0+96]=kr(ne,Q,U),b[T+0+64]=kr(Q,U,de),b[T+0+32]=b[T+1+96]=kr(U,de,pe),b[T+1+32]=b[T+2+96]=kr(de,pe,ge),b[T+2+32]=b[T+3+96]=kr(pe,ge,ve),b[T+3+32]=kr(ge,ve,Ee)}function zd(b,T){var U=b[T+0-32],Q=b[T+1-32],ne=b[T+2-32],de=b[T+3-32],pe=b[T+4-32],ge=b[T+5-32],ve=b[T+6-32],Ee=b[T+7-32];b[T+0+0]=U+Q+1>>1,b[T+1+0]=b[T+0+64]=Q+ne+1>>1,b[T+2+0]=b[T+1+64]=ne+de+1>>1,b[T+3+0]=b[T+2+64]=de+pe+1>>1,b[T+0+32]=kr(U,Q,ne),b[T+1+32]=b[T+0+96]=kr(Q,ne,de),b[T+2+32]=b[T+1+96]=kr(ne,de,pe),b[T+3+32]=b[T+2+96]=kr(de,pe,ge),b[T+3+64]=kr(pe,ge,ve),b[T+3+96]=kr(ge,ve,Ee)}function ul(b,T){var U=b[T-1+0],Q=b[T-1+32],ne=b[T-1+64],de=b[T-1+96];b[T+0+0]=U+Q+1>>1,b[T+2+0]=b[T+0+32]=Q+ne+1>>1,b[T+2+32]=b[T+0+64]=ne+de+1>>1,b[T+1+0]=kr(U,Q,ne),b[T+3+0]=b[T+1+32]=kr(Q,ne,de),b[T+3+32]=b[T+1+64]=kr(ne,de,de),b[T+3+64]=b[T+2+64]=b[T+0+96]=b[T+1+96]=b[T+2+96]=b[T+3+96]=de}function Uo(b,T){var U=b[T-1+0],Q=b[T-1+32],ne=b[T-1+64],de=b[T-1+96],pe=b[T-1-32],ge=b[T+0-32],ve=b[T+1-32],Ee=b[T+2-32];b[T+0+0]=b[T+2+32]=U+pe+1>>1,b[T+0+32]=b[T+2+64]=Q+U+1>>1,b[T+0+64]=b[T+2+96]=ne+Q+1>>1,b[T+0+96]=de+ne+1>>1,b[T+3+0]=kr(ge,ve,Ee),b[T+2+0]=kr(pe,ge,ve),b[T+1+0]=b[T+3+32]=kr(U,pe,ge),b[T+1+32]=b[T+3+64]=kr(Q,U,pe),b[T+1+64]=b[T+3+96]=kr(ne,Q,U),b[T+1+96]=kr(de,ne,Q)}function Yc(b,T){var U;for(U=0;8>U;++U)n(b,T+32*U,b,T-32,8)}function Qs(b,T){var U;for(U=0;8>U;++U)i(b,T,b[T-1],8),T+=32}function ua(b,T,U){var Q;for(Q=0;8>Q;++Q)i(T,U+32*Q,b,8)}function Ya(b,T){var U,Q=8;for(U=0;8>U;++U)Q+=b[T+U-32]+b[T-1+32*U];ua(Q>>4,b,T)}function Dl(b,T){var U,Q=4;for(U=0;8>U;++U)Q+=b[T+U-32];ua(Q>>3,b,T)}function jn(b,T){var U,Q=4;for(U=0;8>U;++U)Q+=b[T-1+32*U];ua(Q>>3,b,T)}function zu(b,T){ua(128,b,T)}function dl(b,T,U){var Q=b[T-U],ne=b[T+0],de=3*(ne-Q)+zl[1020+b[T-2*U]-b[T+U]],pe=Kd[112+(de+4>>3)];b[T-U]=La[255+Q+Kd[112+(de+3>>3)]],b[T+0]=La[255+ne-pe]}function Ao(b,T,U,Q){var ne=b[T+0],de=b[T+U];return qo[255+b[T-2*U]-b[T-U]]>Q||qo[255+de-ne]>Q}function Ol(b,T,U,Q){return 4*qo[255+b[T-U]-b[T+0]]+qo[255+b[T-2*U]-b[T+U]]<=Q}function Ml(b,T,U,Q,ne){var de=b[T-3*U],pe=b[T-2*U],ge=b[T-U],ve=b[T+0],Ee=b[T+U],Ve=b[T+2*U],Ze=b[T+3*U];return 4*qo[255+ge-ve]+qo[255+pe-Ee]>Q?0:qo[255+b[T-4*U]-de]<=ne&&qo[255+de-pe]<=ne&&qo[255+pe-ge]<=ne&&qo[255+Ze-Ve]<=ne&&qo[255+Ve-Ee]<=ne&&qo[255+Ee-ve]<=ne}function Js(b,T,U,Q){var ne=2*Q+1;for(Q=0;16>Q;++Q)Ol(b,T+Q,U,ne)&&dl(b,T+Q,U)}function zo(b,T,U,Q){var ne=2*Q+1;for(Q=0;16>Q;++Q)Ol(b,T+Q*U,1,ne)&&dl(b,T+Q*U,1)}function Ls(b,T,U,Q){var ne;for(ne=3;0<ne;--ne)Js(b,T+=4*U,U,Q)}function vc(b,T,U,Q){var ne;for(ne=3;0<ne;--ne)zo(b,T+=4,U,Q)}function Fs(b,T,U,Q,ne,de,pe,ge){for(de=2*de+1;0<ne--;){if(Ml(b,T,U,de,pe))if(Ao(b,T,U,ge))dl(b,T,U);else{var ve=b,Ee=T,Ve=U,Ze=ve[Ee-2*Ve],Te=ve[Ee-Ve],ze=ve[Ee+0],Xe=ve[Ee+Ve],mt=ve[Ee+2*Ve],nt=27*(ht=zl[1020+3*(ze-Te)+zl[1020+Ze-Xe]])+63>>7,ft=18*ht+63>>7,ht=9*ht+63>>7;ve[Ee-3*Ve]=La[255+ve[Ee-3*Ve]+ht],ve[Ee-2*Ve]=La[255+Ze+ft],ve[Ee-Ve]=La[255+Te+nt],ve[Ee+0]=La[255+ze-nt],ve[Ee+Ve]=La[255+Xe-ft],ve[Ee+2*Ve]=La[255+mt-ht]}T+=Q}}function gs(b,T,U,Q,ne,de,pe,ge){for(de=2*de+1;0<ne--;){if(Ml(b,T,U,de,pe))if(Ao(b,T,U,ge))dl(b,T,U);else{var ve=b,Ee=T,Ve=U,Ze=ve[Ee-Ve],Te=ve[Ee+0],ze=ve[Ee+Ve],Xe=Kd[112+(4+(mt=3*(Te-Ze))>>3)],mt=Kd[112+(mt+3>>3)],nt=Xe+1>>1;ve[Ee-2*Ve]=La[255+ve[Ee-2*Ve]+nt],ve[Ee-Ve]=La[255+Ze+mt],ve[Ee+0]=La[255+Te-Xe],ve[Ee+Ve]=La[255+ze-nt]}T+=Q}}function M(b,T,U,Q,ne,de){Fs(b,T,U,1,16,Q,ne,de)}function ee(b,T,U,Q,ne,de){Fs(b,T,1,U,16,Q,ne,de)}function Ce(b,T,U,Q,ne,de){var pe;for(pe=3;0<pe;--pe)gs(b,T+=4*U,U,1,16,Q,ne,de)}function Be(b,T,U,Q,ne,de){var pe;for(pe=3;0<pe;--pe)gs(b,T+=4,1,U,16,Q,ne,de)}function He(b,T,U,Q,ne,de,pe,ge){Fs(b,T,ne,1,8,de,pe,ge),Fs(U,Q,ne,1,8,de,pe,ge)}function xt(b,T,U,Q,ne,de,pe,ge){Fs(b,T,1,ne,8,de,pe,ge),Fs(U,Q,1,ne,8,de,pe,ge)}function kt(b,T,U,Q,ne,de,pe,ge){gs(b,T+4*ne,ne,1,8,de,pe,ge),gs(U,Q+4*ne,ne,1,8,de,pe,ge)}function Qt(b,T,U,Q,ne,de,pe,ge){gs(b,T+4,1,ne,8,de,pe,ge),gs(U,Q+4,1,ne,8,de,pe,ge)}function tr(){this.ba=new Ar,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _r(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Pr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ln(){this.ua=0,this.Wa=new Me,this.vb=new Me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new B}function ei(){this.xb=this.a=0,this.l=new An,this.ca=new Ar,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ln,this.ab=0,this.gc=a(4,Pr),this.Oc=0}function li(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new An,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xn(b,T,U,Q,ne,de,pe){for(b=b==null?0:b[T+0],T=0;T<pe;++T)ne[de+T]=b+U[Q+T]&255,b=ne[de+T]}function Ii(b,T,U,Q,ne,de,pe){var ge;if(b==null)xn(null,null,U,Q,ne,de,pe);else for(ge=0;ge<pe;++ge)ne[de+ge]=b[T+ge]+U[Q+ge]&255}function Dn(b,T,U,Q,ne,de,pe){if(b==null)xn(null,null,U,Q,ne,de,pe);else{var ge,ve=b[T+0],Ee=ve,Ve=ve;for(ge=0;ge<pe;++ge)Ee=Ve+(ve=b[T+ge])-Ee,Ve=U[Q+ge]+(-256&Ee?0>Ee?0:255:Ee)&255,Ee=ve,ne[de+ge]=Ve}}function ts(b,T,U,Q){var ne=T.width,de=T.o;if(e(b!=null&&T!=null),0>U||0>=Q||U+Q>de)return null;if(!b.Cc){if(b.ga==null){var pe;if(b.ga=new li,(pe=b.ga==null)||(pe=T.width*T.o,e(b.Gb.length==0),b.Gb=s(pe),b.Uc=0,b.Gb==null?pe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,pe=1),pe=!pe),!pe){pe=b.ga;var ge=b.Fa,ve=b.P,Ee=b.qc,Ve=b.mb,Ze=b.nb,Te=ve+1,ze=Ee-1,Xe=pe.l;if(e(ge!=null&&Ve!=null&&T!=null),fa[0]=null,fa[1]=xn,fa[2]=Ii,fa[3]=Dn,pe.ca=Ve,pe.tb=Ze,pe.c=T.width,pe.i=T.height,e(0<pe.c&&0<pe.i),1>=Ee)T=0;else if(pe.$a=3&ge[ve+0],pe.Z=ge[ve+0]>>2&3,pe.Lc=ge[ve+0]>>4&3,ve=ge[ve+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||ve)T=0;else if(Xe.put=ar,Xe.ac=Un,Xe.bc=dn,Xe.ma=pe,Xe.width=T.width,Xe.height=T.height,Xe.Da=T.Da,Xe.v=T.v,Xe.va=T.va,Xe.j=T.j,Xe.o=T.o,pe.$a)e:{e(pe.$a==1),T=et();t:for(;;){if(T==null){T=0;break e}if(e(pe!=null),pe.mc=T,T.c=pe.c,T.i=pe.i,T.l=pe.l,T.l.ma=pe,T.l.width=pe.c,T.l.height=pe.i,T.a=0,W(T.m,ge,Te,ze),!tt(pe.c,pe.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Se(T.s)?(pe.ic=1,ge=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(ge),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(pe.ic=0,T=it(T,pe.c)),!T))break t;T=1;break e}pe.mc=null,T=0}else T=ze>=pe.c*pe.i;pe=!T}if(pe)return null;b.ga.Lc!=1?b.Ga=0:Q=de-U}e(b.ga!=null),e(U+Q<=de);e:{if(T=(ge=b.ga).c,de=ge.l.o,ge.$a==0){if(Te=b.rc,ze=b.Vc,Xe=b.Fa,ve=b.P+1+U*T,Ee=b.mb,Ve=b.nb+U*T,e(ve<=b.P+b.qc),ge.Z!=0)for(e(fa[ge.Z]!=null),pe=0;pe<Q;++pe)fa[ge.Z](Te,ze,Xe,ve,Ee,Ve,T),Te=Ee,ze=Ve,Ve+=T,ve+=T;else for(pe=0;pe<Q;++pe)n(Ee,Ve,Xe,ve,T),Te=Ee,ze=Ve,Ve+=T,ve+=T;b.rc=Te,b.Vc=ze}else{if(e(ge.mc!=null),T=U+Q,e((pe=ge.mc)!=null),e(T<=pe.i),pe.C>=T)T=1;else if(ge.ic||Ui(),ge.ic){ge=pe.V,Te=pe.Ba,ze=pe.c;var mt=pe.i,nt=(Xe=1,ve=pe.$/ze,Ee=pe.$%ze,Ve=pe.m,Ze=pe.s,pe.$),ft=ze*mt,ht=ze*T,yt=Ze.wc,wt=nt<ht?oe(Ze,Ee,ve):null;e(nt<=ft),e(T<=mt),e(Se(Ze));t:for(;;){for(;!Ve.h&&nt<ht;){if(Ee&yt||(wt=oe(Ze,Ee,ve)),e(wt!=null),ye(Ve),256>(mt=Tn(wt.G[0],wt.H[0],Ve)))ge[Te+nt]=mt,++nt,++Ee>=ze&&(Ee=0,++ve<=T&&!(ve%16)&&Ie(pe,ve));else{if(!(280>mt)){Xe=0;break t}mt=Zn(mt-256,Ve);var gr,rr=Tn(wt.G[4],wt.H[4],Ve);if(ye(Ve),!(nt>=(rr=es(ze,rr=Zn(rr,Ve)))&&ft-nt>=mt)){Xe=0;break t}for(gr=0;gr<mt;++gr)ge[Te+nt+gr]=ge[Te+nt+gr-rr];for(nt+=mt,Ee+=mt;Ee>=ze;)Ee-=ze,++ve<=T&&!(ve%16)&&Ie(pe,ve);nt<ht&&Ee&yt&&(wt=oe(Ze,Ee,ve))}e(Ve.h==J(Ve))}Ie(pe,ve>T?T:ve);break t}!Xe||Ve.h&&nt<ft?(Xe=0,pe.a=Ve.h?5:3):pe.$=nt,T=Xe}else T=Ye(pe,pe.V,pe.Ba,pe.c,pe.i,T,Et);if(!T){Q=0;break e}}U+Q>=de&&(b.Cc=1),Q=1}if(!Q)return null;if(b.Cc&&((Q=b.ga)!=null&&(Q.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+U*ne}function $o(b,T,U,Q,ne,de){for(;0<ne--;){var pe,ge=b,ve=T+(U?1:0),Ee=b,Ve=T+(U?0:3);for(pe=0;pe<Q;++pe){var Ze=Ee[Ve+4*pe];Ze!=255&&(Ze*=32897,ge[ve+4*pe+0]=ge[ve+4*pe+0]*Ze>>23,ge[ve+4*pe+1]=ge[ve+4*pe+1]*Ze>>23,ge[ve+4*pe+2]=ge[ve+4*pe+2]*Ze>>23)}T+=de}}function fl(b,T,U,Q,ne){for(;0<Q--;){var de;for(de=0;de<U;++de){var pe=b[T+2*de+0],ge=15&(Ee=b[T+2*de+1]),ve=4369*ge,Ee=(240&Ee|Ee>>4)*ve>>16;b[T+2*de+0]=(240&pe|pe>>4)*ve>>16&240|(15&pe|pe<<4)*ve>>16>>4&15,b[T+2*de+1]=240&Ee|ge}T+=ne}}function $u(b,T,U,Q,ne,de,pe,ge){var ve,Ee,Ve=255;for(Ee=0;Ee<ne;++Ee){for(ve=0;ve<Q;++ve){var Ze=b[T+ve];de[pe+4*ve]=Ze,Ve&=Ze}T+=U,pe+=ge}return Ve!=255}function yc(b,T,U,Q,ne){var de;for(de=0;de<ne;++de)U[Q+de]=b[T+de]>>8}function Ui(){Gu=$o,ym=fl,vh=$u,wm=yc}function Qa(b,T,U){C[b]=function(Q,ne,de,pe,ge,ve,Ee,Ve,Ze,Te,ze,Xe,mt,nt,ft,ht,yt){var wt,gr=yt-1>>1,rr=ge[ve+0]|Ee[Ve+0]<<16,Ur=Ze[Te+0]|ze[Xe+0]<<16;e(Q!=null);var or=3*rr+Ur+131074>>2;for(T(Q[ne+0],255&or,or>>16,mt,nt),de!=null&&(or=3*Ur+rr+131074>>2,T(de[pe+0],255&or,or>>16,ft,ht)),wt=1;wt<=gr;++wt){var nn=ge[ve+wt]|Ee[Ve+wt]<<16,Ri=Ze[Te+wt]|ze[Xe+wt]<<16,$r=rr+nn+Ur+Ri+524296,nr=$r+2*(nn+Ur)>>3;or=nr+rr>>1,rr=($r=$r+2*(rr+Ri)>>3)+nn>>1,T(Q[ne+2*wt-1],255&or,or>>16,mt,nt+(2*wt-1)*U),T(Q[ne+2*wt-0],255&rr,rr>>16,mt,nt+(2*wt-0)*U),de!=null&&(or=$r+Ur>>1,rr=nr+Ri>>1,T(de[pe+2*wt-1],255&or,or>>16,ft,ht+(2*wt-1)*U),T(de[pe+2*wt+0],255&rr,rr>>16,ft,ht+(2*wt+0)*U)),rr=nn,Ur=Ri}1&yt||(or=3*rr+Ur+131074>>2,T(Q[ne+yt-1],255&or,or>>16,mt,nt+(yt-1)*U),de!=null&&(or=3*Ur+rr+131074>>2,T(de[pe+yt-1],255&or,or>>16,ft,ht+(yt-1)*U)))}}function Qc(){no[ip]=A4,no[ru]=nu,no[xx]=N4,no[yh]=Jd,no[wh]=Qu,no[zn]=Eh,no[sp]=Nm,no[Xd]=nu,no[Ku]=Jd,no[_h]=Qu,no[bh]=Eh}function Na(b){return b&-16384?0>b?0:255:b>>iu}function k(b,T){return Na((19077*b>>8)+(26149*T>>8)-14234)}function z(b,T,U){return Na((19077*b>>8)-(6419*T>>8)-(13320*U>>8)+8708)}function Z(b,T){return Na((19077*b>>8)+(33050*T>>8)-17685)}function xe(b,T,U,Q,ne){Q[ne+0]=k(b,U),Q[ne+1]=z(b,T,U),Q[ne+2]=Z(b,T)}function Ke(b,T,U,Q,ne){Q[ne+0]=Z(b,T),Q[ne+1]=z(b,T,U),Q[ne+2]=k(b,U)}function ut(b,T,U,Q,ne){var de=z(b,T,U);T=de<<3&224|Z(b,T)>>3,Q[ne+0]=248&k(b,U)|de>>5,Q[ne+1]=T}function jt(b,T,U,Q,ne){var de=240&Z(b,T)|15;Q[ne+0]=240&k(b,U)|z(b,T,U)>>4,Q[ne+1]=de}function vn(b,T,U,Q,ne){Q[ne+0]=255,xe(b,T,U,Q,ne+1)}function pi(b,T,U,Q,ne){Ke(b,T,U,Q,ne),Q[ne+3]=255}function Qr(b,T,U,Q,ne){xe(b,T,U,Q,ne),Q[ne+3]=255}function rn(b,T){return 0>b?0:b>T?T:b}function _n(b,T,U){C[b]=function(Q,ne,de,pe,ge,ve,Ee,Ve,Ze){for(var Te=Ve+(-2&Ze)*U;Ve!=Te;)T(Q[ne+0],de[pe+0],ge[ve+0],Ee,Ve),T(Q[ne+1],de[pe+0],ge[ve+0],Ee,Ve+U),ne+=2,++pe,++ve,Ve+=2*U;1&Ze&&T(Q[ne+0],de[pe+0],ge[ve+0],Ee,Ve)}}function da(b,T,U){return U==0?b==0?T==0?6:5:T==0?4:0:U}function Zs(b,T,U,Q,ne){switch(b>>>30){case 3:$i(T,U,Q,ne,0);break;case 2:xs(T,U,Q,ne);break;case 1:pl(T,U,Q,ne)}}function Ja(b,T){var U,Q,ne=T.M,de=T.Nb,pe=b.oc,ge=b.pc+40,ve=b.oc,Ee=b.pc+584,Ve=b.oc,Ze=b.pc+600;for(U=0;16>U;++U)pe[ge+32*U-1]=129;for(U=0;8>U;++U)ve[Ee+32*U-1]=129,Ve[Ze+32*U-1]=129;for(0<ne?pe[ge-1-32]=ve[Ee-1-32]=Ve[Ze-1-32]=129:(i(pe,ge-32-1,127,21),i(ve,Ee-32-1,127,9),i(Ve,Ze-32-1,127,9)),Q=0;Q<b.za;++Q){var Te=T.ya[T.aa+Q];if(0<Q){for(U=-1;16>U;++U)n(pe,ge+32*U-4,pe,ge+32*U+12,4);for(U=-1;8>U;++U)n(ve,Ee+32*U-4,ve,Ee+32*U+4,4),n(Ve,Ze+32*U-4,Ve,Ze+32*U+4,4)}var ze=b.Gd,Xe=b.Hd+Q,mt=Te.ad,nt=Te.Hc;if(0<ne&&(n(pe,ge-32,ze[Xe].y,0,16),n(ve,Ee-32,ze[Xe].f,0,8),n(Ve,Ze-32,ze[Xe].ea,0,8)),Te.Za){var ft=pe,ht=ge-32+16;for(0<ne&&(Q>=b.za-1?i(ft,ht,ze[Xe].y[15],4):n(ft,ht,ze[Xe+1].y,0,4)),U=0;4>U;U++)ft[ht+128+U]=ft[ht+256+U]=ft[ht+384+U]=ft[ht+0+U];for(U=0;16>U;++U,nt<<=2)ft=pe,ht=ge+Im[U],Ho[Te.Ob[U]](ft,ht),Zs(nt,mt,16*+U,ft,ht)}else if(ft=da(Q,ne,Te.Ob[0]),Fa[ft](pe,ge),nt!=0)for(U=0;16>U;++U,nt<<=2)Zs(nt,mt,16*+U,pe,ge+Im[U]);for(U=Te.Gc,ft=da(Q,ne,Te.Dd),ro[ft](ve,Ee),ro[ft](Ve,Ze),nt=mt,ft=ve,ht=Ee,255&(Te=0|U)&&(170&Te?Ul(nt,256,ft,ht):Wd(nt,256,ft,ht)),Te=Ve,nt=Ze,255&(U>>=8)&&(170&U?Ul(mt,320,Te,nt):Wd(mt,320,Te,nt)),ne<b.Ub-1&&(n(ze[Xe].y,0,pe,ge+480,16),n(ze[Xe].f,0,ve,Ee+224,8),n(ze[Xe].ea,0,Ve,Ze+224,8)),U=8*de*b.B,ze=b.sa,Xe=b.ta+16*Q+16*de*b.R,mt=b.qa,Te=b.ra+8*Q+U,nt=b.Ha,ft=b.Ia+8*Q+U,U=0;16>U;++U)n(ze,Xe+U*b.R,pe,ge+32*U,16);for(U=0;8>U;++U)n(mt,Te+U*b.B,ve,Ee+32*U,8),n(nt,ft+U*b.B,Ve,Ze+32*U,8)}}function hl(b,T,U,Q,ne,de,pe,ge,ve){var Ee=[0],Ve=[0],Ze=0,Te=ve!=null?ve.kd:0,ze=ve??new _r;if(b==null||12>U)return 7;ze.data=b,ze.w=T,ze.ha=U,T=[T],U=[U],ze.gb=[ze.gb];e:{var Xe=T,mt=U,nt=ze.gb;if(e(b!=null),e(mt!=null),e(nt!=null),nt[0]=0,12<=mt[0]&&!r(b,Xe[0],"RIFF")){if(r(b,Xe[0]+8,"WEBP")){nt=3;break e}var ft=Re(b,Xe[0]+4);if(12>ft||4294967286<ft){nt=3;break e}if(Te&&ft>mt[0]-8){nt=7;break e}nt[0]=ft,Xe[0]+=12,mt[0]-=12}nt=0}if(nt!=0)return nt;for(ft=0<ze.gb[0],U=U[0];;){e:{var ht=b;mt=T,nt=U;var yt=Ee,wt=Ve,gr=Xe=[0];if((or=Ze=[Ze])[0]=0,8>nt[0])nt=7;else{if(!r(ht,mt[0],"VP8X")){if(Re(ht,mt[0]+4)!=10){nt=3;break e}if(18>nt[0]){nt=7;break e}var rr=Re(ht,mt[0]+8),Ur=1+Pe(ht,mt[0]+12);if(2147483648<=Ur*(ht=1+Pe(ht,mt[0]+15))){nt=3;break e}gr!=null&&(gr[0]=rr),yt!=null&&(yt[0]=Ur),wt!=null&&(wt[0]=ht),mt[0]+=18,nt[0]-=18,or[0]=1}nt=0}}if(Ze=Ze[0],Xe=Xe[0],nt!=0)return nt;if(mt=!!(2&Xe),!ft&&Ze)return 3;if(de!=null&&(de[0]=!!(16&Xe)),pe!=null&&(pe[0]=mt),ge!=null&&(ge[0]=0),pe=Ee[0],Xe=Ve[0],Ze&&mt&&ve==null){nt=0;break}if(4>U){nt=7;break}if(ft&&Ze||!ft&&!Ze&&!r(b,T[0],"ALPH")){U=[U],ze.na=[ze.na],ze.P=[ze.P],ze.Sa=[ze.Sa];e:{rr=b,nt=T,ft=U;var or=ze.gb;yt=ze.na,wt=ze.P,gr=ze.Sa,Ur=22,e(rr!=null),e(ft!=null),ht=nt[0];var nn=ft[0];for(e(yt!=null),e(gr!=null),yt[0]=null,wt[0]=null,gr[0]=0;;){if(nt[0]=ht,ft[0]=nn,8>nn){nt=7;break e}var Ri=Re(rr,ht+4);if(4294967286<Ri){nt=3;break e}var $r=8+Ri+1&-2;if(Ur+=$r,0<or&&Ur>or){nt=3;break e}if(!r(rr,ht,"VP8 ")||!r(rr,ht,"VP8L")){nt=0;break e}if(nn[0]<$r){nt=7;break e}r(rr,ht,"ALPH")||(yt[0]=rr,wt[0]=ht+8,gr[0]=Ri),ht+=$r,nn-=$r}}if(U=U[0],ze.na=ze.na[0],ze.P=ze.P[0],ze.Sa=ze.Sa[0],nt!=0)break}U=[U],ze.Ja=[ze.Ja],ze.xa=[ze.xa];e:if(or=b,nt=T,ft=U,yt=ze.gb[0],wt=ze.Ja,gr=ze.xa,rr=nt[0],ht=!r(or,rr,"VP8 "),Ur=!r(or,rr,"VP8L"),e(or!=null),e(ft!=null),e(wt!=null),e(gr!=null),8>ft[0])nt=7;else{if(ht||Ur){if(or=Re(or,rr+4),12<=yt&&or>yt-12){nt=3;break e}if(Te&&or>ft[0]-8){nt=7;break e}wt[0]=or,nt[0]+=8,ft[0]-=8,gr[0]=Ur}else gr[0]=5<=ft[0]&&or[rr+0]==47&&!(or[rr+4]>>5),wt[0]=ft[0];nt=0}if(U=U[0],ze.Ja=ze.Ja[0],ze.xa=ze.xa[0],T=T[0],nt!=0)break;if(4294967286<ze.Ja)return 3;if(ge==null||mt||(ge[0]=ze.xa?2:1),pe=[pe],Xe=[Xe],ze.xa){if(5>U){nt=7;break}ge=pe,Te=Xe,mt=de,b==null||5>U?b=0:5<=U&&b[T+0]==47&&!(b[T+4]>>5)?(ft=[0],or=[0],yt=[0],W(wt=new q,b,T,U),Ws(wt,ft,or,yt)?(ge!=null&&(ge[0]=ft[0]),Te!=null&&(Te[0]=or[0]),mt!=null&&(mt[0]=yt[0]),b=1):b=0):b=0}else{if(10>U){nt=7;break}ge=Xe,b==null||10>U||!Uu(b,T+3,U-3)?b=0:(Te=b[T+0]|b[T+1]<<8|b[T+2]<<16,mt=16383&(b[T+7]<<8|b[T+6]),b=16383&(b[T+9]<<8|b[T+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=ze.Ja||!mt||!b?b=0:(pe&&(pe[0]=mt),ge&&(ge[0]=b),b=1))}if(!b||(pe=pe[0],Xe=Xe[0],Ze&&(Ee[0]!=pe||Ve[0]!=Xe)))return 3;ve!=null&&(ve[0]=ze,ve.offset=T-ve.w,e(4294967286>T-ve.w),e(ve.offset==ve.ha-U));break}return nt==0||nt==7&&Ze&&ve==null?(de!=null&&(de[0]|=ze.na!=null&&0<ze.na.length),Q!=null&&(Q[0]=pe),ne!=null&&(ne[0]=Xe),0):nt}function Ia(b,T,U){var Q=T.width,ne=T.height,de=0,pe=0,ge=Q,ve=ne;if(T.Da=b!=null&&0<b.Da,T.Da&&(ge=b.cd,ve=b.bd,de=b.v,pe=b.j,11>U||(de&=-2,pe&=-2),0>de||0>pe||0>=ge||0>=ve||de+ge>Q||pe+ve>ne))return 0;if(T.v=de,T.j=pe,T.va=de+ge,T.o=pe+ve,T.U=ge,T.T=ve,T.da=b!=null&&0<b.da,T.da){if(!Qe(ge,ve,U=[b.ib],de=[b.hb]))return 0;T.ib=U[0],T.hb=de[0]}return T.ob=b!=null&&b.ob,T.Kb=b==null||!b.Sd,T.da&&(T.ob=T.ib<3*Q/4&&T.hb<3*ne/4,T.Kb=0),1}function Pa(b){if(b==null)return 2;if(11>b.S){var T=b.f.RGBA;T.fb+=(b.height-1)*T.A,T.A=-T.A}else T=b.f.kb,b=b.height,T.O+=(b-1)*T.fa,T.fa=-T.fa,T.N+=(b-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(b-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(b-1)*T.lb,T.lb=-T.lb);return 0}function Jc(b,T,U,Q){if(Q==null||0>=b||0>=T)return 2;if(U!=null){if(U.Da){var ne=U.cd,de=U.bd,pe=-2&U.v,ge=-2&U.j;if(0>pe||0>ge||0>=ne||0>=de||pe+ne>b||ge+de>T)return 2;b=ne,T=de}if(U.da){if(!Qe(b,T,ne=[U.ib],de=[U.hb]))return 2;b=ne[0],T=de[0]}}Q.width=b,Q.height=T;e:{var ve=Q.width,Ee=Q.height;if(b=Q.S,0>=ve||0>=Ee||!(b>=ip&&13>b))b=2;else{if(0>=Q.Rd&&Q.sd==null){pe=de=ne=T=0;var Ve=(ge=ve*Ch[b])*Ee;if(11>b||(de=(Ee+1)/2*(T=(ve+1)/2),b==12&&(pe=(ne=ve)*Ee)),(Ee=s(Ve+2*de+pe))==null){b=1;break e}Q.sd=Ee,11>b?((ve=Q.f.RGBA).eb=Ee,ve.fb=0,ve.A=ge,ve.size=Ve):((ve=Q.f.kb).y=Ee,ve.O=0,ve.fa=ge,ve.Fd=Ve,ve.f=Ee,ve.N=0+Ve,ve.Ab=T,ve.Cd=de,ve.ea=Ee,ve.W=0+Ve+de,ve.Db=T,ve.Ed=de,b==12&&(ve.F=Ee,ve.J=0+Ve+2*de),ve.Tc=pe,ve.lb=ne)}if(T=1,ne=Q.S,de=Q.width,pe=Q.height,ne>=ip&&13>ne)if(11>ne)b=Q.f.RGBA,T&=(ge=Math.abs(b.A))*(pe-1)+de<=b.size,T&=ge>=de*Ch[ne],T&=b.eb!=null;else{b=Q.f.kb,ge=(de+1)/2,Ve=(pe+1)/2,ve=Math.abs(b.fa),Ee=Math.abs(b.Ab);var Ze=Math.abs(b.Db),Te=Math.abs(b.lb),ze=Te*(pe-1)+de;T&=ve*(pe-1)+de<=b.Fd,T&=Ee*(Ve-1)+ge<=b.Cd,T=(T&=Ze*(Ve-1)+ge<=b.Ed)&ve>=de&Ee>=ge&Ze>=ge,T&=b.y!=null,T&=b.f!=null,T&=b.ea!=null,ne==12&&(T&=Te>=de,T&=ze<=b.Tc,T&=b.F!=null)}else T=0;b=T?0:2}}return b!=0||U!=null&&U.fd&&(b=Pa(Q)),b}var Ra=64,Zc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],gh=24,eu=32,Pi=8,ep=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];st("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(b){return b},C.Predictor2=function(b,T,U){return T[U+0]},C.Predictor3=function(b,T,U){return T[U+1]},C.Predictor4=function(b,T,U){return T[U-1]},C.Predictor5=function(b,T,U){return It(It(b,T[U+1]),T[U+0])},C.Predictor6=function(b,T,U){return It(b,T[U-1])},C.Predictor7=function(b,T,U){return It(b,T[U+0])},C.Predictor8=function(b,T,U){return It(T[U-1],T[U+0])},C.Predictor9=function(b,T,U){return It(T[U+0],T[U+1])},C.Predictor10=function(b,T,U){return It(It(b,T[U-1]),It(T[U+0],T[U+1]))},C.Predictor11=function(b,T,U){var Q=T[U+0];return 0>=We(Q>>24&255,b>>24&255,(T=T[U-1])>>24&255)+We(Q>>16&255,b>>16&255,T>>16&255)+We(Q>>8&255,b>>8&255,T>>8&255)+We(255&Q,255&b,255&T)?Q:b},C.Predictor12=function(b,T,U){var Q=T[U+0];return(Le((b>>24&255)+(Q>>24&255)-((T=T[U-1])>>24&255))<<24|Le((b>>16&255)+(Q>>16&255)-(T>>16&255))<<16|Le((b>>8&255)+(Q>>8&255)-(T>>8&255))<<8|Le((255&b)+(255&Q)-(255&T)))>>>0},C.Predictor13=function(b,T,U){var Q=T[U-1];return(qe((b=It(b,T[U+0]))>>24&255,Q>>24&255)<<24|qe(b>>16&255,Q>>16&255)<<16|qe(b>>8&255,Q>>8&255)<<8|qe(255&b,255&Q))>>>0};var Za=C.PredictorAdd0;C.PredictorAdd1=dt,st("Predictor2","PredictorAdd2"),st("Predictor3","PredictorAdd3"),st("Predictor4","PredictorAdd4"),st("Predictor5","PredictorAdd5"),st("Predictor6","PredictorAdd6"),st("Predictor7","PredictorAdd7"),st("Predictor8","PredictorAdd8"),st("Predictor9","PredictorAdd9"),st("Predictor10","PredictorAdd10"),st("Predictor11","PredictorAdd11"),st("Predictor12","PredictorAdd12"),st("Predictor13","PredictorAdd13");var eo=C.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var $d,tu=C.ColorIndexInverseTransform,qd=C.MapARGB,qu=C.VP8LColorIndexInverseTransformAlpha,wc=C.MapAlpha,_c=C.VP8LPredictorsAdd=[];_c.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Bl,Hd,to,Vl,ti,ri,zi,$i,xs,Ul,pl,Wd,gm,xm,tp,mx,gx,Hu,rp,Gd,np,vm,xh,Wu,Gu,ym,vh,wm,_m=s(511),bm=s(2041),km=s(225),Sm=s(767),Em=0,zl=bm,Kd=km,La=Sm,qo=_m,ip=0,ru=1,xx=2,yh=3,wh=4,zn=5,sp=6,Xd=7,Ku=8,_h=9,bh=10,kh=[2,3,7],ap=[3,3,11],Xu=[280,256,256,256,40],vx=[0,1,1,1,0],S4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],E4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],yx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],op=8,Yd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yu=null,Cm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],_x=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],C4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],T4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Am=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Fa=[],Ho=[],ro=[],$l=1,Qd=2,fa=[],no=[];Qa("UpsampleRgbLinePair",xe,3),Qa("UpsampleBgrLinePair",Ke,3),Qa("UpsampleRgbaLinePair",Qr,4),Qa("UpsampleBgraLinePair",pi,4),Qa("UpsampleArgbLinePair",vn,4),Qa("UpsampleRgba4444LinePair",jt,2),Qa("UpsampleRgb565LinePair",ut,2);var A4=C.UpsampleRgbLinePair,N4=C.UpsampleBgrLinePair,nu=C.UpsampleRgbaLinePair,Jd=C.UpsampleBgraLinePair,Qu=C.UpsampleArgbLinePair,Eh=C.UpsampleRgba4444LinePair,Nm=C.UpsampleRgb565LinePair,bc=16,ml=1<<bc-1,Rn=-227,On=482,iu=6,ea=0,io=s(256),Ju=s(256),Zd=s(256),so=s(256),lp=s(On-Rn),bx=s(On-Rn);_n("YuvToRgbRow",xe,3),_n("YuvToBgrRow",Ke,3),_n("YuvToRgbaRow",Qr,4),_n("YuvToBgraRow",pi,4),_n("YuvToArgbRow",vn,4),_n("YuvToRgba4444Row",jt,2),_n("YuvToRgb565Row",ut,2);var Im=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zu=[0,2,8],kx=[8,7,6,4,4,2,2,2,1,1,1,1],kc=1;this.WebPDecodeRGBA=function(b,T,U,Q,ne){var de=ru,pe=new tr,ge=new Ar;pe.ba=ge,ge.S=de,ge.width=[ge.width],ge.height=[ge.height];var ve=ge.width,Ee=ge.height,Ve=new Jt;if(Ve==null||b==null)var Ze=2;else e(Ve!=null),Ze=hl(b,T,U,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(Ze!=0?ve=0:(ve!=null&&(ve[0]=Ve.width[0]),Ee!=null&&(Ee[0]=Ve.height[0]),ve=1),ve){ge.width=ge.width[0],ge.height=ge.height[0],Q!=null&&(Q[0]=ge.width),ne!=null&&(ne[0]=ge.height);e:{if(Q=new An,(ne=new _r).data=b,ne.w=T,ne.ha=U,ne.kd=1,T=[0],e(ne!=null),((b=hl(ne.data,ne.w,ne.ha,null,null,null,T,null,ne))==0||b==7)&&T[0]&&(b=4),(T=b)==0){if(e(pe!=null),Q.data=ne.data,Q.w=ne.w+ne.offset,Q.ha=ne.ha-ne.offset,Q.put=ar,Q.ac=Un,Q.bc=dn,Q.ma=pe,ne.xa){if((b=et())==null){pe=1;break e}if((function(Te,ze){var Xe=[0],mt=[0],nt=[0];t:for(;;){if(Te==null)return 0;if(ze==null)return Te.a=2,0;if(Te.l=ze,Te.a=0,W(Te.m,ze.data,ze.w,ze.ha),!Ws(Te.m,Xe,mt,nt)){Te.a=3;break t}if(Te.xb=Qd,ze.width=Xe[0],ze.height=mt[0],!tt(Xe[0],mt[0],1,Te,null))break t;return 1}return e(Te.a!=0),0})(b,Q)){if(Q=(T=Jc(Q.width,Q.height,pe.Oa,pe.ba))==0){t:{Q=b;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((U=Q.l)!=null),e((ne=U.ma)!=null),Q.xb!=0){if(Q.ca=ne.ba,Q.tb=ne.tb,e(Q.ca!=null),!Ia(ne.Oa,U,yh)){Q.a=2;break r}if(!it(Q,U.width)||U.da)break r;if((U.da||Vt(Q.ca.S))&&Ui(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Ui()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!me(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!Ye(Q,Q.V,Q.Ba,Q.c,Q.i,U.o,we))break r;ne.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(T=b.a)}else T=b.a}else{if((b=new Vu)==null){pe=1;break e}if(b.Fa=ne.na,b.P=ne.P,b.qc=ne.Sa,mc(b,Q)){if((T=Jc(Q.width,Q.height,pe.Oa,pe.ba))==0){if(b.Aa=0,U=pe.Oa,e((ne=b)!=null),U!=null){if(0<(ve=0>(ve=U.Md)?0:100<ve?255:255*ve/100)){for(Ee=Ve=0;4>Ee;++Ee)12>(Ze=ne.pb[Ee]).lc&&(Ze.ia=ve*kx[0>Ze.lc?0:Ze.lc]>>3),Ve|=Ze.ia;Ve&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=U.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(Te,ze){if(Te==null)return 0;if(ze==null)return wi(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!mc(Te,ze))return 0;if(e(Te.cb),ze.ac==null||ze.ac(ze)){ze.ob&&(Te.L=0);var Xe=Zu[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=ze.v-Xe>>4,Te.zb=ze.j-Xe>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=ze.o+15+Xe>>4,Te.Hb=ze.va+15+Xe>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var mt=Te.ed;for(Xe=0;4>Xe;++Xe){var nt;if(Te.Qa.Cb){var ft=Te.Qa.Lb[Xe];Te.Qa.Fb||(ft+=mt.Tb)}else ft=mt.Tb;for(nt=0;1>=nt;++nt){var ht=Te.gd[Xe][nt],yt=ft;if(mt.Pc&&(yt+=mt.vd[0],nt&&(yt+=mt.od[0])),0<(yt=0>yt?0:63<yt?63:yt)){var wt=yt;0<mt.wb&&(wt=4<mt.wb?wt>>2:wt>>1)>9-mt.wb&&(wt=9-mt.wb),1>wt&&(wt=1),ht.dd=wt,ht.tc=2*yt+wt,ht.ld=40<=yt?2:15<=yt?1:0}else ht.tc=0;ht.La=nt}}}Xe=0}else wi(Te,6,"Frame setup failed"),Xe=Te.a;if(Xe=Xe==0){if(Xe){Te.$c=0,0<Te.Aa||(Te.Ic=kc);t:{Xe=Te.Ic,mt=4*(wt=Te.za);var gr=32*wt,rr=wt+1,Ur=0<Te.L?wt*(0<Te.Aa?2:1):0,or=(Te.Aa==2?2:1)*wt;if((ht=mt+832+(nt=3*(16*Xe+Zu[Te.L])/2*gr)+(ft=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=ht)Xe=0;else{if(ht>Te.Vb){if(Te.Vb=0,Te.Ec=s(ht),Te.Fc=0,Te.Ec==null){Xe=wi(Te,1,"no memory during frame initialization.");break t}Te.Vb=ht}ht=Te.Ec,yt=Te.Fc,Te.Ac=ht,Te.Bc=yt,yt+=mt,Te.Gd=a(gr,hi),Te.Hd=0,Te.rb=a(rr+1,gn),Te.sb=1,Te.wa=Ur?a(Ur,Vr):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=wt),e(!0),Te.oc=ht,Te.pc=yt,yt+=832,Te.ya=a(or,Wa),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=wt),Te.R=16*wt,Te.B=8*wt,wt=(gr=Zu[Te.L])*Te.R,gr=gr/2*Te.B,Te.sa=ht,Te.ta=yt+wt,Te.qa=Te.sa,Te.ra=Te.ta+16*Xe*Te.R+gr,Te.Ha=Te.qa,Te.Ia=Te.ra+8*Xe*Te.B+gr,Te.$c=0,yt+=nt,Te.mb=ft?ht:null,Te.nb=ft?yt:null,e(yt+ft<=Te.Fc+Te.Vb),Ka(Te),i(Te.Ac,Te.Bc,0,mt),Xe=1}}if(Xe){if(ze.ka=0,ze.y=Te.sa,ze.O=Te.ta,ze.f=Te.qa,ze.N=Te.ra,ze.ea=Te.Ha,ze.Vd=Te.Ia,ze.fa=Te.R,ze.Rc=Te.B,ze.F=null,ze.J=0,!Em){for(Xe=-255;255>=Xe;++Xe)_m[255+Xe]=0>Xe?-Xe:Xe;for(Xe=-1020;1020>=Xe;++Xe)bm[1020+Xe]=-128>Xe?-128:127<Xe?127:Xe;for(Xe=-112;112>=Xe;++Xe)km[112+Xe]=-16>Xe?-16:15<Xe?15:Xe;for(Xe=-255;510>=Xe;++Xe)Sm[255+Xe]=0>Xe?0:255<Xe?255:Xe;Em=1}zi=Kr,$i=Fl,Ul=jl,pl=tn,Wd=ol,xs=xc,gm=M,xm=ee,tp=He,mx=xt,gx=Ce,Hu=Be,rp=kt,Gd=Qt,np=Js,vm=zo,xh=Ls,Wu=vc,Ho[0]=mh,Ho[1]=Gc,Ho[2]=Xa,Ho[3]=Vo,Ho[4]=Ud,Ho[5]=cl,Ho[6]=Ni,Ho[7]=zd,Ho[8]=Uo,Ho[9]=ul,Fa[0]=Xs,Fa[1]=Bd,Fa[2]=Vd,Fa[3]=Xc,Fa[4]=ms,Fa[5]=Ys,Fa[6]=Aa,ro[0]=Ya,ro[1]=Kc,ro[2]=Yc,ro[3]=Qs,ro[4]=jn,ro[5]=Dl,ro[6]=zu,Xe=1}else Xe=0}Xe&&(Xe=(function(nn,Ri){for(nn.M=0;nn.M<nn.Va;++nn.M){var $r,nr=nn.Jc[nn.M&nn.Xb],qt=nn.m,qi=nn;for($r=0;$r<qi.za;++$r){var Rr=qt,Jr=qi,ni=Jr.Ac,js=Jr.Bc+4*$r,rs=Jr.zc,_i=Jr.ya[Jr.aa+$r];if(Jr.Qa.Bb?_i.$b=be(Rr,Jr.Pa.jb[0])?2+be(Rr,Jr.Pa.jb[2]):be(Rr,Jr.Pa.jb[1]):_i.$b=0,Jr.kc&&(_i.Ad=be(Rr,Jr.Bd)),_i.Za=!be(Rr,145)+0,_i.Za){var vs=_i.Ob,Ds=0;for(Jr=0;4>Jr;++Jr){var mi,cn=rs[0+Jr];for(mi=0;4>mi;++mi){cn=C4[ni[js+mi]][cn];for(var bn=wx[be(Rr,cn[0])];0<bn;)bn=wx[2*bn+be(Rr,cn[bn])];cn=-bn,ni[js+mi]=cn}n(vs,Ds,ni,js,4),Ds+=4,rs[0+Jr]=cn}}else cn=be(Rr,156)?be(Rr,128)?1:3:be(Rr,163)?2:0,_i.Ob[0]=cn,i(ni,js,cn,4),i(rs,0,cn,4);_i.Dd=be(Rr,142)?be(Rr,114)?be(Rr,183)?1:3:2:0}if(qi.m.Ka)return wi(nn,7,"Premature end-of-partition0 encountered.");for(;nn.ja<nn.za;++nn.ja){if(qi=nr,Rr=(qt=nn).rb[qt.sb-1],ni=qt.rb[qt.sb+qt.ja],$r=qt.ya[qt.aa+qt.ja],js=qt.kc?$r.Ad:0)Rr.la=ni.la=0,$r.Za||(Rr.Na=ni.Na=0),$r.Hc=0,$r.Gc=0,$r.ia=0;else{var gi,kn;if(Rr=ni,ni=qi,js=qt.Pa.Xc,rs=qt.ya[qt.aa+qt.ja],_i=qt.pb[rs.$b],Jr=rs.ad,vs=0,Ds=qt.rb[qt.sb-1],cn=mi=0,i(Jr,vs,0,384),rs.Za)var Li=0,Fi=js[3];else{bn=s(16);var $n=Rr.Na+Ds.Na;if($n=Yu(ni,js[1],$n,_i.Eb,0,bn,0),Rr.Na=Ds.Na=(0<$n)+0,1<$n)zi(bn,0,Jr,vs);else{var ha=bn[0]+3>>3;for(bn=0;256>bn;bn+=16)Jr[vs+bn]=ha}Li=1,Fi=js[0]}var Mn=15&Rr.la,qn=15&Ds.la;for(bn=0;4>bn;++bn){var ns=1&qn;for(ha=kn=0;4>ha;++ha)Mn=Mn>>1|(ns=($n=Yu(ni,Fi,$n=ns+(1&Mn),_i.Sc,Li,Jr,vs))>Li)<<7,kn=kn<<2|(3<$n?3:1<$n?2:Jr[vs+0]!=0),vs+=16;Mn>>=4,qn=qn>>1|ns<<7,mi=(mi<<8|kn)>>>0}for(Fi=Mn,Li=qn>>4,gi=0;4>gi;gi+=2){for(kn=0,Mn=Rr.la>>4+gi,qn=Ds.la>>4+gi,bn=0;2>bn;++bn){for(ns=1&qn,ha=0;2>ha;++ha)$n=ns+(1&Mn),Mn=Mn>>1|(ns=0<($n=Yu(ni,js[2],$n,_i.Qc,0,Jr,vs)))<<3,kn=kn<<2|(3<$n?3:1<$n?2:Jr[vs+0]!=0),vs+=16;Mn>>=2,qn=qn>>1|ns<<5}cn|=kn<<4*gi,Fi|=Mn<<4<<gi,Li|=(240&qn)<<gi}Rr.la=Fi,Ds.la=Li,rs.Hc=mi,rs.Gc=cn,rs.ia=43690&cn?0:_i.ia,js=!(mi|cn)}if(0<qt.L&&(qt.wa[qt.Y+qt.ja]=qt.gd[$r.$b][$r.Za],qt.wa[qt.Y+qt.ja].La|=!js),qi.Ka)return wi(nn,7,"Premature end-of-file encountered.")}if(Ka(nn),qt=Ri,qi=1,$r=(nr=nn).D,Rr=0<nr.L&&nr.M>=nr.zb&&nr.M<=nr.Va,nr.Aa==0)t:{if($r.M=nr.M,$r.uc=Rr,Ja(nr,$r),qi=1,$r=(kn=nr.D).Nb,Rr=(cn=Zu[nr.L])*nr.R,ni=cn/2*nr.B,bn=16*$r*nr.R,ha=8*$r*nr.B,js=nr.sa,rs=nr.ta-Rr+bn,_i=nr.qa,Jr=nr.ra-ni+ha,vs=nr.Ha,Ds=nr.Ia-ni+ha,qn=(Mn=kn.M)==0,mi=Mn>=nr.Va-1,nr.Aa==2&&Ja(nr,kn),kn.uc)for(ns=($n=nr).D.M,e($n.D.uc),kn=$n.yb;kn<$n.Hb;++kn){Li=kn,Fi=ns;var ta=(ao=(Gi=$n).D).Nb;gi=Gi.R;var ao=ao.wa[ao.Y+Li],Hi=Gi.sa,Wi=Gi.ta+16*ta*gi+16*Li,pa=ao.dd,Hn=ao.tc;if(Hn!=0)if(e(3<=Hn),Gi.L==1)0<Li&&vm(Hi,Wi,gi,Hn+4),ao.La&&Wu(Hi,Wi,gi,Hn),0<Fi&&np(Hi,Wi,gi,Hn+4),ao.La&&xh(Hi,Wi,gi,Hn);else{var ma=Gi.B,Wo=Gi.qa,gl=Gi.ra+8*ta*ma+8*Li,Os=Gi.Ha,Gi=Gi.Ia+8*ta*ma+8*Li;ta=ao.ld,0<Li&&(xm(Hi,Wi,gi,Hn+4,pa,ta),mx(Wo,gl,Os,Gi,ma,Hn+4,pa,ta)),ao.La&&(Hu(Hi,Wi,gi,Hn,pa,ta),Gd(Wo,gl,Os,Gi,ma,Hn,pa,ta)),0<Fi&&(gm(Hi,Wi,gi,Hn+4,pa,ta),tp(Wo,gl,Os,Gi,ma,Hn+4,pa,ta)),ao.La&&(gx(Hi,Wi,gi,Hn,pa,ta),rp(Wo,gl,Os,Gi,ma,Hn,pa,ta))}}if(nr.ia&&alert("todo:DitherRow"),qt.put!=null){if(kn=16*Mn,Mn=16*(Mn+1),qn?(qt.y=nr.sa,qt.O=nr.ta+bn,qt.f=nr.qa,qt.N=nr.ra+ha,qt.ea=nr.Ha,qt.W=nr.Ia+ha):(kn-=cn,qt.y=js,qt.O=rs,qt.f=_i,qt.N=Jr,qt.ea=vs,qt.W=Ds),mi||(Mn-=cn),Mn>qt.o&&(Mn=qt.o),qt.F=null,qt.J=null,nr.Fa!=null&&0<nr.Fa.length&&kn<Mn&&(qt.J=ts(nr,qt,kn,Mn-kn),qt.F=nr.mb,qt.F==null&&qt.F.length==0)){qi=wi(nr,3,"Could not decode alpha data.");break t}kn<qt.j&&(cn=qt.j-kn,kn=qt.j,e(!(1&cn)),qt.O+=nr.R*cn,qt.N+=nr.B*(cn>>1),qt.W+=nr.B*(cn>>1),qt.F!=null&&(qt.J+=qt.width*cn)),kn<Mn&&(qt.O+=qt.v,qt.N+=qt.v>>1,qt.W+=qt.v>>1,qt.F!=null&&(qt.J+=qt.v),qt.ka=kn-qt.j,qt.U=qt.va-qt.v,qt.T=Mn-kn,qi=qt.put(qt))}$r+1!=nr.Ic||mi||(n(nr.sa,nr.ta-Rr,js,rs+16*nr.R,Rr),n(nr.qa,nr.ra-ni,_i,Jr+8*nr.B,ni),n(nr.Ha,nr.Ia-ni,vs,Ds+8*nr.B,ni))}if(!qi)return wi(nn,6,"Output aborted.")}return 1})(Te,ze)),ze.bc!=null&&ze.bc(ze),Xe&=1}return Xe?(Te.cb=0,Xe):0})(b,Q)||(T=b.a)}}else T=b.a}T==0&&pe.Oa!=null&&pe.Oa.fd&&(T=Pa(pe.ba))}pe=T}de=pe!=0?null:11>de?ge.f.RGBA.eb:ge.f.kb.y}else de=null;return de};var Ch=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,D){for(var N="",j=0;j<4;j++)N+=String.fromCharCode(C[D++]);return N}function u(C,D){return C[D+0]|C[D+1]<<8}function p(C,D){return(C[D+0]|C[D+1]<<8|C[D+2]<<16)>>>0}function g(C,D){return(C[D+0]|C[D+1]<<8|C[D+2]<<16|C[D+3]<<24)>>>0}new l;var m=[0],y=[0],w=[],_=new l,E=t,L=(function(C,D){var N={},j=0,B=!1,te=0,he=0;if(N.frames=[],!(function(P,q){for(var K=0;K<4;K++)if(P[q+K]!="RIFF".charCodeAt(K))return!0;return!1})(C,D)){for(g(C,D+=4),D+=8;D<C.length;){var _e=c(C,D),fe=g(C,D+=4);D+=4;var ie=fe+(1&fe);switch(_e){case"VP8 ":case"VP8L":N.frames[j]===void 0&&(N.frames[j]={}),(Y=N.frames[j]).src_off=B?he:D-8,Y.src_size=te+fe+8,j++,B&&(B=!1,te=0,he=0);break;case"VP8X":(Y=N.header={}).feature_flags=C[D];var W=D+4;Y.canvas_width=1+p(C,W),W+=3,Y.canvas_height=1+p(C,W),W+=3;break;case"ALPH":B=!0,te=ie+8,he=D-8;break;case"ANIM":(Y=N.header).bgcolor=g(C,D),W=D+4,Y.loop_count=u(C,W),W+=2;break;case"ANMF":var ue,Y;(Y=N.frames[j]={}).offset_x=2*p(C,D),D+=3,Y.offset_y=2*p(C,D),D+=3,Y.width=1+p(C,D),D+=3,Y.height=1+p(C,D),D+=3,Y.duration=p(C,D),D+=3,ue=C[D++],Y.dispose=1&ue,Y.blend=ue>>1&1}_e!="ANMF"&&(D+=ie)}return N}})(E,0);L.response=E,L.rgbaoutput=!0,L.dataurl=!1;var I=L.header?L.header:null,V=L.frames?L.frames:null;if(I){I.loop_counter=I.loop_count,m=[I.canvas_height],y=[I.canvas_width];for(var G=0;G<V.length&&V[G].blend!=0;G++);}var X=V[0],R=_.WebPDecodeRGBA(E,X.src_off,X.src_size,y,m);X.rgba=R,X.imgwidth=y[0],X.imgheight=m[0];for(var A=0;A<y[0]*m[0]*4;A++)w[A]=R[A];return this.width=y,this.height=m,this.data=w,this}(function(t){var e,r,n,i,s,a,o,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var p=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=P;Object.defineProperty(this,"pdf",{get:function(){return q}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Re){K=!!Re}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Re){J=!!Re}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Re){isNaN(Re)||(ce=Re)}});var ye=0;Object.defineProperty(this,"posY",{get:function(){return ye},set:function(Re){isNaN(Re)||(ye=Re)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Re){var me;typeof Re=="number"?me=[Re,Re,Re,Re]:((me=new Array(4))[0]=Re[0],me[1]=Re.length>=2?Re[1]:me[0],me[2]=Re.length>=3?Re[2]:me[0],me[3]=Re.length>=4?Re[3]:me[1]),c.margin=me}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(Re){ke=Re}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Re){ae=Re}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Re){be=Re}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Re){Re instanceof u&&(c=Re)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Re){c.path=Re}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(Re){De=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var me;me=g(Re),this.ctx.fillStyle=me.style,this.ctx.isFillTransparent=me.a===0,this.ctx.fillOpacity=me.a,this.pdf.setFillColor(me.r,me.g,me.b,{a:me.a}),this.pdf.setTextColor(me.r,me.g,me.b,{a:me.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var me=g(Re);this.ctx.strokeStyle=me.style,this.ctx.isStrokeTransparent=me.a===0,this.ctx.strokeOpacity=me.a,me.a===0?this.pdf.setDrawColor(255,255,255):(me.a,this.pdf.setDrawColor(me.r,me.g,me.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var se=null,Pe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Pe},set:function(Re){se=null,Pe=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var me;if(this.ctx.font=Re,(me=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var Oe=me[1];me[2];var Me=me[3],Qe=me[4];me[5];var re=me[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(je==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var st=(function(vt){var St,Xt,Yt=[],Ut=vt.trim();if(Ut==="")return y3;if(Ut in cA)return[cA[Ut]];for(;Ut!=="";){switch(Xt=null,St=(Ut=dA(Ut)).charAt(0)){case'"':case"'":Xt=ope(Ut.substring(1),St);break;default:Xt=lpe(Ut)}if(Xt===null||(Yt.push(Xt[0]),(Ut=dA(Xt[1]))!==""&&Ut.charAt(0)!==","))return y3;Ut=Ut.replace(/^,/,"")}return Yt})(re);if(this.fontFaces){var At=(function(vt,St){if(se===null){var Xt=(function(Yt){var Ut=[];return Object.keys(Yt).forEach(function(pr){Yt[pr].forEach(function(Ge){var Ft=null;switch(Ge){case"bold":Ft={family:pr,weight:"bold"};break;case"italic":Ft={family:pr,style:"italic"};break;case"bolditalic":Ft={family:pr,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:pr}}Ft!==null&&(Ft.ref={name:pr,style:Ge},Ut.push(Ft))})}),Ut})(vt.getFontList());se=(function(Yt){for(var Ut={},pr=0;pr<Yt.length;++pr){var Ge=v3(Yt[pr]),Ft=Ge.family,Wt=Ge.stretch,Vt=Ge.style,mr=Ge.weight;Ut[Ft]=Ut[Ft]||{},Ut[Ft][Wt]=Ut[Ft][Wt]||{},Ut[Ft][Wt][Vt]=Ut[Ft][Wt][Vt]||{},Ut[Ft][Wt][Vt][mr]=Ge}return Ut})(Xt.concat(St))}return se})(this.pdf,this.fontFaces),It=st.map(function(vt){return{family:vt,stretch:"normal",weight:Me,style:Oe}}),Le=(function(vt,St,Xt){for(var Yt=(Xt=Xt||{}).defaultFontFamily||"times",Ut=Object.assign({},ape,Xt.genericFontFamilies||{}),pr=null,Ge=null,Ft=0;Ft<St.length;++Ft)if(Ut[(pr=v3(St[Ft])).family]&&(pr.family=Ut[pr.family]),vt.hasOwnProperty(pr.family)){Ge=vt[pr.family];break}if(!(Ge=Ge||vt[Yt]))throw new Error("Could not find a font-family for the rule '"+uA(pr)+"' and default family '"+Yt+"'.");if(Ge=(function(Wt,Vt){if(Vt[Wt])return Vt[Wt];var mr=ub[Wt],wr=mr<=ub.normal?-1:1,Ar=lA(Vt,RM,mr,wr);if(!Ar)throw new Error("Could not find a matching font-stretch value for "+Wt);return Ar})(pr.stretch,Ge),Ge=(function(Wt,Vt){if(Vt[Wt])return Vt[Wt];for(var mr=PM[Wt],wr=0;wr<mr.length;++wr)if(Vt[mr[wr]])return Vt[mr[wr]];throw new Error("Could not find a matching font-style for "+Wt)})(pr.style,Ge),!(Ge=(function(Wt,Vt){if(Vt[Wt])return Vt[Wt];if(Wt===400&&Vt[500])return Vt[500];if(Wt===500&&Vt[400])return Vt[400];var mr=spe[Wt],wr=lA(Vt,LM,mr,Wt<400?-1:1);if(!wr)throw new Error("Could not find a matching font-weight for value "+Wt);return wr})(pr.weight,Ge)))throw new Error("Failed to resolve a font for the rule '"+uA(pr)+"'.");return Ge})(At,It);this.pdf.setFont(Le.ref.name,Le.ref.style)}else{var qe="";(Me==="bold"||parseInt(Me,10)>=700||Oe==="bold")&&(qe="bold"),Oe==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var We="",dt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<st.length;bt++){if(this.pdf.internal.getFont(st[bt],qe,{noFallback:!0,disableWarning:!0})!==void 0){We=st[bt];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(st[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=st[bt],qe="bold";else if(this.pdf.internal.getFont(st[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=st[bt],qe="normal";break}}if(We===""){for(var _t=0;_t<st.length;_t++)if(dt[st[_t]]){We=dt[st[_t]];break}}We=We===""?"Times":We,this.pdf.setFont(We,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};p.prototype.setLineDash=function(P){this.lineDash=P},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){V.call(this,"fill",!1)},p.prototype.stroke=function(){V.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(P,q){if(isNaN(P)||isNaN(q))throw ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new a(P,q));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(P,q)},p.prototype.closePath=function(){var P=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Xn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){P=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},p.prototype.lineTo=function(P,q){if(isNaN(P)||isNaN(q))throw ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new a(P,q));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new a(K.x,K.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},p.prototype.quadraticCurveTo=function(P,q,K,J){if(isNaN(K)||isNaN(J)||isNaN(P)||isNaN(q))throw ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new a(K,J)),ye=this.ctx.transform.applyToPoint(new a(P,q));this.path.push({type:"qct",x1:ye.x,y1:ye.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},p.prototype.bezierCurveTo=function(P,q,K,J,ce,ye){if(isNaN(ce)||isNaN(ye)||isNaN(P)||isNaN(q)||isNaN(K)||isNaN(J))throw ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new a(ce,ye)),ae=this.ctx.transform.applyToPoint(new a(P,q)),be=this.ctx.transform.applyToPoint(new a(K,J));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:be.x,y2:be.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new a(ke.x,ke.y)},p.prototype.arc=function(P,q,K,J,ce,ye){if(isNaN(P)||isNaN(q)||isNaN(K)||isNaN(J)||isNaN(ce))throw ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ye=!!ye,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new a(P,q));P=ke.x,q=ke.y;var ae=this.ctx.transform.applyToPoint(new a(0,K)),be=this.ctx.transform.applyToPoint(new a(0,0));K=Math.sqrt(Math.pow(ae.x-be.x,2)+Math.pow(ae.y-be.y,2))}Math.abs(ce-J)>=2*Math.PI&&(J=0,ce=2*Math.PI),this.path.push({type:"arc",x:P,y:q,radius:K,startAngle:J,endAngle:ce,counterclockwise:ye})},p.prototype.arcTo=function(P,q,K,J,ce){throw new Error("arcTo not implemented.")},p.prototype.rect=function(P,q,K,J){if(isNaN(P)||isNaN(q)||isNaN(K)||isNaN(J))throw ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,q),this.lineTo(P+K,q),this.lineTo(P+K,q+J),this.lineTo(P,q+J),this.lineTo(P,q),this.lineTo(P+K,q),this.lineTo(P,q)},p.prototype.fillRect=function(P,q,K,J){if(isNaN(P)||isNaN(q)||isNaN(K)||isNaN(J))throw ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,q,K,J),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},p.prototype.strokeRect=function(P,q,K,J){if(isNaN(P)||isNaN(q)||isNaN(K)||isNaN(J))throw ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(P,q,K,J),this.stroke())},p.prototype.clearRect=function(P,q,K,J){if(isNaN(P)||isNaN(q)||isNaN(K)||isNaN(J))throw ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,q,K,J))},p.prototype.save=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},p.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(q),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(P){var q,K,J,ce;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))q=0,K=0,J=0,ce=0;else{var ye=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ye!==null)q=parseInt(ye[1]),K=parseInt(ye[2]),J=parseInt(ye[3]),ce=1;else if((ye=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)q=parseInt(ye[1]),K=parseInt(ye[2]),J=parseInt(ye[3]),ce=parseFloat(ye[4]);else{if(ce=1,typeof P=="string"&&P.charAt(0)!=="#"){var ke=new SM(P);P=ke.ok?ke.toHex():"#000000"}P.length===4?(q=P.substring(1,2),q+=q,K=P.substring(2,3),K+=K,J=P.substring(3,4),J+=J):(q=P.substring(1,3),K=P.substring(3,5),J=P.substring(5,7)),q=parseInt(q,16),K=parseInt(K,16),J=parseInt(J,16)}}return{r:q,g:K,b:J,a:ce,style:P}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(P,q,K,J){if(isNaN(q)||isNaN(K)||typeof P!="string")throw ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var ce=ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;j.call(this,{text:P,x:q,y:K,scale:ye,angle:ce,align:this.textAlign,maxWidth:J})}},p.prototype.strokeText=function(P,q,K,J){if(isNaN(q)||isNaN(K)||typeof P!="string")throw ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){J=isNaN(J)?void 0:J;var ce=ie(this.ctx.transform.rotation),ye=this.ctx.transform.scaleX;j.call(this,{text:P,x:q,y:K,scale:ye,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:J})}},p.prototype.measureText=function(P){if(typeof P!="string")throw ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,K=this.pdf.internal.scaleFactor,J=q.internal.getFontSize(),ce=q.getStringUnitWidth(P)*J/q.internal.scaleFactor;return new function(ye){var ke=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ce*=Math.round(96*K/72*1e4)/1e4})},p.prototype.scale=function(P,q){if(isNaN(P)||isNaN(q))throw ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new l(P,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.rotate=function(P){if(isNaN(P))throw ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},p.prototype.translate=function(P,q){if(isNaN(P)||isNaN(q))throw ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new l(1,0,0,1,P,q);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.transform=function(P,q,K,J,ce,ye){if(isNaN(P)||isNaN(q)||isNaN(K)||isNaN(J)||isNaN(ce)||isNaN(ye))throw ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new l(P,q,K,J,ce,ye);this.ctx.transform=this.ctx.transform.multiply(ke)},p.prototype.setTransform=function(P,q,K,J,ce,ye){P=isNaN(P)?1:P,q=isNaN(q)?0:q,K=isNaN(K)?0:K,J=isNaN(J)?1:J,ce=isNaN(ce)?0:ce,ye=isNaN(ye)?0:ye,this.ctx.transform=new l(P,q,K,J,ce,ye)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(P,q,K,J,ce,ye,ke,ae,be){var De=this.pdf.getImageProperties(P),se=1,Pe=1,Re=1,me=1;J!==void 0&&ae!==void 0&&(Re=ae/J,me=be/ce,se=De.width/J*ae/J,Pe=De.height/ce*be/ce),ye===void 0&&(ye=q,ke=K,q=0,K=0),J!==void 0&&ae===void 0&&(ae=J,be=ce),J===void 0&&ae===void 0&&(ae=De.width,be=De.height);for(var Oe,Me=this.ctx.transform.decompose(),Qe=ie(Me.rotate.shx),re=new l,je=(re=(re=(re=re.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new o(ye-q*Re,ke-K*me,J*se,ce*Pe)),st=_.call(this,je),At=[],It=0;It<st.length;It+=1)At.indexOf(st[It])===-1&&At.push(st[It]);if(I(At),this.autoPaging)for(var Le=At[0],qe=At[At.length-1],We=Le;We<qe+1;We++){this.pdf.setPage(We);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=We===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],St=We===1?0:_t+(We-2)*vt;if(this.ctx.clip_path.length!==0){var Xt=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Oe,this.posX+this.margin[3],-St+bt+this.ctx.prevPageLastElemOffset),G.call(this,"fill",!0),this.path=Xt}var Yt=JSON.parse(JSON.stringify(je));Yt=L([Yt],this.posX+this.margin[3],-St+bt+this.ctx.prevPageLastElemOffset)[0];var Ut=(We>Le||We<qe)&&w.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,vt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Yt.x,Yt.y,Yt.w,Yt.h,null,null,Qe),Ut&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",je.x,je.y,je.w,je.h,null,null,Qe)};var _=function(P,q,K){var J=[];q=q||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":J.push(Math.floor((P.y+ce)/K)+1);break;case"arc":J.push(Math.floor((P.y+ce-P.radius)/K)+1),J.push(Math.floor((P.y+ce+P.radius)/K)+1);break;case"qct":var ye=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);J.push(Math.floor((ye.y+ce)/K)+1),J.push(Math.floor((ye.y+ye.h+ce)/K)+1);break;case"bct":var ke=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);J.push(Math.floor((ke.y+ce)/K)+1),J.push(Math.floor((ke.y+ke.h+ce)/K)+1);break;case"rect":J.push(Math.floor((P.y+ce)/K)+1),J.push(Math.floor((P.y+P.h+ce)/K)+1)}for(var ae=0;ae<J.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<J[ae];)E.call(this);return J},E=function(){var P=this.fillStyle,q=this.strokeStyle,K=this.font,J=this.lineCap,ce=this.lineWidth,ye=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=q,this.font=K,this.lineCap=J,this.lineWidth=ce,this.lineJoin=ye},L=function(P,q,K){for(var J=0;J<P.length;J++)switch(P[J].type){case"bct":P[J].x2+=q,P[J].y2+=K;case"qct":P[J].x1+=q,P[J].y1+=K;default:P[J].x+=q,P[J].y+=K}return P},I=function(P){return P.sort(function(q,K){return q-K})},V=function(P,q){for(var K,J,ce=this.fillStyle,ye=this.strokeStyle,ke=this.lineCap,ae=this.lineWidth,be=Math.abs(ae*this.ctx.transform.scaleX),De=this.lineJoin,se=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Re=[],me=0;me<Pe.length;me++)if(Pe[me].x!==void 0)for(var Oe=_.call(this,Pe[me]),Me=0;Me<Oe.length;Me+=1)Re.indexOf(Oe[Me])===-1&&Re.push(Oe[Me]);for(var Qe=0;Qe<Re.length;Qe++)for(;this.pdf.internal.getNumberOfPages()<Re[Qe];)E.call(this);if(I(Re),this.autoPaging)for(var re=Re[0],je=Re[Re.length-1],st=re;st<je+1;st++){this.pdf.setPage(st),this.fillStyle=ce,this.strokeStyle=ye,this.lineCap=ke,this.lineWidth=be,this.lineJoin=De;var At=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=st===1?this.posY+this.margin[0]:this.margin[0],Le=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],We=st===1?0:Le+(st-2)*qe;if(this.ctx.clip_path.length!==0){var dt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(K,this.posX+this.margin[3],-We+It+this.ctx.prevPageLastElemOffset),G.call(this,P,!0),this.path=dt}if(J=JSON.parse(JSON.stringify(se)),this.path=L(J,this.posX+this.margin[3],-We+It+this.ctx.prevPageLastElemOffset),q===!1||st===0){var bt=(st>re||st<je)&&w.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,qe,null).clip().discardPath()),G.call(this,P,q),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=be,G.call(this,P,q),this.lineWidth=ae;this.path=se},G=function(P,q){if((P!=="stroke"||q||!y.call(this))&&(P==="stroke"||q||!m.call(this))){for(var K,J,ce=[],ye=this.path,ke=0;ke<ye.length;ke++){var ae=ye[ke];switch(ae.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:ae,deltas:[],abs:[]});break;case"lt":var be=ce.length;if(ye[ke-1]&&!isNaN(ye[ke-1].x)&&(K=[ae.x-ye[ke-1].x,ae.y-ye[ke-1].y],be>0)){for(;be>=0;be--)if(ce[be-1].close!==!0&&ce[be-1].begin!==!0){ce[be-1].deltas.push(K),ce[be-1].abs.push(ae);break}}break;case"bct":K=[ae.x1-ye[ke-1].x,ae.y1-ye[ke-1].y,ae.x2-ye[ke-1].x,ae.y2-ye[ke-1].y,ae.x-ye[ke-1].x,ae.y-ye[ke-1].y],ce[ce.length-1].deltas.push(K);break;case"qct":var De=ye[ke-1].x+2/3*(ae.x1-ye[ke-1].x),se=ye[ke-1].y+2/3*(ae.y1-ye[ke-1].y),Pe=ae.x+2/3*(ae.x1-ae.x),Re=ae.y+2/3*(ae.y1-ae.y),me=ae.x,Oe=ae.y;K=[De-ye[ke-1].x,se-ye[ke-1].y,Pe-ye[ke-1].x,Re-ye[ke-1].y,me-ye[ke-1].x,Oe-ye[ke-1].y],ce[ce.length-1].deltas.push(K);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(ae)}}J=q?null:P==="stroke"?"stroke":"fill";for(var Me=!1,Qe=0;Qe<ce.length;Qe++)if(ce[Qe].arc)for(var re=ce[Qe].abs,je=0;je<re.length;je++){var st=re[je];st.type==="arc"?A.call(this,st.x,st.y,st.radius,st.startAngle,st.endAngle,st.counterclockwise,void 0,q,!Me):B.call(this,st.x,st.y),Me=!0}else if(ce[Qe].close===!0)this.pdf.internal.out("h"),Me=!1;else if(ce[Qe].begin!==!0){var At=ce[Qe].start.x,It=ce[Qe].start.y;te.call(this,ce[Qe].deltas,At,It),Me=!0}J&&C.call(this,J),q&&D.call(this)}},X=function(P){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-K;case"top":return P+q-K;case"hanging":return P+q-2*K;case"middle":return P+q/2-K;default:return P}},R=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(q,K){this.colorStops.push([q,K])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(P,q,K,J,ce,ye,ke,ae,be){for(var De=_e.call(this,K,J,ce,ye),se=0;se<De.length;se++){var Pe=De[se];se===0&&(be?N.call(this,Pe.x1+P,Pe.y1+q):B.call(this,Pe.x1+P,Pe.y1+q)),he.call(this,P,q,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ae?D.call(this):C.call(this,ke)},C=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(P,q){this.pdf.internal.out(r(P)+" "+n(q)+" m")},j=function(P){var q;switch(P.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var K=this.pdf.getTextDimensions(P.text),J=X.call(this,P.y),ce=R.call(this,J)-K.h,ye=this.ctx.transform.applyToPoint(new a(P.x,J)),ke=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var be,De,se,Pe=this.ctx.transform.applyToRectangle(new o(P.x,J,K.w,K.h)),Re=ae.applyToRectangle(new o(P.x,ce,K.w,K.h)),me=_.call(this,Re),Oe=[],Me=0;Me<me.length;Me+=1)Oe.indexOf(me[Me])===-1&&Oe.push(me[Me]);if(I(Oe),this.autoPaging)for(var Qe=Oe[0],re=Oe[Oe.length-1],je=Qe;je<re+1;je++){this.pdf.setPage(je);var st=je===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],Le=It-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],We=qe-this.margin[3],dt=je===1?0:At+(je-2)*Le;if(this.ctx.clip_path.length!==0){var bt=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(be,this.posX+this.margin[3],-1*dt+st),G.call(this,"fill",!0),this.path=bt}var _t=L([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-dt+st+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*P.scale),se=this.lineWidth,this.lineWidth=se*P.scale);var vt=this.autoPaging!=="text";if(vt||_t.y+_t.h<=It){if(vt||_t.y>=st&&_t.x<=qe){var St=vt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||qe-_t.x)[0],Xt=L([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-dt+st+this.ctx.prevPageLastElemOffset)[0],Yt=vt&&(je>Qe||je<re)&&w.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Le,null).clip().discardPath()),this.pdf.text(St,Xt.x,Xt.y,{angle:P.angle,align:q,renderingMode:P.renderingMode}),Yt&&this.pdf.restoreGraphicsState()}}else _t.y<It&&(this.ctx.prevPageLastElemOffset+=It-_t.y);P.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=se)}else P.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*P.scale),se=this.lineWidth,this.lineWidth=se*P.scale),this.pdf.text(P.text,ye.x+this.posX,ye.y+this.posY,{angle:P.angle,align:q,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=se)},B=function(P,q,K,J){K=K||0,J=J||0,this.pdf.internal.out(r(P+K)+" "+n(q+J)+" l")},te=function(P,q,K){return this.pdf.lines(P,q,K,null,null)},he=function(P,q,K,J,ce,ye,ke,ae){this.pdf.internal.out([e(i(K+P)),e(s(J+q)),e(i(ce+P)),e(s(ye+q)),e(i(ke+P)),e(s(ae+q)),"c"].join(" "))},_e=function(P,q,K,J){for(var ce=2*Math.PI,ye=Math.PI/2;q>K;)q-=ce;var ke=Math.abs(K-q);ke<ce&&J&&(ke=ce-ke);for(var ae=[],be=J?-1:1,De=q;ke>1e-5;){var se=De+be*Math.min(ke,ye);ae.push(fe.call(this,P,De,se)),ke-=Math.abs(se-De),De=se}return ae},fe=function(P,q,K){var J=(K-q)/2,ce=P*Math.cos(J),ye=P*Math.sin(J),ke=ce,ae=-ye,be=ke*ke+ae*ae,De=be+ke*ce+ae*ye,se=4/3*(Math.sqrt(2*be*De)-De)/(ke*ye-ae*ce),Pe=ke-se*ae,Re=ae+se*ke,me=Pe,Oe=-Re,Me=J+q,Qe=Math.cos(Me),re=Math.sin(Me);return{x1:P*Math.cos(q),y1:P*Math.sin(q),x2:Pe*Qe-Re*re,y2:Pe*re+Re*Qe,x3:me*Qe-Oe*re,y3:me*re+Oe*Qe,x4:P*Math.cos(K),y4:P*Math.sin(K)}},ie=function(P){return 180*P/Math.PI},W=function(P,q,K,J,ce,ye){var ke=P+.5*(K-P),ae=q+.5*(J-q),be=ce+.5*(K-ce),De=ye+.5*(J-ye),se=Math.min(P,ce,ke,be),Pe=Math.max(P,ce,ke,be),Re=Math.min(q,ye,ae,De),me=Math.max(q,ye,ae,De);return new o(se,Re,Pe-se,me-Re)},ue=function(P,q,K,J,ce,ye,ke,ae){var be,De,se,Pe,Re,me,Oe,Me,Qe,re,je,st,At,It,Le=K-P,qe=J-q,We=ce-K,dt=ye-J,bt=ke-ce,_t=ae-ye;for(De=0;De<41;De++)Qe=(Oe=(se=P+(be=De/40)*Le)+be*((Re=K+be*We)-se))+be*(Re+be*(ce+be*bt-Re)-Oe),re=(Me=(Pe=q+be*qe)+be*((me=J+be*dt)-Pe))+be*(me+be*(ye+be*_t-me)-Me),De==0?(je=Qe,st=re,At=Qe,It=re):(je=Math.min(je,Qe),st=Math.min(st,re),At=Math.max(At,Qe),It=Math.max(It,re));return new o(Math.round(je),Math.round(st),Math.round(At-je),Math.round(It-st))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,q,K=(P=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:q}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(yr.API),(function(t){var e=function(a){var o,l,c,u,p,g,m,y,w,_;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(p=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(p=((p=((p=((p=(p-(_=p%85))/85)-(w=p%85))/85)-(y=p%85))/85)-(m=p%85))/85)%85,l.push(g+33,m+33,y+33,w+33,_+33)):l.push(122);return(function(E,L){for(var I=L;I>0;I--)E.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,u,p,g=String,m="length",y=255,w="charCodeAt",_="slice",E="replace";for(a[_](-2),a=a[_](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),c=[],u=0,p=(a+=o="uuuuu"[_](a[m]%5||5))[m];p>u;u+=5)l=52200625*(a[w](u)-33)+614125*(a[w](u+1)-33)+7225*(a[w](u+2)-33)+85*(a[w](u+3)-33)+(a[w](u+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(L,I){for(var V=I;V>0;V--)L.pop()})(c,o[m]),g.fromCharCode.apply(g,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=nb(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(yr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,u){var p=new XMLHttpRequest,g=0,m=function(y){var w=y.length,_=[],E=String.fromCharCode;for(g=0;g<w;g+=1)_.push(E(255&y.charCodeAt(g)));return _.join("")};if(p.open("GET",l,!c),p.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(p.onload=function(){p.status===200?u(m(this.responseText)):u(void 0)}),p.send(null),c&&p.status===200)return m(p.responseText)})(i,s,a)}catch{}return o})(e,r,n)},t.loadImageFile=t.loadFile})(yr.API),(function(t){function e(){return(Mr.html2canvas?Promise.resolve(Mr.html2canvas):pd(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Mr.DOMPurify?Promise.resolve(Mr.DOMPurify):pd(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Xn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||u.appendChild(o(p,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var y=u[m],w=y.src.find(function(_){return _.format==="truetype"});w&&c.addFont(w.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||yr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,p){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,u),g}).then(u,p).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),g=c.call(p,o,l);return a.convert(g,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,yr.getPageSize=function(o,l,c){if(Xn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var y,w=0,_=0;if(m.hasOwnProperty(g))w=m[g][1]/p,_=m[g][0]/p;else try{w=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",_>w&&(y=_,_=w,w=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>_&&(y=_,_=w,w=y)}return{width:_,height:w,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(v3):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(yr.API),yr.API.addJS=function(t){return hA=t,this.internal.events.subscribe("postPutResources",function(){Av=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Av+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+hA+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Av!==void 0&&fA!==void 0&&this.internal.out("/Names <</JavaScript "+Av+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var p=r.internal.newObject();u.push(p);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<u.length;s++)r.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(yr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,w={width:0,height:0,numcomponents:1},_=4;_<y;_+=2){if(_+=m,e.indexOf(p.charCodeAt(_+1))!==-1){g=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),w={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:g,numcomponents:p.charCodeAt(_+9)};break}m=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}})(yr.API),yr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=H0e(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?(function(R){for(var A=R.width,C=R.height,D=R.data,N=R.palette,j=R.depth,B=!1,te=[],he=[],_e=void 0,fe=!1,ie=0,W=0;W<N.length;W++){var ue=xT(N[W],4),Y=ue[0],P=ue[1],q=ue[2],K=ue[3];te.push(Y,P,q),K!=null&&(K===0?(ie++,he.length<1&&he.push(W)):K<255&&(fe=!0))}if(fe||ie>1){B=!0,he=void 0;var J=A*C;_e=new Uint8Array(J);for(var ce=new DataView(D.buffer),ye=0;ye<J;ye++){var ke=w3(ce,ye,j),ae=xT(N[ke],4)[3];_e[ye]=ae}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:D,alphaBytes:_e,needSMask:B,palette:te,mask:he}})(s):l===2||l===4?(function(R){for(var A=R.data,C=R.width,D=R.height,N=R.channels,j=R.depth,B=N===2?"DeviceGray":"DeviceRGB",te=N-1,he=C*D,_e=te,fe=he*_e,ie=1*he,W=Math.ceil(fe*j/8),ue=Math.ceil(ie*j/8),Y=new Uint8Array(W),P=new Uint8Array(ue),q=new DataView(A.buffer),K=new DataView(Y.buffer),J=new DataView(P.buffer),ce=!1,ye=0;ye<he;ye++){for(var ke=ye*N,ae=0;ae<_e;ae++)bA(K,w3(q,ke+ae,j),ye*_e+ae,j);var be=w3(q,ke+_e,j);be<(1<<j)-1&&(ce=!0),bA(J,be,1*ye,j)}return{colorSpace:B,colorsPerPixel:te,colorBytes:Y,alphaBytes:P,needSMask:ce}})(s):(function(R){var A=R.data,C=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:C,colorsPerPixel:C==="DeviceGray"?1:3,colorBytes:A instanceof Uint8Array?A:new Uint8Array(A.buffer),needSMask:!1}})(s);var p,g,m,y=i,w=y.colorSpace,_=y.colorsPerPixel,E=y.colorBytes,L=y.alphaBytes,I=y.needSMask,V=y.palette,G=y.mask,X=null;return n!==yr.API.image_compression.NONE&&typeof nb=="function"?(X=(function(R){var A;switch(R){case yr.API.image_compression.FAST:A=11;break;case yr.API.image_compression.MEDIUM:A=13;break;case yr.API.image_compression.SLOW:A=14;break;default:A=12}return A})(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(X," "),t=xA(E,a*_,_,n),I&&(m=xA(L,a,1,n))):(p=void 0,g="",t=E,I&&(m=L)),g+="/Colors ".concat(_," /BitsPerComponent ").concat(u," /Columns ").concat(a),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:t,index:e,filter:p,decodeParameters:g,transparency:G,palette:V,sMask:m,predictor:X,width:a,height:o,bitsPerComponent:u,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,i){var s=new fpe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new _3(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A})(yr.API),Rc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){ui.log("bit decode error:"+r)}},Rc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Rc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Rc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Rc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},Rc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},Rc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Rc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Rc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var s=new Rc(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new _3(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(yr.API),SA.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var s=new SA(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new _3(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(yr.API),yr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],p=n[c+1],g=n[c+2],m=n[c+3];s[o++]=u,s[o++]=p,s[o++]=g,a[l++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lp=yr.API,Nv=Lp.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,p=e.doKerning!==!1,g=0,m=t.length,y=0,w=o[0]||l,_=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(g=p&&Xn(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/u:0,_.push((o[n]||w)/l+g)),y=n;return _},pA=Lp.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Lp.processArabic&&(t=Lp.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Nv.apply(this,arguments).reduce(function(s,a){return s+a},0)},mA=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},gA=function(t,e,r){r||(r={});var n,i,s,a,o,l,c,u=[],p=[u],g=r.textIndent||0,m=0,y=0,w=t.split(" "),_=Nv.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var E=Array(l).join(" "),L=[];w.map(function(V){(V=V.split(/\s*\n/)).length>1?L=L.concat(V.map(function(G,X){return(X&&G.length?`
`:"")+G})):L.push(V[0])}),w=L,l=pA.apply(this,[E,r])}for(s=0,a=w.length;s<a;s++){var I=0;if(n=w[s],l&&n[0]==`
`&&(n=n.substr(1),I=1),g+m+(y=(i=Nv.apply(this,[n,r])).reduce(function(V,G){return V+G},0))>e||I){if(y>e){for(o=mA.apply(this,[n,i,e-(g+m),e]),u.push(o.shift()),u=[o.pop()];o.length;)p.push([o.shift()]);y=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(V,G){return V+G},0)}else u=[n];p.push(u),g=y+l,m=_}else u.push(n),g+=m+y,m=_}return c=l?function(V,G){return(G?E:"")+V.join(" ")}:function(V){return V.join(" ")},p.map(c)},Lp.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var p=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(gA.apply(this,[n[o],a,s]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var m,y,w,_,E=["{"];for(var L in g){if(m=g[L],isNaN(parseInt(L,10))?y="'"+L+"'":(L=parseInt(L,10),y=(y=a(L).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof m=="number")m<0?(w=a(m).slice(3),_="-"):(w=a(m).slice(2),_=""),w=_+w.slice(0,-1)+i[w.slice(-1)];else{if(Xn(m)!=="object")throw new Error("Don't know what to do with value type "+Xn(m)+".");w=o(m)}E.push(y+w)}return E.push("}"),E.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,w,_,E={},L=1,I=E,V=[],G="",X="",R=g.length-1,A=1;A<R;A+=1)(_=g[A])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(V.push([I,w]),I={},w=void 0):_=="}"?((y=V.pop())[0][y[1]]=I,w=void 0,I=y[0]):_=="-"?L=-1:w===void 0?n.hasOwnProperty(_)?(G+=n[_],w=parseInt(G,16)*L,L=1,G=""):G+=_:n.hasOwnProperty(_)?(X+=n[_],I[w]=parseInt(X,16)*L,L=1,w=void 0,X=""):X+=_;return E},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var m=g.font,y=p.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var w=u.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])})(yr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(ny(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(yr),yr.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Mr.canvg?Promise.resolve(Mr.canvg):pd(()=>import("./index.es-Dm6ttu6m.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},yr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},yr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,p=0;function g(y,w){var _,E=!1;for(_=0;_<y.length;_+=1)y[_]===w&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Xn(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&g(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?w.push("/"+y+" /"+r[y].value):w.push("/"+y+" "+r[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(yr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(s){var a,o,l,c,u,p,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(o=Object.keys(s).sort(function(m,y){return m-y})).length;p<g;p++)a=o[p],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",y=0;y<g.length;y++)m+=String.fromCharCode(g[y]);var w=c();u({data:m,addLength1:!0,objectId:w}),l("endobj");var _=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var E=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+zp(o.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var L=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+zp(o.fontName)),l("/FontDescriptor "+E+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+zp(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+L+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var y=c();u({data:g,addLength1:!0,objectId:y}),l("endobj");var w=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var _=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+zp(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var E=0;E<o.metadata.hmtx.widths.length;E++)o.metadata.hmtx.widths[E]=parseInt(o.metadata.hmtx.widths[E]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+zp(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,y=p.fonts,w=m,_="",E=0,L="",I=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:p};for(L=o,w=m,Array.isArray(o)&&(L=o[0]),E=0;E<L.length;E+=1)y[w].metadata.hasOwnProperty("cmap")&&(a=y[w].metadata.cmap.unicode.codeMap[L[E].charCodeAt(0)]),a||L[E].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?_+=L[E]:_+="";var V="";return parseInt(w.slice(1))<14||I==="WinAnsiEncoding"?V=g(_,w).split("").map(function(G){return G.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&(V=r(_,y[w])),p.isHex=!0,{text:V,x:l,y:c,options:u,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])})(yr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(yr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,u,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,I=0;this.__bidiEngine__={};var V=function(N){var j=N.charCodeAt(),B=j>>8,te=w[B];return te!==void 0?p[256*te+(255&j)]:B===252||B===253?"AL":E.test(B)?"L":B===8?"R":"N"},G=function(N){for(var j,B=0;B<N.length;B++){if((j=V(N.charAt(B)))==="L")return!1;if(j==="R")return!0}return!1},X=function(N,j,B,te){var he,_e,fe,ie,W=j[te];switch(W){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(W="AN");break;case"AL":L=!0,W="R";break;case"WS":case"BN":W="N";break;case"CS":te<1||te+1>=j.length||(he=B[te-1])!=="EN"&&he!=="AN"||(_e=j[te+1])!=="EN"&&_e!=="AN"?W="N":L&&(_e="AN"),W=_e===he?_e:"N";break;case"ES":W=(he=te>0?B[te-1]:"B")==="EN"&&te+1<j.length&&j[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&B[te-1]==="EN"){W="EN";break}if(L){W="N";break}for(fe=te+1,ie=j.length;fe<ie&&j[fe]==="ET";)fe++;W=fe<ie&&j[fe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(ie=j.length,fe=te+1;fe<ie&&j[fe]==="NSM";)fe++;if(fe<ie){var ue=N[te],Y=ue>=1425&&ue<=2303||ue===64286;if(he=j[fe],Y&&(he==="R"||he==="AL")){W="R";break}}}W=te<1||(he=j[te-1])==="B"?"N":B[te-1];break;case"B":L=!1,i=!0,W=I;break;case"S":s=!0,W="N"}return W},R=function(N,j,B){var te=N.split("");return B&&A(te,B,{hiLevel:I}),te.reverse(),j&&j.reverse(),te.join("")},A=function(N,j,B){var te,he,_e,fe,ie,W=-1,ue=N.length,Y=0,P=[],q=I?m:g,K=[];for(L=!1,i=!1,s=!1,he=0;he<ue;he++)K[he]=V(N[he]);for(_e=0;_e<ue;_e++){if(ie=Y,P[_e]=X(N,K,P,_e),te=240&(Y=q[ie][y[P[_e]]]),Y&=15,j[_e]=fe=q[Y][5],te>0)if(te===16){for(he=W;he<_e;he++)j[he]=1;W=-1}else W=-1;if(q[Y][6])W===-1&&(W=_e);else if(W>-1){for(he=W;he<_e;he++)j[he]=fe;W=-1}K[_e]==="B"&&(j[_e]=0),B.hiLevel|=fe}s&&(function(J,ce,ye){for(var ke=0;ke<ye;ke++)if(J[ke]==="S"){ce[ke]=I;for(var ae=ke-1;ae>=0&&J[ae]==="WS";ae--)ce[ae]=I}})(K,j,ue)},C=function(N,j,B,te,he){if(!(he.hiLevel<N)){if(N===1&&I===1&&!i)return j.reverse(),void(B&&B.reverse());for(var _e,fe,ie,W,ue=j.length,Y=0;Y<ue;){if(te[Y]>=N){for(ie=Y+1;ie<ue&&te[ie]>=N;)ie++;for(W=Y,fe=ie-1;W<fe;W++,fe--)_e=j[W],j[W]=j[fe],j[fe]=_e,B&&(_e=B[W],B[W]=B[fe],B[fe]=_e);Y=ie}Y++}}},D=function(N,j,B){var te=N.split(""),he={hiLevel:I};return B||(B=[]),A(te,B,he),(function(_e,fe,ie){if(ie.hiLevel!==0&&u)for(var W,ue=0;ue<_e.length;ue++)fe[ue]===1&&(W=_.indexOf(_e[ue]))>=0&&(_e[ue]=_[W+1])})(te,B,he),C(2,te,j,B,he),C(1,te,j,B,he),te.join("")};return this.__bidiEngine__.doBidiReorder=function(N,j,B){if((function(he,_e){if(_e)for(var fe=0;fe<he.length;fe++)_e[fe]=fe;o===void 0&&(o=G(he)),c===void 0&&(c=G(he))})(N,j),a||!l||c)if(a&&l&&o^c)I=o?1:0,N=R(N,j,B);else if(!a&&l&&c)I=o?1:0,N=D(N,j,B),N=R(N,j);else if(!a||o||l||c){if(a&&!l&&o^c)N=R(N,j),o?(I=0,N=D(N,j,B)):(I=1,N=D(N,j,B),N=R(N,j));else if(a&&o&&!l&&c)I=1,N=D(N,j,B),N=R(N,j);else if(!a&&!l&&o^c){var te=u;o?(I=1,N=D(N,j,B),I=0,u=!1,N=D(N,j,B),u=te):(I=0,N=D(N,j,B),N=R(N,j),I=1,u=!1,N=D(N,j,B),u=te,N=R(N,j))}}else I=0,N=D(N,j,B);else I=o?1:0,N=D(N,j,B);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,c=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(yr),yr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Qf(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Tpe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new hpe(this.contents),this.head=new mpe(this),this.name=new wpe(this),this.cmap=new jM(this),this.toUnicode={},this.hhea=new gpe(this),this.maxp=new _pe(this),this.hmtx=new bpe(this),this.post=new vpe(this),this.os2=new xpe(this),this.loca=new Cpe(this),this.glyf=new kpe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Wc,Qf=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t})(),hpe=(function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,c,u,p,g,m,y,w;for(w in m=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),a=Math.floor(p/l),u=16*m-p,(i=new Qf).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(a),i.writeShort(u),s=16*m,c=i.pos+s,o=null,y=[],r)for(g=r[w],i.writeString(w),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),y=y.concat(g),w==="head"&&(o=c),c+=g.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=DM.call(r);r.length%4;)r.push(0);for(s=new Qf(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),ppe={}.hasOwnProperty,Mu=function(t,e){for(var r in e)ppe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Wc=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var mpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Qf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),EA=(function(){function t(e,r){var n,i,s,a,o,l,c,u,p,g,m,y,w,_,E,L,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=(function(){var V,G;for(G=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)G.push(e.readUInt16());return G})(),e.pos+=2,w=(function(){var V,G;for(G=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)G.push(e.readUInt16());return G})(),c=(function(){var V,G;for(G=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)G.push(e.readUInt16());return G})(),u=(function(){var V,G;for(G=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)G.push(e.readUInt16());return G})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var V,G;for(G=[],l=V=0;0<=i?V<i:V>i;l=0<=i?++V:--V)G.push(e.readUInt16());return G})(),l=E=0,I=s.length;E<I;l=++E)for(_=s[l],n=L=y=w[l];y<=_?L<=_:L>=_;n=y<=_?++L:--L)u[l]===0?a=n+c[l]:(a=o[u[l]/2+(n-y)-(g-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,i,s,a,o,l,c,u,p,g,m,y,w,_,E,L,I,V,G,X,R,A,C,D,N,j,B,te,he,_e,fe,ie,W,ue,Y,P,q,K,J,ce,ye,ke,ae,be,De,se;switch(te=new Qf,a=Object.keys(e).sort(function(Pe,Re){return Pe-Re}),r){case"macroman":for(w=0,_=(function(){var Pe=[];for(y=0;y<256;++y)Pe.push(0);return Pe})(),L={0:0},s={},he=0,W=a.length;he<W;he++)L[ae=e[i=a[he]]]==null&&(L[ae]=++w),s[i]={old:e[i],new:L[e[i]]},_[i]=L[e[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(_),{charMap:s,subtable:te.data,maxGlyphID:w+1};case"unicode":for(j=[],p=[],I=0,L={},n={},E=c=null,_e=0,ue=a.length;_e<ue;_e++)L[G=e[i=a[_e]]]==null&&(L[G]=++I),n[i]={old:G,new:L[G]},o=L[G]-i,E!=null&&o===c||(E&&p.push(E),j.push(i),c=o),E=i;for(E&&p.push(E),p.push(65535),j.push(65535),D=2*(C=j.length),A=2*Math.pow(Math.log(C)/Math.LN2,2),g=Math.log(A/2)/Math.LN2,R=2*C-A,l=[],X=[],m=[],y=fe=0,Y=j.length;fe<Y;y=++fe){if(N=j[y],u=p[y],N===65535){l.push(0),X.push(0);break}if(N-(B=n[N].new)>=32768)for(l.push(0),X.push(2*(m.length+C-y)),i=ie=N;N<=u?ie<=u:ie>=u;i=N<=u?++ie:--ie)m.push(n[i].new);else l.push(B-N),X.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*C+2*m.length),te.writeUInt16(0),te.writeUInt16(D),te.writeUInt16(A),te.writeUInt16(g),te.writeUInt16(R),ye=0,P=p.length;ye<P;ye++)i=p[ye],te.writeUInt16(i);for(te.writeUInt16(0),ke=0,q=j.length;ke<q;ke++)i=j[ke],te.writeUInt16(i);for(be=0,K=l.length;be<K;be++)o=l[be],te.writeUInt16(o);for(De=0,J=X.length;De<J;De++)V=X[De],te.writeUInt16(V);for(se=0,ce=m.length;se<ce;se++)w=m[se],te.writeUInt16(w);return{charMap:n,subtable:te.data,maxGlyphID:I+1}}},t})(),jM=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new EA(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=EA.encode(e,r),(i=new Qf).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),gpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),xpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),vpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t})(),ype=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,c,u,p,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=u=0,p=n.length;u<p;s=++u)i=n[s],e.pos=i.offset,c=e.readString(i.length),a=new ype(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),_pe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),bpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,p,g;for(g=[],c=0,u=(p=this.metrics).length;c<u;c++)s=p[c],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),DM=[].slice,kpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,c,u,p;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new Qf(r.read(i))).readShort(),c=o.readShort(),p=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[e]=a===-1?new Epe(o,c,p,l,u):new Spe(o,a,c,p,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t})(),Spe=(function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Epe=(function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Qf(DM.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Cpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Mu(t,Wc),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t})(),Tpe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,c,u,p,g,m,y,w,_,E;for(i in n=jM.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},E=n.charMap)m[(l=E[i]).old]=l.new;for(y in g=n.maxGlyphID,a)y in m||(m[y]=g++);return u=(function(L){var I,V;for(I in V={},L)V[L[I]]=I;return V})(m),p=Object.keys(u).sort(function(L,I){return L-I}),w=(function(){var L,I,V;for(V=[],L=0,I=p.length;L<I;L++)o=p[L],V.push(u[o]);return V})(),s=this.font.glyf.encode(a,w,m),c=this.font.loca.encode(s.offsets,w),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t})();yr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+(function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e})();function OM(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=o*l,u=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(u):t,g=p.length||1),r+=o*(2-s),n.valign==="middle"?r-=g/2*c:n.valign==="bottom"&&(r-=g*c),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),p&&g>=1){for(var y=0;y<p.length;y++)i.text(p[y],e-i.getStringUnitWidth(p[y])*m,r),r+=c;return i}e-=i.getStringUnitWidth(t)*m}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var CA={},h1=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:CA=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(e.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return CA||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),db=function(t,e){return db=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},db(t,e)};function MM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");db(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var BM=(function(t){MM(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function Ape(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Npe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function l5(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function VM(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=UM(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function UM(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function d4(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function zM(t,e){var r=d4(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Ipe(t,e,r,n,i){var s={},a=1.3333333333333333,o=b3(e,function(I){return i.getComputedStyle(I).backgroundColor});o!=null&&(s.fillColor=o);var l=b3(e,function(I){return i.getComputedStyle(I).color});l!=null&&(s.textColor=l);var c=Rpe(n,r);c&&(s.cellPadding=c);var u="borderTopColor",p=a*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var y=b3(e,function(I){return i.getComputedStyle(I)[u]});y!=null&&(s.lineColor=y);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(s.fontSize=_/a);var E=Ppe(n);E&&(s.fontStyle=E);var L=(n.fontFamily||"").toLowerCase();return t.indexOf(L)!==-1&&(s.font=L),s}function Ppe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function b3(t,e){var r=$M(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function $M(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:$M(t.parentElement,e):r}function Rpe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=d4(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function qM(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:u,body:p,foot:g};for(var m=0;m<o.rows.length;m++){var y=o.rows[m],w=(a=(s=y?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),_=Lpe(l,c,r,y,n,i);_&&(w==="thead"?u.push(_):w==="tfoot"?g.push(_):p.push(_))}return{head:u,body:p,foot:g}}function Lpe(t,e,r,n,i,s){for(var a=new BM(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;s&&(u=Ipe(t,l,e,c,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:Fpe(l)})}}var p=r.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function Fpe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function jpe(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function dd(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function HM(t,e){var r=new h1(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();jpe(i,n,e);var s=dd({},i,n,e),a;typeof window<"u"&&(a=window);var o=Dpe(i,n,e),l=Ope(i,n,e),c=Mpe(r,s),u=Vpe(r,s,a);return{id:e.tableId,content:u,hooks:l,styles:o,settings:c}}function Dpe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],u=e[l],p=r[l];n.columnStyles=dd({},c,u,p)}else{var g=[t,e,r],m=g.map(function(y){return y[l]||{}});n[l]=dd({},m[0],m[1],m[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function Ope(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function Mpe(t,e){var r,n,i,s,a,o,l,c,u,p,g,m,y=d4(e.margin,40/t.scaleFactor()),w=(r=Bpe(t,e.startY))!==null&&r!==void 0?r:y.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var L=(s=e.useCss)!==null&&s!==void 0?s:!1,I=e.theme||(L?"plain":"striped"),V=!!e.horizontalPageBreak,G=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:L,theme:I,startY:w,margin:y,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:E,showFoot:_,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:V,horizontalPageBreakRepeat:G,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function Bpe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&r?.finalY!=null?r.finalY+20/n:null}function Vpe(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=qM(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Upe(n,i,s);return{columns:l,head:n,body:i,foot:s}}function Upe(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=o?.colSpan||1);for(var l=0;l<a;l++){var c=void 0;Array.isArray(n)?c=i.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var fb=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),zpe=(function(t){MM(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e})(fb),$pe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new zpe(e,this,n,i,s,a),p=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new fb(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new fb(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),WM=(function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof BM&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),c=l+o;return c>i?c:i},0)},t})(),GM=(function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=d4(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),qpe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t})();function Hpe(t,e){Wpe(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=hb(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=hb(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Kpe(e),Xpe(e,t),Gpe(e)}function Wpe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=zM(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,s,l,null);var p=c.padding("horizontal");c.contentWidth=l5(c.text,c.styles,t)+p;var g=l5(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=g+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var m=10/r;c.minWidth=c.styles.minCellWidth||m,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=u.cellWidth||u.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function hb(t,e,r){for(var n=e,i=t.reduce(function(m,y){return m+y.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,c=a.width+l,u=r(a),p=c<u?u:c;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(m){return e<0?m.width>r(m):!0});g.length&&(e=hb(g,e,r))}return e}function Gpe(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,r=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var p=n.length-i,g=u.rowSpan>p?p:u.rowSpan;e[l.index]={cell:u,left:g,row:s}}}}}function Kpe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+s}else{var c=n.cells[l.index];if(!c)continue;if(a=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function Xpe(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=TA(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=TA(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var p=c.styles.overflow(c.text,u);typeof p=="string"?c.text=[p]:c.text=p}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<g*c.rowSpan?r={height:g,count:c.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function TA(t,e,r,n,i){return t.map(function(s){return Ype(s,e,r,n,i)})}function Ype(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=l5(t,r,n))return t;for(;e<l5(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function KM(t,e){var r=new h1(t),n=Qpe(e,r.scaleFactor()),i=new $pe(e,n);return Hpe(r,i),r.applyStyles(r.userStyles),i}function Qpe(t,e){var r=t.content,n=Zpe(r.columns);if(r.head.length===0){var i=AA(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=AA(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:k3("head",r.head,n,a,s,e),body:k3("body",r.body,n,a,s,e),foot:k3("foot",r.foot,n,a,s,e)}}function k3(t,e,r,n,i,s){var a={},o=e.map(function(l,c){for(var u=0,p={},g=0,m=0,y=0,w=r;y<w.length;y++){var _=w[y];if(a[_.index]==null||a[_.index].left===0)if(m===0){var E=void 0;Array.isArray(l)?E=l[_.index-g-u]:E=l[_.dataKey];var L={};typeof E=="object"&&!Array.isArray(E)&&(L=E?.styles||{});var I=e1e(t,_,c,i,n,s,L),V=new GM(E,I,t);p[_.dataKey]=V,p[_.index]=V,m=V.colSpan-1,a[_.index]={left:V.rowSpan-1,times:m}}else m--,g++;else a[_.index].left--,m=a[_.index].times,u++}return new WM(l,c,t,p)});return o}function AA(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=Jpe(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function Jpe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Zpe(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new qpe(i,e,r)})}function e1e(t,e,r,n,i,s,a){var o=Npe(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=dd({},o.table,o[t],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?u:{},g=t==="body"&&r%2===0?dd({},o.alternateRow,i.alternateRowStyles):{},m=Ape(s),y=dd({},m,c,g,p);return dd(y,a)}function t1e(t,e,r){var n;r===void 0&&(r={});var i=zM(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var m=e.columns.find(function(y){return y.dataKey===g||y.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),o.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var c=!0,u=(n=r?.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(s.has(u)){u++;continue}var p=e.columns[u].wrappedWidth;if(c||i>=p)c=!1,a.push(u),o.push(e.columns[u]),i-=p;else break;u++}return{colIndexes:a,columns:o,lastIndex:u-1}}function r1e(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=t1e(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function XM(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(g,m){return g+m.height},0);o+=c}var u=new h1(t);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(QM(u),s.y=i.top),e.callWillDrawPageHooks(u,s);var p=dd({},s);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?n1e(u,e,p,s):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return Ed(u,e,g,s,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(g,m){var y=m===e.body.length-1;c5(u,e,g,y,p,s,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return Ed(u,e,g,s,e.columns)})),VM(u,e,p,s),e.callEndPageHooks(u,s),e.finalY=s.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function n1e(t,e,r,n){var i=r1e(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){t.applyStyles(t.userStyles),u>0?Rg(t,e,r,n,c.columns,!0):NA(t,e,n,c.columns),i1e(t,e,r,n,c.columns),S3(t,e,n,c.columns)});else for(var a=-1,o=i[0],l=function(){var c=a;if(o){t.applyStyles(t.userStyles);var u=o.columns;a>=0?Rg(t,e,r,n,u,!0):NA(t,e,n,u),c=IA(t,e,a+1,n,u),S3(t,e,n,u)}var p=c-a;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Rg(t,e,r,n,g.columns,!0),IA(t,e,a+1,n,g.columns,p),S3(t,e,n,g.columns)}),a=c};a<e.body.length-1;)l()}function NA(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Ed(t,e,s,r,n)})}function i1e(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;c5(t,e,s,o,r,n,i)})}function IA(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,c){var u=r+c===e.body.length-1,p=YM(t,e,u,n);l.canEntireRowFit(p,i)&&(Ed(t,e,l,n,i),o=r+c)}),o}function S3(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ed(t,e,s,r,n)})}function s1e(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function a1e(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new GM(c.raw,c.styles,c.section);u=dd(u,c),u.text=[];var p=s1e(c,e,n);c.text.length>p&&(u.text=c.text.splice(p,c.text.length));var g=n.scaleFactor(),m=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(g,m),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),u.contentHeight=u.getContentHeight(g,m),u.contentHeight>s&&(s=u.contentHeight),i[l.index]=u}}var y=new WM(t.raw,-1,t.section,i,!0);y.height=s;for(var w=0,_=r.columns;w<_.length;w++){var l=_[w],u=y.cells[l.index];u&&(u.height=y.height);var c=t.cells[l.index];c&&(c.height=t.height)}return y}function o1e(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function c5(t,e,r,n,i,s,a){var o=YM(t,e,n,s);if(r.canEntireRowFit(o,a))Ed(t,e,r,s,a);else if(o1e(t,r,o,e)){var l=a1e(r,o,e,t);Ed(t,e,r,s,a),Rg(t,e,i,s,a),c5(t,e,l,n,i,s,a)}else Rg(t,e,i,s,a),c5(t,e,r,n,i,s,a)}function Ed(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}l1e(t,l,n);var u=l.getTextPos();OM(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function l1e(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=UM(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),c1e(t,e,r,n.lineWidth))}function c1e(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(c,u,p,g,m){t.getDocument().setLineWidth(c),t.getDocument().line(u,p,g,m,"S")}}function YM(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Rg(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Ed(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;VM(t,e,r,n),QM(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Ed(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function QM(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function u1e(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=HM(this,n),s=KM(this,i);return XM(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){OM(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return h1.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){h1.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new h1(this),s=qM(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var E3;function PA(t,e){var r=HM(t,e),n=KM(t,r);XM(t,n)}try{if(typeof window<"u"&&window){var RA=window,LA=RA.jsPDF||((E3=RA.jspdf)===null||E3===void 0?void 0:E3.jsPDF);LA&&u1e(LA)}}catch(t){console.error("Could not apply autoTable plugin",t)}async function d1e(t){const e=new yr;e.setFont("helvetica","normal"),e.setFontSize(16),e.text("Pharmacy Profile Report",20,20),e.setFontSize(12),e.text(`Name: ${t?.displayName||"Pharmacy"}`,20,35),e.text(`Email: ${t?.email||""}`,20,45);const r=await Ci(doc(pt,"pharmacies",t.uid)),n=r.exists()?r.data():{};e.text(`Address: ${n.address||""}`,20,55),e.text(`Phone: ${n.phone||""}`,20,65);const s=(await Ln(Tr(lr(pt,"products"),zr("pharmacyId","==",t.uid)))).docs.map(c=>({id:c.id,...c.data()}));PA(e,{startY:75,head:[["Product Name","Category","Stock","SKU","Price"]],body:s.map(c=>[c.name,c.category,c.stock,c.sku,`${Number(c.price).toLocaleString()}`]),theme:"striped",headStyles:{fillColor:[54,165,255]},styles:{fontSize:10}});const o=(await Ln(Tr(lr(pt,"orders"),zr("pharmacyId","==",t.uid)))).docs.map(c=>({id:c.id,...c.data()}));let l=e.lastAutoTable?e.lastAutoTable.finalY+10:100;e.setFontSize(14),e.text("Orders",20,l),l+=6,PA(e,{startY:l,head:[["Order ID","Date","Total","Items"]],body:o.map(c=>[c.id.slice(0,8),c.createdAt?.toDate?.().toLocaleString?.()||"",`${Number(c.total).toLocaleString()}`,(c.items||[]).map(u=>`${u.name||u.productId} x${u.qty||u.quantity||1}`).join(", ")]),theme:"striped",headStyles:{fillColor:[54,165,255]},styles:{fontSize:9}}),e.save("pharmacy-profile-report.pdf")}const f1e=({title:t,searchValue:e,onSearchChange:r,onSearchSubmit:n,onSettingsClick:i})=>{const{t:s}=Zi();return Ps.createPortal(f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:f.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"mt-8 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:s("pharmacy_profile",`Pharmacy
Profile`).replace("\\n",`
`)}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"hidden sm:flex items-center border-b px-2 py-1 w-[min(420px,40vw)] max-w-[520px]",children:[f.jsx("input",{value:e,onChange:r,onKeyDown:a=>{a.key==="Enter"&&n()},placeholder:"Search products, orders, customers...",className:"flex-1 text-sm font-light outline-none truncate","aria-label":"Search products or orders"}),f.jsx("button",{onClick:n,"aria-label":"Search",className:"ml-2 rounded-full p-2 text-sky-600",children:f.jsx(kd,{className:"h-4 w-4"})})]}),f.jsx("button",{onClick:n,"aria-label":"Open search",className:"ml-2 rounded-full p-2 hover:bg-sky-50 sm:hidden",children:f.jsx(kd,{className:"h-5 w-5 text-sky-600 mt-8"})}),f.jsx("button",{onClick:i,"aria-label":"Open settings",className:"ml-2 rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:f.jsx(qy,{className:"h-5 w-5 text-sky-600 mt-8"})})]})]})})}),document.body)};function JM({onSwitchToCustomer:t}){const{user:e,logout:r,profile:n}=wn(),{t:i}=Zi(),[s,a]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState(0),[p,g]=F.useState(0),[m,y]=F.useState(0),[w,_]=F.useState(null),[E,L]=F.useState(""),[I,V]=F.useState(""),[G,X]=F.useState(""),[R,A]=F.useState(""),[C,D]=F.useState(""),[N,j]=F.useState(""),[B,te]=F.useState(null),[he,_e]=F.useState(!1),[fe,ie]=F.useState(!1),[W,ue]=F.useState(!1),[Y,P]=F.useState(new Set),[q,K]=F.useState({displayName:e?.displayName||"Pharmacy",address:"",phone:"",email:e?.email||""}),[J,ce]=F.useState(""),[ye,ke]=F.useState(""),[ae,be]=F.useState(!1),[De,se]=F.useState("products");F.useEffect(()=>{e&&e.role==="pharmacy"&&se("all")},[e]);const[Pe,Re]=F.useState(null),[me,Oe]=F.useState([]),[Me,Qe]=F.useState(null),[re,je]=F.useState(null),[st,At]=F.useState(null),It=40;function Le(Ge){if(!Ge)return null;if(Ge.latitude&&Ge.longitude)return{lat:Number(Ge.latitude),lng:Number(Ge.longitude)};if(Ge.lat&&Ge.lng)return{lat:Number(Ge.lat),lng:Number(Ge.lng)};if(Ge.lat&&Ge.lon)return{lat:Number(Ge.lat),lng:Number(Ge.lon)};if(Ge.location&&typeof Ge.location=="object"){if(Ge.location.lat&&Ge.location.lng)return{lat:Number(Ge.location.lat),lng:Number(Ge.location.lng)};if(Ge.location.latitude&&Ge.location.longitude)return{lat:Number(Ge.location.latitude),lng:Number(Ge.location.longitude)}}if(Ge.coords&&typeof Ge.coords=="object"){if(Ge.coords.latitude&&Ge.coords.longitude)return{lat:Number(Ge.coords.latitude),lng:Number(Ge.coords.longitude)};if(Ge.coords.lat&&Ge.coords.lng)return{lat:Number(Ge.coords.lat),lng:Number(Ge.coords.lng)}}return null}function qe(Ge,Ft){if(!Ge||!Ft)return null;const Wt=Un=>Un*Math.PI/180,Vt=6371,mr=Wt(Ft.lat-Ge.lat),wr=Wt(Ft.lng-Ge.lng),Ar=Wt(Ge.lat),Jt=Wt(Ft.lat),cr=Math.sin(mr/2),Fn=Math.sin(wr/2),Yr=cr*cr+Math.cos(Ar)*Math.cos(Jt)*Fn*Fn,yi=2*Math.atan2(Math.sqrt(Yr),Math.sqrt(1-Yr));return Vt*yi}function We(Ge,Ft){if(Ge==null||Ft==null||Ft<=0)return null;const Wt=Ge/Ft,Vt=Math.round(Wt*60);if(Vt<60)return`${Vt} min`;const mr=Math.floor(Vt/60),wr=Vt%60;return`${mr}h ${wr}m`}F.useEffect(()=>{if(re||!("geolocation"in navigator))return;let Ge=!0;return navigator.geolocation.getCurrentPosition(Ft=>{Ge&&je({lat:Ft.coords.latitude,lng:Ft.coords.longitude})},Ft=>{console.debug("[ProfilePharmacy] geolocation error",Ft)},{enableHighAccuracy:!1,timeout:1e4}),()=>{Ge=!1}},[]),F.useEffect(()=>{if(!Me)return At(null);const Ge=Le(Me.data);if(!Ge){At(null);return}let Ft=re||null;if(!Ft&&Me&&Me.source==="users"){const mr=Le(Me.data);mr&&(Ft=mr)}if(!Ft){At(null);return}const Wt=qe(Ft,Ge);if(Wt==null){At(null);return}const Vt=We(Wt,It);At({distanceKm:Wt,eta:Vt,speedKmh:It,pharmCoords:Ge,custCoords:Ft})},[Me,re]);const dt=Jn();F.useEffect(()=>{const Ge=n?.uid||e?.uid;if(Ge)return Q5(a,Ge)},[n,e]),F.useEffect(()=>{const Ge=n?.uid||e?.uid;if(!Ge)return;Ln(Tr(lr(pt,"orders"),zr("pharmacyId","==",Ge))).then(cr=>{let Fn=0;cr.forEach(Yr=>{const yi=Yr.data();Fn+=(yi.items||[]).reduce((Un,ar)=>Un+(ar.count||ar.qty||ar.quantity||1),0)}),u(Fn)}).catch(()=>{}),Ln(Tr(lr(pt,"threads"),zr("vendorId","==",Ge))).then(cr=>{g(cr.size)}).catch(()=>{}),Ln(Tr(lr(pt,"reviews"),zr("pharmacyId","==",Ge))).then(cr=>{y(cr.size)}).catch(()=>{});const Ft=ir(pt,"pharmacies",Ge),Wt=ir(pt,"users",Ge);let Vt=null,mr=null;const wr=()=>{const cr=Fn=>{if(!Fn)return"";const Yr=String(Fn).trim();return!Yr||Yr.includes("@")||Yr.replace(/\D/g,"").length<6?"":Yr};try{console.debug("[ProfilePharmacy] refreshProfile - pharmData:",Vt,"userData:",mr)}catch{}K(Fn=>{const Yr=Vt&&Vt.displayName||mr&&mr.displayName||e.displayName||Fn.displayName,yi=Vt&&Vt.address||mr&&mr.address||Fn.address||"",Un=Vt&&Vt.phone||mr&&mr.phone||Fn.phone||"",ar=cr(Un),dn=Vt&&Vt.email||mr&&mr.email||e.email||Fn.email||"";try{console.debug("[ProfilePharmacy] computed profile ->",{displayName:Yr,address:yi,rawPhone:Un,phone:ar,email:dn})}catch{}return{displayName:Yr,address:yi,phone:ar,email:dn}})},Ar=Kn(Ft,cr=>{Vt=cr&&cr.exists?cr.data():null,wr()},()=>{}),Jt=Kn(Wt,cr=>{mr=cr&&cr.exists?cr.data():null,wr()},()=>{});return wr(),()=>{try{Ar&&Ar()}catch{}try{Jt&&Jt()}catch{}}},[n,e]);async function bt(){await d1e(n||e)}async function _t(){if(!w)return;let Ge=N;await ks(ir(pt,"products",w.id),{name:E,category:I,stock:Number(G),sku:R,price:Number(C),image:Ge||w.image||"",description:J}),_(null)}function vt(){_(null)}F.useEffect(()=>{w&&(L(w.name||""),V(w.category||""),X(w.stock||""),A(w.sku||""),D(w.price||""),j(w.image||""),te(null),ce(w.description||""))},[w]);async function St(){const Ge=(ye||"").trim().toLowerCase();if(!Ge){Oe([]);return}const Ft=[];if((De==="products"||De==="all")&&s.forEach(Wt=>{`${Wt.name||""} ${Wt.category||""} ${Wt.sku||""}`.toLowerCase().includes(Ge)&&Ft.push({type:"product",title:Wt.name||"Untitled",subtitle:`${Wt.category||"Uncategorized"}  SKU: ${Wt.sku||""}`,item:Wt})}),De==="orders"||De==="all"){let Wt=Pe;Wt||(Wt=(await Ln(Tr(lr(pt,"orders"),zr("pharmacyId","==",n?.uid||e?.uid)))).docs.map(mr=>({id:mr.id,...mr.data()})),Re(Wt)),(Wt||[]).forEach(Vt=>{`${Vt.id} ${(Vt.items||[]).map(wr=>wr.name).join(" ")} ${Vt.customerName||""}`.toLowerCase().includes(Ge)&&Ft.push({type:"order",title:`Order ${Vt.id}`,subtitle:`${Vt.items?.length||0} items  ${Number(Vt.total||0).toLocaleString()}`,item:Vt})})}Oe(Ft)}F.useEffect(()=>{if(!ae)return;function Ge(Ft){Ft.key==="Escape"&&(be(!1),ke(""),Oe([]))}return window.addEventListener("keydown",Ge),()=>window.removeEventListener("keydown",Ge)},[ae]),F.useEffect(()=>{if(!ae)return;if(!(ye||"").trim()){Oe([]);return}const Ft=setTimeout(()=>{St()},300);return()=>clearTimeout(Ft)},[ye,De,ae]);function Xt(Ge){try{return Ge&&Ge.toDate?Ge.toDate().toISOString():Ge||""}catch{return""}}function Yt(){if(!s||s.length===0){alert("No products to export");return}const Ge=s.map(wr=>({id:wr.id,name:wr.name||"",category:wr.category||"",sku:wr.sku||"",price:Number(wr.price||0),stock:Number(wr.stock||0),description:wr.description||"",image:wr.image||"",createdAt:Xt(wr.createdAt)})),Ft=jj.unparse(Ge),Wt=new Blob([Ft],{type:"text/csv;charset=utf-8;"}),Vt=URL.createObjectURL(Wt),mr=document.createElement("a");mr.href=Vt,mr.download=`pharmacy-inventory-${e?.uid||"inventory"}.csv`,document.body.appendChild(mr),mr.click(),mr.remove(),URL.revokeObjectURL(Vt)}function Ut(){if(!s||s.length===0){alert("No products to export");return}const Ge=s.map(Jt=>({id:Jt.id,name:Jt.name||"",category:Jt.category||"",sku:Jt.sku||"",price:Number(Jt.price||0),stock:Number(Jt.stock||0),description:Jt.description||"",image:Jt.image||"",createdAt:Xt(Jt.createdAt)})),Ft=ty.json_to_sheet(Ge),Wt=ty.book_new();ty.book_append_sheet(Wt,Ft,"Inventory");const Vt=UO(Wt,{bookType:"xlsx",type:"array"}),mr=new Blob([Vt],{type:"application/octet-stream"}),wr=URL.createObjectURL(mr),Ar=document.createElement("a");Ar.href=wr,Ar.download=`pharmacy-inventory-${e?.uid||"inventory"}.xlsx`,document.body.appendChild(Ar),Ar.click(),Ar.remove(),URL.revokeObjectURL(wr)}if(!e)return f.jsx(F1,{lines:4,className:"my-8"});function pr({user:Ge}){return!Ge||Ge.role!=="superuser"?null:f.jsxs("div",{className:"mt-8 rounded-3xl border bg-yellow-50 dark:bg-gray-700 border-yellow-400 dark:border-gray-600 p-4 flex flex-col items-start relative",children:[f.jsx("div",{className:"text-[20px] font-bold text-yellow-700 dark:text-yellow-400 mb-2",children:"Superuser Dashboard"}),f.jsxs("ul",{className:"space-y-2 text-[15px] text-yellow-900",children:[f.jsx("li",{children:"Manage all users (view, edit, suspend, delete)"}),f.jsx("li",{children:"Product oversight (add, edit, remove, approve/reject)"}),f.jsx("li",{children:"Prescription management"}),f.jsx("li",{children:"Analytics & reports"}),f.jsx("li",{children:"Moderation (reviews, chats, reported content)"}),f.jsx("li",{children:"System settings"}),f.jsx("li",{children:"Bulk operations"}),f.jsx("li",{children:"Audit logs"}),f.jsx("li",{children:"Impersonate users"})]}),f.jsx("div",{className:"mt-4 text-[13px] text-yellow-700",children:"(Feature scaffolding: UI and logic for each capability can be expanded here.)"})]})}return f.jsxs(f.Fragment,{children:[f.jsx(f1e,{title:"Pharmacy Profile",searchValue:ye,onSearchChange:Ge=>ke(Ge.target.value),onSearchSubmit:()=>{St(),be(!0)},onSettingsClick:()=>dt("/settings")}),f.jsxs("div",{className:"pt-28 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col animate-fadeInUp",children:[f.jsx(pr,{user:e}),ae&&f.jsx("div",{onClick:()=>{be(!1),ke(""),Oe([])},className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black bg-opacity-30",role:"dialog","aria-modal":"true","aria-label":"Search modal",children:f.jsxs("div",{onClick:Ge=>Ge.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-3xl w-[min(920px,95%)] p-4 shadow-xl border border-[#9ED3FF] dark:border-gray-600 max-h-[80vh] overflow-hidden",children:[f.jsxs("div",{className:"mb-3",children:[f.jsxs("div",{className:"flex items-center gap-3 w-full",children:[f.jsx("div",{className:"flex-1 min-w-0",children:f.jsxs("div",{className:"flex items-center bg-[#F0FAFF] dark:bg-gray-700 border border-[#9ED3FF] dark:border-gray-600 rounded-full px-3 py-2 w-full overflow-hidden",children:[f.jsx(kd,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mr-2 flex-shrink-0"}),f.jsx("input",{autoFocus:!0,value:ye,onChange:Ge=>ke(Ge.target.value),onKeyDown:Ge=>{Ge.key==="Enter"&&St()},placeholder:"Search products, orders, customers...",className:"flex-1 min-w-0 bg-transparent text-sm outline-none truncate dark:text-white dark:placeholder:text-gray-400","aria-label":"Search query"})]})}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("select",{value:De,onChange:Ge=>se(Ge.target.value),className:"rounded-full border border-[#9ED3FF] dark:border-gray-600 px-3 py-2 text-sm bg-white dark:bg-gray-700 dark:text-white w-36",children:[f.jsx("option",{value:"products",children:"Products"}),f.jsx("option",{value:"orders",children:"Orders"}),f.jsx("option",{value:"all",children:"All"})]})})]}),f.jsx("div",{className:"w-full border-t mt-3",style:{borderColor:"#E6F7FF"}})]}),f.jsx("div",{className:"mt-4 max-h-[60vh] overflow-auto px-1 py-2",children:me.length===0?f.jsx("div",{className:"text-zinc-500 p-4",children:"No results yet. Enter a query."}):f.jsx("ul",{className:"space-y-2",children:me.map((Ge,Ft)=>f.jsxs("li",{className:"p-2 rounded-2xl border border-[#9ED3FF] dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition-all duration-200 flex items-center gap-3 justify-between animate-fadeInUp card-interactive hover:shadow-md",style:{animationDelay:`${Ft*.05}s`},children:[f.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[f.jsx("div",{className:"flex-shrink-0",children:Ge.type==="product"?f.jsx(Pl,{name:Ge.item?.name,image:Ge.item?.image,category:Ge.item?.category,size:48,className:"rounded-lg"}):f.jsx("div",{className:"h-12 w-12 rounded-lg bg-[#fff7ed] dark:bg-gray-600 flex items-center justify-center border border-[#ffd7a8] dark:border-gray-500 animate-pulse-gentle",children:f.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-orange-500 dark:text-orange-400",children:f.jsx("path",{d:"M3 7h18M3 12h18M3 17h18",stroke:"#f59e0b",strokeWidth:"1.5",strokeLinecap:"round"})})})}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"font-semibold text-sm text-black truncate",children:Ge.title}),f.jsx("div",{className:"text-xs text-zinc-500 truncate",children:Ge.subtitle})]})]}),f.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:Ge.type==="product"?f.jsx("button",{onClick:()=>{_(Ge.item),be(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"Edit"}):f.jsx("button",{onClick:()=>{dt("/orders",{state:{highlightOrderId:Ge.item.id}}),be(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 btn-interactive transition-all duration-200",children:"Open"})})]},Ft))})})]})}),f.jsxs("div",{className:"mt-8 w-full grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6 items-start",children:[f.jsx("aside",{className:"min-w-0 lg:pr-2",children:f.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start relative lg:sticky lg:top-24 overflow-hidden",children:[f.jsx("div",{className:"mb-2",children:e?.photoURL?f.jsx("img",{src:e.photoURL,alt:"Avatar",className:"h-16 w-16 rounded-full object-cover border border-[#9ED3FF] dark:border-gray-500 shadow"}):f.jsx("div",{className:"h-16 w-16 rounded-full bg-[#E3F3FF] dark:bg-gray-600 flex items-center justify-center border border-[#9ED3FF] dark:border-gray-500 shadow",children:f.jsx("span",{className:"text-sky-600 dark:text-sky-400 text-2xl font-light",children:q.displayName&&q.displayName.charAt?q.displayName.charAt(0):"P"})})}),f.jsx("div",{className:"text-3xl font-light font-poppins text-sky-600 dark:text-sky-400 mb-1 tracking-tight truncate w-full",children:q.displayName||"Pharmacy"}),f.jsx("div",{className:"w-full border-b dark:border-gray-600 mb-2",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"}}),f.jsx("div",{className:"text-[13px] text-zinc-500 font-light mb-1 truncate w-full",children:q.email||e?.email}),q.address&&f.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 flex items-center truncate w-full",children:[f.jsx(ic,{className:"h-4 w-4 mr-1 flex-shrink-0"}),f.jsx("span",{className:"truncate",children:q.address})]}),q.phone&&f.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 flex items-center truncate w-full",children:[f.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-1 flex-shrink-0",children:f.jsx("path",{d:"M2.41333 5.19333C3.37333 7.08 4.92 8.62667 6.80667 9.58667L8.27333 8.12C8.46 7.93333 8.72 7.88 8.95333 7.95333C9.7 8.2 10.5 8.33333 11.3333 8.33333C11.5101 8.33333 11.6797 8.40357 11.8047 8.5286C11.9298 8.65362 12 8.82319 12 9V11.3333C12 11.5101 11.9298 11.6797 11.8047 11.8047C11.6797 11.9298 11.5101 12 11.3333 12C8.32755 12 5.44487 10.806 3.31946 8.68054C1.19404 6.55513 0 3.67245 0 0.666667C0 0.489856 0.0702379 0.320286 0.195262 0.195262C0.320286 0.0702379 0.489856 0 0.666667 0H3C3.17681 0 3.34638 0.0702379 3.4714 0.195262C3.59643 0.320286 3.66667 0.489856 3.66667 0.666667C3.66667 1.5 3.8 2.3 4.04667 3.04667C4.12 3.28 4.06667 3.54 3.88 3.72667L2.41333 5.19333Z",fill:"#7D7D7D"})}),f.jsx("span",{className:"truncate",children:q.phone})]}),st&&f.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 w-full truncate",children:["ETA: ",f.jsx("span",{className:"text-sky-600 font-medium",children:st.eta}),"  ",st.distanceKm.toFixed(2)," km"]}),f.jsx("div",{className:"w-full mt-4 hidden lg:flex justify-start",children:f.jsxs("button",{onClick:async()=>{await r(),window.location.href="/auth/landing"},className:"rounded-full border border-red-300 dark:border-gray-600 text-red-600 dark:text-red-400 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[f.jsx(V_,{className:"h-4 w-4"})," ",i("log_out","Log Out")]})})]})}),f.jsxs("section",{className:"min-w-0 space-y-6 lg:max-h-[calc(100vh-7rem)] lg:overflow-auto lg:pr-1",children:[f.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start relative overflow-hidden",children:[f.jsx("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white mb-2 tracking-tight",children:i("storefront_preview","Storefront Preview")}),f.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b dark:border-gray-600",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-zinc-500 dark:text-zinc-400 font-light",children:i("inventory","Inventory")}),f.jsx("span",{className:"text-[12px] text-sky-600 dark:text-sky-400 font-medium",children:s.length})]}),f.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("products_sold","Products Sold")}),f.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:c})]}),f.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("active_chats","Active Chats")}),f.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:p})]}),f.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[f.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("reviews","Reviews")}),f.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:m})]}),f.jsx("div",{className:"w-full flex justify-end mt-4",children:f.jsxs("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light flex items-center gap-1 shadow hover:bg-sky-700",onClick:bt,children:[f.jsx(cee,{className:"h-4 w-4"})," ",i("download_report","Download report")]})})]}),f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsxs("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700",onClick:()=>dt(`/add-product?pharmacyId=${n?.uid||e?.uid}`),children:["+ ",i("add_product","Add Product")]}),f.jsx("button",{className:"flex-1 rounded-full border border-sky-600 dark:border-gray-600 dark:border-gray-600 text-sky-600 dark:text-sky-400 text-[13px] font-light py-2 hover:bg-[#E3F3FF] dark:hover:bg-gray-700",onClick:()=>l(!0),children:i("bulk_upload","Bulk Upload")})]}),f.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 relative overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("div",{className:"text-[17px] font-light font-poppins text-black dark:text-white tracking-tight",children:i("products","Products")}),s.length>3&&f.jsx("button",{className:"text-sky-600 text-[13px] font-light px-3 py-1 rounded-full hover:bg-[#E3F3FF]",onClick:()=>ue(Ge=>!Ge),children:W?i("see_less","See less"):i("see_more","See more")})]}),f.jsxs("div",{className:"space-y-3",children:[(W?s:s.slice(0,3)).map(Ge=>f.jsxs("button",{className:"w-full text-left rounded-2xl border border-[#9ED3FF] dark:border-gray-600 p-3 flex items-center gap-3 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition shadow-sm min-w-0 overflow-hidden",onClick:()=>_(Ge),type:"button",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(Pl,{name:Ge.name,image:Ge.image,category:Ge.category,size:30,className:"border border-[#9ED3FF] dark:border-gray-500",roundedClass:"rounded-xl"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-semibold text-[15px] text-black dark:text-white truncate",children:Ge.name}),f.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[12px] font-light truncate",children:[Ge.category,"  Stock: ",Ge.stock,"  SKU: ",Ge.sku]})]}),f.jsxs("div",{className:"text-[15px] font-semibold text-sky-600 dark:text-sky-400 ml-3 flex-shrink-0 whitespace-nowrap",children:["",Number(Ge.price).toLocaleString()]})]},Ge.id)),s.length===0&&f.jsx("div",{className:"text-zinc-500",children:i("no_products_yet","No products yet. Use the buttons above to add or bulkupload.")})]}),f.jsxs("div",{className:"w-full flex justify-end mt-3",children:[f.jsx("button",{onClick:Yt,className:"mr-2 px-4 py-2 rounded-full border border-sky-600 dark:border-gray-600 dark:border-gray-600 text-sky-600 dark:text-sky-400 text-[13px] font-light hover:bg-[#E3F3FF] dark:hover:bg-gray-700",children:i("download_csv","Download CSV")}),f.jsx("button",{onClick:Ut,className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[13px] font-light hover:bg-sky-700",children:i("download_excel","Download Excel")})]})]})]})]}),o&&f.jsx(HO,{pharmacyId:n?.uid||e?.uid,onClose:()=>l(!1)}),w&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 backdrop-blur-sm",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 w-[90vw] max-w-sm shadow-xl border border-[#9ED3FF] dark:border-gray-600 relative overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[f.jsx("div",{className:"text-lg font-medium font-poppins text-black dark:text-white",children:i("edit_product","Edit Product")}),f.jsxs("div",{className:"relative",children:[f.jsx("button",{className:"rounded-full border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-zinc-500 dark:text-zinc-400 py-2 flex items-center justify-center ml-2",style:{width:"36px",height:"36px"},onClick:Ge=>{Ge.stopPropagation(),_e(Ft=>!Ft)},children:f.jsx(uee,{className:"h-4 w-4"})}),he&&f.jsx("div",{className:"absolute right-0 top-full mt-2 bg-white dark:bg-gray-800 border border-[#9ED3FF] dark:border-gray-600 rounded-xl shadow p-2 z-10 overflow-hidden",onClick:Ge=>Ge.stopPropagation(),children:f.jsxs("button",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-[13px] font-light px-2 py-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",onClick:()=>{ie(!0),_e(!1)},children:[f.jsx(yee,{className:"h-4 w-4"})," ",i("delete","Delete")]})})]})]}),f.jsxs("div",{className:"space-y-3",onClick:()=>he&&_e(!1),children:[f.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:E,onChange:Ge=>L(Ge.target.value),placeholder:i("name","Name")}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:I,onChange:Ge=>V(Ge.target.value),placeholder:i("category","Category")}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:G,onChange:Ge=>X(Ge.target.value),placeholder:i("stock","Stock"),type:"number"}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:R,onChange:Ge=>A(Ge.target.value),placeholder:"SKU"}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:C,onChange:Ge=>D(Ge.target.value),placeholder:i("price","Price"),type:"number"}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-[12px] text-zinc-500 dark:text-zinc-400 font-light",children:i("product_image","Product Image")}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:N,onChange:Ge=>{j(Ge.target.value),te(null)},placeholder:i("image_url_placeholder","Image URL (or choose file below)"),type:"text"}),f.jsx("input",{type:"file",accept:"image/*",className:"mt-1",onChange:Ge=>{Ge.target.files&&Ge.target.files[0]&&(te(Ge.target.files[0]),j(""))}}),(N||B)&&f.jsx("img",{src:B?URL.createObjectURL(B):N,alt:"Preview",className:"h-16 w-16 object-cover rounded-xl border mt-2"})]}),f.jsxs("div",{className:"flex flex-col gap-1",children:[f.jsx("label",{className:"text-[12px] text-zinc-500 font-light",children:i("product_description","Product Description")}),f.jsx("textarea",{className:"w-full border rounded p-2 text-sm",rows:4,value:J,onChange:Ge=>ce(Ge.target.value),placeholder:i("enter_product_description","Enter product description")})]})]}),f.jsxs("div",{className:"flex gap-2 mt-6 items-center",children:[f.jsx("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[12px] font-light py-2 shadow hover:bg-sky-700",onClick:_t,children:i("save","Save")}),f.jsx("button",{className:"flex-1 rounded-full border border-zinc-300 dark:border-gray-600 text-zinc-500 text-[12px] font-light py-2",onClick:()=>_(null),children:i("cancel","Cancel")})]}),fe&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 rounded-3xl",onClick:()=>ie(!1),children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-xl border border-[#9ED3FF] dark:border-gray-600 text-center overflow-hidden",onClick:Ge=>Ge.stopPropagation(),children:[f.jsx("div",{className:"text-[15px] font-light mb-4 dark:text-white",children:i("confirm_delete_product","Are you sure you want to delete this item?")}),f.jsxs("div",{className:"flex gap-2 justify-center",children:[f.jsx("button",{className:"rounded-full bg-red-600 text-white text-[12px] font-light px-4 py-2",onClick:vt,children:i("yes_delete","Yes, Delete")}),f.jsx("button",{className:"rounded-full border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-zinc-500 dark:text-zinc-400 text-[12px] font-light px-4 py-2",onClick:()=>ie(!1),children:i("cancel","Cancel")})]})]})})]})}),f.jsx("div",{className:"mt-6 lg:hidden",children:f.jsxs("button",{onClick:async()=>{await r(),window.location.href="/auth/onboarding"},className:"rounded-full border border-red-300 dark:border-gray-600 text-red-600 dark:text-red-400 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[f.jsx(V_,{className:"h-4 w-4"})," ",i("log_out","Log Out")]})})]})]})}const h1e=t=>Array.from(new Set(t.map(r=>r.label.includes("/")?r.label.split("/").pop():r.label))).sort(),p1e=(t,e)=>Array.from(new Set(t.filter(n=>n.label.endsWith("/"+e)).map(n=>n.label.split("/")[0]))).sort((n,i)=>Number(n)-Number(i));function m1e({data:t,filter:e,onFilterChange:r,topPeriod:n}){const{t:i}=Zi(),[s,a]=F.useState(null),[o,l]=F.useState([]);F.useEffect(()=>{if(t.length>0){const m=Math.max(...t.map(y=>y.value))||1;l(t.map(y=>y.value/m*100))}},[t]);let c=h1e(t),u=e.type==="month"?p1e(t,e.year||c[0]):[];const p=Math.max(...t.map(m=>m.value))||1,g=t.reduce((m,y)=>m+y.value,0);return f.jsxs("div",{className:"bg-gradient-to-br from-[#F7F7F7] to-[#F0F8FF] dark:from-gray-800 dark:to-gray-900 rounded-2xl border border-sky-500 dark:border-gray-600 p-6 mt-8 overflow-hidden min-w-0 relative",role:"region","aria-label":"Revenue",children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-sky-100/30 dark:from-sky-800/30 to-transparent rounded-full -translate-y-16 translate-x-16"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-100/20 dark:from-blue-800/20 to-transparent rounded-full translate-y-12 -translate-x-12"}),f.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0 relative z-0",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-black dark:text-white font-light text-xl tracking-tight mb-1",children:i("revenue_analytics","Revenue Analytics")}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("div",{className:"text-2xl font-semibold text-sky-700 dark:text-sky-400",children:["",g.toLocaleString()]}),f.jsx("div",{className:"px-2 py-1 bg-sky-100 dark:bg-sky-800 rounded-full text-xs text-sky-700 dark:text-sky-300 font-medium",children:i("total","Total")})]})]}),f.jsx("div",{className:"flex flex-col gap-2",children:f.jsxs("select",{className:"rounded-xl border-2 border-sky-200 bg-white px-3 py-2 text-sm text-sky-700 focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md",value:e.type,onChange:m=>r({...e,type:m.target.value}),children:[f.jsxs("option",{value:"month",children:[" ",i("by_month","By Month")]}),f.jsxs("option",{value:"year",children:[" ",i("by_year","By Year")]})]})})]}),f.jsxs("div",{className:"flex gap-2 mb-6 min-w-0 relative z-0",children:[e.type==="year"&&f.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[140px]",value:e.year||c[0]||"",onChange:m=>r({...e,year:m.target.value}),children:c.map(m=>f.jsx("option",{value:m,children:m},m))}),e.type==="month"&&f.jsxs(f.Fragment,{children:[f.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[120px]",value:e.year||c[0]||"",onChange:m=>r({...e,year:m.target.value}),children:c.map(m=>f.jsx("option",{value:m,children:m},m))}),f.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[120px]",value:e.month||u[0]||"",onChange:m=>r({...e,month:m.target.value}),children:u.map(m=>f.jsx("option",{value:m,children:i("month_number","Month {number}",{number:m})},m))})]})]}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex flex-col justify-between opacity-20",children:[...Array(5)].map((m,y)=>f.jsx("div",{className:"border-t border-sky-300 border-dashed"},y))}),f.jsx("div",{className:"w-full h-32 flex items-end gap-3 mt-2 min-w-0 overflow-hidden relative z-0",children:t.length===0?f.jsx("div",{className:"w-full h-full flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-2",children:""}),f.jsx("div",{className:"text-zinc-400 text-sm",children:i("no_revenue_data","No revenue data available")}),f.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:i("start_selling_revenue","Start making sales to see your revenue analytics")})]})}):t.map((m,y)=>f.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0 relative group",onMouseEnter:()=>a(y),onMouseLeave:()=>a(null),children:[s===y&&f.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-white border border-sky-200 rounded-lg px-3 py-2 shadow-lg z-20 whitespace-nowrap",children:[f.jsx("div",{className:"text-xs font-medium text-gray-700",children:m.label}),f.jsxs("div",{className:"text-sm font-semibold text-sky-600",children:["",m.value.toLocaleString()]}),f.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2",children:f.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})})]}),f.jsxs("div",{className:"relative w-8 flex flex-col items-center",children:[f.jsxs("div",{className:"w-full h-32 bg-sky-100/50 rounded-t-lg relative overflow-hidden",children:[f.jsx("div",{className:`absolute bottom-0 w-full rounded-t-lg transition-all duration-1000 ease-out cursor-pointer transform ${s===y?"scale-105":"scale-100"}`,style:{height:`${o[y]||0}%`,background:s===y?"linear-gradient(135deg, #36A5FF 0%, #2563EB 50%, #1D4ED8 100%)":"linear-gradient(135deg, #36A5FF 0%, #3B82F6 100%)",boxShadow:s===y?"0 8px 25px rgba(54, 165, 255, 0.4), 0 4px 10px rgba(54, 165, 255, 0.3)":"0 4px 15px rgba(54, 165, 255, 0.2)"},children:f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 transform -skew-x-12 animate-pulse"})}),f.jsx("div",{className:"absolute w-full h-1 bg-white/40 rounded-full transition-all duration-1000",style:{bottom:`${o[y]||0}%`}})]}),s===y&&f.jsxs("div",{className:"absolute -top-6 bg-sky-600 text-white text-xs px-2 py-1 rounded font-medium",children:["",m.value.toLocaleString()]})]}),f.jsx("span",{className:`text-[11px] mt-2 truncate max-w-[40px] transition-colors duration-200 ${s===y?"text-sky-600 font-medium":"text-zinc-500"}`,children:m.label})]},y))}),t.length>0&&f.jsxs("div",{className:"absolute left-0 top-0 h-32 flex flex-col justify-between text-xs text-zinc-400 -ml-12",children:[f.jsxs("span",{children:["",p.toLocaleString()]}),f.jsxs("span",{children:["",Math.round(p*.75).toLocaleString()]}),f.jsxs("span",{children:["",Math.round(p*.5).toLocaleString()]}),f.jsxs("span",{children:["",Math.round(p*.25).toLocaleString()]}),f.jsx("span",{children:"0"})]})]}),n&&f.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-sky-50 to-blue-50 rounded-xl border border-sky-200 relative z-0",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:""}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm font-medium text-sky-700",children:i("best_performing_period","Best Performing {period}",{period:e.type==="month"?i("month_label","Month"):i("year_label","Year")})}),f.jsxs("div",{className:"text-lg font-semibold text-sky-800",children:[n.label,"  ",n.value.toLocaleString()]})]})]})})]})}function g1e({cards:t}){return f.jsxs("div",{className:"w-full overflow-x-auto py-2",style:{overflowY:"hidden"},children:[f.jsx("div",{className:"flex gap-3",style:{minWidth:180,scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map((e,r)=>f.jsx("div",{className:"min-w-[120px] max-w-[150px] h-[80px] bg-[#F7F7F7] dark:bg-gray-800 rounded-xl border border-sky-500 dark:border-gray-600 p-3 flex flex-col items-start justify-center shadow-sm",children:e},r))}),f.jsx("style",{children:`
        .w-full.overflow-x-auto::-webkit-scrollbar { display: none; }
      `})]})}function x1e({data:t}){const{t:e}=Zi(),[r,n]=F.useState(null);if(!t||t.length===0)return f.jsx("div",{className:"bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8 text-zinc-400 dark:text-zinc-500 text-sm text-center",children:e("no_sales_trend_data","No sales trend data.")});const i=Math.max(...t.map(g=>g.value))||1,s=25,a=280,o=120,l=[];for(let g=0;g<=4;g++){const m=s+g/4*(o-2*s);l.push(f.jsx("line",{x1:s,y1:m,x2:a-s,y2:m,stroke:"#E5F3FF",strokeWidth:"1",strokeDasharray:"3,3"},g))}const c=t.map((g,m)=>{const y=s+m/(t.length-1)*(a-2*s),w=o-s-g.value/i*(o-2*s);return{x:y,y:w,value:g.value,label:g.label}}),u=c.map((g,m)=>`${m===0?"M":"L"} ${g.x} ${g.y}`).join(" "),p=`${u} L ${c[c.length-1].x} ${o-s} L ${c[0].x} ${o-s} Z`;return f.jsxs("div",{className:"bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8 relative overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-black dark:text-white font-light text-lg tracking-tight",children:e("sales_trends","Sales Trends")}),f.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:e("last_6_months","Last 6 months")})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("svg",{width:a,height:o,className:"block mx-auto overflow-visible",style:{filter:"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.1))"},children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[f.jsx("stop",{offset:"0%",stopColor:"#36A5FF",stopOpacity:"0.2"}),f.jsx("stop",{offset:"100%",stopColor:"#36A5FF",stopOpacity:"0.02"})]}),f.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[f.jsx("stop",{offset:"0%",stopColor:"#36A5FF"}),f.jsx("stop",{offset:"50%",stopColor:"#2563EB"}),f.jsx("stop",{offset:"100%",stopColor:"#1D4ED8"})]})]}),l,f.jsx("path",{d:p,fill:"url(#areaGradient)",className:"transition-all duration-300"}),f.jsx("path",{d:u,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-all duration-300",style:{filter:"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.3))"}}),c.map((g,m)=>f.jsxs("g",{children:[f.jsx("circle",{cx:g.x,cy:g.y,r:r===m?"8":"6",fill:"rgba(54, 165, 255, 0.2)",className:"transition-all duration-200"}),f.jsx("circle",{cx:g.x,cy:g.y,r:r===m?"4":"3",fill:"#36A5FF",stroke:"white",strokeWidth:"2",className:"cursor-pointer transition-all duration-200 hover:r-4",onMouseEnter:()=>n(m),onMouseLeave:()=>n(null),style:{filter:r===m?"drop-shadow(0 4px 8px rgba(54, 165, 255, 0.4))":"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.2))"}})]},m))]}),r!==null&&f.jsxs("div",{className:"absolute bg-white border border-sky-200 rounded-lg px-3 py-2 shadow-lg z-10 transition-all duration-200",style:{left:c[r].x-30,top:c[r].y-50,transform:"translateX(-50%)"},children:[f.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:t[r].label}),f.jsx("div",{className:"text-sm font-semibold text-sky-600 dark:text-sky-400",children:e("orders_count","{count} order{plural}",{count:t[r].value,plural:t[r].value>1?"s":""})}),f.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:f.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})})]})]}),f.jsx("div",{className:"flex justify-between mt-3 px-6",children:t.map((g,m)=>f.jsx("span",{className:`text-xs transition-colors duration-200 ${r===m?"text-sky-600 dark:text-sky-400 font-medium":"text-zinc-500 dark:text-zinc-400"}`,children:g.label},m))}),f.jsxs("div",{className:"absolute left-1 top-12 h-24 flex flex-col justify-between text-xs text-zinc-400 dark:text-zinc-500",children:[f.jsx("span",{children:i}),f.jsx("span",{children:Math.round(i*.75)}),f.jsx("span",{children:Math.round(i*.5)}),f.jsx("span",{children:Math.round(i*.25)}),f.jsx("span",{children:"0"})]}),f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-sky-100/50 to-transparent rounded-full -translate-y-10 translate-x-10"})]})}function v1e({threads:t,unreadCount:e,onThreadClick:r}){const n=Jn(),{t:i}=Zi(),s=()=>{n("/messages")};return f.jsxs("div",{className:"relative bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2 cursor-pointer hover:bg-sky-50 dark:hover:bg-gray-700/50 -mx-2 px-2 py-1 rounded-lg transition-colors",onClick:s,children:[f.jsx("h2",{className:"text-black dark:text-white font-light text-lg tracking-tight",children:i("recent_messages","Recent Messages")}),e>0&&f.jsx("span",{className:"bg-sky-400 text-white text-xs rounded-full px-2 py-0.5 font-bold",children:e})]}),f.jsx("div",{children:t.length===0?f.jsx("div",{className:"text-zinc-400 dark:text-zinc-500 text-sm",children:i("no_recent_messages","No recent messages.")}):f.jsx("ul",{className:"divide-y divide-sky-100 dark:divide-gray-600",children:t.map(a=>f.jsxs("li",{className:"py-2 rounded-lg px-2 flex items-center cursor-pointer hover:bg-sky-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>r&&r(a),children:[f.jsx("span",{className:"font-light text-[13px] text-black dark:text-white flex-1 truncate",children:a.customerName||a.customerId}),a.unread>0&&f.jsx("span",{className:"ml-2 bg-sky-400 text-white text-xs rounded-full px-2 py-0.5 font-bold",children:a.unread})]},a.id))})})]})}const y1e=({reviews:t=[],onViewAllReviews:e})=>{const{t:r}=Zi();if(!t.length)return f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-4",children:f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx(Yh,{className:"text-sky-500",size:20}),r("recent_reviews","Recent Reviews")]})}),f.jsxs("div",{className:"text-center py-8",children:[f.jsx(Yh,{size:32,className:"text-gray-300 dark:text-gray-600 mx-auto mb-3"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r("no_recent_reviews","No recent reviews")}),f.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:r("new_reviews_appear_here","New customer reviews will appear here")})]})]});const n=i=>[...Array(5)].map((s,a)=>f.jsx(Z5,{size:12,className:`${a<i?"text-yellow-400 fill-current":"text-gray-300"}`},a));return f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[f.jsx(Yh,{className:"text-sky-500",size:20}),r("recent_reviews","Recent Reviews"),t.length>0&&f.jsx("span",{className:"bg-sky-100 dark:bg-sky-800 text-sky-700 dark:text-sky-300 text-xs px-2 py-1 rounded-full font-medium",children:t.length})]}),f.jsxs("button",{onClick:e,className:"text-sky-500 hover:text-sky-600 dark:text-sky-400 dark:hover:text-sky-300 text-sm font-medium flex items-center gap-1",children:[r("view_all","View All"),f.jsx(bj,{size:16})]})]}),f.jsx("div",{className:"space-y-3",children:t.slice(0,3).map(i=>f.jsx("div",{className:"flex gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:e,children:f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[f.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:i.productName}),f.jsx("div",{className:"flex items-center gap-1",children:n(i.rating)})]}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:r("by_customer","by {customerName}",{customerName:i.customerName})}),f.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:i.comment}),!i.pharmacyResponse&&f.jsx("div",{className:"mt-2",children:f.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",children:[f.jsx(Yh,{size:12,className:"mr-1"}),r("needs_response","Needs Response")]})})]})},i.id))}),t.length>3&&f.jsx("button",{onClick:e,className:"w-full mt-4 py-2 text-sm text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 font-medium transition-colors",children:r("view_more_reviews","View {count} more review{plural}",{count:t.length-3,plural:t.length-3>1?"s":""})})]})};function w1e(){const{t}=Zi(),[e,r]=F.useState([]),[n,i]=F.useState({}),[s,a]=F.useState(!0),[o,l]=F.useState("all"),[c,u]=F.useState("newest"),[p,g]=F.useState("all"),[m,y]=F.useState({}),[w,_]=F.useState({}),[E,L]=F.useState(!1),{user:I}=wn();F.useEffect(()=>{V()},[I]);const V=async()=>{if(I?.uid)try{a(!0);const N=Tr(lr(pt,"products"),zr("pharmacyId","==",I.uid)),j=await Ln(N),B={},te=[];j.docs.forEach(_e=>{const fe={id:_e.id,..._e.data()};B[_e.id]=fe,te.push(fe)}),i(B);const he=[];for(const _e of te){const fe=Tr(lr(pt,"products",_e.id,"reviews"),aa("createdAt","desc"));(await Ln(fe)).docs.forEach(W=>{he.push({id:W.id,productId:_e.id,productName:_e.name,...W.data()})})}r(he)}catch(N){console.error("Error fetching reviews:",N)}finally{a(!1)}},G=async(N,j,B)=>{if(B.trim())try{const te=ir(pt,"products",j,"reviews",N);await ks(te,{pharmacyResponse:B,responseDate:ia(),respondedBy:I.uid}),r(he=>he.map(_e=>_e.id===N?{..._e,pharmacyResponse:B,responseDate:new Date}:_e)),y(he=>({...he,[N]:""})),alert(t("response_submitted_success","Response submitted successfully!"))}catch(te){console.error("Error submitting response:",te),alert(t("response_submit_failed","Failed to submit response. Please try again."))}},X=()=>{let N=e;return o!=="all"&&(N=N.filter(j=>j.productId===o)),p!=="all"&&(p==="positive"?N=N.filter(j=>j.rating>=4):p==="negative"?N=N.filter(j=>j.rating<=2):p==="responded"?N=N.filter(j=>j.pharmacyResponse):p==="unresponded"&&(N=N.filter(j=>!j.pharmacyResponse))),N.sort((j,B)=>c==="newest"?new Date(B.createdAt?.seconds*1e3)-new Date(j.createdAt?.seconds*1e3):c==="oldest"?new Date(j.createdAt?.seconds*1e3)-new Date(B.createdAt?.seconds*1e3):c==="highest"?B.rating-j.rating:c==="lowest"?j.rating-B.rating:0),N},R=N=>[...Array(5)].map((j,B)=>f.jsx(Z5,{className:`h-4 w-4 ${B<N?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},B)),C=(()=>{const N=e.length,j=e.filter(he=>he.pharmacyResponse).length,B=e.length>0?e.reduce((he,_e)=>he+_e.rating,0)/e.length:0,te=e.filter(he=>he.rating>=4).length;return{total:N,responded:j,avgRating:B,positiveReviews:te}})(),D=X();return s?f.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 overflow-hidden",children:f.jsxs("div",{className:"text-center py-16",children:[f.jsxs("div",{className:"relative mx-auto w-12 h-12 mb-6",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 dark:border-gray-600"}),f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-sky-500 dark:border-sky-400 border-t-transparent absolute top-0 left-0"})]}),f.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:t("loading_reviews","Loading your reviews...")}),f.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-1",children:t("loading_please_wait","Please wait while we fetch your data")})]})}):f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 overflow-hidden",children:[f.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:t("reviews_management","Reviews Management")}),f.jsxs("button",{onClick:()=>L(!E),className:"flex items-center justify-center gap-2 px-4 py-2 text-sm bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[f.jsx(dee,{className:"h-4 w-4"}),t("filters_sort","Filters & Sort"),E?f.jsx(lee,{className:"h-4 w-4"}):f.jsx(oee,{className:"h-4 w-4"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[f.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200 dark:border-gray-600 shadow-sm",children:[f.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:C.total}),f.jsx("div",{className:"text-xs sm:text-sm text-blue-600 font-medium",children:t("total_reviews","Total Reviews")})]}),f.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200 shadow-sm",children:[f.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:C.responded}),f.jsx("div",{className:"text-xs sm:text-sm text-green-600 font-medium",children:t("responded","Responded")})]}),f.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl border border-yellow-200 shadow-sm",children:[f.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:C.avgRating.toFixed(1)}),f.jsx("div",{className:"text-xs sm:text-sm text-yellow-600 font-medium",children:t("avg_rating","Avg Rating")})]}),f.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200 shadow-sm",children:[f.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:C.positiveReviews}),f.jsx("div",{className:"text-xs sm:text-sm text-purple-600 font-medium",children:t("positive_reviews","Positive (4+ )")})]})]}),E&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("product","Product")}),f.jsxs("select",{value:o,onChange:N=>l(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[f.jsx("option",{value:"all",children:t("all_products","All Products")}),Object.values(n).map(N=>f.jsx("option",{value:N.id,children:N.name},N.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("sort_by","Sort By")}),f.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[f.jsx("option",{value:"newest",children:t("newest_first","Newest First")}),f.jsx("option",{value:"oldest",children:t("oldest_first","Oldest First")}),f.jsx("option",{value:"highest",children:t("highest_rating","Highest Rating")}),f.jsx("option",{value:"lowest",children:t("lowest_rating","Lowest Rating")})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("filter_by","Filter By")}),f.jsxs("select",{value:p,onChange:N=>g(N.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[f.jsx("option",{value:"all",children:t("all_reviews","All Reviews")}),f.jsx("option",{value:"positive",children:t("positive_4_stars","Positive (4+ stars)")}),f.jsx("option",{value:"negative",children:t("negative_1_2_stars","Negative (1-2 stars)")}),f.jsx("option",{value:"responded",children:t("responded","Responded")}),f.jsx("option",{value:"unresponded",children:t("needs_response","Needs Response")})]})]})]})]}),f.jsx("div",{className:"divide-y divide-gray-100",children:D.length===0?f.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[f.jsx("div",{className:"bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:f.jsx(Yh,{className:"h-10 w-10 text-gray-400"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t("no_reviews_found","No reviews found")}),f.jsx("p",{className:"text-gray-600 text-sm max-w-md mx-auto",children:e.length===0?t("no_reviews_yet_message","You don't have any reviews yet. Encourage customers to leave reviews by providing excellent service and follow-up communication!"):t("no_reviews_match_filters","No reviews match your current filters. Try adjusting your search criteria.")})]}):D.map((N,j)=>f.jsx("div",{className:"p-4 sm:p-6 hover:bg-gray-50 transition-all duration-200 animate-fade-in",style:{animationDelay:`${j*.1}s`},children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:N.createdAt&&new Date(N.createdAt.seconds*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),!N.pharmacyResponse&&f.jsx("span",{className:"text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-full font-medium",children:t("needs_response","Needs Response")})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Pl,{name:N.productName,image:n[N.productId]?.image,category:n[N.productId]?.category,size:40,className:"flex-shrink-0"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base line-clamp-1",title:N.productName,children:N.productName}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:n[N.productId]?.category||t("medicine","Medicine")})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"flex",children:R(N.rating)}),f.jsxs("span",{className:"text-sm text-gray-600",children:["(",N.rating,"/5)"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm text-gray-600",children:[t("reviewed_by","Reviewed by:"),":"]}),f.jsx("span",{className:"font-medium text-gray-800 text-sm",children:N.customerName||N.name}),N.verified&&f.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-medium",children:t("verified","Verified")})]}),f.jsx("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:f.jsx("p",{className:"text-gray-800 text-sm sm:text-base leading-relaxed",children:N.comment})}),N.helpful>0&&f.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[f.jsx("span",{children:""}),f.jsx("span",{children:t("people_found_helpful","{count} people found this helpful",{count:N.helpful})})]}),N.pharmacyResponse&&f.jsxs("div",{className:"ml-0 sm:ml-4 bg-gradient-to-r from-blue-50 to-sky-50 dark:from-blue-900/20 dark:to-sky-900/20 rounded-lg p-3 sm:p-4 border-l-4 border-blue-400 dark:border-blue-500 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(ZE,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),f.jsx("span",{className:"text-sm font-semibold text-blue-900 dark:text-blue-300",children:t("your_response","Your Response")}),f.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 ml-auto",children:N.pharmacyResponse.respondedAt&&new Date(N.pharmacyResponse.respondedAt.seconds*1e3).toLocaleDateString()})]}),f.jsx("p",{className:"text-blue-900 dark:text-blue-200 text-sm leading-relaxed",children:N.pharmacyResponse.message||N.pharmacyResponse})]}),!N.pharmacyResponse&&f.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[f.jsxs("button",{onClick:()=>_(B=>({...B,[N.id]:!B[N.id]})),className:"flex items-center gap-2 text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 text-sm font-medium transition-colors",children:[f.jsx(ZE,{className:"h-4 w-4"}),w[N.id]?t("cancel_response","Cancel Response"):t("respond_to_review","Respond to Review")]}),w[N.id]&&f.jsxs("div",{className:"mt-3 space-y-3",children:[f.jsxs("div",{className:"relative",children:[f.jsx("textarea",{value:m[N.id]||"",onChange:B=>y(te=>({...te,[N.id]:B.target.value})),placeholder:t("write_thoughtful_response","Write a thoughtful response to this review..."),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 dark:focus:ring-sky-400 dark:focus:border-sky-400 resize-none text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",rows:4,maxLength:500}),f.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400 dark:text-gray-500",children:[(m[N.id]||"").length,"/500"]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[f.jsx("button",{onClick:()=>G(N.id,N.productId,m[N.id]||""),className:"flex-1 sm:flex-none px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors text-sm font-medium disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",disabled:!m[N.id]?.trim(),children:t("submit_response","Submit Response")}),f.jsx("button",{onClick:()=>_(B=>({...B,[N.id]:!1})),className:"flex-1 sm:flex-none px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:t("cancel","Cancel")})]})]})]})]})},N.id))})]})}const _1e=({review:t,onDismiss:e,onViewReview:r})=>{const[n,i]=F.useState(!1);F.useEffect(()=>{i(!0);const l=setTimeout(()=>{s()},5e3);return()=>clearTimeout(l)},[]);const s=()=>{i(!1),setTimeout(()=>{e()},300)},a=()=>{r(),s()},o=l=>[...Array(5)].map((c,u)=>f.jsx(Z5,{size:12,className:`${u<l?"text-yellow-400 fill-current":"text-gray-300"}`},u));return f.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${n?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:f.jsxs("div",{className:"bg-white border-l-4 border-sky-500 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-lg p-4 max-w-sm",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Yh,{size:16,className:"text-sky-500"}),f.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"New Review"})]}),f.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:f.jsx(t2,{size:16})})]}),f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.productName}),f.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o(t.rating),f.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["by ",t.customerName]})]})]}),f.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.comment}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{onClick:s,className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-800 transition-colors",children:"Dismiss"}),f.jsx("button",{onClick:a,className:"px-3 py-1 bg-sky-500 text-white text-xs rounded hover:bg-sky-600 transition-colors",children:"View & Respond"})]})]})})},b1e=({newReviews:t,onDismissReview:e,onViewReview:r})=>{const[n,i]=F.useState([]);F.useEffect(()=>{if(t.length>0){const o=t[0];n.some(c=>c.id===o.id)||i(c=>[o,...c.slice(0,2)])}},[t]);const s=o=>{i(l=>l.filter(c=>c.id!==o)),e(o)},a=o=>{i(l=>l.filter(c=>c.id!==o)),r(o)};return f.jsx(f.Fragment,{children:n.map((o,l)=>f.jsx("div",{style:{transform:`translateY(${l*80}px)`,zIndex:50-l},className:"absolute",children:f.jsx(_1e,{review:o,onDismiss:()=>s(o.id),onViewReview:()=>a(o.id)})},o.id))})};function k1e(){const[t,e]=F.useState([]),[r,n]=F.useState(0),{user:i}=wn();return F.useEffect(()=>{if(!i?.uid)return;const o=Tr(lr(pt,"products"),zr("pharmacyId","==",i.uid)),l=Kn(o,c=>{const u=[];return e([]),n(0),c.docs.forEach(p=>{const g={id:p.id,...p.data()},m=new Date;m.setDate(m.getDate()-7);const y=Tr(lr(pt,"products",p.id,"reviews"),zr("createdAt",">=",m),aa("createdAt","desc"),$0(20)),w=Kn(y,_=>{const L=_.docs.map(I=>({id:I.id,productId:p.id,productName:g.name,productImage:g.image,...I.data(),createdAt:I.data().createdAt?.toDate()||new Date})).filter(I=>!I.pharmacyResponse);e(I=>{const G=[...I.filter(X=>X.productId!==p.id),...L].sort((X,R)=>R.createdAt-X.createdAt).slice(0,50);return n(G.length),G})});u.push(w)}),()=>{u.forEach(p=>p())}});return()=>l()},[i?.uid]),{newReviews:t,unreadReviewsCount:r,markReviewsAsRead:()=>{e([]),n(0)},markReviewAsResponded:o=>{e(l=>{const c=l.filter(u=>u.id!==o);return n(c.length),c})}}}function S1e({onClick:t,disabled:e}){return Ps.createPortal(f.jsx("button",{className:`fixed bottom-[10rem] right-6 z-[100] bg-sky-500 text-white rounded-full shadow-lg\r
                 w-12 h-12 flex items-center justify-center disabled:opacity-0 disabled:cursor-not-allowed`,"aria-label":"Add Product",onClick:t,disabled:e,children:f.jsx("span",{className:"text-3xl font-bold leading-none",children:"+"})}),document.body)}function ZM(){const[t,e]=F.useState([]),{profile:r,user:n}=wn(),{t:i}=Zi(),s=Jn(),[a,o]=F.useState(!1),[l,c]=F.useState([]),[u,p]=F.useState({type:"month",value:""}),[g,m]=F.useState(null),[y,w]=F.useState(0),[_,E]=F.useState(0),[L,I]=F.useState(0),[V,G]=F.useState([]),[X,R]=F.useState([]),[A,C]=F.useState([]),[D,N]=F.useState(0),[j,B]=F.useState(!1),[te,he]=F.useState("overview"),[_e,fe]=F.useState(0),[ie,W]=F.useState(0),[ue,Y]=F.useState(0),[P,q]=F.useState(0),[K,J]=F.useState(0),[ce,ye]=F.useState(0),{newReviews:ke,unreadReviewsCount:ae,markReviewsAsRead:be}=k1e(),De=()=>f.jsxs("header",{className:"sm:hidden fixed top-0 left-0 right-0 z-[100] border-b border-gray-100/50 dark:border-gray-700/50 shadow-sm px-4 py-4 transition-all duration-200",style:{backgroundColor:document.documentElement.classList.contains("dark")?"rgba(17, 24, 39, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[f.jsx("h1",{className:"mt-8 text-[25px] font-light text-black dark:text-white leading-none animate-slideInLeft mb-4",children:i("my_dashboard","My Dashboard").split(" ").map((se,Pe)=>f.jsxs("span",{children:[se,Pe===0?f.jsx("br",{}):""]},Pe))}),f.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[f.jsx("button",{onClick:()=>he("overview"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${te==="overview"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:i("overview","Overview")}),f.jsxs("button",{onClick:()=>{he("reviews"),ae>0&&be()},className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors relative ${te==="reviews"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i("reviews","Reviews"),ae>0&&f.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold",children:ae>9?"9+":ae})]})]})]});return F.useEffect(()=>{async function se(){if(r&&r.role==="pharmacy"){const Pe=await oj(5,r.uid);e(Pe)}else e([])}se()},[r]),F.useEffect(()=>{async function se(){if(!r||r.role!=="pharmacy")return c([]);const Pe=Tr(lr(pt,"orders"),zr("pharmacyId","==",r.uid)),me=(await Ln(Pe)).docs.map(re=>re.data());let Oe={},Me=re=>"";u.type==="date"?Me=re=>{const je=re.createdAt?.toDate?.()||new Date(re.createdAt);return je?je.toLocaleDateString("en-GB"):""}:u.type==="month"?Me=re=>{const je=re.createdAt?.toDate?.()||new Date(re.createdAt);return je?`${je.getMonth()+1}/${je.getFullYear()}`:""}:u.type==="year"&&(Me=re=>{const je=re.createdAt?.toDate?.()||new Date(re.createdAt);return je?`${je.getFullYear()}`:""}),me.forEach(re=>{const je=Me(re);je&&(u.value&&!je.startsWith(u.value)||(Oe[je]=(Oe[je]||0)+(re.total||0)))});const Qe=Object.entries(Oe).map(([re,je])=>({label:re,value:je}));if(Qe.sort((re,je)=>re.label.localeCompare(je.label)),c(Qe),Qe.length>0){const re=Qe.reduce((je,st)=>st.value>je.value?st:je,Qe[0]);m(re)}else m(null)}se()},[r,u]),F.useEffect(()=>{async function se(){if(!r||r.role!=="pharmacy")return;const Pe=r.uid||n?.uid;if(!Pe)return;const Re=await Ln(Tr(lr(pt,"products"),zr("pharmacyId","==",Pe)));w(Re.size);const me=Re.docs.filter(bt=>{const _t=bt.data(),vt=_t.stock||0,St=_t.lowStockThreshold||10;return vt<=St});q(me.length);const Oe=await Ln(Tr(lr(pt,"orders"),zr("pharmacyId","==",Pe)));E(Oe.size);let Me=0,Qe=[];const re=new Date().getMonth(),je=new Date().getFullYear(),st=re===0?11:re-1,At=re===0?je-1:je;let It=0,Le=0,qe=0;const We=new Set,dt=[];if(Oe.forEach(bt=>{const _t=bt.data();Me+=_t.total||0,Qe.push({id:bt.id,..._t});const vt=_t.createdAt?.toDate?.()||new Date(_t.createdAt),St=vt.getMonth(),Xt=vt.getFullYear();St===re&&Xt===je&&It++,St===st&&Xt===At&&Le++,(_t.status==="pending"||_t.status==="processing")&&qe++,St===re&&Xt===je&&_t.customerId&&We.add(_t.customerId),(_t.status==="completed"||_t.status==="delivered")&&dt.push(_t)}),I(Me),J(It),ye(Le),Y(qe),fe(We.size),dt.length>0){const bt=dt.reduce((_t,vt)=>_t+(vt.total||0),0);W(bt/dt.length)}else W(0);Qe.sort((bt,_t)=>(_t.createdAt?.toMillis?.()||0)-(bt.createdAt?.toMillis?.()||0)),G(Qe.slice(0,3))}se()},[r,n]),F.useEffect(()=>{async function se(){if(!r||r.role!=="pharmacy"){R([]);return}const Pe=r.uid||n?.uid;if(!Pe)return;const Re=Tr(lr(pt,"orders"),zr("pharmacyId","==",Pe)),Oe=(await Ln(Re)).docs.map(je=>je.data()),Me=new Date,Qe=[];for(let je=5;je>=0;je--){const st=new Date(Me.getFullYear(),Me.getMonth()-je,1);Qe.push({label:st.toLocaleString("default",{month:"short"}),year:st.getFullYear(),month:st.getMonth()+1})}const re=Qe.map(({label:je,year:st,month:At})=>{const It=Oe.filter(Le=>{const qe=Le.createdAt?.toDate?.()||new Date(Le.createdAt);return qe.getFullYear()===st&&qe.getMonth()+1===At}).length;return{label:je,value:It}});R(re)}se()},[r,n]),F.useEffect(()=>{async function se(){if(!r||r.role!=="pharmacy"){C([]),N(0);return}const Pe=r.uid||n?.uid;if(!Pe)return;const Re=Tr(lr(pt,"threads"),zr("vendorId","==",Pe),aa("lastAt","desc"),$0(3)),Oe=(await Ln(Re)).docs.map(Qe=>({id:Qe.id,...Qe.data()}));C(Oe.map(Qe=>({...Qe,unread:Qe.unread?.[Pe]||0})));const Me=Oe.reduce((Qe,re)=>Qe+(re.unread?.[Pe]||0),0);N(Me)}se()},[r,n]),f.jsxs(f.Fragment,{children:[typeof window<"u"&&Ps.createPortal(f.jsx(De,{}),document.body),f.jsxs("div",{className:"pt-32 sm:pt-10 pb-32 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-0 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col animate-fadeInUp",children:[f.jsxs("header",{className:"hidden sm:block pb-2 pt-4",children:[f.jsx("h1",{className:"text-[25px] font-light text-black dark:text-white leading-none animate-slideInLeft mb-4",children:i("my_dashboard","My Dashboard").split(" ").map((se,Pe)=>f.jsxs("span",{children:[se,Pe===0?f.jsx("br",{}):""]},Pe))}),f.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1 mb-2",children:[f.jsx("button",{onClick:()=>he("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${te==="overview"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:i("overview","Overview")}),f.jsxs("button",{onClick:()=>{he("reviews"),ae>0&&be()},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors relative ${te==="reviews"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i("reviews","Reviews"),ae>0&&f.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold",children:ae>9?"9+":ae})]})]})]}),f.jsx("main",{className:"flex-1 px-3 sm:px-4 py-2 sm:py-6 relative w-full mt-4",children:te==="overview"?f.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-[1fr_420px] gap-6 items-start pb-16 mt-10",children:[f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"bg-gradient-to-br from-[#F7F7F7] to-[#F0F8FF] dark:from-gray-800 dark:to-gray-900 rounded-2xl border border-sky-500 dark:border-sky-400 p-6 relative overflow-hidden card-interactive animate-fadeInUp",style:{animationDelay:"0.1s"},children:[f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-sky-100/40 dark:from-sky-800/40 to-transparent rounded-full -translate-y-10 translate-x-10"}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h2",{className:"text-black dark:text-white font-light text-xl tracking-tight animate-slideInLeft",style:{animationDelay:"0.2s"},children:i("top_products","Top Products")}),f.jsxs("div",{className:"px-3 py-1 bg-sky-100 dark:bg-sky-800 rounded-full text-xs text-sky-700 dark:text-sky-300 font-medium animate-bounceIn",style:{animationDelay:"0.3s"},children:[" ",i("best_sellers","Best Sellers")]})]}),t.length===0?f.jsxs("div",{className:"text-center py-8 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("div",{className:"text-zinc-400 dark:text-zinc-500 text-sm",children:i("no_sales_data","No sales data yet")}),f.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500 mt-1",children:i("start_selling_message","Start selling products to see your top performers")})]}):f.jsx("div",{className:"flex flex-col gap-4",children:t.map((se,Pe)=>f.jsxs("div",{className:"group hover:bg-white/50 dark:hover:bg-gray-700/50 rounded-xl p-3 transition-all duration-200 relative",children:[f.jsx("div",{className:`absolute -left-2 -top-2 w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ${Pe===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":Pe===1?"bg-gradient-to-br from-gray-400 to-gray-600":Pe===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-sky-400 to-sky-600"}`,children:Pe+1}),f.jsxs("div",{className:"flex items-center justify-between ml-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-medium text-[14px] text-zinc-800 dark:text-zinc-200 truncate max-w-[140px] group-hover:text-sky-700 dark:group-hover:text-sky-400 transition-colors",children:se.name}),f.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:i("units_sold","{count} units sold",{count:se.sold})})]}),f.jsx("div",{className:"flex-1 mx-4 relative",children:f.jsxs("div",{className:"h-4 bg-gradient-to-r from-sky-100 to-blue-100 rounded-full relative overflow-hidden",children:[f.jsx("div",{className:`h-4 rounded-full transition-all duration-1000 ease-out relative ${Pe===0?"bg-gradient-to-r from-yellow-400 to-yellow-500":Pe===1?"bg-gradient-to-r from-gray-400 to-gray-500":Pe===2?"bg-gradient-to-r from-orange-400 to-orange-500":"bg-gradient-to-r from-sky-400 to-sky-500"}`,style:{width:`${Math.max(15,se.sold/(t[0]?.sold||1)*100)}%`,boxShadow:"0 2px 8px rgba(54, 165, 255, 0.3)"},children:f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 transform -skew-x-12 animate-pulse"})}),f.jsxs("div",{className:"absolute top-0 right-2 h-4 flex items-center text-xs font-medium text-white",style:{left:`${Math.max(15,se.sold/(t[0]?.sold||1)*100)}%`,transform:"translateX(-100%)"},children:[Math.round(se.sold/(t[0]?.sold||1)*100),"%"]})]})}),f.jsxs("div",{className:"text-right min-w-[50px]",children:[f.jsx("span",{className:`font-bold text-lg ${Pe===0?"text-yellow-600 dark:text-yellow-400":Pe===1?"text-gray-600 dark:text-gray-400":Pe===2?"text-orange-600 dark:text-orange-400":"text-sky-600 dark:text-sky-400"}`,children:se.sold}),f.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:i("units","units")})]})]}),f.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-hover:border-sky-200 transition-all duration-200"})]},se.id||Pe))})]})]}),f.jsxs("div",{className:"flex gap-2 w-full",children:[f.jsxs("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700",onClick:()=>s(`/add-product?pharmacyId=${r?.uid||n?.uid}`),children:["+ ",i("add_product","Add Product")]}),f.jsx("button",{className:"flex-1 rounded-full border border-sky-600 dark:border-sky-400 text-sky-600 dark:text-sky-400 text-[13px] font-light py-2 hover:bg-[#E3F3FF] dark:hover:bg-sky-900/30",onClick:()=>o(!0),children:i("bulk_upload","Bulk Upload")})]}),a&&f.jsx(HO,{pharmacyId:r?.uid||n?.uid,onClose:()=>o(!1)}),f.jsx("div",{children:f.jsx(x1e,{data:X})})]}),f.jsxs("div",{className:"flex flex-col gap-6 pb-8 relative z-0",children:[f.jsx("div",{className:"relative z-0",children:f.jsx(m1e,{data:l,filter:u,onFilterChange:p,topPeriod:g})}),f.jsx("div",{children:f.jsx(g1e,{cards:[f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_products","Total Products")}),f.jsx("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:y})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_orders","Total Orders")}),f.jsx("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:_})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_revenue","Total Revenue")}),f.jsxs("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:["",L.toLocaleString()]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("active_customers","Active Customers")}),f.jsx("div",{className:"text-[19px] font-semibold text-emerald-600 dark:text-emerald-400 tracking-tight",children:_e}),f.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("this_month","This Month")})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("avg_order_value","Avg Order Value")}),f.jsxs("div",{className:"text-[19px] font-semibold text-purple-600 dark:text-purple-400 tracking-tight",children:["",ie.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("pending_orders","Pending Orders")}),f.jsx("div",{className:"text-[19px] font-semibold text-orange-600 dark:text-orange-400 tracking-tight",children:ue}),f.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("awaiting","Awaiting")})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("low_stock_items","Low Stock Items")}),f.jsx("div",{className:"text-[19px] font-semibold text-red-600 dark:text-red-400 tracking-tight",children:P}),f.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("need_restock","Need Restock")})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("orders_this_month","Orders This Month")}),f.jsx("div",{className:"text-[19px] font-semibold text-blue-600 dark:text-blue-400 tracking-tight",children:K}),f.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:ce>0?K>=ce?f.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:[" +",((K-ce)/ce*100).toFixed(0),"%"]}):f.jsxs("span",{className:"text-red-500 dark:text-red-400",children:[" -",((ce-K)/ce*100).toFixed(0),"%"]}):f.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:i("no_comparison","No comparison")})})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("pending_reviews","Pending Reviews")}),f.jsx("div",{className:"text-[19px] font-semibold text-yellow-600 dark:text-yellow-400 tracking-tight",children:ae}),f.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("need_response","Need Response")})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("recent_reviews","Recent Reviews")}),f.jsx("div",{className:"text-[19px] font-semibold text-indigo-600 dark:text-indigo-400 tracking-tight",children:ke.length}),f.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("last_24h","Last 24h")})]})]})}),P>0&&f.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border border-red-200 dark:border-red-700 rounded-2xl p-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:f.jsx("span",{className:"text-white text-sm font-bold",children:"!"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-red-700 dark:text-red-400 font-medium text-sm",children:i("low_stock_alert","Low Stock Alert")}),f.jsx("div",{className:"text-red-600 dark:text-red-500 text-xs",children:i("items_need_restocking","{count} item{plural} need restocking",{count:P,plural:P>1?"s":""})})]})]}),f.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 rounded-lg px-3 py-2",children:[" ",i("inventory_tip","Check your inventory to avoid running out of popular products")]})]}),f.jsx("div",{children:f.jsx(v1e,{threads:A,unreadCount:D,onThreadClick:se=>s(`/messages/${se.id}`)})}),f.jsx("div",{children:f.jsx(y1e,{reviews:ke.slice(0,5),onViewAllReviews:()=>{he("reviews"),be()}})})]})]}):f.jsx("div",{className:"pb-16 mt-10",children:f.jsx(w1e,{})})}),f.jsx(S1e,{onClick:()=>s(`/add-product?pharmacyId=${r?.uid||n?.uid}`)}),f.jsx(b1e,{newReviews:ke,onDismissReview:se=>{},onViewReview:se=>{he("reviews"),be()}})]})]})}function E1e(){const[t,e]=F.useState(0),[r,n]=F.useState(null),[i,s]=F.useState(null),[a,o]=F.useState(!1),l=F.useRef(null),c=F.useRef(0),u=F.useRef(null),p=Jn(),g=Ll(),{profile:m}=wn(),y=["/","/orders","/messages","/cart","/profile"],w=["/dashboard","/orders","/messages","/profile"],_=m?.role==="pharmacy"?w:y,E=_.indexOf(g.pathname),L=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,I=C=>{switch(C){case"/":return f.jsx(U_,{});case"/orders":return f.jsx(Nj,{});case"/messages":return f.jsx(Ij,{});case"/cart":return f.jsx(Pj,{});case"/profile":return m?.role==="pharmacy"?f.jsx(JM,{}):f.jsx(Fj,{});case"/dashboard":return f.jsx(ZM,{});default:return null}},V=C=>{if(!L)return;const N=C.touches[0].clientX,j=window.innerWidth,B=50,te=N<B,he=N>j-B;if(!te&&!he)return;l.current=N,c.current=N;let _e=null,fe=-1;he&&E<_.length-1?(_e="left",fe=E+1):te&&E>0&&(_e="right",fe=E-1),_e&&fe!==-1&&(n(_e),s(_[fe]),o(!0))},G=C=>{if(!a||l.current===null)return;C.preventDefault();const N=C.touches[0].clientX,j=N-l.current,B=window.innerWidth;c.current=N,u.current&&cancelAnimationFrame(u.current),u.current=requestAnimationFrame(()=>{const te=B*.7;let he=Math.abs(j)/te;const _e=he<.5?2*he*he:-1+(4-2*he)*he;he=Math.min(_e,1),r==="left"&&j<0||r==="right"&&j>0?(e(he),he>.25&&t<=.25&&"vibrate"in navigator&&navigator.vibrate(30)):Math.abs(j)>15&&X()})},X=()=>{if(!a)return;if(t>.25&&i)"vibrate"in navigator&&navigator.vibrate([50,50,100]),e(1),setTimeout(()=>{p(i,{state:{slide:r==="left"?"left":"right"}})},200);else{"vibrate"in navigator&&navigator.vibrate(25),(()=>{let j=t;const B=()=>{j*=.85,e(j),j>.01?requestAnimationFrame(B):(e(0),n(null),s(null),o(!1),l.current=null)};requestAnimationFrame(B)})();return}setTimeout(()=>{e(0),n(null),s(null),o(!1),l.current=null},250)};F.useEffect(()=>{if(!L)return;const C=document.body;return C.addEventListener("touchstart",V,{passive:!0}),C.addEventListener("touchmove",G,{passive:!1}),C.addEventListener("touchend",X,{passive:!0}),C.addEventListener("touchcancel",X,{passive:!0}),()=>{C.removeEventListener("touchstart",V),C.removeEventListener("touchmove",G),C.removeEventListener("touchend",X),C.removeEventListener("touchcancel",X),u.current&&cancelAnimationFrame(u.current)}},[L,a,t,r,E]);const R=()=>{if(!a||!r)return{};const C=t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,D=r==="left"?-C*100:C*100,N=1-C*.05,j=r==="left"?C*3:-C*3;return{transform:`translateX(${D}%) scale(${N}) rotateY(${j}deg)`,transformOrigin:r==="left"?"right center":"left center",transition:a?"none":"transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",filter:`brightness(${1-C*.1})`}},A=()=>{if(!a||!r)return{display:"none"};const C=t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,D=r==="left"?100-C*100:-100+C*100,N=.95+C*.05,j=r==="left"?(1-C)*-5:(1-C)*5;return{transform:`translateX(${D}%) scale(${N}) rotateY(${j}deg)`,transformOrigin:r==="left"?"left center":"right center",transition:a?"none":"transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"white",zIndex:a?10:-1,boxShadow:r==="left"?`-10px 0 30px rgba(0,0,0,${.1*(1-C)})`:`10px 0 30px rgba(0,0,0,${.1*(1-C)})`,filter:`brightness(${.9+C*.1})`}};return f.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[f.jsxs("div",{style:R(),className:"relative",children:[f.jsx(Zb,{}),a&&f.jsx("div",{className:"absolute inset-0 bg-black pointer-events-none",style:{opacity:t*.2,zIndex:5,transition:"opacity 0.1s ease-out"}})]}),a&&i&&f.jsx("div",{style:A(),children:f.jsxs("div",{className:"h-full bg-white relative",children:[I(i),t<.6&&f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/95 to-white/90 backdrop-blur-sm flex items-center justify-center pointer-events-none",style:{opacity:Math.max(0,1-t*2),transition:"opacity 0.15s ease-out"},children:f.jsxs("div",{className:"text-center space-y-3",children:[f.jsxs("div",{className:"relative w-14 h-14 mx-auto",children:[f.jsxs("svg",{className:"w-14 h-14 transform -rotate-90",viewBox:"0 0 100 100",children:[f.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:"#e5e7eb",strokeWidth:"4"}),f.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:"url(#progressGradient)",strokeWidth:"4",strokeDasharray:`${t*188.4} 188.4`,className:"transition-all duration-75 ease-out",strokeLinecap:"round"}),f.jsx("defs",{children:f.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[f.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),f.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})})]}),f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("span",{className:"text-xs font-semibold text-sky-600",children:[Math.round(t*100),"%"]})})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-xs font-medium text-gray-700 mb-0.5",children:t<.25?"Keep swiping...":"Almost there!"}),f.jsx("div",{className:"text-[10px] text-gray-500",children:t<.25?"Continue to preview":"Release to navigate"})]}),f.jsx("div",{className:"flex items-center justify-center space-x-1",children:[.1,.15,.2,.25].map((C,D)=>f.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-200 ${t>C?"bg-gradient-to-r from-sky-500 to-cyan-500 scale-110":"bg-gray-300 scale-100"}`},D))})]})})]})})]})}const C1e=()=>{const{getSetting:t}=Y2();F.useEffect(()=>{t(Nr.HIGH_CONTRAST)?document.documentElement.classList.add("high-contrast"):document.documentElement.classList.remove("high-contrast")},[t(Nr.HIGH_CONTRAST)]),F.useEffect(()=>{t(Nr.REDUCE_MOTION)?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")},[t(Nr.REDUCE_MOTION)]),F.useEffect(()=>{const e=t(Nr.THEME_MODE),r=document.documentElement;if(r.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;r.classList.add(n?"dark":"light");const i=window.matchMedia("(prefers-color-scheme: dark)"),s=a=>{r.classList.remove("light","dark"),r.classList.add(a.matches?"dark":"light")};return i.addEventListener("change",s),()=>i.removeEventListener("change",s)}else r.classList.add(e)},[t(Nr.THEME_MODE)]),F.useEffect(()=>{const e=t(Nr.FONT_SIZE),r=document.documentElement;r.classList.remove("font-small","font-medium","font-large"),r.classList.add(`font-${e}`)},[t(Nr.FONT_SIZE)]),F.useEffect(()=>{const e=t(Nr.LANGUAGE);document.documentElement.lang=e},[t(Nr.LANGUAGE)])};function T1e({color:t="black",...e}){return f.jsx("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:f.jsx("path",{d:"M1.38004 6.00487L0.919293 5.79263L0.919001 5.79327L1.38004 6.00487ZM3.22754 4.0549L2.89744 3.66972L2.89735 3.6698L3.22754 4.0549ZM4.24209 3.18542L3.91215 2.80011L3.91199 2.80024L4.24209 3.18542ZM12.1657 3.18441L12.4958 2.79923L12.4958 2.79918L12.1657 3.18441ZM13.1803 4.05388L13.5107 3.66894L13.5104 3.6687L13.1803 4.05388ZM15.0268 6.00385L14.5657 6.21545L14.566 6.21609L15.0268 6.00385ZM10.233 17.0371C10.233 17.3173 10.4601 17.5444 10.7403 17.5444C11.0205 17.5444 11.2476 17.3173 11.2476 17.0371H10.7403H10.233ZM5.16027 17.0371C5.16027 17.3173 5.38738 17.5444 5.66755 17.5444C5.94771 17.5444 6.17482 17.3173 6.17482 17.0371H5.66755H5.16027ZM1.10205 8.6772H1.60933C1.60933 7.2531 1.62014 6.69785 1.84108 6.21646L1.38004 6.00487L0.919001 5.79327C0.583964 6.52326 0.594774 7.34577 0.594774 8.6772H1.10205ZM1.38004 6.00487L1.84078 6.2171C2.06254 5.7357 2.4764 5.36715 3.55773 4.44L3.22754 4.0549L2.89735 3.6698C1.88667 4.53637 1.25554 5.06266 0.919294 5.79263L1.38004 6.00487ZM3.22754 4.0549L3.55764 4.44008L4.57219 3.5706L4.24209 3.18542L3.91199 2.80024L2.89744 3.66972L3.22754 4.0549ZM4.24209 3.18542L4.57204 3.57074C5.5283 2.75189 6.2094 2.16896 6.79004 1.78503C7.35875 1.40899 7.77821 1.26082 8.20392 1.26082V0.75354V0.246264C7.50348 0.246264 6.88809 0.503911 6.23046 0.938751C5.58476 1.3657 4.84802 1.99872 3.91215 2.80011L4.24209 3.18542ZM8.20392 0.75354V1.26082C8.62982 1.26082 9.04961 1.40889 9.61834 1.78463C10.199 2.16824 10.8801 2.7509 11.8357 3.56963L12.1657 3.18441L12.4958 2.79918C11.5603 1.99767 10.8235 1.3649 10.1776 0.938137C9.51974 0.503509 8.90417 0.246264 8.20392 0.246264V0.75354ZM12.1657 3.18441L11.8356 3.56959L12.8502 4.43906L13.1803 4.05388L13.5104 3.6687L12.4958 2.79923L12.1657 3.18441ZM13.1803 4.05388L12.8499 4.43882C13.9308 5.36653 14.345 5.73455 14.5657 6.21545L15.0268 6.00385L15.4878 5.79225C15.1526 5.06178 14.5197 4.53496 13.5107 3.66894L13.1803 4.05388ZM15.0268 6.00385L14.566 6.21609C14.7876 6.69715 14.7985 7.25196 14.7985 8.67618H15.3058H15.8131C15.8131 7.34488 15.8239 6.52193 15.4875 5.79162L15.0268 6.00385ZM15.3058 8.67618H14.7985V12.9789H15.3058H15.8131V8.67618H15.3058ZM15.3058 12.9789H14.7985C14.7985 13.95 14.7974 14.627 14.7287 15.1377C14.662 15.6338 14.5399 15.8965 14.3526 16.0839L14.7113 16.4426L15.07 16.8013C15.4771 16.3941 15.6523 15.8818 15.7342 15.273C15.8141 14.6789 15.8131 13.9213 15.8131 12.9789H15.3058ZM14.7113 16.4426L14.3526 16.0839C14.1652 16.2713 13.9024 16.3933 13.4064 16.46C12.8956 16.5288 12.2187 16.5298 11.2476 16.5298V17.0371V17.5444C12.1899 17.5444 12.9475 17.5455 13.5416 17.4655C14.1504 17.3836 14.6628 17.2084 15.07 16.8013L14.7113 16.4426ZM11.2476 17.0371V16.5298H5.16026V17.0371V17.5444H11.2476V17.0371ZM5.16026 17.0371V16.5298C4.18918 16.5298 3.5122 16.5288 3.00146 16.46C2.50541 16.3933 2.24265 16.2713 2.05528 16.0839L1.69658 16.4426L1.33788 16.8013C1.74503 17.2084 2.2574 17.3836 2.86619 17.4655C3.4603 17.5455 4.21789 17.5444 5.16026 17.5444V17.0371ZM1.69658 16.4426L2.05528 16.0839C1.8679 15.8965 1.74585 15.6338 1.67911 15.1377C1.61041 14.627 1.60933 13.95 1.60933 12.9789H1.10205H0.594774C0.594774 13.9213 0.593696 14.6789 0.673619 15.273C0.755519 15.8818 0.930728 16.3941 1.33788 16.8013L1.69658 16.4426ZM1.10205 12.9789H1.60933V8.6772H1.10205H0.594774V12.9789H1.10205ZM10.7403 17.0371H11.2476V11.9643H10.7403H10.233V17.0371H10.7403ZM10.7403 11.9643H11.2476C11.2476 11.5607 11.0872 11.1736 10.8019 10.8882L10.4432 11.2469L10.0845 11.6056C10.1796 11.7008 10.233 11.8298 10.233 11.9643H10.7403ZM10.4432 11.2469L10.8019 10.8882C10.5165 10.6029 10.1294 10.4425 9.72576 10.4425V10.9498V11.4571C9.86029 11.4571 9.98932 11.5105 10.0845 11.6056L10.4432 11.2469ZM9.72576 10.9498V10.4425H6.6821V10.9498V11.4571H9.72576V10.9498ZM6.6821 10.9498V10.4425C6.27848 10.4425 5.8914 10.6028 5.606 10.8882L5.9647 11.2469L6.3234 11.6056C6.41853 11.5105 6.54756 11.4571 6.6821 11.4571V10.9498ZM5.9647 11.2469L5.606 10.8882C5.3206 11.1736 5.16027 11.5607 5.16027 11.9643H5.66755H6.17482C6.17482 11.8298 6.22827 11.7008 6.3234 11.6056L5.9647 11.2469ZM5.66755 11.9643H5.16027V17.0371H5.66755H6.17482V11.9643H5.66755Z",fill:t})})}function A1e({color:t="black",...e}){return f.jsx("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:f.jsx("path",{d:"M5.12519 5.42678H10.9951M5.12519 9.27611H10.9951M5.12519 13.1254H9.03846M3.16855 0.615112H12.9517C14.0324 0.615112 14.9084 1.47681 14.9084 2.53978V15.0501C14.9084 16.1131 14.0324 16.9748 12.9517 16.9748H3.16855C2.08793 16.9748 1.21191 16.1131 1.21191 15.0501V2.53978C1.21191 1.47681 2.08793 0.615112 3.16855 0.615112Z",stroke:t,strokeWidth:"0.85113",strokeLinecap:"round"})})}const N1e=({color:t="black",...e})=>f.jsxs("svg",{width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7145 1.04437C15.256 1.04437 15.7753 1.25948 16.1582 1.64236C16.5411 2.02525 16.7562 2.54455 16.7562 3.08604V13.2944C16.7562 13.8358 16.5411 14.3551 16.1582 14.738C15.7753 15.1209 15.256 15.336 14.7145 15.336L11.653 15.335L9.31123 17.6768C9.13545 17.8525 8.90158 17.9581 8.65349 17.9737C8.4054 17.9893 8.16015 17.9139 7.96374 17.7615L7.86778 17.6768L5.52599 15.335L2.46452 15.336C1.92303 15.336 1.40373 15.1209 1.02084 14.738C0.637955 14.3551 0.422852 13.8358 0.422852 13.2944V3.08604C0.422852 2.54455 0.637955 2.02525 1.02084 1.64236C1.40373 1.25948 1.92303 1.04437 2.46452 1.04437H14.7145Z",stroke:t,strokeWidth:"0.857499",strokeLinecap:"round",strokeLinejoin:"round"}),f.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.58849 9.21104C9.09891 9.21104 9.60932 8.70062 9.60932 8.1902C9.60932 7.67979 9.09891 7.16937 8.58849 7.16937C8.07807 7.16937 7.56868 7.67979 7.56868 8.1902C7.56868 8.70062 8.07807 9.21104 8.58849 9.21104ZM4.50516 9.21104C5.01558 9.21104 5.52599 8.70062 5.52599 8.1902C5.52599 7.67979 5.01558 7.16937 4.50516 7.16937C3.99475 7.16937 3.48535 7.67979 3.48535 8.1902C3.48535 8.70062 3.99475 9.21104 4.50516 9.21104ZM12.6718 9.21104C13.1822 9.21104 13.6926 8.70062 13.6926 8.1902C13.6926 7.67979 13.1822 7.16937 12.6718 7.16937C12.1614 7.16937 11.652 7.67979 11.652 8.1902C11.652 8.70062 12.1614 9.21104 12.6718 9.21104Z",fill:t})]});function I1e({color:t="black",...e}){return f.jsx("svg",{width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:f.jsx("path",{d:"M14.463 13.865C14.9423 13.865 15.4019 14.0554 15.7408 14.3943C16.0797 14.7332 16.2701 15.1929 16.2701 15.6722C16.2701 16.1515 16.0797 16.6111 15.7408 16.95C15.4019 17.289 14.9423 17.4794 14.463 17.4794C13.9837 17.4794 13.524 17.289 13.1851 16.95C12.8462 16.6111 12.6558 16.1515 12.6558 15.6722C12.6558 15.1929 12.8462 14.7332 13.1851 14.3943C13.524 14.0554 13.9837 13.865 14.463 13.865ZM14.463 14.7686C14.2233 14.7686 13.9935 14.8638 13.824 15.0332C13.6546 15.2027 13.5594 15.4325 13.5594 15.6722C13.5594 15.9118 13.6546 16.1417 13.824 16.3111C13.9935 16.4806 14.2233 16.5758 14.463 16.5758C14.7026 16.5758 14.9324 16.4806 15.1019 16.3111C15.2714 16.1417 15.3666 15.9118 15.3666 15.6722C15.3666 15.4325 15.2714 15.2027 15.1019 15.0332C14.9324 14.8638 14.7026 14.7686 14.463 14.7686ZM6.3307 13.865C6.80999 13.865 7.26965 14.0554 7.60856 14.3943C7.94747 14.7332 8.13787 15.1929 8.13787 15.6722C8.13787 16.1515 7.94747 16.6111 7.60856 16.95C7.26965 17.289 6.80999 17.4794 6.3307 17.4794C5.8514 17.4794 5.39174 17.289 5.05283 16.95C4.71392 16.6111 4.52352 16.1515 4.52352 15.6722C4.52352 15.1929 4.71392 14.7332 5.05283 14.3943C5.39174 14.0554 5.8514 13.865 6.3307 13.865ZM6.3307 14.7686C6.09105 14.7686 5.86122 14.8638 5.69176 15.0332C5.52231 15.2027 5.42711 15.4325 5.42711 15.6722C5.42711 15.9118 5.52231 16.1417 5.69176 16.3111C5.86122 16.4806 6.09105 16.5758 6.3307 16.5758C6.57034 16.5758 6.80017 16.4806 6.96963 16.3111C7.13908 16.1417 7.23428 15.9118 7.23428 15.6722C7.23428 15.4325 7.13908 15.2027 6.96963 15.0332C6.80017 14.8638 6.57034 14.7686 6.3307 14.7686ZM16.2701 3.02198H3.86391L6.16805 8.44349H13.5594C13.8576 8.44349 14.1196 8.29892 14.2823 8.08206L16.993 4.46771C17.1105 4.3141 17.1737 4.12435 17.1737 3.92556C17.1737 3.68592 17.0785 3.45609 16.9091 3.28663C16.7396 3.11718 16.5098 3.02198 16.2701 3.02198ZM13.5594 9.34708H6.21323L5.51747 10.7567L5.42711 11.1543C5.42711 11.3939 5.52231 11.6237 5.69176 11.7932C5.86122 11.9626 6.09105 12.0578 6.3307 12.0578H16.2701V12.9614H6.3307C5.8514 12.9614 5.39174 12.771 5.05283 12.4321C4.71392 12.0932 4.52352 11.6335 4.52352 11.1543C4.52326 10.8477 4.60099 10.546 4.74942 10.2778L5.4 8.9495L2.11998 1.2148H0.90918V0.311218H2.71635L3.4844 2.11839H16.2701C16.7494 2.11839 17.2091 2.30879 17.548 2.6477C17.8869 2.98661 18.0773 3.44627 18.0773 3.92556C18.0773 4.37736 17.9237 4.75686 17.6707 5.06408L15.0413 8.57903C14.716 9.03986 14.1738 9.34708 13.5594 9.34708Z",fill:t})})}function P1e({color:t="black",...e}){return f.jsx("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:f.jsx("path",{d:"M4.1359 15.3442C4.9803 14.7362 5.87636 14.2557 6.82408 13.9027C7.77114 13.5491 8.797 13.3722 9.90168 13.3722C11.0064 13.3722 12.0322 13.5491 12.9793 13.9027C13.9263 14.2564 14.8224 14.7365 15.6675 15.3432C16.3231 14.6643 16.8506 13.863 17.25 12.9391C17.6493 12.0139 17.849 10.9993 17.849 9.89528C17.849 7.6932 17.0751 5.81796 15.5274 4.26956C13.9797 2.72115 12.1044 1.94728 9.90168 1.94795C7.69895 1.94861 5.82371 2.72281 4.27597 4.27055C2.72823 5.81829 1.95435 7.6932 1.95435 9.89528C1.95435 10.9993 2.15403 12.0139 2.55339 12.9391C2.95274 13.8636 3.48024 14.665 4.1359 15.3432M9.90268 10.392C9.06556 10.392 8.35924 10.1046 7.78372 9.5297C7.2082 8.95484 6.92077 8.24918 6.92144 7.41273C6.9221 6.57627 7.20953 5.86995 7.78372 5.29377C8.35791 4.71759 9.0639 4.43016 9.90168 4.43149C10.7395 4.43281 11.4455 4.72024 12.0196 5.29377C12.5938 5.8673 12.8813 6.57329 12.8819 7.41173C12.8826 8.25018 12.5952 8.95617 12.0196 9.5297C11.4441 10.1032 10.7385 10.3907 9.90268 10.392ZM9.90168 18.836C8.65461 18.836 7.48735 18.6039 6.39989 18.1396C5.31243 17.6754 4.36604 17.0409 3.56071 16.2363C2.75538 15.4316 2.12092 14.4852 1.65732 13.3971C1.19373 12.3089 0.961601 11.1417 0.960939 9.89528C0.960277 8.64887 1.1924 7.4816 1.65732 6.39348C2.12224 5.30536 2.7567 4.35897 3.56071 3.5543C4.36604 2.74963 5.31243 2.11517 6.39989 1.65091C7.48735 1.18666 8.65461 0.954529 9.90168 0.954529C11.1488 0.954529 12.316 1.18666 13.4035 1.65091C14.4909 2.11517 15.4373 2.74963 16.2427 3.5543C17.048 4.35897 17.6824 5.30536 18.146 6.39348C18.6096 7.4816 18.8418 8.64887 18.8424 9.89528C18.8431 11.1417 18.611 12.3089 18.146 13.3971C17.6811 14.4852 17.0467 15.4316 16.2427 16.2363C15.4373 17.0409 14.4909 17.6754 13.4035 18.1396C12.316 18.6039 11.1488 18.836 9.90168 18.836ZM9.90168 17.8426C10.8176 17.8426 11.7186 17.6823 12.6048 17.3618C13.4909 17.0419 14.2568 16.6035 14.9025 16.0465C14.2575 15.5279 13.5108 15.1183 12.6624 14.8177C11.814 14.517 10.8938 14.3663 9.90168 14.3656C8.90959 14.365 7.98605 14.5123 7.13105 14.8077C6.27605 15.1031 5.53231 15.516 4.89983 16.0465C5.54555 16.6028 6.31181 17.0413 7.1986 17.3618C8.08539 17.6823 8.98642 17.8426 9.90168 17.8426ZM9.90168 9.39857C10.4593 9.39857 10.9299 9.20684 11.3133 8.82338C11.6968 8.43992 11.8885 7.96937 11.8885 7.41173C11.8885 6.8541 11.6968 6.38355 11.3133 6.00009C10.9299 5.61663 10.4593 5.4249 9.90168 5.4249C9.34405 5.4249 8.8735 5.61663 8.49004 6.00009C8.10658 6.38355 7.91485 6.8541 7.91485 7.41173C7.91485 7.96937 8.10658 8.43992 8.49004 8.82338C8.8735 9.20684 9.34405 9.39857 9.90168 9.39857Z",fill:t})})}function R1e({color:t="black",...e}){return f.jsxs("svg",{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[f.jsx("path",{d:"M5.20469 12.8046H2.40469C1.98034 12.8046 1.57338 12.9731 1.27332 13.2732C0.973259 13.5733 0.804688 13.9802 0.804688 14.4046V17.2046C0.804688 17.6289 0.973259 18.0359 1.27332 18.3359C1.57338 18.636 1.98034 18.8046 2.40469 18.8046H5.20469C5.62903 18.8046 6.036 18.636 6.33606 18.3359C6.63612 18.0359 6.80469 17.6289 6.80469 17.2046V14.4046C6.80469 13.9802 6.63612 13.5733 6.33606 13.2732C6.036 12.9731 5.62903 12.8046 5.20469 12.8046ZM15.2047 0.804565H12.4047C11.9803 0.804565 11.5734 0.973136 11.2733 1.27319C10.9733 1.57325 10.8047 1.98022 10.8047 2.40457V5.20457C10.8047 5.62891 10.9733 6.03588 11.2733 6.33594C11.5734 6.63599 11.9803 6.80457 12.4047 6.80457H15.2047C15.629 6.80457 16.036 6.63599 16.3361 6.33594C16.6361 6.03588 16.8047 5.62891 16.8047 5.20457V2.40457C16.8047 1.98022 16.6361 1.57325 16.3361 1.27319C16.036 0.973136 15.629 0.804565 15.2047 0.804565Z",fill:t,fillOpacity:"0.16"}),f.jsx("path",{d:"M5.20469 0.804565H2.40469C1.98034 0.804565 1.57338 0.973136 1.27332 1.27319C0.973259 1.57325 0.804688 1.98022 0.804688 2.40457V7.20457C0.804688 7.41468 0.846073 7.62274 0.92648 7.81686C1.00689 8.01098 1.12474 8.18736 1.27332 8.33594C1.42189 8.48451 1.59827 8.60237 1.79239 8.68277C1.98652 8.76318 2.19457 8.80457 2.40469 8.80457H5.20469C5.4148 8.80457 5.62286 8.76318 5.81698 8.68277C6.0111 8.60237 6.18748 8.48451 6.33606 8.33594C6.48463 8.18736 6.60249 8.01098 6.68289 7.81686C6.7633 7.62274 6.80469 7.41468 6.80469 7.20457V2.40457C6.80469 1.98022 6.63612 1.57325 6.33606 1.27319C6.036 0.973136 5.62903 0.804565 5.20469 0.804565ZM5.20469 12.8046H2.40469C1.98034 12.8046 1.57338 12.9731 1.27332 13.2732C0.973259 13.5733 0.804688 13.9802 0.804688 14.4046V17.2046C0.804688 17.6289 0.973259 18.0359 1.27332 18.3359C1.57338 18.636 1.98034 18.8046 2.40469 18.8046H5.20469C5.62903 18.8046 6.036 18.636 6.33606 18.3359C6.63612 18.0359 6.80469 17.6289 6.80469 17.2046V14.4046C6.80469 13.9802 6.63612 13.5733 6.33606 13.2732C6.036 12.9731 5.62903 12.8046 5.20469 12.8046ZM15.2047 0.804565H12.4047C11.9803 0.804565 11.5734 0.973136 11.2733 1.27319C10.9733 1.57325 10.8047 1.98022 10.8047 2.40457V5.20457C10.8047 5.62891 10.9733 6.03588 11.2733 6.33594C11.5734 6.63599 11.9803 6.80457 12.4047 6.80457H15.2047C15.629 6.80457 16.036 6.63599 16.3361 6.33594C16.6361 6.03588 16.8047 5.62891 16.8047 5.20457V2.40457C16.8047 1.98022 16.6361 1.57325 16.3361 1.27319C16.036 0.973136 15.629 0.804565 15.2047 0.804565ZM15.2047 10.8046H12.4047C11.9803 10.8046 11.5734 10.9731 11.2733 11.2732C10.9733 11.5733 10.8047 11.9802 10.8047 12.4046V17.2046C10.8047 17.6289 10.9733 18.0359 11.2733 18.3359C11.5734 18.636 11.9803 18.8046 12.4047 18.8046H15.2047C15.629 18.8046 16.036 18.636 16.3361 18.3359C16.6361 18.0359 16.8047 17.6289 16.8047 17.2046V12.4046C16.8047 11.9802 16.6361 11.5733 16.3361 11.2732C16.036 10.9731 15.629 10.8046 15.2047 10.8046Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinejoin:"round"})]})}function L1e({tab:t,setTab:e,cartCount:r=0,unreadMessages:n=0,ordersCount:i=0}){const{profile:s}=wn(),{t:a}=Zi(),o=s&&s.role==="pharmacy",[l,c]=F.useState({left:0,opacity:0}),u=F.useRef(null),p=F.useRef({}),g=[o?{key:"/",label:a("dashboard","Dashboard"),icon:R1e}:{key:"/",label:a("home","Home"),icon:T1e},{key:"/orders",label:a("orders","Orders"),icon:A1e},{key:"/messages",label:a("messages","Messages"),icon:N1e},...o?[]:[{key:"/cart",label:a("cart","Cart"),icon:I1e}],{key:"/profile",label:a("profile","Profile"),icon:P1e}],m=()=>{const _=g.findIndex(I=>I.key===t),E=p.current[t],L=u.current;if(E&&L&&_!==-1){const I=L.getBoundingClientRect(),V=E.getBoundingClientRect(),G=V.left-I.left+V.width/2-20;c({left:`${G}px`,opacity:1})}else c(I=>({...I,opacity:0}))},y=n>99?"99+":String(n||"");F.useEffect(()=>{requestAnimationFrame(()=>{m()})},[t,g]),F.useEffect(()=>{let _;const E=()=>{clearTimeout(_),_=setTimeout(()=>{requestAnimationFrame(m)},100)};return window.addEventListener("resize",E,{passive:!0}),()=>{window.removeEventListener("resize",E),clearTimeout(_)}},[]),F.useEffect(()=>{try{console.debug("[BottomNav] props",{tab:t,cartCount:r,unreadMessages:n,ordersCount:i,displayUnread:y,profile:s})}catch(_){console.error("[BottomNav] debug log failed",_)}},[t,r,n,i,y,s]);const w=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugBottomNav")==="1";return f.jsxs("div",{className:"fixed bottom-3 left-0 right-0 flex justify-center z-50 px-3 sm:px-4","aria-hidden":!1,children:[f.jsxs("nav",{ref:u,role:"navigation","aria-label":"Bottom navigation",className:"liquid-bottom-nav max-w-[95vw] min-w-[280px] sm:max-w-md lg:max-w-lg px-6 sm:px-5 py-3 bg-white/95 dark:bg-gray-900/40 backdrop-blur-md border border-sky-300 dark:border-sky-300 relative",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTransform:"translateZ(0)",transform:"translateZ(0)"},children:[f.jsx("div",{className:"absolute bottom-[5.8rem] w-10 h-2 bg-gradient-to-r from-sky-400 to-sky-600 rounded-full shadow-lg will-change-transform",style:{left:l.left,opacity:l.opacity,transition:"left 0.25s cubic-bezier(0.4, 0.0, 0.2, 1), opacity 0.15s ease-out",transform:`scale(${l.opacity})`,boxShadow:"0 2px 8px rgba(56, 165, 255, 0.4), 0 0 16px rgba(56, 165, 255, 0.2)"}}),f.jsx("div",{className:"flex items-center justify-center gap-[-1] px-2",children:g.map((_,E)=>{const L=t===_.key,I=_.icon,V={color:L?"#36A5FF":document.documentElement.classList.contains("dark")?"#ffffff":"#6b7280"},G=_.key==="/cart",X=_.key==="/messages",R=_.key==="/orders";return f.jsx("div",{className:"flex-none",children:f.jsxs("button",{ref:A=>p.current[_.key]=A,onClick:()=>e(_.key),"aria-label":_.label,"aria-pressed":L,className:`relative flex flex-col items-center text-xs min-w-[56px] sm:min-w-[64px] md:min-w-[72px] px-1 sm:px-2 py-3 focus:outline-none transition-all duration-150 ease-out will-change-transform ${L?"text-sky-600 dark:text-sky-400 transform scale-105":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:[f.jsx("div",{className:"relative z-10 transition-transform duration-150 ease-out will-change-transform hover:scale-110",children:f.jsx(I,{...V,className:`h-7 w-7 sm:h-7 sm:w-7 mb-2 sm:mb-2 transition-all duration-150 ease-out ${L?"drop-shadow-lg":""}`})}),G&&r>0&&f.jsx("span",{className:"absolute -top-0.5 -right-0.5 z-50 bg-sky-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:r}),R&&o&&i>0&&f.jsx("span",{className:"absolute -top-0.5 -right-0 z-50 bg-orange-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:i>99?"99+":i}),X&&n>0&&(()=>{try{return f.jsx("span",{role:"status","aria-live":"polite","aria-atomic":"true",className:"absolute top-0 right-2 z-50 bg-sky-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:y})}catch(A){return console.error("[BottomNav] Error rendering messages badge",A,{unreadMessages:n}),null}})(),f.jsx("span",{className:`truncate max-w-[56px] sm:max-w-[72px] block text-center text-[10px] sm:text-[12px] transition-all duration-150 ease-out ${L?"font-bold":"font-normal"}`,children:_.label})]})},_.key)})})]}),w&&f.jsxs("div",{className:"fixed bottom-20 right-4 z-60 bg-black/80 text-white text-xs px-3 py-1 rounded",children:["UnreadRaw: ",String(n)]})]})}function FA(t){return f.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:f.jsx("path",{d:"M4.87524 5.41667C4.73158 5.41667 4.59381 5.47373 4.49223 5.57532C4.39064 5.6769 4.33358 5.81467 4.33358 5.95833V8.125H5.41691V6.5H7.04191V7.85417L8.93774 5.95833L7.04191 4.0625V5.41667H4.87524ZM6.8832 0.75454L12.2457 6.11704C12.3472 6.21862 12.4043 6.35637 12.4043 6.5C12.4043 6.64363 12.3472 6.78138 12.2457 6.88296L6.8832 12.2455C6.78162 12.347 6.64387 12.404 6.50024 12.404C6.35661 12.404 6.21886 12.347 6.11728 12.2455L0.754784 6.88296C0.653237 6.78138 0.596191 6.64363 0.596191 6.5C0.596191 6.35637 0.653237 6.21862 0.754784 6.11704L6.11728 0.75454C6.21886 0.652993 6.35661 0.595947 6.50024 0.595947C6.64387 0.595947 6.78162 0.652993 6.8832 0.75454Z",fill:"currentColor"})})}function F1e({product:t,pharmacy:e}){const{user:r}=wn(),{t:n}=Zi(),i=Jn(),{userCoords:s}=H0();if(!t)return null;const a=Number(t.price||0),[o,l]=F.useState(!1),[c,u]=F.useState(!1),[p,g]=F.useState(null),[m,y]=F.useState(!1),[w,_]=F.useState(!1),[E,L]=F.useState(!1);F.useEffect(()=>{if(e&&s){const Pe=T8(e,s,"driving");g(Pe)}else g(null)},[e,s]),F.useEffect(()=>{(async()=>{if(r&&t)try{const Re=await hj(r.uid,t.id);_(Re)}catch(Re){console.error("Error checking wishlist status:",Re)}})()},[r,t]);const[I,V]=F.useState([]),[G,X]=F.useState(!1);async function R(Pe){if(!Pe)return V([]);try{X(!0);const Re=Tr(lr(pt,"products"),zr("category","==",Pe)),Oe=(await Ln(Re)).docs.map(Me=>({id:Me.id,...Me.data()}));V(Oe),u(!0)}catch(Re){console.error("Failed to fetch category products",Re),V([]),u(!0)}finally{X(!1)}}const[A,C]=F.useState([]),[D,N]=F.useState(!0),[j,B]=F.useState({name:r?.displayName||"",rating:"",comment:""}),[te,he]=F.useState(!1),[_e,fe]=F.useState(3),[ie,W]=F.useState(!1),[ue,Y]=F.useState({}),[P,q]=F.useState({});F.useEffect(()=>{async function Pe(){if(!t?.id)return C([]);N(!0);try{const Re=lr(pt,"products",t.id,"reviews"),me=Tr(Re,aa("createdAt","desc")),Oe=await Ln(me);C(Oe.docs.map(Me=>({id:Me.id,...Me.data()})))}catch{C([])}finally{N(!1)}}Pe()},[t?.id]),F.useEffect(()=>{async function Pe(){if(!r||!t?.id||A.length===0)return q({});const Re={};for(const me of A){ir(pt,"products",t.id,"reviews",me.id,"likes",r.uid);try{const Oe=await Ln(Tr(lr(pt,"products",t.id,"reviews",me.id,"likes")));Re[me.id]=Oe.docs.some(Me=>Me.id===r.uid)}catch{}}q(Re)}Pe()},[r,t?.id,A]);function K(Pe){const{name:Re,value:me}=Pe.target;B(Oe=>({...Oe,[Re]:me}))}async function J(Pe){if(Pe.preventDefault(),!(!j.rating&&!j.comment)){he(!0);try{const Re=lr(pt,"products",t.id,"reviews");await em(Re,{name:j.name,rating:j.rating?Number(j.rating):null,comment:j.comment||"",createdAt:ia(),userId:r?.uid||null}),B({name:r?.displayName||"",rating:"",comment:""});const me=Tr(Re,aa("createdAt","desc")),Oe=await Ln(me);C(Oe.docs.map(Me=>({id:Me.id,...Me.data()})))}catch{}finally{he(!1)}}}async function ce(Pe){Y(Re=>({...Re,[Pe]:!0}));try{const Re=ir(pt,"products",t.id,"reviews",Pe,"likes",r.uid),me=ir(pt,"products",t.id,"reviews",Pe);P[Pe]?(await Fo(Re),await ks(me,{likes:Ry(-1)}),C(Oe=>Oe.map(Me=>Me.id===Pe?{...Me,likes:Math.max((Me.likes||1)-1,0)}:Me)),q(Oe=>({...Oe,[Pe]:!1}))):(await Mc(Re,{likedAt:ia(),userId:r.uid}),await ks(me,{likes:Ry(1)}),C(Oe=>Oe.map(Me=>Me.id===Pe?{...Me,likes:(Me.likes||0)+1}:Me)),q(Oe=>({...Oe,[Pe]:!0})))}catch{}finally{Y(Re=>({...Re,[Pe]:!1}))}}if(!r)return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[f.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:"Please sign in to continue"}),f.jsx("button",{className:"rounded-full bg-sky-600 text-white px-6 py-2 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>i("/auth/landing"),children:"Sign In / Sign Up"})]});function ye({value:Pe,onChange:Re,disabled:me}){return f.jsx("div",{className:"flex gap-1 mb-2",role:"radiogroup","aria-label":"Rating",children:[1,2,3,4,5].map(Oe=>f.jsx("button",{type:"button",onClick:()=>!me&&Re(Oe),onKeyDown:Me=>{!me&&(Me.key==="Enter"||Me.key===" ")&&Re(Oe)},tabIndex:0,"aria-label":`${Oe} Star${Oe>1?"s":""}`,"aria-checked":Pe===Oe,className:`transition-all duration-150 focus:outline-none ${Pe>=Oe?"text-amber-400 scale-110":"text-zinc-300"} hover:scale-125 active:scale-95`,children:f.jsx(Z5,{className:"w-6 h-6",fill:Pe>=Oe?"#fbbf24":"none"})},Oe))})}const ke=`${window.location.origin}/product-preview/${t?.id}`;async function ae(){if(navigator.share){try{await navigator.share({title:t.name,text:`Check out this product: ${t.name}`,url:ke})}catch{}y(!1)}else if(navigator.clipboard){try{await navigator.clipboard.writeText(ke),alert(n("shareable_link_copied","Shareable link copied to clipboard!"))}catch{window.prompt(n("copy_this_link","Copy this link:"),ke)}y(!1)}else window.prompt(n("copy_this_link","Copy this link:"),ke),y(!1)}const be=async()=>{if(!r){alert(n("please_sign_in_wishlist","Please sign in to add items to your wishlist"));return}if(!E){L(!0);try{w?(await fj(r.uid,t.id),_(!1)):(await dj(r.uid,t.id,{name:t.name,price:t.price,image:t.image,category:t.category,pharmacyId:e?.id,pharmacyName:e?.name}),_(!0))}catch(Pe){console.error("Error toggling wishlist:",Pe),alert(n("failed_update_wishlist","Failed to update wishlist. Please try again."))}finally{L(!1)}}};function De(){const Pe=new URLSearchParams({productId:t?.id||"",productName:t?.name||"",productImage:t?.image||"",vendorName:e?.name||"",prefillMsg:"I want to know more about this drug"});i(`/chat/${e?.id}?${Pe.toString()}`),y(!1)}const se=()=>f.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:f.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>i(-1),className:"w-[70px] h-[24px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white border border-zinc-300 dark:border-gray-600 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[f.jsx(Cu,{className:"h-4 w-4 mr-1"})," ",n("back","Back")]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",className:`p-2 rounded-full border border-zinc-200 bg-white hover:scale-110 active:scale-95 transition-all duration-200 ${w?"bg-red-50 hover:bg-red-100":"hover:bg-red-50"} ${E?"opacity-50 cursor-not-allowed":""}`,"aria-label":w?"Remove from wishlist":"Add to wishlist",onClick:be,disabled:E,children:f.jsx(JE,{className:`w-5 h-5 transition-colors ${w?"text-red-500 fill-current":"text-red-400"}`})}),f.jsx("button",{type:"button",className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":"Share product",onClick:()=>y(!0),children:f.jsx(Mw,{className:"w-5 h-5 text-sky-600"})})]})]})});return f.jsxs(f.Fragment,{children:[Ps.createPortal(f.jsx(se,{}),document.body),f.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 pt-24 md:pt-0",children:f.jsxs("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0",children:[f.jsxs("div",{className:"pt-6 sticky top-0 z-20 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md pb-2 animate-slide-down-fade items-center justify-between hidden md:flex",children:[f.jsxs("button",{onClick:()=>i(-1),className:"w-[70px] h-[24px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[f.jsx(Cu,{className:"h-4 w-4 mr-1"})," ",n("back","Back")]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{type:"button",className:`p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:scale-110 active:scale-95 transition-all duration-200 ${w?"bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30":"hover:bg-red-50 dark:hover:bg-red-900/20"} ${E?"opacity-50 cursor-not-allowed":""}`,"aria-label":w?"Remove from wishlist":"Add to wishlist",onClick:be,disabled:E,children:f.jsx(JE,{className:`w-5 h-5 transition-colors ${w?"text-red-500 fill-current":"text-red-400"}`})}),f.jsx("button",{type:"button",className:"p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-sky-50 dark:hover:bg-sky-900/20 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":"Share product",onClick:()=>y(!0),children:f.jsx(Mw,{className:"w-5 h-5 text-sky-600"})})]})]}),f.jsx("div",{className:"mt-1 md:border md:rounded-t-3xl md:max-w-4xl md:border-zinc-100 dark:md:border-gray-700 animate-fade-in-up",children:f.jsx("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0 pt-6 pb-36",children:f.jsx("div",{className:"mx-auto w-full",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[f.jsxs("div",{className:"rounded-2xl p-4 border flex flex-col items-center justify-center w-full card-interactive hover:shadow-lg transition-all duration-300 animate-fade-in-left",children:[t?.image&&!o?f.jsx("img",{src:t.image,alt:t.name,onError:()=>l(!0),className:"max-h-[160px] lg:max-h-[360px] w-full object-contain hover:scale-105 transition-transform duration-300"}):f.jsx("div",{className:"h-[100px] lg:h-[200px] w-full flex items-center justify-center bg-zinc-100 dark:bg-gray-700 rounded-md text-3xl font-semibold text-zinc-800 dark:text-zinc-200 animate-bounce-gentle",children:f.jsx(Pl,{name:t.name,image:t.image,category:t.category,size:48,"lg:size":80,roundedClass:"rounded-md"})}),f.jsxs("div",{className:"w-full mt-4 hidden lg:flex flex-col gap-3",children:[f.jsx("button",{onClick:async()=>{if(!r)return alert("Please sign in");if(!t.id)return alert(n("product_unavailable","Product unavailable. Please try again."));try{await i1(r.uid,t.id,1)}catch{alert(n("failed_add_to_cart","Failed to add to cart."))}},className:"w-full h-10 rounded-full bg-sky-600 text-white text-[14px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200","aria-label":n("add_to_cart","Add to Cart"),children:n("add_to_cart","Add to Cart")}),f.jsxs("a",{href:`tel:${e?.phone||""}`,className:"w-full h-10 rounded-full border border-zinc-400 dark:border-gray-600 text-[14px] font-poppins font-light flex items-center justify-center gap-2 text-zinc-800 dark:text-white bg-white dark:bg-gray-800 btn-interactive hover:border-zinc-500 dark:hover:border-gray-500 hover:scale-105 active:scale-95 transition-all duration-200","aria-label":n("call_to_order","Call to Order"),children:[f.jsx(L1,{className:"h-4 w-4 text-zinc-800 dark:text-white"})," ",n("call_to_order","Call to Order")]})]})]}),f.jsxs("div",{className:"flex flex-col animate-fade-in-right",children:[f.jsxs("div",{className:"mb-3 flex items-start justify-between animate-slide-up",style:{animationDelay:"0.1s"},children:[f.jsx("h1",{className:"text-[18px] lg:text-[20px] font-poppins font-medium tracking-tight leading-tight min-w-0 animate-text-reveal text-gray-900 dark:text-white",children:t.name}),f.jsxs("div",{className:"text-[18px] text-sky-600 dark:text-sky-400 font-poppins font-semibold lg:hidden animate-pulse-slow",children:["",a.toLocaleString()]})]}),f.jsx("div",{className:"mb-4 hidden lg:block animate-fade-in",style:{animationDelay:"0.2s"},children:f.jsxs("div",{className:"text-[20px] text-sky-600 dark:text-sky-400 font-poppins font-semibold animate-pulse-slow",children:["",a.toLocaleString()]})}),f.jsx("div",{className:"mb-2 animate-fade-in",style:{animationDelay:"0.3s"},children:f.jsx("button",{onClick:()=>i(`/vendor/${e?.id||t.pharmacyId}`),className:"text-sky-600 dark:text-sky-400 underline font-poppins text-[15px] font-light hover:text-sky-700 dark:hover:text-sky-300 transition-colors duration-200 hover:scale-105",children:e?.name})}),f.jsxs("div",{className:"mb-1 flex items-center justify-between gap-2 text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.4s"},children:[f.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[f.jsx(ic,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{className:"truncate",children:e?.address})]}),e?.address&&f.jsxs("button",{onClick:()=>{const Pe=encodeURIComponent(e.address);window.open(`https://www.google.com/maps/search/?api=1&query=${Pe}`,"_blank")},className:"text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-2 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 lg:hidden hover:scale-105 active:scale-95","aria-label":"Get directions",children:[f.jsx(FA,{className:"h-4 w-4 inline-block mr-1"})," ",n("get_directions","Get Directions")]})]}),f.jsxs("div",{className:"mb-3 flex items-center gap-2 text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.5s"},children:[f.jsx(zy,{className:"h-4 w-4"}),p?n("eta_to_pharmacy","{time} to {pharmacy}").replace("{time}",p.formatted).replace("{pharmacy}",e?.name):s?n("calculating_eta","Calculating ETA..."):n("fetching_location","Fetching location...")]}),e?.address&&f.jsx("div",{className:"mb-4 hidden lg:block animate-fade-in",style:{animationDelay:"0.6s"},children:f.jsxs("button",{className:"flex items-center gap-2 text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-3 py-2 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>{const Pe=encodeURIComponent(e.address);window.open(`https://www.google.com/maps/search/?api=1&query=${Pe}`,"_blank")},children:[f.jsx(FA,{className:"h-4 w-4 text-sky-600 dark:text-sky-400"})," Get Directions"]})}),f.jsxs("div",{className:"mt-2 animate-fade-in",style:{animationDelay:"0.7s"},children:[f.jsxs("div",{className:"hidden lg:block",children:[f.jsx("div",{className:"text-[15px] tracking-tight text-black font-poppins font-medium",children:n("category","Category")}),f.jsx("div",{className:"mt-0.5 mb-5",children:f.jsx("button",{type:"button",onClick:async Pe=>{Pe.stopPropagation(),await R(t.category||"General")},className:"text-[13px] text-[#fc7f26] font-poppins font-normal underline hover:text-amber-500 transition-colors duration-200 hover:scale-105",children:t.category||"General"})})]}),f.jsx("div",{className:"block lg:hidden",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"text-[15px] text-black font-poppins font-medium mb-2",children:n("category","Category")}),f.jsx("div",{children:f.jsx("button",{type:"button",onClick:async Pe=>{Pe.stopPropagation(),await R(t.category||"General")},className:"text-[13px] text-[#fc7f26] font-poppins font-normal underline hover:text-amber-500 transition-colors duration-200 hover:scale-105",children:t.category||"General"})})]})})]}),f.jsx("div",{className:"mt-4 border-b"}),f.jsxs("div",{className:"mt-6 animate-fade-in",style:{animationDelay:"0.8s"},children:[f.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 dark:text-white",children:n("product_description","Product Description")}),f.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-300 leading-6 font-poppins text-[14px] font-light",children:t.description})]}),f.jsx("div",{className:"mt-8 border-b"}),f.jsxs("div",{className:"mt-8 animate-fade-in-up",style:{animationDelay:"0.9s"},children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 dark:text-white",children:n("customer_reviews","Customer Reviews")}),f.jsx("span",{className:"text-sky-400 font-semibold text-[13px]",children:A.length})]}),ie&&f.jsx("button",{className:"text-sky-400 text-[13px] font-poppins underline",onClick:()=>{W(!1),fe(3)},children:n("see_less","See less")})]}),f.jsx("div",{className:"space-y-4 mb-6",children:D?f.jsx("div",{className:"p-4 text-center text-zinc-400 dark:text-zinc-500 animate-pulse",children:n("loading_reviews","Loading reviews")}):A.length===0?f.jsx("div",{className:"p-4 text-center text-zinc-400 dark:text-zinc-500 animate-fade-in text-[12px]",children:n("no_reviews_yet","No reviews yet. Be the first to review!")}):A.slice(0,_e).map((Pe,Re)=>{let me="";if(Pe.createdAt){const Oe=Pe.createdAt.seconds?new Date(Pe.createdAt.seconds*1e3):new Date(Pe.createdAt);me=Oe.toLocaleDateString()+" "+Oe.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}return f.jsxs("div",{className:"p-4 rounded-xl border border-sky-100 dark:border-gray-600 animate-slide-up transition-all duration-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-poppins font-semibold text-[14px] text-zinc-700 dark:text-zinc-200",children:Pe.name}),f.jsxs("span",{className:"flex gap-0.5 text-amber-400 text-[13px]",children:["".repeat(Pe.rating),"".repeat(5-Pe.rating)]})]}),f.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:f.jsxs("div",{className:"flex items-center justify-center",children:[Pe.likes>0&&f.jsx("span",{className:"text-sky-500 font-semibold text-[13px] mr-1",children:Pe.likes}),f.jsx("button",{className:`flex items-center justify-center px-2 py-1 rounded transition-all duration-200 ${ue[Pe.id]?"opacity-50 pointer-events-none":""} ${P[Pe.id]?"bg-sky-50 text-sky-400":"text-zinc-400"}`,onClick:()=>ce(Pe.id),disabled:ue[Pe.id],"aria-label":P[Pe.id]?"Unlike review":"Like review",style:{minHeight:"20px"},children:f.jsx(vee,{className:"w-4 h-4",fill:P[Pe.id]?"#38bdf8":"none"})})]})})]}),f.jsx("div",{className:"text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light",children:Pe.comment}),me&&f.jsx("div",{className:"text-[11px] text-zinc-400 dark:text-zinc-500 mt-1",children:me}),Pe.pharmacyResponse&&f.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-sky-50 to-blue-50 dark:bg-gradient-to-r dark:from-gray-800 dark:to-gray-700 border border-sky-100 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-2 h-2 bg-sky-500 dark:bg-sky-400 rounded-full"}),f.jsx("span",{className:"font-poppins font-semibold text-[13px] text-sky-700 dark:text-white",children:n("pharmacy_response","{pharmacyName} Response",{pharmacyName:e?.name||"Pharmacy"})}),(Pe.pharmacyResponse.respondedAt||Pe.responseDate)&&f.jsx("span",{className:"text-[10px] text-sky-500 dark:text-zinc-300 ml-auto",children:new Date((Pe.pharmacyResponse.respondedAt?.seconds||Pe.responseDate?.seconds||Pe.responseDate)*1e3).toLocaleDateString()})]}),f.jsxs("div",{className:"text-zinc-700 dark:text-white text-[13px] font-poppins leading-relaxed pl-4",children:['"',typeof Pe.pharmacyResponse=="string"?Pe.pharmacyResponse:Pe.pharmacyResponse.message||Pe.pharmacyResponse,'"']})]})]},Pe.id||Re)})}),A.length>_e&&f.jsx("div",{className:"flex justify-start",children:f.jsx("button",{className:"text-sky-400 text-[13px] font-poppins underline",onClick:()=>{fe(Pe=>Pe+3),W(!0)},children:n("see_more","See more")})}),f.jsx("div",{className:"mt-4 border-b"}),f.jsxs("form",{className:"p-4 mt-6 rounded-xl border border-zinc-100 bg-white shadow-sm animate-bounce-in",style:{animationDelay:"1.0s"},onSubmit:J,children:[f.jsx("div",{className:"mb-2 font-poppins text-[14px] font-medium text-zinc-700 dark:text-zinc-300",children:n("leave_a_review","Leave a Review")}),f.jsx(ye,{value:Number(j.rating),onChange:Pe=>B(Re=>({...Re,rating:Pe})),disabled:te}),f.jsx("input",{type:"text",name:"name",value:j.name,onChange:K,placeholder:n("your_name","Your Name"),className:"w-full mb-2 px-3 py-2 rounded-lg border-zinc-200 font-poppins text-[13px] focus:ring-2 focus:ring-sky-200 transition-all duration-20"}),f.jsx("textarea",{name:"comment",value:j.comment,onChange:K,placeholder:n("your_review_optional","Your review... (optional)"),className:"w-full mb-2 px-3 py-2 rounded-lg border border-zinc-200 font-poppins text-[13px] focus:ring-2 focus:ring-sky-200 transition-all duration-200",rows:3}),f.jsx("button",{type:"submit",disabled:te||!j.rating&&!j.comment,className:"w-full h-10 rounded-full border border-sky-500 dark:border-gray-600 text-black text-[14px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:te?n("submitting","Submitting"):n("submit_review","Submit Review")})]})]})]})]})})})}),f.jsx("div",{className:"fixed left-0 right-0 bottom-[8rem] z-30 lg:hidden animate-slide-up-fade",children:f.jsx("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0",children:f.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[f.jsx("button",{onClick:async()=>{if(!r)return alert(n("please_sign_in","Please sign in"));if(!t.id)return alert(n("product_unavailable","Product unavailable. Please try again."));try{await i1(r.uid,t.id,1)}catch{alert(n("failed_add_to_cart","Failed to add to cart."))}},className:"flex-1 max-w-[140px] h-10 rounded-full bg-sky-600 text-white text-[13px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:n("add_to_cart","Add to Cart")}),f.jsxs("a",{href:`tel:${e?.phone||""}`,className:"flex-1 max-w-[140px] h-10 rounded-full border border-zinc-400 dark:border-gray-600 text-[13px] font-poppins font-light flex items-center justify-center gap-2 text-zinc-800 dark:text-white bg-white dark:bg-gray-800 btn-interactive hover:border-zinc-500 dark:hover:border-gray-500 hover:scale-105 active:scale-95 transition-all duration-200",children:[f.jsx(L1,{className:"h-4 w-4 text-zinc-800 dark:text-white"})," ",n("call_to_order","Call to Order")]})]})})}),c&&f.jsx("div",{onClick:()=>u(!1),className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black bg-opacity-30 animate-fade-in",role:"dialog","aria-modal":"true",children:f.jsxs("div",{onClick:Pe=>Pe.stopPropagation(),className:"bg-white rounded-2xl p-4 w-[90vw] max-w-md max-h-[80vh] overflow-y-auto animate-bounce-in shadow-xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("div",{className:"text-lg font-medium animate-text-reveal",children:n("products_in_category",'Products in "{category}"').replace("{category}",t.category||"General")}),f.jsx("button",{onClick:()=>u(!1),className:"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors duration-200 hover:scale-110 active:scale-95",children:n("close","Close")})]}),G?f.jsx("div",{className:"p-4 text-center text-zinc-500 dark:text-zinc-400 animate-pulse",children:n("loading","Loading")}):I.length===0?f.jsx("div",{className:"p-4 text-zinc-500 dark:text-zinc-400 animate-fade-in",children:n("no_products_found","No products found.")}):f.jsx("div",{className:"space-y-2",children:I.map((Pe,Re)=>f.jsxs("button",{onClick:()=>{u(!1),i(`/product/${Pe.id}`)},className:"w-full text-left rounded-lg p-2 flex items-center gap-3 hover:bg-sky-50 transition-all duration-200 card-interactive animate-fadeInUp hover:scale-102",style:{animationDelay:`${Re*.1}s`},children:[f.jsx(Pl,{name:Pe.name,image:Pe.image,category:Pe.category,size:48,className:"flex-shrink-0 animate-bounce-gentle",roundedClass:"rounded-md"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-medium text-sm truncate",children:Pe.name}),f.jsx("div",{className:"text-xs text-zinc-500 truncate",children:Pe.category})]})]},Pe.id))})]})}),m&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 animate-fade-in",role:"dialog","aria-modal":"true",children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 w-[90vw] max-w-xs shadow-xl animate-bounce-in flex flex-col gap-4",children:[f.jsx("div",{className:"font-poppins font-medium text-[16px] mb-2 text-center",children:n("share_product","Share Product")}),f.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 rounded-lg border border-sky-200 dark:border-gray-600 bg-sky-50 text-sky-700 font-poppins font-medium hover:bg-sky-100 hover:scale-105 active:scale-95 transition-all duration-200",onClick:ae,children:[f.jsx(Mw,{className:"w-4 h-4"})," ",n("share_product","Share Product")]}),f.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 rounded-lg border border-zinc-200 bg-zinc-50 text-zinc-700 font-poppins font-medium hover:bg-zinc-100 hover:scale-105 active:scale-95 transition-all duration-200",onClick:De,children:[f.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M21 12c0 4.418-4.03 8-9 8a9.77 9.77 0 01-4-.8l-4 1 1-4A8.96 8.96 0 013 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),n("message_vendor","Message Vendor")]}),f.jsx("button",{className:"mt-2 text-zinc-400 hover:text-zinc-700 text-[13px] font-poppins underline",onClick:()=>y(!1),children:n("cancel","Cancel")})]})})]})})]})}const j1e="data:image/svg+xml,%3csvg%20width='26'%20height='23'%20viewBox='0%200%2026%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.41667%2022.3281C1.93056%2022.5226%201.46875%2022.4798%201.03125%2022.1998C0.59375%2021.9198%200.375%2021.5129%200.375%2020.9792V14.4167L12.0417%2011.5L0.375%208.58333V2.02083C0.375%201.48611%200.59375%201.07923%201.03125%200.800203C1.46875%200.521176%201.93056%200.478397%202.41667%200.67187L24.875%2010.151C25.4826%2010.4184%2025.7865%2010.868%2025.7865%2011.5C25.7865%2012.1319%2025.4826%2012.5816%2024.875%2012.849L2.41667%2022.3281Z'%20fill='black'/%3e%3c/svg%3e";function D1e(t){return f.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:f.jsx("path",{d:"M2.68917 5.64292C3.70917 7.6475 5.3525 9.29083 7.35708 10.3108L8.91542 8.7525C9.11375 8.55417 9.39 8.4975 9.63792 8.57542C10.4312 8.8375 11.2812 8.97917 12.1667 8.97917C12.3545 8.97917 12.5347 9.05379 12.6675 9.18663C12.8004 9.31947 12.875 9.49964 12.875 9.6875V12.1667C12.875 12.3545 12.8004 12.5347 12.6675 12.6675C12.5347 12.8004 12.3545 12.875 12.1667 12.875C8.97302 12.875 5.91017 11.6063 3.65192 9.34808C1.39367 7.08983 0.125 4.02698 0.125 0.833333C0.125 0.645472 0.199628 0.465304 0.332466 0.332466C0.465304 0.199628 0.645472 0.125 0.833333 0.125H3.3125C3.50036 0.125 3.68053 0.199628 3.81337 0.332466C3.94621 0.465304 4.02083 0.645472 4.02083 0.833333C4.02083 1.71875 4.1625 2.56875 4.42458 3.36208C4.5025 3.61 4.44583 3.88625 4.2475 4.08458L2.68917 5.64292Z",fill:"black"})})}const O1e="/assets/message-tone-B30p1O1l.mp3",eB=typeof document<"u"?fi.useLayoutEffect:()=>{};var C3;const M1e=(C3=fi.useInsertionEffect)!==null&&C3!==void 0?C3:eB;function B1e(t){const e=F.useRef(null);return M1e(()=>{e.current=t},[t]),F.useCallback((...r)=>{const n=e.current;return n?.(...r)},[])}const hh=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},Jh=t=>t&&"window"in t&&t.window===t?t:hh(t).defaultView||window;function V1e(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function U1e(t){return V1e(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let z1e=!1;function wk(){return z1e}function tB(t,e){if(!wk())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:U1e(r)?r=r.host:r=r.parentNode}return!1}const pb=(t=document)=>{var e;if(!wk())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function rB(t){return wk()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function $1e(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function q1e(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function nB(t){let e=null;return()=>(e==null&&(e=t()),e)}const H1e=nB(function(){return q1e(/^Mac/i)}),W1e=nB(function(){return $1e(/Android/i)});function iB(){let t=F.useRef(new Map),e=F.useCallback((i,s,a,o)=>{let l=o?.once?(...c)=>{t.current.delete(a),a(...c)}:a;t.current.set(a,{type:s,eventTarget:i,fn:l,options:o}),i.addEventListener(s,l,o)},[]),r=F.useCallback((i,s,a,o)=>{var l;let c=((l=t.current.get(a))===null||l===void 0?void 0:l.fn)||a;i.removeEventListener(s,c,o),t.current.delete(a)},[]),n=F.useCallback(()=>{t.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return F.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function G1e(t){return t.pointerType===""&&t.isTrusted?!0:W1e()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function sB(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function K1e(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function aB(t){let e=F.useRef({isFocused:!1,observer:null});eB(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=B1e(n=>{t?.(n)});return F.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=n.target,s=a=>{if(e.current.isFocused=!1,i.disabled){let o=sB(a);r(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var a;(a=e.current.observer)===null||a===void 0||a.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let X1e=!1,ax=null,mb=new Set,Lg=new Map,j0=!1,gb=!1;const Y1e={Tab:!0,Escape:!0};function _k(t,e){for(let r of mb)r(t,e)}function Q1e(t){return!(t.metaKey||!H1e()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function u5(t){j0=!0,Q1e(t)&&(ax="keyboard",_k("keyboard",t))}function p1(t){ax="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(j0=!0,_k("pointer",t))}function oB(t){G1e(t)&&(j0=!0,ax="virtual")}function lB(t){t.target===window||t.target===document||X1e||!t.isTrusted||(!j0&&!gb&&(ax="virtual",_k("virtual",t)),j0=!1,gb=!1)}function cB(){j0=!1,gb=!0}function xb(t){if(typeof window>"u"||typeof document>"u"||Lg.get(Jh(t)))return;const e=Jh(t),r=hh(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){j0=!0,n.apply(this,arguments)},r.addEventListener("keydown",u5,!0),r.addEventListener("keyup",u5,!0),r.addEventListener("click",oB,!0),e.addEventListener("focus",lB,!0),e.addEventListener("blur",cB,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",p1,!0),r.addEventListener("pointermove",p1,!0),r.addEventListener("pointerup",p1,!0)),e.addEventListener("beforeunload",()=>{uB(t)},{once:!0}),Lg.set(e,{focus:n})}const uB=(t,e)=>{const r=Jh(t),n=hh(t);e&&n.removeEventListener("DOMContentLoaded",e),Lg.has(r)&&(r.HTMLElement.prototype.focus=Lg.get(r).focus,n.removeEventListener("keydown",u5,!0),n.removeEventListener("keyup",u5,!0),n.removeEventListener("click",oB,!0),r.removeEventListener("focus",lB,!0),r.removeEventListener("blur",cB,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",p1,!0),n.removeEventListener("pointermove",p1,!0),n.removeEventListener("pointerup",p1,!0)),Lg.delete(r))};function J1e(t){const e=hh(t);let r;return e.readyState!=="loading"?xb(t):(r=()=>{xb(t)},e.addEventListener("DOMContentLoaded",r)),()=>uB(t,r)}typeof document<"u"&&J1e();function dB(){return ax!=="pointer"}const Z1e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function eme(t,e,r){let n=hh(r?.target);const i=typeof window<"u"?Jh(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?Jh(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Jh(r?.target).HTMLElement:HTMLElement,o=typeof window<"u"?Jh(r?.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!Z1e.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof a&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof o&&!Y1e[r.key])}function tme(t,e,r){xb(),F.useEffect(()=>{let n=(i,s)=>{eme(!!r?.isTextInput,i,s)&&t(dB())};return mb.add(n),()=>{mb.delete(n)}},e)}function rme(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const s=F.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),a=aB(s),o=F.useCallback(l=>{const c=hh(l.target),u=c?pb(c):pb();l.target===l.currentTarget&&u===rB(l.nativeEvent)&&(r&&r(l),i&&i(!0),a(l))},[i,r,a]);return{focusProps:{onFocus:!e&&(r||i||n)?o:void 0,onBlur:!e&&(n||i)?s:void 0}}}function nme(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,s=F.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:o}=iB(),l=F.useCallback(p=>{p.currentTarget.contains(p.target)&&s.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(s.current.isFocusWithin=!1,o(),r&&r(p),i&&i(!1))},[r,i,s,o]),c=aB(l),u=F.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const g=hh(p.target),m=pb(g);if(!s.current.isFocusWithin&&m===rB(p.nativeEvent)){n&&n(p),i&&i(!0),s.current.isFocusWithin=!0,c(p);let y=p.currentTarget;a(g,"focus",w=>{if(s.current.isFocusWithin&&!tB(y,w.target)){let _=new g.defaultView.FocusEvent("blur",{relatedTarget:w.target});K1e(_,y);let E=sB(_);l(E)}},{capture:!0})}},[n,i,c,a,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:l}}}let vb=!1,Iv=0;function ime(){vb=!0,setTimeout(()=>{vb=!1},50)}function jA(t){t.pointerType==="touch"&&ime()}function sme(){if(!(typeof document>"u"))return Iv===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",jA),Iv++,()=>{Iv--,!(Iv>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",jA)}}function ame(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[s,a]=F.useState(!1),o=F.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;F.useEffect(sme,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=iB(),{hoverProps:u,triggerHoverEnd:p}=F.useMemo(()=>{let g=(w,_)=>{if(o.pointerType=_,i||_==="touch"||o.isHovered||!w.currentTarget.contains(w.target))return;o.isHovered=!0;let E=w.currentTarget;o.target=E,l(hh(w.target),"pointerover",L=>{o.isHovered&&o.target&&!tB(o.target,L.target)&&m(L,L.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:E,pointerType:_}),r&&r(!0),a(!0)},m=(w,_)=>{let E=o.target;o.pointerType="",o.target=null,!(_==="touch"||!o.isHovered||!E)&&(o.isHovered=!1,c(),n&&n({type:"hoverend",target:E,pointerType:_}),r&&r(!1),a(!1))},y={};return typeof PointerEvent<"u"&&(y.onPointerEnter=w=>{vb&&w.pointerType==="mouse"||g(w,w.pointerType)},y.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&m(w,w.pointerType)}),{hoverProps:y,triggerHoverEnd:m}},[e,r,n,i,o,l,c]);return F.useEffect(()=>{i&&p({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:u,isHovered:s}}function ome(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=F.useRef({isFocused:!1,isFocusVisible:e||dB()}),[s,a]=F.useState(!1),[o,l]=F.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=F.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),u=F.useCallback(m=>{i.current.isFocused=m,a(m),c()},[c]);tme(m=>{i.current.isFocusVisible=m,c()},[],{isTextInput:r});let{focusProps:p}=rme({isDisabled:n,onFocusChange:u}),{focusWithinProps:g}=nme({isDisabled:!n,onFocusWithinChange:u});return{isFocused:s,isFocusVisible:o,focusProps:n?g:p}}var lme=Object.defineProperty,cme=(t,e,r)=>e in t?lme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T3=(t,e,r)=>(cme(t,typeof e!="symbol"?e+"":e,r),r);let ume=class{constructor(){T3(this,"current",this.detect()),T3(this,"handoffState","pending"),T3(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Tu=new ume;function om(t){var e,r;return Tu.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(r=(e=t.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}function fB(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function fc(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return fB(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=fc();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function f4(){let[t]=F.useState(fc);return F.useEffect(()=>()=>t.dispose(),[t]),t}let Hs=(t,e)=>{Tu.isServer?F.useEffect(t,e):F.useLayoutEffect(t,e)};function ox(t){let e=F.useRef(t);return Hs(()=>{e.current=t},[t]),e}let Vn=function(t){let e=ox(t);return fi.useCallback((...r)=>e.current(...r),[e])};function dme(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function fme(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function hme({disabled:t=!1}={}){let e=F.useRef(null),[r,n]=F.useState(!1),i=f4(),s=Vn(()=>{e.current=null,n(!1),i.dispose()}),a=Vn(o=>{if(i.dispose(),e.current===null){e.current=o.currentTarget,n(!0);{let l=om(o.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let u=dme(c);n(fme(u,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:a,onPointerUp:s,onClick:s}}}let pme=F.createContext(void 0);function hB(){return F.useContext(pme)}function DA(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function lm(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,lm),n}var yb=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(yb||{}),mme=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(mme||{});function hc(){let t=xme();return F.useCallback(e=>gme({mergeRefs:t,...e}),[t])}function gme({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:a,mergeRefs:o}){o=o??vme;let l=pB(e,t);if(s)return Pv(l,r,n,a,o);let c=i??0;if(c&2){let{static:u=!1,...p}=l;if(u)return Pv(p,r,n,a,o)}if(c&1){let{unmount:u=!0,...p}=l;return lm(u?0:1,{0(){return null},1(){return Pv({...p,hidden:!0,style:{display:"none"}},r,n,a,o)}})}return Pv(l,r,n,a,o)}function Pv(t,e={},r,n,i){let{as:s=r,children:a,refName:o="ref",...l}=A3(t,["unmount","static"]),c=t.ref!==void 0?{[o]:t.ref}:{},u=typeof a=="function"?a(e):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(e){let g=!1,m=[];for(let[y,w]of Object.entries(e))typeof w=="boolean"&&(g=!0),w===!0&&m.push(y.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(g){p["data-headlessui-state"]=m.join(" ");for(let y of m)p[`data-${y}`]=""}}if(s===F.Fragment&&(Object.keys(Fp(l)).length>0||Object.keys(Fp(p)).length>0))if(!F.isValidElement(u)||Array.isArray(u)&&u.length>1){if(Object.keys(Fp(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Fp(l)).concat(Object.keys(Fp(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=u.props,m=g?.className,y=typeof m=="function"?(...E)=>DA(m(...E),l.className):DA(m,l.className),w=y?{className:y}:{},_=pB(u.props,Fp(A3(l,["ref"])));for(let E in p)E in _&&delete p[E];return F.cloneElement(u,Object.assign({},_,p,c,{ref:i(yme(u),c.ref)},w))}return F.createElement(s,Object.assign({},A3(l,["ref"]),s!==F.Fragment&&c,s!==F.Fragment&&p),u)}function xme(){let t=F.useRef([]),e=F.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function vme(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function pB(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...s){let a=r[n];for(let o of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;o(i,...s)}}});return e}function mB(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let s=r[n];for(let a of s)a?.(...i)}});return e}function pc(t){var e;return Object.assign(F.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Fp(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function A3(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function yme(t){return fi.version.split(".")[0]>="19"?t.props.ref:t.ref}let wme=F.createContext(void 0);function _me(){return F.useContext(wme)}function bk(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function h4(t){return bk(t)&&"tagName"in t}function Od(t){return h4(t)&&"accessKey"in t}function Zh(t){return h4(t)&&"tabIndex"in t}function bme(t){return h4(t)&&"style"in t}function kme(t){return Od(t)&&t.nodeName==="IFRAME"}function gB(t){return Od(t)&&t.nodeName==="INPUT"}function OA(t){return Od(t)&&t.nodeName==="LABEL"}function Sme(t){return Od(t)&&t.nodeName==="FIELDSET"}function xB(t){return Od(t)&&t.nodeName==="LEGEND"}function Eme(t){return h4(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Cme(t){let e=t.parentElement,r=null;for(;e&&!Sme(e);)xB(e)&&(r=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&Tme(r)?!1:n}function Tme(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(xB(e))return!1;e=e.previousElementSibling}return!0}let vB=Symbol();function Ame(t,e=!0){return Object.assign(t,{[vB]:e})}function Md(...t){let e=F.useRef(t);F.useEffect(()=>{e.current=t},[t]);let r=Vn(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||n?.[vB])?void 0:r}let kk=F.createContext(null);kk.displayName="DescriptionContext";function yB(){let t=F.useContext(kk);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,yB),e}return t}function Nme(){let[t,e]=F.useState([]);return[t.length>0?t.join(" "):void 0,F.useMemo(()=>function(r){let n=Vn(s=>(e(a=>[...a,s]),()=>e(a=>{let o=a.slice(),l=o.indexOf(s);return l!==-1&&o.splice(l,1),o}))),i=F.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return fi.createElement(kk.Provider,{value:i},r.children)},[e])]}let Ime="p";function Pme(t,e){let r=F.useId(),n=hB(),{id:i=`headlessui-description-${r}`,...s}=t,a=yB(),o=Md(e);Hs(()=>a.register(i),[i,a.register]);let l=n||!1,c=F.useMemo(()=>({...a.slot,disabled:l}),[a.slot,l]),u={ref:o,...a.props,id:i};return hc()({ourProps:u,theirProps:s,slot:c,defaultTag:Ime,name:a.name||"Description"})}let Rme=pc(Pme);Object.assign(Rme,{});var Ma=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ma||{});let p4=F.createContext(null);p4.displayName="LabelContext";function Sk(){let t=F.useContext(p4);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Sk),e}return t}function Lme(t){var e,r,n;let i=(r=(e=F.useContext(p4))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function wB({inherit:t=!1}={}){let e=Lme(),[r,n]=F.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,F.useMemo(()=>function(s){let a=Vn(l=>(n(c=>[...c,l]),()=>n(c=>{let u=c.slice(),p=u.indexOf(l);return p!==-1&&u.splice(p,1),u}))),o=F.useMemo(()=>({register:a,slot:s.slot,name:s.name,props:s.props,value:s.value}),[a,s.slot,s.name,s.props,s.value]);return fi.createElement(p4.Provider,{value:o},s.children)},[n])]}let Fme="label";function jme(t,e){var r;let n=F.useId(),i=Sk(),s=_me(),a=hB(),{id:o=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...u}=t,p=Md(e);Hs(()=>i.register(o),[o,i.register]);let g=Vn(_=>{let E=_.currentTarget;if(!(_.target!==_.currentTarget&&Eme(_.target))&&(OA(E)&&_.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(_),OA(E))){let L=document.getElementById(E.htmlFor);if(L){let I=L.getAttribute("disabled");if(I==="true"||I==="")return;let V=L.getAttribute("aria-disabled");if(V==="true"||V==="")return;(gB(L)&&(L.type==="file"||L.type==="radio"||L.type==="checkbox")||L.role==="radio"||L.role==="checkbox"||L.role==="switch")&&L.click(),L.focus({preventScroll:!0})}}}),m=a||!1,y=F.useMemo(()=>({...i.slot,disabled:m}),[i.slot,m]),w={ref:p,...i.props,id:o,htmlFor:l,onClick:g};return c&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in u&&delete u.onClick),hc()({ourProps:w,theirProps:u,slot:y,defaultTag:l?Fme:"div",name:i.name||"Label"})}let Dme=pc(jme);Object.assign(Dme,{});function Ome(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function Mme(t,e=!1){let[r,n]=F.useReducer(()=>({}),{}),i=F.useMemo(()=>Ome(t),[t,r]);return Hs(()=>{if(!t)return;let s=new ResizeObserver(n);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let _B=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var Bme=Object.defineProperty,Vme=(t,e,r)=>e in t?Bme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ume=(t,e,r)=>(Vme(t,e+"",r),r),bB=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Yl=(t,e,r)=>(bB(t,e,"read from private field"),r?r.call(t):e.get(t)),N3=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},MA=(t,e,r,n)=>(bB(t,e,"write to private field"),e.set(t,r),r),pu,dg,fg;let kB=class{constructor(e){N3(this,pu,{}),N3(this,dg,new _B(()=>new Set)),N3(this,fg,new Set),Ume(this,"disposables",fc()),MA(this,pu,e),Tu.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Yl(this,pu)}subscribe(e,r){if(Tu.isServer)return()=>{};let n={selector:e,callback:r,current:e(Yl(this,pu))};return Yl(this,fg).add(n),this.disposables.add(()=>{Yl(this,fg).delete(n)})}on(e,r){return Tu.isServer?()=>{}:(Yl(this,dg).get(e).add(r),this.disposables.add(()=>{Yl(this,dg).get(e).delete(r)}))}send(e){let r=this.reduce(Yl(this,pu),e);if(r!==Yl(this,pu)){MA(this,pu,r);for(let n of Yl(this,fg)){let i=n.selector(Yl(this,pu));SB(n.current,i)||(n.current=i,n.callback(i))}for(let n of Yl(this,dg).get(e.type))n(Yl(this,pu),e)}}};pu=new WeakMap,dg=new WeakMap,fg=new WeakMap;function SB(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:I3(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:I3(t.entries(),e.entries()):BA(t)&&BA(e)?I3(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function I3(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function BA(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function VA(t){let[e,r]=t(),n=fc();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var zme=Object.defineProperty,$me=(t,e,r)=>e in t?zme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,UA=(t,e,r)=>($me(t,typeof e!="symbol"?e+"":e,r),r),EB=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(EB||{});let qme={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(r),n=s,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},Hme=class CB extends kB{constructor(){super(...arguments),UA(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),UA(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new CB({stack:[]})}reduce(e,r){return lm(r.type,qme,e,r)}};const Ek=new _B(()=>Hme.new());var P3={exports:{}},R3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function Wme(){if(zA)return R3;zA=1;var t=w5();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return R3.useSyncExternalStoreWithSelector=function(l,c,u,p,g){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function _(G){if(!E){if(E=!0,L=G,G=p(G),g!==void 0&&y.hasValue){var X=y.value;if(g(X,G))return I=X}return I=G}if(X=I,r(L,G))return X;var R=p(G);return g!==void 0&&g(X,R)?(L=G,X):(L=G,I=R)}var E=!1,L,I,V=u===void 0?null:u;return[function(){return _(c())},V===null?void 0:function(){return _(V())}]},[c,u,p,g]);var w=n(l,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),o(w),w},R3}var $A;function Gme(){return $A||($A=1,P3.exports=Wme()),P3.exports}var Kme=Gme();function bu(t,e,r=SB){return Kme.useSyncExternalStoreWithSelector(Vn(n=>t.subscribe(Xme,n)),Vn(()=>t.state),Vn(()=>t.state),Vn(e),r)}function Xme(t){return t}function TB(t,e){let r=F.useId(),n=Ek.get(e),[i,s]=bu(n,F.useCallback(a=>[n.selectors.isTop(a,r),n.selectors.inStack(a,r)],[n,r]));return Hs(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?s?i:!0:!1}let wb=new Map,Fg=new Map;function qA(t){var e;let r=(e=Fg.get(t))!=null?e:0;return Fg.set(t,r+1),r!==0?()=>HA(t):(wb.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>HA(t))}function HA(t){var e;let r=(e=Fg.get(t))!=null?e:1;if(r===1?Fg.delete(t):Fg.set(t,r-1),r!==1)return;let n=wb.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,wb.delete(t))}function Yme(t,{allowed:e,disallowed:r}={}){let n=TB(t,"inert-others");Hs(()=>{var i,s;if(!n)return;let a=fc();for(let l of(i=r?.())!=null?i:[])l&&a.add(qA(l));let o=(s=e?.())!=null?s:[];for(let l of o){if(!l)continue;let c=om(l);if(!c)continue;let u=l.parentElement;for(;u&&u!==c.body;){for(let p of u.children)o.some(g=>p.contains(g))||a.add(qA(p));u=u.parentElement}}return a.dispose},[n,e,r])}function Qme(t,e,r){let n=ox(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});F.useEffect(()=>{if(!t)return;let i=e===null?null:Od(e)?e:e.current;if(!i)return;let s=fc();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>n.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>n.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,n,t])}let _b=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),Jme=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var bb=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(bb||{}),Zme=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Zme||{}),ege=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(ege||{});function AB(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(_b)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function tge(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Jme)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ck=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Ck||{});function Tk(t,e=0){var r;return t===((r=om(t))==null?void 0:r.body)?!1:lm(e,{0(){return t.matches(_b)},1(){let n=t;for(;n!==null;){if(n.matches(_b))return!0;n=n.parentElement}return!1}})}function NB(t){let e=om(t);fc().nextFrame(()=>{e&&Zh(e.activeElement)&&!Tk(e.activeElement,0)&&nge(t)})}var rge=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(rge||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function nge(t){t?.focus({preventScroll:!0})}let ige=["textarea","input"].join(",");function sge(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,ige))!=null?r:!1}function IB(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function age(t,e){return oge(AB(),e,{relativeTo:t})}function oge(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,a=Array.isArray(t)?r?IB(t):t:e&64?tge(t):AB(t);i.length>0&&a.length>1&&(a=a.filter(m=>!i.some(y=>y!=null&&"current"in y?y?.current===m:y===m))),n=n??s.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(n))-1;if(e&4)return Math.max(0,a.indexOf(n))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},u=0,p=a.length,g;do{if(u>=p||u+p<=0)return 0;let m=l+u;if(e&16)m=(m+p)%p;else{if(m<0)return 3;if(m>=p)return 1}g=a[m],g?.focus(c),u+=o}while(g!==s.activeElement);return e&6&&sge(g)&&g.select(),2}function PB(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function lge(){return/Android/gi.test(window.navigator.userAgent)}function WA(){return PB()||lge()}function Hp(t,e,r,n){let i=ox(r);F.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[t,e,n])}function cge(t,e,r,n){let i=ox(r);F.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[t,e,n])}const GA=30;function uge(t,e,r){let n=ox(r),i=F.useCallback(function(o,l){if(o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=(function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]})(e);for(let p of u)if(p!==null&&(p.contains(c)||o.composed&&o.composedPath().includes(p)))return;return!Tk(c,Ck.Loose)&&c.tabIndex!==-1&&o.preventDefault(),n.current(o,c)},[n,e]),s=F.useRef(null);Hp(t,"pointerdown",o=>{var l,c;WA()||(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Hp(t,"pointerup",o=>{if(WA()||!s.current)return;let l=s.current;return s.current=null,i(o,()=>l)},!0);let a=F.useRef({x:0,y:0});Hp(t,"touchstart",o=>{a.current.x=o.touches[0].clientX,a.current.y=o.touches[0].clientY},!0),Hp(t,"touchend",o=>{let l={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(l.x-a.current.x)>=GA||Math.abs(l.y-a.current.y)>=GA))return i(o,()=>Zh(o.target)?o.target:null)},!0),cge(t,"blur",o=>i(o,()=>kme(window.document.activeElement)?window.document.activeElement:null),!0)}function kb(...t){return F.useMemo(()=>om(...t),[...t])}var dge=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(dge||{});const Rv={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},fge=200,KA=5;function hge(t,{trigger:e,action:r,close:n,select:i}){let s=F.useRef(null),a=F.useRef(null),o=F.useRef(null);Hp(t&&e!==null,"pointerdown",l=>{bk(l?.target)&&e!=null&&e.contains(l.target)&&(a.current=l.x,o.current=l.y,s.current=l.timeStamp)}),Hp(t&&e!==null,"pointerup",l=>{var c,u;let p=s.current;if(p===null||(s.current=null,!Zh(l.target))||Math.abs(l.x-((c=a.current)!=null?c:l.x))<KA&&Math.abs(l.y-((u=o.current)!=null?u:l.y))<KA)return;let g=r(l);switch(g.kind){case 0:return;case 1:{l.timeStamp-p>fge&&(i(g.target),n());break}case 2:{n();break}}},{capture:!0})}function pge(t,e){return F.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function mge(t){return F.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function gge(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let a=e[i].call(r,...s);a&&(r=a,n.forEach(o=>o()))}}}function xge(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}}}function vge(){return PB()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=fc();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",o=>{if(Zh(o.target))try{let l=o.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),u=t.querySelector(c);Zh(u)&&!n(u)&&(a=u)}catch{}},!0),e.addEventListener(t,"touchstart",o=>{if(Zh(o.target)&&bme(o.target))if(n(o.target)){let l=o.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(o.target,"touchAction","none")}),e.addEventListener(t,"touchmove",o=>{if(Zh(o.target)){if(gB(o.target))return;if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;s!==l&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function yge(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function wge(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let e0=gge(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:fc(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:wge(r)},i=[vge(),xge(),yge()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});e0.subscribe(()=>{let t=e0.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&e0.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&e0.dispatch("TEARDOWN",r)}});function _ge(t,e,r=()=>({containers:[]})){let n=mge(e0),i=e?n.get(e):void 0,s=i?i.count>0:!1;return Hs(()=>{if(!(!e||!t))return e0.dispatch("PUSH",e,r),()=>e0.dispatch("POP",e,r)},[t,e]),s}function bge(t,e,r=()=>[document.body]){let n=TB(t,"scroll-lock");_ge(n,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function XA(t){return[t.screenX,t.screenY]}function kge(){let t=F.useRef([-1,-1]);return{wasMoved(e){let r=XA(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=XA(e)}}}function Sge(t=0){let[e,r]=F.useState(t),n=F.useCallback(l=>r(l),[e]),i=F.useCallback(l=>r(c=>c|l),[e]),s=F.useCallback(l=>(e&l)===l,[e]),a=F.useCallback(l=>r(c=>c&~l),[r]),o=F.useCallback(l=>r(c=>c^l),[r]);return{flags:e,setFlag:n,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:o}}var Ege={},YA,QA;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((YA=process==null?void 0:Ege)==null?void 0:YA.NODE_ENV)==="test"&&typeof((QA=Element?.prototype)==null?void 0:QA.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Cge=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Cge||{});function Tge(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function Age(t,e,r,n){let[i,s]=F.useState(r),{hasFlag:a,addFlag:o,removeFlag:l}=Sge(t&&i?3:0),c=F.useRef(!1),u=F.useRef(!1),p=f4();return Hs(()=>{var g;if(t){if(r&&s(!0),!e){r&&o(3);return}return(g=void 0)==null||g.call(n,r),Nge(e,{inFlight:c,prepare(){u.current?u.current=!1:u.current=c.current,c.current=!0,!u.current&&(r?(o(3),l(4)):(o(4),l(2)))},run(){u.current?r?(l(3),o(4)):(l(4),o(3)):r?l(1):o(1)},done(){var m;u.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),r||s(!1),(m=void 0)==null||m.call(n,r))}})}},[t,r,e,p]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Nge(t,{prepare:e,run:r,done:n,inFlight:i}){let s=fc();return Pge(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(Ige(t,n))})}),s.dispose}function Ige(t,e){var r,n;let i=fc();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(o=>o instanceof CSSTransition))!=null?n:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(o=>o.finished)).then(()=>{s||e()}),i.dispose)}function Pge(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function Rge(t,{container:e,accept:r,walk:n}){let i=F.useRef(r),s=F.useRef(n);F.useEffect(()=>{i.current=r,s.current=n},[r,n]),Hs(()=>{if(!e||!t)return;let a=om(e);if(!a)return;let o=i.current,l=s.current,c=Object.assign(p=>o(p),{acceptNode:o}),u=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;u.nextNode();)l(u.currentNode)},[e,t,i,s])}function m4(){return typeof window<"u"}function cm(t){return RB(t)?(t.nodeName||"").toLowerCase():"#document"}function Al(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bu(t){var e;return(e=(RB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RB(t){return m4()?t instanceof Node||t instanceof Al(t).Node:!1}function Oo(t){return m4()?t instanceof Element||t instanceof Al(t).Element:!1}function Lu(t){return m4()?t instanceof HTMLElement||t instanceof Al(t).HTMLElement:!1}function JA(t){return!m4()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Al(t).ShadowRoot}const Lge=new Set(["inline","contents"]);function lx(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=$c(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Lge.has(i)}const Fge=new Set(["table","td","th"]);function jge(t){return Fge.has(cm(t))}const Dge=[":popover-open",":modal"];function g4(t){return Dge.some(e=>{try{return t.matches(e)}catch{return!1}})}const Oge=["transform","translate","scale","rotate","perspective"],Mge=["transform","translate","scale","rotate","perspective","filter"],Bge=["paint","layout","strict","content"];function Ak(t){const e=Nk(),r=Oo(t)?$c(t):t;return Oge.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Mge.some(n=>(r.willChange||"").includes(n))||Bge.some(n=>(r.contain||"").includes(n))}function Vge(t){let e=Jf(t);for(;Lu(e)&&!M1(e);){if(Ak(e))return e;if(g4(e))return null;e=Jf(e)}return null}function Nk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Uge=new Set(["html","body","#document"]);function M1(t){return Uge.has(cm(t))}function $c(t){return Al(t).getComputedStyle(t)}function x4(t){return Oo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jf(t){if(cm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||JA(t)&&t.host||Bu(t);return JA(e)?e.host:e}function LB(t){const e=Jf(t);return M1(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lu(e)&&lx(e)?e:LB(e)}function v2(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=LB(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Al(i);if(s){const o=Sb(a);return e.concat(a,a.visualViewport||[],lx(i)?i:[],o&&r?v2(o):[])}return e.concat(i,v2(i,[],r))}function Sb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zge(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const D0=Math.min,wo=Math.max,y2=Math.round,Lv=Math.floor,Au=t=>({x:t,y:t}),$ge={left:"right",right:"left",bottom:"top",top:"bottom"},qge={start:"end",end:"start"};function ZA(t,e,r){return wo(t,D0(e,r))}function um(t,e){return typeof t=="function"?t(e):t}function Zf(t){return t.split("-")[0]}function cx(t){return t.split("-")[1]}function FB(t){return t==="x"?"y":"x"}function jB(t){return t==="y"?"height":"width"}const Hge=new Set(["top","bottom"]);function fd(t){return Hge.has(Zf(t))?"y":"x"}function DB(t){return FB(fd(t))}function Wge(t,e,r){r===void 0&&(r=!1);const n=cx(t),i=DB(t),s=jB(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=d5(a)),[a,d5(a)]}function Gge(t){const e=d5(t);return[Eb(t),e,Eb(e)]}function Eb(t){return t.replace(/start|end/g,e=>qge[e])}const eN=["left","right"],tN=["right","left"],Kge=["top","bottom"],Xge=["bottom","top"];function Yge(t,e,r){switch(t){case"top":case"bottom":return r?e?tN:eN:e?eN:tN;case"left":case"right":return e?Kge:Xge;default:return[]}}function Qge(t,e,r,n){const i=cx(t);let s=Yge(Zf(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Eb)))),s}function d5(t){return t.replace(/left|right|bottom|top/g,e=>$ge[e])}function Jge(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zge(t){return typeof t!="number"?Jge(t):{top:t,right:t,bottom:t,left:t}}function f5(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function rN(t,e,r){let{reference:n,floating:i}=t;const s=fd(e),a=DB(e),o=jB(a),l=Zf(e),c=s==="y",u=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[o]/2-i[o]/2;let m;switch(l){case"top":m={x:u,y:n.y-i.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:p};break;case"left":m={x:n.x-i.width,y:p};break;default:m={x:n.x,y:n.y}}switch(cx(e)){case"start":m[a]-=g*(r&&c?-1:1);break;case"end":m[a]+=g*(r&&c?-1:1);break}return m}const e2e=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:p}=rN(c,n,l),g=n,m={},y=0;for(let w=0;w<o.length;w++){const{name:_,fn:E}=o[w],{x:L,y:I,data:V,reset:G}=await E({x:u,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:t,floating:e}});u=L??u,p=I??p,m={...m,[_]:{...m[_],...V}},G&&y<=50&&(y++,typeof G=="object"&&(G.placement&&(g=G.placement),G.rects&&(c=G.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):G.rects),{x:u,y:p}=rN(c,g,l)),w=-1)}return{x:u,y:p,placement:g,strategy:i,middlewareData:m}};async function v4(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=um(e,t),y=Zge(m),_=o[g?p==="floating"?"reference":"floating":p],E=f5(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),L=p==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),V=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},G=f5(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:L,offsetParent:I,strategy:l}):L);return{top:(E.top-G.top+y.top)/V.y,bottom:(G.bottom-E.bottom+y.bottom)/V.y,left:(E.left-G.left+y.left)/V.x,right:(G.right-E.right+y.right)/V.x}}const t2e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,..._}=um(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=Zf(i),L=fd(o),I=Zf(o)===o,V=await(l.isRTL==null?void 0:l.isRTL(c.floating)),G=g||(I||!w?[d5(o)]:Gge(o)),X=y!=="none";!g&&X&&G.push(...Qge(o,w,y,V));const R=[o,...G],A=await v4(e,_),C=[];let D=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&C.push(A[E]),p){const te=Wge(i,a,V);C.push(A[te[0]],A[te[1]])}if(D=[...D,{placement:i,overflows:C}],!C.every(te=>te<=0)){var N,j;const te=(((N=s.flip)==null?void 0:N.index)||0)+1,he=R[te];if(he&&(!(p==="alignment"?L!==fd(he):!1)||D.every(ie=>fd(ie.placement)===L?ie.overflows[0]>0:!0)))return{data:{index:te,overflows:D},reset:{placement:he}};let _e=(j=D.filter(fe=>fe.overflows[0]<=0).sort((fe,ie)=>fe.overflows[1]-ie.overflows[1])[0])==null?void 0:j.placement;if(!_e)switch(m){case"bestFit":{var B;const fe=(B=D.filter(ie=>{if(X){const W=fd(ie.placement);return W===L||W==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(W=>W>0).reduce((W,ue)=>W+ue,0)]).sort((ie,W)=>ie[1]-W[1])[0])==null?void 0:B[0];fe&&(_e=fe);break}case"initialPlacement":_e=o;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}},r2e=new Set(["left","top"]);async function n2e(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Zf(r),o=cx(r),l=fd(r)==="y",c=r2e.has(a)?-1:1,u=s&&l?-1:1,p=um(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),l?{x:m*u,y:g*c}:{x:g*c,y:m*u}}const i2e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await n2e(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},s2e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:_=>{let{x:E,y:L}=_;return{x:E,y:L}}},...l}=um(t,e),c={x:r,y:n},u=await v4(e,l),p=fd(Zf(i)),g=FB(p);let m=c[g],y=c[p];if(s){const _=g==="y"?"top":"left",E=g==="y"?"bottom":"right",L=m+u[_],I=m-u[E];m=ZA(L,m,I)}if(a){const _=p==="y"?"top":"left",E=p==="y"?"bottom":"right",L=y+u[_],I=y-u[E];y=ZA(L,y,I)}const w=o.fn({...e,[g]:m,[p]:y});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[g]:s,[p]:a}}}}}},a2e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=um(t,e),u=await v4(e,c),p=Zf(i),g=cx(i),m=fd(i)==="y",{width:y,height:w}=s.floating;let _,E;p==="top"||p==="bottom"?(_=p,E=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(E=p,_=g==="end"?"top":"bottom");const L=w-u.top-u.bottom,I=y-u.left-u.right,V=D0(w-u[_],L),G=D0(y-u[E],I),X=!e.middlewareData.shift;let R=V,A=G;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=I),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(R=L),X&&!g){const D=wo(u.left,0),N=wo(u.right,0),j=wo(u.top,0),B=wo(u.bottom,0);m?A=y-2*(D!==0||N!==0?D+N:wo(u.left,u.right)):R=w-2*(j!==0||B!==0?j+B:wo(u.top,u.bottom))}await l({...e,availableWidth:A,availableHeight:R});const C=await a.getDimensions(o.floating);return y!==C.width||w!==C.height?{reset:{rects:!0}}:{}}}};function OB(t){const e=$c(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Lu(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=y2(r)!==s||y2(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function Ik(t){return Oo(t)?t:t.contextElement}function m1(t){const e=Ik(t);if(!Lu(e))return Au(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=OB(e);let a=(s?y2(r.width):r.width)/n,o=(s?y2(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const o2e=Au(0);function MB(t){const e=Al(t);return!Nk()||!e.visualViewport?o2e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function l2e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Al(t)?!1:e}function O0(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=Ik(t);let a=Au(1);e&&(n?Oo(n)&&(a=m1(n)):a=m1(t));const o=l2e(s,r,n)?MB(s):Au(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,p=i.height/a.y;if(s){const g=Al(s),m=n&&Oo(n)?Al(n):n;let y=g,w=Sb(y);for(;w&&n&&m!==y;){const _=m1(w),E=w.getBoundingClientRect(),L=$c(w),I=E.left+(w.clientLeft+parseFloat(L.paddingLeft))*_.x,V=E.top+(w.clientTop+parseFloat(L.paddingTop))*_.y;l*=_.x,c*=_.y,u*=_.x,p*=_.y,l+=I,c+=V,y=Al(w),w=Sb(y)}}return f5({width:u,height:p,x:l,y:c})}function y4(t,e){const r=x4(t).scrollLeft;return e?e.left+r:O0(Bu(t)).left+r}function BB(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-y4(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function c2e(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=Bu(n),o=e?g4(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Au(1);const u=Au(0),p=Lu(n);if((p||!p&&!s)&&((cm(n)!=="body"||lx(a))&&(l=x4(n)),Lu(n))){const m=O0(n);c=m1(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const g=a&&!p&&!s?BB(a,l):Au(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+g.x,y:r.y*c.y-l.scrollTop*c.y+u.y+g.y}}function u2e(t){return Array.from(t.getClientRects())}function d2e(t){const e=Bu(t),r=x4(t),n=t.ownerDocument.body,i=wo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=wo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+y4(t);const o=-r.scrollTop;return $c(n).direction==="rtl"&&(a+=wo(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const nN=25;function f2e(t,e){const r=Al(t),n=Bu(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=Nk();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=y4(n);if(c<=0){const u=n.ownerDocument,p=u.body,g=getComputedStyle(p),m=u.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,y=Math.abs(n.clientWidth-p.clientWidth-m);y<=nN&&(s-=y)}else c<=nN&&(s+=c);return{width:s,height:a,x:o,y:l}}const h2e=new Set(["absolute","fixed"]);function p2e(t,e){const r=O0(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Lu(t)?m1(t):Au(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function iN(t,e,r){let n;if(e==="viewport")n=f2e(t,r);else if(e==="document")n=d2e(Bu(t));else if(Oo(e))n=p2e(e,r);else{const i=MB(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return f5(n)}function VB(t,e){const r=Jf(t);return r===e||!Oo(r)||M1(r)?!1:$c(r).position==="fixed"||VB(r,e)}function m2e(t,e){const r=e.get(t);if(r)return r;let n=v2(t,[],!1).filter(o=>Oo(o)&&cm(o)!=="body"),i=null;const s=$c(t).position==="fixed";let a=s?Jf(t):t;for(;Oo(a)&&!M1(a);){const o=$c(a),l=Ak(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&h2e.has(i.position)||lx(a)&&!l&&VB(t,a))?n=n.filter(u=>u!==a):i=o,a=Jf(a)}return e.set(t,n),n}function g2e(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?g4(e)?[]:m2e(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,u)=>{const p=iN(e,u,i);return c.top=wo(p.top,c.top),c.right=D0(p.right,c.right),c.bottom=D0(p.bottom,c.bottom),c.left=wo(p.left,c.left),c},iN(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function x2e(t){const{width:e,height:r}=OB(t);return{width:e,height:r}}function v2e(t,e,r){const n=Lu(e),i=Bu(e),s=r==="fixed",a=O0(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Au(0);function c(){l.x=y4(i)}if(n||!n&&!s)if((cm(e)!=="body"||lx(i))&&(o=x4(e)),n){const m=O0(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?BB(i,o):Au(0),p=a.left+o.scrollLeft-l.x-u.x,g=a.top+o.scrollTop-l.y-u.y;return{x:p,y:g,width:a.width,height:a.height}}function L3(t){return $c(t).position==="static"}function sN(t,e){if(!Lu(t)||$c(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Bu(t)===r&&(r=r.ownerDocument.body),r}function UB(t,e){const r=Al(t);if(g4(t))return r;if(!Lu(t)){let i=Jf(t);for(;i&&!M1(i);){if(Oo(i)&&!L3(i))return i;i=Jf(i)}return r}let n=sN(t,e);for(;n&&jge(n)&&L3(n);)n=sN(n,e);return n&&M1(n)&&L3(n)&&!Ak(n)?r:n||Vge(t)||r}const y2e=async function(t){const e=this.getOffsetParent||UB,r=this.getDimensions,n=await r(t.floating);return{reference:v2e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function w2e(t){return $c(t).direction==="rtl"}const _2e={convertOffsetParentRelativeRectToViewportRelativeRect:c2e,getDocumentElement:Bu,getClippingRect:g2e,getOffsetParent:UB,getElementRects:y2e,getClientRects:u2e,getDimensions:x2e,getScale:m1,isElement:Oo,isRTL:w2e};function zB(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function b2e(t,e){let r=null,n;const i=Bu(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:p,width:g,height:m}=c;if(o||e(),!g||!m)return;const y=Lv(p),w=Lv(i.clientWidth-(u+g)),_=Lv(i.clientHeight-(p+m)),E=Lv(u),I={rootMargin:-y+"px "+-w+"px "+-_+"px "+-E+"px",threshold:wo(0,D0(1,l))||1};let V=!0;function G(X){const R=X[0].intersectionRatio;if(R!==l){if(!V)return a();R?a(!1,R):n=setTimeout(()=>{a(!1,1e-7)},1e3)}R===1&&!zB(c,t.getBoundingClientRect())&&a(),V=!1}try{r=new IntersectionObserver(G,{...I,root:i.ownerDocument})}catch{r=new IntersectionObserver(G,I)}r.observe(t)}return a(!0),s}function k2e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Ik(t),u=i||s?[...c?v2(c):[],...v2(e)]:[];u.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),s&&E.addEventListener("resize",r)});const p=c&&o?b2e(c,r):null;let g=-1,m=null;a&&(m=new ResizeObserver(E=>{let[L]=E;L&&L.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var I;(I=m)==null||I.observe(e)})),r()}),c&&!l&&m.observe(c),m.observe(e));let y,w=l?O0(t):null;l&&_();function _(){const E=O0(t);w&&!zB(w,E)&&r(),w=E,y=requestAnimationFrame(_)}return r(),()=>{var E;u.forEach(L=>{i&&L.removeEventListener("scroll",r),s&&L.removeEventListener("resize",r)}),p?.(),(E=m)==null||E.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const F3=v4,S2e=i2e,E2e=s2e,C2e=t2e,T2e=a2e,A2e=(t,e,r)=>{const n=new Map,i={platform:_2e,...r},s={...i.platform,_c:n};return e2e(t,e,{...i,platform:s})};var N2e=typeof document<"u",I2e=function(){},ly=N2e?F.useLayoutEffect:I2e;function h5(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!h5(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!h5(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function $B(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function aN(t,e){const r=$B(t);return Math.round(e*r)/r}function j3(t){const e=F.useRef(t);return ly(()=>{e.current=t}),e}function P2e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,p]=F.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=F.useState(n);h5(g,n)||m(n);const[y,w]=F.useState(null),[_,E]=F.useState(null),L=F.useCallback(ie=>{ie!==X.current&&(X.current=ie,w(ie))},[]),I=F.useCallback(ie=>{ie!==R.current&&(R.current=ie,E(ie))},[]),V=s||y,G=a||_,X=F.useRef(null),R=F.useRef(null),A=F.useRef(u),C=l!=null,D=j3(l),N=j3(i),j=j3(c),B=F.useCallback(()=>{if(!X.current||!R.current)return;const ie={placement:e,strategy:r,middleware:g};N.current&&(ie.platform=N.current),A2e(X.current,R.current,ie).then(W=>{const ue={...W,isPositioned:j.current!==!1};te.current&&!h5(A.current,ue)&&(A.current=ue,Ps.flushSync(()=>{p(ue)}))})},[g,e,r,N,j]);ly(()=>{c===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,p(ie=>({...ie,isPositioned:!1})))},[c]);const te=F.useRef(!1);ly(()=>(te.current=!0,()=>{te.current=!1}),[]),ly(()=>{if(V&&(X.current=V),G&&(R.current=G),V&&G){if(D.current)return D.current(V,G,B);B()}},[V,G,B,D,C]);const he=F.useMemo(()=>({reference:X,floating:R,setReference:L,setFloating:I}),[L,I]),_e=F.useMemo(()=>({reference:V,floating:G}),[V,G]),fe=F.useMemo(()=>{const ie={position:r,left:0,top:0};if(!_e.floating)return ie;const W=aN(_e.floating,u.x),ue=aN(_e.floating,u.y);return o?{...ie,transform:"translate("+W+"px, "+ue+"px)",...$B(_e.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:ue}},[r,o,_e.floating,u.x,u.y]);return F.useMemo(()=>({...u,update:B,refs:he,elements:_e,floatingStyles:fe}),[u,B,he,_e,fe])}const qB=(t,e)=>({...S2e(t),options:[t,e]}),R2e=(t,e)=>({...E2e(t),options:[t,e]}),L2e=(t,e)=>({...C2e(t),options:[t,e]}),F2e=(t,e)=>({...T2e(t),options:[t,e]}),HB={...py},j2e=HB.useInsertionEffect,D2e=j2e||(t=>t());function WB(t){const e=F.useRef(()=>{});return D2e(()=>{e.current=t}),F.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Cb=typeof document<"u"?F.useLayoutEffect:F.useEffect;let oN=!1,O2e=0;const lN=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+O2e++;function M2e(){const[t,e]=F.useState(()=>oN?lN():void 0);return Cb(()=>{t==null&&e(lN())},[]),F.useEffect(()=>{oN=!0},[]),t}const B2e=HB.useId,V2e=B2e||M2e;function U2e(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const z2e=F.createContext(null),$2e=F.createContext(null),q2e=()=>{var t;return((t=F.useContext(z2e))==null?void 0:t.id)||null},H2e=()=>F.useContext($2e),W2e="data-floating-ui-focusable";function G2e(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=V2e(),s=F.useRef({}),[a]=F.useState(()=>U2e()),o=q2e()!=null,[l,c]=F.useState(n.reference),u=WB((m,y,w)=>{s.current.openEvent=m?y:void 0,a.emit("openchange",{open:m,event:y,reason:w,nested:o}),r?.(m,y,w)}),p=F.useMemo(()=>({setPositionReference:c}),[]),g=F.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return F.useMemo(()=>({dataRef:s,open:e,onOpenChange:u,elements:g,events:a,floatingId:i,refs:p}),[e,u,g,a,i,p])}function K2e(t){t===void 0&&(t={});const{nodeId:e}=t,r=G2e({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[s,a]=F.useState(null),[o,l]=F.useState(null),u=i?.domReference||s,p=F.useRef(null),g=H2e();Cb(()=>{u&&(p.current=u)},[u]);const m=P2e({...t,elements:{...i,...o&&{reference:o}}}),y=F.useCallback(I=>{const V=Oo(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),contextElement:I}:I;l(V),m.refs.setReference(V)},[m.refs]),w=F.useCallback(I=>{(Oo(I)||I===null)&&(p.current=I,a(I)),(Oo(m.refs.reference.current)||m.refs.reference.current===null||I!==null&&!Oo(I))&&m.refs.setReference(I)},[m.refs]),_=F.useMemo(()=>({...m.refs,setReference:w,setPositionReference:y,domReference:p}),[m.refs,w,y]),E=F.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),L=F.useMemo(()=>({...m,...n,refs:_,elements:E,nodeId:e}),[m,_,E,e,n]);return Cb(()=>{n.dataRef.current.floatingContext=L;const I=g?.nodesRef.current.find(V=>V.id===e);I&&(I.context=L)}),F.useMemo(()=>({...m,context:L,refs:_,elements:E}),[m,_,E,L])}const cN="active",uN="selected";function D3(t,e,r){const n=new Map,i=r==="item";let s=t;if(i&&t){const{[cN]:a,[uN]:o,...l}=t;s=l}return{...r==="floating"&&{tabIndex:-1,[W2e]:""},...s,...e.map(a=>{const o=a?a[r]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((a,o)=>(o&&Object.entries(o).forEach(l=>{let[c,u]=l;if(!(i&&[cN,uN].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof u=="function"){var p;(p=n.get(c))==null||p.push(u),a[c]=function(){for(var g,m=arguments.length,y=new Array(m),w=0;w<m;w++)y[w]=arguments[w];return(g=n.get(c))==null?void 0:g.map(_=>_(...y)).find(_=>_!==void 0)}}}else a[c]=u}),a),{})}}function X2e(t){t===void 0&&(t=[]);const e=t.map(o=>o?.reference),r=t.map(o=>o?.floating),n=t.map(o=>o?.item),i=F.useCallback(o=>D3(o,t,"reference"),e),s=F.useCallback(o=>D3(o,t,"floating"),r),a=F.useCallback(o=>D3(o,t,"item"),n);return F.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:a}),[i,s,a])}function dN(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const Y2e=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:a=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:c,...u}=um(t,e),{rects:p,elements:{floating:g}}=e,m=r.current[a],y=c?.current||g,w=g.clientTop||y.clientTop,_=g.clientTop!==0,E=y.clientTop!==0,L=g===y;if(!m)return{};const I={...e,...await qB(-m.offsetTop-g.clientTop-p.reference.height/2-m.offsetHeight/2-s).fn(e)},V=await F3(dN(I,y.scrollHeight+w+g.clientTop),u),G=await F3(I,{...u,elementContext:"reference"}),X=wo(0,V.top),R=I.y+X,D=(y.scrollHeight>y.clientHeight?N=>N:y2)(wo(0,y.scrollHeight+(_&&L||E?w*2:0)-X-wo(0,V.bottom)));if(y.style.maxHeight=D+"px",y.scrollTop=X,i){const N=y.offsetHeight<m.offsetHeight*D0(o,r.current.length)-1||G.top>=-l||G.bottom>=-l;Ps.flushSync(()=>i(N))}return n&&(n.current=await F3(dN({...I,y:R},y.offsetHeight+w+g.clientTop),u)),{y:R}}});function Q2e(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:a,onChange:o}=e,l=WB(o),c=F.useRef(!1),u=F.useRef(null),p=F.useRef(null);F.useEffect(()=>{if(!i)return;function m(w){if(w.ctrlKey||!y||s.current==null)return;const _=w.deltaY,E=s.current.top>=-.5,L=s.current.bottom>=-.5,I=y.scrollHeight-y.clientHeight,V=_<0?-1:1,G=_<0?"max":"min";y.scrollHeight<=y.clientHeight||(!E&&_>0||!L&&_<0?(w.preventDefault(),Ps.flushSync(()=>{l(X=>X+Math[G](_,I*V))})):/firefox/i.test(zge())&&(y.scrollTop+=_))}const y=a?.current||n.floating;if(r&&y)return y.addEventListener("wheel",m),requestAnimationFrame(()=>{u.current=y.scrollTop,s.current!=null&&(p.current={...s.current})}),()=>{u.current=null,p.current=null,y.removeEventListener("wheel",m)}},[i,r,n.floating,s,a,l]);const g=F.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const m=a?.current||n.floating;if(!(!s.current||!m||!c.current)){if(u.current!==null){const y=m.scrollTop-u.current;(s.current.bottom<-.5&&y<-1||s.current.top<-.5&&y>1)&&Ps.flushSync(()=>l(w=>w+y))}requestAnimationFrame(()=>{u.current=m.scrollTop})}}}),[n.floating,l,s,a]);return F.useMemo(()=>i?{floating:g}:{},[i,g])}let dm=F.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});dm.displayName="FloatingContext";let Pk=F.createContext(null);Pk.displayName="PlacementContext";function J2e(t){return F.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function Z2e(){return F.useContext(dm).setReference}function exe(){return F.useContext(dm).getReferenceProps}function txe(){let{getFloatingProps:t,slot:e}=F.useContext(dm);return F.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function rxe(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=F.useContext(Pk),r=F.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var a;return(a=s?.outerHTML)!=null?a:s})]);Hs(()=>{e?.(r??null)},[e,r]);let n=F.useContext(dm);return F.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let fN=4;function nxe({children:t,enabled:e=!0}){let[r,n]=F.useState(null),[i,s]=F.useState(0),a=F.useRef(null),[o,l]=F.useState(null);ixe(o);let c=e&&r!==null&&o!==null,{to:u="bottom",gap:p=0,offset:g=0,padding:m=0,inner:y}=sxe(r,o),[w,_="center"]=u.split(" ");Hs(()=>{c&&s(0)},[c]);let{refs:E,floatingStyles:L,context:I}=K2e({open:c,placement:w==="selection"?_==="center"?"bottom":`bottom-${_}`:_==="center"?`${w}`:`${w}-${_}`,strategy:"absolute",transform:!1,middleware:[qB({mainAxis:w==="selection"?0:p,crossAxis:g}),R2e({padding:m}),w!=="selection"&&L2e({padding:m}),w==="selection"&&y?Y2e({...y,padding:m,overflowRef:a,offset:i,minItemsVisible:fN,referenceOverflowThreshold:m,onFallbackChange(N){var j,B;if(!N)return;let te=I.elements.floating;if(!te)return;let he=parseFloat(getComputedStyle(te).scrollPaddingBottom)||0,_e=Math.min(fN,te.childElementCount),fe=0,ie=0;for(let W of(B=(j=I.elements.floating)==null?void 0:j.childNodes)!=null?B:[])if(Od(W)){let ue=W.offsetTop,Y=ue+W.clientHeight+he,P=te.scrollTop,q=P+te.clientHeight;if(ue>=P&&Y<=q)_e--;else{ie=Math.max(0,Math.min(Y,q)-Math.max(ue,P)),fe=W.clientHeight;break}}_e>=1&&s(W=>{let ue=fe*_e-ie+he;return W>=ue?W:ue})}}):null,F2e({padding:m,apply({availableWidth:N,availableHeight:j,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${N}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${j}px)`})}})].filter(Boolean),whileElementsMounted:k2e}),[V=w,G=_]=I.placement.split("-");w==="selection"&&(V="selection");let X=F.useMemo(()=>({anchor:[V,G].filter(Boolean).join(" ")}),[V,G]),R=Q2e(I,{overflowRef:a,onChange:s}),{getReferenceProps:A,getFloatingProps:C}=X2e([R]),D=Vn(N=>{l(N),E.setFloating(N)});return F.createElement(Pk.Provider,{value:n},F.createElement(dm.Provider,{value:{setFloating:D,setReference:E.setReference,styles:L,getReferenceProps:A,getFloatingProps:C,slot:X}},t))}function ixe(t){Hs(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function sxe(t,e){var r,n,i;let s=O3((r=t?.gap)!=null?r:"var(--anchor-gap, 0)",e),a=O3((n=t?.offset)!=null?n:"var(--anchor-offset, 0)",e),o=O3((i=t?.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:a,padding:o}}function O3(t,e,r=void 0){let n=f4(),i=Vn((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let u=hN(l,c);return[u,p=>{let g=GB(l);{let m=g.map(y=>window.getComputedStyle(c).getPropertyValue(y));n.requestAnimationFrame(function y(){n.nextFrame(y);let w=!1;for(let[E,L]of g.entries()){let I=window.getComputedStyle(c).getPropertyValue(L);if(m[E]!==I){m[E]=I,w=!0;break}}if(!w)return;let _=hN(l,c);u!==_&&(p(_),u=_)})}return n.dispose}]}return[r,null]}),s=F.useMemo(()=>i(t,e)[0],[t,e]),[a=s,o]=F.useState();return Hs(()=>{let[l,c]=i(t,e);if(o(l),!!c)return c(o)},[t,e]),a}function GB(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,...GB(i)]:[n]}return[]}function hN(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let Rk=F.createContext(null);Rk.displayName="OpenClosedContext";var w2=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(w2||{});function axe(){return F.useContext(Rk)}function oxe({value:t,children:e}){return fi.createElement(Rk.Provider,{value:t},e)}function lxe(t){throw new Error("Unexpected object: "+t)}var qs=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(qs||{});function Fv(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:lxe(t)}}var KB=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(KB||{});function XB(t){let e=Vn(t),r=F.useRef(!1);F.useEffect(()=>(r.current=!1,()=>{r.current=!0,fB(()=>{r.current&&e()})}),[e])}function cxe(){let t=typeof document>"u";return"useSyncExternalStore"in py?(e=>e.useSyncExternalStore)(py)(()=>()=>{},()=>!1,()=>!t):!1}function uxe(){let t=cxe(),[e,r]=F.useState(Tu.isHandoffComplete);return e&&Tu.isHandoffComplete===!1&&r(!1),F.useEffect(()=>{e!==!0&&r(!0)},[e]),F.useEffect(()=>Tu.handoff(),[]),t?!1:e}let dxe=F.createContext(!1);function fxe(){return F.useContext(dxe)}function hxe(t){let e=fxe(),r=F.useContext(QB),[n,i]=F.useState(()=>{var s;if(!e&&r!==null)return(s=r.current)!=null?s:null;if(Tu.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return F.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),F.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let YB=F.Fragment,pxe=pc(function(t,e){let{ownerDocument:r=null,...n}=t,i=F.useRef(null),s=Md(Ame(m=>{i.current=m}),e),a=kb(i),o=r??a,l=hxe(o),[c]=F.useState(()=>{var m;return Tu.isServer?null:(m=o?.createElement("div"))!=null?m:null}),u=F.useContext(vxe),p=uxe();Hs(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),Hs(()=>{if(c&&u)return u.register(c)},[u,c]),XB(()=>{var m;!l||!c||(bk(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l)))});let g=hc();return p?!l||!c?null:Ps.createPortal(g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:YB,name:"Portal"}),c):null});function mxe(t,e){let r=Md(e),{enabled:n=!0,ownerDocument:i,...s}=t,a=hc();return n?fi.createElement(pxe,{...s,ownerDocument:i,ref:r}):a({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:YB,name:"Portal"})}let gxe=F.Fragment,QB=F.createContext(null);function xxe(t,e){let{target:r,...n}=t,i={ref:Md(e)},s=hc();return fi.createElement(QB.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:gxe,name:"Popover.Group"}))}let vxe=F.createContext(null),yxe=pc(mxe),wxe=pc(xxe),_xe=Object.assign(yxe,{Group:wxe});function bxe(t,e){let r=F.useRef({left:0,top:0});if(Hs(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(r.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let n=e.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}let pN=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function mN(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Od(i))return n;let s=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),s=!0;let a=s?(r=i.innerText)!=null?r:"":n;return pN.test(a)&&(a=a.replace(pN,"")),a}function kxe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():mN(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return mN(t).trim()}function Sxe(t){let e=F.useRef(""),r=F.useRef("");return Vn(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=kxe(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var Exe=Object.defineProperty,Cxe=(t,e,r)=>e in t?Exe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,gN=(t,e,r)=>(Cxe(t,typeof e!="symbol"?e+"":e,r),r),Ua=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ua||{}),p5=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(p5||{}),di=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t))(di||{});function xN(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=IB(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let Txe={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,pendingFocus:{focus:qs.Nothing},menuState:1}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0}},2:(t,e)=>{var r,n,i,s,a;if(t.menuState===1)return t;let o={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===qs.Nothing)return{...o,activeItemIndex:null};if(e.focus===qs.Specific)return{...o,activeItemIndex:t.items.findIndex(u=>u.id===e.id)};if(e.focus===qs.Previous){let u=t.activeItemIndex;if(u!==null){let p=t.items[u].dataRef.current.domRef,g=Fv(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(g!==null){let m=t.items[g].dataRef.current.domRef;if(((n=p.current)==null?void 0:n.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:g}}}}else if(e.focus===qs.Next){let u=t.activeItemIndex;if(u!==null){let p=t.items[u].dataRef.current.domRef,g=Fv(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(g!==null){let m=t.items[g].dataRef.current.domRef;if(((s=p.current)==null?void 0:s.nextElementSibling)===m.current||((a=m.current)==null?void 0:a.nextElementSibling)===null)return{...o,activeItemIndex:g}}}}let l=xN(t),c=Fv(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled});return{...o,...l,activeItemIndex:c}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(a=>{var o;return((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!a.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==qs.Nothing&&(n=Fv(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:qs.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[s,a]of r.entries())if(i.has(a.id)&&(n.push(s),i.delete(a.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...xN(t),pendingShouldSort:!1}:t};class Lk extends kB{constructor(e){super(e),gN(this,"actions",{registerItem:VA(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:VA(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),gN(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,a=r.items;return s!==null?((i=a[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=Ek.get(null);this.disposables.add(n.on(EB.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}}static new({id:e,__demoMode:r=!1}){return new Lk({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:qs.Nothing}})}reduce(e,r){return lm(r.type,Txe,e,r)}}const JB=F.createContext(null);function Fk(t){let e=F.useContext(JB);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ZB),r}return e}function ZB({id:t,__demoMode:e=!1}){let r=F.useMemo(()=>Lk.new({id:t,__demoMode:e}),[]);return XB(()=>r.dispose()),r}let Axe=F.Fragment;function Nxe(t,e){let r=F.useId(),{__demoMode:n=!1,...i}=t,s=ZB({id:r,__demoMode:n}),[a,o,l]=bu(s,_=>[_.menuState,_.itemsElement,_.buttonElement]),c=Md(e),u=Ek.get(null),p=bu(u,F.useCallback(_=>u.selectors.isTop(_,r),[u,r]));uge(p,[l,o],(_,E)=>{var L;s.send({type:di.CloseMenu}),Tk(E,Ck.Loose)||(_.preventDefault(),(L=s.state.buttonElement)==null||L.focus())});let g=Vn(()=>{s.send({type:di.CloseMenu})}),m=F.useMemo(()=>({open:a===Ua.Open,close:g}),[a,g]),y={ref:c},w=hc();return fi.createElement(nxe,null,fi.createElement(JB.Provider,{value:s},fi.createElement(oxe,{value:lm(a,{[Ua.Open]:w2.Open,[Ua.Closed]:w2.Closed})},w({ourProps:y,theirProps:i,slot:m,defaultTag:Axe,name:"Menu"}))))}let Ixe="button";function Pxe(t,e){let r=Fk("Menu.Button"),n=F.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:a=!1,...o}=t,l=F.useRef(null),c=exe(),u=Md(e,l,Z2e(),Vn(B=>r.send({type:di.SetButtonElement,element:B}))),p=Vn(B=>{switch(B.key){case Ma.Space:case Ma.Enter:case Ma.ArrowDown:B.preventDefault(),B.stopPropagation(),r.send({type:di.OpenMenu,focus:{focus:qs.First}});break;case Ma.ArrowUp:B.preventDefault(),B.stopPropagation(),r.send({type:di.OpenMenu,focus:{focus:qs.Last}});break}}),g=Vn(B=>{switch(B.key){case Ma.Space:B.preventDefault();break}}),[m,y,w]=bu(r,B=>[B.menuState,B.buttonElement,B.itemsElement]),_=m===Ua.Open;hge(_,{trigger:y,action:F.useCallback(B=>{if(y!=null&&y.contains(B.target))return Rv.Ignore;let te=B.target.closest('[role="menuitem"]:not([data-disabled])');return Od(te)?Rv.Select(te):w!=null&&w.contains(B.target)?Rv.Ignore:Rv.Close},[y,w]),close:F.useCallback(()=>r.send({type:di.CloseMenu}),[]),select:F.useCallback(B=>B.click(),[])});let E=Vn(B=>{var te;if(B.button===KB.Left){if(Cme(B.currentTarget))return B.preventDefault();s||(m===Ua.Open?(Ps.flushSync(()=>r.send({type:di.CloseMenu})),(te=l.current)==null||te.focus({preventScroll:!0})):(B.preventDefault(),r.send({type:di.OpenMenu,focus:{focus:qs.Nothing},trigger:p5.Pointer})))}}),L=F.useRef(null),I=Vn(B=>{L.current=B.pointerType,B.pointerType==="mouse"&&E(B)}),V=Vn(B=>{L.current!=="mouse"&&E(B)}),{isFocusVisible:G,focusProps:X}=ome({autoFocus:a}),{isHovered:R,hoverProps:A}=ame({isDisabled:s}),{pressed:C,pressProps:D}=hme({disabled:s}),N=F.useMemo(()=>({open:m===Ua.Open,active:C||m===Ua.Open,disabled:s,hover:R,focus:G,autofocus:a}),[m,R,G,C,s,a]),j=mB(c(),{ref:u,id:i,type:pge(t,l.current),"aria-haspopup":"menu","aria-controls":w?.id,"aria-expanded":m===Ua.Open,disabled:s||void 0,autoFocus:a,onKeyDown:p,onKeyUp:g,onPointerDown:I,onClick:V},X,A,D);return hc()({ourProps:j,theirProps:o,slot:N,defaultTag:Ixe,name:"Menu.Button"})}let Rxe="div",Lxe=yb.RenderStrategy|yb.Static;function Fxe(t,e){let r=F.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:a=!0,transition:o=!1,...l}=t,c=J2e(i),u=Fk("Menu.Items"),[p,g]=rxe(c),m=txe(),[y,w]=F.useState(null),_=Md(e,c?p:null,Vn(W=>u.send({type:di.SetItemsElement,element:W})),w),[E,L]=bu(u,W=>[W.menuState,W.buttonElement]),I=kb(L),V=kb(y);c&&(s=!0);let G=axe(),[X,R]=Age(o,y,G!==null?(G&w2.Open)===w2.Open:E===Ua.Open);Qme(X,L,()=>{u.send({type:di.CloseMenu})});let A=bu(u,W=>W.__demoMode),C=A?!1:a&&E===Ua.Open;bge(C,V);let D=A?!1:a&&E===Ua.Open;Yme(D,{allowed:F.useCallback(()=>[L,y],[L,y])});let N=E!==Ua.Open,j=bxe(N,L)?!1:X;F.useEffect(()=>{let W=y;W&&E===Ua.Open&&W!==V?.activeElement&&W.focus({preventScroll:!0})},[E,y,V]),Rge(E===Ua.Open,{container:y,accept(W){return W.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:W.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(W){W.setAttribute("role","none")}});let B=f4(),te=Vn(W=>{var ue,Y,P;switch(B.dispose(),W.key){case Ma.Space:if(u.state.searchQuery!=="")return W.preventDefault(),W.stopPropagation(),u.send({type:di.Search,value:W.key});case Ma.Enter:if(W.preventDefault(),W.stopPropagation(),u.state.activeItemIndex!==null){let{dataRef:q}=u.state.items[u.state.activeItemIndex];(Y=(ue=q.current)==null?void 0:ue.domRef.current)==null||Y.click()}u.send({type:di.CloseMenu}),NB(u.state.buttonElement);break;case Ma.ArrowDown:return W.preventDefault(),W.stopPropagation(),u.send({type:di.GoToItem,focus:qs.Next});case Ma.ArrowUp:return W.preventDefault(),W.stopPropagation(),u.send({type:di.GoToItem,focus:qs.Previous});case Ma.Home:case Ma.PageUp:return W.preventDefault(),W.stopPropagation(),u.send({type:di.GoToItem,focus:qs.First});case Ma.End:case Ma.PageDown:return W.preventDefault(),W.stopPropagation(),u.send({type:di.GoToItem,focus:qs.Last});case Ma.Escape:W.preventDefault(),W.stopPropagation(),Ps.flushSync(()=>u.send({type:di.CloseMenu})),(P=u.state.buttonElement)==null||P.focus({preventScroll:!0});break;case Ma.Tab:W.preventDefault(),W.stopPropagation(),Ps.flushSync(()=>u.send({type:di.CloseMenu})),age(u.state.buttonElement,W.shiftKey?bb.Previous:bb.Next);break;default:W.key.length===1&&(u.send({type:di.Search,value:W.key}),B.setTimeout(()=>u.send({type:di.ClearSearch}),350));break}}),he=Vn(W=>{switch(W.key){case Ma.Space:W.preventDefault();break}}),_e=F.useMemo(()=>({open:E===Ua.Open}),[E]),fe=mB(c?m():{},{"aria-activedescendant":bu(u,u.selectors.activeDescendantId),"aria-labelledby":bu(u,W=>{var ue;return(ue=W.buttonElement)==null?void 0:ue.id}),id:n,onKeyDown:te,onKeyUp:he,role:"menu",tabIndex:E===Ua.Open?0:void 0,ref:_,style:{...l.style,...g,"--button-width":Mme(L,!0).width},...Tge(R)}),ie=hc();return fi.createElement(_xe,{enabled:s?t.static||X:!1,ownerDocument:I},ie({ourProps:fe,theirProps:l,slot:_e,defaultTag:Rxe,features:Lxe,visible:j,name:"Menu.Items"}))}let jxe=F.Fragment;function Dxe(t,e){let r=F.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,a=Fk("Menu.Item"),o=bu(a,N=>a.selectors.isActive(N,n)),l=F.useRef(null),c=Md(e,l),u=bu(a,N=>a.selectors.shouldScrollIntoView(N,n));Hs(()=>{if(u)return fc().requestAnimationFrame(()=>{var N,j;(j=(N=l.current)==null?void 0:N.scrollIntoView)==null||j.call(N,{block:"nearest"})})},[u,l]);let p=Sxe(l),g=F.useRef({disabled:i,domRef:l,get textValue(){return p()}});Hs(()=>{g.current.disabled=i},[g,i]),Hs(()=>(a.actions.registerItem(n,g),()=>a.actions.unregisterItem(n)),[g,n]);let m=Vn(()=>{a.send({type:di.CloseMenu})}),y=Vn(N=>{if(i)return N.preventDefault();a.send({type:di.CloseMenu}),NB(a.state.buttonElement)}),w=Vn(()=>{if(i)return a.send({type:di.GoToItem,focus:qs.Nothing});a.send({type:di.GoToItem,focus:qs.Specific,id:n})}),_=kge(),E=Vn(N=>_.update(N)),L=Vn(N=>{_.wasMoved(N)&&(i||o||a.send({type:di.GoToItem,focus:qs.Specific,id:n,trigger:p5.Pointer}))}),I=Vn(N=>{_.wasMoved(N)&&(i||o&&a.state.activationTrigger===p5.Pointer&&a.send({type:di.GoToItem,focus:qs.Nothing}))}),[V,G]=wB(),[X,R]=Nme(),A=F.useMemo(()=>({active:o,focus:o,disabled:i,close:m}),[o,i,m]),C={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":V,"aria-describedby":X,disabled:void 0,onClick:y,onFocus:w,onPointerEnter:E,onMouseEnter:E,onPointerMove:L,onMouseMove:L,onPointerLeave:I,onMouseLeave:I},D=hc();return fi.createElement(G,null,fi.createElement(R,null,D({ourProps:C,theirProps:s,slot:A,defaultTag:jxe,name:"Menu.Item"})))}let Oxe="div";function Mxe(t,e){let[r,n]=wB(),i=t,s={ref:e,"aria-labelledby":r,role:"group"},a=hc();return fi.createElement(n,null,a({ourProps:s,theirProps:i,slot:{},defaultTag:Oxe,name:"Menu.Section"}))}let Bxe="header";function Vxe(t,e){let r=F.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,s=Sk();Hs(()=>s.register(n),[n,s.register]);let a={id:n,ref:e,role:"presentation",...s.props};return hc()({ourProps:a,theirProps:i,slot:{},defaultTag:Bxe,name:"Menu.Heading"})}let Uxe="div";function zxe(t,e){let r=t,n={ref:e,role:"separator"};return hc()({ourProps:n,theirProps:r,slot:{},defaultTag:Uxe,name:"Menu.Separator"})}let $xe=pc(Nxe),qxe=pc(Pxe),Hxe=pc(Fxe),Wxe=pc(Dxe),Gxe=pc(Mxe),Kxe=pc(Vxe),Xxe=pc(zxe),Jm=Object.assign($xe,{Button:qxe,Items:Hxe,Item:Wxe,Section:Gxe,Heading:Kxe,Separator:Xxe});function Yxe({items:t,total:e,onClose:r,prescription:n=!1}){const{user:i}=wn(),{t:s}=Zi(),a=Jn(),{userCoords:o,location:l}=H0(),[c,u]=F.useState(!0),[p,g]=F.useState(!1),[m,y]=F.useState(""),[w,_]=F.useState(""),[E,L]=F.useState(""),[I,V]=F.useState([]),[G,X]=F.useState(!1),[R,A]=F.useState(""),[C,D]=F.useState(0);F.useEffect(()=>{i&&!m&&(L(i.email||""),_(i.phoneNumber||""),y(l||"Current location"))},[i,l,m]),F.useEffect(()=>{t.length>0&&o&&j()},[t,o]);const N=F.useMemo(()=>e+C,[e,C]),j=async()=>{if(!o||t.length===0){D(0);return}try{const fe=[...new Set(t.map(ue=>ue.product?.pharmacyId).filter(Boolean))];let ie=0;for(const ue of fe){const P=(await Ci(ir(pt,"pharmacies",ue))).data();if(P){let q,K;if(P.coordinates?.latitude&&P.coordinates?.longitude?(q=P.coordinates.latitude,K=P.coordinates.longitude):P.lat&&P.lon?(q=P.lat,K=P.lon):P.latitude&&P.longitude&&(q=P.latitude,K=P.longitude),q&&K){const J=X2(o.latitude,o.longitude,q,K);ie+=J}}}const W=Math.round(ie*300);D(W)}catch(fe){console.error("Error calculating delivery fee:",fe),D(300)}},B=async fe=>{if(fe.length<3){V([]);return}X(!0);try{const W=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fe)}&limit=5&countrycodes=ng`)).json();V(W.map(ue=>ue.display_name))}catch(ie){console.error("Error searching addresses:",ie),V([])}X(!1)},te=()=>{l&&o&&(y(l),V([]))},he=()=>{u(!1),g(!0)},_e=async()=>{if(!(!i||!t.length||!R))try{const ie=t[0].product?.pharmacyId,W={customerId:i.uid,pharmacyId:ie,items:t.map(Y=>({productId:Y.id,quantity:Y.qty,price:Y.price,pharmacyId:Y.pharmacyId})),total:N,subtotal:e,deliveryFee:C,deliveryAddress:m,customerPhone:w,customerEmail:E||i.email,paymentMethod:R};console.log(`Order: ${W.total}`),console.log(`Order Items: ${W.items}`);let ue;if(R==="online"?ue=await e2({customerId:W.customerId,items:W.items,total:e,email:W.customerEmail,prescription:n}):ue=await e2({customerId:W.customerId,items:W.items,total:e,email:W.customerEmail,prescription:n}),console.log(`OrderStatus: ${ue}`),ue===!1){alert(s("order_placement_failed","Order placement failed"));return}g(!1),u(!1),alert(R==="cash"?s("order_placed_delivery","Order placed successfully! You'll pay on delivery."):s("payment_successful","Payment successful! Your order has been placed.")),a("/customer/orders")}catch(fe){console.error("Checkout error:",fe),alert(s("checkout_failed","Checkout failed. Please try again."))}};return f.jsxs("div",{children:[c&&f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 p-4",children:f.jsx("div",{className:"bg-white rounded-3xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600",children:s("order_summary","Order Summary")}),f.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:f.jsx(t2,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("h3",{className:"text-[16px] font-medium mb-3",children:[s("items","Items")," (",t.length,")"]}),f.jsx("div",{className:"space-y-3",children:t.map((fe,ie)=>f.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx(Pl,{name:fe.name,image:fe.image,category:fe.category,size:40,roundedClass:"rounded-lg"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-[14px] font-medium truncate blur-sm select-none",children:fe.name}),f.jsxs("div",{className:"text-[12px] text-gray-600",children:[s("qty","Qty"),": ",fe.qty]})]}),f.jsxs("div",{className:"text-[14px] font-medium text-sky-600",children:["",Number((fe.price||0)*fe.qty).toLocaleString()]})]},ie))})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h3",{className:"text-[16px] font-medium mb-3",children:s("delivery_details","Delivery Details")}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:[s("delivery_address","Delivery Address")," *"]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",value:m,onChange:fe=>{y(fe.target.value),B(fe.target.value)},placeholder:s("enter_delivery_address","Enter delivery address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px] pr-10"}),f.jsx("button",{onClick:te,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-sky-600 hover:bg-sky-50 rounded-full transition-colors",title:s("use_current_location","Use current location"),children:f.jsx($y,{className:"w-4 h-4"})})]}),I.length>0&&f.jsx("div",{className:"mt-2 bg-white border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-40 overflow-y-auto relative z-[10000]",children:I.map((fe,ie)=>f.jsx("button",{onClick:()=>{y(fe),V([])},className:"w-full text-left p-3 hover:bg-gray-50 text-[13px] border-b last:border-b-0",children:fe},ie))})]}),f.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:[s("phone_number","Phone Number")," *"]}),f.jsx("input",{type:"tel",value:w,onChange:fe=>_(fe.target.value),placeholder:s("enter_phone_number","Enter phone number"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:s("email_optional","Email (Optional)")}),f.jsx("input",{type:"email",value:E,onChange:fe=>L(fe.target.value),placeholder:s("enter_email_address","Enter email address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]})]})]})]}),f.jsxs("div",{className:"mb-6 p-4 bg-sky-50 rounded-lg",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-[14px]",children:s("subtotal","Subtotal")}),f.jsxs("span",{className:"text-[14px] font-medium",children:["",e]})]}),C>0&&f.jsxs("div",{className:"flex justify-between items-center mb-2",children:[f.jsx("span",{className:"text-[14px]",children:s("delivery_fee","Delivery Fee")}),f.jsxs("span",{className:"text-[14px]",children:["",Number(C).toLocaleString()]})]}),f.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-sky-200",children:[f.jsx("span",{className:"text-[16px] font-medium",children:s("total","Total")}),f.jsxs("span",{className:"text-[16px] font-bold text-sky-600",children:["",Number(e).toLocaleString()]})]})]}),f.jsx("button",{onClick:he,disabled:!m.trim()||!w.trim(),className:"w-full bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:s("continue_to_payment","Continue to Payment")})]})})}),p&&f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 p-4",children:f.jsx("div",{className:"bg-white rounded-3xl w-full max-w-md",children:f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600",children:s("payment_method","Payment Method")}),f.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:f.jsx(t2,{className:"w-5 h-5 text-gray-500"})})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:()=>A("cash"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${R==="cash"?"border-sky-500 bg-sky-50":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Sj,{className:"w-6 h-6 text-sky-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-[16px] font-medium",children:s("pay_on_delivery","Pay on Delivery")}),f.jsx("div",{className:"text-[13px] text-gray-600",children:s("pay_with_cash_on_delivery","Pay with cash when order arrives")})]})]})}),f.jsx("button",{onClick:()=>A("online"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${R==="online"?"border-sky-500 bg-sky-50":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(kj,{className:"w-6 h-6 text-sky-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-[16px] font-medium",children:s("online_payment","Online Payment")}),f.jsx("div",{className:"text-[13px] text-gray-600",children:s("pay_with_card_bank_ussd","Pay with card, bank transfer, or USSD")})]})]})}),f.jsx("button",{disabled:!0,className:"w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 bg-gray-100 text-left cursor-not-allowed opacity-60",children:f.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(C8,{className:"w-6 h-6 text-gray-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-[16px] font-medium text-gray-500",children:s("pay_with_insurance","Pay with Insurance")}),f.jsx("div",{className:"text-[13px] text-gray-400",children:s("use_your_health_insurance","Use your health insurance")})]})]}),f.jsx("span",{className:"text-[12px] text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:s("coming_soon","Coming Soon")})]})})]}),f.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-[16px] font-medium",children:s("total_amount","Total Amount")}),f.jsxs("span",{className:"text-[18px] font-bold text-sky-600",children:["",Number(e).toLocaleString()]})]})}),f.jsx("button",{onClick:_e,disabled:!R,className:"w-full mt-6 bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:R==="online"?s("pay_now","Pay Now"):s("place_order","Place Order")})]})})})]})}function Qxe({prescriptionId:t}){const[e,r]=F.useState(null),[n,i]=F.useState(0),[s,a]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState(!1),p=g=>{a(m=>[...m,g])};return F.useEffect(()=>{(async()=>{const m=await Ci(ir(pt,"prescriptions",t));m.exists()&&r({id:m.id,...m.data()})})()},[t]),F.useEffect(()=>{(async()=>{if(!e||!e.drugs)return;const y=(await Promise.all(e.drugs?.map(async w=>{const _=await Ci(ir(pt,"products",w.productId));if(_.exists()){const E={id:_.id,..._.data()};if(!s.find(L=>L.id===E.id)){const L={...E,qty:w.dosage};p(L)}return w.dosage*E.price}return 0}))).reduce((w,_)=>w+_,0);i(y)})()},[e]),F.useEffect(()=>{const g=Tr(lr(pt,"orders"),zr("prescriptionId","==",t)),m=Kn(g,y=>{if(!y.empty){const _=!!y.docs[0].data().prescriptionId;u(_)}});return()=>m()},[]),e?f.jsxs("div",{className:"mt-1 px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 text-xs text-gray-700 dark:text-gray-200 shadow-sm",children:[f.jsx("div",{className:"font-semibold text-sm",children:" Prescription"}),f.jsxs("div",{className:"mt-1",children:[f.jsx("span",{className:"font-medium",children:"Drugs:"})," ",e.drugs?.length>1?`${e.drugs[0].name}, others...`:"Only one drug prescribed"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Duration:"})," ",e.duration," ","days"]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"Notes:"})," ",e.notes||""]}),f.jsxs("div",{children:[f.jsx("span",{className:"font-medium",children:"TotalPrice:"})," ",n||0]}),f.jsx("div",{className:"mt-2",children:c?f.jsx("button",{disabled:!0,className:"w-full px-3 py-1.5 text-sm font-medium text-white bg-green-600 rounded-md cursor-not-allowed",children:" Paid"}):f.jsx("button",{onClick:()=>{l(!0)},className:"w-full px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:" Order"})}),o&&f.jsx(Yxe,{items:s,total:n,onClose:()=>l(!1),prescription:t})]}):f.jsx("div",{className:"text-xs text-gray-400 mt-1 italic",children:"Loading prescription..."})}const Jxe=fi.lazy(()=>pd(()=>import("./CreatePrescriptionModal-xjMna-Zf.js"),[])),Zxe=fi.lazy(()=>pd(()=>Promise.resolve().then(()=>Iee),void 0)),eve=fi.lazy(()=>pd(()=>import("./MessageWithLinks-N34PxHGP.js"),[])),tve="/ChatBg.svg";function rve(t,e){const r=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=(new Date(r.getFullYear(),r.getMonth(),r.getDate())-n)/(1e3*60*60*24);return s===0?e("today","Today"):s===1?e("yesterday","Yesterday"):t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}const eV=fi.memo(({message:t,isMine:e,t:r})=>{if(!e)return null;const n=t.status||"sent",i=t.read||n==="read";return n==="sent"?f.jsx(aee,{className:"w-3 h-3 text-gray-400 ml-1 opacity-80",strokeWidth:2,title:r("sent","Sent")}):n==="delivered"?f.jsx(QE,{className:"w-3 h-3 text-gray-400 ml-1 opacity-80",strokeWidth:2,title:r("delivered","Delivered")}):n==="read"||i?f.jsx(QE,{className:"w-3 h-3 text-green-500 ml-1",strokeWidth:2,title:r("read","Read")}):null}),tV=fi.memo(({message:t,isMine:e,showReadReceipts:r,t:n})=>!e||!r?null:f.jsx(eV,{message:t,isMine:e,t:n}));eV.displayName="MessageStatus";tV.displayName="ConditionalMessageStatus";const cy=fi.memo(()=>f.jsxs("div",{className:"flex flex-col items-start w-full mb-2 animate-pulse",children:[f.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl h-10 w-48 mb-1"}),f.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl h-6 w-32"})]}));cy.displayName="MessageSkeleton";function vN(){const{user:t,profile:e}=wn(),{getSetting:r}=Y2(),{t:n}=Zi(),i=Jn(),s=Ll(),a=b5(),o=a.vendorId,l=a.threadId,[c,u]=F.useState(l||null),[p,g]=F.useState(""),[m,y]=F.useState(""),[w,_]=F.useState([]),[E,L]=F.useState(""),[I,V]=F.useState(""),[G,X]=F.useState(!0),[R,A]=F.useState(50),C=F.useRef(null),D=F.useRef(null),[N,j]=F.useState(null),[B,te]=F.useState(!0),he=F.useRef(null),[_e,fe]=F.useState(!1),[ie,W]=F.useState([]),[ue,Y]=F.useState(!1),P=new URLSearchParams(s.search),q=P.get("productId"),K=P.get("productName");P.get("productImage"),P.get("vendorName");const J=P.get("productPrice"),ce=P.get("prefillMsg");F.useEffect(()=>{t&&(async()=>{if(l){u(l);return}if(e?.role==="customer"&&o){const Oe=await S8({vendorId:o,customerId:t.uid,role:"customer"});u(Oe)}else if(e?.role==="vendor"&&!l){console.warn("Vendor tried to open chat without threadId in URL."),i("/messages");return}})().catch(console.error)},[t?.uid,e?.role,o,l,i]),F.useEffect(()=>{!c||!e?.role||(async()=>{const Oe=await Ci(ir(pt,"threads",c));if(!Oe.exists())return;const Me=Oe.data(),[Qe,re]=c.split("__");if(e.role==="customer"){const je=Me.vendorName||"",st=Me.vendorAddress||"";if(je)g(je),y(st);else{const Le=await Ci(ir(pt,"pharmacies",Qe)),qe=Le.exists()?Le.data():{};g(qe.name||Me("pharmacy","Pharmacy")),y(qe.address||qe.email||"")}const At=await Ci(ir(pt,"pharmacies",Qe)),It=At.exists()?At.data():{};V(It.phone||"")}else{const je=Me.customerName||"",st=Me.customerAddress||Me.customerEmail||"";if(je)g(je),y(st);else{const At=await Ci(ir(pt,"users",re)),It=At.exists()?At.data():{};g(It.displayName||Me("customer","Customer")),y(It.email||"")}}})().catch(console.error)},[c,e?.role]),F.useEffect(()=>{if(!c||!t?.uid)return;X(!0);const Oe=ij(c,Me=>{_(Me),X(!1),Me.forEach(async Qe=>{if(Qe.senderId!==t.uid&&Qe.status==="sent")try{await nj(c,Qe.id)}catch(re){console.error("Error marking message as delivered:",re)}})},console.error,100);return Uy(c,t.uid).catch(console.error),Oe},[c,t?.uid]);const ye=F.useCallback((Oe=!1)=>{Oe?C.current?.scrollIntoView():C.current?.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[]);F.useEffect(()=>{!G&&w.length>0&&requestAnimationFrame(()=>ye(!1))},[w.length,G,ye]);const ke=F.useMemo(()=>{let Oe=null;return Me=>{Oe||(Oe=setTimeout(()=>{Me.target.scrollTop<200&&R<w.length&&A(je=>Math.min(je+50,w.length)),Oe=null},100))}},[R,w.length]),ae=F.useCallback(Oe=>{ke(Oe)},[ke]),be=F.useMemo(()=>w.slice(-R),[w,R]),De=r(Nr.MESSAGE_READ_RECEIPTS);r(Nr.DATA_SAVER_MODE),F.useEffect(()=>{const Oe=()=>{te(!document.hidden),!document.hidden&&c&&t?.uid&&Uy(c,t.uid).catch(console.error)};return document.addEventListener("visibilitychange",Oe),()=>document.removeEventListener("visibilitychange",Oe)},[c,t?.uid]);const se=F.useRef(null);F.useEffect(()=>{if(!w.length)return;const Oe=w[w.length-1];if(Oe.id!==se.current&&Oe.senderId!==t?.uid&&he.current){he.current.currentTime=0;const Me=he.current.play();Me&&Me.catch(()=>{})}se.current=Oe.id},[w,t?.uid]);const Pe=F.useCallback(()=>{if(!c||!t)return null;const[Oe,Me]=c.split("__");return t.uid===Oe?Me:Oe},[c,t]),Re=F.useCallback(async()=>{const Oe=Pe();if(!Oe||!E.trim()||!c)return;const Me=E.trim();L("");try{await B_(c,{senderId:t.uid,to:Oe,text:Me})}catch(Qe){L(Me),console.error("Failed to send message:",Qe)}},[c,E,t?.uid,Pe]);F.useEffect(()=>{if(!_e)return;let Oe=null;if(e?.role==="pharmacy"?Oe=t?.uid:c&&([Oe]=c.split("__")),!Oe)return;const Me=Tr(lr(pt,"products"),zr("pharmacyId","==",Oe)),Qe=Kn(Me,re=>{W(re.docs.map(je=>({id:je.id,...je.data()})))});return()=>Qe&&Qe()},[_e,e?.role,t?.uid,c]);const me=async({drugs:Oe,startDate:Me,duration:Qe,notes:re})=>{if(!c||!t)return;const[je,st]=c.split("__"),{id:At}=await lj({pharmacyId:je,customerId:st,chatThreadId:c,drugs:Oe,startDate:Me,duration:Qe,notes:re});fe(!1),await B_(c,{senderId:t.uid,to:st,text:n("prescription_created","A new prescription has been created.")},At)};return F.useEffect(()=>{if(K&&q){const Oe=J||"";L(n("drug_inquiry","I want to know more about this drug {productName}{priceText}.",{productName:K,priceText:Oe?", "+Oe:""}))}else ce&&L(ce)},[K,J,q,ce]),f.jsxs("div",{className:"h-screen w-full flex flex-col items-stretch overflow-visible bg-white dark:bg-gray-900",style:{position:"relative"},children:[f.jsx("div",{"aria-hidden":!0,style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",backgroundImage:`url(${tve})`,backgroundRepeat:"repeat",backgroundPosition:"center center",backgroundSize:"200px 200px",pointerEvents:"none",zIndex:0,opacity:.3,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)"}}),f.jsxs("div",{style:{position:"relative",zIndex:10},className:"flex-1 flex flex-col min-h-0",children:[f.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none} .hide-scrollbar{-ms-overflow-style:none; scrollbar-width:none;}"}),f.jsx("audio",{ref:he,src:O1e,preload:"none"}),f.jsx("div",{className:"sticky top-0 z-20 bg-white/90 dark:bg-gray-900/90 pt-1 pb-1",style:{paddingTop:"env(safe-area-inset-top, 0)",width:"100vw",marginLeft:"calc(50% - 50vw)",paddingRight:"env(safe-area-inset-right, 0)"},children:f.jsxs("div",{className:"w-full px-4 sm:px-5 pt-6 pb-3 flex items-center gap-3 justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>{window.history.length>1?i(-1):i("/messages")},className:"rounded-full border border-gray-200 dark:border-gray-600 dark:border-gray-600 px-3 sm:px-4 py-1 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800",children:f.jsx(Cu,{className:"h-4 w-4"})}),e?.role==="customer"?f.jsx("button",{className:"min-w-0 font-light text-[15px] sm:text-[17px] truncate text-left hover:underline focus:outline-none text-gray-900 dark:text-white",onClick:()=>{if(c){const[Oe]=c.split("__");i(`/vendor/${Oe}`)}},title:p,children:p||"..."}):f.jsxs("div",{className:"min-w-0",children:[f.jsx("div",{className:"font-light text-[15px] sm:text-[17px] truncate text-gray-900 dark:text-white",children:p||"..."}),f.jsx("div",{className:"text-[9px] text-zinc-500 dark:text-zinc-400 truncate",children:m})]})]}),e?.role==="customer"&&f.jsxs("a",{href:I?`tel:${I}`:void 0,className:`flex items-center justify-center rounded-full border border-sky-500 text-sky-600 dark:text-sky-400 px-2 py-1 text-[11px] font-poppins font-light ${I?"hover:bg-sky-50 dark:hover:bg-sky-900/20":"opacity-40 cursor-not-allowed"}`,style:{minWidth:32},title:I?n("call_pharmacy_title","Call {pharmacy}",{pharmacy:p}):n("no_phone_number","No phone number"),tabIndex:I?0:-1,"aria-disabled":!I,children:[f.jsx(D1e,{className:"h-3 w-3 mr-1"})," ",n("call","Call")]}),e?.role==="pharmacy"&&c&&f.jsxs(Jm,{as:"div",className:"relative inline-block text-left ml-2",children:[f.jsxs(Jm.Button,{className:"px-3 py-1 rounded-full bg-sky-600 text-white text-xs font-medium",children:[n("actions","Actions")," "]}),f.jsx(Jm.Items,{className:"absolute right-0 mt-2 w-48 origin-top-right bg-white dark:bg-gray-800 border border-sky-200 dark:border-gray-600 divide-y divide-gray-100 dark:divide-gray-700 rounded-[5px] shadow-lg focus:outline-none z-50",children:f.jsxs("div",{className:"py-1",children:[f.jsx(Jm.Item,{children:({active:Oe})=>f.jsx("button",{className:`w-full text-left px-4 py-2 text-[12px] font-light ${Oe?"bg-sky-50":""}`,onClick:()=>fe(!0),children:n("create_prescription","Create Prescription")})}),f.jsx(Jm.Item,{children:({active:Oe})=>f.jsx("button",{className:`w-full text-left px-4 py-2 text-[12px] font-light ${Oe?"bg-sky-50":""}`,onClick:()=>Y(!0),children:n("view_prescription_history","View Prescription History")})})]})})]})]})}),f.jsxs("div",{className:"w-full flex-1 flex flex-col min-h-0",children:[f.jsxs("div",{ref:D,className:"flex-1 overflow-y-auto px-3 sm:px-4 pb-28 min-h-0 hide-scrollbar",style:{paddingTop:12},onScroll:ae,children:[R<w.length&&f.jsx("div",{className:"flex justify-center py-4",children:f.jsx("button",{onClick:()=>A(Oe=>Math.min(Oe+50,w.length)),className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 px-3 py-1 rounded-full transition-colors",children:n("load_more_messages","Load {count} more messages",{count:Math.min(50,w.length-R)})})}),G?f.jsxs("div",{className:"space-y-4",children:[f.jsx(cy,{}),f.jsxs("div",{className:"flex flex-col items-end w-full mb-2 animate-pulse",children:[f.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-10 w-40 mb-1"}),f.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-6 w-24"})]}),f.jsx(cy,{}),f.jsx("div",{className:"flex flex-col items-end w-full mb-2 animate-pulse",children:f.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-8 w-56 mb-1"})}),f.jsx(cy,{})]}):be.length===0?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsxs("div",{className:"text-gray-400 dark:text-gray-500 text-sm text-center",children:[f.jsx("div",{className:"text-lg mb-2",children:""}),n("start_conversation","Start your conversation")]})}):(()=>{let Oe=null;return be.map(Me=>{const Qe=Me.senderId===t?.uid,re=Me.createdAt?.seconds?new Date(Me.createdAt.seconds*1e3):null;let je=!1;if(re){const st=re.toDateString();Oe!==st&&(je=!0,Oe=st)}return f.jsxs(fi.Fragment,{children:[je&&re&&f.jsx("div",{className:"flex justify-center my-4 mb-3",children:f.jsx("span",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-[9px] font-light px-2 py-0.5 rounded-md opacity-80",children:rve(re,n)})}),f.jsxs("div",{className:`flex flex-col items-${Qe?"end":"start"} w-full mb-1.5`,children:[f.jsx("div",{className:`${Qe?"bg-blue-500 text-white ml-8":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white mr-8 border border-gray-200 dark:border-gray-600 dark:border-gray-700"} px-2.5 py-1.5 max-w-[75%] sm:max-w-[65%] whitespace-pre-wrap break-words shadow-sm`,style:{borderRadius:Qe?"10px 10px 2px 10px":"10px 10px 10px 2px",fontSize:13,lineHeight:1.2},children:f.jsx(fi.Suspense,{fallback:f.jsx("span",{children:Me.text}),children:f.jsx(eve,{text:Me.text,isMine:Qe})})}),Me.prescriptionId&&f.jsxs("div",{className:"mt-1",children:[f.jsx(Qxe,{prescriptionId:Me.prescriptionId})," "]}),f.jsxs("div",{className:`flex items-center text-[9px] text-gray-400 dark:text-gray-500 mt-0.5 ${Qe?"mr-2 justify-end":"ml-2 justify-start"}`,children:[f.jsx("span",{children:re?re.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""}),f.jsx(tV,{message:Me,isMine:Qe,showReadReceipts:De,t:n})]})]})]},Me.id)})})(),f.jsx("div",{ref:C})]}),f.jsx("div",{className:"w-full sticky bottom-0 z-20 bg-white/85 dark:bg-gray-900/85 backdrop-blur",style:{paddingBottom:"env(safe-area-inset-bottom, 0)",width:"100vw",marginLeft:"calc(50% - 50vw)",paddingLeft:"env(safe-area-inset-left, 0)",paddingRight:"env(safe-area-inset-right, 0)"},children:f.jsxs("div",{className:"w-full",children:[f.jsxs("form",{className:"mx-4 sm:mx-5 flex items-center gap-3 py-3",onSubmit:Oe=>{Oe.preventDefault(),Re()},children:[f.jsx("label",{className:"flex items-center cursor-not-allowed opacity-40",title:n("attachments_coming_soon","Attachments coming soon"),children:f.jsx(mee,{className:"h-5 w-5 text-gray-400"})}),f.jsx("input",{value:E,onChange:Oe=>L(Oe.target.value),placeholder:n("message_placeholder","Message"),className:"flex-1 min-w-0 outline-none px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 dark:border-gray-600 rounded-full placeholder:text-gray-400 dark:placeholder:text-gray-500 placeholder:text-[14px] focus:border-blue-400 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200",style:{fontSize:14}}),f.jsx("button",{type:"submit",className:`flex items-center justify-center w-8 h-8 rounded-full transition-all duration-200 ${E.trim()?"bg-blue-500 hover:bg-blue-600 active:scale-95":"bg-gray-300 cursor-not-allowed"}`,disabled:!E.trim(),children:f.jsx("img",{src:j1e,alt:"Send",className:"h-4 w-4"})})]}),f.jsx("div",{style:{height:8}})]})})]}),f.jsx(fi.Suspense,{fallback:null,children:f.jsx(Jxe,{open:_e,onClose:()=>fe(!1),products:ie,onSubmit:me})}),f.jsx(Aj,{open:ue,onClose:()=>Y(!1),children:f.jsx(fi.Suspense,{fallback:null,children:f.jsx(Zxe,{chatThreadId:c,products:ie,userId:t?.uid})})})]})]})}class nve{constructor(){this.audio=null,this.permissionRequested=!1,this.notificationQueue=[],this.isProcessing=!1,this.initializeAudio(),this.requestPermissionOnUserInteraction()}initializeAudio(){try{this.audio=new Audio("/src/assets/message-tone.mp3"),this.audio.volume=.6,this.audio.preload="auto"}catch(e){console.warn("Notification audio not available:",e)}}requestPermissionOnUserInteraction(){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}const e=()=>{!this.permissionRequested&&Notification.permission==="default"&&(this.permissionRequested=!0,Notification.requestPermission().then(r=>{console.log("Notification permission:",r)}))};document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}playSound(){if(this.audio)try{this.audio.currentTime=0,this.audio.play().catch(e=>{console.warn("Could not play notification sound:",e)})}catch(e){console.warn("Audio playback error:",e)}}showNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted")return null;const n={icon:"/favicon.ico",badge:"/favicon.ico",requireInteraction:!1,silent:!1,...r};try{const i=new Notification(e,n);return n.requireInteraction||setTimeout(()=>{i&&i.close()},8e3),i.onclick=()=>{window.focus(),i.close(),r.onClick&&r.onClick()},i}catch(i){return console.error("Error showing notification:",i),null}}queueNotification(e){this.notificationQueue.push(e),this.processQueue()}async processQueue(){if(!(this.isProcessing||this.notificationQueue.length===0)){for(this.isProcessing=!0;this.notificationQueue.length>0;){const e=this.notificationQueue.shift();await this.processNotification(e),this.notificationQueue.length>0&&await new Promise(r=>setTimeout(r,1e3))}this.isProcessing=!1}}async processNotification(e){const{type:r,data:n,options:i={}}=e,s=document.hidden||i.force;switch(s&&this.playSound(),r){case"order_received":return this.handleOrderReceived(n,s);case"order_status_updated":return this.handleOrderStatusUpdated(n,s);case"message_received":return this.handleMessageReceived(n,s);case"prescription_ready":return this.handlePrescriptionReady(n,s);default:console.warn("Unknown notification type:",r)}}handleOrderReceived(e,r){const n=" New Order Received!",i=`Order #${e.id?.slice(-8)} - ${(e.total||0).toLocaleString()} from ${e.customerName||"Customer"}`;if(r)return this.showNotification(n,{body:i,tag:"order-received",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/orders"}})}handleOrderStatusUpdated(e,r){const i={confirmed:" Order Confirmed",preparing:" Order Being Prepared",ready:" Order Ready for Pickup",completed:" Order Completed",cancelled:" Order Cancelled"}[e.status]||" Order Updated",s=`Order #${e.id?.slice(-8)} - ${e.pharmacyName||"Pharmacy"}`;if(r)return this.showNotification(i,{body:s,tag:"order-status",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/orders"}})}handleMessageReceived(e,r){const n=` ${e.senderName||"New Message"}`,i=e.text?.slice(0,100)+(e.text?.length>100?"...":"")||"Sent an attachment";if(r)return this.showNotification(n,{body:i,tag:"message",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/messages"}})}handlePrescriptionReady(e,r){const n=" Prescription Ready",i=`Your prescription is ready for pickup at ${e.pharmacyName}`;if(r)return this.showNotification(n,{body:i,tag:"prescription",icon:"/favicon.ico",requireInteraction:!0,onClick:()=>{window.location.hash="#/orders"}})}notifyOrderReceived(e){this.queueNotification({type:"order_received",data:e})}notifyOrderStatusUpdated(e){this.queueNotification({type:"order_status_updated",data:e})}notifyMessageReceived(e){this.queueNotification({type:"message_received",data:e})}notifyPrescriptionReady(e){this.queueNotification({type:"prescription_ready",data:e})}get isSupported(){return"Notification"in window}get isPermitted(){return this.isSupported&&Notification.permission==="granted"}get permissionStatus(){return this.isSupported?Notification.permission:"not-supported"}}const mu=new nve;function ive(){const[t,e]=F.useState(mu.permissionStatus),[r,n]=F.useState(!1);F.useEffect(()=>{e(mu.permissionStatus);const u=setInterval(()=>{e(mu.permissionStatus)},1e3);return()=>clearInterval(u)},[]);const i=async()=>{if(!mu.isSupported){alert("Notifications are not supported in this browser");return}try{const c=await Notification.requestPermission();e(c)}catch(c){console.error("Error requesting notification permission:",c)}},s=()=>{if(!mu.isPermitted){alert("Please enable notifications first");return}mu.showNotification(" Test Notification",{body:"This is a test notification from PharmaSeaHealth",tag:"test",requireInteraction:!1}),n(!0),setTimeout(()=>n(!1),3e3)},a=()=>{switch(t){case"granted":return f.jsx(Tp,{className:"h-5 w-5 text-green-500"});case"denied":return f.jsx(see,{className:"h-5 w-5 text-red-500"});case"default":return f.jsx(og,{className:"h-5 w-5 text-yellow-500"});default:return f.jsx(E8,{className:"h-5 w-5 text-gray-500"})}},o=()=>{switch(t){case"granted":return"Notifications enabled";case"denied":return"Notifications blocked";case"default":return"Permission not requested";case"not-supported":return"Not supported in this browser";default:return"Unknown status"}},l=()=>{switch(t){case"granted":return"You will receive notifications for new orders, messages, and order updates.";case"denied":return"Notifications are blocked. You can enable them in your browser settings.";case"default":return"Click the button below to enable notifications for orders and messages.";case"not-supported":return"Your browser does not support push notifications.";default:return"Unable to determine notification status."}};return f.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx(og,{className:"h-6 w-6 text-blue-600"}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notification Settings"})]}),f.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a(),f.jsx("span",{className:"font-medium text-gray-900",children:o()})]}),f.jsx("p",{className:"text-sm text-gray-600",children:l()})]}),f.jsxs("div",{className:"space-y-3",children:[t==="default"&&f.jsxs("button",{onClick:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[f.jsx(og,{className:"h-4 w-4"}),"Enable Notifications"]}),t==="granted"&&f.jsx("button",{onClick:s,disabled:r,className:`w-full py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${r?"bg-green-100 text-green-800 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r?f.jsxs(f.Fragment,{children:[f.jsx(Tp,{className:"h-4 w-4"}),"Test Sent!"]}):f.jsxs(f.Fragment,{children:[f.jsx(og,{className:"h-4 w-4"}),"Send Test Notification"]})}),t==="denied"&&f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(hee,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),f.jsxs("div",{className:"text-sm",children:[f.jsx("p",{className:"font-medium text-red-800 mb-1",children:"How to enable notifications:"}),f.jsxs("ol",{className:"text-red-700 space-y-1 list-decimal list-inside",children:[f.jsx("li",{children:"Click the lock icon in your browser's address bar"}),f.jsx("li",{children:'Select "Allow" for notifications'}),f.jsx("li",{children:"Refresh the page"})]})]})]})})]}),f.jsxs("div",{className:"mt-6 pt-6 border-t",children:[f.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"You'll be notified about:"}),f.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Tp,{className:"h-4 w-4 text-green-500"}),f.jsx("span",{children:"New orders received (Pharmacies)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Tp,{className:"h-4 w-4 text-green-500"}),f.jsx("span",{children:"Order status updates (Customers)"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Tp,{className:"h-4 w-4 text-green-500"}),f.jsx("span",{children:"New messages in chats"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Tp,{className:"h-4 w-4 text-green-500"}),f.jsx("span",{children:"Prescription ready for pickup"})]})]})]})]})}const sve=({title:t,onBackClick:e})=>Ps.createPortal(f.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:f.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:e,className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200","aria-label":"Go back",children:f.jsx(Cu,{className:"h-5 w-5 text-sky-600 mt-8"})}),f.jsx("h1",{className:"mt-8 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:"Settings"})]})})}),document.body);function ave(){const t=Jn(),{user:e}=wn(),{getSetting:r,updateSetting:n,resetSettings:i}=Y2(),[s,a]=F.useState({}),o=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,l=c=>{n(Nr.SWIPE_NAVIGATION,c),console.log(c?"Swipe navigation enabled - swipe left/right to navigate between pages on mobile":"Swipe navigation disabled")};return f.jsxs(f.Fragment,{children:[f.jsx(sve,{title:"Settings",onBackClick:()=>t(-1)}),f.jsx("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen animate-fadeInUp",children:f.jsxs("div",{className:"mt-4 space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"rounded-full bg-gray-100 p-2",children:f.jsx(qy,{className:"h-5 w-5 text-gray-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"General"}),f.jsx("p",{className:"text-sm text-gray-600",children:"App preferences and navigation settings"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Swipe Navigation"}),f.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Enable swipe gestures to navigate between pages on mobile devices",!o&&f.jsx("span",{className:" text-orange-500",children:" (Desktop - feature available on mobile only)"})]})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Nr.SWIPE_NAVIGATION),onChange:c=>l(c.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]}),r(Nr.SWIPE_NAVIGATION)&&o&&f.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mt-2",children:f.jsxs("p",{className:"text-xs text-gray-700",children:[f.jsx("span",{className:"font-medium",children:"How to use:"})," Swipe left or right anywhere on the screen to navigate between Home, Cart, Messages, and Orders pages."]})}),f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Data Saver Mode"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Reduce bandwidth usage and optimize for slower connections"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Nr.DATA_SAVER_MODE),onChange:c=>n(Nr.DATA_SAVER_MODE,c.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]}),f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Read Receipts"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Show when you've read messages in chats"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Nr.MESSAGE_READ_RECEIPTS),onChange:c=>n(Nr.MESSAGE_READ_RECEIPTS,c.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.1s"},children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"rounded-full bg-orange-100 p-2",children:f.jsx(fee,{className:"h-5 w-5 text-orange-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Language & Region"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Set your language and regional preferences"})]})]}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"App Language"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred language"})]}),f.jsxs("select",{value:r(Nr.LANGUAGE),onChange:c=>n(Nr.LANGUAGE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-orange-300",children:[f.jsx("option",{value:"en",children:"English"}),f.jsx("option",{value:"yo",children:"Yoruba"}),f.jsx("option",{value:"ha",children:"Hausa"}),f.jsx("option",{value:"ig",children:"Igbo"}),f.jsx("option",{value:"fr",children:"Franais"})]})]})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.2s"},children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"rounded-full bg-purple-100 p-2",children:f.jsx(pee,{className:"h-5 w-5 text-purple-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Appearance"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Customize how the app looks and feels"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Theme"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred color scheme"})]}),f.jsxs("select",{value:r(Nr.THEME_MODE),onChange:c=>n(Nr.THEME_MODE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-purple-300",children:[f.jsx("option",{value:"light",children:"Light"}),f.jsx("option",{value:"dark",children:"Dark"}),f.jsx("option",{value:"system",children:"System"})]})]}),f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Font Size"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Adjust text size for better readability"})]}),f.jsxs("select",{value:r(Nr.FONT_SIZE),onChange:c=>n(Nr.FONT_SIZE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-purple-300",children:[f.jsx("option",{value:"small",children:"Small"}),f.jsx("option",{value:"medium",children:"Medium"}),f.jsx("option",{value:"large",children:"Large"})]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.3s"},children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"rounded-full bg-blue-100 p-2",children:f.jsx(K2,{className:"h-5 w-5 text-blue-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Accessibility"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Make the app easier to use for everyone"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"High Contrast"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Increase contrast for better visibility"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Nr.HIGH_CONTRAST),onChange:c=>n(Nr.HIGH_CONTRAST,c.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Reduce Motion"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimize animations and transitions"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Nr.REDUCE_MOTION),onChange:c=>n(Nr.REDUCE_MOTION,c.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.4s"},children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"rounded-full bg-sky-100 p-2",children:f.jsx(og,{className:"h-5 w-5 text-sky-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Notifications"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Manage your notification preferences"})]})]}),f.jsx("div",{className:"pl-0",children:f.jsx(ive,{})})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.5s"},children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"rounded-full bg-green-100 p-2",children:f.jsx(C8,{className:"h-5 w-5 text-green-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Privacy & Security"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Control your data and security settings"})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Biometric Login"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use fingerprint or face recognition to unlock"})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Nr.BIOMETRIC_LOGIN),onChange:c=>n(Nr.BIOMETRIC_LOGIN,c.target.checked)}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Auto Lock"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lock app after period of inactivity"})]}),f.jsxs("select",{value:r(Nr.AUTO_LOCK),onChange:c=>n(Nr.AUTO_LOCK,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-green-300",children:[f.jsx("option",{value:"1min",children:"1 minute"}),f.jsx("option",{value:"5min",children:"5 minutes"}),f.jsx("option",{value:"15min",children:"15 minutes"}),f.jsx("option",{value:"never",children:"Never"})]})]}),f.jsxs("div",{className:"flex items-center justify-between py-2",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Location Sharing"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose location accuracy for deliveries"})]}),f.jsxs("select",{value:r(Nr.LOCATION_PRECISION),onChange:c=>n(Nr.LOCATION_PRECISION,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-green-300",children:[f.jsx("option",{value:"precise",children:"Precise"}),f.jsx("option",{value:"approximate",children:"Approximate"}),f.jsx("option",{value:"off",children:"Off"})]})]})]})]}),f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-red-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.6s"},children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"rounded-full bg-red-100 p-2",children:f.jsx(qy,{className:"h-5 w-5 text-red-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-red-600 font-poppins",children:"Reset Settings"}),f.jsx("p",{className:"text-sm text-gray-600",children:"Restore all settings to their default values"})]})]}),f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[f.jsxs("p",{className:"text-sm text-red-700 mb-3",children:[f.jsx("span",{className:"font-medium",children:"Warning:"})," This will reset all your preferences including theme, language, navigation settings, and accessibility options. This action cannot be undone."]}),f.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to default? This cannot be undone.")&&i()},className:"w-full px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Reset All Settings"})]})})]})]})})]})}function uu({children:t}){const{user:e,loading:r}=wn();return r?f.jsx("div",{className:"p-6",children:"Loading"}):e?t:f.jsx("div",{className:"p-6",children:"Please sign in to continue."})}function rV(){const{user:t,profile:e}=wn(),r=Ll(),n=F.useRef({});return F.useEffect(()=>{if(!(!t?.uid||!e?.role))return Y5({uid:t.uid,role:e.role},i=>{i.forEach(s=>{if(!s.id)return;const a=Tr(lr(pt,"threads",s.id,"messages"),aa("createdAt","desc"),$0(1));Kn(a,o=>{if(o.empty)return;const l={id:o.docs[0].id,...o.docs[0].data()},c=l.senderId===t.uid;let u=!1;if(r.pathname.startsWith("/chat/")){const p=r.pathname.split("/chat/")[1]?.split("/")[0];e.role==="customer"?s.id===`${p}__${t.uid}`&&(u=!0):s.id.startsWith(`${t.uid}__`)&&(u=!0)}if(r.pathname==="/messages"){const g=new URLSearchParams(r.search).get("chat");g&&(e.role==="customer"?s.id===`${g}__${t.uid}`&&(u=!0):s.id===`${t.uid}__${g}`&&(u=!0))}if(!c&&n.current[s.id]!==l.id&&!u){const p=e.role==="customer"?s.pharmacyName||"Pharmacy":s.customerName||"Customer",g={...l,senderName:p,threadId:s.id};mu.notifyMessageReceived(g)}n.current[s.id]=l.id})})},i=>console.error("GlobalMessageNotifier error:",i))},[t?.uid,e?.role,r.pathname,r.search]),null}function ove(){const{user:t,profile:e}=wn(),r=F.useRef({}),n=F.useRef(!1);return F.useEffect(()=>{if(!t?.uid||!e||e.role!=="customer")return;const i=e.uid||t.uid,s=Tr(lr(pt,"orders"),zr("customerId","==",i),aa("updatedAt","desc")),a=Kn(s,o=>{if(!n.current){o.docs.forEach(l=>{const c={id:l.id,...l.data()};r.current[c.id]=c.status}),n.current=!0;return}o.docChanges().forEach(l=>{if(l.type==="modified"){const c={id:l.doc.id,...l.doc.data()},u=r.current[c.id];u&&u!==c.status&&(mu.notifyOrderStatusUpdated(c),c.status==="ready"&&c.type==="prescription"&&mu.notifyPrescriptionReady({...c,pharmacyName:c.pharmacyName||"Pharmacy"})),r.current[c.id]=c.status}if(l.type==="added"){const c={id:l.doc.id,...l.doc.data()};r.current[c.id]=c.status}})},o=>{console.error("Error listening for customer order notifications:",o)});return()=>a()},[t,e]),null}function lve(){const{profile:t}=wn();return f.jsxs(f.Fragment,{children:[f.jsx(rV,{}),t?.role==="customer"&&f.jsx(ove,{})]})}function cve({order:t,isOpen:e,onClose:r,onViewOrder:n}){const[i,s]=F.useState(!1),{profile:a}=wn();F.useEffect(()=>{if(e){s(!0);const c=setTimeout(()=>{o()},1e4);return()=>clearTimeout(c)}else s(!1)},[e]);const o=()=>{s(!1),setTimeout(()=>r(),300)},l=()=>{n(t),o()};return!e||!t?null:f.jsx(f.Fragment,{children:f.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ${i?"translate-y-0 opacity-100 scale-100":"-translate-y-4 opacity-0 scale-95"}`,children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-blue-200 dark:border-gray-600 mx-4 overflow-hidden card-interactive hover:shadow-3xl transition-all duration-300",style:{width:"393px"},children:[f.jsxs("div",{className:"bg-gradient-to-r from-sky-300 to-sky-600 px-6 py-4 relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"}),f.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center animate-bounce",children:f.jsx("span",{className:"text-white text-lg",children:""})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-white font-semibold text-lg animate-text-reveal",children:"New Order Received!"}),f.jsx("p",{className:"text-green-100 text-sm animate-fade-in",style:{animationDelay:"0.1s"},children:"You have a new customer order"})]})]})]}),f.jsxs("div",{className:"px-4 py-3 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-start gap-3",children:[f.jsxs("div",{className:"flex-1 min-w-0 animate-slide-up",style:{animationDelay:"0.3s"},children:[f.jsx("p",{className:"text-gray-600 text-xs",children:"Order ID"}),f.jsxs("p",{className:"font-medium text-gray-900 text-sm truncate",children:["#",t.id?.slice(-8)||"N/A"]})]}),f.jsxs("div",{className:"flex-1 min-w-0 animate-slide-up",style:{animationDelay:"0.4s"},children:[f.jsx("p",{className:"text-gray-600 text-xs",children:"Customer"}),f.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:t.customerName||"Unknown Customer"})]}),f.jsxs("div",{className:"text-right flex-shrink-0 animate-slide-up",style:{animationDelay:"0.5s"},children:[f.jsx("p",{className:"text-gray-600 text-xs",children:"Total"}),f.jsxs("p",{className:"font-bold text-green-600 text-sm animate-pulse-slow",children:["",(t.total||0).toLocaleString()]})]})]}),t.items&&t.items.length>0||t.orderItems&&t.orderItems.length>0||t.products&&t.products.length>0?f.jsxs("div",{className:"border-t pt-3 animate-fade-in",style:{animationDelay:"0.6s"},children:[f.jsxs("p",{className:"text-gray-600 text-xs mb-2",children:["Items (",t.items?.length||t.orderItems?.length||t.products?.length||0,")"]}),f.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1",children:[(t.items||t.orderItems||t.products||[]).slice(0,3).map((c,u)=>f.jsxs("div",{className:"flex justify-between items-center text-xs gap-2 py-0.5 animate-fadeInUp",style:{animationDelay:`${.7+u*.1}s`},children:[f.jsx("span",{className:"text-gray-700 flex-1 leading-tight font-medium truncate",children:c.name||c.productName||c.title||c.itemName||`Item ${u+1}`}),f.jsxs("span",{className:"text-gray-600 text-right whitespace-nowrap font-semibold bg-gray-100 px-1.5 py-0.5 rounded text-xs flex-shrink-0 hover:bg-gray-200 transition-colors duration-200",children:["x",c.quantity||c.qty||c.amount||1]})]},u)),(t.items?.length||t.orderItems?.length||t.products?.length||0)>3&&f.jsxs("p",{className:"text-xs text-gray-500 italic mt-1 text-center bg-gray-50 py-0.5 rounded animate-fade-in",children:["+",(t.items?.length||t.orderItems?.length||t.products?.length||0)-3," more items"]})]})]}):f.jsxs("div",{className:"border-t pt-3 animate-fade-in",style:{animationDelay:"0.6s"},children:[f.jsx("p",{className:"text-gray-600 text-xs mb-2",children:"Items"}),f.jsx("p",{className:"text-gray-500 text-xs italic",children:"No items found"})]}),f.jsxs("div",{className:"border-t pt-2 flex justify-between items-center animate-fade-in",style:{animationDelay:"0.8s"},children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-600 text-xs",children:"Status"}),f.jsx("span",{className:"inline-block px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded-full font-medium mt-0.5 animate-bounce-gentle",children:t.status||"Pending"})]}),f.jsx("div",{className:"text-right text-xs text-gray-500",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t animate-fade-in-up",style:{animationDelay:"0.9s"},children:[f.jsx("button",{onClick:l,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium text-xs transition-all duration-200 shadow-lg hover:shadow-xl btn-interactive hover:scale-105 active:scale-95",children:"View Details"}),f.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium text-xs transition-all duration-200 btn-interactive hover:scale-105 active:scale-95",children:"Dismiss"})]})]}),f.jsx("button",{onClick:o,className:"absolute top-3 right-3 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-all duration-200 hover:scale-110 active:scale-95",children:f.jsx("span",{className:"text-lg",children:""})}),f.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-200 w-full",children:f.jsx("div",{className:"h-full bg-green-500 transition-all duration-[10000ms] ease-linear animate-progress-bar",style:{width:i?"0%":"100%"}})})]})})})}function uve(){const[t,e]=F.useState(null),[r,n]=F.useState(!1),{profile:i,user:s}=wn(),a=F.useRef(null),o=F.useRef(!0);return F.useEffect(()=>{if(!i||i.role!=="pharmacy")return;const u=i.uid||s?.uid;if(!u)return;o.current&&(a.current=new Date,o.current=!1);const p=Tr(lr(pt,"orders"),zr("pharmacyId","==",u),aa("createdAt","desc"),$0(1)),g=Kn(p,m=>{m.empty||m.docChanges().forEach(y=>{if(y.type==="added"){const w={id:y.doc.id,...y.doc.data()},_=w.createdAt?.toDate()||new Date;a.current&&_>a.current&&(mu.notifyOrderReceived(w),e(w),n(!0))}})},m=>{console.error("Error listening for order notifications:",m)});return()=>g()},[i,s]),{newOrder:t,showNotification:r,clearNotification:()=>{n(!1),e(null)},viewOrder:u=>u}}const jv=[{key:"users",label:"Users"},{key:"products",label:"Products"},{key:"prescriptions",label:"Prescriptions"},{key:"orders",label:"Orders"},{key:"carts",label:"Carts"},{key:"analytics",label:"Analytics"},{key:"moderation",label:"Moderation"},{key:"export",label:"Export"},{key:"infoCards",label:"Info Cards"}],Zm=3;function dve(){const{user:t,logout:e}=wn(),[r,n]=F.useState([]),[i,s]=F.useState([]),[a,o]=F.useState([]),[l,c]=F.useState([]),[u,p]=F.useState([]),[g,m]=F.useState([]),[y,w]=F.useState(!0),[_,E]=F.useState(!1),[L,I]=F.useState(!1),[V,G]=F.useState(null),[X,R]=F.useState(!1),[A,C]=F.useState(null),[D,N]=F.useState(null),[j,B]=F.useState(!1),[te,he]=F.useState({displayName:"",email:"",address:"",phone:"",role:"",suspended:!1,password:""}),[_e,fe]=F.useState({name:"",image:"",description:"",stock:"",price:"",sku:"",category:""}),[ie,W]=F.useState({header:"",preview:"",link:"",linkText:"",image:"",fullImage:"",bgColor:"#f0f8ff"}),[ue,Y]=F.useState("users"),[P,q]=F.useState("profile"),[K,J]=F.useState([]),[ce,ye]=F.useState([]),[ke,ae]=F.useState([]),[be,De]=F.useState([]),[se,Pe]=F.useState(0),[Re,me]=F.useState(""),[Oe,Me]=F.useState(""),Qe=F.useRef(null);return Jn(),F.useEffect(()=>{if(!t)return;w(!0);const re=Kn(lr(pt,"users"),qe=>{n(qe.docs.map(We=>({id:We.id,...We.data()}))),w(!1)}),je=Kn(lr(pt,"products"),qe=>{s(qe.docs.map(We=>({id:We.id,...We.data()})))}),st=Kn(lr(pt,"prescriptions"),qe=>{o(qe.docs.map(We=>({id:We.id,...We.data()})))}),At=Kn(lr(pt,"orders"),qe=>{c(qe.docs.map(We=>({id:We.id,...We.data()})))}),It=Kn(lr(pt,"carts"),qe=>{p(qe.docs.map(We=>({id:We.id,...We.data()})))}),Le=Kn(lr(pt,"infoCards"),qe=>{m(qe.docs.map(We=>({id:We.id,...We.data()})))});return()=>{re(),je(),st(),At(),It(),Le()}},[t]),F.useEffect(()=>{let re=null,je=null,st=null;return V&&V.id?(he({displayName:V.displayName||"",email:V.email||"",address:V.address||"",phone:V.phone||"",role:V.role||"",suspended:V.role==="suspended",password:""}),re=Kn(Tr(lr(pt,"prescriptions"),zr("userId","==",V.id)),At=>{J(At.docs.map(It=>({id:It.id,...It.data()})))}),je=Kn(Tr(lr(pt,"orders"),zr("userId","==",V.id)),At=>{ye(At.docs.map(It=>({id:It.id,...It.data()})))}),st=Kn(Tr(lr(pt,"carts"),zr("userId","==",V.id)),At=>{ae(At.docs.map(It=>({id:It.id,...It.data()})))})):(he({displayName:"",email:"",address:"",phone:"",role:"",suspended:!1,password:""}),J([]),ye([]),ae([])),()=>{re&&re(),je&&je(),st&&st()}},[V&&V.id]),F.useEffect(()=>{A&&fe({name:A.name||"",image:A.image||"",description:A.description||"",stock:A.stock||"",price:A.price||"",sku:A.sku||"",category:A.category||""})},[A]),F.useEffect(()=>{D&&W({header:D.header||"",preview:D.preview||"",link:D.link||"",linkText:D.linkText||"",image:D.image||"",fullImage:D.fullImage||"",bgColor:D.bgColor||"#f0f8ff"})},[D]),F.useEffect(()=>{if(typeof D<"u"&&D&&W){W({header:D.header||"",preview:D.preview||"",link:D.link||"",linkText:D.linkText||"",image:D.image||"",fullImage:D.fullImage||"",bgColor:D.bgColor||"#f0f8ff",headerColor:D.headerColor||"#0ea5e9",previewColor:D.previewColor||"#475569",linkColor:D.linkColor||D.linkTextColor||"#0ea5e9",linkTextColor:D.linkTextColor||D.linkColor||"#0ea5e9",headerFontSize:D.headerFontSize||16,previewFontSize:D.previewFontSize||13,linkFontSize:D.linkFontSize||13,linkTextFontSize:D.linkTextFontSize||13});try{B(!1)}catch{}}},[D]),F.useEffect(()=>{if(!Qe.current)return;const re=jv.findIndex(st=>st.key===ue),je=Math.floor(re/Zm);Pe(je),Qe.current.scrollTo({left:je*Qe.current.offsetWidth,behavior:"smooth"})},[ue]),t?y?f.jsx(F1,{lines:8,className:"my-8"}):f.jsxs("div",{className:"pt-10 pb-28 w-full max-w-4xl mx-auto px-4 min-h-screen flex flex-col",children:[f.jsxs("div",{className:"relative mb-8 flex items-center justify-center",children:[f.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white border border-sky-100 shadow text-sky-500 hover:bg-sky-100 transition absolute left-0 top-1/2 -translate-y-1/2",style:{display:se>0?"flex":"none"},onClick:()=>Pe(re=>Math.max(0,re-1)),"aria-label":"Previous tabs",children:f.jsx("span",{className:"text-lg",children:"<"})}),f.jsx("div",{className:"flex gap-2 px-8 w-full justify-center",children:jv.slice(se*Zm,(se+1)*Zm).map(re=>f.jsx("button",{className:`min-w-[110px] px-3 py-2 font-semibold tracking-wide text-[13px] rounded-t-lg transition-colors duration-150
                ${ue===re.key?"border-b-2 border-sky-500 text-sky-500 bg-sky-50":"text-zinc-400 bg-white hover:bg-sky-50"}`,onClick:()=>{Y(re.key),De([])},children:re.label},re.key))}),f.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white border border-sky-100 shadow text-sky-500 hover:bg-sky-100 transition absolute right-0 top-1/2 -translate-y-1/2",style:{display:se<Math.ceil(jv.length/Zm)-1?"flex":"none"},onClick:()=>Pe(re=>Math.min(Math.ceil(jv.length/Zm)-1,re+1)),"aria-label":"Next tabs",children:f.jsx("span",{className:"text-lg",children:">"})})]}),ue==="users"&&f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("div",{className:"text-[15px] font-semibold tracking-wide text-sky-500",children:"Users"}),f.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{he({displayName:"",email:"",address:"",phone:"",role:"customer",suspended:!1}),R(!0)},children:"Add User"})]}),f.jsx("div",{className:"space-y-2",children:(_?r:r.slice(0,3)).map(re=>f.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:be.includes(re.id),onChange:je=>De(st=>je.target.checked?[...st,re.id]:st.filter(At=>At!==re.id))}),f.jsxs("div",{className:"flex-1",onClick:je=>{je.target.tagName!=="BUTTON"&&G(re)},children:[f.jsx("div",{className:"font-semibold text-[13px] text-sky-500",children:re.displayName||re.email}),f.jsx("div",{className:"text-[12px] text-zinc-500",children:re.email}),f.jsxs("div",{className:"text-[11px] text-zinc-400",children:["Role: ",re.role||"customer"]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:async je=>{je.stopPropagation(),await ks(ir(pt,"users",re.id),{role:"suspended"})},children:"Suspend"}),f.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async je=>{je.stopPropagation(),await Fo(ir(pt,"users",re.id))},children:"Delete"})]})]},re.id))}),be.length>0&&f.jsxs("div",{className:"flex gap-2 mt-2",children:[f.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-[12px] font-medium",onClick:async()=>{for(const re of be)await Fo(ir(pt,"users",re));De([])},children:"Delete Selected"}),f.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium",onClick:async()=>{for(const re of be)await ks(ir(pt,"users",re),{role:"suspended"});De([])},children:"Suspend Selected"})]}),r.length>3&&!_&&f.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>E(!0),children:"See more"}),r.length>3&&_&&f.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>E(!1),children:"See less"})]}),ue==="products"&&f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"text-xl font-semibold mb-2",children:"Products"}),f.jsx("div",{className:"space-y-2",children:(L?i:i.slice(0,3)).map(re=>f.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",onClick:je=>{je.target.tagName!=="BUTTON"&&C(re)},children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-bold",children:re.name}),f.jsx("div",{className:"text-sm text-zinc-500",children:re.category}),f.jsxs("div",{className:"text-xs text-zinc-400",children:["Vendor: ",re.vendorId]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:async je=>{je.stopPropagation(),await ks(ir(pt,"products",re.id),{approved:!0}),s(i.map(st=>st.id===re.id?{...st,approved:!0}:st))},children:"Approve"}),f.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async je=>{je.stopPropagation(),await Fo(ir(pt,"products",re.id)),s(i.filter(st=>st.id!==re.id))},children:"Delete"})]})]},re.id))}),i.length>3&&!L&&f.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>I(!0),children:"See more"}),i.length>3&&L&&f.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>I(!1),children:"See less"})]}),ue==="prescriptions"&&f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("div",{className:"text-xl font-semibold",children:"Prescriptions"}),f.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{},children:"Add Prescription"})]}),f.jsx("div",{className:"space-y-2",children:a.map(re=>f.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:be.includes(re.id),onChange:je=>De(st=>je.target.checked?[...st,re.id]:st.filter(At=>At!==re.id))}),f.jsxs("div",{className:"flex-1",onClick:()=>{},children:[f.jsx("div",{className:"font-bold",children:re.title||re.id}),f.jsx("div",{className:"text-xs text-zinc-500",children:re.createdAt?new Date(re.createdAt.seconds*1e3).toLocaleString():""}),f.jsxs("div",{className:"text-xs text-zinc-400",children:["Drugs: ",Array.isArray(re.drugs)?re.drugs.join(", "):re.drugs]})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async je=>{je.stopPropagation(),await Fo(ir(pt,"prescriptions",re.id))},children:"Delete"})})]},re.id))}),be.length>0&&f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const re of be)await Fo(ir(pt,"prescriptions",re));De([])},children:"Delete Selected"})})]}),ue==="orders"&&f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsx("div",{className:"text-xl font-semibold",children:"Orders"})}),f.jsx("div",{className:"space-y-2",children:l.map(re=>f.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:be.includes(re.id),onChange:je=>De(st=>je.target.checked?[...st,re.id]:st.filter(At=>At!==re.id))}),f.jsxs("div",{className:"flex-1",onClick:()=>{},children:[f.jsxs("div",{className:"font-bold",children:["Order #",re.id]}),f.jsx("div",{className:"text-xs text-zinc-500",children:re.createdAt?new Date(re.createdAt.seconds*1e3).toLocaleString():""}),f.jsxs("div",{className:"text-xs text-zinc-400",children:["Products: ",Array.isArray(re.products)?re.products.map(je=>je.name).join(", "):""]})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async je=>{je.stopPropagation(),await Fo(ir(pt,"orders",re.id))},children:"Delete"})})]},re.id))}),be.length>0&&f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const re of be)await Fo(ir(pt,"orders",re));De([])},children:"Delete Selected"})})]}),ue==="carts"&&f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsx("div",{className:"text-xl font-semibold",children:"Carts"})}),f.jsx("div",{className:"space-y-2",children:u.map(re=>f.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:be.includes(re.id),onChange:je=>De(st=>je.target.checked?[...st,re.id]:st.filter(At=>At!==re.id))}),f.jsxs("div",{className:"flex-1",onClick:()=>{},children:[f.jsxs("div",{className:"font-bold",children:["Cart #",re.id]}),f.jsx("div",{className:"text-xs text-zinc-500",children:re.updatedAt?new Date(re.updatedAt.seconds*1e3).toLocaleString():""}),f.jsxs("div",{className:"text-xs text-zinc-400",children:["Products: ",Array.isArray(re.products)?re.products.map(je=>je.name).join(", "):""]})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async je=>{je.stopPropagation(),await Fo(ir(pt,"carts",re.id))},children:"Delete"})})]},re.id))}),be.length>0&&f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const re of be)await Fo(ir(pt,"carts",re));De([])},children:"Delete Selected"})})]}),ue==="analytics"&&f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"text-xl font-semibold mb-4",children:"Analytics"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[f.jsx("div",{className:"text-2xl font-bold",children:r.length}),f.jsx("div",{className:"text-xs text-zinc-600",children:"Users"})]}),f.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[f.jsx("div",{className:"text-2xl font-bold",children:i.length}),f.jsx("div",{className:"text-xs text-zinc-600",children:"Products"})]}),f.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[f.jsx("div",{className:"text-2xl font-bold",children:a.length}),f.jsx("div",{className:"text-xs text-zinc-600",children:"Prescriptions"})]}),f.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[f.jsx("div",{className:"text-2xl font-bold",children:l.length}),f.jsx("div",{className:"text-xs text-zinc-600",children:"Orders"})]}),f.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[f.jsx("div",{className:"text-2xl font-bold",children:u.length}),f.jsx("div",{className:"text-xs text-zinc-600",children:"Carts"})]})]}),f.jsx("div",{className:"mt-4 text-zinc-500 text-xs",children:"Charts and advanced analytics coming soon."})]}),ue==="moderation"&&f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"text-xl font-semibold mb-4",children:"Moderation"}),f.jsx("div",{className:"text-zinc-500 mb-4",children:"No flagged items yet. Moderation features coming soon."}),be.length>0&&f.jsx("div",{className:"flex gap-2 mt-2",children:f.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const re of be);De([])},children:"Delete Selected"})})]}),ue==="export"&&f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"text-xl font-semibold mb-4",children:"Export Data"}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(r,"users"),children:"Export Users TSV"}),f.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(i,"products"),children:"Export Products TSV"}),f.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(a,"prescriptions"),children:"Export Prescriptions TSV"}),f.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(l,"orders"),children:"Export Orders TSV"}),f.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(u,"carts"),children:"Export Carts TSV"})]})]}),f.jsx("div",{className:"mt-6",children:f.jsx("button",{onClick:async()=>{await e(),window.location.href="/auth/landing"},className:"rounded-full border border-red-300 text-red-600 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:"Log Out"})}),(V||X)&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full border border-sky-100",children:[f.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:X?"Add User":"Edit User"}),Re&&f.jsx("div",{className:"text-red-500 text-xs mb-2",children:Re}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:te.displayName,onChange:re=>he(je=>({...je,displayName:re.target.value})),placeholder:"Name"}),f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:te.email,onChange:re=>he(je=>({...je,email:re.target.value})),placeholder:"Email"}),X&&f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",type:"password",value:te.password,onChange:re=>he(je=>({...je,password:re.target.value})),placeholder:"Password"}),f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:te.address,onChange:re=>he(je=>({...je,address:re.target.value})),placeholder:"Address"}),f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:te.phone,onChange:re=>he(je=>({...je,phone:re.target.value})),placeholder:"Phone Number"}),f.jsxs("select",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:te.role,onChange:re=>he(je=>({...je,role:re.target.value})),children:[f.jsx("option",{value:"customer",children:"Customer"}),f.jsx("option",{value:"pharmacy",children:"Pharmacy"}),f.jsx("option",{value:"superuser",children:"Superuser"}),f.jsx("option",{value:"suspended",children:"Suspended"})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{if(me(""),X){const re=_F();try{const je=await lF(re,te.email,te.password),st={...te};delete st.password;const At=await pd(()=>Promise.resolve().then(()=>OL),void 0).then(It=>It.addDoc(lr(pt,"users"),{...st,uid:je.user.uid}));n([...r,{id:At.id,...st,uid:je.user.uid}]),R(!1)}catch(je){me(je.message||"Failed to create user. Check email, password, and permissions.")}}else try{await ks(ir(pt,"users",V.id),{displayName:te.displayName,email:te.email,address:te.address,phone:te.phone,role:te.role}),n(r.map(re=>re.id===V.id?{...re,...te}:re)),G(null)}catch(re){me(re.message||"Failed to update user.")}},children:X?"Add":"Save"}),!X&&(te.role==="suspended"?f.jsx("button",{className:"px-4 py-2 rounded bg-green-500 text-white font-medium text-[13px] shadow hover:bg-green-600",onClick:async()=>{await ks(ir(pt,"users",V.id),{role:"customer"}),n(r.map(re=>re.id===V.id?{...re,role:"customer"}:re)),G(null)},children:"Lift Suspension"}):f.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-medium text-[13px] shadow hover:bg-red-600",onClick:async()=>{await ks(ir(pt,"users",V.id),{role:"suspended"}),n(r.map(re=>re.id===V.id?{...re,role:"suspended"}:re)),G(null)},children:"Suspend"})),f.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>{G(null),R(!1),me("")},children:"Cancel"})]})]})]})}),A&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-md w-full border border-sky-100",children:[f.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:"Edit Product"}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.name,onChange:re=>fe(je=>({...je,name:re.target.value})),placeholder:"Product Name"}),f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.sku,onChange:re=>fe(je=>({...je,sku:re.target.value})),placeholder:"SKU"}),f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.price,onChange:re=>fe(je=>({...je,price:re.target.value})),placeholder:"Price"}),f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.stock,onChange:re=>fe(je=>({...je,stock:re.target.value})),placeholder:"Stock"}),f.jsx("textarea",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:_e.description,onChange:re=>fe(je=>({...je,description:re.target.value})),placeholder:"Description",rows:"2"}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{await ks(ir(pt,"products",A.id),{name:_e.name,sku:_e.sku,price:_e.price,stock:_e.stock,description:_e.description}),s(i.map(re=>re.id===A.id?{...re,..._e}:re)),C(null)},children:"Save"}),f.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>C(null),children:"Cancel"})]})]})]})}),ue==="infoCards"&&f.jsxs("div",{className:"mb-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("div",{className:"text-xl font-semibold text-sky-500",children:"Info Cards"}),f.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{try{N(null)}catch{}try{B(!0)}catch{}try{W({header:"",preview:"",link:"",linkText:"",image:"",fullImage:"",bgColor:"#f0f8ff",headerColor:"#0ea5e9",previewColor:"#475569",linkColor:"#0ea5e9",linkTextColor:"#0ea5e9",headerFontSize:16,previewFontSize:13,linkFontSize:13,linkTextFontSize:13})}catch{}},children:"Add Info Card"})]}),f.jsx("div",{className:"space-y-4",children:g.map(re=>f.jsxs("div",{className:"border border-sky-100 rounded-lg p-4 flex items-center justify-between group hover:shadow-md transition cursor-pointer",style:{background:re.bgColor||"#ffffff"},children:[f.jsxs("div",{className:"flex-1",onClick:()=>{N(re),W({header:re.header||"",preview:re.preview||"",link:re.link||"",linkText:re.linkText||"",image:re.image||"",fullImage:re.fullImage||"",bgColor:re.bgColor||"#f0f8ff",headerColor:re.headerColor||"#0ea5e9",previewColor:re.previewColor||"#475569",linkColor:re.linkColor||re.linkTextColor||"#0ea5e9",linkTextColor:re.linkTextColor||re.linkColor||"#0ea5e9",headerFontSize:re.headerFontSize||16,previewFontSize:re.previewFontSize||13,linkFontSize:re.linkFontSize||13,linkTextFontSize:re.linkTextFontSize||13})},children:[f.jsx("div",{style:{color:re.headerColor||"#0ea5e9",fontSize:(re.headerFontSize||16)+"px",fontWeight:600},children:re.header}),f.jsx("div",{style:{color:re.previewColor||"#475569",fontSize:(re.previewFontSize||13)+"px"},className:"mt-1",children:re.preview}),re.link&&re.linkText&&f.jsx("a",{href:re.link,style:{color:re.linkColor||"#0ea5e9",fontSize:(re.linkFontSize||13)+"px"},className:"underline",target:"_blank",rel:"noopener noreferrer",children:re.linkText}),re.image&&f.jsx("img",{src:re.image,alt:"Info",className:"mt-2 rounded-lg",style:{maxWidth:"120px",maxHeight:"60px"}}),re.fullImage&&f.jsx("img",{src:re.fullImage,alt:"Full",className:"mt-2 rounded-lg",style:{maxWidth:"180px",maxHeight:"100px"}}),f.jsxs("div",{className:"text-[11px] text-zinc-400 mt-2",children:["BG: ",re.bgColor]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:je=>{je.stopPropagation(),N(re),B(!1),W({header:re.header||"",preview:re.preview||"",link:re.link||"",linkText:re.linkText||"",image:re.image||"",fullImage:re.fullImage||"",bgColor:re.bgColor||"#f0f8ff",headerColor:re.headerColor||"#0ea5e9",previewColor:re.previewColor||"#475569",linkColor:re.linkColor||re.linkTextColor||"#0ea5e9",linkTextColor:re.linkTextColor||re.linkColor||"#0ea5e9",headerFontSize:re.headerFontSize||16,previewFontSize:re.previewFontSize||13,linkFontSize:re.linkFontSize||13,linkTextFontSize:re.linkTextFontSize||13})},children:"Edit"}),f.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async je=>{je.stopPropagation(),await Fo(ir(pt,"infoCards",re.id))},children:"Delete"})]})]},re.id))}),(D||j)&&f.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full border border-sky-100",children:[f.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:j?"Add Info Card":"Edit Info Card"}),Oe&&f.jsx("div",{className:"text-red-500 text-xs mb-2",children:Oe}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ie.header,onChange:re=>W(je=>({...je,header:re.target.value})),placeholder:"Header"}),f.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ie.preview,onChange:re=>W(je=>({...je,preview:re.target.value})),placeholder:"Preview text"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{className:"flex-1 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ie.link,onChange:re=>W(je=>({...je,link:re.target.value})),placeholder:"Link (optional)"}),f.jsx("input",{className:"w-36 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ie.linkText,onChange:re=>W(je=>({...je,linkText:re.target.value})),placeholder:"Link Text"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{className:"flex-1 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ie.image,onChange:re=>W(je=>({...je,image:re.target.value})),placeholder:"Image URL (right side, optional)"}),f.jsx("input",{className:"w-36 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ie.fullImage,onChange:re=>W(je=>({...je,fullImage:re.target.value})),placeholder:"Full Image URL"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("label",{className:"text-xs text-zinc-500",children:["Header Color",f.jsx("input",{type:"color",value:ie.headerColor||"#0ea5e9",onChange:re=>W(je=>({...je,headerColor:re.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),f.jsxs("label",{className:"text-xs text-zinc-500",children:["Header Size",f.jsx("input",{type:"range",min:"12",max:"28",value:ie.headerFontSize||16,onChange:re=>W(je=>({...je,headerFontSize:parseInt(re.target.value)})),className:"w-full mt-1"})]}),f.jsxs("label",{className:"text-xs text-zinc-500",children:["Preview Color",f.jsx("input",{type:"color",value:ie.previewColor||"#475569",onChange:re=>W(je=>({...je,previewColor:re.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),f.jsxs("label",{className:"text-xs text-zinc-500",children:["Preview Size",f.jsx("input",{type:"range",min:"10",max:"22",value:ie.previewFontSize||13,onChange:re=>W(je=>({...je,previewFontSize:parseInt(re.target.value)})),className:"w-full mt-1"})]}),f.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Color",f.jsx("input",{type:"color",value:ie.linkColor||"#0ea5e9",onChange:re=>W(je=>({...je,linkColor:re.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),f.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Size",f.jsx("input",{type:"range",min:"10",max:"22",value:ie.linkFontSize||13,onChange:re=>W(je=>({...je,linkFontSize:parseInt(re.target.value)})),className:"w-full mt-1"})]}),f.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Text Color",f.jsx("input",{type:"color",value:ie.linkTextColor||"#0ea5e9",onChange:re=>W(je=>({...je,linkTextColor:re.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),f.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Text Size",f.jsx("input",{type:"range",min:"10",max:"22",value:ie.linkTextFontSize||13,onChange:re=>W(je=>({...je,linkTextFontSize:parseInt(re.target.value)})),className:"w-full mt-1"})]})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("label",{className:"text-xs text-zinc-500",children:"Background Color"}),f.jsx("input",{type:"color",value:ie.bgColor||"#f0f8ff",onChange:re=>W(je=>({...je,bgColor:re.target.value})),className:"w-full h-10 mt-1 p-0 border-0"})]}),f.jsxs("div",{className:"mt-3",children:[f.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:"Live preview"}),f.jsxs("div",{style:{background:ie.bgColor||"#f8fafc",padding:12,borderRadius:10,display:"flex",gap:12,alignItems:"center"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{color:ie.headerColor||"#0ea5e9",fontSize:(ie.headerFontSize||16)+"px",fontWeight:700},children:ie.header||"Header"}),f.jsx("div",{style:{color:ie.previewColor||"#475569",fontSize:(ie.previewFontSize||13)+"px",marginTop:4},children:ie.preview||"Preview text goes here"}),ie.linkText&&f.jsx("div",{style:{marginTop:6},children:f.jsx("a",{style:{color:ie.linkTextColor||ie.linkColor||"#0ea5e9",fontSize:(ie.linkTextFontSize||13)+"px"},href:ie.link||"#",children:ie.linkText})})]}),ie.image&&f.jsx("img",{src:ie.image,alt:"Preview",style:{width:80,height:60,objectFit:"cover",borderRadius:6}})]})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{if(Me(""),j)try{await em(lr(pt,"infoCards"),ie),B(!1)}catch(re){Me(re.message||"Failed to add info card.")}else if(D)try{await ks(ir(pt,"infoCards",D.id),ie),N(null)}catch(re){Me(re.message||"Failed to save info card.")}},children:j?"Add":"Save"}),f.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>{N(null),B(!1),Me("")},children:"Cancel"})]})]})]})})]})]}):f.jsx(F1,{lines:4,className:"my-8"})}function yN({className:t="h-4 w-4",...e}){return f.jsxs("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:[f.jsx("path",{d:"M3 9V1M17 17V14M3 17V13M17 10V1M10 4V1M10 17V8",stroke:"currentColor",strokeLinecap:"round"}),f.jsx("path",{d:"M3 13C4.10457 13 5 12.1046 5 11C5 9.89543 4.10457 9 3 9C1.89543 9 1 9.89543 1 11C1 12.1046 1.89543 13 3 13Z",stroke:"currentColor",strokeLinecap:"round"}),f.jsx("path",{d:"M10 8C11.1046 8 12 7.10457 12 6C12 4.89543 11.1046 4 10 4C8.89543 4 8 4.89543 8 6C8 7.10457 8.89543 8 10 8Z",stroke:"currentColor",strokeLinecap:"round"}),f.jsx("path",{d:"M17 14C18.1046 14 19 13.1046 19 12C19 10.8954 18.1046 10 17 10C15.8954 10 15 10.8954 15 12C15 13.1046 15.8954 14 17 14Z",stroke:"currentColor",strokeLinecap:"round"})]})}function fve(){const t=Jn(),{profile:e}=wn(),{t:r}=Zi(),{userCoords:n,location:i,isLoading:s}=H0(),[a,o]=F.useState([]),[l,c]=F.useState(!0),[u,p]=F.useState(null),[g,m]=F.useState([]),[y,w]=F.useState(""),[_,E]=F.useState(!1),[L,I]=F.useState("all"),[V,G]=F.useState(!1),[X,R]=F.useState([]),[A,C]=F.useState(-1);F.useEffect(()=>{e&&e.role!=="customer"&&t("/")},[e,t]),F.useEffect(()=>{async function Y(){try{const P=await Vy();o(P||[])}catch(P){console.error("Error loading pharmacies:",P)}finally{c(!1)}}Y()},[]),F.useEffect(()=>{if(!n||a.length===0){m(a);return}let Y=a.map(P=>{const q=T8(P,n,"driving"),K=D(P),J=K?X2(n.latitude,n.longitude,K.latitude,K.longitude):1/0;return{...P,distance:J,eta:q,coords:K}}).filter(P=>P.coords);if(L!=="all"){const P=parseInt(L);Y=Y.filter(q=>q.distance<=P)}if(y.trim()){const P=y.toLowerCase();Y=Y.filter(q=>q.name?.toLowerCase().includes(P)||q.address?.toLowerCase().includes(P))}Y.sort((P,q)=>P.distance-q.distance),m(Y),Y.length>0&&(!u||!Y.find(P=>P.id===u.id))&&p(Y[0])},[n,a,u,y,L]),F.useEffect(()=>{if(!y.trim()||y.length<2){R([]),G(!1);return}const Y=y.toLowerCase(),P=a.filter(q=>q.name?.toLowerCase().includes(Y)||q.address?.toLowerCase().includes(Y)).slice(0,5).map(q=>({id:q.id,name:q.name,address:q.address,type:q.name?.toLowerCase().includes(Y)?"name":"address"}));R(P),G(P.length>0),C(-1)},[y,a]);function D(Y){return Y?Y.coordinates?.latitude&&Y.coordinates?.longitude?{latitude:Number(Y.coordinates.latitude),longitude:Number(Y.coordinates.longitude)}:Y.latitude&&Y.longitude?{latitude:Number(Y.latitude),longitude:Number(Y.longitude)}:Y.lat&&Y.lng?{latitude:Number(Y.lat),longitude:Number(Y.lng)}:null:null}const N=Y=>{Y.phone&&(window.location.href=`tel:${Y.phone}`)},j=Y=>{const P=D(Y);if(P&&n){const q=`https://www.google.com/maps/dir/${n.latitude},${n.longitude}/${P.latitude},${P.longitude}`;window.open(q,"_blank")}},B=Y=>{p(Y)},te=Y=>{(Y.vendorId||Y.id)&&t(`/vendor/${Y.vendorId||Y.id}`)},he=Y=>{w(Y),C(-1)},_e=Y=>{w(Y.name),G(!1),C(-1);const P=a.find(q=>q.id===Y.id);P&&(p(P),setTimeout(()=>{const q=document.getElementById(`pharmacy-${P.id}`);q&&q.scrollIntoView({behavior:"smooth",block:"center"})},100))},fe=()=>{X.length>0&&y.length>=2&&G(!0)},ie=()=>{setTimeout(()=>{G(!1),C(-1)},200)},W=Y=>{if(!(!V||X.length===0))switch(Y.key){case"ArrowDown":Y.preventDefault(),C(P=>P<X.length-1?P+1:0);break;case"ArrowUp":Y.preventDefault(),C(P=>P>0?P-1:X.length-1);break;case"Enter":Y.preventDefault(),A>=0&&A<X.length&&_e(X[A]);break;case"Escape":G(!1),C(-1);break}};if(l||s)return f.jsx("div",{className:"min-h-screen bg-gray-50 px-4 py-6",children:f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Cu,{className:"h-5 w-5"})}),f.jsx("h1",{className:"text-[25px] font-light text-gray-900 dark:text-white",children:r("nearby_pharmacies","Nearby Pharmacies")})]}),f.jsx(F1,{lines:8,className:"space-y-4 justify-center"})]})});const ue=()=>f.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:f.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[f.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:f.jsx(Cu,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1 text-left",children:[f.jsx("div",{className:"text-[18px] font-light tracking-tight",children:r("nearby_pharmacies","Nearby Pharmacies")}),f.jsx("div",{className:"text-[12px] text-gray-400",children:n?r("pharmacies_found_near_you","{count} found near you").replace("{count}",g.length):r("loading_location","Loading location...")})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("button",{onClick:()=>E(!_),className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":r("filter_pharmacies","Filter pharmacies"),children:f.jsx(yN,{className:"w-5 h-5 text-sky-600"})})})]})});return f.jsxs(f.Fragment,{children:[Ps.createPortal(f.jsx(ue,{}),document.body),f.jsxs("div",{className:"min-h-screen bg-gray dark:bg-gray-900 pt-24 md:pt-0",children:[f.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-50 dark:border-gray-700 mx-auto px-4 py-4 sticky top-0 z-50 hidden md:block",children:f.jsx("div",{className:"max-w-md mx-auto",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:f.jsx(Cu,{className:"h-5 w-5 text-gray-900 dark:text-white"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-[20px] font-light tracking-tight text-gray-900 dark:text-white",children:r("nearby_pharmacies","Nearby Pharmacies")}),f.jsx("p",{className:"text-[12px] text-gray-400 dark:text-gray-500",children:n?r("pharmacies_found_near_you_detailed","{count} pharmacies found near you").replace("{count}",g.length):r("loading_location","Loading location...")})]})]})})}),f.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[f.jsx("div",{className:"bg-gray dark:bg-transparent rounded-lg p-4 mb-4 border border-sky-300 dark:border-gray-600 dark:border-gray-600",children:f.jsx("div",{className:"flex items-center gap-3",children:n?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r("your_location","Your Location")}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:i})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s?r("getting_your_location","Getting your location..."):r("location_access_needed","Location access needed")}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:s?r("allow_location_access_etas","Please allow location access for accurate ETAs"):r("enable_location_services","Enable location services to see nearby pharmacies")})]})]})})}),f.jsxs("div",{className:"dark:bg-transparent rounded-lg p-4 border mb-4 border-sky-300 dark:border-gray-600 dark:border-gray-600",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("div",{className:"flex-1 relative bg-transparent",children:[f.jsx(kd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),f.jsx("input",{type:"text",placeholder:r("search_pharmacies","Search pharmacies..."),value:y,onChange:Y=>he(Y.target.value),onFocus:fe,onBlur:ie,onKeyDown:W,className:"w-full pl-10 pr-4 py-2 border-b bg-transparent border-gray-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"off"}),V&&y.length>=2&&f.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto animate-fade-in",children:[X.length>0?X.map((Y,P)=>f.jsx("button",{onClick:()=>_e(Y),className:`w-full text-left px-4 py-3 focus:outline-none transition-colors duration-200 border-b border-gray-100 dark:border-gray-700 last:border-b-0 animate-fadeInUp ${P===A?"bg-blue-100 dark:bg-blue-900/30 border-blue-200 dark:border-gray-600 dark:border-gray-600":"hover:bg-blue-50 dark:hover:bg-blue-900/20 focus:bg-blue-50 dark:focus:bg-blue-900/20"}`,style:{animationDelay:`${P*.05}s`},children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-colors duration-200 ${P===A?"bg-blue-200 dark:bg-blue-800":"bg-blue-100 dark:bg-blue-900"}`,children:f.jsx(ic,{className:`h-4 w-4 ${P===A?"text-blue-700 dark:text-blue-300":"text-blue-600 dark:text-blue-400"}`})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:Y.type==="name"?f.jsx("span",{children:Y.name.split(new RegExp(`(${y})`,"gi")).map((q,K)=>q.toLowerCase()===y.toLowerCase()?f.jsx("span",{className:"bg-sky-200 px-1 rounded",children:q},K):q)}):Y.name}),f.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:Y.type==="address"?f.jsx("span",{children:Y.address.split(new RegExp(`(${y})`,"gi")).map((q,K)=>q.toLowerCase()===y.toLowerCase()?f.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:q},K):q)}):Y.address})]}),f.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium flex-shrink-0",children:Y.type==="name"?r("name","Name"):r("address","Address")})]})},Y.id)):f.jsxs("div",{className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400 animate-fade-in",children:[f.jsx(ic,{className:"h-8 w-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),f.jsx("p",{className:"text-[12px]",children:r("no_pharmacies_found","No pharmacies found")}),f.jsx("p",{className:"text-[10px] mt-1",children:r("try_different_search","Try a different search term")})]}),X.length>0&&f.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-[12px] text-gray-400 dark:text-gray-500 text-center",children:r("keyboard_navigation_hint","Use  arrow keys to navigate, Enter to select, Esc to close")})]})]}),f.jsx("button",{onClick:()=>E(!_),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${_?"bg-blue-500 text-white border-blue-500 dark:border-gray-600":"text-gray-700 dark:text-gray-300"}`,children:f.jsx(yN,{className:"h-4 w-4"})})]}),_&&f.jsxs("div",{className:" pt-3",children:[f.jsx("p",{className:"text-[14px] font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("distance","Distance")}),f.jsx("div",{className:"flex gap-2 flex-wrap",children:[{value:"all",label:"All"},{value:"5",label:"Within 5km"},{value:"10",label:"Within 10km"},{value:"20",label:"Within 20km"}].map(Y=>f.jsx("button",{onClick:()=>I(Y.value),className:`px-3 py-1 rounded-full text-[12px] transition-colors ${L===Y.value?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:Y.label},Y.value))})]})]}),f.jsx("div",{className:"bg-white dark:bg-transparent rounded-lg mb-4 shadow-sm overflow-hidden",children:f.jsxs("div",{className:"h-80 bg-gradient-to-br from-green-50 via-blue-50 to-indigo-100 relative",children:[f.jsx("div",{className:"absolute inset-0 opacity-10",children:f.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[f.jsx("defs",{children:f.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:f.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#6B7280",strokeWidth:"1"})})}),f.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),f.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 400 320",children:[f.jsx("path",{d:"M0 160 Q200 120 400 160",stroke:"#E5E7EB",strokeWidth:"8",fill:"none"}),f.jsx("path",{d:"M200 0 Q200 160 200 320",stroke:"#E5E7EB",strokeWidth:"6",fill:"none"}),f.jsx("path",{d:"M0 80 Q100 60 200 80",stroke:"#F3F4F6",strokeWidth:"4",fill:"none"}),f.jsx("path",{d:"M200 240 Q300 220 400 240",stroke:"#F3F4F6",strokeWidth:"4",fill:"none"})]}),n&&f.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-4 h-4 bg-black rounded-full border-2 border-white shadow-lg animate-pulse"}),f.jsx("div",{className:"absolute -inset-2 bg-blue-400 rounded-full opacity-30 animate-ping"})]}),f.jsx("span",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-xs bg-white px-2 py-1 rounded shadow-md whitespace-nowrap",children:r("you_are_here","You are here")})]}),g.slice(0,8).map((Y,P)=>{const q=P*45*(Math.PI/180),K=80+P*10,J=50+Math.cos(q)*K/4,ce=50+Math.sin(q)*K/6;return f.jsx("div",{className:`absolute transform -translate-x-1/2 -translate-y-full cursor-pointer transition-all duration-200 hover:scale-125 z-20 ${u?.id===Y.id?"scale-125 z-30":""}`,style:{left:`${Math.max(10,Math.min(90,J))}%`,top:`${Math.max(15,Math.min(85,ce))}%`},onClick:()=>B(Y),children:f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg border-2 border-white transition-colors ${u?.id===Y.id?"bg-red-500 shadow-red-200":"bg-blue-500 shadow-blue-200"}`,children:P+1}),f.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:f.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 whitespace-nowrap shadow-lg",children:[f.jsx("div",{className:"font-medium",children:Y.name}),f.jsxs("div",{className:"text-gray-300",children:[Y.eta?.formatted,"  ",Y.distance?.toFixed(1),"km"]}),f.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})})]})},Y.id||P)}),f.jsx("div",{className:"absolute top-4 left-4 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg p-3 shadow-sm",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ic,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r("pharmacy_locations","Pharmacy Locations")}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:r("pharmacies_sorted_by_distance","{count} pharmacies  Sorted by distance").replace("{count}",g.length)})]})]})}),f.jsx("div",{className:"absolute bottom-4 right-4 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg p-3 shadow-sm",children:f.jsxs("div",{className:"space-y-2 text-xs",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 bg-black rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),f.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("your_location","Your location")})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),f.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("pharmacy","Pharmacy")})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),f.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("selected","Selected")})]})]})})]})}),u&&f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-3 mb-4 shadow-sm border border-blue-200 dark:border-gray-600 dark:border-gray-600",children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg flex-shrink-0",children:g.findIndex(Y=>Y.id===u.id)+1}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:u.name}),f.jsx("p",{className:"text-xs text-gray-600 mb-2 truncate",children:u.address}),f.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 flex-wrap",children:[f.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-full px-2 py-1",children:[f.jsx(zy,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),f.jsx("span",{className:"font-medium whitespace-nowrap",children:u.eta?.formatted||r("calculating","Calculating...")})]}),f.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-full px-2 py-1",children:[f.jsx(ic,{className:"h-3 w-3 text-green-500 flex-shrink-0"}),f.jsxs("span",{className:"font-medium whitespace-nowrap",children:[u.distance?.toFixed(1)||"0"," km"]})]}),u.phone&&f.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-full px-2 py-1",children:[f.jsx(L1,{className:"h-3 w-3 text-purple-500 flex-shrink-0"}),f.jsx("span",{className:"font-medium text-xs truncate max-w-[80px]",children:u.phone})]})]})]})]}),f.jsx("span",{className:"bg-blue-600 text-white text-xs px-1 py-1 rounded-full font-medium flex-shrink-0 ml-2",children:r("closest","Closest")})]}),f.jsxs("div",{className:"flex gap-1.5",children:[f.jsxs("button",{onClick:()=>j(u),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-full text-xs font-medium hover:bg-blue-700 transition-all duration-200 flex items-center justify-center gap-1 btn-interactive",children:[f.jsx($y,{className:"h-3 w-3"}),f.jsx("span",{className:"hidden sm:inline",children:r("get_directions","Get Directions")}),f.jsx("span",{className:"sm:hidden",children:r("get_directions","Get Directions")})]}),u.phone&&f.jsxs("button",{onClick:()=>N(u),className:"bg-green-600 text-white py-2 px-3 rounded-full text-xs font-medium hover:bg-green-700 transition-all duration-200 flex items-center justify-center gap-1 btn-interactive",title:r("call_pharmacy","Call pharmacy"),children:[f.jsx(L1,{className:"h-3 w-3"}),f.jsx("span",{className:"hidden sm:inline",children:r("call","Call")})]}),f.jsxs("button",{onClick:()=>te(u),className:"flex-1 bg-white text-blue-600 py-2 px-3 rounded-full text-xs font-medium hover:bg-blue-50 transition-all duration-200 border border-blue-200 dark:border-gray-600 btn-interactive",children:[f.jsx("span",{className:"hidden sm:inline",children:r("view_products","View Products")}),f.jsx("span",{className:"sm:hidden",children:r("view_products","View Products")})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{className:"text-[18px] font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:y?f.jsxs(f.Fragment,{children:[f.jsx("span",{children:r("search_results","Search Results")}),f.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full animate-pulse-slow",children:['"',y,'"']})]}):r("all_pharmacies","All Pharmacies")}),f.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("pharmacies_found_count","{count} found").replace("{count}",g.length)})]}),g.length===0?f.jsxs("div",{className:"bg-white-10 rounded-lg p-8 text-center",children:[f.jsx(ic,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:y?r("no_pharmacies_found_search","No pharmacies found matching your search"):r("no_pharmacies_found_general","No pharmacies found")}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:y?r("try_adjusting_search","Try adjusting your search terms"):r("try_adjusting_location","Try adjusting your location or check back later")}),y&&f.jsx("button",{onClick:()=>w(""),className:"mt-3 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium hover:scale-105 active:scale-95 transition-all duration-200 px-3 py-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r("clear_search","Clear search")})]}):g.map((Y,P)=>f.jsx("div",{id:`pharmacy-${Y.id}`,className:`bg-white dark:bg-transparent rounded-lg p-3 border border-gray-200 dark:border-gray-600 dark:border-gray-600 cursor-pointer transition-all duration-200 card-interactive animate-fadeInUp ${u?.id===Y.id?"border-blue-300 dark:border-gray-600 bg-blue-50 dark:bg-blue-900/30 shadow-blue-100 scale-102":"border-gray-200 dark:border-gray-600 dark:border-gray-600 hover:border-gray-300 dark:border-gray-600 dark:hover:border-gray-500 hover:shadow-md"}`,style:{animationDelay:`${P*.1}s`},onClick:()=>B(Y),children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[f.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-[12px] font-bold shadow-sm flex-shrink-0 ${u?.id===Y.id?"bg-blue-500":"bg-gray-400"}`,children:P+1}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm truncate",children:Y.name}),P===0&&f.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 text-sm px-2 py-0.5 rounded-full font-medium flex-shrink-0",children:r("closest","Closest")})]}),f.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 truncate",children:Y.address}),f.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[f.jsx(zy,{className:"h-3 w-3 flex-shrink-0"}),f.jsx("span",{className:"font-medium whitespace-nowrap",children:Y.eta?.formatted||r("calculating","Calculating...")})]}),f.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[f.jsx(ic,{className:"h-3 w-3 flex-shrink-0"}),f.jsxs("span",{className:"font-medium whitespace-nowrap",children:[Y.distance?.toFixed(1)||"0"," km"]})]})]})]})]}),f.jsx("button",{onClick:q=>{q.stopPropagation(),j(Y)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors p-1.5 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full flex-shrink-0 ml-2",title:r("get_directions","Get directions"),children:f.jsx($y,{className:"h-4 w-4"})})]})},Y.id||P))]}),V&&X.length>0&&f.jsx("div",{className:"absolute z-50 w-full max-w-md mx-auto mt-2 bg-white rounded-lg shadow-lg",children:f.jsx("div",{className:"flex flex-col divide-y divide-gray-200",children:X.map(Y=>f.jsxs("button",{onClick:()=>_e(Y),className:"flex items-center justify-between w-full px-4 py-2 text-left text-gray-900 hover:bg-blue-50 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ic,{className:"h-5 w-5 text-blue-600"}),f.jsxs("div",{className:"flex flex-col text-sm",children:[f.jsx("span",{className:"font-medium",children:Y.name}),f.jsx("span",{className:"text-gray-500 truncate",children:Y.address})]})]}),f.jsx("span",{className:"text-xs text-gray-400",children:g.findIndex(P=>P.id===Y.id)+1})]},Y.id))})})]})]})]})}function hve(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-white dark:bg-gray-900",children:f.jsxs("div",{className:"flex flex-col items-center gap-4 text-gray-500 dark:text-gray-400",children:[f.jsx("img",{src:"/iconLoader.svg",alt:"Loading",className:"h-12 w-12 animate-spin"}),f.jsx("p",{className:"text-sm tracking-wide uppercase",children:"Preparing your experience"})]})})}const jk=F.createContext({});function Dk(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ok=typeof window<"u",nV=Ok?F.useLayoutEffect:F.useEffect,w4=F.createContext(null);function Mk(t,e){t.indexOf(e)===-1&&t.push(e)}function Bk(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Cd=(t,e,r)=>r>e?e:r<t?t:r;let Vk=()=>{};const Td={},iV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sV(t){return typeof t=="object"&&t!==null}const aV=t=>/^0[^.\s]+$/u.test(t);function Uk(t){let e;return()=>(e===void 0&&(e=t()),e)}const oc=t=>t,pve=(t,e)=>r=>e(t(r)),ux=(...t)=>t.reduce(pve),_2=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class zk{constructor(){this.subscriptions=[]}add(e){return Mk(this.subscriptions,e),()=>Bk(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nu=t=>t*1e3,Iu=t=>t/1e3;function oV(t,e){return e?t*(1e3/e):0}const lV=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,mve=1e-7,gve=12;function xve(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=lV(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>mve&&++o<gve);return a}function dx(t,e,r,n){if(t===e&&r===n)return oc;const i=s=>xve(s,0,1,t,r);return s=>s===0||s===1?s:lV(i(s),e,n)}const cV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,uV=t=>e=>1-t(1-e),dV=dx(.33,1.53,.69,.99),$k=uV(dV),fV=cV($k),hV=t=>(t*=2)<1?.5*$k(t):.5*(2-Math.pow(2,-10*(t-1))),qk=t=>1-Math.sin(Math.acos(t)),pV=uV(qk),mV=cV(qk),vve=dx(.42,0,1,1),yve=dx(0,0,.58,1),gV=dx(.42,0,.58,1),wve=t=>Array.isArray(t)&&typeof t[0]!="number",xV=t=>Array.isArray(t)&&typeof t[0]=="number",_ve={linear:oc,easeIn:vve,easeInOut:gV,easeOut:yve,circIn:qk,circInOut:mV,circOut:pV,backIn:$k,backInOut:fV,backOut:dV,anticipate:hV},bve=t=>typeof t=="string",wN=t=>{if(xV(t)){Vk(t.length===4);const[e,r,n,i]=t;return dx(e,r,n,i)}else if(bve(t))return _ve[t];return t},Dv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function kve(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,p=!1,g=!1)=>{const y=g&&i?r:n;return p&&a.add(u),y.has(u)||y.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const Sve=40;function vV(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=Dv.reduce((I,V)=>(I[V]=kve(s),I),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:p,preRender:g,render:m,postRender:y}=a,w=()=>{const I=Td.useManualTiming?i.timestamp:performance.now();r=!1,Td.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(I-i.timestamp,Sve),1)),i.timestamp=I,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),p.process(i),g.process(i),m.process(i),y.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(w))},_=()=>{r=!0,n=!0,i.isProcessing||t(w)};return{schedule:Dv.reduce((I,V)=>{const G=a[V];return I[V]=(X,R=!1,A=!1)=>(r||_(),G.schedule(X,R,A)),I},{}),cancel:I=>{for(let V=0;V<Dv.length;V++)a[Dv[V]].cancel(I)},state:i,steps:a}}const{schedule:Mi,cancel:eh,state:Ba,steps:M3}=vV(typeof requestAnimationFrame<"u"?requestAnimationFrame:oc,!0);let uy;function Eve(){uy=void 0}const rl={now:()=>(uy===void 0&&rl.set(Ba.isProcessing||Td.useManualTiming?Ba.timestamp:performance.now()),uy),set:t=>{uy=t,queueMicrotask(Eve)}},yV=t=>e=>typeof e=="string"&&e.startsWith(t),Hk=yV("--"),Cve=yV("var(--"),Wk=t=>Cve(t)?Tve.test(t.split("/*")[0].trim()):!1,Tve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},b2={...fm,transform:t=>Cd(0,1,t)},Ov={...fm,default:1},jg=t=>Math.round(t*1e5)/1e5,Gk=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ave(t){return t==null}const Nve=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kk=(t,e)=>r=>!!(typeof r=="string"&&Nve.test(r)&&r.startsWith(t)||e&&!Ave(r)&&Object.prototype.hasOwnProperty.call(r,e)),wV=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(Gk);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Ive=t=>Cd(0,255,t),B3={...fm,transform:t=>Math.round(Ive(t))},t0={test:Kk("rgb","red"),parse:wV("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+B3.transform(t)+", "+B3.transform(e)+", "+B3.transform(r)+", "+jg(b2.transform(n))+")"};function Pve(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Tb={test:Kk("#"),parse:Pve,transform:t0.transform},fx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vf=fx("deg"),Pu=fx("%"),Fr=fx("px"),Rve=fx("vh"),Lve=fx("vw"),_N={...Pu,parse:t=>Pu.parse(t)/100,transform:t=>Pu.transform(t*100)},Wp={test:Kk("hsl","hue"),parse:wV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Pu.transform(jg(e))+", "+Pu.transform(jg(r))+", "+jg(b2.transform(n))+")"},$s={test:t=>t0.test(t)||Tb.test(t)||Wp.test(t),parse:t=>t0.test(t)?t0.parse(t):Wp.test(t)?Wp.parse(t):Tb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?t0.transform(t):Wp.transform(t),getAnimatableNone:t=>{const e=$s.parse(t);return e.alpha=0,$s.transform(e)}},Fve=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jve(t){return isNaN(t)&&typeof t=="string"&&(t.match(Gk)?.length||0)+(t.match(Fve)?.length||0)>0}const _V="number",bV="color",Dve="var",Ove="var(",bN="${}",Mve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function k2(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Mve,l=>($s.test(l)?(n.color.push(s),i.push(bV),r.push($s.parse(l))):l.startsWith(Ove)?(n.var.push(s),i.push(Dve),r.push(l)):(n.number.push(s),i.push(_V),r.push(parseFloat(l))),++s,bN)).split(bN);return{values:r,split:o,indexes:n,types:i}}function kV(t){return k2(t).values}function SV(t){const{split:e,types:r}=k2(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===_V?s+=jg(i[a]):o===bV?s+=$s.transform(i[a]):s+=i[a]}return s}}const Bve=t=>typeof t=="number"?0:$s.test(t)?$s.getAnimatableNone(t):t;function Vve(t){const e=kV(t);return SV(t)(e.map(Bve))}const th={test:jve,parse:kV,createTransformer:SV,getAnimatableNone:Vve};function V3(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Uve({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=V3(l,o,t+1/3),s=V3(l,o,t),a=V3(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function m5(t,e){return r=>r>0?e:t}const Xi=(t,e,r)=>t+(e-t)*r,U3=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},zve=[Tb,t0,Wp],$ve=t=>zve.find(e=>e.test(t));function kN(t){const e=$ve(t);if(!e)return!1;let r=e.parse(t);return e===Wp&&(r=Uve(r)),r}const SN=(t,e)=>{const r=kN(t),n=kN(e);if(!r||!n)return m5(t,e);const i={...r};return s=>(i.red=U3(r.red,n.red,s),i.green=U3(r.green,n.green,s),i.blue=U3(r.blue,n.blue,s),i.alpha=Xi(r.alpha,n.alpha,s),t0.transform(i))},Ab=new Set(["none","hidden"]);function qve(t,e){return Ab.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Hve(t,e){return r=>Xi(t,e,r)}function Xk(t){return typeof t=="number"?Hve:typeof t=="string"?Wk(t)?m5:$s.test(t)?SN:Kve:Array.isArray(t)?EV:typeof t=="object"?$s.test(t)?SN:Wve:m5}function EV(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>Xk(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function Wve(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=Xk(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Gve(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const Kve=(t,e)=>{const r=th.createTransformer(e),n=k2(t),i=k2(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Ab.has(t)&&!i.values.length||Ab.has(e)&&!n.values.length?qve(t,e):ux(EV(Gve(n,i),i.values),r):m5(t,e)};function CV(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Xi(t,e,r):Xk(t)(t,e)}const Xve=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Mi.update(e,r),stop:()=>eh(e),now:()=>Ba.isProcessing?Ba.timestamp:rl.now()}},TV=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},g5=2e4;function Yk(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<g5;)e+=r,n=t.next(e);return e>=g5?1/0:e}function Yve(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(Yk(n),g5);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Iu(i)}}const Qve=5;function AV(t,e,r){const n=Math.max(e-Qve,0);return oV(r-t(n),e-n)}const os={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},z3=.001;function Jve({duration:t=os.duration,bounce:e=os.bounce,velocity:r=os.velocity,mass:n=os.mass}){let i,s,a=1-e;a=Cd(os.minDamping,os.maxDamping,a),t=Cd(os.minDuration,os.maxDuration,Iu(t)),a<1?(i=c=>{const u=c*a,p=u*t,g=u-r,m=Nb(c,a),y=Math.exp(-p);return z3-g/m*y},s=c=>{const p=c*a*t,g=p*r+r,m=Math.pow(a,2)*Math.pow(c,2)*t,y=Math.exp(-p),w=Nb(Math.pow(c,2),a);return(-i(c)+z3>0?-1:1)*((g-m)*y)/w}):(i=c=>{const u=Math.exp(-c*t),p=(c-r)*t+1;return-z3+u*p},s=c=>{const u=Math.exp(-c*t),p=(r-c)*(t*t);return u*p});const o=5/t,l=eye(i,s,o);if(t=Nu(t),isNaN(l))return{stiffness:os.stiffness,damping:os.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:t}}}const Zve=12;function eye(t,e,r){let n=r;for(let i=1;i<Zve;i++)n=n-t(n)/e(n);return n}function Nb(t,e){return t*Math.sqrt(1-e*e)}const tye=["duration","bounce"],rye=["stiffness","damping","mass"];function EN(t,e){return e.some(r=>t[r]!==void 0)}function nye(t){let e={velocity:os.velocity,stiffness:os.stiffness,damping:os.damping,mass:os.mass,isResolvedFromDuration:!1,...t};if(!EN(t,rye)&&EN(t,tye))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Cd(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:os.mass,stiffness:i,damping:s}}else{const r=Jve(t);e={...e,...r,mass:os.mass},e.isResolvedFromDuration=!0}return e}function x5(t=os.visualDuration,e=os.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:p,velocity:g,isResolvedFromDuration:m}=nye({...r,velocity:-Iu(r.velocity||0)}),y=g||0,w=c/(2*Math.sqrt(l*u)),_=a-s,E=Iu(Math.sqrt(l/u)),L=Math.abs(_)<5;n||(n=L?os.restSpeed.granular:os.restSpeed.default),i||(i=L?os.restDelta.granular:os.restDelta.default);let I;if(w<1){const G=Nb(E,w);I=X=>{const R=Math.exp(-w*E*X);return a-R*((y+w*E*_)/G*Math.sin(G*X)+_*Math.cos(G*X))}}else if(w===1)I=G=>a-Math.exp(-E*G)*(_+(y+E*_)*G);else{const G=E*Math.sqrt(w*w-1);I=X=>{const R=Math.exp(-w*E*X),A=Math.min(G*X,300);return a-R*((y+w*E*_)*Math.sinh(A)+G*_*Math.cosh(A))/G}}const V={calculatedDuration:m&&p||null,next:G=>{const X=I(G);if(m)o.done=G>=p;else{let R=G===0?y:0;w<1&&(R=G===0?Nu(y):AV(I,G,X));const A=Math.abs(R)<=n,C=Math.abs(a-X)<=i;o.done=A&&C}return o.value=o.done?a:X,o},toString:()=>{const G=Math.min(Yk(V),g5),X=TV(R=>V.next(G*R).value,G,30);return G+"ms "+X},toTransition:()=>{}};return V}x5.applyToOptions=t=>{const e=Yve(t,100,x5);return t.ease=e.ease,t.duration=Nu(e.duration),t.type="keyframes",t};function Ib({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const p=t[0],g={done:!1,value:p},m=A=>o!==void 0&&A<o||l!==void 0&&A>l,y=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let w=r*e;const _=p+w,E=a===void 0?_:a(_);E!==_&&(w=E-p);const L=A=>-w*Math.exp(-A/n),I=A=>E+L(A),V=A=>{const C=L(A),D=I(A);g.done=Math.abs(C)<=c,g.value=g.done?E:D};let G,X;const R=A=>{m(g.value)&&(G=A,X=x5({keyframes:[g.value,y(g.value)],velocity:AV(I,A,g.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return R(0),{calculatedDuration:null,next:A=>{let C=!1;return!X&&G===void 0&&(C=!0,V(A),R(A)),G!==void 0&&A>=G?X.next(A-G):(!C&&V(A),g)}}}function iye(t,e,r){const n=[],i=r||Td.mix||CV,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||oc:e;o=ux(l,o)}n.push(o)}return n}function sye(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(Vk(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=iye(e,n,i),l=o.length,c=u=>{if(a&&u<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(u<t[p+1]);p++);const g=_2(t[p],t[p+1],u);return o[p](g)};return r?u=>c(Cd(t[0],t[s-1],u)):c}function aye(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=_2(0,e,n);t.push(Xi(r,1,i))}}function oye(t){const e=[0];return aye(e,t.length-1),e}function lye(t,e){return t.map(r=>r*e)}function cye(t,e){return t.map(()=>e||gV).splice(0,t.length-1)}function Dg({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=wve(n)?n.map(wN):wN(n),s={done:!1,value:e[0]},a=lye(r&&r.length===e.length?r:oye(e),t),o=sye(a,e,{ease:Array.isArray(i)?i:cye(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const uye=t=>t!==null;function Qk(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(uye),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const dye={decay:Ib,inertia:Ib,tween:Dg,keyframes:Dg,spring:x5};function NV(t){typeof t.type=="string"&&(t.type=dye[t.type])}class Jk{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const fye=t=>t/100;class Zk extends Jk{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==rl.now()&&this.tick(rl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NV(e);const{type:r=Dg,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||Dg;l!==Dg&&typeof o[0]!="number"&&(this.mixKeyframes=ux(fye,CV(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=Yk(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:p,repeatType:g,repeatDelay:m,type:y,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const E=this.currentTime-c*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let I=this.currentTime,V=n;if(p){const A=Math.min(this.currentTime,i)/o;let C=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(g==="reverse"?(D=1-D,m&&(D-=m/o)):g==="mirror"&&(V=a)),I=Cd(0,1,D)*o}const G=L?{done:!1,value:u[0]}:V.next(I);s&&(G.value=s(G.value));let{done:X}=G;!L&&l!==null&&(X=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return R&&y!==Ib&&(G.value=Qk(u,this.options,_,this.speed)),w&&w(G.value),R&&this.finish(),G}then(e,r){return this.finished.then(e,r)}get duration(){return Iu(this.calculatedDuration)}get time(){return Iu(this.currentTime)}set time(e){e=Nu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rl.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Iu(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Xve,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function hye(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const r0=t=>t*180/Math.PI,Pb=t=>{const e=r0(Math.atan2(t[1],t[0]));return Rb(e)},pye={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Pb,rotateZ:Pb,skewX:t=>r0(Math.atan(t[1])),skewY:t=>r0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rb=t=>(t=t%360,t<0&&(t+=360),t),CN=Pb,TN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),AN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),mye={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TN,scaleY:AN,scale:t=>(TN(t)+AN(t))/2,rotateX:t=>Rb(r0(Math.atan2(t[6],t[5]))),rotateY:t=>Rb(r0(Math.atan2(-t[2],t[0]))),rotateZ:CN,rotate:CN,skewX:t=>r0(Math.atan(t[4])),skewY:t=>r0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Lb(t){return t.includes("scale")?1:0}function Fb(t,e){if(!t||t==="none")return Lb(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=mye,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=pye,i=o}if(!i)return Lb(e);const s=n[e],a=i[1].split(",").map(xye);return typeof s=="function"?s(a):a[s]}const gye=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Fb(r,e)};function xye(t){return parseFloat(t.trim())}const hm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pm=new Set(hm),NN=t=>t===fm||t===Fr,vye=new Set(["x","y","z"]),yye=hm.filter(t=>!vye.has(t));function wye(t){const e=[];return yye.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const d0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Fb(e,"x"),y:(t,{transform:e})=>Fb(e,"y")};d0.translateX=d0.x;d0.translateY=d0.y;const f0=new Set;let jb=!1,Db=!1,Ob=!1;function IV(){if(Db){const t=Array.from(f0).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=wye(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{n.getValue(s)?.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Db=!1,jb=!1,f0.forEach(t=>t.complete(Ob)),f0.clear()}function PV(){f0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Db=!0)})}function _ye(){Ob=!0,PV(),IV(),Ob=!1}class e7{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(f0.add(this),jb||(jb=!0,Mi.read(PV),Mi.resolveKeyframes(IV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}hye(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),f0.delete(this)}cancel(){this.state==="scheduled"&&(f0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bye=t=>t.startsWith("--");function kye(t,e,r){bye(e)?t.style.setProperty(e,r):t.style[e]=r}const Sye=Uk(()=>window.ScrollTimeline!==void 0),Eye={};function Cye(t,e){const r=Uk(t);return()=>Eye[e]??r()}const RV=Cye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hg=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,IN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hg([0,.65,.55,1]),circOut:hg([.55,0,1,.45]),backIn:hg([.31,.01,.66,-.59]),backOut:hg([.33,1.53,.69,.99])};function LV(t,e){if(t)return typeof t=="function"?RV()?TV(t,e):"ease-out":xV(t)?hg(t):Array.isArray(t)?t.map(r=>LV(r,e)||IN.easeOut):IN[t]}function Tye(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:r};l&&(u.offset=l);const p=LV(o,i);Array.isArray(p)&&(u.easing=p);const g={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(g.pseudoElement=c),t.animate(u,g)}function FV(t){return typeof t=="function"&&"applyToOptions"in t}function Aye({type:t,...e}){return FV(t)&&RV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Nye extends Jk{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Vk(typeof e.type!="string");const c=Aye(e);this.animation=Tye(r,n,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=Qk(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):kye(r,n,u),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Iu(Number(e))}get time(){return Iu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Nu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Sye()?(this.animation.timeline=e,oc):r(this)}}const jV={anticipate:hV,backInOut:fV,circInOut:mV};function Iye(t){return t in jV}function Pye(t){typeof t.ease=="string"&&Iye(t.ease)&&(t.ease=jV[t.ease])}const PN=10;class Rye extends Nye{constructor(e){Pye(e),NV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new Zk({...a,autoplay:!1}),l=Nu(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-PN).value,o.sample(l).value,PN),o.stop()}}const RN=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(th.test(t)||t==="0")&&!t.startsWith("url("));function Lye(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Fye(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=RN(i,e),o=RN(s,e);return!a||!o?!1:Lye(t)||(r==="spring"||FV(r))&&n}function Mb(t){t.duration=0,t.type}const jye=new Set(["opacity","clipPath","filter","transform"]),Dye=Uk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Oye(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Dye()&&r&&jye.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const Mye=40;class Bye extends Jk{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=rl.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:u,...p},m=u?.KeyframeResolver||e7;this.keyframeResolver=new m(o,(y,w,_)=>this.onKeyframesResolved(y,w,g,!_),l,c,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=rl.now(),Fye(e,s,a,o)||((Td.instantAnimations||!l)&&u?.(Qk(e,n,r)),e[0]=e[e.length-1],Mb(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Mye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!c&&Oye(g)?new Rye({...g,element:g.motionValue.owner.current}):new Zk(g);m.finished.then(()=>this.notifyFinished()).catch(oc),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),_ye()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Vye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Uye(t){const e=Vye.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function DV(t,e,r=1){const[n,i]=Uye(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return iV(a)?parseFloat(a):a}return Wk(i)?DV(i,e,r+1):i}function t7(t,e){return t?.[e]??t?.default??t}const OV=new Set(["width","height","top","left","right","bottom",...hm]),zye={test:t=>t==="auto",parse:t=>t},MV=t=>e=>e.test(t),BV=[fm,Fr,Pu,vf,Lve,Rve,zye],LN=t=>BV.find(MV(t));function $ye(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aV(t):!0}const qye=new Set(["brightness","contrast","saturate","opacity"]);function Hye(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Gk)||[];if(!n)return t;const i=r.replace(n,"");let s=qye.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const Wye=/\b([a-z-]*)\(.*?\)/gu,Bb={...th,getAnimatableNone:t=>{const e=t.match(Wye);return e?e.map(Hye).join(" "):t}},FN={...fm,transform:Math.round},Gye={rotate:vf,rotateX:vf,rotateY:vf,rotateZ:vf,scale:Ov,scaleX:Ov,scaleY:Ov,scaleZ:Ov,skew:vf,skewX:vf,skewY:vf,distance:Fr,translateX:Fr,translateY:Fr,translateZ:Fr,x:Fr,y:Fr,z:Fr,perspective:Fr,transformPerspective:Fr,opacity:b2,originX:_N,originY:_N,originZ:Fr},r7={borderWidth:Fr,borderTopWidth:Fr,borderRightWidth:Fr,borderBottomWidth:Fr,borderLeftWidth:Fr,borderRadius:Fr,radius:Fr,borderTopLeftRadius:Fr,borderTopRightRadius:Fr,borderBottomRightRadius:Fr,borderBottomLeftRadius:Fr,width:Fr,maxWidth:Fr,height:Fr,maxHeight:Fr,top:Fr,right:Fr,bottom:Fr,left:Fr,padding:Fr,paddingTop:Fr,paddingRight:Fr,paddingBottom:Fr,paddingLeft:Fr,margin:Fr,marginTop:Fr,marginRight:Fr,marginBottom:Fr,marginLeft:Fr,backgroundPositionX:Fr,backgroundPositionY:Fr,...Gye,zIndex:FN,fillOpacity:b2,strokeOpacity:b2,numOctaves:FN},Kye={...r7,color:$s,backgroundColor:$s,outlineColor:$s,fill:$s,stroke:$s,borderColor:$s,borderTopColor:$s,borderRightColor:$s,borderBottomColor:$s,borderLeftColor:$s,filter:Bb,WebkitFilter:Bb},VV=t=>Kye[t];function UV(t,e){let r=VV(t);return r!==Bb&&(r=th),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Xye=new Set(["auto","none","0"]);function Yye(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!Xye.has(s)&&k2(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=UV(r,i)}class Qye extends e7{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Wk(c))){const u=DV(c,r.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!OV.has(n)||e.length!==2)return;const[i,s]=e,a=LN(i),o=LN(s);if(a!==o)if(NN(a)&&NN(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else d0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||$ye(e[i]))&&n.push(i);n.length&&Yye(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=d0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=d0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function Jye(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const zV=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $V(t){return sV(t)&&"offsetHeight"in t}const jN=30,Zye=t=>!isNaN(parseFloat(t));class e5e{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=rl.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=rl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zye(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new zk);const n=this.events[e].add(r);return e==="change"?()=>{n(),Mi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>jN)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,jN);return oV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function B1(t,e){return new e5e(t,e)}const{schedule:n7}=vV(queueMicrotask,!1),Lc={x:!1,y:!1};function qV(){return Lc.x||Lc.y}function t5e(t){return t==="x"||t==="y"?Lc[t]?null:(Lc[t]=!0,()=>{Lc[t]=!1}):Lc.x||Lc.y?null:(Lc.x=Lc.y=!0,()=>{Lc.x=Lc.y=!1})}function HV(t,e){const r=Jye(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function DN(t){return!(t.pointerType==="touch"||qV())}function r5e(t,e,r={}){const[n,i,s]=HV(t,r),a=o=>{if(!DN(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const u=p=>{DN(p)&&(c(p),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const WV=(t,e)=>e?t===e?!0:WV(t,e.parentElement):!1,i7=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,n5e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function i5e(t){return n5e.has(t.tagName)||t.tabIndex!==-1}const dy=new WeakSet;function ON(t){return e=>{e.key==="Enter"&&t(e)}}function $3(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const s5e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=ON(()=>{if(dy.has(r))return;$3(r,"down");const i=ON(()=>{$3(r,"up")}),s=()=>$3(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function MN(t){return i7(t)&&!qV()}function a5e(t,e,r={}){const[n,i,s]=HV(t,r),a=o=>{const l=o.currentTarget;if(!MN(o))return;dy.add(l);const c=e(l,o),u=(m,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),dy.has(l)&&dy.delete(l),MN(m)&&typeof c=="function"&&c(m,{success:y})},p=m=>{u(m,l===window||l===document||r.useGlobalTarget||WV(l,m.target))},g=m=>{u(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),$V(o)&&(o.addEventListener("focus",c=>s5e(c,i)),!i5e(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function GV(t){return sV(t)&&"ownerSVGElement"in t}function o5e(t){return GV(t)&&t.tagName==="svg"}const bo=t=>!!(t&&t.getVelocity),l5e=[...BV,$s,th],c5e=t=>l5e.find(MV(t)),s7=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class u5e extends F.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=$V(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d5e({children:t,isPresent:e,anchorX:r,root:n}){const i=F.useId(),s=F.useRef(null),a=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=F.useContext(s7);return F.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:p,right:g}=a.current;if(e||!s.current||!l||!c)return;const m=r==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");o&&(y.nonce=o);const w=n??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[e]),f.jsx(u5e,{isPresent:e,childRef:s,sizeRef:a,children:F.cloneElement(t,{ref:s})})}const f5e=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const c=Dk(h5e),u=F.useId();let p=!0,g=F.useMemo(()=>(p=!1,{id:u,initial:e,isPresent:r,custom:i,onExitComplete:m=>{c.set(m,!0);for(const y of c.values())if(!y)return;n&&n()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[r,c,n]);return s&&p&&(g={...g}),F.useMemo(()=>{c.forEach((m,y)=>c.set(y,!1))},[r]),F.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(t=f.jsx(d5e,{isPresent:r,anchorX:o,root:l,children:t})),f.jsx(w4.Provider,{value:g,children:t})};function h5e(){return new Map}function KV(t=!0){const e=F.useContext(w4);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=F.useId();F.useEffect(()=>{if(t)return i(s)},[t]);const a=F.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const Mv=t=>t.key||"";function BN(t){const e=[];return F.Children.forEach(t,r=>{F.isValidElement(r)&&e.push(r)}),e}const p5e=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,u]=KV(a),p=F.useMemo(()=>BN(t),[t]),g=a&&!c?[]:p.map(Mv),m=F.useRef(!0),y=F.useRef(p),w=Dk(()=>new Map),[_,E]=F.useState(p),[L,I]=F.useState(p);nV(()=>{m.current=!1,y.current=p;for(let X=0;X<L.length;X++){const R=Mv(L[X]);g.includes(R)?w.delete(R):w.get(R)!==!0&&w.set(R,!1)}},[L,g.length,g.join("-")]);const V=[];if(p!==_){let X=[...p];for(let R=0;R<L.length;R++){const A=L[R],C=Mv(A);g.includes(C)||(X.splice(R,0,A),V.push(A))}return s==="wait"&&V.length&&(X=V),I(BN(X)),E(p),null}const{forceRender:G}=F.useContext(jk);return f.jsx(f.Fragment,{children:L.map(X=>{const R=Mv(X),A=a&&!c?!1:p===L||g.includes(R),C=()=>{if(w.has(R))w.set(R,!0);else return;let D=!0;w.forEach(N=>{N||(D=!1)}),D&&(G?.(),I(y.current),a&&u?.(),n&&n())};return f.jsx(f5e,{isPresent:A,initial:!m.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:A?void 0:C,anchorX:o,children:X},R)})})},XV=F.createContext({strict:!1}),VN={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},V1={};for(const t in VN)V1[t]={isEnabled:e=>VN[t].some(r=>!!e[r])};function m5e(t){for(const e in t)V1[e]={...V1[e],...t[e]}}const g5e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function v5(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||g5e.has(t)}let YV=t=>!v5(t);function x5e(t){typeof t=="function"&&(YV=e=>e.startsWith("on")?!v5(e):t(e))}try{x5e(require("@emotion/is-prop-valid").default)}catch{}function v5e(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(YV(i)||r===!0&&v5(i)||!e&&!v5(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const _4=F.createContext({});function b4(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function S2(t){return typeof t=="string"||Array.isArray(t)}const a7=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],o7=["initial",...a7];function k4(t){return b4(t.animate)||o7.some(e=>S2(t[e]))}function QV(t){return!!(k4(t)||t.variants)}function y5e(t,e){if(k4(t)){const{initial:r,animate:n}=t;return{initial:r===!1||S2(r)?r:void 0,animate:S2(n)?n:void 0}}return t.inherit!==!1?e:{}}function w5e(t){const{initial:e,animate:r}=y5e(t,F.useContext(_4));return F.useMemo(()=>({initial:e,animate:r}),[UN(e),UN(r)])}function UN(t){return Array.isArray(t)?t.join(" "):t}const E2={};function _5e(t){for(const e in t)E2[e]=t[e],Hk(e)&&(E2[e].isCSSVariable=!0)}function JV(t,{layout:e,layoutId:r}){return pm.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!E2[t]||t==="opacity")}const b5e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k5e=hm.length;function S5e(t,e,r){let n="",i=!0;for(let s=0;s<k5e;s++){const a=hm[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=zV(o,r7[a]);if(!l){i=!1;const u=b5e[a]||a;n+=`${u}(${c}) `}r&&(e[a]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function l7(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(pm.has(l)){a=!0;continue}else if(Hk(l)){i[l]=c;continue}else{const u=zV(c,r7[l]);l.startsWith("origin")?(o=!0,s[l]=u):n[l]=u}}if(e.transform||(a||r?n.transform=S5e(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}const c7=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZV(t,e,r){for(const n in e)!bo(e[n])&&!JV(n,r)&&(t[n]=e[n])}function E5e({transformTemplate:t},e){return F.useMemo(()=>{const r=c7();return l7(r,e,t),Object.assign({},r.vars,r.style)},[e])}function C5e(t,e){const r=t.style||{},n={};return ZV(n,r,t),Object.assign(n,E5e(t,e)),n}function T5e(t,e){const r={},n=C5e(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const A5e={offset:"stroke-dashoffset",array:"stroke-dasharray"},N5e={offset:"strokeDashoffset",array:"strokeDasharray"};function I5e(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?A5e:N5e;t[s.offset]=Fr.transform(-n);const a=Fr.transform(e),o=Fr.transform(r);t[s.array]=`${a} ${o}`}function eU(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,u){if(l7(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=u?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&I5e(p,i,s,a,!1)}const tU=()=>({...c7(),attrs:{}}),rU=t=>typeof t=="string"&&t.toLowerCase()==="svg";function P5e(t,e,r,n){const i=F.useMemo(()=>{const s=tU();return eU(s,e,rU(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};ZV(s,t.style,t),i.style={...s,...i.style}}return i}const R5e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u7(t){return typeof t!="string"||t.includes("-")?!1:!!(R5e.indexOf(t)>-1||/[A-Z]/u.test(t))}function L5e(t,e,r,{latestValues:n},i,s=!1){const o=(u7(t)?P5e:T5e)(e,n,i,t),l=v5e(e,typeof t=="string",s),c=t!==F.Fragment?{...l,...o,ref:r}:{},{children:u}=e,p=F.useMemo(()=>bo(u)?u.get():u,[u]);return F.createElement(t,{...c,children:p})}function zN(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function d7(t,e,r,n){if(typeof e=="function"){const[i,s]=zN(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=zN(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function fy(t){return bo(t)?t.get():t}function F5e({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:j5e(r,n,i,t),renderState:e()}}function j5e(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=fy(s[g]);let{initial:a,animate:o}=t;const l=k4(t),c=QV(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=r?r.initial===!1:!1;u=u||a===!1;const p=u?o:a;if(p&&typeof p!="boolean"&&!b4(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const y=d7(t,g[m]);if(y){const{transitionEnd:w,transition:_,...E}=y;for(const L in E){let I=E[L];if(Array.isArray(I)){const V=u?I.length-1:0;I=I[V]}I!==null&&(i[L]=I)}for(const L in w)i[L]=w[L]}}}return i}const nU=t=>(e,r)=>{const n=F.useContext(_4),i=F.useContext(w4),s=()=>F5e(t,e,n,i);return r?s():Dk(s)};function f7(t,e,r){const{style:n}=t,i={};for(const s in n)(bo(n[s])||e.style&&bo(e.style[s])||JV(s,t)||r?.getValue(s)?.liveStyle!==void 0)&&(i[s]=n[s]);return i}const D5e=nU({scrapeMotionValuesFromProps:f7,createRenderState:c7});function iU(t,e,r){const n=f7(t,e,r);for(const i in t)if(bo(t[i])||bo(e[i])){const s=hm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const O5e=nU({scrapeMotionValuesFromProps:iU,createRenderState:tU}),M5e=Symbol.for("motionComponentSymbol");function Gp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B5e(t,e,r){return F.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Gp(r)&&(r.current=n))},[e])}const h7=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V5e="framerAppearId",sU="data-"+h7(V5e),aU=F.createContext({});function U5e(t,e,r,n,i){const{visualElement:s}=F.useContext(_4),a=F.useContext(XV),o=F.useContext(w4),l=F.useContext(s7).reducedMotion,c=F.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,p=F.useContext(aU);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&z5e(c.current,r,i,p);const g=F.useRef(!1);F.useInsertionEffect(()=>{u&&g.current&&u.update(r,o)});const m=r[sU],y=F.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return nV(()=>{u&&(g.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1),u.enteringChildren=void 0)}),u}function z5e(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:oU(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Gp(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function oU(t){if(t)return t.options.allowProjection!==!1?t.projection:oU(t.parent)}function q3(t,{forwardMotionProps:e=!1}={},r,n){r&&m5e(r);const i=u7(t)?O5e:D5e;function s(o,l){let c;const u={...F.useContext(s7),...o,layoutId:$5e(o)},{isStatic:p}=u,g=w5e(o),m=i(o,p);if(!p&&Ok){q5e();const y=H5e(u);c=y.MeasureLayout,g.visualElement=U5e(t,m,u,n,y.ProjectionNode)}return f.jsxs(_4.Provider,{value:g,children:[c&&g.visualElement?f.jsx(c,{visualElement:g.visualElement,...u}):null,L5e(t,o,B5e(m,g.visualElement,l),m,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=F.forwardRef(s);return a[M5e]=t,a}function $5e({layoutId:t}){const e=F.useContext(jk).id;return e&&t!==void 0?e+"-"+t:t}function q5e(t,e){F.useContext(XV).strict}function H5e(t){const{drag:e,layout:r}=V1;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function W5e(t,e){if(typeof Proxy>"u")return q3;const r=new Map,n=(s,a)=>q3(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,q3(a,void 0,t,e)),r.get(a))})}function lU({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function G5e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function K5e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function H3(t){return t===void 0||t===1}function Vb({scale:t,scaleX:e,scaleY:r}){return!H3(t)||!H3(e)||!H3(r)}function Uh(t){return Vb(t)||cU(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cU(t){return $N(t.x)||$N(t.y)}function $N(t){return t&&t!=="0%"}function y5(t,e,r){const n=t-r,i=e*n;return r+i}function qN(t,e,r,n,i){return i!==void 0&&(t=y5(t,i,n)),y5(t,r,n)+e}function Ub(t,e=0,r=1,n,i){t.min=qN(t.min,e,r,n,i),t.max=qN(t.max,e,r,n,i)}function uU(t,{x:e,y:r}){Ub(t.x,e.translate,e.scale,e.originPoint),Ub(t.y,r.translate,r.scale,r.originPoint)}const HN=.999999999999,WN=1.0000000000001;function X5e(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Xp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,uU(t,a)),n&&Uh(s.latestValues)&&Xp(t,s.latestValues))}e.x<WN&&e.x>HN&&(e.x=1),e.y<WN&&e.y>HN&&(e.y=1)}function Kp(t,e){t.min=t.min+e,t.max=t.max+e}function GN(t,e,r,n,i=.5){const s=Xi(t.min,t.max,i);Ub(t,e,r,s,n)}function Xp(t,e){GN(t.x,e.x,e.scaleX,e.scale,e.originX),GN(t.y,e.y,e.scaleY,e.scale,e.originY)}function dU(t,e){return lU(K5e(t.getBoundingClientRect(),e))}function Y5e(t,e,r){const n=dU(t,r),{scroll:i}=e;return i&&(Kp(n.x,i.offset.x),Kp(n.y,i.offset.y)),n}const KN=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yp=()=>({x:KN(),y:KN()}),XN=()=>({min:0,max:0}),bs=()=>({x:XN(),y:XN()}),zb={current:null},fU={current:!1};function Q5e(){if(fU.current=!0,!!Ok)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zb.current=t.matches;t.addEventListener("change",e),e()}else zb.current=!1}const J5e=new WeakMap;function Z5e(t,e,r){for(const n in e){const i=e[n],s=r[n];if(bo(i))t.addValue(n,i);else if(bo(s))t.addValue(n,B1(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,B1(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const YN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e4e{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e7,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=rl.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Mi.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=k4(r),this.isVariantNode=QV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const m=p[g];l[g]!==void 0&&bo(m)&&m.set(l[g])}}mount(e){this.current=e,J5e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),fU.current||Q5e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zb.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),eh(this.notifyUpdate),eh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=pm.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Mi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in V1){const r=V1[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<YN.length;n++){const i=YN[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Z5e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=B1(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(iV(n)||aV(n))?n=parseFloat(n):!c5e(n)&&th.test(r)&&(n=UV(e,r)),this.setBaseTarget(e,bo(n)?n.get():n)),bo(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=d7(this.props,r,this.presenceContext?.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!bo(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new zk),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){n7.render(this.render)}}class hU extends e4e{constructor(){super(...arguments),this.KeyframeResolver=Qye}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bo(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function pU(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function t4e(t){return window.getComputedStyle(t)}class r4e extends hU{constructor(){super(...arguments),this.type="html",this.renderInstance=pU}readValueFromInstance(e,r){if(pm.has(r))return this.projection?.isProjecting?Lb(r):gye(e,r);{const n=t4e(e),i=(Hk(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return dU(e,r)}build(e,r,n){l7(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return f7(e,r,n)}}const mU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function n4e(t,e,r,n){pU(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(mU.has(i)?i:h7(i),e.attrs[i])}class i4e extends hU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bs}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(pm.has(r)){const n=VV(r);return n&&n.default||0}return r=mU.has(r)?r:h7(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return iU(e,r,n)}build(e,r,n){eU(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){n4e(e,r,n,i)}mount(e){this.isSVGTag=rU(e.tagName),super.mount(e)}}const s4e=(t,e)=>u7(t)?new i4e(e):new r4e(e,{allowProjection:t!==F.Fragment});function g1(t,e,r){const n=t.getProps();return d7(n,e,r!==void 0?r:n.custom,t)}const $b=t=>Array.isArray(t);function a4e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,B1(r))}function o4e(t){return $b(t)?t[t.length-1]||0:t}function l4e(t,e){const r=g1(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=o4e(s[a]);a4e(t,a,o)}}function c4e(t){return!!(bo(t)&&t.add)}function qb(t,e){const r=t.getValue("willChange");if(c4e(r))return r.add(e);if(!r&&Td.WillChange){const n=new Td.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function gU(t){return t.props[sU]}const u4e=t=>t!==null;function d4e(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(u4e),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const f4e={type:"spring",stiffness:500,damping:25,restSpeed:10},h4e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p4e={type:"keyframes",duration:.8},m4e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g4e=(t,{keyframes:e})=>e.length>2?p4e:pm.has(t)?t.startsWith("scale")?h4e(e[1]):f4e:m4e;function x4e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const p7=(t,e,r,n={},i,s)=>a=>{const o=t7(n,t)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Nu(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};x4e(o)||Object.assign(u,g4e(t,u)),u.duration&&(u.duration=Nu(u.duration)),u.repeatDelay&&(u.repeatDelay=Nu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let p=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Mb(u),u.delay===0&&(p=!0)),(Td.instantAnimations||Td.skipAnimations)&&(p=!0,Mb(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,p&&!s&&e.get()!==void 0){const g=d4e(u.keyframes,o);if(g!==void 0){Mi.update(()=>{u.onUpdate(g),u.onComplete()});return}}return o.isSync?new Zk(u):new Bye(u)};function v4e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function xU(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in o){const p=t.getValue(u,t.latestValues[u]??null),g=o[u];if(g===void 0||c&&v4e(c,u))continue;const m={delay:r,...t7(s||{},u)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===y&&!m.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const E=gU(t);if(E){const L=window.MotionHandoffAnimation(E,u,Mi);L!==null&&(m.startTime=L,w=!0)}}qb(t,u),p.start(p7(u,p,g,t.shouldReduceMotion&&OV.has(u)?{type:!1}:m,t,w));const _=p.animation;_&&l.push(_)}return a&&Promise.all(l).then(()=>{Mi.update(()=>{a&&l4e(t,a)})}),l}function vU(t,e,r,n=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function Hb(t,e,r={}){const n=g1(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(xU(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:p}=i;return y4e(t,e,l,c,u,p,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(r.delay)])}function y4e(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(Hb(l,e,{...a,delay:r+(typeof n=="function"?0:n)+vU(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function w4e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Hb(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Hb(t,e,r);else{const i=typeof e=="function"?g1(t,e,r.custom):e;n=Promise.all(xU(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function yU(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const _4e=o7.length;function wU(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?wU(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<_4e;r++){const n=o7[r],i=t.props[n];(S2(i)||i===!1)&&(e[n]=i)}return e}const b4e=[...a7].reverse(),k4e=a7.length;function S4e(t){return e=>Promise.all(e.map(({animation:r,options:n})=>w4e(t,r,n)))}function E4e(t){let e=S4e(t),r=QN(),n=!0;const i=l=>(c,u)=>{const p=g1(t,u,l==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:m,...y}=p;c={...c,...y,...m}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,u=wU(t.parent)||{},p=[],g=new Set;let m={},y=1/0;for(let _=0;_<k4e;_++){const E=b4e[_],L=r[E],I=c[E]!==void 0?c[E]:u[E],V=S2(I),G=E===l?L.isActive:null;G===!1&&(y=_);let X=I===u[E]&&I!==c[E]&&V;if(X&&n&&t.manuallyAnimateOnMount&&(X=!1),L.protectedKeys={...m},!L.isActive&&G===null||!I&&!L.prevProp||b4(I)||typeof I=="boolean")continue;const R=C4e(L.prevProp,I);let A=R||E===l&&L.isActive&&!X&&V||_>y&&V,C=!1;const D=Array.isArray(I)?I:[I];let N=D.reduce(i(E),{});G===!1&&(N={});const{prevResolvedValues:j={}}=L,B={...j,...N},te=fe=>{A=!0,g.has(fe)&&(C=!0,g.delete(fe)),L.needsAnimating[fe]=!0;const ie=t.getValue(fe);ie&&(ie.liveStyle=!1)};for(const fe in B){const ie=N[fe],W=j[fe];if(m.hasOwnProperty(fe))continue;let ue=!1;$b(ie)&&$b(W)?ue=!yU(ie,W):ue=ie!==W,ue?ie!=null?te(fe):g.add(fe):ie!==void 0&&g.has(fe)?te(fe):L.protectedKeys[fe]=!0}L.prevProp=I,L.prevResolvedValues=N,L.isActive&&(m={...m,...N}),n&&t.blockInitialAnimation&&(A=!1);const he=X&&R;A&&(!he||C)&&p.push(...D.map(fe=>{const ie={type:E};if(typeof fe=="string"&&n&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,ue=g1(W,fe);if(W.enteringChildren&&ue){const{delayChildren:Y}=ue.transition||{};ie.delay=vU(W.enteringChildren,t,Y)}}return{animation:fe,options:ie}}))}if(g.size){const _={};if(typeof c.initial!="boolean"){const E=g1(t,Array.isArray(c.initial)?c.initial[0]:c.initial);E&&E.transition&&(_.transition=E.transition)}g.forEach(E=>{const L=t.getBaseTarget(E),I=t.getValue(E);I&&(I.liveStyle=!0),_[E]=L??null}),p.push({animation:_})}let w=!!p.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(p):Promise.resolve()}function o(l,c){if(r[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(l,c)),r[l].isActive=c;const u=a(l);for(const p in r)r[p].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=QN(),n=!0}}}function C4e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yU(e,t):!1}function Oh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QN(){return{animate:Oh(!0),whileInView:Oh(),whileHover:Oh(),whileTap:Oh(),whileDrag:Oh(),whileFocus:Oh(),exit:Oh()}}class ph{constructor(e){this.isMounted=!1,this.node=e}update(){}}class T4e extends ph{constructor(e){super(e),e.animationState||(e.animationState=E4e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();b4(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let A4e=0;class N4e extends ph{constructor(){super(...arguments),this.id=A4e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const I4e={animation:{Feature:T4e},exit:{Feature:N4e}};function C2(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function hx(t){return{point:{x:t.pageX,y:t.pageY}}}const P4e=t=>e=>i7(e)&&t(e,hx(e));function Og(t,e,r,n){return C2(t,e,P4e(r),n)}const _U=1e-4,R4e=1-_U,L4e=1+_U,bU=.01,F4e=0-bU,j4e=0+bU;function Mo(t){return t.max-t.min}function D4e(t,e,r){return Math.abs(t-e)<=r}function JN(t,e,r,n=.5){t.origin=n,t.originPoint=Xi(e.min,e.max,t.origin),t.scale=Mo(r)/Mo(e),t.translate=Xi(r.min,r.max,t.origin)-t.originPoint,(t.scale>=R4e&&t.scale<=L4e||isNaN(t.scale))&&(t.scale=1),(t.translate>=F4e&&t.translate<=j4e||isNaN(t.translate))&&(t.translate=0)}function Mg(t,e,r,n){JN(t.x,e.x,r.x,n?n.originX:void 0),JN(t.y,e.y,r.y,n?n.originY:void 0)}function ZN(t,e,r){t.min=r.min+e.min,t.max=t.min+Mo(e)}function O4e(t,e,r){ZN(t.x,e.x,r.x),ZN(t.y,e.y,r.y)}function eI(t,e,r){t.min=e.min-r.min,t.max=t.min+Mo(e)}function Bg(t,e,r){eI(t.x,e.x,r.x),eI(t.y,e.y,r.y)}function tc(t){return[t("x"),t("y")]}const kU=({current:t})=>t?t.ownerDocument.defaultView:null,tI=(t,e)=>Math.abs(t-e);function M4e(t,e){const r=tI(t.x,e.x),n=tI(t.y,e.y);return Math.sqrt(r**2+n**2)}class SU{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=G3(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=M4e(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:w}=g,{timestamp:_}=Ba;this.history.push({...w,timestamp:_});const{onStart:E,onMove:L}=this.handlers;m||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=W3(m,this.transformPagePoint),Mi.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=G3(g.type==="pointercancel"?this.lastMoveEventInfo:W3(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,E),w&&w(g,E)},!i7(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=hx(e),l=W3(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ba;this.history=[{...c,timestamp:u}];const{onSessionStart:p}=r;p&&p(e,G3(l,this.history)),this.removeListeners=ux(Og(this.contextWindow,"pointermove",this.handlePointerMove),Og(this.contextWindow,"pointerup",this.handlePointerUp),Og(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eh(this.updatePoint)}}function W3(t,e){return e?{point:e(t.point)}:t}function rI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function G3({point:t},e){return{point:t,delta:rI(t,EU(e)),offset:rI(t,B4e(e)),velocity:V4e(e,.1)}}function B4e(t){return t[0]}function EU(t){return t[t.length-1]}function V4e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=EU(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Nu(e)));)r--;if(!n)return{x:0,y:0};const s=Iu(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function U4e(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Xi(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Xi(r,t,n.max):Math.min(t,r)),t}function nI(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function z4e(t,{top:e,left:r,bottom:n,right:i}){return{x:nI(t.x,r,i),y:nI(t.y,e,n)}}function iI(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function $4e(t,e){return{x:iI(t.x,e.x),y:iI(t.y,e.y)}}function q4e(t,e){let r=.5;const n=Mo(t),i=Mo(e);return i>n?r=_2(e.min,e.max-n,t.min):n>i&&(r=_2(t.min,t.max-i,e.min)),Cd(0,1,r)}function H4e(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Wb=.35;function W4e(t=Wb){return t===!1?t=0:t===!0&&(t=Wb),{x:sI(t,"left","right"),y:sI(t,"top","bottom")}}function sI(t,e,r){return{min:aI(t,e),max:aI(t,r)}}function aI(t,e){return typeof t=="number"?t:t[e]||0}const G4e=new WeakMap;class K4e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(hx(p).point)},a=(p,g)=>{const{drag:m,dragPropagation:y,onDragStart:w}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t5e(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tc(E=>{let L=this.getAxisMotionValue(E).get()||0;if(Pu.test(L)){const{projection:I}=this.visualElement;if(I&&I.layout){const V=I.layout.layoutBox[E];V&&(L=Mo(V)*(parseFloat(L)/100))}}this.originPoint[E]=L}),w&&Mi.postRender(()=>w(p,g)),qb(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:w,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:E}=g;if(y&&this.currentDirection===null){this.currentDirection=X4e(E),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),_&&_(p,g)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>tc(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new SU(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:kU(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Mi.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Bv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=U4e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Gp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=z4e(n.layoutBox,e):this.constraints=!1,this.elastic=W4e(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&tc(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=H4e(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Gp(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Y5e(n,i.root,this.visualElement.getTransformPagePoint());let a=$4e(i.layout.layoutBox,s);if(r){const o=r(G5e(a));this.hasMutatedConstraints=!!o,o&&(a=lU(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=tc(u=>{if(!Bv(u,r,this.currentDirection))return;let p=l&&l[u]||{};a&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:n?e[u]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return qb(this.visualElement,e),n.start(p7(e,n,0,r,this.visualElement,!1))}stopAnimation(){tc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tc(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){tc(r=>{const{drag:n}=this.getProps();if(!Bv(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-Xi(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Gp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};tc(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=q4e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),tc(a=>{if(!Bv(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Xi(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;G4e.set(this.visualElement,this);const e=this.visualElement.current,r=Og(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Gp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Mi.read(n);const a=C2(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(tc(u=>{const p=this.getAxisMotionValue(u);p&&(this.originPoint[u]+=l[u].translate,p.set(p.get()+l[u].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Wb,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Bv(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function X4e(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Y4e extends ph{constructor(e){super(e),this.removeGroupControls=oc,this.removeListeners=oc,this.controls=new K4e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oc}unmount(){this.removeGroupControls(),this.removeListeners()}}const oI=t=>(e,r)=>{t&&Mi.postRender(()=>t(e,r))};class Q4e extends ph{constructor(){super(...arguments),this.removePointerDownListener=oc}onPointerDown(e){this.session=new SU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:oI(e),onStart:oI(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Mi.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Og(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const eg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fr.test(t))t=parseFloat(t);else return t;const r=lI(t,e.target.x),n=lI(t,e.target.y);return`${r}% ${n}%`}},J4e={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=th.parse(t);if(i.length>5)return n;const s=th.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Xi(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let K3=!1;class Z4e extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;_5e(ewe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),K3&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),hy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,K3=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Mi.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n7.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;K3=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CU(t){const[e,r]=KV(),n=F.useContext(jk);return f.jsx(Z4e,{...t,layoutGroup:n,switchLayoutGroup:F.useContext(aU),isPresent:e,safeToRemove:r})}const ewe={borderRadius:{...eg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:eg,borderTopRightRadius:eg,borderBottomLeftRadius:eg,borderBottomRightRadius:eg,boxShadow:J4e};function twe(t,e,r){const n=bo(t)?t:B1(t);return n.start(p7("",n,e,r)),n.animation}const rwe=(t,e)=>t.depth-e.depth;class nwe{constructor(){this.children=[],this.isDirty=!1}add(e){Mk(this.children,e),this.isDirty=!0}remove(e){Bk(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rwe),this.isDirty=!1,this.children.forEach(e)}}function iwe(t,e){const r=rl.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(eh(n),t(s-e))};return Mi.setup(n,!0),()=>eh(n)}const TU=["TopLeft","TopRight","BottomLeft","BottomRight"],swe=TU.length,cI=t=>typeof t=="string"?parseFloat(t):t,uI=t=>typeof t=="number"||Fr.test(t);function awe(t,e,r,n,i,s){i?(t.opacity=Xi(0,r.opacity??1,owe(n)),t.opacityExit=Xi(e.opacity??1,0,lwe(n))):s&&(t.opacity=Xi(e.opacity??1,r.opacity??1,n));for(let a=0;a<swe;a++){const o=`border${TU[a]}Radius`;let l=dI(e,o),c=dI(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||uI(l)===uI(c)?(t[o]=Math.max(Xi(cI(l),cI(c),n),0),(Pu.test(c)||Pu.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||r.rotate)&&(t.rotate=Xi(e.rotate||0,r.rotate||0,n))}function dI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const owe=AU(0,.5,pV),lwe=AU(.5,.95,oc);function AU(t,e,r){return n=>n<t?0:n>e?1:r(_2(t,e,n))}function fI(t,e){t.min=e.min,t.max=e.max}function Ql(t,e){fI(t.x,e.x),fI(t.y,e.y)}function hI(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pI(t,e,r,n,i){return t-=e,t=y5(t,1/r,n),i!==void 0&&(t=y5(t,1/i,n)),t}function cwe(t,e=0,r=1,n=.5,i,s=t,a=t){if(Pu.test(e)&&(e=parseFloat(e),e=Xi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Xi(s.min,s.max,n);t===s&&(o-=e),t.min=pI(t.min,e,r,o,i),t.max=pI(t.max,e,r,o,i)}function mI(t,e,[r,n,i],s,a){cwe(t,e[r],e[n],e[i],e.scale,s,a)}const uwe=["x","scaleX","originX"],dwe=["y","scaleY","originY"];function gI(t,e,r,n){mI(t.x,e,uwe,r?r.x:void 0,n?n.x:void 0),mI(t.y,e,dwe,r?r.y:void 0,n?n.y:void 0)}function xI(t){return t.translate===0&&t.scale===1}function NU(t){return xI(t.x)&&xI(t.y)}function vI(t,e){return t.min===e.min&&t.max===e.max}function fwe(t,e){return vI(t.x,e.x)&&vI(t.y,e.y)}function yI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IU(t,e){return yI(t.x,e.x)&&yI(t.y,e.y)}function wI(t){return Mo(t.x)/Mo(t.y)}function _I(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class hwe{constructor(){this.members=[]}add(e){Mk(this.members,e),e.scheduleRender()}remove(e){if(Bk(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pwe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=r?.z||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:p,rotateY:g,skewX:m,skewY:y}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const X3=["","X","Y","Z"],mwe=1e3;let gwe=0;function Y3(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function PU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=gU(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Mi,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&PU(n)}function RU({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=gwe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ywe),this.nodes.forEach(kwe),this.nodes.forEach(Swe),this.nodes.forEach(wwe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new nwe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new zk),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=GV(a)&&!o5e(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let u,p=0;const g=()=>this.root.updateBlockedByResize=!1;Mi.read(()=>{p=window.innerWidth}),t(a,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,u&&u(),u=iwe(g,250),hy.hasAnimatedSinceResize&&(hy.hasAnimatedSinceResize=!1,this.nodes.forEach(SI)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||Nwe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=c.getProps(),E=!this.targetLayout||!IU(this.targetLayout,m),L=!p&&g;if(this.options.layoutRoot||this.resumeFrom||L||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...t7(y,"layout"),onPlay:w,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(u,L)}else p||SI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),eh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ewe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const p=this.path[u];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bI);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(kI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bwe),this.nodes.forEach(xwe),this.nodes.forEach(vwe)):this.nodes.forEach(kI),this.clearAllSnapshots();const o=rl.now();Ba.delta=Cd(0,1e3/60,o-Ba.timestamp),Ba.timestamp=o,Ba.isProcessing=!0,M3.update.process(Ba),M3.preRender.process(Ba),M3.render.process(Ba),Ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n7.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_we),this.sharedNodes.forEach(Cwe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mo(this.snapshot.measuredBox.x)&&!Mo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!NU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Uh(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Iwe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return bs();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Pwe))){const{scroll:c}=this.root;c&&(Kp(o.x,c.offset.x),Kp(o.y,c.offset.y))}return o}removeElementScroll(a){const o=bs();if(Ql(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:p}=c;c!==this.root&&u&&p.layoutScroll&&(u.wasRoot&&Ql(o,a),Kp(o.x,u.offset.x),Kp(o.y,u.offset.y))}return o}applyTransform(a,o=!1){const l=bs();Ql(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Xp(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Uh(u.latestValues)&&Xp(l,u.latestValues)}return Uh(this.latestValues)&&Xp(l,this.latestValues),l}removeTransform(a){const o=bs();Ql(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Uh(c.latestValues))continue;Vb(c.latestValues)&&c.updateSnapshot();const u=bs(),p=c.measurePageBox();Ql(u,p),gI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Uh(this.latestValues)&&gI(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:p}=this.options;if(!(!this.layout||!(u||p))){if(this.resolvedRelativeTargetAt=Ba.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bs(),this.relativeTargetOrigin=bs(),Bg(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bs(),this.targetWithTransforms=bs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ql(this.target,this.layout.layoutBox),uU(this.target,this.targetDelta)):Ql(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bs(),this.relativeTargetOrigin=bs(),Bg(this.relativeTargetOrigin,this.target,g.target),Ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vb(this.parent.latestValues)||cU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ba.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ql(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;X5e(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bs());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(hI(this.prevProjectionDelta.x,this.projectionDelta.x),hI(this.prevProjectionDelta.y,this.projectionDelta.y)),Mg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!_I(this.projectionDelta.x,this.prevProjectionDelta.x)||!_I(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yp(),this.projectionDelta=Yp(),this.projectionDeltaWithTransform=Yp()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},p=Yp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=bs(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,_=this.getStack(),E=!_||_.members.length<=1,L=!!(w&&!E&&this.options.crossfade===!0&&!this.path.some(Awe));this.animationProgress=0;let I;this.mixTargetDelta=V=>{const G=V/1e3;EI(p.x,a.x,G),EI(p.y,a.y,G),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Twe(this.relativeTarget,this.relativeTargetOrigin,g,G),I&&fwe(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=bs()),Ql(I,this.relativeTarget)),w&&(this.animationValues=u,awe(u,c,this.latestValues,G,L,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=G},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(eh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mi.update(()=>{hy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=B1(0)),this.currentAnimation=twe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mwe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&LU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||bs();const p=Mo(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const g=Mo(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}Ql(o,l),Xp(o,u),Mg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new hwe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Y3("z",a,c,this.animationValues);for(let u=0;u<X3.length;u++)Y3(`rotate${X3[u]}`,a,c,this.animationValues),Y3(`skew${X3[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=fy(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=fy(o?.pointerEvents)||""),this.hasProjected&&!Uh(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=pwe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(p=l(u,p)),a.transform=p;const{x:g,y:m}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in E2){if(u[y]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:E}=E2[y],L=p==="none"?u[y]:w(u[y],c);if(_){const I=_.length;for(let V=0;V<I;V++)a[_[V]]=L}else E?this.options.visualElement.renderState.vars[y]=L:a[y]=L}this.options.layoutId&&(a.pointerEvents=c===this?fy(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(bI),this.root.sharedNodes.clear()}}}function xwe(t){t.updateLayout()}function vwe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?tc(u=>{const p=s?e.measuredBox[u]:e.layoutBox[u],g=Mo(p);p.min=r[u].min,p.max=p.min+g}):LU(i,e.layoutBox,r)&&tc(u=>{const p=s?e.measuredBox[u]:e.layoutBox[u],g=Mo(r[u]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+g)});const a=Yp();Mg(a,r,e.layoutBox);const o=Yp();s?Mg(o,t.applyTransform(n,!0),e.measuredBox):Mg(o,r,e.layoutBox);const l=!NU(a);let c=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:p,layout:g}=u;if(p&&g){const m=bs();Bg(m,e.layoutBox,p.layoutBox);const y=bs();Bg(y,r,g.layoutBox),IU(m,y)||(c=!0),u.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ywe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wwe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _we(t){t.clearSnapshot()}function bI(t){t.clearMeasurements()}function kI(t){t.isLayoutDirty=!1}function bwe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function SI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kwe(t){t.resolveTargetDelta()}function Swe(t){t.calcProjection()}function Ewe(t){t.resetSkewAndRotation()}function Cwe(t){t.removeLeadSnapshot()}function EI(t,e,r){t.translate=Xi(e.translate,0,r),t.scale=Xi(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function CI(t,e,r,n){t.min=Xi(e.min,r.min,n),t.max=Xi(e.max,r.max,n)}function Twe(t,e,r,n){CI(t.x,e.x,r.x,n),CI(t.y,e.y,r.y,n)}function Awe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Nwe={duration:.45,ease:[.4,0,.1,1]},TI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AI=TI("applewebkit/")&&!TI("chrome/")?Math.round:oc;function NI(t){t.min=AI(t.min),t.max=AI(t.max)}function Iwe(t){NI(t.x),NI(t.y)}function LU(t,e,r){return t==="position"||t==="preserve-aspect"&&!D4e(wI(e),wI(r),.2)}function Pwe(t){return t!==t.root&&t.scroll?.wasRoot}const Rwe=RU({attachResizeListener:(t,e)=>C2(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Q3={current:void 0},FU=RU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Q3.current){const t=new Rwe({});t.mount(window),t.setOptions({layoutScroll:!0}),Q3.current=t}return Q3.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Lwe={pan:{Feature:Q4e},drag:{Feature:Y4e,ProjectionNode:FU,MeasureLayout:CU}};function II(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Mi.postRender(()=>s(e,hx(e)))}class Fwe extends ph{mount(){const{current:e}=this.node;e&&(this.unmount=r5e(e,(r,n)=>(II(this.node,n,"Start"),i=>II(this.node,i,"End"))))}unmount(){}}class jwe extends ph{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ux(C2(this.node.current,"focus",()=>this.onFocus()),C2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PI(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Mi.postRender(()=>s(e,hx(e)))}class Dwe extends ph{mount(){const{current:e}=this.node;e&&(this.unmount=a5e(e,(r,n)=>(PI(this.node,n,"Start"),(i,{success:s})=>PI(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gb=new WeakMap,J3=new WeakMap,Owe=t=>{const e=Gb.get(t.target);e&&e(t)},Mwe=t=>{t.forEach(Owe)};function Bwe({root:t,...e}){const r=t||document;J3.has(r)||J3.set(r,{});const n=J3.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Mwe,{root:t,...e})),n[i]}function Vwe(t,e,r){const n=Bwe(e);return Gb.set(t,r),n.observe(t),()=>{Gb.delete(t),n.unobserve(t)}}const Uwe={some:0,all:1};class zwe extends ph{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Uwe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:p}=this.node.getProps(),g=c?u:p;g&&g(l)};return Vwe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some($we(e,r))&&this.startObserver()}unmount(){}}function $we({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const qwe={inView:{Feature:zwe},tap:{Feature:Dwe},focus:{Feature:jwe},hover:{Feature:Fwe}},Hwe={layout:{ProjectionNode:FU,MeasureLayout:CU}},Wwe={...I4e,...qwe,...Lwe,...Hwe},wa=W5e(Wwe,s4e),Gwe="/assets/PharmaseaLogo-J4_RPPc9.png";function mm({children:t}){const[e,r]=F.useState(!1);return F.useEffect(()=>{const n=()=>{const s=document.documentElement.classList.contains("dark");r(s)};n();const i=new MutationObserver(n);return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),f.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:f.jsxs("div",{className:"max-w-md mx-auto px-6 pt-14 pb-10",children:[f.jsxs("div",{className:"flex flex-col items-center mb-10",children:[f.jsx("img",{src:e?"/PharmLogoDark.png":Gwe,alt:"Pharmasea",className:"w-40 h-15 object-contain transition-opacity duration-300"}),f.jsx("div",{className:"mt-3 text-zinc-600 dark:text-zinc-400 text-[13px]"})]}),t]})})}function Kwe({className:t,stroke:e}){return f.jsx("svg",{viewBox:"0 0 91 152",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:f.jsx("path",{d:"M17.9558 53.3893L8.27792 64.6462C6.66938 66.5171 5.41493 68.6715 4.57719 71.0016L2.02085 78.1119C1.34548 79.9904 1 81.9738 1 83.9727V144.038C1 145.898 2.49116 147.406 4.33061 147.406M17.9558 53.3893V48.6425M17.9558 53.3893L34.6089 64.4141M53.3814 18.7837L54.3809 16.3407C55.821 12.8205 54.0914 8.79384 50.5647 7.4562L47.3257 6.2277L32.2398 1.3232C31.0192 0.92638 29.7113 0.894269 28.4731 1.23072L23.0885 2.69388C15.4164 4.77859 10.0835 11.8129 10.0835 19.8478V25.8211C10.0835 26.8331 10.3089 27.832 10.7429 28.7438L17.2964 42.5105C17.7304 43.4223 17.9558 44.4213 17.9558 45.4332V48.6425M53.3814 18.7837L44.7483 21.5411C42.9395 22.1189 41.5043 23.5227 40.873 25.3318L39.9367 28.0151C39.0833 30.4607 36.1645 31.416 34.0563 29.9399C32.1107 28.5775 29.4231 29.2739 28.3648 31.4147L27.1285 33.9155C26.5328 35.1206 26.7663 36.576 27.7082 37.5287C29.0866 38.9229 28.8627 41.2433 27.2438 42.3416L17.9558 48.6425M53.3814 18.7837V25.8478C53.3814 26.8426 53.5992 27.8251 54.0192 28.7247L57.1065 35.3372C57.8674 36.9669 57.0683 38.9047 55.3879 39.5045C54.1855 39.9338 53.3814 41.0833 53.3814 42.373V45.3402C53.3814 47.4234 52.4286 49.3894 50.8006 50.6655L49.8214 51.4331C48.2553 52.6607 46.1993 53.0475 44.3015 52.4717C40.9857 51.4656 37.5042 53.4323 36.6123 56.8154L34.6089 64.4141M34.6089 64.4141L45.9226 79.1266C46.832 80.3093 47.3257 81.7647 47.3257 83.263V112.494M47.3257 112.494L57.378 114.673C58.9322 115.01 60.0426 116.399 60.0426 118.007M47.3257 112.494L39.2526 111.134C36.4692 110.664 34.2802 108.472 33.7884 105.662L28.5532 75.7452M5.84452 90.4449L16.5969 122.799C17.4252 125.291 19.6115 127.069 22.1963 127.351L44.9035 129.829M44.9035 129.829L58.4183 131.304C59.2857 131.399 60.0426 130.712 60.0426 129.829M44.9035 129.829V144.344C44.9035 146.035 43.5479 147.406 41.8756 147.406M4.33061 147.406V152M4.33061 147.406H41.8756M41.8756 147.406V152M60.0426 118.007L74.9597 115.396C75.4962 115.302 76.0484 115.39 76.5296 115.648L77.5323 116.185C78.9238 116.93 78.8663 118.966 77.435 119.629C75.9577 120.314 75.9577 122.437 77.435 123.122L80.026 124.323C80.6177 124.597 81.2779 124.683 81.9188 124.569L89.2869 123.253C89.8746 123.149 90.2421 123.876 89.8139 124.296L83.029 130.688C81.8106 132.153 79.7275 132.829 77.6711 132.516L60.0426 129.829M60.0426 118.007V129.829",stroke:e,strokeWidth:"1"})})}function Xwe({className:t,stroke:e}){return f.jsx("svg",{viewBox:"0 0 124 154",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:f.jsx("path",{d:"M91.0549 25.0462L73.1047 18.9491L69.7581 17.6418M91.0549 25.0462V15.9124C91.0549 12.2404 89.4035 8.76383 86.5593 6.44828L84.0113 4.37386C82.2516 2.94119 80.1275 2.02961 77.8784 1.74191L72.8466 1.09826C69.1654 0.627362 65.4709 1.86534 62.8128 4.46045L55.1546 11.9374M91.0549 25.0462L86.187 39.6793M55.1546 11.9374L42.0162 13.7096C40.4803 13.9168 39.3342 15.2303 39.3342 16.7831C39.3342 18.0841 40.1446 19.2469 41.3636 19.6948L45.7766 21.3161C47.53 21.9603 49.4304 22.0904 51.255 21.6911L53.3292 21.2372M55.1546 11.9374L69.7581 17.6418M69.7581 17.6418L53.3292 21.2372M86.187 39.6793L84.1073 37.9861C82.3434 36.55 81.3192 34.3938 81.3192 32.1164V29.8544C81.3192 28.0625 80.2099 26.4585 78.5355 25.8293C77.2288 25.3383 75.7654 25.5149 74.6123 26.3026L74.4142 26.438C71.9808 28.1005 68.6396 27.1674 67.4151 24.4834L66.8363 23.2147C65.6954 20.7139 62.9904 19.3251 60.2983 19.8579L53.3292 21.2372M86.187 39.6793V42.3816C86.187 47.066 83.509 51.3364 79.2968 53.3686L69.7581 57.9706M53.3292 29.619L50.776 32.8169C49.6344 34.2468 50.2196 36.3768 51.9308 37.0198C52.8004 37.3466 53.4399 38.1002 53.6221 39.0127L54.6658 44.2419C54.9838 45.8349 55.789 47.2892 56.9697 48.4027C59.0405 50.3557 62.0076 51.0253 64.7141 50.1505L65.0424 50.0443M65.0424 50.0443L69.7581 48.5201M65.0424 50.0443L69.7581 57.9706M69.7581 57.9706L58.4277 73.5484C57.2767 75.1309 56.523 76.9678 56.2302 78.9039L55.2919 85.1091C55.2005 85.7137 55.1546 86.3243 55.1546 86.9358V105.833M86.187 51.5686L94.7057 60.4094M94.7057 60.4094L97.2251 68.7403C97.5719 69.8869 97.7481 71.0785 97.7481 72.2767V117.417M94.7057 60.4094L86.5047 58.9153C83.1962 58.3125 79.7862 59.1084 77.0841 61.1141L76.4306 61.5991C74.274 63.1998 72.706 65.4699 71.9705 68.0562L66.3979 87.6526C65.643 90.3072 67.1319 93.082 69.7581 93.915M94.7057 60.4094C96.5984 57.3751 99.9175 55.5317 103.489 55.5317H110.691C116.582 55.5317 121.628 59.7609 122.669 65.5717L122.809 66.3525C122.936 67.0635 123 67.7844 123 68.5068V114.611C123 116.438 122.439 118.22 121.394 119.717C119.731 122.097 117.014 123.514 114.114 123.514H98.3397M97.7481 117.417L98.3397 123.514M97.7481 117.417L84.4731 103.089M56.6758 119.856V136.318C56.6758 138.33 58.3187 139.953 60.3267 139.925M56.6758 119.856L71.2748 118.208C75.606 117.719 79.3455 114.946 81.0785 110.939L84.4731 103.089M56.6758 119.856L51.8317 119.407C49.6266 119.202 47.4077 119.604 45.4139 120.57L41.0962 122.661C39.944 123.219 38.6602 123.447 37.3868 123.319L30.7529 122.655C29.0361 122.483 28.0373 120.626 28.8379 119.094M86.187 99.126L94.7057 79.9202M86.187 99.126L69.7581 93.915M86.187 99.126L84.4731 103.089M98.3397 123.514L99.3773 134.208C99.6467 136.986 97.4902 139.401 94.7057 139.44M55.1546 105.833L53.3508 106.408C50.2244 107.405 46.8289 107.094 43.934 105.547L39.3342 103.089M55.1546 105.833L60.1247 104.684C64.3874 103.698 67.7941 100.495 69.0476 96.2957L69.7581 93.915M39.3342 103.089H32.8489C32.3189 103.089 31.8032 103.261 31.3792 103.58C29.9657 104.642 30.1054 106.809 31.6436 107.68L31.8803 107.814M39.3342 103.089V85.7124C39.3342 82.5134 36.7461 79.9202 33.5536 79.9202M18.6459 113.759H29.0173C29.7889 113.759 30.5391 113.505 31.152 113.035L32.1866 112.242C33.6989 111.083 33.5377 108.753 31.8803 107.814M18.6459 113.759L20.9268 116.299C22.9188 118.516 25.8982 119.569 28.8379 119.094M18.6459 113.759H13.1696C6.44851 113.759 1 108.3 1 101.565V86.9318C1 83.0594 4.13289 79.9202 7.99751 79.9202M28.8379 119.094L33.5536 118.332M7.99751 79.9202L8.39241 78.1395C8.92777 75.7255 10.1829 73.5317 11.9914 71.849L13.4738 70.4696M7.99751 79.9202H33.5536M7.99751 79.9202V100.65M13.4738 70.4696H13.1696C10.9852 70.4696 9.21446 68.6953 9.21446 66.5065C9.21446 64.3178 10.9852 62.5434 13.1696 62.5434H28.0773C30.2617 62.5434 32.0324 64.3178 32.0324 66.5065V66.8114C32.0324 68.8318 30.3979 70.4696 28.3815 70.4696M13.4738 70.4696H28.3815M28.3815 70.4696L30.207 74.4328L33.5536 79.9202M33.5536 79.9202V88.4561C33.5536 95.1908 28.1051 100.65 21.384 100.65H7.99751M7.99751 100.65C7.99751 104.684 11.2741 107.946 15.2991 107.92L31.8803 107.814M60.3267 139.925V154M60.3267 139.925L94.7057 139.44M94.7057 139.44V154M20.7756 83.5784V89.9804M20.7756 89.9804V96.3824M20.7756 89.9804H26.5561M20.7756 89.9804H14.3865",stroke:e,strokeWidth:"1"})})}function Ywe(){const[t,e]=F.useState("customer"),r=Jn(),n=()=>{r(t==="customer"?"/auth/customer/signin":"/auth/pharmacy/signin")};return f.jsx(mm,{children:f.jsxs(wa.div,{initial:"hidden",animate:"show",exit:"hidden",variants:{hidden:{opacity:0,y:6},show:{opacity:1,y:0,transition:{staggerChildren:.08,when:"beforeChildren"}}},children:[f.jsxs(wa.h1,{variants:{hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.5}}},className:"mt-4 font-poppins text-[32px] sm:text-[38px] md:text-[42px] lg:text-[50px] font-thin tracking-tight leading-[109%] text-left lg:text-left lg:max-w-4xl",children:[f.jsx("span",{className:"block lg:inline",children:"HealthCare at"})," ",f.jsx("span",{className:"block lg:inline",children:"Your Doorstep"})]}),f.jsx(wa.p,{variants:{hidden:{opacity:0,y:6},show:{opacity:1,y:0,transition:{duration:.45}}},className:"mt-1 text-black text-[13px] sm:text-[14px] md:text-[16px] tracking-tight font-thin leading-[154%] font-poppins text-left lg:text-left lg:max-w-2xl",children:"Pick up and deliver medical prescribed medications and, over-the-counter items from pharmacies to your doorstep."}),f.jsxs(wa.div,{className:"mt-8 flex flex-row gap-4 w-full max-w-[350px] mx-0",variants:{hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.45}}},children:[f.jsxs(wa.button,{onClick:()=>e("customer"),whileHover:{scale:1.035},whileTap:{scale:.985},className:`relative rounded-3xl p-0 text-left font-poppins bg-[#F7F7F7]/10 w-[169px] h-[169px] ${t==="customer"?"border-[#36A5FF] border-[3px] ring-3 ring-[#36A5FF]":"border-[#36A5FF] border-[1px]"} card-interactive transition-all duration-200 shadow-sm group`,children:[f.jsxs("div",{className:"absolute left-[9px] md:top-[70px] top-[80px] text-[20px] sm:text-[25px] font-light tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:["Im a",f.jsx("br",{}),"customer"]}),f.jsx("div",{className:"absolute left-[9px] md:top-[127px] top-[127px] text-black text-[12px] sm:text-[13px] font-extralight tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:"Sign Up or Login as a customer"})]}),f.jsxs(wa.button,{onClick:()=>e("pharmacy"),whileHover:{scale:1.035},whileTap:{scale:.985},className:`relative rounded-3xl p-0 text-left font-poppins bg-[#F7F7F7]/10 w-[169px] h-[169px] ${t==="pharmacy"?"border-[#36A5FF] border-[3px] ring-3 ring-[#36A5FF]":"border-[#36A5FF] border-[1px]"} card-interactive transition-all duration-200 shadow-sm group`,children:[f.jsxs("div",{className:"absolute left-[9px] md:top-[70px] top-[80px] text-[20px] sm:text-[25px] font-light tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:["Im a",f.jsx("br",{}),"pharmacy"]}),f.jsx("div",{className:"absolute left-[9px] md:top-[127px] top-[127px] text-black text-[12px] sm:text-[13px] font-extralight tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:"Sign Up or Login as a pharmacy"})]})]}),f.jsx(wa.div,{className:"flex justify-start w-full max-w-[350px] mx-0",children:f.jsx(wa.button,{onClick:n,disabled:!t,whileHover:t?{scale:1.02}:{},whileTap:t?{scale:.985}:{},className:`mt-8 w-full h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] font-light flex items-center justify-center btn-interactive transition-all duration-200 shadow-sm ${t?"border-[#36A5FF] text-[#36A5FF] cursor-pointer bg-white":"border-zinc-300 dark:border-gray-600 text-zinc-400 cursor-not-allowed bg-white"}`,children:"Continue"})}),f.jsx(wa.div,{className:"pointer-events-none fixed bottom-0 left-0 right-0 z-10 md:hidden flex justify-center",variants:{hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.5}}},children:f.jsxs("div",{className:"flex flex-row items-end gap-0 justify-center",children:[f.jsx(Kwe,{className:"w-[22vw] max-w-[110px] h-auto",stroke:t==="customer"?"#36A5FF":"#9C9C9C"}),f.jsx(Xwe,{className:"w-[28vw] max-w-[142px] h-auto -ml-4",stroke:t==="pharmacy"?"#36A5FF":"#989898"})]})})]})})}const Qwe="Left",Jwe="Right",Zwe="Up",e3e="Down",Qp={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Kb={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},RI="mousemove",LI="mouseup",t3e="touchend",r3e="touchmove",n3e="touchstart";function i3e(t,e,r,n){return t>e?r>0?Jwe:Qwe:n>0?e3e:Zwe}function FI(t,e){if(e===0)return t;const r=Math.PI/180*e,n=t[0]*Math.cos(r)+t[1]*Math.sin(r),i=t[1]*Math.cos(r)-t[0]*Math.sin(r);return[n,i]}function s3e(t,e){const r=u=>{const p="touches"in u;p&&u.touches.length>1||t((g,m)=>{m.trackMouse&&!p&&(document.addEventListener(RI,n),document.addEventListener(LI,a));const{clientX:y,clientY:w}=p?u.touches[0]:u,_=FI([y,w],m.rotationAngle);return m.onTouchStartOrOnMouseDown&&m.onTouchStartOrOnMouseDown({event:u}),Object.assign(Object.assign(Object.assign({},g),Kb),{initial:_.slice(),xy:_,start:u.timeStamp||0})})},n=u=>{t((p,g)=>{const m="touches"in u;if(m&&u.touches.length>1)return p;if(u.timeStamp-p.start>g.swipeDuration)return p.swiping?Object.assign(Object.assign({},p),{swiping:!1}):p;const{clientX:y,clientY:w}=m?u.touches[0]:u,[_,E]=FI([y,w],g.rotationAngle),L=_-p.xy[0],I=E-p.xy[1],V=Math.abs(L),G=Math.abs(I),X=(u.timeStamp||0)-p.start,R=Math.sqrt(V*V+G*G)/(X||1),A=[L/(X||1),I/(X||1)],C=i3e(V,G,L,I),D=typeof g.delta=="number"?g.delta:g.delta[C.toLowerCase()]||Qp.delta;if(V<D&&G<D&&!p.swiping)return p;const N={absX:V,absY:G,deltaX:L,deltaY:I,dir:C,event:u,first:p.first,initial:p.initial,velocity:R,vxvy:A};N.first&&g.onSwipeStart&&g.onSwipeStart(N),g.onSwiping&&g.onSwiping(N);let j=!1;return(g.onSwiping||g.onSwiped||g[`onSwiped${C}`])&&(j=!0),j&&g.preventScrollOnSwipe&&g.trackTouch&&u.cancelable&&u.preventDefault(),Object.assign(Object.assign({},p),{first:!1,eventData:N,swiping:!0})})},i=u=>{t((p,g)=>{let m;if(p.swiping&&p.eventData){if(u.timeStamp-p.start<g.swipeDuration){m=Object.assign(Object.assign({},p.eventData),{event:u}),g.onSwiped&&g.onSwiped(m);const y=g[`onSwiped${m.dir}`];y&&y(m)}}else g.onTap&&g.onTap({event:u});return g.onTouchEndOrOnMouseUp&&g.onTouchEndOrOnMouseUp({event:u}),Object.assign(Object.assign(Object.assign({},p),Kb),{eventData:m})})},s=()=>{document.removeEventListener(RI,n),document.removeEventListener(LI,a)},a=u=>{s(),i(u)},o=(u,p)=>{let g=()=>{};if(u&&u.addEventListener){const m=Object.assign(Object.assign({},Qp.touchEventOptions),p.touchEventOptions),y=[[n3e,r,m],[r3e,n,Object.assign(Object.assign({},m),p.preventScrollOnSwipe?{passive:!1}:{})],[t3e,i,m]];y.forEach(([w,_,E])=>u.addEventListener(w,_,E)),g=()=>y.forEach(([w,_])=>u.removeEventListener(w,_))}return g},c={ref:u=>{u!==null&&t((p,g)=>{if(p.el===u)return p;const m={};return p.el&&p.el!==u&&p.cleanUpTouch&&(p.cleanUpTouch(),m.cleanUpTouch=void 0),g.trackTouch&&u&&(m.cleanUpTouch=o(u,g)),Object.assign(Object.assign(Object.assign({},p),{el:u}),m)})}};return e.trackMouse&&(c.onMouseDown=r),[c,o]}function a3e(t,e,r,n){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==r.preventScrollOnSwipe||e.touchEventOptions.passive!==r.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})}function o3e(t){const{trackMouse:e}=t,r=F.useRef(Object.assign({},Kb)),n=F.useRef(Object.assign({},Qp)),i=F.useRef(Object.assign({},n.current));i.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},Qp),t);let s;for(s in Qp)n.current[s]===void 0&&(n.current[s]=Qp[s]);const[a,o]=F.useMemo(()=>s3e(l=>r.current=l(r.current,n.current),{trackMouse:e}),[e]);return r.current=a3e(r.current,n.current,i.current,o),a}const Z3=[{title:"Welcome to Pharmasea",description:"Your trusted digital pharmacy marketplace.",illustration:"/onboarding/Onboarding 1.png"},{title:"Find Verified Pharmacies",description:"Easily locate licensed pharmacies near you.",illustration:"/onboarding/Onboarding 2.png"},{title:"Order & Refill Medications",description:"Order prescriptions and over-the-counter drugs with ease.",illustration:"/onboarding/Onboarding 3.png"},{title:"Secure Payments & Fast Delivery",description:"Pay safely through integrated wallets and get doorstep delivery.",illustration:"/onboarding/Onboarding 4.png"},{title:"Pharmacy Dashboard (for Vendors)",description:"Manage your products, sales, and customers in one place.",illustration:"/onboarding/Onboarding 5.png"},{title:"Join the Pharmasea Community",description:"Connect with healthcare professionals and customers easily.",illustration:"/onboarding/Onboarding 6.png"}],l3e=["#D1FFF8","#FFDBDB","#D9FFE1","#FFF7CD","#EFE1FF","#E1F2FF"];function c3e(){const t=Jn(),[e,r]=F.useState(0),[n,i]=F.useState(!1),s=Z3.length,a=F.useMemo(()=>Z3[e],[e]),o=()=>t("/auth/landing",{replace:!0}),l=()=>{if(!n){if(e>=s-1){t("/auth/landing",{replace:!0});return}i(!0),r(y=>Math.min(y+1,s-1))}},c=()=>{n||e!==0&&(i(!0),r(y=>Math.max(y-1,0)))},u=F.useCallback(y=>{y.key==="ArrowRight"&&l(),y.key==="ArrowLeft"&&c(),y.key==="Escape"&&o()},[e,n]);F.useEffect(()=>(window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)),[u]);const p=o3e({onSwipedLeft:()=>l(),onSwipedRight:()=>c(),delta:50,preventDefaultTouchmoveEvent:!0,trackMouse:!0}),m={backgroundColor:l3e[e]||"#FFFFFF",width:"100vw",marginLeft:"calc(50% - 50vw)",marginRight:"calc(50% - 50vw)"};return f.jsxs("div",{className:"relative flex min-h-screen flex-col overflow-hidden transition-colors duration-300",style:m,children:[e!==s-1&&f.jsx("button",{type:"button",onClick:o,"aria-label":"Skip onboarding",className:"fixed right-4 top-4 z-50 pointer-events-auto text-sm font-normal text-sky-500 transition-colors hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-400 dark:text-slate-400 dark:hover:text-white",style:{WebkitTapHighlightColor:"transparent"},children:"Skip"}),f.jsx("div",{className:"flex w-full max-w-none flex-1 flex-col items-start px-0 pb-28 sm:px-0 lg:px-0",style:{paddingTop:23},children:f.jsxs("div",{...p,className:"flex flex-col mr-auto self-start w-full",children:[f.jsxs("div",{className:"w-full max-w-xl pr-6 sm:pr-8 md:pr-56 lg:pr-64 lg:max-w-none",children:[f.jsx(wa.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-4 mt-16 flex justify-center lg:justify-center",children:f.jsx("img",{src:"/PharmLogo.png",alt:"Pharmasea",className:"mx-auto h-8 sm:h-10 md:h-12 lg:h-16 object-contain"})}),f.jsxs(p5e,{mode:"wait",children:[f.jsx(wa.h1,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.45},className:"mt-8 text-left text-4xl font-light leading-tight sm:text-3xl md:text-4xl lg:text-6xl pl-4 sm:pl-6 lg:pl-6 pr-4 sm:pr-6 lg:pr-6",children:a.title.includes("(for Vendors)")?f.jsxs(f.Fragment,{children:[a.title.replace(" (for Vendors)",""),f.jsx("span",{className:"ml-2 align-left text-sm font-light text-slate-500 dark:text-slate-400",children:"(for Vendors)"})]}):a.title},a.title),f.jsx(wa.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.45,delay:.04},className:"mt-4 max-w-xl lg:max-w-none text-left text-[17px] font-normal text-slate-500 dark:text-slate-300 sm:text-lg lg:text-[22px] pl-4 sm:pl-6 lg:pl-6 pr-4 sm:pr-6 lg:pr-6",children:a.description},a.description)]})]}),f.jsx("div",{className:"relative mt-8 flex w-full justify-end",style:{bottom:70},children:f.jsx("div",{className:"w-full max-w-[400px] sm:max-w-[440px] h-0","aria-hidden":!0})})]})}),f.jsxs(wa.span,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.35},className:"fixed left-4 top-4 z-50 text-xs uppercase tracking-[0.25em] text-slate-400 dark:text-slate-500 pointer-events-none",children:["Step ",e+1," of ",s]}),f.jsx(wa.img,{src:a.illustration,alt:"","aria-hidden":"true",loading:"lazy",initial:{opacity:0,y:24,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:24,scale:.98},transition:{type:"spring",stiffness:160,damping:20},onAnimationComplete:()=>i(!1),className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 pointer-events-none z-10 w-[320px] max-w-[90vw] sm:left-auto sm:right-4 sm:transform-none sm:translate-x-0 sm:w-[420px] md:w-[520px] object-contain will-change-transform"},a.illustration),f.jsx("div",{"aria-hidden":!0,className:"fixed inset-x-0 bottom-6 z-40 flex justify-center pointer-events-none",children:f.jsxs("div",{className:"w-full max-w-md pointer-events-auto relative flex items-center justify-between px-4",children:[f.jsx("button",{type:"button",onClick:c,disabled:e===0,"aria-label":"Go to previous",className:"z-20 text-sm font-normal text-slate-500 transition-colors hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-400 disabled:pointer-events-none disabled:opacity-0 dark:text-slate-400 dark:hover:text-white bg-white/0 backdrop-blur rounded-md px-3 py-2",children:"back"}),e===s-1?f.jsx("div",{className:"w-0"}):f.jsx("div",{className:"flex items-center gap-2 z-10 pointer-events-auto",children:Z3.map((y,w)=>f.jsx(wa.span,{layout:!0,initial:!1,animate:{scale:w===e?1.15:1,backgroundColor:w===e?"#0f172a":"#e6e9ee"},transition:{type:"spring",stiffness:300,damping:20},onClick:()=>{n||(i(!0),r(w))},className:"h-2 w-2 rounded-full cursor-pointer dark:cursor-pointer","aria-label":`Go to step ${w+1}`},w))}),f.jsx("div",{className:"relative w-full flex justify-end items-center z-20 pointer-events-auto px-4",children:f.jsx(wa.div,{layoutId:"cta",layout:!0,transition:{layout:{type:"spring",stiffness:320,damping:28}},className:"flex items-center justify-end w-full",style:{display:"flex",justifyContent:"flex-end"},children:e===s-1?f.jsx(wa.button,{type:"button",onClick:l,whileTap:{scale:.985},whileHover:{scale:1.02},className:"h-14 shadow-md bg-sky-600 text-lg font-medium text-white transition-colors hover:bg-sky-600/90 active:scale-[1] dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200 pointer-events-auto",style:{minWidth:220,borderRadius:999,zIndex:999},children:"Continue"},"continue-btn"):f.jsx(wa.button,{type:"button",onClick:l,whileTap:{scale:.96},whileHover:{scale:1.02},className:"flex h-14 items-center justify-center shadow-md rounded-full bg-sky-600 text-lg font-normal text-white transition-colors dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200 pointer-events-auto",style:{width:56,height:56,borderRadius:999,zIndex:999},children:"Next"},"next-btn")})})]})})]})}function px({to:t}){const e=Jn();return f.jsx("button",{onClick:()=>e(t||-1),className:"mb-5 w-[70px] h-[20px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600",children:" Back"})}function jU({email:t}){return f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-800",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 max-w-md w-full text-center",children:[f.jsxs("h2",{className:"text-xl font-thin mb-2",children:["Registration",f.jsx("br",{}),"Successful!"]}),f.jsxs("p",{className:"mb-4 text-zinc-600 text-[13px]",children:["A verification link has been sent to ",f.jsx("b",{children:t}),".",f.jsx("br",{}),"Please check your inbox and verify your email to continue."]}),f.jsx(h0,{to:"/auth/customer/signin",className:"mt-4 inline-block px-4 py-2 bg-sky-600 text-white rounded-full",children:"Go to Sign In"})]})})}const u3e=()=>f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),f.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),f.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),f.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});function DU({onClick:t,loading:e=!1,children:r,className:n=""}){return f.jsxs("button",{type:"button",onClick:t,disabled:e,className:`w-full sm:w-[359px] h-[47px] rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-3 font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light text-gray-700 dark:text-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${n}`,children:[e?f.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):f.jsx(u3e,{}),f.jsx("span",{children:r})]})}const OU=()=>{if(typeof window>"u"||new URLSearchParams(window.location.search).get("debugGoogleAuth")!=="1")return;console.group(" Google Auth Configuration Diagnostic"),console.log("Firebase Config:"),console.log("- API Key:"," Present"),console.log("- Auth Domain:"," Present"),console.log("- Project ID:"," Present"),console.log("Environment:"," Production"),console.log("Host:",window.location.hostname),console.log("Protocol:",window.location.protocol),console.log("User Agent:",navigator.userAgent.includes("Chrome")?" Chrome":navigator.userAgent.includes("Safari")?" Safari (may have popup restrictions)":navigator.userAgent.includes("Firefox")?" Firefox (may have popup restrictions)":" Other"),console.groupEnd();const e=document.createElement("div");e.style.cssText=`
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(0,0,0,0.9);
    color: white;
    padding: 10px;
    border-radius: 5px;
    font-size: 12px;
    z-index: 9999;
    max-width: 300px;
  `,e.innerHTML=`
    <strong> Google Auth Debug</strong><br>
    API Key: <br>
    Auth Domain: <br>
    Project ID: <br>
    Host: ${window.location.hostname}<br>
    <small>Add ?debugGoogleAuth=1 to see console logs</small>
  `,document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},1e4)};function d3e(){const{signUp:t,signUpWithGoogle:e}=wn(),{userCoords:r,location:n,locationError:i}=H0(),[s,a]=F.useState({name:"",email:"",phone:"",password:"",address:""}),[o,l]=F.useState(!1),[c,u]=F.useState(!1),[p,g]=F.useState(null),[m,y]=F.useState([]),[w,_]=F.useState(null),E=F.useRef(),[L,I]=F.useState(!1),V=Jn();F.useEffect(()=>{OU()},[]);const G=async D=>{if(!D)return y([]);const j=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(D)}&addressdetails=1&limit=5`)).json();y(j)},X=D=>{const N=D.target.value;a({...s,address:N}),_(null),clearTimeout(E.current),E.current=setTimeout(()=>G(N),400)},R=D=>{a({...s,address:D.display_name}),_(D),y([])},A=async D=>{D.preventDefault(),l(!0);try{if(!s.address)throw new Error("Address is required");const N=await t({email:s.email,password:s.password,displayName:s.name,role:"customer",address:s.address,lat:w?.lat,lon:w?.lon});g(s.email)}catch(N){alert(N.message)}finally{l(!1)}},C=async()=>{u(!0);try{console.log("Starting Google registration process..."),console.log("User location:",{location:n,userCoords:r});const D={address:n,latitude:r?.latitude,longitude:r?.longitude},N=await e(D);console.log("Google registration result:",N),N.isNewUser?(console.log("New user created, showing success screen"),g(N.user.email)):N.existingCustomer?(console.log("Existing customer, navigating to home"),V("/")):(console.log("Existing user, navigating to home"),V("/"))}catch(D){console.error("Google registration failed:",D),D.message&&!D.message.includes("Firebase:")?alert(D.message):alert("Google registration failed. Please try again or contact support if the issue persists.")}finally{u(!1)}};return p?f.jsx(jU,{email:p}):f.jsxs(mm,{children:[f.jsx(px,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),f.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left",children:["I'm a",f.jsx("br",{}),"Customer"]}),f.jsxs("form",{onSubmit:A,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[f.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Full Name",value:s.name,onChange:D=>a({...s,name:D.target.value})}),f.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:s.email,onChange:D=>a({...s,email:D.target.value})}),f.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Phone Number",value:s.phone,onChange:D=>a({...s,phone:D.target.value})}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx("input",{className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Address (required)",value:s.address||"",onChange:X,required:!0,autoComplete:"off"}),m.length>0&&f.jsx("div",{className:"absolute left-0 right-0 bg-white dark:bg-gray-800 border border-zinc-200 rounded shadow z-10 max-h-40 overflow-y-auto",children:m.map(D=>f.jsx("div",{className:"px-4 py-2 hover:bg-sky-50 cursor-pointer text-[13px]",onClick:()=>R(D),children:D.display_name},D.place_id))})]}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx("input",{type:L?"text":"password",className:"w-full mb-0 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Choose a password",value:s.password,onChange:D=>a({...s,password:D.target.value})}),f.jsx("button",{type:"button",onClick:()=>I(D=>!D),"aria-pressed":L,"aria-label":L?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:L?f.jsx(J5,{className:"h-5 w-5"}):f.jsx(K2,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex justify-center w-full",children:f.jsx("button",{disabled:o,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:o?"Registering":"Register"})})]}),f.jsxs("div",{className:"mt-6 flex items-center justify-center",children:[f.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"}),f.jsx("span",{className:"px-4 text-gray-500 dark:text-gray-400 text-sm",children:"or"}),f.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"})]}),f.jsx("div",{className:"mt-6 flex justify-center",children:f.jsx(DU,{onClick:C,loading:c,children:"Register with Google"})}),!i&&r&&f.jsx("div",{className:"mt-3 text-center text-xs text-gray-500 dark:text-gray-400",children:"Google registration will use your current location as address"}),i&&f.jsx("div",{className:"mt-3 text-center text-xs text-red-500 dark:text-red-400",children:"Location access required for Google registration"}),f.jsxs("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Already have an account? ",f.jsx(h0,{to:"/auth/customer/signin",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Sign In"})]})]})}const jI=t=>{const e=t.code||t.message;return e.includes("auth/invalid-credential")||e.includes("auth/wrong-password")||e.includes("auth/user-not-found")?"Invalid email or password. Please check your credentials and try again.":e.includes("auth/invalid-email")?"Please enter a valid email address.":e.includes("auth/too-many-requests")?"Too many failed attempts. Please try again later.":e.includes("auth/network-request-failed")?"Network error. Please check your connection and try again.":e.includes("auth/popup-closed-by-user")?"Google sign-in was cancelled. Please try again.":e.includes("auth/popup-blocked")?"Pop-up was blocked by your browser. Please allow pop-ups and try again.":e.includes("auth/account-exists-with-different-credential")?"An account with this email exists with a different sign-in method. Please use your email and password instead.":!e.includes("auth/")&&!e.includes("Firebase:")?t.message:"Sign in failed. Please try again."};function f3e(){const{signIn:t,signInWithGoogle:e}=wn(),[r,n]=F.useState({email:"",password:""}),[i,s]=F.useState(!1),[a,o]=F.useState(!1),[l,c]=F.useState(null),[u,p]=F.useState(!1),g=Jn();F.useEffect(()=>{OU()},[]);const m=async w=>{w.preventDefault(),s(!0),c(null);try{await t(r.email,r.password),g("/")}catch(_){c(jI(_))}finally{s(!1)}},y=async()=>{o(!0),c(null);try{console.log("Starting Google sign-in process...");const w=await e();console.log("Google sign-in successful, navigating to home"),g("/")}catch(w){console.error("Google sign-in failed:",w),w.message&&!w.message.includes("Firebase:")?c(w.message):c(jI(w))}finally{o(!1)}};return f.jsxs(mm,{children:[f.jsx(px,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),f.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left text-black dark:text-white",children:["I'm a",f.jsx("br",{}),"Customer"]}),l&&f.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[f.jsx(E8,{className:"h-4 w-4 text-red-500 dark:text-red-400 flex-shrink-0"}),f.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:l}),f.jsx("button",{onClick:()=>c(null),className:"ml-auto text-red-400 dark:text-red-500 hover:text-red-600 dark:hover:text-red-300","aria-label":"Dismiss error",children:""})]}),f.jsxs("form",{onSubmit:m,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[f.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:r.email,onChange:w=>n({...r,email:w.target.value})}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx("input",{type:u?"text":"password",className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Password",value:r.password,onChange:w=>n({...r,password:w.target.value}),"aria-label":"Password"}),f.jsx("button",{type:"button",onClick:()=>p(w=>!w),"aria-pressed":u,"aria-label":u?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200",children:u?f.jsx(J5,{className:"h-5 w-5"}):f.jsx(K2,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex justify-center w-full",children:f.jsx("button",{disabled:i,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] dark:border-sky-400 text-[#36A5FF] dark:text-sky-400 bg-white dark:bg-gray-800 mt-4 flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in":"Sign In"})})]}),f.jsxs("div",{className:"mt-6 flex items-center justify-center",children:[f.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"}),f.jsx("span",{className:"px-4 text-gray-500 dark:text-gray-400 text-sm",children:"or"}),f.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"})]}),f.jsx("div",{className:"mt-6 flex justify-center",children:f.jsx(DU,{onClick:y,loading:a,children:"Sign in with Google"})}),f.jsx("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:f.jsx(h0,{to:"/auth/forgot-password",className:"text-sky-600 dark:text-sky-400 font-medium hover:text-sky-700 dark:hover:text-sky-300",children:"Forgot password?"})}),f.jsxs("div",{className:"mt-2 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Don't have an account? ",f.jsx(h0,{to:"/auth/customer/register",className:"text-sky-600 dark:text-sky-400 font-medium hover:text-sky-700 dark:hover:text-sky-300",children:"Register"})]})]})}function h3e(){const{signUp:t}=wn(),[e,r]=F.useState({name:"",email:"",phone:"",address:"",password:""}),[n,i]=F.useState(!1),[s,a]=F.useState([]),[o,l]=F.useState(null),[c,u]=F.useState(null),p=F.useRef(),[g,m]=F.useState(!1);Jn();const y=async E=>{if(!E)return a([]);const I=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(E)}&addressdetails=1&limit=5`)).json();a(I)},w=E=>{const L=E.target.value;r({...e,address:L}),l(null),clearTimeout(p.current),p.current=setTimeout(()=>y(L),400)},_=async E=>{E.preventDefault(),i(!0);try{await t({email:e.email,password:e.password,displayName:e.name,role:"pharmacy"});const L=yf.currentUser?.uid;L&&await Mc(ir(pt,"pharmacies",L),{id:L,name:e.name,email:e.email,address:e.address,lat:o?.lat||null,lon:o?.lon||null,etaMins:25,phone:e.phone}),u(e.email)}catch(L){alert(L.message)}finally{i(!1)}};return c?f.jsx(jU,{email:c}):f.jsxs(mm,{children:[f.jsx(px,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),f.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left",children:["I'm a",f.jsx("br",{}),"Pharmacy"]}),f.jsxs("form",{onSubmit:_,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[f.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Pharmacy Name",value:e.name,onChange:E=>r({...e,name:E.target.value})}),f.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:e.email,onChange:E=>r({...e,email:E.target.value})}),f.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Phone Number",value:e.phone,onChange:E=>r({...e,phone:E.target.value})}),f.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Address",value:e.address,onChange:w}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx("input",{type:g?"text":"password",className:"w-full mb-0 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Choose a password",value:e.password,onChange:E=>r({...e,password:E.target.value})}),f.jsx("button",{type:"button",onClick:()=>m(E=>!E),"aria-pressed":g,"aria-label":g?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:g?f.jsx(J5,{className:"h-5 w-5"}):f.jsx(K2,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex justify-center w-full",children:f.jsx("button",{disabled:n,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:n?"Registering":"Register"})})]}),f.jsxs("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Already have an account? ",f.jsx(h0,{to:"/auth/pharmacy/signin",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Sign In"})]})]})}const p3e=t=>{const e=t.code||t.message;return e.includes("auth/invalid-credential")||e.includes("auth/wrong-password")||e.includes("auth/user-not-found")?"Invalid email or password. Please check your credentials and try again.":e.includes("auth/invalid-email")?"Please enter a valid email address.":e.includes("auth/too-many-requests")?"Too many failed attempts. Please try again later.":e.includes("auth/network-request-failed")?"Network error. Please check your connection and try again.":"Sign in failed. Please try again."};function m3e(){const{signIn:t}=wn(),[e,r]=F.useState({email:"",password:""}),[n,i]=F.useState(!1),[s,a]=F.useState(null),[o,l]=F.useState(!1),c=Jn(),u=async p=>{p.preventDefault(),i(!0),a(null);try{await t(e.email,e.password),c("/")}catch(g){a(p3e(g))}finally{i(!1)}};return f.jsxs(mm,{children:[f.jsx(px,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),f.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left text-black dark:text-white",children:["I'm a",f.jsx("br",{}),"Pharmacy"]}),s&&f.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[f.jsx(E8,{className:"h-4 w-4 text-red-500 dark:text-red-400 flex-shrink-0"}),f.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:s}),f.jsx("button",{onClick:()=>a(null),className:"ml-auto text-red-400 dark:text-red-500 hover:text-red-600 dark:hover:text-red-300","aria-label":"Dismiss error",children:""})]}),f.jsxs("form",{onSubmit:u,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[f.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:e.email,onChange:p=>r({...e,email:p.target.value})}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx("input",{type:o?"text":"password",className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Password",value:e.password,onChange:p=>r({...e,password:p.target.value}),"aria-label":"Password"}),f.jsx("button",{type:"button",onClick:()=>l(p=>!p),"aria-pressed":o,"aria-label":o?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:o?f.jsx(J5,{className:"h-5 w-5"}):f.jsx(K2,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex justify-center w-full",children:f.jsx("button",{disabled:n,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:n?"Signing in":"Sign In"})})]}),f.jsx("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:f.jsx(h0,{to:"/auth/forgot-password",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Forgot password?"})}),f.jsxs("div",{className:"mt-2 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Dont have an account? ",f.jsx(h0,{to:"/auth/pharmacy/register",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Register"})]})]})}function g3e(){const{user:t,logout:e}=wn(),[r,n]=F.useState(!1),[i,s]=F.useState(!1),a=Jn();if(F.useEffect(()=>{t&&t.emailVerified},[t]),!t||t.emailVerified)return null;const o=async()=>{s(!0),await yj(t),n(!0),s(!1)},l=async()=>{try{await e()}catch{}window.history&&window.history.length>1?a(-1):a("/auth/landing")};return f.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:f.jsxs("div",{className:"bg-white p-8 max-w-md w-full text-center",children:[f.jsx("h2",{className:"text-xl font-light mb-2",children:"Verify your email"}),f.jsxs("p",{className:"mb-4 text-zinc-600 text-[14px] font-thin",children:["A verification link has been sent to ",f.jsx("b",{children:t.email}),".",f.jsx("br",{}),"Please check your inbox and click the link to activate your account."]}),f.jsx("button",{className:"px-4 py-2 bg-sky-600 text-white rounded-full text-[12px] font-light disabled:opacity-50",onClick:o,disabled:i||r,children:r?"Verification Sent!":i?"Sending...":"Resend Email"}),f.jsx("button",{className:"block mt-4 mx-auto text-sm text-zinc-500 underline",onClick:l,children:"Back"})]})})}function x3e(){const[t,e]=F.useState(""),[r,n]=F.useState(!1),[i,s]=F.useState(""),[a,o]=F.useState(!1),l=async c=>{c.preventDefault(),o(!0),s("");try{await JZ(t),n(!0)}catch(u){s(u.message||"Failed to send reset email.")}o(!1)};return f.jsxs(mm,{children:[f.jsx(px,{to:"/auth/landing"}),f.jsxs("div",{className:"w-full max-w-md text-center bg-white dark:bg-gray-800 rounded-2xl  p-8",children:[f.jsx("img",{src:"/ForgotPasswordIllustration.png",alt:"Forgot Password",className:"mx-auto mb-4 w-28 h-28 object-contain"}),f.jsx("h2",{className:"text-xl font-light mb-4",children:"Forgot Password?"}),r?f.jsx("p",{className:"text-green-600 font-thin text-[14px]",children:"A password reset link has been sent to your email."}):f.jsxs("form",{onSubmit:l,className:"space-y-4 text-left",children:[f.jsx("input",{type:"email",className:"w-full border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-[12px] mt-2 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-200 focus:border-sky-400 dark:border-gray-600",placeholder:"Enter your email",value:t,onChange:c=>e(c.target.value),required:!0}),i&&f.jsx("div",{className:"text-red-500 text-sm",children:i}),f.jsxs("button",{type:"submit",disabled:a,className:"w-full rounded-full bg-sky-600 text-white text-[13px] font-light py-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a&&f.jsx("span",{className:"inline-block h-4 w-4 border-2 border-white/70 border-t-transparent rounded-full animate-spin"}),a?"Sending":"Send Reset Link"]})]})]})]})}function v3e(){const t=Jn(),[e]=A$(),{t:r}=Zi(),n=e.get("pharmacyId"),[i,s]=F.useState({name:"",price:"",category:"Over-the-Counter",stock:0,sku:"",tags:"",image:"",description:""}),[a,o]=F.useState(null),[l,c]=F.useState(!1),[u,p]=F.useState(!1),g=()=>i.name.trim()?!i.price||isNaN(Number(i.price))||Number(i.price)<=0?(alert(r("invalid_price","Please enter a valid price")),!1):!0:(alert(r("please_fill_required","Please fill in all required fields")),!1),m=async()=>{if(g()){c(!0);try{let w=i.image;if(!w&&a){p(!0);const E=`products/${n}/${Date.now()}_${a.name}`,L=JJ(iZ,E);await YJ(L,a),w=await QJ(L),p(!1)}const _=(i.tags||"").split(",").map(E=>E.trim()).filter(Boolean);await sj({...i,image:w,price:Number(i.price),pharmacyId:n,tags:_}),alert(r("product_created_success","Product created successfully!")),t(-1)}catch(w){console.error("Error creating product:",w),alert(r("error_creating_product","Error creating product. Please try again."))}finally{c(!1),p(!1)}}},y=[{value:"Prescription",label:r("prescription_drugs","Prescription Drugs")},{value:"Over-the-Counter",label:r("over_counter","Over-the-counter")},{value:"General Pills",label:r("general_pills","General Pills")},{value:"Controlled",label:r("controlled_substances","Controlled Substances")},{value:"Syrup",label:r("syrup_liquid","Syrup/Liquid")},{value:"Therapeutic",label:r("therapeutic_drugs","Therapeutic Drugs")},{value:"Others",label:r("supplements_vitamins","Supplements & Vitamins")}];return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-blue-100 p-4",children:f.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-3xl shadow-xl border border-[#9ED3FF] overflow-hidden",children:[f.jsx("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 text-white",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors duration-200",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),f.jsx("h1",{className:"text-xl font-light font-poppins",children:r("add_product_title","Add New Product")})]})}),f.jsxs("div",{className:"p-6 space-y-4",children:[f.jsxs("div",{className:"space-y-1",children:[f.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[r("product_name","Product Name")," *"]}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-3 outline-none focus:border-sky-500 transition-colors duration-200 hover:border-sky-400",placeholder:r("product_name_placeholder","Enter product name"),value:i.name,onChange:w=>s({...i,name:w.target.value})})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[r("product_price","Price")," *"]}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-3 outline-none focus:border-sky-500 transition-colors duration-200 hover:border-sky-400",placeholder:r("product_price_placeholder","Enter price"),type:"number",value:i.price,onChange:w=>s({...i,price:w.target.value})})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("label",{className:"text-sm font-medium text-gray-700",children:[r("product_category","Category")," *"]}),f.jsxs("select",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-3 outline-none bg-white focus:border-sky-500 transition-colors duration-200 hover:border-sky-400",value:i.category,onChange:w=>s({...i,category:w.target.value}),children:[f.jsx("option",{value:"",disabled:!0,children:r("select_category","Select Category")}),y.map(w=>f.jsx("option",{value:w.value,children:w.label},w.value))]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:r("stock_quantity","Stock Quantity")}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-3 outline-none focus:border-sky-500 transition-colors duration-200 hover:border-sky-400",placeholder:r("stock_placeholder","Enter stock quantity"),type:"number",value:i.stock,onChange:w=>s({...i,stock:Number(w.target.value)})})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:r("product_sku","SKU")}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-3 outline-none focus:border-sky-500 transition-colors duration-200 hover:border-sky-400",placeholder:r("sku_placeholder","Enter SKU (optional)"),value:i.sku,onChange:w=>s({...i,sku:w.target.value})})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:r("product_tags","Tags")}),f.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-3 outline-none focus:border-sky-500 transition-colors duration-200 hover:border-sky-400",placeholder:r("tags_placeholder","Add tags separated by commas"),value:i.tags,onChange:w=>s({...i,tags:w.target.value})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:r("product_image","Product Image")}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("input",{type:"file",accept:"image/*",className:"w-full border border-[#9ED3FF] rounded-lg p-3 text-[13px] font-light focus:border-sky-500 transition-colors duration-200 hover:border-sky-400",onChange:w=>o(w.target.files?.[0]||null)}),f.jsx("div",{className:"text-center text-xs text-gray-500",children:"or"}),f.jsx("input",{className:"w-full border border-[#9ED3FF] rounded-lg p-3 text-[13px] font-light outline-none focus:border-sky-500 transition-colors duration-200 hover:border-sky-400",placeholder:r("image_url_placeholder","Or enter image URL"),value:i.image,onChange:w=>s({...i,image:w.target.value})})]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700",children:r("product_description","Description")}),f.jsx("textarea",{rows:4,placeholder:r("description_placeholder","Enter product description"),value:i.description,onChange:w=>s({...i,description:w.target.value}),className:"w-full border border-[#9ED3FF] rounded-lg p-3 text-[13px] font-light outline-none focus:border-sky-500 transition-colors duration-200 hover:border-sky-400 resize-none"})]})]}),f.jsx("div",{className:"p-6 pt-0",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{className:"flex-1 rounded-full bg-gradient-to-r from-sky-500 to-blue-600 text-white text-sm font-medium py-3 shadow-lg hover:from-sky-600 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-500 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",disabled:l||u,onClick:m,children:u?r("uploading","Uploading..."):l?r("creating_product","Creating Product..."):r("create_product","Create Product")}),f.jsx("button",{className:"flex-1 rounded-full border border-gray-300 text-gray-700 text-sm font-medium py-3 hover:border-gray-400 hover:bg-gray-50 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>t(-1),disabled:l,children:r("cancel","Cancel")})]})})]})})}function y3e(){const{id:t}=b5(),{userCoords:e}=H0(),{t:r}=Zi(),[n,i]=F.useState(null),[s,a]=F.useState([]),[o,l]=F.useState(!1),[c,u]=F.useState(null),[p,g]=F.useState(!1),[m,y]=F.useState(""),[w,_]=F.useState(!1),[E,L]=F.useState([]),[I,V]=F.useState([]),[G,X]=F.useState(!1),[R,A]=F.useState(-1),[C,D]=F.useState(!1);F.useEffect(()=>{if(typeof window>"u")return;const ue=window.matchMedia("(orientation: portrait)"),Y=P=>D(P.matches);return D(ue.matches),ue.addEventListener?ue.addEventListener("change",Y):ue.addListener(Y),()=>{ue.removeEventListener?ue.removeEventListener("change",Y):ue.removeListener(Y)}},[]);const N=C,j=Jn(),{user:B,profile:te}=wn();F.useEffect(()=>{async function ue(){const Y=await Ci(ir(pt,"pharmacies",t));i(Y.data())}return ue(),Q5(a,t)},[t]),F.useEffect(()=>{async function ue(){if(B?.uid&&t){const Y=await xj(B.uid,t);g(Y)}}ue()},[B?.uid,t]);const he=async()=>{if(!(!B?.uid||!n))try{p?(await gj(B.uid,t),g(!1)):(await mj(B.uid,t,{name:n.name,address:n.address,phone:n.phone,email:n.email}),g(!0))}catch(ue){console.error("Error toggling bookmark:",ue)}};F.useEffect(()=>{if(n&&e){const ue=T8(n,e,"driving");u(ue)}else u(null)},[n,e]),F.useEffect(()=>{if(!m.trim())L(s),V([]),X(!1),A(-1);else{const ue=s.filter(P=>P.name?.toLowerCase().includes(m.toLowerCase())||P.category?.toLowerCase().includes(m.toLowerCase())||P.sku?.toLowerCase().includes(m.toLowerCase()));L(ue);const Y=ue.slice(0,5);V(Y),X(Y.length>0&&m.length>0),A(-1)}},[s,m]);const _e=async()=>{if(!B||!B.uid){j("/auth/landing");return}if(te?.role!=="customer"){alert(r("customers_only_chat","Only customers can start a chat with a pharmacy."));return}try{await S8({vendorId:t,customerId:B.uid,role:"customer"}),j(`/chat/${t}`)}catch(ue){console.error(ue),alert(r("could_not_start_chat","Could not start chat thread."))}},fe=ue=>{if(!(!G||I.length===0))switch(ue.key){case"ArrowDown":ue.preventDefault(),A(Y=>Y<I.length-1?Y+1:0);break;case"ArrowUp":ue.preventDefault(),A(Y=>Y>0?Y-1:I.length-1);break;case"Enter":if(ue.preventDefault(),R>=0&&R<I.length){const Y=I[R];j(`/product/${Y.id}`),_(!1),y(""),X(!1),A(-1)}break;case"Escape":X(!1),A(-1);break}},ie=(ue,Y)=>{if(!Y||!ue)return ue;const P=new RegExp(`(${Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return ue.split(P).map((K,J)=>P.test(K)?f.jsx("span",{className:"bg-yellow-200 font-semibold",children:K},J):K)},W=()=>f.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:f.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>j(-1),className:"w-[72px] h-[25px] font-poppins font-extralight tracking-tight text-[14px] flex items-center justify-center rounded-full bg-white border border-zinc-300 dark:border-gray-600 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[f.jsx(Cu,{className:"h-3 w-3 mr-0"})," ",r("back","Back")]}),f.jsx("div",{className:"text-[18px] font-light font-poppins leading-none",children:r("vendor_profile","Vendor Profile")}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:he,className:`p-2 rounded-full border border-zinc-200 bg-white hover:scale-110 active:scale-95 transition-all duration-200 ${p?"bg-sky-100 border-sky-300 dark:border-gray-600":"hover:bg-sky-50"}`,"aria-label":p?"Remove from bookmarks":"Add to bookmarks",children:f.jsx(YE,{className:`w-5 h-5 ${p?"text-sky-600 fill-sky-600":"text-sky-600"}`})}),f.jsx("button",{onClick:()=>_(!0),className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":r("search_products","Search products"),children:f.jsx(kd,{className:"w-5 h-5 text-sky-600"})})]})]})});return f.jsxs(f.Fragment,{children:[Ps.createPortal(f.jsx(W,{}),document.body),f.jsxs("div",{className:"min-h-screen bg-white/80 dark:bg-gray-900/80 backdrop-blur-md w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 pt-24 md:pt-8 pb-28",children:[f.jsxs("div",{className:"sticky top-0 z-20 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md pb-2 pt-4 -mx-4 sm:-mx-5 md:-mx-8 lg:-mx-12 xl:-mx-0 px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 items-center gap-3 animate-slide-down-fade hidden md:flex",children:[f.jsxs("button",{onClick:()=>j(-1),className:"w-[72px] h-[25px] font-poppins font-extralight tracking-tight text-[14px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white mr-1 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[f.jsx(Cu,{className:"h-3 w-3 mr-0"})," ",r("back","Back")]}),f.jsx("div",{className:"-ml-1 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none animate-text-reveal text-gray-900 dark:text-white",children:r("vendor_profile","Vendor Profile")}),f.jsx("div",{className:"ml-auto flex items-center gap-2",children:f.jsx("button",{onClick:he,className:`p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:scale-110 active:scale-95 transition-all duration-200 ${p?"bg-sky-100 dark:bg-sky-900 border-sky-300 dark:border-gray-600 dark:border-sky-600 dark:border-gray-600":"hover:bg-sky-50 dark:hover:bg-sky-900/20"}`,"aria-label":p?"Remove from bookmarks":"Add to bookmarks",children:f.jsx(YE,{className:`w-5 h-5 ${p?"text-sky-600 fill-sky-600":"text-sky-600"}`})})})]}),f.jsx("div",{className:"w-full mx-auto mt-6",children:f.jsxs("div",{className:`flex flex-col ${N?"":"md:grid md:grid-cols-3"} gap-6`,children:[f.jsxs("div",{className:`order-2 ${N?"":"md:order-2 md:col-span-2"} animate-fade-in-up`,children:[f.jsxs("div",{className:`border border-zinc-200 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800 shadow-sm p-4 mb-4 flex items-center justify-between ${N?"":"md:sticky md:top-20 md:bg-white/90 md:dark:bg-gray-800/90 md:backdrop-blur-sm md:z-20"} animate-slide-down-fade`,children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-[18px] font-poppins font-medium text-gray-900 dark:text-white",children:[r("products_by","Products by"),f.jsx("br",{}),n?.name||r("vendor","Vendor")]}),f.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light",children:[m?E.length:s.length," ",m&&E.length!==s.length?`${r("of","of")} ${s.length}`:""," ",r("items","items")]})]}),f.jsxs("div",{children:[E.length>3&&!o&&f.jsx("button",{className:"text-sky-600 dark:text-sky-400 text-[12px] font-poppins font-light px-3 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>l(!0),children:r("see_more","See more")}),E.length>3&&o&&f.jsx("button",{className:"text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-3 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>l(!1),children:r("see_less","See less")})]})]}),f.jsx("div",{className:`${N?"":"md:max-h-[calc(100vh-12rem)] md:overflow-y-auto md:pr-4"}`,children:f.jsxs("div",{className:"space-y-3 px-0",children:[(o?E:E.slice(0,3)).map((ue,Y)=>f.jsxs("div",{className:"rounded-2xl border border-zinc-200 dark:border-gray-600 p-3 flex items-center gap-3 bg-white dark:bg-gray-800 shadow-sm cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 overflow-hidden card-interactive animate-fadeInUp hover:scale-102 hover:shadow-lg",style:{animationDelay:`${Y*.1}s`},onClick:()=>j(`/product/${ue.id}`),children:[f.jsx("div",{className:"flex-shrink-0 animate-bounce-gentle",children:f.jsx(Pl,{name:ue.name,image:ue.image,category:ue.category,size:30})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"font-poppins font-medium text-[15px] tracking-tight mb-1 truncate text-gray-900 dark:text-white",title:ue.name,children:ue.name}),f.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[12px] font-poppins font-light truncate",title:`${ue.category}  ${r("stock","Stock")}: ${ue.stock}  ${r("sku","SKU")}: ${ue.sku}`,children:[ue.category,"  ",r("stock","Stock"),": ",ue.stock,"  ",r("sku","SKU"),": ",ue.sku]})]}),f.jsxs("div",{className:"text-[15px] font-poppins font-medium text-sky-600 ml-3 flex-shrink-0 animate-pulse-slow",children:["",Number(ue.price).toLocaleString()]})]},ue.id)),E.length===0&&f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light animate-fade-in",children:m?r("no_products_found_search","No products found matching your search."):r("no_products_yet","No products yet.")})]})})]}),f.jsxs("aside",{className:`order-1 ${N?"":"md:order-1 md:col-span-1 md:self-start md:sticky md:top-20"} animate-fade-in-left`,children:[f.jsxs("div",{className:"border border-zinc-200 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800 shadow-sm p-5 mb-4 w-full flex flex-col items-start card-interactive hover:shadow-lg transition-all duration-300",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-100 dark:bg-gray-700 flex items-center justify-center mb-2 animate-bounce-gentle hover:scale-110 transition-transform duration-200",children:f.jsx("span",{className:"text-[32px] font-poppins font-light text-sky-600 dark:text-sky-400",children:n?.name?.charAt(0)||"V"})}),f.jsx("div",{className:"text-[22px] font-poppins font-medium tracking-tight text-sky-600 dark:text-sky-400 mb-1 animate-text-reveal",children:n?.name||"Vendor"}),f.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.1s"},children:n?.email||""}),f.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.2s"},children:[f.jsx(ic,{className:"h-3 w-3"})," ",n?.address||""]}),f.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.3s"},children:[f.jsx(zy,{className:"h-3 w-3"}),c?r("eta_to_pharmacy","{time} to {pharmacy}").replace("{time}",c.formatted).replace("{pharmacy}",n?.name||r("vendor","vendor")):e?r("calculating_eta","Calculating ETA..."):r("fetching_location","Fetching location...")]}),f.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.4s"},children:[f.jsx(L1,{className:"h-3 w-3"})," ",n?.phone||""]})]}),f.jsx("div",{className:"w-full mb-4 animate-fade-in-up",style:{animationDelay:"0.5s"},children:f.jsxs("button",{onClick:_e,className:"w-full rounded-full bg-sky-600 text-white h-[37px] text-[12px] font-poppins font-light flex items-center justify-center gap-2 btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:[f.jsx(Yh,{className:"h-4 w-4"})," ",r("message_vendor","Message Vendor")]})})]})]})}),w&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[200]",children:f.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-poppins font-medium text-gray-900 dark:text-white",children:r("search_products","Search Products")}),f.jsx("button",{onClick:()=>{_(!1),y(""),X(!1)},className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:""})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:r("search_by_name_category_sku","Search by name, category, or SKU..."),value:m,onChange:ue=>y(ue.target.value),onKeyDown:fe,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent font-poppins",autoFocus:!0}),G&&I.length>0&&f.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 dark:border-gray-600 rounded-xl shadow-lg max-h-60 overflow-y-auto z-10",children:I.map((ue,Y)=>f.jsx("button",{onClick:()=>{j(`/product/${ue.id}`),_(!1),y(""),X(!1),A(-1)},onMouseEnter:()=>A(Y),className:`w-full px-4 py-3 text-left transition-colors border-b border-gray-100 last:border-b-0 first:rounded-t-xl last:rounded-b-xl ${Y===R?"bg-sky-50 border-sky-100":"hover:bg-gray-50"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(Pl,{name:ue.name,image:ue.image,category:ue.category,size:24})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:`font-poppins font-medium text-sm truncate ${Y===R?"text-sky-700":"text-gray-900"}`,children:ie(ue.name,m)}),f.jsxs("div",{className:`text-xs truncate ${Y===R?"text-sky-600":"text-gray-500"}`,children:[ie(ue.category,m),"  ",Number(ue.price||0).toLocaleString()]})]})]})},ue.id))})]}),f.jsxs("div",{className:"flex gap-2 mt-4",children:[f.jsxs("button",{onClick:()=>{_(!1),X(!1)},className:"flex-1 px-4 py-2 bg-sky-600 text-white rounded-xl hover:bg-sky-700 transition-colors font-poppins font-medium",children:[r("view_results","View Results")," (",E.length,")"]}),f.jsx("button",{onClick:()=>{y(""),_(!1),X(!1)},className:"px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl hover:bg-gray-50 transition-colors font-poppins",children:r("clear","Clear")})]})]})})]})]})}function w3e(){const{id:t}=b5(),[e,r]=F.useState(null),[n,i]=F.useState(null),[s,a]=F.useState([]),[o,l]=F.useState(!0);if(F.useEffect(()=>{async function u(){l(!0);try{const p=ir(pt,"products",t),g=await Ci(p);if(g.exists()){const m=g.data();if(r({id:t,...m}),m.pharmacyId){const E=ir(pt,"pharmacies",m.pharmacyId),L=await Ci(E);L.exists()&&i({id:m.pharmacyId,...L.data()})}const y=lr(pt,"products",t,"reviews"),w=Tr(y,aa("createdAt","desc")),_=await Ln(w);a(_.docs.map(E=>({id:E.id,...E.data()})))}}catch{}l(!1)}u()},[t]),o)return f.jsx("div",{className:"min-h-screen flex items-center justify-center text-zinc-400 font-poppins",children:"Loading"});if(!e)return f.jsx("div",{className:"min-h-screen flex items-center justify-center text-zinc-400 font-poppins",children:"Product not found."});const c=Number(e.price||0);return f.jsx("div",{className:"min-h-screen bg-white",children:f.jsxs("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0 pt-8 pb-36",children:[f.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[f.jsx(Cu,{className:"h-5 w-5 text-zinc-500 cursor-pointer",onClick:()=>window.history.back()}),f.jsx("span",{className:"font-poppins text-[18px] font-medium",children:"Product Preview"})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[f.jsxs("div",{className:"rounded-2xl p-4 border flex flex-col items-center justify-center w-full card-interactive",children:[e.image?f.jsx("img",{src:e.image,alt:e.name,className:"max-h-[360px] w-full object-contain"}):f.jsx("div",{className:"h-[200px] w-full flex items-center justify-center bg-zinc-100 rounded-md text-3xl font-semibold text-zinc-800",children:f.jsx(Pl,{name:e.name,image:e.image,category:e.category,size:80,roundedClass:"rounded-md"})}),f.jsx("div",{className:"w-full mt-4 flex flex-col gap-3",children:f.jsx("div",{className:"w-full h-10 rounded-full bg-sky-100 text-sky-700 text-[14px] font-poppins font-light shadow-sm flex items-center justify-center",children:"Preview Only"})})]}),f.jsxs("div",{className:"flex flex-col",children:[f.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[f.jsx("h1",{className:"text-[20px] lg:text-[22px] font-poppins font-medium tracking-tight leading-tight min-w-0",children:e.name}),f.jsxs("div",{className:"text-[20px] text-sky-600 font-poppins font-semibold",children:["",c.toLocaleString()]})]}),f.jsx("div",{className:"mb-2",children:n?f.jsx("span",{className:"text-sky-600 underline font-poppins text-[15px] font-light",children:n.name}):f.jsx("span",{className:"text-zinc-400 font-poppins text-[15px] font-light",children:"Pharmacy info unavailable"})}),f.jsxs("div",{className:"mb-1 flex items-center gap-2 text-zinc-600 text-[13px] font-poppins font-light",children:[f.jsx(ic,{className:"h-4 w-4 flex-shrink-0"}),f.jsx("span",{children:n?.address||"Address unavailable"})]}),f.jsxs("div",{className:"mt-2",children:[f.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800",children:"Product Description"}),f.jsx("p",{className:"mt-2 text-zinc-600 leading-6 font-poppins text-[14px] font-light",children:e.description})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 mb-2",children:"Customer Reviews"}),f.jsx("div",{className:"space-y-4 mb-6",children:s.length===0?f.jsx("div",{className:"p-4 text-center text-zinc-400",children:"No reviews yet."}):s.map((u,p)=>f.jsxs("div",{className:"p-4 rounded-xl border border-sky-100",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"font-poppins font-semibold text-[14px] text-zinc-700",children:u.name}),f.jsxs("span",{className:"flex gap-0.5 text-amber-400 text-[13px]",children:["".repeat(u.rating),"".repeat(5-u.rating)]})]}),f.jsx("div",{className:"text-zinc-600 text-[13px] font-poppins font-light",children:u.comment})]},u.id||p))})]})]})]})]})})}function _3e(){const t=Ll(),e=Jn(),{user:r,profile:n,loading:i}=wn(),{getSetting:s}=Y2(),[a,o]=F.useState(t.pathname),[l,c]=F.useState(0),[u,p]=F.useState(0),[g,m]=F.useState(0),{newOrder:y,showNotification:w,clearNotification:_}=uve();F.useEffect(()=>o(t.pathname),[t.pathname]),F.useEffect(()=>{if(!r||i||n&&n.role==="pharmacy")return c(0);const C=Tr(lr(pt,"users",r.uid,"cart"));return Kn(C,N=>c(N.size))},[r,n,i]),F.useEffect(()=>{if(!r||i||!n||n.role!=="pharmacy")return m(0);const C=n.uid||r.uid,D=Tr(lr(pt,"orders"),zr("pharmacyId","==",C));return Kn(D,j=>{const B=j.docs.filter(te=>{const _e=te.data().status?.toLowerCase()||"pending";return!["processing","shipped","fulfilled","cancelled"].includes(_e)});m(B.length)})},[r,n]),F.useEffect(()=>{if(!r||i||!n?.role)return p(0);const C=Y5({uid:r.uid,role:n.role},D=>{try{const N=D.reduce((j,B)=>{const te=B?.unread?.[r.uid];return j+(typeof te=="number"?te:0)},0);p(N),console.debug("[AppLayout] unread total from listenUserThreads",{sum:N,count:D.length})}catch(N){console.error("[AppLayout] error computing unread from threads",N)}},D=>console.error("[AppLayout] listenUserThreads error",D));return()=>C&&C()},[r,n?.role,i]);const L=!!new URLSearchParams(t.search).get("chat"),I=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugBottomNav")==="1";F.useEffect(()=>{I&&console.debug("[AppLayout] render",{chatModalOpen:L,unreadMessages:u,tab:a,cartCount:l})},[I,L,u,a,l]);const V=C=>{e("/orders")},G=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,X=s(Nr.SWIPE_NAVIGATION),R=G&&X,A=i||r&&n===void 0;return f.jsxs("div",{className:`min-h-screen bg-white w-full flex flex-col items-center px-2 md:px-8 lg:px-16 xl:px-32 ${L?"":"pb-24"}`,children:[f.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto flex-1 flex flex-col",children:R?f.jsx(E1e,{}):f.jsx(Zb,{})}),!L&&!A&&f.jsx(f.Fragment,{children:f.jsx(L1e,{tab:a,setTab:C=>e(C),cartCount:l,unreadMessages:u,ordersCount:g})}),I&&f.jsxs("div",{className:"fixed bottom-24 right-4 z-60 bg-black/80 text-white text-xs px-3 py-1 rounded",children:["AppDebug: chatModalOpen=",String(L)," unread=",String(u)]}),f.jsx(cve,{order:y,isOpen:w,onClose:_,onViewOrder:V})]})}function e_(){return f.jsx("div",{className:"min-h-screen bg-white w-full flex flex-col items-center px-2 md:px-8 lg:px-16 xl:px-32",children:f.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto flex-1 flex flex-col",children:f.jsx(Zb,{})})})}function b3e(){const{id:t}=b5(),[e,r]=F.useState(null),[n,i]=F.useState(null);return F.useEffect(()=>{async function s(){const o=(await Ci(ir(pt,"products",t))).data();if(r(o?{id:t,...o}:null),o?.pharmacyId){const l=await Ci(ir(pt,"pharmacies",o.pharmacyId));i(l.data())}}s()},[t]),e?f.jsx(F1e,{product:e,pharmacy:n}):null}function k3e(){const{profile:t}=wn();return t?t.role==="pharmacy"?f.jsx(JM,{onSwitchToCustomer:()=>{}}):f.jsx(Fj,{onSwitchToPharmacy:()=>{}}):null}function S3e(){const{user:t,profile:e,loading:r}=wn();return r?f.jsx(hve,{}):t?e?.role==="pharmacy"?f.jsx(ZM,{}):e?.role==="customer"?f.jsx(U_,{}):e?.role==="superuser"?f.jsx(zh,{to:"/superuser",replace:!0}):f.jsx(U_,{}):f.jsx(zh,{to:"/auth/onboarding",replace:!0})}function E3e(){const{user:t,profile:e}=wn(),r=Ll(),n=new URLSearchParams(r.search);return n.get("scrollTo")&&parseInt(n.get("scrollTo"),10),t&&e===void 0?f.jsx(F1,{lines:4,className:"my-8"}):t&&!t.emailVerified?f.jsxs(P9,{children:[f.jsx(Bn,{path:"/verify-email",element:f.jsx(g3e,{})}),f.jsx(Bn,{path:"*",element:f.jsx(zh,{to:"/verify-email",replace:!0})})]}):e&&e.role==="superuser"&&r.pathname==="/"?f.jsx(zh,{to:"/superuser",replace:!0}):f.jsxs(P9,{children:[f.jsxs(Bn,{element:f.jsx(e_,{}),children:[f.jsx(Bn,{path:"/auth/onboarding",element:f.jsx(c3e,{})}),f.jsx(Bn,{path:"/auth/landing",element:f.jsx(Ywe,{})}),f.jsx(Bn,{path:"/auth/customer/register",element:f.jsx(d3e,{})}),f.jsx(Bn,{path:"/auth/customer/signin",element:f.jsx(f3e,{})}),f.jsx(Bn,{path:"/auth/pharmacy/register",element:f.jsx(h3e,{})}),f.jsx(Bn,{path:"/auth/pharmacy/signin",element:f.jsx(m3e,{})}),f.jsx(Bn,{path:"/auth/forgot-password",element:f.jsx(x3e,{})}),f.jsx(Bn,{path:"/auth",element:f.jsx(zh,{to:"/auth/onboarding",replace:!0})}),f.jsx(Bn,{path:"/chat/:vendorId",element:f.jsx(uu,{children:f.jsx(vN,{})})}),f.jsx(Bn,{path:"/thread/:threadId",element:f.jsx(uu,{children:f.jsx(vN,{})})})]}),f.jsx(Bn,{element:f.jsx(e_,{}),children:f.jsx(Bn,{path:"/superuser",element:f.jsx(uu,{children:f.jsx(dve,{})})})}),f.jsxs(Bn,{element:f.jsx(_3e,{}),children:[f.jsx(Bn,{path:"/",element:f.jsx(S3e,{})}),f.jsx(Bn,{path:"/vendor/:id",element:f.jsx(y3e,{})}),f.jsx(Bn,{path:"/product/:id",element:f.jsx(b3e,{})}),f.jsx(Bn,{path:"/pharmacy-map",element:f.jsx(uu,{children:f.jsx(fve,{})})}),f.jsx(Bn,{path:"/add-product",element:f.jsx(uu,{children:f.jsx(v3e,{})})}),f.jsx(Bn,{path:"/messages",element:f.jsx(uu,{children:f.jsx(Ij,{})})}),f.jsx(Bn,{path:"/cart",element:f.jsx(uu,{children:e&&e.role==="pharmacy"?f.jsx(zh,{to:"/"}):f.jsx(Pj,{})})}),f.jsx(Bn,{path:"/orders",element:f.jsx(uu,{children:f.jsx(Nj,{})})}),f.jsx(Bn,{path:"/profile",element:f.jsx(uu,{children:f.jsx(k3e,{})})}),f.jsx(Bn,{path:"/settings",element:f.jsx(uu,{children:f.jsx(ave,{})})})]}),f.jsx(Bn,{element:f.jsx(e_,{}),children:f.jsx(Bn,{path:"/product-preview/:id",element:f.jsx(w3e,{})})}),f.jsx(Bn,{path:"*",element:f.jsx(zh,{to:"/",replace:!0})})]})}function C3e(){return C1e(),f.jsxs(ZZ,{children:[f.jsx(lve,{}),f.jsx(E3e,{}),f.jsx(rV,{})]})}Sz.createRoot(document.getElementById("root")).render(f.jsx(S$,{children:f.jsx(bee,{children:f.jsx(See,{children:f.jsx(C3e,{})})})}));export{fee as G,Aj as M,Xn as _,T3e as a,Xr as c,DI as g,f as j,F as r};
