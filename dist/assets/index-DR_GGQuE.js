function kz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var F3e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hw={exports:{}},$m={},pw={exports:{}},dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function Sz(){if(bS)return dn;bS=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function _(G,I,z){this.props=G,this.context=I,this.refs=w,this.updater=z||m}_.prototype.isReactComponent={},_.prototype.setState=function(G,I){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,I,"setState")},_.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=_.prototype;function P(G,I,z){this.props=G,this.context=I,this.refs=w,this.updater=z||m}var A=P.prototype=new S;A.constructor=P,y(A,_.prototype),A.isPureReactComponent=!0;var V=Array.isArray,W=Object.prototype.hasOwnProperty,K={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function T(G,I,z){var X,J={},ce=null,we=null;if(I!=null)for(X in I.ref!==void 0&&(we=I.ref),I.key!==void 0&&(ce=""+I.key),I)W.call(I,X)&&!j.hasOwnProperty(X)&&(J[X]=I[X]);var ke=arguments.length-2;if(ke===1)J.children=z;else if(1<ke){for(var oe=Array(ke),Ee=0;Ee<ke;Ee++)oe[Ee]=arguments[Ee+2];J.children=oe}if(G&&G.defaultProps)for(X in ke=G.defaultProps,ke)J[X]===void 0&&(J[X]=ke[X]);return{$$typeof:t,type:G,key:ce,ref:we,props:J,_owner:K.current}}function C(G,I){return{$$typeof:t,type:G.type,key:I,ref:G.ref,props:G.props,_owner:G._owner}}function D(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function R(G){var I={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(z){return I[z]})}var F=/\/+/g;function B(G,I){return typeof G=="object"&&G!==null&&G.key!=null?R(""+G.key):I.toString(36)}function ee(G,I,z,X,J){var ce=typeof G;(ce==="undefined"||ce==="boolean")&&(G=null);var we=!1;if(G===null)we=!0;else switch(ce){case"string":case"number":we=!0;break;case"object":switch(G.$$typeof){case t:case e:we=!0}}if(we)return we=G,J=J(we),G=X===""?"."+B(we,0):X,V(J)?(z="",G!=null&&(z=G.replace(F,"$&/")+"/"),ee(J,I,z,"",function(Ee){return Ee})):J!=null&&(D(J)&&(J=C(J,z+(!J.key||we&&we.key===J.key?"":(""+J.key).replace(F,"$&/")+"/")+G)),I.push(J)),1;if(we=0,X=X===""?".":X+":",V(G))for(var ke=0;ke<G.length;ke++){ce=G[ke];var oe=X+B(ce,ke);we+=ee(ce,I,z,oe,J)}else if(oe=g(G),typeof oe=="function")for(G=oe.call(G),ke=0;!(ce=G.next()).done;)ce=ce.value,oe=X+B(ce,ke++),we+=ee(ce,I,z,oe,J);else if(ce==="object")throw I=String(G),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return we}function he(G,I,z){if(G==null)return G;var X=[],J=0;return ee(G,X,"","",function(ce){return I.call(z,ce,J++)}),X}function ve(G){if(G._status===-1){var I=G._result;I=I(),I.then(function(z){(G._status===0||G._status===-1)&&(G._status=1,G._result=z)},function(z){(G._status===0||G._status===-1)&&(G._status=2,G._result=z)}),G._status===-1&&(G._status=0,G._result=I)}if(G._status===1)return G._result.default;throw G._result}var fe={current:null},se={transition:null},Y={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:se,ReactCurrentOwner:K};function ie(){throw Error("act(...) is not supported in production builds of React.")}return dn.Children={map:he,forEach:function(G,I,z){he(G,function(){I.apply(this,arguments)},z)},count:function(G){var I=0;return he(G,function(){I++}),I},toArray:function(G){return he(G,function(I){return I})||[]},only:function(G){if(!D(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},dn.Component=_,dn.Fragment=r,dn.Profiler=i,dn.PureComponent=P,dn.StrictMode=n,dn.Suspense=l,dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,dn.act=ie,dn.cloneElement=function(G,I,z){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var X=y({},G.props),J=G.key,ce=G.ref,we=G._owner;if(I!=null){if(I.ref!==void 0&&(ce=I.ref,we=K.current),I.key!==void 0&&(J=""+I.key),G.type&&G.type.defaultProps)var ke=G.type.defaultProps;for(oe in I)W.call(I,oe)&&!j.hasOwnProperty(oe)&&(X[oe]=I[oe]===void 0&&ke!==void 0?ke[oe]:I[oe])}var oe=arguments.length-2;if(oe===1)X.children=z;else if(1<oe){ke=Array(oe);for(var Ee=0;Ee<oe;Ee++)ke[Ee]=arguments[Ee+2];X.children=ke}return{$$typeof:t,type:G.type,key:J,ref:ce,props:X,_owner:we}},dn.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},dn.createElement=T,dn.createFactory=function(G){var I=T.bind(null,G);return I.type=G,I},dn.createRef=function(){return{current:null}},dn.forwardRef=function(G){return{$$typeof:o,render:G}},dn.isValidElement=D,dn.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:ve}},dn.memo=function(G,I){return{$$typeof:c,type:G,compare:I===void 0?null:I}},dn.startTransition=function(G){var I=se.transition;se.transition={};try{G()}finally{se.transition=I}},dn.unstable_act=ie,dn.useCallback=function(G,I){return fe.current.useCallback(G,I)},dn.useContext=function(G){return fe.current.useContext(G)},dn.useDebugValue=function(){},dn.useDeferredValue=function(G){return fe.current.useDeferredValue(G)},dn.useEffect=function(G,I){return fe.current.useEffect(G,I)},dn.useId=function(){return fe.current.useId()},dn.useImperativeHandle=function(G,I,z){return fe.current.useImperativeHandle(G,I,z)},dn.useInsertionEffect=function(G,I){return fe.current.useInsertionEffect(G,I)},dn.useLayoutEffect=function(G,I){return fe.current.useLayoutEffect(G,I)},dn.useMemo=function(G,I){return fe.current.useMemo(G,I)},dn.useReducer=function(G,I,z){return fe.current.useReducer(G,I,z)},dn.useRef=function(G){return fe.current.useRef(G)},dn.useState=function(G){return fe.current.useState(G)},dn.useSyncExternalStore=function(G,I,z){return fe.current.useSyncExternalStore(G,I,z)},dn.useTransition=function(){return fe.current.useTransition()},dn.version="18.3.1",dn}var kS;function b5(){return kS||(kS=1,pw.exports=Sz()),pw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function Ez(){if(SS)return $m;SS=1;var t=b5(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var d,p={},g=null,m=null;c!==void 0&&(g=""+c),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)n.call(l,d)&&!s.hasOwnProperty(d)&&(p[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)p[d]===void 0&&(p[d]=l[d]);return{$$typeof:e,type:o,key:g,ref:m,props:p,_owner:i.current}}return $m.Fragment=r,$m.jsx=a,$m.jsxs=a,$m}var ES;function Cz(){return ES||(ES=1,hw.exports=Ez()),hw.exports}var u=Cz(),L=b5();const bi=qI(L),gy=kz({__proto__:null,default:bi},[L]);var Zx={},mw={exports:{}},nl={},gw={exports:{}},xw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CS;function Nz(){return CS||(CS=1,(function(t){function e(se,Y){var ie=se.length;se.push(Y);e:for(;0<ie;){var G=ie-1>>>1,I=se[G];if(0<i(I,Y))se[G]=Y,se[ie]=I,ie=G;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var Y=se[0],ie=se.pop();if(ie!==Y){se[0]=ie;e:for(var G=0,I=se.length,z=I>>>1;G<z;){var X=2*(G+1)-1,J=se[X],ce=X+1,we=se[ce];if(0>i(J,ie))ce<I&&0>i(we,J)?(se[G]=we,se[ce]=ie,G=ce):(se[G]=J,se[X]=ie,G=X);else if(ce<I&&0>i(we,ie))se[G]=we,se[ce]=ie,G=ce;else break e}}return Y}function i(se,Y){var ie=se.sortIndex-Y.sortIndex;return ie!==0?ie:se.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,p=null,g=3,m=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(se){for(var Y=r(c);Y!==null;){if(Y.callback===null)n(c);else if(Y.startTime<=se)n(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=r(c)}}function V(se){if(w=!1,A(se),!y)if(r(l)!==null)y=!0,ve(W);else{var Y=r(c);Y!==null&&fe(V,Y.startTime-se)}}function W(se,Y){y=!1,w&&(w=!1,S(T),T=-1),m=!0;var ie=g;try{for(A(Y),p=r(l);p!==null&&(!(p.expirationTime>Y)||se&&!R());){var G=p.callback;if(typeof G=="function"){p.callback=null,g=p.priorityLevel;var I=G(p.expirationTime<=Y);Y=t.unstable_now(),typeof I=="function"?p.callback=I:p===r(l)&&n(l),A(Y)}else n(l);p=r(l)}if(p!==null)var z=!0;else{var X=r(c);X!==null&&fe(V,X.startTime-Y),z=!1}return z}finally{p=null,g=ie,m=!1}}var K=!1,j=null,T=-1,C=5,D=-1;function R(){return!(t.unstable_now()-D<C)}function F(){if(j!==null){var se=t.unstable_now();D=se;var Y=!0;try{Y=j(!0,se)}finally{Y?B():(K=!1,j=null)}}else K=!1}var B;if(typeof P=="function")B=function(){P(F)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,he=ee.port2;ee.port1.onmessage=F,B=function(){he.postMessage(null)}}else B=function(){_(F,0)};function ve(se){j=se,K||(K=!0,B())}function fe(se,Y){T=_(function(){se(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ve(W))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(se){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var ie=g;g=Y;try{return se()}finally{g=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,Y){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ie=g;g=se;try{return Y()}finally{g=ie}},t.unstable_scheduleCallback=function(se,Y,ie){var G=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?G+ie:G):ie=G,se){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ie+I,se={id:d++,callback:Y,priorityLevel:se,startTime:ie,expirationTime:I,sortIndex:-1},ie>G?(se.sortIndex=ie,e(c,se),r(l)===null&&se===r(c)&&(w?(S(T),T=-1):w=!0,fe(V,ie-G))):(se.sortIndex=I,e(l,se),y||m||(y=!0,ve(W))),se},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(se){var Y=g;return function(){var ie=g;g=Y;try{return se.apply(this,arguments)}finally{g=ie}}}})(xw)),xw}var NS;function Tz(){return NS||(NS=1,gw.exports=Nz()),gw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS;function Az(){if(TS)return nl;TS=1;var t=b5(),e=Tz();function r(f){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+f,x=1;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(f,h){a(f,h),a(f+"Capture",h)}function a(f,h){for(i[f]=h,f=0;f<h.length;f++)n.add(h[f])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(f){return l.call(p,f)?!0:l.call(d,f)?!1:c.test(f)?p[f]=!0:(d[f]=!0,!1)}function m(f,h,x,E){if(x!==null&&x.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return E?!1:x!==null?!x.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function y(f,h,x,E){if(h===null||typeof h>"u"||m(f,h,x,E))return!0;if(E)return!1;if(x!==null)switch(x.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function w(f,h,x,E,O,H,ue){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=E,this.attributeNamespace=O,this.mustUseProperty=x,this.propertyName=f,this.type=h,this.sanitizeURL=H,this.removeEmptyString=ue}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){_[f]=new w(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var h=f[0];_[h]=new w(h,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){_[f]=new w(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){_[f]=new w(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){_[f]=new w(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){_[f]=new w(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){_[f]=new w(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){_[f]=new w(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){_[f]=new w(f,5,!1,f.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var h=f.replace(S,P);_[h]=new w(h,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var h=f.replace(S,P);_[h]=new w(h,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var h=f.replace(S,P);_[h]=new w(h,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){_[f]=new w(f,1,!1,f.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){_[f]=new w(f,1,!1,f.toLowerCase(),null,!0,!0)});function A(f,h,x,E){var O=_.hasOwnProperty(h)?_[h]:null;(O!==null?O.type!==0:E||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(y(h,x,O,E)&&(x=null),E||O===null?g(h)&&(x===null?f.removeAttribute(h):f.setAttribute(h,""+x)):O.mustUseProperty?f[O.propertyName]=x===null?O.type===3?!1:"":x:(h=O.attributeName,E=O.attributeNamespace,x===null?f.removeAttribute(h):(O=O.type,x=O===3||O===4&&x===!0?"":""+x,E?f.setAttributeNS(E,h,x):f.setAttribute(h,x))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),K=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),he=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),se=Symbol.iterator;function Y(f){return f===null||typeof f!="object"?null:(f=se&&f[se]||f["@@iterator"],typeof f=="function"?f:null)}var ie=Object.assign,G;function I(f){if(G===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);G=h&&h[1]||""}return`
`+G+f}var z=!1;function X(f,h){if(!f||z)return"";z=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ft){var E=ft}Reflect.construct(f,[],h)}else{try{h.call()}catch(ft){E=ft}f.call(h.prototype)}else{try{throw Error()}catch(ft){E=ft}f()}}catch(ft){if(ft&&E&&typeof ft.stack=="string"){for(var O=ft.stack.split(`
`),H=E.stack.split(`
`),ue=O.length-1,De=H.length-1;1<=ue&&0<=De&&O[ue]!==H[De];)De--;for(;1<=ue&&0<=De;ue--,De--)if(O[ue]!==H[De]){if(ue!==1||De!==1)do if(ue--,De--,0>De||O[ue]!==H[De]){var Ue=`
`+O[ue].replace(" at new "," at ");return f.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",f.displayName)),Ue}while(1<=ue&&0<=De);break}}}finally{z=!1,Error.prepareStackTrace=x}return(f=f?f.displayName||f.name:"")?I(f):""}function J(f){switch(f.tag){case 5:return I(f.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return f=X(f.type,!1),f;case 11:return f=X(f.type.render,!1),f;case 1:return f=X(f.type,!0),f;default:return""}}function ce(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case j:return"Fragment";case K:return"Portal";case C:return"Profiler";case T:return"StrictMode";case B:return"Suspense";case ee:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case R:return(f.displayName||"Context")+".Consumer";case D:return(f._context.displayName||"Context")+".Provider";case F:var h=f.render;return f=f.displayName,f||(f=h.displayName||h.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case he:return h=f.displayName||null,h!==null?h:ce(f.type)||"Memo";case ve:h=f._payload,f=f._init;try{return ce(f(h))}catch{}}return null}function we(f){var h=f.type;switch(f.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=h.render,f=f.displayName||f.name||"",h.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(h);case 8:return h===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function ke(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function oe(f){var h=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Ee(f){var h=oe(f)?"checked":"value",x=Object.getOwnPropertyDescriptor(f.constructor.prototype,h),E=""+f[h];if(!f.hasOwnProperty(h)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,H=x.set;return Object.defineProperty(f,h,{configurable:!0,get:function(){return O.call(this)},set:function(ue){E=""+ue,H.call(this,ue)}}),Object.defineProperty(f,h,{enumerable:x.enumerable}),{getValue:function(){return E},setValue:function(ue){E=""+ue},stopTracking:function(){f._valueTracker=null,delete f[h]}}}}function Oe(f){f._valueTracker||(f._valueTracker=Ee(f))}function re(f){if(!f)return!1;var h=f._valueTracker;if(!h)return!0;var x=h.getValue(),E="";return f&&(E=oe(f)?f.checked?"true":"false":f.value),f=E,f!==x?(h.setValue(f),!0):!1}function _e(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Re(f,h){var x=h.checked;return ie({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??f._wrapperState.initialChecked})}function pe(f,h){var x=h.defaultValue==null?"":h.defaultValue,E=h.checked!=null?h.checked:h.defaultChecked;x=ke(h.value!=null?h.value:x),f._wrapperState={initialChecked:E,initialValue:x,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Ye(f,h){h=h.checked,h!=null&&A(f,"checked",h,!1)}function ze(f,h){Ye(f,h);var x=ke(h.value),E=h.type;if(x!=null)E==="number"?(x===0&&f.value===""||f.value!=x)&&(f.value=""+x):f.value!==""+x&&(f.value=""+x);else if(E==="submit"||E==="reset"){f.removeAttribute("value");return}h.hasOwnProperty("value")?Ve(f,h.type,x):h.hasOwnProperty("defaultValue")&&Ve(f,h.type,ke(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(f.defaultChecked=!!h.defaultChecked)}function ot(f,h,x){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var E=h.type;if(!(E!=="submit"&&E!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+f._wrapperState.initialValue,x||h===f.value||(f.value=h),f.defaultValue=h}x=f.name,x!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,x!==""&&(f.name=x)}function Ve(f,h,x){(h!=="number"||_e(f.ownerDocument)!==f)&&(x==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+x&&(f.defaultValue=""+x))}var He=Array.isArray;function ut(f,h,x,E){if(f=f.options,h){h={};for(var O=0;O<x.length;O++)h["$"+x[O]]=!0;for(x=0;x<f.length;x++)O=h.hasOwnProperty("$"+f[x].value),f[x].selected!==O&&(f[x].selected=O),O&&E&&(f[x].defaultSelected=!0)}else{for(x=""+ke(x),h=null,O=0;O<f.length;O++){if(f[O].value===x){f[O].selected=!0,E&&(f[O].defaultSelected=!0);return}h!==null||f[O].disabled||(h=f[O])}h!==null&&(h.selected=!0)}}function Et(f,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},h,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function St(f,h){var x=h.value;if(x==null){if(x=h.children,h=h.defaultValue,x!=null){if(h!=null)throw Error(r(92));if(He(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),x=h}f._wrapperState={initialValue:ke(x)}}function je(f,h){var x=ke(h.value),E=ke(h.defaultValue);x!=null&&(x=""+x,x!==f.value&&(f.value=x),h.defaultValue==null&&f.defaultValue!==x&&(f.defaultValue=x)),E!=null&&(f.defaultValue=""+E)}function Ke(f){var h=f.textContent;h===f._wrapperState.initialValue&&h!==""&&h!==null&&(f.value=h)}function Qe(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(f,h){return f==null||f==="http://www.w3.org/1999/xhtml"?Qe(h):f==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var Le,We=(function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,x,E,O){MSApp.execUnsafeLocalFunction(function(){return f(h,x,E,O)})}:f})(function(f,h){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=h;else{for(Le=Le||document.createElement("div"),Le.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Le.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;h.firstChild;)f.appendChild(h.firstChild)}});function lt(f,h){if(h){var x=f.firstChild;if(x&&x===f.lastChild&&x.nodeType===3){x.nodeValue=h;return}}f.textContent=h}var xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ut=["Webkit","ms","Moz","O"];Object.keys(xt).forEach(function(f){Ut.forEach(function(h){h=h+f.charAt(0).toUpperCase()+f.substring(1),xt[h]=xt[f]})});function Kt(f,h,x){return h==null||typeof h=="boolean"||h===""?"":x||typeof h!="number"||h===0||xt.hasOwnProperty(f)&&xt[f]?(""+h).trim():h+"px"}function Ct(f,h){f=f.style;for(var x in h)if(h.hasOwnProperty(x)){var E=x.indexOf("--")===0,O=Kt(x,h[x],E);x==="float"&&(x="cssFloat"),E?f.setProperty(x,O):f[x]=O}}var Mt=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pr(f,h){if(h){if(Mt[f]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,f));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function Zt(f,h){if(f.indexOf("-")===-1)return typeof h.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function _r(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Pn=null,pn=null,$r=null;function cr(f){if(f=Jd(f)){if(typeof Pn!="function")throw Error(r(280));var h=f.stateNode;h&&(h=Nh(h),Pn(f.stateNode,f.type,h))}}function Wr(f){pn?$r?$r.push(f):$r=[f]:pn=f}function na(){if(pn){var f=pn,h=$r;if($r=pn=null,cr(f),h)for(f=0;f<h.length;f++)cr(h[f])}}function li(f,h){return f(h)}function Ss(){}var ci=!1;function gr(f,h,x){if(ci)return f(h,x);ci=!0;try{return li(f,h,x)}finally{ci=!1,(pn!==null||$r!==null)&&(Ss(),na())}}function wn(f,h){var x=f.stateNode;if(x===null)return null;var E=Nh(x);if(E===null)return null;x=E[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(f=f.type,E=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!E;break e;default:f=!1}if(f)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var Es=!1;if(o)try{var Bn={};Object.defineProperty(Bn,"passive",{get:function(){Es=!0}}),window.addEventListener("test",Bn,Bn),window.removeEventListener("test",Bn,Bn)}catch{Es=!1}function tn(f,h,x,E,O,H,ue,De,Ue){var ft=Array.prototype.slice.call(arguments,3);try{h.apply(x,ft)}catch(Lt){this.onError(Lt)}}var Sn=!1,Xn=null,le=!1,Ae=null,be={onError:function(f){Sn=!0,Xn=f}};function Se(f,h,x,E,O,H,ue,De,Ue){Sn=!1,Xn=null,tn.apply(be,arguments)}function Pe(f,h,x,E,O,H,ue,De,Ue){if(Se.apply(this,arguments),Sn){if(Sn){var ft=Xn;Sn=!1,Xn=null}else throw Error(r(198));le||(le=!0,Ae=ft)}}function Ie(f){var h=f,x=f;if(f.alternate)for(;h.return;)h=h.return;else{f=h;do h=f,(h.flags&4098)!==0&&(x=h.return),f=h.return;while(f)}return h.tag===3?x:null}function Xe(f){if(f.tag===13){var h=f.memoizedState;if(h===null&&(f=f.alternate,f!==null&&(h=f.memoizedState)),h!==null)return h.dehydrated}return null}function dt(f){if(Ie(f)!==f)throw Error(r(188))}function tt(f){var h=f.alternate;if(!h){if(h=Ie(f),h===null)throw Error(r(188));return h!==f?null:f}for(var x=f,E=h;;){var O=x.return;if(O===null)break;var H=O.alternate;if(H===null){if(E=O.return,E!==null){x=E;continue}break}if(O.child===H.child){for(H=O.child;H;){if(H===x)return dt(O),f;if(H===E)return dt(O),h;H=H.sibling}throw Error(r(188))}if(x.return!==E.return)x=O,E=H;else{for(var ue=!1,De=O.child;De;){if(De===x){ue=!0,x=O,E=H;break}if(De===E){ue=!0,E=O,x=H;break}De=De.sibling}if(!ue){for(De=H.child;De;){if(De===x){ue=!0,x=H,E=O;break}if(De===E){ue=!0,E=H,x=O;break}De=De.sibling}if(!ue)throw Error(r(189))}}if(x.alternate!==E)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?f:h}function et(f){return f=tt(f),f!==null?at(f):null}function at(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var h=at(f);if(h!==null)return h;f=f.sibling}return null}var Tt=e.unstable_scheduleCallback,Vt=e.unstable_cancelCallback,Ht=e.unstable_shouldYield,Dt=e.unstable_requestPaint,It=e.unstable_now,br=e.unstable_getCurrentPriorityLevel,qr=e.unstable_ImmediatePriority,Fr=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,xa=e.unstable_LowPriority,va=e.unstable_IdlePriority,$s=null,Fe=null;function Bt(f){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot($s,f,void 0,(f.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Qr,er=Math.log,hr=Math.LN2;function Qr(f){return f>>>=0,f===0?32:31-(er(f)/hr|0)|0}var xi=64,Rn=4194304;function gn(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function En(f,h){var x=f.pendingLanes;if(x===0)return 0;var E=0,O=f.suspendedLanes,H=f.pingedLanes,ue=x&268435455;if(ue!==0){var De=ue&~O;De!==0?E=gn(De):(H&=ue,H!==0&&(E=gn(H)))}else ue=x&~O,ue!==0?E=gn(ue):H!==0&&(E=gn(H));if(E===0)return 0;if(h!==0&&h!==E&&(h&O)===0&&(O=E&-E,H=h&-h,O>=H||O===16&&(H&4194240)!==0))return h;if((E&4)!==0&&(E|=x&16),h=f.entangledLanes,h!==0)for(f=f.entanglements,h&=E;0<h;)x=31-Yt(h),O=1<<x,E|=f[x],h&=~O;return E}function Oi(f,h){switch(f){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(f,h){for(var x=f.suspendedLanes,E=f.pingedLanes,O=f.expirationTimes,H=f.pendingLanes;0<H;){var ue=31-Yt(H),De=1<<ue,Ue=O[ue];Ue===-1?((De&x)===0||(De&E)!==0)&&(O[ue]=Oi(De,h)):Ue<=h&&(f.expiredLanes|=De),H&=~De}}function Si(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function ya(){var f=xi;return xi<<=1,(xi&4194240)===0&&(xi=64),f}function Lo(f){for(var h=[],x=0;31>x;x++)h.push(f);return h}function Fo(f,h,x){f.pendingLanes|=h,h!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,h=31-Yt(h),f[h]=x}function nn(f,h){var x=f.pendingLanes&~h;f.pendingLanes=h,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=h,f.mutableReadLanes&=h,f.entangledLanes&=h,h=f.entanglements;var E=f.eventTimes;for(f=f.expirationTimes;0<x;){var O=31-Yt(x),H=1<<O;h[O]=0,E[O]=-1,f[O]=-1,x&=~H}}function hl(f,h){var x=f.entangledLanes|=h;for(f=f.entanglements;x;){var E=31-Yt(x),O=1<<E;O&h|f[E]&h&&(f[E]|=h),x&=~O}}var en=0;function Oa(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var Xc,Qc,Vd,Bd,Jc,pl=!1,ia=[],Cs=null,sa=null,Ma=null,Cr=new Map,to=new Map,Go=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(f,h){switch(f){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":Ma=null;break;case"pointerover":case"pointerout":Cr.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(h.pointerId)}}function Mi(f,h,x,E,O,H){return f===null||f.nativeEvent!==H?(f={blockedOn:h,domEventName:x,eventSystemFlags:E,nativeEvent:H,targetContainers:[O]},h!==null&&(h=Jd(h),h!==null&&Qc(h)),f):(f.eventSystemFlags|=E,h=f.targetContainers,O!==null&&h.indexOf(O)===-1&&h.push(O),f)}function ml(f,h,x,E,O){switch(h){case"focusin":return Cs=Mi(Cs,f,h,x,E,O),!0;case"dragenter":return sa=Mi(sa,f,h,x,E,O),!0;case"mouseover":return Ma=Mi(Ma,f,h,x,E,O),!0;case"pointerover":var H=O.pointerId;return Cr.set(H,Mi(Cr.get(H)||null,f,h,x,E,O)),!0;case"gotpointercapture":return H=O.pointerId,to.set(H,Mi(to.get(H)||null,f,h,x,E,O)),!0}return!1}function zd(f){var h=au(f.target);if(h!==null){var x=Ie(h);if(x!==null){if(h=x.tag,h===13){if(h=Xe(x),h!==null){f.blockedOn=h,Jc(f.priority,function(){Vd(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){f.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}f.blockedOn=null}function gl(f){if(f.blockedOn!==null)return!1;for(var h=f.targetContainers;0<h.length;){var x=zl(f.domEventName,f.eventSystemFlags,h[0],f.nativeEvent);if(x===null){x=f.nativeEvent;var E=new x.constructor(x.type,x);wr=E,x.target.dispatchEvent(E),wr=null}else return h=Jd(x),h!==null&&Qc(h),f.blockedOn=x,!1;h.shift()}return!0}function Ko(f,h,x){gl(f)&&x.delete(h)}function Zc(){pl=!1,Cs!==null&&gl(Cs)&&(Cs=null),sa!==null&&gl(sa)&&(sa=null),Ma!==null&&gl(Ma)&&(Ma=null),Cr.forEach(Ko),to.forEach(Ko)}function aa(f,h){f.blockedOn===h&&(f.blockedOn=null,pl||(pl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zc)))}function wa(f){function h(O){return aa(O,f)}if(0<ia.length){aa(ia[0],f);for(var x=1;x<ia.length;x++){var E=ia[x];E.blockedOn===f&&(E.blockedOn=null)}}for(Cs!==null&&aa(Cs,f),sa!==null&&aa(sa,f),Ma!==null&&aa(Ma,f),Cr.forEach(h),to.forEach(h),x=0;x<Go.length;x++)E=Go[x],E.blockedOn===f&&(E.blockedOn=null);for(;0<Go.length&&(x=Go[0],x.blockedOn===null);)zd(x),x.blockedOn===null&&Go.shift()}var ro=V.ReactCurrentBatchConfig,Ul=!0;function qn(f,h,x,E){var O=en,H=ro.transition;ro.transition=null;try{en=1,xl(f,h,x,E)}finally{en=O,ro.transition=H}}function $u(f,h,x,E){var O=en,H=ro.transition;ro.transition=null;try{en=4,xl(f,h,x,E)}finally{en=O,ro.transition=H}}function xl(f,h,x,E){if(Ul){var O=zl(f,h,x,E);if(O===null)Sh(f,h,E,Do,x),Ud(f,E);else if(ml(O,f,h,x,E))E.stopPropagation();else if(Ud(f,E),h&4&&-1<xh.indexOf(f)){for(;O!==null;){var H=Jd(O);if(H!==null&&Xc(H),H=zl(f,h,x,E),H===null&&Sh(f,h,E,Do,x),H===O)break;O=H}O!==null&&E.stopPropagation()}else Sh(f,h,E,null,x)}}var Do=null;function zl(f,h,x,E){if(Do=null,f=_r(E),f=au(f),f!==null)if(h=Ie(f),h===null)f=null;else if(x=h.tag,x===13){if(f=Xe(h),f!==null)return f;f=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;f=null}else h!==f&&(f=null);return Do=f,null}function $l(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(br()){case qr:return 1;case Fr:return 4;case mn:case xa:return 16;case va:return 536870912;default:return 16}default:return 16}}var oa=null,Yo=null,qs=null;function wc(){if(qs)return qs;var f,h=Yo,x=h.length,E,O="value"in oa?oa.value:oa.textContent,H=O.length;for(f=0;f<x&&h[f]===O[f];f++);var ue=x-f;for(E=1;E<=ue&&h[x-E]===O[H-E];E++);return qs=O.slice(f,1<E?1-E:void 0)}function Hs(f){var h=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&h===13&&(f=13)):f=h,f===10&&(f=13),32<=f||f===13?f:0}function Ns(){return!0}function M(){return!1}function te(f){function h(x,E,O,H,ue){this._reactName=x,this._targetInst=O,this.type=E,this.nativeEvent=H,this.target=ue,this.currentTarget=null;for(var De in f)f.hasOwnProperty(De)&&(x=f[De],this[De]=x?x(H):H[De]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Ns:M,this.isPropagationStopped=M,this}return ie(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),h}var Ne={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Me=te(Ne),Ge=ie({},Ne,{view:0,detail:0}),_t=te(Ge),Nt,Jt,ir,kr=ie({},Ge,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==ir&&(ir&&f.type==="mousemove"?(Nt=f.screenX-ir.screenX,Jt=f.screenY-ir.screenY):Jt=Nt=0,ir=f),Nt)},movementY:function(f){return"movementY"in f?f.movementY:Jt}}),Rr=te(kr),xn=ie({},kr,{dataTransfer:0}),ui=te(xn),vi=ie({},Ge,{relatedTarget:0}),Cn=te(vi),Vi=ie({},Ne,{animationName:0,elapsedTime:0,pseudoElement:0}),Hn=te(Vi),us=ie({},Ne,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Xo=te(us),vl=ie({},Ne,{data:0}),qu=te(vl),_c={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},no={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(f){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(f):(f=no[f])?!!h[f]:!1}function Va(){return eu}var k=ie({},Ge,{key:function(f){if(f.key){var h=_c[f.key]||f.key;if(h!=="Unidentified")return h}return f.type==="keypress"?(f=Hs(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Xi[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(f){return f.type==="keypress"?Hs(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Hs(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),q=te(k),Z=ie({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xe=te(Z),Je=ie({},Ge,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),mt=te(Je),Ft=ie({},Ne,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tn=te(Ft),Ei=ie({},kr,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),sn=te(Ei),cn=[9,13,27,32],jn=o&&"CompositionEvent"in window,_a=null;o&&"documentMode"in document&&(_a=document.documentMode);var la=o&&"TextEvent"in window&&!_a,io=o&&(!jn||_a&&8<_a&&11>=_a),yl=" ",Ba=!1;function Ua(f,h){switch(f){case"keyup":return cn.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var za=!1;function ru(f,h){switch(f){case"compositionend":return tu(h);case"keypress":return h.which!==32?null:(Ba=!0,yl);case"textInput":return f=h.data,f===yl&&Ba?null:f;default:return null}}function vh(f,h){if(za)return f==="compositionend"||!jn&&Ua(f,h)?(f=wc(),qs=Yo=oa=null,za=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return io&&h.locale!=="ko"?null:h.data;default:return null}}var nu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h==="input"?!!nu[f.type]:h==="textarea"}function np(f,h,x,E){Wr(E),h=cp(h,"onChange"),0<h.length&&(x=new Me("onChange","change",null,x,E),f.push({event:x,listeners:h}))}var so=null,ao=null;function $d(f){bh(f,0)}function iu(f){var h=Ju(f);if(re(h))return f}function qd(f,h){if(f==="change")return h}var Hu=!1;if(o){var bc;if(o){var kc="oninput"in document;if(!kc){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),kc=typeof ql.oninput=="function"}bc=kc}else bc=!1;Hu=bc&&(!document.documentMode||9<document.documentMode)}function Hd(){so&&(so.detachEvent("onpropertychange",oo),ao=so=null)}function oo(f){if(f.propertyName==="value"&&iu(ao)){var h=[];np(h,ao,f,_r(f)),gr($d,h)}}function Hl(f,h,x){f==="focusin"?(Hd(),so=h,ao=x,so.attachEvent("onpropertychange",oo)):f==="focusout"&&Hd()}function di(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return iu(ao)}function fi(f,h){if(f==="click")return iu(h)}function Qi(f,h){if(f==="input"||f==="change")return iu(h)}function Ji(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var Ts=typeof Object.is=="function"?Object.is:Ji;function Wl(f,h){if(Ts(f,h))return!0;if(typeof f!="object"||f===null||typeof h!="object"||h===null)return!1;var x=Object.keys(f),E=Object.keys(h);if(x.length!==E.length)return!1;for(E=0;E<x.length;E++){var O=x[E];if(!l.call(h,O)||!Ts(f[O],h[O]))return!1}return!0}function wl(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Wd(f,h){var x=wl(f);f=0;for(var E;x;){if(x.nodeType===3){if(E=f+x.textContent.length,f<=h&&E>=h)return{node:x,offset:h-f};f=E}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=wl(x)}}function xm(f,h){return f&&h?f===h?!0:f&&f.nodeType===3?!1:h&&h.nodeType===3?xm(f,h.parentNode):"contains"in f?f.contains(h):f.compareDocumentPosition?!!(f.compareDocumentPosition(h)&16):!1:!1}function vm(){for(var f=window,h=_e();h instanceof f.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)f=h.contentWindow;else break;h=_e(f.document)}return h}function ip(f){var h=f&&f.nodeName&&f.nodeName.toLowerCase();return h&&(h==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||h==="textarea"||f.contentEditable==="true")}function xx(f){var h=vm(),x=f.focusedElem,E=f.selectionRange;if(h!==x&&x&&x.ownerDocument&&xm(x.ownerDocument.documentElement,x)){if(E!==null&&ip(x)){if(h=E.start,f=E.end,f===void 0&&(f=h),"selectionStart"in x)x.selectionStart=h,x.selectionEnd=Math.min(f,x.value.length);else if(f=(h=x.ownerDocument||document)&&h.defaultView||window,f.getSelection){f=f.getSelection();var O=x.textContent.length,H=Math.min(E.start,O);E=E.end===void 0?H:Math.min(E.end,O),!f.extend&&H>E&&(O=E,E=H,H=O),O=Wd(x,H);var ue=Wd(x,E);O&&ue&&(f.rangeCount!==1||f.anchorNode!==O.node||f.anchorOffset!==O.offset||f.focusNode!==ue.node||f.focusOffset!==ue.offset)&&(h=h.createRange(),h.setStart(O.node,O.offset),f.removeAllRanges(),H>E?(f.addRange(h),f.extend(ue.node,ue.offset)):(h.setEnd(ue.node,ue.offset),f.addRange(h)))}}for(h=[],f=x;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<h.length;x++)f=h[x],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var vx=o&&"documentMode"in document&&11>=document.documentMode,Wu=null,sp=null,Gd=null,ap=!1;function ym(f,h,x){var E=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;ap||Wu==null||Wu!==_e(E)||(E=Wu,"selectionStart"in E&&ip(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Gd&&Wl(Gd,E)||(Gd=E,E=cp(sp,"onSelect"),0<E.length&&(h=new Me("onSelect","select",null,h,x),f.push({event:h,listeners:E}),h.target=Wu)))}function yh(f,h){var x={};return x[f.toLowerCase()]=h.toLowerCase(),x["Webkit"+f]="webkit"+h,x["Moz"+f]="moz"+h,x}var Gu={animationend:yh("Animation","AnimationEnd"),animationiteration:yh("Animation","AnimationIteration"),animationstart:yh("Animation","AnimationStart"),transitionend:yh("Transition","TransitionEnd")},Ku={},wm={};o&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete Gu.animationend.animation,delete Gu.animationiteration.animation,delete Gu.animationstart.animation),"TransitionEvent"in window||delete Gu.transitionend.transition);function wh(f){if(Ku[f])return Ku[f];if(!Gu[f])return f;var h=Gu[f],x;for(x in h)if(h.hasOwnProperty(x)&&x in wm)return Ku[f]=h[x];return f}var _m=wh("animationend"),bm=wh("animationiteration"),km=wh("animationstart"),Sm=wh("transitionend"),Em=new Map,Cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gl(f,h){Em.set(f,h),s(h,[f])}for(var Kd=0;Kd<Cm.length;Kd++){var $a=Cm[Kd],Qo=$a.toLowerCase(),op=$a[0].toUpperCase()+$a.slice(1);Gl(Qo,"on"+op)}Gl(_m,"onAnimationEnd"),Gl(bm,"onAnimationIteration"),Gl(km,"onAnimationStart"),Gl("dblclick","onDoubleClick"),Gl("focusin","onFocus"),Gl("focusout","onBlur"),Gl(Sm,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(su));function _h(f,h,x){var E=f.type||"unknown-event";f.currentTarget=x,Pe(E,h,void 0,f),f.currentTarget=null}function bh(f,h){h=(h&4)!==0;for(var x=0;x<f.length;x++){var E=f[x],O=E.event;E=E.listeners;e:{var H=void 0;if(h)for(var ue=E.length-1;0<=ue;ue--){var De=E[ue],Ue=De.instance,ft=De.currentTarget;if(De=De.listener,Ue!==H&&O.isPropagationStopped())break e;_h(O,De,ft),H=Ue}else for(ue=0;ue<E.length;ue++){if(De=E[ue],Ue=De.instance,ft=De.currentTarget,De=De.listener,Ue!==H&&O.isPropagationStopped())break e;_h(O,De,ft),H=Ue}}}if(le)throw f=Ae,le=!1,Ae=null,f}function Qn(f,h){var x=h[co];x===void 0&&(x=h[co]=new Set);var E=f+"__bubble";x.has(E)||(kh(h,f,2,!1),x.add(E))}function lp(f,h,x){var E=0;h&&(E|=4),kh(x,f,E,h)}var Yd="_reactListening"+Math.random().toString(36).slice(2);function Yu(f){if(!f[Yd]){f[Yd]=!0,n.forEach(function(x){x!=="selectionchange"&&(yx.has(x)||lp(x,!1,f),lp(x,!0,f))});var h=f.nodeType===9?f:f.ownerDocument;h===null||h[Yd]||(h[Yd]=!0,lp("selectionchange",!1,h))}}function kh(f,h,x,E){switch($l(h)){case 1:var O=qn;break;case 4:O=$u;break;default:O=xl}x=O.bind(null,h,x,f),O=void 0,!Es||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(O=!0),E?O!==void 0?f.addEventListener(h,x,{capture:!0,passive:O}):f.addEventListener(h,x,!0):O!==void 0?f.addEventListener(h,x,{passive:O}):f.addEventListener(h,x,!1)}function Sh(f,h,x,E,O){var H=E;if((h&1)===0&&(h&2)===0&&E!==null)e:for(;;){if(E===null)return;var ue=E.tag;if(ue===3||ue===4){var De=E.stateNode.containerInfo;if(De===O||De.nodeType===8&&De.parentNode===O)break;if(ue===4)for(ue=E.return;ue!==null;){var Ue=ue.tag;if((Ue===3||Ue===4)&&(Ue=ue.stateNode.containerInfo,Ue===O||Ue.nodeType===8&&Ue.parentNode===O))return;ue=ue.return}for(;De!==null;){if(ue=au(De),ue===null)return;if(Ue=ue.tag,Ue===5||Ue===6){E=H=ue;continue e}De=De.parentNode}}E=E.return}gr(function(){var ft=H,Lt=_r(x),Ot=[];e:{var jt=Em.get(f);if(jt!==void 0){var rr=Me,ur=f;switch(f){case"keypress":if(Hs(x)===0)break e;case"keydown":case"keyup":rr=q;break;case"focusin":ur="focus",rr=Cn;break;case"focusout":ur="blur",rr=Cn;break;case"beforeblur":case"afterblur":rr=Cn;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rr=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rr=ui;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rr=mt;break;case _m:case bm:case km:rr=Hn;break;case Sm:rr=Tn;break;case"scroll":rr=_t;break;case"wheel":rr=sn;break;case"copy":case"cut":case"paste":rr=Xo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rr=xe}var pr=(h&4)!==0,Ps=!pr&&f==="scroll",it=pr?jt!==null?jt+"Capture":null:jt;pr=[];for(var qe=ft,ct;qe!==null;){ct=qe;var zt=ct.stateNode;if(ct.tag===5&&zt!==null&&(ct=zt,it!==null&&(zt=wn(qe,it),zt!=null&&pr.push(Eh(qe,zt,ct)))),Ps)break;qe=qe.return}0<pr.length&&(jt=new rr(jt,ur,null,x,Lt),Ot.push({event:jt,listeners:pr}))}}if((h&7)===0){e:{if(jt=f==="mouseover"||f==="pointerover",rr=f==="mouseout"||f==="pointerout",jt&&x!==wr&&(ur=x.relatedTarget||x.fromElement)&&(au(ur)||ur[ba]))break e;if((rr||jt)&&(jt=Lt.window===Lt?Lt:(jt=Lt.ownerDocument)?jt.defaultView||jt.parentWindow:window,rr?(ur=x.relatedTarget||x.toElement,rr=ft,ur=ur?au(ur):null,ur!==null&&(Ps=Ie(ur),ur!==Ps||ur.tag!==5&&ur.tag!==6)&&(ur=null)):(rr=null,ur=ft),rr!==ur)){if(pr=Rr,zt="onMouseLeave",it="onMouseEnter",qe="mouse",(f==="pointerout"||f==="pointerover")&&(pr=xe,zt="onPointerLeave",it="onPointerEnter",qe="pointer"),Ps=rr==null?jt:Ju(rr),ct=ur==null?jt:Ju(ur),jt=new pr(zt,qe+"leave",rr,x,Lt),jt.target=Ps,jt.relatedTarget=ct,zt=null,au(Lt)===ft&&(pr=new pr(it,qe+"enter",ur,x,Lt),pr.target=ct,pr.relatedTarget=Ps,zt=pr),Ps=zt,rr&&ur)t:{for(pr=rr,it=ur,qe=0,ct=pr;ct;ct=Xu(ct))qe++;for(ct=0,zt=it;zt;zt=Xu(zt))ct++;for(;0<qe-ct;)pr=Xu(pr),qe--;for(;0<ct-qe;)it=Xu(it),ct--;for(;qe--;){if(pr===it||it!==null&&pr===it.alternate)break t;pr=Xu(pr),it=Xu(it)}pr=null}else pr=null;rr!==null&&wx(Ot,jt,rr,pr,!1),ur!==null&&Ps!==null&&wx(Ot,Ps,ur,pr,!0)}}e:{if(jt=ft?Ju(ft):window,rr=jt.nodeName&&jt.nodeName.toLowerCase(),rr==="select"||rr==="input"&&jt.type==="file")var xr=qd;else if(Bi(jt))if(Hu)xr=Qi;else{xr=di;var Nr=Hl}else(rr=jt.nodeName)&&rr.toLowerCase()==="input"&&(jt.type==="checkbox"||jt.type==="radio")&&(xr=fi);if(xr&&(xr=xr(f,ft))){np(Ot,xr,x,Lt);break e}Nr&&Nr(f,jt,ft),f==="focusout"&&(Nr=jt._wrapperState)&&Nr.controlled&&jt.type==="number"&&Ve(jt,"number",jt.value)}switch(Nr=ft?Ju(ft):window,f){case"focusin":(Bi(Nr)||Nr.contentEditable==="true")&&(Wu=Nr,sp=ft,Gd=null);break;case"focusout":Gd=sp=Wu=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,ym(Ot,x,Lt);break;case"selectionchange":if(vx)break;case"keydown":case"keyup":ym(Ot,x,Lt)}var Tr;if(jn)e:{switch(f){case"compositionstart":var Br="onCompositionStart";break e;case"compositionend":Br="onCompositionEnd";break e;case"compositionupdate":Br="onCompositionUpdate";break e}Br=void 0}else za?Ua(f,x)&&(Br="onCompositionEnd"):f==="keydown"&&x.keyCode===229&&(Br="onCompositionStart");Br&&(io&&x.locale!=="ko"&&(za||Br!=="onCompositionStart"?Br==="onCompositionEnd"&&za&&(Tr=wc()):(oa=Lt,Yo="value"in oa?oa.value:oa.textContent,za=!0)),Nr=cp(ft,Br),0<Nr.length&&(Br=new qu(Br,f,null,x,Lt),Ot.push({event:Br,listeners:Nr}),Tr?Br.data=Tr:(Tr=tu(x),Tr!==null&&(Br.data=Tr)))),(Tr=la?ru(f,x):vh(f,x))&&(ft=cp(ft,"onBeforeInput"),0<ft.length&&(Lt=new qu("onBeforeInput","beforeinput",null,x,Lt),Ot.push({event:Lt,listeners:ft}),Lt.data=Tr))}bh(Ot,h)})}function Eh(f,h,x){return{instance:f,listener:h,currentTarget:x}}function cp(f,h){for(var x=h+"Capture",E=[];f!==null;){var O=f,H=O.stateNode;O.tag===5&&H!==null&&(O=H,H=wn(f,x),H!=null&&E.unshift(Eh(f,H,O)),H=wn(f,h),H!=null&&E.push(Eh(f,H,O))),f=f.return}return E}function Xu(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function wx(f,h,x,E,O){for(var H=h._reactName,ue=[];x!==null&&x!==E;){var De=x,Ue=De.alternate,ft=De.stateNode;if(Ue!==null&&Ue===E)break;De.tag===5&&ft!==null&&(De=ft,O?(Ue=wn(x,H),Ue!=null&&ue.unshift(Eh(x,Ue,De))):O||(Ue=wn(x,H),Ue!=null&&ue.push(Eh(x,Ue,De)))),x=x.return}ue.length!==0&&f.push({event:h,listeners:ue})}var N4=/\r\n?/g,T4=/\u0000|\uFFFD/g;function _x(f){return(typeof f=="string"?f:""+f).replace(N4,`
`).replace(T4,"")}function up(f,h,x){if(h=_x(h),_x(f)!==h&&x)throw Error(r(425))}function Xd(){}var Ch=null,Qu=null;function Nm(f,h){return f==="textarea"||f==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,A4=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(f){return kx.resolve(null).then(f).catch(I4)}:Tm;function I4(f){setTimeout(function(){throw f})}function Am(f,h){var x=h,E=0;do{var O=x.nextSibling;if(f.removeChild(x),O&&O.nodeType===8)if(x=O.data,x==="/$"){if(E===0){f.removeChild(O),wa(h);return}E--}else x!=="$"&&x!=="$?"&&x!=="$!"||E++;x=O}while(x);wa(h)}function qa(f){for(;f!=null;f=f.nextSibling){var h=f.nodeType;if(h===1||h===3)break;if(h===8){if(h=f.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return f}function Jo(f){f=f.previousSibling;for(var h=0;f;){if(f.nodeType===8){var x=f.data;if(x==="$"||x==="$!"||x==="$?"){if(h===0)return f;h--}else x==="/$"&&h++}f=f.previousSibling}return null}var lo=Math.random().toString(36).slice(2),Kl="__reactFiber$"+lo,Qd="__reactProps$"+lo,ba="__reactContainer$"+lo,co="__reactEvents$"+lo,P4="__reactListeners$"+lo,R4="__reactHandles$"+lo;function au(f){var h=f[Kl];if(h)return h;for(var x=f.parentNode;x;){if(h=x[ba]||x[Kl]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(f=Jo(f);f!==null;){if(x=f[Kl])return x;f=Jo(f)}return h}f=x,x=f.parentNode}return null}function Jd(f){return f=f[Kl]||f[ba],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function Ju(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(r(33))}function Nh(f){return f[Qd]||null}var Im=[],Sc=-1;function _l(f){return{current:f}}function $n(f){0>Sc||(f.current=Im[Sc],Im[Sc]=null,Sc--)}function Wn(f,h){Sc++,Im[Sc]=f.current,f.current=h}var ou={},ca=_l(ou),uo=_l(!1),Zu=ou;function Zd(f,h){var x=f.type.contextTypes;if(!x)return ou;var E=f.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===h)return E.__reactInternalMemoizedMaskedChildContext;var O={},H;for(H in x)O[H]=h[H];return E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=h,f.__reactInternalMemoizedMaskedChildContext=O),O}function fo(f){return f=f.childContextTypes,f!=null}function dp(){$n(uo),$n(ca)}function Sx(f,h,x){if(ca.current!==ou)throw Error(r(168));Wn(ca,h),Wn(uo,x)}function Pm(f,h,x){var E=f.stateNode;if(h=h.childContextTypes,typeof E.getChildContext!="function")return x;E=E.getChildContext();for(var O in E)if(!(O in h))throw Error(r(108,we(f)||"Unknown",O));return ie({},x,E)}function ed(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||ou,Zu=ca.current,Wn(ca,f),Wn(uo,uo.current),!0}function Ex(f,h,x){var E=f.stateNode;if(!E)throw Error(r(169));x?(f=Pm(f,h,Zu),E.__reactInternalMemoizedMergedChildContext=f,$n(uo),$n(ca),Wn(ca,f)):$n(uo),Wn(uo,x)}var Ec=null,Th=!1,b=!1;function N(f){Ec===null?Ec=[f]:Ec.push(f)}function U(f){Th=!0,N(f)}function Q(){if(!b&&Ec!==null){b=!0;var f=0,h=en;try{var x=Ec;for(en=1;f<x.length;f++){var E=x[f];do E=E(!0);while(E!==null)}Ec=null,Th=!1}catch(O){throw Ec!==null&&(Ec=Ec.slice(f+1)),Tt(qr,Q),O}finally{en=h,b=!1}}return null}var ne=[],de=0,me=null,ge=0,ye=[],Ce=0,Be=null,nt=1,Te="";function $e(f,h){ne[de++]=ge,ne[de++]=me,me=f,ge=h}function Ze(f,h,x){ye[Ce++]=nt,ye[Ce++]=Te,ye[Ce++]=Be,Be=f;var E=nt;f=Te;var O=32-Yt(E)-1;E&=~(1<<O),x+=1;var H=32-Yt(h)+O;if(30<H){var ue=O-O%5;H=(E&(1<<ue)-1).toString(32),E>>=ue,O-=ue,nt=1<<32-Yt(h)+O|x<<O|E,Te=H+f}else nt=1<<H|x<<O|E,Te=f}function yt(f){f.return!==null&&($e(f,1),Ze(f,1,0))}function st(f){for(;f===me;)me=ne[--de],ne[de]=null,ge=ne[--de],ne[de]=null;for(;f===Be;)Be=ye[--Ce],ye[Ce]=null,Te=ye[--Ce],ye[Ce]=null,nt=ye[--Ce],ye[Ce]=null}var gt=null,vt=null,bt=!1,kt=null;function mr(f,h){var x=Zl(5,null,null,0);x.elementType="DELETED",x.stateNode=h,x.return=f,h=f.deletions,h===null?(f.deletions=[x],f.flags|=16):h.push(x)}function sr(f,h){switch(f.tag){case 5:var x=f.type;return h=h.nodeType!==1||x.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(f.stateNode=h,gt=f,vt=qa(h.firstChild),!0):!1;case 6:return h=f.pendingProps===""||h.nodeType!==3?null:h,h!==null?(f.stateNode=h,gt=f,vt=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(x=Be!==null?{id:nt,overflow:Te}:null,f.memoizedState={dehydrated:h,treeContext:x,retryLane:1073741824},x=Zl(18,null,null,0),x.stateNode=h,x.return=f,f.child=x,gt=f,vt=null,!0):!1;default:return!1}}function Hr(f){return(f.mode&1)!==0&&(f.flags&128)===0}function lr(f){if(bt){var h=vt;if(h){var x=h;if(!sr(f,h)){if(Hr(f))throw Error(r(418));h=qa(x.nextSibling);var E=gt;h&&sr(f,h)?mr(E,x):(f.flags=f.flags&-4097|2,bt=!1,gt=f)}}else{if(Hr(f))throw Error(r(418));f.flags=f.flags&-4097|2,bt=!1,gt=f}}}function un(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;gt=f}function Ui(f){if(f!==gt)return!1;if(!bt)return un(f),bt=!0,!1;var h;if((h=f.tag!==3)&&!(h=f.tag!==5)&&(h=f.type,h=h!=="head"&&h!=="body"&&!Nm(f.type,f.memoizedProps)),h&&(h=vt)){if(Hr(f))throw Gr(),Error(r(418));for(;h;)mr(f,h),h=qa(h.nextSibling)}if(un(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));e:{for(f=f.nextSibling,h=0;f;){if(f.nodeType===8){var x=f.data;if(x==="/$"){if(h===0){vt=qa(f.nextSibling);break e}h--}else x!=="$"&&x!=="$!"&&x!=="$?"||h++}f=f.nextSibling}vt=null}}else vt=gt?qa(f.stateNode.nextSibling):null;return!0}function Gr(){for(var f=vt;f;)f=qa(f.nextSibling)}function ar(){vt=gt=null,bt=!1}function Wt(f){kt===null?kt=[f]:kt.push(f)}var Zi=V.ReactCurrentBatchConfig;function jr(f,h,x){if(f=x.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var E=x.stateNode}if(!E)throw Error(r(147,f));var O=E,H=""+f;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===H?h.ref:(h=function(ue){var De=O.refs;ue===null?delete De[H]:De[H]=ue},h._stringRef=H,h)}if(typeof f!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,f))}return f}function an(f,h){throw f=Object.prototype.toString.call(h),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":f))}function hi(f){var h=f._init;return h(f._payload)}function Ws(f){function h(it,qe){if(f){var ct=it.deletions;ct===null?(it.deletions=[qe],it.flags|=16):ct.push(qe)}}function x(it,qe){if(!f)return null;for(;qe!==null;)h(it,qe),qe=qe.sibling;return null}function E(it,qe){for(it=new Map;qe!==null;)qe.key!==null?it.set(qe.key,qe):it.set(qe.index,qe),qe=qe.sibling;return it}function O(it,qe){return it=uf(it,qe),it.index=0,it.sibling=null,it}function H(it,qe,ct){return it.index=ct,f?(ct=it.alternate,ct!==null?(ct=ct.index,ct<qe?(it.flags|=2,qe):ct):(it.flags|=2,qe)):(it.flags|=1048576,qe)}function ue(it){return f&&it.alternate===null&&(it.flags|=2),it}function De(it,qe,ct,zt){return qe===null||qe.tag!==6?(qe=ow(ct,it.mode,zt),qe.return=it,qe):(qe=O(qe,ct),qe.return=it,qe)}function Ue(it,qe,ct,zt){var xr=ct.type;return xr===j?Lt(it,qe,ct.props.children,zt,ct.key):qe!==null&&(qe.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===ve&&hi(xr)===qe.type)?(zt=O(qe,ct.props),zt.ref=jr(it,qe,ct),zt.return=it,zt):(zt=Hx(ct.type,ct.key,ct.props,null,it.mode,zt),zt.ref=jr(it,qe,ct),zt.return=it,zt)}function ft(it,qe,ct,zt){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==ct.containerInfo||qe.stateNode.implementation!==ct.implementation?(qe=lw(ct,it.mode,zt),qe.return=it,qe):(qe=O(qe,ct.children||[]),qe.return=it,qe)}function Lt(it,qe,ct,zt,xr){return qe===null||qe.tag!==7?(qe=Dh(ct,it.mode,zt,xr),qe.return=it,qe):(qe=O(qe,ct),qe.return=it,qe)}function Ot(it,qe,ct){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return qe=ow(""+qe,it.mode,ct),qe.return=it,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case W:return ct=Hx(qe.type,qe.key,qe.props,null,it.mode,ct),ct.ref=jr(it,null,qe),ct.return=it,ct;case K:return qe=lw(qe,it.mode,ct),qe.return=it,qe;case ve:var zt=qe._init;return Ot(it,zt(qe._payload),ct)}if(He(qe)||Y(qe))return qe=Dh(qe,it.mode,ct,null),qe.return=it,qe;an(it,qe)}return null}function jt(it,qe,ct,zt){var xr=qe!==null?qe.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return xr!==null?null:De(it,qe,""+ct,zt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case W:return ct.key===xr?Ue(it,qe,ct,zt):null;case K:return ct.key===xr?ft(it,qe,ct,zt):null;case ve:return xr=ct._init,jt(it,qe,xr(ct._payload),zt)}if(He(ct)||Y(ct))return xr!==null?null:Lt(it,qe,ct,zt,null);an(it,ct)}return null}function rr(it,qe,ct,zt,xr){if(typeof zt=="string"&&zt!==""||typeof zt=="number")return it=it.get(ct)||null,De(qe,it,""+zt,xr);if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case W:return it=it.get(zt.key===null?ct:zt.key)||null,Ue(qe,it,zt,xr);case K:return it=it.get(zt.key===null?ct:zt.key)||null,ft(qe,it,zt,xr);case ve:var Nr=zt._init;return rr(it,qe,ct,Nr(zt._payload),xr)}if(He(zt)||Y(zt))return it=it.get(ct)||null,Lt(qe,it,zt,xr,null);an(qe,zt)}return null}function ur(it,qe,ct,zt){for(var xr=null,Nr=null,Tr=qe,Br=qe=0,Na=null;Tr!==null&&Br<ct.length;Br++){Tr.index>Br?(Na=Tr,Tr=null):Na=Tr.sibling;var Un=jt(it,Tr,ct[Br],zt);if(Un===null){Tr===null&&(Tr=Na);break}f&&Tr&&Un.alternate===null&&h(it,Tr),qe=H(Un,qe,Br),Nr===null?xr=Un:Nr.sibling=Un,Nr=Un,Tr=Na}if(Br===ct.length)return x(it,Tr),bt&&$e(it,Br),xr;if(Tr===null){for(;Br<ct.length;Br++)Tr=Ot(it,ct[Br],zt),Tr!==null&&(qe=H(Tr,qe,Br),Nr===null?xr=Tr:Nr.sibling=Tr,Nr=Tr);return bt&&$e(it,Br),xr}for(Tr=E(it,Tr);Br<ct.length;Br++)Na=rr(Tr,it,Br,ct[Br],zt),Na!==null&&(f&&Na.alternate!==null&&Tr.delete(Na.key===null?Br:Na.key),qe=H(Na,qe,Br),Nr===null?xr=Na:Nr.sibling=Na,Nr=Na);return f&&Tr.forEach(function(df){return h(it,df)}),bt&&$e(it,Br),xr}function pr(it,qe,ct,zt){var xr=Y(ct);if(typeof xr!="function")throw Error(r(150));if(ct=xr.call(ct),ct==null)throw Error(r(151));for(var Nr=xr=null,Tr=qe,Br=qe=0,Na=null,Un=ct.next();Tr!==null&&!Un.done;Br++,Un=ct.next()){Tr.index>Br?(Na=Tr,Tr=null):Na=Tr.sibling;var df=jt(it,Tr,Un.value,zt);if(df===null){Tr===null&&(Tr=Na);break}f&&Tr&&df.alternate===null&&h(it,Tr),qe=H(df,qe,Br),Nr===null?xr=df:Nr.sibling=df,Nr=df,Tr=Na}if(Un.done)return x(it,Tr),bt&&$e(it,Br),xr;if(Tr===null){for(;!Un.done;Br++,Un=ct.next())Un=Ot(it,Un.value,zt),Un!==null&&(qe=H(Un,qe,Br),Nr===null?xr=Un:Nr.sibling=Un,Nr=Un);return bt&&$e(it,Br),xr}for(Tr=E(it,Tr);!Un.done;Br++,Un=ct.next())Un=rr(Tr,it,Br,Un.value,zt),Un!==null&&(f&&Un.alternate!==null&&Tr.delete(Un.key===null?Br:Un.key),qe=H(Un,qe,Br),Nr===null?xr=Un:Nr.sibling=Un,Nr=Un);return f&&Tr.forEach(function(bz){return h(it,bz)}),bt&&$e(it,Br),xr}function Ps(it,qe,ct,zt){if(typeof ct=="object"&&ct!==null&&ct.type===j&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case W:e:{for(var xr=ct.key,Nr=qe;Nr!==null;){if(Nr.key===xr){if(xr=ct.type,xr===j){if(Nr.tag===7){x(it,Nr.sibling),qe=O(Nr,ct.props.children),qe.return=it,it=qe;break e}}else if(Nr.elementType===xr||typeof xr=="object"&&xr!==null&&xr.$$typeof===ve&&hi(xr)===Nr.type){x(it,Nr.sibling),qe=O(Nr,ct.props),qe.ref=jr(it,Nr,ct),qe.return=it,it=qe;break e}x(it,Nr);break}else h(it,Nr);Nr=Nr.sibling}ct.type===j?(qe=Dh(ct.props.children,it.mode,zt,ct.key),qe.return=it,it=qe):(zt=Hx(ct.type,ct.key,ct.props,null,it.mode,zt),zt.ref=jr(it,qe,ct),zt.return=it,it=zt)}return ue(it);case K:e:{for(Nr=ct.key;qe!==null;){if(qe.key===Nr)if(qe.tag===4&&qe.stateNode.containerInfo===ct.containerInfo&&qe.stateNode.implementation===ct.implementation){x(it,qe.sibling),qe=O(qe,ct.children||[]),qe.return=it,it=qe;break e}else{x(it,qe);break}else h(it,qe);qe=qe.sibling}qe=lw(ct,it.mode,zt),qe.return=it,it=qe}return ue(it);case ve:return Nr=ct._init,Ps(it,qe,Nr(ct._payload),zt)}if(He(ct))return ur(it,qe,ct,zt);if(Y(ct))return pr(it,qe,ct,zt);an(it,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,qe!==null&&qe.tag===6?(x(it,qe.sibling),qe=O(qe,ct),qe.return=it,it=qe):(x(it,qe),qe=ow(ct,it.mode,zt),qe.return=it,it=qe),ue(it)):x(it,qe)}return Ps}var ds=Ws(!0),Ii=Ws(!1),As=_l(null),Gs=null,Ci=null,vn=null;function Ln(){vn=Ci=Gs=null}function Ni(f){var h=As.current;$n(As),f._currentValue=h}function Fn(f,h,x){for(;f!==null;){var E=f.alternate;if((f.childLanes&h)!==h?(f.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),f===x)break;f=f.return}}function zi(f,h){Gs=f,vn=Ci=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&h)!==0&&(el=!0),f.firstContext=null)}function $i(f){var h=f._currentValue;if(vn!==f)if(f={context:f,memoizedValue:h,next:null},Ci===null){if(Gs===null)throw Error(r(308));Ci=f,Gs.dependencies={lanes:0,firstContext:f}}else Ci=Ci.next=f;return h}var Jn=null;function ka(f){Jn===null?Jn=[f]:Jn.push(f)}function Gn(f,h,x,E){var O=h.interleaved;return O===null?(x.next=x,ka(h)):(x.next=O.next,O.next=x),h.interleaved=x,Zn(f,E)}function Zn(f,h){f.lanes|=h;var x=f.alternate;for(x!==null&&(x.lanes|=h),x=f,f=f.return;f!==null;)f.childLanes|=h,x=f.alternate,x!==null&&(x.childLanes|=h),x=f,f=f.return;return x.tag===3?x.stateNode:null}var fs=!1;function ua(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ho(f,h){f=f.updateQueue,h.updateQueue===f&&(h.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function es(f,h){return{eventTime:f,lane:h,tag:0,payload:null,callback:null,next:null}}function ts(f,h,x){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,(Dn&2)!==0){var O=E.pending;return O===null?h.next=h:(h.next=O.next,O.next=h),E.pending=h,Zn(f,x)}return O=E.interleaved,O===null?(h.next=h,ka(E)):(h.next=O.next,O.next=h),E.interleaved=h,Zn(f,x)}function Sa(f,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194240)!==0)){var E=h.lanes;E&=f.pendingLanes,x|=E,h.lanes=x,hl(f,x)}}function ei(f,h){var x=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,x===E)){var O=null,H=null;if(x=x.firstBaseUpdate,x!==null){do{var ue={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};H===null?O=H=ue:H=H.next=ue,x=x.next}while(x!==null);H===null?O=H=h:H=H.next=h}else O=H=h;x={baseState:E.baseState,firstBaseUpdate:O,lastBaseUpdate:H,shared:E.shared,effects:E.effects},f.updateQueue=x;return}f=x.lastBaseUpdate,f===null?x.firstBaseUpdate=h:f.next=h,x.lastBaseUpdate=h}function Ea(f,h,x,E){var O=f.updateQueue;fs=!1;var H=O.firstBaseUpdate,ue=O.lastBaseUpdate,De=O.shared.pending;if(De!==null){O.shared.pending=null;var Ue=De,ft=Ue.next;Ue.next=null,ue===null?H=ft:ue.next=ft,ue=Ue;var Lt=f.alternate;Lt!==null&&(Lt=Lt.updateQueue,De=Lt.lastBaseUpdate,De!==ue&&(De===null?Lt.firstBaseUpdate=ft:De.next=ft,Lt.lastBaseUpdate=Ue))}if(H!==null){var Ot=O.baseState;ue=0,Lt=ft=Ue=null,De=H;do{var jt=De.lane,rr=De.eventTime;if((E&jt)===jt){Lt!==null&&(Lt=Lt.next={eventTime:rr,lane:0,tag:De.tag,payload:De.payload,callback:De.callback,next:null});e:{var ur=f,pr=De;switch(jt=h,rr=x,pr.tag){case 1:if(ur=pr.payload,typeof ur=="function"){Ot=ur.call(rr,Ot,jt);break e}Ot=ur;break e;case 3:ur.flags=ur.flags&-65537|128;case 0:if(ur=pr.payload,jt=typeof ur=="function"?ur.call(rr,Ot,jt):ur,jt==null)break e;Ot=ie({},Ot,jt);break e;case 2:fs=!0}}De.callback!==null&&De.lane!==0&&(f.flags|=64,jt=O.effects,jt===null?O.effects=[De]:jt.push(De))}else rr={eventTime:rr,lane:jt,tag:De.tag,payload:De.payload,callback:De.callback,next:null},Lt===null?(ft=Lt=rr,Ue=Ot):Lt=Lt.next=rr,ue|=jt;if(De=De.next,De===null){if(De=O.shared.pending,De===null)break;jt=De,De=jt.next,jt.next=null,O.lastBaseUpdate=jt,O.shared.pending=null}}while(!0);if(Lt===null&&(Ue=Ot),O.baseState=Ue,O.firstBaseUpdate=ft,O.lastBaseUpdate=Lt,h=O.shared.interleaved,h!==null){O=h;do ue|=O.lane,O=O.next;while(O!==h)}else H===null&&(O.shared.lanes=0);Rh|=ue,f.lanes=ue,f.memoizedState=Ot}}function Zo(f,h,x){if(f=h.effects,h.effects=null,f!==null)for(h=0;h<f.length;h++){var E=f[h],O=E.callback;if(O!==null){if(E.callback=null,E=x,typeof O!="function")throw Error(r(191,O));O.call(E)}}}var bl={},Ks=_l(bl),rs=_l(bl),lu=_l(bl);function Cc(f){if(f===bl)throw Error(r(174));return f}function ef(f,h){switch(Wn(lu,h),Wn(rs,f),Wn(Ks,bl),f=h.nodeType,f){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:ae(null,"");break;default:f=f===8?h.parentNode:h,h=f.namespaceURI||null,f=f.tagName,h=ae(h,f)}$n(Ks),Wn(Ks,h)}function Yl(){$n(Ks),$n(rs),$n(lu)}function Cx(f){Cc(lu.current);var h=Cc(Ks.current),x=ae(h,f.type);h!==x&&(Wn(rs,f),Wn(Ks,x))}function Rm(f){rs.current===f&&($n(Ks),$n(rs))}var yi=_l(0);function kl(f){for(var h=f;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var jm=[];function Lm(){for(var f=0;f<jm.length;f++)jm[f]._workInProgressVersionPrimary=null;jm.length=0}var fp=V.ReactCurrentDispatcher,hp=V.ReactCurrentBatchConfig,Xl=0,Ti=null,hs=null,ns=null,tf=!1,Nc=!1,rf=0,j4=0;function Is(){throw Error(r(321))}function pp(f,h){if(h===null)return!1;for(var x=0;x<h.length&&x<f.length;x++)if(!Ts(f[x],h[x]))return!1;return!0}function Ah(f,h,x,E,O,H){if(Xl=H,Ti=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,fp.current=f===null||f.memoizedState===null?KU:YU,f=x(E,O),Nc){H=0;do{if(Nc=!1,rf=0,25<=H)throw Error(r(301));H+=1,ns=hs=null,h.updateQueue=null,fp.current=XU,f=x(E,O)}while(Nc)}if(fp.current=Px,h=hs!==null&&hs.next!==null,Xl=0,ns=hs=Ti=null,tf=!1,h)throw Error(r(300));return f}function Ql(){var f=rf!==0;return rf=0,f}function Sl(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ns===null?Ti.memoizedState=ns=f:ns=ns.next=f,ns}function Oo(){if(hs===null){var f=Ti.alternate;f=f!==null?f.memoizedState:null}else f=hs.next;var h=ns===null?Ti.memoizedState:ns.next;if(h!==null)ns=h,hs=f;else{if(f===null)throw Error(r(310));hs=f,f={memoizedState:hs.memoizedState,baseState:hs.baseState,baseQueue:hs.baseQueue,queue:hs.queue,next:null},ns===null?Ti.memoizedState=ns=f:ns=ns.next=f}return ns}function Ih(f,h){return typeof h=="function"?h(f):h}function mp(f){var h=Oo(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=f;var E=hs,O=E.baseQueue,H=x.pending;if(H!==null){if(O!==null){var ue=O.next;O.next=H.next,H.next=ue}E.baseQueue=O=H,x.pending=null}if(O!==null){H=O.next,E=E.baseState;var De=ue=null,Ue=null,ft=H;do{var Lt=ft.lane;if((Xl&Lt)===Lt)Ue!==null&&(Ue=Ue.next={lane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),E=ft.hasEagerState?ft.eagerState:f(E,ft.action);else{var Ot={lane:Lt,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null};Ue===null?(De=Ue=Ot,ue=E):Ue=Ue.next=Ot,Ti.lanes|=Lt,Rh|=Lt}ft=ft.next}while(ft!==null&&ft!==H);Ue===null?ue=E:Ue.next=De,Ts(E,h.memoizedState)||(el=!0),h.memoizedState=E,h.baseState=ue,h.baseQueue=Ue,x.lastRenderedState=E}if(f=x.interleaved,f!==null){O=f;do H=O.lane,Ti.lanes|=H,Rh|=H,O=O.next;while(O!==f)}else O===null&&(x.lanes=0);return[h.memoizedState,x.dispatch]}function cu(f){var h=Oo(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=f;var E=x.dispatch,O=x.pending,H=h.memoizedState;if(O!==null){x.pending=null;var ue=O=O.next;do H=f(H,ue.action),ue=ue.next;while(ue!==O);Ts(H,h.memoizedState)||(el=!0),h.memoizedState=H,h.baseQueue===null&&(h.baseState=H),x.lastRenderedState=H}return[H,E]}function Nx(){}function Fm(f,h){var x=Ti,E=Oo(),O=h(),H=!Ts(E.memoizedState,O);if(H&&(E.memoizedState=O,el=!0),E=E.queue,vp(Ax.bind(null,x,E,f),[f]),E.getSnapshot!==h||H||ns!==null&&ns.memoizedState.tag&1){if(x.flags|=2048,Mo(9,Dm.bind(null,x,E,O,h),void 0,null),Ca===null)throw Error(r(349));(Xl&30)!==0||Tx(x,h,O)}return O}function Tx(f,h,x){f.flags|=16384,f={getSnapshot:h,value:x},h=Ti.updateQueue,h===null?(h={lastEffect:null,stores:null},Ti.updateQueue=h,h.stores=[f]):(x=h.stores,x===null?h.stores=[f]:x.push(f))}function Dm(f,h,x,E){h.value=x,h.getSnapshot=E,nf(h)&&gp(f)}function Ax(f,h,x){return x(function(){nf(h)&&gp(f)})}function nf(f){var h=f.getSnapshot;f=f.value;try{var x=h();return!Ts(f,x)}catch{return!0}}function gp(f){var h=Zn(f,1);h!==null&&Rc(h,f,1,-1)}function Ph(f){var h=Sl();return typeof f=="function"&&(f=f()),h.memoizedState=h.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ih,lastRenderedState:f},h.queue=f,f=f.dispatch=GU.bind(null,Ti,f),[h.memoizedState,f]}function Mo(f,h,x,E){return f={tag:f,create:h,destroy:x,deps:E,next:null},h=Ti.updateQueue,h===null?(h={lastEffect:null,stores:null},Ti.updateQueue=h,h.lastEffect=f.next=f):(x=h.lastEffect,x===null?h.lastEffect=f.next=f:(E=x.next,x.next=f,f.next=E,h.lastEffect=f)),f}function Tc(){return Oo().memoizedState}function El(f,h,x,E){var O=Sl();Ti.flags|=f,O.memoizedState=Mo(1|h,x,void 0,E===void 0?null:E)}function td(f,h,x,E){var O=Oo();E=E===void 0?null:E;var H=void 0;if(hs!==null){var ue=hs.memoizedState;if(H=ue.destroy,E!==null&&pp(E,ue.deps)){O.memoizedState=Mo(h,x,H,E);return}}Ti.flags|=f,O.memoizedState=Mo(1|h,x,H,E)}function xp(f,h){return El(8390656,8,f,h)}function vp(f,h){return td(2048,8,f,h)}function Ix(f,h){return td(4,2,f,h)}function yp(f,h){return td(4,4,f,h)}function wp(f,h){if(typeof h=="function")return f=f(),h(f),function(){h(null)};if(h!=null)return f=f(),h.current=f,function(){h.current=null}}function w7(f,h,x){return x=x!=null?x.concat([f]):null,td(4,4,wp.bind(null,h,f),x)}function L4(){}function _7(f,h){var x=Oo();h=h===void 0?null:h;var E=x.memoizedState;return E!==null&&h!==null&&pp(h,E[1])?E[0]:(x.memoizedState=[f,h],f)}function b7(f,h){var x=Oo();h=h===void 0?null:h;var E=x.memoizedState;return E!==null&&h!==null&&pp(h,E[1])?E[0]:(f=f(),x.memoizedState=[f,h],f)}function k7(f,h,x){return(Xl&21)===0?(f.baseState&&(f.baseState=!1,el=!0),f.memoizedState=x):(Ts(x,h)||(x=ya(),Ti.lanes|=x,Rh|=x,f.baseState=!0),h)}function HU(f,h){var x=en;en=x!==0&&4>x?x:4,f(!0);var E=hp.transition;hp.transition={};try{f(!1),h()}finally{en=x,hp.transition=E}}function S7(){return Oo().memoizedState}function WU(f,h,x){var E=lf(f);if(x={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null},E7(f))C7(h,x);else if(x=Gn(f,h,x,E),x!==null){var O=Bo();Rc(x,f,E,O),N7(x,h,E)}}function GU(f,h,x){var E=lf(f),O={lane:E,action:x,hasEagerState:!1,eagerState:null,next:null};if(E7(f))C7(h,O);else{var H=f.alternate;if(f.lanes===0&&(H===null||H.lanes===0)&&(H=h.lastRenderedReducer,H!==null))try{var ue=h.lastRenderedState,De=H(ue,x);if(O.hasEagerState=!0,O.eagerState=De,Ts(De,ue)){var Ue=h.interleaved;Ue===null?(O.next=O,ka(h)):(O.next=Ue.next,Ue.next=O),h.interleaved=O;return}}catch{}finally{}x=Gn(f,h,O,E),x!==null&&(O=Bo(),Rc(x,f,E,O),N7(x,h,E))}}function E7(f){var h=f.alternate;return f===Ti||h!==null&&h===Ti}function C7(f,h){Nc=tf=!0;var x=f.pending;x===null?h.next=h:(h.next=x.next,x.next=h),f.pending=h}function N7(f,h,x){if((x&4194240)!==0){var E=h.lanes;E&=f.pendingLanes,x|=E,h.lanes=x,hl(f,x)}}var Px={readContext:$i,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},KU={readContext:$i,useCallback:function(f,h){return Sl().memoizedState=[f,h===void 0?null:h],f},useContext:$i,useEffect:xp,useImperativeHandle:function(f,h,x){return x=x!=null?x.concat([f]):null,El(4194308,4,wp.bind(null,h,f),x)},useLayoutEffect:function(f,h){return El(4194308,4,f,h)},useInsertionEffect:function(f,h){return El(4,2,f,h)},useMemo:function(f,h){var x=Sl();return h=h===void 0?null:h,f=f(),x.memoizedState=[f,h],f},useReducer:function(f,h,x){var E=Sl();return h=x!==void 0?x(h):h,E.memoizedState=E.baseState=h,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:h},E.queue=f,f=f.dispatch=WU.bind(null,Ti,f),[E.memoizedState,f]},useRef:function(f){var h=Sl();return f={current:f},h.memoizedState=f},useState:Ph,useDebugValue:L4,useDeferredValue:function(f){return Sl().memoizedState=f},useTransition:function(){var f=Ph(!1),h=f[0];return f=HU.bind(null,f[1]),Sl().memoizedState=f,[h,f]},useMutableSource:function(){},useSyncExternalStore:function(f,h,x){var E=Ti,O=Sl();if(bt){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),Ca===null)throw Error(r(349));(Xl&30)!==0||Tx(E,h,x)}O.memoizedState=x;var H={value:x,getSnapshot:h};return O.queue=H,xp(Ax.bind(null,E,H,f),[f]),E.flags|=2048,Mo(9,Dm.bind(null,E,H,x,h),void 0,null),x},useId:function(){var f=Sl(),h=Ca.identifierPrefix;if(bt){var x=Te,E=nt;x=(E&~(1<<32-Yt(E)-1)).toString(32)+x,h=":"+h+"R"+x,x=rf++,0<x&&(h+="H"+x.toString(32)),h+=":"}else x=j4++,h=":"+h+"r"+x.toString(32)+":";return f.memoizedState=h},unstable_isNewReconciler:!1},YU={readContext:$i,useCallback:_7,useContext:$i,useEffect:vp,useImperativeHandle:w7,useInsertionEffect:Ix,useLayoutEffect:yp,useMemo:b7,useReducer:mp,useRef:Tc,useState:function(){return mp(Ih)},useDebugValue:L4,useDeferredValue:function(f){var h=Oo();return k7(h,hs.memoizedState,f)},useTransition:function(){var f=mp(Ih)[0],h=Oo().memoizedState;return[f,h]},useMutableSource:Nx,useSyncExternalStore:Fm,useId:S7,unstable_isNewReconciler:!1},XU={readContext:$i,useCallback:_7,useContext:$i,useEffect:vp,useImperativeHandle:w7,useInsertionEffect:Ix,useLayoutEffect:yp,useMemo:b7,useReducer:cu,useRef:Tc,useState:function(){return cu(Ih)},useDebugValue:L4,useDeferredValue:function(f){var h=Oo();return hs===null?h.memoizedState=f:k7(h,hs.memoizedState,f)},useTransition:function(){var f=cu(Ih)[0],h=Oo().memoizedState;return[f,h]},useMutableSource:Nx,useSyncExternalStore:Fm,useId:S7,unstable_isNewReconciler:!1};function Ac(f,h){if(f&&f.defaultProps){h=ie({},h),f=f.defaultProps;for(var x in f)h[x]===void 0&&(h[x]=f[x]);return h}return h}function F4(f,h,x,E){h=f.memoizedState,x=x(E,h),x=x==null?h:ie({},h,x),f.memoizedState=x,f.lanes===0&&(f.updateQueue.baseState=x)}var Rx={isMounted:function(f){return(f=f._reactInternals)?Ie(f)===f:!1},enqueueSetState:function(f,h,x){f=f._reactInternals;var E=Bo(),O=lf(f),H=es(E,O);H.payload=h,x!=null&&(H.callback=x),h=ts(f,H,O),h!==null&&(Rc(h,f,O,E),Sa(h,f,O))},enqueueReplaceState:function(f,h,x){f=f._reactInternals;var E=Bo(),O=lf(f),H=es(E,O);H.tag=1,H.payload=h,x!=null&&(H.callback=x),h=ts(f,H,O),h!==null&&(Rc(h,f,O,E),Sa(h,f,O))},enqueueForceUpdate:function(f,h){f=f._reactInternals;var x=Bo(),E=lf(f),O=es(x,E);O.tag=2,h!=null&&(O.callback=h),h=ts(f,O,E),h!==null&&(Rc(h,f,E,x),Sa(h,f,E))}};function T7(f,h,x,E,O,H,ue){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,H,ue):h.prototype&&h.prototype.isPureReactComponent?!Wl(x,E)||!Wl(O,H):!0}function A7(f,h,x){var E=!1,O=ou,H=h.contextType;return typeof H=="object"&&H!==null?H=$i(H):(O=fo(h)?Zu:ca.current,E=h.contextTypes,H=(E=E!=null)?Zd(f,O):ou),h=new h(x,H),f.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Rx,f.stateNode=h,h._reactInternals=f,E&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=O,f.__reactInternalMemoizedMaskedChildContext=H),h}function I7(f,h,x,E){f=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,E),h.state!==f&&Rx.enqueueReplaceState(h,h.state,null)}function D4(f,h,x,E){var O=f.stateNode;O.props=x,O.state=f.memoizedState,O.refs={},ua(f);var H=h.contextType;typeof H=="object"&&H!==null?O.context=$i(H):(H=fo(h)?Zu:ca.current,O.context=Zd(f,H)),O.state=f.memoizedState,H=h.getDerivedStateFromProps,typeof H=="function"&&(F4(f,h,H,x),O.state=f.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(h=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),h!==O.state&&Rx.enqueueReplaceState(O,O.state,null),Ea(f,x,O,E),O.state=f.memoizedState),typeof O.componentDidMount=="function"&&(f.flags|=4194308)}function _p(f,h){try{var x="",E=h;do x+=J(E),E=E.return;while(E);var O=x}catch(H){O=`
Error generating stack: `+H.message+`
`+H.stack}return{value:f,source:h,stack:O,digest:null}}function O4(f,h,x){return{value:f,source:null,stack:x??null,digest:h??null}}function M4(f,h){try{console.error(h.value)}catch(x){setTimeout(function(){throw x})}}var QU=typeof WeakMap=="function"?WeakMap:Map;function P7(f,h,x){x=es(-1,x),x.tag=3,x.payload={element:null};var E=h.value;return x.callback=function(){Vx||(Vx=!0,Z4=E),M4(f,h)},x}function R7(f,h,x){x=es(-1,x),x.tag=3;var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var O=h.value;x.payload=function(){return E(O)},x.callback=function(){M4(f,h)}}var H=f.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(x.callback=function(){M4(f,h),typeof E!="function"&&(af===null?af=new Set([this]):af.add(this));var ue=h.stack;this.componentDidCatch(h.value,{componentStack:ue!==null?ue:""})}),x}function j7(f,h,x){var E=f.pingCache;if(E===null){E=f.pingCache=new QU;var O=new Set;E.set(h,O)}else O=E.get(h),O===void 0&&(O=new Set,E.set(h,O));O.has(x)||(O.add(x),f=dz.bind(null,f,h,x),h.then(f,f))}function L7(f){do{var h;if((h=f.tag===13)&&(h=f.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return f;f=f.return}while(f!==null);return null}function F7(f,h,x,E,O){return(f.mode&1)===0?(f===h?f.flags|=65536:(f.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(h=es(-1,1),h.tag=2,ts(x,h,1))),x.lanes|=1),f):(f.flags|=65536,f.lanes=O,f)}var JU=V.ReactCurrentOwner,el=!1;function Vo(f,h,x,E){h.child=f===null?Ii(h,null,x,E):ds(h,f.child,x,E)}function D7(f,h,x,E,O){x=x.render;var H=h.ref;return zi(h,O),E=Ah(f,h,x,E,H,O),x=Ql(),f!==null&&!el?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~O,rd(f,h,O)):(bt&&x&&yt(h),h.flags|=1,Vo(f,h,E,O),h.child)}function O7(f,h,x,E,O){if(f===null){var H=x.type;return typeof H=="function"&&!aw(H)&&H.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(h.tag=15,h.type=H,M7(f,h,H,E,O)):(f=Hx(x.type,null,E,h,h.mode,O),f.ref=h.ref,f.return=h,h.child=f)}if(H=f.child,(f.lanes&O)===0){var ue=H.memoizedProps;if(x=x.compare,x=x!==null?x:Wl,x(ue,E)&&f.ref===h.ref)return rd(f,h,O)}return h.flags|=1,f=uf(H,E),f.ref=h.ref,f.return=h,h.child=f}function M7(f,h,x,E,O){if(f!==null){var H=f.memoizedProps;if(Wl(H,E)&&f.ref===h.ref)if(el=!1,h.pendingProps=E=H,(f.lanes&O)!==0)(f.flags&131072)!==0&&(el=!0);else return h.lanes=f.lanes,rd(f,h,O)}return V4(f,h,x,E,O)}function V7(f,h,x){var E=h.pendingProps,O=E.children,H=f!==null?f.memoizedState:null;if(E.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(kp,Cl),Cl|=x;else{if((x&1073741824)===0)return f=H!==null?H.baseLanes|x:x,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:f,cachePool:null,transitions:null},h.updateQueue=null,Wn(kp,Cl),Cl|=f,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=H!==null?H.baseLanes:x,Wn(kp,Cl),Cl|=E}else H!==null?(E=H.baseLanes|x,h.memoizedState=null):E=x,Wn(kp,Cl),Cl|=E;return Vo(f,h,O,x),h.child}function B7(f,h){var x=h.ref;(f===null&&x!==null||f!==null&&f.ref!==x)&&(h.flags|=512,h.flags|=2097152)}function V4(f,h,x,E,O){var H=fo(x)?Zu:ca.current;return H=Zd(h,H),zi(h,O),x=Ah(f,h,x,E,H,O),E=Ql(),f!==null&&!el?(h.updateQueue=f.updateQueue,h.flags&=-2053,f.lanes&=~O,rd(f,h,O)):(bt&&E&&yt(h),h.flags|=1,Vo(f,h,x,O),h.child)}function U7(f,h,x,E,O){if(fo(x)){var H=!0;ed(h)}else H=!1;if(zi(h,O),h.stateNode===null)Lx(f,h),A7(h,x,E),D4(h,x,E,O),E=!0;else if(f===null){var ue=h.stateNode,De=h.memoizedProps;ue.props=De;var Ue=ue.context,ft=x.contextType;typeof ft=="object"&&ft!==null?ft=$i(ft):(ft=fo(x)?Zu:ca.current,ft=Zd(h,ft));var Lt=x.getDerivedStateFromProps,Ot=typeof Lt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";Ot||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(De!==E||Ue!==ft)&&I7(h,ue,E,ft),fs=!1;var jt=h.memoizedState;ue.state=jt,Ea(h,E,ue,O),Ue=h.memoizedState,De!==E||jt!==Ue||uo.current||fs?(typeof Lt=="function"&&(F4(h,x,Lt,E),Ue=h.memoizedState),(De=fs||T7(h,x,De,E,jt,Ue,ft))?(Ot||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(h.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=Ue),ue.props=E,ue.state=Ue,ue.context=ft,E=De):(typeof ue.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{ue=h.stateNode,ho(f,h),De=h.memoizedProps,ft=h.type===h.elementType?De:Ac(h.type,De),ue.props=ft,Ot=h.pendingProps,jt=ue.context,Ue=x.contextType,typeof Ue=="object"&&Ue!==null?Ue=$i(Ue):(Ue=fo(x)?Zu:ca.current,Ue=Zd(h,Ue));var rr=x.getDerivedStateFromProps;(Lt=typeof rr=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(De!==Ot||jt!==Ue)&&I7(h,ue,E,Ue),fs=!1,jt=h.memoizedState,ue.state=jt,Ea(h,E,ue,O);var ur=h.memoizedState;De!==Ot||jt!==ur||uo.current||fs?(typeof rr=="function"&&(F4(h,x,rr,E),ur=h.memoizedState),(ft=fs||T7(h,x,ft,E,jt,ur,Ue)||!1)?(Lt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(E,ur,Ue),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(E,ur,Ue)),typeof ue.componentDidUpdate=="function"&&(h.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof ue.componentDidUpdate!="function"||De===f.memoizedProps&&jt===f.memoizedState||(h.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||De===f.memoizedProps&&jt===f.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=ur),ue.props=E,ue.state=ur,ue.context=Ue,E=ft):(typeof ue.componentDidUpdate!="function"||De===f.memoizedProps&&jt===f.memoizedState||(h.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||De===f.memoizedProps&&jt===f.memoizedState||(h.flags|=1024),E=!1)}return B4(f,h,x,E,H,O)}function B4(f,h,x,E,O,H){B7(f,h);var ue=(h.flags&128)!==0;if(!E&&!ue)return O&&Ex(h,x,!1),rd(f,h,H);E=h.stateNode,JU.current=h;var De=ue&&typeof x.getDerivedStateFromError!="function"?null:E.render();return h.flags|=1,f!==null&&ue?(h.child=ds(h,f.child,null,H),h.child=ds(h,null,De,H)):Vo(f,h,De,H),h.memoizedState=E.state,O&&Ex(h,x,!0),h.child}function z7(f){var h=f.stateNode;h.pendingContext?Sx(f,h.pendingContext,h.pendingContext!==h.context):h.context&&Sx(f,h.context,!1),ef(f,h.containerInfo)}function $7(f,h,x,E,O){return ar(),Wt(O),h.flags|=256,Vo(f,h,x,E),h.child}var U4={dehydrated:null,treeContext:null,retryLane:0};function z4(f){return{baseLanes:f,cachePool:null,transitions:null}}function q7(f,h,x){var E=h.pendingProps,O=yi.current,H=!1,ue=(h.flags&128)!==0,De;if((De=ue)||(De=f!==null&&f.memoizedState===null?!1:(O&2)!==0),De?(H=!0,h.flags&=-129):(f===null||f.memoizedState!==null)&&(O|=1),Wn(yi,O&1),f===null)return lr(h),f=h.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((h.mode&1)===0?h.lanes=1:f.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(ue=E.children,f=E.fallback,H?(E=h.mode,H=h.child,ue={mode:"hidden",children:ue},(E&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=ue):H=Wx(ue,E,0,null),f=Dh(f,E,x,null),H.return=h,f.return=h,H.sibling=f,h.child=H,h.child.memoizedState=z4(x),h.memoizedState=U4,f):$4(h,ue));if(O=f.memoizedState,O!==null&&(De=O.dehydrated,De!==null))return ZU(f,h,ue,E,De,O,x);if(H){H=E.fallback,ue=h.mode,O=f.child,De=O.sibling;var Ue={mode:"hidden",children:E.children};return(ue&1)===0&&h.child!==O?(E=h.child,E.childLanes=0,E.pendingProps=Ue,h.deletions=null):(E=uf(O,Ue),E.subtreeFlags=O.subtreeFlags&14680064),De!==null?H=uf(De,H):(H=Dh(H,ue,x,null),H.flags|=2),H.return=h,E.return=h,E.sibling=H,h.child=E,E=H,H=h.child,ue=f.child.memoizedState,ue=ue===null?z4(x):{baseLanes:ue.baseLanes|x,cachePool:null,transitions:ue.transitions},H.memoizedState=ue,H.childLanes=f.childLanes&~x,h.memoizedState=U4,E}return H=f.child,f=H.sibling,E=uf(H,{mode:"visible",children:E.children}),(h.mode&1)===0&&(E.lanes=x),E.return=h,E.sibling=null,f!==null&&(x=h.deletions,x===null?(h.deletions=[f],h.flags|=16):x.push(f)),h.child=E,h.memoizedState=null,E}function $4(f,h){return h=Wx({mode:"visible",children:h},f.mode,0,null),h.return=f,f.child=h}function jx(f,h,x,E){return E!==null&&Wt(E),ds(h,f.child,null,x),f=$4(h,h.pendingProps.children),f.flags|=2,h.memoizedState=null,f}function ZU(f,h,x,E,O,H,ue){if(x)return h.flags&256?(h.flags&=-257,E=O4(Error(r(422))),jx(f,h,ue,E)):h.memoizedState!==null?(h.child=f.child,h.flags|=128,null):(H=E.fallback,O=h.mode,E=Wx({mode:"visible",children:E.children},O,0,null),H=Dh(H,O,ue,null),H.flags|=2,E.return=h,H.return=h,E.sibling=H,h.child=E,(h.mode&1)!==0&&ds(h,f.child,null,ue),h.child.memoizedState=z4(ue),h.memoizedState=U4,H);if((h.mode&1)===0)return jx(f,h,ue,null);if(O.data==="$!"){if(E=O.nextSibling&&O.nextSibling.dataset,E)var De=E.dgst;return E=De,H=Error(r(419)),E=O4(H,E,void 0),jx(f,h,ue,E)}if(De=(ue&f.childLanes)!==0,el||De){if(E=Ca,E!==null){switch(ue&-ue){case 4:O=2;break;case 16:O=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:O=32;break;case 536870912:O=268435456;break;default:O=0}O=(O&(E.suspendedLanes|ue))!==0?0:O,O!==0&&O!==H.retryLane&&(H.retryLane=O,Zn(f,O),Rc(E,f,O,-1))}return sw(),E=O4(Error(r(421))),jx(f,h,ue,E)}return O.data==="$?"?(h.flags|=128,h.child=f.child,h=fz.bind(null,f),O._reactRetry=h,null):(f=H.treeContext,vt=qa(O.nextSibling),gt=h,bt=!0,kt=null,f!==null&&(ye[Ce++]=nt,ye[Ce++]=Te,ye[Ce++]=Be,nt=f.id,Te=f.overflow,Be=h),h=$4(h,E.children),h.flags|=4096,h)}function H7(f,h,x){f.lanes|=h;var E=f.alternate;E!==null&&(E.lanes|=h),Fn(f.return,h,x)}function q4(f,h,x,E,O){var H=f.memoizedState;H===null?f.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:x,tailMode:O}:(H.isBackwards=h,H.rendering=null,H.renderingStartTime=0,H.last=E,H.tail=x,H.tailMode=O)}function W7(f,h,x){var E=h.pendingProps,O=E.revealOrder,H=E.tail;if(Vo(f,h,E.children,x),E=yi.current,(E&2)!==0)E=E&1|2,h.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=h.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&H7(f,x,h);else if(f.tag===19)H7(f,x,h);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break e;for(;f.sibling===null;){if(f.return===null||f.return===h)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}if(Wn(yi,E),(h.mode&1)===0)h.memoizedState=null;else switch(O){case"forwards":for(x=h.child,O=null;x!==null;)f=x.alternate,f!==null&&kl(f)===null&&(O=x),x=x.sibling;x=O,x===null?(O=h.child,h.child=null):(O=x.sibling,x.sibling=null),q4(h,!1,O,x,H);break;case"backwards":for(x=null,O=h.child,h.child=null;O!==null;){if(f=O.alternate,f!==null&&kl(f)===null){h.child=O;break}f=O.sibling,O.sibling=x,x=O,O=f}q4(h,!0,x,null,H);break;case"together":q4(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Lx(f,h){(h.mode&1)===0&&f!==null&&(f.alternate=null,h.alternate=null,h.flags|=2)}function rd(f,h,x){if(f!==null&&(h.dependencies=f.dependencies),Rh|=h.lanes,(x&h.childLanes)===0)return null;if(f!==null&&h.child!==f.child)throw Error(r(153));if(h.child!==null){for(f=h.child,x=uf(f,f.pendingProps),h.child=x,x.return=h;f.sibling!==null;)f=f.sibling,x=x.sibling=uf(f,f.pendingProps),x.return=h;x.sibling=null}return h.child}function ez(f,h,x){switch(h.tag){case 3:z7(h),ar();break;case 5:Cx(h);break;case 1:fo(h.type)&&ed(h);break;case 4:ef(h,h.stateNode.containerInfo);break;case 10:var E=h.type._context,O=h.memoizedProps.value;Wn(As,E._currentValue),E._currentValue=O;break;case 13:if(E=h.memoizedState,E!==null)return E.dehydrated!==null?(Wn(yi,yi.current&1),h.flags|=128,null):(x&h.child.childLanes)!==0?q7(f,h,x):(Wn(yi,yi.current&1),f=rd(f,h,x),f!==null?f.sibling:null);Wn(yi,yi.current&1);break;case 19:if(E=(x&h.childLanes)!==0,(f.flags&128)!==0){if(E)return W7(f,h,x);h.flags|=128}if(O=h.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Wn(yi,yi.current),E)break;return null;case 22:case 23:return h.lanes=0,V7(f,h,x)}return rd(f,h,x)}var G7,H4,K7,Y7;G7=function(f,h){for(var x=h.child;x!==null;){if(x.tag===5||x.tag===6)f.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},H4=function(){},K7=function(f,h,x,E){var O=f.memoizedProps;if(O!==E){f=h.stateNode,Cc(Ks.current);var H=null;switch(x){case"input":O=Re(f,O),E=Re(f,E),H=[];break;case"select":O=ie({},O,{value:void 0}),E=ie({},E,{value:void 0}),H=[];break;case"textarea":O=Et(f,O),E=Et(f,E),H=[];break;default:typeof O.onClick!="function"&&typeof E.onClick=="function"&&(f.onclick=Xd)}Pr(x,E);var ue;x=null;for(ft in O)if(!E.hasOwnProperty(ft)&&O.hasOwnProperty(ft)&&O[ft]!=null)if(ft==="style"){var De=O[ft];for(ue in De)De.hasOwnProperty(ue)&&(x||(x={}),x[ue]="")}else ft!=="dangerouslySetInnerHTML"&&ft!=="children"&&ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&ft!=="autoFocus"&&(i.hasOwnProperty(ft)?H||(H=[]):(H=H||[]).push(ft,null));for(ft in E){var Ue=E[ft];if(De=O?.[ft],E.hasOwnProperty(ft)&&Ue!==De&&(Ue!=null||De!=null))if(ft==="style")if(De){for(ue in De)!De.hasOwnProperty(ue)||Ue&&Ue.hasOwnProperty(ue)||(x||(x={}),x[ue]="");for(ue in Ue)Ue.hasOwnProperty(ue)&&De[ue]!==Ue[ue]&&(x||(x={}),x[ue]=Ue[ue])}else x||(H||(H=[]),H.push(ft,x)),x=Ue;else ft==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,De=De?De.__html:void 0,Ue!=null&&De!==Ue&&(H=H||[]).push(ft,Ue)):ft==="children"?typeof Ue!="string"&&typeof Ue!="number"||(H=H||[]).push(ft,""+Ue):ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&(i.hasOwnProperty(ft)?(Ue!=null&&ft==="onScroll"&&Qn("scroll",f),H||De===Ue||(H=[])):(H=H||[]).push(ft,Ue))}x&&(H=H||[]).push("style",x);var ft=H;(h.updateQueue=ft)&&(h.flags|=4)}},Y7=function(f,h,x,E){x!==E&&(h.flags|=4)};function Om(f,h){if(!bt)switch(f.tailMode){case"hidden":h=f.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?f.tail=null:x.sibling=null;break;case"collapsed":x=f.tail;for(var E=null;x!==null;)x.alternate!==null&&(E=x),x=x.sibling;E===null?h||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function po(f){var h=f.alternate!==null&&f.alternate.child===f.child,x=0,E=0;if(h)for(var O=f.child;O!==null;)x|=O.lanes|O.childLanes,E|=O.subtreeFlags&14680064,E|=O.flags&14680064,O.return=f,O=O.sibling;else for(O=f.child;O!==null;)x|=O.lanes|O.childLanes,E|=O.subtreeFlags,E|=O.flags,O.return=f,O=O.sibling;return f.subtreeFlags|=E,f.childLanes=x,h}function tz(f,h,x){var E=h.pendingProps;switch(st(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return po(h),null;case 1:return fo(h.type)&&dp(),po(h),null;case 3:return E=h.stateNode,Yl(),$n(uo),$n(ca),Lm(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(f===null||f.child===null)&&(Ui(h)?h.flags|=4:f===null||f.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,kt!==null&&(rw(kt),kt=null))),H4(f,h),po(h),null;case 5:Rm(h);var O=Cc(lu.current);if(x=h.type,f!==null&&h.stateNode!=null)K7(f,h,x,E,O),f.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!E){if(h.stateNode===null)throw Error(r(166));return po(h),null}if(f=Cc(Ks.current),Ui(h)){E=h.stateNode,x=h.type;var H=h.memoizedProps;switch(E[Kl]=h,E[Qd]=H,f=(h.mode&1)!==0,x){case"dialog":Qn("cancel",E),Qn("close",E);break;case"iframe":case"object":case"embed":Qn("load",E);break;case"video":case"audio":for(O=0;O<su.length;O++)Qn(su[O],E);break;case"source":Qn("error",E);break;case"img":case"image":case"link":Qn("error",E),Qn("load",E);break;case"details":Qn("toggle",E);break;case"input":pe(E,H),Qn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!H.multiple},Qn("invalid",E);break;case"textarea":St(E,H),Qn("invalid",E)}Pr(x,H),O=null;for(var ue in H)if(H.hasOwnProperty(ue)){var De=H[ue];ue==="children"?typeof De=="string"?E.textContent!==De&&(H.suppressHydrationWarning!==!0&&up(E.textContent,De,f),O=["children",De]):typeof De=="number"&&E.textContent!==""+De&&(H.suppressHydrationWarning!==!0&&up(E.textContent,De,f),O=["children",""+De]):i.hasOwnProperty(ue)&&De!=null&&ue==="onScroll"&&Qn("scroll",E)}switch(x){case"input":Oe(E),ot(E,H,!0);break;case"textarea":Oe(E),Ke(E);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(E.onclick=Xd)}E=O,h.updateQueue=E,E!==null&&(h.flags|=4)}else{ue=O.nodeType===9?O:O.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Qe(x)),f==="http://www.w3.org/1999/xhtml"?x==="script"?(f=ue.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof E.is=="string"?f=ue.createElement(x,{is:E.is}):(f=ue.createElement(x),x==="select"&&(ue=f,E.multiple?ue.multiple=!0:E.size&&(ue.size=E.size))):f=ue.createElementNS(f,x),f[Kl]=h,f[Qd]=E,G7(f,h,!1,!1),h.stateNode=f;e:{switch(ue=Zt(x,E),x){case"dialog":Qn("cancel",f),Qn("close",f),O=E;break;case"iframe":case"object":case"embed":Qn("load",f),O=E;break;case"video":case"audio":for(O=0;O<su.length;O++)Qn(su[O],f);O=E;break;case"source":Qn("error",f),O=E;break;case"img":case"image":case"link":Qn("error",f),Qn("load",f),O=E;break;case"details":Qn("toggle",f),O=E;break;case"input":pe(f,E),O=Re(f,E),Qn("invalid",f);break;case"option":O=E;break;case"select":f._wrapperState={wasMultiple:!!E.multiple},O=ie({},E,{value:void 0}),Qn("invalid",f);break;case"textarea":St(f,E),O=Et(f,E),Qn("invalid",f);break;default:O=E}Pr(x,O),De=O;for(H in De)if(De.hasOwnProperty(H)){var Ue=De[H];H==="style"?Ct(f,Ue):H==="dangerouslySetInnerHTML"?(Ue=Ue?Ue.__html:void 0,Ue!=null&&We(f,Ue)):H==="children"?typeof Ue=="string"?(x!=="textarea"||Ue!=="")&&lt(f,Ue):typeof Ue=="number"&&lt(f,""+Ue):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?Ue!=null&&H==="onScroll"&&Qn("scroll",f):Ue!=null&&A(f,H,Ue,ue))}switch(x){case"input":Oe(f),ot(f,E,!1);break;case"textarea":Oe(f),Ke(f);break;case"option":E.value!=null&&f.setAttribute("value",""+ke(E.value));break;case"select":f.multiple=!!E.multiple,H=E.value,H!=null?ut(f,!!E.multiple,H,!1):E.defaultValue!=null&&ut(f,!!E.multiple,E.defaultValue,!0);break;default:typeof O.onClick=="function"&&(f.onclick=Xd)}switch(x){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return po(h),null;case 6:if(f&&h.stateNode!=null)Y7(f,h,f.memoizedProps,E);else{if(typeof E!="string"&&h.stateNode===null)throw Error(r(166));if(x=Cc(lu.current),Cc(Ks.current),Ui(h)){if(E=h.stateNode,x=h.memoizedProps,E[Kl]=h,(H=E.nodeValue!==x)&&(f=gt,f!==null))switch(f.tag){case 3:up(E.nodeValue,x,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&up(E.nodeValue,x,(f.mode&1)!==0)}H&&(h.flags|=4)}else E=(x.nodeType===9?x:x.ownerDocument).createTextNode(E),E[Kl]=h,h.stateNode=E}return po(h),null;case 13:if($n(yi),E=h.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(bt&&vt!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Gr(),ar(),h.flags|=98560,H=!1;else if(H=Ui(h),E!==null&&E.dehydrated!==null){if(f===null){if(!H)throw Error(r(318));if(H=h.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(r(317));H[Kl]=h}else ar(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;po(h),H=!1}else kt!==null&&(rw(kt),kt=null),H=!0;if(!H)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=x,h):(E=E!==null,E!==(f!==null&&f.memoizedState!==null)&&E&&(h.child.flags|=8192,(h.mode&1)!==0&&(f===null||(yi.current&1)!==0?da===0&&(da=3):sw())),h.updateQueue!==null&&(h.flags|=4),po(h),null);case 4:return Yl(),H4(f,h),f===null&&Yu(h.stateNode.containerInfo),po(h),null;case 10:return Ni(h.type._context),po(h),null;case 17:return fo(h.type)&&dp(),po(h),null;case 19:if($n(yi),H=h.memoizedState,H===null)return po(h),null;if(E=(h.flags&128)!==0,ue=H.rendering,ue===null)if(E)Om(H,!1);else{if(da!==0||f!==null&&(f.flags&128)!==0)for(f=h.child;f!==null;){if(ue=kl(f),ue!==null){for(h.flags|=128,Om(H,!1),E=ue.updateQueue,E!==null&&(h.updateQueue=E,h.flags|=4),h.subtreeFlags=0,E=x,x=h.child;x!==null;)H=x,f=E,H.flags&=14680066,ue=H.alternate,ue===null?(H.childLanes=0,H.lanes=f,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ue.childLanes,H.lanes=ue.lanes,H.child=ue.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ue.memoizedProps,H.memoizedState=ue.memoizedState,H.updateQueue=ue.updateQueue,H.type=ue.type,f=ue.dependencies,H.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),x=x.sibling;return Wn(yi,yi.current&1|2),h.child}f=f.sibling}H.tail!==null&&It()>Sp&&(h.flags|=128,E=!0,Om(H,!1),h.lanes=4194304)}else{if(!E)if(f=kl(ue),f!==null){if(h.flags|=128,E=!0,x=f.updateQueue,x!==null&&(h.updateQueue=x,h.flags|=4),Om(H,!0),H.tail===null&&H.tailMode==="hidden"&&!ue.alternate&&!bt)return po(h),null}else 2*It()-H.renderingStartTime>Sp&&x!==1073741824&&(h.flags|=128,E=!0,Om(H,!1),h.lanes=4194304);H.isBackwards?(ue.sibling=h.child,h.child=ue):(x=H.last,x!==null?x.sibling=ue:h.child=ue,H.last=ue)}return H.tail!==null?(h=H.tail,H.rendering=h,H.tail=h.sibling,H.renderingStartTime=It(),h.sibling=null,x=yi.current,Wn(yi,E?x&1|2:x&1),h):(po(h),null);case 22:case 23:return iw(),E=h.memoizedState!==null,f!==null&&f.memoizedState!==null!==E&&(h.flags|=8192),E&&(h.mode&1)!==0?(Cl&1073741824)!==0&&(po(h),h.subtreeFlags&6&&(h.flags|=8192)):po(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function rz(f,h){switch(st(h),h.tag){case 1:return fo(h.type)&&dp(),f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 3:return Yl(),$n(uo),$n(ca),Lm(),f=h.flags,(f&65536)!==0&&(f&128)===0?(h.flags=f&-65537|128,h):null;case 5:return Rm(h),null;case 13:if($n(yi),f=h.memoizedState,f!==null&&f.dehydrated!==null){if(h.alternate===null)throw Error(r(340));ar()}return f=h.flags,f&65536?(h.flags=f&-65537|128,h):null;case 19:return $n(yi),null;case 4:return Yl(),null;case 10:return Ni(h.type._context),null;case 22:case 23:return iw(),null;case 24:return null;default:return null}}var Fx=!1,mo=!1,nz=typeof WeakSet=="function"?WeakSet:Set,or=null;function bp(f,h){var x=f.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(E){ps(f,h,E)}else x.current=null}function W4(f,h,x){try{x()}catch(E){ps(f,h,E)}}var X7=!1;function iz(f,h){if(Ch=Ul,f=vm(),ip(f)){if("selectionStart"in f)var x={start:f.selectionStart,end:f.selectionEnd};else e:{x=(x=f.ownerDocument)&&x.defaultView||window;var E=x.getSelection&&x.getSelection();if(E&&E.rangeCount!==0){x=E.anchorNode;var O=E.anchorOffset,H=E.focusNode;E=E.focusOffset;try{x.nodeType,H.nodeType}catch{x=null;break e}var ue=0,De=-1,Ue=-1,ft=0,Lt=0,Ot=f,jt=null;t:for(;;){for(var rr;Ot!==x||O!==0&&Ot.nodeType!==3||(De=ue+O),Ot!==H||E!==0&&Ot.nodeType!==3||(Ue=ue+E),Ot.nodeType===3&&(ue+=Ot.nodeValue.length),(rr=Ot.firstChild)!==null;)jt=Ot,Ot=rr;for(;;){if(Ot===f)break t;if(jt===x&&++ft===O&&(De=ue),jt===H&&++Lt===E&&(Ue=ue),(rr=Ot.nextSibling)!==null)break;Ot=jt,jt=Ot.parentNode}Ot=rr}x=De===-1||Ue===-1?null:{start:De,end:Ue}}else x=null}x=x||{start:0,end:0}}else x=null;for(Qu={focusedElem:f,selectionRange:x},Ul=!1,or=h;or!==null;)if(h=or,f=h.child,(h.subtreeFlags&1028)!==0&&f!==null)f.return=h,or=f;else for(;or!==null;){h=or;try{var ur=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(ur!==null){var pr=ur.memoizedProps,Ps=ur.memoizedState,it=h.stateNode,qe=it.getSnapshotBeforeUpdate(h.elementType===h.type?pr:Ac(h.type,pr),Ps);it.__reactInternalSnapshotBeforeUpdate=qe}break;case 3:var ct=h.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(zt){ps(h,h.return,zt)}if(f=h.sibling,f!==null){f.return=h.return,or=f;break}or=h.return}return ur=X7,X7=!1,ur}function Mm(f,h,x){var E=h.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var O=E=E.next;do{if((O.tag&f)===f){var H=O.destroy;O.destroy=void 0,H!==void 0&&W4(h,x,H)}O=O.next}while(O!==E)}}function Dx(f,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var x=h=h.next;do{if((x.tag&f)===f){var E=x.create;x.destroy=E()}x=x.next}while(x!==h)}}function G4(f){var h=f.ref;if(h!==null){var x=f.stateNode;switch(f.tag){case 5:f=x;break;default:f=x}typeof h=="function"?h(f):h.current=f}}function Q7(f){var h=f.alternate;h!==null&&(f.alternate=null,Q7(h)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(h=f.stateNode,h!==null&&(delete h[Kl],delete h[Qd],delete h[co],delete h[P4],delete h[R4])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function J7(f){return f.tag===5||f.tag===3||f.tag===4}function Z7(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||J7(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function K4(f,h,x){var E=f.tag;if(E===5||E===6)f=f.stateNode,h?x.nodeType===8?x.parentNode.insertBefore(f,h):x.insertBefore(f,h):(x.nodeType===8?(h=x.parentNode,h.insertBefore(f,x)):(h=x,h.appendChild(f)),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Xd));else if(E!==4&&(f=f.child,f!==null))for(K4(f,h,x),f=f.sibling;f!==null;)K4(f,h,x),f=f.sibling}function Y4(f,h,x){var E=f.tag;if(E===5||E===6)f=f.stateNode,h?x.insertBefore(f,h):x.appendChild(f);else if(E!==4&&(f=f.child,f!==null))for(Y4(f,h,x),f=f.sibling;f!==null;)Y4(f,h,x),f=f.sibling}var Ha=null,Ic=!1;function sf(f,h,x){for(x=x.child;x!==null;)eS(f,h,x),x=x.sibling}function eS(f,h,x){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount($s,x)}catch{}switch(x.tag){case 5:mo||bp(x,h);case 6:var E=Ha,O=Ic;Ha=null,sf(f,h,x),Ha=E,Ic=O,Ha!==null&&(Ic?(f=Ha,x=x.stateNode,f.nodeType===8?f.parentNode.removeChild(x):f.removeChild(x)):Ha.removeChild(x.stateNode));break;case 18:Ha!==null&&(Ic?(f=Ha,x=x.stateNode,f.nodeType===8?Am(f.parentNode,x):f.nodeType===1&&Am(f,x),wa(f)):Am(Ha,x.stateNode));break;case 4:E=Ha,O=Ic,Ha=x.stateNode.containerInfo,Ic=!0,sf(f,h,x),Ha=E,Ic=O;break;case 0:case 11:case 14:case 15:if(!mo&&(E=x.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){O=E=E.next;do{var H=O,ue=H.destroy;H=H.tag,ue!==void 0&&((H&2)!==0||(H&4)!==0)&&W4(x,h,ue),O=O.next}while(O!==E)}sf(f,h,x);break;case 1:if(!mo&&(bp(x,h),E=x.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=x.memoizedProps,E.state=x.memoizedState,E.componentWillUnmount()}catch(De){ps(x,h,De)}sf(f,h,x);break;case 21:sf(f,h,x);break;case 22:x.mode&1?(mo=(E=mo)||x.memoizedState!==null,sf(f,h,x),mo=E):sf(f,h,x);break;default:sf(f,h,x)}}function tS(f){var h=f.updateQueue;if(h!==null){f.updateQueue=null;var x=f.stateNode;x===null&&(x=f.stateNode=new nz),h.forEach(function(E){var O=hz.bind(null,f,E);x.has(E)||(x.add(E),E.then(O,O))})}}function Pc(f,h){var x=h.deletions;if(x!==null)for(var E=0;E<x.length;E++){var O=x[E];try{var H=f,ue=h,De=ue;e:for(;De!==null;){switch(De.tag){case 5:Ha=De.stateNode,Ic=!1;break e;case 3:Ha=De.stateNode.containerInfo,Ic=!0;break e;case 4:Ha=De.stateNode.containerInfo,Ic=!0;break e}De=De.return}if(Ha===null)throw Error(r(160));eS(H,ue,O),Ha=null,Ic=!1;var Ue=O.alternate;Ue!==null&&(Ue.return=null),O.return=null}catch(ft){ps(O,h,ft)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)rS(h,f),h=h.sibling}function rS(f,h){var x=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Pc(h,f),uu(f),E&4){try{Mm(3,f,f.return),Dx(3,f)}catch(pr){ps(f,f.return,pr)}try{Mm(5,f,f.return)}catch(pr){ps(f,f.return,pr)}}break;case 1:Pc(h,f),uu(f),E&512&&x!==null&&bp(x,x.return);break;case 5:if(Pc(h,f),uu(f),E&512&&x!==null&&bp(x,x.return),f.flags&32){var O=f.stateNode;try{lt(O,"")}catch(pr){ps(f,f.return,pr)}}if(E&4&&(O=f.stateNode,O!=null)){var H=f.memoizedProps,ue=x!==null?x.memoizedProps:H,De=f.type,Ue=f.updateQueue;if(f.updateQueue=null,Ue!==null)try{De==="input"&&H.type==="radio"&&H.name!=null&&Ye(O,H),Zt(De,ue);var ft=Zt(De,H);for(ue=0;ue<Ue.length;ue+=2){var Lt=Ue[ue],Ot=Ue[ue+1];Lt==="style"?Ct(O,Ot):Lt==="dangerouslySetInnerHTML"?We(O,Ot):Lt==="children"?lt(O,Ot):A(O,Lt,Ot,ft)}switch(De){case"input":ze(O,H);break;case"textarea":je(O,H);break;case"select":var jt=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!H.multiple;var rr=H.value;rr!=null?ut(O,!!H.multiple,rr,!1):jt!==!!H.multiple&&(H.defaultValue!=null?ut(O,!!H.multiple,H.defaultValue,!0):ut(O,!!H.multiple,H.multiple?[]:"",!1))}O[Qd]=H}catch(pr){ps(f,f.return,pr)}}break;case 6:if(Pc(h,f),uu(f),E&4){if(f.stateNode===null)throw Error(r(162));O=f.stateNode,H=f.memoizedProps;try{O.nodeValue=H}catch(pr){ps(f,f.return,pr)}}break;case 3:if(Pc(h,f),uu(f),E&4&&x!==null&&x.memoizedState.isDehydrated)try{wa(h.containerInfo)}catch(pr){ps(f,f.return,pr)}break;case 4:Pc(h,f),uu(f);break;case 13:Pc(h,f),uu(f),O=f.child,O.flags&8192&&(H=O.memoizedState!==null,O.stateNode.isHidden=H,!H||O.alternate!==null&&O.alternate.memoizedState!==null||(J4=It())),E&4&&tS(f);break;case 22:if(Lt=x!==null&&x.memoizedState!==null,f.mode&1?(mo=(ft=mo)||Lt,Pc(h,f),mo=ft):Pc(h,f),uu(f),E&8192){if(ft=f.memoizedState!==null,(f.stateNode.isHidden=ft)&&!Lt&&(f.mode&1)!==0)for(or=f,Lt=f.child;Lt!==null;){for(Ot=or=Lt;or!==null;){switch(jt=or,rr=jt.child,jt.tag){case 0:case 11:case 14:case 15:Mm(4,jt,jt.return);break;case 1:bp(jt,jt.return);var ur=jt.stateNode;if(typeof ur.componentWillUnmount=="function"){E=jt,x=jt.return;try{h=E,ur.props=h.memoizedProps,ur.state=h.memoizedState,ur.componentWillUnmount()}catch(pr){ps(E,x,pr)}}break;case 5:bp(jt,jt.return);break;case 22:if(jt.memoizedState!==null){sS(Ot);continue}}rr!==null?(rr.return=jt,or=rr):sS(Ot)}Lt=Lt.sibling}e:for(Lt=null,Ot=f;;){if(Ot.tag===5){if(Lt===null){Lt=Ot;try{O=Ot.stateNode,ft?(H=O.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(De=Ot.stateNode,Ue=Ot.memoizedProps.style,ue=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null,De.style.display=Kt("display",ue))}catch(pr){ps(f,f.return,pr)}}}else if(Ot.tag===6){if(Lt===null)try{Ot.stateNode.nodeValue=ft?"":Ot.memoizedProps}catch(pr){ps(f,f.return,pr)}}else if((Ot.tag!==22&&Ot.tag!==23||Ot.memoizedState===null||Ot===f)&&Ot.child!==null){Ot.child.return=Ot,Ot=Ot.child;continue}if(Ot===f)break e;for(;Ot.sibling===null;){if(Ot.return===null||Ot.return===f)break e;Lt===Ot&&(Lt=null),Ot=Ot.return}Lt===Ot&&(Lt=null),Ot.sibling.return=Ot.return,Ot=Ot.sibling}}break;case 19:Pc(h,f),uu(f),E&4&&tS(f);break;case 21:break;default:Pc(h,f),uu(f)}}function uu(f){var h=f.flags;if(h&2){try{e:{for(var x=f.return;x!==null;){if(J7(x)){var E=x;break e}x=x.return}throw Error(r(160))}switch(E.tag){case 5:var O=E.stateNode;E.flags&32&&(lt(O,""),E.flags&=-33);var H=Z7(f);Y4(f,H,O);break;case 3:case 4:var ue=E.stateNode.containerInfo,De=Z7(f);K4(f,De,ue);break;default:throw Error(r(161))}}catch(Ue){ps(f,f.return,Ue)}f.flags&=-3}h&4096&&(f.flags&=-4097)}function sz(f,h,x){or=f,nS(f)}function nS(f,h,x){for(var E=(f.mode&1)!==0;or!==null;){var O=or,H=O.child;if(O.tag===22&&E){var ue=O.memoizedState!==null||Fx;if(!ue){var De=O.alternate,Ue=De!==null&&De.memoizedState!==null||mo;De=Fx;var ft=mo;if(Fx=ue,(mo=Ue)&&!ft)for(or=O;or!==null;)ue=or,Ue=ue.child,ue.tag===22&&ue.memoizedState!==null?aS(O):Ue!==null?(Ue.return=ue,or=Ue):aS(O);for(;H!==null;)or=H,nS(H),H=H.sibling;or=O,Fx=De,mo=ft}iS(f)}else(O.subtreeFlags&8772)!==0&&H!==null?(H.return=O,or=H):iS(f)}}function iS(f){for(;or!==null;){var h=or;if((h.flags&8772)!==0){var x=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:mo||Dx(5,h);break;case 1:var E=h.stateNode;if(h.flags&4&&!mo)if(x===null)E.componentDidMount();else{var O=h.elementType===h.type?x.memoizedProps:Ac(h.type,x.memoizedProps);E.componentDidUpdate(O,x.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var H=h.updateQueue;H!==null&&Zo(h,H,E);break;case 3:var ue=h.updateQueue;if(ue!==null){if(x=null,h.child!==null)switch(h.child.tag){case 5:x=h.child.stateNode;break;case 1:x=h.child.stateNode}Zo(h,ue,x)}break;case 5:var De=h.stateNode;if(x===null&&h.flags&4){x=De;var Ue=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":Ue.autoFocus&&x.focus();break;case"img":Ue.src&&(x.src=Ue.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var ft=h.alternate;if(ft!==null){var Lt=ft.memoizedState;if(Lt!==null){var Ot=Lt.dehydrated;Ot!==null&&wa(Ot)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}mo||h.flags&512&&G4(h)}catch(jt){ps(h,h.return,jt)}}if(h===f){or=null;break}if(x=h.sibling,x!==null){x.return=h.return,or=x;break}or=h.return}}function sS(f){for(;or!==null;){var h=or;if(h===f){or=null;break}var x=h.sibling;if(x!==null){x.return=h.return,or=x;break}or=h.return}}function aS(f){for(;or!==null;){var h=or;try{switch(h.tag){case 0:case 11:case 15:var x=h.return;try{Dx(4,h)}catch(Ue){ps(h,x,Ue)}break;case 1:var E=h.stateNode;if(typeof E.componentDidMount=="function"){var O=h.return;try{E.componentDidMount()}catch(Ue){ps(h,O,Ue)}}var H=h.return;try{G4(h)}catch(Ue){ps(h,H,Ue)}break;case 5:var ue=h.return;try{G4(h)}catch(Ue){ps(h,ue,Ue)}}}catch(Ue){ps(h,h.return,Ue)}if(h===f){or=null;break}var De=h.sibling;if(De!==null){De.return=h.return,or=De;break}or=h.return}}var az=Math.ceil,Ox=V.ReactCurrentDispatcher,X4=V.ReactCurrentOwner,Jl=V.ReactCurrentBatchConfig,Dn=0,Ca=null,Ys=null,Wa=0,Cl=0,kp=_l(0),da=0,Vm=null,Rh=0,Mx=0,Q4=0,Bm=null,tl=null,J4=0,Sp=1/0,nd=null,Vx=!1,Z4=null,af=null,Bx=!1,of=null,Ux=0,Um=0,ew=null,zx=-1,$x=0;function Bo(){return(Dn&6)!==0?It():zx!==-1?zx:zx=It()}function lf(f){return(f.mode&1)===0?1:(Dn&2)!==0&&Wa!==0?Wa&-Wa:Zi.transition!==null?($x===0&&($x=ya()),$x):(f=en,f!==0||(f=window.event,f=f===void 0?16:$l(f.type)),f)}function Rc(f,h,x,E){if(50<Um)throw Um=0,ew=null,Error(r(185));Fo(f,x,E),((Dn&2)===0||f!==Ca)&&(f===Ca&&((Dn&2)===0&&(Mx|=x),da===4&&cf(f,Wa)),rl(f,E),x===1&&Dn===0&&(h.mode&1)===0&&(Sp=It()+500,Th&&Q()))}function rl(f,h){var x=f.callbackNode;rn(f,h);var E=En(f,f===Ca?Wa:0);if(E===0)x!==null&&Vt(x),f.callbackNode=null,f.callbackPriority=0;else if(h=E&-E,f.callbackPriority!==h){if(x!=null&&Vt(x),h===1)f.tag===0?U(lS.bind(null,f)):N(lS.bind(null,f)),A4(function(){(Dn&6)===0&&Q()}),x=null;else{switch(Oa(E)){case 1:x=qr;break;case 4:x=Fr;break;case 16:x=mn;break;case 536870912:x=va;break;default:x=mn}x=gS(x,oS.bind(null,f))}f.callbackPriority=h,f.callbackNode=x}}function oS(f,h){if(zx=-1,$x=0,(Dn&6)!==0)throw Error(r(327));var x=f.callbackNode;if(Ep()&&f.callbackNode!==x)return null;var E=En(f,f===Ca?Wa:0);if(E===0)return null;if((E&30)!==0||(E&f.expiredLanes)!==0||h)h=qx(f,E);else{h=E;var O=Dn;Dn|=2;var H=uS();(Ca!==f||Wa!==h)&&(nd=null,Sp=It()+500,Lh(f,h));do try{cz();break}catch(De){cS(f,De)}while(!0);Ln(),Ox.current=H,Dn=O,Ys!==null?h=0:(Ca=null,Wa=0,h=da)}if(h!==0){if(h===2&&(O=Si(f),O!==0&&(E=O,h=tw(f,O))),h===1)throw x=Vm,Lh(f,0),cf(f,E),rl(f,It()),x;if(h===6)cf(f,E);else{if(O=f.current.alternate,(E&30)===0&&!oz(O)&&(h=qx(f,E),h===2&&(H=Si(f),H!==0&&(E=H,h=tw(f,H))),h===1))throw x=Vm,Lh(f,0),cf(f,E),rl(f,It()),x;switch(f.finishedWork=O,f.finishedLanes=E,h){case 0:case 1:throw Error(r(345));case 2:Fh(f,tl,nd);break;case 3:if(cf(f,E),(E&130023424)===E&&(h=J4+500-It(),10<h)){if(En(f,0)!==0)break;if(O=f.suspendedLanes,(O&E)!==E){Bo(),f.pingedLanes|=f.suspendedLanes&O;break}f.timeoutHandle=Tm(Fh.bind(null,f,tl,nd),h);break}Fh(f,tl,nd);break;case 4:if(cf(f,E),(E&4194240)===E)break;for(h=f.eventTimes,O=-1;0<E;){var ue=31-Yt(E);H=1<<ue,ue=h[ue],ue>O&&(O=ue),E&=~H}if(E=O,E=It()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*az(E/1960))-E,10<E){f.timeoutHandle=Tm(Fh.bind(null,f,tl,nd),E);break}Fh(f,tl,nd);break;case 5:Fh(f,tl,nd);break;default:throw Error(r(329))}}}return rl(f,It()),f.callbackNode===x?oS.bind(null,f):null}function tw(f,h){var x=Bm;return f.current.memoizedState.isDehydrated&&(Lh(f,h).flags|=256),f=qx(f,h),f!==2&&(h=tl,tl=x,h!==null&&rw(h)),f}function rw(f){tl===null?tl=f:tl.push.apply(tl,f)}function oz(f){for(var h=f;;){if(h.flags&16384){var x=h.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var E=0;E<x.length;E++){var O=x[E],H=O.getSnapshot;O=O.value;try{if(!Ts(H(),O))return!1}catch{return!1}}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===f)break;for(;h.sibling===null;){if(h.return===null||h.return===f)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function cf(f,h){for(h&=~Q4,h&=~Mx,f.suspendedLanes|=h,f.pingedLanes&=~h,f=f.expirationTimes;0<h;){var x=31-Yt(h),E=1<<x;f[x]=-1,h&=~E}}function lS(f){if((Dn&6)!==0)throw Error(r(327));Ep();var h=En(f,0);if((h&1)===0)return rl(f,It()),null;var x=qx(f,h);if(f.tag!==0&&x===2){var E=Si(f);E!==0&&(h=E,x=tw(f,E))}if(x===1)throw x=Vm,Lh(f,0),cf(f,h),rl(f,It()),x;if(x===6)throw Error(r(345));return f.finishedWork=f.current.alternate,f.finishedLanes=h,Fh(f,tl,nd),rl(f,It()),null}function nw(f,h){var x=Dn;Dn|=1;try{return f(h)}finally{Dn=x,Dn===0&&(Sp=It()+500,Th&&Q())}}function jh(f){of!==null&&of.tag===0&&(Dn&6)===0&&Ep();var h=Dn;Dn|=1;var x=Jl.transition,E=en;try{if(Jl.transition=null,en=1,f)return f()}finally{en=E,Jl.transition=x,Dn=h,(Dn&6)===0&&Q()}}function iw(){Cl=kp.current,$n(kp)}function Lh(f,h){f.finishedWork=null,f.finishedLanes=0;var x=f.timeoutHandle;if(x!==-1&&(f.timeoutHandle=-1,bx(x)),Ys!==null)for(x=Ys.return;x!==null;){var E=x;switch(st(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&dp();break;case 3:Yl(),$n(uo),$n(ca),Lm();break;case 5:Rm(E);break;case 4:Yl();break;case 13:$n(yi);break;case 19:$n(yi);break;case 10:Ni(E.type._context);break;case 22:case 23:iw()}x=x.return}if(Ca=f,Ys=f=uf(f.current,null),Wa=Cl=h,da=0,Vm=null,Q4=Mx=Rh=0,tl=Bm=null,Jn!==null){for(h=0;h<Jn.length;h++)if(x=Jn[h],E=x.interleaved,E!==null){x.interleaved=null;var O=E.next,H=x.pending;if(H!==null){var ue=H.next;H.next=O,E.next=ue}x.pending=E}Jn=null}return f}function cS(f,h){do{var x=Ys;try{if(Ln(),fp.current=Px,tf){for(var E=Ti.memoizedState;E!==null;){var O=E.queue;O!==null&&(O.pending=null),E=E.next}tf=!1}if(Xl=0,ns=hs=Ti=null,Nc=!1,rf=0,X4.current=null,x===null||x.return===null){da=1,Vm=h,Ys=null;break}e:{var H=f,ue=x.return,De=x,Ue=h;if(h=Wa,De.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var ft=Ue,Lt=De,Ot=Lt.tag;if((Lt.mode&1)===0&&(Ot===0||Ot===11||Ot===15)){var jt=Lt.alternate;jt?(Lt.updateQueue=jt.updateQueue,Lt.memoizedState=jt.memoizedState,Lt.lanes=jt.lanes):(Lt.updateQueue=null,Lt.memoizedState=null)}var rr=L7(ue);if(rr!==null){rr.flags&=-257,F7(rr,ue,De,H,h),rr.mode&1&&j7(H,ft,h),h=rr,Ue=ft;var ur=h.updateQueue;if(ur===null){var pr=new Set;pr.add(Ue),h.updateQueue=pr}else ur.add(Ue);break e}else{if((h&1)===0){j7(H,ft,h),sw();break e}Ue=Error(r(426))}}else if(bt&&De.mode&1){var Ps=L7(ue);if(Ps!==null){(Ps.flags&65536)===0&&(Ps.flags|=256),F7(Ps,ue,De,H,h),Wt(_p(Ue,De));break e}}H=Ue=_p(Ue,De),da!==4&&(da=2),Bm===null?Bm=[H]:Bm.push(H),H=ue;do{switch(H.tag){case 3:H.flags|=65536,h&=-h,H.lanes|=h;var it=P7(H,Ue,h);ei(H,it);break e;case 1:De=Ue;var qe=H.type,ct=H.stateNode;if((H.flags&128)===0&&(typeof qe.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(af===null||!af.has(ct)))){H.flags|=65536,h&=-h,H.lanes|=h;var zt=R7(H,De,h);ei(H,zt);break e}}H=H.return}while(H!==null)}fS(x)}catch(xr){h=xr,Ys===x&&x!==null&&(Ys=x=x.return);continue}break}while(!0)}function uS(){var f=Ox.current;return Ox.current=Px,f===null?Px:f}function sw(){(da===0||da===3||da===2)&&(da=4),Ca===null||(Rh&268435455)===0&&(Mx&268435455)===0||cf(Ca,Wa)}function qx(f,h){var x=Dn;Dn|=2;var E=uS();(Ca!==f||Wa!==h)&&(nd=null,Lh(f,h));do try{lz();break}catch(O){cS(f,O)}while(!0);if(Ln(),Dn=x,Ox.current=E,Ys!==null)throw Error(r(261));return Ca=null,Wa=0,da}function lz(){for(;Ys!==null;)dS(Ys)}function cz(){for(;Ys!==null&&!Ht();)dS(Ys)}function dS(f){var h=mS(f.alternate,f,Cl);f.memoizedProps=f.pendingProps,h===null?fS(f):Ys=h,X4.current=null}function fS(f){var h=f;do{var x=h.alternate;if(f=h.return,(h.flags&32768)===0){if(x=tz(x,h,Cl),x!==null){Ys=x;return}}else{if(x=rz(x,h),x!==null){x.flags&=32767,Ys=x;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{da=6,Ys=null;return}}if(h=h.sibling,h!==null){Ys=h;return}Ys=h=f}while(h!==null);da===0&&(da=5)}function Fh(f,h,x){var E=en,O=Jl.transition;try{Jl.transition=null,en=1,uz(f,h,x,E)}finally{Jl.transition=O,en=E}return null}function uz(f,h,x,E){do Ep();while(of!==null);if((Dn&6)!==0)throw Error(r(327));x=f.finishedWork;var O=f.finishedLanes;if(x===null)return null;if(f.finishedWork=null,f.finishedLanes=0,x===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0;var H=x.lanes|x.childLanes;if(nn(f,H),f===Ca&&(Ys=Ca=null,Wa=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||Bx||(Bx=!0,gS(mn,function(){return Ep(),null})),H=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||H){H=Jl.transition,Jl.transition=null;var ue=en;en=1;var De=Dn;Dn|=4,X4.current=null,iz(f,x),rS(x,f),xx(Qu),Ul=!!Ch,Qu=Ch=null,f.current=x,sz(x),Dt(),Dn=De,en=ue,Jl.transition=H}else f.current=x;if(Bx&&(Bx=!1,of=f,Ux=O),H=f.pendingLanes,H===0&&(af=null),Bt(x.stateNode),rl(f,It()),h!==null)for(E=f.onRecoverableError,x=0;x<h.length;x++)O=h[x],E(O.value,{componentStack:O.stack,digest:O.digest});if(Vx)throw Vx=!1,f=Z4,Z4=null,f;return(Ux&1)!==0&&f.tag!==0&&Ep(),H=f.pendingLanes,(H&1)!==0?f===ew?Um++:(Um=0,ew=f):Um=0,Q(),null}function Ep(){if(of!==null){var f=Oa(Ux),h=Jl.transition,x=en;try{if(Jl.transition=null,en=16>f?16:f,of===null)var E=!1;else{if(f=of,of=null,Ux=0,(Dn&6)!==0)throw Error(r(331));var O=Dn;for(Dn|=4,or=f.current;or!==null;){var H=or,ue=H.child;if((or.flags&16)!==0){var De=H.deletions;if(De!==null){for(var Ue=0;Ue<De.length;Ue++){var ft=De[Ue];for(or=ft;or!==null;){var Lt=or;switch(Lt.tag){case 0:case 11:case 15:Mm(8,Lt,H)}var Ot=Lt.child;if(Ot!==null)Ot.return=Lt,or=Ot;else for(;or!==null;){Lt=or;var jt=Lt.sibling,rr=Lt.return;if(Q7(Lt),Lt===ft){or=null;break}if(jt!==null){jt.return=rr,or=jt;break}or=rr}}}var ur=H.alternate;if(ur!==null){var pr=ur.child;if(pr!==null){ur.child=null;do{var Ps=pr.sibling;pr.sibling=null,pr=Ps}while(pr!==null)}}or=H}}if((H.subtreeFlags&2064)!==0&&ue!==null)ue.return=H,or=ue;else e:for(;or!==null;){if(H=or,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Mm(9,H,H.return)}var it=H.sibling;if(it!==null){it.return=H.return,or=it;break e}or=H.return}}var qe=f.current;for(or=qe;or!==null;){ue=or;var ct=ue.child;if((ue.subtreeFlags&2064)!==0&&ct!==null)ct.return=ue,or=ct;else e:for(ue=qe;or!==null;){if(De=or,(De.flags&2048)!==0)try{switch(De.tag){case 0:case 11:case 15:Dx(9,De)}}catch(xr){ps(De,De.return,xr)}if(De===ue){or=null;break e}var zt=De.sibling;if(zt!==null){zt.return=De.return,or=zt;break e}or=De.return}}if(Dn=O,Q(),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot($s,f)}catch{}E=!0}return E}finally{en=x,Jl.transition=h}}return!1}function hS(f,h,x){h=_p(x,h),h=P7(f,h,1),f=ts(f,h,1),h=Bo(),f!==null&&(Fo(f,1,h),rl(f,h))}function ps(f,h,x){if(f.tag===3)hS(f,f,x);else for(;h!==null;){if(h.tag===3){hS(h,f,x);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(af===null||!af.has(E))){f=_p(x,f),f=R7(h,f,1),h=ts(h,f,1),f=Bo(),h!==null&&(Fo(h,1,f),rl(h,f));break}}h=h.return}}function dz(f,h,x){var E=f.pingCache;E!==null&&E.delete(h),h=Bo(),f.pingedLanes|=f.suspendedLanes&x,Ca===f&&(Wa&x)===x&&(da===4||da===3&&(Wa&130023424)===Wa&&500>It()-J4?Lh(f,0):Q4|=x),rl(f,h)}function pS(f,h){h===0&&((f.mode&1)===0?h=1:(h=Rn,Rn<<=1,(Rn&130023424)===0&&(Rn=4194304)));var x=Bo();f=Zn(f,h),f!==null&&(Fo(f,h,x),rl(f,x))}function fz(f){var h=f.memoizedState,x=0;h!==null&&(x=h.retryLane),pS(f,x)}function hz(f,h){var x=0;switch(f.tag){case 13:var E=f.stateNode,O=f.memoizedState;O!==null&&(x=O.retryLane);break;case 19:E=f.stateNode;break;default:throw Error(r(314))}E!==null&&E.delete(h),pS(f,x)}var mS;mS=function(f,h,x){if(f!==null)if(f.memoizedProps!==h.pendingProps||uo.current)el=!0;else{if((f.lanes&x)===0&&(h.flags&128)===0)return el=!1,ez(f,h,x);el=(f.flags&131072)!==0}else el=!1,bt&&(h.flags&1048576)!==0&&Ze(h,ge,h.index);switch(h.lanes=0,h.tag){case 2:var E=h.type;Lx(f,h),f=h.pendingProps;var O=Zd(h,ca.current);zi(h,x),O=Ah(null,h,E,f,O,x);var H=Ql();return h.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,fo(E)?(H=!0,ed(h)):H=!1,h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,ua(h),O.updater=Rx,h.stateNode=O,O._reactInternals=h,D4(h,E,f,x),h=B4(null,h,E,!0,H,x)):(h.tag=0,bt&&H&&yt(h),Vo(null,h,O,x),h=h.child),h;case 16:E=h.elementType;e:{switch(Lx(f,h),f=h.pendingProps,O=E._init,E=O(E._payload),h.type=E,O=h.tag=mz(E),f=Ac(E,f),O){case 0:h=V4(null,h,E,f,x);break e;case 1:h=U7(null,h,E,f,x);break e;case 11:h=D7(null,h,E,f,x);break e;case 14:h=O7(null,h,E,Ac(E.type,f),x);break e}throw Error(r(306,E,""))}return h;case 0:return E=h.type,O=h.pendingProps,O=h.elementType===E?O:Ac(E,O),V4(f,h,E,O,x);case 1:return E=h.type,O=h.pendingProps,O=h.elementType===E?O:Ac(E,O),U7(f,h,E,O,x);case 3:e:{if(z7(h),f===null)throw Error(r(387));E=h.pendingProps,H=h.memoizedState,O=H.element,ho(f,h),Ea(h,E,null,x);var ue=h.memoizedState;if(E=ue.element,H.isDehydrated)if(H={element:E,isDehydrated:!1,cache:ue.cache,pendingSuspenseBoundaries:ue.pendingSuspenseBoundaries,transitions:ue.transitions},h.updateQueue.baseState=H,h.memoizedState=H,h.flags&256){O=_p(Error(r(423)),h),h=$7(f,h,E,x,O);break e}else if(E!==O){O=_p(Error(r(424)),h),h=$7(f,h,E,x,O);break e}else for(vt=qa(h.stateNode.containerInfo.firstChild),gt=h,bt=!0,kt=null,x=Ii(h,null,E,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(ar(),E===O){h=rd(f,h,x);break e}Vo(f,h,E,x)}h=h.child}return h;case 5:return Cx(h),f===null&&lr(h),E=h.type,O=h.pendingProps,H=f!==null?f.memoizedProps:null,ue=O.children,Nm(E,O)?ue=null:H!==null&&Nm(E,H)&&(h.flags|=32),B7(f,h),Vo(f,h,ue,x),h.child;case 6:return f===null&&lr(h),null;case 13:return q7(f,h,x);case 4:return ef(h,h.stateNode.containerInfo),E=h.pendingProps,f===null?h.child=ds(h,null,E,x):Vo(f,h,E,x),h.child;case 11:return E=h.type,O=h.pendingProps,O=h.elementType===E?O:Ac(E,O),D7(f,h,E,O,x);case 7:return Vo(f,h,h.pendingProps,x),h.child;case 8:return Vo(f,h,h.pendingProps.children,x),h.child;case 12:return Vo(f,h,h.pendingProps.children,x),h.child;case 10:e:{if(E=h.type._context,O=h.pendingProps,H=h.memoizedProps,ue=O.value,Wn(As,E._currentValue),E._currentValue=ue,H!==null)if(Ts(H.value,ue)){if(H.children===O.children&&!uo.current){h=rd(f,h,x);break e}}else for(H=h.child,H!==null&&(H.return=h);H!==null;){var De=H.dependencies;if(De!==null){ue=H.child;for(var Ue=De.firstContext;Ue!==null;){if(Ue.context===E){if(H.tag===1){Ue=es(-1,x&-x),Ue.tag=2;var ft=H.updateQueue;if(ft!==null){ft=ft.shared;var Lt=ft.pending;Lt===null?Ue.next=Ue:(Ue.next=Lt.next,Lt.next=Ue),ft.pending=Ue}}H.lanes|=x,Ue=H.alternate,Ue!==null&&(Ue.lanes|=x),Fn(H.return,x,h),De.lanes|=x;break}Ue=Ue.next}}else if(H.tag===10)ue=H.type===h.type?null:H.child;else if(H.tag===18){if(ue=H.return,ue===null)throw Error(r(341));ue.lanes|=x,De=ue.alternate,De!==null&&(De.lanes|=x),Fn(ue,x,h),ue=H.sibling}else ue=H.child;if(ue!==null)ue.return=H;else for(ue=H;ue!==null;){if(ue===h){ue=null;break}if(H=ue.sibling,H!==null){H.return=ue.return,ue=H;break}ue=ue.return}H=ue}Vo(f,h,O.children,x),h=h.child}return h;case 9:return O=h.type,E=h.pendingProps.children,zi(h,x),O=$i(O),E=E(O),h.flags|=1,Vo(f,h,E,x),h.child;case 14:return E=h.type,O=Ac(E,h.pendingProps),O=Ac(E.type,O),O7(f,h,E,O,x);case 15:return M7(f,h,h.type,h.pendingProps,x);case 17:return E=h.type,O=h.pendingProps,O=h.elementType===E?O:Ac(E,O),Lx(f,h),h.tag=1,fo(E)?(f=!0,ed(h)):f=!1,zi(h,x),A7(h,E,O),D4(h,E,O,x),B4(null,h,E,!0,f,x);case 19:return W7(f,h,x);case 22:return V7(f,h,x)}throw Error(r(156,h.tag))};function gS(f,h){return Tt(f,h)}function pz(f,h,x,E){this.tag=f,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zl(f,h,x,E){return new pz(f,h,x,E)}function aw(f){return f=f.prototype,!(!f||!f.isReactComponent)}function mz(f){if(typeof f=="function")return aw(f)?1:0;if(f!=null){if(f=f.$$typeof,f===F)return 11;if(f===he)return 14}return 2}function uf(f,h){var x=f.alternate;return x===null?(x=Zl(f.tag,h,f.key,f.mode),x.elementType=f.elementType,x.type=f.type,x.stateNode=f.stateNode,x.alternate=f,f.alternate=x):(x.pendingProps=h,x.type=f.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=f.flags&14680064,x.childLanes=f.childLanes,x.lanes=f.lanes,x.child=f.child,x.memoizedProps=f.memoizedProps,x.memoizedState=f.memoizedState,x.updateQueue=f.updateQueue,h=f.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=f.sibling,x.index=f.index,x.ref=f.ref,x}function Hx(f,h,x,E,O,H){var ue=2;if(E=f,typeof f=="function")aw(f)&&(ue=1);else if(typeof f=="string")ue=5;else e:switch(f){case j:return Dh(x.children,O,H,h);case T:ue=8,O|=8;break;case C:return f=Zl(12,x,h,O|2),f.elementType=C,f.lanes=H,f;case B:return f=Zl(13,x,h,O),f.elementType=B,f.lanes=H,f;case ee:return f=Zl(19,x,h,O),f.elementType=ee,f.lanes=H,f;case fe:return Wx(x,O,H,h);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case D:ue=10;break e;case R:ue=9;break e;case F:ue=11;break e;case he:ue=14;break e;case ve:ue=16,E=null;break e}throw Error(r(130,f==null?f:typeof f,""))}return h=Zl(ue,x,h,O),h.elementType=f,h.type=E,h.lanes=H,h}function Dh(f,h,x,E){return f=Zl(7,f,E,h),f.lanes=x,f}function Wx(f,h,x,E){return f=Zl(22,f,E,h),f.elementType=fe,f.lanes=x,f.stateNode={isHidden:!1},f}function ow(f,h,x){return f=Zl(6,f,null,h),f.lanes=x,f}function lw(f,h,x){return h=Zl(4,f.children!==null?f.children:[],f.key,h),h.lanes=x,h.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},h}function gz(f,h,x,E,O){this.tag=h,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lo(0),this.expirationTimes=Lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.identifierPrefix=E,this.onRecoverableError=O,this.mutableSourceEagerHydrationData=null}function cw(f,h,x,E,O,H,ue,De,Ue){return f=new gz(f,h,x,De,Ue),h===1?(h=1,H===!0&&(h|=8)):h=0,H=Zl(3,null,null,h),f.current=H,H.stateNode=f,H.memoizedState={element:E,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},ua(H),f}function xz(f,h,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:E==null?null:""+E,children:f,containerInfo:h,implementation:x}}function xS(f){if(!f)return ou;f=f._reactInternals;e:{if(Ie(f)!==f||f.tag!==1)throw Error(r(170));var h=f;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(fo(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(f.tag===1){var x=f.type;if(fo(x))return Pm(f,x,h)}return h}function vS(f,h,x,E,O,H,ue,De,Ue){return f=cw(x,E,!0,f,O,H,ue,De,Ue),f.context=xS(null),x=f.current,E=Bo(),O=lf(x),H=es(E,O),H.callback=h??null,ts(x,H,O),f.current.lanes=O,Fo(f,O,E),rl(f,E),f}function Gx(f,h,x,E){var O=h.current,H=Bo(),ue=lf(O);return x=xS(x),h.context===null?h.context=x:h.pendingContext=x,h=es(H,ue),h.payload={element:f},E=E===void 0?null:E,E!==null&&(h.callback=E),f=ts(O,h,ue),f!==null&&(Rc(f,O,ue,H),Sa(f,O,ue)),ue}function Kx(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function yS(f,h){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var x=f.retryLane;f.retryLane=x!==0&&x<h?x:h}}function uw(f,h){yS(f,h),(f=f.alternate)&&yS(f,h)}function vz(){return null}var wS=typeof reportError=="function"?reportError:function(f){console.error(f)};function dw(f){this._internalRoot=f}Yx.prototype.render=dw.prototype.render=function(f){var h=this._internalRoot;if(h===null)throw Error(r(409));Gx(f,h,null,null)},Yx.prototype.unmount=dw.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var h=f.containerInfo;jh(function(){Gx(null,f,null,null)}),h[ba]=null}};function Yx(f){this._internalRoot=f}Yx.prototype.unstable_scheduleHydration=function(f){if(f){var h=Bd();f={blockedOn:null,target:f,priority:h};for(var x=0;x<Go.length&&h!==0&&h<Go[x].priority;x++);Go.splice(x,0,f),x===0&&zd(f)}};function fw(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function Xx(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function _S(){}function yz(f,h,x,E,O){if(O){if(typeof E=="function"){var H=E;E=function(){var ft=Kx(ue);H.call(ft)}}var ue=vS(h,E,f,0,null,!1,!1,"",_S);return f._reactRootContainer=ue,f[ba]=ue.current,Yu(f.nodeType===8?f.parentNode:f),jh(),ue}for(;O=f.lastChild;)f.removeChild(O);if(typeof E=="function"){var De=E;E=function(){var ft=Kx(Ue);De.call(ft)}}var Ue=cw(f,0,!1,null,null,!1,!1,"",_S);return f._reactRootContainer=Ue,f[ba]=Ue.current,Yu(f.nodeType===8?f.parentNode:f),jh(function(){Gx(h,Ue,x,E)}),Ue}function Qx(f,h,x,E,O){var H=x._reactRootContainer;if(H){var ue=H;if(typeof O=="function"){var De=O;O=function(){var Ue=Kx(ue);De.call(Ue)}}Gx(h,ue,f,O)}else ue=yz(x,h,f,O,E);return Kx(ue)}Xc=function(f){switch(f.tag){case 3:var h=f.stateNode;if(h.current.memoizedState.isDehydrated){var x=gn(h.pendingLanes);x!==0&&(hl(h,x|1),rl(h,It()),(Dn&6)===0&&(Sp=It()+500,Q()))}break;case 13:jh(function(){var E=Zn(f,1);if(E!==null){var O=Bo();Rc(E,f,1,O)}}),uw(f,1)}},Qc=function(f){if(f.tag===13){var h=Zn(f,134217728);if(h!==null){var x=Bo();Rc(h,f,134217728,x)}uw(f,134217728)}},Vd=function(f){if(f.tag===13){var h=lf(f),x=Zn(f,h);if(x!==null){var E=Bo();Rc(x,f,h,E)}uw(f,h)}},Bd=function(){return en},Jc=function(f,h){var x=en;try{return en=f,h()}finally{en=x}},Pn=function(f,h,x){switch(h){case"input":if(ze(f,x),h=x.name,x.type==="radio"&&h!=null){for(x=f;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<x.length;h++){var E=x[h];if(E!==f&&E.form===f.form){var O=Nh(E);if(!O)throw Error(r(90));re(E),ze(E,O)}}}break;case"textarea":je(f,x);break;case"select":h=x.value,h!=null&&ut(f,!!x.multiple,h,!1)}},li=nw,Ss=jh;var wz={usingClientEntryPoint:!1,Events:[Jd,Ju,Nh,Wr,na,nw]},zm={findFiberByHostInstance:au,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_z={bundleType:zm.bundleType,version:zm.version,rendererPackageName:zm.rendererPackageName,rendererConfig:zm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=et(f),f===null?null:f.stateNode},findFiberByHostInstance:zm.findFiberByHostInstance||vz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jx.isDisabled&&Jx.supportsFiber)try{$s=Jx.inject(_z),Fe=Jx}catch{}}return nl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wz,nl.createPortal=function(f,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fw(h))throw Error(r(200));return xz(f,h,null,x)},nl.createRoot=function(f,h){if(!fw(f))throw Error(r(299));var x=!1,E="",O=wS;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(E=h.identifierPrefix),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),h=cw(f,1,!1,null,null,x,!1,E,O),f[ba]=h.current,Yu(f.nodeType===8?f.parentNode:f),new dw(h)},nl.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var h=f._reactInternals;if(h===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=et(h),f=f===null?null:f.stateNode,f},nl.flushSync=function(f){return jh(f)},nl.hydrate=function(f,h,x){if(!Xx(h))throw Error(r(200));return Qx(null,f,h,!0,x)},nl.hydrateRoot=function(f,h,x){if(!fw(f))throw Error(r(405));var E=x!=null&&x.hydratedSources||null,O=!1,H="",ue=wS;if(x!=null&&(x.unstable_strictMode===!0&&(O=!0),x.identifierPrefix!==void 0&&(H=x.identifierPrefix),x.onRecoverableError!==void 0&&(ue=x.onRecoverableError)),h=vS(h,null,f,1,x??null,O,!1,H,ue),f[ba]=h.current,Yu(f),E)for(f=0;f<E.length;f++)x=E[f],O=x._getVersion,O=O(x._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[x,O]:h.mutableSourceEagerHydrationData.push(x,O);return new Yx(h)},nl.render=function(f,h,x){if(!Xx(h))throw Error(r(200));return Qx(null,f,h,!1,x)},nl.unmountComponentAtNode=function(f){if(!Xx(f))throw Error(r(40));return f._reactRootContainer?(jh(function(){Qx(null,null,f,!1,function(){f._reactRootContainer=null,f[ba]=null})}),!0):!1},nl.unstable_batchedUpdates=nw,nl.unstable_renderSubtreeIntoContainer=function(f,h,x,E){if(!Xx(x))throw Error(r(200));if(f==null||f._reactInternals===void 0)throw Error(r(38));return Qx(f,h,x,!1,E)},nl.version="18.3.1-next-f1338f8080-20240426",nl}var AS;function HI(){if(AS)return mw.exports;AS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mw.exports=Az(),mw.exports}var IS;function Iz(){if(IS)return Zx;IS=1;var t=HI();return Zx.createRoot=t.createRoot,Zx.hydrateRoot=t.hydrateRoot,Zx}var Pz=Iz(),Us=HI();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zg.apply(this,arguments)}var Nf;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nf||(Nf={}));const PS="popstate";function Rz(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return s_("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:xy(i)}return Lz(e,r,null,t)}function Ms(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jz(){return Math.random().toString(36).substr(2,8)}function RS(t,e){return{usr:t.state,key:t.key,idx:e}}function s_(t,e,r,n){return r===void 0&&(r=null),zg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$1(e):e,{state:r,key:e&&e.key||n||jz()})}function xy(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $1(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Lz(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Nf.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(zg({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function p(){o=Nf.Pop;let _=d(),S=_==null?null:_-c;c=_,l&&l({action:o,location:w.location,delta:S})}function g(_,S){o=Nf.Push;let P=s_(w.location,_,S);c=d()+1;let A=RS(P,c),V=w.createHref(P);try{a.pushState(A,"",V)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(V)}s&&l&&l({action:o,location:w.location,delta:1})}function m(_,S){o=Nf.Replace;let P=s_(w.location,_,S);c=d();let A=RS(P,c),V=w.createHref(P);a.replaceState(A,"",V),s&&l&&l({action:o,location:w.location,delta:0})}function y(_){let S=i.location.origin!=="null"?i.location.origin:i.location.href,P=typeof _=="string"?_:xy(_);return P=P.replace(/ $/,"%20"),Ms(S,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,S)}let w={get action(){return o},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(PS,p),l=_,()=>{i.removeEventListener(PS,p),l=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let S=y(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:m,go(_){return a.go(_)}};return w}var jS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jS||(jS={}));function Fz(t,e,r){return r===void 0&&(r="/"),Dz(t,e,r)}function Dz(t,e,r,n){let i=typeof e=="string"?$1(e):e,s=e6(i.pathname||"/",r);if(s==null)return null;let a=GI(t);Oz(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=Yz(s);o=Wz(a[l],c)}return o}function GI(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ms(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=jf([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Ms(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),GI(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:qz(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of KI(s.path))i(s,a,l)}),e}function KI(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=KI(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Oz(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Hz(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mz=/^:[\w-]+$/,Vz=3,Bz=2,Uz=1,zz=10,$z=-2,LS=t=>t==="*";function qz(t,e){let r=t.split("/"),n=r.length;return r.some(LS)&&(n+=$z),e&&(n+=Bz),r.filter(i=>!LS(i)).reduce((i,s)=>i+(Mz.test(s)?Vz:s===""?Uz:zz),n)}function Hz(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Wz(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Gz({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),g=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:jf([s,p.pathname]),pathnameBase:Zz(jf([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=jf([s,p.pathnameBase]))}return a}function Gz(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Kz(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,p)=>{let{paramName:g,isOptional:m}=d;if(g==="*"){let w=o[p]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[p];return m&&!y?c[g]=void 0:c[g]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function Kz(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),WI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Yz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return WI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function e6(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Xz(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?$1(t):t;return{pathname:r?r.startsWith("/")?r:Qz(r,e):e,search:e$(n),hash:t$(i)}}function Qz(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vw(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jz(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function t6(t,e){let r=Jz(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function r6(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=$1(t):(i=zg({},t),Ms(!i.pathname||!i.pathname.includes("?"),vw("?","pathname","search",i)),Ms(!i.pathname||!i.pathname.includes("#"),vw("#","pathname","hash",i)),Ms(!i.search||!i.search.includes("#"),vw("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}o=p>=0?e[p]:"/"}let l=Xz(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const jf=t=>t.join("/").replace(/\/\/+/g,"/"),Zz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function r$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YI=["post","put","patch","delete"];new Set(YI);const n$=["get",...YI];new Set(n$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$g.apply(this,arguments)}const n6=L.createContext(null),i$=L.createContext(null),nh=L.createContext(null),k5=L.createContext(null),Ou=L.createContext({outlet:null,matches:[],isDataRoute:!1}),XI=L.createContext(null);function s$(t,e){let{relative:r}=e===void 0?{}:e;q1()||Ms(!1);let{basename:n,navigator:i}=L.useContext(nh),{hash:s,pathname:a,search:o}=JI(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:jf([n,a])),i.createHref({pathname:l,search:o,hash:s})}function q1(){return L.useContext(k5)!=null}function Bl(){return q1()||Ms(!1),L.useContext(k5).location}function QI(t){L.useContext(nh).static||L.useLayoutEffect(t)}function oi(){let{isDataRoute:t}=L.useContext(Ou);return t?w$():a$()}function a$(){q1()||Ms(!1);let t=L.useContext(n6),{basename:e,future:r,navigator:n}=L.useContext(nh),{matches:i}=L.useContext(Ou),{pathname:s}=Bl(),a=JSON.stringify(t6(i,r.v7_relativeSplatPath)),o=L.useRef(!1);return QI(()=>{o.current=!0}),L.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let p=r6(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:jf([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,a,s,t])}const o$=L.createContext(null);function l$(t){let e=L.useContext(Ou).outlet;return e&&L.createElement(o$.Provider,{value:t},e)}function S5(){let{matches:t}=L.useContext(Ou),e=t[t.length-1];return e?e.params:{}}function JI(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=L.useContext(nh),{matches:i}=L.useContext(Ou),{pathname:s}=Bl(),a=JSON.stringify(t6(i,n.v7_relativeSplatPath));return L.useMemo(()=>r6(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function c$(t,e){return u$(t,e)}function u$(t,e,r,n){q1()||Ms(!1);let{navigator:i}=L.useContext(nh),{matches:s}=L.useContext(Ou),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Bl(),d;if(e){var p;let _=typeof e=="string"?$1(e):e;l==="/"||(p=_.pathname)!=null&&p.startsWith(l)||Ms(!1),d=_}else d=c;let g=d.pathname||"/",m=g;if(l!=="/"){let _=l.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Fz(t,{pathname:m}),w=m$(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:jf([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:jf([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return e&&w?L.createElement(k5.Provider,{value:{location:$g({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nf.Pop}},w):w}function d$(){let t=y$(),e=r$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),r?L.createElement("pre",{style:i},r):null,null)}const f$=L.createElement(d$,null);class h$ extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?L.createElement(Ou.Provider,{value:this.props.routeContext},L.createElement(XI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p$(t){let{routeContext:e,match:r,children:n}=t,i=L.useContext(n6);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),L.createElement(Ou.Provider,{value:e},n)}function m$(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);d>=0||Ms(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:m}=r,y=p.route.loader&&g[p.route.id]===void 0&&(!m||m[p.route.id]===void 0);if(p.route.lazy||y){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let m,y=!1,w=null,_=null;r&&(m=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||f$,l&&(c<0&&g===0?(_$("route-fallback"),y=!0,_=null):c===g&&(y=!0,_=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,g+1)),P=()=>{let A;return m?A=w:y?A=_:p.route.Component?A=L.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=d,L.createElement(p$,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:r!=null},children:A})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?L.createElement(h$,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}var ZI=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(ZI||{}),eP=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(eP||{});function g$(t){let e=L.useContext(n6);return e||Ms(!1),e}function x$(t){let e=L.useContext(i$);return e||Ms(!1),e}function v$(t){let e=L.useContext(Ou);return e||Ms(!1),e}function tP(t){let e=v$(),r=e.matches[e.matches.length-1];return r.route.id||Ms(!1),r.route.id}function y$(){var t;let e=L.useContext(XI),r=x$(),n=tP();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function w$(){let{router:t}=g$(ZI.UseNavigateStable),e=tP(eP.UseNavigateStable),r=L.useRef(!1);return QI(()=>{r.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$g({fromRouteId:e},s)))},[t,e])}const FS={};function _$(t,e,r){FS[t]||(FS[t]=!0)}function b$(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function qh(t){let{to:e,replace:r,state:n,relative:i}=t;q1()||Ms(!1);let{future:s,static:a}=L.useContext(nh),{matches:o}=L.useContext(Ou),{pathname:l}=Bl(),c=oi(),d=r6(e,t6(o,s.v7_relativeSplatPath),l,i==="path"),p=JSON.stringify(d);return L.useEffect(()=>c(JSON.parse(p),{replace:r,state:n,relative:i}),[c,p,i,r,n]),null}function i6(t){return l$(t.context)}function Kn(t){Ms(!1)}function k$(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Nf.Pop,navigator:s,static:a=!1,future:o}=t;q1()&&Ms(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:s,static:a,future:$g({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=$1(n));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:y="default"}=n,w=L.useMemo(()=>{let _=e6(d,l);return _==null?null:{location:{pathname:_,search:p,hash:g,state:m,key:y},navigationType:i}},[l,d,p,g,m,y,i]);return w==null?null:L.createElement(nh.Provider,{value:c},L.createElement(k5.Provider,{children:r,value:w}))}function DS(t){let{children:e,location:r}=t;return c$(a_(e),r)}new Promise(()=>{});function a_(t,e){e===void 0&&(e=[]);let r=[];return L.Children.forEach(t,(n,i)=>{if(!L.isValidElement(n))return;let s=[...e,i];if(n.type===L.Fragment){r.push.apply(r,a_(n.props.children,s));return}n.type!==Kn&&Ms(!1),!n.props.index||!n.props.children||Ms(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=a_(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o_.apply(this,arguments)}function S$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function E$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C$(t,e){return t.button===0&&(!e||e==="_self")&&!E$(t)}function l_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function N$(t,e){let r=l_(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const T$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A$="6";try{window.__reactRouterVersion=A$}catch{}const I$="startTransition",OS=gy[I$];function P$(t){let{basename:e,children:r,future:n,window:i}=t,s=L.useRef();s.current==null&&(s.current=Rz({window:i,v5Compat:!0}));let a=s.current,[o,l]=L.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=L.useCallback(p=>{c&&OS?OS(()=>l(p)):l(p)},[l,c]);return L.useLayoutEffect(()=>a.listen(d),[a,d]),L.useEffect(()=>b$(n),[n]),L.createElement(k$,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const R$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m0=L.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:p}=e,g=S$(e,T$),{basename:m}=L.useContext(nh),y,w=!1;if(typeof c=="string"&&j$.test(c)&&(y=c,R$))try{let A=new URL(window.location.href),V=c.startsWith("//")?new URL(A.protocol+c):new URL(c),W=e6(V.pathname,m);V.origin===A.origin&&W!=null?c=W+V.search+V.hash:w=!0}catch{}let _=s$(c,{relative:i}),S=L$(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:p});function P(A){n&&n(A),A.defaultPrevented||S(A)}return L.createElement("a",o_({},g,{href:y||_,onClick:w||s?n:P,ref:r,target:l}))});var MS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(MS||(MS={}));var VS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(VS||(VS={}));function L$(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=oi(),c=Bl(),d=JI(t,{relative:a});return L.useCallback(p=>{if(C$(p,r)){p.preventDefault();let g=n!==void 0?n:xy(c)===xy(d);l(t,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,t,s,a,o])}function F$(t){let e=L.useRef(l_(t)),r=L.useRef(!1),n=Bl(),i=L.useMemo(()=>N$(n.search,r.current?null:e.current),[n.search]),s=oi(),a=L.useCallback((o,l)=>{const c=l_(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var BS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},D$=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},nP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(g=64)),n.push(r[d],r[p],r[g],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||p==null)throw new O$;const g=s<<2|o>>4;if(n.push(g),c!==64){const m=o<<4&240|c>>2;if(n.push(m),p!==64){const y=c<<6&192|p;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class O$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M$=function(t){const e=rP(t);return nP.encodeByteArray(e,!0)},vy=function(t){return M$(t).replace(/\./g,"")},iP=function(t){try{return nP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=()=>V$().__FIREBASE_DEFAULTS__,U$=()=>{if(typeof process>"u"||typeof BS>"u")return;const t=BS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},z$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iP(t[1]);return e&&JSON.parse(e)},E5=()=>{try{return B$()||U$()||z$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sP=t=>{var e,r;return(r=(e=E5())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},s6=t=>{const e=sP(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},aP=()=>{var t;return(t=E5())===null||t===void 0?void 0:t.config},oP=t=>{var e;return(e=E5())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vy(JSON.stringify(r)),vy(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ha())}function H$(){var t;const e=(t=E5())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y$(){const t=ha();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cP(){return!H$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uP(){try{return typeof indexedDB=="object"}catch{return!1}}function X$(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$="FirebaseError";class Gc extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Q$,Object.setPrototypeOf(this,Gc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A2.prototype.create)}}class A2{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?J$(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Gc(i,o,n)}}function J$(t,e){return t.replace(Z$,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Z$=/\{\$([^}]+)}/g;function eq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Df(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(US(s)&&US(a)){if(!Df(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function US(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function rg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ng(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function tq(t,e){const r=new rq(t,e);return r.subscribe.bind(r)}class rq{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");nq(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=yw),i.error===void 0&&(i.error=yw),i.complete===void 0&&(i.complete=yw);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nq(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function yw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t){return t&&t._delegate?t._delegate:t}class yd{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new $$;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e?.identifier),i=(r=e?.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aq(e))try{this.getOrInitializeService({instanceIdentifier:Bh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Bh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bh){return this.instances.has(e)}getOptions(e=Bh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sq(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Bh){return this.component?this.component.multipleInstances?e:Bh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sq(t){return t===Bh?void 0:t}function aq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new iq(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_n||(_n={}));const lq={debug:_n.DEBUG,verbose:_n.VERBOSE,info:_n.INFO,warn:_n.WARN,error:_n.ERROR,silent:_n.SILENT},cq=_n.INFO,uq={[_n.DEBUG]:"log",[_n.VERBOSE]:"log",[_n.INFO]:"info",[_n.WARN]:"warn",[_n.ERROR]:"error"},dq=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=uq[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a6{constructor(e){this.name=e,this._logLevel=cq,this._logHandler=dq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _n))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_n.DEBUG,...e),this._logHandler(this,_n.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_n.VERBOSE,...e),this._logHandler(this,_n.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_n.INFO,...e),this._logHandler(this,_n.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_n.WARN,...e),this._logHandler(this,_n.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_n.ERROR,...e),this._logHandler(this,_n.ERROR,...e)}}const fq=(t,e)=>e.some(r=>t instanceof r);let zS,$S;function hq(){return zS||(zS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pq(){return $S||($S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dP=new WeakMap,c_=new WeakMap,fP=new WeakMap,ww=new WeakMap,o6=new WeakMap;function mq(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Lf(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&dP.set(r,t)}).catch(()=>{}),o6.set(e,t),e}function gq(t){if(c_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});c_.set(t,e)}let u_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return c_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fP.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Lf(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xq(t){u_=t(u_)}function vq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(_w(this),e,...r);return fP.set(n,e.sort?e.sort():[e]),Lf(n)}:pq().includes(t)?function(...e){return t.apply(_w(this),e),Lf(dP.get(this))}:function(...e){return Lf(t.apply(_w(this),e))}}function yq(t){return typeof t=="function"?vq(t):(t instanceof IDBTransaction&&gq(t),fq(t,hq())?new Proxy(t,u_):t)}function Lf(t){if(t instanceof IDBRequest)return mq(t);if(ww.has(t))return ww.get(t);const e=yq(t);return e!==t&&(ww.set(t,e),o6.set(e,t)),e}const _w=t=>o6.get(t);function wq(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Lf(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Lf(a.result),l.oldVersion,l.newVersion,Lf(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const _q=["get","getKey","getAll","getAllKeys","count"],bq=["put","add","delete","clear"],bw=new Map;function qS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bw.get(e))return bw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=bq.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||_q.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return bw.set(e,s),s}xq(t=>({...t,get:(e,r,n)=>qS(e,r)||t.get(e,r,n),has:(e,r)=>!!qS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Sq(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Sq(t){const e=t.getComponent();return e?.type==="VERSION"}const d_="@firebase/app",HS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new a6("@firebase/app"),Eq="@firebase/app-compat",Cq="@firebase/analytics-compat",Nq="@firebase/analytics",Tq="@firebase/app-check-compat",Aq="@firebase/app-check",Iq="@firebase/auth",Pq="@firebase/auth-compat",Rq="@firebase/database",jq="@firebase/data-connect",Lq="@firebase/database-compat",Fq="@firebase/functions",Dq="@firebase/functions-compat",Oq="@firebase/installations",Mq="@firebase/installations-compat",Vq="@firebase/messaging",Bq="@firebase/messaging-compat",Uq="@firebase/performance",zq="@firebase/performance-compat",$q="@firebase/remote-config",qq="@firebase/remote-config-compat",Hq="@firebase/storage",Wq="@firebase/storage-compat",Gq="@firebase/firestore",Kq="@firebase/vertexai-preview",Yq="@firebase/firestore-compat",Xq="firebase",Qq="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",Jq={[d_]:"fire-core",[Eq]:"fire-core-compat",[Nq]:"fire-analytics",[Cq]:"fire-analytics-compat",[Aq]:"fire-app-check",[Tq]:"fire-app-check-compat",[Iq]:"fire-auth",[Pq]:"fire-auth-compat",[Rq]:"fire-rtdb",[jq]:"fire-data-connect",[Lq]:"fire-rtdb-compat",[Fq]:"fire-fn",[Dq]:"fire-fn-compat",[Oq]:"fire-iid",[Mq]:"fire-iid-compat",[Vq]:"fire-fcm",[Bq]:"fire-fcm-compat",[Uq]:"fire-perf",[zq]:"fire-perf-compat",[$q]:"fire-rc",[qq]:"fire-rc-compat",[Hq]:"fire-gcs",[Wq]:"fire-gcs-compat",[Gq]:"fire-fst",[Yq]:"fire-fst-compat",[Kq]:"fire-vertex","fire-js":"fire-js",[Xq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Map,Zq=new Map,f_=new Map;function WS(t,e){try{t.container.addComponent(e)}catch(r){wd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Of(t){const e=t.name;if(f_.has(e))return wd.debug(`There were multiple attempts to register component ${e}.`),!1;f_.set(e,t);for(const r of wy.values())WS(r,t);for(const r of Zq.values())WS(r,t);return!0}function U0(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function eH(t,e,r=yy){U0(t,e).clearInstance(r)}function Dc(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ff=new A2("app","Firebase",tH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ff.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=Qq;function hP(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:yy,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Ff.create("bad-app-name",{appName:String(i)});if(r||(r=aP()),!r)throw Ff.create("no-options");const s=wy.get(i);if(s){if(Df(r,s.options)&&Df(n,s.config))return s;throw Ff.create("duplicate-app",{appName:i})}const a=new oq(i);for(const l of f_.values())a.addComponent(l);const o=new rH(r,n,a);return wy.set(i,o),o}function C5(t=yy){const e=wy.get(t);if(!e&&t===yy&&aP())return hP();if(!e)throw Ff.create("no-app",{appName:t});return e}function uc(t,e,r){var n;let i=(n=Jq[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wd.warn(o.join(" "));return}Of(new yd(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nH="firebase-heartbeat-database",iH=1,qg="firebase-heartbeat-store";let kw=null;function pP(){return kw||(kw=wq(nH,iH,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qg)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ff.create("idb-open",{originalErrorMessage:t.message})})),kw}async function sH(t){try{const r=(await pP()).transaction(qg),n=await r.objectStore(qg).get(mP(t));return await r.done,n}catch(e){if(e instanceof Gc)wd.warn(e.message);else{const r=Ff.create("idb-get",{originalErrorMessage:e?.message});wd.warn(r.message)}}}async function GS(t,e){try{const n=(await pP()).transaction(qg,"readwrite");await n.objectStore(qg).put(e,mP(t)),await n.done}catch(r){if(r instanceof Gc)wd.warn(r.message);else{const n=Ff.create("idb-set",{originalErrorMessage:r?.message});wd.warn(n.message)}}}function mP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=1024,oH=720*60*60*1e3;class lH{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new uH(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=KS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=oH}),this._storage.overwrite(this._heartbeatsCache))}catch(n){wd.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=KS(),{heartbeatsToSend:n,unsentEntries:i}=cH(this._heartbeatsCache.heartbeats),s=vy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return wd.warn(r),""}}}function KS(){return new Date().toISOString().substring(0,10)}function cH(t,e=aH){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),YS(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),YS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class uH{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uP()?X$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await sH(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return GS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return GS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YS(t){return vy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t){Of(new yd("platform-logger",e=>new kq(e),"PRIVATE")),Of(new yd("heartbeat",e=>new lH(e),"PRIVATE")),uc(d_,HS,t),uc(d_,HS,"esm2017"),uc("fire-js","")}dH("");var XS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s0,gP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,T){function C(){}C.prototype=T.prototype,j.D=T.prototype,j.prototype=new C,j.prototype.constructor=j,j.C=function(D,R,F){for(var B=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)B[ee-2]=arguments[ee];return T.prototype[R].apply(D,B)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(j,T,C){C||(C=0);var D=Array(16);if(typeof T=="string")for(var R=0;16>R;++R)D[R]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(R=0;16>R;++R)D[R]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=j.g[0],C=j.g[1],R=j.g[2];var F=j.g[3],B=T+(F^C&(R^F))+D[0]+3614090360&4294967295;T=C+(B<<7&4294967295|B>>>25),B=F+(R^T&(C^R))+D[1]+3905402710&4294967295,F=T+(B<<12&4294967295|B>>>20),B=R+(C^F&(T^C))+D[2]+606105819&4294967295,R=F+(B<<17&4294967295|B>>>15),B=C+(T^R&(F^T))+D[3]+3250441966&4294967295,C=R+(B<<22&4294967295|B>>>10),B=T+(F^C&(R^F))+D[4]+4118548399&4294967295,T=C+(B<<7&4294967295|B>>>25),B=F+(R^T&(C^R))+D[5]+1200080426&4294967295,F=T+(B<<12&4294967295|B>>>20),B=R+(C^F&(T^C))+D[6]+2821735955&4294967295,R=F+(B<<17&4294967295|B>>>15),B=C+(T^R&(F^T))+D[7]+4249261313&4294967295,C=R+(B<<22&4294967295|B>>>10),B=T+(F^C&(R^F))+D[8]+1770035416&4294967295,T=C+(B<<7&4294967295|B>>>25),B=F+(R^T&(C^R))+D[9]+2336552879&4294967295,F=T+(B<<12&4294967295|B>>>20),B=R+(C^F&(T^C))+D[10]+4294925233&4294967295,R=F+(B<<17&4294967295|B>>>15),B=C+(T^R&(F^T))+D[11]+2304563134&4294967295,C=R+(B<<22&4294967295|B>>>10),B=T+(F^C&(R^F))+D[12]+1804603682&4294967295,T=C+(B<<7&4294967295|B>>>25),B=F+(R^T&(C^R))+D[13]+4254626195&4294967295,F=T+(B<<12&4294967295|B>>>20),B=R+(C^F&(T^C))+D[14]+2792965006&4294967295,R=F+(B<<17&4294967295|B>>>15),B=C+(T^R&(F^T))+D[15]+1236535329&4294967295,C=R+(B<<22&4294967295|B>>>10),B=T+(R^F&(C^R))+D[1]+4129170786&4294967295,T=C+(B<<5&4294967295|B>>>27),B=F+(C^R&(T^C))+D[6]+3225465664&4294967295,F=T+(B<<9&4294967295|B>>>23),B=R+(T^C&(F^T))+D[11]+643717713&4294967295,R=F+(B<<14&4294967295|B>>>18),B=C+(F^T&(R^F))+D[0]+3921069994&4294967295,C=R+(B<<20&4294967295|B>>>12),B=T+(R^F&(C^R))+D[5]+3593408605&4294967295,T=C+(B<<5&4294967295|B>>>27),B=F+(C^R&(T^C))+D[10]+38016083&4294967295,F=T+(B<<9&4294967295|B>>>23),B=R+(T^C&(F^T))+D[15]+3634488961&4294967295,R=F+(B<<14&4294967295|B>>>18),B=C+(F^T&(R^F))+D[4]+3889429448&4294967295,C=R+(B<<20&4294967295|B>>>12),B=T+(R^F&(C^R))+D[9]+568446438&4294967295,T=C+(B<<5&4294967295|B>>>27),B=F+(C^R&(T^C))+D[14]+3275163606&4294967295,F=T+(B<<9&4294967295|B>>>23),B=R+(T^C&(F^T))+D[3]+4107603335&4294967295,R=F+(B<<14&4294967295|B>>>18),B=C+(F^T&(R^F))+D[8]+1163531501&4294967295,C=R+(B<<20&4294967295|B>>>12),B=T+(R^F&(C^R))+D[13]+2850285829&4294967295,T=C+(B<<5&4294967295|B>>>27),B=F+(C^R&(T^C))+D[2]+4243563512&4294967295,F=T+(B<<9&4294967295|B>>>23),B=R+(T^C&(F^T))+D[7]+1735328473&4294967295,R=F+(B<<14&4294967295|B>>>18),B=C+(F^T&(R^F))+D[12]+2368359562&4294967295,C=R+(B<<20&4294967295|B>>>12),B=T+(C^R^F)+D[5]+4294588738&4294967295,T=C+(B<<4&4294967295|B>>>28),B=F+(T^C^R)+D[8]+2272392833&4294967295,F=T+(B<<11&4294967295|B>>>21),B=R+(F^T^C)+D[11]+1839030562&4294967295,R=F+(B<<16&4294967295|B>>>16),B=C+(R^F^T)+D[14]+4259657740&4294967295,C=R+(B<<23&4294967295|B>>>9),B=T+(C^R^F)+D[1]+2763975236&4294967295,T=C+(B<<4&4294967295|B>>>28),B=F+(T^C^R)+D[4]+1272893353&4294967295,F=T+(B<<11&4294967295|B>>>21),B=R+(F^T^C)+D[7]+4139469664&4294967295,R=F+(B<<16&4294967295|B>>>16),B=C+(R^F^T)+D[10]+3200236656&4294967295,C=R+(B<<23&4294967295|B>>>9),B=T+(C^R^F)+D[13]+681279174&4294967295,T=C+(B<<4&4294967295|B>>>28),B=F+(T^C^R)+D[0]+3936430074&4294967295,F=T+(B<<11&4294967295|B>>>21),B=R+(F^T^C)+D[3]+3572445317&4294967295,R=F+(B<<16&4294967295|B>>>16),B=C+(R^F^T)+D[6]+76029189&4294967295,C=R+(B<<23&4294967295|B>>>9),B=T+(C^R^F)+D[9]+3654602809&4294967295,T=C+(B<<4&4294967295|B>>>28),B=F+(T^C^R)+D[12]+3873151461&4294967295,F=T+(B<<11&4294967295|B>>>21),B=R+(F^T^C)+D[15]+530742520&4294967295,R=F+(B<<16&4294967295|B>>>16),B=C+(R^F^T)+D[2]+3299628645&4294967295,C=R+(B<<23&4294967295|B>>>9),B=T+(R^(C|~F))+D[0]+4096336452&4294967295,T=C+(B<<6&4294967295|B>>>26),B=F+(C^(T|~R))+D[7]+1126891415&4294967295,F=T+(B<<10&4294967295|B>>>22),B=R+(T^(F|~C))+D[14]+2878612391&4294967295,R=F+(B<<15&4294967295|B>>>17),B=C+(F^(R|~T))+D[5]+4237533241&4294967295,C=R+(B<<21&4294967295|B>>>11),B=T+(R^(C|~F))+D[12]+1700485571&4294967295,T=C+(B<<6&4294967295|B>>>26),B=F+(C^(T|~R))+D[3]+2399980690&4294967295,F=T+(B<<10&4294967295|B>>>22),B=R+(T^(F|~C))+D[10]+4293915773&4294967295,R=F+(B<<15&4294967295|B>>>17),B=C+(F^(R|~T))+D[1]+2240044497&4294967295,C=R+(B<<21&4294967295|B>>>11),B=T+(R^(C|~F))+D[8]+1873313359&4294967295,T=C+(B<<6&4294967295|B>>>26),B=F+(C^(T|~R))+D[15]+4264355552&4294967295,F=T+(B<<10&4294967295|B>>>22),B=R+(T^(F|~C))+D[6]+2734768916&4294967295,R=F+(B<<15&4294967295|B>>>17),B=C+(F^(R|~T))+D[13]+1309151649&4294967295,C=R+(B<<21&4294967295|B>>>11),B=T+(R^(C|~F))+D[4]+4149444226&4294967295,T=C+(B<<6&4294967295|B>>>26),B=F+(C^(T|~R))+D[11]+3174756917&4294967295,F=T+(B<<10&4294967295|B>>>22),B=R+(T^(F|~C))+D[2]+718787259&4294967295,R=F+(B<<15&4294967295|B>>>17),B=C+(F^(R|~T))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+T&4294967295,j.g[1]=j.g[1]+(R+(B<<21&4294967295|B>>>11))&4294967295,j.g[2]=j.g[2]+R&4294967295,j.g[3]=j.g[3]+F&4294967295}n.prototype.u=function(j,T){T===void 0&&(T=j.length);for(var C=T-this.blockSize,D=this.B,R=this.h,F=0;F<T;){if(R==0)for(;F<=C;)i(this,j,F),F+=this.blockSize;if(typeof j=="string"){for(;F<T;)if(D[R++]=j.charCodeAt(F++),R==this.blockSize){i(this,D),R=0;break}}else for(;F<T;)if(D[R++]=j[F++],R==this.blockSize){i(this,D),R=0;break}}this.h=R,this.o+=T},n.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var T=1;T<j.length-8;++T)j[T]=0;var C=8*this.o;for(T=j.length-8;T<j.length;++T)j[T]=C&255,C/=256;for(this.u(j),j=Array(16),T=C=0;4>T;++T)for(var D=0;32>D;D+=8)j[C++]=this.g[T]>>>D&255;return j};function s(j,T){var C=o;return Object.prototype.hasOwnProperty.call(C,j)?C[j]:C[j]=T(j)}function a(j,T){this.h=T;for(var C=[],D=!0,R=j.length-1;0<=R;R--){var F=j[R]|0;D&&F==T||(C[R]=F,D=!1)}this.g=C}var o={};function l(j){return-128<=j&&128>j?s(j,function(T){return new a([T|0],0>T?-1:0)}):new a([j|0],0>j?-1:0)}function c(j){if(isNaN(j)||!isFinite(j))return p;if(0>j)return _(c(-j));for(var T=[],C=1,D=0;j>=C;D++)T[D]=j/C|0,C*=4294967296;return new a(T,0)}function d(j,T){if(j.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(j.charAt(0)=="-")return _(d(j.substring(1),T));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(T,8)),D=p,R=0;R<j.length;R+=8){var F=Math.min(8,j.length-R),B=parseInt(j.substring(R,R+F),T);8>F?(F=c(Math.pow(T,F)),D=D.j(F).add(c(B))):(D=D.j(C),D=D.add(c(B)))}return D}var p=l(0),g=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(w(this))return-_(this).m();for(var j=0,T=1,C=0;C<this.g.length;C++){var D=this.i(C);j+=(0<=D?D:4294967296+D)*T,T*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(y(this))return"0";if(w(this))return"-"+_(this).toString(j);for(var T=c(Math.pow(j,6)),C=this,D="";;){var R=V(C,T).g;C=S(C,R.j(T));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(j);if(C=R,y(C))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function y(j){if(j.h!=0)return!1;for(var T=0;T<j.g.length;T++)if(j.g[T]!=0)return!1;return!0}function w(j){return j.h==-1}t.l=function(j){return j=S(this,j),w(j)?-1:y(j)?0:1};function _(j){for(var T=j.g.length,C=[],D=0;D<T;D++)C[D]=~j.g[D];return new a(C,~j.h).add(g)}t.abs=function(){return w(this)?_(this):this},t.add=function(j){for(var T=Math.max(this.g.length,j.g.length),C=[],D=0,R=0;R<=T;R++){var F=D+(this.i(R)&65535)+(j.i(R)&65535),B=(F>>>16)+(this.i(R)>>>16)+(j.i(R)>>>16);D=B>>>16,F&=65535,B&=65535,C[R]=B<<16|F}return new a(C,C[C.length-1]&-2147483648?-1:0)};function S(j,T){return j.add(_(T))}t.j=function(j){if(y(this)||y(j))return p;if(w(this))return w(j)?_(this).j(_(j)):_(_(this).j(j));if(w(j))return _(this.j(_(j)));if(0>this.l(m)&&0>j.l(m))return c(this.m()*j.m());for(var T=this.g.length+j.g.length,C=[],D=0;D<2*T;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var R=0;R<j.g.length;R++){var F=this.i(D)>>>16,B=this.i(D)&65535,ee=j.i(R)>>>16,he=j.i(R)&65535;C[2*D+2*R]+=B*he,P(C,2*D+2*R),C[2*D+2*R+1]+=F*he,P(C,2*D+2*R+1),C[2*D+2*R+1]+=B*ee,P(C,2*D+2*R+1),C[2*D+2*R+2]+=F*ee,P(C,2*D+2*R+2)}for(D=0;D<T;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=T;D<2*T;D++)C[D]=0;return new a(C,0)};function P(j,T){for(;(j[T]&65535)!=j[T];)j[T+1]+=j[T]>>>16,j[T]&=65535,T++}function A(j,T){this.g=j,this.h=T}function V(j,T){if(y(T))throw Error("division by zero");if(y(j))return new A(p,p);if(w(j))return T=V(_(j),T),new A(_(T.g),_(T.h));if(w(T))return T=V(j,_(T)),new A(_(T.g),T.h);if(30<j.g.length){if(w(j)||w(T))throw Error("slowDivide_ only works with positive integers.");for(var C=g,D=T;0>=D.l(j);)C=W(C),D=W(D);var R=K(C,1),F=K(D,1);for(D=K(D,2),C=K(C,2);!y(D);){var B=F.add(D);0>=B.l(j)&&(R=R.add(C),F=B),D=K(D,1),C=K(C,1)}return T=S(j,R.j(T)),new A(R,T)}for(R=p;0<=j.l(T);){for(C=Math.max(1,Math.floor(j.m()/T.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=c(C),B=F.j(T);w(B)||0<B.l(j);)C-=D,F=c(C),B=F.j(T);y(F)&&(F=g),R=R.add(F),j=S(j,B)}return new A(R,j)}t.A=function(j){return V(this,j).h},t.and=function(j){for(var T=Math.max(this.g.length,j.g.length),C=[],D=0;D<T;D++)C[D]=this.i(D)&j.i(D);return new a(C,this.h&j.h)},t.or=function(j){for(var T=Math.max(this.g.length,j.g.length),C=[],D=0;D<T;D++)C[D]=this.i(D)|j.i(D);return new a(C,this.h|j.h)},t.xor=function(j){for(var T=Math.max(this.g.length,j.g.length),C=[],D=0;D<T;D++)C[D]=this.i(D)^j.i(D);return new a(C,this.h^j.h)};function W(j){for(var T=j.g.length+1,C=[],D=0;D<T;D++)C[D]=j.i(D)<<1|j.i(D-1)>>>31;return new a(C,j.h)}function K(j,T){var C=T>>5;T%=32;for(var D=j.g.length-C,R=[],F=0;F<D;F++)R[F]=0<T?j.i(F+C)>>>T|j.i(F+C+1)<<32-T:j.i(F+C);return new a(R,j.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,gP=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,s0=a}).apply(typeof XS<"u"?XS:typeof self<"u"?self:typeof window<"u"?window:{});var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xP,ig,vP,zv,h_,yP,wP,_P;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,q,Z){return k==Array.prototype||k==Object.prototype||(k[q]=Z.value),k};function r(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof ev=="object"&&ev];for(var q=0;q<k.length;++q){var Z=k[q];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var n=r(this);function i(k,q){if(q)e:{var Z=n;k=k.split(".");for(var xe=0;xe<k.length-1;xe++){var Je=k[xe];if(!(Je in Z))break e;Z=Z[Je]}k=k[k.length-1],xe=Z[k],q=q(xe),q!=xe&&q!=null&&e(Z,k,{configurable:!0,writable:!0,value:q})}}function s(k,q){k instanceof String&&(k+="");var Z=0,xe=!1,Je={next:function(){if(!xe&&Z<k.length){var mt=Z++;return{value:q(mt,k[mt]),done:!1}}return xe=!0,{done:!0,value:void 0}}};return Je[Symbol.iterator]=function(){return Je},Je}i("Array.prototype.values",function(k){return k||function(){return s(this,function(q,Z){return Z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(k){var q=typeof k;return q=q!="object"?q:k?Array.isArray(k)?"array":q:"null",q=="array"||q=="object"&&typeof k.length=="number"}function c(k){var q=typeof k;return q=="object"&&k!=null||q=="function"}function d(k,q,Z){return k.call.apply(k.bind,arguments)}function p(k,q,Z){if(!k)throw Error();if(2<arguments.length){var xe=Array.prototype.slice.call(arguments,2);return function(){var Je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Je,xe),k.apply(q,Je)}}return function(){return k.apply(q,arguments)}}function g(k,q,Z){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function m(k,q){var Z=Array.prototype.slice.call(arguments,1);return function(){var xe=Z.slice();return xe.push.apply(xe,arguments),k.apply(this,xe)}}function y(k,q){function Z(){}Z.prototype=q.prototype,k.aa=q.prototype,k.prototype=new Z,k.prototype.constructor=k,k.Qb=function(xe,Je,mt){for(var Ft=Array(arguments.length-2),Tn=2;Tn<arguments.length;Tn++)Ft[Tn-2]=arguments[Tn];return q.prototype[Je].apply(xe,Ft)}}function w(k){const q=k.length;if(0<q){const Z=Array(q);for(let xe=0;xe<q;xe++)Z[xe]=k[xe];return Z}return[]}function _(k,q){for(let Z=1;Z<arguments.length;Z++){const xe=arguments[Z];if(l(xe)){const Je=k.length||0,mt=xe.length||0;k.length=Je+mt;for(let Ft=0;Ft<mt;Ft++)k[Je+Ft]=xe[Ft]}else k.push(xe)}}class S{constructor(q,Z){this.i=q,this.j=Z,this.h=0,this.g=null}get(){let q;return 0<this.h?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function P(k){return/^[\s\xa0]*$/.test(k)}function A(){var k=o.navigator;return k&&(k=k.userAgent)?k:""}function V(k){return V[" "](k),k}V[" "]=function(){};var W=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function K(k,q,Z){for(const xe in k)q.call(Z,k[xe],xe,k)}function j(k,q){for(const Z in k)q.call(void 0,k[Z],Z,k)}function T(k){const q={};for(const Z in k)q[Z]=k[Z];return q}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(k,q){let Z,xe;for(let Je=1;Je<arguments.length;Je++){xe=arguments[Je];for(Z in xe)k[Z]=xe[Z];for(let mt=0;mt<C.length;mt++)Z=C[mt],Object.prototype.hasOwnProperty.call(xe,Z)&&(k[Z]=xe[Z])}}function R(k){var q=1;k=k.split(":");const Z=[];for(;0<q&&k.length;)Z.push(k.shift()),q--;return k.length&&Z.push(k.join(":")),Z}function F(k){o.setTimeout(()=>{throw k},0)}function B(){var k=Y;let q=null;return k.g&&(q=k.g,k.g=k.g.next,k.g||(k.h=null),q.next=null),q}class ee{constructor(){this.h=this.g=null}add(q,Z){const xe=he.get();xe.set(q,Z),this.h?this.h.next=xe:this.g=xe,this.h=xe}}var he=new S(()=>new ve,k=>k.reset());class ve{constructor(){this.next=this.g=this.h=null}set(q,Z){this.h=q,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,se=!1,Y=new ee,ie=()=>{const k=o.Promise.resolve(void 0);fe=()=>{k.then(G)}};var G=()=>{for(var k;k=B();){try{k.h.call(k.g)}catch(Z){F(Z)}var q=he;q.j(k),100>q.h&&(q.h++,k.next=q.g,q.g=k)}se=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(k,q){this.type=k,this.g=this.target=q,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var X=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var k=!1,q=Object.defineProperty({},"passive",{get:function(){k=!0}});try{const Z=()=>{};o.addEventListener("test",Z,q),o.removeEventListener("test",Z,q)}catch{}return k})();function J(k,q){if(z.call(this,k?k.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,k){var Z=this.type=k.type,xe=k.changedTouches&&k.changedTouches.length?k.changedTouches[0]:null;if(this.target=k.target||k.srcElement,this.g=q,q=k.relatedTarget){if(W){e:{try{V(q.nodeName);var Je=!0;break e}catch{}Je=!1}Je||(q=null)}}else Z=="mouseover"?q=k.fromElement:Z=="mouseout"&&(q=k.toElement);this.relatedTarget=q,xe?(this.clientX=xe.clientX!==void 0?xe.clientX:xe.pageX,this.clientY=xe.clientY!==void 0?xe.clientY:xe.pageY,this.screenX=xe.screenX||0,this.screenY=xe.screenY||0):(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0),this.button=k.button,this.key=k.key||"",this.ctrlKey=k.ctrlKey,this.altKey=k.altKey,this.shiftKey=k.shiftKey,this.metaKey=k.metaKey,this.pointerId=k.pointerId||0,this.pointerType=typeof k.pointerType=="string"?k.pointerType:ce[k.pointerType]||"",this.state=k.state,this.i=k,k.defaultPrevented&&J.aa.h.call(this)}}y(J,z);var ce={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var k=this.i;k.preventDefault?k.preventDefault():k.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),ke=0;function oe(k,q,Z,xe,Je){this.listener=k,this.proxy=null,this.src=q,this.type=Z,this.capture=!!xe,this.ha=Je,this.key=++ke,this.da=this.fa=!1}function Ee(k){k.da=!0,k.listener=null,k.proxy=null,k.src=null,k.ha=null}function Oe(k){this.src=k,this.g={},this.h=0}Oe.prototype.add=function(k,q,Z,xe,Je){var mt=k.toString();k=this.g[mt],k||(k=this.g[mt]=[],this.h++);var Ft=_e(k,q,xe,Je);return-1<Ft?(q=k[Ft],Z||(q.fa=!1)):(q=new oe(q,this.src,mt,!!xe,Je),q.fa=Z,k.push(q)),q};function re(k,q){var Z=q.type;if(Z in k.g){var xe=k.g[Z],Je=Array.prototype.indexOf.call(xe,q,void 0),mt;(mt=0<=Je)&&Array.prototype.splice.call(xe,Je,1),mt&&(Ee(q),k.g[Z].length==0&&(delete k.g[Z],k.h--))}}function _e(k,q,Z,xe){for(var Je=0;Je<k.length;++Je){var mt=k[Je];if(!mt.da&&mt.listener==q&&mt.capture==!!Z&&mt.ha==xe)return Je}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),pe={};function Ye(k,q,Z,xe,Je){if(Array.isArray(q)){for(var mt=0;mt<q.length;mt++)Ye(k,q[mt],Z,xe,Je);return null}return Z=Ke(Z),k&&k[we]?k.K(q,Z,c(xe)?!!xe.capture:!1,Je):ze(k,q,Z,!1,xe,Je)}function ze(k,q,Z,xe,Je,mt){if(!q)throw Error("Invalid event type");var Ft=c(Je)?!!Je.capture:!!Je,Tn=St(k);if(Tn||(k[Re]=Tn=new Oe(k)),Z=Tn.add(q,Z,xe,Ft,mt),Z.proxy)return Z;if(xe=ot(),Z.proxy=xe,xe.src=k,xe.listener=Z,k.addEventListener)X||(Je=Ft),Je===void 0&&(Je=!1),k.addEventListener(q.toString(),xe,Je);else if(k.attachEvent)k.attachEvent(ut(q.toString()),xe);else if(k.addListener&&k.removeListener)k.addListener(xe);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function ot(){function k(Z){return q.call(k.src,k.listener,Z)}const q=Et;return k}function Ve(k,q,Z,xe,Je){if(Array.isArray(q))for(var mt=0;mt<q.length;mt++)Ve(k,q[mt],Z,xe,Je);else xe=c(xe)?!!xe.capture:!!xe,Z=Ke(Z),k&&k[we]?(k=k.i,q=String(q).toString(),q in k.g&&(mt=k.g[q],Z=_e(mt,Z,xe,Je),-1<Z&&(Ee(mt[Z]),Array.prototype.splice.call(mt,Z,1),mt.length==0&&(delete k.g[q],k.h--)))):k&&(k=St(k))&&(q=k.g[q.toString()],k=-1,q&&(k=_e(q,Z,xe,Je)),(Z=-1<k?q[k]:null)&&He(Z))}function He(k){if(typeof k!="number"&&k&&!k.da){var q=k.src;if(q&&q[we])re(q.i,k);else{var Z=k.type,xe=k.proxy;q.removeEventListener?q.removeEventListener(Z,xe,k.capture):q.detachEvent?q.detachEvent(ut(Z),xe):q.addListener&&q.removeListener&&q.removeListener(xe),(Z=St(q))?(re(Z,k),Z.h==0&&(Z.src=null,q[Re]=null)):Ee(k)}}}function ut(k){return k in pe?pe[k]:pe[k]="on"+k}function Et(k,q){if(k.da)k=!0;else{q=new J(q,this);var Z=k.listener,xe=k.ha||k.src;k.fa&&He(k),k=Z.call(xe,q)}return k}function St(k){return k=k[Re],k instanceof Oe?k:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(k){return typeof k=="function"?k:(k[je]||(k[je]=function(q){return k.handleEvent(q)}),k[je])}function Qe(){I.call(this),this.i=new Oe(this),this.M=this,this.F=null}y(Qe,I),Qe.prototype[we]=!0,Qe.prototype.removeEventListener=function(k,q,Z,xe){Ve(this,k,q,Z,xe)};function ae(k,q){var Z,xe=k.F;if(xe)for(Z=[];xe;xe=xe.F)Z.push(xe);if(k=k.M,xe=q.type||q,typeof q=="string")q=new z(q,k);else if(q instanceof z)q.target=q.target||k;else{var Je=q;q=new z(xe,k),D(q,Je)}if(Je=!0,Z)for(var mt=Z.length-1;0<=mt;mt--){var Ft=q.g=Z[mt];Je=Le(Ft,xe,!0,q)&&Je}if(Ft=q.g=k,Je=Le(Ft,xe,!0,q)&&Je,Je=Le(Ft,xe,!1,q)&&Je,Z)for(mt=0;mt<Z.length;mt++)Ft=q.g=Z[mt],Je=Le(Ft,xe,!1,q)&&Je}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var k=this.i,q;for(q in k.g){for(var Z=k.g[q],xe=0;xe<Z.length;xe++)Ee(Z[xe]);delete k.g[q],k.h--}}this.F=null},Qe.prototype.K=function(k,q,Z,xe){return this.i.add(String(k),q,!1,Z,xe)},Qe.prototype.L=function(k,q,Z,xe){return this.i.add(String(k),q,!0,Z,xe)};function Le(k,q,Z,xe){if(q=k.i.g[String(q)],!q)return!0;q=q.concat();for(var Je=!0,mt=0;mt<q.length;++mt){var Ft=q[mt];if(Ft&&!Ft.da&&Ft.capture==Z){var Tn=Ft.listener,Ei=Ft.ha||Ft.src;Ft.fa&&re(k.i,Ft),Je=Tn.call(Ei,xe)!==!1&&Je}}return Je&&!xe.defaultPrevented}function We(k,q,Z){if(typeof k=="function")Z&&(k=g(k,Z));else if(k&&typeof k.handleEvent=="function")k=g(k.handleEvent,k);else throw Error("Invalid listener argument");return 2147483647<Number(q)?-1:o.setTimeout(k,q||0)}function lt(k){k.g=We(()=>{k.g=null,k.i&&(k.i=!1,lt(k))},k.l);const q=k.h;k.h=null,k.m.apply(null,q)}class xt extends I{constructor(q,Z){super(),this.m=q,this.l=Z,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ut(k){I.call(this),this.h=k,this.g={}}y(Ut,I);var Kt=[];function Ct(k){K(k.g,function(q,Z){this.g.hasOwnProperty(Z)&&He(q)},k),k.g={}}Ut.prototype.N=function(){Ut.aa.N.call(this),Ct(this)},Ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mt=o.JSON.stringify,Pr=o.JSON.parse,Zt=class{stringify(k){return o.JSON.stringify(k,void 0)}parse(k){return o.JSON.parse(k,void 0)}};function wr(){}wr.prototype.h=null;function _r(k){return k.h||(k.h=k.i())}function Pn(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $r(){z.call(this,"d")}y($r,z);function cr(){z.call(this,"c")}y(cr,z);var Wr={},na=null;function li(){return na=na||new Qe}Wr.La="serverreachability";function Ss(k){z.call(this,Wr.La,k)}y(Ss,z);function ci(k){const q=li();ae(q,new Ss(q))}Wr.STAT_EVENT="statevent";function gr(k,q){z.call(this,Wr.STAT_EVENT,k),this.stat=q}y(gr,z);function wn(k){const q=li();ae(q,new gr(q,k))}Wr.Ma="timingevent";function Es(k,q){z.call(this,Wr.Ma,k),this.size=q}y(Es,z);function Bn(k,q){if(typeof k!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){k()},q)}function tn(){this.g=!0}tn.prototype.xa=function(){this.g=!1};function Sn(k,q,Z,xe,Je,mt){k.info(function(){if(k.g)if(mt)for(var Ft="",Tn=mt.split("&"),Ei=0;Ei<Tn.length;Ei++){var sn=Tn[Ei].split("=");if(1<sn.length){var cn=sn[0];sn=sn[1];var jn=cn.split("_");Ft=2<=jn.length&&jn[1]=="type"?Ft+(cn+"="+sn+"&"):Ft+(cn+"=redacted&")}}else Ft=null;else Ft=mt;return"XMLHTTP REQ ("+xe+") [attempt "+Je+"]: "+q+`
`+Z+`
`+Ft})}function Xn(k,q,Z,xe,Je,mt,Ft){k.info(function(){return"XMLHTTP RESP ("+xe+") [ attempt "+Je+"]: "+q+`
`+Z+`
`+mt+" "+Ft})}function le(k,q,Z,xe){k.info(function(){return"XMLHTTP TEXT ("+q+"): "+be(k,Z)+(xe?" "+xe:"")})}function Ae(k,q){k.info(function(){return"TIMEOUT: "+q})}tn.prototype.info=function(){};function be(k,q){if(!k.g)return q;if(!q)return null;try{var Z=JSON.parse(q);if(Z){for(k=0;k<Z.length;k++)if(Array.isArray(Z[k])){var xe=Z[k];if(!(2>xe.length)){var Je=xe[1];if(Array.isArray(Je)&&!(1>Je.length)){var mt=Je[0];if(mt!="noop"&&mt!="stop"&&mt!="close")for(var Ft=1;Ft<Je.length;Ft++)Je[Ft]=""}}}}return Mt(Z)}catch{return q}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ie;function Xe(){}y(Xe,wr),Xe.prototype.g=function(){return new XMLHttpRequest},Xe.prototype.i=function(){return{}},Ie=new Xe;function dt(k,q,Z,xe){this.j=k,this.i=q,this.l=Z,this.R=xe||1,this.U=new Ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tt}function tt(){this.i=null,this.g="",this.h=!1}var et={},at={};function Tt(k,q,Z){k.L=1,k.v=hl(Si(q)),k.m=Z,k.P=!0,Vt(k,null)}function Vt(k,q){k.F=Date.now(),It(k),k.A=Si(k.v);var Z=k.A,xe=k.R;Array.isArray(xe)||(xe=[String(xe)]),Cr(Z.i,"t",xe),k.C=0,Z=k.j.J,k.h=new tt,k.g=vl(k.j,Z?q:null,!k.m),0<k.O&&(k.M=new xt(g(k.Y,k,k.g),k.O)),q=k.U,Z=k.g,xe=k.ca;var Je="readystatechange";Array.isArray(Je)||(Je&&(Kt[0]=Je.toString()),Je=Kt);for(var mt=0;mt<Je.length;mt++){var Ft=Ye(Z,Je[mt],xe||q.handleEvent,!1,q.h||q);if(!Ft)break;q.g[Ft.key]=Ft}q=k.H?T(k.H):{},k.m?(k.u||(k.u="POST"),q["Content-Type"]="application/x-www-form-urlencoded",k.g.ea(k.A,k.u,k.m,q)):(k.u="GET",k.g.ea(k.A,k.u,null,q)),ci(),Sn(k.i,k.u,k.A,k.l,k.R,k.m)}dt.prototype.ca=function(k){k=k.target;const q=this.M;q&&qs(k)==3?q.j():this.Y(k)},dt.prototype.Y=function(k){try{if(k==this.g)e:{const jn=qs(this.g);var q=this.g.Ba();const _a=this.g.Z();if(!(3>jn)&&(jn!=3||this.g&&(this.h.h||this.g.oa()||wc(this.g)))){this.J||jn!=4||q==7||(q==8||0>=_a?ci(3):ci(2)),qr(this);var Z=this.g.Z();this.X=Z;t:if(Ht(this)){var xe=wc(this.g);k="";var Je=xe.length,mt=qs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Fr(this);var Ft="";break t}this.h.i=new o.TextDecoder}for(q=0;q<Je;q++)this.h.h=!0,k+=this.h.i.decode(xe[q],{stream:!(mt&&q==Je-1)});xe.length=0,this.h.g+=k,this.C=0,Ft=this.h.g}else Ft=this.g.oa();if(this.o=Z==200,Xn(this.i,this.u,this.A,this.l,this.R,jn,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var Tn,Ei=this.g;if((Tn=Ei.g?Ei.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Tn)){var sn=Tn;break t}}sn=null}if(Z=sn)le(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xa(this,Z);else{this.o=!1,this.s=3,wn(12),mn(this),Fr(this);break e}}if(this.P){Z=!0;let la;for(;!this.J&&this.C<Ft.length;)if(la=Dt(this,Ft),la==at){jn==4&&(this.s=4,wn(14),Z=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(la==et){this.s=4,wn(15),le(this.i,this.l,Ft,"[Invalid Chunk]"),Z=!1;break}else le(this.i,this.l,la,null),xa(this,la);if(Ht(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jn!=4||Ft.length!=0||this.h.h||(this.s=1,wn(16),Z=!1),this.o=this.o&&Z,!Z)le(this.i,this.l,Ft,"[Invalid Chunked Response]"),mn(this),Fr(this);else if(0<Ft.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+Ft.length),xn(cn),cn.M=!0,wn(11))}}else le(this.i,this.l,Ft,null),xa(this,Ft);jn==4&&mn(this),this.o&&!this.J&&(jn==4?Cn(this.j,this):(this.o=!1,It(this)))}else Hs(this.g),Z==400&&0<Ft.indexOf("Unknown SID")?(this.s=3,wn(12)):(this.s=0,wn(13)),mn(this),Fr(this)}}}catch{}finally{}};function Ht(k){return k.g?k.u=="GET"&&k.L!=2&&k.j.Ca:!1}function Dt(k,q){var Z=k.C,xe=q.indexOf(`
`,Z);return xe==-1?at:(Z=Number(q.substring(Z,xe)),isNaN(Z)?et:(xe+=1,xe+Z>q.length?at:(q=q.slice(xe,xe+Z),k.C=xe+Z,q)))}dt.prototype.cancel=function(){this.J=!0,mn(this)};function It(k){k.S=Date.now()+k.I,br(k,k.I)}function br(k,q){if(k.B!=null)throw Error("WatchDog timer not null");k.B=Bn(g(k.ba,k),q)}function qr(k){k.B&&(o.clearTimeout(k.B),k.B=null)}dt.prototype.ba=function(){this.B=null;const k=Date.now();0<=k-this.S?(Ae(this.i,this.A),this.L!=2&&(ci(),wn(17)),mn(this),this.s=2,Fr(this)):br(this,this.S-k)};function Fr(k){k.j.G==0||k.J||Cn(k.j,k)}function mn(k){qr(k);var q=k.M;q&&typeof q.ma=="function"&&q.ma(),k.M=null,Ct(k.U),k.g&&(q=k.g,k.g=null,q.abort(),q.ma())}function xa(k,q){try{var Z=k.j;if(Z.G!=0&&(Z.g==k||Yt(Z.h,k))){if(!k.K&&Yt(Z.h,k)&&Z.G==3){try{var xe=Z.Da.g.parse(q)}catch{xe=null}if(Array.isArray(xe)&&xe.length==3){var Je=xe;if(Je[0]==0){e:if(!Z.u){if(Z.g)if(Z.g.F+3e3<k.F)vi(Z),Ne(Z);else break e;Rr(Z),wn(18)}}else Z.za=Je[1],0<Z.za-Z.T&&37500>Je[2]&&Z.F&&Z.v==0&&!Z.C&&(Z.C=Bn(g(Z.Za,Z),6e3));if(1>=Bt(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else Hn(Z,11)}else if((k.K||Z.g==k)&&vi(Z),!P(q))for(Je=Z.Da.g.parse(q),q=0;q<Je.length;q++){let sn=Je[q];if(Z.T=sn[0],sn=sn[1],Z.G==2)if(sn[0]=="c"){Z.K=sn[1],Z.ia=sn[2];const cn=sn[3];cn!=null&&(Z.la=cn,Z.j.info("VER="+Z.la));const jn=sn[4];jn!=null&&(Z.Aa=jn,Z.j.info("SVER="+Z.Aa));const _a=sn[5];_a!=null&&typeof _a=="number"&&0<_a&&(xe=1.5*_a,Z.L=xe,Z.j.info("backChannelRequestTimeoutMs_="+xe)),xe=Z;const la=k.g;if(la){const io=la.g?la.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var mt=xe.h;mt.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(mt.j=mt.l,mt.g=new Set,mt.h&&(er(mt,mt.h),mt.h=null))}if(xe.D){const yl=la.g?la.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(xe.ya=yl,nn(xe.I,xe.D,yl))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-k.F,Z.j.info("Handshake RTT: "+Z.R+"ms")),xe=Z;var Ft=k;if(xe.qa=Xo(xe,xe.J?xe.ia:null,xe.W),Ft.K){hr(xe.h,Ft);var Tn=Ft,Ei=xe.L;Ei&&(Tn.I=Ei),Tn.B&&(qr(Tn),It(Tn)),xe.g=Ft}else kr(xe);0<Z.i.length&&Ge(Z)}else sn[0]!="stop"&&sn[0]!="close"||Hn(Z,7);else Z.G==3&&(sn[0]=="stop"||sn[0]=="close"?sn[0]=="stop"?Hn(Z,7):te(Z):sn[0]!="noop"&&Z.l&&Z.l.ta(sn),Z.v=0)}}ci(4)}catch{}}var va=class{constructor(k,q){this.g=k,this.map=q}};function $s(k){this.l=k||10,o.PerformanceNavigationTiming?(k=o.performance.getEntriesByType("navigation"),k=0<k.length&&(k[0].nextHopProtocol=="hq"||k[0].nextHopProtocol=="h2")):k=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=k?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fe(k){return k.h?!0:k.g?k.g.size>=k.j:!1}function Bt(k){return k.h?1:k.g?k.g.size:0}function Yt(k,q){return k.h?k.h==q:k.g?k.g.has(q):!1}function er(k,q){k.g?k.g.add(q):k.h=q}function hr(k,q){k.h&&k.h==q?k.h=null:k.g&&k.g.has(q)&&k.g.delete(q)}$s.prototype.cancel=function(){if(this.i=Qr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const k of this.g.values())k.cancel();this.g.clear()}};function Qr(k){if(k.h!=null)return k.i.concat(k.h.D);if(k.g!=null&&k.g.size!==0){let q=k.i;for(const Z of k.g.values())q=q.concat(Z.D);return q}return w(k.i)}function xi(k){if(k.V&&typeof k.V=="function")return k.V();if(typeof Map<"u"&&k instanceof Map||typeof Set<"u"&&k instanceof Set)return Array.from(k.values());if(typeof k=="string")return k.split("");if(l(k)){for(var q=[],Z=k.length,xe=0;xe<Z;xe++)q.push(k[xe]);return q}q=[],Z=0;for(xe in k)q[Z++]=k[xe];return q}function Rn(k){if(k.na&&typeof k.na=="function")return k.na();if(!k.V||typeof k.V!="function"){if(typeof Map<"u"&&k instanceof Map)return Array.from(k.keys());if(!(typeof Set<"u"&&k instanceof Set)){if(l(k)||typeof k=="string"){var q=[];k=k.length;for(var Z=0;Z<k;Z++)q.push(Z);return q}q=[],Z=0;for(const xe in k)q[Z++]=xe;return q}}}function gn(k,q){if(k.forEach&&typeof k.forEach=="function")k.forEach(q,void 0);else if(l(k)||typeof k=="string")Array.prototype.forEach.call(k,q,void 0);else for(var Z=Rn(k),xe=xi(k),Je=xe.length,mt=0;mt<Je;mt++)q.call(void 0,xe[mt],Z&&Z[mt],k)}var En=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oi(k,q){if(k){k=k.split("&");for(var Z=0;Z<k.length;Z++){var xe=k[Z].indexOf("="),Je=null;if(0<=xe){var mt=k[Z].substring(0,xe);Je=k[Z].substring(xe+1)}else mt=k[Z];q(mt,Je?decodeURIComponent(Je.replace(/\+/g," ")):"")}}}function rn(k){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,k instanceof rn){this.h=k.h,ya(this,k.j),this.o=k.o,this.g=k.g,Lo(this,k.s),this.l=k.l;var q=k.i,Z=new ia;Z.i=q.i,q.g&&(Z.g=new Map(q.g),Z.h=q.h),Fo(this,Z),this.m=k.m}else k&&(q=String(k).match(En))?(this.h=!1,ya(this,q[1]||"",!0),this.o=en(q[2]||""),this.g=en(q[3]||"",!0),Lo(this,q[4]),this.l=en(q[5]||"",!0),Fo(this,q[6]||"",!0),this.m=en(q[7]||"")):(this.h=!1,this.i=new ia(null,this.h))}rn.prototype.toString=function(){var k=[],q=this.j;q&&k.push(Oa(q,Qc,!0),":");var Z=this.g;return(Z||q=="file")&&(k.push("//"),(q=this.o)&&k.push(Oa(q,Qc,!0),"@"),k.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.s,Z!=null&&k.push(":",String(Z))),(Z=this.l)&&(this.g&&Z.charAt(0)!="/"&&k.push("/"),k.push(Oa(Z,Z.charAt(0)=="/"?Bd:Vd,!0))),(Z=this.i.toString())&&k.push("?",Z),(Z=this.m)&&k.push("#",Oa(Z,pl)),k.join("")};function Si(k){return new rn(k)}function ya(k,q,Z){k.j=Z?en(q,!0):q,k.j&&(k.j=k.j.replace(/:$/,""))}function Lo(k,q){if(q){if(q=Number(q),isNaN(q)||0>q)throw Error("Bad port number "+q);k.s=q}else k.s=null}function Fo(k,q,Z){q instanceof ia?(k.i=q,Go(k.i,k.h)):(Z||(q=Oa(q,Jc)),k.i=new ia(q,k.h))}function nn(k,q,Z){k.i.set(q,Z)}function hl(k){return nn(k,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),k}function en(k,q){return k?q?decodeURI(k.replace(/%25/g,"%2525")):decodeURIComponent(k):""}function Oa(k,q,Z){return typeof k=="string"?(k=encodeURI(k).replace(q,Xc),Z&&(k=k.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k):null}function Xc(k){return k=k.charCodeAt(0),"%"+(k>>4&15).toString(16)+(k&15).toString(16)}var Qc=/[#\/\?@]/g,Vd=/[#\?:]/g,Bd=/[#\?]/g,Jc=/[#\?@]/g,pl=/#/g;function ia(k,q){this.h=this.g=null,this.i=k||null,this.j=!!q}function Cs(k){k.g||(k.g=new Map,k.h=0,k.i&&Oi(k.i,function(q,Z){k.add(decodeURIComponent(q.replace(/\+/g," ")),Z)}))}t=ia.prototype,t.add=function(k,q){Cs(this),this.i=null,k=to(this,k);var Z=this.g.get(k);return Z||this.g.set(k,Z=[]),Z.push(q),this.h+=1,this};function sa(k,q){Cs(k),q=to(k,q),k.g.has(q)&&(k.i=null,k.h-=k.g.get(q).length,k.g.delete(q))}function Ma(k,q){return Cs(k),q=to(k,q),k.g.has(q)}t.forEach=function(k,q){Cs(this),this.g.forEach(function(Z,xe){Z.forEach(function(Je){k.call(q,Je,xe,this)},this)},this)},t.na=function(){Cs(this);const k=Array.from(this.g.values()),q=Array.from(this.g.keys()),Z=[];for(let xe=0;xe<q.length;xe++){const Je=k[xe];for(let mt=0;mt<Je.length;mt++)Z.push(q[xe])}return Z},t.V=function(k){Cs(this);let q=[];if(typeof k=="string")Ma(this,k)&&(q=q.concat(this.g.get(to(this,k))));else{k=Array.from(this.g.values());for(let Z=0;Z<k.length;Z++)q=q.concat(k[Z])}return q},t.set=function(k,q){return Cs(this),this.i=null,k=to(this,k),Ma(this,k)&&(this.h-=this.g.get(k).length),this.g.set(k,[q]),this.h+=1,this},t.get=function(k,q){return k?(k=this.V(k),0<k.length?String(k[0]):q):q};function Cr(k,q,Z){sa(k,q),0<Z.length&&(k.i=null,k.g.set(to(k,q),w(Z)),k.h+=Z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const k=[],q=Array.from(this.g.keys());for(var Z=0;Z<q.length;Z++){var xe=q[Z];const mt=encodeURIComponent(String(xe)),Ft=this.V(xe);for(xe=0;xe<Ft.length;xe++){var Je=mt;Ft[xe]!==""&&(Je+="="+encodeURIComponent(String(Ft[xe]))),k.push(Je)}}return this.i=k.join("&")};function to(k,q){return q=String(q),k.j&&(q=q.toLowerCase()),q}function Go(k,q){q&&!k.j&&(Cs(k),k.i=null,k.g.forEach(function(Z,xe){var Je=xe.toLowerCase();xe!=Je&&(sa(this,xe),Cr(this,Je,Z))},k)),k.j=q}function xh(k,q){const Z=new tn;if(o.Image){const xe=new Image;xe.onload=m(Mi,Z,"TestLoadImage: loaded",!0,q,xe),xe.onerror=m(Mi,Z,"TestLoadImage: error",!1,q,xe),xe.onabort=m(Mi,Z,"TestLoadImage: abort",!1,q,xe),xe.ontimeout=m(Mi,Z,"TestLoadImage: timeout",!1,q,xe),o.setTimeout(function(){xe.ontimeout&&xe.ontimeout()},1e4),xe.src=k}else q(!1)}function Ud(k,q){const Z=new tn,xe=new AbortController,Je=setTimeout(()=>{xe.abort(),Mi(Z,"TestPingServer: timeout",!1,q)},1e4);fetch(k,{signal:xe.signal}).then(mt=>{clearTimeout(Je),mt.ok?Mi(Z,"TestPingServer: ok",!0,q):Mi(Z,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(Je),Mi(Z,"TestPingServer: error",!1,q)})}function Mi(k,q,Z,xe,Je){try{Je&&(Je.onload=null,Je.onerror=null,Je.onabort=null,Je.ontimeout=null),xe(Z)}catch{}}function ml(){this.g=new Zt}function zd(k,q,Z){const xe=Z||"";try{gn(k,function(Je,mt){let Ft=Je;c(Je)&&(Ft=Mt(Je)),q.push(xe+mt+"="+encodeURIComponent(Ft))})}catch(Je){throw q.push(xe+"type="+encodeURIComponent("_badmap")),Je}}function gl(k){this.l=k.Ub||null,this.j=k.eb||!1}y(gl,wr),gl.prototype.g=function(){return new Ko(this.l,this.j)},gl.prototype.i=(function(k){return function(){return k}})({});function Ko(k,q){Qe.call(this),this.D=k,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Ko,Qe),t=Ko.prototype,t.open=function(k,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=k,this.A=q,this.readyState=1,wa(this)},t.send=function(k){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};k&&(q.body=k),(this.D||o).fetch(new Request(this.A,q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,aa(this)),this.readyState=0},t.Sa=function(k){if(this.g&&(this.l=k,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=k.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")k.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in k){if(this.j=k.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zc(this)}else k.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zc(k){k.j.read().then(k.Pa.bind(k)).catch(k.ga.bind(k))}t.Pa=function(k){if(this.g){if(this.o&&k.value)this.response.push(k.value);else if(!this.o){var q=k.value?k.value:new Uint8Array(0);(q=this.v.decode(q,{stream:!k.done}))&&(this.response=this.responseText+=q)}k.done?aa(this):wa(this),this.readyState==3&&Zc(this)}},t.Ra=function(k){this.g&&(this.response=this.responseText=k,aa(this))},t.Qa=function(k){this.g&&(this.response=k,aa(this))},t.ga=function(){this.g&&aa(this)};function aa(k){k.readyState=4,k.l=null,k.j=null,k.v=null,wa(k)}t.setRequestHeader=function(k,q){this.u.append(k,q)},t.getResponseHeader=function(k){return this.h&&this.h.get(k.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const k=[],q=this.h.entries();for(var Z=q.next();!Z.done;)Z=Z.value,k.push(Z[0]+": "+Z[1]),Z=q.next();return k.join(`\r
`)};function wa(k){k.onreadystatechange&&k.onreadystatechange.call(k)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(k){this.m=k?"include":"same-origin"}});function ro(k){let q="";return K(k,function(Z,xe){q+=xe,q+=":",q+=Z,q+=`\r
`}),q}function Ul(k,q,Z){e:{for(xe in Z){var xe=!1;break e}xe=!0}xe||(Z=ro(Z),typeof k=="string"?Z!=null&&encodeURIComponent(String(Z)):nn(k,q,Z))}function qn(k){Qe.call(this),this.headers=new Map,this.o=k||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(qn,Qe);var $u=/^https?$/i,xl=["POST","PUT"];t=qn.prototype,t.Ha=function(k){this.J=k},t.ea=function(k,q,Z,xe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+k);q=q?q.toUpperCase():"GET",this.D=k,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ie.g(),this.v=this.o?_r(this.o):_r(Ie),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(q,String(k),!0),this.B=!1}catch(mt){Do(this,mt);return}if(k=Z||"",Z=new Map(this.headers),xe)if(Object.getPrototypeOf(xe)===Object.prototype)for(var Je in xe)Z.set(Je,xe[Je]);else if(typeof xe.keys=="function"&&typeof xe.get=="function")for(const mt of xe.keys())Z.set(mt,xe.get(mt));else throw Error("Unknown input type for opt_headers: "+String(xe));xe=Array.from(Z.keys()).find(mt=>mt.toLowerCase()=="content-type"),Je=o.FormData&&k instanceof o.FormData,!(0<=Array.prototype.indexOf.call(xl,q,void 0))||xe||Je||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[mt,Ft]of Z)this.g.setRequestHeader(mt,Ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yo(this),this.u=!0,this.g.send(k),this.u=!1}catch(mt){Do(this,mt)}};function Do(k,q){k.h=!1,k.g&&(k.j=!0,k.g.abort(),k.j=!1),k.l=q,k.m=5,zl(k),oa(k)}function zl(k){k.A||(k.A=!0,ae(k,"complete"),ae(k,"error"))}t.abort=function(k){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=k||7,ae(this,"complete"),ae(this,"abort"),oa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oa(this,!0)),qn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$l(this):this.bb())},t.bb=function(){$l(this)};function $l(k){if(k.h&&typeof a<"u"&&(!k.v[1]||qs(k)!=4||k.Z()!=2)){if(k.u&&qs(k)==4)We(k.Ea,0,k);else if(ae(k,"readystatechange"),qs(k)==4){k.h=!1;try{const Ft=k.Z();e:switch(Ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var Z;if(!(Z=q)){var xe;if(xe=Ft===0){var Je=String(k.D).match(En)[1]||null;!Je&&o.self&&o.self.location&&(Je=o.self.location.protocol.slice(0,-1)),xe=!$u.test(Je?Je.toLowerCase():"")}Z=xe}if(Z)ae(k,"complete"),ae(k,"success");else{k.m=6;try{var mt=2<qs(k)?k.g.statusText:""}catch{mt=""}k.l=mt+" ["+k.Z()+"]",zl(k)}}finally{oa(k)}}}}function oa(k,q){if(k.g){Yo(k);const Z=k.g,xe=k.v[0]?()=>{}:null;k.g=null,k.v=null,q||ae(k,"ready");try{Z.onreadystatechange=xe}catch{}}}function Yo(k){k.I&&(o.clearTimeout(k.I),k.I=null)}t.isActive=function(){return!!this.g};function qs(k){return k.g?k.g.readyState:0}t.Z=function(){try{return 2<qs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(k){if(this.g){var q=this.g.responseText;return k&&q.indexOf(k)==0&&(q=q.substring(k.length)),Pr(q)}};function wc(k){try{if(!k.g)return null;if("response"in k.g)return k.g.response;switch(k.H){case"":case"text":return k.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in k.g)return k.g.mozResponseArrayBuffer}return null}catch{return null}}function Hs(k){const q={};k=(k.g&&2<=qs(k)&&k.g.getAllResponseHeaders()||"").split(`\r
`);for(let xe=0;xe<k.length;xe++){if(P(k[xe]))continue;var Z=R(k[xe]);const Je=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const mt=q[Je]||[];q[Je]=mt,mt.push(Z)}j(q,function(xe){return xe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(k,q,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[k]||q}function M(k){this.Aa=0,this.i=[],this.j=new tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,k),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,k),this.cb=Ns("retryDelaySeedMs",1e4,k),this.Wa=Ns("forwardChannelMaxRetries",2,k),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,k),this.pa=k&&k.xmlHttpFactory||void 0,this.Xa=k&&k.Tb||void 0,this.Ca=k&&k.useFetchStreams||!1,this.L=void 0,this.J=k&&k.supportsCrossDomainXhr||!1,this.K="",this.h=new $s(k&&k.concurrentRequestLimit),this.Da=new ml,this.P=k&&k.fastHandshake||!1,this.O=k&&k.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=k&&k.Rb||!1,k&&k.xa&&this.j.xa(),k&&k.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&k&&k.detectBufferingProxy||!1,this.ja=void 0,k&&k.longPollingTimeout&&0<k.longPollingTimeout&&(this.ja=k.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=M.prototype,t.la=8,t.G=1,t.connect=function(k,q,Z,xe){wn(0),this.W=k,this.H=q||{},Z&&xe!==void 0&&(this.H.OSID=Z,this.H.OAID=xe),this.F=this.X,this.I=Xo(this,null,this.W),Ge(this)};function te(k){if(Me(k),k.G==3){var q=k.U++,Z=Si(k.I);if(nn(Z,"SID",k.K),nn(Z,"RID",q),nn(Z,"TYPE","terminate"),Jt(k,Z),q=new dt(k,k.j,q),q.L=2,q.v=hl(Si(Z)),Z=!1,o.navigator&&o.navigator.sendBeacon)try{Z=o.navigator.sendBeacon(q.v.toString(),"")}catch{}!Z&&o.Image&&(new Image().src=q.v,Z=!0),Z||(q.g=vl(q.j,null),q.g.ea(q.v)),q.F=Date.now(),It(q)}us(k)}function Ne(k){k.g&&(xn(k),k.g.cancel(),k.g=null)}function Me(k){Ne(k),k.u&&(o.clearTimeout(k.u),k.u=null),vi(k),k.h.cancel(),k.s&&(typeof k.s=="number"&&o.clearTimeout(k.s),k.s=null)}function Ge(k){if(!Fe(k.h)&&!k.s){k.s=!0;var q=k.Ga;fe||ie(),se||(fe(),se=!0),Y.add(q,k),k.B=0}}function _t(k,q){return Bt(k.h)>=k.h.j-(k.s?1:0)?!1:k.s?(k.i=q.D.concat(k.i),!0):k.G==1||k.G==2||k.B>=(k.Va?0:k.Wa)?!1:(k.s=Bn(g(k.Ga,k,q),Vi(k,k.B)),k.B++,!0)}t.Ga=function(k){if(this.s)if(this.s=null,this.G==1){if(!k){this.U=Math.floor(1e5*Math.random()),k=this.U++;const Je=new dt(this,this.j,k);let mt=this.o;if(this.S&&(mt?(mt=T(mt),D(mt,this.S)):mt=this.S),this.m!==null||this.O||(Je.H=mt,mt=null),this.P)e:{for(var q=0,Z=0;Z<this.i.length;Z++){t:{var xe=this.i[Z];if("__data__"in xe.map&&(xe=xe.map.__data__,typeof xe=="string")){xe=xe.length;break t}xe=void 0}if(xe===void 0)break;if(q+=xe,4096<q){q=Z;break e}if(q===4096||Z===this.i.length-1){q=Z+1;break e}}q=1e3}else q=1e3;q=ir(this,Je,q),Z=Si(this.I),nn(Z,"RID",k),nn(Z,"CVER",22),this.D&&nn(Z,"X-HTTP-Session-Id",this.D),Jt(this,Z),mt&&(this.O?q="headers="+encodeURIComponent(String(ro(mt)))+"&"+q:this.m&&Ul(Z,this.m,mt)),er(this.h,Je),this.Ua&&nn(Z,"TYPE","init"),this.P?(nn(Z,"$req",q),nn(Z,"SID","null"),Je.T=!0,Tt(Je,Z,null)):Tt(Je,Z,q),this.G=2}}else this.G==3&&(k?Nt(this,k):this.i.length==0||Fe(this.h)||Nt(this))};function Nt(k,q){var Z;q?Z=q.l:Z=k.U++;const xe=Si(k.I);nn(xe,"SID",k.K),nn(xe,"RID",Z),nn(xe,"AID",k.T),Jt(k,xe),k.m&&k.o&&Ul(xe,k.m,k.o),Z=new dt(k,k.j,Z,k.B+1),k.m===null&&(Z.H=k.o),q&&(k.i=q.D.concat(k.i)),q=ir(k,Z,1e3),Z.I=Math.round(.5*k.wa)+Math.round(.5*k.wa*Math.random()),er(k.h,Z),Tt(Z,xe,q)}function Jt(k,q){k.H&&K(k.H,function(Z,xe){nn(q,xe,Z)}),k.l&&gn({},function(Z,xe){nn(q,xe,Z)})}function ir(k,q,Z){Z=Math.min(k.i.length,Z);var xe=k.l?g(k.l.Na,k.l,k):null;e:{var Je=k.i;let mt=-1;for(;;){const Ft=["count="+Z];mt==-1?0<Z?(mt=Je[0].g,Ft.push("ofs="+mt)):mt=0:Ft.push("ofs="+mt);let Tn=!0;for(let Ei=0;Ei<Z;Ei++){let sn=Je[Ei].g;const cn=Je[Ei].map;if(sn-=mt,0>sn)mt=Math.max(0,Je[Ei].g-100),Tn=!1;else try{zd(cn,Ft,"req"+sn+"_")}catch{xe&&xe(cn)}}if(Tn){xe=Ft.join("&");break e}}}return k=k.i.splice(0,Z),q.D=k,xe}function kr(k){if(!k.g&&!k.u){k.Y=1;var q=k.Fa;fe||ie(),se||(fe(),se=!0),Y.add(q,k),k.v=0}}function Rr(k){return k.g||k.u||3<=k.v?!1:(k.Y++,k.u=Bn(g(k.Fa,k),Vi(k,k.v)),k.v++,!0)}t.Fa=function(){if(this.u=null,ui(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var k=2*this.R;this.j.info("BP detection timer enabled: "+k),this.A=Bn(g(this.ab,this),k)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wn(10),Ne(this),ui(this))};function xn(k){k.A!=null&&(o.clearTimeout(k.A),k.A=null)}function ui(k){k.g=new dt(k,k.j,"rpc",k.Y),k.m===null&&(k.g.H=k.o),k.g.O=0;var q=Si(k.qa);nn(q,"RID","rpc"),nn(q,"SID",k.K),nn(q,"AID",k.T),nn(q,"CI",k.F?"0":"1"),!k.F&&k.ja&&nn(q,"TO",k.ja),nn(q,"TYPE","xmlhttp"),Jt(k,q),k.m&&k.o&&Ul(q,k.m,k.o),k.L&&(k.g.I=k.L);var Z=k.g;k=k.ia,Z.L=1,Z.v=hl(Si(q)),Z.m=null,Z.P=!0,Vt(Z,k)}t.Za=function(){this.C!=null&&(this.C=null,Ne(this),Rr(this),wn(19))};function vi(k){k.C!=null&&(o.clearTimeout(k.C),k.C=null)}function Cn(k,q){var Z=null;if(k.g==q){vi(k),xn(k),k.g=null;var xe=2}else if(Yt(k.h,q))Z=q.D,hr(k.h,q),xe=1;else return;if(k.G!=0){if(q.o)if(xe==1){Z=q.m?q.m.length:0,q=Date.now()-q.F;var Je=k.B;xe=li(),ae(xe,new Es(xe,Z)),Ge(k)}else kr(k);else if(Je=q.s,Je==3||Je==0&&0<q.X||!(xe==1&&_t(k,q)||xe==2&&Rr(k)))switch(Z&&0<Z.length&&(q=k.h,q.i=q.i.concat(Z)),Je){case 1:Hn(k,5);break;case 4:Hn(k,10);break;case 3:Hn(k,6);break;default:Hn(k,2)}}}function Vi(k,q){let Z=k.Ta+Math.floor(Math.random()*k.cb);return k.isActive()||(Z*=2),Z*q}function Hn(k,q){if(k.j.info("Error code "+q),q==2){var Z=g(k.fb,k),xe=k.Xa;const Je=!xe;xe=new rn(xe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ya(xe,"https"),hl(xe),Je?xh(xe.toString(),Z):Ud(xe.toString(),Z)}else wn(2);k.G=0,k.l&&k.l.sa(q),us(k),Me(k)}t.fb=function(k){k?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))};function us(k){if(k.G=0,k.ka=[],k.l){const q=Qr(k.h);(q.length!=0||k.i.length!=0)&&(_(k.ka,q),_(k.ka,k.i),k.h.i.length=0,w(k.i),k.i.length=0),k.l.ra()}}function Xo(k,q,Z){var xe=Z instanceof rn?Si(Z):new rn(Z);if(xe.g!="")q&&(xe.g=q+"."+xe.g),Lo(xe,xe.s);else{var Je=o.location;xe=Je.protocol,q=q?q+"."+Je.hostname:Je.hostname,Je=+Je.port;var mt=new rn(null);xe&&ya(mt,xe),q&&(mt.g=q),Je&&Lo(mt,Je),Z&&(mt.l=Z),xe=mt}return Z=k.D,q=k.ya,Z&&q&&nn(xe,Z,q),nn(xe,"VER",k.la),Jt(k,xe),xe}function vl(k,q,Z){if(q&&!k.J)throw Error("Can't create secondary domain capable XhrIo object.");return q=k.Ca&&!k.pa?new qn(new gl({eb:Z})):new qn(k.pa),q.Ha(k.J),q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}t=qu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _c(){}_c.prototype.g=function(k,q){return new Xi(k,q)};function Xi(k,q){Qe.call(this),this.g=new M(q),this.l=k,this.h=q&&q.messageUrlParams||null,k=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(k?k["X-Client-Protocol"]="webchannel":k={"X-Client-Protocol":"webchannel"}),this.g.o=k,k=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(k?k["X-WebChannel-Content-Type"]=q.messageContentType:k={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.va&&(k?k["X-WebChannel-Client-Profile"]=q.va:k={"X-WebChannel-Client-Profile":q.va}),this.g.S=k,(k=q&&q.Sb)&&!P(k)&&(this.g.m=k),this.v=q&&q.supportsCrossDomainXhr||!1,this.u=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!P(q)&&(this.g.D=q,k=this.h,k!==null&&q in k&&(k=this.h,q in k&&delete k[q])),this.j=new Va(this)}y(Xi,Qe),Xi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xi.prototype.close=function(){te(this.g)},Xi.prototype.o=function(k){var q=this.g;if(typeof k=="string"){var Z={};Z.__data__=k,k=Z}else this.u&&(Z={},Z.__data__=Mt(k),k=Z);q.i.push(new va(q.Ya++,k)),q.G==3&&Ge(q)},Xi.prototype.N=function(){this.g.l=null,delete this.j,te(this.g),delete this.g,Xi.aa.N.call(this)};function no(k){$r.call(this),k.__headers__&&(this.headers=k.__headers__,this.statusCode=k.__status__,delete k.__headers__,delete k.__status__);var q=k.__sm__;if(q){e:{for(const Z in q){k=Z;break e}k=void 0}(this.i=k)&&(k=this.i,q=q!==null&&k in q?q[k]:void 0),this.data=q}else this.data=k}y(no,$r);function eu(){cr.call(this),this.status=1}y(eu,cr);function Va(k){this.g=k}y(Va,qu),Va.prototype.ua=function(){ae(this.g,"a")},Va.prototype.ta=function(k){ae(this.g,new no(k))},Va.prototype.sa=function(k){ae(this.g,new eu)},Va.prototype.ra=function(){ae(this.g,"b")},_c.prototype.createWebChannel=_c.prototype.g,Xi.prototype.send=Xi.prototype.o,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,_P=function(){return new _c},wP=function(){return li()},yP=Wr,h_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,zv=Se,Pe.COMPLETE="complete",vP=Pe,Pn.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,ig=Pn,qn.prototype.listenOnce=qn.prototype.L,qn.prototype.getLastError=qn.prototype.Ka,qn.prototype.getLastErrorCode=qn.prototype.Ba,qn.prototype.getStatus=qn.prototype.Z,qn.prototype.getResponseJson=qn.prototype.Oa,qn.prototype.getResponseText=qn.prototype.oa,qn.prototype.send=qn.prototype.ea,qn.prototype.setWithCredentials=qn.prototype.Ha,xP=qn}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});const QS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pa.UNAUTHENTICATED=new Pa(null),Pa.GOOGLE_CREDENTIALS=new Pa("google-credentials-uid"),Pa.FIRST_PARTY=new Pa("first-party-uid"),Pa.MOCK_USER=new Pa("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H1="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new a6("@firebase/firestore");function Mp(){return Mf.logLevel}function fH(t){Mf.setLogLevel(t)}function Rt(t,...e){if(Mf.logLevel<=_n.DEBUG){const r=e.map(l6);Mf.debug(`Firestore (${H1}): ${t}`,...r)}}function Os(t,...e){if(Mf.logLevel<=_n.ERROR){const r=e.map(l6);Mf.error(`Firestore (${H1}): ${t}`,...r)}}function Dl(t,...e){if(Mf.logLevel<=_n.WARN){const r=e.map(l6);Mf.warn(`Firestore (${H1}): ${t}`,...r)}}function l6(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t="Unexpected state"){const e=`FIRESTORE (${H1}) INTERNAL ASSERTION FAILED: `+t;throw Os(e),new Error(e)}function fr(t,e){t||nr()}function hH(t,e){t||nr()}function Gt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pt extends Gc{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Pa.UNAUTHENTICATED)))}shutdown(){}}class pH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class mH{constructor(e){this.t=e,this.currentUser=Pa.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){fr(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Fa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fa,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fa)}}),0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(fr(typeof n.accessToken=="string"),new bP(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fr(e===null||typeof e=="string"),new Pa(e)}}class gH{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Pa.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class xH{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new gH(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable((()=>r(Pa.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class SP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){fr(this.o===void 0);const n=s=>{s.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Rt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(fr(typeof r.token=="string"),this.R=r.token,new SP(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class yH{getToken(){return Promise.resolve(new SP(""))}invalidateToken(){}start(e,r){}shutdown(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=wH(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function zr(t,e){return t<e?-1:t>e?1:0}function w1(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}function EP(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Pt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Pt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Pt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ki.fromMillis(Date.now())}static fromDate(e){return Ki.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Ki(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zr(this.nanoseconds,e.nanoseconds):zr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vr(e)}static min(){return new vr(new Ki(0,0))}static max(){return new vr(new Ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,r,n){r===void 0?r=0:r>e.length&&nr(),n===void 0?n=e.length-r:n>e.length-r&&nr(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Hg.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Hg?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class bn extends Hg{construct(e,r,n){return new bn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Pt(pt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new bn(r)}static emptyPath(){return new bn([])}}const _H=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ji extends Hg{construct(e,r,n){return new ji(e,r,n)}static isValidIdentifier(e){return _H.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ji.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ji(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Pt(pt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Pt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Pt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new Pt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ji(r)}static emptyPath(){return new ji([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(bn.fromString(e))}static fromName(e){return new Xt(bn.fromString(e).popFirst(5))}static empty(){return new Xt(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return bn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new bn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,r,n,i){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=i}}function p_(t){return t.fields.find((e=>e.kind===2))}function Uh(t){return t.fields.filter((e=>e.kind!==2))}function bH(t,e){let r=zr(t.collectionGroup,e.collectionGroup);if(r!==0)return r;for(let n=0;n<Math.min(t.fields.length,e.fields.length);++n)if(r=kH(t.fields[n],e.fields[n]),r!==0)return r;return zr(t.fields.length,e.fields.length)}_1.UNKNOWN_ID=-1;class a0{constructor(e,r){this.fieldPath=e,this.kind=r}}function kH(t,e){const r=ji.comparator(t.fieldPath,e.fieldPath);return r!==0?r:zr(t.kind,e.kind)}class b1{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new b1(0,Ol.min())}}function CP(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=vr.fromTimestamp(n===1e9?new Ki(r+1,0):new Ki(r,n));return new Ol(i,Xt.empty(),e)}function NP(t){return new Ol(t.readTime,t.key,-1)}class Ol{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ol(vr.min(),Xt.empty(),-1)}static max(){return new Ol(vr.max(),Xt.empty(),-1)}}function u6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Xt.comparator(t.documentKey,e.documentKey),r!==0?r:zr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){if(t.code!==pt.FAILED_PRECONDITION||t.message!==TP)throw t;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&nr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new rt(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof rt?r:rt.resolve(r)}catch(r){return rt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):rt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):rt.reject(r)}static resolve(e){return new rt(((r,n)=>{r(e)}))}static reject(e){return new rt(((r,n)=>{n(e)}))}static waitFor(e){return new rt(((r,n)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&r()}),(l=>n(l)))})),a=!0,s===i&&r()}))}static or(e){let r=rt.resolve(!1);for(const n of e)r=r.next((i=>i?rt.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new rt(((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;r(e[c]).next((d=>{a[c]=d,++o,o===s&&n(a)}),(d=>i(d)))}}))}static doWhile(e,r){return new rt(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Fa,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new mg(e,r.error)):this.V.resolve()},this.transaction.onerror=n=>{const i=d6(n.target.error);this.V.reject(new mg(e,i))}}static open(e,r,n,i){try{return new N5(r,e.transaction(i,n))}catch(s){throw new mg(r,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Rt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new EH(r)}}class Cu{constructor(e,r,n){this.name=e,this.version=r,this.p=n,Cu.S(ha())===12.2&&Os("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Rt("SimpleDb","Removing database:",e),Hh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!uP())return!1;if(Cu.v())return!0;const e=ha(),r=Cu.S(e),n=0<r&&r<10,i=IP(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Rt("SimpleDb","Opening database:",this.name),this.db=await new Promise(((r,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;r(a)},i.onblocked=()=>{n(new mg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?n(new Pt(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?n(new Pt(pt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):n(new mg(e,a))},i.onupgradeneeded=s=>{Rt("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next((()=>{Rt("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=r=>this.N(r)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,i){const s=r==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=N5.open(this.db,e,s?"readonly":"readwrite",n),l=i(o).next((c=>(o.g(),c))).catch((c=>(o.abort(c),rt.reject(c)))).toPromise();return l.catch((()=>{})),await o.m,l}catch(o){const l=o,c=l.name!=="FirebaseError"&&a<3;if(Rt("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function IP(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class SH{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Hh(this.B.delete())}}class mg extends Pt{constructor(e,r){super(pt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function sh(t){return t.name==="IndexedDbTransactionError"}class EH{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Rt("SimpleDb","PUT",this.store.name,e,r),n=this.store.put(r,e)):(Rt("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Hh(n)}add(e){return Rt("SimpleDb","ADD",this.store.name,e,e),Hh(this.store.add(e))}get(e){return Hh(this.store.get(e)).next((r=>(r===void 0&&(r=null),Rt("SimpleDb","GET",this.store.name,e,r),r)))}delete(e){return Rt("SimpleDb","DELETE",this.store.name,e),Hh(this.store.delete(e))}count(){return Rt("SimpleDb","COUNT",this.store.name),Hh(this.store.count())}U(e,r){const n=this.options(e,r),i=n.index?this.store.index(n.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(n.range);return new rt(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(n),a=[];return this.W(s,((o,l)=>{a.push(l)})).next((()=>a))}}G(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new rt(((i,s)=>{n.onerror=a=>{s(a.target.error)},n.onsuccess=a=>{i(a.target.result)}}))}j(e,r){Rt("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,r);n.H=!1;const i=this.cursor(n);return this.W(i,((s,a,o)=>o.delete()))}J(e,r){let n;r?n=e:(n={},r=e);const i=this.cursor(n);return this.W(i,r)}Y(e){const r=this.cursor({});return new rt(((n,i)=>{r.onerror=s=>{const a=d6(s.target.error);i(a)},r.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():n()})):n()}}))}W(e,r){const n=[];return new rt(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new SH(o),c=r(o.primaryKey,o.value,l);if(c instanceof rt){const d=c.catch((p=>(l.done(),rt.reject(p))));n.push(d)}l.isDone?i():l.K===null?o.continue():o.continue(l.K)}})).next((()=>rt.waitFor(n)))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Hh(t){return new rt(((e,r)=>{t.onsuccess=n=>{const i=n.target.result;e(i)},t.onerror=n=>{const i=d6(n.target.error);r(i)}}))}let JS=!1;function d6(t){const e=Cu.S(ha());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Pt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JS||(JS=!0,setTimeout((()=>{throw n}),0)),n}}return t}class CH{constructor(e,r){this.asyncQueue=e,this.Z=r,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Rt("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Rt("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(r){sh(r)?Rt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):await ih(r)}await this.X(6e4)}))}}class NH{constructor(e,r){this.localStore=e,this.persistence=r}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(r=>this.te(r,e)))}te(e,r){const n=new Set;let i=r,s=!0;return rt.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!n.has(a))return Rt("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next((o=>{i-=o,n.add(a)}));s=!1})))).next((()=>r-i))}ne(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next((i=>this.localStore.localDocuments.getNextDocuments(e,r,i,n).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this.re(i,s))).next((o=>(Rt("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,r,o)))).next((()=>a.size))}))))}re(e,r){let n=e;return r.changes.forEach(((i,s)=>{const a=NP(s);u6(a,n)>0&&(n=a)})),new Ol(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}al.oe=-1;function P2(t){return t==null}function Wg(t){return t===0&&1/t==-1/0}function PP(t){return typeof t=="number"&&Number.isInteger(t)&&!Wg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=ZS(e)),e=TH(t.get(r),e);return ZS(e)}function TH(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case"":r+="";break;default:r+=s}}return r}function ZS(t){return t+""}function wu(t){const e=t.length;if(fr(e>=2),e===2)return fr(t.charAt(0)===""&&t.charAt(1)===""),bn.emptyPath();const r=e-2,n=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>r)&&nr(),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),n.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:nr()}s=a+2}return new bn(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t,e){return[t,Ao(e)]}function RP(t,e,r){return[t,Ao(e),r]}const AH={},IH=["prefixPath","collectionGroup","readTime","documentId"],PH=["prefixPath","collectionGroup","documentId"],RH=["collectionGroup","readTime","prefixPath","documentId"],jH=["canonicalId","targetId"],LH=["targetId","path"],FH=["path","targetId"],DH=["collectionId","parent"],OH=["indexId","uid"],MH=["uid","sequenceNumber"],VH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],BH=["indexId","uid","orderedDocumentKey"],UH=["userId","collectionPath","documentId"],zH=["userId","collectionPath","largestBatchId"],$H=["userId","collectionGroup","largestBatchId"],jP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],qH=[...jP,"documentOverlays"],LP=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FP=LP,f6=[...FP,"indexConfiguration","indexState","indexEntries"],HH=f6,WH=[...f6,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_ extends AP{constructor(e,r){super(),this._e=e,this.currentSequenceNumber=r}}function ga(t,e){const r=Gt(t);return Cu.F(r._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function ah(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function DP(t,e){const r=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(e(t[n],n,t));return r}function OP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,r){this.comparator=e,this.root=r||Xa.EMPTY}insert(e,r){return new Ai(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Xa.BLACK,null,null))}remove(e){return new Ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xa.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tv(this.root,e,this.comparator,!1)}getReverseIterator(){return new tv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tv(this.root,e,this.comparator,!0)}}class tv{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xa{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Xa.RED,this.left=i??Xa.EMPTY,this.right=s??Xa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Xa(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Xa.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nr();const e=this.left.check();if(e!==this.right.check())throw nr();return e+(this.isRed()?0:1)}}Xa.EMPTY=null,Xa.RED=!0,Xa.BLACK=!1;Xa.EMPTY=new class{constructor(){this.size=0}get key(){throw nr()}get value(){throw nr()}get color(){throw nr()}get left(){throw nr()}get right(){throw nr()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Xa(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.comparator=e,this.data=new Ai(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new r9(this.data.getIterator())}getIteratorFrom(e){return new r9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof mi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new mi(this.comparator);return r.data=e,r}}class r9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cp(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.fields=e,e.sort(ji.comparator)}static empty(){return new ol([])}unionWith(e){let r=new mi(ji.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ol(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return w1(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new MP("Invalid base64 string: "+s):s}})(e);return new ls(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new ls(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const KH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _d(t){if(fr(!!t),typeof t=="string"){let e=0;const r=KH.exec(t);if(fr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Hi(t.seconds),nanos:Hi(t.nanos)}}function Hi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bd(t){return typeof t=="string"?ls.fromBase64String(t):ls.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function A5(t){const e=t.mapValue.fields.__previous_value__;return T5(e)?A5(e):e}function Gg(t){const e=_d(t.mapValue.fields.__local_write_time__.timestampValue);return new Ki(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,r,n,i,s,a,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class Vf{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Vf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qv={nullValue:"NULL_VALUE"};function Bf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?T5(t)?4:VP(t)?9007199254740991:I5(t)?10:11:nr()}function Fu(t,e){if(t===e)return!0;const r=Bf(t);if(r!==Bf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gg(t).isEqual(Gg(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=_d(i.timestampValue),o=_d(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return bd(i.bytesValue).isEqual(bd(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Hi(i.geoPointValue.latitude)===Hi(s.geoPointValue.latitude)&&Hi(i.geoPointValue.longitude)===Hi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Hi(i.integerValue)===Hi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Hi(i.doubleValue),o=Hi(s.doubleValue);return a===o?Wg(a)===Wg(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return w1(t.arrayValue.values||[],e.arrayValue.values||[],Fu);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(t9(a)!==t9(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Fu(a[l],o[l])))return!1;return!0})(t,e);default:return nr()}}function Kg(t,e){return(t.values||[]).find((r=>Fu(r,e)))!==void 0}function Uf(t,e){if(t===e)return 0;const r=Bf(t),n=Bf(e);if(r!==n)return zr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return zr(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=Hi(s.integerValue||s.doubleValue),l=Hi(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return n9(t.timestampValue,e.timestampValue);case 4:return n9(Gg(t),Gg(e));case 5:return zr(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=bd(s),l=bd(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const d=zr(o[c],l[c]);if(d!==0)return d}return zr(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=zr(Hi(s.latitude),Hi(a.latitude));return o!==0?o:zr(Hi(s.longitude),Hi(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return i9(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var o,l,c,d;const p=s.fields||{},g=a.fields||{},m=(o=p.value)===null||o===void 0?void 0:o.arrayValue,y=(l=g.value)===null||l===void 0?void 0:l.arrayValue,w=zr(((c=m?.values)===null||c===void 0?void 0:c.length)||0,((d=y?.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:i9(m,y)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Tf.mapValue&&a===Tf.mapValue)return 0;if(s===Tf.mapValue)return 1;if(a===Tf.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){const g=zr(l[p],d[p]);if(g!==0)return g;const m=Uf(o[l[p]],c[d[p]]);if(m!==0)return m}return zr(l.length,d.length)})(t.mapValue,e.mapValue);default:throw nr()}}function n9(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zr(t,e);const r=_d(t),n=_d(e),i=zr(r.seconds,n.seconds);return i!==0?i:zr(r.nanos,n.nanos)}function i9(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Uf(r[i],n[i]);if(s)return s}return zr(r.length,n.length)}function k1(t){return g_(t)}function g_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=_d(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return bd(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Xt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=g_(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${g_(r.fields[a])}`;return i+"}"})(t.mapValue):nr()}function Hv(t){switch(Bf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=A5(t);return e?16+Hv(e):16;case 5:return 2*t.stringValue.length;case 6:return bd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+Hv(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return ah(n.fields,((s,a)=>{i+=s.length+Hv(a)})),i})(t.mapValue);default:throw nr()}}function g0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function x_(t){return!!t&&"integerValue"in t}function Yg(t){return!!t&&"arrayValue"in t}function s9(t){return!!t&&"nullValue"in t}function a9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wv(t){return!!t&&"mapValue"in t}function I5(t){var e,r;return((r=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function gg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ah(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=gg(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=gg(t.arrayValue.values[r]);return e}return Object.assign({},t)}function VP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const BP={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function XH(t){return"nullValue"in t?qv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?g0(Vf.empty(),Xt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?I5(t)?BP:{mapValue:{}}:nr()}function QH(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?g0(Vf.empty(),Xt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?BP:"mapValue"in t?I5(t)?{mapValue:{}}:Tf:nr()}function o9(t,e){const r=Uf(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function l9(t,e){const r=Uf(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.value=e}static empty(){return new Za({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Wv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=gg(r)}setAll(e){let r=ji.emptyPath(),n={},i=[];e.forEach(((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=gg(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());Wv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Fu(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Wv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){ah(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new Za(gg(this.value))}}function UP(t){const e=[];return ah(t.fields,((r,n)=>{const i=new ji([r]);if(Wv(n)){const s=UP(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new ol(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ri(e,0,vr.min(),vr.min(),vr.min(),Za.empty(),0)}static newFoundDocument(e,r,n,i){return new Ri(e,1,r,vr.min(),n,i,0)}static newNoDocument(e,r){return new Ri(e,2,r,vr.min(),vr.min(),Za.empty(),0)}static newUnknownDocument(e,r){return new Ri(e,3,r,vr.min(),vr.min(),Za.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(vr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Za.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Za.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,r){this.position=e,this.inclusive=r}}function c9(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Xt.comparator(Xt.fromName(a.referenceValue),r.key):n=Uf(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function u9(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Fu(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,r="asc"){this.field=e,this.dir=r}}function JH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zP=class{};class kn extends zP{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new ZH(e,r,n):r==="array-contains"?new rW(e,n):r==="in"?new KP(e,n):r==="not-in"?new nW(e,n):r==="array-contains-any"?new iW(e,n):new kn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new eW(e,n):new tW(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Uf(r,this.value)):r!==null&&Bf(this.value)===Bf(r)&&this.matchesComparison(Uf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nr()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends zP{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new si(e,r)}matches(e){return S1(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function S1(t){return t.op==="and"}function v_(t){return t.op==="or"}function h6(t){return $P(t)&&S1(t)}function $P(t){for(const e of t.filters)if(e instanceof si)return!1;return!0}function y_(t){if(t instanceof kn)return t.field.canonicalString()+t.op.toString()+k1(t.value);if(h6(t))return t.filters.map((e=>y_(e))).join(",");{const e=t.filters.map((r=>y_(r))).join(",");return`${t.op}(${e})`}}function qP(t,e){return t instanceof kn?(function(n,i){return i instanceof kn&&n.op===i.op&&n.field.isEqual(i.field)&&Fu(n.value,i.value)})(t,e):t instanceof si?(function(n,i){return i instanceof si&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,o)=>s&&qP(a,i.filters[o])),!0):!1})(t,e):void nr()}function HP(t,e){const r=t.filters.concat(e);return si.create(r,t.op)}function WP(t){return t instanceof kn?(function(r){return`${r.field.canonicalString()} ${r.op} ${k1(r.value)}`})(t):t instanceof si?(function(r){return r.op.toString()+" {"+r.getFilters().map(WP).join(" ,")+"}"})(t):"Filter"}class ZH extends kn{constructor(e,r,n){super(e,r,n),this.key=Xt.fromName(n.referenceValue)}matches(e){const r=Xt.comparator(e.key,this.key);return this.matchesComparison(r)}}class eW extends kn{constructor(e,r){super(e,"in",r),this.keys=GP("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class tW extends kn{constructor(e,r){super(e,"not-in",r),this.keys=GP("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function GP(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map((n=>Xt.fromName(n.referenceValue)))}class rW extends kn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Yg(r)&&Kg(r.arrayValue,this.value)}}class KP extends kn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Kg(this.value.arrayValue,r)}}class nW extends kn{constructor(e,r){super(e,"not-in",r)}matches(e){if(Kg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Kg(this.value.arrayValue,r)}}class iW extends kn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Yg(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>Kg(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function w_(t,e=null,r=[],n=[],i=null,s=null,a=null){return new sW(t,e,r,n,i,s,a)}function x0(t){const e=Gt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>y_(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),P2(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>k1(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>k1(n))).join(",")),e.ue=r}return e.ue}function R2(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!JH(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!qP(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!u9(t.startAt,e.startAt)&&u9(t.endAt,e.endAt)}function _y(t){return Xt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function by(t,e){return t.filters.filter((r=>r instanceof kn&&r.field.isEqual(e)))}function d9(t,e,r){let n=qv,i=!0;for(const s of by(t,e)){let a=qv,o=!0;switch(s.op){case"<":case"<=":a=XH(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=qv}o9({value:n,inclusive:i},{value:a,inclusive:o})<0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];o9({value:n,inclusive:i},{value:a,inclusive:r.inclusive})<0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}function f9(t,e,r){let n=Tf,i=!0;for(const s of by(t,e)){let a=Tf,o=!0;switch(s.op){case">=":case">":a=QH(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Tf}l9({value:n,inclusive:i},{value:a,inclusive:o})>0&&(n=a,i=o)}if(r!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=r.position[s];l9({value:n,inclusive:i},{value:a,inclusive:r.inclusive})>0&&(n=a,i=r.inclusive);break}}return{value:n,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function YP(t,e,r,n,i,s,a,o){return new Td(t,e,r,n,i,s,a,o)}function W1(t){return new Td(t)}function h9(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p6(t){return t.collectionGroup!==null}function t1(t){const e=Gt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new mi(ji.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((c=>{c.isInequality()&&(o=o.add(c.field))}))})),o})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xg(s,n))})),r.has(ji.keyField().canonicalString())||e.ce.push(new Xg(ji.keyField(),n))}return e.ce}function Io(t){const e=Gt(t);return e.le||(e.le=QP(e,t1(t))),e.le}function XP(t){const e=Gt(t);return e.he||(e.he=QP(e,t.explicitOrderBy)),e.he}function QP(t,e){if(t.limitType==="F")return w_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Xg(i.field,s)}));const r=t.endAt?new zf(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new zf(t.startAt.position,t.startAt.inclusive):null;return w_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function __(t,e){const r=t.filters.concat([e]);return new Td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ky(t,e,r){return new Td(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function j2(t,e){return R2(Io(t),Io(e))&&t.limitType===e.limitType}function JP(t){return`${x0(Io(t))}|lt:${t.limitType}`}function Vp(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>WP(i))).join(", ")}]`),P2(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>k1(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>k1(i))).join(",")),`Target(${n})`})(Io(t))}; limitType=${t.limitType})`}function L2(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Xt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of t1(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(a,o,l){const c=c9(a,o,l);return a.inclusive?c<=0:c<0})(n.startAt,t1(n),i)||n.endAt&&!(function(a,o,l){const c=c9(a,o,l);return a.inclusive?c>=0:c>0})(n.endAt,t1(n),i))})(t,e)}function ZP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eR(t){return(e,r)=>{let n=!1;for(const i of t1(t)){const s=aW(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function aW(t,e,r){const n=t.field.isKeyField()?Xt.comparator(e.key,r.key):(function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Uf(l,c):nr()})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return nr()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ah(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return OP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=new Ai(Xt.comparator);function ll(){return oW}const tR=new Ai(Xt.comparator);function sg(...t){let e=tR;for(const r of t)e=e.insert(r.key,r);return e}function rR(t){let e=tR;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function _u(){return xg()}function nR(){return xg()}function xg(){return new Ad((t=>t.toString()),((t,e)=>t.isEqual(e)))}const lW=new Ai(Xt.comparator),cW=new mi(Xt.comparator);function Yr(...t){let e=cW;for(const r of t)e=e.add(r);return e}const uW=new mi(zr);function m6(){return uW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wg(e)?"-0":e}}function iR(t){return{integerValue:""+t}}function sR(t,e){return PP(e)?iR(e):g6(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this._=void 0}}function dW(t,e,r){return t instanceof E1?(function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&T5(s)&&(s=A5(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(r,e):t instanceof v0?oR(t,e):t instanceof y0?lR(t,e):(function(i,s){const a=aR(i,s),o=p9(a)+p9(i.Pe);return x_(a)&&x_(i.Pe)?iR(o):g6(i.serializer,o)})(t,e)}function fW(t,e,r){return t instanceof v0?oR(t,e):t instanceof y0?lR(t,e):r}function aR(t,e){return t instanceof C1?(function(n){return x_(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class E1 extends P5{}class v0 extends P5{constructor(e){super(),this.elements=e}}function oR(t,e){const r=cR(e);for(const n of t.elements)r.some((i=>Fu(i,n)))||r.push(n);return{arrayValue:{values:r}}}class y0 extends P5{constructor(e){super(),this.elements=e}}function lR(t,e){let r=cR(e);for(const n of t.elements)r=r.filter((i=>!Fu(i,n)));return{arrayValue:{values:r}}}class C1 extends P5{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function p9(t){return Hi(t.integerValue||t.doubleValue)}function cR(t){return Yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,r){this.field=e,this.transform=r}}function hW(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof v0&&i instanceof v0||n instanceof y0&&i instanceof y0?w1(n.elements,i.elements,Fu):n instanceof C1&&i instanceof C1?Fu(n.Pe,i.Pe):n instanceof E1&&i instanceof E1})(t.transform,e.transform)}class pW{constructor(e,r){this.version=e,this.transformResults=r}}class Wi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class R5{}function uR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new K1(t.key,Wi.none()):new G1(t.key,t.data,Wi.none());{const r=t.data,n=Za.empty();let i=new mi(ji.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Id(t.key,n,new ol(i.toArray()),Wi.none())}}function mW(t,e,r){t instanceof G1?(function(i,s,a){const o=i.value.clone(),l=g9(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,r):t instanceof Id?(function(i,s,a){if(!Gv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=g9(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(dR(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,r):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,r)}function vg(t,e,r,n){return t instanceof G1?(function(s,a,o,l){if(!Gv(s.precondition,a))return o;const c=s.value.clone(),d=x9(s.fieldTransforms,l,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null})(t,e,r,n):t instanceof Id?(function(s,a,o,l){if(!Gv(s.precondition,a))return o;const c=x9(s.fieldTransforms,l,a),d=a.data;return d.setAll(dR(s)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(s,a,o){return Gv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,r)}function gW(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=aR(n.transform,i||null);s!=null&&(r===null&&(r=Za.empty()),r.set(n.field,s))}return r||null}function m9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&w1(n,i,((s,a)=>hW(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class G1 extends R5{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Id extends R5{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dR(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function g9(t,e,r){const n=new Map;fr(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,fW(a,o,r[i]))}return n}function x9(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,dW(s,a,e))}return n}class K1 extends R5{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x6 extends R5{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mW(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=vg(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=vg(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=nR();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=uR(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(vr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Yr())}isEqual(e){return this.batchId===e.batchId&&w1(this.mutations,e.mutations,((r,n)=>m9(r,n)))&&w1(this.baseMutations,e.baseMutations,((r,n)=>m9(r,n)))}}class y6{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){fr(e.mutations.length===n.length);let i=(function(){return lW})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new y6(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,r,n){this.alias=e,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs,An;function hR(t){switch(t){default:return nr();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function pR(t){if(t===void 0)return Os("GRPC error has no .code"),pt.UNKNOWN;switch(t){case Qs.OK:return pt.OK;case Qs.CANCELLED:return pt.CANCELLED;case Qs.UNKNOWN:return pt.UNKNOWN;case Qs.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Qs.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Qs.INTERNAL:return pt.INTERNAL;case Qs.UNAVAILABLE:return pt.UNAVAILABLE;case Qs.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Qs.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Qs.NOT_FOUND:return pt.NOT_FOUND;case Qs.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Qs.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Qs.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Qs.ABORTED:return pt.ABORTED;case Qs.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Qs.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Qs.DATA_LOSS:return pt.DATA_LOSS;default:return nr()}}(An=Qs||(Qs={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sy=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=new s0([4294967295,4294967295],0);function v9(t){const e=mR().encode(t),r=new gP;return r.update(e),new Uint8Array(r.digest())}function y9(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new s0([r,n],0),new s0([i,s],0)]}class _6{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ag(`Invalid padding: ${r}`);if(n<0)throw new ag(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ag(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new ag(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=s0.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(s0.fromNumber(n)));return i.compare(vW)===1&&(i=new s0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=v9(e),[n,i]=y9(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new _6(s,i,r);return n.forEach((o=>a.insert(o))),a}insert(e){if(this.Ie===0)return;const r=v9(e),[n,i]=y9(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,O2.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new D2(vr.min(),i,new Ai(zr),ll(),Yr())}}class O2{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new O2(n,r,Yr(),Yr(),Yr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class gR{constructor(e,r){this.targetId=e,this.me=r}}class xR{constructor(e,r,n=ls.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class w9{constructor(){this.fe=0,this.ge=b9(),this.pe=ls.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Yr(),r=Yr(),n=Yr();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:nr()}})),new O2(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=b9()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yW{constructor(e){this.Le=e,this.Be=new Map,this.ke=ll(),this.qe=_9(),this.Qe=new Ai(zr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,(r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:nr()}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach(((n,i)=>{this.ze(i)&&r(i)}))}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(_y(s))if(n===0){const a=new Xt(s.path);this.Ue(r,a,Ri.newNoDocument(a,vr.min()))}else fr(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}Sy?.et((function(d,p,g,m,y){var w,_,S,P,A,V;const W={localCacheCount:d,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},K=p.unchangedNames;return K&&(W.bloomFilter={applied:y===0,hashCount:(w=K?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(P=(S=(_=K?.bits)===null||_===void 0?void 0:_.bitmap)===null||S===void 0?void 0:S.length)!==null&&P!==void 0?P:0,padding:(V=(A=K?.bits)===null||A===void 0?void 0:A.padding)!==null&&V!==void 0?V:0,mightContain:j=>{var T;return(T=m?.mightContain(j))!==null&&T!==void 0&&T}}),W})(a,e.me,this.Le.tt(),o,l))}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=bd(n).toUint8Array()}catch(l){if(l instanceof MP)return Dl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new _6(a,i,s)}catch(l){return Dl(l instanceof ag?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)})),i}rt(e){const r=new Map;this.Be.forEach(((s,a)=>{const o=this.Je(a);if(o){if(s.current&&_y(o.target)){const l=new Xt(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Ri.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}}));let n=Yr();this.qe.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(e)));const i=new D2(e,r,this.Qe,this.ke,n);return this.ke=ll(),this.qe=_9(),this.Qe=new Ai(zr),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new w9,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new mi(zr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Rt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new w9),this.Le.getRemoteKeysForTarget(e).forEach((r=>{this.Ue(e,r,null)}))}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function _9(){return new Ai(Xt.comparator)}function b9(){return new Ai(Xt.comparator)}const wW={asc:"ASCENDING",desc:"DESCENDING"},_W={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bW={and:"AND",or:"OR"};class kW{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function b_(t,e){return t.useProto3Json||P2(e)?e:{value:e}}function N1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function SW(t,e){return N1(t,e.toTimestamp())}function Vs(t){return fr(!!t),vr.fromTimestamp((function(r){const n=_d(r);return new Ki(n.seconds,n.nanos)})(t))}function b6(t,e){return k_(t,e).canonicalString()}function k_(t,e){const r=(function(i){return new bn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function yR(t){const e=bn.fromString(t);return fr(AR(e)),e}function Qg(t,e){return b6(t.databaseId,e.path)}function Nu(t,e){const r=yR(e);if(r.get(1)!==t.databaseId.projectId)throw new Pt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Pt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Xt(bR(r))}function wR(t,e){return b6(t.databaseId,e)}function _R(t){const e=yR(t);return e.length===4?bn.emptyPath():bR(e)}function S_(t){return new bn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bR(t){return fr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function k9(t,e,r){return{name:Qg(t,e),fields:r.value.mapValue.fields}}function kR(t,e,r){const n=Nu(t,e.name),i=Vs(e.updateTime),s=e.createTime?Vs(e.createTime):vr.min(),a=new Za({mapValue:{fields:e.fields}}),o=Ri.newFoundDocument(n,i,s,a);return r&&o.setHasCommittedMutations(),r?o.setHasCommittedMutations():o}function EW(t,e){return"found"in e?(function(n,i){fr(!!i.found),i.found.name,i.found.updateTime;const s=Nu(n,i.found.name),a=Vs(i.found.updateTime),o=i.found.createTime?Vs(i.found.createTime):vr.min(),l=new Za({mapValue:{fields:i.found.fields}});return Ri.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(n,i){fr(!!i.missing),fr(!!i.readTime);const s=Nu(n,i.missing),a=Vs(i.readTime);return Ri.newNoDocument(s,a)})(t,e):nr()}function CW(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:nr()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,d){return c.useProto3Json?(fr(d===void 0||typeof d=="string"),ls.fromBase64String(d||"")):(fr(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ls.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(c){const d=c.code===void 0?pt.UNKNOWN:pR(c.code);return new Pt(d,c.message||"")})(a);r=new xR(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Nu(t,n.document.name),s=Vs(n.document.updateTime),a=n.document.createTime?Vs(n.document.createTime):vr.min(),o=new Za({mapValue:{fields:n.document.fields}}),l=Ri.newFoundDocument(i,s,a,o),c=n.targetIds||[],d=n.removedTargetIds||[];r=new Kv(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Nu(t,n.document),s=n.readTime?Vs(n.readTime):vr.min(),a=Ri.newNoDocument(i,s),o=n.removedTargetIds||[];r=new Kv([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Nu(t,n.document),s=n.removedTargetIds||[];r=new Kv([],s,i,null)}else{if(!("filter"in e))return nr();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new xW(i,s),o=n.targetId;r=new gR(o,a)}}return r}function Jg(t,e){let r;if(e instanceof G1)r={update:k9(t,e.key,e.value)};else if(e instanceof K1)r={delete:Qg(t,e.key)};else if(e instanceof Id)r={update:k9(t,e.key,e.data),updateMask:RW(e.fieldMask)};else{if(!(e instanceof x6))return nr();r={verify:Qg(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const o=a.transform;if(o instanceof E1)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof v0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof y0)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof C1)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw nr()})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:SW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:nr()})(t,e.precondition)),r}function E_(t,e){const r=e.currentDocument?(function(s){return s.updateTime!==void 0?Wi.updateTime(Vs(s.updateTime)):s.exists!==void 0?Wi.exists(s.exists):Wi.none()})(e.currentDocument):Wi.none(),n=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)fr(o.setToServerValue==="REQUEST_TIME"),l=new E1;else if("appendMissingElements"in o){const d=o.appendMissingElements.values||[];l=new v0(d)}else if("removeAllFromArray"in o){const d=o.removeAllFromArray.values||[];l=new y0(d)}else"increment"in o?l=new C1(a,o.increment):nr();const c=ji.fromServerFormat(o.fieldPath);return new F2(c,l)})(t,i))):[];if(e.update){e.update.name;const i=Nu(t,e.update.name),s=new Za({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const c=l.fieldPaths||[];return new ol(c.map((d=>ji.fromServerFormat(d))))})(e.updateMask);return new Id(i,s,a,r,n)}return new G1(i,s,r,n)}if(e.delete){const i=Nu(t,e.delete);return new K1(i,r)}if(e.verify){const i=Nu(t,e.verify);return new x6(i,r)}return nr()}function NW(t,e){return t&&t.length>0?(fr(e!==void 0),t.map((r=>(function(i,s){let a=i.updateTime?Vs(i.updateTime):Vs(s);return a.isEqual(vr.min())&&(a=Vs(s)),new pW(a,i.transformResults||[])})(r,e)))):[]}function SR(t,e){return{documents:[wR(t,e.path)]}}function j5(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=wR(t,i);const s=(function(c){if(c.length!==0)return TR(si.create(c,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const a=(function(c){if(c.length!==0)return c.map((d=>(function(g){return{field:wf(g.field),direction:AW(g.dir)}})(d)))})(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=b_(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{_t:r,parent:i}}function ER(t,e,r,n){const{_t:i,parent:s}=j5(t,e),a={},o=[];let l=0;return r.forEach((c=>{const d=n?c.alias:"aggregate_"+l++;a[d]=c.alias,c.aggregateType==="count"?o.push({alias:d,count:{}}):c.aggregateType==="avg"?o.push({alias:d,avg:{field:wf(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:d,sum:{field:wf(c.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},ut:a,parent:s}}function CR(t){let e=_R(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){fr(n===1);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];r.where&&(s=(function(p){const g=NR(p);return g instanceof si&&h6(g)?g.getFilters():[g]})(r.where));let a=[];r.orderBy&&(a=(function(p){return p.map((g=>(function(y){return new Xg(Bp(y.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(g)))})(r.orderBy));let o=null;r.limit&&(o=(function(p){let g;return g=typeof p=="object"?p.value:p,P2(g)?null:g})(r.limit));let l=null;r.startAt&&(l=(function(p){const g=!!p.before,m=p.values||[];return new zf(m,g)})(r.startAt));let c=null;return r.endAt&&(c=(function(p){const g=!p.before,m=p.values||[];return new zf(m,g)})(r.endAt)),YP(e,i,a,s,o,"F",l,c)}function TW(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nr()}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function NR(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Bp(r.unaryFilter.field);return kn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Bp(r.unaryFilter.field);return kn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bp(r.unaryFilter.field);return kn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Bp(r.unaryFilter.field);return kn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return nr()}})(t):t.fieldFilter!==void 0?(function(r){return kn.create(Bp(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nr()}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return si.create(r.compositeFilter.filters.map((n=>NR(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nr()}})(r.compositeFilter.op))})(t):nr()}function AW(t){return wW[t]}function IW(t){return _W[t]}function PW(t){return bW[t]}function wf(t){return{fieldPath:t.canonicalString()}}function Bp(t){return ji.fromServerFormat(t.fieldPath)}function TR(t){return t instanceof kn?(function(r){if(r.op==="=="){if(a9(r.value))return{unaryFilter:{field:wf(r.field),op:"IS_NAN"}};if(s9(r.value))return{unaryFilter:{field:wf(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(a9(r.value))return{unaryFilter:{field:wf(r.field),op:"IS_NOT_NAN"}};if(s9(r.value))return{unaryFilter:{field:wf(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wf(r.field),op:IW(r.op),value:r.value}}})(t):t instanceof si?(function(r){const n=r.getFilters().map((i=>TR(i)));return n.length===1?n[0]:{compositeFilter:{op:PW(r.op),filters:n}}})(t):nr()}function RW(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function AR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,r,n,i,s=vr.min(),a=vr.min(),o=ls.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new od(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.ct=e}}function jW(t,e){let r;if(e.document)r=kR(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=Xt.fromSegments(e.noDocument.path),i=_0(e.noDocument.readTime);r=Ri.newNoDocument(n,i),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return nr();{const n=Xt.fromSegments(e.unknownDocument.path),i=_0(e.unknownDocument.version);r=Ri.newUnknownDocument(n,i)}}return e.readTime&&r.setReadTime((function(i){const s=new Ki(i[0],i[1]);return vr.fromTimestamp(s)})(e.readTime)),r}function S9(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Ey(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(s,a){return{name:Qg(s,a.key),fields:a.data.value.mapValue.fields,updateTime:N1(s,a.version.toTimestamp()),createTime:N1(s,a.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:w0(e.version)};else{if(!e.isUnknownDocument())return nr();n.unknownDocument={path:r.path.toArray(),version:w0(e.version)}}return n}function Ey(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function w0(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _0(t){const e=new Ki(t.seconds,t.nanoseconds);return vr.fromTimestamp(e)}function Wh(t,e){const r=(e.baseMutations||[]).map((s=>E_(t.ct,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const n=e.mutations.map((s=>E_(t.ct,s))),i=Ki.fromMillis(e.localWriteTimeMs);return new v6(e.batchId,i,r,n)}function og(t){const e=_0(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?_0(t.lastLimboFreeSnapshotVersion):vr.min();let n;return n=(function(s){return s.documents!==void 0})(t.query)?(function(s){return fr(s.documents.length===1),Io(W1(_R(s.documents[0])))})(t.query):(function(s){return Io(CR(s))})(t.query),new od(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,ls.fromBase64String(t.resumeToken))}function PR(t,e){const r=w0(e.snapshotVersion),n=w0(e.lastLimboFreeSnapshotVersion);let i;i=_y(e.target)?SR(t.ct,e.target):j5(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:x0(e.target),readTime:r,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:i}}function k6(t){const e=CR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ky(e,e.limit,"L"):e}function Sw(t,e){return new w6(e.largestBatchId,E_(t.ct,e.overlayMutation))}function E9(t,e){const r=e.path.lastSegment();return[t,Ao(e.path.popLast()),r]}function C9(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:w0(n.readTime),documentKey:Ao(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{getBundleMetadata(e,r){return N9(e).get(r).next((n=>{if(n)return(function(s){return{id:s.bundleId,createTime:_0(s.createTime),version:s.version}})(n)}))}saveBundleMetadata(e,r){return N9(e).put((function(i){return{bundleId:i.id,createTime:w0(Vs(i.createTime)),version:i.version}})(r))}getNamedQuery(e,r){return T9(e).get(r).next((n=>{if(n)return(function(s){return{name:s.name,query:k6(s.bundledQuery),readTime:_0(s.readTime)}})(n)}))}saveNamedQuery(e,r){return T9(e).put((function(i){return{name:i.name,readTime:w0(Vs(i.readTime)),bundledQuery:i.bundledQuery}})(r))}}function N9(t){return ga(t,"bundles")}function T9(t){return ga(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,r){this.serializer=e,this.userId=r}static lt(e,r){const n=r.uid||"";return new L5(e,n)}getOverlay(e,r){return qm(e).get(E9(this.userId,r)).next((n=>n?Sw(this.serializer,n):null))}getOverlays(e,r){const n=_u();return rt.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){const i=[];return n.forEach(((s,a)=>{const o=new w6(r,a);i.push(this.ht(e,o))})),rt.waitFor(i)}removeOverlaysForBatchId(e,r,n){const i=new Set;r.forEach((a=>i.add(Ao(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,n+1],!1,!0);s.push(qm(e).j("collectionPathOverlayIndex",o))})),rt.waitFor(s)}getOverlaysForCollection(e,r,n){const i=_u(),s=Ao(r),a=IDBKeyRange.bound([this.userId,s,n],[this.userId,s,Number.POSITIVE_INFINITY],!0);return qm(e).U("collectionPathOverlayIndex",a).next((o=>{for(const l of o){const c=Sw(this.serializer,l);i.set(c.getKey(),c)}return i}))}getOverlaysForCollectionGroup(e,r,n,i){const s=_u();let a;const o=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return qm(e).J({index:"collectionGroupOverlayIndex",range:o},((l,c,d)=>{const p=Sw(this.serializer,c);s.size()<i||p.largestBatchId===a?(s.set(p.getKey(),p),a=p.largestBatchId):d.done()})).next((()=>s))}ht(e,r){return qm(e).put((function(i,s,a){const[o,l,c]=E9(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Jg(i.ct,a.mutation)}})(this.serializer,this.userId,r))}}function qm(t){return ga(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{Pt(e){return ga(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((r=>{const n=r?.value;return n?ls.fromUint8Array(n):ls.EMPTY_BYTE_STRING}))}setSessionToken(e,r){return this.Pt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){}It(e,r){this.Tt(e,r),r.Et()}Tt(e,r){if("nullValue"in e)this.dt(r,5);else if("booleanValue"in e)this.dt(r,10),r.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(r,15),r.At(Hi(e.integerValue));else if("doubleValue"in e){const n=Hi(e.doubleValue);isNaN(n)?this.dt(r,13):(this.dt(r,15),Wg(n)?r.At(0):r.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(r,20),typeof n=="string"&&(n=_d(n)),r.Rt(`${n.seconds||""}`),r.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,r),this.ft(r);else if("bytesValue"in e)this.dt(r,30),r.gt(bd(e.bytesValue)),this.ft(r);else if("referenceValue"in e)this.yt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(r,45),r.At(n.latitude||0),r.At(n.longitude||0)}else"mapValue"in e?VP(e)?this.dt(r,Number.MAX_SAFE_INTEGER):I5(e)?this.wt(e.mapValue,r):(this.St(e.mapValue,r),this.ft(r)):"arrayValue"in e?(this.bt(e.arrayValue,r),this.ft(r)):nr()}Vt(e,r){this.dt(r,25),this.Dt(e,r)}Dt(e,r){r.Rt(e)}St(e,r){const n=e.fields||{};this.dt(r,55);for(const i of Object.keys(n))this.Vt(i,r),this.Tt(n[i],r)}wt(e,r){var n,i;const s=e.fields||{};this.dt(r,53);const a="value",o=((i=(n=s[a].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.length)||0;this.dt(r,15),r.At(Hi(o)),this.Vt(a,r),this.Tt(s[a],r)}bt(e,r){const n=e.values||[];this.dt(r,50);for(const i of n)this.Tt(i,r)}yt(e,r){this.dt(r,37),Xt.fromName(e).path.forEach((n=>{this.dt(r,60),this.Dt(n,r)}))}dt(e,r){e.At(r)}ft(e){e.At(2)}}Gh.vt=new Gh;function DW(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function A9(t){const e=64-(function(n){let i=0;for(let s=0;s<8;++s){const a=DW(255&n[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class OW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ft(n.value),n=r.next();this.Mt()}xt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Ot(n.value),n=r.next();this.Nt()}Lt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ft(n);else if(n<2048)this.Ft(960|n>>>6),this.Ft(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ft(480|n>>>12),this.Ft(128|63&n>>>6),this.Ft(128|63&n);else{const i=r.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Ot(n);else if(n<2048)this.Ot(960|n>>>6),this.Ot(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Ot(480|n>>>12),this.Ot(128|63&n>>>6),this.Ot(128|63&n);else{const i=r.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const r=this.qt(e),n=A9(r);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=255&r[i]}Kt(e){const r=this.qt(e),n=A9(r);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let i=r.length-n;i<r.length;++i)this.buffer[this.position++]=~(255&r[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const r=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),n=(128&r[0])!=0;r[0]^=n?255:128;for(let i=1;i<r.length;++i)r[i]^=n?255:0;return r}Ft(e){const r=255&e;r===0?(this.Ut(0),this.Ut(255)):r===255?(this.Ut(255),this.Ut(0)):this.Ut(r)}Ot(e){const r=255&e;r===0?(this.Gt(0),this.Gt(255)):r===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class MW{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class VW{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Hm{constructor(){this.jt=new OW,this.Ht=new MW(this.jt),this.Jt=new VW(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,r,n,i){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=i}Zt(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Kh(this.indexId,this.documentKey,this.arrayValue,n)}}function ff(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=I9(t.arrayValue,e.arrayValue),r!==0?r:(r=I9(t.directionalValue,e.directionalValue),r!==0?r:Xt.comparator(t.documentKey,e.documentKey)))}function I9(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.Xt=new mi(((r,n)=>ji.comparator(r.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const r of e.filters){const n=r;n.isInequality()?this.Xt=this.Xt.add(n):this.tn.push(n)}}get nn(){return this.Xt.size>1}rn(e){if(fr(e.collectionGroup===this.collectionId),this.nn)return!1;const r=p_(e);if(r!==void 0&&!this.sn(r))return!1;const n=Uh(e);let i=new Set,s=0,a=0;for(;s<n.length&&this.sn(n[s]);++s)i=i.add(n[s].fieldPath.canonicalString());if(s===n.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=n[s];if(!this.on(o,l)||!this._n(this.en[a++],l))return!1}++s}for(;s<n.length;++s){const o=n[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new mi(ji.comparator);const r=[];for(const n of this.tn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new a0(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new a0(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new a0(n.field,n.dir==="asc"?0:1)));return new _1(_1.UNKNOWN_ID,this.collectionId,r,b1.empty())}sn(e){for(const r of this.tn)if(this.on(r,e))return!0;return!1}on(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}_n(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){var e,r;if(fr(t instanceof kn||t instanceof si),t instanceof kn){if(t instanceof KP){const i=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map((s=>kn.create(t.field,"==",s))))||[];return si.create(i,"or")}return t}const n=t.filters.map((i=>RR(i)));return si.create(n,t.op)}function BW(t){if(t.getFilters().length===0)return[];const e=T_(RR(t));return fr(jR(e)),C_(e)||N_(e)?[e]:e.getFilters()}function C_(t){return t instanceof kn}function N_(t){return t instanceof si&&h6(t)}function jR(t){return C_(t)||N_(t)||(function(r){if(r instanceof si&&v_(r)){for(const n of r.getFilters())if(!C_(n)&&!N_(n))return!1;return!0}return!1})(t)}function T_(t){if(fr(t instanceof kn||t instanceof si),t instanceof kn)return t;if(t.filters.length===1)return T_(t.filters[0]);const e=t.filters.map((n=>T_(n)));let r=si.create(e,t.op);return r=Cy(r),jR(r)?r:(fr(r instanceof si),fr(S1(r)),fr(r.filters.length>1),r.filters.reduce(((n,i)=>S6(n,i))))}function S6(t,e){let r;return fr(t instanceof kn||t instanceof si),fr(e instanceof kn||e instanceof si),r=t instanceof kn?e instanceof kn?(function(i,s){return si.create([i,s],"and")})(t,e):R9(t,e):e instanceof kn?R9(e,t):(function(i,s){if(fr(i.filters.length>0&&s.filters.length>0),S1(i)&&S1(s))return HP(i,s.getFilters());const a=v_(i)?i:s,o=v_(i)?s:i,l=a.filters.map((c=>S6(c,o)));return si.create(l,"or")})(t,e),Cy(r)}function R9(t,e){if(S1(e))return HP(e,t.getFilters());{const r=e.filters.map((n=>S6(t,n)));return si.create(r,"or")}}function Cy(t){if(fr(t instanceof kn||t instanceof si),t instanceof kn)return t;const e=t.getFilters();if(e.length===1)return Cy(e[0]);if($P(t))return t;const r=e.map((i=>Cy(i))),n=[];return r.forEach((i=>{i instanceof kn?n.push(i):i instanceof si&&(i.op===t.op?n.push(...i.filters):n.push(i))})),n.length===1?n[0]:si.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(){this.un=new E6}addToCollectionParentIndex(e,r){return this.un.add(r),rt.resolve()}getCollectionParents(e,r){return rt.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return rt.resolve()}deleteFieldIndex(e,r){return rt.resolve()}deleteAllFieldIndexes(e){return rt.resolve()}createTargetIndexes(e,r){return rt.resolve()}getDocumentsMatchingTarget(e,r){return rt.resolve(null)}getIndexType(e,r){return rt.resolve(0)}getFieldIndexes(e,r){return rt.resolve([])}getNextCollectionGroupToUpdate(e){return rt.resolve(null)}getMinOffset(e,r){return rt.resolve(Ol.min())}getMinOffsetFromCollectionGroup(e,r){return rt.resolve(Ol.min())}updateCollectionGroup(e,r,n){return rt.resolve()}updateIndexEntries(e,r){return rt.resolve()}}class E6{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new mi(bn.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new mi(bn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Uint8Array(0);class zW{constructor(e,r){this.databaseId=r,this.cn=new E6,this.ln=new Ad((n=>x0(n)),((n,i)=>R2(n,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.cn.has(r)){const n=r.lastSegment(),i=r.popLast();e.addOnCommittedListener((()=>{this.cn.add(r)}));const s={collectionId:n,parent:Ao(i)};return j9(e).put(s)}return rt.resolve()}getCollectionParents(e,r){const n=[],i=IDBKeyRange.bound([r,""],[EP(r),""],!1,!0);return j9(e).U(i).next((s=>{for(const a of s){if(a.collectionId!==r)break;n.push(wu(a.parent))}return n}))}addFieldIndex(e,r){const n=Wm(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(r);delete i.indexId;const s=n.add(i);if(r.indexState){const a=Tp(e);return s.next((o=>{a.put(C9(o,this.uid,r.indexState.sequenceNumber,r.indexState.offset))}))}return s.next()}deleteFieldIndex(e,r){const n=Wm(e),i=Tp(e),s=Np(e);return n.delete(r.indexId).next((()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const r=Wm(e),n=Np(e),i=Tp(e);return r.j().next((()=>n.j())).next((()=>i.j()))}createTargetIndexes(e,r){return rt.forEach(this.hn(r),(n=>this.getIndexType(e,n).next((i=>{if(i===0||i===1){const s=new P9(n).an();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,r){const n=Np(e);let i=!0;const s=new Map;return rt.forEach(this.hn(r),(a=>this.Pn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=Yr();const o=[];return rt.forEach(s,((l,c)=>{Rt("IndexedDbIndexManager",`Using index ${(function(A){return`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map((V=>`${V.fieldPath}:${V.kind}`)).join(",")}`})(l)} to execute ${x0(r)}`);const d=(function(A,V){const W=p_(V);if(W===void 0)return null;for(const K of by(A,W.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null})(c,l),p=(function(A,V){const W=new Map;for(const K of Uh(V))for(const j of by(A,K.fieldPath))switch(j.op){case"==":case"in":W.set(K.fieldPath.canonicalString(),j.value);break;case"not-in":case"!=":return W.set(K.fieldPath.canonicalString(),j.value),Array.from(W.values())}return null})(c,l),g=(function(A,V){const W=[];let K=!0;for(const j of Uh(V)){const T=j.kind===0?d9(A,j.fieldPath,A.startAt):f9(A,j.fieldPath,A.startAt);W.push(T.value),K&&(K=T.inclusive)}return new zf(W,K)})(c,l),m=(function(A,V){const W=[];let K=!0;for(const j of Uh(V)){const T=j.kind===0?f9(A,j.fieldPath,A.endAt):d9(A,j.fieldPath,A.endAt);W.push(T.value),K&&(K=T.inclusive)}return new zf(W,K)})(c,l),y=this.In(l,c,g),w=this.In(l,c,m),_=this.Tn(l,c,p),S=this.En(l.indexId,d,y,g.inclusive,w,m.inclusive,_);return rt.forEach(S,(P=>n.G(P,r.limit).next((A=>{A.forEach((V=>{const W=Xt.fromSegments(V.documentKey);a.has(W)||(a=a.add(W),o.push(W))}))}))))})).next((()=>o))}return rt.resolve(null)}))}hn(e){let r=this.ln.get(e);return r||(e.filters.length===0?r=[e]:r=BW(si.create(e.filters,"and")).map((n=>w_(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,r),r)}En(e,r,n,i,s,a,o){const l=(r!=null?r.length:1)*Math.max(n.length,s.length),c=l/(r!=null?r.length:1),d=[];for(let p=0;p<l;++p){const g=r?this.dn(r[p/c]):rv,m=this.An(e,g,n[p%c],i),y=this.Rn(e,g,s[p%c],a),w=o.map((_=>this.An(e,g,_,!0)));d.push(...this.createRange(m,y,w))}return d}An(e,r,n,i){const s=new Kh(e,Xt.empty(),r,n);return i?s:s.Zt()}Rn(e,r,n,i){const s=new Kh(e,Xt.empty(),r,n);return i?s.Zt():s}Pn(e,r){const n=new P9(r),i=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)n.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,r){let n=2;const i=this.hn(r);return rt.forEach(i,(s=>this.Pn(e,s).next((a=>{a?n!==0&&a.fields.length<(function(l){let c=new mi(ji.comparator),d=!1;for(const p of l.filters)for(const g of p.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:c=c.add(g.field));for(const p of l.orderBy)p.field.isKeyField()||(c=c.add(p.field));return c.size+(d?1:0)})(s)&&(n=1):n=0})))).next((()=>(function(a){return a.limit!==null})(r)&&i.length>1&&n===2?1:n))}Vn(e,r){const n=new Hm;for(const i of Uh(e)){const s=r.data.field(i.fieldPath);if(s==null)return null;const a=n.Yt(i.kind);Gh.vt.It(s,a)}return n.zt()}dn(e){const r=new Hm;return Gh.vt.It(e,r.Yt(0)),r.zt()}mn(e,r){const n=new Hm;return Gh.vt.It(g0(this.databaseId,r),n.Yt((function(s){const a=Uh(s);return a.length===0?0:a[a.length-1].kind})(e))),n.zt()}Tn(e,r,n){if(n===null)return[];let i=[];i.push(new Hm);let s=0;for(const a of Uh(e)){const o=n[s++];for(const l of i)if(this.fn(r,a.fieldPath)&&Yg(o))i=this.gn(i,a,o);else{const c=l.Yt(a.kind);Gh.vt.It(o,c)}}return this.pn(i)}In(e,r,n){return this.Tn(e,r,n.position)}pn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].zt();return r}gn(e,r,n){const i=[...e],s=[];for(const a of n.arrayValue.values||[])for(const o of i){const l=new Hm;l.seed(o.zt()),Gh.vt.It(a,l.Yt(r.kind)),s.push(l)}return s}fn(e,r){return!!e.filters.find((n=>n instanceof kn&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,r){const n=Wm(e),i=Tp(e);return(r?n.U("collectionGroupIndex",IDBKeyRange.bound(r,r)):n.U()).next((s=>{const a=[];return rt.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(d,p){const g=p?new b1(p.sequenceNumber,new Ol(_0(p.readTime),new Xt(wu(p.documentKey)),p.largestBatchId)):b1.empty(),m=d.fields.map((([y,w])=>new a0(ji.fromServerFormat(y),w)));return new _1(d.indexId,d.collectionGroup,m,g)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((r=>r.length===0?null:(r.sort(((n,i)=>{const s=n.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:zr(n.collectionGroup,i.collectionGroup)})),r[0].collectionGroup)))}updateCollectionGroup(e,r,n){const i=Wm(e),s=Tp(e);return this.yn(e).next((a=>i.U("collectionGroupIndex",IDBKeyRange.bound(r,r)).next((o=>rt.forEach(o,(l=>s.put(C9(l.indexId,this.uid,a,n))))))))}updateIndexEntries(e,r){const n=new Map;return rt.forEach(r,((i,s)=>{const a=n.get(i.collectionGroup);return(a?rt.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(n.set(i.collectionGroup,o),rt.forEach(o,(l=>this.wn(e,i,l).next((c=>{const d=this.Sn(s,l);return c.isEqual(d)?rt.resolve():this.bn(e,s,l,c,d)})))))))}))}Dn(e,r,n,i){return Np(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(n,r.key),documentKey:r.key.path.toArray()})}vn(e,r,n,i){return Np(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(n,r.key),r.key.path.toArray()])}wn(e,r,n){const i=Np(e);let s=new mi(ff);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,r)])},((a,o)=>{s=s.add(new Kh(n.indexId,r,o.arrayValue,o.directionalValue))})).next((()=>s))}Sn(e,r){let n=new mi(ff);const i=this.Vn(r,e);if(i==null)return n;const s=p_(r);if(s!=null){const a=e.data.field(s.fieldPath);if(Yg(a))for(const o of a.arrayValue.values||[])n=n.add(new Kh(r.indexId,e.key,this.dn(o),i))}else n=n.add(new Kh(r.indexId,e.key,rv,i));return n}bn(e,r,n,i,s){Rt("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const a=[];return(function(l,c,d,p,g){const m=l.getIterator(),y=c.getIterator();let w=Cp(m),_=Cp(y);for(;w||_;){let S=!1,P=!1;if(w&&_){const A=d(w,_);A<0?P=!0:A>0&&(S=!0)}else w!=null?P=!0:S=!0;S?(p(_),_=Cp(y)):P?(g(w),w=Cp(m)):(w=Cp(m),_=Cp(y))}})(i,s,ff,(o=>{a.push(this.Dn(e,r,n,o))}),(o=>{a.push(this.vn(e,r,n,o))})),rt.waitFor(a)}yn(e){let r=1;return Tp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,i,s)=>{s.done(),r=i.sequenceNumber+1})).next((()=>r))}createRange(e,r,n){n=n.sort(((a,o)=>ff(a,o))).filter(((a,o,l)=>!o||ff(a,l[o-1])!==0));const i=[];i.push(e);for(const a of n){const o=ff(a,e),l=ff(a,r);if(o===0)i[0]=e.Zt();else if(o>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(r);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,rv,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,rv,[]];s.push(IDBKeyRange.bound(o,l))}return s}Cn(e,r){return ff(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(L9)}getMinOffset(e,r){return rt.mapArray(this.hn(r),(n=>this.Pn(e,n).next((i=>i||nr())))).next(L9)}}function j9(t){return ga(t,"collectionParents")}function Np(t){return ga(t,"indexEntries")}function Wm(t){return ga(t,"indexConfiguration")}function Tp(t){return ga(t,"indexState")}function L9(t){fr(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const i=t[n].indexState.offset;u6(i,e)<0&&(e=i),r<i.largestBatchId&&(r=i.largestBatchId)}return new Ol(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bo{constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new bo(e,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e,r){const n=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(r.batchId);let o=0;const l=n.J({range:a},((d,p,g)=>(o++,g.delete())));s.push(l.next((()=>{fr(o===1)})));const c=[];for(const d of r.mutations){const p=RP(e,d.key.path,r.batchId);s.push(i.delete(p)),c.push(d.key)}return rt.waitFor(s).next((()=>c))}function Ny(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw nr();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bo.DEFAULT_COLLECTION_PERCENTILE=10,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bo.DEFAULT=new bo(41943040,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bo.DISABLED=new bo(-1,0,0);class F5{constructor(e,r,n,i){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=i,this.Fn={}}static lt(e,r,n,i){fr(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new F5(s,r,n,i)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hf(e).J({index:"userMutationsIndex",range:n},((i,s,a)=>{r=!1,a.done()})).next((()=>r))}addMutationBatch(e,r,n,i){const s=Up(e),a=hf(e);return a.add({}).next((o=>{fr(typeof o=="number");const l=new v6(o,r,n,i),c=(function(m,y,w){const _=w.baseMutations.map((P=>Jg(m.ct,P))),S=w.mutations.map((P=>Jg(m.ct,P)));return{userId:y,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:_,mutations:S}})(this.serializer,this.userId,l),d=[];let p=new mi(((g,m)=>zr(g.canonicalString(),m.canonicalString())));for(const g of i){const m=RP(this.userId,g.key.path,o);p=p.add(g.key.path.popLast()),d.push(a.put(c)),d.push(s.put(m,AH))}return p.forEach((g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))})),e.addOnCommittedListener((()=>{this.Fn[o]=l.keys()})),rt.waitFor(d).next((()=>l))}))}lookupMutationBatch(e,r){return hf(e).get(r).next((n=>n?(fr(n.userId===this.userId),Wh(this.serializer,n)):null))}Mn(e,r){return this.Fn[r]?rt.resolve(this.Fn[r]):this.lookupMutationBatch(e,r).next((n=>{if(n){const i=n.keys();return this.Fn[r]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=IDBKeyRange.lowerBound([this.userId,n]);let s=null;return hf(e).J({index:"userMutationsIndex",range:i},((a,o,l)=>{o.userId===this.userId&&(fr(o.batchId>=n),s=Wh(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return hf(e).J({index:"userMutationsIndex",range:r,reverse:!0},((i,s,a)=>{n=s.batchId,a.done()})).next((()=>n))}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hf(e).U("userMutationsIndex",r).next((n=>n.map((i=>Wh(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=$v(this.userId,r.path),i=IDBKeyRange.lowerBound(n),s=[];return Up(e).J({range:i},((a,o,l)=>{const[c,d,p]=a,g=wu(d);if(c===this.userId&&r.path.isEqual(g))return hf(e).get(p).next((m=>{if(!m)throw nr();fr(m.userId===this.userId),s.push(Wh(this.serializer,m))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new mi(zr);const i=[];return r.forEach((s=>{const a=$v(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=Up(e).J({range:o},((c,d,p)=>{const[g,m,y]=c,w=wu(m);g===this.userId&&s.path.isEqual(w)?n=n.add(y):p.done()}));i.push(l)})),rt.waitFor(i).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1,s=$v(this.userId,n),a=IDBKeyRange.lowerBound(s);let o=new mi(zr);return Up(e).J({range:a},((l,c,d)=>{const[p,g,m]=l,y=wu(g);p===this.userId&&n.isPrefixOf(y)?y.length===i&&(o=o.add(m)):d.done()})).next((()=>this.xn(e,o)))}xn(e,r){const n=[],i=[];return r.forEach((s=>{i.push(hf(e).get(s).next((a=>{if(a===null)throw nr();fr(a.userId===this.userId),n.push(Wh(this.serializer,a))})))})),rt.waitFor(i).next((()=>n))}removeMutationBatch(e,r){return LR(e._e,this.userId,r).next((n=>(e.addOnCommittedListener((()=>{this.On(r.batchId)})),rt.forEach(n,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((r=>{if(!r)return rt.resolve();const n=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return Up(e).J({range:n},((s,a,o)=>{if(s[0]===this.userId){const l=wu(s[1]);i.push(l)}else o.done()})).next((()=>{fr(i.length===0)}))}))}containsKey(e,r){return FR(e,this.userId,r)}Nn(e){return DR(e).get(this.userId).next((r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function FR(t,e,r){const n=$v(e,r.path),i=n[1],s=IDBKeyRange.lowerBound(n);let a=!1;return Up(t).J({range:s,H:!0},((o,l,c)=>{const[d,p,g]=o;d===e&&p===i&&(a=!0),c.done()})).next((()=>a))}function hf(t){return ga(t,"mutations")}function Up(t){return ga(t,"documentMutations")}function DR(t){return ga(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new b0(0)}static kn(){return new b0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.qn(e).next((r=>{const n=new b0(r.highestTargetId);return r.highestTargetId=n.next(),this.Qn(e,r).next((()=>r.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((r=>vr.fromTimestamp(new Ki(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((r=>r.highestListenSequenceNumber))}setTargetsMetadata(e,r,n){return this.qn(e).next((i=>(i.highestListenSequenceNumber=r,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),r>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r),this.Qn(e,i))))}addTargetData(e,r){return this.Kn(e,r).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(r,n),this.Qn(e,n))))))}updateTargetData(e,r){return this.Kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next((()=>Ap(e).delete(r.targetId))).next((()=>this.qn(e))).next((n=>(fr(n.targetCount>0),n.targetCount-=1,this.Qn(e,n))))}removeTargets(e,r,n){let i=0;const s=[];return Ap(e).J(((a,o)=>{const l=og(o);l.sequenceNumber<=r&&n.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>rt.waitFor(s))).next((()=>i))}forEachTarget(e,r){return Ap(e).J(((n,i)=>{const s=og(i);r(s)}))}qn(e){return D9(e).get("targetGlobalKey").next((r=>(fr(r!==null),r)))}Qn(e,r){return D9(e).put("targetGlobalKey",r)}Kn(e,r){return Ap(e).put(PR(this.serializer,r))}$n(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((r=>r.targetCount))}getTargetData(e,r){const n=x0(r),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let s=null;return Ap(e).J({range:i,index:"queryTargetsIndex"},((a,o,l)=>{const c=og(o);R2(r,c.target)&&(s=c,l.done())})).next((()=>s))}addMatchingKeys(e,r,n){const i=[],s=_f(e);return r.forEach((a=>{const o=Ao(a.path);i.push(s.put({targetId:n,path:o})),i.push(this.referenceDelegate.addReference(e,n,a))})),rt.waitFor(i)}removeMatchingKeys(e,r,n){const i=_f(e);return rt.forEach(r,(s=>{const a=Ao(s.path);return rt.waitFor([i.delete([n,a]),this.referenceDelegate.removeReference(e,n,s)])}))}removeMatchingKeysForTargetId(e,r){const n=_f(e),i=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),i=_f(e);let s=Yr();return i.J({range:n,H:!0},((a,o,l)=>{const c=wu(a[1]),d=new Xt(c);s=s.add(d)})).next((()=>s))}containsKey(e,r){const n=Ao(r.path),i=IDBKeyRange.bound([n],[EP(n)],!1,!0);let s=0;return _f(e).J({index:"documentTargetsIndex",H:!0,range:i},(([a,o],l,c)=>{a!==0&&(s++,c.done())})).next((()=>s>0))}ot(e,r){return Ap(e).get(r).next((n=>n?og(n):null))}}function Ap(t){return ga(t,"targets")}function D9(t){return ga(t,"targetGlobal")}function _f(t){return ga(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9([t,e],[r,n]){const i=zr(t,r);return i===0?zr(e,n):i}class qW{constructor(e){this.Un=e,this.buffer=new mi(O9),this.Wn=0}Gn(){return++this.Wn}zn(e){const r=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();O9(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class OR{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Rt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){sh(r)?Rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):await ih(r)}await this.Hn(3e5)}))}}class HW{constructor(e,r){this.Jn=e,this.params=r}calculateTargetCount(e,r){return this.Jn.Yn(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return rt.resolve(al.oe);const n=new qW(r);return this.Jn.forEachTarget(e,(i=>n.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>n.zn(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Jn.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Jn.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(F9)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),F9):this.Xn(e,r)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,r){let n,i,s,a,o,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,a=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,o=Date.now(),this.removeTargets(e,n,r)))).next((p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(c=Date.now(),Mp()<=_n.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${p} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p}))))}}function MR(t,e){return new HW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,r){this.db=e,this.garbageCollector=MR(this,r)}Yn(e){const r=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Zn(e,r){return this.tr(e,((n,i)=>r(i)))}addReference(e,r,n){return nv(e,n)}removeReference(e,r,n){return nv(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return nv(e,r)}nr(e,r){return(function(i,s){let a=!1;return DR(i).Y((o=>FR(i,o,s).next((l=>(l&&(a=!0),rt.resolve(!l)))))).next((()=>a))})(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,((a,o)=>{if(o<=r){const l=this.nr(e,a).next((c=>{if(!c)return s++,n.getEntry(e,a).next((()=>(n.removeEntry(a,vr.min()),_f(e).delete((function(p){return[0,Ao(p.path)]})(a)))))}));i.push(l)}})).next((()=>rt.waitFor(i))).next((()=>n.apply(e))).next((()=>s))}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return nv(e,r)}tr(e,r){const n=_f(e);let i,s=al.oe;return n.J({index:"documentTargetsIndex"},(([a,o],{path:l,sequenceNumber:c})=>{a===0?(s!==al.oe&&r(new Xt(wu(i)),s),s=c,i=l):s=al.oe})).next((()=>{s!==al.oe&&r(new Xt(wu(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nv(t,e){return _f(t).put((function(n,i){return{targetId:0,path:Ao(n.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.changes=new Ad((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ri.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?rt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Oh(e).put(n)}removeEntry(e,r,n){return Oh(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Ey(a),o[o.length-1]]})(r,n))}updateMetadata(e,r){return this.getMetadata(e).next((n=>(n.byteSize+=r,this.rr(e,n))))}getEntry(e,r){let n=Ri.newInvalidDocument(r);return Oh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gm(r))},((i,s)=>{n=this.ir(r,s)})).next((()=>n))}sr(e,r){let n={size:0,document:Ri.newInvalidDocument(r)};return Oh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gm(r))},((i,s)=>{n={document:this.ir(r,s),size:Ny(s)}})).next((()=>n))}getEntries(e,r){let n=ll();return this._r(e,r,((i,s)=>{const a=this.ir(i,s);n=n.insert(i,a)})).next((()=>n))}ar(e,r){let n=ll(),i=new Ai(Xt.comparator);return this._r(e,r,((s,a)=>{const o=this.ir(s,a);n=n.insert(s,o),i=i.insert(s,Ny(a))})).next((()=>({documents:n,ur:i})))}_r(e,r,n){if(r.isEmpty())return rt.resolve();let i=new mi(B9);r.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(Gm(i.first()),Gm(i.last())),a=i.getIterator();let o=a.getNext();return Oh(e).J({index:"documentKeyIndex",range:s},((l,c,d)=>{const p=Xt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;o&&B9(o,p)<0;)n(o,null),o=a.getNext();o&&o.isEqual(p)&&(n(o,c),o=a.hasNext()?a.getNext():null),o?d.$(Gm(o)):d.done()})).next((()=>{for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,r,n,i,s){const a=r.path,o=[a.popLast().toArray(),a.lastSegment(),Ey(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oh(e).U(IDBKeyRange.bound(o,l,!0)).next((c=>{s?.incrementDocumentReadCount(c.length);let d=ll();for(const p of c){const g=this.ir(Xt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);g.isFoundDocument()&&(L2(r,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d}))}getAllFromCollectionGroup(e,r,n,i){let s=ll();const a=V9(r,n),o=V9(r,Ol.max());return Oh(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},((l,c,d)=>{const p=this.ir(Xt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(p.key,p),s.size===i&&d.done()})).next((()=>s))}newChangeBuffer(e){return new KW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((r=>r.byteSize))}getMetadata(e){return M9(e).get("remoteDocumentGlobalKey").next((r=>(fr(!!r),r)))}rr(e,r){return M9(e).put("remoteDocumentGlobalKey",r)}ir(e,r){if(r){const n=jW(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(vr.min())))return n}return Ri.newInvalidDocument(e)}}function BR(t){return new GW(t)}class KW extends VR{constructor(e,r){super(),this.cr=e,this.trackRemovals=r,this.lr=new Ad((n=>n.toString()),((n,i)=>n.isEqual(i)))}applyChanges(e){const r=[];let n=0,i=new mi(((s,a)=>zr(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.lr.get(s);if(r.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=S9(this.cr.serializer,a);i=i.add(s.path.popLast());const c=Ny(l);n+=c-o.size,r.push(this.cr.addEntry(e,s,l))}else if(n-=o.size,this.trackRemovals){const l=S9(this.cr.serializer,a.convertToNoDocument(vr.min()));r.push(this.cr.addEntry(e,s,l))}})),i.forEach((s=>{r.push(this.cr.indexManager.addToCollectionParentIndex(e,s))})),r.push(this.cr.updateMetadata(e,n)),rt.waitFor(r)}getFromCache(e,r){return this.cr.sr(e,r).next((n=>(this.lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,r){return this.cr.ar(e,r).next((({documents:n,ur:i})=>(i.forEach(((s,a)=>{this.lr.set(s,{size:a,readTime:n.get(s).readTime})})),n)))}}function M9(t){return ga(t,"remoteDocumentGlobal")}function Oh(t){return ga(t,"remoteDocumentsV14")}function Gm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function V9(t,e){const r=e.documentKey.path.toArray();return[t,Ey(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function B9(t,e){const r=t.path.toArray(),n=e.path.toArray();let i=0;for(let s=0;s<r.length-2&&s<n.length-2;++s)if(i=zr(r[s],n[s]),i)return i;return i=zr(r.length,n.length),i||(i=zr(r[r.length-2],n[n.length-2]),i||zr(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&vg(n.mutation,i,ol.empty(),Ki.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Yr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Yr()){const i=_u();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let a=sg();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,r){const n=_u();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Yr())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{r.set(a,o)}))}))}computeViews(e,r,n,i){let s=ll();const a=xg(),o=(function(){return xg()})();return r.forEach(((l,c)=>{const d=n.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Id)?s=s.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),vg(d.mutation,c,d.mutation.getFieldMask(),Ki.now())):a.set(c.key,ol.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((c,d)=>a.set(c,d))),r.forEach(((c,d)=>{var p;return o.set(c,new YW(d,(p=a.get(c))!==null&&p!==void 0?p:null))})),o)))}recalculateAndSaveOverlays(e,r){const n=xg();let i=new Ai(((a,o)=>a-o)),s=Yr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((a=>{for(const o of a)o.keys().forEach((l=>{const c=r.get(l);if(c===null)return;let d=n.get(l)||ol.empty();d=o.applyToLocalView(c,d),n.set(l,d);const p=(i.get(o.batchId)||Yr()).add(l);i=i.insert(o.batchId,p)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,d=l.value,p=nR();d.forEach((g=>{if(!s.has(g)){const m=uR(r.get(g),n.get(g));m!==null&&p.set(g,m),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return rt.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(a){return Xt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):p6(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):rt.resolve(_u());let o=-1,l=s;return a.next((c=>rt.forEach(c,((d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(d)?rt.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{l=l.insert(d,g)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,l,c,Yr()))).next((d=>({batchId:o,changes:rR(d)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Xt(r)).next((n=>{let i=sg();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=sg();return this.indexManager.getCollectionParents(e,s).next((o=>rt.forEach(o,(l=>{const c=(function(p,g){return new Td(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next((d=>{d.forEach(((p,g)=>{a=a.insert(p,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((a=>{s.forEach(((l,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,Ri.newInvalidDocument(d)))}));let o=sg();return a.forEach(((l,c)=>{const d=s.get(l);d!==void 0&&vg(d.mutation,c,ol.empty(),Ki.now()),L2(r,c)&&(o=o.insert(l,c))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return rt.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Vs(i.createTime)}})(r)),rt.resolve()}getNamedQuery(e,r){return rt.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,(function(i){return{name:i.name,query:k6(i.bundledQuery),readTime:Vs(i.readTime)}})(r)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this.overlays=new Ai(Xt.comparator),this.Ir=new Map}getOverlay(e,r){return rt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=_u();return rt.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.ht(e,r,s)})),rt.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(n)),rt.resolve()}getOverlaysForCollection(e,r,n){const i=_u(),s=r.length+1,a=new Xt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return rt.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Ai(((c,d)=>c-d));const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let d=s.get(c.largestBatchId);d===null&&(d=_u(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const o=_u(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((c,d)=>o.set(c,d))),!(o.size()>=i)););return rt.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new w6(r,n));let s=this.Ir.get(r);s===void 0&&(s=Yr(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this.sessionToken=ls.EMPTY_BYTE_STRING}getSessionToken(e){return rt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.Tr=new mi(Ta.Er),this.dr=new mi(Ta.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ta(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Vr(new Ta(e,r))}mr(e,r){e.forEach((n=>this.removeReference(n,r)))}gr(e){const r=new Xt(new bn([])),n=new Ta(r,e),i=new Ta(r,e+1),s=[];return this.dr.forEachInRange([n,i],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Xt(new bn([])),n=new Ta(r,e),i=new Ta(r,e+1);let s=Yr();return this.dr.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const r=new Ta(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ta{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Xt.comparator(e.key,r.key)||zr(e.wr,r.wr)}static Ar(e,r){return zr(e.wr,r.wr)||Xt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new mi(Ta.Er)}checkEmpty(e){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new v6(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Ta(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return rt.resolve(a)}lookupMutationBatch(e,r){return rt.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return rt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ta(r,0),i=new Ta(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],(a=>{const o=this.Dr(a.wr);s.push(o)})),rt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new mi(zr);return r.forEach((i=>{const s=new Ta(i,0),a=new Ta(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(o=>{n=n.add(o.wr)}))})),rt.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Xt.isDocumentKey(s)||(s=s.child(""));const a=new Ta(new Xt(s),0);let o=new mi(zr);return this.br.forEachWhile((l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)}),a),rt.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach((n=>{const i=this.Dr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){fr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return rt.forEach(r.mutations,(i=>{const s=new Ta(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,r){const n=new Ta(r,0),i=this.br.firstAfterOrEqual(n);return rt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,rt.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e){this.Mr=e,this.docs=(function(){return new Ai(Xt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return rt.resolve(n?n.document.mutableCopy():Ri.newInvalidDocument(r))}getEntries(e,r){let n=ll();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Ri.newInvalidDocument(i))})),rt.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=ll();const a=r.path,o=new Xt(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||u6(NP(d),n)<=0||(i.has(d.key)||L2(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return rt.resolve(s)}getAllFromCollectionGroup(e,r,n,i){nr()}Or(e,r){return rt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new tG(this)}getSize(e){return rt.resolve(this.size)}}class tG extends VR{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)})),rt.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e){this.persistence=e,this.Nr=new Ad((r=>x0(r)),R2),this.lastRemoteSnapshotVersion=vr.min(),this.highestTargetId=0,this.Lr=0,this.Br=new C6,this.targetCount=0,this.kr=b0.Bn()}forEachTarget(e,r){return this.Nr.forEach(((n,i)=>r(i))),rt.resolve()}getLastRemoteSnapshotVersion(e){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rt.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),rt.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new b0(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,rt.resolve()}updateTargetData(e,r){return this.Kn(r),rt.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,rt.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach(((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),rt.waitFor(s).next((()=>i))}getTargetCount(e){return rt.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return rt.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),rt.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),rt.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),rt.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return rt.resolve(n)}containsKey(e,r){return rt.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,r){this.qr={},this.overlays={},this.Qr=new al(0),this.Kr=!1,this.Kr=!0,this.$r=new JW,this.referenceDelegate=e(this),this.Ur=new rG(this),this.indexManager=new UW,this.remoteDocumentCache=(function(i){return new eG(i)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new IR(r),this.Gr=new XW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new QW,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new ZW(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Rt("MemoryPersistence","Starting transaction:",e);const i=new nG(this.Qr.next());return this.referenceDelegate.zr(),n(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,r){return rt.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,r))))}}class nG extends AP{constructor(e){super(),this.currentSequenceNumber=e}}class D5{constructor(e){this.persistence=e,this.Jr=new C6,this.Yr=null}static Zr(e){return new D5(e)}get Xr(){if(this.Yr)return this.Yr;throw nr()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),rt.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),rt.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),rt.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach((i=>this.Xr.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Xr,(n=>{const i=Xt.fromPath(n);return this.ei(e,i).next((s=>{s||r.removeEntry(i,vr.min())}))})).next((()=>(this.Yr=null,r.apply(e))))}updateLimboDocument(e,r){return this.ei(e,r).next((n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())}))}Wr(e){return 0}ei(e,r){return rt.or([()=>rt.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}class Ty{constructor(e,r){this.persistence=e,this.ti=new Ad((n=>Ao(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=MR(this,r)}static Zr(e,r){return new Ty(e,r)}zr(){}jr(e){return rt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}Yn(e){const r=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}er(e){let r=0;return this.Zn(e,(n=>{r++})).next((()=>r))}Zn(e,r){return rt.forEach(this.ti,((n,i)=>this.nr(e,n,i).next((s=>s?rt.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,(a=>this.nr(e,a,r).next((o=>{o||(n++,s.removeEntry(a,vr.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.ti.set(r,e.currentSequenceNumber),rt.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.ti.set(n,e.currentSequenceNumber),rt.resolve()}removeReference(e,r,n){return this.ti.set(n,e.currentSequenceNumber),rt.resolve()}updateLimboDocument(e,r){return this.ti.set(r,e.currentSequenceNumber),rt.resolve()}Wr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Hv(e.data.value)),r}nr(e,r,n){return rt.or([()=>this.persistence.Hr(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.ti.get(r);return rt.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(e){this.serializer=e}O(e,r,n,i){const s=new N5("createOrUpgrade",r);n<1&&i>=1&&((function(l){l.createObjectStore("owner")})(e),(function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",e9,{unique:!0}),l.createObjectStore("documentMutations")})(e),U9(e),(function(l){l.createObjectStore("remoteDocuments")})(e));let a=rt.resolve();return n<3&&i>=3&&(n!==0&&((function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")})(e),U9(e)),a=a.next((()=>(function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vr.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)})(s)))),n<4&&i>=4&&(n!==0&&(a=a.next((()=>(function(l,c){return c.store("mutations").U().next((d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",e9,{unique:!0});const p=c.store("mutations"),g=d.map((m=>p.put(m)));return rt.waitFor(g)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),n<5&&i>=5&&(a=a.next((()=>this.ni(s)))),n<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore("remoteDocumentGlobal")})(e),this.ri(s))))),n<7&&i>=7&&(a=a.next((()=>this.ii(s)))),n<8&&i>=8&&(a=a.next((()=>this.si(e,s)))),n<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&i>=10&&(a=a.next((()=>this.oi(s)))),n<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(l){l.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),n<12&&i>=12&&(a=a.next((()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:UH});c.createIndex("collectionPathOverlayIndex",zH,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",$H,{unique:!1})})(e)}))),n<13&&i>=13&&(a=a.next((()=>(function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:IH});c.createIndex("documentKeyIndex",PH),c.createIndex("collectionGroupIndex",RH)})(e))).next((()=>this._i(e,s))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(a=a.next((()=>this.ai(e,s)))),n<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:OH}).createIndex("sequenceNumberIndex",MH,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:VH}).createIndex("documentKeyIndex",BH,{unique:!1})})(e)))),n<16&&i>=16&&(a=a.next((()=>{r.objectStore("indexState").clear()})).next((()=>{r.objectStore("indexEntries").clear()}))),n<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)}))),a}ri(e){let r=0;return e.store("remoteDocuments").J(((n,i)=>{r+=Ny(i)})).next((()=>{const n={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const r=e.store("mutationQueues"),n=e.store("mutations");return r.U().next((i=>rt.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",a).next((o=>rt.forEach(o,(l=>{fr(l.userId===s.userId);const c=Wh(this.serializer,l);return LR(e,s.userId,c).next((()=>{}))}))))}))))}ii(e){const r=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const s=[];return n.J(((a,o)=>{const l=new bn(a),c=(function(p){return[0,Ao(p)]})(l);s.push(r.get(c).next((d=>d?rt.resolve():(p=>r.put({targetId:0,path:Ao(p),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>rt.waitFor(s)))}))}si(e,r){e.createObjectStore("collectionParents",{keyPath:DH});const n=r.store("collectionParents"),i=new E6,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return n.put({collectionId:o,parent:Ao(l)})}};return r.store("remoteDocuments").J({H:!0},((a,o)=>{const l=new bn(a);return s(l.popLast())})).next((()=>r.store("documentMutations").J({H:!0},(([a,o,l],c)=>{const d=wu(o);return s(d.popLast())}))))}oi(e){const r=e.store("targets");return r.J(((n,i)=>{const s=og(i),a=PR(this.serializer,s);return r.put(a)}))}_i(e,r){const n=r.store("remoteDocuments"),i=[];return n.J(((s,a)=>{const o=r.store("remoteDocumentsV14"),l=(function(p){return p.document?new Xt(bn.fromString(p.document.name).popFirst(5)):p.noDocument?Xt.fromSegments(p.noDocument.path):p.unknownDocument?Xt.fromSegments(p.unknownDocument.path):nr()})(a).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(c))})).next((()=>rt.waitFor(i)))}ai(e,r){const n=r.store("mutations"),i=BR(this.serializer),s=new N6(D5.Zr,this.serializer.ct);return n.U().next((a=>{const o=new Map;return a.forEach((l=>{var c;let d=(c=o.get(l.userId))!==null&&c!==void 0?c:Yr();Wh(this.serializer,l).keys().forEach((p=>d=d.add(p))),o.set(l.userId,d)})),rt.forEach(o,((l,c)=>{const d=new Pa(c),p=L5.lt(this.serializer,d),g=s.getIndexManager(d),m=F5.lt(d,this.serializer,g,s.referenceDelegate);return new UR(i,m,p,g).recalculateAndSaveOverlaysForDocumentKeys(new m_(r,al.oe),l).next()}))}))}}function U9(t){t.createObjectStore("targetDocuments",{keyPath:LH}).createIndex("documentTargetsIndex",FH,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jH,{unique:!0}),t.createObjectStore("targetGlobal")}const Ew="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class T6{constructor(e,r,n,i,s,a,o,l,c,d,p=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.ui=s,this.window=a,this.document=o,this.ci=c,this.li=d,this.hi=p,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=g=>Promise.resolve(),!T6.D())throw new Pt(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new WW(this,i),this.Ai=r+"main",this.serializer=new IR(l),this.Ri=new Cu(this.Ai,this.hi,new iG(this.serializer)),this.$r=new FW,this.Ur=new $W(this.referenceDelegate,this.serializer),this.remoteDocumentCache=BR(this.serializer),this.Gr=new LW,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,d===!1&&Os("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pt(pt.FAILED_PRECONDITION,Ew);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new al(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async r=>{r.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>iv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((r=>{r||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((r=>this.isPrimary&&!r?this.bi(e).next((()=>!1)):!!r&&this.Di(e).next((()=>!0)))))).catch((e=>{if(sh(e))return Rt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Km(e).get("owner").next((r=>rt.resolve(this.vi(r))))}Ci(e){return iv(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(r=>{const n=ga(r,"clientMetadata");return n.U().next((i=>{const s=this.xi(i,18e5),a=i.filter((o=>s.indexOf(o)===-1));return rt.forEach(a,(o=>n.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Vi)for(const r of e)this.Vi.removeItem(this.Oi(r.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?rt.resolve(!0):Km(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)){if(this.vi(r)&&this.networkEnabled)return!0;if(!this.vi(r)){if(!r.allowTabSynchronization)throw new Pt(pt.FAILED_PRECONDITION,Ew);return!1}}return!(!this.networkEnabled||!this.inForeground)||iv(e).U().next((n=>this.xi(n,5e3).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((r=>(this.isPrimary!==r&&Rt("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const r=new m_(e,al.oe);return this.bi(r).next((()=>this.Ci(r)))})),this.Ri.close(),this.qi()}xi(e,r){return e.filter((n=>this.Mi(n.updateTimeMs,r)&&!this.Ni(n.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>iv(e).U().next((r=>this.xi(r,18e5).map((n=>n.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,r){return F5.lt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zW(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return L5.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,r,n){Rt("IndexedDbPersistence","Starting transaction:",e);const i=r==="readonly"?"readonly":"readwrite",s=(function(l){return l===17?WH:l===16?HH:l===15?f6:l===14?FP:l===13?LP:l===12?qH:l===11?jP:void nr()})(this.hi);let a;return this.Ri.runTransaction(e,i,s,(o=>(a=new m_(o,this.Qr?this.Qr.next():al.oe),r==="readwrite-primary"?this.wi(a).next((l=>!!l||this.Si(a))).next((l=>{if(!l)throw Os(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new Pt(pt.FAILED_PRECONDITION,TP);return n(a)})).next((l=>this.Di(a).next((()=>l)))):this.Ki(a).next((()=>n(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Ki(e){return Km(e).get("owner").next((r=>{if(r!==null&&this.Mi(r.leaseTimestampMs,5e3)&&!this.Ni(r.ownerId)&&!this.vi(r)&&!(this.li||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Pt(pt.FAILED_PRECONDITION,Ew)}))}Di(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Km(e).put("owner",r)}static D(){return Cu.D()}bi(e){const r=Km(e);return r.get("owner").next((n=>this.vi(n)?(Rt("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):rt.resolve()))}Mi(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Os(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const r=/(?:Version|Mobile)\/1[456]/;cP()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var r;try{const n=((r=this.Vi)===null||r===void 0?void 0:r.getItem(this.Oi(e)))!==null;return Rt("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Os("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Os("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Km(t){return ga(t,"owner")}function iv(t){return ga(t,"clientMetadata")}function A6(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Yr(),i=Yr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I6(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return cP()?8:IP(ha())>0?6:4})()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(e,r,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new sG;return this.Xi(e,r,a).next((o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)}))})).next((()=>s.result))}es(e,r,n,i){return n.documentReadCount<this.ji?(Mp()<=_n.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Vp(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),rt.resolve()):(Mp()<=_n.DEBUG&&Rt("QueryEngine","Query:",Vp(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Mp()<=_n.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Vp(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Io(r))):rt.resolve())}Yi(e,r){if(h9(r))return rt.resolve(null);let n=Io(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=ky(r,null,"F"),n=Io(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=Yr(...s);return this.Ji.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,n).next((l=>{const c=this.ts(r,o);return this.ns(r,c,a,l.readTime)?this.Yi(e,ky(r,null,"F")):this.rs(e,c,r,l)}))))})))))}Zi(e,r,n,i){return h9(r)||i.isEqual(vr.min())?rt.resolve(null):this.Ji.getDocuments(e,n).next((s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?rt.resolve(null):(Mp()<=_n.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vp(r)),this.rs(e,a,r,CP(i,-1)).next((o=>o)))}))}ts(e,r){let n=new mi(eR(e));return r.forEach(((i,s)=>{L2(e,s)&&(n=n.add(s))})),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return Mp()<=_n.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Vp(r)),this.Ji.getDocumentsMatchingQuery(e,r,Ol.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aG{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Ai(zr),this._s=new Ad((s=>x0(s)),R2),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.os)))}}function $R(t,e,r,n){return new aG(t,e,r,n)}async function qR(t,e){const r=Gt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],o=[];let l=Yr();for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next((c=>({hs:c,removedBatchIds:a,addedBatchIds:o})))}))}))}function oG(t,e){const r=Gt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return(function(o,l,c,d){const p=c.batch,g=p.keys();let m=rt.resolve();return g.forEach((y=>{m=m.next((()=>d.getEntry(l,y))).next((w=>{const _=c.docVersions.get(y);fr(_!==null),w.version.compareTo(_)<0&&(p.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))}))})),m.next((()=>o.mutationQueue.removeMutationBatch(l,p)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let l=Yr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function HR(t){const e=Gt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Ur.getLastRemoteSnapshotVersion(r)))}function lG(t,e){const r=Gt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach(((d,p)=>{const g=i.get(p);if(!g)return;o.push(r.Ur.removeMatchingKeys(s,d.removedDocuments,p).next((()=>r.Ur.addMatchingKeys(s,d.addedDocuments,p))));let m=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(ls.EMPTY_BYTE_STRING,vr.min()).withLastLimboFreeSnapshotVersion(vr.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,n)),i=i.insert(p,m),(function(w,_,S){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(g,m,d)&&o.push(r.Ur.updateTargetData(s,m))}));let l=ll(),c=Yr();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))})),o.push(WR(s,a,e.documentUpdates).next((d=>{l=d.Ps,c=d.Is}))),!n.isEqual(vr.min())){const d=r.Ur.getLastRemoteSnapshotVersion(s).next((p=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n)));o.push(d)}return rt.waitFor(o).next((()=>a.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,l,c))).next((()=>l))})).then((s=>(r.os=i,s)))}function WR(t,e,r){let n=Yr(),i=Yr();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let a=ll();return r.forEach(((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(vr.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Rt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)})),{Ps:a,Is:i}}))}function cG(t,e){const r=Gt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function T1(t,e){const r=Gt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Ur.getTargetData(n,e).next((s=>s?(i=s,rt.resolve(i)):r.Ur.allocateTargetId(n).next((a=>(i=new od(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n}))}async function A1(t,e,r){const n=Gt(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!sh(a))throw a;Rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function Ay(t,e,r){const n=Gt(t);let i=vr.min(),s=Yr();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,c,d){const p=Gt(l),g=p._s.get(d);return g!==void 0?rt.resolve(p.os.get(g)):p.Ur.getTargetData(c,d)})(n,a,Io(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:vr.min(),r?s:Yr()))).next((o=>(YR(n,ZP(e),o),{documents:o,Ts:s})))))}function GR(t,e){const r=Gt(t),n=Gt(r.Ur),i=r.os.get(e);return i?Promise.resolve(i.target):r.persistence.runTransaction("Get target data","readonly",(s=>n.ot(s,e).next((a=>a?a.target:null))))}function KR(t,e){const r=Gt(t),n=r.us.get(e)||vr.min();return r.persistence.runTransaction("Get new document changes","readonly",(i=>r.cs.getAllFromCollectionGroup(i,e,CP(n,-1),Number.MAX_SAFE_INTEGER))).then((i=>(YR(r,e,i),i)))}function YR(t,e,r){let n=t.us.get(e)||vr.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.us.set(e,n)}async function uG(t,e,r,n){const i=Gt(t);let s=Yr(),a=ll();for(const c of r){const d=e.Es(c.metadata.name);c.document&&(s=s.add(d));const p=e.ds(c);p.setReadTime(e.As(c.metadata.readTime)),a=a.insert(d,p)}const o=i.cs.newChangeBuffer({trackRemovals:!0}),l=await T1(i,(function(d){return Io(W1(bn.fromString(`__bundle__/docs/${d}`)))})(n));return i.persistence.runTransaction("Apply bundle documents","readwrite",(c=>WR(c,o,a).next((d=>(o.apply(c),d))).next((d=>i.Ur.removeMatchingKeysForTargetId(c,l.targetId).next((()=>i.Ur.addMatchingKeys(c,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,d.Ps,d.Is))).next((()=>d.Ps))))))}async function dG(t,e,r=Yr()){const n=await T1(t,Io(k6(e.bundledQuery))),i=Gt(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Vs(e.readTime);if(n.snapshotVersion.compareTo(a)>=0)return i.Gr.saveNamedQuery(s,e);const o=n.withResumeToken(ls.EMPTY_BYTE_STRING,a);return i.os=i.os.insert(o.targetId,o),i.Ur.updateTargetData(s,o).next((()=>i.Ur.removeMatchingKeysForTargetId(s,n.targetId))).next((()=>i.Ur.addMatchingKeys(s,r,n.targetId))).next((()=>i.Gr.saveNamedQuery(s,e)))}))}function z9(t,e){return`firestore_clients_${t}_${e}`}function $9(t,e,r){let n=`firestore_mutations_${t}_${r}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}function Cw(t,e){return`firestore_targets_${t}_${e}`}class Iy{constructor(e,r,n,i){this.user=e,this.batchId=r,this.state=n,this.error=i}static Rs(e,r,n){const i=JSON.parse(n);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new Pt(i.error.code,i.error.message))),a?new Iy(e,r,i.state,s):(Os("SharedClientState",`Failed to parse mutation state for ID '${r}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yg{constructor(e,r,n){this.targetId=e,this.state=r,this.error=n}static Rs(e,r){const n=JSON.parse(r);let i,s=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return s&&n.error&&(s=typeof n.error.message=="string"&&typeof n.error.code=="string",s&&(i=new Pt(n.error.code,n.error.message))),s?new yg(e,n.state,i):(Os("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Py{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Rs(e,r){const n=JSON.parse(r);let i=typeof n=="object"&&n.activeTargetIds instanceof Array,s=m6();for(let a=0;i&&a<n.activeTargetIds.length;++a)i=PP(n.activeTargetIds[a]),s=s.add(n.activeTargetIds[a]);return i?new Py(e,s):(Os("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class P6{constructor(e,r){this.clientId=e,this.onlineState=r}static Rs(e){const r=JSON.parse(e);return typeof r=="object"&&["Unknown","Online","Offline"].indexOf(r.onlineState)!==-1&&typeof r.clientId=="string"?new P6(r.clientId,r.onlineState):(Os("SharedClientState",`Failed to parse online state: ${e}`),null)}}class A_{constructor(){this.activeTargetIds=m6()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nw{constructor(e,r,n,i,s){this.window=e,this.ui=r,this.persistenceKey=n,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Ai(zr),this.started=!1,this.bs=[];const a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=z9(this.persistenceKey,this.ps),this.vs=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new A_),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this.Os=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const i=this.getItem(z9(this.persistenceKey,n));if(i){const s=Py.Rs(n,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const r=this.storage.getItem(this.xs);if(r){const n=this.Ls(r);n&&this.Bs(n)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let r=!1;return this.Ss.forEach(((n,i)=>{i.activeTargetIds.has(e)&&(r=!0)})),r}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,r,n){this.qs(e,r,n),this.Qs(e)}addLocalQueryTarget(e,r=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Cw(this.persistenceKey,e));if(i){const s=yg.Rs(e,i);s&&(n=s.state)}}return r&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Cw(this.persistenceKey,e))}updateQueryState(e,r,n){this.$s(e,r,n)}handleUserChange(e,r,n){r.forEach((i=>{this.Qs(i)})),this.currentUser=e,n.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return Rt("SharedClientState","READ",e,r),r}setItem(e,r){Rt("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){Rt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const r=e;if(r.storageArea===this.storage){if(Rt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void Os("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(r.key!==null){if(this.Cs.test(r.key)){if(r.newValue==null){const n=this.Gs(r.key);return this.zs(n,null)}{const n=this.js(r.key,r.newValue);if(n)return this.zs(n.clientId,n)}}else if(this.Fs.test(r.key)){if(r.newValue!==null){const n=this.Hs(r.key,r.newValue);if(n)return this.Js(n)}}else if(this.Ms.test(r.key)){if(r.newValue!==null){const n=this.Ys(r.key,r.newValue);if(n)return this.Zs(n)}}else if(r.key===this.xs){if(r.newValue!==null){const n=this.Ls(r.newValue);if(n)return this.Bs(n)}}else if(r.key===this.vs){const n=(function(s){let a=al.oe;if(s!=null)try{const o=JSON.parse(s);fr(typeof o=="number"),a=o}catch(o){Os("SharedClientState","Failed to read sequence number from WebStorage",o)}return a})(r.newValue);n!==al.oe&&this.sequenceNumberHandler(n)}else if(r.key===this.Os){const n=this.Xs(r.newValue);await Promise.all(n.map((i=>this.syncEngine.eo(i))))}}}else this.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,r,n){const i=new Iy(this.currentUser,e,r,n),s=$9(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const r=$9(this.persistenceKey,this.currentUser,e);this.removeItem(r)}Us(e){const r={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(r))}$s(e,r,n){const i=Cw(this.persistenceKey,e),s=new yg(e,r,n);this.setItem(i,s.Vs())}Ws(e){const r=JSON.stringify(Array.from(e));this.setItem(this.Os,r)}Gs(e){const r=this.Cs.exec(e);return r?r[1]:null}js(e,r){const n=this.Gs(e);return Py.Rs(n,r)}Hs(e,r){const n=this.Fs.exec(e),i=Number(n[1]),s=n[2]!==void 0?n[2]:null;return Iy.Rs(new Pa(s),i,r)}Ys(e,r){const n=this.Ms.exec(e),i=Number(n[1]);return yg.Rs(i,r)}Ls(e){return P6.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Rt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,r){const n=r?this.Ss.insert(e,r):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(n),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.io(a,o).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let r=m6();return e.forEach(((n,i)=>{r=r.unionWith(i.activeTargetIds)})),r}}class XR{constructor(){this.so=new A_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new A_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv=null;function Tw(){return sv===null?sv=(function(){return 268435456+Math.round(2147483648*Math.random())})():sv++,"0x"+sv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="WebChannelConnection";class mG extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=Tw(),l=this.xo(r,n.toUriEncodedString());Rt("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(r,l,c,i).then((d=>(Rt("RestConnection",`Received RPC '${r}' ${o}: `,d),d)),(d=>{throw Dl("RestConnection",`RPC '${r}' ${o} failed with error: `,d,"url: ",l,"request:",i),d}))}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+H1})(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>r[a]=s)),i&&i.headers.forEach(((s,a)=>r[a]=s))}xo(r,n){const i=hG[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Tw();return new Promise(((a,o)=>{const l=new xP;l.setWithCredentials(!0),l.listenOnce(vP.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case zv.NO_ERROR:const d=l.getResponseJson();Rt(go,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case zv.TIMEOUT:Rt(go,`RPC '${e}' ${s} timed out`),o(new Pt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case zv.HTTP_ERROR:const p=l.getStatus();if(Rt(go,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const m=g?.error;if(m&&m.status&&m.message){const y=(function(_){const S=_.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(S)>=0?S:pt.UNKNOWN})(m.status);o(new Pt(y,m.message))}else o(new Pt(pt.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Pt(pt.UNAVAILABLE,"Connection failed."));break;default:nr()}}finally{Rt(go,`RPC '${e}' ${s} completed.`)}}));const c=JSON.stringify(i);Rt(go,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",c,n,15)}))}Bo(e,r,n){const i=Tw(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_P(),o=wP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=s.join("");Rt(go,`Creating RPC '${e}' stream ${i}: ${d}`,l);const p=a.createWebChannel(d,l);let g=!1,m=!1;const y=new pG({Io:_=>{m?Rt(go,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(g||(Rt(go,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),Rt(go,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},To:()=>p.close()}),w=(_,S,P)=>{_.listen(S,(A=>{try{P(A)}catch(V){setTimeout((()=>{throw V}),0)}}))};return w(p,ig.EventType.OPEN,(()=>{m||(Rt(go,`RPC '${e}' stream ${i} transport opened.`),y.yo())})),w(p,ig.EventType.CLOSE,(()=>{m||(m=!0,Rt(go,`RPC '${e}' stream ${i} transport closed`),y.So())})),w(p,ig.EventType.ERROR,(_=>{m||(m=!0,Dl(go,`RPC '${e}' stream ${i} transport errored:`,_),y.So(new Pt(pt.UNAVAILABLE,"The operation could not be completed")))})),w(p,ig.EventType.MESSAGE,(_=>{var S;if(!m){const P=_.data[0];fr(!!P);const A=P,V=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(V){Rt(go,`RPC '${e}' stream ${i} received error:`,V);const W=V.status;let K=(function(C){const D=Qs[C];if(D!==void 0)return pR(D)})(W),j=V.message;K===void 0&&(K=pt.INTERNAL,j="Unknown error status: "+W+" with message "+V.message),m=!0,y.So(new Pt(K,j)),p.close()}else Rt(go,`RPC '${e}' stream ${i} received:`,P),y.bo(P)}})),w(o,yP.STAT_EVENT,(_=>{_.stat===h_.PROXY?Rt(go,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===h_.NOPROXY&&Rt(go,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{y.wo()}),0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return typeof window<"u"?window:null}function Yv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){return new kW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Rt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new R6(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===pt.RESOURCE_EXHAUSTED?(Os(r.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===pt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.Yo===r&&this.P_(n,i)}),(n=>{e((()=>{const i=new Pt(pt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)}))}))}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{n((()=>this.I_(i)))})),this.stream.onMessage((i=>{n((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget((()=>this.Yo===e?r():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gG extends JR{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=CW(this.serializer,e),n=(function(s){if(!("targetChange"in s))return vr.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?vr.min():a.readTime?Vs(a.readTime):vr.min()})(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=S_(this.serializer),r.addTarget=(function(s,a){let o;const l=a.target;if(o=_y(l)?{documents:SR(s,l)}:{query:j5(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=vR(s,a.resumeToken);const c=b_(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(vr.min())>0){o.readTime=N1(s,a.snapshotVersion.toTimestamp());const c=b_(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o})(this.serializer,e);const n=TW(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=S_(this.serializer),r.removeTarget=e,this.a_(r)}}class xG extends JR{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return fr(!!e.streamToken),this.lastStreamToken=e.streamToken,fr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=NW(e.writeResults,e.commitTime),n=Vs(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=S_(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Jg(this.serializer,n)))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Pt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(e,k_(r,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pt(pt.UNKNOWN,s.toString())}))}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Lo(e,k_(r,n),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pt(pt.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class yG{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Os(r),this.D_=!1):Rt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{n.enqueueAndForget((async()=>{oh(this)&&(Rt("RemoteStore","Restarting streams for network reachability change."),await(async function(l){const c=Gt(l);c.L_.add(4),await Y1(c),c.q_.set("Unknown"),c.L_.delete(4),await V2(c)})(this))}))})),this.q_=new yG(n,i)}}async function V2(t){if(oh(t))for(const e of t.B_)await e(!0)}async function Y1(t){for(const e of t.B_)await e(!1)}function O5(t,e){const r=Gt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),F6(r)?L6(r):Q1(r).r_()&&j6(r,e))}function I1(t,e){const r=Gt(t),n=Q1(r);r.N_.delete(e),n.r_()&&ZR(r,e),r.N_.size===0&&(n.r_()?n.o_():oh(r)&&r.q_.set("Unknown"))}function j6(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Q1(t).A_(e)}function ZR(t,e){t.Q_.xe(e),Q1(t).R_(e)}function L6(t){t.Q_=new yW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Q1(t).start(),t.q_.v_()}function F6(t){return oh(t)&&!Q1(t).n_()&&t.N_.size>0}function oh(t){return Gt(t).L_.size===0}function ej(t){t.Q_=void 0}async function _G(t){t.q_.set("Online")}async function bG(t){t.N_.forEach(((e,r)=>{j6(t,e)}))}async function kG(t,e){ej(t),F6(t)?(t.q_.M_(e),L6(t)):t.q_.set("Unknown")}async function SG(t,e,r){if(t.q_.set("Online"),e instanceof xR&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))})(t,e)}catch(n){Rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ry(t,n)}else if(e instanceof Kv?t.Q_.Ke(e):e instanceof gR?t.Q_.He(e):t.Q_.We(e),!r.isEqual(vr.min()))try{const n=await HR(t.localStore);r.compareTo(n)>=0&&await(function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach(((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(ls.EMPTY_BYTE_STRING,d.snapshotVersion)),ZR(s,l);const p=new od(d.target,l,c,d.sequenceNumber);j6(s,p)})),s.remoteSyncer.applyRemoteEvent(o)})(t,r)}catch(n){Rt("RemoteStore","Failed to raise snapshot:",n),await Ry(t,n)}}async function Ry(t,e,r){if(!sh(e))throw e;t.L_.add(1),await Y1(t),t.q_.set("Offline"),r||(r=()=>HR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Rt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await V2(t)}))}function tj(t,e){return e().catch((r=>Ry(t,r,e)))}async function X1(t){const e=Gt(t),r=$f(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EG(e);)try{const i=await cG(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,CG(e,i)}catch(i){await Ry(e,i)}rj(e)&&nj(e)}function EG(t){return oh(t)&&t.O_.length<10}function CG(t,e){t.O_.push(e);const r=$f(t);r.r_()&&r.V_&&r.m_(e.mutations)}function rj(t){return oh(t)&&!$f(t).n_()&&t.O_.length>0}function nj(t){$f(t).start()}async function NG(t){$f(t).p_()}async function TG(t){const e=$f(t);for(const r of t.O_)e.m_(r.mutations)}async function AG(t,e,r){const n=t.O_.shift(),i=y6.from(n,e,r);await tj(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await X1(t)}async function IG(t,e){e&&$f(t).V_&&await(async function(n,i){if((function(a){return hR(a)&&a!==pt.ABORTED})(i.code)){const s=n.O_.shift();$f(n).s_(),await tj(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await X1(n)}})(t,e),rj(t)&&nj(t)}async function H9(t,e){const r=Gt(t);r.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const n=oh(r);r.L_.add(3),await Y1(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await V2(r)}async function I_(t,e){const r=Gt(t);e?(r.L_.delete(2),await V2(r)):e||(r.L_.add(2),await Y1(r),r.q_.set("Unknown"))}function Q1(t){return t.K_||(t.K_=(function(r,n,i){const s=Gt(r);return s.w_(),new gG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:_G.bind(null,t),Ro:bG.bind(null,t),mo:kG.bind(null,t),d_:SG.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),F6(t)?L6(t):t.q_.set("Unknown")):(await t.K_.stop(),ej(t))}))),t.K_}function $f(t){return t.U_||(t.U_=(function(r,n,i){const s=Gt(r);return s.w_(),new xG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:NG.bind(null,t),mo:IG.bind(null,t),f_:TG.bind(null,t),g_:AG.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await X1(t)):(await t.U_.stop(),t.O_.length>0&&(Rt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new D6(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pt(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function J1(t,e){if(Os("AsyncQueue",`${e}: ${t}`),sh(t))return new Pt(pt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Xt.comparator(r.key,n.key):(r,n)=>Xt.comparator(r.key,n.key),this.keyedMap=sg(),this.sortedSet=new Ai(this.comparator)}static emptySet(e){return new r1(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof r1)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new r1;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(){this.W_=new Ai(Xt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):nr():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal(((r,n)=>{e.push(n)})),e}}class P1{constructor(e,r,n,i,s,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach((o=>{a.push({type:0,doc:o})})),new P1(e,r,r1.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&j2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class RG{constructor(){this.queries=G9(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Gt(r),s=i.queries;i.queries=G9(),s.forEach(((a,o)=>{for(const l of o.j_)l.onError(n)}))})(this,new Pt(pt.ABORTED,"Firestore shutting down"))}}function G9(){return new Ad((t=>JP(t)),j2)}async function O6(t,e){const r=Gt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new PG,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=J1(a,`Initialization of query '${Vp(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&V6(r)}async function M6(t,e){const r=Gt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function jG(t,e){const r=Gt(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&V6(r)}function LG(t,e,r){const n=Gt(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function V6(t){t.Y_.forEach((e=>{e.next()}))}var P_,K9;(K9=P_||(P_={})).ea="default",K9.Cache="cache";class B6{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new P1(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=P1.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==P_.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e,r){this.aa=e,this.byteLength=r}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(e){this.serializer=e}Es(e){return Nu(this.serializer,e)}ds(e){return e.metadata.exists?kR(this.serializer,e.document,!1):Ri.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Vs(e)}}class DG{constructor(e,r,n){this.ca=e,this.localStore=r,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ij(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++r;const n=bn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ha(e){const r=new Map,n=new Y9(this.serializer);for(const i of e)if(i.metadata.queries){const s=n.Es(i.metadata.name);for(const a of i.metadata.queries){const o=(r.get(a)||Yr()).add(s);r.set(a,o)}}return r}async complete(){const e=await uG(this.localStore,new Y9(this.serializer),this.documents,this.ca.id),r=this.ha(this.documents);for(const n of this.queries)await dG(this.localStore,n,r.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function ij(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.key=e}}class aj{constructor(e){this.key=e}}class oj{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Yr(),this.mutatedKeys=Yr(),this.Aa=eR(e),this.Ra=new r1(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new W9,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,p)=>{const g=i.get(d),m=L2(this.query,p)?p:null,y=!!g&&this.mutatedKeys.has(g.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let _=!1;g&&m?g.data.isEqual(m.data)?y!==w&&(n.track({type:3,doc:m}),_=!0):this.ga(g,m)||(n.track({type:2,doc:m}),_=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!g&&m?(n.track({type:0,doc:m}),_=!0):g&&!m&&(n.track({type:1,doc:g}),_=!0,(l||c)&&(o=!0)),_&&(m?(a=a.add(m),s=w?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((d,p)=>(function(m,y){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nr()}};return w(m)-w(y)})(d.type,p.type)||this.Aa(d.doc,p.doc))),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new P1(this.query,e.Ra,s,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new W9,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((r=>this.Ta=this.Ta.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ta=this.Ta.delete(r))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Yr(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const r=[];return e.forEach((n=>{this.da.has(n)||r.push(new aj(n))})),this.da.forEach((n=>{e.has(n)||r.push(new sj(n))})),r}ba(e){this.Ta=e.Ts,this.da=Yr();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return P1.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OG{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class MG{constructor(e){this.key=e,this.va=!1}}class VG{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ad((o=>JP(o)),j2),this.Ma=new Map,this.xa=new Set,this.Oa=new Ai(Xt.comparator),this.Na=new Map,this.La=new C6,this.Ba={},this.ka=new Map,this.qa=b0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function BG(t,e,r=!0){const n=M5(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await lj(n,e,r,!0),i}async function UG(t,e){const r=M5(t);await lj(r,e,!0,!1)}async function lj(t,e,r,n){const i=await T1(t.localStore,Io(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await U6(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&O5(t.remoteStore,i),o}async function U6(t,e,r,n,i){t.Ka=(p,g,m)=>(async function(w,_,S,P){let A=_.view.ma(S);A.ns&&(A=await Ay(w.localStore,_.query,!1).then((({documents:j})=>_.view.ma(j,A))));const V=P&&P.targetChanges.get(_.targetId),W=P&&P.targetMismatches.get(_.targetId)!=null,K=_.view.applyChanges(A,w.isPrimaryClient,V,W);return R_(w,_.targetId,K.wa),K.snapshot})(t,p,g,m);const s=await Ay(t.localStore,e,!0),a=new oj(e,s.Ts),o=a.ma(s.documents),l=O2.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);R_(t,r,c.wa);const d=new OG(e,r,a);return t.Fa.set(e,d),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function zG(t,e,r){const n=Gt(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter((a=>!j2(a,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await A1(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&I1(n.remoteStore,i.targetId),R1(n,i.targetId)})).catch(ih)):(R1(n,i.targetId),await A1(n.localStore,i.targetId,!0))}async function $G(t,e){const r=Gt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),I1(r.remoteStore,n.targetId))}async function qG(t,e,r){const n=H6(t);try{const i=await(function(a,o){const l=Gt(a),c=Ki.now(),d=o.reduce(((m,y)=>m.add(y.key)),Yr());let p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let y=ll(),w=Yr();return l.cs.getEntries(m,d).next((_=>{y=_,y.forEach(((S,P)=>{P.isValidDocument()||(w=w.add(S))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,y))).next((_=>{p=_;const S=[];for(const P of o){const A=gW(P,p.get(P.key).overlayedDocument);A!=null&&S.push(new Id(P.key,A,UP(A.value.mapValue),Wi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,S,o)})).next((_=>{g=_;const S=_.applyToLocalDocumentSet(p,w);return l.documentOverlayCache.saveOverlays(m,_.batchId,S)}))})).then((()=>({batchId:g.batchId,changes:rR(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new Ai(zr)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c})(n,i.batchId,r),await Pd(n,i.changes),await X1(n.remoteStore)}catch(i){const s=J1(i,"Failed to persist write");r.reject(s)}}async function cj(t,e){const r=Gt(t);try{const n=await lG(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=r.Na.get(s);a&&(fr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?fr(a.va):i.removedDocuments.size>0&&(fr(a.va),a.va=!1))})),await Pd(r,n,e)}catch(n){await ih(n)}}function X9(t,e,r){const n=Gt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach(((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=Gt(a);l.onlineState=o;let c=!1;l.queries.forEach(((d,p)=>{for(const g of p.j_)g.Z_(o)&&(c=!0)})),c&&V6(l)})(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function HG(t,e,r){const n=Gt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new Ai(Xt.comparator);a=a.insert(s,Ri.newNoDocument(s,vr.min()));const o=Yr().add(s),l=new D2(vr.min(),new Map,new Ai(zr),a,o);await cj(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),q6(n)}else await A1(n.localStore,e,!1).then((()=>R1(n,e,r))).catch(ih)}async function WG(t,e){const r=Gt(t),n=e.batch.batchId;try{const i=await oG(r.localStore,e);$6(r,n,null),z6(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Pd(r,i)}catch(i){await ih(i)}}async function GG(t,e,r){const n=Gt(t);try{const i=await(function(a,o){const l=Gt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return l.mutationQueue.lookupMutationBatch(c,o).next((p=>(fr(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(c,p)))).next((()=>l.mutationQueue.performConsistencyCheck(c))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>l.localDocuments.getDocuments(c,d)))}))})(n.localStore,e);$6(n,e,r),z6(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Pd(n,i)}catch(i){await ih(i)}}async function KG(t,e){const r=Gt(t);oh(r.remoteStore)||Rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const n=await(function(a){const o=Gt(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(r.localStore);if(n===-1)return void e.resolve();const i=r.ka.get(n)||[];i.push(e),r.ka.set(n,i)}catch(n){const i=J1(n,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function z6(t,e){(t.ka.get(e)||[]).forEach((r=>{r.resolve()})),t.ka.delete(e)}function $6(t,e,r){const n=Gt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function R1(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((n=>{t.La.containsKey(n)||uj(t,n)}))}function uj(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(I1(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),q6(t))}function R_(t,e,r){for(const n of r)n instanceof sj?(t.La.addReference(n.key,e),YG(t,n)):n instanceof aj?(Rt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||uj(t,n.key)):nr()}function YG(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Rt("SyncEngine","New document in limbo: "+r),t.xa.add(n),q6(t))}function q6(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Xt(bn.fromString(e)),n=t.qa.next();t.Na.set(n,new MG(r)),t.Oa=t.Oa.insert(r,n),O5(t.remoteStore,new od(Io(W1(r.path)),n,"TargetPurposeLimboResolution",al.oe))}}async function Pd(t,e,r){const n=Gt(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach(((o,l)=>{a.push(n.Ka(l,e,r).then((c=>{var d;if((c||r)&&n.isPrimaryClient){const p=c?!c.fromCache:(d=r?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(c){i.push(c);const p=I6.Wi(l.targetId,c);s.push(p)}})))})),await Promise.all(a),n.Ca.d_(i),await(async function(l,c){const d=Gt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>rt.forEach(c,(g=>rt.forEach(g.$i,(m=>d.persistence.referenceDelegate.addReference(p,g.targetId,m))).next((()=>rt.forEach(g.Ui,(m=>d.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))))))}catch(p){if(!sh(p))throw p;Rt("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const m=d.os.get(g),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(g,w)}}})(n.localStore,s))}async function XG(t,e){const r=Gt(t);if(!r.currentUser.isEqual(e)){Rt("SyncEngine","User change. New user:",e.toKey());const n=await qR(r.localStore,e);r.currentUser=e,(function(s,a){s.ka.forEach((o=>{o.forEach((l=>{l.reject(new Pt(pt.CANCELLED,a))}))})),s.ka.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Pd(r,n.hs)}}function QG(t,e){const r=Gt(t),n=r.Na.get(e);if(n&&n.va)return Yr().add(n.key);{let i=Yr();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}async function JG(t,e){const r=Gt(t),n=await Ay(r.localStore,e.query,!0),i=e.view.ba(n);return r.isPrimaryClient&&R_(r,e.targetId,i.wa),i}async function ZG(t,e){const r=Gt(t);return KR(r.localStore,e).then((n=>Pd(r,n)))}async function eK(t,e,r,n){const i=Gt(t),s=await(function(o,l){const c=Gt(o),d=Gt(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",(p=>d.Mn(p,l).next((g=>g?c.localDocuments.getDocuments(p,g):rt.resolve(null)))))})(i.localStore,e);s!==null?(r==="pending"?await X1(i.remoteStore):r==="acknowledged"||r==="rejected"?($6(i,e,n||null),z6(i,e),(function(o,l){Gt(Gt(o).mutationQueue).On(l)})(i.localStore,e)):nr(),await Pd(i,s)):Rt("SyncEngine","Cannot apply mutation batch with id: "+e)}async function tK(t,e){const r=Gt(t);if(M5(r),H6(r),e===!0&&r.Qa!==!0){const n=r.sharedClientState.getAllActiveQueryTargets(),i=await Q9(r,n.toArray());r.Qa=!0,await I_(r.remoteStore,!0);for(const s of i)O5(r.remoteStore,s)}else if(e===!1&&r.Qa!==!1){const n=[];let i=Promise.resolve();r.Ma.forEach(((s,a)=>{r.sharedClientState.isLocalQueryTarget(a)?n.push(a):i=i.then((()=>(R1(r,a),A1(r.localStore,a,!0)))),I1(r.remoteStore,a)})),await i,await Q9(r,n),(function(a){const o=Gt(a);o.Na.forEach(((l,c)=>{I1(o.remoteStore,c)})),o.La.pr(),o.Na=new Map,o.Oa=new Ai(Xt.comparator)})(r),r.Qa=!1,await I_(r.remoteStore,!1)}}async function Q9(t,e,r){const n=Gt(t),i=[],s=[];for(const a of e){let o;const l=n.Ma.get(a);if(l&&l.length!==0){o=await T1(n.localStore,Io(l[0]));for(const c of l){const d=n.Fa.get(c),p=await JG(n,d);p.snapshot&&s.push(p.snapshot)}}else{const c=await GR(n.localStore,a);o=await T1(n.localStore,c),await U6(n,dj(c),a,!1,o.resumeToken)}i.push(o)}return n.Ca.d_(s),i}function dj(t){return YP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function rK(t){return(function(r){return Gt(Gt(r).persistence).Qi()})(Gt(t).localStore)}async function nK(t,e,r,n){const i=Gt(t);if(i.Qa)return void Rt("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(r){case"current":case"not-current":{const a=await KR(i.localStore,ZP(s[0])),o=D2.createSynthesizedRemoteEventForCurrentChange(e,r==="current",ls.EMPTY_BYTE_STRING);await Pd(i,a,o);break}case"rejected":await A1(i.localStore,e,!0),R1(i,e,n);break;default:nr()}}async function iK(t,e,r){const n=M5(t);if(n.Qa){for(const i of e){if(n.Ma.has(i)&&n.sharedClientState.isActiveQueryTarget(i)){Rt("SyncEngine","Adding an already active target "+i);continue}const s=await GR(n.localStore,i),a=await T1(n.localStore,s);await U6(n,dj(s),a.targetId,!1,a.resumeToken),O5(n.remoteStore,a)}for(const i of r)n.Ma.has(i)&&await A1(n.localStore,i,!1).then((()=>{I1(n.remoteStore,i),R1(n,i)})).catch(ih)}}function M5(t){const e=Gt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HG.bind(null,e),e.Ca.d_=jG.bind(null,e.eventManager),e.Ca.$a=LG.bind(null,e.eventManager),e}function H6(t){const e=Gt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GG.bind(null,e),e}function sK(t,e,r){const n=Gt(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(m,y){const w=Gt(m),_=Vs(y.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",(S=>w.Gr.getBundleMetadata(S,y.id))).then((S=>!!S&&S.createTime.compareTo(_)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(ij(l));const c=new DG(l,s.localStore,a.serializer);let d=await a.Ua();for(;d;){const g=await c.la(d);g&&o._updateProgress(g),d=await a.Ua()}const p=await c.complete();return await Pd(s,p.Ia,void 0),await(function(m,y){const w=Gt(m);return w.persistence.runTransaction("Save bundle","readwrite",(_=>w.Gr.saveBundleMetadata(_,y)))})(s.localStore,l),o._completeWith(p.progress),Promise.resolve(p.Pa)}catch(l){return Dl("SyncEngine",`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(n,e,r).then((i=>{n.sharedClientState.notifyBundleLoaded(i)}))}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=M2(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return $R(this.persistence,new zR,e.initialUser,this.serializer)}Ga(e){return new N6(D5.Zr,this.serializer)}Wa(e){return new XR}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class aK extends qf{constructor(e){super(),this.cacheSizeBytes=e}ja(e,r){fr(this.persistence.referenceDelegate instanceof Ty);const n=this.persistence.referenceDelegate.garbageCollector;return new OR(n,e.asyncQueue,r)}Ga(e){const r=this.cacheSizeBytes!==void 0?bo.withCacheSize(this.cacheSizeBytes):bo.DEFAULT;return new N6((n=>Ty.Zr(n,r)),this.serializer)}}class W6 extends qf{constructor(e,r,n){super(),this.Ja=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await H6(this.Ja.syncEngine),await X1(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return $R(this.persistence,new zR,e.initialUser,this.serializer)}ja(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new OR(n,e.asyncQueue,r)}Ha(e,r){const n=new NH(r,this.persistence);return new CH(e.asyncQueue,n)}Ga(e){const r=A6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?bo.withCacheSize(this.cacheSizeBytes):bo.DEFAULT;return new T6(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,QR(),Yv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new XR}}class fj extends W6{constructor(e,r){super(e,r,!1),this.Ja=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const r=this.Ja.syncEngine;this.sharedClientState instanceof Nw&&(this.sharedClientState.syncEngine={no:eK.bind(null,r),ro:nK.bind(null,r),io:iK.bind(null,r),Qi:rK.bind(null,r),eo:ZG.bind(null,r)},await this.sharedClientState.start()),await this.persistence.yi((async n=>{await tK(this.Ja.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Wa(e){const r=QR();if(!Nw.D(r))throw new Pt(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=A6(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nw(r,e.asyncQueue,n,e.clientId,e.initialUser)}}class Hf{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>X9(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=XG.bind(null,this.syncEngine),await I_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RG})()}createDatastore(e){const r=M2(e.databaseInfo.databaseId),n=(function(s){return new mG(s)})(e.databaseInfo);return(function(s,a,o,l){return new vG(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,a,o){return new wG(n,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(r=>X9(this.syncEngine,r,0)),(function(){return q9.D()?new q9:new fG})())}createSyncEngine(e,r){return(function(i,s,a,o,l,c,d){const p=new VG(i,s,a,o,l,c);return d&&(p.Qa=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=Gt(i);Rt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Y1(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Hf.provider={build:()=>new Hf};function J9(t,e=10240){let r=0;return{async read(){if(r<t.byteLength){const n={value:t.slice(r,r+e),done:!1};return r+=e,n}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(e,r){this.Xa=e,this.serializer=r,this.metadata=new Fa,this.buffer=new Uint8Array,this.eu=(function(){return new TextDecoder("utf-8")})(),this.tu().then((n=>{n&&n.ua()?this.metadata.resolve(n.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(n?.aa)}`))}),(n=>this.metadata.reject(n)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const r=this.eu.decode(e),n=Number(r);isNaN(n)&&this.ru(`length string (${r}) is not valid number`);const i=await this.iu(n);return new FG(JSON.parse(i),e.length+n)}su(){return this.buffer.findIndex((e=>e===123))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const r=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),r}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const r=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),r}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const r=new Uint8Array(this.buffer.length+e.value.length);r.set(this.buffer),r.set(e.value,this.buffer.length),this.buffer=r}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Pt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await(async function(i,s){const a=Gt(i),o={documents:s.map((p=>Qg(a.serializer,p)))},l=await a.Lo("BatchGetDocuments",a.serializer.databaseId,bn.emptyPath(),o,s.length),c=new Map;l.forEach((p=>{const g=EW(a.serializer,p);c.set(g.key.toString(),g)}));const d=[];return s.forEach((p=>{const g=c.get(p.toString());fr(!!g),d.push(g)})),d})(this.datastore,e);return r.forEach((n=>this.recordVersion(n))),r}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(e.toString())}delete(e){this.write(new K1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((r=>{e.delete(r.key.toString())})),e.forEach(((r,n)=>{const i=Xt.fromPath(n);this.mutations.push(new x6(i,this.precondition(i)))})),await(async function(n,i){const s=Gt(n),a={writes:i.map((o=>Jg(s.serializer,o)))};await s.Mo("Commit",s.serializer.databaseId,bn.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw nr();r=vr.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!r.isEqual(n))throw new Pt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(vr.min())?Wi.exists(!1):Wi.updateTime(r):Wi.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(vr.min()))throw new Pt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wi.updateTime(r)}return Wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e,r,n,i,s){this.asyncQueue=e,this.datastore=r,this.options=n,this.updateFunction=i,this.deferred=s,this._u=n.maxAttempts,this.t_=new R6(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new lK(this.datastore),r=this.cu(e);r&&r.then((n=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(n)})).catch((i=>{this.lu(i)}))))})).catch((n=>{this.lu(n)}))}))}cu(e){try{const r=this.updateFunction(e);return!P2(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const r=e.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!hR(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Pa.UNAUTHENTICATED,this.clientId=c6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{Rt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(Rt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=J1(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Aw(t,e){t.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await qR(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Z9(t,e){t.asyncQueue.verifyOperationInProgress();const r=await G6(t);Rt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>H9(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>H9(e.remoteStore,i))),t._onlineComponents=e}async function G6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Rt("FirestoreClient","Using user provided OfflineComponentProvider");try{await Aw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pt.FAILED_PRECONDITION||i.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Dl("Error using user provided cache. Falling back to memory cache: "+r),await Aw(t,new qf)}}else Rt("FirestoreClient","Using default OfflineComponentProvider"),await Aw(t,new qf);return t._offlineComponents}async function B5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Rt("FirestoreClient","Using user provided OnlineComponentProvider"),await Z9(t,t._uninitializedComponentsProvider._online)):(Rt("FirestoreClient","Using default OnlineComponentProvider"),await Z9(t,new Hf))),t._onlineComponents}function hj(t){return G6(t).then((e=>e.persistence))}function Z1(t){return G6(t).then((e=>e.localStore))}function pj(t){return B5(t).then((e=>e.remoteStore))}function K6(t){return B5(t).then((e=>e.syncEngine))}function mj(t){return B5(t).then((e=>e.datastore))}async function j1(t){const e=await B5(t),r=e.eventManager;return r.onListen=BG.bind(null,e.syncEngine),r.onUnlisten=zG.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=UG.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=$G.bind(null,e.syncEngine),r}function dK(t){return t.asyncQueue.enqueue((async()=>{const e=await hj(t),r=await pj(t);return e.setNetworkEnabled(!0),(function(i){const s=Gt(i);return s.L_.delete(0),V2(s)})(r)}))}function fK(t){return t.asyncQueue.enqueue((async()=>{const e=await hj(t),r=await pj(t);return e.setNetworkEnabled(!1),(async function(i){const s=Gt(i);s.L_.add(0),await Y1(s),s.q_.set("Offline")})(r)}))}function hK(t,e){const r=new Fa;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(c,d){const p=Gt(c);return p.persistence.runTransaction("read document","readonly",(g=>p.localDocuments.getDocument(g,d)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new Pt(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=J1(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await Z1(t),e,r))),r.promise}function gj(t,e,r={}){const n=new Fa;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const d=new V5({next:g=>{d.Za(),a.enqueueAndForget((()=>M6(s,p)));const m=g.docs.has(o);!m&&g.fromCache?c.reject(new Pt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&g.fromCache&&l&&l.source==="server"?c.reject(new Pt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new B6(W1(o.path),d,{includeMetadataChanges:!0,_a:!0});return O6(s,p)})(await j1(t),t.asyncQueue,e,r,n))),n.promise}function pK(t,e){const r=new Fa;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await Ay(i,s,!0),l=new oj(s,o.Ts),c=l.ma(o.documents),d=l.applyChanges(c,!1);a.resolve(d.snapshot)}catch(o){const l=J1(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await Z1(t),e,r))),r.promise}function xj(t,e,r={}){const n=new Fa;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,c){const d=new V5({next:g=>{d.Za(),a.enqueueAndForget((()=>M6(s,p))),g.fromCache&&l.source==="server"?c.reject(new Pt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new B6(o,d,{includeMetadataChanges:!0,_a:!0});return O6(s,p)})(await j1(t),t.asyncQueue,e,r,n))),n.promise}function mK(t,e,r){const n=new Fa;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await mj(t);n.resolve((async function(a,o,l){var c;const d=Gt(a),{request:p,ut:g,parent:m}=ER(d.serializer,XP(o),l);d.connection.Fo||delete p.parent;const y=(await d.Lo("RunAggregationQuery",d.serializer.databaseId,m,p,1)).filter((_=>!!_.result));fr(y.length===1);const w=(c=y[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(w).reduce(((_,S)=>(_[g[S]]=w[S],_)),{})})(i,e,r))}catch(i){n.reject(i)}})),n.promise}function gK(t,e){const r=new V5(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Gt(i).Y_.add(s),s.next()})(await j1(t),r))),()=>{r.Za(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Gt(i).Y_.delete(s)})(await j1(t),r)))}}function xK(t,e,r,n){const i=(function(a,o){let l;return l=typeof a=="string"?mR().encode(a):a,(function(d,p){return new oK(d,p)})((function(d,p){if(d instanceof Uint8Array)return J9(d,p);if(d instanceof ArrayBuffer)return J9(new Uint8Array(d),p);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(r,M2(e));t.asyncQueue.enqueueAndForget((async()=>{sK(await K6(t),i,n)}))}function vK(t,e){return t.asyncQueue.enqueue((async()=>(function(n,i){const s=Gt(n);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Gr.getNamedQuery(a,i)))})(await Z1(t),e)))}function yK(t,e){return t.asyncQueue.enqueue((async()=>(async function(n,i){const s=Gt(n),a=s.indexManager,o=[];return s.persistence.runTransaction("Configure indexes","readwrite",(l=>a.getFieldIndexes(l).next((c=>(function(p,g,m,y,w){p=[...p],g=[...g],p.sort(m),g.sort(m);const _=p.length,S=g.length;let P=0,A=0;for(;P<S&&A<_;){const V=m(p[A],g[P]);V<0?w(p[A++]):V>0?y(g[P++]):(P++,A++)}for(;P<S;)y(g[P++]);for(;A<_;)w(p[A++])})(c,i,bH,(d=>{o.push(a.addFieldIndex(l,d))}),(d=>{o.push(a.deleteFieldIndex(l,d))})))).next((()=>rt.waitFor(o)))))})(await Z1(t),e)))}function wK(t,e){return t.asyncQueue.enqueue((async()=>(function(n,i){Gt(n).ss.zi=i})(await Z1(t),e)))}function _K(t){return t.asyncQueue.enqueue((async()=>(function(r){const n=Gt(r),i=n.indexManager;return n.persistence.runTransaction("Delete All Indexes","readwrite",(s=>i.deleteAllFieldIndexes(s)))})(await Z1(t))))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t,e,r){if(!r)throw new Pt(pt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yj(t,e,r,n){if(e===!0&&n===!0)throw new Pt(pt.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function tE(t){if(!Xt.isDocumentKey(t))throw new Pt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rE(t){if(Xt.isDocumentKey(t))throw new Pt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function U5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nr()}function hn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=U5(t);throw new Pt(pt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function wj(t,e){if(e<=0)throw new Pt(pt.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Pt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vj((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Pt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class B2{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new kP;switch(n.type){case"firstParty":return new xH(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=eE.get(r);n&&(Rt("ComponentProvider","Removing Datastore"),eE.delete(r),n.terminate())})(this),Promise.resolve()}}function _j(t,e,r,n={}){var i;const s=(t=hn(t,B2))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=Pa.MOCK_USER;else{o=lP(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new Pt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pa(c)}t._authCredentials=new pH(new bP(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class ys{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ys(this.firestore,e,this._key)}}class Vc extends Da{constructor(e,r,n){super(e,r,W1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ys(this.firestore,null,new Xt(e))}withConverter(e){return new Vc(this.firestore,e,this._path)}}function tr(t,e,...r){if(t=yn(t),Y6("collection","path",e),t instanceof B2){const n=bn.fromString(e,...r);return rE(n),new Vc(t,null,n)}{if(!(t instanceof ys||t instanceof Vc))throw new Pt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bn.fromString(e,...r));return rE(n),new Vc(t.firestore,null,n)}}function bK(t,e){if(t=hn(t,B2),Y6("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pt(pt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Da(t,null,(function(n){return new Td(bn.emptyPath(),n)})(e))}function Qt(t,e,...r){if(t=yn(t),arguments.length===1&&(e=c6.newId()),Y6("doc","path",e),t instanceof B2){const n=bn.fromString(e,...r);return tE(n),new ys(t,null,new Xt(n))}{if(!(t instanceof ys||t instanceof Vc))throw new Pt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bn.fromString(e,...r));return tE(n),new ys(t.firestore,t instanceof Vc?t.converter:null,new Xt(n))}}function kK(t,e){return t=yn(t),e=yn(e),(t instanceof ys||t instanceof Vc)&&(e instanceof ys||e instanceof Vc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function X6(t,e){return t=yn(t),e=yn(e),t instanceof Da&&e instanceof Da&&t.firestore===e.firestore&&j2(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new R6(this,"async_queue_retry"),this.Vu=()=>{const n=Yv();n&&Rt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Yv();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Yv();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const r=new Fa;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!sh(e))throw e;Rt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const r=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const i=(function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o})(n);throw Os("INTERNAL UNHANDLED ERROR: ",i),n})).then((n=>(this.du=!1,n))))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=D6.createAndSchedule(this,e,r,n,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&nr()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function j_(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class bj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fa,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,n){this._progressObserver={next:e,error:r,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK=-1;class gi extends B2{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new iE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function EK(t,e,r){r||(r="(default)");const n=U0(t,"firestore");if(n.isInitialized(r)){const i=n.getImmediate({identifier:r}),s=n.getOptions(r);if(Df(s,e))return i;throw new Pt(pt.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Pt(pt.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return n.initialize({options:e,instanceIdentifier:r})}function kj(t,e){const r=typeof t=="object"?t:C5(),n=typeof t=="string"?t:e||"(default)",i=U0(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=s6("firestore");s&&_j(i,...s)}return i}function Yi(t){if(t._terminated)throw new Pt(pt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Sj(t),t._firestoreClient}function Sj(t){var e,r,n;const i=t._freezeSettings(),s=(function(o,l,c,d){return new YH(o,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vj(d.experimentalLongPollingOptions),d.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new uK(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}function CK(t,e){Dl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return Ej(t,Hf.provider,{build:n=>new W6(n,r.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function NK(t){Dl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Ej(t,Hf.provider,{build:r=>new fj(r,e.cacheSizeBytes)})}function Ej(t,e,r){if((t=hn(t,gi))._firestoreClient||t._terminated)throw new Pt(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Pt(pt.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},Sj(t)}function TK(t){if(t._initialized&&!t._terminated)throw new Pt(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fa;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(n){if(!Cu.D())return Promise.resolve();const i=n+"main";await Cu.delete(i)})(A6(t._databaseId,t._persistenceKey)),e.resolve()}catch(r){e.reject(r)}})),e.promise}function AK(t){return(function(r){const n=new Fa;return r.asyncQueue.enqueueAndForget((async()=>KG(await K6(r),n))),n.promise})(Yi(t=hn(t,gi)))}function IK(t){return dK(Yi(t=hn(t,gi)))}function PK(t){return fK(Yi(t=hn(t,gi)))}function RK(t){return eH(t.app,"firestore",t._databaseId.database),t._delete()}function jK(t,e){const r=Yi(t=hn(t,gi)),n=new bj;return xK(r,t._databaseId,e,n),n}function LK(t,e){return vK(Yi(t=hn(t,gi)),e).then((r=>r?new Da(t,null,r.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=e}}class Cj{constructor(e,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wf(ls.fromBase64String(e))}catch(r){throw new Pt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wf(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Pt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function FK(){return new lh("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Pt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Pt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zr(this._lat,e._lat)||zr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=/^__.*__$/;class OK{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Id(e,this.data,this.fieldMask,r,this.fieldTransforms):new G1(e,this.data,r,this.fieldTransforms)}}class Nj{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Id(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function Tj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nr()}}class $5{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new $5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jy(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Tj(this.Cu)&&DK.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class MK{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||M2(e)}Qu(e,r,n,i=!1){return new $5({Cu:e,methodName:r,qu:n,path:ji.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $0(t){const e=t._freezeSettings(),r=M2(t._databaseId);return new MK(t._databaseId,!!e.ignoreUndefinedProperties,r)}function q5(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);nk("Data must be an object, but it was:",a,n);const o=Pj(n,a);let l,c;if(s.merge)l=new ol(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=Zg(e,p,r);if(!a.contains(g))throw new Pt(pt.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);jj(d,g)||d.push(g)}l=new ol(d),c=a.fieldTransforms.filter((p=>l.covers(p.field)))}else l=null,c=a.fieldTransforms;return new OK(new Za(o),l,c)}class z2 extends ch{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof z2}}function Aj(t,e,r){return new $5({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Q6 extends ch{_toFieldTransform(e){return new F2(e.path,new E1)}isEqual(e){return e instanceof Q6}}class J6 extends ch{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Aj(this,e,!0),n=this.Ku.map((s=>q0(s,r))),i=new v0(n);return new F2(e.path,i)}isEqual(e){return e instanceof J6&&Df(this.Ku,e.Ku)}}class Z6 extends ch{constructor(e,r){super(e),this.Ku=r}_toFieldTransform(e){const r=Aj(this,e,!0),n=this.Ku.map((s=>q0(s,r))),i=new y0(n);return new F2(e.path,i)}isEqual(e){return e instanceof Z6&&Df(this.Ku,e.Ku)}}class ek extends ch{constructor(e,r){super(e),this.$u=r}_toFieldTransform(e){const r=new C1(e.serializer,sR(e.serializer,this.$u));return new F2(e.path,r)}isEqual(e){return e instanceof ek&&this.$u===e.$u}}function tk(t,e,r,n){const i=t.Qu(1,e,r);nk("Data must be an object, but it was:",i,n);const s=[],a=Za.empty();ah(n,((l,c)=>{const d=H5(e,l,r);c=yn(c);const p=i.Nu(d);if(c instanceof z2)s.push(d);else{const g=q0(c,p);g!=null&&(s.push(d),a.set(d,g))}}));const o=new ol(s);return new Nj(a,o,i.fieldTransforms)}function rk(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[Zg(e,n,r)],l=[i];if(s.length%2!=0)throw new Pt(pt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(Zg(e,s[g])),l.push(s[g+1]);const c=[],d=Za.empty();for(let g=o.length-1;g>=0;--g)if(!jj(c,o[g])){const m=o[g];let y=l[g];y=yn(y);const w=a.Nu(m);if(y instanceof z2)c.push(m);else{const _=q0(y,w);_!=null&&(c.push(m),d.set(m,_))}}const p=new ol(c);return new Nj(d,p,a.fieldTransforms)}function Ij(t,e,r,n=!1){return q0(r,t.Qu(n?4:3,e))}function q0(t,e){if(Rj(t=yn(t)))return nk("Unsupported field value:",e,t),Pj(t,e);if(t instanceof ch)return(function(n,i){if(!Tj(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const o of n){let l=q0(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=yn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sR(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ki.fromDate(n);return{timestampValue:N1(i.serializer,s)}}if(n instanceof Ki){const s=new Ki(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:N1(i.serializer,s)}}if(n instanceof z5)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wf)return{bytesValue:vR(i.serializer,n._byteString)};if(n instanceof ys){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:b6(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof U2)return(function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return g6(o.serializer,l)}))}}}}}})(n,i);throw i.Bu(`Unsupported field value: ${U5(n)}`)})(t,e)}function Pj(t,e){const r={};return OP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ah(t,((n,i)=>{const s=q0(i,e.Mu(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function Rj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ki||t instanceof z5||t instanceof Wf||t instanceof ys||t instanceof ch||t instanceof U2)}function nk(t,e,r){if(!Rj(r)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(r)){const n=U5(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Zg(t,e,r){if((e=yn(e))instanceof lh)return e._internalPath;if(typeof e=="string")return H5(t,e);throw jy("Field path arguments must be of type string or ",t,!1,void 0,r)}const VK=new RegExp("[~\\*/\\[\\]]");function H5(t,e,r){if(e.search(VK)>=0)throw jy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new lh(...e.split("."))._internalPath}catch{throw jy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function jy(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Pt(pt.INVALID_ARGUMENT,o+t+l)}function jj(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(W5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class BK extends e2{data(){return super.data()}}function W5(t,e){return typeof e=="string"?H5(t,e):e instanceof lh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ik{}class em extends ik{}function Er(t,e,...r){let n=[];e instanceof ik&&n.push(e),n=n.concat(r),(function(s){const a=s.filter((l=>l instanceof H0)).length,o=s.filter((l=>l instanceof tm)).length;if(a>1||a>0&&o>0)throw new Pt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class tm extends em{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new tm(e,r,n)}_apply(e){const r=this._parse(e);return Dj(e._query,r),new Da(e.firestore,e.converter,__(e._query,r))}_parse(e){const r=$0(e.firestore);return(function(s,a,o,l,c,d,p){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Pt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){aE(p,d);const m=[];for(const y of p)m.push(sE(l,s,y));g={arrayValue:{values:m}}}else g=sE(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||aE(p,d),g=Ij(o,a,p,d==="in"||d==="not-in");return kn.create(c,d,g)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vr(t,e,r){const n=e,i=W5("where",t);return tm._create(i,n,r)}class H0 extends ik{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new H0(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:si.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)Dj(a,l),a=__(a,l)})(e._query,r),new Da(e.firestore,e.converter,__(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function UK(...t){return t.forEach((e=>Oj("or",e))),H0._create("or",t)}function zK(...t){return t.forEach((e=>Oj("and",e))),H0._create("and",t)}class G5 extends em{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new G5(e,r)}_apply(e){const r=(function(i,s,a){if(i.startAt!==null)throw new Pt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Pt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xg(s,a)})(e._query,this._field,this._direction);return new Da(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Td(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function pa(t,e="asc"){const r=e,n=W5("orderBy",t);return G5._create(n,r)}class $2 extends em{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new $2(e,r,n)}_apply(e){return new Da(e.firestore,e.converter,ky(e._query,this._limit,this._limitType))}}function W0(t){return wj("limit",t),$2._create("limit",t,"F")}function $K(t){return wj("limitToLast",t),$2._create("limitToLast",t,"L")}class q2 extends em{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new q2(e,r,n)}_apply(e){const r=Fj(e,this.type,this._docOrFields,this._inclusive);return new Da(e.firestore,e.converter,(function(i,s){return new Td(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,r))}}function qK(...t){return q2._create("startAt",t,!0)}function HK(...t){return q2._create("startAfter",t,!1)}class H2 extends em{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new H2(e,r,n)}_apply(e){const r=Fj(e,this.type,this._docOrFields,this._inclusive);return new Da(e.firestore,e.converter,(function(i,s){return new Td(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,r))}}function WK(...t){return H2._create("endBefore",t,!1)}function GK(...t){return H2._create("endAt",t,!0)}function Fj(t,e,r,n){if(r[0]=yn(r[0]),r[0]instanceof e2)return(function(s,a,o,l,c){if(!l)throw new Pt(pt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const p of t1(s))if(p.field.isKeyField())d.push(g0(a,l.key));else{const g=l.data.field(p.field);if(T5(g))throw new Pt(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const m=p.field.canonicalString();throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(g)}return new zf(d,c)})(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=$0(t.firestore);return(function(a,o,l,c,d,p){const g=a.explicitOrderBy;if(d.length>g.length)throw new Pt(pt.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<d.length;y++){const w=d[y];if(g[y].field.isKeyField()){if(typeof w!="string")throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!p6(a)&&w.indexOf("/")!==-1)throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);const _=a.path.child(bn.fromString(w));if(!Xt.isDocumentKey(_))throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const S=new Xt(_);m.push(g0(o,S))}else{const _=Ij(l,c,w);m.push(_)}}return new zf(m,p)})(t._query,t.firestore._databaseId,i,e,r,n)}}function sE(t,e,r){if(typeof(r=yn(r))=="string"){if(r==="")throw new Pt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p6(e)&&r.indexOf("/")!==-1)throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(bn.fromString(r));if(!Xt.isDocumentKey(n))throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return g0(t,new Xt(n))}if(r instanceof ys)return g0(t,r._key);throw new Pt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${U5(r)}.`)}function aE(t,e){if(!Array.isArray(t)||t.length===0)throw new Pt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dj(t,e){const r=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new Pt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pt(pt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}function Oj(t,e){if(!(e instanceof tm||e instanceof H0))throw new Pt(pt.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class sk{convertValue(e,r="none"){switch(Bf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Hi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(bd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw nr()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return ah(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map((a=>Hi(a.doubleValue)));return new U2(s)}convertGeoPoint(e){return new z5(Hi(e.latitude),Hi(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=A5(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Gg(e));default:return null}}convertTimestamp(e){const r=_d(e);return new Ki(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=bn.fromString(e);fr(AR(n));const i=new Vf(n.get(1),n.get(3)),s=new Xt(n.popFirst(5));return i.isEqual(r)||Os(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class KK extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){return new L1("sum",Zg("sum",t))}function XK(t){return new L1("avg",Zg("average",t))}function Mj(){return new L1("count")}function QK(t,e){var r,n;return t instanceof L1&&e instanceof L1&&t.aggregateType===e.aggregateType&&((r=t._internalFieldPath)===null||r===void 0?void 0:r.canonicalString())===((n=e._internalFieldPath)===null||n===void 0?void 0:n.canonicalString())}function JK(t,e){return X6(t.query,e.query)&&Df(t.data(),e.data())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k0 extends e2{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(W5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class wg extends k0{data(e={}){return super.data(e)}}class S0{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Af(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new wg(this._firestore,this._userDataWriter,n.key,n,new Af(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Pt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new wg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Af(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new wg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Af(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:ZK(o.type),doc:l,oldIndex:c,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function ZK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nr()}}function eY(t,e){return t instanceof k0&&e instanceof k0?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof S0&&e instanceof S0&&t._firestore===e._firestore&&X6(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t){t=hn(t,ys);const e=hn(t.firestore,gi);return gj(Yi(e),t._key).then((r=>ak(e,t,r)))}class uh extends sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,r)}}function tY(t){t=hn(t,ys);const e=hn(t.firestore,gi),r=Yi(e),n=new uh(e);return hK(r,t._key).then((i=>new k0(e,n,t._key,i,new Af(i!==null&&i.hasLocalMutations,!0),t.converter)))}function rY(t){t=hn(t,ys);const e=hn(t.firestore,gi);return gj(Yi(e),t._key,{source:"server"}).then((r=>ak(e,t,r)))}function On(t){t=hn(t,Da);const e=hn(t.firestore,gi),r=Yi(e),n=new uh(e);return Lj(t._query),xj(r,t._query).then((i=>new S0(e,n,t,i)))}function nY(t){t=hn(t,Da);const e=hn(t.firestore,gi),r=Yi(e),n=new uh(e);return pK(r,t._query).then((i=>new S0(e,n,t,i)))}function iY(t){t=hn(t,Da);const e=hn(t.firestore,gi),r=Yi(e),n=new uh(e);return xj(r,t._query,{source:"server"}).then((i=>new S0(e,n,t,i)))}function Bc(t,e,r){t=hn(t,ys);const n=hn(t.firestore,gi),i=K5(t.converter,e,r);return rm(n,[q5($0(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Wi.none())])}function ri(t,e,r,...n){t=hn(t,ys);const i=hn(t.firestore,gi),s=$0(i);let a;return a=typeof(e=yn(e))=="string"||e instanceof lh?rk(s,"updateDoc",t._key,e,r,n):tk(s,"updateDoc",t._key,e),rm(i,[a.toMutation(t._key,Wi.exists(!0))])}function Tl(t){return rm(hn(t.firestore,gi),[new K1(t._key,Wi.none())])}function Gf(t,e){const r=hn(t.firestore,gi),n=Qt(t),i=K5(t.converter,e);return rm(r,[q5($0(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Wi.exists(!1))]).then((()=>n))}function Nn(t,...e){var r,n,i;t=yn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||j_(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(j_(e[a])){const p=e[a];e[a]=(r=p.next)===null||r===void 0?void 0:r.bind(p),e[a+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let l,c,d;if(t instanceof ys)c=hn(t.firestore,gi),d=W1(t._key.path),l={next:p=>{e[a]&&e[a](ak(c,t,p))},error:e[a+1],complete:e[a+2]};else{const p=hn(t,Da);c=hn(p.firestore,gi),d=p._query;const g=new uh(c);l={next:m=>{e[a]&&e[a](new S0(c,g,p,m))},error:e[a+1],complete:e[a+2]},Lj(t._query)}return(function(g,m,y,w){const _=new V5(w),S=new B6(m,_,y);return g.asyncQueue.enqueueAndForget((async()=>O6(await j1(g),S))),()=>{_.Za(),g.asyncQueue.enqueueAndForget((async()=>M6(await j1(g),S)))}})(Yi(c),d,o,l)}function sY(t,e){return gK(Yi(t=hn(t,gi)),j_(e)?e:{next:e})}function rm(t,e){return(function(n,i){const s=new Fa;return n.asyncQueue.enqueueAndForget((async()=>qG(await K6(n),i,s))),s.promise})(Yi(t),e)}function ak(t,e,r){const n=r.docs.get(e._key),i=new uh(t);return new k0(t,i,e._key,n,new Af(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aY(t){return Vj(t,{count:Mj()})}function Vj(t,e){const r=hn(t.firestore,gi),n=Yi(r),i=DP(e,((s,a)=>new fR(a,s.aggregateType,s._internalFieldPath)));return mK(n,t._query,i).then((s=>(function(o,l,c){const d=new uh(o);return new Cj(l,d,c)})(r,t,s)))}class oY{constructor(e){this.kind="memory",this._onlineComponentProvider=Hf.provider,e?.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=qf.provider}toJSON(){return{kind:this.kind}}}class lY{constructor(e){let r;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),r=e.tabManager):(r=Bj(void 0),r._initialize(e)),this._onlineComponentProvider=r._onlineComponentProvider,this._offlineComponentProvider=r._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class cY{constructor(){this.kind="memoryEager",this._offlineComponentProvider=qf.provider}toJSON(){return{kind:this.kind}}}class uY{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new aK(e)}}toJSON(){return{kind:this.kind}}}function dY(){return new cY}function fY(t){return new uY(t?.cacheSizeBytes)}function hY(t){return new oY(t)}function pY(t){return new lY(t)}class mY{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Hf.provider,this._offlineComponentProvider={build:r=>new W6(r,e?.cacheSizeBytes,this.forceOwnership)}}}class gY{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Hf.provider,this._offlineComponentProvider={build:r=>new fj(r,e?.cacheSizeBytes)}}}function Bj(t){return new mY(t?.forceOwnership)}function xY(){return new gY}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vY={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=$0(e)}set(e,r,n){this._verifyNotCommitted();const i=bf(e,this._firestore),s=K5(i.converter,r,n),a=q5(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Wi.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=bf(e,this._firestore);let a;return a=typeof(r=yn(r))=="string"||r instanceof lh?rk(this._dataReader,"WriteBatch.update",s._key,r,n,i):tk(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(a.toMutation(s._key,Wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=bf(e,this._firestore);return this._mutations=this._mutations.concat(new K1(r._key,Wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bf(t,e){if((t=yn(t)).firestore!==e)throw new Pt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj extends class{constructor(r,n){this._firestore=r,this._transaction=n,this._dataReader=$0(r)}get(r){const n=bf(r,this._firestore),i=new KK(this._firestore);return this._transaction.lookup([n._key]).then((s=>{if(!s||s.length!==1)return nr();const a=s[0];if(a.isFoundDocument())return new e2(this._firestore,i,a.key,a,n.converter);if(a.isNoDocument())return new e2(this._firestore,i,n._key,null,n.converter);throw nr()}))}set(r,n,i){const s=bf(r,this._firestore),a=K5(s.converter,n,i),o=q5(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,i);return this._transaction.set(s._key,o),this}update(r,n,i,...s){const a=bf(r,this._firestore);let o;return o=typeof(n=yn(n))=="string"||n instanceof lh?rk(this._dataReader,"Transaction.update",a._key,n,i,s):tk(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,o),this}delete(r){const n=bf(r,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=bf(e,this._firestore),n=new uh(this._firestore);return super.get(e).then((i=>new k0(this._firestore,n,r._key,i._document,new Af(!1,!1),r.converter)))}}function yY(t,e,r){t=hn(t,gi);const n=Object.assign(Object.assign({},vY),r);return(function(s){if(s.maxAttempts<1)throw new Pt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(s,a,o){const l=new Fa;return s.asyncQueue.enqueueAndForget((async()=>{const c=await mj(s);new cK(s.asyncQueue,c,o,a,l).au()})),l.promise})(Yi(t),(i=>e(new zj(t,i))),n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(){return new z2("deleteField")}function ki(){return new Q6("serverTimestamp")}function _g(...t){return new J6("arrayUnion",t)}function wY(...t){return new Z6("arrayRemove",t)}function Ly(t){return new ek("increment",t)}function _Y(t){return new U2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){return Yi(t=hn(t,gi)),new Uj(t,(e=>rm(t,e)))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bY(t,e){const r=Yi(t=hn(t,gi));if(!r._uninitializedComponentsProvider||r._uninitializedComponentsProvider._offline.kind==="memory")return Dl("Cannot enable indexes when persistence is disabled"),Promise.resolve();const n=(function(s){const a=typeof s=="string"?(function(c){try{return JSON.parse(c)}catch(d){throw new Pt(pt.INVALID_ARGUMENT,"Failed to parse JSON: "+d?.message)}})(s):s,o=[];if(Array.isArray(a.indexes))for(const l of a.indexes){const c=oE(l,"collectionGroup"),d=[];if(Array.isArray(l.fields))for(const p of l.fields){const g=H5("setIndexConfiguration",oE(p,"fieldPath"));p.arrayConfig==="CONTAINS"?d.push(new a0(g,2)):p.order==="ASCENDING"?d.push(new a0(g,0)):p.order==="DESCENDING"&&d.push(new a0(g,1))}o.push(new _1(_1.UNKNOWN_ID,c,d,b1.empty()))}return o})(e);return yK(r,n)}function oE(t,e){if(typeof t[e]!="string")throw new Pt(pt.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function kY(t){var e;t=hn(t,gi);const r=lE.get(t);if(r)return r;if(((e=Yi(t)._uninitializedComponentsProvider)===null||e===void 0?void 0:e._offline.kind)!=="persistent")return null;const n=new $j(t);return lE.set(t,n),n}function SY(t){qj(t,!0)}function EY(t){qj(t,!1)}function CY(t){_K(Yi(t._firestore)).then((e=>Rt("deleting all persistent cache indexes succeeded"))).catch((e=>Dl("deleting all persistent cache indexes failed",e)))}function qj(t,e){wK(Yi(t._firestore),e).then((r=>Rt(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>Dl(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const lE=new WeakMap;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NY(t){var e;const r=(e=Yi(hn(t.firestore,gi))._onlineComponents)===null||e===void 0?void 0:e.datastore.serializer;return r===void 0?null:j5(r,Io(t._query))._t}function TY(t,e){var r;const n=DP(e,((s,a)=>new fR(a,s.aggregateType,s._internalFieldPath))),i=(r=Yi(hn(t.firestore,gi))._onlineComponents)===null||r===void 0?void 0:r.datastore.serializer;return i===void 0?null:ER(i,XP(t._query),n,!0).request}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return lk.instance.onExistenceFilterMismatch(e)}}class lk{constructor(){this.Uu=new Map}static get instance(){return av||(av=new lk,(function(r){if(Sy)throw new Error("a TestingHooksSpi instance is already set");Sy=r})(av)),av}et(e){this.Uu.forEach((r=>r(e)))}onExistenceFilterMismatch(e){const r=Symbol(),n=this.Uu;return n.set(r,e),()=>n.delete(r)}}let av=null;(function(e,r=!0){(function(i){H1=i})(z0),Of(new yd("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new gi(new mH(n.getProvider("auth-internal")),new vH(n.getProvider("app-check-internal")),(function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Pt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vf(c.options.projectId,d)})(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),uc(QS,"4.7.3",e),uc(QS,"4.7.3","esm2017")})();const Hj=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:sk,AggregateField:L1,AggregateQuerySnapshot:Cj,Bytes:Wf,CACHE_SIZE_UNLIMITED:SK,CollectionReference:Vc,DocumentReference:ys,DocumentSnapshot:k0,FieldPath:lh,FieldValue:ch,Firestore:gi,FirestoreError:Pt,GeoPoint:z5,LoadBundleTask:bj,PersistentCacheIndexManager:$j,Query:Da,QueryCompositeFilterConstraint:H0,QueryConstraint:em,QueryDocumentSnapshot:wg,QueryEndAtConstraint:H2,QueryFieldFilterConstraint:tm,QueryLimitConstraint:$2,QueryOrderByConstraint:G5,QuerySnapshot:S0,QueryStartAtConstraint:q2,SnapshotMetadata:Af,Timestamp:Ki,Transaction:zj,VectorValue:U2,WriteBatch:Uj,_AutoId:c6,_ByteString:ls,_DatabaseId:Vf,_DocumentKey:Xt,_EmptyAppCheckTokenProvider:yH,_EmptyAuthCredentialsProvider:kP,_FieldPath:ji,_TestingHooks:AY,_cast:hn,_debugAssert:hH,_internalAggregationQueryToProtoRunAggregationQueryRequest:TY,_internalQueryToProtoQueryTarget:NY,_isBase64Available:GH,_logWarn:Dl,_validateIsNotUsedTogether:yj,addDoc:Gf,aggregateFieldEqual:QK,aggregateQuerySnapshotEqual:JK,and:zK,arrayRemove:wY,arrayUnion:_g,average:XK,clearIndexedDbPersistence:TK,collection:tr,collectionGroup:bK,connectFirestoreEmulator:_j,count:Mj,deleteAllPersistentCacheIndexes:CY,deleteDoc:Tl,deleteField:L_,disableNetwork:PK,disablePersistentCacheIndexAutoCreation:EY,doc:Qt,documentId:FK,enableIndexedDbPersistence:CK,enableMultiTabIndexedDbPersistence:NK,enableNetwork:IK,enablePersistentCacheIndexAutoCreation:SY,endAt:GK,endBefore:WK,ensureFirestoreConfigured:Yi,executeWrite:rm,getAggregateFromServer:Vj,getCountFromServer:aY,getDoc:os,getDocFromCache:tY,getDocFromServer:rY,getDocs:On,getDocsFromCache:nY,getDocsFromServer:iY,getFirestore:kj,getPersistentCacheIndexManager:kY,increment:Ly,initializeFirestore:EK,limit:W0,limitToLast:$K,loadBundle:jK,memoryEagerGarbageCollector:dY,memoryLocalCache:hY,memoryLruGarbageCollector:fY,namedQuery:LK,onSnapshot:Nn,onSnapshotsInSync:sY,or:UK,orderBy:pa,persistentLocalCache:pY,persistentMultipleTabManager:xY,persistentSingleTabManager:Bj,query:Er,queryEqual:X6,refEqual:kK,runTransaction:yY,serverTimestamp:ki,setDoc:Bc,setIndexConfiguration:bY,setLogLevel:fH,snapshotEqual:eY,startAfter:HK,startAt:qK,sum:YK,terminate:RK,updateDoc:ri,vector:_Y,waitForPendingWrites:AK,where:Vr,writeBatch:ok},Symbol.toStringTag,{value:"Module"}));var IY="firebase",PY="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uc(IY,PY,"app");function ck(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Wj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RY=Wj,Gj=new A2("auth","Firebase",Wj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new a6("@firebase/auth");function jY(t,...e){Fy.logLevel<=_n.WARN&&Fy.warn(`Auth (${z0}): ${t}`,...e)}function Xv(t,...e){Fy.logLevel<=_n.ERROR&&Fy.error(`Auth (${z0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,...e){throw dk(t,...e)}function Uc(t,...e){return dk(t,...e)}function uk(t,e,r){const n=Object.assign(Object.assign({},RY()),{[e]:r});return new A2("auth","Firebase",n).create(e,{appName:t.name})}function pd(t){return uk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LY(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&hc(t,"argument-error"),uk(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dk(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Gj.create(t,...e)}function Mr(t,e,...r){if(!t)throw dk(e,...r)}function ld(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xv(e),new Error(e)}function kd(t,e){t||ld(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FY(){return cE()==="http:"||cE()==="https:"}function cE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DY(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FY()||G$()||"connection"in navigator)?navigator.onLine:!0}function OY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,r){this.shortDelay=e,this.longDelay=r,kd(r>e,"Short delay should be less than long delay!"),this.isMobile=q$()||K$()}get(){return DY()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e){kd(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ld("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ld("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ld("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=new W2(3e4,6e4);function Rd(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Mu(t,e,r,n,i={}){return Yj(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=I2(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return W$()||(c.referrerPolicy="no-referrer"),Kj.fetch()(Xj(t,t.config.apiHost,r,o),c)})}async function Yj(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},MY),e);try{const i=new UY(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw ov(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ov(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw ov(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw ov(t,"user-disabled",a);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uk(t,d,c);hc(t,d)}}catch(i){if(i instanceof Gc)throw i;hc(t,"network-request-failed",{message:String(i)})}}async function G2(t,e,r,n,i={}){const s=await Mu(t,e,r,n,i);return"mfaPendingCredential"in s&&hc(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Xj(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?fk(t.config,i):`${t.config.apiScheme}://${i}`}function BY(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Uc(this.auth,"network-request-failed")),VY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ov(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Uc(t,e,n);return i.customData._tokenResponse=r,i}function uE(t){return t!==void 0&&t.enterprise!==void 0}class zY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return BY(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $Y(t,e){return Mu(t,"GET","/v2/recaptchaConfig",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qY(t,e){return Mu(t,"POST","/v1/accounts:delete",e)}async function Qj(t,e){return Mu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HY(t,e=!1){const r=yn(t),n=await r.getIdToken(e),i=hk(n);Mr(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:n,authTime:bg(Iw(i.auth_time)),issuedAtTime:bg(Iw(i.iat)),expirationTime:bg(Iw(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Iw(t){return Number(t)*1e3}function hk(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Xv("JWT malformed, contained fewer than 3 sections"),null;try{const i=iP(r);return i?JSON.parse(i):(Xv("Failed to decode base64 JWT payload"),null)}catch(i){return Xv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dE(t){const e=hk(t);return Mr(e,"internal-error"),Mr(typeof e.exp<"u","internal-error"),Mr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Gc&&WY(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function WY({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=bg(this.lastLoginAt),this.creationTime=bg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dy(t){var e;const r=t.auth,n=await t.getIdToken(),i=await F1(t,Qj(r,{idToken:n}));Mr(i?.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Jj(s.providerUserInfo):[],o=YY(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!o?.length,d=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new D_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function KY(t){const e=yn(t);await Dy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YY(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Jj(t){return t.map(e=>{var{providerId:r}=e,n=ck(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XY(t,e){const r=await Yj(t,{},async()=>{const n=I2({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Xj(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Kj.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function QY(t,e){return Mu(t,"POST","/v2/accounts:revokeToken",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Mr(e.idToken,"internal-error"),Mr(typeof e.idToken<"u","internal-error"),Mr(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Mr(e.length!==0,"internal-error");const r=dE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Mr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await XY(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new n1;return n&&(Mr(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Mr(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Mr(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n1,this.toJSON())}_performRefresh(){return ld("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(t,e){Mr(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cd{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=ck(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new D_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await F1(this,this.stsTokenManager.getToken(this.auth,e));return Mr(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return HY(this,e)}reload(){return KY(this)}_assign(e){this!==e&&(Mr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new cd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Mr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Dy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dc(this.auth.app))return Promise.reject(pd(this.auth));const e=await this.getIdToken();return await F1(this,qY(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,c,d;const p=(n=r.displayName)!==null&&n!==void 0?n:void 0,g=(i=r.email)!==null&&i!==void 0?i:void 0,m=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,y=(a=r.photoURL)!==null&&a!==void 0?a:void 0,w=(o=r.tenantId)!==null&&o!==void 0?o:void 0,_=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,S=(c=r.createdAt)!==null&&c!==void 0?c:void 0,P=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:V,isAnonymous:W,providerData:K,stsTokenManager:j}=r;Mr(A&&j,e,"internal-error");const T=n1.fromJSON(this.name,j);Mr(typeof A=="string",e,"internal-error"),pf(p,e.name),pf(g,e.name),Mr(typeof V=="boolean",e,"internal-error"),Mr(typeof W=="boolean",e,"internal-error"),pf(m,e.name),pf(y,e.name),pf(w,e.name),pf(_,e.name),pf(S,e.name),pf(P,e.name);const C=new cd({uid:A,auth:e,email:g,emailVerified:V,displayName:p,isAnonymous:W,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:T,createdAt:S,lastLoginAt:P});return K&&Array.isArray(K)&&(C.providerData=K.map(D=>Object.assign({},D))),_&&(C._redirectEventId=_),C}static async _fromIdTokenResponse(e,r,n=!1){const i=new n1;i.updateFromServerResponse(r);const s=new cd({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Dy(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Mr(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Jj(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new n1;o.updateFromIdToken(n);const l=new cd({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new D_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;function ud(t){kd(t instanceof Function,"Expected a class definition");let e=fE.get(t);return e?(kd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Zj.type="NONE";const hE=Zj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t,e,r){return`firebase:${t}:${e}:${r}`}class i1{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=Qv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qv("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cd._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new i1(ud(hE),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ud(hE);const a=Qv(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const d=await c._get(a);if(d){const p=cd._fromJSON(e,d);c!==s&&(o=p),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new i1(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new i1(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sL(e))return"Blackberry";if(aL(e))return"Webos";if(tL(e))return"Safari";if((e.includes("chrome/")||rL(e))&&!e.includes("edge/"))return"Chrome";if(iL(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function eL(t=ha()){return/firefox\//i.test(t)}function tL(t=ha()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rL(t=ha()){return/crios\//i.test(t)}function nL(t=ha()){return/iemobile/i.test(t)}function iL(t=ha()){return/android/i.test(t)}function sL(t=ha()){return/blackberry/i.test(t)}function aL(t=ha()){return/webos/i.test(t)}function pk(t=ha()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JY(t=ha()){var e;return pk(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZY(){return Y$()&&document.documentMode===10}function oL(t=ha()){return pk(t)||iL(t)||aL(t)||sL(t)||/windows phone/i.test(t)||nL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t,e=[]){let r;switch(t){case"Browser":r=pE(ha());break;case"Worker":r=`${pE(ha())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${z0}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tX(t,e={}){return Mu(t,"GET","/v2/passwordPolicy",Rd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX=6;class nX{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:rX,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new eX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ud(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await i1.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Qj(this,{idToken:e}),n=await cd._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Dc(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Mr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Dy(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OY()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dc(this.app))return Promise.reject(pd(this));const r=e?yn(e):null;return r&&Mr(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Mr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dc(this.app)?Promise.reject(pd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dc(this.app)?Promise.reject(pd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ud(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tX(this),r=new nX(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new A2("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await QY(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ud(e)||this._popupRedirectResolver;Mr(r,this,"argument-error"),this.redirectPersistenceManager=await i1.create(this,[ud(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mr(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Mr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r?.error&&jY(`Error while retrieving App Check token: ${r.error}`),r?.token}}function jd(t){return yn(t)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=tq(r=>this.observer=r)}get next(){return Mr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Y5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sX(t){Y5=t}function cL(t){return Y5.loadJS(t)}function aX(){return Y5.recaptchaEnterpriseScript}function oX(){return Y5.gapiScript}function lX(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const cX="recaptcha-enterprise",uX="NO_RECAPTCHA";class dX{constructor(e){this.type=cX,this.auth=jd(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{$Y(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new zY(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;uE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(uX)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&uE(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=aX();l.length!==0&&(l+=o),cL(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function gE(t,e,r,n=!1){const i=new dX(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Oy(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await gE(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await gE(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(t,e){const r=U0(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Df(s,e??{}))return i;hc(i,"already-initialized")}return r.initialize({options:e})}function hX(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(ud);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function pX(t,e,r){const n=jd(t);Mr(n._canInitEmulator,n,"emulator-config-failed"),Mr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=uL(e),{host:a,port:o}=mX(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),gX()}function uL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mX(t){const e=uL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:xE(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:xE(a)}}}function xE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gX(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ld("not implemented")}_getIdTokenResponse(e){return ld("not implemented")}_linkToIdToken(e,r){return ld("not implemented")}_getReauthenticationResolver(e){return ld("not implemented")}}async function xX(t,e){return Mu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vX(t,e){return G2(t,"POST","/v1/accounts:signInWithPassword",Rd(t,e))}async function dL(t,e){return Mu(t,"POST","/v1/accounts:sendOobCode",Rd(t,e))}async function yX(t,e){return dL(t,e)}async function wX(t,e){return dL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _X(t,e){return G2(t,"POST","/v1/accounts:signInWithEmailLink",Rd(t,e))}async function bX(t,e){return G2(t,"POST","/v1/accounts:signInWithEmailLink",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2 extends mk{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new t2(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new t2(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oy(e,r,"signInWithPassword",vX);case"emailLink":return _X(e,{email:this._email,oobCode:this._password});default:hc(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Oy(e,n,"signUpPassword",xX);case"emailLink":return bX(e,{idToken:r,email:this._email,oobCode:this._password});default:hc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t,e){return G2(t,"POST","/v1/accounts:signInWithIdp",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kX="http://localhost";class E0 extends mk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new E0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):hc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=ck(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new E0(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return s1(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,s1(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,s1(e,r)}buildRequest(){const e={requestUri:kX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=I2(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EX(t){const e=rg(ng(t)).link,r=e?rg(ng(e)).deep_link_id:null,n=rg(ng(t)).deep_link_id;return(n?rg(ng(n)).link:null)||n||r||e||t}class gk{constructor(e){var r,n,i,s,a,o;const l=rg(ng(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,p=SX((i=l.mode)!==null&&i!==void 0?i:null);Mr(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=EX(e);try{return new gk(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.providerId=G0.PROVIDER_ID}static credential(e,r){return t2._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=gk.parseLink(r);return Mr(n,"argument-error"),t2._fromEmailAndCode(e,n.code,n.tenantId)}}G0.PROVIDER_ID="password";G0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";G0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2 extends xk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends K2{constructor(){super("facebook.com")}static credential(e){return E0._fromParams({providerId:kf.PROVIDER_ID,signInMethod:kf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kf.credentialFromTaggedObject(e)}static credentialFromError(e){return kf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kf.credential(e.oauthAccessToken)}catch{return null}}}kf.FACEBOOK_SIGN_IN_METHOD="facebook.com";kf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends K2{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return E0._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return yu.credential(r,n)}catch{return null}}}yu.GOOGLE_SIGN_IN_METHOD="google.com";yu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends K2{constructor(){super("github.com")}static credential(e){return E0._fromParams({providerId:Sf.PROVIDER_ID,signInMethod:Sf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sf.credentialFromTaggedObject(e)}static credentialFromError(e){return Sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sf.credential(e.oauthAccessToken)}catch{return null}}}Sf.GITHUB_SIGN_IN_METHOD="github.com";Sf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends K2{constructor(){super("twitter.com")}static credential(e,r){return E0._fromParams({providerId:Ef.PROVIDER_ID,signInMethod:Ef.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ef.credentialFromTaggedObject(e)}static credentialFromError(e){return Ef.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ef.credential(r,n)}catch{return null}}}Ef.TWITTER_SIGN_IN_METHOD="twitter.com";Ef.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CX(t,e){return G2(t,"POST","/v1/accounts:signUp",Rd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await cd._fromIdTokenResponse(e,n,i),a=vE(n);return new C0({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=vE(n);return new C0({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function vE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends Gc{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,My.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new My(e,r,n,i)}}function fL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?My._fromErrorAndOperation(t,s,e,n):s})}async function NX(t,e,r=!1){const n=await F1(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return C0._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e,r=!1){const{auth:n}=t;if(Dc(n.app))return Promise.reject(pd(n));const i="reauthenticate";try{const s=await F1(t,fL(n,i,e,t),r);Mr(s.idToken,n,"internal-error");const a=hk(s.idToken);Mr(a,n,"internal-error");const{sub:o}=a;return Mr(t.uid===o,n,"user-mismatch"),C0._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&hc(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e,r=!1){if(Dc(t.app))return Promise.reject(pd(t));const n="signIn",i=await fL(t,n,e),s=await C0._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function TX(t,e){return pL(jd(t),e)}async function AX(t,e){return hL(yn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t){const e=jd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IX(t,e,r){const n=jd(t);await Oy(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",wX)}async function gL(t,e,r){if(Dc(t.app))return Promise.reject(pd(t));const n=jd(t),a=await Oy(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CX).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&mL(t),l}),o=await C0._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function PX(t,e,r){return Dc(t.app)?Promise.reject(pd(t)):TX(yn(t),G0.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&mL(t),n})}async function RX(t,e){const r=yn(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await yX(r.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jX(t,e){return Mu(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=yn(t),s={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},a=await F1(n,jX(n.auth,s));n.displayName=a.displayName||null,n.photoURL=a.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(a)}function LX(t,e,r,n){return yn(t).onIdTokenChanged(e,r,n)}function FX(t,e,r){return yn(t).beforeAuthStateChanged(e,r)}function DX(t,e,r,n){return yn(t).onAuthStateChanged(e,r,n)}function OX(t){return yn(t).signOut()}const Vy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Vy,"1"),this.storage.removeItem(Vy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX=1e3,VX=10;class yL extends vL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);ZY()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VX):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},MX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}yL.type="LOCAL";const BX=yL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL extends vL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}wL.type="SESSION";const _L=wL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new X5(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async c=>c(r.origin,s)),l=await UX(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}X5.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zX{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=vk("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(){return window}function $X(t){Tu().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return typeof Tu().WorkerGlobalScope<"u"&&typeof Tu().importScripts=="function"}async function qX(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HX(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WX(){return bL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebaseLocalStorageDb",GX=1,By="firebaseLocalStorage",SL="fbase_key";class Y2{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Q5(t,e){return t.transaction([By],e?"readwrite":"readonly").objectStore(By)}function KX(){const t=indexedDB.deleteDatabase(kL);return new Y2(t).toPromise()}function O_(){const t=indexedDB.open(kL,GX);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(By,{keyPath:SL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(By)?e(n):(n.close(),await KX(),e(await O_()))})})}async function yE(t,e,r){const n=Q5(t,!0).put({[SL]:e,value:r});return new Y2(n).toPromise()}async function YX(t,e){const r=Q5(t,!1).get(e),n=await new Y2(r).toPromise();return n===void 0?null:n.value}function wE(t,e){const r=Q5(t,!0).delete(e);return new Y2(r).toPromise()}const XX=800,QX=3;class EL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>QX)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=X5._getInstance(WX()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await qX(),!this.activeServiceWorker)return;this.sender=new zX(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HX()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await O_();return await yE(e,Vy,"1"),await wE(e,Vy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>yE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>YX(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>wE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Q5(i,!1).getAll();return new Y2(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EL.type="LOCAL";const JX=EL;new W2(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t,e){return e?ud(e):(Mr(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk extends mk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return s1(e,this._buildIdpRequest())}_linkToIdToken(e,r){return s1(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return s1(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function ZX(t){return pL(t.auth,new yk(t),t.bypassAuthState)}function eQ(t){const{auth:e,user:r}=t;return Mr(r,e,"internal-error"),hL(r,new yk(t),t.bypassAuthState)}async function tQ(t){const{auth:e,user:r}=t;return Mr(r,e,"internal-error"),NX(r,new yk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZX;case"linkViaPopup":case"linkViaRedirect":return tQ;case"reauthViaPopup":case"reauthViaRedirect":return eQ;default:hc(this.auth,"internal-error")}}resolve(e){kd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=new W2(2e3,1e4);async function _E(t,e,r){if(Dc(t.app))return Promise.reject(Uc(t,"operation-not-supported-in-this-environment"));const n=jd(t);LY(t,e,xk);const i=CL(n,r);return new Qh(n,"signInViaPopup",e,i).executeNotNull()}class Qh extends NL{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Qh.currentPopupAction&&Qh.currentPopupAction.cancel(),Qh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Mr(e,this.auth,"internal-error"),e}async onExecution(){kd(this.filter.length===1,"Popup operations only handle one event");const e=vk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Uc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Uc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Uc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rQ.get())};e()}}Qh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ="pendingRedirect",Jv=new Map;class iQ extends NL{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Jv.get(this.auth._key());if(!e){try{const n=await sQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Jv.set(this.auth._key(),e)}return this.bypassAuthState||Jv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sQ(t,e){const r=lQ(e),n=oQ(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function aQ(t,e){Jv.set(t._key(),e)}function oQ(t){return ud(t._redirectPersistence)}function lQ(t){return Qv(nQ,t.config.apiKey,t.name)}async function cQ(t,e,r=!1){if(Dc(t.app))return Promise.reject(pd(t));const n=jd(t),i=CL(n,e),a=await new iQ(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uQ=600*1e3;class dQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fQ(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!TL(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Uc(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(bE(e))}saveEventToCache(e){this.cachedEventUids.add(bE(e)),this.lastProcessedEventTime=Date.now()}}function bE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TL({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function fQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hQ(t,e={}){return Mu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mQ=/^https?/;async function gQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hQ(t);for(const r of e)try{if(xQ(r))return}catch{}hc(t,"unauthorized-domain")}function xQ(t){const e=F_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!mQ.test(r))return!1;if(pQ.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ=new W2(3e4,6e4);function kE(){const t=Tu().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function yQ(t){return new Promise((e,r)=>{var n,i,s;function a(){kE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kE(),r(Uc(t,"network-request-failed"))},timeout:vQ.get()})}if(!((i=(n=Tu().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Tu().gapi)===null||s===void 0)&&s.load)a();else{const o=lX("iframefcb");return Tu()[o]=()=>{gapi.load?a():r(Uc(t,"network-request-failed"))},cL(`${oX()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw Zv=null,e})}let Zv=null;function wQ(t){return Zv=Zv||yQ(t),Zv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q=new W2(5e3,15e3),bQ="__/auth/iframe",kQ="emulator/auth/iframe",SQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CQ(t){const e=t.config;Mr(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?fk(e,kQ):`https://${t.config.authDomain}/${bQ}`,n={apiKey:e.apiKey,appName:t.name,v:z0},i=EQ.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${I2(n).slice(1)}`}async function NQ(t){const e=await wQ(t),r=Tu().gapi;return Mr(r,t,"internal-error"),e.open({where:document.body,url:CQ(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SQ,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=Uc(t,"network-request-failed"),o=Tu().setTimeout(()=>{s(a)},_Q.get());function l(){Tu().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AQ=500,IQ=600,PQ="_blank",RQ="http://localhost";class SE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jQ(t,e,r,n=AQ,i=IQ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},TQ),{width:n.toString(),height:i.toString(),top:s,left:a}),c=ha().toLowerCase();r&&(o=rL(c)?PQ:r),eL(c)&&(e=e||RQ,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[m,y])=>`${g}${m}=${y},`,"");if(JY(c)&&o!=="_self")return LQ(e||"",o),new SE(null);const p=window.open(e||"",o,d);Mr(p,t,"popup-blocked");try{p.focus()}catch{}return new SE(p)}function LQ(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ="__/auth/handler",DQ="emulator/auth/handler",OQ=encodeURIComponent("fac");async function EE(t,e,r,n,i,s){Mr(t.config.authDomain,t,"auth-domain-config-required"),Mr(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:z0,eventId:i};if(e instanceof xk){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",eq(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof K2){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),c=l?`#${OQ}=${encodeURIComponent(l)}`:"";return`${MQ(t)}?${I2(o).slice(1)}${c}`}function MQ({config:t}){return t.emulator?fk(t,DQ):`https://${t.authDomain}/${FQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="webStorageSupport";class VQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_L,this._completeRedirectFn=cQ,this._overrideRedirectResult=aQ}async _openPopup(e,r,n,i){var s;kd((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await EE(e,r,n,F_(),i);return jQ(e,a,vk())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await EE(e,r,n,F_(),i);return $X(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(kd(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await NQ(e),n=new dQ(e);return r.register("authEvent",i=>(Mr(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Pw,{type:Pw},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[Pw];a!==void 0&&r(!!a),hc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=gQ(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return oL()||tL()||pk()}}const BQ=VQ;var CE="@firebase/auth",NE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Mr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $Q(t){Of(new yd("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Mr(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lL(t)},c=new iX(n,i,s,l);return hX(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Of(new yd("auth-internal",e=>{const r=jd(e.getProvider("auth").getImmediate());return(n=>new UQ(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),uc(CE,NE,zQ(t)),uc(CE,NE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ=300,HQ=oP("authIdTokenMaxAge")||qQ;let TE=null;const WQ=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>HQ)return;const i=r?.token;TE!==i&&(TE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function AL(t=C5()){const e=U0(t,"auth");if(e.isInitialized())return e.getImmediate();const r=fX(t,{popupRedirectResolver:BQ,persistence:[JX,BX,_L]}),n=oP("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=WQ(s.toString());FX(r,a,()=>a(r.currentUser)),LX(r,o=>a(o))}}const i=sP("auth");return i&&pX(r,`http://${i}`),r}function GQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}sX({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Uc("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",GQ().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$Q("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="firebasestorage.googleapis.com",PL="storageBucket",KQ=120*1e3,YQ=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Gc{constructor(e,r,n=0){super(Rw(e),`Firebase Storage: ${r} (${Rw(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ks.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Rw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _s;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_s||(_s={}));function Rw(t){return"storage/"+t}function wk(){const t="An unknown error occurred, please check the error payload for server response.";return new ks(_s.UNKNOWN,t)}function XQ(t){return new ks(_s.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QQ(t){return new ks(_s.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ks(_s.UNAUTHENTICATED,t)}function ZQ(){return new ks(_s.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function eJ(t){return new ks(_s.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function tJ(){return new ks(_s.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rJ(){return new ks(_s.CANCELED,"User canceled the upload/download.")}function nJ(t){return new ks(_s.INVALID_URL,"Invalid URL '"+t+"'.")}function iJ(t){return new ks(_s.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sJ(){return new ks(_s.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PL+"' property when initializing the app?")}function aJ(){return new ks(_s.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function oJ(){return new ks(_s.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lJ(t){return new ks(_s.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function M_(t){return new ks(_s.INVALID_ARGUMENT,t)}function RL(){return new ks(_s.APP_DELETED,"The Firebase app was deleted.")}function cJ(t){return new ks(_s.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kg(t,e){return new ks(_s.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ym(t){throw new ks(_s.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=jl.makeFromUrl(e,r)}catch{return new jl(e,"")}if(n.path==="")return n;throw iJ(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(V){V.path_=decodeURIComponent(V.path)}const d="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${d}/b/${i}/o${g}`,"i"),y={bucket:1,path:3},w=r===IL?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",S=new RegExp(`^https?://${w}/${i}/${_}`,"i"),A=[{regex:o,indices:l,postModify:s},{regex:m,indices:y,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let V=0;V<A.length;V++){const W=A[V],K=W.regex.exec(e);if(K){const j=K[W.indices.bucket];let T=K[W.indices.path];T||(T=""),n=new jl(j,T),W.postModify(n);break}}if(n==null)throw nJ(e);return n}}class uJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function d(..._){c||(c=!0,e.apply(null,_))}function p(_){i=setTimeout(()=>{i=null,t(m,l())},_)}function g(){s&&clearTimeout(s)}function m(_,...S){if(c){g();return}if(_){g(),d.call(null,_,...S);return}if(l()||a){g(),d.call(null,_,...S);return}n<64&&(n*=2);let A;o===1?(o=2,A=0):A=(n+Math.random())*1e3,p(A)}let y=!1;function w(_){y||(y=!0,g(),!c&&(i!==null?(_||(o=2),clearTimeout(i),p(0)):_||(o=1)))}return p(0),s=setTimeout(()=>{a=!0,w(!0)},r),w}function fJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(t){return t!==void 0}function pJ(t){return typeof t=="object"&&!Array.isArray(t)}function _k(t){return typeof t=="string"||t instanceof String}function AE(t){return bk()&&t instanceof Blob}function bk(){return typeof Blob<"u"}function IE(t,e,r,n){if(n<e)throw M_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw M_(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function jL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var o0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(o0||(o0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gJ{constructor(e,r,n,i,s,a,o,l,c,d,p,g=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,y)=>{this.resolve_=m,this.reject_=y,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new lv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===o0.NO_ERROR,l=s.getStatus();if(!o||mJ(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===o0.ABORT;n(!1,new lv(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new lv(c,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());hJ(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=wk();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?RL():rJ();a(l)}else{const l=tJ();a(l)}};this.canceled_?r(!1,new lv(!1,null,!0)):this.backoffId_=dJ(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lv{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function xJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _J(t,e,r,n,i,s,a=!0){const o=jL(t.urlParams),l=t.url+o,c=Object.assign({},t.headers);return yJ(c,e),xJ(c,r),vJ(c,s),wJ(c,n),new gJ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kJ(...t){const e=bJ();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(bk())return new Blob(t);throw new ks(_s.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SJ(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(t){if(typeof atob>"u")throw lJ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jw{constructor(e,r){this.data=e,this.contentType=r||null}}function CJ(t,e){switch(t){case bu.RAW:return new jw(LL(e));case bu.BASE64:case bu.BASE64URL:return new jw(FL(t,e));case bu.DATA_URL:return new jw(TJ(e),AJ(e))}throw wk()}function LL(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,a=t.charCodeAt(++r);n=65536|(s&1023)<<10|a&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function NJ(t){let e;try{e=decodeURIComponent(t)}catch{throw kg(bu.DATA_URL,"Malformed data URL.")}return LL(e)}function FL(t,e){switch(t){case bu.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw kg(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case bu.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw kg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=EJ(e)}catch(i){throw i.message.includes("polyfill")?i:kg(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class DL{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw kg(bu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=IJ(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function TJ(t){const e=new DL(t);return e.base64?FL(bu.BASE64,e.rest):NJ(e.rest)}function AJ(t){return new DL(t).contentType}function IJ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,r){let n=0,i="";AE(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(AE(this.data_)){const n=this.data_,i=SJ(n,e,r);return i===null?null:new Cf(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new Cf(n,!0)}}static getBlob(...e){if(bk()){const r=e.map(n=>n instanceof Cf?n.data_:n);return new Cf(kJ.apply(null,r))}else{const r=e.map(a=>_k(a)?CJ(bu.RAW,a).data:a.data_);let n=0;r.forEach(a=>{n+=a.byteLength});const i=new Uint8Array(n);let s=0;return r.forEach(a=>{for(let o=0;o<a.length;o++)i[s++]=a[o]}),new Cf(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){let e;try{e=JSON.parse(t)}catch{return null}return pJ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RJ(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function ML(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jJ(t,e){return e}class Uo{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||jJ}}let cv=null;function LJ(t){return!_k(t)||t.length<2?t:ML(t)}function VL(){if(cv)return cv;const t=[];t.push(new Uo("bucket")),t.push(new Uo("generation")),t.push(new Uo("metageneration")),t.push(new Uo("name","fullPath",!0));function e(s,a){return LJ(a)}const r=new Uo("name");r.xform=e,t.push(r);function n(s,a){return a!==void 0?Number(a):a}const i=new Uo("size");return i.xform=n,t.push(i),t.push(new Uo("timeCreated")),t.push(new Uo("updated")),t.push(new Uo("md5Hash",null,!0)),t.push(new Uo("cacheControl",null,!0)),t.push(new Uo("contentDisposition",null,!0)),t.push(new Uo("contentEncoding",null,!0)),t.push(new Uo("contentLanguage",null,!0)),t.push(new Uo("contentType",null,!0)),t.push(new Uo("metadata","customMetadata",!0)),cv=t,cv}function FJ(t,e){function r(){const n=t.bucket,i=t.fullPath,s=new jl(n,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function DJ(t,e,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const a=r[s];n[a.local]=a.xform(n,e[a.server])}return FJ(n,t),n}function BL(t,e,r){const n=OL(e);return n===null?null:DJ(t,n,r)}function OJ(t,e,r,n){const i=OL(e);if(i===null||!_k(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,p=t.fullPath,g="/b/"+a(d)+"/o/"+a(p),m=kk(g,r,n),y=jL({alt:"media",token:c});return m+y})[0]}function MJ(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const s=e[i];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class UL{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t){if(!t)throw wk()}function VJ(t,e){function r(n,i){const s=BL(t,i,e);return zL(s!==null),s}return r}function BJ(t,e){function r(n,i){const s=BL(t,i,e);return zL(s!==null),OJ(s,i,t.host,t._protocol)}return r}function $L(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=ZQ():i=JQ():r.getStatus()===402?i=QQ(t.bucket):r.getStatus()===403?i=eJ(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function UJ(t){const e=$L(t);function r(n,i){let s=e(n,i);return n.getStatus()===404&&(s=XQ(t.path)),s.serverResponse=i.serverResponse,s}return r}function zJ(t,e,r){const n=e.fullServerUrl(),i=kk(n,t.host,t._protocol),s="GET",a=t.maxOperationRetryTime,o=new UL(i,s,BJ(t,r),a);return o.errorHandler=UJ(e),o}function $J(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function qJ(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=$J(null,e)),n}function HJ(t,e,r,n,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function o(){let A="";for(let V=0;V<2;V++)A=A+Math.random().toString().slice(2);return A}const l=o();a["Content-Type"]="multipart/related; boundary="+l;const c=qJ(e,n,i),d=MJ(c,r),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+l+"--",m=Cf.getBlob(p,n,g);if(m===null)throw aJ();const y={name:c.fullPath},w=kk(s,t.host,t._protocol),_="POST",S=t.maxUploadRetryTime,P=new UL(w,_,VJ(t,r),S);return P.urlParams=y,P.headers=a,P.body=m.uploadData(),P.errorHandler=$L(e),P}class WJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=o0.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=o0.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=o0.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i){if(this.sent_)throw Ym("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ym("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ym("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ym("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ym("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GJ extends WJ{initXhr(){this.xhr_.responseType="text"}}function qL(){return new GJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,r){this._service=e,r instanceof jl?this._location=r:this._location=jl.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new N0(e,r)}get root(){const e=new jl(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ML(this._location.path)}get storage(){return this._service}get parent(){const e=PJ(this._location.path);if(e===null)return null;const r=new jl(this._location.bucket,e);return new N0(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw cJ(e)}}function KJ(t,e,r){t._throwIfRoot("uploadBytes");const n=HJ(t.storage,t._location,VL(),new Cf(e,!0),r);return t.storage.makeRequestWithTokens(n,qL).then(i=>({metadata:i,ref:t}))}function YJ(t){t._throwIfRoot("getDownloadURL");const e=zJ(t.storage,t._location,VL());return t.storage.makeRequestWithTokens(e,qL).then(r=>{if(r===null)throw oJ();return r})}function XJ(t,e){const r=RJ(t._location.path,e),n=new jl(t._location.bucket,r);return new N0(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(t){return/^[A-Za-z]+:\/\//.test(t)}function JJ(t,e){return new N0(t,e)}function HL(t,e){if(t instanceof Sk){const r=t;if(r._bucket==null)throw sJ();const n=new N0(r,r._bucket);return e!=null?HL(n,e):n}else return e!==void 0?XJ(t,e):t}function ZJ(t,e){if(e&&QJ(e)){if(t instanceof Sk)return JJ(t,e);throw M_("To use ref(service, url), the first argument must be a Storage instance.")}else return HL(t,e)}function PE(t,e){const r=e?.[PL];return r==null?null:jl.makeFromBucketSpec(r,t)}function eZ(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:i}=n;i&&(t._overrideAuthToken=typeof i=="string"?i:lP(i,t.app.options.projectId))}class Sk{constructor(e,r,n,i,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=IL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=KQ,this._maxUploadRetryTime=YQ,this._requests=new Set,i!=null?this._bucket=jl.makeFromBucketSpec(i,this._host):this._bucket=PE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jl.makeFromBucketSpec(this._url,e):this._bucket=PE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new N0(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new uJ(RL());{const a=_J(e,this._appId,n,i,r,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const RE="@firebase/storage",jE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="storage";function tZ(t,e,r){return t=yn(t),KJ(t,e,r)}function rZ(t){return t=yn(t),YJ(t)}function nZ(t,e){return t=yn(t),ZJ(t,e)}function iZ(t=C5(),e){t=yn(t);const n=U0(t,WL).getImmediate({identifier:e}),i=s6("storage");return i&&sZ(n,...i),n}function sZ(t,e,r,n={}){eZ(t,e,r,n)}function aZ(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Sk(r,n,i,e,z0)}function oZ(){Of(new yd(WL,aZ,"PUBLIC").setMultipleInstances(!0)),uc(RE,jE,""),uc(RE,jE,"esm2017")}oZ();const lZ={apiKey:"AIzaSyB1GNt6gatBiZyVDj9wZP4TSnefXsohCho",authDomain:"healthapp-f4173.firebaseapp.com",projectId:"healthapp-f4173",storageBucket:"healthapp-f4173.firebasestorage.app",messagingSenderId:"169032569236",appId:"1:169032569236:web:38585fcf19c35ba1737f81"},Ek=hP(lZ),yf=AL(Ek),ht=kj(Ek),cZ=iZ(Ek);function V_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function GL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LE(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QL(n.key),n)}}function KL(t,e,r){return e&&LE(t.prototype,e),r&&LE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YL(t,e,r){return(e=QL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),r.push.apply(r,n)}return r}function vs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(r),!0).forEach((function(n){YL(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function B_(t,e){if(t==null)return{};var r,n,i=(function(a,o){if(a==null)return{};var l={};for(var c in a)if({}.hasOwnProperty.call(a,c)){if(o.indexOf(c)!==-1)continue;l[c]=a[c]}return l})(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function uZ(t,e){return(function(r){if(Array.isArray(r))return r})(t)||(function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var s,a,o,l,c=[],d=!0,p=!1;try{if(o=(i=i.call(r)).next,n!==0)for(;!(d=(s=o.call(i)).done)&&(c.push(s.value),c.length!==n);d=!0);}catch(g){p=!0,a=g}finally{try{if(!d&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(p)throw a}}return c}})(t,e)||JL(t,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function XL(t){return(function(e){if(Array.isArray(e))return V_(e)})(t)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(t)||JL(t)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function QL(t){var e=(function(r,n){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)})(t,"string");return typeof e=="symbol"?e:e+""}function T0(t){return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function JL(t,e){if(t){if(typeof t=="string")return V_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V_(t,e):void 0}}var Ck={cookieTestUrl:"https://legacy-staging.paystack.co/test-iframe/start.html",publishableKey:"uFmz/uE/SDT6GupOrSEXIZXGByjQ0zFkPyc9LqKHFqnTI0WPN3JS5kQPo/j9or0TOXlqMQj2lzHn/UGsQT4XeQ==",publicKey:`-----BEGIN PUBLIC KEY-----\r
MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALhZs/7hP0g0+hrqTq0hFyGVxgco0NMx\r
ZD8nPS6ihxap0yNFjzdyUuZED6P4/aK9Ezl5ajEI9pcx5/1BrEE+F3kCAwEAAQ==\r
-----END PUBLIC KEY-----`,applePayVersion:6,applePayValidateSessionPath:"applepay/validate-session/",applePayChargePath:"applepay/charge"};vs(vs({},Ck),{},{checkoutUrl:"http://localhost:8081/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"http://localhost:8081/static/vendor/pusher.min.js"});var dZ=vs(vs({},Ck),{},{checkoutUrl:"https://checkout-studio.paystack.com/",paymentBaseUrl:"https://legacy-staging.paystack.co/",paystackApiUrl:"https://studio-api.paystack.co/",siteUrl:"https://beta.paystack.com",pusherKey:"1c7b262ee18455815893",pusherUrl:"https://checkout-studio.paystack.com/static/vendor/pusher.min.js"}),sl={production:vs(vs({},Ck),{},{checkoutUrl:"https://checkout.paystack.com/",paymentBaseUrl:"https://standard.paystack.co/",paystackApiUrl:"https://api.paystack.co/",siteUrl:"https://paystack.com",pusherKey:"8e4b9b7ca3418bd5cdc8",pusherUrl:"https://checkout.paystack.com/static/vendor/pusher.min.js"})}.production||dZ;function ZL(t,e){var r=[];return Object.keys(t).forEach((function(n){var i=e?"".concat(e,"[").concat(n,"]"):n,s=t[i];r.push(s!==null&&(typeof v>"u"?"undefined":T0(v))==="object"?ZL(s,i):"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(s)))})),r.join("&")}function zp(){return document.currentScript||(t=document.getElementsByTagName("script"))[t.length-1];var t}function DE(){var t=[],e=zp();if(e){var r=Array.prototype.slice.call(e.attributes);t=Object.keys(r).filter((function(n){var i=r[n].nodeName;return i&&i.indexOf("data")>-1})).map((function(n){return r[n].nodeName}))}return t}var eF=`
  <svg id="inline-button-wordmark--white" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#ffffff"/>
  </svg>
`,fZ=`
<svg id="inline-button-wordmark--grey" width="166" height="16" viewBox="0 0 166 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path
  d="M0.564068 6.26985L1.86515 6.10375C1.85184 5.15143 1.83489 3.71187 1.84942 3.45964C1.95955 1.67927 3.39982 0.16589 5.13056 0.0170127C5.23949 0.00839996 5.34842 0.0034784 5.45371 0.00101762C6.36645 -0.0209585 7.25272 0.313716 7.93 0.936113C8.62472 1.56238 9.07979 2.4864 9.14999 3.4055C9.16815 3.64174 9.1621 5.24002 9.1621 6.18249L10.4886 6.38305L10.4438 14.0767L5.47308 14.7657L0.519287 13.961L0.564068 6.26985ZM5.53359 5.63743L7.62016 5.95241C7.61169 4.80446 7.55965 3.12867 7.30548 2.68696C6.91939 2.0164 6.28156 1.62021 5.55901 1.60421H5.48276C4.7481 1.61406 4.10543 2.0004 3.71813 2.66727C3.44944 3.13236 3.39619 4.70972 3.3974 5.91181L5.53359 5.63743ZM22.5808 12.4378C21.8836 12.4378 21.293 12.3492 20.8089 12.172C20.372 12.0088 19.9719 11.7577 19.6325 11.4338C19.3256 11.1331 19.0833 10.7712 18.9208 10.3707C18.7637 9.95815 18.6612 9.52621 18.6158 9.08621H19.8358C19.8745 9.40119 19.9423 9.70141 20.0391 9.98686C20.136 10.2625 20.286 10.5085 20.4894 10.7251C20.6927 10.9318 20.959 11.0991 21.2882 11.2271C21.6271 11.3452 22.0579 11.4043 22.5808 11.4043C22.9197 11.4043 23.2295 11.36 23.5103 11.2714C23.8008 11.173 24.0525 11.0351 24.2655 10.858C24.4785 10.6808 24.6431 10.4692 24.7593 10.2231C24.8852 9.97701 24.9481 9.70633 24.9481 9.41103C24.9481 9.11574 24.9094 8.85982 24.8319 8.64327C24.7536 8.41559 24.6125 8.21568 24.4253 8.06745C24.196 7.88594 23.9347 7.75064 23.6555 7.6688C23.257 7.54201 22.849 7.4482 22.4355 7.38828C21.9393 7.31041 21.4491 7.19693 20.9686 7.04869C20.5808 6.92967 20.2133 6.75038 19.8794 6.51716C19.5939 6.29685 19.3607 6.01432 19.1968 5.69034C19.0418 5.35567 18.9644 4.9521 18.9644 4.47963C18.9644 4.07607 19.0467 3.70203 19.2113 3.35752C19.3759 3.00317 19.6034 2.69803 19.8939 2.44211C20.194 2.18619 20.5475 1.98441 20.9541 1.83676C21.3608 1.68911 21.811 1.61529 22.3048 1.61529C23.3505 1.61529 24.1784 1.86629 24.7884 2.36829C25.4081 2.86044 25.7711 3.57899 25.8777 4.52393H24.7448C24.6189 3.8546 24.3624 3.37721 23.9751 3.09176C23.5878 2.79646 23.031 2.64882 22.3048 2.64882C21.5883 2.64882 21.0461 2.81123 20.6782 3.13605C20.5037 3.28606 20.3648 3.47417 20.2717 3.68635C20.1787 3.89853 20.1339 4.12931 20.1408 4.36152C20.1408 4.61744 20.1698 4.84875 20.2279 5.05546C20.2957 5.25232 20.4167 5.42457 20.591 5.57222C20.775 5.71987 21.0267 5.85275 21.3463 5.97087C21.7689 6.09987 22.2012 6.19369 22.6389 6.25139C23.2198 6.33998 23.7281 6.4581 24.1639 6.60575C24.5996 6.75339 24.9675 6.94533 25.2677 7.18157C25.5678 7.4178 25.7905 7.70818 25.9358 8.05268C26.0907 8.39719 26.1681 8.82045 26.1681 9.32245C26.1681 9.76539 26.0761 10.1788 25.8922 10.5627C25.7149 10.9408 25.4627 11.2775 25.1515 11.5519C24.8319 11.8275 24.4495 12.0441 24.0041 12.2016C23.5684 12.359 23.094 12.4378 22.5808 12.4378ZM31.2066 12.4378C30.6741 12.4378 30.1803 12.3443 29.7252 12.1573C29.2906 11.9775 28.8956 11.7115 28.5633 11.3747C28.2268 11.0185 27.965 10.5966 27.7936 10.1345C27.6136 9.61796 27.5251 9.07309 27.5321 8.52515V8.40704C27.5321 7.82629 27.6193 7.29476 27.7936 6.81245C27.9679 6.3203 28.2099 5.90196 28.5198 5.55746C28.8393 5.2031 29.2169 4.93242 29.6526 4.7454C30.0883 4.54854 30.5676 4.45011 31.0905 4.45011C31.5262 4.45011 31.9473 4.52393 32.354 4.67158C32.7704 4.80938 33.1383 5.03085 33.4578 5.33599C33.7773 5.64112 34.0291 6.03977 34.213 6.53192C34.4067 7.01424 34.5035 7.5999 34.5035 8.28892V8.68756H28.7812C28.8102 9.57345 29.0281 10.2526 29.4348 10.7251C29.8414 11.1877 30.4369 11.419 31.2212 11.419C32.4121 11.419 33.085 10.9712 33.24 10.0754H34.4454C34.3099 10.8531 33.9516 11.4436 33.3707 11.8472C32.7897 12.2409 32.0684 12.4378 31.2066 12.4378ZM33.269 7.69833C33.2109 6.90104 32.9882 6.33014 32.6009 5.98563C32.2233 5.64112 31.7198 5.46887 31.0905 5.46887C30.4708 5.46887 29.9624 5.67065 29.5655 6.07422C29.1782 6.46794 28.9313 7.00932 28.8248 7.69833H33.269ZM39.3593 12.4378C38.8267 12.4378 38.3329 12.3492 37.8779 12.172C37.4401 11.9901 37.0407 11.7245 36.7014 11.3895C36.3636 11.0315 36.0973 10.6103 35.9172 10.1493C35.7268 9.63002 35.6332 9.07925 35.6412 8.52515V8.40704C35.6412 7.81645 35.738 7.28 35.9317 6.79769C36.1253 6.30553 36.3868 5.8872 36.716 5.54269C37.0548 5.19818 37.447 4.93242 37.8924 4.7454C38.3475 4.54854 38.8267 4.45011 39.3302 4.45011C39.7272 4.45011 40.1097 4.49932 40.4776 4.59775C40.8552 4.69618 41.1893 4.85367 41.4797 5.07022C41.7799 5.27693 42.0316 5.55253 42.235 5.89704C42.4383 6.24155 42.569 6.65988 42.6271 7.15204H41.4362C41.3393 6.54177 41.0924 6.10867 40.6955 5.85275C40.3082 5.59683 39.8531 5.46887 39.3302 5.46887C38.995 5.46599 38.6632 5.53649 38.3571 5.67557C38.0667 5.81338 37.8101 6.01024 37.5874 6.26616C37.3615 6.53514 37.1889 6.84598 37.0791 7.18157C36.9484 7.57626 36.8845 7.99063 36.8902 8.40704V8.52515C36.8902 9.47994 37.1178 10.2034 37.5729 10.6956C38.0376 11.1779 38.6379 11.419 39.3738 11.419C39.6449 11.419 39.9015 11.3797 40.1436 11.3009C40.6361 11.1497 41.0523 10.8113 41.3055 10.356C41.441 10.1197 41.5233 9.84413 41.5524 9.52915H42.6707C42.6338 9.9361 42.5204 10.3321 42.3366 10.6956C42.1663 11.0447 41.9293 11.3559 41.6395 11.611C41.349 11.8669 41.0101 12.0687 40.6228 12.2163C40.2355 12.364 39.8144 12.4378 39.3593 12.4378ZM46.9164 12.4378C46.5568 12.4406 46.199 12.3858 45.8562 12.2754C45.5441 12.1717 45.2605 11.9947 45.0284 11.7586C44.7829 11.4908 44.595 11.1741 44.4765 10.8284C44.3409 10.4544 44.2731 10.0016 44.2731 9.47009V4.58299H45.4786V9.41103C45.4786 10.0902 45.619 10.5873 45.8998 10.9023C46.1903 11.2172 46.6356 11.3747 47.236 11.3747C47.5071 11.3747 47.7685 11.3304 48.0202 11.2419C48.272 11.1533 48.4947 11.0204 48.6883 10.8432C48.882 10.666 49.0369 10.4446 49.1531 10.1788C49.2693 9.91303 49.3274 9.6079 49.3274 9.26339V4.58299H50.5328V12.3049H49.3274V11.0794C49.1531 11.4436 48.8578 11.7635 48.4414 12.0391C48.0348 12.3049 47.5264 12.4378 46.9164 12.4378ZM52.8239 4.58299H54.0294V5.97087C54.2715 5.53777 54.5765 5.18342 54.9444 4.90781C55.322 4.62236 55.8497 4.46979 56.5275 4.45011V5.60175C56.1799 5.61707 55.8346 5.66652 55.4963 5.7494C55.2039 5.81939 54.9308 5.95567 54.6975 6.14804C54.4729 6.35252 54.303 6.6116 54.2037 6.90104C54.0875 7.20618 54.0294 7.59498 54.0294 8.06745V12.3049H52.8239V4.58299ZM61.0347 12.4378C60.5021 12.4378 60.0083 12.3443 59.5533 12.1573C59.1186 11.9775 58.7236 11.7115 58.3914 11.3747C58.0549 11.0185 57.793 10.5966 57.6216 10.1345C57.4416 9.61796 57.3531 9.07309 57.3602 8.52515V8.40704C57.3602 7.82629 57.4473 7.29476 57.6216 6.81245C57.7959 6.3203 58.038 5.90196 58.3478 5.55746C58.6673 5.2031 59.0449 4.93242 59.4806 4.7454C59.9164 4.54854 60.3956 4.45011 60.9185 4.45011C61.3542 4.45011 61.7754 4.52393 62.1821 4.67158C62.5984 4.80938 62.9663 5.03085 63.2859 5.33599C63.6054 5.64112 63.8571 6.03977 64.0411 6.53192C64.2347 7.01424 64.3316 7.5999 64.3316 8.28892V8.68756H58.6092C58.6383 9.57345 58.8561 10.2526 59.2628 10.7251C59.6695 11.1877 60.2649 11.419 61.0492 11.419C62.2401 11.419 62.9131 10.9712 63.068 10.0754H64.2735C64.1379 10.8531 63.7797 11.4436 63.1987 11.8472C62.6178 12.2409 61.8964 12.4378 61.0347 12.4378ZM63.097 7.69833C63.0389 6.90104 62.8162 6.33014 62.429 5.98563C62.0513 5.64112 61.5478 5.46887 60.9185 5.46887C60.2988 5.46887 59.7905 5.67065 59.3935 6.07422C59.0062 6.46794 58.7593 7.00932 58.6528 7.69833H63.097ZM68.8968 12.4378C68.403 12.4378 67.9431 12.3541 67.5171 12.1868C67.1072 12.0141 66.7365 11.7578 66.4278 11.4338C66.1165 11.0803 65.8749 10.6693 65.7161 10.2231C65.5451 9.69956 65.4617 9.15057 65.4692 8.59898V8.48086C65.4692 7.89027 65.5564 7.3489 65.7307 6.85675C65.905 6.36459 66.147 5.94134 66.4569 5.58698C66.7667 5.22279 67.1395 4.94226 67.5752 4.7454C68.0109 4.54854 68.4902 4.45011 69.013 4.45011C69.6521 4.45011 70.1701 4.58791 70.5671 4.86352C70.964 5.12928 71.2739 5.44918 71.4966 5.82322V0.891819H72.702V12.3049H71.4966V10.9761C71.3901 11.1631 71.2448 11.3452 71.0609 11.5224C70.8713 11.7038 70.6617 11.8623 70.4363 11.9949C70.2066 12.1258 69.963 12.2298 69.7102 12.3049C69.4487 12.3935 69.1776 12.4378 68.8968 12.4378ZM69.0275 11.419C69.3761 11.419 69.7053 11.36 70.0152 11.2419C70.325 11.1237 70.5913 10.9466 70.814 10.7103C71.0367 10.4642 71.2109 10.1591 71.3368 9.79492C71.4724 9.42088 71.5401 8.98778 71.5401 8.49562V8.37751C71.5401 7.38335 71.3223 6.65004 70.8866 6.17757C70.4606 5.7051 69.8748 5.46887 69.1292 5.46887C68.374 5.46887 67.7834 5.72479 67.3573 6.23663C66.9313 6.74847 66.7183 7.47686 66.7183 8.4218V8.53992C66.7183 9.02223 66.7764 9.44549 66.8926 9.80968C67.0184 10.1739 67.183 10.4741 67.3864 10.7103C67.5994 10.9466 67.8463 11.1237 68.1271 11.2419C68.4079 11.36 68.708 11.419 69.0275 11.419ZM82.4716 12.4378C81.852 12.4378 81.3243 12.3 80.8886 12.0244C80.485 11.7813 80.146 11.4417 79.901 11.0351V12.3049H78.6955V0.891819H79.901V5.88228C80.0153 5.68531 80.1572 5.50626 80.3221 5.35075C80.5061 5.17357 80.7094 5.02101 80.9321 4.89305C81.1645 4.75524 81.4114 4.64697 81.6729 4.56822C81.9343 4.48948 82.2005 4.45011 82.4716 4.45011C82.9655 4.45011 83.4254 4.53869 83.8514 4.71587C84.2774 4.89305 84.6405 5.14897 84.9407 5.48363C85.2505 5.8183 85.4926 6.22679 85.6669 6.7091C85.8411 7.19141 85.9283 7.73278 85.9283 8.33321V8.45133C85.9283 9.04192 85.846 9.58329 85.6814 10.0754C85.5295 10.535 85.2929 10.9609 84.9843 11.3304C84.6852 11.6839 84.3133 11.9662 83.895 12.1573C83.4445 12.3492 82.96 12.4447 82.4716 12.4378ZM82.3555 11.419C83.1107 11.419 83.6868 11.173 84.0838 10.6808C84.4808 10.1788 84.6793 9.45533 84.6793 8.51039V8.39227C84.6793 7.90012 84.6163 7.47194 84.4904 7.10775C84.3829 6.77559 84.2099 6.46915 83.9821 6.2071C83.7841 5.96487 83.5294 5.77704 83.2414 5.66081C82.9581 5.53232 82.6511 5.46687 82.3409 5.46887C81.9924 5.46887 81.6632 5.52793 81.3533 5.64604C81.0537 5.7638 80.7852 5.95084 80.569 6.19234C80.3464 6.42857 80.1721 6.73371 80.0462 7.10775C79.9127 7.52209 79.8488 7.95635 79.8574 8.39227V8.51039C79.8574 9.4947 80.0898 10.228 80.5545 10.7103C81.0193 11.1828 81.6196 11.419 82.3555 11.419ZM89.6342 11.5076L86.6569 4.58299H87.9495L90.2733 10.1197L92.3792 4.58299H93.6137L89.4164 14.9921H88.1964L89.6342 11.5076ZM105.97 4.51532C105.618 4.13844 105.195 3.83755 104.727 3.63067C104.257 3.42601 103.751 3.32132 103.241 3.32307C102.698 3.32307 102.214 3.42888 101.804 3.64297C101.501 3.7934 101.229 4.00091 101.003 4.25447V4.01947C101.003 3.93064 100.979 3.84347 100.933 3.76781C100.888 3.69214 100.822 3.631 100.744 3.59129C100.691 3.56626 100.633 3.55364 100.574 3.55438H98.9827C98.9241 3.55245 98.8658 3.56433 98.8125 3.58909C98.7592 3.61385 98.7122 3.65082 98.6753 3.69711C98.5956 3.78474 98.5523 3.90019 98.5542 4.01947V15.0561C98.5542 15.1791 98.5954 15.2874 98.6753 15.3735C98.715 15.4152 98.7629 15.4479 98.8158 15.4698C98.8688 15.4916 98.9256 15.502 98.9827 15.5002H100.606C100.661 15.5001 100.715 15.4889 100.766 15.4671C100.817 15.4453 100.863 15.4135 100.901 15.3735C100.945 15.3333 100.979 15.284 101.002 15.229C101.025 15.174 101.036 15.1146 101.034 15.0548V11.2898C101.25 11.5384 101.539 11.7291 101.884 11.8607C102.307 12.0256 102.755 12.1105 103.207 12.1105C103.727 12.1105 104.233 12.0096 104.71 11.8054C105.185 11.599 105.613 11.2958 105.969 10.9146C106.338 10.5135 106.628 10.0422 106.824 9.52669C107.044 8.94733 107.152 8.33033 107.143 7.70941C107.143 7.045 107.038 6.43349 106.824 5.89212C106.631 5.38011 106.341 4.91182 105.97 4.51409V4.51532ZM104.513 8.50178C104.424 8.73555 104.295 8.94718 104.131 9.12928C103.969 9.31219 103.77 9.45789 103.547 9.55674C103.325 9.65558 103.085 9.70531 102.842 9.70264C102.6 9.70387 102.358 9.65342 102.136 9.55499C101.911 9.4556 101.71 9.31074 101.542 9.12928C101.375 8.94704 101.244 8.73407 101.155 8.50178C101.062 8.25439 101.015 7.99155 101.016 7.72663C101.016 7.45102 101.064 7.19141 101.155 6.95026C101.332 6.48635 101.682 6.1122 102.128 5.90935C102.352 5.80353 102.595 5.7494 102.842 5.75063C103.103 5.75063 103.343 5.80476 103.56 5.91058C103.774 6.0127 103.969 6.15542 104.134 6.33014C104.476 6.71058 104.661 7.21105 104.648 7.72663C104.648 8.00347 104.603 8.26308 104.513 8.50178ZM115.859 3.55684H114.249C114.193 3.55751 114.138 3.56987 114.087 3.59315C114.036 3.61643 113.99 3.65013 113.952 3.69219C113.868 3.78 113.821 3.8973 113.821 4.01947V4.22371C113.62 3.9808 113.372 3.78302 113.092 3.64297C112.654 3.42397 112.17 3.31511 111.681 3.32553C111.166 3.32821 110.657 3.43439 110.183 3.63795C109.708 3.84151 109.278 4.13843 108.917 4.51162C108.537 4.91069 108.236 5.37962 108.029 5.89335C107.801 6.47081 107.687 7.08847 107.696 7.71064C107.696 8.37505 107.807 8.98655 108.029 9.52792C108.251 10.0619 108.545 10.5331 108.91 10.9158C109.265 11.2945 109.693 11.5958 110.167 11.8016C110.641 12.0074 111.15 12.1133 111.665 12.113C112.194 12.113 112.675 12.0047 113.085 11.7943C113.388 11.6343 113.637 11.4412 113.821 11.2148V11.4326C113.82 11.4923 113.831 11.5516 113.854 11.6066C113.877 11.6615 113.911 11.7109 113.954 11.7512C113.993 11.7915 114.038 11.8236 114.089 11.8456C114.14 11.8676 114.194 11.879 114.249 11.8792H115.859C115.916 11.8812 115.972 11.8706 116.024 11.8483C116.077 11.826 116.124 11.7925 116.162 11.75C116.203 11.7085 116.235 11.6589 116.256 11.6043C116.277 11.5497 116.287 11.4912 116.285 11.4326V4.0207C116.287 3.90142 116.244 3.78597 116.164 3.69834C116.127 3.65337 116.08 3.61736 116.027 3.5929C115.975 3.56844 115.917 3.55613 115.859 3.55684ZM113.685 8.4907C113.601 8.72324 113.473 8.9368 113.308 9.11943C113.143 9.29538 112.95 9.43933 112.735 9.54269C112.52 9.64727 112.275 9.70141 112.014 9.70141C111.764 9.70141 111.521 9.64727 111.3 9.54146C111.079 9.4398 110.881 9.29437 110.717 9.11372C110.552 8.93306 110.425 8.72082 110.343 8.48947C110.253 8.24551 110.207 7.98712 110.207 7.72663C110.207 7.44979 110.253 7.19018 110.343 6.94903C110.433 6.71156 110.562 6.50116 110.723 6.32891C110.888 6.15296 111.086 6.00901 111.301 5.90812C111.521 5.80353 111.764 5.7494 112.015 5.7494C112.275 5.7494 112.52 5.80353 112.735 5.90935C112.951 6.01393 113.144 6.15542 113.308 6.32891C113.65 6.70961 113.834 7.21001 113.821 7.7254C113.821 7.98993 113.776 8.24709 113.685 8.4907ZM131.919 7.49901C131.685 7.28955 131.417 7.12228 131.127 7.00439C130.828 6.88012 130.511 6.78169 130.177 6.71525L128.95 6.46425C128.635 6.40273 128.416 6.3203 128.293 6.21448C128.242 6.17732 128.201 6.12853 128.172 6.07209C128.144 6.01565 128.128 5.95315 128.128 5.88966C128.128 5.75432 128.204 5.64358 128.357 5.54269C128.523 5.43688 128.755 5.38274 129.042 5.38274C129.357 5.38274 129.669 5.44795 129.958 5.57591C130.252 5.70633 130.528 5.85398 130.769 6.01885C131.126 6.24893 131.43 6.21817 131.649 5.95364L132.238 5.25232C132.351 5.13393 132.416 4.97752 132.422 4.81307C132.422 4.65558 132.345 4.51162 132.198 4.3812C131.948 4.15481 131.553 3.91612 131.023 3.68234C130.494 3.44611 129.829 3.32553 129.042 3.32553C128.525 3.32553 128.049 3.39689 127.628 3.53716C127.205 3.67988 126.842 3.87674 126.547 4.12036C126.251 4.37136 126.017 4.66173 125.858 4.99763C125.699 5.33341 125.617 5.70154 125.618 6.07422C125.618 6.76324 125.82 7.32552 126.218 7.74509C126.615 8.15481 127.145 8.43411 127.796 8.56945L129.072 8.8549C129.435 8.93118 129.711 9.01731 129.889 9.11328C130.045 9.19572 130.119 9.31383 130.119 9.47871C130.119 9.62635 130.045 9.758 129.892 9.87735C129.731 10.0053 129.478 10.0681 129.139 10.0681C128.79 10.0717 128.445 9.99161 128.133 9.83429C127.836 9.68469 127.56 9.49515 127.312 9.27077C127.202 9.17922 127.076 9.1084 126.941 9.0616C126.788 9.01608 126.616 9.0653 126.419 9.22155L125.714 9.78876C125.509 9.96717 125.423 10.1825 125.461 10.431C125.496 10.6697 125.691 10.9158 126.055 11.1939C126.38 11.4313 126.798 11.6467 127.3 11.8312C127.803 12.017 128.391 12.113 129.059 12.113C129.596 12.113 130.092 12.0416 130.529 11.9013C130.967 11.7549 131.354 11.5593 131.668 11.3108C131.98 11.0724 132.231 10.7631 132.404 10.4077C132.576 10.0523 132.663 9.66076 132.659 9.26462C132.659 8.87212 132.595 8.52638 132.46 8.23601C132.331 7.95492 132.147 7.70366 131.919 7.49778V7.49901ZM138.958 9.51193C138.923 9.445 138.872 9.3882 138.809 9.34687C138.747 9.30555 138.675 9.28105 138.601 9.27569C138.451 9.27322 138.305 9.3222 138.186 9.41473C138.071 9.49101 137.946 9.55007 137.815 9.58821C137.649 9.64412 137.47 9.64967 137.3 9.60421C137.219 9.58443 137.144 9.54519 137.081 9.48978C137.005 9.42056 136.946 9.33472 136.908 9.23878C136.855 9.09669 136.83 8.94521 136.836 8.79338V5.76662H138.931C139.051 5.76662 139.159 5.71741 139.253 5.62267C139.295 5.58108 139.329 5.5314 139.352 5.4765C139.376 5.42159 139.388 5.36254 139.389 5.30276V4.02193C139.389 3.96024 139.377 3.89918 139.353 3.84249C139.329 3.78579 139.294 3.73465 139.25 3.69219C139.165 3.60724 139.05 3.55916 138.931 3.55807H136.835V1.49717C136.838 1.43555 136.827 1.37406 136.805 1.31679C136.782 1.25952 136.748 1.20777 136.704 1.16497C136.627 1.08454 136.521 1.03854 136.41 1.03701H134.784C134.695 1.03555 134.609 1.06135 134.535 1.11101C134.462 1.16066 134.405 1.23182 134.372 1.31507C134.349 1.37287 134.338 1.43484 134.339 1.49717V3.55684H133.411C133.353 3.55549 133.294 3.5675 133.241 3.59199C133.188 3.61647 133.14 3.65281 133.102 3.69834C133.025 3.78687 132.982 3.90193 132.984 4.0207V5.304C132.985 5.39177 133.01 5.47753 133.055 5.55238C133.1 5.62724 133.164 5.68846 133.24 5.72971C133.294 5.75555 133.352 5.76908 133.41 5.76662H134.339V9.36551C134.339 9.84536 134.423 10.2588 134.581 10.5996C134.741 10.9367 134.951 11.2197 135.204 11.4313C135.466 11.6503 135.766 11.8128 136.088 11.9087C136.415 12.0121 136.755 12.0638 137.096 12.0638C137.562 12.0638 138.004 11.9887 138.421 11.8423C138.817 11.7053 139.175 11.4722 139.463 11.1631C139.647 10.9404 139.668 10.6943 139.518 10.4483L138.958 9.51316V9.51193ZM147.78 3.55684H146.171C146.116 3.55785 146.061 3.57036 146.01 3.59363C145.959 3.6169 145.914 3.65043 145.876 3.69219C145.835 3.73558 145.802 3.78651 145.779 3.84229C145.758 3.89876 145.746 3.95885 145.747 4.01947V4.22371C145.544 3.98167 145.295 3.78409 145.014 3.64297C144.609 3.43011 144.136 3.32553 143.601 3.32553C143.092 3.32553 142.591 3.42765 142.117 3.6319C141.638 3.83631 141.204 4.13534 140.84 4.51162C140.46 4.9102 140.158 5.37925 139.952 5.89335C139.722 6.47038 139.608 7.08828 139.618 7.71064C139.618 8.37505 139.729 8.98655 139.95 9.52792C140.173 10.0619 140.468 10.5331 140.833 10.9158C141.188 11.2943 141.614 11.5956 142.087 11.8014C142.56 12.0072 143.069 12.1132 143.584 12.113C144.076 12.1217 144.563 12.0125 145.006 11.7943C145.314 11.6343 145.559 11.4412 145.747 11.2148V11.4326C145.745 11.4921 145.756 11.5513 145.778 11.6062C145.801 11.6612 145.834 11.7106 145.877 11.7512C145.916 11.7913 145.961 11.8232 146.012 11.8452C146.062 11.8671 146.116 11.8787 146.171 11.8792H147.78C147.837 11.8806 147.893 11.8699 147.946 11.8476C147.998 11.8254 148.046 11.7921 148.085 11.75C148.166 11.6649 148.21 11.5508 148.208 11.4326V4.0207C148.21 3.90149 148.167 3.78617 148.087 3.69834C148.049 3.65272 148.002 3.61618 147.948 3.59129C147.895 3.56679 147.838 3.555 147.78 3.55684ZM145.606 8.4907C145.437 8.95456 145.095 9.33232 144.655 9.54269C144.43 9.64997 144.184 9.70423 143.936 9.70141C143.685 9.70141 143.446 9.64727 143.224 9.54146C143.004 9.43906 142.806 9.2934 142.642 9.11285C142.477 8.9323 142.349 8.72044 142.266 8.48947C142.175 8.24565 142.129 7.98721 142.129 7.72663C142.129 7.44979 142.174 7.19018 142.264 6.94903C142.353 6.71894 142.481 6.50855 142.645 6.32891C142.812 6.15296 143.008 6.00901 143.224 5.90812C143.447 5.8023 143.69 5.74817 143.936 5.7494C144.199 5.7494 144.438 5.80353 144.655 5.90935C144.874 6.01393 145.066 6.15542 145.226 6.32891C145.388 6.50486 145.517 6.71402 145.606 6.94903C145.796 7.44486 145.796 7.99486 145.606 8.4907ZM156.622 9.40119L155.699 8.67157C155.522 8.52638 155.355 8.48701 155.21 8.54853C155.079 8.60436 154.964 8.69079 154.872 8.80076C154.673 9.05649 154.434 9.27863 154.167 9.45902C153.934 9.60913 153.629 9.68418 153.269 9.68418C153.004 9.68418 152.76 9.63496 152.542 9.53407C152.327 9.43495 152.134 9.2917 151.975 9.11328C151.812 8.93013 151.686 8.71715 151.602 8.48578C151.515 8.24262 151.471 7.98546 151.474 7.72663C151.474 7.4461 151.515 7.18772 151.602 6.94903C151.687 6.71279 151.811 6.50239 151.975 6.33014C152.138 6.15296 152.332 6.01024 152.546 5.90935C152.772 5.80107 153.019 5.74694 153.269 5.7494C153.629 5.7494 153.931 5.82814 154.167 5.97948C154.406 6.13451 154.646 6.35598 154.873 6.63651C154.968 6.7497 155.079 6.83337 155.21 6.88997C155.358 6.94903 155.523 6.90965 155.695 6.7657L156.618 6.03485C156.732 5.95424 156.817 5.83809 156.861 5.70387C156.886 5.63045 156.896 5.55227 156.889 5.47473C156.882 5.39719 156.858 5.32214 156.82 5.25478C156.464 4.67928 155.973 4.20275 155.391 3.86813C154.781 3.51009 154.05 3.32553 153.232 3.32553C152.668 3.32238 152.109 3.43311 151.588 3.65129C151.066 3.86947 150.593 4.19076 150.194 4.59652C149.805 4.99271 149.497 5.4701 149.29 5.99547C149.07 6.54494 148.957 7.13314 148.96 7.72663C148.96 8.33567 149.072 8.91765 149.29 9.45164C149.5 9.97332 149.807 10.4458 150.194 10.8395C150.593 11.2451 151.067 11.5663 151.588 11.7846C152.11 12.003 152.668 12.1142 153.232 12.1117C154.05 12.1117 154.781 11.9284 155.391 11.5654C155.976 11.232 156.468 10.7537 156.822 10.1751C156.86 10.1101 156.882 10.0374 156.889 9.96225C156.896 9.88643 156.886 9.80992 156.861 9.73832C156.813 9.60626 156.731 9.49007 156.622 9.40242V9.40119ZM165.194 11.1299L162.647 7.26277L164.827 4.29138C164.941 4.12036 164.971 3.95672 164.918 3.80292C164.88 3.69219 164.777 3.55684 164.514 3.55684H162.789C162.69 3.55775 162.593 3.58219 162.506 3.62821C162.398 3.68359 162.309 3.77173 162.253 3.88043L160.511 6.39904H160.089V0.447649C160.091 0.329229 160.048 0.214475 159.969 0.127748C159.929 0.0869473 159.881 0.0547186 159.828 0.0329554C159.776 0.0111921 159.719 0.000333517 159.663 0.00101762H158.051C157.964 0.00131009 157.88 0.0270233 157.807 0.0750545C157.735 0.123086 157.678 0.191382 157.643 0.271703C157.62 0.327334 157.608 0.387308 157.61 0.447649V11.4313C157.61 11.5581 157.656 11.6688 157.743 11.75C157.783 11.7911 157.831 11.8236 157.884 11.8456C157.937 11.8676 157.993 11.8786 158.051 11.878H159.664C159.721 11.8798 159.777 11.8692 159.83 11.8469C159.882 11.8246 159.929 11.7912 159.968 11.7488C160.007 11.7068 160.038 11.657 160.058 11.6024C160.08 11.5477 160.09 11.489 160.087 11.4301V8.52392H160.555L162.456 11.5335C162.592 11.7635 162.779 11.8792 163.013 11.8792H164.817C165.091 11.8792 165.205 11.7439 165.251 11.6307C165.316 11.4707 165.297 11.3083 165.194 11.1311V11.1299ZM125.015 3.55684H123.213C123.146 3.55424 123.079 3.56628 123.017 3.59218C122.954 3.61807 122.898 3.6572 122.852 3.70695C122.774 3.79331 122.72 3.89895 122.695 4.01332L121.365 9.14035H121.041L119.61 4.01332C119.586 3.90347 119.539 3.79998 119.473 3.70941C119.435 3.66072 119.386 3.62162 119.331 3.59516C119.276 3.5687 119.215 3.55559 119.154 3.55684H117.285C117.044 3.55684 116.892 3.63805 116.835 3.79431C116.786 3.94184 116.785 4.10149 116.832 4.24955L119.116 11.4658C119.152 11.5802 119.213 11.675 119.292 11.7512C119.337 11.7944 119.391 11.828 119.449 11.8499C119.507 11.8719 119.57 11.8818 119.632 11.8792H120.598L120.518 12.113L120.288 12.786C120.225 12.9927 120.103 13.1754 119.937 13.3101C119.784 13.4312 119.595 13.4954 119.402 13.4922C119.234 13.4914 119.069 13.4536 118.918 13.3815C118.768 13.312 118.625 13.2257 118.494 13.1243C118.375 13.0381 118.234 12.9889 118.089 12.9829H118.069C117.912 12.9829 117.775 13.0739 117.665 13.2486L117.091 14.1197C116.858 14.4938 116.987 14.7399 117.139 14.8764C117.422 15.152 117.778 15.3673 118.198 15.5211C118.614 15.6749 119.073 15.75 119.56 15.75C120.386 15.75 121.076 15.5199 121.605 15.0548C122.131 14.5922 122.52 13.9635 122.757 13.1797L125.405 4.24955C125.465 4.05884 125.465 3.90012 125.411 3.77093C125.366 3.6725 125.26 3.55684 125.015 3.55684Z"
  fill="#838383"
/>
</svg>
`,hZ=`
  <button type="button" id="apple-pay-close-button">
    <svg width="10" height="9" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M5.572 4.033L8.89.71a.4.4 0 0 0-.566-.566L5.003 3.459 1.681.145a.4.4 0 0 0-.566.566L4.44 4.033
      1.115 7.354a.398.398 0 0 0 0 .566.4.4 0 0 0 .566 0l3.322-3.33 3.322 3.33a.4.4 0 0 0 .566-.566L5.57 4.033z"
        fill="white"
      />
    </svg>
  </button>
`,pZ=`
<svg width="74" height="19" viewBox="0 0 74 19" fill="none" xmlns="http://www.w3.org/2000/svg" id="vault-logo">
  <g clip-path="url(#clip0_9910_9664)">
    <path
      d="M32.1273 15.8163H28.9432C28.6448 15.8163 28.4481 15.6622 28.3497 15.3507L25.1886 6.20188C25.1165 6.01825 25.1296 5.85101 25.2214 5.70345C25.3132 5.55589 25.451 5.48047 25.6346 5.48047H27.9693C28.2513 5.48047 28.435 5.63787 28.5202 5.94611L30.6648 12.9077L32.5536 5.94611C32.6388 5.63459 32.829 5.48047 33.1274 5.48047H35.4195C35.6031 5.48047 35.7441 5.55589 35.8425 5.70345C35.9409 5.85101 35.954 6.01825 35.8851 6.20188L32.7241 15.3507C32.6257 15.6622 32.4257 15.8163 32.1305 15.8163H32.1273Z"
      fill="#343C43" />
    <path
      d="M37.6361 14.5842C36.6097 13.5644 36.0981 12.2495 36.0981 10.6362C36.0981 9.02283 36.6097 7.71118 37.6361 6.69792C38.6624 5.68795 39.8757 5.17969 41.2759 5.17969C41.9416 5.17969 42.5384 5.31085 43.0696 5.57318C43.6008 5.83551 43.9943 6.16998 44.2468 6.57988V5.94373C44.2468 5.81584 44.2927 5.70763 44.3845 5.61581C44.4763 5.524 44.578 5.47809 44.6927 5.47809H46.8373C46.9652 5.47809 47.0701 5.524 47.1554 5.61581C47.2406 5.70763 47.2833 5.81584 47.2833 5.94373V15.3679C47.2833 15.4958 47.2406 15.6008 47.1554 15.686C47.0701 15.7713 46.9652 15.8139 46.8373 15.8139H44.6927C44.578 15.8139 44.4763 15.7713 44.3845 15.686C44.2927 15.6008 44.2468 15.4958 44.2468 15.3679V14.7088C43.991 15.1187 43.6008 15.4565 43.0696 15.7155C42.5384 15.9779 41.935 16.109 41.2562 16.109C39.8691 16.109 38.6624 15.6008 37.6361 14.581V14.5842ZM39.9151 8.79985C39.433 9.31795 39.1936 9.93443 39.1936 10.6558C39.1936 11.3772 39.433 11.997 39.9151 12.5118C40.3971 13.0299 40.9972 13.2857 41.7186 13.2857C42.44 13.2857 43.0401 13.0266 43.5221 12.5118C44.0041 11.997 44.2435 11.3772 44.2435 10.6558C44.2435 9.93443 44.0041 9.31467 43.5221 8.79985C43.0401 8.28502 42.44 8.02597 41.7186 8.02597C40.9972 8.02597 40.3938 8.28502 39.9151 8.79985Z"
      fill="#343C43" />
    <path
      d="M51.6315 5.9016V11.2302C51.6315 11.9385 51.8086 12.4959 52.1627 12.9058C52.5169 13.3157 53.0415 13.5223 53.7334 13.5223C54.4253 13.5223 54.9401 13.319 55.3139 12.9058C55.6878 12.4959 55.878 11.9516 55.878 11.2728V5.9016C55.878 5.78683 55.9239 5.68845 56.0157 5.60319C56.1075 5.51794 56.2092 5.47531 56.3239 5.47531H58.4685C58.6095 5.47531 58.7242 5.52122 58.8095 5.61303C58.8948 5.70485 58.9374 5.81306 58.9374 5.94094V15.3652C58.9374 15.4931 58.8948 15.598 58.8095 15.6832C58.7242 15.7685 58.6128 15.8111 58.4685 15.8111H56.3239C56.196 15.8111 56.0911 15.7718 56.0058 15.6931C55.9206 15.6144 55.878 15.5127 55.878 15.3848V14.7257C55.1139 15.6472 54.081 16.1062 52.7792 16.1062C51.4774 16.1062 50.4707 15.7062 49.7132 14.9061C48.9557 14.106 48.5786 13.0501 48.5786 11.7319V5.89504C48.5786 5.78027 48.6278 5.68189 48.7262 5.59664C48.8246 5.51138 48.9295 5.46875 49.0442 5.46875H51.1658C51.2937 5.46875 51.4019 5.51138 51.4938 5.59664C51.5856 5.68189 51.6315 5.78027 51.6315 5.89504V5.9016Z"
      fill="#343C43" />
    <path
      d="M62.9872 15.8148C62.0658 15.8148 61.387 15.582 60.9509 15.113C60.5115 14.6474 60.2917 14.0178 60.2917 13.2243V1.42267C60.2917 1.29478 60.3344 1.18657 60.4196 1.09475C60.5049 1.00294 60.6164 0.957031 60.7607 0.957031H62.8823C63.0233 0.957031 63.138 1.00294 63.2233 1.09475C63.3085 1.18657 63.3512 1.29478 63.3512 1.42267V12.6078C63.3512 12.8045 63.4069 12.9652 63.5217 13.0865C63.6332 13.2079 63.7906 13.2669 63.9873 13.2669H64.6464C64.9448 13.2669 65.0924 13.4144 65.0924 13.7129V15.2409C65.0924 15.6246 64.8956 15.8148 64.4989 15.8148H62.9905H62.9872Z"
      fill="#343C43" />
    <path
      d="M66.722 12.7378V8.04861H65.3644C65.2365 8.04861 65.1316 8.00271 65.0463 7.91089C64.9611 7.81907 64.9185 7.71086 64.9185 7.58298V5.94997C64.9185 5.82208 64.9611 5.71387 65.0463 5.62206C65.1316 5.53024 65.2365 5.48433 65.3644 5.48433H66.722V2.74626C66.722 2.60526 66.7679 2.49049 66.8597 2.40523C66.9515 2.31997 67.0597 2.27734 67.1876 2.27734H69.3518C69.4666 2.27734 69.5683 2.31997 69.6601 2.40523C69.7519 2.49049 69.7978 2.60198 69.7978 2.74626V5.48433H72.7064C72.8343 5.48433 72.9458 5.53024 73.0474 5.62206C73.1458 5.71387 73.195 5.82208 73.195 5.94997V7.58298C73.195 7.69775 73.1458 7.80268 73.0474 7.90105C72.949 7.99943 72.8343 8.04861 72.7064 8.04861H69.7978V12.0164C69.7978 12.4689 69.9027 12.7804 70.1159 12.9509C70.329 13.1214 70.5684 13.2067 70.8373 13.2067C71.1193 13.2067 71.4308 13.1083 71.7718 12.9083C72.1555 12.6689 72.4441 12.6951 72.6408 12.9935L73.3852 14.1806C73.5557 14.4495 73.5327 14.7052 73.3229 14.9446C72.6146 15.6792 71.5948 16.0497 70.2667 16.0497C69.2764 16.0497 68.437 15.7742 67.7516 15.2234C67.0663 14.6725 66.722 13.8428 66.722 12.741V12.7378Z"
      fill="#343C43" />
    <path
      d="M15.2266 0H4.43496C2.26089 0 0.5 1.76089 0.5 3.93496V14.7266C0.5 16.9006 2.26089 18.6615 4.43496 18.6615H15.2266C17.4006 18.6615 19.1615 16.9006 19.1615 14.7266V3.93496C19.1615 1.76089 17.4006 0 15.2266 0ZM15.079 12.2312L12.1442 14.6118C11.9114 14.8086 11.5507 14.6807 11.4949 14.379L10.8161 11.8934C10.7702 11.6934 10.8489 11.4868 11.0096 11.3589C11.4425 11.0113 11.7179 10.4801 11.7179 9.8833C11.7179 8.44048 10.098 7.37476 8.5765 8.40113C8.48468 8.46344 8.40598 8.54214 8.34368 8.63723C7.63539 9.68983 7.92723 10.7883 8.65192 11.3655C8.8126 11.4934 8.88474 11.6967 8.84211 11.8967L8.22891 14.3823C8.17317 14.6839 7.81246 14.8118 7.57964 14.6151L4.57924 12.2344C4.47431 12.1262 4.41856 11.9787 4.4284 11.8278L4.77271 6.69271C4.78582 6.49268 4.91371 6.31561 5.09734 6.23691L9.41924 4.03661C9.68157 3.9284 9.97341 3.9284 10.2357 4.03661L14.5576 6.23691C14.7445 6.31561 14.8691 6.49268 14.8855 6.69271L15.2299 11.8278C15.2397 11.9787 15.1839 12.1262 15.079 12.2344V12.2312Z"
      fill="#343C43" />
  </g>
  <defs>
    <clipPath id="clip0_9910_9664">
      <rect width="73" height="18.6615" fill="white" transform="translate(0.5)" />
    </clipPath>
  </defs>
</svg>
`,Lw={height:"50px",width:"auto",borderRadius:"3px",padding:"10px",locale:"en",type:"pay"},OE=function(t){return t&&T0(t)==="object"?Object.keys(Lw).reduce((function(e,r){return vs(vs({},e),{},YL({},r,t[r]||Lw[r]))}),{}):Lw},mZ=`
  .pre-checkout-modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.75);
    transition: all 0.2s ease;
  }

  .pre-checkout-modal.show {
    display: block;
  }

  .pre-checkout-modal__content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    margin-left: auto;
    margin-right: auto;
    background-color: #fefefe;
    padding: 20px;
    padding-bottom: max(30px, env(safe-area-inset-bottom));
    width: 100%;
    border-radius: 6px 6px 0 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    max-width: 350px;

    box-sizing: border-box;
    transform: translateY(238px);
    transition: transform 0.3s cubic-bezier(.16,.81,.32,1);
  }

  .modal-wrapper {
    width: 100%;
  }

  .payment-info {
    position: relative;
    padding-bottom: 15px;
    border-bottom: solid 1px whitesmoke;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    width: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .customer-email {
    color: #737373;
    font-size: 13px;
    line-height: 16px;
  }

  .customer-info {
    flex: 1;
    text-align: right;
  }

  .merchant-logo {
    display: flex;
    align-items: center;
    height: 30px;
  }
  .transaction-amount {
    margin-top: 5px;
    font-size: 13px;
    line-height: 16px;
    color: #737373;
  }

  .amount {
    color: #29b263;
    font-weight: bold;
  }

  @media only screen and (min-width: 500px) {
    .pre-checkout-modal__content {
      bottom: 0;
      top: 0;
      margin: auto;
      border-radius: 6px;
      height: fit-content;
    }
  }

  .pre-checkout-modal__content.show {
    transform: translateY(0);
    margin: 0 auto;
    margin-top: 100px;
  }

  .pre-checkout-modal__content > * {
    margin-top: 0;
    margin-bottom: 40px;
  }
  .pre-checkout-modal__content > *:last-child {
    margin-bottom: 0;
  }

  .pre-checkout-modal__content svg {
    margin: auto;
    width: 100%;
  }

  #inline-button-wordmark--white {
    position: absolute;
    bottom: -50px;
    margin: auto;
    left: 0;
    right: 0;
    width: fit-content;
  }

  #inline-button-wordmark--grey {
    display: none;
  }

  .pre-checkout-modal__content #apple-pay-mark--light {
    margin-bottom: 16px;
  }

  .pre-checkout-modal p {
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    color: #4E4E4E;
    line-height: 140%;
    font-size: 14px;
    font-weight: 500;
    margin: 0;
    padding: 0 20px;
    text-align: center;
    letter-spacing: -0.3px;
  }

  .pre-checkout-modal button {
    height: 42px;
    width: 100%;
    
    box-sizing: border-box;
    border-radius: 3px;
    font-size: 14px;
    line-height: 24px;
    cursor: pointer;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu",
      "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  }

  .pre-checkout-modal .open-paystack-pop-button {
    background: #FAFAFA;
    border: 1px solid #F2F3F3;
    color: #4E4E4E;
    font-weight: 500;
  }

  .pre-checkout-modal .open-paystack-pop-button:hover, 
  .pre-checkout-modal .open-paystack-pop-button:active, 
  .pre-checkout-modal .open-paystack-pop-button:focus {
    background: #F2F3F3;
  }

  .pre-checkout-modal .pay-with-vault-button {
    font-weight: 700;
    background: #44b669;
    background: linear-gradient(to bottom, #44b669 0%, #40ad57 100%);
    border: solid 1px #49a861;
    text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);
    outline: none;
    color: white;
    transition: all 300ms;
  }

  .pre-checkout-modal .vault-instruction {
    color: #2f3d4d;
    font-size: 14px;
    letter-spacing: normal;
    line-height: 1.4;
    margin: 0 auto 24px;
    padding: 0;
  }
  .vault-logo-container {
    width: 74px;
    height: 20px;
    margin: 0 auto 24px
  }
  .vault-logo-container img {
    height: 100%;
    width: 100%;
    border-radius: 8px;
  }
  .vault-divider {
    margin-bottom: 16px;
    margin-top: 24px;
    position: relative;
  }
  .vault-divider__container {
    align-items: center;
    bottom: 0;
    display: flex;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
  }
  .vault-divider__line {
    border: 1px dashed #ccced0;
    width: 100%;
  }
  .vault-divider__text-container {
    display: flex;
    justify-content: center;
    position: relative;
  }
  .vault-divider__text {
    background-color: #fff;
    color: #999da1;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: -.3px;
    line-height: 19.6px;
    margin-bottom: 2px;
    padding: 0 8px;
  }

  #payment-request-button {
    width: 100%;
    height: fit-content;
    margin: 24px 0 16px 0;
  }

  #paystackpop-button {
    padding: 0 16px;
  }

  #apple-pay-close-button {
    position: absolute;
    text-align: center;
    top: 0;
    right: -26px;
    height: 16px;
    width: 16px;
    padding: 0;
    display: inline-block;
    z-index: 3;
    border-radius: 50%;
    background: transparent;
    transition: all 300ms;
    outline: none;
    cursor: pointer;
    border: none;
  }

  #apple-pay-close-button svg {
    width: initial;
  }
  
  #apple-pay-close-button:hover {
    background-color: #e22b28;
  }

  @media only screen and (max-width: 500px) {
    .pre-checkout-modal__content {
      max-width: 500px;
      border-radius: 0;
      padding-bottom: 0;
    }

    .modal-wrapper {
      padding: 0;
    }

    .vault-logo-container {
      width: 74px;
      height: 20px;
    }

    #inline-button-wordmark--white {
      display: none
    }
    
    #inline-button-wordmark--grey {
      display: block;
      width: 100%;
      margin: 16px 0;
      height: 13px;
    }

    #apple-pay-close-button {
      display: none;
    }
  }
`,ME=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Number(parseFloat(t/100).toFixed(2))},VE={headers:{accept:"application/json, text/plain, */*","accept-language":"en-GB,en-US;q=0.9,en;q=0.8","content-type":"application/x-www-form-urlencoded","sec-ch-ua-mobile":"?0","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"cross-site"},referrerPolicy:"no-referrer-when-downgrade",method:"POST",mode:"cors",credentials:"omit"};function BE(t){return Object.keys(t).reduce((function(e,r){var n=encodeURIComponent(r),i=encodeURIComponent(t[r]),s="".concat(n,"=").concat(i);return[].concat(XL(e),[s])}),[]).join("&")}var gZ=function(t){return{biannually:"BIANNUAL PLAN",annually:"ANNUAL PLAN"}[t]||"".concat(t.toUpperCase()," PLAN")},tF=function(){try{return window.location&&window.location.protocol==="https:"&&window.ApplePaySession&&window.ApplePaySession.supportsVersion(sl.applePayVersion)}catch{return!1}},U_=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return tF()&&t.includes("apple_pay")};function xZ(){var t=0;return Array.from(document.querySelectorAll("body *")).forEach((function(e){var r=window.getComputedStyle(e),n=parseFloat(r.zIndex);!Number.isNaN(n)&&n>t&&(t=n)})),t}function Fw(t){var e=document.createElement("iframe");return e.setAttribute("frameBorder","0"),e.setAttribute("allowtransparency","true"),e.id=t,e.style.display="none",e}function ey(t){return t.querySelector("apple-pay-button")||t.querySelector("#apple-pay-button")}function uv(t){return document.querySelector("#".concat(t))}function UE(t,e,r){var n=e.channels,i=n===void 0?[]:n,s=e.styles,a=s===void 0?{}:s,o={applePay:!1};return new Promise((function(l,c){if(t)if(U_(i)){if(ey(t))return o.applePay=!0,void l(o);(function(d,p){var g=p.container,m=p.integrity;return new Promise((function(y,w){var _=document.createElement("script");_.src=d,_.crossOrigin="anonymous",m&&(_.integrity=m),_.addEventListener("load",(function(){y(!0)})),_.addEventListener("error",(function(){_.remove(),w(!1)})),g?g.appendChild(_):document.head.appendChild(_)}))})("https://applepay.cdn-apple.com/jsapi/v1.1.0/apple-pay-sdk.js",{container:t,integrity:"sha384-z/6BVHCcSypLSykOVpaT1PQWHOOgU45uOOlMkgi/bElX4yFqmChNMb7qiv80wFav"}).then((function(){if(r&&r!==1077497&&window&&!Array.isArray(window.webpackJsonp))throw new Error("Incorrect data type for 'webpackJsonp', expected array, got ".concat(T0(window.webpackJsonp),". Switching to fallback apple pay button"));(function(d,p){var g,m,y,w,_,S=p.styles,P=p.theme,A=document.createElement("style"),V=(m=(g=S).height,y=g.width,w=g.borderRadius,_=g.padding,`
  apple-pay-button {
    --apple-pay-button-width: `.concat(y,`;
    --apple-pay-button-height: `).concat(m,`;
    --apple-pay-button-border-radius: `).concat(w,`;
    --apple-pay-button-padding: `).concat(_,`;
    --apple-pay-button-box-sizing: border-box;
    width: `).concat(y,`;
  }
`));A.type="text/css",A.styleSheet?A.styleSheet.cssText=V:A.appendChild(document.createTextNode(V)),d.appendChild(A);var W=document.createElement("apple-pay-button");W.setAttribute("buttonstyle",P==="light"?"white":"black"),W.setAttribute("type",S.type),W.setAttribute("locale",S.locale),d.appendChild(W)})(t,{styles:OE(a.applePay),theme:a.theme}),o.applePay=!0,l(o)})).catch((function(){(function(d,p){var g,m,y,w,_,S,P,A=p.styles,V=p.theme,W=document.createElement("style"),K=(m=(g=A).height,y=g.width,w=g.borderRadius,_=g.padding,S=g.type,P=g.locale,`
  @supports (-webkit-appearance: -apple-pay-button) { 
    .apple-pay-button {
        display: inline-block;
        -webkit-appearance: -apple-pay-button;
        width: `.concat(y,`;
        height: `).concat(m,`;
        border-radius: `).concat(w,`;
        padding: `).concat(_,`;
        -apple-pay-button-type: `).concat(S,`;
        -webkit-locale: `).concat(P,`;
    }
    .apple-pay-button-black {
        -apple-pay-button-style: black;
    }
    .apple-pay-button-white {
        -apple-pay-button-style: white;
    }
    .apple-pay-button-white-with-line {
        -apple-pay-button-style: white-outline;
    }
  }

  @supports not (-webkit-appearance: -apple-pay-button) {
    .apple-pay-button {
        display: inline-block;
        background-size: 100% 60%;
        background-repeat: no-repeat;
        background-position: 50% 50%;
        border-radius: 5px;
        padding: 0px;
        box-sizing: border-box;
        min-width: 200px;
        min-height: 32px;
        max-height: 64px;
    }
    .apple-pay-button-black {
        background-image: -webkit-named-image(apple-pay-logo-white);
        background-color: black;
    }
    .apple-pay-button-white {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
    }
    .apple-pay-button-white-with-line {
        background-image: -webkit-named-image(apple-pay-logo-black);
        background-color: white;
        border: .5px solid black;
    }
  }
`));W.type="text/css",W.styleSheet?W.styleSheet.cssText=K:W.appendChild(document.createTextNode(K)),d.appendChild(W);var j=document.createElement("button");j.classList.add("apple-pay-button",V==="light"?"apple-pay-button-white":"apple-pay-button-black"),j.id="apple-pay-button";var T=document.createElement("span");T.classList.add("logo"),j.appendChild(T),d.appendChild(j)})(t,{styles:OE(a.applePay),theme:a.theme}),o.applePay=!0,l(o)}))}else c("No wallet payment method is available on this device");else c("Container to mount elements was not provided")}))}function vZ(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var rF="payment-request-button",nF="paystackpop-button",iF="pay-with-vault-button";function sF(t){var e=document.createElement("button");return e.id=nF,e.className="open-paystack-pop-button",e.innerText=t,e}function zE(t){return t.querySelector("#".concat(nF))}function aF(){var t=document.createElement("div");return t.id=rF,t}function Dw(t){return t.querySelector("#".concat(rF))}function yZ(){var t=document.createElement("button");return t.className="pay-with-vault-button",t.id=iF,t.innerText="Pay with Vault",t}function wZ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=document.createElement("div");r.className="vault-logo-container",r.innerHTML=pZ,t.appendChild(r);var n=document.createElement("p");n.id="instruction",n.className="vault-instruction",n.innerHTML="Access your saved cards and bank details for faster, more secure payments",t.appendChild(n);var i=yZ();t.appendChild(i);var s=document.createElement("div");if(s.className="vault-divider",s.innerHTML='<div id="vault-divider" class="vault-divider__container"><div class="vault-divider__line"></div></div><div class="vault-divider__text-container"><span class="vault-divider__text">or</span></div>',t.appendChild(s),e.canPayWithApplePay){var a=aF();t.appendChild(a)}if(e.hasOtherPaymentMethods){var o=sF("Use other payment methods");t.appendChild(o)}}function _Z(t,e){var r=e.hasOtherPaymentMethods,n=document.createElement("div");n.innerHTML=`
  <svg width="51" height="32" viewBox="0 0 51 32" fill="none" xmlns="http://www.w3.org/2000/svg" id="apple-pay-mark--light">
    <g>
    <path d="M46.0162 0H4.98386C4.81297 0 4.64177 0 4.47118 0.000996555C4.32698 0.00202331 4.18311 0.00362383 4.03925 0.00754966C3.72548 0.0160355 3.40903 0.0345472 3.09919 0.0902335C2.7844 0.146886 2.49148 0.239294 2.20571 0.384791C1.92477 0.52766 1.66757 0.71453 1.44468 0.937516C1.22169 1.1605 1.03482 1.41728 0.891977 1.69852C0.74645 1.98429 0.653982 2.27731 0.597722 2.59234C0.541737 2.90227 0.523101 3.21866 0.514645 3.53209C0.51078 3.67596 0.509122 3.81982 0.508183 3.96366C0.507186 4.13461 0.507519 4.30545 0.507519 4.4767V27.5236C0.507519 27.6949 0.507186 27.8654 0.508183 28.0367C0.509122 28.1805 0.51078 28.3244 0.514645 28.4683C0.523101 28.7814 0.541737 29.0978 0.597722 29.4077C0.653982 29.7228 0.74645 30.0157 0.891977 30.3015C1.03482 30.5827 1.22169 30.8399 1.44468 31.0625C1.66757 31.2859 1.92477 31.4727 2.20571 31.6152C2.49148 31.7611 2.7844 31.8535 3.09919 31.9102C3.40903 31.9655 3.72548 31.9843 4.03925 31.9928C4.18311 31.9961 4.32698 31.998 4.47118 31.9987C4.64177 32 4.81297 32 4.98386 32H46.0162C46.1868 32 46.358 32 46.5286 31.9987C46.6724 31.998 46.8163 31.9961 46.9608 31.9928C47.2739 31.9843 47.5903 31.9655 47.9009 31.9102C48.2153 31.8535 48.5083 31.7611 48.7941 31.6152C49.0753 31.4727 49.3317 31.2859 49.5551 31.0625C49.7777 30.8399 49.9646 30.5827 50.1078 30.3015C50.2537 30.0157 50.346 29.7228 50.402 29.4077C50.458 29.0978 50.4762 28.7814 50.4847 28.4683C50.4886 28.3244 50.4906 28.1805 50.4912 28.0367C50.4925 27.8654 50.4926 27.6949 50.4926 27.5236V4.4767C50.4926 4.30545 50.4925 4.13461 50.4912 3.96366C50.4906 3.81982 50.4886 3.67596 50.4847 3.53209C50.4762 3.21866 50.458 2.90227 50.402 2.59234C50.346 2.27731 50.2537 1.98429 50.1078 1.69852C49.9646 1.41728 49.7777 1.1605 49.5551 0.937516C49.3317 0.71453 49.0753 0.52766 48.7941 0.384791C48.5083 0.239294 48.2153 0.146886 47.9009 0.0902335C47.5903 0.0345472 47.2739 0.0160355 46.9608 0.00754966C46.8163 0.00362383 46.6724 0.00202331 46.5286 0.000996555C46.358 0 46.1868 0 46.0162 0Z" fill="black"/>
    <path d="M46.0162 1.06662L46.521 1.06759C46.6577 1.06855 46.7945 1.07003 46.932 1.07378C47.1711 1.08024 47.4509 1.09319 47.7117 1.13994C47.9384 1.18077 48.1285 1.24286 48.311 1.33575C48.4911 1.42728 48.6562 1.54723 48.8003 1.69113C48.9449 1.83599 49.065 2.0013 49.1578 2.18343C49.2501 2.36447 49.3118 2.55369 49.3524 2.78205C49.3991 3.04001 49.412 3.32055 49.4185 3.56121C49.4222 3.69704 49.424 3.83287 49.4247 3.97194C49.426 4.14012 49.4259 4.3082 49.4259 4.47671V27.5236C49.4259 27.6921 49.426 27.8599 49.4246 28.0317C49.424 28.1675 49.4222 28.3033 49.4185 28.4394C49.4119 28.6797 49.3991 28.9601 49.3519 29.2211C49.3118 29.4463 49.2502 29.6356 49.1573 29.8175C49.0648 29.9992 48.9449 30.1643 48.8009 30.3083C48.656 30.4532 48.4915 30.5728 48.3092 30.6652C48.1281 30.7576 47.9383 30.8197 47.7138 30.8601C47.4477 30.9075 47.1562 30.9205 46.9367 30.9265C46.7986 30.9296 46.6611 30.9315 46.5203 30.9321C46.3525 30.9334 46.1841 30.9334 46.0162 30.9334H4.98386C4.98162 30.9334 4.97945 30.9334 4.97718 30.9334C4.81127 30.9334 4.64503 30.9334 4.4761 30.9321C4.33836 30.9315 4.20093 30.9296 4.06805 30.9266C3.8435 30.9205 3.55181 30.9075 3.2879 30.8604C3.06151 30.8197 2.87171 30.7576 2.68822 30.664C2.50766 30.5724 2.34329 30.453 2.19831 30.3077C2.05444 30.1641 1.93488 29.9995 1.84245 29.8176C1.74992 29.6358 1.68801 29.446 1.64731 29.218C1.60025 28.9576 1.58733 28.6783 1.58087 28.4396C1.57718 28.303 1.57564 28.1664 1.57476 28.0305L1.5741 27.6295L1.57413 27.5236V4.47671L1.5741 4.37083L1.57473 3.97067C1.57564 3.83402 1.57718 3.6974 1.58087 3.56088C1.58733 3.32197 1.60025 3.04258 1.64769 2.77991C1.68804 2.55405 1.74992 2.36422 1.84293 2.18155C1.93464 2.001 2.05441 1.83617 2.19903 1.69158C2.34308 1.54747 2.50799 1.42767 2.6897 1.33527C2.87122 1.24283 3.06138 1.18077 3.28778 1.14003C3.54864 1.09316 3.82861 1.08024 4.06839 1.07375C4.20507 1.07003 4.34174 1.06855 4.4774 1.06762L4.98386 1.06662H46.0162Z" fill="white"/>
    <path d="M14.1531 10.7629C14.5811 10.2276 14.8715 9.50886 14.7949 8.77435C14.1684 8.80551 13.4038 9.18768 12.9612 9.72342C12.5638 10.1822 12.212 10.9311 12.3037 11.6348C13.007 11.6958 13.7097 11.2832 14.1531 10.7629Z" fill="black"/>
    <path d="M14.7869 11.7722C13.7655 11.7114 12.8972 12.3519 12.4094 12.3519C11.9214 12.3519 11.1745 11.8029 10.3667 11.8177C9.31521 11.8331 8.33959 12.4276 7.80602 13.3731C6.70857 15.2646 7.51641 18.0704 8.58362 19.611C9.10188 20.3731 9.72648 21.2123 10.5495 21.1822C11.3271 21.1517 11.6319 20.6787 12.5771 20.6787C13.5216 20.6787 13.7961 21.1822 14.6192 21.1669C15.4729 21.1516 16.0065 20.4044 16.5248 19.6415C17.1193 18.7727 17.3627 17.9338 17.378 17.8877C17.3627 17.8725 15.732 17.2469 15.7169 15.3711C15.7015 13.8004 16.9972 13.0534 17.0581 13.007C16.3265 11.9249 15.1832 11.8029 14.7869 11.7722Z" fill="black"/>
    <path d="M23.68 9.64661C25.8999 9.64661 27.4457 11.1768 27.4457 13.4046C27.4457 15.6404 25.8681 17.1786 23.6244 17.1786H21.1665V21.0872H19.3907V9.64661H23.68V9.64661ZM21.1665 15.688H23.2041C24.7502 15.688 25.6302 14.8556 25.6302 13.4126C25.6302 11.9697 24.7502 11.1451 23.2121 11.1451H21.1665V15.688Z" fill="black"/>
    <path d="M27.9097 18.7167C27.9097 17.2578 29.0276 16.3619 31.0098 16.2509L33.293 16.1162V15.474C33.293 14.5464 32.6666 13.9914 31.6203 13.9914C30.629 13.9914 30.0106 14.467 29.8601 15.2124H28.2428C28.3379 13.7059 29.6222 12.5959 31.6836 12.5959C33.7053 12.5959 34.9976 13.6663 34.9976 15.3392V21.0872H33.3563V19.7156H33.3169C32.8333 20.6433 31.7787 21.2299 30.6847 21.2299C29.0514 21.2299 27.9097 20.2151 27.9097 18.7167ZM33.293 17.9635V17.3055L31.2395 17.4323C30.2167 17.5037 29.6381 17.9556 29.6381 18.6691C29.6381 19.3985 30.2406 19.8742 31.1603 19.8742C32.3574 19.8742 33.293 19.0496 33.293 17.9635Z" fill="black"/>
    <path d="M36.547 24.1556V22.768C36.6736 22.7997 36.959 22.7997 37.1018 22.7997C37.8946 22.7997 38.3228 22.4668 38.5843 21.6105C38.5843 21.5946 38.7351 21.1031 38.7351 21.0952L35.7224 12.7466H37.5774L39.6866 19.5333H39.7181L41.8273 12.7466H43.6349L40.5109 21.5232C39.7976 23.5451 38.973 24.1952 37.2447 24.1952C37.1018 24.1952 36.6736 24.1793 36.547 24.1556Z" fill="black"/>
    </g>
    <defs>
    <clipPath id="clip0">
    <rect width="49.9851" height="32" fill="white" transform="translate(0.507462)"/>
    </clipPath>
    </defs>
  </svg>
`,t.appendChild(n);var i=document.createElement("p");i.id="apple-pay-description",i.innerHTML="Pay with Apple Pay to complete your purchase without filling a form",t.appendChild(i);var s=aF();if(t.appendChild(s),r){var a=sF("More payment options");t.appendChild(a)}}function $E(t){return t.some((function(e){return e!=="apple_pay"}))}var dv=[{value:"key",required:!0,types:["string"]},{value:"amount",required:!0,or:["plan","planCode"],types:["string","number"]},{value:"currency",required:!1,types:["string"]},{value:"email",required:!0,or:["customerCode"],types:["string"]},{value:"label",required:!1,types:["string"]},{value:"firstName",required:!1,types:["string"]},{value:"lastName",required:!1,types:["string"]},{value:"reference",required:!1,types:["string"]},{value:"phone",required:!1,types:["string"]},{value:"customerCode",required:!1,override:"email",types:["string"]},{value:"channels",required:!1,types:["array"]},{value:"paymentRequest",required:!1,types:["string","number"]},{value:"paymentPage",required:!1,types:["string"]},{value:"hash",required:!1,types:["string"]},{value:"container",required:!1,types:["string"]},{value:"metadata",required:!1,types:["object"]},{value:"subaccountCode",required:!1,types:["string"]},{value:"bearer",required:!1,types:["string"]},{value:"transactionCharge",required:!1,types:["string","number"]},{value:"planCode",required:!1,override:"amount",types:["string"]},{value:"subscriptionCount",required:!1,types:["number"]},{value:"planInterval",required:!1,types:["string"]},{value:"subscriptionLimit",required:!1,types:["number"]},{value:"subscriptionStartDate",required:!1,types:["string"]},{value:"accessCode",required:!1,types:["string"]},{value:"onError",required:!1,types:["function"]},{value:"onLoad",required:!1,types:["function"]},{value:"onSuccess",required:!1,types:["function"]},{value:"onCancel",required:!1,types:["function"]},{value:"callback",required:!1,types:["function"]},{value:"onClose",required:!1,types:["function"]},{value:"onBankTransferConfirmationPending",required:!1,types:["function"]},{value:"firstname",required:!1,types:["string"]},{value:"lastname",required:!1,types:["string"]},{value:"customer_code",required:!1,types:["string"]},{value:"payment_request",required:!1,types:["string","number"]},{value:"subaccount",required:!1,types:["string"]},{value:"transaction_charge",required:!1,types:["number","string"]},{value:"plan",required:!1,types:["string"]},{value:"quantity",required:!1,types:["number"]},{value:"interval",required:!1,types:["string"]},{value:"invoice_limit",required:!1,types:["number","string"]},{value:"start_date",required:!1,types:["string"]},{value:"payment_page",required:!1,types:["number","string"]},{value:"order_id",required:!1,types:["number"]},{value:"ref",required:!1,types:["string"]},{value:"card",required:!1,types:["string"]},{value:"bank",required:!1,types:["string"]},{value:"split",required:!1,types:["object"]},{value:"split_code",required:!1,types:["string"]},{value:"transaction_type",required:!1,types:["string"]},{value:"subscription",required:!1,types:["number"]},{value:"language",required:!1,types:["string"]},{value:"connect_account",required:!1,types:["string"]},{value:"connect_split",required:!1,types:["array"]}];function bZ(t){return t?.length>500?t.split("?")[0]:t}function kZ(t){var e,r,n,i,s=vs({},t);return s.metadata=t.metadata||{},s.metadata.referrer=(e=window.location,r=e.href,n=r===void 0?"":r,i=e.ancestorOrigins,[n].concat(XL(i===void 0?[]:i)).map(bZ).join(",")),s.metadata=JSON.stringify(s.metadata),s.mode="popup",t.split&&typeof t.split!="string"&&(s.split=JSON.stringify(s.split)),s.card!==void 0&&["false",!1].indexOf(s.card)>-1&&(s.channels=["bank"],delete s.card),s.bank!==void 0&&["false",!1].indexOf(s.bank)>-1&&(s.channels=["card"],delete s.bank),[{to:"firstname",from:"firstName"},{to:"lastname",from:"lastName"},{to:"customer_code",from:"customerCode"},{to:"payment_request",from:"paymentRequest"},{to:"subaccount",from:"subaccountCode"},{to:"transaction_charge",from:"transactionCharge"},{to:"plan",from:"planCode"},{to:"quantity",from:"subscriptionCount"},{to:"interval",from:"planInterval"},{to:"invoice_limit",from:"subscriptionLimit"},{to:"start_date",from:"subscriptionStartDate"},{to:"ref",from:"reference"}].forEach((function(a){s[a.from]&&(s[a.to]=s[a.from],delete s[a.from])})),Object.values(t).forEach((function(a,o){if(typeof a=="function"){var l=Object.keys(t)[o];delete s[l]}})),s}var SZ=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"],oF=window&&window.navigator&&(window.navigator.platform||window.navigator.userAgentData&&window.navigator.userAgentData.platform),lF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.platform,r=t.userAgent,n=r===void 0?window&&window.navigator&&window.navigator.userAgent:r,i=e||oF;return SZ.includes(i)||n.includes("Mac")&&"ontouchend"in document},EZ=function(t,e,r){var n="".concat(sl.paystackApiUrl,"transaction/update_log/").concat(t),i={Authorization:"Bearer ".concat(e)};return fetch(n,{method:"POST",body:JSON.stringify({payload:JSON.stringify(r)}),headers:i})},CZ=function(t,e){var r="".concat(sl.paystackApiUrl,"transaction/set_ip/").concat(t),n={Authorization:"Bearer ".concat(e)};return fetch(r,{method:"POST",headers:n})},NZ={initializeLog:function(t){var e=t||{},r=e.attempts,n=e.authentication,i=e.errors,s=e.history;this.log={start_time:Math.round(Date.now()/1e3),time_spent:0,attempts:r||0,authentication:n,errors:i||0,success:!1,mobile:lF(),input:[],history:s||[]}},getTimeSpent:function(){var t=Math.round(Date.now()/1e3);return this.log.time_spent=t-this.log.start_time,this.log.time_spent},logAPIResponse:function(t,e){switch(t.status){case"success":return this.logApiSuccess(e);case"failed":return this.logApiError(t.message);default:return!1}},logValidationResponse:function(t){return this.log.history.push({type:"action",message:t,time:this.getTimeSpent()}),this.saveLog()},logAttempt:function(t){var e="Attempted to pay";return t&&(e+=" with ".concat(t)),this.log.attempts+=1,this.log.history.push({type:"action",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiError:function(t){var e="Error";return t&&(e+=": ".concat(t)),this.log.errors+=1,this.log.history.push({type:"error",message:e,time:this.getTimeSpent()}),this.saveLog()},logApiSuccess:function(t){var e="Successfully paid";return t&&(e+=" with ".concat(t)),this.log.success=!0,this.log.history.push({type:"success",message:e,time:this.getTimeSpent()}),this.saveLog()},saveLog:function(){try{if(this.response)return EZ(this.id,this.response.merchant_key,this.log)}catch{}},saveIpAddress:function(){try{if(this.response)return CZ(this.id,this.response.merchant_key)}catch{}}},TZ=["language","connect_account"],AZ={requestInline:function(){var t=this,e=this.urlParameters,r=e.language,n=e.connect_account,i=B_(e,TZ),s=vs({"Content-Type":"application/json"},r&&{"Accept-Language":r});return(this.accessCode?fetch(new URL("transaction/verify_access_code/".concat(this.accessCode),sl.paystackApiUrl).toString(),{headers:s}):fetch(new URL("/checkout/request_inline",sl.paystackApiUrl).toString(),{method:"POST",body:JSON.stringify(i),headers:vs(vs({},s),n&&{"x-connect-account":n})})).then((function(a){return a.json()})).then((function(a){if(a.status===!1)throw new Error(a.message);return t.response=a.data,t.id=a.data.id,t.status=a.data.transaction_status,t.accessCode=a.data.access_code,t.log=null,Object.assign(t,NZ),t.initializeLog(a.data.log),t.saveIpAddress(),a.data}))}},Ow=(function(){function t(e){GL(this,t),(function(c){function d(y,w){this.message=y,this.issues=w||[]}if(!c||T0(c)!=="object")throw new d("Transaction parameters should be a non-empty object");var p=c;if("accessCode"in p)return{accessCode:p.accessCode};Object.keys(p).forEach((function(y){dv.find((function(w){return w.value===y}))!==void 0||delete p[y]}));var g=Object.keys(p),m=[];if(dv.filter((function(y){return y.required})).forEach((function(y){var w=!p[y.value],_=y.or?y.or.some((function(S){return p[S]})):null;w&&!_&&m.push({message:"Required parameter missing: ".concat(y.value)})})),g.forEach((function(y){var w=p[y],_=dv.find((function(P){return P.value===y})),S=T0(w);S==="object"&&Array.isArray(w)&&(S="array"),_.types.indexOf(S)<=-1&&m.push({message:"Invalid parameter type: ".concat(y),validTypes:_.types})})),g.forEach((function(y){var w=dv.find((function(_){return _.value===y}));w.override&&delete p[w.override]})),m.length)throw new d("Invalid transaction parameters",m)})(e),this.parameters=e,this.urlParameters=kZ(e),this.id=null,this.status=null,this.accessCode=e.accessCode||null,this.authorizationUrl=null,this.errors=[],this.response=null,this.isActive=!0;var r=e.onError,n=e.onLoad,i=e.onSuccess,s=e.onCancel,a=e.callback,o=e.onClose,l=e.onBankTransferConfirmationPending;this.callbacks={onError:r,onLoad:n,onSuccess:i,onCancel:s,onBankTransferConfirmationPending:l},this.deprecatedCallbacks={callback:a,onClose:o},Object.assign(this,AZ)}return KL(t,[{key:"onSetupError",value:function(e){this.logError(e),this.callbacks.onError&&this.callbacks.onError(e)}},{key:"onLoad",value:function(e){var r=e.id,n=e.customer,i=e.accessCode;Object.assign(this,{id:r,customer:n,accessCode:i}),this.authorizationUrl="".concat(sl.checkoutUrl).concat(i),this.callbacks.onLoad&&this.callbacks.onLoad({id:r,customer:n,accessCode:i})}},{key:"onSuccess",value:function(e){this.isActive=!1,this.response=e,this.status=e.status,this.callbacks.onSuccess&&this.callbacks.onSuccess(e),this.deprecatedCallbacks.callback&&this.deprecatedCallbacks.callback(e)}},{key:"setStatus",value:function(e){this.status=e}},{key:"onCancel",value:function(){this.callbacks.onCancel&&this.callbacks.onCancel(),this.deprecatedCallbacks.onClose&&this.deprecatedCallbacks.onClose()}},{key:"cancel",value:function(){this.isActive=!1,this.onCancel()}},{key:"onBankTransferConfirmationPending",value:function(){this.cancel(),this.callbacks.onBankTransferConfirmationPending&&this.callbacks.onBankTransferConfirmationPending()}},{key:"logError",value:function(e){this.errors.push(e)}}]),t})(),Nk=console?console.warn||console.log:function(){};function qE(t,e,r){Nk('"'.concat(t,'" has been deprecated, please use "').concat(e,'". ').concat(r))}var on,IZ=["preload","inlineTransaction","transactionData"],PZ=["container","styles","onElementsMount"];function Mw(t,e){if(!t.length)return null;var r=t.filter((function(n){var i,s,a,o,l=!n.status||n.status==="abandoned",c=(i=n.parameters,s=e,a=Object.keys(i).sort().join("")===Object.keys(s).sort().join(""),o=Object.values(i).sort().join("")===Object.values(s).sort().join(""),a&&o);return l&&c}));return r.length?r[r.length-1]:null}function HE(t){var e=t.checkoutIframe,r=t.urlParameters;e&&r&&e.contentWindow.postMessage({type:"inline:url",path:"newTransaction",params:r},"*")}var RZ="trackCheckoutClosed",WE="trackPaymentError",jZ="trackPaymentAttempt",LZ="trackPaymentCompletion";function Vw(t){throw Nk(t),new Error(t)}var GE,KE,cF=(function(){function t(e){var r,n;GL(this,t),this.id=(function(){for(var i="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<5;a+=1)i+=s.charAt(Math.floor(Math.random()*s.length));return i})(),this.transactions=[],this.isOpen=!1,this.isLoaded=!1,this.isDeprecatedApi=e&&e.isDeprecatedApi,e&&e.isEmbed?this.isEmbed=!0:e&&e.isPaymentRequest&&(e.container&&uv(e.container)||Vw("A container is required to mount the payment request button"),this.paymentRequestContainer=uv(e.container),this.paymentRequestTransaction=null),this.preCheckoutModal=null,this.backgroundIframe=(function(i){var s=Fw("inline-background-".concat(i));s.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  background: rgba(0, 0, 0, 0.75);    
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  transition: opacity 0.3s;
  -webkit-transition: opacity 0.3s;
  visibility: hidden;
  display: none;
`,document.body.appendChild(s);var a=s.contentWindow.document;return a.open(),a.write(`
  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Paystack Popup Loader</title>
    <style>
      .app-loader {
        margin: 200px 0;
        text-align: center;
        color: white;
      }      
      @keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @-webkit-keyframes app-loader__spinner {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      .app-loader__spinner {
        position: relative;
        display: inline-block;
      }
      .app-loader__spinner div {
        left: 95px;
        top: 35px;
        position: absolute;
        -webkit-animation: app-loader__spinner linear 1s infinite;
        animation: app-loader__spinner linear 1s infinite;
        background: white;
        width: 10px;
        height: 30px;
        border-radius: 40%;
        -webkit-transform-origin: 5px 65px;
        transform-origin: 5px 65px;
      }
      .app-loader__spinner div:nth-child(1) {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
        -webkit-animation-delay: -0.916666666666667s;
        animation-delay: -0.916666666666667s;
      }
      .app-loader__spinner div:nth-child(2) {
        -webkit-transform: rotate(30deg);
        transform: rotate(30deg);
        -webkit-animation-delay: -0.833333333333333s;
        animation-delay: -0.833333333333333s;
      }
      .app-loader__spinner div:nth-child(3) {
        -webkit-transform: rotate(60deg);
        transform: rotate(60deg);
        -webkit-animation-delay: -0.75s;
        animation-delay: -0.75s;
      }
      .app-loader__spinner div:nth-child(4) {
        -webkit-transform: rotate(90deg);
        transform: rotate(90deg);
        -webkit-animation-delay: -0.666666666666667s;
        animation-delay: -0.666666666666667s;
      }
      .app-loader__spinner div:nth-child(5) {
        -webkit-transform: rotate(120deg);
        transform: rotate(120deg);
        -webkit-animation-delay: -0.583333333333333s;
        animation-delay: -0.583333333333333s;
      }
      .app-loader__spinner div:nth-child(6) {
        -webkit-transform: rotate(150deg);
        transform: rotate(150deg);
        -webkit-animation-delay: -0.5s;
        animation-delay: -0.5s;
      }
      .app-loader__spinner div:nth-child(7) {
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
        -webkit-animation-delay: -0.416666666666667s;
        animation-delay: -0.416666666666667s;
      }
      .app-loader__spinner div:nth-child(8) {
        -webkit-transform: rotate(210deg);
        transform: rotate(210deg);
        -webkit-animation-delay: -0.333333333333333s;
        animation-delay: -0.333333333333333s;
      }
      .app-loader__spinner div:nth-child(9) {
        -webkit-transform: rotate(240deg);
        transform: rotate(240deg);
        -webkit-animation-delay: -0.25s;
        animation-delay: -0.25s;
      }
      .app-loader__spinner div:nth-child(10) {
        -webkit-transform: rotate(270deg);
        transform: rotate(270deg);
        -webkit-animation-delay: -0.166666666666667s;
        animation-delay: -0.166666666666667s;
      }
      .app-loader__spinner div:nth-child(11) {
        -webkit-transform: rotate(300deg);
        transform: rotate(300deg);
        -webkit-animation-delay: -0.083333333333333s;
        animation-delay: -0.083333333333333s;
      }
      .app-loader__spinner div:nth-child(12) {
        -webkit-transform: rotate(330deg);
        transform: rotate(330deg);
        -webkit-animation-delay: 0s;
        animation-delay: 0s;
      }
      .app-loader__spinner {
        width: 40px;
        height: 40px;
        -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
        transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);
      }
    </style>
  </head>

  <body>
    <div id="app-loader" class="app-loader">
      <div id="spinner" class="app-loader__spinner">
        <div></div><div></div><div></div><div></div><div></div><div></div><div>
        </div><div></div><div></div><div></div><div></div><div></div>
      </div>
    </div>
  </body>

  </html>
`),a.close(),s})(this.id),this.checkoutIframe=(r=this.id,(n=Fw("inline-checkout-".concat(r))).src="".concat(sl.checkoutUrl,"popup"),n.style.cssText=`
  z-index: 999999999999999;
  background: transparent;
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  margin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  position: fixed;
  left: 0;
  top: 0;
  width: 100%;
  visibility: hidden;
  display: none;
  height: 100%;
`,n.setAttribute("allowpaymentrequest","true"),n.setAttribute("allow","payment; clipboard-read; clipboard-write"),document.body.appendChild(n),n),this.registerListeners()}return KL(t,[{key:"registerListeners",value:function(){var e=this;window.addEventListener("message",(function(r){var n="".concat(r.origin,"/")===sl.checkoutUrl,i=e.checkoutIframe&&e.checkoutIframe.contentWindow===r.source,s=e.isEmbed;n||i?e.respondToEvent(r):s&&e.respondToEmbedEvents(r)}))}},{key:"sendAnalyticsEventToCheckout",value:function(e,r){this.checkoutIframe.contentWindow.postMessage({type:"analytics",action:e,params:r},"*")}},{key:"checkout",value:function(e){this.activeTransaction()&&this.activeTransaction().cancel(),on=this;var r=Mw(this.transactions,e)||new Ow(e);return new Promise((function(n,i){r.requestInline().then((function(s){var a=(function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=l.platform,d=l.userAgent,p=d===void 0?window&&window.navigator&&window.navigator.userAgent:d,g=c||oF,m=p&&!!p.match(/Version\/[\d.]+.*Safari/),y=g&&/(Mac)/i.test(g);return lF()||y&&m})()&&U_(s.channels),o=(function(){var l,c,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!((l=d.link_config)===null||l===void 0||!l.enabled||(c=d.link_config)===null||c===void 0||!c.has_payment_instruments)})(s);o||a?(on.preloadTransaction({inlineTransaction:r,transactionData:s}),on.preCheckoutModal=(function(l,c){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},p=document.querySelector("#pre-checkout-modal-".concat(l));if(p){if(zE(p)&&Dw(p))return p;p.remove()}var g=document.createElement("div");g.classList.add("pre-checkout-modal"),g.id="pre-checkout-modal-".concat(l),g.style.zIndex=xZ()+1;var m=document.createElement("div");m.classList.add("pre-checkout-modal__content"),g.appendChild(m);var y=c||{},w=y.merchant_logo,_=y.merchant_name,S=y.email,P=y.amount,A=y.currency,V=y.label,W=y.channels,K=new Intl.NumberFormat("en",{style:"currency",currency:A,currencyDisplay:"code",maximumFractionDigits:2,minimumFractionDigits:0}).format(P/100),j=document.createElement("div");j.classList.add("payment-info"),j.innerHTML='<img class="merchant-logo" src="'.concat(w,'" alt="').concat(_,` Logo">
    <div class="customer-info">
      <div class="customer-email">`).concat(V||S,`</div>
      <div class="transaction-amount">Pay <span class="amount">`).concat(K,`</span></div>
    </div>`),m.appendChild(j),m.innerHTML+=hZ;var T=document.createElement("div");T.classList.add("modal-wrapper"),d.canPayWithVault?wZ(T,{canPayWithApplePay:d.canPayWithApplePay,hasOtherPaymentMethods:$E(W)}):_Z(T,{hasOtherPaymentMethods:$E(W)}),T.innerHTML=T.innerHTML+eF+fZ,m.appendChild(T);var C=document.createElement("style");return C.textContent=mZ,document.body.appendChild(C),document.body.appendChild(g),g})(on.id,s,{canPayWithVault:o,canPayWithApplePay:a}),a?(on.paymentRequestContainer=Dw(on.preCheckoutModal),UE(on.paymentRequestContainer,{channels:s.channels,styles:{applePay:{width:"100%",type:"pay",height:"42px",padding:"15px",borderRadius:"5px"}}},s.merchant_id).then((function(){on.registerPaymentRequestEventListeners()})).catch((function(){o?Dw(on.preCheckoutModal).remove():(on.closePreCheckoutModal(),on.animateCheckoutIn())})).finally((function(){n(r)}))):n(r)):(on.newTransaction({inlineTransaction:r,transactionData:s}),n(r))})).catch((function(s){r.onSetupError({status:!1,message:s.message}),i(s)}))}))}},{key:"openPreCheckoutModal",value:function(){var e;this.registerPreCheckoutModalEventListeners(),e=this.preCheckoutModal,new Promise((function(r,n){try{var i=e.querySelector(".pre-checkout-modal__content");e.classList.add("show"),setTimeout((function(){i.classList.add("show"),r(!0)}),50)}catch(s){n(s)}}))}},{key:"registerPreCheckoutModalEventListeners",value:function(){var e,r=this,n=!1,i=this.activeTransaction();document.addEventListener("touchstart",(function(l){l.preventDefault(),n||(n=!0,e=setTimeout((function(){n=!1}),125))}),!0),document.addEventListener("touchend",(function(l){l.target&&l.target.isSameNode(on.preCheckoutModal)&&n&&(clearTimeout(e),on.closePreCheckoutModal(),i&&i.cancel()),n=!1}),!0);var s=zE(this.preCheckoutModal);s&&(s.onclick=function(){r.closePreCheckoutModal(),r.animateCheckoutIn()});var a=this.preCheckoutModal.querySelector("#".concat(iF));a&&(a.onclick=function(){r.closePreCheckoutModal(),r.animateCheckoutIn(),r.checkoutIframe.contentWindow.postMessage({type:"inline:pay-with-vault"},"*")});var o=(function(l){return l.querySelector("#apple-pay-close-button")})(this.preCheckoutModal);o.onclick=function(){r.sendAnalyticsEventToCheckout(RZ),r.closePreCheckoutModalAndCancelTransaction()}}},{key:"closePreCheckoutModal",value:function(e){var r;this.preCheckoutModal&&(e==="failed"?(r=this.preCheckoutModal)&&(r.querySelector("#apple-pay-mark--light").innerHTML=`<svg width="50" height="30" viewBox="0 0 21 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="error-icon">
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="error" fill-rule="nonzero">
            <path d="M9.14672,0.47855 L0.14829,15.47855 C-0.0403320234,15.7872042 -0.0475647902,16.1736607 0.129375884,16.4891566 C0.306316558,16.8046526 0.639843999,16.9999993 1.00157,17 L19.43546,17 C19.797186,16.9999993 20.1307134,16.8046526 20.3076541,16.4891566 C20.4845948,16.1736607 20.477362,15.7872042 20.28874,15.47855 L10.85328,0.47855 C10.671624,0.181297031 10.3483651,3.00996351e-06 10,3.00996351e-06 C9.6516349,3.00996351e-06 9.32837603,0.181297031 9.14672,0.47855 Z" id="Shape" fill="#FFAA22"></path>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="6" width="2" height="5"></rect>
            <rect id="Rectangle-path" fill="#FFFFFF" x="9" y="12" width="2" height="2"></rect>
        </g>
    </g>
</svg>`,r.querySelector("#apple-pay-description").textContent="An error occurred while paying with Apple Pay. Please try again or use another payment method."):((function(n){n&&(n.querySelector(".pre-checkout-modal__content").classList.remove("show"),n.classList.remove("show"))})(this.preCheckoutModal),this.preCheckoutModal.remove(),this.preCheckoutModal=null))}},{key:"closePreCheckoutModalAndCancelTransaction",value:function(){this.preCheckoutModal&&(this.cancelTransaction(),this.checkoutIframe&&this.checkoutIframe.contentWindow&&this.checkoutIframe.contentWindow.postMessage("close","*"),this.closePreCheckoutModal())}},{key:"newTransaction",value:function(e){var r=e.preload,n=e.inlineTransaction,i=e.transactionData,s=B_(e,IZ),a=this.paymentRequestContainer&&ey(this.paymentRequestContainer);if(this.activeTransaction()&&!a&&this.activeTransaction().cancel(),n&&i)return this.transactions.push(n),this.isDeprecatedApi||this.open({accessCode:i.access_code,language:n.urlParameters.language},r),n;var o=Mw(this.transactions,n?n.parameters:s);if(o)return o.isActive=!0,this.isDeprecatedApi||this.open({accessCode:o.accessCode,language:o.urlParameters.language},r),o;var l=n||new Ow(s),c=l.accessCode?{accessCode:l.accessCode,language:l.urlParameters.language}:l.urlParameters;return this.transactions.push(l),this.isDeprecatedApi||this.open(c,r),l}},{key:"preloadTransaction",value:function(e){var r=this;return this.newTransaction(vs(vs({},e),{},{preload:!0})),function(){return r.animateCheckoutIn()}}},{key:"paymentRequest",value:function(e){var r=e.container,n=e.styles,i=e.onElementsMount,s=B_(e,PZ);return on=this,new Promise((function(a,o){var l=document.querySelector("#".concat(e.loadPaystackCheckoutButton));if(tF()){on.activeTransaction()&&on.activeTransaction().cancel(),r&&uv(r)||Vw("A container is required to mount the payment request button"),on.paymentRequestContainer=uv(r);var c=Mw(on.transactions,s),d=c||new Ow(s);d.requestInline().then((function(m){UE(on.paymentRequestContainer,{channels:m.channels,styles:n},m.merchant_id).then((function(y){i&&i(y)})).catch((function(){i&&i(null)})).finally((function(){if(c?d.isActive=!0:on.transactions.push(d),on.registerPaymentRequestEventListeners(),l){var y=on.preloadTransaction({inlineTransaction:d,transactionData:m});l.onclick=y}a(d)}))})).catch((function(m){d.onSetupError({status:!1,message:m.message}),o(m)}))}else{if(e&&e.loadPaystackCheckoutButton)if(l){var p=on.preloadTransaction(s);l.onclick=p}else Nk("This device does not support any payment request wallet options. Please consult our documentation at https://developers.paystack.co/docs/paystack-inline to see how to load alternative payment options using 'loadPaystackCheckoutButton'");i&&i(null);var g=on.activeTransaction();a(g)}}))}},{key:"registerApplePayEventListener",value:function(){var e=this;ey(this.paymentRequestContainer).onclick=function(){return e.startApplePay()}}},{key:"registerPaymentRequestEventListeners",value:function(){var e=this.activeTransaction();e&&U_(e.response.channels)?this.registerApplePayEventListener():vZ(this.paymentRequestContainer)}},{key:"startApplePay",value:function(){var e,r,n,i,s,a=this,o="apple pay",l=this.activeTransaction();if(l){var c={channel:"apple_pay",paymentMethod:o,currency:l.currency,amount:l.amount},d={channel:"apple_pay",currency:l.currency,amount:l.amount,timeSpent:l.getTimeSpent()};try{l.logAttempt(o),this.sendAnalyticsEventToCheckout(jZ,c);var p=(e={currency:l.response.currency,amount:l.response.amount,merchantName:l.response.merchant_name,interval:l.response.plan_details&&l.response.plan_details.interval},r=e.currency,n=e.amount,i=e.merchantName,s=e.interval,vs({countryCode:"NG",currencyCode:r,merchantCapabilities:["supports3DS","supportsCredit","supportsDebit"],supportedNetworks:["visa","masterCard"],requiredBillingContactFields:["postalAddress","name","phone","email"],total:{label:"".concat(i," - Paystack"),type:"final",amount:String(ME(n))}},typeof s=="string"&&s.trim()!==""&&{lineItems:[{label:gZ(s),amount:String(ME(n))}]})),g=new window.ApplePaySession(sl.applePayVersion,p);g.onvalidatemerchant=function(m){var y=(function(w){var _=w.transactionId,S=w.validationURL,P=w.merchantName,A=w.domainName,V=A===void 0?window&&window.location&&window.location.hostname:A,W="".concat(sl.paymentBaseUrl).concat(sl.applePayValidateSessionPath),K=BE({transaction:_,sessionUrl:S,displayName:P,domainName:V});return fetch(W,vs(vs({},VE),{},{body:K})).then((function(j){return j.json()}))})({validationURL:m.validationURL,transactionId:l.id,merchantName:l.response.merchant_name});y.then((function(w){w.status!=="success"?l.onSetupError(w):g.completeMerchantValidation(w.data),l.logValidationResponse(w.message)})).catch((function(w){l.onSetupError(w)}))},g.oncancel=function(){on.preCheckoutModal||l.onCancel()},g.onpaymentauthorized=function(m){var y=m.payment,w=(function(_){var S=_.transactionId,P=_.payment,A="".concat(sl.paymentBaseUrl).concat(sl.applePayChargePath),V=BE({transaction:S,paymentObject:JSON.stringify(P)});return fetch(A,vs(vs({},VE),{},{body:V})).then((function(W){return W.json()}))})({transactionId:l.id,payment:y});w.then((function(_){l.logAPIResponse(_,o),_.status==="success"?(g.completePayment(g.STATUS_SUCCESS),l.onSuccess(_),a.sendAnalyticsEventToCheckout(LZ,d)):(g.completePayment(g.STATUS_FAILURE),l.onSetupError(_),a.sendAnalyticsEventToCheckout(WE,{channel:"apple_pay",message:_&&_.message||"Transaction attempt failed"})),on.closePreCheckoutModal(_.status)})).catch((function(_){g.completePayment(g.STATUS_FAILURE),l.onSetupError(_),a.sendAnalyticsEventToCheckout(WE,{channel:"apple_pay",message:_&&_.message||"Error occurred"}),on.closePreCheckoutModal("failed")}))},g.begin()}catch(m){l.onSetupError(m)}}else Vw("Could not initiate apple pay transaction")}},{key:"resumeTransaction",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.onSuccess,i=r.onCancel,s=r.onLoad,a=r.onError;return this.newTransaction({accessCode:e,onSuccess:n,onCancel:i,onLoad:s,onError:a})}},{key:"activeTransaction",value:function(){var e=this.transactions.filter((function(n){return n.isActive})),r=e.length?e[e.length-1]:null;return r}},{key:"cancelTransaction",value:function(e){var r=this.transactions.find((function(n){return n.id===e}))||this.activeTransaction();r&&(r.cancel(),this.close())}},{key:"respondToEvent",value:function(e){if(e){var r,n,i=this.activeTransaction();try{var s=e.data||e.message,a=s.event,o=s.data;if(a)switch(a){case"loaded:checkout":if(this.isLoaded=!0,i){var l=this.checkoutIframe,c=i.urlParameters,d=i.response;HE({checkoutIframe:l,urlParameters:d?{accessCode:d.access_code,language:c?.language}:c})}break;case"loaded:transaction":r=this.backgroundIframe,(n=r.contentWindow.document)&&(n.getElementById("app-loader").style.display="none"),this.preCheckoutModal&&this.openPreCheckoutModal(),i.onLoad(o);break;case"error":o.type==="setup"?i.onSetupError(o):i.logError(o);break;case"cancel":case"close":this.close();var p=o&&o.status;p&&i.setStatus(p),!(this.paymentRequestContainer&&ey(this.paymentRequestContainer)&&!this.preCheckoutModal)&&(i.isActive=!1),i.onCancel();break;case"transfer:pending":this.close();var g=o&&o.status;g&&i.setStatus(g),i.onBankTransferConfirmationPending();break;case"success":this.close(),i.onSuccess(o)}}catch{}}}},{key:"respondToEmbedEvents",value:function(e){var r,n,i=this.activeTransaction(),s=e.data||e.message;if(s&&(typeof s=="string"||s instanceof String)){var a={action:n=(r=s)&&typeof r=="string"?r.split(" ")[0]:null,data:n?r.split(" ").slice(2).join(" "):null};a&&a.action==="PaystackClose"&&a.data&&i.onSuccess(s),a.action==="PaystackTLSClose"&&i.cancel()}}},{key:"animateCheckoutIn",value:function(){var e,r=this;if(!this.isOpen){var n=this.checkoutIframe,i=this.backgroundIframe;(e={checkoutIframe:n,backgroundIframe:i},new Promise((function(s,a){e||a("No dom element provided");var o=e.checkoutIframe,l=e.backgroundIframe;o&&l||a("No dom element provided"),o.style.display="",o.style.visibility="visible",l.style.display="",l.style.visibility="visible",s()}))).then((function(){r.checkoutIframe.contentWindow.postMessage("render","*")})),this.isOpen=!0}}},{key:"open",value:function(e,r){e&&(HE({checkoutIframe:this.checkoutIframe,urlParameters:e}),r||this.animateCheckoutIn())}},{key:"close",value:function(){var e=this;if(this.isOpen){var r,n=this.checkoutIframe,i=this.backgroundIframe;(r={checkoutIframe:n,backgroundIframe:i},new Promise((function(s,a){r||a("No dom element provided");var o=r.checkoutIframe,l=r.backgroundIframe;o&&l||a("No dom element provided"),l.style.opacity=0,o.style.display="none",o.style.visibility="hidden",setTimeout((function(){l.style.display="none",l.style.visibility="hidden",l.style.opacity=1,s()}),300)}))).then((function(){e.checkoutIframe.contentWindow.postMessage("close","*")})),this.isOpen=!1}}},{key:"isLoaded",value:function(){return this.isLoaded}}],[{key:"setup",value:function(e){var r=e&&e.container;on||(on=new t({isDeprecatedApi:!0,isEmbed:r})),qE("PaystackPop.setup()","new PaystackPop()","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline");var n=on.newTransaction(e,"deprecated"),i=n.urlParameters;if(r){var s="".concat(sl.siteUrl,"/assets/payment/production/inline.html?").concat(ZL(i)),a=(function(o,l){var c=Fw("embed-checkout-".concat(o));return c.style.cssText=`
  background: transparent;
  background: rgba(0,0,0,0);
  border: 0px none transparent;
  overflow-x: hidden;
  overflow-y: hidden;
  nmargin: 0;
  padding: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  visibility: hidden;
  display: none;
`,c.src=l,c.id=o,c.name=o,c})(on.id,s);(function(o,l){var c=document.getElementById(o);c.innerHTML="",c.removeAttribute("style"),c.className="paystack-embed-container",c.style.position="relative",c.style.width="100%",c.appendChild(l)})(e.container,a),a.onload=function(){var o;a.contentWindow.postMessage("PaystackOpen ".concat(on.id),"*"),o=a,new Promise((function(l,c){o||c("No dom element provided"),o.style.display="",o.style.visibility="visible",l()}))}}else n.openIframe=function(){qE("openIframe","open","Please consult our documentation at https://developers.paystack.co/docs/paystack-inline"),on.open(i)};return n}}]),t})();if(GE=DE().length>0,KE=zp()&&zp().parentElement.tagName==="FORM",GE&&KE){var Bw,Mh=(function(){var t={},e=zp();return DE().forEach((function(r){var n=e.getAttribute(r),i=r.split("data-")[1].replace(/-([a-z])/g,(function(s){return s[1].toUpperCase()}));t[i]=n})),(function(r){if(r.buttonId&&!document.getElementById(r.buttonId))throw new Error("Please make sure the buttonId is an element available in the DOM");var n=vs({},r);n.buttonText=r.buttonText||"Pay",n.buttonVariant="normal",n.buttonWordmarkVariant="normal";var i=["normal","light"];return r.buttonVariant&&i.indexOf(r.buttonVariant)>-1&&(n.buttonVariant=r.buttonVariant),r.buttonWordmarkVariant&&i.indexOf(r.buttonWordmarkVariant)>-1&&(n.buttonWordmarkVariant=r.buttonWordmarkVariant),n})(t)})(),YE=zp().parentElement;on||(on=new cF),(function(t){var e;if(t.id)(e=document.getElementById(t.id)).setAttribute("data-inline-id",t.id);else{var r=document.createElement("div");r.id="inline-button-".concat(t.inlineId),r.innerHTML=(function(n){var i,s,a={normal:`
  <svg id="inline-button-wordmark" width="137" height="13" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M.037 5.095l1.075-.135c-.011-.774-.025-1.944-.013-2.149C1.19 1.364 2.38.134 3.81.013 3.9.006 3.99.002 4.077 0a2.947 2.947 0 0 1 2.046.76c.574.509.95 1.26 1.008 2.007.015.192.01 1.491.01 2.257l1.096.163L8.2 11.44 4.093 12 0 11.346l.037-6.251zm4.106-.514l1.724.256c-.007-.933-.05-2.295-.26-2.654-.319-.545-.846-.867-1.443-.88h-.063c-.607.008-1.138.322-1.458.864-.222.378-.266 1.66-.265 2.637l1.765-.223zM18.228 10.108c-.576 0-1.064-.072-1.464-.216a2.864 2.864 0 0 1-.972-.6 2.552 2.552 0 0 1-.588-.864 4.067 4.067 0 0 1-.252-1.044h1.008c.032.256.088.5.168.732.08.224.204.424.372.6.168.168.388.304.66.408.28.096.636.144 1.068.144.28 0 .536-.036.768-.108.24-.08.448-.192.624-.336.176-.144.312-.316.408-.516.104-.2.156-.42.156-.66 0-.24-.032-.448-.096-.624a1.02 1.02 0 0 0-.336-.468 1.885 1.885 0 0 0-.636-.324 6.4 6.4 0 0 0-1.008-.228 8.79 8.79 0 0 1-1.212-.276 3.246 3.246 0 0 1-.9-.432 1.982 1.982 0 0 1-.564-.672c-.128-.272-.192-.6-.192-.984 0-.328.068-.632.204-.912.136-.288.324-.536.564-.744.248-.208.54-.372.876-.492.336-.12.708-.18 1.116-.18.864 0 1.548.204 2.052.612.512.4.812.984.9 1.752h-.936c-.104-.544-.316-.932-.636-1.164-.32-.24-.78-.36-1.38-.36-.592 0-1.04.132-1.344.396a1.255 1.255 0 0 0-.444.996c0 .208.024.396.072.564.056.16.156.3.3.42.152.12.36.228.624.324a6.72 6.72 0 0 0 1.068.228c.48.072.9.168 1.26.288.36.12.664.276.912.468s.432.428.552.708c.128.28.192.624.192 1.032 0 .36-.076.696-.228 1.008a2.472 2.472 0 0 1-.612.804c-.264.224-.58.4-.948.528-.36.128-.752.192-1.176.192zM25.355 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM32.091 10.108c-.44 0-.848-.072-1.224-.216a3.054 3.054 0 0 1-.972-.636 3.12 3.12 0 0 1-.648-1.008 3.626 3.626 0 0 1-.228-1.32v-.096c0-.48.08-.916.24-1.308.16-.4.376-.74.648-1.02.28-.28.604-.496.972-.648.376-.16.772-.24 1.188-.24.328 0 .644.04.948.12.312.08.588.208.828.384.248.168.456.392.624.672.168.28.276.62.324 1.02h-.984c-.08-.496-.284-.848-.612-1.056-.32-.208-.696-.312-1.128-.312a1.93 1.93 0 0 0-.804.168c-.24.112-.452.272-.636.48a2.23 2.23 0 0 0-.42.744 2.991 2.991 0 0 0-.156.996v.096c0 .776.188 1.364.564 1.764.384.392.88.588 1.488.588.224 0 .436-.032.636-.096a1.651 1.651 0 0 0 .96-.768c.112-.192.18-.416.204-.672h.924a2.595 2.595 0 0 1-.276.948 2.386 2.386 0 0 1-.576.744c-.24.208-.52.372-.84.492-.32.12-.668.18-1.044.18zM38.335 10.108a2.83 2.83 0 0 1-.876-.132 1.724 1.724 0 0 1-.684-.42 2.145 2.145 0 0 1-.456-.756c-.112-.304-.168-.672-.168-1.104V3.724h.996v3.924c0 .552.116.956.348 1.212.24.256.608.384 1.104.384.224 0 .44-.036.648-.108.208-.072.392-.18.552-.324.16-.144.288-.324.384-.54.096-.216.144-.464.144-.744V3.724h.996V10h-.996v-.996c-.144.296-.388.556-.732.78-.336.216-.756.324-1.26.324zM43.216 3.724h.996v1.128c.2-.352.452-.64.756-.864.312-.232.748-.356 1.308-.372v.936a4.461 4.461 0 0 0-.852.12 1.647 1.647 0 0 0-.66.324 1.472 1.472 0 0 0-.408.612c-.096.248-.144.564-.144.948V10h-.996V3.724zM50 10.108c-.44 0-.848-.076-1.224-.228a2.916 2.916 0 0 1-.96-.636 2.966 2.966 0 0 1-.636-1.008 3.77 3.77 0 0 1-.216-1.308v-.096c0-.472.072-.904.216-1.296.144-.4.344-.74.6-1.02.264-.288.576-.508.936-.66.36-.16.756-.24 1.188-.24.36 0 .708.06 1.044.18.344.112.648.292.912.54.264.248.472.572.624.972.16.392.24.868.24 1.428v.324h-4.728c.024.72.204 1.272.54 1.656.336.376.828.564 1.476.564.984 0 1.54-.364 1.668-1.092h.996c-.112.632-.408 1.112-.888 1.44-.48.32-1.076.48-1.788.48zm1.704-3.852c-.048-.648-.232-1.112-.552-1.392-.312-.28-.728-.42-1.248-.42-.512 0-.932.164-1.26.492-.32.32-.524.76-.612 1.32h3.672zM56.496 10.108c-.408 0-.788-.068-1.14-.204a2.683 2.683 0 0 1-.9-.612 3.01 3.01 0 0 1-.588-.984 4.01 4.01 0 0 1-.204-1.32v-.096c0-.48.072-.92.216-1.32.144-.4.344-.744.6-1.032.256-.296.564-.524.924-.684.36-.16.756-.24 1.188-.24.528 0 .956.112 1.284.336.328.216.584.476.768.78V.724h.996V10h-.996V8.92c-.088.152-.208.3-.36.444a2.792 2.792 0 0 1-.516.384 2.874 2.874 0 0 1-.6.252c-.216.072-.44.108-.672.108zm.108-.828c.288 0 .56-.048.816-.144.256-.096.476-.24.66-.432.184-.2.328-.448.432-.744.112-.304.168-.656.168-1.056v-.096c0-.808-.18-1.404-.54-1.788-.352-.384-.836-.576-1.452-.576-.624 0-1.112.208-1.464.624-.352.416-.528 1.008-.528 1.776v.096c0 .392.048.736.144 1.032.104.296.24.54.408.732.176.192.38.336.612.432.232.096.48.144.744.144zM67.712 10.108c-.512 0-.948-.112-1.308-.336a2.38 2.38 0 0 1-.816-.804V10h-.996V.724h.996V4.78a1.92 1.92 0 0 1 .348-.432c.152-.144.32-.268.504-.372.192-.112.396-.2.612-.264.216-.064.436-.096.66-.096.408 0 .788.072 1.14.216.352.144.652.352.9.624.256.272.456.604.6.996.144.392.216.832.216 1.32v.096c0 .48-.068.92-.204 1.32a3.103 3.103 0 0 1-.576 1.02 2.583 2.583 0 0 1-.9.672 2.937 2.937 0 0 1-1.176.228zm-.096-.828c.624 0 1.1-.2 1.428-.6.328-.408.492-.996.492-1.764V6.82c0-.4-.052-.748-.156-1.044a2.095 2.095 0 0 0-.42-.732 1.53 1.53 0 0 0-.612-.444 1.798 1.798 0 0 0-.744-.156c-.288 0-.56.048-.816.144a1.71 1.71 0 0 0-.648.444c-.184.192-.328.44-.432.744a3.152 3.152 0 0 0-.156 1.044v.096c0 .8.192 1.396.576 1.788.384.384.88.576 1.488.576zM73.63 9.352l-2.46-5.628h1.068l1.92 4.5 1.74-4.5h1.02l-3.468 8.46h-1.008l1.188-2.832zM87.127 3.669A3.138 3.138 0 0 0 86.1 2.95a3.09 3.09 0 0 0-1.228-.25c-.448 0-.848.086-1.187.26a2.199 2.199 0 0 0-.662.497v-.191a.387.387 0 0 0-.214-.348.323.323 0 0 0-.14-.03h-1.315a.314.314 0 0 0-.254.116.377.377 0 0 0-.1.262v8.97c0 .1.034.188.1.258a.34.34 0 0 0 .254.103h1.341a.342.342 0 0 0 .244-.103.336.336 0 0 0 .11-.259v-3.06c.178.202.417.357.702.464.35.134.72.203 1.093.203.43 0 .848-.082 1.242-.248a3.124 3.124 0 0 0 1.04-.724c.305-.326.545-.709.707-1.128a3.93 3.93 0 0 0 .263-1.477c0-.54-.086-1.037-.263-1.477a3.387 3.387 0 0 0-.706-1.12zm-1.204 3.24c-.073.19-.18.362-.315.51a1.415 1.415 0 0 1-1.065.466c-.2.001-.4-.04-.584-.12a1.484 1.484 0 0 1-.49-.346 1.593 1.593 0 0 1-.32-.51 1.738 1.738 0 0 1-.115-.63c0-.224.04-.435.115-.631a1.532 1.532 0 0 1 .804-.846c.185-.086.386-.13.59-.129.215 0 .414.044.593.13.177.083.338.199.474.341a1.622 1.622 0 0 1 .425 1.135c0 .225-.037.436-.112.63zM95.298 2.89h-1.33a.339.339 0 0 0-.246.11.384.384 0 0 0-.108.266v.166a1.856 1.856 0 0 0-.602-.472 2.525 2.525 0 0 0-1.166-.258 3.227 3.227 0 0 0-2.284.964 3.554 3.554 0 0 0-.734 1.123 3.827 3.827 0 0 0-.275 1.477c0 .54.092 1.037.275 1.477.184.434.427.817.728 1.128a3.146 3.146 0 0 0 2.277.973c.437 0 .834-.088 1.173-.259.25-.13.456-.287.608-.471v.177a.34.34 0 0 0 .11.259.341.341 0 0 0 .244.104h1.33a.324.324 0 0 0 .25-.105.349.349 0 0 0 .102-.258V3.267a.377.377 0 0 0-.1-.262.325.325 0 0 0-.252-.115zM93.502 6.9a1.55 1.55 0 0 1-.312.511c-.136.143-.296.26-.473.344-.178.085-.38.129-.596.129-.207 0-.407-.044-.59-.13a1.501 1.501 0 0 1-.791-.855 1.766 1.766 0 0 1-.112-.62c0-.225.038-.436.112-.632.075-.193.181-.364.314-.504.137-.143.3-.26.478-.342.182-.085.382-.129.59-.129.215 0 .417.044.595.13.178.085.338.2.473.341a1.623 1.623 0 0 1 .424 1.135c0 .215-.037.424-.112.622zM108.567 6.094a2.265 2.265 0 0 0-.654-.402c-.247-.101-.509-.181-.785-.235l-1.014-.204c-.26-.05-.441-.117-.543-.203a.328.328 0 0 1-.136-.264c0-.11.063-.2.189-.282.137-.086.329-.13.566-.13.26 0 .518.053.757.157.243.106.471.226.67.36.295.187.546.162.727-.053l.487-.57a.543.543 0 0 0 .152-.357c0-.128-.064-.245-.185-.351-.207-.184-.533-.378-.971-.568-.437-.192-.987-.29-1.637-.29-.427 0-.82.058-1.168.172-.35.116-.65.276-.893.474-.245.204-.438.44-.57.713a2 2 0 0 0-.198.875c0 .56.167 1.017.496 1.358.328.333.766.56 1.304.67l1.054.232c.3.062.528.132.675.21.129.067.19.163.19.297 0 .12-.061.227-.188.324-.133.104-.342.155-.622.155a1.83 1.83 0 0 1-.831-.19 3.056 3.056 0 0 1-.678-.458.995.995 0 0 0-.307-.17c-.126-.037-.268.003-.431.13l-.583.461c-.169.145-.24.32-.209.522.029.194.19.394.491.62.269.193.614.368 1.029.518.415.151.901.229 1.453.229.444 0 .854-.058 1.215-.172.362-.119.681-.278.941-.48a2.056 2.056 0 0 0 .819-1.663c0-.319-.053-.6-.165-.836a1.843 1.843 0 0 0-.447-.6zM114.383 7.73a.363.363 0 0 0-.295-.192.55.55 0 0 0-.343.113c-.095.062-.198.11-.306.141a.75.75 0 0 1-.426.013.43.43 0 0 1-.181-.093.554.554 0 0 1-.143-.204.92.92 0 0 1-.059-.362v-2.46h1.731c.099 0 .188-.04.266-.117a.368.368 0 0 0 .112-.26V3.268a.369.369 0 0 0-.115-.268.38.38 0 0 0-.263-.109h-1.732V1.216a.354.354 0 0 0-.108-.27.347.347 0 0 0-.243-.104h-1.344a.36.36 0 0 0-.34.226.371.371 0 0 0-.027.148V2.89h-.767a.324.324 0 0 0-.255.115.385.385 0 0 0-.098.262V4.31a.4.4 0 0 0 .212.346c.044.021.092.032.14.03h.768v2.925c0 .39.069.726.2 1.003.132.274.305.504.514.676.217.178.465.31.731.388.27.084.551.126.833.126.385 0 .75-.061 1.094-.18a2.13 2.13 0 0 0 .861-.552c.152-.181.17-.381.046-.581l-.463-.76zM121.672 2.89h-1.329a.339.339 0 0 0-.244.11.39.39 0 0 0-.08.122.394.394 0 0 0-.027.144v.166a1.906 1.906 0 0 0-.605-.472c-.335-.173-.726-.258-1.168-.258-.42 0-.834.083-1.226.249a3.24 3.24 0 0 0-1.055.715 3.528 3.528 0 0 0-.734 1.123 3.79 3.79 0 0 0-.276 1.477c0 .54.092 1.037.275 1.477.184.434.428.817.729 1.128a3.138 3.138 0 0 0 2.273.973 2.59 2.59 0 0 0 1.175-.259c.255-.13.457-.287.612-.471v.177a.34.34 0 0 0 .108.259.343.343 0 0 0 .243.104h1.329a.335.335 0 0 0 .252-.105.364.364 0 0 0 .102-.258V3.267a.38.38 0 0 0-.1-.262.332.332 0 0 0-.115-.087.311.311 0 0 0-.139-.028zM119.876 6.9a1.534 1.534 0 0 1-.786.855 1.362 1.362 0 0 1-.594.129c-.207 0-.405-.044-.588-.13a1.516 1.516 0 0 1-.792-.855 1.757 1.757 0 0 1-.113-.62c0-.225.037-.436.112-.632.073-.187.179-.358.314-.504.138-.143.3-.26.479-.342.184-.086.385-.13.588-.129.217 0 .415.044.594.13.181.085.34.2.472.341.134.143.24.313.314.504a1.73 1.73 0 0 1 0 1.253zM128.978 7.64l-.763-.593c-.146-.118-.284-.15-.404-.1a.742.742 0 0 0-.279.205 2.527 2.527 0 0 1-.583.535c-.192.122-.444.183-.742.183-.219 0-.42-.04-.6-.122a1.423 1.423 0 0 1-.469-.342 1.575 1.575 0 0 1-.308-.51 1.751 1.751 0 0 1-.106-.617c0-.228.034-.438.106-.632.07-.192.173-.363.308-.503.135-.144.295-.26.472-.342.187-.088.391-.132.597-.13.298 0 .547.064.742.187.198.126.396.306.584.534.078.092.17.16.278.206.122.048.259.016.401-.101l.762-.594a.53.53 0 0 0 .201-.269.437.437 0 0 0-.034-.365 3.329 3.329 0 0 0-1.18-1.127c-.504-.291-1.108-.441-1.784-.441a3.519 3.519 0 0 0-2.51 1.033c-.322.322-.576.71-.747 1.137a3.68 3.68 0 0 0-.273 1.407c0 .495.093.968.273 1.402.173.424.427.808.747 1.128a3.527 3.527 0 0 0 2.51 1.034c.676 0 1.28-.149 1.784-.444a3.286 3.286 0 0 0 1.182-1.13.411.411 0 0 0 .055-.173.415.415 0 0 0-.023-.182.624.624 0 0 0-.197-.273zM136.06 9.045l-2.104-3.143 1.801-2.415c.094-.139.119-.272.075-.397-.031-.09-.116-.2-.334-.2h-1.425a.52.52 0 0 0-.234.058.482.482 0 0 0-.209.205L132.191 5.2h-.349V.363a.37.37 0 0 0-.099-.26.352.352 0 0 0-.253-.103h-1.332a.37.37 0 0 0-.337.22.346.346 0 0 0-.027.143V9.29c0 .103.038.193.11.259a.353.353 0 0 0 .254.104h1.333a.328.328 0 0 0 .251-.105.346.346 0 0 0 .075-.119.333.333 0 0 0 .024-.14V6.927h.386l1.571 2.446c.112.187.267.281.46.281h1.491c.226 0 .32-.11.358-.202.054-.13.038-.262-.047-.406zM102.863 2.89h-1.489a.389.389 0 0 0-.298.122.544.544 0 0 0-.13.249l-1.099 4.167h-.268l-1.182-4.167a.66.66 0 0 0-.113-.247.329.329 0 0 0-.264-.124h-1.544c-.199 0-.325.066-.372.193a.588.588 0 0 0-.002.37l1.887 5.865c.03.093.08.17.145.232a.388.388 0 0 0 .281.104h.798l-.066.19-.19.547a.872.872 0 0 1-.29.426.7.7 0 0 1-.442.148.956.956 0 0 1-.4-.09 1.842 1.842 0 0 1-.35-.209.62.62 0 0 0-.335-.115h-.016c-.13 0-.243.074-.334.216l-.474.708c-.193.304-.086.504.039.615.234.224.528.399.875.524.344.125.723.186 1.126.186.682 0 1.252-.187 1.689-.565.435-.376.756-.887.952-1.524l2.188-7.258c.05-.155.05-.284.005-.389-.037-.08-.125-.174-.327-.174z" fill="#011B33"/>
    </svg>`,light:eF};return`
    <style>
      #inline-button-`.concat(n.inlineId,` {
        position: relative;
        text-align: center;
        display: inline-block;
      }
      #inline-button-`).concat(n.inlineId,`__trigger {
        `).concat((i=n.variant||"normal",s={normal:`
    background: linear-gradient(180deg,#44b669 0,#40ad57);
    text-shadow: 1px 1px 1px rgba(0,0,0,.1);
    color: #ffffff;
  `,light:`
    background: white;
    text-shadow: none;
    color: #011b33;
  `},"".concat(`
    box-sizing: border-box;
    display: inline-block;
    line-height: 1;
    white-space: nowrap;
    margin: 0 0 10px;
    text-align: center;
    -webkit-appearance: none;
    outline: none;
    font-size: 14px;
    font-weight: 600;
    border-radius: 6px;
    cursor: pointer;
    padding: 16px 24px;
    box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.15);
    transition: all .3s ease;
    border: none;
    min-width: 190px;
  `).concat(s[i])),`
      }
      #inline-button-`).concat(n.inlineId,`__trigger:hover {
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
      }
      #inline-button-`).concat(n.inlineId,`__trigger:active {
        transform: translateY(3px);
      }
    </style>
    <button id="inline-button-`).concat(n.inlineId,'__trigger" data-inline-id="').concat(n.inlineId,'">').concat(n.text||"Pay"," ").concat(n.currency||"NGN"," ").concat(n.amount,`</button>
    <div id="inline-button-`).concat(n.inlineId,`__wordmark">
      `).concat(a[n.wordmarkVariant||"normal"],`
    </div>
  `)})(t),t.parent.parentNode.insertBefore(r,t.parent.nextSibling),e=uZ(r.getElementsByTagName("button"),1)[0]}return e})({inlineId:on.id,amount:Mh.amount/100,currency:Mh.currency,id:Mh.buttonId,text:Mh.buttonText,variant:Mh.buttonVariant,wordmarkVariant:Mh.buttonWordmarkVariant,parent:zp()}).addEventListener("click",(function(t){t.preventDefault(),Bw?on.resumeTransaction(Bw.accessCode):Bw=on.newTransaction(vs(vs({},Mh),{},{onSuccess:function(e){var r,n,i,s,a,o;r={type:"hidden",name:"reference",value:e.reference,parent:YE},n=r.type,i=r.value,s=r.name,a=r.parent,(o=document.createElement("input")).type=n,o.value=i,o.name=s,a.appendChild(o),YE.submit()}}))}))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FZ="type.googleapis.com/google.protobuf.Int64Value",DZ="type.googleapis.com/google.protobuf.UInt64Value";function uF(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function z_(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>z_(e));if(typeof t=="function"||typeof t=="object")return uF(t,e=>z_(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Uy(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case FZ:case DZ:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Uy(e)):typeof t=="function"||typeof t=="object"?uF(t,e=>Uy(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class a1 extends Gc{constructor(e,r,n){super(`${Tk}/${e}`,r||""),this.details=n}}function OZ(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function MZ(t,e){let r=OZ(t),n=r,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!XE[a])return new a1("internal","internal");r=XE[a],n=a}const o=s.message;typeof o=="string"&&(n=o),i=s.details,i!==void 0&&(i=Uy(i))}}catch{}return r==="ok"?null:new a1(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||n.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="us-central1";function BZ(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new a1("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class UZ{constructor(e,r,n,i,s=$_,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new VZ(r,n,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=$_}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function zZ(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function $Z(t,e,r){return(n=>HZ(t,e,n,{}))}async function qZ(t,e,r,n){r["Content-Type"]="application/json";let i;try{i=await n(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function HZ(t,e,r,n){const i=t._url(e);return WZ(t,i,r,n)}async function WZ(t,e,r,n){r=z_(r);const i={data:r},s={},a=await t.contextProvider.getContext(n.limitedUseAppCheckTokens);a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=n.timeout||7e4,l=BZ(o),c=await Promise.race([qZ(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!c)throw new a1("cancelled","Firebase Functions instance was deleted.");const d=MZ(c.status,c.json);if(d)throw d;if(!c.json)throw new a1("internal","Response is not valid JSON object.");let p=c.json.data;if(typeof p>"u"&&(p=c.json.result),typeof p>"u")throw new a1("internal","Response is missing data field.");return{data:Uy(p)}}const QE="@firebase/functions",JE="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ="auth-internal",KZ="app-check-internal",YZ="messaging-internal";function XZ(t,e){const r=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),a=n.getProvider(GZ),o=n.getProvider(YZ),l=n.getProvider(KZ);return new UZ(s,a,o,l,i,t)};Of(new yd(Tk,r,"PUBLIC").setMultipleInstances(!0)),uc(QE,JE,e),uc(QE,JE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(t=C5(),e=$_){const n=U0(yn(t),Tk).getImmediate({identifier:e}),i=s6("functions");return i&&JZ(n,...i),n}function JZ(t,e,r){zZ(yn(t),e,r)}function ZZ(t,e,r){return $Z(yn(t),e)}XZ(fetch.bind(self));const eee=QZ();async function tee(t){const r=await ZZ(eee,"initOrder")({total:t}),{checkoutUrl:n,accessCode:i,orderId:s,paystackReference:a}=r.data;return new Promise((o,l)=>{new cF().resumeTransaction(i,{onSuccess:()=>{console.log("Payment successful"),o({status:!0,message:"Payment successful",data:{checkoutUrl:n,orderId:s,paystackReference:a}})},onCancel:()=>{console.log("User cancelled"),o({status:!1,message:"Payment cancelled"})},onError:()=>{console.log("Payment failed"),o({status:!1,message:"Payment cancelled"})},onLoad:()=>{console.log("Page is loaded")}})})}const zy=async()=>{const t=await On(tr(ht,"pharmacies"));return await Promise.all(t.docs.map(async r=>{const n={id:r.id,...r.data()};if(n.lat&&n.lon)n.coordinates={latitude:Number(n.lat),longitude:Number(n.lon)};else if(n.address)try{const s=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n.address)}&limit=1`)).json();s&&s[0]&&(n.coordinates={latitude:Number(s[0].lat),longitude:Number(s[0].lon)})}catch{}return n}))},Ak=async({vendorId:t,customerId:e,role:r})=>{const n=`${t}__${e}`,i=Qt(ht,"threads",n);if(!(await os(i)).exists()){const[a,o]=await Promise.all([os(Qt(ht,"pharmacies",t)),os(Qt(ht,"users",e))]),l=a.exists()?a.data():{},c=o.exists()?o.data():{},d=l.name||"Pharmacy",p=l.address||"",g=!!l.isVerified,m=c.displayName||"Customer";await Bc(i,{id:n,vendorId:t,customerId:e,vendorName:d,vendorAddress:p,vendorIsVerified:g,customerName:m,lastMessage:"",lastBy:null,lastAt:ki(),unread:{[t]:0,[e]:0},createdAt:ki()})}return n},q_=async(t,{senderId:e,to:r,text:n},i=null)=>{const s=tr(ht,"threads",t,"messages"),a=await Gf(s,{senderId:e,to:r,text:n||"",createdAt:ki(),read:!1,status:"sent",deliveredAt:null,readAt:null,prescriptionId:i});return await ri(Qt(ht,"threads",t),{lastMessage:n||"…",lastBy:e,lastAt:ki(),[`unread.${r}`]:Ly(1)}),setTimeout(async()=>{await ri(a,{status:"delivered",deliveredAt:ki()})},1e3),a.id},$y=async(t,e)=>{await ri(Qt(ht,"threads",t),{[`unread.${e}`]:0});const r=Er(tr(ht,"threads",t,"messages"),Vr("to","==",e),Vr("read","==",!1),pa("createdAt","desc"),W0(50)),n=await On(r);if(!n.empty){const i=ok(ht),s=ki();n.docs.forEach(a=>{i.update(a.ref,{read:!0,status:"read",readAt:s})}),await i.commit()}},dF=async(t,e)=>{const r=Qt(ht,"threads",t,"messages",e);await ri(r,{status:"delivered",deliveredAt:ki()})},fF=(t,e,r,n=50)=>{const i=Er(tr(ht,"threads",t,"messages"),pa("createdAt","desc"),W0(n));return Nn(i,s=>{const a=s.docs.map(o=>({id:o.id,...o.data()})).reverse();e(a)},s=>r?.(s))},J5=(t,e,r,n={})=>{if(!t?.uid||!t?.role)return()=>{};const i=tr(ht,"threads"),s=t.role==="customer"?Er(i,Vr("customerId","==",t.uid)):Er(i,Vr("vendorId","==",t.uid)),a=n.noSort?s:Er(s,pa("lastAt","desc"));return Nn(a,o=>e(o.docs.map(l=>({id:l.id,...l.data()}))),o=>r?.(o))},Z5=(t,e=null)=>{const r=tr(ht,"products"),n=e?Er(r,Vr("pharmacyId","==",e),pa("createdAt","desc")):Er(r,pa("createdAt","desc"));return Nn(n,i=>t(i.docs.map(s=>({id:s.id,...s.data()}))),i=>console.error("listenProducts error:",i))},hF=async t=>{const e=tr(ht,"products");await Gf(e,{...t,createdAt:ki()})},pF=async(t,e)=>{const r=ok(ht);t.forEach(n=>{const i=Qt(tr(ht,"products"));r.set(i,{...n,pharmacyId:e,price:Number(n.price),stock:Number(n.stock||0),createdAt:ki()})}),await r.commit()},o1=async(t,e,r=1)=>{const n=Qt(tr(ht,"users",t,"cart"));await Bc(n,{productId:e,qty:r})},ty=(t,e)=>Tl(Qt(ht,"users",t,"cart",e)),r2=async({customerId:t,pharmacyId:e,items:r,total:n,email:i,prescription:s=!1})=>{const a=await tee(n),{data:o,status:l}=a;return console.log("Data: ",o),console.log("Items: ",r),l&&Bc(Qt(ht,"orders",o.orderId),{customerId:t,customerEmail:i,items:r.map(c=>({productId:c.productId,pharmacyId:c.pharmacyId,price:c.price,quantity:c.quantity||1,status:"pending",paid:!!s,transferReference:null,transferStatus:null})),total:n,paystackReference:o.paystackReference,status:"paid",prescriptionId:s||null,paidAt:ki(),createdAt:ki()}),l},mF=async(t=5,e)=>{if(!e)return[];const n=(await On(Er(tr(ht,"products"),Vr("pharmacyId","==",e)))).docs.map(o=>({id:o.id,...o.data()}));if(n.length===0)return[];const i=await On(Er(tr(ht,"orders"),Vr("pharmacyId","==",e))),s={};i.forEach(o=>{(o.data().items||[]).forEach(c=>{s[c.productId]||(s[c.productId]=0),s[c.productId]+=c.quantity||1})});const a=n.map(o=>({...o,sold:s[o.id]||0}));return a.sort((o,l)=>l.sold!==o.sold?l.sold-o.sold:(l.dateAdded?.toMillis?.()||0)-(o.dateAdded?.toMillis?.()||0)),a.slice(0,t).map(o=>({id:o.id,name:o.name,sold:o.sold,dateAdded:o.dateAdded}))};async function gF({pharmacyId:t,customerId:e,chatThreadId:r,drugs:n,startDate:i,duration:s,notes:a}){return await Gf(tr(ht,"prescriptions"),{pharmacyId:t,customerId:e,chatThreadId:r,drugs:n,startDate:i,duration:s,notes:a,status:"active",createdAt:ki(),updatedAt:ki()})}async function xF(t){const e=Er(tr(ht,"prescriptions"),Vr("chatThreadId","==",t));return(await On(e)).docs.map(n=>({id:n.id,...n.data()}))}async function vF({customerId:t}){const r=(await On(Er(tr(ht,"prescriptions"),Vr("customerId","==",t),Vr("requirePurchase","==",!0),Vr("fulfilled","!=",!0)))).docs.map(s=>({id:s.id,...s.data()}));if(!r.length)return;const n=await On(Er(tr(ht,"orders"),Vr("customerId","==",t),Vr("status","==","fulfilled"))),i=[];n.forEach(s=>{(s.data().items||[]).forEach(o=>{i.push(o.productId)})});for(const s of r)s.drugs.every(o=>o.productId&&i.includes(o.productId))&&await ri(Qt(ht,"prescriptions",s.id),{fulfilled:!0})}const yF=async(t,e,r)=>{const n=Qt(ht,"wishlists",`${t}_${e}`);await Bc(n,{userId:t,productId:e,productData:r,createdAt:ki()})},wF=async(t,e)=>{const r=Qt(ht,"wishlists",`${t}_${e}`);await Tl(r)},_F=async(t,e)=>{const r=Qt(ht,"wishlists",`${t}_${e}`);return(await os(r)).exists()},bF=(t,e,r=console.error)=>{const n=Er(tr(ht,"wishlists"),Vr("userId","==",t),pa("createdAt","desc"));return Nn(n,i=>{const s=i.docs.map(a=>({id:a.id,...a.data()}));e(s)},r)},kF=async(t,e,r)=>{const n=Qt(ht,"vendorBookmarks",`${t}_${e}`);await Bc(n,{userId:t,vendorId:e,vendorData:r,createdAt:ki()})},SF=async(t,e)=>{const r=Qt(ht,"vendorBookmarks",`${t}_${e}`);await Tl(r)},EF=async(t,e)=>{const r=Qt(ht,"vendorBookmarks",`${t}_${e}`);return(await os(r)).exists()},CF=(t,e,r=console.error)=>{const n=Er(tr(ht,"vendorBookmarks"),Vr("userId","==",t),pa("createdAt","desc"));return Nn(n,i=>{const s=i.docs.map(a=>({id:a.id,...a.data()}));e(s)},r)},ree=Object.freeze(Object.defineProperty({__proto__:null,addProduct:hF,addToCart:o1,addToWishlist:yF,addVendorBookmark:kF,bulkAddProducts:pF,createPrescription:gF,fulfillPrescriptionIfOrdered:vF,getAllPharmacies:zy,getBestSellingProducts:mF,getOrCreateThread:Ak,getPrescriptionsForThread:xF,isInWishlist:_F,isVendorBookmarked:EF,listenProducts:Z5,listenThreadMessagesPaginated:fF,listenUserBookmarkedVendors:CF,listenUserThreads:J5,listenUserWishlist:bF,markMessageDelivered:dF,markThreadRead:$y,placeOrder:r2,removeFromCart:ty,removeFromWishlist:wF,removeVendorBookmark:SF,sendChatMessage:q_},Symbol.toStringTag,{value:"Module"}));async function NF(t){t&&await RX(t)}async function nee(t){await IX(yf,t)}const TF=L.createContext(),In=()=>L.useContext(TF);function iee({children:t}){const[e,r]=L.useState(null),[n,i]=L.useState(null),[s,a]=L.useState(!0);L.useEffect(()=>{let g;const m=DX(yf,y=>{if(r(y),g&&(g(),g=void 0),y){const w=Qt(ht,"users",y.uid);g=Nn(w,_=>{_.exists()&&i(_.data())})}else i(null);a(!1)});return()=>{g&&g(),m()}},[]);const o=(g,m)=>PX(yf,g,m),l=async({email:g,password:m,displayName:y,role:w,address:_,lat:S,lon:P,phone:A})=>{const{user:V}=await gL(yf,g,m);y&&await xL(V,{displayName:y});const W={uid:V.uid,email:g,displayName:y,role:w};return _&&(W.address=_),S&&(W.lat=S),P&&(W.lon=P),A&&(W.phoneNumber=A),await Bc(Qt(ht,"users",V.uid),W),w==="pharmacy"&&await Bc(Qt(ht,"pharmacies",V.uid),{id:V.uid,name:y||"Pharmacy",email:g,address:_||"",etaMins:30,phone:""}),await NF(V),{user:V,verificationSent:!0}},c=async()=>{const g=new yu;g.addScope("email"),g.addScope("profile"),g.setCustomParameters({prompt:"select_account"});try{console.log("Attempting Google sign-in...");const m=await _E(yf,g);return console.log("Google sign-in successful:",m.user.email),m}catch(m){throw console.error("Google sign-in error:",m),m.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again."):m.code==="auth/popup-blocked"?new Error("Pop-up was blocked by your browser. Please allow pop-ups and try again."):m.code==="auth/network-request-failed"?new Error("Network error. Please check your connection and try again."):m.code==="auth/internal-error"?new Error("Google sign-in is not properly configured. Please contact support."):m.code==="auth/configuration-not-found"?new Error("Google sign-in configuration missing. Please contact support."):m}},d=async g=>{const m=new yu;m.addScope("email"),m.addScope("profile"),m.setCustomParameters({prompt:"select_account"});try{console.log("Attempting Google registration/sign-in...");const y=await _E(yf,m),{user:w}=y;console.log("Google auth successful for:",w.email);const _=Qt(ht,"users",w.uid),S=await os(_);if(S.exists()){if(console.log("Existing user found:",w.email),S.data().role!=="customer")throw new Error("This email is associated with a pharmacy account. Please use pharmacy sign-in instead.");return{user:w,verificationSent:!1,isNewUser:!1,existingCustomer:!0}}else{console.log("Creating new customer profile for:",w.email);const P={uid:w.uid,email:w.email,displayName:w.displayName||"Google User",role:"customer",address:g?.address||"Location not available",lat:g?.latitude,lon:g?.longitude,createdAt:new Date().toISOString(),authMethod:"google"};return await Bc(_,P),console.log("New customer profile created successfully"),{user:w,verificationSent:!1,isNewUser:!0}}}catch(y){throw console.error("Google registration/sign-in error:",y),y.code==="auth/account-exists-with-different-credential"?new Error('An account with this email already exists. Please sign in with your email and password instead, or use the "Sign In with Google" option.'):y.code==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again."):y.code==="auth/popup-blocked"?new Error("Pop-up was blocked by your browser. Please allow pop-ups and try again."):y.code==="auth/network-request-failed"?new Error("Network error. Please check your connection and try again."):y.code==="auth/internal-error"?new Error("Google sign-in is not properly configured. Please contact support."):y.code==="auth/configuration-not-found"?new Error("Google sign-in configuration missing. Please contact support."):y}},p=()=>OX(yf);return u.jsx(TF.Provider,{value:{user:e,profile:n,loading:s,signIn:o,signUp:l,signInWithGoogle:c,signUpWithGoogle:d,logout:p},children:t})}const see="modulepreload",aee=function(t){return"/"+t},ZE={},md=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=l(r.map(c=>{if(c=aee(c),c in ZE)return;ZE[c]=!0;const d=c.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":see,d||(g.as="script"),g.crossOrigin="",g.href=c,o&&g.setAttribute("nonce",o),document.head.appendChild(g),d)return new Promise((m,y)=>{g.addEventListener("load",m),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function eC(t){return u.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:u.jsx("path",{d:"M6.66683 0C8.34653 0 9.95744 0.66726 11.1452 1.85499C12.3329 3.04272 13.0002 4.65363 13.0002 6.33333C13.0002 8.01304 12.3329 9.62395 11.1452 10.8117C9.95744 11.9994 8.34653 12.6667 6.66683 12.6667C4.98712 12.6667 3.37622 11.9994 2.18849 10.8117C1.00076 9.62395 0.333496 8.01304 0.333496 6.33333C0.333496 4.65363 1.00076 3.04272 2.18849 1.85499C3.37622 0.66726 4.98712 0 6.66683 0ZM6.66683 0.666667C5.16394 0.666667 3.7226 1.26369 2.65989 2.3264C1.59719 3.3891 1.00016 4.83044 1.00016 6.33333C1.00016 7.83623 1.59719 9.27757 2.65989 10.3403C3.7226 11.403 5.16394 12 6.66683 12C7.41099 12 8.14786 11.8534 8.83537 11.5687C9.52288 11.2839 10.1476 10.8665 10.6738 10.3403C11.2 9.81407 11.6174 9.18939 11.9021 8.50187C12.1869 7.81436 12.3335 7.07749 12.3335 6.33333C12.3335 4.83044 11.7365 3.3891 10.6738 2.3264C9.61106 1.26369 8.16972 0.666667 6.66683 0.666667ZM6.3335 2.66667H7.00016V6.28L10.1335 8.08667L9.80016 8.66667L6.3335 6.66667V2.66667Z",fill:"#848484"})})}/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AF=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>L.createElement("svg",{ref:l,...lee,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:AF("lucide",i),...o},[...a.map(([c,d])=>L.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=(t,e)=>{const r=L.forwardRef(({className:n,...i},s)=>L.createElement(cee,{ref:s,iconNode:e,className:AF(`lucide-${oee(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Zr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=Zr("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=Zr("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Zr("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Zr("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=Zr("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=Zr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=Zr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=Zr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=Zr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=Zr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Zr("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=Zr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=Zr("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=Zr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=Zr("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=Zr("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Zr("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=Zr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=Zr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Zr("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=Zr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=Zr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Zr("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=Zr("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=Zr("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=Zr("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=Zr("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=Zr("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=Zr("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=Zr("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Zr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Zr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=Zr("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Zr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=Zr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=Zr("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=Zr("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=Zr("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=Zr("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Zr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Cee({className:t="",children:e,...r}){return u.jsx("div",{className:`rounded-3xl border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-gray-800 ${t}`,...r,children:e})}function Ml({name:t,image:e,category:r,size:n=64,className:i="",alt:s,style:a={},imgClassName:o="",roundedClass:l="rounded-xl"}){const[c,d]=L.useState(!1),p=(r||"")?.toString().toLowerCase().trim();let g=null;p&&(p.includes("prescription")?g="PrescriptionDrugs.svg":p.includes("over")?g="Over-the-counter Icon.svg":p.includes("syrup")?g="Syrup.svg":p.includes("therapeutic")?g="Therapeutic.svg":p.includes("control")?g="ControlledSubstances.svg":p.includes("target")&&(g="TargetSystem.svg"));const m="GeneralPill.svg",y=g||m,w={width:n,height:n,...a};return e&&!c?u.jsx("img",{src:e,alt:s||t||"Product image",className:`${l} object-cover ${o}`.trim(),style:w,onError:()=>d(!0)}):u.jsx("div",{className:`${i}`,style:w,children:u.jsx("img",{src:`/${encodeURIComponent(y)}`,alt:s||(r?`${r} icon`:"product icon"),className:`${l} object-contain w-full h-full`,onError:_=>{if(y!==m){_.currentTarget.src=`/${encodeURIComponent(m)}`;return}}})})}function zw({product:t,vendorName:e,vendorDistanceKm:r,vendorEtaMins:n,onOpen:i,onAdd:s,cardWidth:a="172px",cardHeight:o="199px",nameSize:l="15.54px",nameWeight:c="medium",priceSize:d="14.43px",priceColor:p="#BDBDBD",priceWeight:g="medium",addColor:m="#36A5FF",borderRadius:y}){const[w,_]=L.useState(!1),[S,P]=L.useState(!1),[A,V]=L.useState(!1),W=t?.image&&!w;return u.jsxs(Cee,{className:`p-3 cursor-pointer relative flex flex-col justify-between overflow-hidden card-interactive group transition-all duration-200 ${S?"scale-95":"hover:scale-105"}`,onClick:i,onMouseDown:()=>P(!0),onMouseUp:()=>P(!1),onMouseLeave:()=>P(!1),style:{width:a,height:o,borderRadius:y||"10px"},children:[u.jsx("div",{className:"overflow-hidden flex items-center justify-center bg-white dark:bg-gray-800 transition-all duration-200 group-hover:bg-gradient-to-br group-hover:from-blue-50 group-hover:to-sky-50 dark:group-hover:from-blue-900/20 dark:group-hover:to-sky-900/20",style:{height:`calc(${o} * 0.6)`,borderRadius:y||"3px"},children:W?u.jsx("img",{src:t.image,alt:t.name||"product image",className:"object-contain h-full w-full transition-transform duration-200 group-hover:scale-110",onError:()=>_(!0),style:{maxWidth:"100%"}}):u.jsx("div",{className:"flex items-center justify-center w-full h-full transition-transform duration-200 group-hover:scale-110",style:{padding:8},children:u.jsx(Ml,{name:t.name,image:t.image,category:t.category,size:Math.min(30,Math.max(48,parseInt(o,10)/2))})})}),u.jsxs("div",{className:"mt-1 text-xs text-zinc-500 font-poppins font-light truncate flex items-center gap-2 transition-colors duration-200 group-hover:text-zinc-600",style:{fontSize:"10px",maxWidth:"100%"},children:[u.jsx("span",{className:"truncate",children:e}),(typeof r=="number"||typeof n=="number")&&u.jsxs("span",{className:"text-[9px] text-zinc-400 whitespace-nowrap transition-colors duration-200 group-hover:text-sky-500",children:[typeof r=="number"?`${r.toFixed(1)} km`:"",typeof r=="number"&&typeof n=="number"?" · ":"",typeof n=="number"?`${n} min`:""]})]}),u.jsx("div",{className:"mt-1 font-poppins transition-colors duration-200 group-hover:text-zinc-800 dark:group-hover:text-white",style:{fontSize:l,fontWeight:c,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t.name,children:t.name}),u.jsxs("div",{className:"font-poppins transition-colors duration-200 group-hover:text-sky-600",style:{fontSize:d,color:p,fontWeight:g,overflow:"hidden"},children:["₦",Number(t.price).toLocaleString()]}),u.jsx("button",{onClick:K=>{K.stopPropagation(),V(!0),setTimeout(()=>V(!1),150),s()},className:`absolute bottom-3 right-3 h-8 w-8 flex items-center justify-center border border-solid btn-interactive transition-all duration-200 hover:scale-110 hover:shadow-lg ${A?"scale-90 shadow-inner":"active:scale-95"}`,style:{borderColor:m,borderRadius:y||"6px",background:A?m:"transparent",boxShadow:A?`inset 0 2px 4px rgba(0,0,0,0.2), 0 0 0 2px ${m}40`:void 0},onMouseEnter:K=>{A||(K.target.style.backgroundColor=m,K.target.querySelector("svg").style.color="white")},onMouseLeave:K=>{A||(K.target.style.backgroundColor="transparent",K.target.querySelector("svg").style.color=m)},children:u.jsx(kee,{color:A?"white":m,size:16,className:`transition-all duration-200 ${A?"animate-pulse":""}`})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{borderRadius:y||"10px"}})]})}function A0({className:t="",style:e={},lines:r=3,desktopAlign:n="center"}){const i=n==="left"?"lg:justify-start lg:pl-12":"lg:justify-center";return u.jsxs("div",{className:`w-screen h-screen flex items-center justify-center ${i} bg-white dark:bg-gray-900 ${t}`,style:e,role:"status","aria-live":"polite",children:[u.jsx("div",{className:"animate-fadeInScale",children:u.jsxs("picture",{children:[u.jsx("source",{media:"(min-width: 1024px)",srcSet:"/DesktopLoading.svg"}),u.jsx("img",{src:"/Loading.svg",alt:"Loading",className:"w-full h-full object-contain lg:object-cover lg:w-screen lg:h-screen animate-pulse-gentle"})]})}),u.jsx("span",{className:"sr-only",children:"Loading"})]})}function K0(){const[t,e]=L.useState(null),[r,n]=L.useState("Fetching location..."),[i,s]=L.useState(null),[a,o]=L.useState(!0);return L.useEffect(()=>{if(!navigator.geolocation){n("Location not supported"),s("Geolocation is not supported by this browser"),o(!1);return}const l={enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5};navigator.geolocation.getCurrentPosition(async c=>{const{latitude:d,longitude:p}=c.coords;e({latitude:d,longitude:p}),s(null);try{const m=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${d}&lon=${p}`,{timeout:5e3})).json();n(m.display_name||"Location unavailable")}catch(g){console.warn("Failed to fetch address:",g),n("Location detected")}finally{o(!1)}},c=>{switch(console.warn("Geolocation error:",c),s(c.message),o(!1),c.code){case c.PERMISSION_DENIED:n("Location permission denied");break;case c.POSITION_UNAVAILABLE:n("Location unavailable");break;case c.TIMEOUT:n("Location request timeout");break;default:n("Location error occurred");break}},l)},[]),{userCoords:t,location:r,locationError:i,isLoading:a}}function jF(t){if(!t)return null;if(t.coordinates&&typeof t.coordinates=="object"){if(t.coordinates.latitude&&t.coordinates.longitude)return{latitude:Number(t.coordinates.latitude),longitude:Number(t.coordinates.longitude)};if(t.coordinates.lat&&t.coordinates.lng)return{latitude:Number(t.coordinates.lat),longitude:Number(t.coordinates.lng)};if(t.coordinates.lat&&t.coordinates.lon)return{latitude:Number(t.coordinates.lat),longitude:Number(t.coordinates.lon)}}if(t.latitude&&t.longitude)return{latitude:Number(t.latitude),longitude:Number(t.longitude)};if(t.lat&&t.lng)return{latitude:Number(t.lat),longitude:Number(t.lng)};if(t.lat&&t.lon)return{latitude:Number(t.lat),longitude:Number(t.lon)};if(t.location&&typeof t.location=="object"){if(t.location.latitude&&t.location.longitude)return{latitude:Number(t.location.latitude),longitude:Number(t.location.longitude)};if(t.location.lat&&t.location.lng)return{latitude:Number(t.location.lat),longitude:Number(t.location.lng)}}if(t.coords&&typeof t.coords=="object"){if(t.coords.latitude&&t.coords.longitude)return{latitude:Number(t.coords.latitude),longitude:Number(t.coords.longitude)};if(t.coords.lat&&t.coords.lng)return{latitude:Number(t.coords.lat),longitude:Number(t.coords.lng)}}return null}function Q2(t,e,r,n){const s=(r-t)*Math.PI/180,a=(n-e)*Math.PI/180,o=Math.sin(s/2)**2+Math.cos(t*Math.PI/180)*Math.cos(r*Math.PI/180)*Math.sin(a/2)**2;return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))}function LF(t,e="driving"){if(!Number.isFinite(t)||t<=0)return null;const r={walking:5,cycling:15,driving:30},n=r[e]||r.driving,i=t/n,s=Math.round(i*60);let a;if(s<1)a="< 1 min";else if(s<60)a=`${s} min${s!==1?"s":""}`;else{const o=Math.floor(s/60),l=s%60;l===0?a=`${o} hr${o!==1?"s":""}`:a=`${o}h ${l}m`}return{minutes:s,formatted:a,distance:t,mode:e}}function Nee(t,e,r="driving"){if(!t||t.length===0||!e)return null;let n=null,i=1/0,s=null;return t.forEach(a=>{const o=jF(a);if(o){const l=Q2(e.latitude,e.longitude,o.latitude,o.longitude);l<i&&(i=l,n=a,s=LF(l,r))}}),n?{pharmacy:n,eta:s,distance:i}:null}function Rk(t,e,r="driving"){const n=jF(t);if(!n||!e)return null;const i=Q2(e.latitude,e.longitude,n.latitude,n.longitude);return LF(i,r)}const FF=L.createContext(),J2=()=>{const t=L.useContext(FF);if(!t)throw new Error("useSettings must be used within a SettingsProvider");return t},Ar={SWIPE_NAVIGATION:"swipe_navigation_enabled",THEME_MODE:"theme_mode",LANGUAGE:"language",FONT_SIZE:"font_size",BIOMETRIC_LOGIN:"biometric_login_enabled",AUTO_LOCK:"auto_lock_timeout",LOCATION_PRECISION:"location_precision",MESSAGE_READ_RECEIPTS:"message_read_receipts",ORDER_NOTIFICATIONS:"order_notifications_enabled",PRESCRIPTION_REMINDERS:"prescription_reminders_enabled",DATA_SAVER_MODE:"data_saver_mode_enabled",HIGH_CONTRAST:"high_contrast_enabled",REDUCE_MOTION:"reduce_motion_enabled"},$w={[Ar.SWIPE_NAVIGATION]:!1,[Ar.THEME_MODE]:"light",[Ar.LANGUAGE]:"en",[Ar.FONT_SIZE]:"small",[Ar.BIOMETRIC_LOGIN]:!1,[Ar.AUTO_LOCK]:"5min",[Ar.LOCATION_PRECISION]:"precise",[Ar.MESSAGE_READ_RECEIPTS]:!0,[Ar.ORDER_NOTIFICATIONS]:!0,[Ar.PRESCRIPTION_REMINDERS]:!0,[Ar.DATA_SAVER_MODE]:!1,[Ar.HIGH_CONTRAST]:!1,[Ar.REDUCE_MOTION]:!1},Tee=({children:t})=>{const[e,r]=L.useState($w),[n,i]=L.useState(!0);L.useEffect(()=>{try{const c=localStorage.getItem("app_settings");if(c){const d=JSON.parse(c);r(p=>({...p,...d}))}}catch(c){console.error("Error loading settings:",c)}finally{i(!1)}},[]),L.useEffect(()=>{if(!n)try{localStorage.setItem("app_settings",JSON.stringify(e))}catch(c){console.error("Error saving settings:",c)}},[e,n]);const l={settings:e,updateSetting:(c,d)=>{r(p=>({...p,[c]:d}))},getSetting:c=>e[c]??$w[c],resetSettings:()=>{r($w)},isLoading:n};return u.jsx(FF.Provider,{value:l,children:t})},Aee=L.createContext(),sC={en:{home:"Home",cart:"Cart",messages:"Messages",orders:"Orders",settings:"Settings",notifications:"Notifications",search:"Search",back:"Back",continue:"Continue",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",message:"Message",sent:"Sent",delivered:"Delivered",read:"Read",type_message:"Type a message...",send:"Send",add_to_cart:"Add to Cart",buy_now:"Buy Now",price:"Price",out_of_stock:"Out of Stock",in_stock:"In Stock",product_description:"Product Description",product_unavailable:"Product unavailable. Please try again.",hello:"Hello",friend:"Friend",search_placeholder:"Search drugs, pharmacies",new_arrivals:"New Arrivals",view_all:"view all",popular_products:"Popular Products",all_new_products:"All New Products",load_more:"Load more",new:"New",close:"Close",please_sign_in:"Please sign in",your_pharmacy_location:"Your pharmacy location",location_services:"Location services",calculating_eta:"Calculating ETA...",fetching_location:"Fetching location...",nearest_pharmacy:"nearest pharmacy",to:"to",welcome_message:"Welcome to PharmaSeA",find_medicines:"Find medicines near you",fast_delivery:"Fast & reliable delivery",learn_more:"Learn more",get_started:"Get started",shop_now:"Shop now",order_now:"Order now",browse_catalog:"Browse catalog",special_offer:"Special Offer",limited_time:"Limited time offer",orders:"Orders",all:"All",pending:"Pending",processing:"Processing",fulfilled:"Fulfilled",cancelled:"Cancelled",no_orders_yet:"No orders yet.",order_number:"Order #",customer:"Customer",items:"Items",total:"Total",status:"Status",see_more:"See more",see_less:"See less",more_items:"more",reveal_number:"Reveal Number",please_sign_in_continue:"Please sign in to continue",sign_in_sign_up:"Sign In / Sign Up",qty:"Qty",my_conversations:`My
Conversations`,search_chats:"Search chats",no_conversations_yet:"No conversations yet.",no_messages_yet:"No messages yet.",cart:"Cart",your_cart_is_empty:"Your cart is empty.",remove:"Remove",subtotal:"Subtotal",delivery_fee:"Delivery Fee",total:"Total",proceed_to_checkout:"Proceed to Checkout",order_summary:"Order Summary",items:"Items",delivery_details:"Delivery Details",delivery_address:"Delivery Address",phone_number:"Phone Number",email_optional:"Email (Optional)",enter_delivery_address:"Enter delivery address",enter_phone_number:"Enter phone number",enter_email_address:"Enter email address",use_current_location:"Use current location",continue_to_payment:"Continue to Payment",payment_method:"Payment Method",pay_on_delivery:"Pay on Delivery",pay_with_cash_delivery:"Pay with cash when order arrives",online_payment:"Online Payment",pay_with_card:"Pay with card, bank transfer, or USSD",pay_with_card_bank_ussd:"Pay with card, bank transfer, or USSD",pay_with_cash_on_delivery:"Pay with cash when order arrives",use_your_health_insurance:"Use your health insurance",pay_with_insurance:"Pay with Insurance",use_health_insurance:"Use your health insurance",coming_soon:"Coming Soon",total_amount:"Total Amount",pay_now:"Pay Now",place_order:"Place Order",decrease_quantity:"Decrease quantity",increase_quantity:"Increase quantity",order_placement_failed:"Order placement failed",order_placed_delivery:"Order placed successfully! You'll pay on delivery.",payment_successful:"Payment successful! Your order has been placed.",checkout_failed:"Checkout failed. Please try again.",my_profile:"My Profile",pharmacy_profile:"Pharmacy Profile",edit_profile:"Edit Profile",edit:"Edit",save:"Save",cancel:"Cancel",close:"Close",view:"View",open:"Open",name:"Name",phone_number_profile:"Phone Number",address_profile:"Address",password:"Password",items_in_cart:"Items in Cart",active_chats:"Active Chats",saved_items:"Saved Items",drugs_bought:"Drugs Bought",all_drugs_bought:"All Drugs Bought",my_saved_items:"My Saved Items",products:"Products",vendors:"Vendors",no_products_saved:"No products saved",start_adding_products:"Start adding products you like!",no_vendors_bookmarked:"No vendors bookmarked",bookmark_vendors:"Bookmark vendors you like!",log_out:"Log Out",search_placeholder_profile:"Search prescriptions, orders, drugs...",prescriptions:"Prescriptions",orders_profile:"Orders",drugs:"Drugs",all_results:"All",times:"times",bought:"bought",no_search_results:"No results found",try_different_search:"Try a different search term",add_product:"Add Product",bulk_upload:"Bulk Upload",download_report:"Download report",download_csv:"Download CSV",download_excel:"Download Excel",inventory:"Inventory",edit_product:"Edit Product",delete_product:"Delete Product",products_sold:"Products Sold",active_chats:"Active Chats",reviews:"Reviews",no_products_yet:"No products yet. Use the buttons above to add or bulk‑upload.",edit_product:"Edit Product",product_image:"Product Image",image_url_placeholder:"Image URL (or choose file below)",product_description:"Product Description",enter_product_description:"Enter product description",confirm_delete_product:"Are you sure you want to delete this item?",yes_delete:"Yes, Delete",delete:"Delete",log_out:"Log Out",customer_reviews:"Customer Reviews",loading_reviews:"Loading reviews…",no_reviews_yet:"No reviews yet. Be the first to review!",pharmacy_response:"{pharmacyName} Response",message_vendor:"Message Vendor",call_to_order:"Call to Order",your_name:"Your Name",your_review_optional:"Your review... (optional)",back:"Back",call_to_order:"Call to Order",get_directions:"Get Directions",category:"Category",add_to_cart:"Add to Cart",message_vendor:"Message Vendor",share_product:"Share Product",close:"Close",loading:"Loading…",no_products_found:"No products found.",leave_a_review:"Leave a Review",your_name:"Your Name",your_review_optional:"Your review... (optional)",submit_review:"Submit Review",submitting:"Submitting…",see_more:"See more",show_less:"Show less",products_in_category:'Products in "{category}"',eta_to_pharmacy:"{time} to {pharmacy}",calculating_eta:"Calculating ETA...",fetching_location:"Fetching location...",shareable_link_copied:"Shareable link copied to clipboard!",copy_this_link:"Copy this link:",please_sign_in_wishlist:"Please sign in to add items to your wishlist",failed_update_wishlist:"Failed to update wishlist. Please try again.",please_sign_in:"Please sign in",product_unavailable:"Product unavailable. Please try again.",failed_add_to_cart:"Failed to add to cart.",reviews_section:"Reviews",no_reviews_yet:"No reviews yet. Be the first to review!",helpful:"Helpful",vendor_profile:"Vendor Profile",products_by:"Products by",vendor:"Vendor",of:"of",no_products_found_search:"No products found matching your search.",no_products_yet:"No products yet.",customers_only_chat:"Only customers can start a chat with a pharmacy.",could_not_start_chat:"Could not start chat thread.",pharmacy_report:"Pharmacy Report",field:"Field",value:"Value",pharmacy:"Pharmacy",email:"Email",address:"Address",phone:"Phone",product_name:"Product Name",category:"Category",stock:"Stock",sku:"SKU",price:"Price",order_id:"Order ID",customer:"Customer",status:"Status",date:"Date",products:"Products",add_to_bookmarks:"Add to bookmarks",remove_from_bookmarks:"Remove from bookmarks",search_by_name_category_sku:"Search by name, category, or SKU...",view_results:"View Results",clear:"Clear",nearby_pharmacies:"Nearby Pharmacies",pharmacies_found_near_you:"{count} found near you",loading_location:"Loading location...",filter_pharmacies:"Filter pharmacies",pharmacies_found_near_you_detailed:"{count} pharmacies found near you",your_location:"Your location",getting_your_location:"Getting your location...",location_access_needed:"Location access needed",allow_location_access_etas:"Please allow location access for accurate ETAs",enable_location_services:"Enable location services to see nearby pharmacies",search_pharmacies:"Search pharmacies...",no_pharmacies_found:"No pharmacies found",try_different_search:"Try a different search term",name:"Name",address:"Address",keyboard_navigation_hint:"Use ↑↓ arrow keys to navigate, Enter to select, Esc to close",distance:"Distance",all:"All",within_5km:"Within 5km",within_10km:"Within 10km",within_20km:"Within 20km",you_are_here:"You are here",pharmacy_locations:"Pharmacy Locations",pharmacies_sorted_by_distance:"{count} pharmacies • Sorted by distance",pharmacy:"Pharmacy",selected:"Selected",calculating:"Calculating...",closest:"Closest",get_directions:"Get Directions",call:"Call",call_pharmacy:"Call pharmacy",view_products:"View Products",search_results:"Search Results",all_pharmacies:"All Pharmacies",pharmacies_found_count:"{count} found",no_pharmacies_found_search:"No pharmacies found matching your search",no_pharmacies_found_general:"No pharmacies found",try_adjusting_search:"Try adjusting your search terms",try_adjusting_location:"Try adjusting your location or check back later",clear_search:"Clear search",today:"Today",yesterday:"Yesterday",sent:"Sent",delivered:"Delivered",read:"Read",customer:"Customer",pharmacy:"Pharmacy",prescription_created:"A new prescription has been created.",drug_inquiry:"I want to know more about this drug {productName}{priceText}.",call:"Call",call_pharmacy_title:"Call {pharmacy}",no_phone_number:"No phone number",actions:"Actions",create_prescription:"Create Prescription",view_prescription_history:"View Prescription History",load_more_messages:"Load {count} more messages",start_conversation:"Start your conversation",message_placeholder:"Message",attachments_coming_soon:"Attachments coming soon",my_dashboard:"My Dashboard",overview:"Overview",top_products:"Top Products",best_sellers:"Best Sellers",no_sales_data:"No sales data yet",start_selling_message:"Start selling products to see your top performers",units_sold:"{count} units sold",units:"units",total_products:"Total Products",total_orders:"Total Orders",total_revenue:"Total Revenue",active_customers:"Active Customers",this_month:"This Month",avg_order_value:"Avg Order Value",pending_orders:"Pending Orders",awaiting:"Awaiting",low_stock_items:"Low Stock Items",need_restock:"Need Restock",orders_this_month:"Orders This Month",no_comparison:"No comparison",pending_reviews:"Pending Reviews",need_response:"Need Response",recent_reviews:"Recent Reviews",last_24h:"Last 24h",low_stock_alert:"Low Stock Alert",items_need_restocking:"{count} item{plural} need restocking",inventory_tip:"Check your inventory to avoid running out of popular products",recent_messages:"Recent Messages",no_recent_messages:"No recent messages.",no_recent_reviews:"No recent reviews",new_reviews_appear_here:"New customer reviews will appear here",view_all:"View All",by_customer:"by {customerName}",needs_response:"Needs Response",view_more_reviews:"View {count} more review{plural}",revenue_analytics:"Revenue Analytics",total:"Total",by_month:"By Month",by_year:"By Year",month_number:"Month {number}",no_revenue_data:"No revenue data available",start_selling_revenue:"Start making sales to see your revenue analytics",best_performing_period:"Best Performing {period}",month_label:"Month",year_label:"Year",sales_trends:"Sales Trends",last_6_months:"Last 6 months",no_sales_trend_data:"No sales trend data.",orders_count:"{count} order{plural}",reviews_management:"Reviews Management",filters_sort:"Filters & Sort",total_reviews:"Total Reviews",responded:"Responded",avg_rating:"Avg Rating",positive_reviews:"Positive (4+ ⭐)",product:"Product",all_products:"All Products",sort_by:"Sort By",newest_first:"Newest First",oldest_first:"Oldest First",highest_rating:"Highest Rating",lowest_rating:"Lowest Rating",filter_by:"Filter By",all_reviews:"All Reviews",positive_4_stars:"Positive (4+ stars)",negative_1_2_stars:"Negative (1-2 stars)",no_reviews_found:"No reviews found",no_reviews_yet_message:"You don't have any reviews yet. Encourage customers to leave reviews by providing excellent service and follow-up communication!",no_reviews_match_filters:"No reviews match your current filters. Try adjusting your search criteria.",medicine:"Medicine",reviewed_by:"Reviewed by",verified:"Verified",people_found_helpful:"{count} people found this helpful",your_response:"Your Response",cancel_response:"Cancel Response",respond_to_review:"Respond to Review",write_thoughtful_response:"Write a thoughtful response to this review...",submit_response:"Submit Response",response_submitted_success:"Response submitted successfully!",response_submit_failed:"Failed to submit response. Please try again.",loading_reviews:"Loading your reviews...",loading_please_wait:"Please wait while we fetch your data",my_prescriptions:"My Prescriptions",add_to_calendar:"Add to Calendar",no_prescriptions_found:"No prescriptions found.",see_more_count:"See more ({count})",see_less:"See less",time_to_take_medicine:"Time to take {drugName}",take_medicine:"Take {drugName}",dosage_frequency:"Dosage: {dosage} ({frequency})",my_activity:"My Activity",active_chats:"Active Chats",storefront_preview:"Storefront Preview",inventory:"Inventory",products_sold:"Products Sold",general:"General",appearance:"Appearance",language_region:"Language & Region",privacy_security:"Privacy & Security",accessibility:"Accessibility",swipe_navigation:"Swipe Navigation",data_saver_mode:"Data Saver Mode",read_receipts:"Read Receipts",theme:"Theme",font_size:"Font Size",app_language:"App Language",add_product_title:"Add New Product",product_name:"Product Name",product_name_placeholder:"Enter product name",product_price:"Price",product_price_placeholder:"Enter price",product_category:"Category",select_category:"Select Category",prescription_drugs:"Prescription Drugs",over_counter:"Over-the-counter",general_pills:"General Pills",controlled_substances:"Controlled Substances",syrup_liquid:"Syrup/Liquid",therapeutic_drugs:"Therapeutic Drugs",supplements_vitamins:"Supplements & Vitamins",stock_quantity:"Stock Quantity",stock_placeholder:"Enter stock quantity",product_sku:"SKU",sku_placeholder:"Enter SKU (optional)",product_tags:"Tags",tags_placeholder:"Add tags separated by commas",product_image:"Product Image",upload_image:"Upload Image",image_url:"Image URL",image_url_placeholder:"Or enter image URL",product_description:"Description",description_placeholder:"Enter product description",uploading:"Uploading...",create_product:"Create Product",creating_product:"Creating Product...",product_created_success:"Product created successfully!",error_creating_product:"Error creating product. Please try again.",please_fill_required:"Please fill in all required fields",invalid_price:"Please enter a valid price"},yo:{home:"Ile",cart:"Agolo",messages:"Ifiranše",orders:"Awọn ibere",settings:"Eto",notifications:"Iwifun",search:"Wa",back:"Pada",continue:"Tẹsiwaju",save:"Tọju",cancel:"Fagile",delete:"Pa rẹ",edit:"Ṣatunkọ",loading:"N gbe...",profile:"Profaili",message:"Ifiranşe",sent:"Ti fi ranşe",delivered:"Ti gba",read:"Ti ka",type_message:"Kọ ifiranše...",send:"Fi ranše",hello:"Bawo",friend:"Ore",search_placeholder:"Wa oogun, ile oogun",new_arrivals:"Awọn tuntun",view_all:"wo gbogbo",popular_products:"Awọn oogun olokiki",all_new_products:"Gbogbo oogun tuntun",load_more:"Gbe siwaju",new:"Tuntun",close:"Ti",please_sign_in:"Jọwọ wọle",your_pharmacy_location:"Ipo ile oogun rẹ",location_services:"Awọn iṣẹ ipo",calculating_eta:"N ṣe iṣiro akoko...",fetching_location:"N gba ipo...",nearest_pharmacy:"ile oogun to sunmọ",to:"si",welcome_message:"Kaabo si PharmaSeA",find_medicines:"Wa awọn oogun to wa nitosi rẹ",fast_delivery:"Ifijiṣẹ to yara ati to gbẹkẹle",learn_more:"Kọ siwaju si",get_started:"Bẹrẹ",shop_now:"Ra ni bayi",order_now:"Bere ni bayi",browse_catalog:"Wo awọn oogun wa",special_offer:"Ipese Pataki",limited_time:"Ipese akoko die",orders:"Awọn ibere",all:"Gbogbo",pending:"Ti nduro",processing:"N ṣiṣẹ",fulfilled:"Ti pari",cancelled:"Ti fagile",no_orders_yet:"Ko si ibere kankan sibẹ.",order_number:"Ibere #",customer:"Onibara",items:"Awọn nkan",total:"Lapapọ",status:"Ipo",see_more:"Wo siwaju si",see_less:"Wo diẹ kere si",more_items:"siwaju si",reveal_number:"Fi nọmba han",please_sign_in_continue:"Jọwọ wọle lati tẹsiwaju",sign_in_sign_up:"Wọle / Forukọsilẹ",qty:"Iye",my_conversations:`Awọn
Iforọranṣẹ Mi`,search_chats:"Wa awọn iforọranṣẹ",no_conversations_yet:"Ko si iforọranṣẹ kankan sibẹ.",no_messages_yet:"Ko si ifiranṣẹ kankan sibẹ.",cart:"Agolo",your_cart_is_empty:"Agolo rẹ ko ni nkankan.",remove:"Yo kuro",subtotal:"Apapọ kekere",delivery_fee:"Owo ifijiṣẹ",total:"Lapapọ",proceed_to_checkout:"Tẹsiwaju si isanwo",order_summary:"Akopọ ibere",items:"Awọn nkan",delivery_details:"Awọn alaye ifijiṣẹ",delivery_address:"Adiresi ifijiṣẹ",phone_number:"Nọmba foonu",email_optional:"Imeeli (Ti o ba fẹ)",enter_delivery_address:"Tẹ adiresi ifijiṣẹ",enter_phone_number:"Tẹ nọmba foonu",enter_email_address:"Tẹ adiresi imeeli",use_current_location:"Lo ipo oni bayi",continue_to_payment:"Tẹsiwaju si isanwo",payment_method:"Ona isanwo",pay_on_delivery:"San nigba ifijiṣẹ",pay_with_cash_delivery:"San pẹlu owo nigba ti ibere ba de",online_payment:"Isanwo ori ayelujara",pay_with_card:"San pẹlu kaadi, gbigbe owo banki, tabi USSD",pay_with_card_bank_ussd:"San pẹlu kaadi, gbigbe owo banki, tabi USSD",pay_with_cash_on_delivery:"San pẹlu owo nigba ti ibere ba de",use_your_health_insurance:"Lo idaabobo ilera rẹ",pay_with_insurance:"San pẹlu idaabobo",use_health_insurance:"Lo idaabobo ilera rẹ",coming_soon:"O nbọ laipẹ",total_amount:"Iye lapapọ",pay_now:"San ni bayi",place_order:"Gbe ibere kalẹ",decrease_quantity:"Din iye ku",increase_quantity:"Pọ si iye",order_placement_failed:"Gbigbe ibere kalẹ kuna",order_placed_delivery:"A ti gbe ibere kalẹ ni aṣeyọri! O ma san nigba ifijiṣẹ.",payment_successful:"Isanwo aṣeyọri! A ti gbe ibere rẹ kalẹ.",checkout_failed:"Isanwo kuna. Jọwọ gbiyanju lẹẹkansi.",my_profile:"Profaili Mi",pharmacy_profile:"Profaili Ile-oogun",edit_profile:"Ṣatunṣe Profaili",edit:"Ṣatunṣe",save:"Fi pamọ",cancel:"Fagilee",close:"Ti",view:"Wo",open:"Ṣi",name:"Orukọ",phone_number_profile:"Nọmba Foonu",address_profile:"Adiresi",password:"Ọrọ aṣina",items_in_cart:"Awọn nkan ninu agolo",active_chats:"Awọn ibaraẹnisọrọ ti nṣiṣẹ",saved_items:"Awọn nkan ti a fi pamọ",drugs_bought:"Awọn oogun ti a ra",all_drugs_bought:"Gbogbo awọn oogun ti a ra",my_saved_items:"Awọn nkan ti mo fi pamọ",products:"Awọn ọja",vendors:"Awọn olutaja",no_products_saved:"Ko si ọja ti a fi pamọ",start_adding_products:"Bẹrẹ fifi awọn ọja ti o fẹran si!",no_vendors_bookmarked:"Ko si olutaja ti a ṣaami",bookmark_vendors:"Ṣe aami awọn olutaja ti o fẹran!",log_out:"Jade",search_placeholder_profile:"Wa awọn atọrọ, awọn ibere, oogun...",prescriptions:"Awọn atọrọ",orders_profile:"Awọn ibere",drugs:"Awọn oogun",all_results:"Gbogbo",times:"igba",bought:"ti a ra",no_search_results:"Ko si abajade",try_different_search:"Gbiyanju ọrọ wiwa miiran",back:"Pada",call_to_order:"Pe lati gbe ibere",get_directions:"Gba itọsọna",category:"Isọri",add_to_cart:"Fi si agolo",message_vendor:"Firanṣẹ si olutaja",share_product:"Pin ọja",close:"Ti",loading:"Ngbigba...",no_products_found:"Ko si ọja ti a ri.",leave_a_review:"Fi atunyẹwo silẹ",your_name:"Orukọ rẹ",your_review_optional:"Atunyẹwo rẹ... (ti o ba fẹ)",submit_review:"Fi atunyẹwo ranṣẹ",submitting:"Nfiranṣẹ...",see_more:"Wo siwaju si",show_less:"Fi diẹ han",products_in_category:'Awọn ọja ninu "{category}"',eta_to_pharmacy:"{time} si {pharmacy}",calculating_eta:"Nṣiro akoko...",fetching_location:"Ngba ipo...",shareable_link_copied:"A ti daakọ ọna asopọ pinpin si clipboard!",copy_this_link:"Daakọ ọna asopọ yii:",please_sign_in_wishlist:"Jọwọ wọle lati fi awọn nkan si atokọ ifẹ rẹ",failed_update_wishlist:"Kuna lati ṣe imudojuiwọn atokọ ifẹ. Jọwọ gbiyanju lẹẹkansi.",please_sign_in:"Jọwọ wọle",product_unavailable:"Ọja ko si. Jọwọ gbiyanju lẹẹkansi.",failed_add_to_cart:"Kuna lati fi si agolo.",reviews_section:"Awọn atunyẹwo",no_reviews_yet:"Ko si atunyẹwo sibẹ. Jẹ ẹni akọkọ lati ṣe atunyẹwo!",helpful:"To wulo",vendor_profile:"Profaili Olutaja",products_by:"Awọn ọja nipasẹ",vendor:"Olutaja",of:"ninu",no_products_found_search:"Ko si ọja ti a ri ti o baamu wiwa rẹ.",no_products_yet:"Ko si ọja sibẹ.",customers_only_chat:"Awọn alabara nikan lo le bẹrẹ ibaraẹnisọrọ pẹlu ile-oogun.",could_not_start_chat:"Ko le bẹrẹ okun ibaraẹnisọrọ.",pharmacy_report:"Ijabọ ile-oogun",field:"Aaye",value:"Iye",pharmacy:"Ile-oogun",email:"Imeeli",address:"Adiresi",phone:"Foonu",product_name:"Orukọ ọja",category:"Isọri",stock:"Ipamọ",sku:"SKU",price:"Idiyele",order_id:"ID ibere",customer:"Alabara",status:"Ipo",date:"Ọjọ",products:"Awọn ọja",add_to_bookmarks:"Fi si awọn aami iwe",remove_from_bookmarks:"Yo kuro ninu awọn aami iwe",search_by_name_category_sku:"Wa nipasẹ orukọ, isọri, tabi SKU...",view_results:"Wo awọn abajade",clear:"Nu",nearby_pharmacies:"Awọn Ile-oogun Nitosi",pharmacies_found_near_you:"{count} ti a ri nitosi rẹ",loading_location:"N gba ipo...",filter_pharmacies:"Ṣe ajọ awọn ile-oogun",pharmacies_found_near_you_detailed:"Awọn ile-oogun {count} ti a ri nitosi rẹ",your_location:"Ipo rẹ",getting_your_location:"N gba ipo rẹ...",location_access_needed:"A nilo iwọle si ipo",allow_location_access_etas:"Jọwọ gba iwọle si ipo fun awọn akoko to peye",enable_location_services:"Mu awọn iṣẹ ipo ṣiṣẹ lati ri awọn ile-oogun nitosi",search_pharmacies:"Wa awọn ile-oogun...",no_pharmacies_found:"Ko ri ile-oogun kankan",try_different_search:"Gbiyanju ọrọ wiwa miiran",name:"Orukọ",address:"Adiresi",keyboard_navigation_hint:"Lo awọn bọtini ↑↓ lati lilọ, Enter lati yan, Esc lati ti",distance:"Ijinna",all:"Gbogbo",within_5km:"Laarin 5km",within_10km:"Laarin 10km",within_20km:"Laarin 20km",you_are_here:"O wa nibi",pharmacy_locations:"Awọn Ipo Ile-oogun",pharmacies_sorted_by_distance:"Awọn ile-oogun {count} • Ti a to ni ọna ijinna",pharmacy:"Ile-oogun",selected:"Ti a yan",calculating:"N ṣe iṣiro...",closest:"Ti o sunmọ julọ",get_directions:"Gba Itọsọna",call:"Pe",call_pharmacy:"Pe ile-oogun",view_products:"Wo Awọn Ọja",search_results:"Awọn Abajade Wiwa",all_pharmacies:"Gbogbo Awọn Ile-oogun",pharmacies_found_count:"{count} ti a ri",no_pharmacies_found_search:"Ko ri ile-oogun ti o baamu wiwa rẹ",no_pharmacies_found_general:"Ko ri ile-oogun kankan",try_adjusting_search:"Gbiyanju ṣe atunṣe awọn ọrọ wiwa rẹ",try_adjusting_location:"Gbiyanju ṣe atunṣe ipo rẹ tabi padanu nigbamii",clear_search:"Nu wiwa",today:"Oni",yesterday:"Ana",sent:"Ti fi ranṣẹ",delivered:"Ti gba",read:"Ti ka",customer:"Alabara",pharmacy:"Ile-oogun",prescription_created:"A ti ṣe iwe-aṣẹ oogun tuntun.",drug_inquiry:"Mo fẹ mọ diẹ sii nipa oogun yii {productName}{priceText}.",call:"Pe",call_pharmacy_title:"Pe {pharmacy}",no_phone_number:"Ko si nọmba foonu",actions:"Awọn iṣe",create_prescription:"Ṣe Iwe-aṣẹ Oogun",view_prescription_history:"Wo Itan Iwe-aṣẹ Oogun",load_more_messages:"Gbe awọn ifiranṣẹ {count} sii",start_conversation:"Bẹrẹ ibaraẹnisọrọ rẹ",message_placeholder:"Ifiranṣẹ",attachments_coming_soon:"Awọn aṣopọ n bọ laipe",my_dashboard:"Pátákó Mi",overview:"Akopọ",top_products:"Awọn Ọja Giga",best_sellers:"Awọn Ti O Ta Julọ",no_sales_data:"Ko si data tita sibẹ",start_selling_message:"Bẹrẹ tita awọn ọja lati ri awọn ti o ṣe daradara",units_sold:"Awọn ẹya {count} ti a ta",units:"awọn ẹya",total_products:"Lapapọ Awọn Ọja",total_orders:"Lapapọ Awọn Ibere",total_revenue:"Lapapọ Owo Wiwọle",active_customers:"Awọn Alabara Ti Nṣiṣẹ",this_month:"Oṣu Yii",avg_order_value:"Idiye Ibere Aarin",pending_orders:"Awọn Ibere Ti Nduro",awaiting:"N duro",low_stock_items:"Awọn Ọja Ti Ko To",need_restock:"Nilo Ṣe Ipamọ",orders_this_month:"Awọn Ibere Oṣu Yii",no_comparison:"Ko si afiwe",pending_reviews:"Awọn Atunyẹwo Ti Nduro",need_response:"Nilo Idahun",recent_reviews:"Awọn Atunyẹwo Aipẹ",last_24h:"Wakati 24 sẹhin",low_stock_alert:"Ikilọ Ipamọ Kekere",items_need_restocking:"Awọn nkan {count} nilo atunkọ ipamọ",inventory_tip:"Ṣayẹwo ipamọ rẹ lati yago fun sisọnu awọn ọja olokiki",recent_messages:"Awọn Ifiranṣẹ Aipẹ",no_recent_messages:"Ko si awọn ifiranṣẹ aipẹ.",no_recent_reviews:"Ko si awọn atunyẹwo aipẹ",new_reviews_appear_here:"Awọn atunyẹwo alabara tuntun yoo han nibi",view_all:"Wo Gbogbo",by_customer:"nipasẹ {customerName}",needs_response:"Nilo Idahun",view_more_reviews:"Wo awọn atunyẹwo {count} sii",revenue_analytics:"Itupalẹ Owo Wiwọle",total:"Lapapọ",by_month:"Nipasẹ Oṣu",by_year:"Nipasẹ Ọdun",month_number:"Oṣu {number}",no_revenue_data:"Ko si data owo wiwọle",start_selling_revenue:"Bẹrẹ tita lati ri itupalẹ owo wiwọle rẹ",best_performing_period:"Asiko Ti O Ṣe Daradara Julọ {period}",month_label:"Oṣu",year_label:"Ọdun",sales_trends:"Awọn Ilọsiwaju Tita",last_6_months:"Oṣu 6 sẹhin",no_sales_trend_data:"Ko si data ilọsiwaju tita.",orders_count:"Awọn ibere {count}",reviews_management:"Iṣakoso Awọn Atunyẹwo",filters_sort:"Awọn Àṣẹ ati Tito",total_reviews:"Lapapọ Awọn Atunyẹwo",responded:"Ti Dahun",avg_rating:"Iwọn Aarin",positive_reviews:"Rere (4+ ⭐)",product:"Ọja",all_products:"Gbogbo Awọn Ọja",sort_by:"To Nipasẹ",newest_first:"Tuntun Ni Akọkọ",oldest_first:"Atijọ Ni Akọkọ",highest_rating:"Iwọn Giga Julọ",lowest_rating:"Iwọn Kekere Julọ",filter_by:"Àṣẹ Nipasẹ",all_reviews:"Gbogbo Awọn Atunyẹwo",positive_4_stars:"Rere (4+ irawo)",negative_1_2_stars:"Buburu (1-2 irawo)",no_reviews_found:"Ko ri atunyẹwo kankan",no_reviews_yet_message:"O ko ni awọn atunyẹwo sibẹ. Gba awọn alabara niyanju lati fi awọn atunyẹwo silẹ nipa ipese iṣẹ to dara ati ibaraẹnisọrọ atẹle!",no_reviews_match_filters:"Ko si atunyẹwo ti o baamu awọn àṣẹ rẹ lọwọlọwọ. Gbiyanju ṣatunṣe awọn ami wiwa rẹ.",medicine:"Oogun",reviewed_by:"Ti a ṣe atunyẹwo nipasẹ",verified:"Ti a Ṣe Idaniloju",people_found_helpful:"Awọn eniyan {count} ri eyi ni iranlọwọ",your_response:"Idahun Rẹ",cancel_response:"Pa Idahun Rẹ",respond_to_review:"Dahun si Atunyẹwo",write_thoughtful_response:"Kọ idahun ti o ni ero si atunyẹwo yii...",submit_response:"Fi Idahun Ranṣẹ",response_submitted_success:"Idahun ti fi ranṣẹ ni aṣeyọri!",response_submit_failed:"Kuna lati fi idahun ranṣẹ. Jọwọ gbiyanju lẹẹkansi.",loading_reviews:"Ngba awọn atunyẹwo rẹ...",loading_please_wait:"Jọwọ duro nigba ti a n gba data rẹ",my_prescriptions:"Awọn Iwe-aṣẹ Oogun Mi",add_to_calendar:"Fi si Kalenda",no_prescriptions_found:"Ko ri iwe-aṣẹ oogun kankan.",see_more_count:"Wo sii ({count})",see_less:"Wo kere",time_to_take_medicine:"Akoko lati mu {drugName}",take_medicine:"Mu {drugName}",dosage_frequency:"Iwọn: {dosage} ({frequency})",my_activity:"Iṣẹ Mi",active_chats:"Awọn Ibaraẹnisọrọ Ti Nṣiṣẹ",storefront_preview:"Iwoye Ile-itaja",inventory:"Ipamọ",products_sold:"Awọn Ọja Ti A Ta",add_product:"Fi ọja kun",bulk_upload:"Gbigbe ọpọlọpọ",download_report:"Gba ijabọ",download_csv:"Gba CSV",download_excel:"Gba Excel",inventory:"Ibi ipamọ ọja",edit_product:"Ṣatunṣe ọja",delete_product:"Pa ọja rẹ",products_sold:"Awọn ọja ti a ta",active_chats:"Awọn ibaraẹnisọrọ ti nṣiṣẹ",reviews:"Awọn atunyẹwo",no_products_yet:"Ko si ọja sibẹsibẹ. Lo awọn bọtini ti o wa loke lati ṣafikun tabi gbé-gbe soke.",edit_product:"Ṣatunṣe Ọja",product_image:"Aworan Ọja",image_url_placeholder:"URL aworan (tabi yan faili ti o wa nisalẹ)",product_description:"Apejuwe Ọja",enter_product_description:"Tẹ apejuwe ọja sii",confirm_delete_product:"Ṣe o da ọ loju pe o fẹ pa nkan yii rẹ?",yes_delete:"Bẹẹni, Pa rẹ",delete:"Pa rẹ",log_out:"Jade",customer_reviews:"Awọn Atunyẹwo Alabara",loading_reviews:"N gba awọn atunyẹwo…",no_reviews_yet:"Ko si atunyẹwo sibẹ. Jẹ ki o jẹ ọkọ akoko lati ṣe atunyẹwo!",pharmacy_response:"Idahun {pharmacyName}",message_vendor:"Ranṣẹ si Olutasọja",call_to_order:"Pe lati Bẹẹrẹ",your_name:"Oruko Rẹ",your_review_optional:"Atunyẹwo rẹ... (ni afoye)",general:"Gbogbogbo",appearance:"Irisi",language_region:"Ede & Agbegbe",privacy_security:"Aṣiri & Aabo",accessibility:"Iwọle",swipe_navigation:"Lilọ pẹlu fifọ",data_saver_mode:"Ipo itọju data",read_receipts:"Iwe eriwo kika",theme:"Koko",font_size:"Iwọn lẹta",app_language:"Ede ohun elo",add_product_title:"Ṣafikun Ọja Tuntun",product_name:"Orukọ Ọja",product_name_placeholder:"Tẹ orukọ ọja",product_price:"Idiyele",product_price_placeholder:"Tẹ idiyele",product_category:"Ẹka",select_category:"Yan Ẹka",prescription_drugs:"Awọn Oogun Iwe-aṣẹ",over_counter:"Ti ko nilo iwe-aṣẹ",general_pills:"Awọn Oogun Gbogbogbo",controlled_substances:"Awọn Oogun Iṣakoso",syrup_liquid:"Syrup/Omi",therapeutic_drugs:"Awọn Oogun Iwosan",supplements_vitamins:"Afẹsuntẹ & Vitamini",stock_quantity:"Iye Ipamọ",stock_placeholder:"Tẹ iye ipamọ",product_sku:"SKU",sku_placeholder:"Tẹ SKU (afoye)",product_tags:"Awọn Aami",tags_placeholder:"Ṣafikun awọn aami ti o ya nipasẹ awọn kọma",product_image:"Aworan Ọja",upload_image:"Gbe Aworan Soke",image_url:"URL Aworan",image_url_placeholder:"Tabi tẹ URL aworan",product_description:"Apejuwe",description_placeholder:"Tẹ apejuwe ọja",uploading:"N gbe soke...",create_product:"Ṣẹda Ọja",creating_product:"N ṣẹda Ọja...",product_created_success:"Ọja ti ṣẹda ni aṣeyọri!",error_creating_product:"Aṣiṣe ni ṣiṣẹda ọja. Jọwọ gbiyanju lẹẹkansi.",please_fill_required:"Jọwọ kun gbogbo awọn aaye ti a nilo",invalid_price:"Jọwọ tẹ idiyele ti o tọ"},ha:{home:"Gida",cart:"Kaya",messages:"Saƙonni",orders:"Oda",settings:"Saiti",notifications:"Sanarwa",search:"Nema",back:"Baya",continue:"Ci gaba",save:"Ajiye",cancel:"Soke",delete:"Share",edit:"Gyara",loading:"Ana lodawa...",profile:"Bayanan martaba",add_to_cart:"Saka cikin kaya",buy_now:"Saya yanzu",price:"Farashi",out_of_stock:"Ba a kantin ba",in_stock:"A wanzu",product_description:"Bayanin kaya",product_unavailable:"Kaya ba ya samuwa. Ka sake gwadawa.",hello:"Sannu",friend:"Aboki",search_placeholder:"Nema magunguna, kantin magani",new_arrivals:"Sababbin abubuwa",view_all:"dubi duka",popular_products:"Shahararrun magunguna",all_new_products:"Dukan sababbin magunguna",load_more:"Dauko kari",new:"Sabon",close:"Rufe",please_sign_in:"Ka shigar da sunan",your_pharmacy_location:"Wurin kantin maganin ku",location_services:"Sabis na wuri",calculating_eta:"Ana lissafa lokaci...",fetching_location:"Ana samun wuri...",nearest_pharmacy:"kantin magani mafi kusa",to:"zuwa",welcome_message:"Barka da zuwa PharmaSeA",find_medicines:"Nemo magunguna a kusa da ku",fast_delivery:"Isar da sauri da aminci",learn_more:"Koyi karin bayani",get_started:"Fara",shop_now:"Sayi yanzu",order_now:"Yi oda yanzu",browse_catalog:"Duba magunguna",special_offer:"Tayin na musamman",limited_time:"Tayin na ɗan lokaci",orders:"Oda",all:"Duka",pending:"Ana jira",processing:"Ana aiki",fulfilled:"An gama",cancelled:"An soke",no_orders_yet:"Babu oda tukuna.",order_number:"Oda #",customer:"Abokin ciniki",items:"Abubuwa",total:"Duka",status:"Matsayi",see_more:"Duba karin",see_less:"Duba kadan",more_items:"kari",reveal_number:"Nuna lambar",please_sign_in_continue:"Ka shigar da sunan don ci gaba",sign_in_sign_up:"Shiga / Yi rajista",qty:"Adadi",my_conversations:`Tattaunawa
Na`,search_chats:"Nemo tattaunawa",no_conversations_yet:"Babu tattaunawa tukuna.",no_messages_yet:"Babu saƙonni tukuna.",cart:"Kaya",your_cart_is_empty:"Kayar ku babu komai.",remove:"Cire",subtotal:"Ƙaramin jimla",delivery_fee:"Kuɗin isar da kaya",total:"Duka",proceed_to_checkout:"Ci gaba zuwa biyan kuɗi",order_summary:"Taƙaitaccen oda",items:"Abubuwa",delivery_details:"Bayanan isar da kaya",delivery_address:"Adireshin isar da kaya",phone_number:"Lambar waya",email_optional:"Imel (Ba dole ba)",enter_delivery_address:"Shigar da adireshin isar da kaya",enter_phone_number:"Shigar da lambar waya",enter_email_address:"Shigar da adireshin imel",use_current_location:"Yi amfani da wurin yanzu",continue_to_payment:"Ci gaba zuwa biyan kuɗi",payment_method:"Hanyar biyan kuɗi",pay_on_delivery:"Biya lokacin isar da kaya",pay_with_cash_delivery:"Biya da kuɗi lokacin da oda ya zo",online_payment:"Biyan kuɗi a yanar gizo",pay_with_card:"Biya da kati, canja wurin banki, ko USSD",pay_with_card_bank_ussd:"Biya da kati, canja wurin banki, ko USSD",pay_with_cash_on_delivery:"Biya da kuɗi lokacin da oda ya zo",use_your_health_insurance:"Yi amfani da inshorar lafiya",pay_with_insurance:"Biya da inshora",use_health_insurance:"Yi amfani da inshorar lafiya",coming_soon:"Yana zuwa nan ba da jimawa ba",total_amount:"Dukkanin adadin",pay_now:"Biya yanzu",place_order:"Yi oda",decrease_quantity:"Rage yawan",increase_quantity:"Ƙara yawan",order_placement_failed:"Yin oda ya kasa",order_placed_delivery:"An yi oda cikin nasara! Za ku biya lokacin isar da kaya.",payment_successful:"Biyan kuɗi ya yi nasara! An yi odar ku.",checkout_failed:"Biyan kuɗi ya kasa. Da fatan za a sake gwadawa.",my_profile:"Bayanin Kaina",pharmacy_profile:"Bayanin Kantin Magani",edit_profile:"Gyara Bayanin",edit:"Gyara",save:"Ajiye",cancel:"Soke",close:"Rufe",view:"Duba",open:"Buɗe",name:"Suna",phone_number_profile:"Lambar Waya",address_profile:"Adireshi",password:"Kalmar sirri",items_in_cart:"Abubuwa a cikin kaya",active_chats:"Tattaunawa masu aiki",saved_items:"Abubuwa da aka ajiye",drugs_bought:"Magungunan da aka saya",all_drugs_bought:"Dukan magungunan da aka saya",my_saved_items:"Abubuwan da na ajiye",products:"Kayayyaki",vendors:"Masu sayarwa",no_products_saved:"Babu kayayyaki da aka ajiye",start_adding_products:"Fara ƙara kayayyakin da kuke so!",no_vendors_bookmarked:"Babu masu sayarwa da aka yi alamar",bookmark_vendors:"Yi alamar masu sayarwan da kuke so!",log_out:"Fita",search_placeholder_profile:"Nemi takardar likita, oda, magunguna...",prescriptions:"Takardar likita",orders_profile:"Oda",drugs:"Magunguna",all_results:"Duka",times:"lokuta",bought:"da aka saya",no_search_results:"Babu sakamakon",try_different_search:"Gwada kalmar nema daban",general:"Gabaɗaya",appearance:"Bayyanar",language_region:"Harshe da Yanki",privacy_security:"Sirri da Tsaro",accessibility:"Samun dama",app_language:"Harshen app",vendor_profile:"Bayanin Mai sayarwa",products_by:"Kayayyaki da",vendor:"Mai sayarwa",of:"daga",no_products_found_search:"Babu kayayyakin da aka samu da suka dace da binciken ku.",no_products_yet:"Babu kayayyaki tukuna.",customers_only_chat:"Abokan ciniki ne kawai za su iya fara tattaunawa da kantin magani.",could_not_start_chat:"Ba za a iya fara zaren tattaunawa ba.",pharmacy_report:"Rahoton kantin magani",field:"Fili",value:"Kima",pharmacy:"Kantin magani",email:"Imel",address:"Adireshi",phone:"Waya",product_name:"Sunan kaya",category:"Nau'i",stock:"Ajiya",sku:"SKU",price:"Farashi",order_id:"ID oda",customer:"Abokin ciniki",status:"Matsayi",date:"Kwanan wata",products:"Kayayyaki",add_to_bookmarks:"Saka a cikin alamomi",remove_from_bookmarks:"Cire daga alamomi",search_by_name_category_sku:"Nema da suna, nau'i, ko SKU...",view_results:"Duba sakamakon",clear:"Share",nearby_pharmacies:"Kantunan Magani Kusa",pharmacies_found_near_you:"{count} an samu kusa da kai",loading_location:"Ana samun wuri...",filter_pharmacies:"Tace kantunan magani",pharmacies_found_near_you_detailed:"Kantunan magani {count} an samu kusa da kai",your_location:"Wurin ka",getting_your_location:"Ana samun wurin ka...",location_access_needed:"Ana bukatar samun dama ga wuri",allow_location_access_etas:"Ka ba da izinin samun wuri don daidaitaccen lokaci",enable_location_services:"Kunna sabis na wuri don ganin kantunan magani kusa",search_pharmacies:"Nemi kantunan magani...",no_pharmacies_found:"Ba a sami kantunan magani ba",try_different_search:"Gwada kalmar bincike daban",name:"Suna",address:"Adireshi",keyboard_navigation_hint:"Yi amfani da ↑↓ maballin tuƙi, Enter don zaɓa, Esc don rufewa",distance:"Nisa",all:"Duka",within_5km:"A cikin 5km",within_10km:"A cikin 10km",within_20km:"A cikin 20km",you_are_here:"Kana nan",pharmacy_locations:"Wuraren Kantunan Magani",pharmacies_sorted_by_distance:"Kantunan magani {count} • An jera bisa nisa",pharmacy:"Kantin magani",selected:"An zaɓa",calculating:"Ana lissafi...",closest:"Mafi kusa",get_directions:"Samu Jagora",call:"Kira",call_pharmacy:"Kira kantin magani",view_products:"Duba Kayayyaki",search_results:"Sakamakon Bincike",all_pharmacies:"Dukan Kantunan Magani",pharmacies_found_count:"{count} an samu",no_pharmacies_found_search:"Ba a sami kantunan magani da suka dace da binciken ku ba",no_pharmacies_found_general:"Ba a sami kantunan magani ba",try_adjusting_search:"Gwada gyara kalmomin binciken ku",try_adjusting_location:"Gwada gyara wurin ku ko ku sake dubawa daga baya",clear_search:"Share bincike",today:"Yau",yesterday:"Jiya",sent:"An aiko",delivered:"An kai",read:"An karanta",customer:"Abokin ciniki",pharmacy:"Kantin magani",prescription_created:"An ƙirƙiri sabon takardar magani.",drug_inquiry:"Ina son sanin ƙarin game da wannan magani {productName}{priceText}.",call:"Kira",call_pharmacy_title:"Kira {pharmacy}",no_phone_number:"Babu lambar waya",actions:"Ayyuka",create_prescription:"Ƙirƙiri Takardar Magani",view_prescription_history:"Duba Tarihin Takardar Magani",load_more_messages:"Ɗauko ƙarin saƙonnin {count}",start_conversation:"Fara tattaunawar ku",message_placeholder:"Saƙo",attachments_coming_soon:"Abubuwan haɗi suna zuwa nan ba da jimawa ba",my_dashboard:"Dashboard Na",overview:"Taƙaitaccen Bayani",top_products:"Manyan Kayayyaki",best_sellers:"Mafi Sayarwa",no_sales_data:"Babu bayanan tallace-tallace har yanzu",start_selling_message:"Fara sayar da kayayyaki don ganin mafi kyawun ku",units_sold:"Raka'o {count} da aka sayar",units:"raka'o",total_products:"Jimillar Kayayyaki",total_orders:"Jimillar Oda",total_revenue:"Jimillar Kudaden Shiga",active_customers:"Abokan Ciniki Masu Aiki",this_month:"Wannan Wata",avg_order_value:"Matsakaicin Darajar Oda",pending_orders:"Oda Da Ake Jira",awaiting:"Ana jira",low_stock_items:"Kayayyakin Da Suka Rage",need_restock:"Bukata Sake Cikawa",orders_this_month:"Oda Na Wannan Wata",no_comparison:"Babu kwatance",pending_reviews:"Sharhi Da Ake Jira",need_response:"Bukatar Amsa",recent_reviews:"Sharhi Na Baya-bayan Nan",last_24h:"Sa'o 24 da suka gabata",low_stock_alert:"Sanarwar Karancin Kaya",items_need_restocking:"Kaya {count} na bukatar sake cikawa",inventory_tip:"Duba ajiyar ku don guje wa rashin shahararru kayayyaki",recent_messages:"Saƙonnin Baya-bayan Nan",no_recent_messages:"Babu saƙonnin baya-bayan nan.",no_recent_reviews:"Babu sharhi na baya-bayan nan",new_reviews_appear_here:"Sabbin sharhin abokan ciniki za su bayyana a nan",view_all:"Duba Duka",by_customer:"ta {customerName}",needs_response:"Bukatar Amsa",view_more_reviews:"Duba ƙarin sharhi {count}",revenue_analytics:"Nazarin Kudaden Shiga",total:"Jimillar",by_month:"Ta Wata",by_year:"Ta Shekara",month_number:"Wata {number}",no_revenue_data:"Babu bayanan kudaden shiga",start_selling_revenue:"Fara sayarwa don ganin nazarin kudaden shiga",best_performing_period:"Lokaci Mafi Kyau {period}",month_label:"Wata",year_label:"Shekara",sales_trends:"Hanyoyin Tallace-tallace",last_6_months:"Watannin 6 da suka gabata",no_sales_trend_data:"Babu bayanan hanyoyin tallace-tallace.",orders_count:"Oda {count}",reviews_management:"Gudanar da Sharhi",filters_sort:"Tacewa da Jeri",total_reviews:"Jimillar Sharhi",responded:"An Amsa",avg_rating:"Matsakaicin Daraja",positive_reviews:"Mai Kyau (4+ ⭐)",product:"Kaya",all_products:"Dukan Kayayyaki",sort_by:"Jera Ta",newest_first:"Sabo Da Farko",oldest_first:"Tsoho Da Farko",highest_rating:"Mafi Girman Daraja",lowest_rating:"Mafi Ƙarancin Daraja",filter_by:"Tacewa Ta",all_reviews:"Dukan Sharhi",positive_4_stars:"Mai Kyau (4+ tauraro)",negative_1_2_stars:"Marar Kyau (1-2 tauraro)",no_reviews_found:"Ba a sami sharhi ba",no_reviews_yet_message:"Har yanzu ba ku da sharhi. Ƙarfafa abokan ciniki su bar sharhi ta hanyar samar da kyakkyawan sabis da bin diddigin sadarwa!",no_reviews_match_filters:"Babu sharhi da ya dace da taushirinku na yanzu. Gwada daidaita ka'idodin binciken ku.",medicine:"Magani",reviewed_by:"An yi sharhi ta",verified:"An Tabbatar",people_found_helpful:"Mutane {count} sun sami wannan yana da amfani",your_response:"Amsarku",cancel_response:"Soke Amsa",respond_to_review:"Amsa ga Sharhi",write_thoughtful_response:"Rubuta amsa mai tunani ga wannan sharhi...",submit_response:"Tura Amsa",response_submitted_success:"An tura amsa cikin nasara!",response_submit_failed:"An kasa tura amsa. Da fatan za a sake gwadawa.",loading_reviews:"Ana ɗaukar sharhinku...",loading_please_wait:"Da fatan ku jira yayin da muke ɗaukar bayananku",my_prescriptions:"Takardun Magani Na",add_to_calendar:"Saka a Kalanda",no_prescriptions_found:"Ba a sami takardar magani ba.",see_more_count:"Duba ƙari ({count})",see_less:"Duba kaɗan",time_to_take_medicine:"Lokaci ya yi na shan {drugName}",take_medicine:"Sha {drugName}",dosage_frequency:"Adadin: {dosage} ({frequency})",my_activity:"Ayyukan Na",active_chats:"Tattaunawa Masu Aiki",storefront_preview:"Kallaren Kantin",inventory:"Ajiya",products_sold:"Kayayyaki Da Aka Sayar",no_products_yet:"Har yanzu babu kayayyaki. Yi amfani da maballin da ke sama don ƙara ko loda da yawa.",edit_product:"Gyara Kayayyaki",product_image:"Hoton Kayayyaki",image_url_placeholder:"URL hoto (ko zaɓi fayil da ke ƙasa)",product_description:"Bayanin Kayayyaki",enter_product_description:"Shigar da bayanin kayayyaki",confirm_delete_product:"Kana da tabbas kana son share wannan abu?",yes_delete:"Eh, Share",log_out:"Fita",customer_reviews:"Sharhin Abokan Ciniki",loading_reviews:"Ana loda sharhi…",no_reviews_yet:"Har yanzu babu sharhi. Ka zama na farko da ya ba da sharhi!",pharmacy_response:"Amsar {pharmacyName}",message_vendor:"Aika Saƙo zuwa Dillali",call_to_order:"Kira don Yin Oda",your_name:"Sunan Ka",your_review_optional:"Sharhin ka... (na zabin)",general:"Gabaɗaya",appearance:"Bayyanar",language_region:"Harshe da Yanki",privacy_security:"Sirri da Tsaro",accessibility:"Samun Dama",swipe_navigation:"Kewayawa ta Shafawa",data_saver_mode:"Yanayin Adana Bayanai",read_receipts:"Takardar Karatu",theme:"Jigo",font_size:"Girman Rubutu",app_language:"Harshen Manhaja",add_product_title:"Ƙara Sabon Kaya",product_name:"Sunan Kaya",product_name_placeholder:"Shigar da sunan kaya",product_price:"Farashi",product_price_placeholder:"Shigar da farashi",product_category:"Nau'i",select_category:"Zaɓi Nau'i",prescription_drugs:"Magunguna na Takarda",over_counter:"Ba tare da takarda ba",general_pills:"Magungunan Gabaɗaya",controlled_substances:"Magungunan Da Aka Sarrafa",syrup_liquid:"Syrup/Ruwa",therapeutic_drugs:"Magunguna na Warkewa",supplements_vitamins:"Ƙari da Bitamin",stock_quantity:"Adadin Ajiya",stock_placeholder:"Shigar da adadin ajiya",product_sku:"SKU",sku_placeholder:"Shigar da SKU (na zaɓi)",product_tags:"Alamomi",tags_placeholder:"Ƙara alamomi da rabu da waƙafi",product_image:"Hoton Kaya",upload_image:"Loda Hoto",image_url:"URL Hoto",image_url_placeholder:"Ko shigar da URL hoto",product_description:"Bayanin",description_placeholder:"Shigar da bayanin kaya",uploading:"Ana lodawa...",create_product:"Ƙirƙiri Kaya",creating_product:"Ana Ƙirƙirar Kaya...",product_created_success:"An ƙirƙiri kaya cikin nasara!",error_creating_product:"Kuskure wajen ƙirƙirar kaya. Biko sake gwadawa.",please_fill_required:"Biko cika duk filayen da ake bukata",invalid_price:"Biko shigar da farashi mai inganci"},ig:{home:"Ụlọ",cart:"Ngwa ahịa",messages:"Ozi",orders:"Ịtụ",settings:"Nhazi",notifications:"Ọkwa",search:"Chọọ",back:"Laghachi azụ",continue:"Gaa n'ihu",save:"Chekwaa",cancel:"Kagbuo",delete:"Hichapụ",edit:"Dezie",loading:"Na-ebu...",profile:"Profaili",add_to_cart:"Tinye na ngwa ahịa",buy_now:"Zụọ ugbu a",price:"Ọnụ ahịa",out_of_stock:"Agwụla",in_stock:"Dị n'ụlọ ahịa",product_description:"Nkọwa ngwaahịa",product_unavailable:"Ngwaahịa adịghị. Biko nwaa ọzọ.",hello:"Ndewo",friend:"Enyi",search_placeholder:"Chọọ ọgwụ, ụlọ ọgwụ",new_arrivals:"Ndị ọhụrụ",view_all:"lee niile",popular_products:"Ọgwụ ndị ama ama",all_new_products:"Ọgwụ ọhụrụ niile",load_more:"Buo karịa",new:"Ọhụrụ",close:"Mechie",please_sign_in:"Biko banye",your_pharmacy_location:"Ọnọdụ ụlọ ọgwụ gị",location_services:"Ọrụ ọnọdụ",calculating_eta:"Na-agbako oge...",fetching_location:"Na-eweta ọnọdụ...",nearest_pharmacy:"ụlọ ọgwụ kacha nso",to:"gaa",welcome_message:"Nnọọ na PharmaSeA",find_medicines:"Chọta ọgwụ ndị dị gị nso",fast_delivery:"Nnyefe ọsọ ọsọ na ntụkwasị obi",learn_more:"Mụtakwuo ihe",get_started:"Malite",shop_now:"Zụọ ugbu a",order_now:"Nye ọtụtụ ugbu a",browse_catalog:"Lelee ọgwụ ndị anyị nwere",special_offer:"Onyinye pụrụ iche",limited_time:"Onyinye nwa oge",orders:"Ịtụ",all:"Niile",pending:"Na-echere",processing:"Na-arụ ọrụ",fulfilled:"Emezula",cancelled:"Akagbuola",no_orders_yet:"Enwebeghị ịtụ ọ bụla.",order_number:"Ịtụ #",customer:"Onye ahịa",items:"Ihe ndị",total:"Mkpokọta",status:"Ọnọdụ",see_more:"Hụkwuo",see_less:"Hụ nke nta",more_items:"karịa",reveal_number:"Gosi nọmba",please_sign_in_continue:"Biko banye ịga n'ihu",sign_in_sign_up:"Banye / Debanye aha",qty:"Ọnụọgụgụ",my_conversations:`Mkparịta ụka
M`,search_chats:"Chọọ mkparịta ụka",no_conversations_yet:"Enwebeghị mkparịta ụka ọ bụla.",no_messages_yet:"Enwebeghị ozi ọ bụla.",cart:"Ngwa ahịa",your_cart_is_empty:"Ngwa ahịa gị adịghị.",remove:"Wepụ",subtotal:"Obere mkpokọta",delivery_fee:"Ego nnyefe",total:"Mkpokọta",proceed_to_checkout:"Gaa n'ịkwụ ụgwọ",order_summary:"Nchịkọta ịtụ",items:"Ihe ndị",delivery_details:"Nkọwa nnyefe",delivery_address:"Adress nnyefe",phone_number:"Nọmba ekwentị",email_optional:"Ịmeelụ (Nhọrọ)",enter_delivery_address:"Tinye adreesị nnyefe",enter_phone_number:"Tinye nọmba ekwentị",enter_email_address:"Tinye adreesị ịmeelụ",use_current_location:"Jiri ebe dị ugbu a",continue_to_payment:"Gaa n'ịkwụ ụgwọ",payment_method:"Ụzọ ịkwụ ụgwọ",pay_on_delivery:"Kwụọ mgbe nnyefe",pay_with_cash_delivery:"Kwụọ ego mgbe ịtụ ruru",online_payment:"Ịkwụ ụgwọ n'ịntanetị",pay_with_card:"Kwụọ na kaadị, mbufe ego banki, ma ọ bụ USSD",pay_with_card_bank_ussd:"Kwụọ na kaadị, mbufe ego banki, ma ọ bụ USSD",pay_with_cash_on_delivery:"Kwụọ ego mgbe ịtụ ruru",use_your_health_insurance:"Jiri mkpuchi ahụ ike gị",pay_with_insurance:"Kwụọ na mkpuchi",use_health_insurance:"Jiri mkpuchi ahụ ike gị",coming_soon:"Na-abịa n'oge na-adịghị anya",total_amount:"Mkpokọta ego",pay_now:"Kwụọ ugbu a",place_order:"Nye ịtụ",decrease_quantity:"Belata ọnụọgụgụ",increase_quantity:"Mee ka ọnụọgụgụ mụbaa",order_placement_failed:"Inyefe ịtụ dara",order_placed_delivery:"Enyela ịtụ nke ọma! Ị ga-akwụ ụgwọ mgbe nnyefe.",payment_successful:"Ịkwụ ụgwọ gara nke ọma! Enyela ịtụ gị.",checkout_failed:"Ịkwụ ụgwọ dara. Biko nwaa ọzọ.",my_profile:"Profaịlụ M",pharmacy_profile:"Profaịlụ Ụlọ Ọgwụ",edit_profile:"Dezie Profaịlụ",edit:"Dezie",save:"Chekwaa",cancel:"Kagbuo",close:"Mechie",view:"Lee",open:"Meghe",name:"Aha",phone_number_profile:"Nọmba Ekwentị",address_profile:"Adrees",password:"Okwu nzuzo",items_in_cart:"Ihe ndị dị na ngwa ahịa",active_chats:"Mkparịta ụka na-arụ ọrụ",saved_items:"Ihe ndị echekwala",drugs_bought:"Ọgwụ ndị azụtala",all_drugs_bought:"Ọgwụ niile ezutala",my_saved_items:"Ihe ndị m chekwara",products:"Ngwaahịa",vendors:"Ndị na-ere",no_products_saved:"Enweghị ngwaahịa echekwara",start_adding_products:"Malite itinye ngwaahịa ị hụrụ n'anya!",no_vendors_bookmarked:"Enweghị ndị na-ere akara akara",bookmark_vendors:"Kaa ndị na-ere ị hụrụ n'anya akara!",log_out:"Pụọ",search_placeholder_profile:"Chọọ ọgwụ, ịtụ, ọgwụ...",prescriptions:"Ọgwụ",orders_profile:"Ịtụ",drugs:"Ọgwụ",all_results:"Niile",times:"ugboro",bought:"azụtara",no_search_results:"Enweghị nsonaazụ",try_different_search:"Gbalịa okwu ọchụchọ ọzọ",general:"Izugbe",appearance:"Ọdịdị",language_region:"Asụsụ na Mpaghara",privacy_security:"Nzuzo na Nchekwa",accessibility:"Ịnweta ohere",app_language:"Asụsụ ngwa",vendor_profile:"Profaịlụ Onye na-ere",products_by:"Ngwaahịa site na",vendor:"Onye na-ere",of:"n'ime",no_products_found_search:"Achọtaghị ngwaahịa ọ bụla dakọtara na nchọgharị gị.",no_products_yet:"Enwebeghị ngwaahịa ọ bụla.",customers_only_chat:"Ọ bụ naanị ndị ahịa nwere ike ịmalite mkparịta ụka na ụlọ ọgwụ.",could_not_start_chat:"Enweghị ike ịmalite mkparịta ụka.",pharmacy_report:"Akụkọ ụlọ ọgwụ",field:"Ogige",value:"Uru",pharmacy:"Ụlọ ọgwụ",email:"Email",address:"Adrees",phone:"Ekwentị",product_name:"Aha ngwaahịa",category:"Ụdị",stock:"Nchekwa",sku:"SKU",price:"Ọnụ ahịa",order_id:"ID nyere",customer:"Onye ahịa",status:"Ọnọdụ",date:"Ụbọchị",products:"Ngwaahịa",add_to_bookmarks:"Tinye na akara akwụkwọ",remove_from_bookmarks:"Wepụ na akara akwụkwọ",search_by_name_category_sku:"Chọọ site na aha, ụdị, ma ọ bụ SKU...",view_results:"Lee nsonaazụ",clear:"Hichapụ",nearby_pharmacies:"Ụlọ Ọgwụ Ndị Dị Nso",pharmacies_found_near_you:"{count} achọtara nso gị",loading_location:"Na-ebu ebe...",filter_pharmacies:"Họrọ ụlọ ọgwụ",pharmacies_found_near_you_detailed:"Ụlọ ọgwụ {count} achọtara nso gị",your_location:"Ebe gị",getting_your_location:"Na-enweta ebe gị...",location_access_needed:"A chọrọ ohere ebe",allow_location_access_etas:"Biko kwere ka a nweta ebe maka oge ziri ezi",enable_location_services:"Mee ka ọrụ ebe rụọ ọrụ ka ị hụ ụlọ ọgwụ ndị dị nso",search_pharmacies:"Chọọ ụlọ ọgwụ...",no_pharmacies_found:"Achọtaghị ụlọ ọgwụ ọ bụla",try_different_search:"Nwaa okwu ọchụchọ dị iche",name:"Aha",address:"Adrees",keyboard_navigation_hint:"Jiri ↑↓ mkpịsị aka ịga ebe, Enter ịhọrọ, Esc imechi",distance:"Anya",all:"Niile",within_5km:"N'ime 5km",within_10km:"N'ime 10km",within_20km:"N'ime 20km",you_are_here:"Ị nọ ebe a",pharmacy_locations:"Ebe Ụlọ Ọgwụ Dị",pharmacies_sorted_by_distance:"Ụlọ ọgwụ {count} • Edobere site na anya",pharmacy:"Ụlọ ọgwụ",selected:"Ahọrọla",calculating:"Na-agbako...",closest:"Nke kacha nso",get_directions:"Nweta Nduzi",call:"Kpọọ",call_pharmacy:"Kpọọ ụlọ ọgwụ",view_products:"Lee Ngwaahịa",search_results:"Nsonaazụ Ọchụchọ",all_pharmacies:"Ụlọ Ọgwụ Niile",pharmacies_found_count:"{count} achọtara",no_pharmacies_found_search:"Achọtaghị ụlọ ọgwụ ọ bụla dakọtara na ọchụchọ gị",no_pharmacies_found_general:"Achọtaghị ụlọ ọgwụ ọ bụla",try_adjusting_search:"Gbalịa imezigharị okwu ọchụchọ gị",try_adjusting_location:"Gbalịa imezigharị ebe gị ma ọ bụ lọghachi azụ mgbe ọzọ",clear_search:"Hichapụ ọchụchọ",today:"Taa",yesterday:"Ụnyaahụ",sent:"Ezigala",delivered:"Enyela",read:"Agụla",customer:"Onye ahịa",pharmacy:"Ụlọ ọgwụ",prescription_created:"Emepụtala akwụkwọ ọgwụ ọhụrụ.",drug_inquiry:"Achọrọ m ịmata karịa gbasara ọgwụ a {productName}{priceText}.",call:"Kpọọ",call_pharmacy_title:"Kpọọ {pharmacy}",no_phone_number:"Enweghị nọmba ekwentị",actions:"Omume",create_prescription:"Mepụta Akwụkwọ Ọgwụ",view_prescription_history:"Lee Akụkọ Akwụkwọ Ọgwụ",load_more_messages:"Bulie ozi {count} ọzọ",start_conversation:"Malite mkparịta ụka gị",message_placeholder:"Ozi",attachments_coming_soon:"Ihe ndị agbakwunyere na-abịa ngwa ngwa",my_dashboard:"Dashboard M",overview:"Nchikọta",top_products:"Ngwaahịa Kachasị Elu",best_sellers:"Ndị Na-ere Kacha Mma",no_sales_data:"Enwebeghị data ire ere",start_selling_message:"Malite ire ngwaahịa iji hụ ndị kacha arụ ọrụ",units_sold:"Nkeji {count} erere",units:"nkeji",total_products:"Mkpokọta Ngwaahịa",total_orders:"Mkpokọta Ọrder",total_revenue:"Mkpokọta Ego Mbata",active_customers:"Ndị Ahịa Na-arụ Ọrụ",this_month:"Ọnwa A",avg_order_value:"Uru Ọrder Nkezi",pending_orders:"Ọrder Na-echere",awaiting:"Na-echere",low_stock_items:"Ngwaahịa Dị Ntakịrị",need_restock:"Kwesịrị Itinyeghachi",orders_this_month:"Ọrder Ọnwa A",no_comparison:"Enweghị ntụnyere",pending_reviews:"Nyocha Na-echere",need_response:"Kwesịrị Nzaghachi",recent_reviews:"Nyocha Nso Nso A",last_24h:"Awa 24 gara aga",low_stock_alert:"Ọkwa Ngwaahịa Dị Ntakịrị",items_need_restocking:"Ihe {count} kwesịrị itinyeghachi",inventory_tip:"Lelee ngwaahịa gị iji zere ịgwụ ngwaahịa ndị a ma ama",recent_messages:"Ozi Nso Nso A",no_recent_messages:"Enweghị ozi nso nso a.",no_recent_reviews:"Enweghị nyocha nso nso a",new_reviews_appear_here:"Nyocha ndị ahịa ọhụrụ ga-apụta ebe a",view_all:"Lee Niile",by_customer:"site n'aka {customerName}",needs_response:"Kwesịrị Nzaghachi",view_more_reviews:"Lee nyocha {count} ọzọ",revenue_analytics:"Nyocha Ego Mbata",total:"Mkpokọta",by_month:"Site n'Ọnwa",by_year:"Site n'Afọ",month_number:"Ọnwa {number}",no_revenue_data:"Enweghị data ego mbata",start_selling_revenue:"Malite ire iji hụ nyocha ego mbata gị",best_performing_period:"Oge Kacha Mma {period}",month_label:"Ọnwa",year_label:"Afọ",sales_trends:"Ụzọ Ire Ahịa",last_6_months:"Ọnwa 6 gara aga",no_sales_trend_data:"Enweghị data ụzọ ire ahịa.",orders_count:"Ọrder {count}",reviews_management:"Nlekọta Nyocha",filters_sort:"Nzacha na Nhazi",total_reviews:"Mkpokọta Nyocha",responded:"Azaghachila",avg_rating:"Nkezi Ogo",positive_reviews:"Nke Ọma (4+ ⭐)",product:"Ngwaahịa",all_products:"Ngwaahịa Niile",sort_by:"Hazie Site Na",newest_first:"Ọhụrụ Mbụ",oldest_first:"Ochie Mbụ",highest_rating:"Ogo Kacha Elu",lowest_rating:"Ogo Kacha Ala",filter_by:"Zọpụta Site Na",all_reviews:"Nyocha Niile",positive_4_stars:"Nke Ọma (4+ kpakpando)",negative_1_2_stars:"Nke Ọjọọ (1-2 kpakpando)",no_reviews_found:"Achọtaghị nyocha ọ bụla",no_reviews_yet_message:"I nwebeghị nyocha ọ bụla. Gbaa ndị ahịa ume ka ha hapụ nyocha site n'inye ọrụ magburu onwe ya na nkwurịta okwu na-esote!",no_reviews_match_filters:"Enweghị nyocha dabara na nzacha gị ugbu a. Gbalịa ime mgbanwe na njirisi ọchụchọ gị.",medicine:"Ọgwụ",reviewed_by:"Nyochara site na",verified:"Enyochala",people_found_helpful:"Ndị mmadụ {count} chọpụtara na nke a bara uru",your_response:"Nzaghachi Gị",cancel_response:"Kagbuo Nzaghachi",respond_to_review:"Zaghachi na Nyocha",write_thoughtful_response:"Dee nzaghachi nwere uche na nyocha a...",submit_response:"Ziga Nzaghachi",response_submitted_success:"E zigara nzaghachi nke ọma!",response_submit_failed:"E nweghị ike izipu nzaghachi. Biko nwaghachi ọzọ.",loading_reviews:"Na-ebu nyocha gị...",loading_please_wait:"Biko chere ka anyị na-eweta data gị",my_prescriptions:"Akwụkwọ Ọgwụ M",add_to_calendar:"Tinye na Kalenda",no_prescriptions_found:"Achọtaghị akwụkwọ ọgwụ ọ bụla.",see_more_count:"Lee ọzọ ({count})",see_less:"Lee ntakịrị",time_to_take_medicine:"Oge ịṅụ {drugName}",take_medicine:"Ṅụọ {drugName}",dosage_frequency:"Ọnụọgụgụ: {dosage} ({frequency})",my_activity:"Ọrụ M",active_chats:"Mkparịta Ụka Na-arụ Ọrụ",storefront_preview:"Nlele Ụlọ Ahịa",inventory:"Nchekwa Ngwaahịa",products_sold:"Ngwaahịa E Rere",no_products_yet:"Enwebeghị ngwaahịa. Jiri bọtịnụ ndị dị n'elu tinye ma ọ bụ bulite ọtụtụ.",edit_product:"Dezie Ngwaahịa",product_image:"Foto Ngwaahịa",image_url_placeholder:"URL foto (ma ọ bụ họrọ faịlụ n'okpuru)",product_description:"Nkọwa Ngwaahịa",enter_product_description:"Tinye nkọwa ngwaahịa",confirm_delete_product:"Ị ji n'ezie chọọ ihichapụ ihe a?",yes_delete:"Ee, Hichapụ",log_out:"Pụọ",customer_reviews:"Nyocha Ndị Ahịa",loading_reviews:"Na-ebu nyocha…",no_reviews_yet:"Enwebeghị nyocha. Bụrụ onye mbụ nyochaa!",pharmacy_response:"Nzaghachi {pharmacyName}",message_vendor:"Zigara Onye Na-ere Ahịa Ozi",call_to_order:"Kpọọ Maka Ịzọ",your_name:"Aha Gị",your_review_optional:"Nyocha gị... (nhọrọ)",general:"Izugbe",appearance:"Ọdịdị",language_region:"Asụsụ na Mpaghara",privacy_security:"Nzuzo na Nchekwa",accessibility:"Nnweta",swipe_navigation:"Ịgagharị Site na Ifufe",data_saver_mode:"Ọnọdụ Nchekwa Data",read_receipts:"Akwụkwọ Nnata Ọgụgụ",theme:"Isiokwu",font_size:"Nha Mkpụrụedemede",app_language:"Asụsụ Ngwa",add_product_title:"Tinye Ngwaahịa Ọhụrụ",product_name:"Aha Ngwaahịa",product_name_placeholder:"Tinye aha ngwaahịa",product_price:"Ọnụahịa",product_price_placeholder:"Tinye ọnụahịa",product_category:"Ụdị",select_category:"Họrọ Ụdị",prescription_drugs:"Ọgwụ Akwụkwọ Ọgwụ",over_counter:"Na-enweghị akwụkwọ ọgwụ",general_pills:"Ọgwụ Izugbe",controlled_substances:"Ọgwụ E Ji Achịkwa",syrup_liquid:"Syrup/Mmiri",therapeutic_drugs:"Ọgwụ Ọgwụgwọ",supplements_vitamins:"Mgbakwunye na Vitamin",stock_quantity:"Ọnụọgụgụ Nchekwa",stock_placeholder:"Tinye ọnụọgụgụ nchekwa",product_sku:"SKU",sku_placeholder:"Tinye SKU (nhọrọ)",product_tags:"Mkpado",tags_placeholder:"Tinye mkpado nkewa site na akara mkpakọ",product_image:"Foto Ngwaahịa",upload_image:"Bulite Foto",image_url:"URL Foto",image_url_placeholder:"Ma ọ bụ tinye URL foto",product_description:"Nkọwa",description_placeholder:"Tinye nkọwa ngwaahịa",uploading:"Na-ebuli...",create_product:"Mepụta Ngwaahịa",creating_product:"Na-emepụta Ngwaahịa...",product_created_success:"E mepụtala ngwaahịa nke ọma!",error_creating_product:"Njehie na imepụta ngwaahịa. Biko nwaa ọzọ.",please_fill_required:"Biko jupụta oghere niile achọrọ",invalid_price:"Biko tinye ọnụahịa ziri ezi"},fr:{home:"Accueil",cart:"Panier",messages:"Messages",orders:"Commandes",settings:"Paramètres",notifications:"Notifications",search:"Rechercher",back:"Retour",continue:"Continuer",save:"Enregistrer",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",loading:"Chargement...",profile:"Profil",add_to_cart:"Ajouter au panier",buy_now:"Acheter maintenant",price:"Prix",out_of_stock:"Rupture de stock",in_stock:"En stock",product_description:"Description du produit",product_unavailable:"Produit indisponible. Veuillez réessayer.",hello:"Bonjour",friend:"Ami",search_placeholder:"Rechercher médicaments, pharmacies",new_arrivals:"Nouveautés",view_all:"voir tout",popular_products:"Produits populaires",all_new_products:"Tous les nouveaux produits",load_more:"Charger plus",new:"Nouveau",close:"Fermer",please_sign_in:"Veuillez vous connecter",your_pharmacy_location:"Emplacement de votre pharmacie",location_services:"Services de localisation",calculating_eta:"Calcul du temps...",fetching_location:"Obtention de la localisation...",nearest_pharmacy:"pharmacie la plus proche",to:"vers",welcome_message:"Bienvenue à PharmaSeA",find_medicines:"Trouvez des médicaments près de chez vous",fast_delivery:"Livraison rapide et fiable",learn_more:"En savoir plus",get_started:"Commencer",shop_now:"Acheter maintenant",order_now:"Commander maintenant",browse_catalog:"Parcourir le catalogue",special_offer:"Offre spéciale",limited_time:"Offre à durée limitée",orders:"Commandes",all:"Tout",pending:"En attente",processing:"En cours",fulfilled:"Livré",cancelled:"Annulé",no_orders_yet:"Aucune commande pour le moment.",order_number:"Commande #",customer:"Client",items:"Articles",total:"Total",status:"Statut",see_more:"Voir plus",see_less:"Voir moins",more_items:"de plus",reveal_number:"Révéler le numéro",please_sign_in_continue:"Veuillez vous connecter pour continuer",sign_in_sign_up:"Se connecter / S'inscrire",qty:"Qté",my_conversations:`Mes
Conversations`,search_chats:"Rechercher des conversations",no_conversations_yet:"Aucune conversation pour le moment.",no_messages_yet:"Aucun message pour le moment.",cart:"Panier",your_cart_is_empty:"Votre panier est vide.",remove:"Supprimer",subtotal:"Sous-total",delivery_fee:"Frais de livraison",total:"Total",proceed_to_checkout:"Procéder au paiement",order_summary:"Résumé de commande",items:"Articles",delivery_details:"Détails de livraison",delivery_address:"Adresse de livraison",phone_number:"Numéro de téléphone",email_optional:"E-mail (Facultatif)",enter_delivery_address:"Entrer l'adresse de livraison",enter_phone_number:"Entrer le numéro de téléphone",enter_email_address:"Entrer l'adresse e-mail",use_current_location:"Utiliser la localisation actuelle",continue_to_payment:"Continuer vers le paiement",payment_method:"Mode de paiement",pay_on_delivery:"Payer à la livraison",pay_with_cash_delivery:"Payer en espèces à la livraison",online_payment:"Paiement en ligne",pay_with_card:"Payer par carte, virement bancaire, ou USSD",pay_with_card_bank_ussd:"Payer par carte, virement bancaire, ou USSD",pay_with_cash_on_delivery:"Payer en espèces à la livraison",use_your_health_insurance:"Utiliser votre assurance santé",pay_with_insurance:"Payer avec l'assurance",use_health_insurance:"Utiliser votre assurance santé",coming_soon:"Bientôt disponible",total_amount:"Montant total",pay_now:"Payer maintenant",place_order:"Passer commande",decrease_quantity:"Diminuer la quantité",increase_quantity:"Augmenter la quantité",order_placement_failed:"Échec de la commande",order_placed_delivery:"Commande passée avec succès! Vous paierez à la livraison.",payment_successful:"Paiement réussi! Votre commande a été passée.",checkout_failed:"Paiement échoué. Veuillez réessayer.",my_profile:"Mon Profil",pharmacy_profile:"Profil de la Pharmacie",edit_profile:"Modifier le Profil",edit:"Modifier",save:"Enregistrer",cancel:"Annuler",close:"Fermer",view:"Voir",open:"Ouvrir",name:"Nom",phone_number_profile:"Numéro de Téléphone",address_profile:"Adresse",password:"Mot de passe",items_in_cart:"Articles dans le panier",active_chats:"Conversations actives",saved_items:"Articles sauvegardés",drugs_bought:"Médicaments achetés",all_drugs_bought:"Tous les médicaments achetés",my_saved_items:"Mes articles sauvegardés",products:"Produits",vendors:"Vendeurs",no_products_saved:"Aucun produit sauvegardé",start_adding_products:"Commencez à ajouter des produits que vous aimez!",no_vendors_bookmarked:"Aucun vendeur mis en signet",bookmark_vendors:"Mettez en signet les vendeurs que vous aimez!",log_out:"Déconnexion",search_placeholder_profile:"Rechercher prescriptions, commandes, médicaments...",prescriptions:"Prescriptions",orders_profile:"Commandes",drugs:"Médicaments",all_results:"Tous",times:"fois",bought:"acheté",no_search_results:"Aucun résultat trouvé",try_different_search:"Essayez un terme de recherche différent",general:"Général",appearance:"Apparence",language_region:"Langue et Région",privacy_security:"Confidentialité et Sécurité",accessibility:"Accessibilité",app_language:"Langue de l'application",vendor_profile:"Profil du Vendeur",products_by:"Produits par",vendor:"Vendeur",of:"sur",no_products_found_search:"Aucun produit trouvé correspondant à votre recherche.",no_products_yet:"Aucun produit pour le moment.",customers_only_chat:"Seuls les clients peuvent entamer une conversation avec une pharmacie.",could_not_start_chat:"Impossible de démarrer le fil de discussion.",pharmacy_report:"Rapport de pharmacie",field:"Champ",value:"Valeur",pharmacy:"Pharmacie",email:"Email",address:"Adresse",phone:"Téléphone",product_name:"Nom du produit",category:"Catégorie",stock:"Stock",sku:"SKU",price:"Prix",order_id:"ID commande",customer:"Client",status:"Statut",date:"Date",products:"Produits",add_to_bookmarks:"Ajouter aux favoris",remove_from_bookmarks:"Supprimer des favoris",search_by_name_category_sku:"Rechercher par nom, catégorie ou SKU...",view_results:"Voir les résultats",clear:"Effacer",nearby_pharmacies:"Pharmacies à Proximité",pharmacies_found_near_you:"{count} trouvées près de vous",loading_location:"Chargement de la localisation...",filter_pharmacies:"Filtrer les pharmacies",pharmacies_found_near_you_detailed:"{count} pharmacies trouvées près de vous",your_location:"Votre localisation",getting_your_location:"Obtention de votre localisation...",location_access_needed:"Accès à la localisation nécessaire",allow_location_access_etas:"Veuillez autoriser l'accès à la localisation pour des horaires précis",enable_location_services:"Activez les services de localisation pour voir les pharmacies à proximité",search_pharmacies:"Rechercher des pharmacies...",no_pharmacies_found:"Aucune pharmacie trouvée",try_different_search:"Essayez un terme de recherche différent",name:"Nom",address:"Adresse",keyboard_navigation_hint:"Utilisez ↑↓ pour naviguer, Entrée pour sélectionner, Échap pour fermer",distance:"Distance",all:"Tout",within_5km:"Dans les 5km",within_10km:"Dans les 10km",within_20km:"Dans les 20km",you_are_here:"Vous êtes ici",pharmacy_locations:"Emplacements des Pharmacies",pharmacies_sorted_by_distance:"{count} pharmacies • Triées par distance",pharmacy:"Pharmacie",selected:"Sélectionné",calculating:"Calcul en cours...",closest:"Le plus proche",get_directions:"Obtenir un Itinéraire",call:"Appeler",call_pharmacy:"Appeler la pharmacie",view_products:"Voir les Produits",search_results:"Résultats de Recherche",all_pharmacies:"Toutes les Pharmacies",pharmacies_found_count:"{count} trouvées",no_pharmacies_found_search:"Aucune pharmacie trouvée correspondant à votre recherche",no_pharmacies_found_general:"Aucune pharmacie trouvée",try_adjusting_search:"Essayez d'ajuster vos termes de recherche",try_adjusting_location:"Essayez d'ajuster votre localisation ou revenez plus tard",clear_search:"Effacer la recherche",today:"Aujourd'hui",yesterday:"Hier",sent:"Envoyé",delivered:"Livré",read:"Lu",customer:"Client",pharmacy:"Pharmacie",prescription_created:"Une nouvelle ordonnance a été créée.",drug_inquiry:"Je souhaiterais en savoir plus sur ce médicament {productName}{priceText}.",call:"Appeler",call_pharmacy_title:"Appeler {pharmacy}",no_phone_number:"Pas de numéro de téléphone",actions:"Actions",create_prescription:"Créer une Ordonnance",view_prescription_history:"Voir l'Historique des Ordonnances",load_more_messages:"Charger {count} messages de plus",start_conversation:"Commencez votre conversation",message_placeholder:"Message",attachments_coming_soon:"Pièces jointes bientôt disponibles",my_dashboard:"Mon Tableau de Bord",overview:"Aperçu",top_products:"Produits Populaires",best_sellers:"Meilleures Ventes",no_sales_data:"Aucune donnée de vente pour le moment",start_selling_message:"Commencez à vendre des produits pour voir vos meilleures performances",units_sold:"{count} unités vendues",units:"unités",total_products:"Total Produits",total_orders:"Total Commandes",total_revenue:"Chiffre d'Affaires Total",active_customers:"Clients Actifs",this_month:"Ce Mois",avg_order_value:"Valeur Moyenne Commande",pending_orders:"Commandes En Attente",awaiting:"En attente",low_stock_items:"Articles En Rupture",need_restock:"À Réapprovisionner",orders_this_month:"Commandes Ce Mois",no_comparison:"Pas de comparaison",pending_reviews:"Avis En Attente",need_response:"Nécessitent Réponse",recent_reviews:"Avis Récents",last_24h:"Dernières 24h",low_stock_alert:"Alerte Stock Faible",items_need_restocking:"{count} article{plural} nécessitent un réapprovisionnement",inventory_tip:"Vérifiez votre inventaire pour éviter les ruptures de produits populaires",recent_messages:"Messages Récents",no_recent_messages:"Aucun message récent.",no_recent_reviews:"Aucun avis récent",new_reviews_appear_here:"Les nouveaux avis clients apparaîtront ici",view_all:"Voir Tout",by_customer:"par {customerName}",needs_response:"Nécessitent Réponse",view_more_reviews:"Voir {count} avis de plus",revenue_analytics:"Analyse des Revenus",total:"Total",by_month:"Par Mois",by_year:"Par Année",month_number:"Mois {number}",no_revenue_data:"Aucune donnée de revenus disponible",start_selling_revenue:"Commencez à vendre pour voir vos analyses de revenus",best_performing_period:"Meilleure Période {period}",month_label:"Mois",year_label:"Année",sales_trends:"Tendances des Ventes",last_6_months:"6 derniers mois",no_sales_trend_data:"Aucune donnée de tendance des ventes.",orders_count:"{count} commande{plural}",reviews_management:"Gestion des Avis",filters_sort:"Filtres et Tri",total_reviews:"Total des Avis",responded:"Répondu",avg_rating:"Note Moyenne",positive_reviews:"Positifs (4+ ⭐)",product:"Produit",all_products:"Tous les Produits",sort_by:"Trier par",newest_first:"Plus Récents d'Abord",oldest_first:"Plus Anciens d'Abord",highest_rating:"Note la Plus Haute",lowest_rating:"Note la Plus Basse",filter_by:"Filtrer par",all_reviews:"Tous les Avis",positive_4_stars:"Positifs (4+ étoiles)",negative_1_2_stars:"Négatifs (1-2 étoiles)",no_reviews_found:"Aucun avis trouvé",no_reviews_yet_message:"Vous n'avez pas encore d'avis. Encouragez les clients à laisser des avis en fournissant un excellent service et une communication de suivi !",no_reviews_match_filters:"Aucun avis ne correspond à vos filtres actuels. Essayez d'ajuster vos critères de recherche.",medicine:"Médicament",reviewed_by:"Avis par",verified:"Vérifié",people_found_helpful:"{count} personnes ont trouvé cela utile",your_response:"Votre Réponse",cancel_response:"Annuler la Réponse",respond_to_review:"Répondre à l'Avis",write_thoughtful_response:"Rédigez une réponse réfléchie à cet avis...",submit_response:"Envoyer la Réponse",response_submitted_success:"Réponse envoyée avec succès !",response_submit_failed:"Échec de l'envoi de la réponse. Veuillez réessayer.",loading_reviews:"Chargement de vos avis...",loading_please_wait:"Veuillez patienter pendant que nous récupérons vos données",my_prescriptions:"Mes Ordonnances",add_to_calendar:"Ajouter au Calendrier",no_prescriptions_found:"Aucune ordonnance trouvée.",see_more_count:"Voir plus ({count})",see_less:"Voir moins",time_to_take_medicine:"Il est temps de prendre {drugName}",take_medicine:"Prendre {drugName}",dosage_frequency:"Dosage: {dosage} ({frequency})",my_activity:"Mon Activité",active_chats:"Chats Actifs",storefront_preview:"Aperçu de la Vitrine",inventory:"Inventaire",products_sold:"Produits Vendus",no_products_yet:"Pas encore de produits. Utilisez les boutons ci-dessus pour ajouter ou télécharger en masse.",edit_product:"Modifier le Produit",product_image:"Image du Produit",image_url_placeholder:"URL de l'image (ou choisissez un fichier ci-dessous)",product_description:"Description du Produit",enter_product_description:"Entrez la description du produit",confirm_delete_product:"Êtes-vous sûr de vouloir supprimer cet élément ?",yes_delete:"Oui, Supprimer",log_out:"Se Déconnecter",customer_reviews:"Avis Clients",loading_reviews:"Chargement des avis…",no_reviews_yet:"Pas encore d'avis. Soyez le premier à donner votre avis !",pharmacy_response:"Réponse de {pharmacyName}",message_vendor:"Contacter le Vendeur",call_to_order:"Appeler pour Commander",your_name:"Votre Nom",your_review_optional:"Votre avis... (optionnel)",general:"Général",appearance:"Apparence",language_region:"Langue et Région",privacy_security:"Confidentialité et Sécurité",accessibility:"Accessibilité",swipe_navigation:"Navigation par Balayage",data_saver_mode:"Mode Économie de Données",read_receipts:"Accusés de Lecture",theme:"Thème",font_size:"Taille de Police",app_language:"Langue de l'Application",add_product_title:"Ajouter un Nouveau Produit",product_name:"Nom du Produit",product_name_placeholder:"Entrez le nom du produit",product_price:"Prix",product_price_placeholder:"Entrez le prix",product_category:"Catégorie",select_category:"Sélectionnez une Catégorie",prescription_drugs:"Médicaments sur Ordonnance",over_counter:"En Vente Libre",general_pills:"Pilules Générales",controlled_substances:"Substances Contrôlées",syrup_liquid:"Sirop/Liquide",therapeutic_drugs:"Médicaments Thérapeutiques",supplements_vitamins:"Suppléments et Vitamines",stock_quantity:"Quantité en Stock",stock_placeholder:"Entrez la quantité en stock",product_sku:"SKU",sku_placeholder:"Entrez le SKU (optionnel)",product_tags:"Étiquettes",tags_placeholder:"Ajoutez des étiquettes séparées par des virgules",product_image:"Image du Produit",upload_image:"Télécharger une Image",image_url:"URL de l'Image",image_url_placeholder:"Ou entrez l'URL de l'image",product_description:"Description",description_placeholder:"Entrez la description du produit",uploading:"Téléchargement...",create_product:"Créer le Produit",creating_product:"Création du Produit...",product_created_success:"Produit créé avec succès !",error_creating_product:"Erreur lors de la création du produit. Veuillez réessayer.",please_fill_required:"Veuillez remplir tous les champs requis",invalid_price:"Veuillez entrer un prix valide"}},cs=()=>{const{getSetting:t}=J2(),e=t(Ar.LANGUAGE)||"en";return{t:L.useMemo(()=>(n,i=n,s={})=>{const a=sC[e]?.[n]||sC.en?.[n]||i;return!a||typeof a!="string"?a:a.replace(/\{(\w+)\}/g,(o,l)=>s&&Object.prototype.hasOwnProperty.call(s,l)?String(s[l]):`{${l}}`)},[e]),currentLanguage:e}},Iee=({children:t})=>{const{t:e,currentLanguage:r}=cs();return u.jsx(Aee.Provider,{value:{t:e,currentLanguage:r},children:t})},Pee=({user:t,profile:e,location:r,navigate:n,etaInfo:i,closestPharmacy:s,vendors:a,userCoords:o,t:l})=>Us.createPortal(u.jsx("div",{className:"fixed top-0 left-0 right-0 z-[100] w-full bg-white dark:bg-gray-900 border-b dark:border-gray-700 flex-shrink-0 px-2",children:u.jsx("div",{className:"w-full mx-auto pt-8 pb-4",children:u.jsx("div",{className:"pt-4 pb-2 w-full",children:u.jsxs("div",{className:"w-full mx-auto px-0",children:[u.jsxs("div",{className:"flex justify-between items-center w-full h-[14px] md:h-[14px] lg:h-[20px]",children:[u.jsxs("div",{className:"flex flex-col justify-center",children:[u.jsxs("div",{className:"text-[17px] md:text-[26px] lg:text-[20px] font-regular font-poppins text-gray-900 dark:text-white",children:[l("hello","Hello"),t?`, ${t.displayName?.split(" ")[0]||l("friend","Friend")}`:""]}),u.jsx("span",{className:"text-zinc-500 dark:text-zinc-400 text-[10px] md:text-[12px] lg:text-[14px] font-thin font-poppins truncate max-w-xs md:max-w-md lg:max-w-lg",title:r,children:r})]}),e?.role==="customer"?u.jsxs("button",{onClick:()=>n("/pharmacy-map"),className:"flex flex-col justify-center items-end hover:bg-blue-50 transition-colors rounded-lg p-2 -m-2 group",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(eC,{className:"h-4 w-4 md:h-5 md:w-5 lg:h-6 lg:w-6 mb-0.5 mt-0.5 text-sky-500"}),u.jsx(IF,{className:"h-4 w-4 md:h-3 md:w-3 lg:h-4 lg:w-4 text-sky-500 group-hover:text-blue-500 group-hover:translate-x-1 transition-all duration-300 animate-pulse"})]}),u.jsx("span",{className:"text-[10px] md:text-[12px] lg:text-[14px] font-poppins font-thin text-right leading-tight mt-1.5 group-hover:text-blue-600 transition-colors",children:i&&s?`${i.formatted} ${l("to","to")} ${a[s.vendorId]?.name||l("nearest_pharmacy","nearest pharmacy")}`:o?l("calculating_eta","Calculating ETA..."):l("fetching_location","Fetching location...")})]}):u.jsxs("div",{className:"flex flex-col justify-center items-end",children:[u.jsx("div",{className:"flex items-center gap-1",children:u.jsx(eC,{className:"h-3 w-3 md:h-5 md:w-5 lg:h-6 lg:w-6 mb-0.5 mt-0.5 text-sky-500"})}),u.jsx("span",{className:"text-[10px] md:text-[12px] lg:text-[14px] font-poppins font-thin text-right leading-tight mt-1.5 text-gray-800",children:e?.role==="pharmacy"?l("your_pharmacy_location","Your pharmacy location"):l("location_services","Location services")})]})]}),u.jsx("div",{className:"w-full"})]})})})}),document.body);function W_(){const[t,e]=L.useState([]),[r,n]=L.useState({}),[i,s]=L.useState([]),[a,o]=L.useState(!1),[l,c]=L.useState(-1),[d,p]=L.useState(null),[g,m]=L.useState(!1),[y,w]=L.useState(""),{user:_,profile:S}=In(),{t:P}=cs(),A=oi(),{userCoords:V,location:W}=K0(),[K,j]=L.useState(null),[T,C]=L.useState(null),D=L.useRef(null),[R,F]=L.useState(!1),[B,ee]=L.useState(!1),[he,ve]=L.useState("All"),[fe,se]=L.useState([]),Y=L.useRef(null),[ie,G]=L.useState(0),I=L.useRef([]),z=je=>Ke=>{I.current[je]=Ke||null},[X,J]=L.useState(1),[ce,we]=L.useState(1),ke=L.useMemo(()=>{let je=t;const Ke=y.trim().toLowerCase();Ke&&d?.products&&Array.isArray(d.products)&&(je=d.products);let Qe=je;return he&&he!=="All"&&(Qe=je.filter(ae=>{const Le=ae.category||"";return he==="Over-the-counter"?Le.toLowerCase().includes("over"):he==="Controlled"?Le.toLowerCase().includes("control"):Le===he})),Ke?Qe.filter(ae=>{const Le=(ae.name||"").toLowerCase(),We=(ae.category||"").toLowerCase(),lt=Array.isArray(ae.tags)?ae.tags.join(" ").toLowerCase():"",xt=ae.vendorId?r[ae.vendorId]||{}:{},Ut=(xt.name||"").toLowerCase(),Kt=(xt.location||"").toLowerCase(),Ct=[ae.price,ae.mrp,ae.cost,ae.listPrice].map(wr=>wr==null?"":String(wr)).join(" ").toLowerCase(),Mt=Le.includes(Ke)||We.includes(Ke)||lt.includes(Ke)||Ut.includes(Ke)||Kt.includes(Ke)||Ct.includes(Ke),Pr=Ke.replace(/[^0-9.]/g,""),Zt=Pr&&(Ct.includes(Pr)||ae.price&&String(ae.price).includes(Pr));return Mt||!!Zt}):Qe},[t,y,he,r,d]),oe=L.useMemo(()=>{const je=y.trim().toLowerCase();return je?d?.pharmacies&&Array.isArray(d.pharmacies)?d.pharmacies.slice(0,6):i.filter(Ke=>{const Qe=(Ke.name||Ke.displayName||"").toLowerCase(),ae=(Ke.address||Ke.city||Ke.location||"").toLowerCase();return Qe.includes(je)||ae.includes(je)}).slice(0,6):[]},[i,y,d]);L.useEffect(()=>Z5(e),[]),L.useEffect(()=>{async function je(){if(!V)return;let Ke=i;if(Ke.length===0&&(Ke=await zy(),!Ke||Ke.length===0))return;const Qe=Nee(Ke,V,"driving");Qe?(j(Qe.pharmacy),C(Qe.eta)):(j(null),C(null))}je()},[V,i]),L.useEffect(()=>{if(!D.current)return;let je,Ke;const Qe=()=>{F(!0),clearTimeout(Ke),Ke=setTimeout(()=>F(!1),2e3)},ae=D.current;return ae.addEventListener("scroll",Qe),je=setInterval(()=>{!R&&ae&&(ae.scrollBy({left:120,behavior:"smooth"}),ae.scrollLeft+ae.offsetWidth>=ae.scrollWidth-5&&ae.scrollTo({left:0,behavior:"smooth"}))},2500),()=>{clearInterval(je),ae.removeEventListener("scroll",Qe),Ke&&clearTimeout(Ke)}},[R,ke.length]),L.useEffect(()=>{async function je(){const Ke=Array.from(new Set(t.map(ae=>ae.vendorId).filter(Boolean))),Qe={};await Promise.all(Ke.map(async ae=>{try{const Le=await os(Qt(ht,"pharmacies",ae));if(Le.exists()){const We=Le.data()||{};Qe[ae]={name:We.name||"Pharmacy",location:We.address||We.city||We.location||"",coords:We.coordinates||null}}}catch{}})),n(Qe)}t.length&&je()},[t]),L.useEffect(()=>{let je=!0;return(async()=>{try{const Ke=await zy();if(!je)return;s(Array.isArray(Ke)?Ke:[])}catch{}})(),()=>{je=!1}},[]),L.useEffect(()=>{const je=y.trim();if(!je){p(null),m(!1);return}const Ke=new AbortController,Qe=setTimeout(async()=>{m(!0);try{const ae=await fetch(`/.netlify/functions/search?q=${encodeURIComponent(je)}`,{signal:Ke.signal,headers:{Accept:"application/json"}});if(!ae.ok)throw new Error("server search failed");const Le=await ae.json();p(Le||null)}catch{p(null)}finally{m(!1)}},300);return()=>{Ke.abort(),clearTimeout(Qe)}},[y]),L.useEffect(()=>{const je=Nn(tr(ht,"infoCards"),Ke=>{se(Ke.docs.map(Qe=>({id:Qe.id,...Qe.data()})))});return()=>je()},[]);const Ee=L.useMemo(()=>[...ke].filter(je=>je.stock===void 0||je.stock>0).sort((je,Ke)=>(Ke.viewCount||0)+(Ke.sold||0)-((je.viewCount||0)+(je.sold||0))),[ke]),Oe=L.useMemo(()=>[...t].filter(je=>je.createdAt).sort((je,Ke)=>(Ke.createdAt?.seconds||0)-(je.createdAt?.seconds||0)).slice(0,12),[t]),re=L.useMemo(()=>[...t].filter(je=>je.createdAt).sort((je,Ke)=>(Ke.createdAt?.seconds||0)-(je.createdAt?.seconds||0)),[t]),_e=30,Re=Math.max(1,Math.ceil(Ee.length/_e)),pe=Ee.slice(0,X*_e),Ye=12,ze=Math.max(1,Math.ceil(re.length/Ye)),ot=re.slice(0,ce*Ye);L.useEffect(()=>J(1),[Ee.length]),L.useEffect(()=>we(1),[re.length]);const Ve=je=>{if(!je)return je;if(je.startsWith("t:")){const Qe=je.substring(2);return P(Qe,je)}const Ke=je.match(/^\{(.+)\}$/);return Ke?P(Ke[1],je):je},He=je=>{if(!je)return"";const Ke=String(je).trim();return/^(https?:)?\/\//i.test(Ke)||/^mailto:/i.test(Ke)||/^tel:/i.test(Ke)||Ke.startsWith("/")?Ke:`https://${Ke}`},ut=je=>je?/^(https?:)?\/\//i.test(je)||/^mailto:/i.test(je)||/^tel:/i.test(je):!1,Et=async je=>{A(`/product/${je}`),e(Ke=>Ke.map(Qe=>Qe.id===je?{...Qe,viewCount:(Qe.viewCount||0)+1}:Qe));try{const{doc:Ke,updateDoc:Qe,increment:ae}=await md(async()=>{const{doc:Le,updateDoc:We,increment:lt}=await Promise.resolve().then(()=>Hj);return{doc:Le,updateDoc:We,increment:lt}},void 0);await Qe(Ke(ht,"products",je),{viewCount:ae(1)})}catch{}};L.useEffect(()=>{const je=Y.current;if(!je)return;let Ke=0;const Qe=()=>{cancelAnimationFrame(Ke),Ke=requestAnimationFrame(()=>{const ae=je.scrollLeft+je.clientWidth/2;let Le=0,We=1/0;I.current.forEach((lt,xt)=>{if(!lt)return;const Ut=lt.getBoundingClientRect(),Kt=je.getBoundingClientRect(),Ct=Ut.left-Kt.left+Ut.width/2+je.scrollLeft,Mt=Math.abs(Ct-ae);Mt<We&&(We=Mt,Le=xt)}),G(Le)})};return je.addEventListener("scroll",Qe,{passive:!0}),Qe(),()=>{je.removeEventListener("scroll",Qe),cancelAnimationFrame(Ke)}},[fe.length]),L.useEffect(()=>{const je=Y.current;if(!je||I.current.length===0||window.matchMedia?.("(prefers-reduced-motion: reduce)").matches)return;let Ke=!1,Qe;const ae=()=>{Ke=!0,clearTimeout(Qe),Qe=setTimeout(()=>{Ke=!1},1800)};je.addEventListener("pointerdown",ae),je.addEventListener("wheel",ae,{passive:!0}),je.addEventListener("touchstart",ae,{passive:!0});const Le=setInterval(()=>{if(Ke)return;const We=(ie+1)%I.current.length,lt=I.current[We];if(lt&&je){const xt=lt.offsetLeft,Ut=Math.max(0,Math.round(xt-(je.clientWidth-lt.clientWidth)/2));je.scrollTo({left:Ut,behavior:"smooth"})}},3e3);return()=>{clearInterval(Le),je.removeEventListener("pointerdown",ae),je.removeEventListener("wheel",ae),je.removeEventListener("touchstart",ae),clearTimeout(Qe)}},[ie,fe.length]),_&&_.role;const St={Prescription:"PrescriptionDrugs.svg","Over-the-counter":"Over-the-counter Icon.svg",Syrup:"Syrup.svg",Therapeutic:"Therapeutic.svg",Controlled:"ControlledSubstances.svg","Target System":"TargetSystem.svg"};return t.length?u.jsxs(u.Fragment,{children:[u.jsx(Pee,{user:_,profile:S,location:W,navigate:A,etaInfo:T,closestPharmacy:K,vendors:r,userCoords:V,t:P}),u.jsx("div",{className:"min-h-screen w-full px-0 pb-20 pt-32 bg-white dark:bg-gray-900",children:u.jsxs("div",{className:"flex-1 overflow-y-auto w-full mx-auto flex flex-col pb-28 px-0",children:[u.jsxs("div",{className:"flex items-center gap-3 border-b border-zinc-300 dark:border-gray-600 dark:border-zinc-600 pb-2",children:[u.jsx(dh,{className:"h-5 w-5 md:h-6 md:w-6 lg:h-7 lg:w-7 text-zinc-400 dark:text-zinc-500"}),u.jsx("input",{value:y,onChange:je=>{w(je.target.value),o(!0),c(-1)},onKeyDown:je=>{if(!(!a||oe.length===0))switch(je.key){case"ArrowDown":je.preventDefault(),c(Ke=>Ke<oe.length-1?Ke+1:0);break;case"ArrowUp":je.preventDefault(),c(Ke=>Ke>0?Ke-1:oe.length-1);break;case"Enter":if(je.preventDefault(),l>=0&&l<oe.length){const Ke=oe[l];w(Ke.name||Ke.displayName||""),o(!1);const Qe=Ke.id||Ke.vendorId;Qe&&A(`/vendor/${Qe}`)}break;case"Escape":o(!1),c(-1);break}},onBlur:()=>{setTimeout(()=>{o(!1),c(-1)},200)},placeholder:P("search_placeholder","Search drugs, pharmacies"),className:"w-full outline-none bg-transparent text-gray-900 dark:text-white placeholder:text-[12px] md:placeholder:text-[14px] lg:placeholder:text-[16px] placeholder:text-[#888888] dark:placeholder:text-[#aaaaaa] placeholder:font-light"})]}),a&&y.trim().length>0&&oe.length>0&&u.jsxs("div",{className:"mt-2 left-0 right-0 md:left-6 md:right-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg divide-y dark:divide-gray-700 max-h-56 overflow-auto animate-fade-in",children:[oe.map((je,Ke)=>u.jsx("button",{onClick:()=>{w(je.name||je.displayName||""),o(!1);const Qe=je.id||je.vendorId;if(Qe)try{A(`/vendor/${Qe}`)}catch{window.location.href=`/vendor/${Qe}`}},onKeyDown:Qe=>{if(Qe.key==="Enter"||Qe.key===" "){Qe.preventDefault();const ae=je.id||je.vendorId;ae&&A(`/vendor/${ae}`)}},className:`w-full text-left px-4 py-3 focus:outline-none transition-all duration-200 animate-fadeInUp border-b border-gray-100 last:border-b-0 ${Ke===l?"bg-blue-100 border-blue-200":"hover:bg-zinc-50 focus:bg-zinc-100"}`,style:{animationDelay:`${Ke*.05}s`},role:"option",tabIndex:0,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 flex-shrink-0",children:u.jsxs("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:y.trim()&&(je.name||je.displayName||"").toLowerCase().includes(y.toLowerCase())?u.jsx("span",{children:(je.name||je.displayName||"").split(new RegExp(`(${y})`,"gi")).map((Qe,ae)=>Qe.toLowerCase()===y.toLowerCase()?u.jsx("span",{className:"bg-yellow-200 px-1 rounded",children:Qe},ae):Qe)}):je.name||je.displayName}),u.jsx("div",{className:"text-xs text-gray-500 truncate mt-1",children:y.trim()&&(je.address||je.city||je.location||"").toLowerCase().includes(y.toLowerCase())?u.jsx("span",{children:(je.address||je.city||je.location||"").split(new RegExp(`(${y})`,"gi")).map((Qe,ae)=>Qe.toLowerCase()===y.toLowerCase()?u.jsx("span",{className:"bg-yellow-200 px-1 rounded",children:Qe},ae):Qe)}):je.address||je.city||je.location||""})]}),u.jsx("div",{className:"text-xs text-blue-600 font-medium flex-shrink-0",children:"Pharmacy"})]})},je.id||je.vendorId||je.name)),oe.length>0&&u.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 text-center bg-gray-50 border-t animate-fade-in",children:"Use ↑↓ arrow keys to navigate, Enter to select, Esc to close"})]}),u.jsx("div",{className:"mt-3 mb-2 w-full overflow-x-auto scrollbar-hide",children:u.jsx("div",{className:"flex gap-3 min-w-max",children:["All","Prescription","Over-the-counter","Syrup","Therapeutic","Controlled","Target System"].map((je,Ke)=>{const Qe=St[je],ae=he===je;return u.jsx("button",{className:`flex items-center px-4 py-2 md:px-6 md:py-2.5 lg:px-8 lg:py-3 rounded-full text-[9px] md:text-[12px] lg:text-[14px] font-poppins font-light whitespace-nowrap border transition-all duration-200 btn-interactive animate-fadeInUp ${ae?"bg-sky-100 dark:bg-sky-900 border-sky-400 dark:border-gray-600 dark:border-sky-500 text-sky-700 dark:text-sky-300 shadow-md scale-105":"bg-zinc-100 dark:bg-gray-700 text-zinc-700 dark:text-zinc-300 border-zinc-200 dark:border-gray-600 hover:bg-sky-50 dark:hover:bg-sky-800 hover:border-sky-300 dark:border-gray-600 dark:hover:border-sky-500 hover:shadow-sm"}`,style:{animationDelay:`${Ke*.1}s`},onClick:()=>ve(je),children:Qe?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:`/${encodeURIComponent(Qe)}`,alt:`${je} icon`,className:`h-4 w-4 md:h-5 md:w-5 mr-2 object-contain flex-shrink-0 transition-transform duration-200 dark:invert dark:brightness-0 dark:contrast-100 ${ae?"scale-110":""}`}),u.jsx("span",{className:"truncate",children:je})]}):u.jsx("span",{className:"truncate",children:je})},je)})})}),fe.length>0&&u.jsx("div",{className:"w-full mt-6 mb-4 overflow-x-auto scrollbar-hide snap-x snap-mandatory scroll-smooth",ref:Y,role:"region","aria-label":"Announcements",style:{height:140},children:u.jsx("div",{className:"flex gap-4 md:gap-6 min-w-max h-full",children:fe.map((je,Ke)=>{const Qe=je.bgColor||"#3BA3FF",ae=je.headerColor||"#ffffff",Le=je.previewColor||(je.headerColor?je.headerColor+"cc":"#ffffffcc"),We=je.linkColor||je.linkTextColor||"#ffffff",lt=je.headerFontSize||20,xt=je.previewFontSize||13,Ut=je.linkTextFontSize||je.linkFontSize||13;return u.jsxs("div",{ref:z(Ke),className:"relative flex-shrink-0 snap-center rounded-2xl overflow-hidden",style:{width:"90vw",maxWidth:700,minWidth:260,height:"100%",background:Qe,position:"relative"},children:[je.fullImage&&u.jsx("img",{src:je.fullImage,alt:je.header||"Info",className:"w-full h-full object-cover",style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}),je.image&&!je.fullImage&&u.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center justify-end pointer-events-none",children:u.jsx("img",{src:je.image,alt:"",className:"object-cover",style:{height:"100%",maxWidth:"100%",borderRadius:"0 16px 16px 0"}})}),u.jsx("div",{className:"absolute inset-y-0 right-0",style:{width:"55%",background:"linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.06) 60%, rgba(0,0,0,0.10) 100%)",pointerEvents:"none"}}),u.jsx("div",{className:"relative z-10 h-full flex items-center",children:u.jsxs("div",{className:"px-4 md:px-6 py-5 min-w-0 max-w-[65%] md:max-w-[60%] lg:max-w-[60%]",children:[u.jsx("div",{style:{color:ae,fontSize:lt+"px",lineHeight:1,fontWeight:300,letterSpacing:"-0.02em"},children:Ve(je.header)||"—"}),je.preview&&u.jsx("div",{style:{marginTop:8,color:Le,fontSize:xt+"px",lineHeight:1.2},children:Ve(je.preview)}),je.link&&je.linkText&&(()=>{const Kt=He(je.link),Ct=ut(Kt);return u.jsx("a",{href:Kt,onClick:Mt=>{if(!Ct){Mt.preventDefault();try{A(Kt)}catch{window.location.href=Kt}}},...Ct?{target:"_blank",rel:"noopener noreferrer"}:{},style:{display:"inline-block",marginTop:12,textDecoration:"underline",color:We,fontSize:Ut+"px",fontWeight:500},children:Ve(je.linkText)})})()]})})]},je.id)})})}),u.jsxs("div",{className:"mt-2",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-[15px] md:text-[18px] lg:text-[22px] font-medium font-poppins",children:P("new_arrivals","New Arrivals")}),u.jsx("button",{className:"text-[13px] md:text-[15px] lg:text-[17px] font-normal font-poppins text-sky-600",onClick:()=>ee(!0),children:P("view_all","view all")})]}),u.jsx("div",{ref:D,className:"w-full overflow-x-auto scrollbar-hide cursor-grab active:cursor-grabbing",style:{overflowX:"auto"},onMouseDown:je=>{const Ke=D.current;if(!Ke)return;let Qe=je.pageX-Ke.offsetLeft,ae=Ke.scrollLeft;function Le(lt){Ke.scrollLeft=ae-(lt.pageX-Ke.offsetLeft-Qe)}function We(){window.removeEventListener("mousemove",Le),window.removeEventListener("mouseup",We)}window.addEventListener("mousemove",Le),window.addEventListener("mouseup",We)},children:u.jsx("div",{className:"flex gap-3 md:gap-4 lg:gap-6 min-w-max pb-2",children:Oe.map(je=>u.jsxs("div",{className:"relative",children:[u.jsx(zw,{product:je,onOpen:()=>Et(je.id),onAdd:()=>_?o1(_.uid,je.id,1):alert(P("please_sign_in","Please sign in")),cardWidth:"110px",cardHeight:"128px",nameSize:"11px",nameWeight:"medium",nameTracking:"-0.5px",priceSize:"9px",priceColor:"#BDBDBD",priceWeight:"medium",addColor:"#36A5FF",addSize:"9px"}),u.jsx("span",{className:"absolute top-1 left-1 bg-sky-500 text-white text-[9px] font-semibold px-2 py-0.5 rounded-full shadow-sm select-none pointer-events-none",children:P("new","New")})]},je.id||je.sku))})})]}),B&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:u.jsxs("div",{className:"bg-white rounded-[20px] shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 relative",children:[u.jsx("button",{className:"absolute top-2 right-2 text-zinc-500 hover:text-zinc-800 text-xl font-bold",onClick:()=>ee(!1),"aria-label":P("close","Close"),children:"×"}),u.jsx("div",{className:"text-[20px] md:text-[26px] font-light mb-4 font-poppins text-left",children:P("all_new_products","All New Products")}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 justify-items-center",children:ot.map(je=>u.jsxs("div",{className:"relative flex flex-col items-center",children:[u.jsx(zw,{product:je,onOpen:()=>Et(je.id),onAdd:()=>_?o1(_.uid,je.id,1):alert(P(P("please_sign_in","please_sign_in","Please sign in"))),cardWidth:"110px",cardHeight:"128px",nameSize:"11px",nameWeight:"semi-bold",nameTracking:"-0.5px",priceSize:"9px",priceColor:"#BDBDBD",priceWeight:"medium",addColor:"#36A5FF",addSize:"9px"}),u.jsx("span",{className:"absolute top-1 left-1 bg-sky-500 text-white text-[9px] font-semibold px-2 py-0.5 rounded-full shadow-sm select-none pointer-events-none",children:P("new","New")})]},je.id||je.sku))}),ze>1&&ce<ze&&u.jsx("div",{className:"flex items-center justify-center gap-3 mt-4",children:u.jsx("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white hover:bg-sky-700",onClick:()=>we(je=>Math.min(ze,je+1)),"aria-label":P("load_more","Load more")+" "+P("new_arrivals","new arrivals"),children:P("load_more","Load more")})})]})}),u.jsxs("div",{className:"mt-10",children:[u.jsx("div",{className:"text-[15px] md:text-[18px] lg:text-[22px] font-medium font-poppins mb-3",children:P("popular_products","Popular Products")}),u.jsx("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3 md:gap-6 lg:gap-8",children:pe.map(je=>u.jsx("div",{className:"flex justify-center relative",children:u.jsx(zw,{product:je,onOpen:()=>Et(je.id),onAdd:()=>_?o1(_.uid,je.id,1):alert("Please sign in"),cardWidth:"128px",cardHeight:"120px",nameSize:"12px",nameWeight:"semi-bold",nameTracking:"-0.5px",nameLineHeight:"-1.1",priceSize:"11px",priceColor:"#BDBDBD",priceWeight:"medium",priceLineHeight:"1.1",addColor:"#36A5FF",addSize:"9px",borderRadius:"10px"},je.id||je.sku)},(je.id||je.sku)+"-wrapper"))}),Re>1&&X<Re&&u.jsx("div",{className:"flex items-center justify-center gap-4 mt-4",children:u.jsx("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white hover:bg-sky-700",onClick:()=>J(je=>Math.min(Re,je+1)),"aria-label":P("load_more","Load more")+" "+P("popular_products","popular products"),children:P("load_more","Load more")})})]})]})})]}):u.jsx(A0,{lines:6,className:"my-8"})}function r4({open:t,onClose:e,children:r}){const[n,i]=L.useState(!1),[s,a]=L.useState(!1);return L.useEffect(()=>{t?(a(!0),setTimeout(()=>i(!0),10)):(i(!1),setTimeout(()=>a(!1),300))},[t]),L.useEffect(()=>{if(!t)return;const o=l=>{(l.key==="Escape"||l.key==="Esc")&&typeof e=="function"&&e()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[t,e]),s?u.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center px-2 sm:px-4 transition-all duration-300 ${n?"bg-black/30 dark:bg-white/10":"bg-black/0"}`,onClick:()=>{typeof e=="function"&&e()},children:u.jsxs("div",{className:`bg-white dark:bg-gray-800 text-black dark:text-white rounded-2xl shadow-xl max-w-lg w-full p-6 relative max-h-[90vh] overflow-y-auto border transition-all duration-300 transform ${n?"scale-100 opacity-100 translate-y-0":"scale-95 opacity-0 translate-y-4"}`,style:{borderWidth:1,borderColor:"#36A5FF"},onClick:o=>o.stopPropagation(),children:[u.jsx("button",{type:"button",onClick:()=>{typeof e=="function"&&e()},className:"absolute top-3 right-3 text-zinc-400 dark:text-white hover:text-zinc-700 dark:hover:text-white text-xl font-bold focus:outline-none transition-all duration-200 hover:scale-110 hover:bg-zinc-100 dark:hover:bg-gray-700 rounded-full w-8 h-8 flex items-center justify-center","aria-label":"Close",children:"×"}),u.jsx("div",{className:"animate-fadeInUp",children:r})]})}):null}const aC=["pending","processing","fulfilled","cancelled"],Ree=({title:t,t:e})=>Us.createPortal(u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:u.jsx("div",{className:"w-full mx-auto",children:u.jsx("h1",{className:"mt-8 text-[28px] sm:text-[35px] md:text-[42px] lg:text-[48px] font-light font-poppins text-gray-900 dark:text-white",children:e("orders","Orders")})})}),document.body);function DF(){const{user:t,profile:e}=In(),{t:r}=cs(),[n,i]=L.useState([]),[s,a]=L.useState("all"),[o,l]=L.useState({}),[c,d]=L.useState({}),[p,g]=L.useState(null),[m,y]=L.useState([]),w=oi(),_=Bl(),[S,P]=L.useState(null);L.useEffect(()=>{if(!t||!e)return;const j=e.uid||t.uid;let T;return e.role==="pharmacy"?T=Er(tr(ht,"orders"),Vr("pharmacyId","==",j),pa("createdAt","desc")):T=Er(tr(ht,"orders"),Vr("customerId","==",j),pa("createdAt","desc")),Nn(T,D=>{i(D.docs.map(R=>({id:R.id,...R.data()})))})},[t,e]),L.useEffect(()=>{const j=_?.state?.highlightOrderId,T=new URLSearchParams(_.search).get("highlight");j?P(j):T&&P(T)},[_]),L.useEffect(()=>{if(!S||n.length===0)return;const j=S,T=setTimeout(()=>{const D=document.getElementById(`order-${j}`);D&&D.scrollIntoView({behavior:"smooth",block:"center"})},250),C=setTimeout(()=>P(null),5e3);return w(_.pathname,{replace:!0,state:{}}),()=>{clearTimeout(T),clearTimeout(C)}},[S,n]);const A=async(j,T)=>{await ri(Qt(ht,"orders",j),{status:T})},V=s==="all"?n:n.filter(j=>(j.status||"pending")===s),W=j=>{l(T=>({...T,[j]:!T[j]}))};L.useEffect(()=>{async function j(){if(!p||!p.items)return y([]);const C=p.items.map(R=>R.productId).map(R=>os(Qt(ht,"products",R))),D=await Promise.all(C);y(D.map(R=>R.exists()?{id:R.id,...R.data()}:null))}j()},[p]);function K(j){const T={};return j.forEach(C=>{const D=C.productId;T[D]?T[D].qty+=Number(C.qty||C.quantity||1):T[D]={...C,qty:Number(C.qty||C.quantity||1)}}),Object.values(T)}return t?u.jsxs(u.Fragment,{children:[u.jsx(Ree,{title:"Orders",t:r}),u.jsxs("div",{className:"pt-10 pb-28 w-full mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-16 min-h-screen flex flex-col",children:[u.jsx("div",{className:"mt-8 -mx-4 sm:mx-0 sticky top-20 pt-8 sm:static z-40 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm border-b border-gray-100 dark:border-gray-800",children:u.jsxs("div",{className:"flex gap-2 flex-nowrap px-4 sm:px-0 overflow-x-auto no-scrollbar py-2",children:[u.jsx("button",{className:`px-3 py-1 rounded-full border text-[10px] font-light ${s==="all"?"bg-sky-600 text-white border-sky-600 dark:border-gray-600":"border-zinc-300 dark:border-gray-600 text-zinc-600"}`,onClick:()=>a("all"),children:r("all","All")}),aC.map(j=>u.jsx("button",{className:`px-3 py-1 rounded-full border text-[10px] font-light ${s===j?"bg-sky-600 text-white border-sky-600 dark:border-gray-600":"border-zinc-300 dark:border-gray-600 text-zinc-600"}`,onClick:()=>a(j),children:r(j,j.charAt(0).toUpperCase()+j.slice(1))},j))]})}),u.jsx("div",{className:"mt-4 space-y-6",children:V.length===0?u.jsx("div",{className:"text-zinc-500 font-extralight text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] text-center py-12 animate-fadeInUp",children:r("no_orders_yet","No orders yet.")}):V.map((j,T)=>{const C=j.items||[],D=o[j.id],R=C.length>4,F=D?C:C.slice(0,4),B=j.customerPhone||j.customer_phone||j.phone||"",ee=c[j.id];return u.jsxs("div",{id:`order-${j.id}`,className:`relative -mx-4 sm:mx-0 rounded-[10px] sm:rounded-[10px] border border-gray-200 dark:border-gray-600 p-4 flex flex-col gap-2 group hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 card-interactive animate-fadeInUp ${S===j.id?"ring-4 ring-sky-200 dark:ring-sky-800 bg-sky-50 dark:bg-sky-900/30 scale-102":""}`,style:{cursor:"pointer",animationDelay:`${T*.1}s`},onClick:he=>{he.target.closest(".order-see-more-btn")||e.role==="pharmacy"&&he.target.closest(".order-status-dropdown")||g(j)},children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"font-light text-[14px] sm:text-[15px] md:text-[18px] lg:text-[22px]",children:[r("order_number","Order #"),j.id.slice(0,6)]}),u.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-[11px] sm:text-[12px] md:text-[14px] lg:text-[16px] font-light",children:j.createdAt?.toDate?.().toLocaleString?.()||""})]}),u.jsxs("div",{className:"text-[14px] sm:text-[15px] md:text-[18px] lg:text-[22px] font-medium",children:["₦",Number(j.total).toLocaleString()]})]}),e.role==="pharmacy"&&u.jsxs("div",{className:"mt-2",children:[u.jsxs("div",{className:"text-[13px] text-zinc-500 dark:text-zinc-400 font-light mb-1 flex items-center gap-2",children:[r("customer","Customer"),": ",j.customerName||j.customerId||j.customer_id||"N/A"]}),u.jsx("div",{className:"text-[12px] text-zinc-400 dark:text-zinc-500 font-light mb-2",children:j.customerEmail||""}),u.jsxs("div",{className:"text-[13px] text-zinc-700 dark:text-zinc-300 font-medium mb-1",children:[r("items","Items"),":"]}),u.jsx("ul",{className:"ml-2 list-disc text-[13px] text-zinc-700 dark:text-zinc-300",children:F.map((he,ve)=>u.jsxs("li",{children:[u.jsx("span",{children:he.name||he.productId}),u.jsxs("span",{children:[" x",he.qty||he.quantity||1]})]},ve))}),R&&u.jsx("button",{className:"order-see-more-btn text-sky-600 text-xs mt-1 ml-2 font-medium hover:underline focus:outline-none",onClick:he=>{he.stopPropagation(),W(j.id)},children:D?r("see_less","See less"):`${r("see_more","See more")} (${C.length-4} ${r("more_items","more")})`}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsxs("span",{className:"text-[12px] text-zinc-500 dark:text-zinc-400",children:[r("status","Status"),":"]}),u.jsx("select",{className:"order-status-dropdown border rounded px-2 py-1 text-[12px]",value:j.status||"pending",onChange:he=>A(j.id,he.target.value),children:aC.map(he=>u.jsx("option",{value:he,children:r(he,he.charAt(0).toUpperCase()+he.slice(1))},he))}),B&&!ee&&u.jsx("button",{className:"ml-2 px-3 py-1 rounded-full bg-sky-600 text-white text-[12px] font-light",onClick:he=>{he.stopPropagation(),d(ve=>({...ve,[j.id]:!0}))},children:r("reveal_number","Reveal Number")}),B&&ee&&u.jsx("span",{className:"ml-2 text-[13px] text-zinc-700 dark:text-zinc-300 font-medium",children:B})]})]})]},j.id)})}),u.jsx(r4,{open:!!p,onClose:()=>g(null),children:p&&u.jsxs("div",{children:[u.jsxs("div",{className:"text-lg font-medium mb-2",children:[r("order_number","Order #"),p.id.slice(0,6)]}),u.jsx("div",{className:"text-zinc-500 text-xs mb-4",children:p.createdAt?.toDate?.().toLocaleString?.()||""}),u.jsxs("div",{className:"mb-2 text-[15px] font-medium",children:[r("items","Items"),":"]}),u.jsx("ul",{className:"mb-4 space-y-2",children:K(p.items).map((j,T)=>{const C=m.find(D=>D&&D.id===j.productId);return u.jsxs("li",{className:"flex items-center gap-3",children:[C?u.jsx(Ml,{name:C.name,image:C.image,category:C.category,size:40,roundedClass:"rounded-lg"}):null,u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-poppins font-medium text-[14px]",children:C?C.name:j.productId}),u.jsxs("div",{className:"text-zinc-500 text-xs",children:[r("qty","Qty"),": ",j.qty]})]}),u.jsxs("div",{className:"text-[14px] font-medium text-sky-600",children:["₦",Number(j.price||C?.price||0).toLocaleString()]})]},j.productId)})}),u.jsxs("div",{className:"flex justify-between items-center border-t pt-3 mt-2",children:[u.jsxs("div",{className:"text-[15px] font-medium",children:[r("total","Total"),":"]}),u.jsxs("div",{className:"text-[15px] font-bold text-sky-700",children:["₦",Number(p.total).toLocaleString()]})]}),u.jsxs("div",{className:"mt-2 text-xs text-zinc-400",children:[r("status","Status"),": ",r(p.status||"pending",p.status||"pending")]})]})})]})]}):u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[u.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:r("please_sign_in_continue","Please sign in to continue")}),u.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>w("/auth/landing"),children:r("sign_in_sign_up","Sign In / Sign Up")})]})}function zc({name:t,isVerified:e,className:r="",nameClassName:n="",iconClassName:i="h-4 w-4 text-sky-500",label:s="Verified pharmacy"}){return t?u.jsxs("span",{className:`inline-flex items-center gap-1 ${r}`.trim(),title:e?s:void 0,children:[u.jsx("span",{className:n,children:t}),e&&u.jsx(uee,{"aria-label":s,role:"img",className:i})]}):null}const jee=({title:t,t:e})=>Us.createPortal(u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:u.jsx("div",{className:"w-full mt-8 max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:u.jsx("h1",{className:"text-[25px] font-light leading-none text-gray-900 dark:text-white whitespace-pre-line",children:e("my_conversations",`My
Conversations`)})})}),document.body);function OF(){const{user:t,profile:e}=In(),{t:r}=cs(),[n,i]=L.useState([]),[s,a]=L.useState(""),[o,l]=L.useState({});Bl();const c=oi();L.useEffect(()=>{if(!(!t||!e?.role))return J5({uid:t.uid,role:e.role},i,P=>console.error("listenUserThreads error:",P))},[t?.uid,e?.role]);const d=P=>{const A=y(P),V={thread:P};e?.role==="customer"&&A?c(`/chat/${A}`,{state:V}):c(`/thread/${P.id}`,{state:V}),$y(P.id,t.uid).catch(W=>console.error("markThreadRead error:",W))};if(!t)return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[u.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:r("please_sign_in_continue","Please sign in to continue")}),u.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>c("/auth/landing"),children:r("sign_in_sign_up","Sign In / Sign Up")})]});const p=t?.uid,g=P=>P?.unread?.[p]||0,m=P=>(e?.role==="customer"?P.vendorName:P.customerName)||"",y=P=>P.vendorId||(P.id&&P.id.includes("__")?P.id.split("__")[0]:null),w=P=>{if(e?.role!=="customer")return!1;if(typeof P.vendorIsVerified=="boolean")return P.vendorIsVerified;if(typeof P.vendorVerificationStatus=="string")return P.vendorVerificationStatus==="approved";const A=y(P);return A?!!o[A]:!1},_=P=>P.lastAt?.seconds?new Date(P.lastAt.seconds*1e3):null,S=n.filter(P=>{const A=m(P).toLowerCase(),V=s.toLowerCase();return!V||A.includes(V)||(P.lastMessage||"").toLowerCase().includes(V)});return L.useEffect(()=>{if(e?.role!=="customer"||!n.length)return;const P={},A=new Set;n.forEach(j=>{const T=y(j);T&&(A.add(T),typeof j.vendorIsVerified=="boolean"?P[T]=j.vendorIsVerified:typeof j.vendorVerificationStatus=="string"&&(P[T]=j.vendorVerificationStatus==="approved"))}),Object.entries(P).some(([j,T])=>o[j]!==T)&&l(j=>({...j,...P}));const W=Array.from(A).filter(j=>P[j]===void 0&&o[j]===void 0);if(!W.length)return;let K=!1;return(async()=>{const j=await Promise.all(W.map(async T=>{try{const C=await os(Qt(ht,"pharmacies",T));return[T,C.exists()?!!C.data()?.isVerified:!1]}catch(C){return console.error("[Messages] Failed to fetch pharmacy verification status",C),[T,!1]}}));K||l(T=>{const C={...T};return j.forEach(([D,R])=>{C[D]===void 0&&(C[D]=R)}),C})})(),()=>{K=!0}},[n,e?.role,o]),u.jsxs(u.Fragment,{children:[u.jsx(jee,{title:"My Conversations",t:r}),u.jsxs("div",{className:"min-h-screen pt-24 w-full mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-16 pb-28",children:[u.jsxs("div",{className:"mt-14 flex items-center gap-3 border-b border-zinc-300 dark:border-gray-600 pb-2",children:[u.jsx(dh,{className:"h-4 w-4 text-zinc-400"}),u.jsx("input",{placeholder:r("search_chats","Search chats"),value:s,onChange:P=>a(P.target.value),className:"w-full outline-none placeholder:text-zinc-400 bg-transparent placeholder:text-sm"})]}),u.jsxs("div",{className:"mt-8 space-y-4 w-full",children:[S.map((P,A)=>u.jsx("div",{className:"-mx-4 sm:mx-0",children:u.jsxs("button",{onClick:()=>d(P),className:"w-full rounded-[10px] sm:rounded-[10px] border border-gray-300 dark:border-gray-600 px-4 py-3 text-left h-[62px] flex items-center gap-3 bg-white hover:bg-zinc-50 transition-all duration-200 card-interactive animate-fadeInUp",style:{animationDelay:`${A*.1}s`},children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-200 flex items-center justify-center",children:u.jsx("span",{className:"text-zinc-500 text-xs font-semibold",children:(m(P)||"U")[0]})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx(zc,{name:m(P)||r("conversation_partner","Conversation"),isVerified:w(P),className:"text-sm truncate inline-flex items-center gap-1",nameClassName:"truncate",iconClassName:"h-3.5 w-3.5 text-sky-500"}),u.jsx("div",{className:"text-zinc-500 text-[10px] truncate",children:P.lastMessage||r("no_messages_yet","No messages yet.")})]}),u.jsxs("div",{className:"flex flex-col items-end justify-between h-full min-w-[48px]",children:[g(P)>0&&u.jsx("span",{className:"bg-sky-500 text-white text-[10px] font-semibold rounded-full px-2 py-0.5 mb-1",children:g(P)}),u.jsx("span",{className:"text-zinc-400 text-[10px]",children:_(P)?.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})||""})]})]})},P.id)),S.length===0&&u.jsx("div",{className:"text-zinc-500",children:r("no_conversations_yet","No conversations yet.")})]})]})]})}function Lee(t){return u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:u.jsxs("g",{children:[u.jsx("circle",{cx:"8",cy:"8",r:"8",fill:"#fd9292"}),u.jsx("path",{d:"M5.5 5.5L10.5 10.5M10.5 5.5L5.5 10.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round"})]})})}const Fee=({title:t,itemCount:e,t:r})=>Us.createPortal(u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:u.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:u.jsx("div",{className:"flex mt-8 items-center justify-between",children:u.jsx("h1",{className:"text-[28px] sm:text-[35px] md:text-[42px] lg:text-[48px] font-light font-poppins text-gray-900 dark:text-white",children:r("cart","Cart")})})})}),document.body);function MF(){const{user:t}=In(),{t:e}=cs(),r=oi(),{userCoords:n,location:i}=K0(),[s,a]=L.useState([]),[o,l]=L.useState(!1),[c,d]=L.useState(!1),[p,g]=L.useState(""),[m,y]=L.useState(""),[w,_]=L.useState(""),[S,P]=L.useState([]),[A,V]=L.useState(!1),[W,K]=L.useState(""),[j,T]=L.useState(0);L.useEffect(()=>{if(!t)return;const Y=Er(tr(ht,"users",t.uid,"cart"));return Nn(Y,async ie=>{const G=await Promise.all(ie.docs.map(async I=>{const z=I.data(),X=await os(Qt(ht,"products",z.productId));return{id:I.id,...z,product:{id:X.id,...X.data()}}}));a(G)})},[t]),L.useEffect(()=>{t&&!p&&(_(t.email||""),y(t.phoneNumber||""),g(i||"Current location"))},[t,i,p]),L.useEffect(()=>{s.length>0&&n&&R()},[s,n]);const C=L.useMemo(()=>s.reduce((Y,ie)=>Y+(ie.product?.price+0||0)*ie.qty,0),[s]),D=L.useMemo(()=>C+j,[C,j]),R=async()=>{if(!n||s.length===0){T(0);return}try{const Y=[...new Set(s.map(I=>I.product?.pharmacyId).filter(Boolean))];let ie=0;for(const I of Y){const X=(await os(Qt(ht,"pharmacies",I))).data();if(X){let J,ce;if(X.coordinates?.latitude&&X.coordinates?.longitude?(J=X.coordinates.latitude,ce=X.coordinates.longitude):X.lat&&X.lon?(J=X.lat,ce=X.lon):X.latitude&&X.longitude&&(J=X.latitude,ce=X.longitude),J&&ce){const we=Q2(n.latitude,n.longitude,J,ce);ie+=we}}}const G=Math.round(ie*300);T(G)}catch(Y){console.error("Error calculating delivery fee:",Y),T(300)}},F=async Y=>{if(Y.length<3){P([]);return}V(!0);try{const G=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(Y)}&limit=5&countrycodes=ng`)).json();P(G.map(I=>I.display_name))}catch(ie){console.error("Error searching addresses:",ie),P([])}V(!1)},B=()=>{i&&n&&(g(i),P([]))},ee=()=>{l(!0)},he=()=>{l(!1),d(!0)},ve=async()=>{if(!(!t||!s.length||!W))try{const ie=s[0].product?.pharmacyId,G=fe(),I={customerId:t.uid,pharmacyId:ie,items:G.map(X=>({productId:X.productId,quantity:X.qty,price:X.product.price,pharmacyId:X.product.pharmacyId})),total:D,subtotal:C,deliveryFee:j,deliveryAddress:p,customerPhone:m,customerEmail:w||t.email,paymentMethod:W};let z;if(W==="online"?z=await r2(I.customerId,I.pharmacyId,I.items,I.total,I.customerEmail):z=await r2({...I,paymentStatus:"pending",orderStatus:"confirmed"}),console.log(`OrderStatus: ${z}`),z===!1){alert(e("order_placement_failed","Order placement failed"));return}for(const X of s)await ty(t.uid,X.id);d(!1),l(!1),alert(W==="cash"?e("order_placed_delivery","Order placed successfully! You'll pay on delivery."):e("payment_successful","Payment successful! Your order has been placed.")),r("/customer/orders")}catch(Y){console.error("Checkout error:",Y),alert(e("checkout_failed","Checkout failed. Please try again."))}},fe=()=>{const Y=new Map;for(const ie of s){const G=ie.product?.id;if(G)if(Y.has(G)){const I=Y.get(G);Y.set(G,{...I,qty:I.qty+ie.qty,ids:[...I.ids||[I.id],ie.id]})}else Y.set(G,{...ie,ids:[ie.id]})}return Array.from(Y.values())},se=L.useMemo(()=>{const Y=new Map;for(const ie of s){const G=ie.product?.id;if(G)if(Y.has(G)){const I=Y.get(G);Y.set(G,{...I,qty:I.qty+ie.qty,ids:[...I.ids||[I.id],ie.id]})}else Y.set(G,{...ie,ids:[ie.id]})}return Array.from(Y.values())},[s]);return t?t&&s.length===0?u.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:u.jsx("div",{className:"text-zinc-500 font-extralight text-[14px]",children:e("your_cart_is_empty","Your cart is empty.")})}):u.jsxs(u.Fragment,{children:[u.jsx(Fee,{title:"Cart",itemCount:s.length,t:e}),u.jsxs("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col",children:[u.jsxs("div",{className:"mt-10 grid grid-cols-2 gap-3",children:[se.map((Y,ie)=>u.jsxs("div",{className:"relative rounded-xl border border-zinc-200 p-2 flex flex-col items-center gap-2 min-w-0 card-interactive animate-fadeInUp",style:{animationDelay:`${ie*.1}s`},children:[u.jsx("button",{onClick:()=>Y.ids.forEach(G=>ty(t.uid,G)),className:"absolute top-2 right-2 z-10 p-0.5 rounded-full hover:scale-110 transition-all duration-200 hover:bg-red-50 icon-interactive","aria-label":e("remove","Remove"),children:u.jsx(Lee,{className:"w-5 h-5 text-red-500"})}),u.jsx(Ml,{name:Y.product?.name,image:Y.product?.image,category:Y.product?.category,size:35,roundedClass:"rounded-xl"}),u.jsxs("div",{className:"flex-1 w-full text-center",children:[u.jsx("div",{className:"font-semibold text-[12px] sm:text-[13px] md:text-[14px] lg:text-[15px] truncate",children:Y.product?.name}),u.jsxs("div",{className:"text-zinc-500 text-[10px] sm:text-[11px] md:text-[12px] lg:text-[13px]",children:["₦",Number(Y.product?.price||0).toLocaleString()]})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx("button",{className:"w-6 h-6 rounded-full border border-zinc-300 dark:border-gray-600 flex items-center justify-center text-[18px] font-light disabled:opacity-40 btn-interactive transition-all duration-200 hover:border-sky-500 hover:text-sky-600",onClick:async()=>{Y.qty>1&&await ty(t.uid,Y.ids[0])},disabled:Y.qty<=1,"aria-label":e("decrease_quantity","Decrease quantity"),children:"-"}),u.jsx("span",{className:"text-[13px] font-poppins w-6 text-center font-medium",children:Y.qty}),u.jsx("button",{className:"w-6 h-6 rounded-full border border-zinc-300 dark:border-gray-600 flex items-center justify-center text-[18px] font-light btn-interactive transition-all duration-200 hover:border-sky-500 hover:text-sky-600",onClick:async()=>{if(Y.product?.id){const{addToCart:G}=await md(async()=>{const{addToCart:I}=await Promise.resolve().then(()=>ree);return{addToCart:I}},void 0);await G(t.uid,Y.product.id,1)}},"aria-label":e("increase_quantity","Increase quantity"),children:"+"})]})]},Y.product?.id)),se.length===0&&u.jsx("div",{className:"text-zinc-500 font-extralight text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] col-span-2",children:e("your_cart_is_empty","Your cart is empty.")})]}),se.length>0&&u.jsxs("div",{className:"mt-6 rounded-xl border border-sky-400 dark:border-gray-600 p-3",children:[u.jsxs("div",{className:"flex flex-col gap-2 text-[13px] sm:text-[15px] md:text-[18px] lg:text-[22px] font-regular",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{children:e("subtotal","Subtotal")}),u.jsxs("span",{className:"font-semibold text-[12px] sm:text-[15px]",children:["₦",Number(C).toLocaleString()]})]}),j>0&&u.jsxs("div",{className:"flex items-center justify-between text-[11px] sm:text-[13px] text-gray-600",children:[u.jsx("span",{children:e("delivery_fee","Delivery Fee")}),u.jsxs("span",{children:["₦",Number(j).toLocaleString()]})]}),u.jsxs("div",{className:"flex items-center justify-between border-t pt-2 font-medium",children:[u.jsx("span",{children:e("total","Total")}),u.jsxs("span",{className:"font-semibold text-[12px] sm:text-[15px]",children:["₦",Number(D).toLocaleString()]})]})]}),u.jsx("button",{onClick:ee,className:"mt-4 w-full rounded-full border bg-sky-400 text-white py-2 text-[12px] sm:text-[14px] lg:text-[16px] font-light",children:e("proceed_to_checkout","Proceed to Checkout")})]})]}),o&&u.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 dark:bg-black/50 p-4",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600 dark:text-sky-400",children:e("order_summary","Order Summary")}),u.jsx("button",{onClick:()=>l(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:u.jsx(n2,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-[16px] font-medium mb-3 text-gray-900 dark:text-white",children:[e("items","Items")," (",se.length,")"]}),u.jsx("div",{className:"space-y-3",children:se.map(Y=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[u.jsx(Ml,{name:Y.product?.name,image:Y.product?.image,category:Y.product?.category,size:40,roundedClass:"rounded-lg"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-[14px] font-medium truncate text-gray-900 dark:text-white",children:Y.product?.name}),u.jsxs("div",{className:"text-[12px] text-gray-600 dark:text-gray-300",children:[e("qty","Qty"),": ",Y.qty]})]}),u.jsxs("div",{className:"text-[14px] font-medium text-sky-600 dark:text-sky-400",children:["₦",Number((Y.product?.price||0)*Y.qty).toLocaleString()]})]},Y.product?.id))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-[16px] font-medium mb-3 text-gray-900 dark:text-white",children:e("delivery_details","Delivery Details")}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e("delivery_address","Delivery Address")," *"]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:p,onChange:Y=>{g(Y.target.value),F(Y.target.value)},placeholder:e("enter_delivery_address","Enter delivery address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px] pr-10"}),u.jsx("button",{onClick:B,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-sky-600 hover:bg-sky-50 rounded-full transition-colors",title:e("use_current_location","Use current location"),children:u.jsx(Hy,{className:"w-4 h-4"})})]}),S.length>0&&u.jsx("div",{className:"mt-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-40 overflow-y-auto relative z-[10000]",children:S.map((Y,ie)=>u.jsx("button",{onClick:()=>{g(Y),P([])},className:"w-full text-left p-3 hover:bg-gray-50 dark:hover:bg-gray-600 text-[13px] border-b last:border-b-0 text-gray-900 dark:text-white",children:Y},ie))})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 dark:text-gray-300 mb-2",children:[e("phone_number","Phone Number")," *"]}),u.jsx("input",{type:"tel",value:m,onChange:Y=>y(Y.target.value),placeholder:e("enter_phone_number","Enter phone number"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[14px] font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("email_optional","Email (Optional)")}),u.jsx("input",{type:"email",value:w,onChange:Y=>_(Y.target.value),placeholder:e("enter_email_address","Enter email address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]})]})]})]}),u.jsxs("div",{className:"mb-6 p-4 bg-sky-50 dark:bg-gray-700 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-[14px] text-gray-700 dark:text-gray-300",children:e("subtotal","Subtotal")}),u.jsxs("span",{className:"text-[14px] font-medium text-gray-900 dark:text-white",children:["₦",Number(C).toLocaleString()]})]}),j>0&&u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-[14px] text-gray-700 dark:text-gray-300",children:e("delivery_fee","Delivery Fee")}),u.jsxs("span",{className:"text-[14px] text-gray-900 dark:text-white",children:["₦",Number(j).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-sky-200 dark:border-gray-600",children:[u.jsx("span",{className:"text-[16px] font-medium text-gray-900 dark:text-white",children:e("total","Total")}),u.jsxs("span",{className:"text-[16px] font-bold text-sky-600 dark:text-sky-400",children:["₦",Number(D).toLocaleString()]})]})]}),u.jsx("button",{onClick:he,disabled:!p.trim()||!m.trim(),className:"w-full bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:e("continue_to_payment","Continue to Payment")})]})})}),c&&u.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl w-full max-w-md",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600 dark:text-white",children:e("payment_method","Payment Method")}),u.jsx("button",{onClick:()=>d(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:u.jsx(n2,{className:"w-5 h-5 text-gray-500"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>K("cash"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${W==="cash"?"border-sky-500 bg-sky-50 dark:bg-gray-700":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(RF,{className:"w-6 h-6 text-sky-600"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[16px] font-medium",children:e("pay_on_delivery","Pay on Delivery")}),u.jsx("div",{className:"text-[13px] text-gray-600 dark:text-gray-300",children:e("pay_with_cash_on_delivery","Pay with cash when order arrives")})]})]})}),u.jsx("button",{onClick:()=>K("online"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${W==="online"?"border-sky-500 bg-sky-50 dark:bg-gray-700":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(PF,{className:"w-6 h-6 text-sky-600"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[16px] font-medium",children:e("online_payment","Online Payment")}),u.jsx("div",{className:"text-[13px] text-gray-600 dark:text-gray-300",children:e("pay_with_card_bank_ussd","Pay with card, bank transfer, or USSD")})]})]})}),u.jsx("button",{disabled:!0,className:"w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-left cursor-not-allowed opacity-60",children:u.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Pk,{className:"w-6 h-6 text-gray-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[16px] font-medium text-gray-500",children:e("pay_with_insurance","Pay with Insurance")}),u.jsx("div",{className:"text-[13px] text-gray-400",children:e("use_your_health_insurance","Use your health insurance")})]})]}),u.jsx("span",{className:"text-[12px] text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:e("coming_soon","Coming Soon")})]})})]}),u.jsx("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-[16px] font-medium",children:e("total_amount","Total Amount")}),u.jsxs("span",{className:"text-[18px] font-bold text-sky-600",children:["₦",Number(D).toLocaleString()]})]})}),u.jsx("button",{onClick:ve,disabled:!W,className:"w-full mt-6 bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",children:W==="online"?e("pay_now","Pay Now"):e("place_order","Place Order")})]})})})]}):u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[u.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:e("please_sign_in_continue","Please sign in to continue")}),u.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>r("/auth/landing"),children:e("sign_in_sign_up","Sign In / Sign Up")})]})}function VF({chatThreadId:t,prescriptions:e,userId:r}){const[n,i]=L.useState(e||[]),[s,a]=L.useState({});L.useEffect(()=>{if(e&&e.length>0){i(e);const d={};e.forEach(p=>{d[p.id]={},p.drugs.forEach((g,m)=>{d[p.id][m]=g.quantity})}),a(d);return}t&&xF(t).then(d=>{i(d);const p={};d.forEach(g=>{p[g.id]={},g.drugs.forEach((m,y)=>{p[g.id][y]=m.quantity})}),a(p)})},[t,e]);function o(d,p,g){const m=new Date(p.startDate),w=Math.floor((new Date-m)/(1e3*60*60*24)),_=Math.max(0,Number(d.duration||p.duration)-w),S=s[p.id]?.[g]??d.quantity;return{daysLeft:_,quantityLeft:S}}function l(d){if(!d)return 1;const p=d.match(/(\d+(?:\.\d+)?)/);return p?Number(p[1]):1}async function c(d,p){a(_=>{const S={..._},P=n.find(K=>K.id===d);if(!P)return _;const A=P.drugs[p],V=l(A.dosage),W=S[d]?.[p]??A.quantity;return S[d]={...S[d],[p]:Math.max(0,W-V)},S});const g=n.find(_=>_.id===d);if(!g)return;const m=g.drugs[p],y=l(m.dosage),w=g.drugs.map((_,S)=>S===p?{..._,quantity:Math.max(0,_.quantity-y)}:_);await ri(Qt(ht,"prescriptions",d),{drugs:w}),i(_=>_.map(S=>S.id===d?{...S,drugs:w}:S))}return u.jsxs("div",{className:"mt-4",children:[u.jsx("div",{className:"text-lg font-light mb-2 text-black dark:text-white",children:"Prescriptions"}),n.length===0&&u.jsx("div",{className:"text-zinc-400 text-sm",children:"No prescriptions yet."}),n.map(d=>u.jsxs("div",{className:"mb-4 border rounded-2xl p-4 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-600 shadow-sm relative",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"font-thin text-[14px] mb-1 text-black dark:text-white",children:["Created: ",new Date(d.startDate).toLocaleDateString()]}),u.jsxs("div",{className:"mb-1 text-xs text-zinc-500 font-light",children:["Status: ",d.status]})]}),u.jsx("div",{className:"flex flex-col gap-2",children:d.drugs.map((p,g)=>{const{quantityLeft:m}=o(p,d,g),y=d.requirePurchase&&!d.fulfilled||m<=0;return u.jsx("button",{className:"rounded-full bg-sky-600 text-white text-[10px] px-2 py-0.5 ml-auto disabled:opacity-40 mb-1 shadow-sm",style:{minWidth:70,height:24,lineHeight:"16px"},disabled:y,onClick:()=>c(d.id,g),children:"Mark Dose"},g)})})]}),u.jsx("ul",{className:"mb-2 text-[13px]",children:d.drugs.map((p,g)=>{const{daysLeft:m,quantityLeft:y}=o(p,d,g);return u.jsxs("li",{className:"mb-2 flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[u.jsx("span",{className:"font-medium text-sky-700",children:p.name}),u.jsxs("span",{className:"text-zinc-500",children:["Qty: ",y]}),u.jsxs("span",{className:"text-zinc-500",children:["Dosage: ",p.dosage]}),u.jsxs("span",{className:"text-zinc-500",children:["Freq: ",p.frequency]}),u.jsxs("span",{className:m<=2?"text-red-500":"text-green-600",children:["Days left: ",m]}),u.jsxs("span",{className:y<=2?"text-red-500":"text-green-600",children:["Qty left: ",y]}),p.notes&&u.jsxs("span",{className:"block text-xs text-zinc-400",children:["Notes: ",p.notes]}),p.productId&&d.requirePurchase&&u.jsx("a",{href:`/product/${p.productId}`,className:"mt-1 inline-block text-xs text-sky-600 underline hover:text-sky-800 transition",children:"View & Buy"})]},g)})}),u.jsxs("div",{className:"text-xs text-zinc-400",children:["Duration: ",d.duration," days"]})]},d.id))]})}const Dee=Object.freeze(Object.defineProperty({__proto__:null,default:VF},Symbol.toStringTag,{value:"Module"}));function BF(t){if(!t)return 1;const e=t.match(/(\d+)x\s*\/\s*day/i);return e?Number(e[1]):1}function Oee(t,e){if(!("Notification"in window)||Notification.permission!=="granted")return;const{drugs:r,startDate:n,duration:i}=t,s=new Date(n),a=new Date,o=Number(i)||1;r.forEach(l=>{const c=BF(l.frequency);for(let d=0;d<o;d++)for(let p=0;p<c;p++){const g=new Date(s.getTime()+d*24*60*60*1e3+p*(24/c)*60*60*1e3);if(g>a){const m=g.getTime()-a.getTime();setTimeout(()=>{new Notification(e("time_to_take_medicine",`Time to take ${l.name}`),{body:e("dosage_frequency",`Dosage: ${l.dosage||""} (${l.frequency||""})`,{dosage:l.dosage||"",frequency:l.frequency||""})})},m)}}})}function Mee(t,e){const{drugs:r,startDate:n,duration:i}=t,s=new Date(n),a=Number(i)||1;let o=`BEGIN:VCALENDAR
VERSION:2.0
`;r.forEach(p=>{const g=BF(p.frequency);for(let m=0;m<a;m++)for(let y=0;y<g;y++){const _=new Date(s.getTime()+m*24*60*60*1e3+y*(24/g)*60*60*1e3).toISOString().replace(/[-:]/g,"").replace(/\..+/,"");o+=`BEGIN:VEVENT
SUMMARY:${e("take_medicine","Take {drugName}",{drugName:p.name})}
DESCRIPTION:${e("dosage_frequency","Dosage: {dosage} ({frequency})",{dosage:p.dosage||"",frequency:p.frequency||""})}
DTSTART:${_}
DTEND:${_}
END:VEVENT
`}}),o+="END:VCALENDAR";const l=new Blob([o],{type:"text/calendar"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download="prescription.ics",d.click(),URL.revokeObjectURL(c)}function Vee(t){if(localStorage.setItem("prescriptionAlarms",JSON.stringify(t)),"indexedDB"in window){const e=indexedDB.open("HealthAppDB",1);e.onupgradeneeded=r=>{const n=r.target.result;n.objectStoreNames.contains("alarms")||n.createObjectStore("alarms",{keyPath:"id"})},e.onsuccess=r=>{const s=r.target.result.transaction("alarms","readwrite").objectStore("alarms");t.forEach(a=>s.put(a))}}}function Bee(){const{user:t}=In(),{t:e}=cs(),[r,n]=L.useState([]),[i,s]=L.useState(!1);if(L.useEffect(()=>{if(!t)return;async function l(){await vF({customerId:t.uid});const c=Er(tr(ht,"prescriptions"),Vr("customerId","==",t.uid));let p=(await On(c)).docs.map(g=>({id:g.id,...g.data()}));p=p.sort((g,m)=>new Date(m.startDate)-new Date(g.startDate)),n(p),Notification.permission==="granted"&&p.forEach(g=>Oee(g,e)),Vee(p)}l()},[t]),L.useEffect(()=>{"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()},[]),!t)return null;const a=r.length,o=i?r:r.slice(0,1);return u.jsxs("div",{className:"w-full",children:[u.jsxs("div",{className:"mb-2 flex items-start justify-between",children:[u.jsx("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white tracking-tight",children:e("my_prescriptions","My Prescriptions")}),r.length>0&&u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{className:"px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs font-normal dark:bg-green-900 dark:text-green-200",onClick:()=>r.forEach(l=>Mee(l,e)),children:e("add_to_calendar","Add to Calendar")})})]}),r.length===0?u.jsx("div",{className:"text-zinc-400 text-[12px] font-light",children:e("no_prescriptions_found","No prescriptions found.")}):u.jsxs(u.Fragment,{children:[u.jsx(VF,{prescriptions:o,userId:t.uid,chatThreadId:null}),a>1&&!i&&u.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-700 text-xs font-normal",onClick:()=>s(!0),children:e("see_more","See more")}),i&&a>1&&u.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-zinc-100 text-zinc-700 text-xs font-normal dark:text-black/90 dark:bg-black/50",onClick:()=>s(!1),children:e("see_less","See less")})]})]})}const Uee=({title:t,onSearchClick:e,onSettingsClick:r})=>{const{t:n}=cs();return Us.createPortal(u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:u.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:u.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[u.jsx("h1",{className:"text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:n("my_profile",`My
Profile`).replace("\\n",`
`)}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:e,"aria-label":"Open search",className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:u.jsx(dh,{className:"h-5 w-5 text-sky-600"})}),u.jsx("button",{onClick:r,"aria-label":"Open settings",className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:u.jsx(Wy,{className:"h-5 w-5 text-sky-600"})})]})]})})}),document.body)};function UF(){const{user:t,logout:e}=In(),{t:r}=cs(),[n,i]=L.useState(!1),[s,a]=L.useState(""),[o,l]=L.useState(""),[c,d]=L.useState(""),[p,g]=L.useState(""),[m,y]=L.useState(!1),[w,_]=L.useState(0),[S,P]=L.useState(0),[A,V]=L.useState([]),[W,K]=L.useState(!1),[j,T]=L.useState([]),[C,D]=L.useState("products"),[R,F]=L.useState([]),[B,ee]=L.useState({displayName:t?.displayName||"Customer",address:"Kuje, Abuja, Nigeria",phone:t?.phoneNumber||"",email:t?.email||""}),[he,ve]=L.useState(""),[fe,se]=L.useState(!1),[Y,ie]=L.useState("all"),[G,I]=L.useState([]),[z,X]=L.useState(null),[J,ce]=L.useState(null),we=oi();L.useEffect(()=>{if(!t)return;On(tr(ht,"users",t.uid,"cart")).then(_e=>{_(_e.size)}),On(Er(tr(ht,"threads"),Vr("customerId","==",t.uid))).then(_e=>{P(_e.size)});const oe=bF(t.uid,_e=>{V(_e)}),Ee=CF(t.uid,_e=>{T(_e)});On(Er(tr(ht,"orders"),Vr("customerId","==",t.uid))).then(async _e=>{console.log("Orders fetched:",_e.docs.length);const Re={};for(const Ye of _e.docs){const ze=Ye.data();console.log("Processing order:",Ye.id,ze);for(const ot of ze.items||[]){console.log("Processing item:",ot);const Ve=ot.productId;if(!Re[Ve]){let ut=ot.name;if(!ut&&Ve)try{const Et=await os(Qt(ht,"products",Ve));ut=Et.exists()?Et.data().name:Ve,console.log("Product name fetched:",ut)}catch(Et){console.error("Error fetching product:",Et),ut=Ve}Re[Ve]={id:Ve,name:ut,count:0,date:ze.createdAt?.toDate?.()||null}}Re[Ve].count+=Number(ot.qty||ot.quantity||1);const He=ze.createdAt?.toDate?.()||null;He&&(!Re[Ve].date||He>Re[Ve].date)&&(Re[Ve].date=He)}}const pe=Object.values(Re).sort((Ye,ze)=>(ze.date||0)-(Ye.date||0));console.log("Drugs bought:",pe),F(pe)}).catch(_e=>{console.error("Error fetching drugs bought:",_e),F([])});const Oe=Qt(ht,"users",t.uid),re=Nn(Oe,_e=>{if(_e&&_e.exists()){const Re=_e.data();ee(pe=>{let Ye=Re.phoneNumber??Re.phone??pe.phone??"";return typeof Ye=="string"&&Ye.includes("@")&&(Ye=pe.phone??""),{displayName:Re.displayName||t.displayName||pe.displayName,address:Re.address||pe.address||"",phone:Ye,email:Re.email||t.email||pe.email||""}})}},()=>{});return()=>{oe&&oe(),Ee&&Ee(),re&&re()}},[t]),L.useEffect(()=>{!n&&B&&(a(B.displayName||""),l(B.phone||""),d(B.address||"Kuje, Abuja, Nigeria"))},[B,n]);async function ke(){const oe=(he||"").trim().toLowerCase();if(!oe){I([]);return}const Ee=[];if((Y==="drugs"||Y==="all")&&(R||[]).forEach(Oe=>{`${Oe.name||""}`.toLowerCase().includes(oe)&&Ee.push({type:"drug",title:Oe.name,subtitle:`Bought ${Oe.count||0} times`,item:Oe})}),Y==="orders"||Y==="all"){let Oe=z;Oe||(Oe=(await On(Er(tr(ht,"orders"),Vr("customerId","==",t.uid)))).docs.map(_e=>({id:_e.id,..._e.data()})),X(Oe)),(Oe||[]).forEach(re=>{`${re.id} ${(re.items||[]).map(Re=>Re.name).join(" ")} ${re.total||""}`.toLowerCase().includes(oe)&&Ee.push({type:"order",title:`Order ${re.id}`,subtitle:`${re.items?.length||0} items — ₦${Number(re.total||0).toLocaleString()}`,item:re})})}if(Y==="prescriptions"||Y==="all"){let Oe=J;Oe||(Oe=(await On(Er(tr(ht,"prescriptions"),Vr("customerId","==",t.uid)))).docs.map(_e=>({id:_e.id,..._e.data()})),ce(Oe)),(Oe||[]).forEach(re=>{const _e=(re.medicines||[]).join(" ");`${re.id} ${_e} ${re.note||""} ${re.pharmacyName||""}`.toLowerCase().includes(oe)&&Ee.push({type:"prescription",title:`Prescription ${re.id}`,subtitle:re.note||"",item:re})})}I(Ee)}return L.useEffect(()=>{if(!fe)return;function oe(Ee){Ee.key==="Escape"&&(se(!1),ve(""),I([]))}return window.addEventListener("keydown",oe),()=>window.removeEventListener("keydown",oe)},[fe]),L.useEffect(()=>{if(!fe)return;if(!(he||"").trim()){I([]);return}const Ee=setTimeout(()=>{ke()},300);return()=>clearTimeout(Ee)},[he,Y,fe]),t?u.jsxs(u.Fragment,{children:[u.jsx(Uee,{title:"My Profile",onSearchClick:()=>se(!0),onSettingsClick:()=>we("/settings")}),u.jsxs("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen animate-fadeInUp",children:[fe&&u.jsx("div",{onClick:()=>{se(!1),ve(""),I([])},className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black/50 animate-fadeInScale",role:"dialog","aria-modal":"true","aria-label":"Search modal",children:u.jsxs("div",{onClick:oe=>oe.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-3xl w-[min(920px,95%)] p-4 shadow-xl border border-[#9ED3FF] dark:border-gray-600 max-h-[80vh] overflow-hidden modal-backdrop animate-bounceIn",children:[u.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center bg-[#F0FAFF] dark:bg-gray-700 border border-[#9ED3FF] dark:border-gray-600 rounded-full px-3 py-2 w-full overflow-hidden input-interactive",children:[u.jsx(dh,{className:"h-4 w-4 text-sky-600 mr-2 flex-shrink-0"}),u.jsx("input",{autoFocus:!0,value:he,onChange:oe=>ve(oe.target.value),onKeyDown:oe=>{oe.key==="Enter"&&ke()},placeholder:r("search_placeholder_profile","Search prescriptions, orders, drugs..."),className:"flex-1 min-w-0 bg-transparent text-sm outline-none truncate dark:text-white dark:placeholder:text-gray-400","aria-label":"Search query"})]})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("select",{value:Y,onChange:oe=>ie(oe.target.value),className:"rounded-full border border-[#9ED3FF] dark:border-gray-600 px-3 py-2 text-sm bg-white dark:bg-gray-700 dark:text-white w-36 input-interactive",children:[u.jsx("option",{value:"prescriptions",children:r("prescriptions","Prescriptions")}),u.jsx("option",{value:"orders",children:r("orders_profile","Orders")}),u.jsx("option",{value:"drugs",children:r("drugs","Drugs")}),u.jsx("option",{value:"all",children:r("all_results","All")})]})})]}),u.jsx("div",{className:"border-t",style:{borderColor:"#E6F7FF"}}),u.jsx("div",{className:"mt-4 max-h-[60vh] overflow-auto px-1 py-2",children:G.length===0?u.jsx("div",{className:"text-zinc-500 dark:text-gray-300 p-4",children:"No results yet. Enter a query."}):u.jsx("ul",{className:"space-y-2",children:G.map((oe,Ee)=>u.jsxs("li",{className:"p-2 rounded-2xl border border-[#9ED3FF] dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition-all duration-200 flex items-center gap-3 justify-between animate-fadeInUp card-interactive hover:shadow-md",style:{animationDelay:`${Ee*.05}s`},children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${oe.type==="order"?"bg-green-100":oe.type==="prescription"?"bg-blue-100":"bg-purple-100"}`,children:oe.type==="order"?u.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}):oe.type==="prescription"?u.jsx("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}):u.jsx("svg",{className:"h-4 w-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"font-semibold text-sm text-black dark:text-white truncate",children:oe.title}),u.jsx("div",{className:"text-xs text-zinc-500 dark:text-gray-300 truncate",children:oe.subtitle})]})]}),u.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:oe.type==="order"?u.jsx("button",{onClick:()=>{we("/orders",{state:{highlightOrderId:oe.item.id}}),se(!1),ve(""),I([])},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 dark:hover:bg-gray-600 btn-interactive transition-all duration-200",children:"Open"}):oe.type==="prescription"?u.jsx("button",{onClick:()=>{we(`/prescriptions/${oe.item.id}`),se(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 dark:hover:bg-gray-600 btn-interactive transition-all duration-200",children:"Open"}):u.jsx("button",{onClick:()=>{se(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 dark:hover:bg-gray-600 btn-interactive transition-all duration-200",children:"View"})})]},Ee))})})]})}),u.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6",children:[u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:[u.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-200 dark:bg-zinc-700 flex items-center justify-center mb-3 overflow-hidden",children:t?.photoURL?u.jsx("img",{src:t.photoURL,alt:"avatar",className:"w-full h-full object-cover rounded-full"}):u.jsx("span",{className:"text-3xl text-zinc-400 font-light",children:B.displayName&&B.displayName[0]||"C"})}),u.jsxs("div",{className:"w-full flex items-center justify-between mt-1",children:[u.jsx("div",{className:"text-[20px] font-medium text-sky-600 tracking-tighter",children:B.displayName||"Customer"}),u.jsxs("button",{className:"ml-2 px-3 py-1 rounded-full border border-sky-200 dark:border-gray-600 text-sky-600 text-xs flex items-center gap-1 hover:bg-sky-50",onClick:()=>i(!0),children:[u.jsx(bee,{className:"h-4 w-4"})," ",r("edit","Edit")]})]}),n&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-fadeInScale",role:"dialog","aria-modal":"true",children:[u.jsx("div",{onClick:()=>i(!1),className:"absolute inset-0 bg-black/30 dark:bg-black/90","aria-hidden":"true"}),u.jsxs("div",{onClick:oe=>oe.stopPropagation(),className:"relative bg-white dark:bg-gray-900 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-sm shadow-xl modal-backdrop animate-bounceIn",children:[u.jsx("div",{className:"text-[22px] font-light font-poppins text-sky-600 mb-2 tracking-tight animate-slideInLeft",children:r("edit_profile","Edit Profile")}),u.jsxs("form",{className:"flex flex-col gap-4",onSubmit:async oe=>{if(oe.preventDefault(),s!==(B?.displayName||t?.displayName)||o!==(B?.phone||t?.phoneNumber)||c!==(B?.address||"Address missing")){if(!p){alert("Please enter your account password to save changes.");return}try{const Ee=G0.credential(t.email,p);await AX(t,Ee),await xL(t,{displayName:s}),await ri(Qt(ht,"users",t.uid),{displayName:s,phoneNumber:o,address:c}),i(!1),window.location.reload()}catch(Ee){alert("Failed to update profile: "+Ee.message)}}else i(!1)},children:[u.jsx("label",{className:"text-[12px] text-zinc-500 font-light animate-fadeInUp",style:{animationDelay:"0.1s"}}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all input-interactive animate-fadeInUp",style:{animationDelay:"0.2s",boxShadow:"none"},value:s,placeholder:"Name",onChange:oe=>a(oe.target.value)}),u.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",value:o,placeholder:r("phone_number_profile","Phone Number"),onChange:oe=>l(oe.target.value),style:{boxShadow:"none"}}),u.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",value:c,placeholder:r("address_profile","Address"),onChange:oe=>d(oe.target.value),style:{boxShadow:"none"}}),u.jsx("label",{className:"text-[12px] text-zinc-500 font-light"}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] bg-transparent px-1 py-2 text-[12px] font-light outline-none focus:border-sky-400 dark:border-gray-600 transition-all",type:"password",placeholder:r("password","Account Password (required to save)"),onChange:oe=>g(oe.target.value),required:!0,style:{boxShadow:"none"}}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{type:"button",className:"px-4 py-2 rounded-full bg-zinc-100 text-[12px] dark:text-white dark:bg-zinc-800 font-light",onClick:()=>i(!1),children:r("cancel","Cancel")}),u.jsx("button",{type:"submit",className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light",children:r("save","Save")})]})]})]})]}),u.jsx("div",{className:"text-zinc-500 mt-1 text-[12px] font-light w-full pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:B.email}),u.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 mt-2 text-[12px] font-light w-full pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx(cc,{className:"h-2.5 w-2.5"})," ",B.address||"Kuje, Abuja, Nigeria"]}),u.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 mt-1 text-[12px] font-light w-full",children:[u.jsx(D1,{className:"h-2.5 w-2.5"})," ",B.phone||"phone number missing"]})]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:[u.jsx("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white mb-2 tracking-tight",children:r("my_activity","My Activity")}),u.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:r("items_in_cart","Items in Cart")}),u.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:w??0})]}),u.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:r("active_chats","Active Chats")}),u.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:S??0})]}),u.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-sky-500 font-light",children:r("saved_items","Saved Items")}),u.jsx("button",{className:"text-[12px] text-sky-600 font-medium hover:underline",onClick:()=>K(!0),children:(A?.length??0)+(j?.length??0)})]}),u.jsxs("div",{className:"w-full flex items-center justify-between mt-3 mb-1",children:[u.jsx("span",{className:"text-[14px] font-light text-zinc-800 dark:text-zinc-200",children:r("drugs_bought","Drugs Bought")}),u.jsx("button",{className:"text-[12px] text-sky-600 font-light px-2 py-1 rounded-full hover:bg-sky-50",onClick:()=>y(!0),children:r("see_more","See more")})]}),u.jsx("div",{className:"w-full flex flex-col gap-2",children:R.length>0?R.slice(0,3).map((oe,Ee)=>u.jsxs("div",{className:"w-full flex items-center pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-left",children:oe.name}),u.jsx("span",{className:"text-[12px] text-zinc-400 font-light w-1/3 flex justify-center",children:oe.date?oe.date.toLocaleDateString():"N/A"}),u.jsx("span",{className:"text-[12px] text-zinc-500 font-light w-1/3 text-right",children:oe.count??1})]},oe.id||Ee)):u.jsx("div",{className:"w-full text-center py-4",children:u.jsx("span",{className:"text-[12px] text-zinc-400 font-light",children:r("no_drugs_bought_yet","No drugs bought yet")})})}),m&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-sm shadow-xl",children:[u.jsx("div",{className:"text-[18px] font-light font-poppins text-sky-600 dark:text-white mb-2 tracking-tight",children:r("all_drugs_bought","All Drugs Bought")}),u.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:R.length>0?R.map((oe,Ee)=>u.jsxs("div",{className:"w-full flex items-center pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-zinc-500 dark:text-gray-300 font-light w-1/3 text-left",children:oe.name}),u.jsx("span",{className:"text-[12px] text-zinc-400 dark:text-gray-400 font-light w-1/3 flex justify-center",children:oe.date?oe.date.toLocaleDateString():"N/A"}),u.jsx("span",{className:"text-[12px] text-zinc-500 dark:text-gray-300 font-light w-1/3 text-right",children:oe.count??1})]},oe.id||Ee)):u.jsx("div",{className:"w-full text-center py-8",children:u.jsx("span",{className:"text-[14px] text-zinc-400 dark:text-gray-400 font-light",children:r("no_drugs_bought_yet","No drugs bought yet")})})}),u.jsx("button",{className:"mt-4 px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light w-full hover:bg-sky-700 dark:hover:bg-gray-700 transition-colors",onClick:()=>y(!1),children:r("close","Close")})]})}),W&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-[#36A5FF] dark:border-gray-600 rounded-3xl p-5 w-[90vw] max-w-md shadow-xl",children:[u.jsx("div",{className:"text-[18px] font-light font-poppins text-sky-600 dark:text-sky-400 mb-4 tracking-tight",children:r("my_saved_items","My Saved Items")}),u.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-600 dark:border-gray-600 mb-4",children:[u.jsxs("button",{className:`px-4 py-2 text-[14px] font-medium transition-colors ${C==="products"?"text-sky-600 border-b-2 border-sky-600 dark:border-gray-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>D("products"),children:[r("products","Products")," (",A?.length??0,")"]}),u.jsxs("button",{className:`px-4 py-2 text-[14px] font-medium transition-colors ${C==="vendors"?"text-sky-600 border-b-2 border-sky-600 dark:border-gray-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>D("vendors"),children:[r("vendors","Vendors")," (",j?.length??0,")"]})]}),u.jsx("div",{className:"flex flex-col gap-2 max-h-[60vh] overflow-y-auto",children:C==="products"?A?.length>0?A.map(oe=>u.jsx("div",{className:"w-full flex items-center pb-3 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:oe.productData?.image?u.jsx("img",{src:oe.productData.image,alt:oe.productData?.name,className:"w-full h-full object-cover"}):u.jsx("span",{className:"text-gray-400 text-xs font-medium",children:oe.productData?.name?.[0]||"P"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-[13px] font-medium text-gray-800 truncate",children:oe.productData?.name||"Unknown Product"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:oe.productData?.pharmacyName||"Unknown Pharmacy"}),u.jsxs("div",{className:"text-[12px] text-sky-600 font-medium",children:["₦",oe.productData?.price||"0"]})]}),u.jsx("button",{className:"px-3 py-1 bg-sky-100 text-sky-600 rounded-full text-[10px] font-medium hover:bg-sky-200 transition-colors",onClick:()=>{we(`/product/${oe.productId}`),K(!1)},children:r("view","View")})]})},oe.id)):u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"💝"}),u.jsx("div",{className:"text-[14px] font-light",children:r("no_products_saved","No products saved")}),u.jsx("div",{className:"text-[12px] text-gray-400 mt-1",children:r("start_adding_products","Start adding products you like!")})]}):j?.length>0?j.map(oe=>u.jsx("div",{className:"w-full flex items-center pb-3 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx("div",{className:"w-12 h-12 rounded-full bg-sky-100 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-sky-600 text-lg font-medium",children:oe.vendorData?.name?.[0]||"V"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"text-[13px] font-medium text-gray-800 truncate",children:oe.vendorData?.name||"Unknown Vendor"}),u.jsx("div",{className:"text-[11px] text-gray-500 truncate",children:oe.vendorData?.address||"Address not available"}),u.jsx("div",{className:"text-[11px] text-gray-500",children:oe.vendorData?.phone||""})]}),u.jsx("button",{className:"px-3 py-1 bg-sky-100 text-sky-600 rounded-full text-[10px] font-medium hover:bg-sky-200 transition-colors",onClick:()=>{we(`/vendor/${oe.vendorId}`),K(!1)},children:"Visit"})]})},oe.id)):u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx("div",{className:"text-4xl mb-2",children:"🔖"}),u.jsx("div",{className:"text-[14px] font-light",children:r("no_vendors_bookmarked","No vendors bookmarked")}),u.jsx("div",{className:"text-[12px] text-gray-400 mt-1",children:r("bookmark_vendors","Bookmark vendors you like!")})]})}),u.jsx("button",{className:"mt-4 px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light w-full",onClick:()=>{K(!1),D("products")},children:r("close","Close")})]})})]}),u.jsx("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start",children:u.jsx(Bee,{})})]})]}),u.jsx("div",{children:u.jsxs("button",{onClick:()=>{e(),window.location.href="/auth/onboarding"},className:"mt-10 rounded-full border border-red-300 dark:border-gray-600 text-red-600 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[u.jsx(H_,{className:"h-4 w-4"})," ",r("log_out","Log Out")]})})]})]}):u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900",children:[u.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:"Please sign in to continue"}),u.jsx("button",{className:"rounded-full bg-sky-600 text-white px-8 py-3 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>we("/auth/landing"),children:"Sign In / Sign Up"})]})}var ry={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var zee=ry.exports,oC;function $ee(){return oC||(oC=1,(function(t,e){((r,n)=>{t.exports=n()})(zee,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function d(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var D=W(C);D.chunkSize=parseInt(D.chunkSize),C.step||C.chunk||(D.chunkSize=null),this._handle=new w(D),(this._handle.streamer=this)._config=D}).call(this,T),this.parseChunk=function(C,D){var R=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<R){let B=this._config.newline;B||(F=this._config.quoteChar||'"',B=this._handle.guessLineEndings(C,F)),C=[...C.split(B).slice(R)].join(B)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(C))!==void 0&&(C=F),this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+C,F=(this._partialLine="",this._handle.parse(R,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=F.meta.cursor,R=(this._finished||(this._partialLine=R.substring(C-this._baseIndex),this._baseIndex=C),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:F,workerId:c.WORKER_ID,finished:R});else if(j(this._config.chunk)&&!D){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!R||!j(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),R||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(C){j(this._config.error)?this._config.error(C):a&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:C,finished:!1})}}function p(T){var C;(T=T||{}).chunkSize||(T.chunkSize=c.RemoteChunkSize),d.call(this,T),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),s||(C.onload=K(this._chunkLoaded,this),C.onerror=K(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var D,R=this._config.downloadRequestHeaders;for(D in R)C.setRequestHeader(D,R[D])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+F));try{C.send(this._config.downloadRequestBody)}catch(B){this._chunkError(B.message)}s&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(D){D=C.statusText||D,this._sendError(new Error(D))}}function g(T){(T=T||{}).chunkSize||(T.chunkSize=c.LocalChunkSize),d.call(this,T);var C,D,R=typeof FileReader<"u";this.stream=function(F){this._input=F,D=F.slice||F.webkitSlice||F.mozSlice,R?((C=new FileReader).onload=K(this._chunkLoaded,this),C.onerror=K(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,B=(this._config.chunkSize&&(B=Math.min(this._start+this._config.chunkSize,this._input.size),F=D.call(F,this._start,B)),C.readAsText(F,this._config.encoding));R||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(C.error)}}function m(T){var C;d.call(this,T=T||{}),this.stream=function(D){return C=D,this._nextChunk()},this._nextChunk=function(){var D,R;if(!this._finished)return D=this._config.chunkSize,C=D?(R=C.substring(0,D),C.substring(D)):(R=C,""),this._finished=!C,this.parseChunk(R)}}function y(T){d.call(this,T=T||{});var C=[],D=!0,R=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){R&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):D=!0},this._streamData=K(function(F){try{C.push(typeof F=="string"?F:F.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(B){this._streamError(B)}},this),this._streamError=K(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=K(function(){this._streamCleanUp(),R=!0,this._streamData("")},this),this._streamCleanUp=K(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(T){var C,D,R,F,B=Math.pow(2,53),ee=-B,he=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ve=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,fe=this,se=0,Y=0,ie=!1,G=!1,I=[],z={data:[],errors:[],meta:{}};function X(ke){return T.skipEmptyLines==="greedy"?ke.join("").trim()==="":ke.length===1&&ke[0].length===0}function J(){if(z&&R&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),R=!1),T.skipEmptyLines&&(z.data=z.data.filter(function(Oe){return!X(Oe)})),ce()){let Oe=function(re,_e){j(T.transformHeader)&&(re=T.transformHeader(re,_e)),I.push(re)};if(z)if(Array.isArray(z.data[0])){for(var ke=0;ce()&&ke<z.data.length;ke++)z.data[ke].forEach(Oe);z.data.splice(0,1)}else z.data.forEach(Oe)}function oe(Oe,re){for(var _e=T.header?{}:[],Re=0;Re<Oe.length;Re++){var pe=Re,Ye=Oe[Re],Ye=((ze,ot)=>(Ve=>(T.dynamicTypingFunction&&T.dynamicTyping[Ve]===void 0&&(T.dynamicTyping[Ve]=T.dynamicTypingFunction(Ve)),(T.dynamicTyping[Ve]||T.dynamicTyping)===!0))(ze)?ot==="true"||ot==="TRUE"||ot!=="false"&&ot!=="FALSE"&&((Ve=>{if(he.test(Ve)&&(Ve=parseFloat(Ve),ee<Ve&&Ve<B))return 1})(ot)?parseFloat(ot):ve.test(ot)?new Date(ot):ot===""?null:ot):ot)(pe=T.header?Re>=I.length?"__parsed_extra":I[Re]:pe,Ye=T.transform?T.transform(Ye,pe):Ye);pe==="__parsed_extra"?(_e[pe]=_e[pe]||[],_e[pe].push(Ye)):_e[pe]=Ye}return T.header&&(Re>I.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Re,Y+re):Re<I.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Re,Y+re)),_e}var Ee;z&&(T.header||T.dynamicTyping||T.transform)&&(Ee=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(oe),Ee=z.data.length):z.data=oe(z.data,0),T.header&&z.meta&&(z.meta.fields=I),Y+=Ee)}function ce(){return T.header&&I.length===0}function we(ke,oe,Ee,Oe){ke={type:ke,code:oe,message:Ee},Oe!==void 0&&(ke.row=Oe),z.errors.push(ke)}j(T.step)&&(F=T.step,T.step=function(ke){z=ke,ce()?J():(J(),z.data.length!==0&&(se+=ke.data.length,T.preview&&se>T.preview?D.abort():(z.data=z.data[0],F(z,fe))))}),this.parse=function(ke,oe,Ee){var Oe=T.quoteChar||'"',Oe=(T.newline||(T.newline=this.guessLineEndings(ke,Oe)),R=!1,T.delimiter?j(T.delimiter)&&(T.delimiter=T.delimiter(ke),z.meta.delimiter=T.delimiter):((Oe=((re,_e,Re,pe,Ye)=>{var ze,ot,Ve,He;Ye=Ye||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ut=0;ut<Ye.length;ut++){for(var Et,St=Ye[ut],je=0,Ke=0,Qe=0,ae=(Ve=void 0,new S({comments:pe,delimiter:St,newline:_e,preview:10}).parse(re)),Le=0;Le<ae.data.length;Le++)Re&&X(ae.data[Le])?Qe++:(Et=ae.data[Le].length,Ke+=Et,Ve===void 0?Ve=Et:0<Et&&(je+=Math.abs(Et-Ve),Ve=Et));0<ae.data.length&&(Ke/=ae.data.length-Qe),(ot===void 0||je<=ot)&&(He===void 0||He<Ke)&&1.99<Ke&&(ot=je,ze=St,He=Ke)}return{successful:!!(T.delimiter=ze),bestDelimiter:ze}})(ke,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=Oe.bestDelimiter:(R=!0,T.delimiter=c.DefaultDelimiter),z.meta.delimiter=T.delimiter),W(T));return T.preview&&T.header&&Oe.preview++,C=ke,D=new S(Oe),z=D.parse(C,oe,Ee),J(),ie?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return ie},this.pause=function(){ie=!0,D.abort(),C=j(T.chunk)?"":C.substring(D.getCharIndex())},this.resume=function(){fe.streamer._halted?(ie=!1,fe.streamer.parseChunk(C,!0)):setTimeout(fe.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,D.abort(),z.meta.aborted=!0,j(T.complete)&&T.complete(z),C=""},this.guessLineEndings=function(re,Oe){re=re.substring(0,1048576);var Oe=new RegExp(_(Oe)+"([^]*?)"+_(Oe),"gm"),Ee=(re=re.replace(Oe,"")).split("\r"),Oe=re.split(`
`),re=1<Oe.length&&Oe[0].length<Ee[0].length;if(Ee.length===1||re)return`
`;for(var _e=0,Re=0;Re<Ee.length;Re++)Ee[Re][0]===`
`&&_e++;return _e>=Ee.length/2?`\r
`:"\r"}}function _(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function S(T){var C=(T=T||{}).delimiter,D=T.newline,R=T.comments,F=T.step,B=T.preview,ee=T.fastMode,he=null,ve=!1,fe=T.quoteChar==null?'"':T.quoteChar,se=fe;if(T.escapeChar!==void 0&&(se=T.escapeChar),(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=","),R===C)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<c.BAD_DELIMITERS.indexOf(R))&&(R=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var Y=0,ie=!1;this.parse=function(G,I,z){if(typeof G!="string")throw new Error("Input must be a string");var X=G.length,J=C.length,ce=D.length,we=R.length,ke=j(F),oe=[],Ee=[],Oe=[],re=Y=0;if(!G)return je();if(ee||ee!==!1&&G.indexOf(fe)===-1){for(var _e=G.split(D),Re=0;Re<_e.length;Re++){if(Oe=_e[Re],Y+=Oe.length,Re!==_e.length-1)Y+=D.length;else if(z)return je();if(!R||Oe.substring(0,we)!==R){if(ke){if(oe=[],He(Oe.split(C)),Ke(),ie)return je()}else He(Oe.split(C));if(B&&B<=Re)return oe=oe.slice(0,B),je(!0)}}return je()}for(var pe=G.indexOf(C,Y),Ye=G.indexOf(D,Y),ze=new RegExp(_(se)+_(fe),"g"),ot=G.indexOf(fe,Y);;)if(G[Y]===fe)for(ot=Y,Y++;;){if((ot=G.indexOf(fe,ot+1))===-1)return z||Ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:oe.length,index:Y}),Et();if(ot===X-1)return Et(G.substring(Y,ot).replace(ze,fe));if(fe===se&&G[ot+1]===se)ot++;else if(fe===se||ot===0||G[ot-1]!==se){pe!==-1&&pe<ot+1&&(pe=G.indexOf(C,ot+1));var Ve=ut((Ye=Ye!==-1&&Ye<ot+1?G.indexOf(D,ot+1):Ye)===-1?pe:Math.min(pe,Ye));if(G.substr(ot+1+Ve,J)===C){Oe.push(G.substring(Y,ot).replace(ze,fe)),G[Y=ot+1+Ve+J]!==fe&&(ot=G.indexOf(fe,Y)),pe=G.indexOf(C,Y),Ye=G.indexOf(D,Y);break}if(Ve=ut(Ye),G.substring(ot+1+Ve,ot+1+Ve+ce)===D){if(Oe.push(G.substring(Y,ot).replace(ze,fe)),St(ot+1+Ve+ce),pe=G.indexOf(C,Y),ot=G.indexOf(fe,Y),ke&&(Ke(),ie))return je();if(B&&oe.length>=B)return je(!0);break}Ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:oe.length,index:Y}),ot++}}else if(R&&Oe.length===0&&G.substring(Y,Y+we)===R){if(Ye===-1)return je();Y=Ye+ce,Ye=G.indexOf(D,Y),pe=G.indexOf(C,Y)}else if(pe!==-1&&(pe<Ye||Ye===-1))Oe.push(G.substring(Y,pe)),Y=pe+J,pe=G.indexOf(C,Y);else{if(Ye===-1)break;if(Oe.push(G.substring(Y,Ye)),St(Ye+ce),ke&&(Ke(),ie))return je();if(B&&oe.length>=B)return je(!0)}return Et();function He(Qe){oe.push(Qe),re=Y}function ut(Qe){var ae=0;return ae=Qe!==-1&&(Qe=G.substring(ot+1,Qe))&&Qe.trim()===""?Qe.length:ae}function Et(Qe){return z||(Qe===void 0&&(Qe=G.substring(Y)),Oe.push(Qe),Y=X,He(Oe),ke&&Ke()),je()}function St(Qe){Y=Qe,He(Oe),Oe=[],Ye=G.indexOf(D,Y)}function je(Qe){if(T.header&&!I&&oe.length&&!ve){var ae=oe[0],Le=Object.create(null),We=new Set(ae);let lt=!1;for(let xt=0;xt<ae.length;xt++){let Ut=ae[xt];if(Le[Ut=j(T.transformHeader)?T.transformHeader(Ut,xt):Ut]){let Kt,Ct=Le[Ut];for(;Kt=Ut+"_"+Ct,Ct++,We.has(Kt););We.add(Kt),ae[xt]=Kt,Le[Ut]++,lt=!0,(he=he===null?{}:he)[Kt]=Ut}else Le[Ut]=1,ae[xt]=Ut;We.add(Ut)}lt&&console.warn("Duplicate headers found and renamed."),ve=!0}return{data:oe,errors:Ee,meta:{delimiter:C,linebreak:D,aborted:ie,truncated:!!Qe,cursor:re+(I||0),renamedHeaders:he}}}function Ke(){F(je()),oe=[],Ee=[]}},this.abort=function(){ie=!0},this.getCharIndex=function(){return Y}}function P(T){var C=T.data,D=o[C.workerId],R=!1;if(C.error)D.userError(C.error,C.file);else if(C.results&&C.results.data){var F={abort:function(){R=!0,A(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(j(D.userStep)){for(var B=0;B<C.results.data.length&&(D.userStep({data:C.results.data[B],errors:C.results.errors,meta:C.results.meta},F),!R);B++);delete C.results}else j(D.userChunk)&&(D.userChunk(C.results,F,C.file),delete C.results)}C.finished&&!R&&A(C.workerId,C.results)}function A(T,C){var D=o[T];j(D.userComplete)&&D.userComplete(C),D.terminate(),delete o[T]}function V(){throw new Error("Not implemented.")}function W(T){if(typeof T!="object"||T===null)return T;var C,D=Array.isArray(T)?[]:{};for(C in T)D[C]=W(T[C]);return D}function K(T,C){return function(){T.apply(C,arguments)}}function j(T){return typeof T=="function"}return c.parse=function(T,C){var D=(C=C||{}).dynamicTyping||!1;if(j(D)&&(C.dynamicTypingFunction=D,D={}),C.dynamicTyping=D,C.transform=!!j(C.transform)&&C.transform,!C.worker||!c.WORKERS_SUPPORTED)return D=null,c.NODE_STREAM_INPUT,typeof T=="string"?(T=(R=>R.charCodeAt(0)!==65279?R:R.slice(1))(T),D=new(C.download?p:m)(C)):T.readable===!0&&j(T.read)&&j(T.on)?D=new y(C):(n.File&&T instanceof File||T instanceof Object)&&(D=new g(C)),D.stream(T);(D=(()=>{var R;return!!c.WORKERS_SUPPORTED&&(R=(()=>{var F=n.URL||n.webkitURL||null,B=r.toString();return c.BLOB_URL||(c.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",B,")();"],{type:"text/javascript"})))})(),(R=new n.Worker(R)).onmessage=P,R.id=l++,o[R.id]=R)})()).userStep=C.step,D.userChunk=C.chunk,D.userComplete=C.complete,D.userError=C.error,C.step=j(C.step),C.chunk=j(C.chunk),C.complete=j(C.complete),C.error=j(C.error),delete C.worker,D.postMessage({input:T,config:C,workerId:D.id})},c.unparse=function(T,C){var D=!1,R=!0,F=",",B=`\r
`,ee='"',he=ee+ee,ve=!1,fe=null,se=!1,Y=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||c.BAD_DELIMITERS.filter(function(I){return C.delimiter.indexOf(I)!==-1}).length||(F=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(D=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(ve=C.skipEmptyLines),typeof C.newline=="string"&&(B=C.newline),typeof C.quoteChar=="string"&&(ee=C.quoteChar),typeof C.header=="boolean"&&(R=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");fe=C.columns}C.escapeChar!==void 0&&(he=C.escapeChar+ee),C.escapeFormulae instanceof RegExp?se=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(se=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(ee),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return ie(null,T,ve);if(typeof T[0]=="object")return ie(fe||Object.keys(T[0]),T,ve)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||fe),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),ie(T.fields||[],T.data||[],ve);throw new Error("Unable to serialize unrecognized input");function ie(I,z,X){var J="",ce=(typeof I=="string"&&(I=JSON.parse(I)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(I)&&0<I.length),we=!Array.isArray(z[0]);if(ce&&R){for(var ke=0;ke<I.length;ke++)0<ke&&(J+=F),J+=G(I[ke],ke);0<z.length&&(J+=B)}for(var oe=0;oe<z.length;oe++){var Ee=(ce?I:z[oe]).length,Oe=!1,re=ce?Object.keys(z[oe]).length===0:z[oe].length===0;if(X&&!ce&&(Oe=X==="greedy"?z[oe].join("").trim()==="":z[oe].length===1&&z[oe][0].length===0),X==="greedy"&&ce){for(var _e=[],Re=0;Re<Ee;Re++){var pe=we?I[Re]:Re;_e.push(z[oe][pe])}Oe=_e.join("").trim()===""}if(!Oe){for(var Ye=0;Ye<Ee;Ye++){0<Ye&&!re&&(J+=F);var ze=ce&&we?I[Ye]:Ye;J+=G(z[oe][ze],Ye)}oe<z.length-1&&(!X||0<Ee&&!re)&&(J+=B)}}return J}function G(I,z){var X,J;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(J=!1,se&&typeof I=="string"&&se.test(I)&&(I="'"+I,J=!0),X=I.toString().replace(Y,he),(J=J||D===!0||typeof D=="function"&&D(I,z)||Array.isArray(D)&&D[z]||((ce,we)=>{for(var ke=0;ke<we.length;ke++)if(-1<ce.indexOf(we[ke]))return!0;return!1})(X,c.BAD_DELIMITERS)||-1<X.indexOf(F)||X.charAt(0)===" "||X.charAt(X.length-1)===" ")?ee+X+ee:X)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=S,c.ParserHandle=w,c.NetworkStreamer=p,c.FileStreamer=g,c.StringStreamer=m,c.ReadableStreamStreamer=y,n.jQuery&&((i=n.jQuery).fn.parse=function(T){var C=T.config||{},D=[];return this.each(function(B){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var ee=0;ee<this.files.length;ee++)D.push({file:this.files[ee],inputElem:this,instanceConfig:i.extend({},C)})}),R(),this;function R(){if(D.length===0)j(T.complete)&&T.complete();else{var B,ee,he,ve,fe=D[0];if(j(T.before)){var se=T.before(fe.file,fe.inputElem);if(typeof se=="object"){if(se.action==="abort")return B="AbortError",ee=fe.file,he=fe.inputElem,ve=se.reason,void(j(T.error)&&T.error({name:B},ee,he,ve));if(se.action==="skip")return void F();typeof se.config=="object"&&(fe.instanceConfig=i.extend(fe.instanceConfig,se.config))}else if(se==="skip")return void F()}var Y=fe.instanceConfig.complete;fe.instanceConfig.complete=function(ie){j(Y)&&Y(ie,fe.file,fe.inputElem),F()},c.parse(fe.file,fe.instanceConfig)}}function F(){D.splice(0,1),R()}}),a&&(n.onmessage=function(T){T=T.data,c.WORKER_ID===void 0&&T&&(c.WORKER_ID=T.workerId),typeof T.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(T.input,T.config),finished:!0}):(n.File&&T.input instanceof File||T.input instanceof Object)&&(T=c.parse(T.input,T.config))&&n.postMessage({workerId:c.WORKER_ID,results:T,finished:!0})}),(p.prototype=Object.create(d.prototype)).constructor=p,(g.prototype=Object.create(d.prototype)).constructor=g,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(d.prototype)).constructor=y,c})})(ry)),ry.exports}var qee=$ee();const zF=qI(qee);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Gy={};Gy.version="0.18.5";var $F=1252,Hee=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jk={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Lk=function(t){Hee.indexOf(t)!=-1&&($F=jk[0]=t)};function Wee(){Lk(1252)}var Oc=function(t){Lk(t)};function Fk(){Oc(1200),Wee()}function lC(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function Gee(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function qF(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var cg=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?Gee(t.slice(2)):e==254&&r==255?qF(t.slice(2)):e==65279?t.slice(1):t},fv=function(e){return String.fromCharCode(e)},cC=function(e){return String.fromCharCode(e)},i2,If="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s2(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),s=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=If.charAt(s)+If.charAt(a)+If.charAt(o)+If.charAt(l);return e}function Vl(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=If.indexOf(t.charAt(c++)),a=If.indexOf(t.charAt(c++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=If.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=If.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var ln=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ld=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Kf(t){return ln?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function uC(t){return ln?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Pl=function(e){return ln?Ld(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function n4(t){if(typeof ArrayBuffer>"u")return Pl(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function fh(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function Kee(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function Dk(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Dk(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var ja=ln?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ld(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Yee(t){for(var e=[],r=0,n=t.length+250,i=Kf(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Kf(65535),n=65530)}return e.push(i.slice(0,r)),ja(e)}var Wo=/\u0000/g,ug=/[\u0001-\u0006]/g;function l1(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Mc(t,e){var r=""+t;return r.length>=e?r:xs("0",e-r.length)+r}function Ok(t,e){var r=""+t;return r.length>=e?r:xs(" ",e-r.length)+r}function Ky(t,e){var r=""+t;return r.length>=e?r:r+xs(" ",e-r.length)}function Xee(t,e){var r=""+Math.round(t);return r.length>=e?r:xs("0",e-r.length)+r}function Qee(t,e){var r=""+t;return r.length>=e?r:xs("0",e-r.length)+r}var dC=Math.pow(2,32);function Pp(t,e){if(t>dC||t<-dC)return Xee(t,e);var r=Math.round(t);return Qee(r,e)}function Yy(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var fC=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qw=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Jee(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Ir={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},hC={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Zee={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Xy(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,c=0,d=0,p=Math.floor(i);c<e&&(p=Math.floor(i),o=p*a+s,d=p*c+l,!(i-p<5e-8));)i=1/(i-p),s=a,a=o,l=c,c=d;if(d>e&&(c>e?(d=l,o=s):(d=c,o=a)),!r)return[0,n*o,d];var g=Math.floor(n*o/d);return[g,n*o-g*d,d]}function Zh(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=ste(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var HF=new Date(1899,11,31,0,0,0),ete=HF.getTime(),tte=new Date(1900,2,1,0,0,0);function WF(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=tte&&(r+=1440*60*1e3),(r-(ete+(t.getTimezoneOffset()-HF.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Mk(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rte(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function nte(t){var e=t<0?12:11,r=Mk(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function ite(t){var e=Mk(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function a2(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=nte(t):e===10?r=t.toFixed(10).substr(0,12):r=ite(t),Mk(rte(r.toUpperCase()))}function I0(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):a2(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return pc(14,WF(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function ste(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function ate(t,e,r,n){var i="",s=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return qw[r.m-1][1];case 5:return qw[r.m-1][0];default:return qw[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return fC[r.q][0];default:return fC[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Mc(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Mc(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var d=c>0?Mc(l,c):"";return d}function Pf(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var GF=/%/g;function ote(t,e,r){var n=e.replace(GF,""),i=e.length-n.length;return gd(t,n,r*Math.pow(10,2*i))+xs("%",i)}function lte(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return gd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function KF(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+KF(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,d){return l+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var YF=/# (\?+)( ?)\/( ?)(\d+)/;function cte(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?xs(" ",t[1].length+1+t[4].length):Ok(a,t[1].length)+t[2]+"/"+t[3]+Mc(o,t[4].length))}function ute(t,e,r){return r+(e===0?"":""+e)+xs(" ",t[1].length+2+t[4].length)}var XF=/^#*0*\.([0#]+)/,QF=/\).*[0#]/,JF=/\(###\) ###\\?-####/;function zo(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function pC(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function mC(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function dte(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function fte(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function nc(t,e,r){if(t.charCodeAt(0)===40&&!e.match(QF)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?nc("n",n,r):"("+nc("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return lte(t,e,r);if(e.indexOf("%")!==-1)return ote(t,e,r);if(e.indexOf("E")!==-1)return KF(e,r);if(e.charCodeAt(0)===36)return"$"+nc(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Pp(l,e.length);if(e.match(/^[#?]+$/))return i=Pp(r,0),i==="0"&&(i=""),i.length>e.length?i:zo(e.substr(0,e.length-i.length))+i;if(s=e.match(YF))return cte(s,l,c);if(e.match(/^#+0+$/))return c+Pp(l,e.length-e.indexOf("0"));if(s=e.match(XF))return i=pC(r,s[1].length).replace(/^([^\.]+)$/,"$1."+zo(s[1])).replace(/\.$/,"."+zo(s[1])).replace(/\.(\d*)$/,function(y,w){return"."+w+xs("0",zo(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+pC(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Pf(Pp(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+nc(t,e,-r):Pf(""+(Math.floor(r)+dte(r,s[1].length)))+"."+Mc(mC(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return nc(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=l1(nc(t,e.replace(/[\\-]/g,""),r)),a=0,l1(l1(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(JF))return i=nc(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Xy(l,Math.pow(10,a)-1,!1),i=""+c,d=gd("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=Ky(o[2],a),d.length<s[4].length&&(d=zo(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Xy(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ok(o[1],a)+s[2]+"/"+s[3]+Ky(o[2],a):xs(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Pp(r,0),e.length<=i.length?i:zo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return zo(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=mC(r,s[1].length),r<0?"-"+nc(t,e,-r):Pf(fte(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Mc(0,3-y.length):"")+y})+"."+Mc(a,s[1].length);switch(e){case"###,##0.00":return nc(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Pf(Pp(l,0));return m!=="0"?c+m:"";case"###,###.00":return nc(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return nc(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function hte(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return gd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function pte(t,e,r){var n=e.replace(GF,""),i=e.length-n.length;return gd(t,n,r*Math.pow(10,2*i))+xs("%",i)}function ZF(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ZF(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,d){return l+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function pu(t,e,r){if(t.charCodeAt(0)===40&&!e.match(QF)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?pu("n",n,r):"("+pu("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return hte(t,e,r);if(e.indexOf("%")!==-1)return pte(t,e,r);if(e.indexOf("E")!==-1)return ZF(e,r);if(e.charCodeAt(0)===36)return"$"+pu(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Mc(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:zo(e.substr(0,e.length-i.length))+i;if(s=e.match(YF))return ute(s,l,c);if(e.match(/^#+0+$/))return c+Mc(l,e.length-e.indexOf("0"));if(s=e.match(XF))return i=(""+r).replace(/^([^\.]+)$/,"$1."+zo(s[1])).replace(/\.$/,"."+zo(s[1])),i=i.replace(/\.(\d*)$/,function(y,w){return"."+w+xs("0",zo(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Pf(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+pu(t,e,-r):Pf(""+r)+"."+xs("0",s[1].length);if(s=e.match(/^#,#*,#0/))return pu(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=l1(pu(t,e.replace(/[\\-]/g,""),r)),a=0,l1(l1(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(JF))return i=pu(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Xy(l,Math.pow(10,a)-1,!1),i=""+c,d=gd("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=Ky(o[2],a),d.length<s[4].length&&(d=zo(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Xy(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Ok(o[1],a)+s[2]+"/"+s[3]+Ky(o[2],a):xs(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:zo(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return zo(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+pu(t,e,-r):Pf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Mc(0,3-y.length):"")+y})+"."+Mc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Pf(""+l);return m!=="0"?c+m:"";default:if(e.match(/\.[0#?]*$/))return pu(t,e.slice(0,e.lastIndexOf(".")),r)+zo(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function gd(t,e,r){return(r|0)===r?pu(t,e,r):nc(t,e,r)}function mte(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var eD=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function nm(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Yy(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(eD))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function gte(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",c,d,p,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!Yy(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=t.charAt(++a),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=Zh(e,r,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Zh(e,r),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"上":var w={t:o,v:o};if(c==null&&(c=Zh(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(w.v=c.H>=12?"P":"A"),w.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(w.v=c.H>=12?"PM":"AM"),w.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="上午/下午"?(c!=null&&(w.v=c.H>=12?"下午":"上午"),w.t="T",a+=5,g="h"):(w.t="t",++a),c==null&&w.t==="T")return"";i[i.length]=w,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(eD)){if(c==null&&(c=Zh(e,r),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",nm(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var _=0,S=0,P;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,l="h",_<1&&(_=1);break;case"s":(P=i[a].v.match(/\.0+$/))&&(S=Math.max(S,P[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[a].v.match(/[Hh]/)&&(_=1),_<2&&i[a].v.match(/[Mm]/)&&(_=2),_<3&&i[a].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var A="",V;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=ate(i[a].t.charCodeAt(0),i[a].v,c,S),i[a].t="t";break;case"n":case"?":for(V=a+1;i[V]!=null&&((o=i[V].t)==="?"||o==="D"||(o===" "||o==="t")&&i[V+1]!=null&&(i[V+1].t==="?"||i[V+1].t==="t"&&i[V+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[V].v==="/"||i[V].v===" "&&i[V+1]!=null&&i[V+1].t=="?"));)i[a].v+=i[V].v,i[V]={v:"",t:";"},++V;A+=i[a].v,a=V-1;break;case"G":i[a].t="t",i[a].v=I0(e,r);break}var W="",K,j;if(A.length>0){A.charCodeAt(0)==40?(K=e<0&&A.charCodeAt(0)===45?-e:e,j=gd("n",A,K)):(K=e<0&&n>1?-e:e,j=gd("n",A,K),K<0&&i[0]&&i[0].t=="t"&&(j=j.substr(1),i[0].v="-"+i[0].v)),V=j.length-1;var T=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){T=a;break}var C=i.length;if(T===i.length&&j.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(V>=i[a].v.length-1?(V-=i[a].v.length,i[a].v=j.substr(V+1,i[a].v.length)):V<0?i[a].v="":(i[a].v=j.substr(0,V+1),V=-1),i[a].t="t",C=a);V>=0&&C<i.length&&(i[C].v=j.substr(0,V+1)+i[C].v)}else if(T!==i.length&&j.indexOf("E")===-1){for(V=j.indexOf(".")-1,a=T;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(d=i[a].v.indexOf(".")>-1&&a===T?i[a].v.indexOf(".")-1:i[a].v.length-1,W=i[a].v.substr(d+1);d>=0;--d)V>=0&&(i[a].v.charAt(d)==="0"||i[a].v.charAt(d)==="#")&&(W=j.charAt(V--)+W);i[a].v=W,i[a].t="t",C=a}for(V>=0&&C<i.length&&(i[C].v=j.substr(0,V+1)+i[C].v),V=j.indexOf(".")+1,a=T;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==T)){for(d=i[a].v.indexOf(".")>-1&&a===T?i[a].v.indexOf(".")+1:0,W=i[a].v.substr(0,d);d<i[a].v.length;++d)V<j.length&&(W+=j.charAt(V++));i[a].v=W,i[a].t="t",C=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(K=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=gd(i[a].t,i[a].v,K),i[a].t="t");var D="";for(a=0;a!==i.length;++a)i[a]!=null&&(D+=i[a].v);return D}var gC=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function xC(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function xte(t,e){var r=mte(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(gC),o=r[1].match(gC);return xC(e,a)?[n,r[0]]:xC(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function pc(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ir)[t],n==null&&(n=r.table&&r.table[hC[t]]||Ir[hC[t]]),n==null&&(n=Zee[t]||"General");break}if(Yy(n,0))return I0(e,r);e instanceof Date&&(e=WF(e,r.date1904));var i=xte(n,e);if(Yy(i[1]))return I0(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return gte(i[1],e,r,i[0])}function xd(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Ir[r]==null){e<0&&(e=r);continue}if(Ir[r]==t){e=r;break}}e<0&&(e=391)}return Ir[e]=t,e}function i4(t){for(var e=0;e!=392;++e)t[e]!==void 0&&xd(t[e],e)}function im(){Ir=Jee()}var vte={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},tD=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function yte(t){var e=typeof t=="number"?Ir[t]:t;return e=e.replace(tD,"(\\d+)"),new RegExp("^"+e+"$")}function wte(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(tD)||[]).forEach(function(p,g){var m=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&s==-1?d:c+"T"+d}var _te=(function(){var t={};t.version="1.2.0";function e(){for(var j=0,T=new Array(256),C=0;C!=256;++C)j=C,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,j=j&1?-306674912^j>>>1:j>>>1,T[C]=j;return typeof Int32Array<"u"?new Int32Array(T):T}var r=e();function n(j){var T=0,C=0,D=0,R=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)R[D]=j[D];for(D=0;D!=256;++D)for(C=j[D],T=256+D;T<4096;T+=256)C=R[T]=C>>>8^j[C&255];var F=[];for(D=1;D!=16;++D)F[D-1]=typeof Int32Array<"u"?R.subarray(D*256,D*256+256):R.slice(D*256,D*256+256);return F}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],d=i[5],p=i[6],g=i[7],m=i[8],y=i[9],w=i[10],_=i[11],S=i[12],P=i[13],A=i[14];function V(j,T){for(var C=T^-1,D=0,R=j.length;D<R;)C=C>>>8^r[(C^j.charCodeAt(D++))&255];return~C}function W(j,T){for(var C=T^-1,D=j.length-15,R=0;R<D;)C=A[j[R++]^C&255]^P[j[R++]^C>>8&255]^S[j[R++]^C>>16&255]^_[j[R++]^C>>>24]^w[j[R++]]^y[j[R++]]^m[j[R++]]^g[j[R++]]^p[j[R++]]^d[j[R++]]^c[j[R++]]^l[j[R++]]^o[j[R++]]^a[j[R++]]^s[j[R++]]^r[j[R++]];for(D+=15;R<D;)C=C>>>8^r[(C^j[R++])&255];return~C}function K(j,T){for(var C=T^-1,D=0,R=j.length,F=0,B=0;D<R;)F=j.charCodeAt(D++),F<128?C=C>>>8^r[(C^F)&255]:F<2048?(C=C>>>8^r[(C^(192|F>>6&31))&255],C=C>>>8^r[(C^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,B=j.charCodeAt(D++)&1023,C=C>>>8^r[(C^(240|F>>8&7))&255],C=C>>>8^r[(C^(128|F>>2&63))&255],C=C>>>8^r[(C^(128|B>>6&15|(F&3)<<4))&255],C=C>>>8^r[(C^(128|B&63))&255]):(C=C>>>8^r[(C^(224|F>>12&15))&255],C=C>>>8^r[(C^(128|F>>6&63))&255],C=C>>>8^r[(C^(128|F&63))&255]);return~C}return t.table=r,t.bstr=V,t.buf=W,t.str=K,t})(),Sr=(function(){var e={};e.version="1.2.1";function r(le,Ae){for(var be=le.split("/"),Se=Ae.split("/"),Pe=0,Ie=0,Xe=Math.min(be.length,Se.length);Pe<Xe;++Pe){if(Ie=be[Pe].length-Se[Pe].length)return Ie;if(be[Pe]!=Se[Pe])return be[Pe]<Se[Pe]?-1:1}return be.length-Se.length}function n(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:n(le.slice(0,-1));var Ae=le.lastIndexOf("/");return Ae===-1?le:le.slice(0,Ae+1)}function i(le){if(le.charAt(le.length-1)=="/")return i(le.slice(0,-1));var Ae=le.lastIndexOf("/");return Ae===-1?le:le.slice(Ae+1)}function s(le,Ae){typeof Ae=="string"&&(Ae=new Date(Ae));var be=Ae.getHours();be=be<<6|Ae.getMinutes(),be=be<<5|Ae.getSeconds()>>>1,le.write_shift(2,be);var Se=Ae.getFullYear()-1980;Se=Se<<4|Ae.getMonth()+1,Se=Se<<5|Ae.getDate(),le.write_shift(2,Se)}function a(le){var Ae=le.read_shift(2)&65535,be=le.read_shift(2)&65535,Se=new Date,Pe=be&31;be>>>=5;var Ie=be&15;be>>>=4,Se.setMilliseconds(0),Se.setFullYear(be+1980),Se.setMonth(Ie-1),Se.setDate(Pe);var Xe=Ae&31;Ae>>>=5;var dt=Ae&63;return Ae>>>=6,Se.setHours(Ae),Se.setMinutes(dt),Se.setSeconds(Xe<<1),Se}function o(le){Ja(le,0);for(var Ae={},be=0;le.l<=le.length-4;){var Se=le.read_shift(2),Pe=le.read_shift(2),Ie=le.l+Pe,Xe={};switch(Se){case 21589:be=le.read_shift(1),be&1&&(Xe.mtime=le.read_shift(4)),Pe>5&&(be&2&&(Xe.atime=le.read_shift(4)),be&4&&(Xe.ctime=le.read_shift(4))),Xe.mtime&&(Xe.mt=new Date(Xe.mtime*1e3));break}le.l=Ie,Ae[Se]=Xe}return Ae}var l;function c(){return l||(l={})}function d(le,Ae){if(le[0]==80&&le[1]==75)return Pn(le,Ae);if((le[0]|32)==109&&(le[1]|32)==105)return gr(le,Ae);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var be=3,Se=512,Pe=0,Ie=0,Xe=0,dt=0,tt=0,et=[],at=le.slice(0,512);Ja(at,0);var Tt=p(at);switch(be=Tt[0],be){case 3:Se=512;break;case 4:Se=4096;break;case 0:if(Tt[1]==0)return Pn(le,Ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+be)}Se!==512&&(at=le.slice(0,Se),Ja(at,28));var Vt=le.slice(0,Se);g(at,be);var Ht=at.read_shift(4,"i");if(be===3&&Ht!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ht);at.l+=4,Xe=at.read_shift(4,"i"),at.l+=4,at.chk("00100000","Mini Stream Cutoff Size: "),dt=at.read_shift(4,"i"),Pe=at.read_shift(4,"i"),tt=at.read_shift(4,"i"),Ie=at.read_shift(4,"i");for(var Dt=-1,It=0;It<109&&(Dt=at.read_shift(4,"i"),!(Dt<0));++It)et[It]=Dt;var br=m(le,Se);_(tt,Ie,br,Se,et);var qr=P(br,Xe,et,Se);qr[Xe].name="!Directory",Pe>0&&dt!==B&&(qr[dt].name="!MiniFAT"),qr[et[0]].name="!FAT",qr.fat_addrs=et,qr.ssz=Se;var Fr={},mn=[],xa=[],va=[];A(Xe,qr,br,mn,Pe,Fr,xa,dt),y(xa,va,mn),mn.shift();var $s={FileIndex:xa,FullPaths:va};return Ae&&Ae.raw&&($s.raw={header:Vt,sectors:br}),$s}function p(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(ee,"Header Signature: "),le.l+=16;var Ae=le.read_shift(2,"u");return[le.read_shift(2,"u"),Ae]}function g(le,Ae){var be=9;switch(le.l+=2,be=le.read_shift(2)){case 9:if(Ae!=3)throw new Error("Sector Shift: Expected 9 saw "+be);break;case 12:if(Ae!=4)throw new Error("Sector Shift: Expected 12 saw "+be);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+be)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function m(le,Ae){for(var be=Math.ceil(le.length/Ae)-1,Se=[],Pe=1;Pe<be;++Pe)Se[Pe-1]=le.slice(Pe*Ae,(Pe+1)*Ae);return Se[be-1]=le.slice(be*Ae),Se}function y(le,Ae,be){for(var Se=0,Pe=0,Ie=0,Xe=0,dt=0,tt=be.length,et=[],at=[];Se<tt;++Se)et[Se]=at[Se]=Se,Ae[Se]=be[Se];for(;dt<at.length;++dt)Se=at[dt],Pe=le[Se].L,Ie=le[Se].R,Xe=le[Se].C,et[Se]===Se&&(Pe!==-1&&et[Pe]!==Pe&&(et[Se]=et[Pe]),Ie!==-1&&et[Ie]!==Ie&&(et[Se]=et[Ie])),Xe!==-1&&(et[Xe]=Se),Pe!==-1&&Se!=et[Se]&&(et[Pe]=et[Se],at.lastIndexOf(Pe)<dt&&at.push(Pe)),Ie!==-1&&Se!=et[Se]&&(et[Ie]=et[Se],at.lastIndexOf(Ie)<dt&&at.push(Ie));for(Se=1;Se<tt;++Se)et[Se]===Se&&(Ie!==-1&&et[Ie]!==Ie?et[Se]=et[Ie]:Pe!==-1&&et[Pe]!==Pe&&(et[Se]=et[Pe]));for(Se=1;Se<tt;++Se)if(le[Se].type!==0){if(dt=Se,dt!=et[dt])do dt=et[dt],Ae[Se]=Ae[dt]+"/"+Ae[Se];while(dt!==0&&et[dt]!==-1&&dt!=et[dt]);et[Se]=-1}for(Ae[0]+="/",Se=1;Se<tt;++Se)le[Se].type!==2&&(Ae[Se]+="/")}function w(le,Ae,be){for(var Se=le.start,Pe=le.size,Ie=[],Xe=Se;be&&Pe>0&&Xe>=0;)Ie.push(Ae.slice(Xe*F,Xe*F+F)),Pe-=F,Xe=Yh(be,Xe*4);return Ie.length===0?wt(0):ja(Ie).slice(0,le.size)}function _(le,Ae,be,Se,Pe){var Ie=B;if(le===B){if(Ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Xe=be[le],dt=(Se>>>2)-1;if(!Xe)return;for(var tt=0;tt<dt&&(Ie=Yh(Xe,tt*4))!==B;++tt)Pe.push(Ie);_(Yh(Xe,Se-4),Ae-1,be,Se,Pe)}}function S(le,Ae,be,Se,Pe){var Ie=[],Xe=[];Pe||(Pe=[]);var dt=Se-1,tt=0,et=0;for(tt=Ae;tt>=0;){Pe[tt]=!0,Ie[Ie.length]=tt,Xe.push(le[tt]);var at=be[Math.floor(tt*4/Se)];if(et=tt*4&dt,Se<4+et)throw new Error("FAT boundary crossed: "+tt+" 4 "+Se);if(!le[at])break;tt=Yh(le[at],et)}return{nodes:Ie,data:AC([Xe])}}function P(le,Ae,be,Se){var Pe=le.length,Ie=[],Xe=[],dt=[],tt=[],et=Se-1,at=0,Tt=0,Vt=0,Ht=0;for(at=0;at<Pe;++at)if(dt=[],Vt=at+Ae,Vt>=Pe&&(Vt-=Pe),!Xe[Vt]){tt=[];var Dt=[];for(Tt=Vt;Tt>=0;){Dt[Tt]=!0,Xe[Tt]=!0,dt[dt.length]=Tt,tt.push(le[Tt]);var It=be[Math.floor(Tt*4/Se)];if(Ht=Tt*4&et,Se<4+Ht)throw new Error("FAT boundary crossed: "+Tt+" 4 "+Se);if(!le[It]||(Tt=Yh(le[It],Ht),Dt[Tt]))break}Ie[Vt]={nodes:dt,data:AC([tt])}}return Ie}function A(le,Ae,be,Se,Pe,Ie,Xe,dt){for(var tt=0,et=Se.length?2:0,at=Ae[le].data,Tt=0,Vt=0,Ht;Tt<at.length;Tt+=128){var Dt=at.slice(Tt,Tt+128);Ja(Dt,64),Vt=Dt.read_shift(2),Ht=Hk(Dt,0,Vt-et),Se.push(Ht);var It={name:Ht,type:Dt.read_shift(1),color:Dt.read_shift(1),L:Dt.read_shift(4,"i"),R:Dt.read_shift(4,"i"),C:Dt.read_shift(4,"i"),clsid:Dt.read_shift(16),state:Dt.read_shift(4,"i"),start:0,size:0},br=Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2);br!==0&&(It.ct=V(Dt,Dt.l-8));var qr=Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2)+Dt.read_shift(2);qr!==0&&(It.mt=V(Dt,Dt.l-8)),It.start=Dt.read_shift(4,"i"),It.size=Dt.read_shift(4,"i"),It.size<0&&It.start<0&&(It.size=It.type=0,It.start=B,It.name=""),It.type===5?(tt=It.start,Pe>0&&tt!==B&&(Ae[tt].name="!StreamData")):It.size>=4096?(It.storage="fat",Ae[It.start]===void 0&&(Ae[It.start]=S(be,It.start,Ae.fat_addrs,Ae.ssz)),Ae[It.start].name=It.name,It.content=Ae[It.start].data.slice(0,It.size)):(It.storage="minifat",It.size<0?It.size=0:tt!==B&&It.start!==B&&Ae[tt]&&(It.content=w(It,Ae[tt].data,(Ae[dt]||{}).data))),It.content&&Ja(It.content,0),Ie[Ht]=It,Xe.push(It)}}function V(le,Ae){return new Date((Il(le,Ae+4)/1e7*Math.pow(2,32)+Il(le,Ae)/1e7-11644473600)*1e3)}function W(le,Ae){return c(),d(l.readFileSync(le),Ae)}function K(le,Ae){var be=Ae&&Ae.type;switch(be||ln&&Buffer.isBuffer(le)&&(be="buffer"),be||"base64"){case"file":return W(le,Ae);case"base64":return d(Pl(Vl(le)),Ae);case"binary":return d(Pl(le),Ae)}return d(le,Ae)}function j(le,Ae){var be=Ae||{},Se=be.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=Se+"/",le.FileIndex[0]={name:Se,type:5}),be.CLSID&&(le.FileIndex[0].clsid=be.CLSID),T(le)}function T(le){var Ae="Sh33tJ5";if(!Sr.find(le,"/"+Ae)){var be=wt(4);be[0]=55,be[1]=be[3]=50,be[2]=54,le.FileIndex.push({name:Ae,type:2,content:be,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+Ae),C(le)}}function C(le,Ae){j(le);for(var be=!1,Se=!1,Pe=le.FullPaths.length-1;Pe>=0;--Pe){var Ie=le.FileIndex[Pe];switch(Ie.type){case 0:Se?be=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:Se=!0,isNaN(Ie.R*Ie.L*Ie.C)&&(be=!0),Ie.R>-1&&Ie.L>-1&&Ie.R==Ie.L&&(be=!0);break;default:be=!0;break}}if(!(!be&&!Ae)){var Xe=new Date(1987,1,19),dt=0,tt=Object.create?Object.create(null):{},et=[];for(Pe=0;Pe<le.FullPaths.length;++Pe)tt[le.FullPaths[Pe]]=!0,le.FileIndex[Pe].type!==0&&et.push([le.FullPaths[Pe],le.FileIndex[Pe]]);for(Pe=0;Pe<et.length;++Pe){var at=n(et[Pe][0]);Se=tt[at],Se||(et.push([at,{name:i(at).replace("/",""),type:1,clsid:ve,ct:Xe,mt:Xe,content:null}]),tt[at]=!0)}for(et.sort(function(Ht,Dt){return r(Ht[0],Dt[0])}),le.FullPaths=[],le.FileIndex=[],Pe=0;Pe<et.length;++Pe)le.FullPaths[Pe]=et[Pe][0],le.FileIndex[Pe]=et[Pe][1];for(Pe=0;Pe<et.length;++Pe){var Tt=le.FileIndex[Pe],Vt=le.FullPaths[Pe];if(Tt.name=i(Vt).replace("/",""),Tt.L=Tt.R=Tt.C=-(Tt.color=1),Tt.size=Tt.content?Tt.content.length:0,Tt.start=0,Tt.clsid=Tt.clsid||ve,Pe===0)Tt.C=et.length>1?1:-1,Tt.size=0,Tt.type=5;else if(Vt.slice(-1)=="/"){for(dt=Pe+1;dt<et.length&&n(le.FullPaths[dt])!=Vt;++dt);for(Tt.C=dt>=et.length?-1:dt,dt=Pe+1;dt<et.length&&n(le.FullPaths[dt])!=n(Vt);++dt);Tt.R=dt>=et.length?-1:dt,Tt.type=1}else n(le.FullPaths[Pe+1]||"")==n(Vt)&&(Tt.R=Pe+1),Tt.type=2}}}function D(le,Ae){var be=Ae||{};if(be.fileType=="mad")return wn(le,be);switch(C(le),be.fileType){case"zip":return $r(le,be)}var Se=(function(Ht){for(var Dt=0,It=0,br=0;br<Ht.FileIndex.length;++br){var qr=Ht.FileIndex[br];if(qr.content){var Fr=qr.content.length;Fr>0&&(Fr<4096?Dt+=Fr+63>>6:It+=Fr+511>>9)}}for(var mn=Ht.FullPaths.length+3>>2,xa=Dt+7>>3,va=Dt+127>>7,$s=xa+It+mn+va,Fe=$s+127>>7,Bt=Fe<=109?0:Math.ceil((Fe-109)/127);$s+Fe+Bt+127>>7>Fe;)Bt=++Fe<=109?0:Math.ceil((Fe-109)/127);var Yt=[1,Bt,Fe,va,mn,It,Dt,0];return Ht.FileIndex[0].size=Dt<<6,Yt[7]=(Ht.FileIndex[0].start=Yt[0]+Yt[1]+Yt[2]+Yt[3]+Yt[4]+Yt[5])+(Yt[6]+7>>3),Yt})(le),Pe=wt(Se[7]<<9),Ie=0,Xe=0;{for(Ie=0;Ie<8;++Ie)Pe.write_shift(1,he[Ie]);for(Ie=0;Ie<8;++Ie)Pe.write_shift(2,0);for(Pe.write_shift(2,62),Pe.write_shift(2,3),Pe.write_shift(2,65534),Pe.write_shift(2,9),Pe.write_shift(2,6),Ie=0;Ie<3;++Ie)Pe.write_shift(2,0);for(Pe.write_shift(4,0),Pe.write_shift(4,Se[2]),Pe.write_shift(4,Se[0]+Se[1]+Se[2]+Se[3]-1),Pe.write_shift(4,0),Pe.write_shift(4,4096),Pe.write_shift(4,Se[3]?Se[0]+Se[1]+Se[2]-1:B),Pe.write_shift(4,Se[3]),Pe.write_shift(-4,Se[1]?Se[0]-1:B),Pe.write_shift(4,Se[1]),Ie=0;Ie<109;++Ie)Pe.write_shift(-4,Ie<Se[2]?Se[1]+Ie:-1)}if(Se[1])for(Xe=0;Xe<Se[1];++Xe){for(;Ie<236+Xe*127;++Ie)Pe.write_shift(-4,Ie<Se[2]?Se[1]+Ie:-1);Pe.write_shift(-4,Xe===Se[1]-1?B:Xe+1)}var dt=function(Ht){for(Xe+=Ht;Ie<Xe-1;++Ie)Pe.write_shift(-4,Ie+1);Ht&&(++Ie,Pe.write_shift(-4,B))};for(Xe=Ie=0,Xe+=Se[1];Ie<Xe;++Ie)Pe.write_shift(-4,fe.DIFSECT);for(Xe+=Se[2];Ie<Xe;++Ie)Pe.write_shift(-4,fe.FATSECT);dt(Se[3]),dt(Se[4]);for(var tt=0,et=0,at=le.FileIndex[0];tt<le.FileIndex.length;++tt)at=le.FileIndex[tt],at.content&&(et=at.content.length,!(et<4096)&&(at.start=Xe,dt(et+511>>9)));for(dt(Se[6]+7>>3);Pe.l&511;)Pe.write_shift(-4,fe.ENDOFCHAIN);for(Xe=Ie=0,tt=0;tt<le.FileIndex.length;++tt)at=le.FileIndex[tt],at.content&&(et=at.content.length,!(!et||et>=4096)&&(at.start=Xe,dt(et+63>>6)));for(;Pe.l&511;)Pe.write_shift(-4,fe.ENDOFCHAIN);for(Ie=0;Ie<Se[4]<<2;++Ie){var Tt=le.FullPaths[Ie];if(!Tt||Tt.length===0){for(tt=0;tt<17;++tt)Pe.write_shift(4,0);for(tt=0;tt<3;++tt)Pe.write_shift(4,-1);for(tt=0;tt<12;++tt)Pe.write_shift(4,0);continue}at=le.FileIndex[Ie],Ie===0&&(at.start=at.size?at.start-1:B);var Vt=Ie===0&&be.root||at.name;if(et=2*(Vt.length+1),Pe.write_shift(64,Vt,"utf16le"),Pe.write_shift(2,et),Pe.write_shift(1,at.type),Pe.write_shift(1,at.color),Pe.write_shift(-4,at.L),Pe.write_shift(-4,at.R),Pe.write_shift(-4,at.C),at.clsid)Pe.write_shift(16,at.clsid,"hex");else for(tt=0;tt<4;++tt)Pe.write_shift(4,0);Pe.write_shift(4,at.state||0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,0),Pe.write_shift(4,at.start),Pe.write_shift(4,at.size),Pe.write_shift(4,0)}for(Ie=1;Ie<le.FileIndex.length;++Ie)if(at=le.FileIndex[Ie],at.size>=4096)if(Pe.l=at.start+1<<9,ln&&Buffer.isBuffer(at.content))at.content.copy(Pe,Pe.l,0,at.size),Pe.l+=at.size+511&-512;else{for(tt=0;tt<at.size;++tt)Pe.write_shift(1,at.content[tt]);for(;tt&511;++tt)Pe.write_shift(1,0)}for(Ie=1;Ie<le.FileIndex.length;++Ie)if(at=le.FileIndex[Ie],at.size>0&&at.size<4096)if(ln&&Buffer.isBuffer(at.content))at.content.copy(Pe,Pe.l,0,at.size),Pe.l+=at.size+63&-64;else{for(tt=0;tt<at.size;++tt)Pe.write_shift(1,at.content[tt]);for(;tt&63;++tt)Pe.write_shift(1,0)}if(ln)Pe.l=Pe.length;else for(;Pe.l<Pe.length;)Pe.write_shift(1,0);return Pe}function R(le,Ae){var be=le.FullPaths.map(function(tt){return tt.toUpperCase()}),Se=be.map(function(tt){var et=tt.split("/");return et[et.length-(tt.slice(-1)=="/"?2:1)]}),Pe=!1;Ae.charCodeAt(0)===47?(Pe=!0,Ae=be[0].slice(0,-1)+Ae):Pe=Ae.indexOf("/")!==-1;var Ie=Ae.toUpperCase(),Xe=Pe===!0?be.indexOf(Ie):Se.indexOf(Ie);if(Xe!==-1)return le.FileIndex[Xe];var dt=!Ie.match(ug);for(Ie=Ie.replace(Wo,""),dt&&(Ie=Ie.replace(ug,"!")),Xe=0;Xe<be.length;++Xe)if((dt?be[Xe].replace(ug,"!"):be[Xe]).replace(Wo,"")==Ie||(dt?Se[Xe].replace(ug,"!"):Se[Xe]).replace(Wo,"")==Ie)return le.FileIndex[Xe];return null}var F=64,B=-2,ee="d0cf11e0a1b11ae1",he=[208,207,17,224,161,177,26,225],ve="00000000000000000000000000000000",fe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ve,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se(le,Ae,be){c();var Se=D(le,be);l.writeFileSync(Ae,Se)}function Y(le){for(var Ae=new Array(le.length),be=0;be<le.length;++be)Ae[be]=String.fromCharCode(le[be]);return Ae.join("")}function ie(le,Ae){var be=D(le,Ae);switch(Ae&&Ae.type||"buffer"){case"file":return c(),l.writeFileSync(Ae.filename,be),be;case"binary":return typeof be=="string"?be:Y(be);case"base64":return s2(typeof be=="string"?be:Y(be));case"buffer":if(ln)return Buffer.isBuffer(be)?be:Ld(be);case"array":return typeof be=="string"?Pl(be):be}return be}var G;function I(le){try{var Ae=le.InflateRaw,be=new Ae;if(be._processChunk(new Uint8Array([3,0]),be._finishFlushFlag),be.bytesRead)G=le;else throw new Error("zlib does not expose bytesRead")}catch(Se){console.error("cannot use native zlib: "+(Se.message||Se))}}function z(le,Ae){if(!G)return wr(le,Ae);var be=G.InflateRaw,Se=new be,Pe=Se._processChunk(le.slice(le.l),Se._finishFlushFlag);return le.l+=Se.bytesRead,Pe}function X(le){return G?G.deflateRawSync(le):lt(le)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],we=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(le){var Ae=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(Ae>>16|Ae>>8|Ae)&255}for(var oe=typeof Uint8Array<"u",Ee=oe?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)Ee[Oe]=ke(Oe);function re(le,Ae){var be=Ee[le&255];return Ae<=8?be>>>8-Ae:(be=be<<8|Ee[le>>8&255],Ae<=16?be>>>16-Ae:(be=be<<8|Ee[le>>16&255],be>>>24-Ae))}function _e(le,Ae){var be=Ae&7,Se=Ae>>>3;return(le[Se]|(be<=6?0:le[Se+1]<<8))>>>be&3}function Re(le,Ae){var be=Ae&7,Se=Ae>>>3;return(le[Se]|(be<=5?0:le[Se+1]<<8))>>>be&7}function pe(le,Ae){var be=Ae&7,Se=Ae>>>3;return(le[Se]|(be<=4?0:le[Se+1]<<8))>>>be&15}function Ye(le,Ae){var be=Ae&7,Se=Ae>>>3;return(le[Se]|(be<=3?0:le[Se+1]<<8))>>>be&31}function ze(le,Ae){var be=Ae&7,Se=Ae>>>3;return(le[Se]|(be<=1?0:le[Se+1]<<8))>>>be&127}function ot(le,Ae,be){var Se=Ae&7,Pe=Ae>>>3,Ie=(1<<be)-1,Xe=le[Pe]>>>Se;return be<8-Se||(Xe|=le[Pe+1]<<8-Se,be<16-Se)||(Xe|=le[Pe+2]<<16-Se,be<24-Se)||(Xe|=le[Pe+3]<<24-Se),Xe&Ie}function Ve(le,Ae,be){var Se=Ae&7,Pe=Ae>>>3;return Se<=5?le[Pe]|=(be&7)<<Se:(le[Pe]|=be<<Se&255,le[Pe+1]=(be&7)>>8-Se),Ae+3}function He(le,Ae,be){var Se=Ae&7,Pe=Ae>>>3;return be=(be&1)<<Se,le[Pe]|=be,Ae+1}function ut(le,Ae,be){var Se=Ae&7,Pe=Ae>>>3;return be<<=Se,le[Pe]|=be&255,be>>>=8,le[Pe+1]=be,Ae+8}function Et(le,Ae,be){var Se=Ae&7,Pe=Ae>>>3;return be<<=Se,le[Pe]|=be&255,be>>>=8,le[Pe+1]=be&255,le[Pe+2]=be>>>8,Ae+16}function St(le,Ae){var be=le.length,Se=2*be>Ae?2*be:Ae+5,Pe=0;if(be>=Ae)return le;if(ln){var Ie=uC(Se);if(le.copy)le.copy(Ie);else for(;Pe<le.length;++Pe)Ie[Pe]=le[Pe];return Ie}else if(oe){var Xe=new Uint8Array(Se);if(Xe.set)Xe.set(le);else for(;Pe<be;++Pe)Xe[Pe]=le[Pe];return Xe}return le.length=Se,le}function je(le){for(var Ae=new Array(le),be=0;be<le;++be)Ae[be]=0;return Ae}function Ke(le,Ae,be){var Se=1,Pe=0,Ie=0,Xe=0,dt=0,tt=le.length,et=oe?new Uint16Array(32):je(32);for(Ie=0;Ie<32;++Ie)et[Ie]=0;for(Ie=tt;Ie<be;++Ie)le[Ie]=0;tt=le.length;var at=oe?new Uint16Array(tt):je(tt);for(Ie=0;Ie<tt;++Ie)et[Pe=le[Ie]]++,Se<Pe&&(Se=Pe),at[Ie]=0;for(et[0]=0,Ie=1;Ie<=Se;++Ie)et[Ie+16]=dt=dt+et[Ie-1]<<1;for(Ie=0;Ie<tt;++Ie)dt=le[Ie],dt!=0&&(at[Ie]=et[dt+16]++);var Tt=0;for(Ie=0;Ie<tt;++Ie)if(Tt=le[Ie],Tt!=0)for(dt=re(at[Ie],Se)>>Se-Tt,Xe=(1<<Se+4-Tt)-1;Xe>=0;--Xe)Ae[dt|Xe<<Tt]=Tt&15|Ie<<4;return Se}var Qe=oe?new Uint16Array(512):je(512),ae=oe?new Uint16Array(32):je(32);if(!oe){for(var Le=0;Le<512;++Le)Qe[Le]=0;for(Le=0;Le<32;++Le)ae[Le]=0}(function(){for(var le=[],Ae=0;Ae<32;Ae++)le.push(5);Ke(le,ae,32);var be=[];for(Ae=0;Ae<=143;Ae++)be.push(8);for(;Ae<=255;Ae++)be.push(9);for(;Ae<=279;Ae++)be.push(7);for(;Ae<=287;Ae++)be.push(8);Ke(be,Qe,288)})();var We=(function(){for(var Ae=oe?new Uint8Array(32768):[],be=0,Se=0;be<we.length-1;++be)for(;Se<we[be+1];++Se)Ae[Se]=be;for(;Se<32768;++Se)Ae[Se]=29;var Pe=oe?new Uint8Array(259):[];for(be=0,Se=0;be<ce.length-1;++be)for(;Se<ce[be+1];++Se)Pe[Se]=be;function Ie(dt,tt){for(var et=0;et<dt.length;){var at=Math.min(65535,dt.length-et),Tt=et+at==dt.length;for(tt.write_shift(1,+Tt),tt.write_shift(2,at),tt.write_shift(2,~at&65535);at-- >0;)tt[tt.l++]=dt[et++]}return tt.l}function Xe(dt,tt){for(var et=0,at=0,Tt=oe?new Uint16Array(32768):[];at<dt.length;){var Vt=Math.min(65535,dt.length-at);if(Vt<10){for(et=Ve(tt,et,+(at+Vt==dt.length)),et&7&&(et+=8-(et&7)),tt.l=et/8|0,tt.write_shift(2,Vt),tt.write_shift(2,~Vt&65535);Vt-- >0;)tt[tt.l++]=dt[at++];et=tt.l*8;continue}et=Ve(tt,et,+(at+Vt==dt.length)+2);for(var Ht=0;Vt-- >0;){var Dt=dt[at];Ht=(Ht<<5^Dt)&32767;var It=-1,br=0;if((It=Tt[Ht])&&(It|=at&-32768,It>at&&(It-=32768),It<at))for(;dt[It+br]==dt[at+br]&&br<250;)++br;if(br>2){Dt=Pe[br],Dt<=22?et=ut(tt,et,Ee[Dt+1]>>1)-1:(ut(tt,et,3),et+=5,ut(tt,et,Ee[Dt-23]>>5),et+=3);var qr=Dt<8?0:Dt-4>>2;qr>0&&(Et(tt,et,br-ce[Dt]),et+=qr),Dt=Ae[at-It],et=ut(tt,et,Ee[Dt]>>3),et-=3;var Fr=Dt<4?0:Dt-2>>1;Fr>0&&(Et(tt,et,at-It-we[Dt]),et+=Fr);for(var mn=0;mn<br;++mn)Tt[Ht]=at&32767,Ht=(Ht<<5^dt[at])&32767,++at;Vt-=br-1}else Dt<=143?Dt=Dt+48:et=He(tt,et,1),et=ut(tt,et,Ee[Dt]),Tt[Ht]=at&32767,++at}et=ut(tt,et,0)-1}return tt.l=(et+7)/8|0,tt.l}return function(tt,et){return tt.length<8?Ie(tt,et):Xe(tt,et)}})();function lt(le){var Ae=wt(50+Math.floor(le.length*1.1)),be=We(le,Ae);return Ae.slice(0,be)}var xt=oe?new Uint16Array(32768):je(32768),Ut=oe?new Uint16Array(32768):je(32768),Kt=oe?new Uint16Array(128):je(128),Ct=1,Mt=1;function Pr(le,Ae){var be=Ye(le,Ae)+257;Ae+=5;var Se=Ye(le,Ae)+1;Ae+=5;var Pe=pe(le,Ae)+4;Ae+=4;for(var Ie=0,Xe=oe?new Uint8Array(19):je(19),dt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],tt=1,et=oe?new Uint8Array(8):je(8),at=oe?new Uint8Array(8):je(8),Tt=Xe.length,Vt=0;Vt<Pe;++Vt)Xe[J[Vt]]=Ie=Re(le,Ae),tt<Ie&&(tt=Ie),et[Ie]++,Ae+=3;var Ht=0;for(et[0]=0,Vt=1;Vt<=tt;++Vt)at[Vt]=Ht=Ht+et[Vt-1]<<1;for(Vt=0;Vt<Tt;++Vt)(Ht=Xe[Vt])!=0&&(dt[Vt]=at[Ht]++);var Dt=0;for(Vt=0;Vt<Tt;++Vt)if(Dt=Xe[Vt],Dt!=0){Ht=Ee[dt[Vt]]>>8-Dt;for(var It=(1<<7-Dt)-1;It>=0;--It)Kt[Ht|It<<Dt]=Dt&7|Vt<<3}var br=[];for(tt=1;br.length<be+Se;)switch(Ht=Kt[ze(le,Ae)],Ae+=Ht&7,Ht>>>=3){case 16:for(Ie=3+_e(le,Ae),Ae+=2,Ht=br[br.length-1];Ie-- >0;)br.push(Ht);break;case 17:for(Ie=3+Re(le,Ae),Ae+=3;Ie-- >0;)br.push(0);break;case 18:for(Ie=11+ze(le,Ae),Ae+=7;Ie-- >0;)br.push(0);break;default:br.push(Ht),tt<Ht&&(tt=Ht);break}var qr=br.slice(0,be),Fr=br.slice(be);for(Vt=be;Vt<286;++Vt)qr[Vt]=0;for(Vt=Se;Vt<30;++Vt)Fr[Vt]=0;return Ct=Ke(qr,xt,286),Mt=Ke(Fr,Ut,30),Ae}function Zt(le,Ae){if(le[0]==3&&!(le[1]&3))return[Kf(Ae),2];for(var be=0,Se=0,Pe=uC(Ae||1<<18),Ie=0,Xe=Pe.length>>>0,dt=0,tt=0;(Se&1)==0;){if(Se=Re(le,be),be+=3,Se>>>1)Se>>1==1?(dt=9,tt=5):(be=Pr(le,be),dt=Ct,tt=Mt);else{be&7&&(be+=8-(be&7));var et=le[be>>>3]|le[(be>>>3)+1]<<8;if(be+=32,et>0)for(!Ae&&Xe<Ie+et&&(Pe=St(Pe,Ie+et),Xe=Pe.length);et-- >0;)Pe[Ie++]=le[be>>>3],be+=8;continue}for(;;){!Ae&&Xe<Ie+32767&&(Pe=St(Pe,Ie+32767),Xe=Pe.length);var at=ot(le,be,dt),Tt=Se>>>1==1?Qe[at]:xt[at];if(be+=Tt&15,Tt>>>=4,(Tt>>>8&255)===0)Pe[Ie++]=Tt;else{if(Tt==256)break;Tt-=257;var Vt=Tt<8?0:Tt-4>>2;Vt>5&&(Vt=0);var Ht=Ie+ce[Tt];Vt>0&&(Ht+=ot(le,be,Vt),be+=Vt),at=ot(le,be,tt),Tt=Se>>>1==1?ae[at]:Ut[at],be+=Tt&15,Tt>>>=4;var Dt=Tt<4?0:Tt-2>>1,It=we[Tt];for(Dt>0&&(It+=ot(le,be,Dt),be+=Dt),!Ae&&Xe<Ht&&(Pe=St(Pe,Ht+100),Xe=Pe.length);Ie<Ht;)Pe[Ie]=Pe[Ie-It],++Ie}}}return Ae?[Pe,be+7>>>3]:[Pe.slice(0,Ie),be+7>>>3]}function wr(le,Ae){var be=le.slice(le.l||0),Se=Zt(be,Ae);return le.l+=Se[1],Se[0]}function _r(le,Ae){if(le)typeof console<"u"&&console.error(Ae);else throw new Error(Ae)}function Pn(le,Ae){var be=le;Ja(be,0);var Se=[],Pe=[],Ie={FileIndex:Se,FullPaths:Pe};j(Ie,{root:Ae.root});for(var Xe=be.length-4;(be[Xe]!=80||be[Xe+1]!=75||be[Xe+2]!=5||be[Xe+3]!=6)&&Xe>=0;)--Xe;be.l=Xe+4,be.l+=4;var dt=be.read_shift(2);be.l+=6;var tt=be.read_shift(4);for(be.l=tt,Xe=0;Xe<dt;++Xe){be.l+=20;var et=be.read_shift(4),at=be.read_shift(4),Tt=be.read_shift(2),Vt=be.read_shift(2),Ht=be.read_shift(2);be.l+=8;var Dt=be.read_shift(4),It=o(be.slice(be.l+Tt,be.l+Tt+Vt));be.l+=Tt+Vt+Ht;var br=be.l;be.l=Dt+4,pn(be,et,at,Ie,It),be.l=br}return Ie}function pn(le,Ae,be,Se,Pe){le.l+=2;var Ie=le.read_shift(2),Xe=le.read_shift(2),dt=a(le);if(Ie&8257)throw new Error("Unsupported ZIP encryption");for(var tt=le.read_shift(4),et=le.read_shift(4),at=le.read_shift(4),Tt=le.read_shift(2),Vt=le.read_shift(2),Ht="",Dt=0;Dt<Tt;++Dt)Ht+=String.fromCharCode(le[le.l++]);if(Vt){var It=o(le.slice(le.l,le.l+Vt));(It[21589]||{}).mt&&(dt=It[21589].mt),((Pe||{})[21589]||{}).mt&&(dt=Pe[21589].mt)}le.l+=Vt;var br=le.slice(le.l,le.l+et);switch(Xe){case 8:br=z(le,at);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Xe)}var qr=!1;Ie&8&&(tt=le.read_shift(4),tt==134695760&&(tt=le.read_shift(4),qr=!0),et=le.read_shift(4),at=le.read_shift(4)),et!=Ae&&_r(qr,"Bad compressed size: "+Ae+" != "+et),at!=be&&_r(qr,"Bad uncompressed size: "+be+" != "+at),Bn(Se,Ht,br,{unsafe:!0,mt:dt})}function $r(le,Ae){var be=Ae||{},Se=[],Pe=[],Ie=wt(1),Xe=be.compression?8:0,dt=0,tt=0,et=0,at=0,Tt=0,Vt=le.FullPaths[0],Ht=Vt,Dt=le.FileIndex[0],It=[],br=0;for(tt=1;tt<le.FullPaths.length;++tt)if(Ht=le.FullPaths[tt].slice(Vt.length),Dt=le.FileIndex[tt],!(!Dt.size||!Dt.content||Ht=="Sh33tJ5")){var qr=at,Fr=wt(Ht.length);for(et=0;et<Ht.length;++et)Fr.write_shift(1,Ht.charCodeAt(et)&127);Fr=Fr.slice(0,Fr.l),It[Tt]=_te.buf(Dt.content,0);var mn=Dt.content;Xe==8&&(mn=X(mn)),Ie=wt(30),Ie.write_shift(4,67324752),Ie.write_shift(2,20),Ie.write_shift(2,dt),Ie.write_shift(2,Xe),Dt.mt?s(Ie,Dt.mt):Ie.write_shift(4,0),Ie.write_shift(-4,It[Tt]),Ie.write_shift(4,mn.length),Ie.write_shift(4,Dt.content.length),Ie.write_shift(2,Fr.length),Ie.write_shift(2,0),at+=Ie.length,Se.push(Ie),at+=Fr.length,Se.push(Fr),at+=mn.length,Se.push(mn),Ie=wt(46),Ie.write_shift(4,33639248),Ie.write_shift(2,0),Ie.write_shift(2,20),Ie.write_shift(2,dt),Ie.write_shift(2,Xe),Ie.write_shift(4,0),Ie.write_shift(-4,It[Tt]),Ie.write_shift(4,mn.length),Ie.write_shift(4,Dt.content.length),Ie.write_shift(2,Fr.length),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(4,0),Ie.write_shift(4,qr),br+=Ie.l,Pe.push(Ie),br+=Fr.length,Pe.push(Fr),++Tt}return Ie=wt(22),Ie.write_shift(4,101010256),Ie.write_shift(2,0),Ie.write_shift(2,0),Ie.write_shift(2,Tt),Ie.write_shift(2,Tt),Ie.write_shift(4,br),Ie.write_shift(4,at),Ie.write_shift(2,0),ja([ja(Se),ja(Pe),Ie])}var cr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Wr(le,Ae){if(le.ctype)return le.ctype;var be=le.name||"",Se=be.match(/\.([^\.]+)$/);return Se&&cr[Se[1]]||Ae&&(Se=(be=Ae).match(/[\.\\]([^\.\\])+$/),Se&&cr[Se[1]])?cr[Se[1]]:"application/octet-stream"}function na(le){for(var Ae=s2(le),be=[],Se=0;Se<Ae.length;Se+=76)be.push(Ae.slice(Se,Se+76));return be.join(`\r
`)+`\r
`}function li(le){var Ae=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(et){var at=et.charCodeAt(0).toString(16).toUpperCase();return"="+(at.length==1?"0"+at:at)});Ae=Ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Ae.charAt(0)==`
`&&(Ae="=0D"+Ae.slice(1)),Ae=Ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var be=[],Se=Ae.split(`\r
`),Pe=0;Pe<Se.length;++Pe){var Ie=Se[Pe];if(Ie.length==0){be.push("");continue}for(var Xe=0;Xe<Ie.length;){var dt=76,tt=Ie.slice(Xe,Xe+dt);tt.charAt(dt-1)=="="?dt--:tt.charAt(dt-2)=="="?dt-=2:tt.charAt(dt-3)=="="&&(dt-=3),tt=Ie.slice(Xe,Xe+dt),Xe+=dt,Xe<Ie.length&&(tt+="="),be.push(tt)}}return be.join(`\r
`)}function Ss(le){for(var Ae=[],be=0;be<le.length;++be){for(var Se=le[be];be<=le.length&&Se.charAt(Se.length-1)=="=";)Se=Se.slice(0,Se.length-1)+le[++be];Ae.push(Se)}for(var Pe=0;Pe<Ae.length;++Pe)Ae[Pe]=Ae[Pe].replace(/[=][0-9A-Fa-f]{2}/g,function(Ie){return String.fromCharCode(parseInt(Ie.slice(1),16))});return Pl(Ae.join(`\r
`))}function ci(le,Ae,be){for(var Se="",Pe="",Ie="",Xe,dt=0;dt<10;++dt){var tt=Ae[dt];if(!tt||tt.match(/^\s*$/))break;var et=tt.match(/^(.*?):\s*([^\s].*)$/);if(et)switch(et[1].toLowerCase()){case"content-location":Se=et[2].trim();break;case"content-type":Ie=et[2].trim();break;case"content-transfer-encoding":Pe=et[2].trim();break}}switch(++dt,Pe.toLowerCase()){case"base64":Xe=Pl(Vl(Ae.slice(dt).join("")));break;case"quoted-printable":Xe=Ss(Ae.slice(dt));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Pe)}var at=Bn(le,Se.slice(be.length),Xe,{unsafe:!0});Ie&&(at.ctype=Ie)}function gr(le,Ae){if(Y(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var be=Ae&&Ae.root||"",Se=(ln&&Buffer.isBuffer(le)?le.toString("binary"):Y(le)).split(`\r
`),Pe=0,Ie="";for(Pe=0;Pe<Se.length;++Pe)if(Ie=Se[Pe],!!/^Content-Location:/i.test(Ie)&&(Ie=Ie.slice(Ie.indexOf("file")),be||(be=Ie.slice(0,Ie.lastIndexOf("/")+1)),Ie.slice(0,be.length)!=be))for(;be.length>0&&(be=be.slice(0,be.length-1),be=be.slice(0,be.lastIndexOf("/")+1),Ie.slice(0,be.length)!=be););var Xe=(Se[1]||"").match(/boundary="(.*?)"/);if(!Xe)throw new Error("MAD cannot find boundary");var dt="--"+(Xe[1]||""),tt=[],et=[],at={FileIndex:tt,FullPaths:et};j(at);var Tt,Vt=0;for(Pe=0;Pe<Se.length;++Pe){var Ht=Se[Pe];Ht!==dt&&Ht!==dt+"--"||(Vt++&&ci(at,Se.slice(Tt,Pe),be),Tt=Pe)}return at}function wn(le,Ae){var be=Ae||{},Se=be.boundary||"SheetJS";Se="------="+Se;for(var Pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Se.slice(2)+'"',"","",""],Ie=le.FullPaths[0],Xe=Ie,dt=le.FileIndex[0],tt=1;tt<le.FullPaths.length;++tt)if(Xe=le.FullPaths[tt].slice(Ie.length),dt=le.FileIndex[tt],!(!dt.size||!dt.content||Xe=="Sh33tJ5")){Xe=Xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(br){return"_x"+br.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(br){return"_u"+br.charCodeAt(0).toString(16)+"_"});for(var et=dt.content,at=ln&&Buffer.isBuffer(et)?et.toString("binary"):Y(et),Tt=0,Vt=Math.min(1024,at.length),Ht=0,Dt=0;Dt<=Vt;++Dt)(Ht=at.charCodeAt(Dt))>=32&&Ht<128&&++Tt;var It=Tt>=Vt*4/5;Pe.push(Se),Pe.push("Content-Location: "+(be.root||"file:///C:/SheetJS/")+Xe),Pe.push("Content-Transfer-Encoding: "+(It?"quoted-printable":"base64")),Pe.push("Content-Type: "+Wr(dt,Xe)),Pe.push(""),Pe.push(It?li(at):na(at))}return Pe.push(Se+`--\r
`),Pe.join(`\r
`)}function Es(le){var Ae={};return j(Ae,le),Ae}function Bn(le,Ae,be,Se){var Pe=Se&&Se.unsafe;Pe||j(le);var Ie=!Pe&&Sr.find(le,Ae);if(!Ie){var Xe=le.FullPaths[0];Ae.slice(0,Xe.length)==Xe?Xe=Ae:(Xe.slice(-1)!="/"&&(Xe+="/"),Xe=(Xe+Ae).replace("//","/")),Ie={name:i(Ae),type:2},le.FileIndex.push(Ie),le.FullPaths.push(Xe),Pe||Sr.utils.cfb_gc(le)}return Ie.content=be,Ie.size=be?be.length:0,Se&&(Se.CLSID&&(Ie.clsid=Se.CLSID),Se.mt&&(Ie.mt=Se.mt),Se.ct&&(Ie.ct=Se.ct)),Ie}function tn(le,Ae){j(le);var be=Sr.find(le,Ae);if(be){for(var Se=0;Se<le.FileIndex.length;++Se)if(le.FileIndex[Se]==be)return le.FileIndex.splice(Se,1),le.FullPaths.splice(Se,1),!0}return!1}function Sn(le,Ae,be){j(le);var Se=Sr.find(le,Ae);if(Se){for(var Pe=0;Pe<le.FileIndex.length;++Pe)if(le.FileIndex[Pe]==Se)return le.FileIndex[Pe].name=i(be),le.FullPaths[Pe]=be,!0}return!1}function Xn(le){C(le,!0)}return e.find=R,e.read=K,e.parse=d,e.write=ie,e.writeFile=se,e.utils={cfb_new:Es,cfb_add:Bn,cfb_del:tn,cfb_mov:Sn,cfb_gc:Xn,ReadShift:Sg,CheckField:kD,prep_blob:Ja,bconcat:ja,use_zlib:I,_deflateRaw:lt,_inflateRaw:wr,consts:fe},e})();function bte(t){return typeof t=="string"?n4(t):Array.isArray(t)?Kee(t):t}function Z2(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=n4(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?ku(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([bte(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=fh(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function kte(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function bs(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function vC(t,e){for(var r=[],n=bs(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function s4(t){for(var e=[],r=bs(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function a4(t){for(var e=[],r=bs(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function Ste(t){for(var e=[],r=bs(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Qy=new Date(1899,11,30,0,0,0);function ma(t,e){var r=t.getTime(),n=Qy.getTime()+(t.getTimezoneOffset()-Qy.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var rD=new Date,Ete=Qy.getTime()+(rD.getTimezoneOffset()-Qy.getTimezoneOffset())*6e4,yC=rD.getTimezoneOffset();function o4(t){var e=new Date;return e.setTime(t*24*60*60*1e3+Ete),e.getTimezoneOffset()!==yC&&e.setTime(e.getTime()+(e.getTimezoneOffset()-yC)*6e4),e}function Cte(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var wC=new Date("2017-02-19T19:06:09.000Z"),nD=isNaN(wC.getFullYear())?new Date("2/19/17"):wC,Nte=nD.getFullYear()==2017;function Fi(t,e){var r=new Date(t);if(Nte)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(nD.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function P0(t,e){if(ln&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return ku(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return ku(qF(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return ku(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return ku(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Di(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Di(t[r]));return e}function xs(t,e){for(var r="";r.length<e;)r+=t;return r}function $c(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var Tte=["january","february","march","april","may","june","july","august","september","october","november","december"];function O1(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&Tte.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var Ate=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function iD(t){return t?t.content&&t.type?P0(t.content,!0):t.data?cg(t.data):t.asNodeBuffer&&ln?cg(t.asNodeBuffer().toString("binary")):t.asBinary?cg(t.asBinary()):t._data&&t._data.getContent?cg(P0(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function sD(t){if(!t)return null;if(t.data)return lC(t.data);if(t.asNodeBuffer&&ln)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?lC(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Ite(t){return t&&t.name.slice(-4)===".bin"?sD(t):iD(t)}function oc(t,e){for(var r=t.FullPaths||bs(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var a=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function Vk(t,e){var r=oc(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Js(t,e,r){if(!r)return Ite(Vk(t,e));if(!e)return null;try{return Js(t,e)}catch{return null}}function Rl(t,e,r){if(!r)return iD(Vk(t,e));if(!e)return null;try{return Rl(t,e)}catch{return null}}function Pte(t,e,r){return sD(Vk(t,e))}function _C(t){for(var e=t.FullPaths||bs(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Jr(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return ln?n=Ld(r):n=Yee(r),Sr.utils.cfb_add(t,e,n)}Sr.utils.cfb_add(t,e,r)}else t.file(e,r)}function Bk(){return Sr.utils.cfb_new()}function aD(t,e){switch(e.type){case"base64":return Sr.read(t,{type:"base64"});case"binary":return Sr.read(t,{type:"binary"});case"buffer":case"array":return Sr.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function dg(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var zs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Rte=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,bC=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,jte=/<[^>]*>/g,jo=zs.match(bC)?bC:jte,Lte=/<\w*:/,Fte=/<(\/?)\w+:/;function Or(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var a=t.match(Rte),o=0,l="",c=0,d="",p="",g=1;if(a)for(c=0;c!=a.length;++c){for(p=a[c],s=0;s!=p.length&&p.charCodeAt(s)!==61;++s);for(d=p.slice(0,s).trim();p.charCodeAt(s+1)==32;)++s;for(g=(i=p.charCodeAt(s+1))==34||i==39?1:0,l=p.slice(s+1+g,p.length-g),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var m=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[m]&&d.slice(o-3,o)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function Vu(t){return t.replace(Fte,"<$1")}var oD={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Uk=s4(oD),Mn=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return oD[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,a)+r(i.slice(a+3))}})(),zk=/[&<>'"]/g,Dte=/[\u0000-\u0008\u000b-\u001f]/g;function ai(t){var e=t+"";return e.replace(zk,function(r){return Uk[r]}).replace(Dte,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function kC(t){return ai(t).replace(/ /g,"_x0020_")}var lD=/[\u0000-\u001f]/g;function $k(t){var e=t+"";return e.replace(zk,function(r){return Uk[r]}).replace(/\n/g,"<br/>").replace(lD,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Ote(t){var e=t+"";return e.replace(zk,function(r){return Uk[r]}).replace(lD,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var SC=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function Mte(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Pi(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Hw(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function EC(t){var e=Kf(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function CC(t){return Ld(t,"binary").toString("utf8")}var hv="foo bar bazâð£",pi=ln&&(CC(hv)==Hw(hv)&&CC||EC(hv)==Hw(hv)&&EC)||Hw,ku=ln?function(t){return Ld(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},o2=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),cD=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),Vte=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Bte=/<\/?(?:vt:)?variant>/g,Ute=/<(?:vt:)([^>]*)>([\s\S]*)</;function NC(t,e){var r=Or(t),n=t.match(Vte(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var a=s.replace(Bte,"").match(Ute);a&&i.push({v:pi(a[2]),t:a[1]})}),i}var uD=/(^\s|\s$|\n)/;function eo(t,e){return"<"+t+(e.match(uD)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function l2(t){return bs(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function $t(t,e,r){return"<"+t+(r!=null?l2(r):"")+(e!=null?(e.match(uD)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function G_(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function zte(t,e){switch(typeof t){case"string":var r=$t("vt:lpwstr",ai(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return $t((t|0)==t?"vt:i4":"vt:r8",ai(String(t)));case"boolean":return $t("vt:bool",t?"true":"false")}if(t instanceof Date)return $t("vt:filetime",G_(t));throw new Error("Unable to serialize "+t)}function qk(t){if(ln&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return pi(fh(Dk(t)));throw new Error("Bad input format: expected Buffer or string")}var c2=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,fa={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Y0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Al={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $te(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function qte(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var TC=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},AC=ln?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ld(e)})):TC(t)}:TC,IC=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(dd(t,i)));return n.join("").replace(Wo,"")},Hk=ln?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Wo,""):IC(t,e,r)}:IC,PC=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},dD=ln?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):PC(t,e,r)}:PC,RC=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode($p(t,i)));return n.join("")},ex=ln?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):RC(e,r,n)}:RC,fD=function(t,e){var r=Il(t,e);return r>0?ex(t,e+4,e+4+r-1):""},hD=fD,pD=function(t,e){var r=Il(t,e);return r>0?ex(t,e+4,e+4+r-1):""},mD=pD,gD=function(t,e){var r=2*Il(t,e);return r>0?ex(t,e+4,e+4+r-1):""},xD=gD,vD=function(e,r){var n=Il(e,r);return n>0?Hk(e,r+4,r+4+n):""},yD=vD,wD=function(t,e){var r=Il(t,e);return r>0?ex(t,e+4,e+4+r):""},_D=wD,bD=function(t,e){return $te(t,e)},Jy=bD,Wk=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ln&&(hD=function(e,r){if(!Buffer.isBuffer(e))return fD(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},mD=function(e,r){if(!Buffer.isBuffer(e))return pD(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},xD=function(e,r){if(!Buffer.isBuffer(e))return gD(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},yD=function(e,r){if(!Buffer.isBuffer(e))return vD(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},_D=function(e,r){if(!Buffer.isBuffer(e))return wD(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Jy=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):bD(e,r)},Wk=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var $p=function(t,e){return t[e]},dd=function(t,e){return t[e+1]*256+t[e]},Hte=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Il=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Yh=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Wte=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Sg(t,e){var r="",n,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,ln&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(dd(this,c)),c+=2;t*=2;break;case"utf8":r=ex(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Hk(this,this.l,this.l+t);break;case"wstr":return Sg.call(this,t,"dbcs");case"lpstr-ansi":r=hD(this,this.l),t=4+Il(this,this.l);break;case"lpstr-cp":r=mD(this,this.l),t=4+Il(this,this.l);break;case"lpwstr":r=xD(this,this.l),t=4+2*Il(this,this.l);break;case"lpp4":t=4+Il(this,this.l),r=yD(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Il(this,this.l),r=_D(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=$p(this,this.l+t++))!==0;)s.push(fv(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=dd(this,this.l+t))!==0;)s.push(fv(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=$p(this,c),this.l=c+1,o=Sg.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(fv(dd(this,c))),c+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=$p(this,c),this.l=c+1,o=Sg.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(fv($p(this,c))),c+=1}r=s.join("");break;default:switch(t){case 1:return n=$p(this,this.l),this.l++,n;case 2:return n=(e==="i"?Hte:dd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?Yh:Wte)(this,this.l),this.l+=4,n):(i=Il(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Jy(this,this.l):i=Jy([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=dD(this,this.l,t);break}}return this.l+=t,r}var Gte=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},Kte=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},Yte=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function Xte(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)Yte(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,Gte(this,e,this.l);break;case 8:if(n=8,r==="f"){qte(this,e,this.l);break}case 16:break;case-4:n=4,Kte(this,e,this.l);break}return this.l+=n,this}function kD(t,e){var r=dD(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ja(t,e){t.l=e,t.read_shift=Sg,t.chk=kD,t.write_shift=Xte}function Ro(t,e){t.l+=e}function wt(t){var e=Kf(t);return Ja(e,0),e}function Fd(t,e,r){if(t){var n,i,s;Ja(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var c=m2[o]||m2[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;l=t.l+s;var d=c.f&&c.f(t,s,r);if(t.l=l,e(d,c,o))return}}}function ul(){var t=[],e=ln?256:2048,r=function(c){var d=wt(c);return Ja(d,0),d},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},a=function(){return i(),ja(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function At(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=m2[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Wk(r)&&t.push(r)}}function Eg(t,e,r){var n=Di(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function jC(t,e,r){var n=Di(t);return n.s=Eg(n.s,e.s,r),n.e=Eg(n.e,e.s,r),n}function Cg(t,e){if(t.cRel&&t.c<0)for(t=Di(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Di(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Lr(t);return!t.cRel&&t.cRel!=null&&(r=Zte(r)),!t.rRel&&t.rRel!=null&&(r=Qte(r)),r}function Ww(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ss(t.s.c)+":"+(t.e.cRel?"":"$")+ss(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Bs(t.s.r)+":"+(t.e.rRel?"":"$")+Bs(t.e.r):Cg(t.s,e.biff)+":"+Cg(t.e,e.biff)}function Gk(t){return parseInt(Jte(t),10)-1}function Bs(t){return""+(t+1)}function Qte(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Jte(t){return t.replace(/\$(\d+)$/,"$1")}function Kk(t){for(var e=ere(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function ss(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Zte(t){return t.replace(/^([A-Z])/,"$$$1")}function ere(t){return t.replace(/^\$([A-Z])/,"$1")}function tre(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function as(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Lr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function dl(t){var e=t.indexOf(":");return e==-1?{s:as(t),e:as(t)}:{s:as(t.slice(0,e)),e:as(t.slice(e+1))}}function Xr(t,e){return typeof e>"u"||typeof e=="number"?Xr(t.s,t.e):(typeof t!="string"&&(t=Lr(t)),typeof e!="string"&&(e=Lr(e)),t==e?t:t+":"+e)}function Vn(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function LC(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=pc(t.z,r?ma(e):e)}catch{}try{return t.w=pc((t.XF||{}).numFmtId||(r?14:0),r?ma(e):e)}catch{return""+e}}function Sd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Dd[t.v]||t.v:e==null?LC(t,t.v):LC(t,e))}function hh(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function SD(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?as(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Vn(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),a==-1&&(c.e.r=a=d.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var m={v:e[p][g]},y=a+p,w=o+g;if(c.s.r>y&&(c.s.r=y),c.s.c>w&&(c.s.c=w),c.e.r<y&&(c.e.r=y),c.e.c<w&&(c.e.c=w),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))m=e[p][g];else if(Array.isArray(m.v)&&(m.f=e[p][g][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Ir[14],n.cellDates?(m.t="d",m.w=pc(m.z,ma(m.v))):(m.t="n",m.v=ma(m.v),m.w=pc(m.z,m.v))):m.t="s";if(i)s[y]||(s[y]=[]),s[y][w]&&s[y][w].z&&(m.z=s[y][w].z),s[y][w]=m;else{var _=Lr({c:w,r:y});s[_]&&s[_].z&&(m.z=s[_].z),s[_]=m}}}return c.s.c<1e7&&(s["!ref"]=Xr(c)),s}function sm(t,e){return SD(null,t,e)}function rre(t){return t.read_shift(4,"i")}function qc(t,e){return e||(e=wt(4)),e.write_shift(4,t),e}function Po(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function La(t,e){var r=!1;return e==null&&(r=!0,e=wt(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function nre(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function ire(t,e){return e||(e=wt(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Yk(t,e){var r=t.l,n=t.read_shift(1),i=Po(t),s=[],a={t:i,h:i};if((n&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(nre(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function sre(t,e){var r=!1;return e==null&&(r=!0,e=wt(15+4*t.t.length)),e.write_shift(1,0),La(t.t,e),r?e.slice(0,e.l):e}var are=Yk;function ore(t,e){var r=!1;return e==null&&(r=!0,e=wt(23+4*t.t.length)),e.write_shift(1,1),La(t.t,e),e.write_shift(4,1),ire({},e),r?e.slice(0,e.l):e}function gc(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function X0(t,e){return e==null&&(e=wt(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Q0(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function J0(t,e){return e==null&&(e=wt(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var lre=Po,ED=La;function Xk(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Zy(t,e){var r=!1;return e==null&&(r=!0,e=wt(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var cre=Po,K_=Xk,Qk=Zy;function Jk(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Jy([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Yh(e,0)>>2;return r?i/100:i}function CD(t,e){e==null&&(e=wt(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function ND(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function ure(t,e){return e||(e=wt(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Z0=ND,am=ure;function No(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function R0(t,e){return(e||wt(8)).write_shift(8,t,"f")}function dre(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=l0[i];c&&(e.rgb=d2(c));break;case 2:e.rgb=d2([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function e5(t,e){if(e||(e=wt(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function fre(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function hre(t,e){e||(e=wt(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function TD(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function pre(t){return TD(t,1)}function mre(t){return TD(t,2)}var Zk=2,il=3,pv=11,FC=12,t5=19,mv=64,gre=65,xre=71,vre=4108,yre=4126,Aa=80,AD=81,wre=[Aa,AD],Y_={1:{n:"CodePage",t:Zk},2:{n:"Category",t:Aa},3:{n:"PresentationFormat",t:Aa},4:{n:"ByteCount",t:il},5:{n:"LineCount",t:il},6:{n:"ParagraphCount",t:il},7:{n:"SlideCount",t:il},8:{n:"NoteCount",t:il},9:{n:"HiddenCount",t:il},10:{n:"MultimediaClipCount",t:il},11:{n:"ScaleCrop",t:pv},12:{n:"HeadingPairs",t:vre},13:{n:"TitlesOfParts",t:yre},14:{n:"Manager",t:Aa},15:{n:"Company",t:Aa},16:{n:"LinksUpToDate",t:pv},17:{n:"CharacterCount",t:il},19:{n:"SharedDoc",t:pv},22:{n:"HyperlinksChanged",t:pv},23:{n:"AppVersion",t:il,p:"version"},24:{n:"DigSig",t:gre},26:{n:"ContentType",t:Aa},27:{n:"ContentStatus",t:Aa},28:{n:"Language",t:Aa},29:{n:"Version",t:Aa},255:{},2147483648:{n:"Locale",t:t5},2147483651:{n:"Behavior",t:t5},1919054434:{}},X_={1:{n:"CodePage",t:Zk},2:{n:"Title",t:Aa},3:{n:"Subject",t:Aa},4:{n:"Author",t:Aa},5:{n:"Keywords",t:Aa},6:{n:"Comments",t:Aa},7:{n:"Template",t:Aa},8:{n:"LastAuthor",t:Aa},9:{n:"RevNumber",t:Aa},10:{n:"EditTime",t:mv},11:{n:"LastPrinted",t:mv},12:{n:"CreatedDate",t:mv},13:{n:"ModifiedDate",t:mv},14:{n:"PageCount",t:il},15:{n:"WordCount",t:il},16:{n:"CharCount",t:il},17:{n:"Thumbnail",t:xre},18:{n:"Application",t:Aa},19:{n:"DocSecurity",t:il},255:{},2147483648:{n:"Locale",t:t5},2147483651:{n:"Behavior",t:t5},1919054434:{}},DC={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},_re=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function bre(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var kre=bre([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),l0=Di(kre),Dd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ID={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Q_={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},gv={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function e8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Sre(t){var e=e8();if(!t||!t.match)return e;var r={};if((t.match(jo)||[]).forEach(function(n){var i=Or(n);switch(i[0].replace(Lte,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[Q_[i.ContentType]]!==void 0&&e[Q_[i.ContentType]].push(i.PartName);break}}),e.xmlns!==fa.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function PD(t,e){var r=Ste(Q_),n=[],i;n[n.length]=zs,n[n.length]=$t("Types",null,{xmlns:fa.CT,"xmlns:xsd":fa.xsd,"xmlns:xsi":fa.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return $t("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=$t("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:gv[l][e.bookType]||gv[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){n[n.length]=$t("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:gv[l][e.bookType]||gv[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=$t("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var fn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function u2(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Ng(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(jo)||[]).forEach(function(i){var s=Or(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:dg(s.Target,e);r[o]=a,n[s.Id]=a}}),r["!id"]=n,r}function c1(t){var e=[zs,$t("Relationships",null,{xmlns:fa.RELS})];return bs(t["!id"]).forEach(function(r){e[e.length]=$t("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function ni(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[fn.HLINK,fn.XPATH,fn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var Ere="application/vnd.oasis.opendocument.spreadsheet";function Cre(t,e){for(var r=qk(t),n,i;n=c2.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Or(n[0],!1),i.path=="/"&&i.type!==Ere)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function Nre(t){var e=[zs];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function OC(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function Tre(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function Are(t){var e=[zs];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(OC(t[r][0],t[r][1])),e.push(Tre("",t[r][0]));return e.push(OC("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function RD(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Gy.version+"</meta:generator></office:meta></office:document-meta>"}var dc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Ire=(function(){for(var t=new Array(dc.length),e=0;e<dc.length;++e){var r=dc[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function jD(t){var e={};t=pi(t);for(var r=0;r<dc.length;++r){var n=dc[r],i=t.match(Ire[r]);i!=null&&i.length>0&&(e[n[1]]=Mn(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Fi(e[n[1]]))}return e}function Gw(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=ai(e),n[n.length]=r?$t(t,e,r):eo(t,e))}function LD(t,e){var r=e||{},n=[zs,$t("cp:coreProperties",null,{"xmlns:cp":fa.CORE_PROPS,"xmlns:dc":fa.dc,"xmlns:dcterms":fa.dcterms,"xmlns:dcmitype":fa.dcmitype,"xmlns:xsi":fa.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&Gw("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:G_(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&Gw("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:G_(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=dc.length;++s){var a=dc[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Gw(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var c0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],FD=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function DD(t,e,r,n){var i=[];if(typeof t=="string")i=NC(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(d){return{v:d}}));var a=typeof e=="string"?NC(e,n).map(function(d){return d.v}):e,o=0,l=0;if(a.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=a.slice(o,o+l);break}o+=l}}function Pre(t,e,r){var n={};return e||(e={}),t=pi(t),c0.forEach(function(i){var s=(t.match(o2(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Mn(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&DD(n.HeadingPairs,n.TitlesOfParts,e,r),e}function OD(t){var e=[],r=$t;return t||(t={}),t.Application="SheetJS",e[e.length]=zs,e[e.length]=$t("Properties",null,{xmlns:fa.EXT_PROPS,"xmlns:vt":fa.vt}),c0.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=ai(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+ai(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Rre=/<[^>]+>[^<]*/g;function jre(t,e){var r={},n="",i=t.match(Rre);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Or(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Mn(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Mn(d);break;case"bool":r[n]=Pi(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Fi(d);break;case"cy":case"error":r[n]=Mn(d);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,c,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return r}function MD(t){var e=[zs,$t("Properties",null,{xmlns:fa.CUST_PROPS,"xmlns:vt":fa.vt})];if(!t)return e.join("");var r=1;return bs(t).forEach(function(i){++r,e[e.length]=$t("property",zte(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ai(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var J_={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Kw;function Lre(t,e,r){Kw||(Kw=s4(J_)),e=Kw[e]||e,t[e]=r}function Fre(t,e){var r=[];return bs(J_).map(function(n){for(var i=0;i<dc.length;++i)if(dc[i][1]==n)return dc[i];for(i=0;i<c0.length;++i)if(c0[i][1]==n)return c0[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(eo(J_[n[1]]||n[1],i))}}),$t("DocumentProperties",r.join(""),{xmlns:Al.o})}function Dre(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&bs(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<dc.length;++a)if(s==dc[a][1])return;for(a=0;a<c0.length;++a)if(s==c0[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push($t(kC(s),o,{"dt:dt":l}))}}),e&&bs(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push($t(kC(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Al.o+'">'+i.join("")+"</"+n+">"}function t8(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Ore(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=wt(8);return a.write_shift(4,n),a.write_shift(4,i),a}function VD(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function BD(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function UD(t,e,r){return e===31?BD(t):VD(t,e,r)}function Z_(t,e,r){return UD(t,e,r===!1?0:4)}function Mre(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return UD(t,e,0)}function Vre(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Wo,""),t.l-i&2&&(t.l+=2)}return r}function Bre(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Wo,"");return r}function Ure(t){var e=t.l,r=r5(t,AD);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=r5(t,il);return[r,n]}function zre(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(Ure(t));return r}function MC(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),a=t.read_shift(4);n[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Wo,"").replace(ug,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function zD(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function $re(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function r5(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==FC&&n!==e&&wre.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===FC?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return VD(t,n,4).replace(Wo,"");case 31:return BD(t);case 64:return t8(t);case 65:return zD(t);case 71:return $re(t);case 80:return Z_(t,n,!s.raw).replace(Wo,"");case 81:return Mre(t,n).replace(Wo,"");case 4108:return zre(t);case 4126:case 4127:return n==4127?Vre(t):Bre(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function VC(t,e){var r=wt(4),n=wt(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=wt(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=Ore(e);break;case 31:case 80:for(n=wt(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ja([r,n])}function BC(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,c={};for(a=0;a!=i;++a){var d=t.read_shift(4),p=t.read_shift(4);s[a]=[d,p+r]}s.sort(function(P,A){return P[1]-A[1]});var g={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var m=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,m=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],m=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],m=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(m=!1,t.l=s[a][1]),m)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var y=e[s[a][0]];if(g[y.n]=r5(t,y.t,{raw:!0}),y.p==="version"&&(g[y.n]=String(g[y.n]>>16)+"."+("0000"+String(g[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(g[y.n]){case 0:g[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Oc(o=g[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[y.n])}}else if(s[a][0]===1){if(o=g.CodePage=r5(t,Zk),Oc(o),l!==-1){var w=t.l;t.l=s[l][1],c=MC(t,o),t.l=w}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}c=MC(t,o)}else{var _=c[s[a][0]],S;switch(t[t.l]){case 65:t.l+=4,S=zD(t);break;case 30:t.l+=4,S=Z_(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,S=Z_(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,S=t.read_shift(4,"i");break;case 19:t.l+=4,S=t.read_shift(4);break;case 5:t.l+=4,S=t.read_shift(8,"f");break;case 11:t.l+=4,S=Rs(t,4);break;case 64:t.l+=4,S=Fi(t8(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[_]=S}}return t.l=r+n,g}var $D=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function qre(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function UC(t,e,r){var n=wt(8),i=[],s=[],a=8,o=0,l=wt(8),c=wt(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=wt(8),c.write_shift(4,0),i.unshift(c);var d=[wt(4)];for(d[0].write_shift(4,t.length),o=0;o<t.length;++o){var p=t[o][0];for(l=wt(8+2*(p.length+1)+(p.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,p.length+1),l.write_shift(0,p,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=ja(d),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!($D.indexOf(t[o][0])>-1||FD.indexOf(t[o][0])>-1)&&t[o][1]!=null){var g=t[o][1],m=0;if(e){m=+e[t[o][0]];var y=r[m];if(y.p=="version"&&typeof g=="string"){var w=g.split(".");g=(+w[0]<<16)+(+w[1]||0)}l=VC(y.t,g)}else{var _=qre(g);_==-1&&(_=31,g=String(g)),l=VC(_,g)}s.push(l),c=wt(8),c.write_shift(4,e?m:2+o),i.push(c),a+=8+l.length}var S=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,S),S+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),ja([n].concat(i).concat(s))}function zC(t,e,r){var n=t.content;if(!n)return{};Ja(n,0);var i,s,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),d=n.read_shift(16);if(d!==Sr.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),l=n.read_shift(4));var p=BC(n,e),g={SystemIdentifier:c};for(var m in p)g[m]=p[m];if(g.FMTID=s,i===1)return g;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var y;try{y=BC(n,null)}catch{}for(m in y)g[m]=y[m];return g.FMTID=[s,a],g}function $C(t,e,r,n,i,s){var a=wt(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Sr.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=UC(t,r,n);if(o.push(l),i){var c=UC(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return ja(o)}function mf(t,e){return t.read_shift(e),null}function Hre(t,e){e||(e=wt(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function Wre(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function Rs(t,e){return t.read_shift(e)===1}function $o(t,e){return e||(e=wt(2)),e.write_shift(2,+!!t),e}function Zs(t){return t.read_shift(2,"u")}function lc(t,e){return e||(e=wt(2)),e.write_shift(2,t),e}function qD(t,e){return Wre(t,e,Zs)}function Gre(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function HD(t,e,r){return r||(r=wt(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function tx(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function Kre(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),a=0,o,l={};i&&(a=t.read_shift(2)),n&&(o=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*a),n&&(t.l+=o),l.t=d,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Yre(t){var e=t.t||"",r=wt(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=wt(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return ja(i)}function j0(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function rx(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):j0(t,n,r)}function ep(t,e,r){if(r.biff>5)return rx(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function WD(t,e,r){return r||(r=wt(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Xre(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function Qre(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Wo,"");return n&&(t.l+=24),i}function Jre(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Wo,"");return r+a}function Zre(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Qre(t);case"0303000000000000c000000000000046":return Jre(t);default:throw new Error("Unsupported Moniker "+r)}}function xv(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Wo,""):"";return r}function qC(t,e){e||(e=wt(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function ene(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,a,o,l,c="",d,p;i&16&&(s=xv(t,r-t.l)),i&128&&(a=xv(t,r-t.l)),(i&257)===257&&(o=xv(t,r-t.l)),(i&257)===1&&(l=Zre(t,r-t.l)),i&8&&(c=xv(t,r-t.l)),i&32&&(d=t.read_shift(16)),i&64&&(p=t8(t)),t.l=r;var g=a||o||l||"";g&&c&&(g+="#"+c),g||(g="#"+c),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var m={Target:g};return d&&(m.guid=d),p&&(m.time=p),s&&(m.Tooltip=s),m}function tne(t){var e=wt(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),qC(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&qC(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function GD(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function KD(t,e){var r=GD(t);return r[3]=0,r}function Bu(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function L0(t,e,r,n){return n||(n=wt(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function rne(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function nne(t,e,r){return e===0?"":ep(t,e,r)}function ine(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function YD(t){var e=t.read_shift(2),r=Jk(t);return[e,r]}function sne(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=tx(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function l4(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function XD(t,e){return e||(e=wt(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function QD(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var ane=QD;function JD(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function one(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function lne(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function xo(t){t.l+=2,t.l+=t.read_shift(2)}var cne={0:xo,4:xo,5:xo,6:xo,7:lne,8:xo,9:xo,10:xo,11:xo,12:xo,13:one,14:xo,15:xo,16:xo,17:xo,18:xo,19:xo,20:xo,21:JD};function une(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(cne[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function vv(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function r8(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=wt(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function dne(t,e){return e===0||t.read_shift(2),1200}function fne(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=ep(t,0,r);return t.read_shift(e+n-t.l),i}function hne(t,e){var r=!e||e.biff==8,n=wt(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function pne(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function mne(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=tx(t,0,r);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function gne(t,e){var r=!e||e.biff>=8?2:1,n=wt(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function xne(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<r;++a)s.push(Kre(t));return s.Count=n,s.Unique=i,s}function vne(t,e){var r=wt(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=Yre(t[i]);var s=ja([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function yne(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function wne(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function _ne(t){var e=rne(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function bne(t){return t.read_shift(2),t.read_shift(4)}function HC(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function kne(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:c}}function Sne(){var t=wt(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Ene(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function Cne(t){var e=wt(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Nne(){}function Tne(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=tx(t,0,r),n}function Ane(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=wt(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Ine(t){var e=Bu(t);return e.isst=t.read_shift(4),e}function Pne(t,e,r,n){var i=wt(10);return L0(t,e,n,i),i.write_shift(4,r),i}function Rne(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=Bu(t);r.biff==2&&t.l++;var s=rx(t,n-t.l,r);return i.val=s,i}function jne(t,e,r,n,i){var s=!i||i.biff==8,a=wt(8+ +s+(1+s)*r.length);return L0(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function Lne(t,e,r){var n=t.read_shift(2),i=ep(t,0,r);return[n,i]}function Fne(t,e,r,n){var i=r&&r.biff==5;n||(n=wt(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var Dne=ep;function WC(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:s,c:o},e:{r:a,c:l}}}function One(t,e){var r=e.biff==8||!e.biff?4:2,n=wt(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Mne(t){var e=t.read_shift(2),r=t.read_shift(2),n=YD(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function Vne(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(YD(t));if(t.l!==r)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function Bne(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function Une(t,e,r,n){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=_re[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function zne(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=Une(t,e,n.fStyle,r),n}function GC(t,e,r,n){var i=r&&r.biff==5;n||(n=wt(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function $ne(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function qne(t){var e=wt(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function KC(t,e,r){var n=Bu(t);(r.biff==2||e==9)&&++t.l;var i=Gre(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function Hne(t,e,r,n,i,s){var a=wt(8);return L0(t,e,n,a),HD(r,s,a),a}function Wne(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Bu(t),i=No(t);return n.val=i,n}function Gne(t,e,r,n){var i=wt(14);return L0(t,e,n,i),R0(r,i),i}var YC=nne;function Kne(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=j0(t,s),o=[];n>t.l;)o.push(rx(t));return[s,i,a,o]}function XC(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=sne(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var Yne=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function QC(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var c=j0(t,a,r);i&32&&(c=Yne[c.charCodeAt(0)]);var d=n-t.l;r&&r.biff==2&&--d;var p=n==t.l||o===0||!(d>0)?[]:ule(t,d,r,o);return{chKey:s,Name:c,itab:l,rgce:p}}function ZD(t,e,r){if(r.biff<8)return Xne(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(ine(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function Xne(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=tx(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function Qne(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=j0(t,n,r),a=j0(t,i,r);return[s,a]}function Jne(t,e,r){var n=QD(t);t.l++;var i=t.read_shift(1);return e-=8,[dle(t,e,r),i,n]}function JC(t,e,r){var n=ane(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,lle(t,e,r)]}function Zne(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function eie(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=ep(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,a,s]}}function tie(t,e,r){return eie(t,e,r)}function rie(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(l4(t));return r}function nie(t){var e=wt(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)XD(t[r],e);return e}function iie(t,e,r){if(r&&r.biff<8)return aie(t,e,r);var n=JD(t),i=une(t,e-22,n[1]);return{cmo:n,ft:i}}var sie={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function aie(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((sie[n]||Ro)(t,e,r)),{cmo:[i,n,s],ft:a}}function oie(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=Xre(t,6,r);var o=t.read_shift(2);t.read_shift(2),Zs(t,2);var l=t.read_shift(2);t.l+=l;for(var c=1;c<t.lens.length-1;++c){if(t.l-n!=t.lens[c])throw new Error("TxO: bad continue record");var d=t[t.l],p=j0(t,t.lens[c+1]-t.lens[c]-1);if(i+=p,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function lie(t,e){var r=l4(t);t.l+=16;var n=ene(t,e-24);return[r,n]}function cie(t){var e=wt(24),r=as(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return ja([e,tne(t[1])])}function uie(t,e){t.read_shift(2);var r=l4(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Wo,""),[r,n]}function die(t){var e=t[1].Tooltip,r=wt(10+2*(e.length+1));r.write_shift(2,2048);var n=as(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function fie(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=DC[r]||r,r=t.read_shift(2),e[1]=DC[r]||r,e}function hie(t){return t||(t=wt(4)),t.write_shift(2,1),t.write_shift(2,1),t}function pie(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(KD(t));return r}function mie(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(KD(t));return r}function gie(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function eO(t,e,r){if(!r.cellStyles)return Ro(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function xie(t,e){var r=wt(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function vie(t,e){var r={};return e<32||(t.l+=16,r.header=No(t),r.footer=No(t),t.l+=2),r}function yie(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function wie(t){for(var e=wt(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var _ie=Bu,bie=qD,kie=rx;function Sie(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function Eie(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Bu(t);++t.l;var i=ep(t,e-7,r);return n.t="str",n.val=i,n}function Cie(t){var e=Bu(t);++t.l;var r=No(t);return e.t="n",e.val=r,e}function Nie(t,e,r){var n=wt(15);return ax(n,t,e),n.write_shift(8,r,"f"),n}function Tie(t){var e=Bu(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function Aie(t,e,r){var n=wt(9);return ax(n,t,e),n.write_shift(2,r),n}function Iie(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Pie(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Rie(t,e,r){var n=t.l+e,i=Bu(t),s=t.read_shift(2),a=j0(t,s,r);return t.l=n,i.t="str",i.val=a,i}var jie=[2,3,48,49,131,139,140,245],eb=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=s4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],d=Kf(1);switch(l.type){case"base64":d=Pl(Vl(o));break;case"binary":d=Pl(o);break;case"buffer":case"array":d=o;break}Ja(d,0);var p=d.read_shift(1),g=!!(p&136),m=!1,y=!1;switch(p){case 2:break;case 3:break;case 48:m=!0,g=!0;break;case 49:m=!0,g=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,_=521;p==2&&(w=d.read_shift(2)),d.l+=3,p!=2&&(w=d.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(_=d.read_shift(2));var S=d.read_shift(2),P=l.codepage||1252;p!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(P=t[d[d.l]]),d.l+=1,d.l+=2),y&&(d.l+=36);for(var A=[],V={},W=Math.min(d.length,p==2?521:_-10-(m?264:0)),K=y?32:11;d.l<W&&d[d.l]!=13;)switch(V={},V.name=i2.utils.decode(P,d.slice(d.l,d.l+K)).replace(/[\u0000\r\n].*$/g,""),d.l+=K,V.type=String.fromCharCode(d.read_shift(1)),p!=2&&!y&&(V.offset=d.read_shift(4)),V.len=d.read_shift(1),p==2&&(V.offset=d.read_shift(2)),V.dec=d.read_shift(1),V.name.length&&A.push(V),p!=2&&(d.l+=y?13:14),V.type){case"B":(!m||V.len!=8)&&l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+V.type)}if(d[d.l]!==13&&(d.l=_-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=_;var j=0,T=0;for(c[0]=[],T=0;T!=A.length;++T)c[0][T]=A[T].name;for(;w-- >0;){if(d[d.l]===42){d.l+=S;continue}for(++d.l,c[++j]=[],T=0,T=0;T!=A.length;++T){var C=d.slice(d.l,d.l+A[T].len);d.l+=A[T].len,Ja(C,0);var D=i2.utils.decode(P,C);switch(A[T].type){case"C":D.trim().length&&(c[j][T]=D.replace(/\s+$/,""));break;case"D":D.length===8?c[j][T]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):c[j][T]=D;break;case"F":c[j][T]=parseFloat(D.trim());break;case"+":case"I":c[j][T]=y?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":c[j][T]=!0;break;case"N":case"F":c[j][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));c[j][T]="##MEMO##"+(y?parseInt(D.trim(),10):C.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(c[j][T]=+D||0);break;case"@":c[j][T]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":c[j][T]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":c[j][T]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[j][T]=-C.read_shift(-8,"f");break;case"B":if(m&&A[T].len==8){c[j][T]=C.read_shift(8,"f");break}case"G":case"P":C.l+=A[T].len;break;case"0":if(A[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[T].type)}}}if(p!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=A,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=sm(r(o,c),c);return d["!cols"]=c.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete c.DBF,d}function i(o,l){try{return hh(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Oc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=ul(),p=s5(o,{header:1,raw:!0,cellDates:!0}),g=p[0],m=p.slice(1),y=o["!cols"]||[],w=0,_=0,S=0,P=1;for(w=0;w<g.length;++w){if(((y[w]||{}).DBF||{}).name){g[w]=y[w].DBF.name,++S;continue}if(g[w]!=null){if(++S,typeof g[w]=="number"&&(g[w]=g[w].toString(10)),typeof g[w]!="string")throw new Error("DBF Invalid column name "+g[w]+" |"+typeof g[w]+"|");if(g.indexOf(g[w])!==w){for(_=0;_<1024;++_)if(g.indexOf(g[w]+"_"+_)==-1){g[w]+="_"+_;break}}}}var A=Vn(o["!ref"]),V=[],W=[],K=[];for(w=0;w<=A.e.c-A.s.c;++w){var j="",T="",C=0,D=[];for(_=0;_<m.length;++_)m[_][w]!=null&&D.push(m[_][w]);if(D.length==0||g[w]==null){V[w]="?";continue}for(_=0;_<D.length;++_){switch(typeof D[_]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=D[_]instanceof Date?"D":"C";break;default:T="C"}C=Math.max(C,String(D[_]).length),j=j&&j!=T?"C":T}C>250&&(C=250),T=((y[w]||{}).DBF||{}).type,T=="C"&&y[w].DBF.len>C&&(C=y[w].DBF.len),j=="B"&&T=="N"&&(j="N",K[w]=y[w].DBF.dec,C=y[w].DBF.len),W[w]=j=="C"||T=="N"?C:s[j]||0,P+=W[w],V[w]=j}var R=d.next(32);for(R.write_shift(4,318902576),R.write_shift(4,m.length),R.write_shift(2,296+32*S),R.write_shift(2,P),w=0;w<4;++w)R.write_shift(4,0);for(R.write_shift(4,0|(+e[$F]||3)<<8),w=0,_=0;w<g.length;++w)if(g[w]!=null){var F=d.next(32),B=(g[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,B,"sbcs"),F.write_shift(1,V[w]=="?"?"C":V[w],"sbcs"),F.write_shift(4,_),F.write_shift(1,W[w]||s[V[w]]||0),F.write_shift(1,K[w]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),_+=W[w]||s[V[w]]||0}var ee=d.next(264);for(ee.write_shift(4,13),w=0;w<65;++w)ee.write_shift(4,0);for(w=0;w<m.length;++w){var he=d.next(P);for(he.write_shift(1,0),_=0;_<g.length;++_)if(g[_]!=null)switch(V[_]){case"L":he.write_shift(1,m[w][_]==null?63:m[w][_]?84:70);break;case"B":he.write_shift(8,m[w][_]||0,"f");break;case"N":var ve="0";for(typeof m[w][_]=="number"&&(ve=m[w][_].toFixed(K[_]||0)),S=0;S<W[_]-ve.length;++S)he.write_shift(1,32);he.write_shift(1,ve,"sbcs");break;case"D":m[w][_]?(he.write_shift(4,("0000"+m[w][_].getFullYear()).slice(-4),"sbcs"),he.write_shift(2,("00"+(m[w][_].getMonth()+1)).slice(-2),"sbcs"),he.write_shift(2,("00"+m[w][_].getDate()).slice(-2),"sbcs")):he.write_shift(8,"00000000","sbcs");break;case"C":var fe=String(m[w][_]!=null?m[w][_]:"").slice(0,W[_]);for(he.write_shift(1,fe,"sbcs"),S=0;S<W[_]-fe.length;++S)he.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}})(),tO=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+bs(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,m){var y=t[m];return typeof y=="number"?cC(y):y},n=function(g,m,y){var w=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return w==59?g:cC(w)};t["|"]=254;function i(g,m){switch(m.type){case"base64":return s(Vl(g),m);case"binary":return s(g,m);case"buffer":return s(ln&&Buffer.isBuffer(g)?g.toString("binary"):fh(g),m);case"array":return s(P0(g),m)}throw new Error("Unrecognized type "+m.type)}function s(g,m){var y=g.split(/[\n\r]+/),w=-1,_=-1,S=0,P=0,A=[],V=[],W=null,K={},j=[],T=[],C=[],D=0,R;for(+m.codepage>=0&&Oc(+m.codepage);S!==y.length;++S){D=0;var F=y[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),B=F.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),ee=B[0],he;if(F.length>0)switch(ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&V.push(F.slice(3).replace(/;;/g,";"));break;case"C":var ve=!1,fe=!1,se=!1,Y=!1,ie=-1,G=-1;for(P=1;P<B.length;++P)switch(B[P].charAt(0)){case"A":break;case"X":_=parseInt(B[P].slice(1))-1,fe=!0;break;case"Y":for(w=parseInt(B[P].slice(1))-1,fe||(_=0),R=A.length;R<=w;++R)A[R]=[];break;case"K":he=B[P].slice(1),he.charAt(0)==='"'?he=he.slice(1,he.length-1):he==="TRUE"?he=!0:he==="FALSE"?he=!1:isNaN($c(he))?isNaN(O1(he).getDate())||(he=Fi(he)):(he=$c(he),W!==null&&nm(W)&&(he=o4(he))),ve=!0;break;case"E":Y=!0;var I=u1(B[P].slice(1),{r:w,c:_});A[w][_]=[A[w][_],I];break;case"S":se=!0,A[w][_]=[A[w][_],"S5S"];break;case"G":break;case"R":ie=parseInt(B[P].slice(1))-1;break;case"C":G=parseInt(B[P].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}if(ve&&(A[w][_]&&A[w][_].length==2?A[w][_][0]=he:A[w][_]=he,W=null),se){if(Y)throw new Error("SYLK shared formula cannot have own formula");var z=ie>-1&&A[ie][G];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");A[w][_][1]=yO(z[1],{r:w-ie,c:_-G})}break;case"F":var X=0;for(P=1;P<B.length;++P)switch(B[P].charAt(0)){case"X":_=parseInt(B[P].slice(1))-1,++X;break;case"Y":for(w=parseInt(B[P].slice(1))-1,R=A.length;R<=w;++R)A[R]=[];break;case"M":D=parseInt(B[P].slice(1))/20;break;case"F":break;case"G":break;case"P":W=V[parseInt(B[P].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=B[P].slice(1).split(" "),R=parseInt(C[0],10);R<=parseInt(C[1],10);++R)D=parseInt(C[2],10),T[R-1]=D===0?{hidden:!0}:{wch:D},Yf(T[R-1]);break;case"C":_=parseInt(B[P].slice(1))-1,T[_]||(T[_]={});break;case"R":w=parseInt(B[P].slice(1))-1,j[w]||(j[w]={}),D>0?(j[w].hpt=D,j[w].hpx=V1(D)):D===0&&(j[w].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}X<1&&(W=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+F)}}return j.length>0&&(K["!rows"]=j),T.length>0&&(K["!cols"]=T),m&&m.sheetRows&&(A=A.slice(0,m.sheetRows)),[A,K]}function a(g,m){var y=i(g,m),w=y[0],_=y[1],S=sm(w,m);return bs(_).forEach(function(P){S[P]=_[P]}),S}function o(g,m){return hh(a(g,m),m)}function l(g,m,y,w){var _="C;Y"+(y+1)+";X"+(w+1)+";K";switch(g.t){case"n":_+=g.v||0,g.f&&!g.F&&(_+=";E"+l8(g.f,{r:y,c:w}));break;case"b":_+=g.v?"TRUE":"FALSE";break;case"e":_+=g.w||g.v;break;case"d":_+='"'+(g.w||g.v)+'"';break;case"s":_+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function c(g,m){m.forEach(function(y,w){var _="F;W"+(w+1)+" "+(w+1)+" ";y.hidden?_+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=f2(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=h2(y.wpx)),typeof y.wch=="number"&&(_+=Math.round(y.wch))),_.charAt(_.length-1)!=" "&&g.push(_)})}function d(g,m){m.forEach(function(y,w){var _="F;";y.hidden?_+="M0;":y.hpt?_+="M"+20*y.hpt+";":y.hpx&&(_+="M"+20*p2(y.hpx)+";"),_.length>2&&g.push(_+"R"+(w+1))})}function p(g,m){var y=["ID;PWXL;N;E"],w=[],_=Vn(g["!ref"]),S,P=Array.isArray(g),A=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),g["!cols"]&&c(y,g["!cols"]),g["!rows"]&&d(y,g["!rows"]),y.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var V=_.s.r;V<=_.e.r;++V)for(var W=_.s.c;W<=_.e.c;++W){var K=Lr({r:V,c:W});S=P?(g[V]||[])[W]:g[K],!(!S||S.v==null&&(!S.f||S.F))&&w.push(l(S,g,V,W))}return y.join(A)+A+w.join(A)+A+"E"+A}return{to_workbook:o,to_sheet:a,from_sheet:p}})(),rO=(function(){function t(s,a){switch(a.type){case"base64":return e(Vl(s),a);case"binary":return e(s,a);case"buffer":return e(ln&&Buffer.isBuffer(s)?s.toString("binary"):fh(s),a);case"array":return e(P0(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,d=0,p=[];d!==o.length;++d){if(o[d].trim()==="BOT"){p[++l]=[],c=0;continue}if(!(l<0)){var g=o[d].trim().split(","),m=g[0],y=g[1];++d;for(var w=o[d]||"";(w.match(/["]/g)||[]).length&1&&d<o.length-1;)w+=`
`+o[++d];switch(w=w.trim(),+m){case-1:if(w==="BOT"){p[++l]=[],c=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[l][c]=!0:w==="FALSE"?p[l][c]=!1:isNaN($c(y))?isNaN(O1(y).getDate())?p[l][c]=y:p[l][c]=Fi(y):p[l][c]=$c(y),++c;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[l][c++]=w!==""?w:null;break}if(w==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function r(s,a){return sm(t(s,a),a)}function n(s,a){return hh(r(s,a),a)}var i=(function(){var s=function(l,c,d,p,g){l.push(c),l.push(d+","+p),l.push('"'+g.replace(/"/g,'""')+'"')},a=function(l,c,d,p){l.push(c+","+d),l.push(c==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(l){var c=[],d=Vn(l["!ref"]),p,g=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var m=d.s.r;m<=d.e.r;++m){a(c,-1,0,"BOT");for(var y=d.s.c;y<=d.e.c;++y){var w=Lr({r:m,c:y});if(p=g?(l[m]||[])[y]:l[w],!p){a(c,1,0,"");continue}switch(p.t){case"n":var _=p.w;!_&&p.v!=null&&(_=p.v),_==null?p.f&&!p.F?a(c,1,0,"="+p.f):a(c,1,0,""):a(c,0,_,"V");break;case"b":a(c,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=pc(p.z||Ir[14],ma(Fi(p.v)))),a(c,0,p.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var S=`\r
`,P=c.join(S);return P}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),nO=(function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var m=p.split(`
`),y=-1,w=-1,_=0,S=[];_!==m.length;++_){var P=m[_].trim().split(":");if(P[0]==="cell"){var A=as(P[1]);if(S.length<=A.r)for(y=S.length;y<=A.r;++y)S[y]||(S[y]=[]);switch(y=A.r,w=A.c,P[2]){case"t":S[y][w]=t(P[3]);break;case"v":S[y][w]=+P[3];break;case"vtf":var V=P[P.length-1];case"vtc":switch(P[3]){case"nl":S[y][w]=!!+P[4];break;default:S[y][w]=+P[4];break}P[2]=="vtf"&&(S[y][w]=[S[y][w],V])}}}return g&&g.sheetRows&&(S=S.slice(0,g.sheetRows)),S}function n(p,g){return sm(r(p,g),g)}function i(p,g){return hh(n(p,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(p){if(!p||!p["!ref"])return"";for(var g=[],m=[],y,w="",_=dl(p["!ref"]),S=Array.isArray(p),P=_.s.r;P<=_.e.r;++P)for(var A=_.s.c;A<=_.e.c;++A)if(w=Lr({r:P,c:A}),y=S?(p[P]||[])[A]:p[w],!(!y||y.v==null||y.t==="z")){switch(m=["cell",w,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var V=ma(Fi(y.v));m[2]="vtc",m[3]="nd",m[4]=""+V,m[5]=y.w||pc(y.z||Ir[14],V);break;case"e":continue}g.push(m.join(":"))}return g.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(p){return[s,a,o,a,c(p),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),M1=(function(){function t(d,p,g,m,y){y.raw?p[g][m]=d:d===""||(d==="TRUE"?p[g][m]=!0:d==="FALSE"?p[g][m]=!1:isNaN($c(d))?isNaN(O1(d).getDate())?p[g][m]=d:p[g][m]=Fi(d):p[g][m]=$c(d))}function e(d,p){var g=p||{},m=[];if(!d||d.length===0)return m;for(var y=d.split(/[\r\n]/),w=y.length-1;w>=0&&y[w].length===0;)--w;for(var _=10,S=0,P=0;P<=w;++P)S=y[P].indexOf(" "),S==-1?S=y[P].length:S++,_=Math.max(_,S);for(P=0;P<=w;++P){m[P]=[];var A=0;for(t(y[P].slice(0,_).trim(),m,P,A,g),A=1;A<=(y[P].length-_)/10+1;++A)t(y[P].slice(_+(A-1)*10,_+A*10).trim(),m,P,A,g)}return g.sheetRows&&(m=m.slice(0,g.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var p={},g=!1,m=0,y=0;m<d.length;++m)(y=d.charCodeAt(m))==34?g=!g:!g&&y in r&&(p[y]=(p[y]||0)+1);y=[];for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&y.push([p[m],m]);if(!y.length){p=n;for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&y.push([p[m],m])}return y.sort(function(w,_){return w[0]-_[0]||n[w[1]]-n[_[1]]}),r[y.pop()[1]]||44}function s(d,p){var g=p||{},m="",y=g.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(m=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(m=d.charAt(4),d=d.slice(6)):m=i(d.slice(0,1024)):g&&g.FS?m=g.FS:m=i(d.slice(0,1024));var _=0,S=0,P=0,A=0,V=0,W=m.charCodeAt(0),K=!1,j=0,T=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var C=g.dateNF!=null?yte(g.dateNF):null;function D(){var R=d.slice(A,V),F={};if(R.charAt(0)=='"'&&R.charAt(R.length-1)=='"'&&(R=R.slice(1,-1).replace(/""/g,'"')),R.length===0)F.t="z";else if(g.raw)F.t="s",F.v=R;else if(R.trim().length===0)F.t="s",F.v=R;else if(R.charCodeAt(0)==61)R.charCodeAt(1)==34&&R.charCodeAt(R.length-1)==34?(F.t="s",F.v=R.slice(2,-1).replace(/""/g,'"')):Kae(R)?(F.t="n",F.f=R.slice(1)):(F.t="s",F.v=R);else if(R=="TRUE")F.t="b",F.v=!0;else if(R=="FALSE")F.t="b",F.v=!1;else if(!isNaN(P=$c(R)))F.t="n",g.cellText!==!1&&(F.w=R),F.v=P;else if(!isNaN(O1(R).getDate())||C&&R.match(C)){F.z=g.dateNF||Ir[14];var B=0;C&&R.match(C)&&(R=wte(R,g.dateNF,R.match(C)||[]),B=1),g.cellDates?(F.t="d",F.v=Fi(R,B)):(F.t="n",F.v=ma(Fi(R,B))),g.cellText!==!1&&(F.w=pc(F.z,F.v instanceof Date?ma(F.v):F.v)),g.cellNF||delete F.z}else F.t="s",F.v=R;if(F.t=="z"||(g.dense?(y[_]||(y[_]=[]),y[_][S]=F):y[Lr({c:S,r:_})]=F),A=V+1,T=d.charCodeAt(A),w.e.c<S&&(w.e.c=S),w.e.r<_&&(w.e.r=_),j==W)++S;else if(S=0,++_,g.sheetRows&&g.sheetRows<=_)return!0}e:for(;V<d.length;++V)switch(j=d.charCodeAt(V)){case 34:T===34&&(K=!K);break;case W:case 10:case 13:if(!K&&D())break e;break}return V-A>0&&D(),y["!ref"]=Xr(w),y}function a(d,p){return!(p&&p.PRN)||p.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,p):sm(e(d,p),p)}function o(d,p){var g="",m=p.type=="string"?[0,0,0,0]:g8(d,p);switch(p.type){case"base64":g=Vl(d);break;case"binary":g=d;break;case"buffer":p.codepage==65001?g=d.toString("utf8"):p.codepage&&typeof i2<"u"||(g=ln&&Buffer.isBuffer(d)?d.toString("binary"):fh(d));break;case"array":g=P0(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+p.type)}return m[0]==239&&m[1]==187&&m[2]==191?g=pi(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=pi(g):p.type=="binary"&&typeof i2<"u",g.slice(0,19)=="socialcalc:version:"?nO.to_sheet(p.type=="string"?g:pi(g),p):a(g,p)}function l(d,p){return hh(o(d,p),p)}function c(d){for(var p=[],g=Vn(d["!ref"]),m,y=Array.isArray(d),w=g.s.r;w<=g.e.r;++w){for(var _=[],S=g.s.c;S<=g.e.c;++S){var P=Lr({r:w,c:S});if(m=y?(d[w]||[])[S]:d[P],!m||m.v==null){_.push("          ");continue}for(var A=(m.w||(Sd(m),m.w)||"").slice(0,10);A.length<10;)A+=" ";_.push(A+(S===0?" ":""))}p.push(_.join(""))}return p.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}})();function Lie(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=tO.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return M1.to_workbook(t,e)}}var u0=(function(){function t(I,z,X){if(I){Ja(I,I.l||0);for(var J=X.Enum||ie;I.l<I.length;){var ce=I.read_shift(2),we=J[ce]||J[65535],ke=I.read_shift(2),oe=I.l+ke,Ee=we.f&&we.f(I,ke,X);if(I.l=oe,z(Ee,we,ce))return}}}function e(I,z){switch(z.type){case"base64":return r(Pl(Vl(I)),z);case"binary":return r(Pl(I),z);case"buffer":case"array":return r(I,z)}throw"Unsupported type "+z.type}function r(I,z){if(!I)return I;var X=z||{},J=X.dense?[]:{},ce="Sheet1",we="",ke=0,oe={},Ee=[],Oe=[],re={s:{r:0,c:0},e:{r:0,c:0}},_e=X.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)X.Enum=ie,t(I,function(ze,ot,Ve){switch(Ve){case 0:X.vers=ze,ze>=4096&&(X.qpro=!0);break;case 6:re=ze;break;case 204:ze&&(we=ze);break;case 222:we=ze;break;case 15:case 51:X.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=X.dateNF||Ir[14],X.cellDates&&(ze[1].t="d",ze[1].v=o4(ze[1].v))),X.qpro&&ze[3]>ke&&(J["!ref"]=Xr(re),oe[ce]=J,Ee.push(ce),J=X.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},ke=ze[3],ce=we||"Sheet"+(ke+1),we="");var He=X.dense?(J[ze[0].r]||[])[ze[0].c]:J[Lr(ze[0])];if(He){He.t=ze[1].t,He.v=ze[1].v,ze[1].z!=null&&(He.z=ze[1].z),ze[1].f!=null&&(He.f=ze[1].f);break}X.dense?(J[ze[0].r]||(J[ze[0].r]=[]),J[ze[0].r][ze[0].c]=ze[1]):J[Lr(ze[0])]=ze[1];break}},X);else if(I[2]==26||I[2]==14)X.Enum=G,I[2]==14&&(X.qpro=!0,I.l=0),t(I,function(ze,ot,Ve){switch(Ve){case 204:ce=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>ke&&(J["!ref"]=Xr(re),oe[ce]=J,Ee.push(ce),J=X.dense?[]:{},re={s:{r:0,c:0},e:{r:0,c:0}},ke=ze[3],ce="Sheet"+(ke+1)),_e>0&&ze[0].r>=_e)break;X.dense?(J[ze[0].r]||(J[ze[0].r]=[]),J[ze[0].r][ze[0].c]=ze[1]):J[Lr(ze[0])]=ze[1],re.e.c<ze[0].c&&(re.e.c=ze[0].c),re.e.r<ze[0].r&&(re.e.r=ze[0].r);break;case 27:ze[14e3]&&(Oe[ze[14e3][0]]=ze[14e3][1]);break;case 1537:Oe[ze[0]]=ze[1],ze[0]==ke&&(ce=ze[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(J["!ref"]=Xr(re),oe[we||ce]=J,Ee.push(we||ce),!Oe.length)return{SheetNames:Ee,Sheets:oe};for(var Re={},pe=[],Ye=0;Ye<Oe.length;++Ye)oe[Ee[Ye]]?(pe.push(Oe[Ye]||Ee[Ye]),Re[Oe[Ye]]=oe[Oe[Ye]]||oe[Ee[Ye]]):(pe.push(Oe[Ye]),Re[Oe[Ye]]={"!ref":"A1"});return{SheetNames:pe,Sheets:Re}}function n(I,z){var X=z||{};if(+X.codepage>=0&&Oc(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var J=ul(),ce=Vn(I["!ref"]),we=Array.isArray(I),ke=[];qt(J,0,s(1030)),qt(J,6,l(ce));for(var oe=Math.min(ce.e.r,8191),Ee=ce.s.r;Ee<=oe;++Ee)for(var Oe=Bs(Ee),re=ce.s.c;re<=ce.e.c;++re){Ee===ce.s.r&&(ke[re]=ss(re));var _e=ke[re]+Oe,Re=we?(I[Ee]||[])[re]:I[_e];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?qt(J,13,m(Ee,re,Re.v)):qt(J,14,w(Ee,re,Re.v));else{var pe=Sd(Re);qt(J,15,p(Ee,re,pe.slice(0,239)))}}return qt(J,1),J.end()}function i(I,z){var X=z||{};if(+X.codepage>=0&&Oc(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var J=ul();qt(J,0,a(I));for(var ce=0,we=0;ce<I.SheetNames.length;++ce)(I.Sheets[I.SheetNames[ce]]||{})["!ref"]&&qt(J,27,Y(I.SheetNames[ce],we++));var ke=0;for(ce=0;ce<I.SheetNames.length;++ce){var oe=I.Sheets[I.SheetNames[ce]];if(!(!oe||!oe["!ref"])){for(var Ee=Vn(oe["!ref"]),Oe=Array.isArray(oe),re=[],_e=Math.min(Ee.e.r,8191),Re=Ee.s.r;Re<=_e;++Re)for(var pe=Bs(Re),Ye=Ee.s.c;Ye<=Ee.e.c;++Ye){Re===Ee.s.r&&(re[Ye]=ss(Ye));var ze=re[Ye]+pe,ot=Oe?(oe[Re]||[])[Ye]:oe[ze];if(!(!ot||ot.t=="z"))if(ot.t=="n")qt(J,23,D(Re,Ye,ke,ot.v));else{var Ve=Sd(ot);qt(J,22,j(Re,Ye,ke,Ve.slice(0,239)))}}++ke}}return qt(J,1),J.end()}function s(I){var z=wt(2);return z.write_shift(2,I),z}function a(I){var z=wt(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var X=0,J=0,ce=0,we=0;we<I.SheetNames.length;++we){var ke=I.SheetNames[we],oe=I.Sheets[ke];if(!(!oe||!oe["!ref"])){++ce;var Ee=dl(oe["!ref"]);X<Ee.e.r&&(X=Ee.e.r),J<Ee.e.c&&(J=Ee.e.c)}}return X>8191&&(X=8191),z.write_shift(2,X),z.write_shift(1,ce),z.write_shift(1,J),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(I,z,X){var J={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&X.qpro?(J.s.c=I.read_shift(1),I.l++,J.s.r=I.read_shift(2),J.e.c=I.read_shift(1),I.l++,J.e.r=I.read_shift(2),J):(J.s.c=I.read_shift(2),J.s.r=I.read_shift(2),z==12&&X.qpro&&(I.l+=2),J.e.c=I.read_shift(2),J.e.r=I.read_shift(2),z==12&&X.qpro&&(I.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function l(I){var z=wt(8);return z.write_shift(2,I.s.c),z.write_shift(2,I.s.r),z.write_shift(2,I.e.c),z.write_shift(2,I.e.r),z}function c(I,z,X){var J=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(J[0].c=I.read_shift(1),J[3]=I.read_shift(1),J[0].r=I.read_shift(2),I.l+=2):(J[2]=I.read_shift(1),J[0].c=I.read_shift(2),J[0].r=I.read_shift(2)),J}function d(I,z,X){var J=I.l+z,ce=c(I,z,X);if(ce[1].t="s",X.vers==20768){I.l++;var we=I.read_shift(1);return ce[1].v=I.read_shift(we,"utf8"),ce}return X.qpro&&I.l++,ce[1].v=I.read_shift(J-I.l,"cstr"),ce}function p(I,z,X){var J=wt(7+X.length);J.write_shift(1,255),J.write_shift(2,z),J.write_shift(2,I),J.write_shift(1,39);for(var ce=0;ce<J.length;++ce){var we=X.charCodeAt(ce);J.write_shift(1,we>=128?95:we)}return J.write_shift(1,0),J}function g(I,z,X){var J=c(I,z,X);return J[1].v=I.read_shift(2,"i"),J}function m(I,z,X){var J=wt(7);return J.write_shift(1,255),J.write_shift(2,z),J.write_shift(2,I),J.write_shift(2,X,"i"),J}function y(I,z,X){var J=c(I,z,X);return J[1].v=I.read_shift(8,"f"),J}function w(I,z,X){var J=wt(13);return J.write_shift(1,255),J.write_shift(2,z),J.write_shift(2,I),J.write_shift(8,X,"f"),J}function _(I,z,X){var J=I.l+z,ce=c(I,z,X);if(ce[1].v=I.read_shift(8,"f"),X.qpro)I.l=J;else{var we=I.read_shift(2);V(I.slice(I.l,I.l+we),ce),I.l+=we}return ce}function S(I,z,X){var J=z&32768;return z&=-32769,z=(J?I:0)+(z>=8192?z-16384:z),(J?"":"$")+(X?ss(z):Bs(z))}var P={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function V(I,z){Ja(I,0);for(var X=[],J=0,ce="",we="",ke="",oe="";I.l<I.length;){var Ee=I[I.l++];switch(Ee){case 0:X.push(I.read_shift(8,"f"));break;case 1:we=S(z[0].c,I.read_shift(2),!0),ce=S(z[0].r,I.read_shift(2),!1),X.push(we+ce);break;case 2:{var Oe=S(z[0].c,I.read_shift(2),!0),re=S(z[0].r,I.read_shift(2),!1);we=S(z[0].c,I.read_shift(2),!0),ce=S(z[0].r,I.read_shift(2),!1),X.push(Oe+re+":"+we+ce)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(I.read_shift(2));break;case 6:{for(var _e="";Ee=I[I.l++];)_e+=String.fromCharCode(Ee);X.push('"'+_e.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:oe=X.pop(),ke=X.pop(),X.push(["AND","OR"][Ee-20]+"("+ke+","+oe+")");break;default:if(Ee<32&&A[Ee])oe=X.pop(),ke=X.pop(),X.push(ke+A[Ee]+oe);else if(P[Ee]){if(J=P[Ee][1],J==69&&(J=I[I.l++]),J>X.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+X.join("|")+"|");return}var Re=X.slice(-J);X.length-=J,X.push(P[Ee][0]+"("+Re.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}X.length==1?z[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function W(I){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=I.read_shift(2),z[3]=I[I.l++],z[0].c=I[I.l++],z}function K(I,z){var X=W(I);return X[1].t="s",X[1].v=I.read_shift(z-4,"cstr"),X}function j(I,z,X,J){var ce=wt(6+J.length);ce.write_shift(2,I),ce.write_shift(1,X),ce.write_shift(1,z),ce.write_shift(1,39);for(var we=0;we<J.length;++we){var ke=J.charCodeAt(we);ce.write_shift(1,ke>=128?95:ke)}return ce.write_shift(1,0),ce}function T(I,z){var X=W(I);X[1].v=I.read_shift(2);var J=X[1].v>>1;if(X[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return X[1].v=J,X}function C(I,z){var X=W(I),J=I.read_shift(4),ce=I.read_shift(4),we=I.read_shift(2);if(we==65535)return J===0&&ce===3221225472?(X[1].t="e",X[1].v=15):J===0&&ce===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var ke=we&32768;return we=(we&32767)-16446,X[1].v=(1-ke*2)*(ce*Math.pow(2,we+32)+J*Math.pow(2,we)),X}function D(I,z,X,J){var ce=wt(14);if(ce.write_shift(2,I),ce.write_shift(1,X),ce.write_shift(1,z),J==0)return ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(2,65535),ce;var we=0,ke=0,oe=0,Ee=0;return J<0&&(we=1,J=-J),ke=Math.log2(J)|0,J/=Math.pow(2,ke-31),Ee=J>>>0,(Ee&2147483648)==0&&(J/=2,++ke,Ee=J>>>0),J-=Ee,Ee|=2147483648,Ee>>>=0,J*=Math.pow(2,32),oe=J>>>0,ce.write_shift(4,oe),ce.write_shift(4,Ee),ke+=16383+(we?32768:0),ce.write_shift(2,ke),ce}function R(I,z){var X=C(I);return I.l+=z-14,X}function F(I,z){var X=W(I),J=I.read_shift(4);return X[1].v=J>>6,X}function B(I,z){var X=W(I),J=I.read_shift(8,"f");return X[1].v=J,X}function ee(I,z){var X=B(I);return I.l+=z-10,X}function he(I,z){return I[I.l+z-1]==0?I.read_shift(z,"cstr"):""}function ve(I,z){var X=I[I.l++];X>z-1&&(X=z-1);for(var J="";J.length<X;)J+=String.fromCharCode(I[I.l++]);return J}function fe(I,z,X){if(!(!X.qpro||z<21)){var J=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var ce=I.read_shift(z-21,"cstr");return[J,ce]}}function se(I,z){for(var X={},J=I.l+z;I.l<J;){var ce=I.read_shift(2);if(ce==14e3){for(X[ce]=[0,""],X[ce][0]=I.read_shift(2);I[I.l];)X[ce][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return X}function Y(I,z){var X=wt(5+I.length);X.write_shift(2,14e3),X.write_shift(2,z);for(var J=0;J<I.length;++J){var ce=I.charCodeAt(J);X[X.l++]=ce>127?95:ce}return X[X.l++]=0,X}var ie={0:{n:"BOF",f:Zs},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:he},222:{n:"SHEETNAMELP",f:ve},65535:{n:""}},G={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:K},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:R},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:he},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:fe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function Fie(t){var e={},r=t.match(jo),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=Or(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=jk[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Die=(function(){var t=o2("t"),e=o2("rPr");function r(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Mn(a[1])},l=s.match(e);return l&&(o.s=Fie(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),Oie=(function(){var e=/(\r\n|\n)/g;function r(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),Mie=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Vie=/<(?:\w+:)?r>/,Bie=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function n8(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Mn(pi(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=pi(t),r&&(n.h=$k(n.t))):t.match(Vie)&&(n.r=pi(t),n.t=Mn(pi((t.replace(Bie,"").match(Mie)||[]).join("").replace(jo,""))),r&&(n.h=Oie(Die(n.r)))),n):{t:""}}var Uie=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,zie=/<(?:\w+:)?(?:si|sstItem)>/g,$ie=/<\/(?:\w+:)?(?:si|sstItem)>/;function qie(t,e){var r=[],n="";if(!t)return r;var i=t.match(Uie);if(i){n=i[2].replace(zie,"").split($ie);for(var s=0;s!=n.length;++s){var a=n8(n[s].trim(),e);a!=null&&(r[r.length]=a)}i=Or(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var Hie=/^\s|\s$|[\t\n\r]/;function iO(t,e){if(!e.bookSST)return"";var r=[zs];r[r.length]=$t("sst",null,{xmlns:Y0[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Hie)&&(s+=' xml:space="preserve"'),s+=">"+ai(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Wie(t){return[t.read_shift(4),t.read_shift(4)]}function Gie(t,e){var r=[],n=!1;return Fd(t,function(s,a,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Kie(t,e){return e||(e=wt(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var Yie=sre;function Xie(t){var e=ul();At(e,159,Kie(t));for(var r=0;r<t.length;++r)At(e,19,Yie(t[r]));return At(e,160),e.end()}function sO(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function vd(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function Qie(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=vd(t,4),e.U=vd(t,4),e.W=vd(t,4),e}function Jie(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function Zie(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(Jie(t));return e}function ese(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function tse(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=vd(t,4),e.U=vd(t,4),e.W=vd(t,4),e}function rse(t){var e=tse(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function aO(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function oO(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function nse(t){var e=vd(t);switch(e.Minor){case 2:return[e.Minor,ise(t)];case 3:return[e.Minor,sse()];case 4:return[e.Minor,ase(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function ise(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=aO(t,r),i=oO(t,t.length-t.l);return{t:"Std",h:n,v:i}}function sse(){throw new Error("File is password-protected: ECMA-376 Extensible")}function ase(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(jo,function(s){var a=Or(s);switch(Vu(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function ose(t,e){var r={},n=r.EncryptionVersionInfo=vd(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=aO(t,i),e-=i,r.EncryptionVerifier=oO(t,e),r}function lse(t){var e={},r=e.EncryptionVersionInfo=vd(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function i8(t){var e=0,r,n=sO(t),i=n.length+1,s,a,o,l,c;for(r=Kf(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=(e&16384)===0?0:1,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var lO=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],l=104,c=a.length-1;c>=0;--c)for(var d=a[c],p=0;p!=7;++p)d&64&&(o^=r[l]),d*=2,--l;return o};return function(a){for(var o=sO(a),l=s(o),c=o.length,d=Kf(16),p=0;p!=16;++p)d[p]=0;var g,m,y;for((c&1)===1&&(g=l>>8,d[c]=i(t[0],g),--c,g=l&255,m=o[o.length-1],d[c]=i(m,g));c>0;)--c,g=l>>8,d[c]=i(o[c],g),--c,g=l&255,d[c]=i(o[c],g);for(c=15,y=15-o.length;y>0;)g=l>>8,d[c]=i(t[y],g),--c,--y,g=l&255,d[c]=i(o[c],g),--c,--y;return d}})(),cse=function(t,e,r,n,i){i||(i=e),n||(n=lO(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[r],a=(a>>5|a<<3)&255,i[s]=a,++r;return[i,r,n]},use=function(t){var e=0,r=lO(t);return function(n){var i=cse("",n,e,r);return e=i[1],i[0]}};function dse(t,e,r,n){var i={key:Zs(t),verificationBytes:Zs(t)};return r.password&&(i.verifier=i8(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=use(r.password)),i}function fse(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=lse(t):n.Data=ose(t,e),n}function hse(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?fse(t,e-2,n):dse(t,r.biff>=8?e:e-2,r,n),n}var cO=(function(){function t(i,s){switch(s.type){case"base64":return e(Vl(i),s);case"binary":return e(i,s);case"buffer":return e(ln&&Buffer.isBuffer(i)?i.toString("binary"):fh(i),s);case"array":return e(P0(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,m=0,y,w=-1;y=g.exec(d);){switch(y[0]){case"\\cell":var _=d.slice(m,g.lastIndex-y[0].length);if(_[0]==" "&&(_=_.slice(1)),++w,_.length){var S={v:_,t:"s"};Array.isArray(o)?o[p][w]=S:o[Lr({r:p,c:w})]=S}break}m=g.lastIndex}w>c.e.c&&(c.e.c=w)}),o["!ref"]=Xr(c),o}function r(i,s){return hh(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Vn(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var p=Lr({r:c,c:d});o=l?(i[c]||[])[d]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Sd(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function pse(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function d2(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function mse(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,c=i+s;switch(l=a/(c>1?2-c:c),i){case e:o=((r-n)/a+6)%6;break;case r:o=(n-e)/a+2;break;case n:o=(e-r)/a+4;break}return[o/6,l,c/2]}function gse(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var c=0;c!=3;++c)a[c]=Math.round(a[c]*255);return a}function n5(t,e){if(e===0)return t;var r=mse(pse(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),d2(gse(r))}var uO=6,xse=15,vse=1,Eo=uO;function f2(t){return Math.floor((t+Math.round(128/Eo)/256)*Eo)}function h2(t){return Math.floor((t-5)/Eo*100+.5)/100}function i5(t){return Math.round((t*Eo+5)/Eo*256)/256}function Yw(t){return i5(h2(f2(t)))}function s8(t){var e=Math.abs(t-Yw(t)),r=Eo;if(e>.005)for(Eo=vse;Eo<xse;++Eo)Math.abs(t-Yw(t))<=e&&(e=Math.abs(t-Yw(t)),r=Eo);Eo=r}function Yf(t){t.width?(t.wpx=f2(t.width),t.wch=h2(t.wpx),t.MDW=Eo):t.wpx?(t.wch=h2(t.wpx),t.width=i5(t.wch),t.MDW=Eo):typeof t.wch=="number"&&(t.width=i5(t.wch),t.wpx=f2(t.width),t.MDW=Eo),t.customWidth&&delete t.customWidth}var yse=96,dO=yse;function p2(t){return t*96/dO}function V1(t){return t*dO/96}var wse={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function _se(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(jo)||[]).forEach(function(a){var o=Or(a);switch(Vu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Pi(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Pi(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function bse(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(jo)||[]).forEach(function(a){var o=Or(a);switch(Vu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function kse(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(jo)||[]).forEach(function(a){var o=Or(a);switch(Vu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=pi(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Pi(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Pi(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Pi(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Pi(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Pi(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Pi(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Pi(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=jk[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Pi(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=l0[i.color.index];i.color.index==81&&(l=l0[1]),l||(l=l0[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=n5(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Sse(t,e,r){e.NumberFmt=[];for(var n=bs(Ir),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Ir[n[i]];var s=t[0].match(jo);if(s)for(i=0;i<s.length;++i){var a=Or(s[i]);switch(Vu(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Mn(pi(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}xd(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function Ese(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=$t("numFmt",null,{numFmtId:n,formatCode:ai(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=$t("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var yv=["numFmtId","fillId","fontId","borderId","xfId"],wv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Cse(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(jo)||[]).forEach(function(s){var a=Or(s),o=0;switch(Vu(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<yv.length;++o)n[yv[o]]&&(n[yv[o]]=parseInt(n[yv[o]],10));for(o=0;o<wv.length;++o)n[wv[o]]&&(n[wv[o]]=Pi(n[wv[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=Pi(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function Nse(t){var e=[];return e[e.length]=$t("cellXfs",null),t.forEach(function(r){e[e.length]=$t("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=$t("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Tse=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var p;return(p=o.match(e))&&Sse(p,d,c),(p=o.match(i))&&kse(p,d,l,c),(p=o.match(n))&&bse(p,d,l,c),(p=o.match(s))&&_se(p,d,l,c),(p=o.match(r))&&Cse(p,d,c),d}})();function fO(t,e){var r=[zs,$t("styleSheet",null,{xmlns:Y0[0],"xmlns:vt":fa.vt})],n;return t.SSF&&(n=Ese(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Nse(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Ase(t,e){var r=t.read_shift(2),n=Po(t);return[r,n]}function Ise(t,e,r){r||(r=wt(6+4*e.length)),r.write_shift(2,t),La(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Pse(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=fre(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=dre(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Po(t),n}function Rse(t,e){e||(e=wt(153)),e.write_shift(2,t.sz*20),hre(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),e5(t.color,e);var n=0;return n=2,e.write_shift(1,n),La(t.name,e),e.length>e.l?e.slice(0,e.l):e}var jse=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Xw,Lse=Ro;function ZC(t,e){e||(e=wt(84)),Xw||(Xw=s4(jse));var r=Xw[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(e5({auto:1},e),e5({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function Fse(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function hO(t,e,r){r||(r=wt(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Xm(t,e){return e||(e=wt(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var Dse=Ro;function Ose(t,e){return e||(e=wt(51)),e.write_shift(1,0),Xm(null,e),Xm(null,e),Xm(null,e),Xm(null,e),Xm(null,e),e.length>e.l?e.slice(0,e.l):e}function Mse(t,e){return e||(e=wt(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Zy(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Vse(t,e,r){var n=wt(2052);return n.write_shift(4,t),Zy(e,n),Zy(r,n),n.length>n.l?n.slice(0,n.l):n}function Bse(t,e,r){var n={};n.NumberFmt=[];for(var i in Ir)n.NumberFmt[i]=Ir[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return Fd(t,function(l,c,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],xd(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=n5(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(d),a=!0;break;case 38:s.pop(),a=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!a||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function Use(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(At(t,615,qc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&At(t,44,Ise(i,e[i]))}),At(t,616))}}function zse(t){var e=1;At(t,611,qc(e)),At(t,43,Rse({sz:12,color:{theme:1},name:"Calibri",family:2})),At(t,612)}function $se(t){var e=2;At(t,603,qc(e)),At(t,45,ZC({patternType:"none"})),At(t,45,ZC({patternType:"gray125"})),At(t,604)}function qse(t){var e=1;At(t,613,qc(e)),At(t,46,Ose()),At(t,614)}function Hse(t){var e=1;At(t,626,qc(e)),At(t,47,hO({numFmtId:0},65535)),At(t,627)}function Wse(t,e){At(t,617,qc(e.length)),e.forEach(function(r){At(t,47,hO(r,0))}),At(t,618)}function Gse(t){var e=1;At(t,619,qc(e)),At(t,48,Mse({xfId:0,name:"Normal"})),At(t,620)}function Kse(t){var e=0;At(t,505,qc(e)),At(t,506)}function Yse(t){var e=0;At(t,508,Vse(e,"TableStyleMedium9","PivotStyleMedium4")),At(t,509)}function Xse(t,e){var r=ul();return At(r,278),Use(r,t.SSF),zse(r),$se(r),qse(r),Hse(r),Wse(r,e.cellXfs),Gse(r),Kse(r),Yse(r),At(r,279),r.end()}var Qse=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Jse(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(jo)||[]).forEach(function(i){var s=Or(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[Qse.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Zse(){}function eae(){}var tae=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rae=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,nae=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function iae(t,e,r){e.themeElements={};var n;[["clrScheme",tae,Jse],["fontScheme",rae,Zse],["fmtScheme",nae,eae]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var sae=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function pO(t,e){(!t||t.length===0)&&(t=a8());var r,n={};if(!(r=t.match(sae)))throw new Error("themeElements not found in theme");return iae(r[0],n,e),n.raw=t,n}function a8(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[zs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function aae(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var a;try{a=aD(s,{type:"array"})}catch{return}var o=Rl(a,"theme/theme/theme1.xml",!0);if(o)return pO(o,r)}}function oae(t){return t.read_shift(4)}function lae(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=cae(t,4);break;case 2:e.xclrValue=GD(t);break;case 3:e.xclrValue=oae(t);break;case 4:t.l+=4;break}return t.l+=8,e}function cae(t,e){return Ro(t,e)}function uae(t,e){return Ro(t,e)}function dae(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=lae(t);break;case 6:n[1]=uae(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function fae(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(dae(t,r-t.l));return{ixfe:n,ext:s}}function hae(t,e){e.forEach(function(r){r[0]})}function pae(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Po(t)}}function mae(t){var e=wt(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),La(t.name,e),e.slice(0,e.l)}function gae(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function xae(t){var e=wt(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function vae(t,e){var r=wt(8+2*e.length);return r.write_shift(4,t),La(e,r),r.slice(0,r.l)}function yae(t){return t.l+=4,t.read_shift(4)!=0}function wae(t,e){var r=wt(8);return r.write_shift(4,t),r.write_shift(4,1),r}function _ae(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],a=!1,o=2;return Fd(t,function(l,c,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(p){o==1?n.Cell.push({type:n.Types[p[0]-1].name,index:p[1]}):o==0&&n.Value.push({type:n.Types[p[0]-1].name,index:p[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!c.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function bae(){var t=ul();return At(t,332),At(t,334,qc(1)),At(t,335,mae({name:"XLDAPR",version:12e4,flags:3496657072})),At(t,336),At(t,339,vae(1,"XLDAPR")),At(t,52),At(t,35,qc(514)),At(t,4096,qc(0)),At(t,4097,lc(1)),At(t,36),At(t,53),At(t,340),At(t,337,wae(1)),At(t,51,xae([[1,0]])),At(t,338),At(t,333),t.end()}function kae(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,a;return t.replace(jo,function(o){var l=Or(o);switch(Vu(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(a=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function mO(){var t=[zs];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Sae(t){var e=[];if(!t)return e;var r=1;return(t.match(jo)||[]).forEach(function(n){var i=Or(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function Eae(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Lr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function Cae(t,e,r){var n=[];return Fd(t,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Nae(t,e,r,n){if(!t)return t;var i=n||{},s=!1;Fd(t,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function Tae(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var Wp=1024;function gO(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[$t("xml",null,{"xmlns:v":Al.v,"xmlns:o":Al.o,"xmlns:x":Al.x,"xmlns:mv":Al.mv}).replace(/\/>/,">"),$t("o:shapelayout",$t("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),$t("v:shapetype",[$t("v:stroke",null,{joinstyle:"miter"}),$t("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Wp<t*1e3;)Wp+=1e3;return e.forEach(function(s){var a=as(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?$t("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=$t("v:fill",l,o),d={on:"t",obscured:"t"};++Wp,i=i.concat(["<v:shape"+l2({id:"_x0000_s"+Wp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,$t("v:shadow",null,d),$t("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",eo("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),eo("x:AutoFill","False"),eo("x:Row",String(a.r)),eo("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function eN(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(a){var o=as(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Vn(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Xr(l);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var d={a:a.author,t:a.t,r:a.r,T:r};a.h&&(d.h=a.h);for(var p=s.c.length-1;p>=0;--p){if(!r&&s.c[p].T)return;r&&!s.c[p].T&&s.c.splice(p,1)}if(r&&n){for(p=0;p<n.length;++p)if(d.a==n[p].id){d.a=n[p].name||d.a;break}}s.c.push(d)})}function Aae(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Or(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=as(l.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var p=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!p&&!!p[1]&&n8(p[1])||{r:"",t:"",h:""};c.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),c.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=g.h),n.push(c)}}}}),n}function xO(t){var e=[zs,$t("comments",null,{xmlns:Y0[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=ai(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(ai(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(eo("t",ai(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(eo("t",ai(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Iae(t,e){var r=[],n=!1,i={},s=0;return t.replace(jo,function(o,l){var c=Or(o);switch(Vu(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Pae(t,e,r){var n=[zs,$t("ThreadedComments",null,{xmlns:fa.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push($t("threadedComment",eo("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Rae(t,e){var r=[],n=!1;return t.replace(jo,function(s){var a=Or(s);switch(Vu(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),r}function jae(t){var e=[zs,$t("personList",null,{xmlns:fa.TCMNT,"xmlns:x":Y0[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push($t("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Lae(t){var e={};e.iauthor=t.read_shift(4);var r=Z0(t);return e.rfx=r.s,e.ref=Lr(r.s),t.l+=16,e}function Fae(t,e){return e==null&&(e=wt(36)),e.write_shift(4,t[1].iauthor),am(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Dae=Po;function Oae(t){return La(t.slice(0,54))}function Mae(t,e){var r=[],n=[],i={},s=!1;return Fd(t,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function Vae(t){var e=ul(),r=[];return At(e,628),At(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),At(e,632,Oae(i.a)))})}),At(e,631),At(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:as(n[0]),e:as(n[0])};At(e,635,Fae([s,i])),i.t&&i.t.length>0&&At(e,637,ore(i)),At(e,636),delete i.iauthor})}),At(e,634),At(e,629),e.end()}var Bae="application/vnd.ms-office.vbaProject";function Uae(t){var e=Sr.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Sr.utils.cfb_add(e,i,t.FileIndex[n].content)}}),Sr.write(e)}function zae(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Sr.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var vO=["xlsb","xlsm","xlam","biff8","xla"];function $ae(){return{"!type":"dialog"}}function qae(){return{"!type":"dialog"}}function Hae(){return{"!type":"macro"}}function Wae(){return{"!type":"macro"}}var u1=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return o?d+=e.c:--d,l?c+=e.r:--c,i+(o?"":"$")+ss(d)+(l?"":"$")+Bs(c)}return function(i,s){return e=s,i.replace(t,r)}})(),o8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,l8=(function(){return function(e,r){return e.replace(o8,function(n,i,s,a,o,l){var c=Kk(a)-(s?0:r.c),d=Gk(l)-(o?0:r.r),p=d==0?"":o?d+1:"["+d+"]",g=c==0?"":s?c+1:"["+c+"]";return i+"R"+p+"C"+g})}})();function yO(t,e){return t.replace(o8,function(r,n,i,s,a,o){return n+(i=="$"?i+s:ss(Kk(s)+e.c))+(a=="$"?a+o:Bs(Gk(o)+e.r))})}function Gae(t,e,r){var n=dl(e),i=n.s,s=as(r),a={r:s.r-i.r,c:s.c-i.c};return yO(t,a)}function Kae(t){return t.length!=1}function tN(t){return t.replace(/_xlfn\./g,"")}function Xs(t){t.l+=1}function Xf(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function wO(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return _O(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=Xf(t),o=Xf(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function _O(t){var e=Xf(t),r=Xf(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Yae(t,e,r){if(r.biff<8)return _O(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Xf(t),a=Xf(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function bO(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Xae(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Xf(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Xae(t){var e=Xf(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Qae(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Jae(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Zae(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function Zae(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function eoe(t,e,r){var n=(t[t.l++]&96)>>5,i=wO(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function toe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=wO(t,s,r);return[n,i,a]}function roe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function noe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function ioe(t,e,r){var n=(t[t.l++]&96)>>5,i=Yae(t,e-1,r);return[n,i]}function soe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function rN(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function aoe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function ooe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function loe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function coe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function uoe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function kO(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function doe(t){return t.read_shift(2),kO(t)}function foe(t){return t.read_shift(2),kO(t)}function hoe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=bO(t,0,r);return[n,i]}function poe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Jae(t,0,r);return[n,i]}function moe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=bO(t,0,r);return[n,i,s]}function goe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[yle[i],CO[i],n]}function xoe(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:voe(t);return[i,(s[0]===0?CO:vle)[s[1]]]}function voe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function yoe(t,e,r){t.l+=r&&r.biff==2?3:4}function woe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function _oe(t){return t.l++,Dd[t.read_shift(1)]}function boe(t){return t.l++,t.read_shift(2)}function koe(t){return t.l++,t.read_shift(1)!==0}function Soe(t){return t.l++,No(t)}function Eoe(t,e,r){return t.l++,tx(t,e-1,r)}function Coe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Rs(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Dd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=No(t);break;case 2:r[1]=ep(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Noe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Z0:l4)(t));return i}function Toe(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=Coe(t,r.biff);return a}function Aoe(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function Ioe(t,e,r){if(r.biff==5)return Poe(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function Poe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function Roe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function joe(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function Loe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function Foe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var Doe=Ro,Ooe=Ro,Moe=Ro;function nx(t,e,r){return t.l+=2,[Qae(t)]}function c8(t){return t.l+=6,[]}var Voe=nx,Boe=c8,Uoe=c8,zoe=nx;function SO(t){return t.l+=2,[Zs(t),t.read_shift(2)&1]}var $oe=nx,qoe=SO,Hoe=c8,Woe=nx,Goe=nx,Koe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Yoe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=Koe[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function Xoe(t){return t.l+=2,[t.read_shift(4)]}function Qoe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function Joe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Zoe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function ele(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function tle(t){return t.l+=4,[0,0]}var nN={1:{n:"PtgExp",f:woe},2:{n:"PtgTbl",f:Moe},3:{n:"PtgAdd",f:Xs},4:{n:"PtgSub",f:Xs},5:{n:"PtgMul",f:Xs},6:{n:"PtgDiv",f:Xs},7:{n:"PtgPower",f:Xs},8:{n:"PtgConcat",f:Xs},9:{n:"PtgLt",f:Xs},10:{n:"PtgLe",f:Xs},11:{n:"PtgEq",f:Xs},12:{n:"PtgGe",f:Xs},13:{n:"PtgGt",f:Xs},14:{n:"PtgNe",f:Xs},15:{n:"PtgIsect",f:Xs},16:{n:"PtgUnion",f:Xs},17:{n:"PtgRange",f:Xs},18:{n:"PtgUplus",f:Xs},19:{n:"PtgUminus",f:Xs},20:{n:"PtgPercent",f:Xs},21:{n:"PtgParen",f:Xs},22:{n:"PtgMissArg",f:Xs},23:{n:"PtgStr",f:Eoe},26:{n:"PtgSheet",f:Qoe},27:{n:"PtgEndSheet",f:Joe},28:{n:"PtgErr",f:_oe},29:{n:"PtgBool",f:koe},30:{n:"PtgInt",f:boe},31:{n:"PtgNum",f:Soe},32:{n:"PtgArray",f:soe},33:{n:"PtgFunc",f:goe},34:{n:"PtgFuncVar",f:xoe},35:{n:"PtgName",f:Aoe},36:{n:"PtgRef",f:hoe},37:{n:"PtgArea",f:eoe},38:{n:"PtgMemArea",f:Roe},39:{n:"PtgMemErr",f:Doe},40:{n:"PtgMemNoMem",f:Ooe},41:{n:"PtgMemFunc",f:joe},42:{n:"PtgRefErr",f:Loe},43:{n:"PtgAreaErr",f:roe},44:{n:"PtgRefN",f:poe},45:{n:"PtgAreaN",f:ioe},46:{n:"PtgMemAreaN",f:Zoe},47:{n:"PtgMemNoMemN",f:ele},57:{n:"PtgNameX",f:Ioe},58:{n:"PtgRef3d",f:moe},59:{n:"PtgArea3d",f:toe},60:{n:"PtgRefErr3d",f:Foe},61:{n:"PtgAreaErr3d",f:noe},255:{}},rle={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},nle={1:{n:"PtgElfLel",f:SO},2:{n:"PtgElfRw",f:Woe},3:{n:"PtgElfCol",f:Voe},6:{n:"PtgElfRwV",f:Goe},7:{n:"PtgElfColV",f:zoe},10:{n:"PtgElfRadical",f:$oe},11:{n:"PtgElfRadicalS",f:Hoe},13:{n:"PtgElfColS",f:Boe},15:{n:"PtgElfColSV",f:Uoe},16:{n:"PtgElfRadicalLel",f:qoe},25:{n:"PtgList",f:Yoe},29:{n:"PtgSxName",f:Xoe},255:{}},ile={0:{n:"PtgAttrNoop",f:tle},1:{n:"PtgAttrSemi",f:uoe},2:{n:"PtgAttrIf",f:loe},4:{n:"PtgAttrChoose",f:aoe},8:{n:"PtgAttrGoto",f:ooe},16:{n:"PtgAttrSum",f:yoe},32:{n:"PtgAttrBaxcel",f:rN},33:{n:"PtgAttrBaxcel",f:rN},64:{n:"PtgAttrSpace",f:doe},65:{n:"PtgAttrSpaceSemi",f:foe},128:{n:"PtgAttrIfError",f:coe},255:{}};function ix(t,e,r,n){if(n.biff<8)return Ro(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=Toe(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=Noe(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Ro(t,e)),s}function sx(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=nN[s]||nN[rle[s]],(s===24||s===25)&&(i=(s===24?nle:ile)[t[t.l+1]]),!i||!i.f?Ro(t,e):a.push([i.n,i.f(t,e,r)]);return a}function sle(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var ale={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function ole(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function EO(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function iN(t,e,r){var n=EO(t,e,r);return n=="#REF"?n:ole(n,r)}function So(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,d,p=0,g=0,m,y="";if(!t[0]||!t[0][0])return"";for(var w=-1,_="",S=0,P=t[0].length;S<P;++S){var A=t[0][S];switch(A[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),w>=0){switch(t[0][w][1][0]){case 0:_=xs(" ",t[0][w][1][1]);break;case 1:_=xs("\r",t[0][w][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}c=c+_,w=-1}o.push(c+ale[A[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Eg(A[1][1],a,i),o.push(Cg(d,s));break;case"PtgRefN":d=r?Eg(A[1][1],r,i):A[1][1],o.push(Cg(d,s));break;case"PtgRef3d":p=A[1][1],d=Eg(A[1][2],a,i),y=iN(n,p,i),o.push(y+"!"+Cg(d,s));break;case"PtgFunc":case"PtgFuncVar":var V=A[1][0],W=A[1][1];V||(V=0),V&=127;var K=V==0?[]:o.slice(-V);o.length-=V,W==="User"&&(W=K.shift()),o.push(W+"("+K.join(",")+")");break;case"PtgBool":o.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(A[1]);break;case"PtgNum":o.push(String(A[1]));break;case"PtgStr":o.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(A[1]);break;case"PtgAreaN":m=jC(A[1][1],r?{s:r}:a,i),o.push(Ww(m,i));break;case"PtgArea":m=jC(A[1][1],a,i),o.push(Ww(m,i));break;case"PtgArea3d":p=A[1][1],m=A[1][2],y=iN(n,p,i),o.push(y+"!"+Ww(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=A[1][2];var j=(n.names||[])[g-1]||(n[0]||[])[g],T=j?j.Name:"SH33TJSNAME"+String(g);T&&T.slice(0,6)=="_xlfn."&&!i.xlfn&&(T=T.slice(6)),o.push(T);break;case"PtgNameX":var C=A[1][1];g=A[1][2];var D;if(i.biff<=5)C<0&&(C=-C),n[C]&&(D=n[C][g]);else{var R="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][g]&&n[C][g].itab>0&&(R=n.SheetNames[n[C][g].itab-1]+"!"):R=n.SheetNames[g-1]+"!"),n[C]&&n[C][g])R+=n[C][g].Name;else if(n[0]&&n[0][g])R+=n[0][g].Name;else{var F=(EO(n,C,i)||"").split(";;");F[g-1]?R=F[g-1]:R+="SH33TJSERRX"}o.push(R);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var B="(",ee=")";if(w>=0){switch(_="",t[0][w][1][0]){case 2:B=xs(" ",t[0][w][1][1])+B;break;case 3:B=xs("\r",t[0][w][1][1])+B;break;case 4:ee=xs(" ",t[0][w][1][1])+ee;break;case 5:ee=xs("\r",t[0][w][1][1])+ee;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}o.push(B+o.pop()+ee);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:A[1][1],r:A[1][0]};var he={c:r.c,r:r.r};if(n.sharedf[Lr(d)]){var ve=n.sharedf[Lr(d)];o.push(So(ve,a,he,n,i))}else{var fe=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){o.push(So(c[1],a,he,n,i)),fe=!0;break}fe||o.push(A[1])}break;case"PtgArray":o.push("{"+sle(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&se.indexOf(t[0][S][0])==-1){A=t[0][w];var Y=!0;switch(A[1][0]){case 4:Y=!1;case 0:_=xs(" ",A[1][1]);break;case 5:Y=!1;case 1:_=xs("\r",A[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}o.push((Y?_:"")+o.pop()+(Y?"":_)),w=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function lle(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ro(t,e-2)];var o=sx(t,a,r);return e!==a+i&&(s=ix(t,e-a-i,o,r)),t.l=n,[o,s]}function cle(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ro(t,e-2)];var o=sx(t,a,r);return e!==a+i&&(s=ix(t,e-a-i,o,r)),t.l=n,[o,s]}function ule(t,e,r,n){var i=t.l+e,s=sx(t,n,r),a;return i!==t.l&&(a=ix(t,i-t.l,s,r)),[s,a]}function dle(t,e,r){var n=t.l+e,i,s=t.read_shift(2),a=sx(t,s,r);return s==65535?[[],Ro(t,e-2)]:(e!==s+2&&(i=ix(t,n-s-2,a,r)),[a,i])}function fle(t){var e;if(dd(t,t.l+6)!==65535)return[No(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function hle(t){if(t==null){var e=wt(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return R0(t);return R0(0)}function Qw(t,e,r){var n=t.l+e,i=Bu(t);r.biff==2&&++t.l;var s=fle(t),a=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=cle(t,n-t.l,r);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function ple(t,e,r,n,i){var s=L0(e,r,i),a=hle(t.v),o=wt(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=wt(t.bf.length),d=0;d<t.bf.length;++d)c[d]=t.bf[d];var p=ja([s,a,o,c]);return p}function c4(t,e,r){var n=t.read_shift(4),i=sx(t,n,r),s=t.read_shift(4),a=s>0?ix(t,s,i,r):null;return[i,a]}var mle=c4,u4=c4,gle=c4,xle=c4,vle={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},CO={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},yle={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function sN(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function wle(t){var e="of:="+t.replace(o8,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Jw(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function _le(t){return t.replace(/\./,"!")}var Tg={},d1={},Ag=typeof Map<"u";function u8(t,e,r){var n=0,i=t.length;if(r){if(Ag?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=Ag?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Ag?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function d4(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Eo=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=h2(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=i5(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function d0(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function ph(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){xd(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function NO(t,e,r,n,i,s){try{n.cellNF&&(t.z=Ir[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Fi(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Ir[e]==null&&xd(vte[e]||"General",e),t.t==="e")t.w=t.w||Dd[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=a2(t.v);else if(t.t==="d"){var a=ma(t.v);(a|0)===a?t.w=a.toString(10):t.w=a2(a)}else{if(t.v===void 0)return"";t.w=I0(t.v,d1)}else t.t==="d"?t.w=pc(e,ma(t.v),d1):t.w=pc(e,t.v,d1)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=n5(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=n5(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function ble(t,e,r){if(t&&t["!ref"]){var n=Vn(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function kle(t,e){var r=Vn(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=Xr(r))}var Sle=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Ele=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Cle=/<(?:\w:)?hyperlink [^>]*>/mg,Nle=/"(\w*:\w*)"/,Tle=/<(?:\w:)?col\b[^>]*[\/]?>/g,Ale=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Ile=/<(?:\w:)?pageMargins[^>]*\/>/g,TO=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Ple=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Rle=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function jle(t,e,r,n,i,s,a){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",p=t.match(Ele);p?(c=t.slice(0,p.index),d=t.slice(p.index+p[0].length)):c=d=t;var g=c.match(TO);g?d8(g[0],o,i,r):(g=c.match(Ple))&&Fle(g[0],g[1]||"",o,i,r);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=c.slice(m,m+50).match(Nle);y&&kle(o,y[1])}var w=c.match(Rle);w&&w[1]&&Kle(w[1],i);var _=[];if(e.cellStyles){var S=c.match(Tle);S&&$le(_,S)}p&&Qle(p[1],o,e,l,s,a);var P=d.match(Ale);P&&(o["!autofilter"]=Hle(P[0]));var A=[],V=d.match(Sle);if(V)for(m=0;m!=V.length;++m)A[m]=Vn(V[m].slice(V[m].indexOf('"')+1));var W=d.match(Cle);W&&Ble(o,W,n);var K=d.match(Ile);if(K&&(o["!margins"]=Ule(Or(K[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Xr(l)),e.sheetRows>0&&o["!ref"]){var j=Vn(o["!ref"]);e.sheetRows<=+j.e.r&&(j.e.r=e.sheetRows-1,j.e.r>l.e.r&&(j.e.r=l.e.r),j.e.r<j.s.r&&(j.s.r=j.e.r),j.e.c>l.e.c&&(j.e.c=l.e.c),j.e.c<j.s.c&&(j.s.c=j.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Xr(j))}return _.length>0&&(o["!cols"]=_),A.length>0&&(o["!merges"]=A),o}function Lle(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Xr(t[r])+'"/>';return e+"</mergeCells>"}function d8(t,e,r,n){var i=Or(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Mn(pi(i.codeName)))}function Fle(t,e,r,n,i){d8(t.slice(0,t.indexOf(">")),r,n,i)}function Dle(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=ku(ai(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+$t("outlinePr",null,c)}!s&&!o||(i[i.length]=$t("sheetPr",o,a))}var Ole=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Mle=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Vle(t){var e={sheet:1};return Ole.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),Mle.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=i8(t.password).toString(16).toUpperCase()),$t("sheetProtection",null,e)}function Ble(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=Or(pi(e[i]),!0);if(!s.ref)return;var a=((r||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Mn(s.location))):(s.Target="#"+Mn(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Vn(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var d=Lr({c,r:l});n?(t[l]||(t[l]=[]),t[l][c]||(t[l][c]={t:"z",v:void 0}),t[l][c].l=s):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=s)}}}function Ule(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function zle(t){return d0(t),$t("pageMargins",null,t)}function $le(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=Or(e[n],!0);i.hidden&&(i.hidden=Pi(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,s8(i.width)),Yf(i);s<=a;)t[s++]=Di(i)}}function qle(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=$t("col",null,d4(i,n)));return r[r.length]="</cols>",r.join("")}function Hle(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function Wle(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Xr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=dl(i);a.s.r==a.e.r&&(a.e.r=dl(e["!ref"]).e.r,i=Xr(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),$t("autoFilter",null,{ref:i})}var Gle=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Kle(t,e){e.Views||(e.Views=[{}]),(t.match(Gle)||[]).forEach(function(r,n){var i=Or(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Pi(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function Yle(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),$t("sheetViews",$t("sheetView",null,i),{})}function Xle(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Dd[t.v];break;case"d":n&&n.cellDates?i=Fi(t.v,-1).toISOString():(t=Di(t),t.t="n",i=""+(t.v=ma(Fi(t.v)))),typeof t.z>"u"&&(t.z=Ir[14]);break;default:i=t.v;break}var o=eo("v",ai(i)),l={r:e},c=ph(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=eo("v",""+u8(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=$t("f",ai(t.f),d)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),$t("c",o,l)}var Qle=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=o2("v"),a=o2("f");return function(l,c,d,p,g,m){for(var y=0,w="",_=[],S=[],P=0,A=0,V=0,W="",K,j,T=0,C=0,D,R,F=0,B=0,ee=Array.isArray(m.CellXf),he,ve=[],fe=[],se=Array.isArray(c),Y=[],ie={},G=!1,I=!!d.sheetStubs,z=l.split(e),X=0,J=z.length;X!=J;++X){w=z[X].trim();var ce=w.length;if(ce!==0){var we=0;e:for(y=0;y<ce;++y)switch(w[y]){case">":if(w[y-1]!="/"){++y;break e}if(d&&d.cellStyles){if(j=Or(w.slice(we,y),!0),T=j.r!=null?parseInt(j.r,10):T+1,C=-1,d.sheetRows&&d.sheetRows<T)continue;ie={},G=!1,j.ht&&(G=!0,ie.hpt=parseFloat(j.ht),ie.hpx=V1(ie.hpt)),j.hidden=="1"&&(G=!0,ie.hidden=!0),j.outlineLevel!=null&&(G=!0,ie.level=+j.outlineLevel),G&&(Y[T-1]=ie)}break;case"<":we=y;break}if(we>=y)break;if(j=Or(w.slice(we,y),!0),T=j.r!=null?parseInt(j.r,10):T+1,C=-1,!(d.sheetRows&&d.sheetRows<T)){p.s.r>T-1&&(p.s.r=T-1),p.e.r<T-1&&(p.e.r=T-1),d&&d.cellStyles&&(ie={},G=!1,j.ht&&(G=!0,ie.hpt=parseFloat(j.ht),ie.hpx=V1(ie.hpt)),j.hidden=="1"&&(G=!0,ie.hidden=!0),j.outlineLevel!=null&&(G=!0,ie.level=+j.outlineLevel),G&&(Y[T-1]=ie)),_=w.slice(y).split(t);for(var ke=0;ke!=_.length&&_[ke].trim().charAt(0)=="<";++ke);for(_=_.slice(ke),y=0;y!=_.length;++y)if(w=_[y].trim(),w.length!==0){if(S=w.match(r),P=y,A=0,V=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,S!=null&&S.length===2){for(P=0,W=S[1],A=0;A!=W.length&&!((V=W.charCodeAt(A)-64)<1||V>26);++A)P=26*P+V;--P,C=P}else++C;for(A=0;A!=w.length&&w.charCodeAt(A)!==62;++A);if(++A,j=Or(w.slice(0,A),!0),j.r||(j.r=Lr({r:T-1,c:C})),W=w.slice(A),K={t:""},(S=W.match(s))!=null&&S[1]!==""&&(K.v=Mn(S[1])),d.cellFormula){if((S=W.match(a))!=null&&S[1]!==""){if(K.f=Mn(pi(S[1])).replace(/\r\n/g,`
`),d.xlfn||(K.f=tN(K.f)),S[0].indexOf('t="array"')>-1)K.F=(W.match(i)||[])[1],K.F.indexOf(":")>-1&&ve.push([Vn(K.F),K.F]);else if(S[0].indexOf('t="shared"')>-1){R=Or(S[0]);var oe=Mn(pi(S[1]));d.xlfn||(oe=tN(oe)),fe[parseInt(R.si,10)]=[R,oe,j.r]}}else(S=W.match(/<f[^>]*\/>/))&&(R=Or(S[0]),fe[R.si]&&(K.f=Gae(fe[R.si][1],fe[R.si][2],j.r)));var Ee=as(j.r);for(A=0;A<ve.length;++A)Ee.r>=ve[A][0].s.r&&Ee.r<=ve[A][0].e.r&&Ee.c>=ve[A][0].s.c&&Ee.c<=ve[A][0].e.c&&(K.F=ve[A][1])}if(j.t==null&&K.v===void 0)if(K.f||K.F)K.v=0,K.t="n";else if(I)K.t="z";else continue;else K.t=j.t||"n";switch(p.s.c>C&&(p.s.c=C),p.e.c<C&&(p.e.c=C),K.t){case"n":if(K.v==""||K.v==null){if(!I)continue;K.t="z"}else K.v=parseFloat(K.v);break;case"s":if(typeof K.v>"u"){if(!I)continue;K.t="z"}else D=Tg[parseInt(K.v,10)],K.v=D.t,K.r=D.r,d.cellHTML&&(K.h=D.h);break;case"str":K.t="s",K.v=K.v!=null?pi(K.v):"",d.cellHTML&&(K.h=$k(K.v));break;case"inlineStr":S=W.match(n),K.t="s",S!=null&&(D=n8(S[1]))?(K.v=D.t,d.cellHTML&&(K.h=D.h)):K.v="";break;case"b":K.v=Pi(K.v);break;case"d":d.cellDates?K.v=Fi(K.v,1):(K.v=ma(Fi(K.v,1)),K.t="n");break;case"e":(!d||d.cellText!==!1)&&(K.w=K.v),K.v=ID[K.v];break}if(F=B=0,he=null,ee&&j.s!==void 0&&(he=m.CellXf[j.s],he!=null&&(he.numFmtId!=null&&(F=he.numFmtId),d.cellStyles&&he.fillId!=null&&(B=he.fillId))),NO(K,F,B,d,g,m),d.cellDates&&ee&&K.t=="n"&&nm(Ir[F])&&(K.t="d",K.v=o4(K.v)),j.cm&&d.xlmeta){var Oe=(d.xlmeta.Cell||[])[+j.cm-1];Oe&&Oe.type=="XLDAPR"&&(K.D=!0)}if(se){var re=as(j.r);c[re.r]||(c[re.r]=[]),c[re.r][re.c]=K}else c[j.r]=K}}}}Y.length>0&&(c["!rows"]=Y)}})();function Jle(t,e,r,n){var i=[],s=[],a=Vn(t["!ref"]),o="",l,c="",d=[],p=0,g=0,m=t["!rows"],y=Array.isArray(t),w={r:c},_,S=-1;for(g=a.s.c;g<=a.e.c;++g)d[g]=ss(g);for(p=a.s.r;p<=a.e.r;++p){for(s=[],c=Bs(p),g=a.s.c;g<=a.e.c;++g){l=d[g]+c;var P=y?(t[p]||[])[g]:t[l];P!==void 0&&(o=Xle(P,l,t,e))!=null&&s.push(o)}(s.length>0||m&&m[p])&&(w={r:c},m&&m[p]&&(_=m[p],_.hidden&&(w.hidden=1),S=-1,_.hpx?S=p2(_.hpx):_.hpt&&(S=_.hpt),S>-1&&(w.ht=S,w.customHeight=1),_.level&&(w.outlineLevel=_.level)),i[i.length]=$t("row",s.join(""),w))}if(m)for(;p<m.length;++p)m&&m[p]&&(w={r:p+1},_=m[p],_.hidden&&(w.hidden=1),S=-1,_.hpx?S=p2(_.hpx):_.hpt&&(S=_.hpt),S>-1&&(w.ht=S,w.customHeight=1),_.level&&(w.outlineLevel=_.level),i[i.length]=$t("row","",w));return i.join("")}function AO(t,e,r,n){var i=[zs,$t("worksheet",null,{xmlns:Y0[0],"xmlns:r":fa.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",d=Vn(c);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=Xr(d)}n||(n={}),l["!comments"]=[];var p=[];Dle(l,r,t,e,i),i[i.length]=$t("dimension",null,{ref:c}),i[i.length]=Yle(l,e,t,r),e.sheetFormat&&(i[i.length]=$t("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=qle(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=Jle(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=Vle(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=Wle(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=Lle(l["!merges"]));var g=-1,m,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(w){w[1].Target&&(m={ref:w[0]},w[1].Target.charAt(0)!="#"&&(y=ni(n,-1,ai(w[1].Target).replace(/#.*$/,""),fn.HLINK),m["r:id"]="rId"+y),(g=w[1].Target.indexOf("#"))>-1&&(m.location=ai(w[1].Target.slice(g+1))),w[1].Tooltip&&(m.tooltip=ai(w[1].Tooltip)),i[i.length]=$t("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=zle(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=eo("ignoredErrors",$t("ignoredError",null,{numberStoredAsText:1,sqref:c}))),p.length>0&&(y=ni(n,-1,"../drawings/drawing"+(t+1)+".xml",fn.DRAW),i[i.length]=$t("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=p),l["!comments"].length>0&&(y=ni(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",fn.VML),i[i.length]=$t("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Zle(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function ece(t,e,r){var n=wt(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=p2(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var p=-1,g=-1,m=d<<10;m<d+1<<10;++m){c.c=m;var y=Array.isArray(r)?(r[c.r]||[])[c.c]:r[Lr(c)];y&&(p<0&&(p=m),g=m)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,g))}var w=n.l;return n.l=l,n.write_shift(4,o),n.l=w,n.length>n.l?n.slice(0,n.l):n}function tce(t,e,r,n){var i=ece(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&At(t,0,i)}var rce=Z0,nce=am;function ice(){}function sce(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=lre(t),r}function ace(t,e,r){r==null&&(r=wt(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return e5({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),ED(t,r),r.slice(0,r.l)}function oce(t){var e=gc(t);return[e]}function lce(t,e,r){return r==null&&(r=wt(8)),X0(e,r)}function cce(t){var e=Q0(t);return[e]}function uce(t,e,r){return r==null&&(r=wt(4)),J0(e,r)}function dce(t){var e=gc(t),r=t.read_shift(1);return[e,r,"b"]}function fce(t,e,r){return r==null&&(r=wt(9)),X0(e,r),r.write_shift(1,t.v?1:0),r}function hce(t){var e=Q0(t),r=t.read_shift(1);return[e,r,"b"]}function pce(t,e,r){return r==null&&(r=wt(5)),J0(e,r),r.write_shift(1,t.v?1:0),r}function mce(t){var e=gc(t),r=t.read_shift(1);return[e,r,"e"]}function gce(t,e,r){return r==null&&(r=wt(9)),X0(e,r),r.write_shift(1,t.v),r}function xce(t){var e=Q0(t),r=t.read_shift(1);return[e,r,"e"]}function vce(t,e,r){return r==null&&(r=wt(8)),J0(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function yce(t){var e=gc(t),r=t.read_shift(4);return[e,r,"s"]}function wce(t,e,r){return r==null&&(r=wt(12)),X0(e,r),r.write_shift(4,e.v),r}function _ce(t){var e=Q0(t),r=t.read_shift(4);return[e,r,"s"]}function bce(t,e,r){return r==null&&(r=wt(8)),J0(e,r),r.write_shift(4,e.v),r}function kce(t){var e=gc(t),r=No(t);return[e,r,"n"]}function Sce(t,e,r){return r==null&&(r=wt(16)),X0(e,r),R0(t.v,r),r}function IO(t){var e=Q0(t),r=No(t);return[e,r,"n"]}function Ece(t,e,r){return r==null&&(r=wt(12)),J0(e,r),R0(t.v,r),r}function Cce(t){var e=gc(t),r=Jk(t);return[e,r,"n"]}function Nce(t,e,r){return r==null&&(r=wt(12)),X0(e,r),CD(t.v,r),r}function Tce(t){var e=Q0(t),r=Jk(t);return[e,r,"n"]}function Ace(t,e,r){return r==null&&(r=wt(8)),J0(e,r),CD(t.v,r),r}function Ice(t){var e=gc(t),r=Yk(t);return[e,r,"is"]}function Pce(t){var e=gc(t),r=Po(t);return[e,r,"str"]}function Rce(t,e,r){return r==null&&(r=wt(12+4*t.v.length)),X0(e,r),La(t.v,r),r.length>r.l?r.slice(0,r.l):r}function jce(t){var e=Q0(t),r=Po(t);return[e,r,"str"]}function Lce(t,e,r){return r==null&&(r=wt(8+4*t.v.length)),J0(e,r),La(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Fce(t,e,r){var n=t.l+e,i=gc(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=u4(t,n-t.l,r);a[3]=So(o,null,i,r.supbooks,r)}else t.l=n;return a}function Dce(t,e,r){var n=t.l+e,i=gc(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=u4(t,n-t.l,r);a[3]=So(o,null,i,r.supbooks,r)}else t.l=n;return a}function Oce(t,e,r){var n=t.l+e,i=gc(t);i.r=r["!row"];var s=No(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=u4(t,n-t.l,r);a[3]=So(o,null,i,r.supbooks,r)}else t.l=n;return a}function Mce(t,e,r){var n=t.l+e,i=gc(t);i.r=r["!row"];var s=Po(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=u4(t,n-t.l,r);a[3]=So(o,null,i,r.supbooks,r)}else t.l=n;return a}var Vce=Z0,Bce=am;function Uce(t,e){return e==null&&(e=wt(4)),e.write_shift(4,t),e}function zce(t,e){var r=t.l+e,n=Z0(t),i=Xk(t),s=Po(t),a=Po(t),o=Po(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function $ce(t,e){var r=wt(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));am({s:as(t[0]),e:as(t[0])},r),Qk("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return La(i||"",r),La(t[1].Tooltip||"",r),La("",r),r.slice(0,r.l)}function qce(){}function Hce(t,e,r){var n=t.l+e,i=ND(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=mle(t,n-t.l,r);a[1]=o}else t.l=n;return a}function Wce(t,e,r){var n=t.l+e,i=Z0(t),s=[i];if(r.cellFormula){var a=xle(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function Gce(t,e,r){r==null&&(r=wt(18));var n=d4(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var PO=["left","right","top","bottom","header","footer"];function Kce(t){var e={};return PO.forEach(function(r){e[r]=No(t)}),e}function Yce(t,e){return e==null&&(e=wt(48)),d0(t),PO.forEach(function(r){R0(t[r],e)}),e}function Xce(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Qce(t,e,r){r==null&&(r=wt(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Jce(t){var e=wt(24);return e.write_shift(4,4),e.write_shift(4,1),am(t,e),e}function Zce(t,e){return e==null&&(e=wt(66)),e.write_shift(2,t.password?i8(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function eue(){}function tue(){}function rue(t,e,r,n,i,s,a){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},p=!1,g=!1,m,y,w,_,S,P,A,V,W,K=[];o.biff=12,o["!row"]=0;var j=0,T=!1,C=[],D={},R=o.supbooks||i.supbooks||[[]];if(R.sharedf=D,R.arrayf=C,R.SheetNames=i.SheetNames||i.Sheets.map(function(se){return se.name}),!o.supbooks&&(o.supbooks=R,i.Names))for(var F=0;F<i.Names.length;++F)R[0][F+1]=i.Names[F];var B=[],ee=[],he=!1;m2[16]={n:"BrtShortReal",f:IO};var ve;if(Fd(t,function(Y,ie,G){if(!g)switch(G){case 148:c=Y;break;case 0:m=Y,o.sheetRows&&o.sheetRows<=m.r&&(g=!0),V=Bs(_=m.r),o["!row"]=m.r,(Y.hidden||Y.hpt||Y.level!=null)&&(Y.hpt&&(Y.hpx=V1(Y.hpt)),ee[Y.r]=Y);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:Y[2]},Y[2]){case"n":y.v=Y[1];break;case"s":A=Tg[Y[1]],y.v=A.t,y.r=A.r;break;case"b":y.v=!!Y[1];break;case"e":y.v=Y[1],o.cellText!==!1&&(y.w=Dd[y.v]);break;case"str":y.t="s",y.v=Y[1];break;case"is":y.t="s",y.v=Y[1].t;break}if((w=a.CellXf[Y[0].iStyleRef])&&NO(y,w.numFmtId,null,o,s,a),S=Y[0].c==-1?S+1:Y[0].c,o.dense?(l[_]||(l[_]=[]),l[_][S]=y):l[ss(S)+V]=y,o.cellFormula){for(T=!1,j=0;j<C.length;++j){var I=C[j];m.r>=I[0].s.r&&m.r<=I[0].e.r&&S>=I[0].s.c&&S<=I[0].e.c&&(y.F=Xr(I[0]),T=!0)}!T&&Y.length>3&&(y.f=Y[3])}if(d.s.r>m.r&&(d.s.r=m.r),d.s.c>S&&(d.s.c=S),d.e.r<m.r&&(d.e.r=m.r),d.e.c<S&&(d.e.c=S),o.cellDates&&w&&y.t=="n"&&nm(Ir[w.numFmtId])){var z=Zh(y.v);z&&(y.t="d",y.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}ve&&(ve.type=="XLDAPR"&&(y.D=!0),ve=void 0);break;case 1:case 12:if(!o.sheetStubs||p)break;y={t:"z",v:void 0},S=Y[0].c==-1?S+1:Y[0].c,o.dense?(l[_]||(l[_]=[]),l[_][S]=y):l[ss(S)+V]=y,d.s.r>m.r&&(d.s.r=m.r),d.s.c>S&&(d.s.c=S),d.e.r<m.r&&(d.e.r=m.r),d.e.c<S&&(d.e.c=S),ve&&(ve.type=="XLDAPR"&&(y.D=!0),ve=void 0);break;case 176:K.push(Y);break;case 49:ve=((o.xlmeta||{}).Cell||[])[Y-1];break;case 494:var X=n["!id"][Y.relId];for(X?(Y.Target=X.Target,Y.loc&&(Y.Target+="#"+Y.loc),Y.Rel=X):Y.relId==""&&(Y.Target="#"+Y.loc),_=Y.rfx.s.r;_<=Y.rfx.e.r;++_)for(S=Y.rfx.s.c;S<=Y.rfx.e.c;++S)o.dense?(l[_]||(l[_]=[]),l[_][S]||(l[_][S]={t:"z",v:void 0}),l[_][S].l=Y):(P=Lr({c:S,r:_}),l[P]||(l[P]={t:"z",v:void 0}),l[P].l=Y);break;case 426:if(!o.cellFormula)break;C.push(Y),W=o.dense?l[_][S]:l[ss(S)+V],W.f=So(Y[1],d,{r:m.r,c:S},R,o),W.F=Xr(Y[0]);break;case 427:if(!o.cellFormula)break;D[Lr(Y[0].s)]=Y[1],W=o.dense?l[_][S]:l[ss(S)+V],W.f=So(Y[1],d,{r:m.r,c:S},R,o);break;case 60:if(!o.cellStyles)break;for(;Y.e>=Y.s;)B[Y.e--]={width:Y.w/256,hidden:!!(Y.flags&1),level:Y.level},he||(he=!0,s8(Y.w/256)),Yf(B[Y.e+1]);break;case 161:l["!autofilter"]={ref:Xr(Y)};break;case 476:l["!margins"]=Y;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),Y.name&&(i.Sheets[r].CodeName=Y.name),(Y.above||Y.left)&&(l["!outline"]={above:Y.above,left:Y.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Y.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:p=!0;break;case 36:p=!1;break;case 37:p=!0;break;case 38:p=!1;break;default:if(!ie.T){if(!p||o.WTF)throw new Error("Unexpected record 0x"+G.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Xr(c||d)),o.sheetRows&&l["!ref"]){var fe=Vn(l["!ref"]);o.sheetRows<=+fe.e.r&&(fe.e.r=o.sheetRows-1,fe.e.r>d.e.r&&(fe.e.r=d.e.r),fe.e.r<fe.s.r&&(fe.s.r=fe.e.r),fe.e.c>d.e.c&&(fe.e.c=d.e.c),fe.e.c<fe.s.c&&(fe.s.c=fe.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Xr(fe))}return K.length>0&&(l["!merges"]=K),B.length>0&&(l["!cols"]=B),ee.length>0&&(l["!rows"]=ee),l}function nue(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Di(e),e.z=e.z||Ir[14],e.v=ma(Fi(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=ph(i.cellXfs,e,i),e.l&&s["!links"].push([Lr(l),e.l]),e.c&&s["!comments"].push([Lr(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=u8(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?At(t,18,bce(e,l)):At(t,7,wce(e,l))):(l.t="str",a?At(t,17,Lce(e,l)):At(t,6,Rce(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?At(t,13,Ace(e,l)):At(t,2,Nce(e,l)):a?At(t,16,Ece(e,l)):At(t,5,Sce(e,l)),!0;case"b":return l.t="b",a?At(t,15,pce(e,l)):At(t,4,fce(e,l)),!0;case"e":return l.t="e",a?At(t,14,vce(e,l)):At(t,3,gce(e,l)),!0}return a?At(t,12,uce(e,l)):At(t,1,lce(e,l)),!0}function iue(t,e,r,n){var i=Vn(e["!ref"]||"A1"),s,a="",o=[];At(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=c;++d){a=Bs(d),tce(t,e,i,d);var p=!1;if(d<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){d===i.s.r&&(o[g]=ss(g)),s=o[g]+a;var m=l?(e[d]||[])[g]:e[s];if(!m){p=!1;continue}p=nue(t,m,d,g,n,e,p)}}At(t,146)}function sue(t,e){!e||!e["!merges"]||(At(t,177,Uce(e["!merges"].length)),e["!merges"].forEach(function(r){At(t,176,Bce(r))}),At(t,178))}function aue(t,e){!e||!e["!cols"]||(At(t,390),e["!cols"].forEach(function(r,n){r&&At(t,60,Gce(n,r))}),At(t,391))}function oue(t,e){!e||!e["!ref"]||(At(t,648),At(t,649,Jce(Vn(e["!ref"]))),At(t,650))}function lue(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=ni(r,-1,n[1].Target.replace(/#.*$/,""),fn.HLINK);At(t,494,$ce(n,i))}}),delete e["!links"]}function cue(t,e,r,n){if(e["!comments"].length>0){var i=ni(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",fn.VML);At(t,551,Qk("rId"+i)),e["!legacy"]=i}}function uue(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Xr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=dl(s);o.s.r==o.e.r&&(o.e.r=dl(e["!ref"]).e.r,s=Xr(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),At(t,161,am(Vn(s))),At(t,162)}}function due(t,e,r){At(t,133),At(t,137,Qce(e,r)),At(t,138),At(t,134)}function fue(t,e){e["!protect"]&&At(t,535,Zce(e["!protect"]))}function hue(t,e,r,n){var i=ul(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Vn(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],At(i,129),(r.vbaraw||a["!outline"])&&At(i,147,ace(o,a["!outline"])),At(i,148,nce(l)),due(i,a,r.Workbook),aue(i,a),iue(i,a,t,e),fue(i,a),uue(i,a,r,t),sue(i,a),lue(i,a,n),a["!margins"]&&At(i,476,Yce(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&oue(i,a),cue(i,a,t,n),At(i,130),i.end()}function pue(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=r?+a[2]:a[2])});var i=Mn((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function mue(t,e,r,n,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(p){var g=pue(p);d.s.r=d.s.c=0,d.e.c=o,c=ss(o),g[0].forEach(function(m,y){a[c+Bs(y)]={t:"n",v:m,z:g[1]},l=y}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(a["!ref"]=Xr(d)),a}function gue(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(TO);return o&&d8(o[0],s,i,r),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function xue(t,e){t.l+=10;var r=Po(t);return{name:r}}function vue(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Fd(t,function(l,c,d){switch(d){case 550:s["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var f8=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],yue=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],wue=[],_ue=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function aN(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Pi(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function oN(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Pi(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function RO(t){oN(t.WBProps,f8),oN(t.CalcPr,_ue),aN(t.WBView,yue),aN(t.Sheets,wue),d1.date1904=Pi(t.WBProps.date1904)}function bue(t){return!t.Workbook||!t.Workbook.WBProps?"false":Pi(t.Workbook.WBProps.date1904)?"true":"false"}var kue="][*?/\\".split("");function jO(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return kue.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Sue(t,e,r){t.forEach(function(n,i){jO(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function Eue(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Sue(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)ble(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var Cue=/<\w+:workbook/;function Nue(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(t.replace(jo,function(l,c){var d=Or(l);switch(Vu(d[0])){case"<?xml":break;case"<workbook":l.match(Cue)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":f8.forEach(function(p){if(d[p[0]]!=null)switch(p[2]){case"bool":r.WBProps[p[0]]=Pi(d[p[0]]);break;case"int":r.WBProps[p[0]]=parseInt(d[p[0]],10);break;default:r.WBProps[p[0]]=d[p[0]]}}),d.codeName&&(r.WBProps.CodeName=pi(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Mn(pi(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=pi(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Pi(d.hidden||"0")&&(s.Hidden=!0),a=c+l.length;break;case"</definedName>":s.Ref=Mn(pi(t.slice(a,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Y0.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return RO(r),r}function LO(t){var e=[zs];e[e.length]=$t("workbook",null,{xmlns:Y0[0],"xmlns:r":fa.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(f8.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=$t("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:ai(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=$t("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=$t("definedName",ai(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Tue(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=K_(t),r.name=Po(t),r}function Aue(t,e){return e||(e=wt(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Qk(t.strRelID,e),La(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Iue(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Po(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Pue(t,e){e||(e=wt(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),ED(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Rue(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function jue(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=cre(t),a=gle(t,0,r),o=Xk(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Lue(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],m2[16]={n:"BrtFRTArchID$",f:Rue},Fd(t,function(l,c,d){switch(d){case 156:a.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=So(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([d,l]):a[0]=[d,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(d),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),RO(r),r.Names=s,r.supbooks=a,r}function Fue(t,e){At(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};At(t,156,Aue(i))}At(t,144)}function Due(t,e){e||(e=wt(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return La("SheetJS",e),La(Gy.version,e),La(Gy.version,e),La("7262",e),e.length>e.l?e.slice(0,e.l):e}function Oue(t,e){e||(e=wt(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function Mue(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(At(t,135),At(t,158,Oue(i)),At(t,136))}}function Vue(t,e){var r=ul();return At(r,131),At(r,128,Due()),At(r,153,Pue(t.Workbook&&t.Workbook.WBProps||null)),Mue(r,t),Fue(r,t),At(r,132),r.end()}function Bue(t,e,r){return e.slice(-4)===".bin"?Lue(t,r):Nue(t,r)}function Uue(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?rue(t,n,r,i,s,a,o):jle(t,n,r,i,s,a,o)}function zue(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?vue(t,n,r,i,s):gue(t,n,r,i,s)}function $ue(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?Hae():Wae()}function que(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?$ae():qae()}function Hue(t,e,r,n){return e.slice(-4)===".bin"?Bse(t,r,n):Tse(t,r,n)}function Wue(t,e,r){return pO(t,r)}function Gue(t,e,r){return e.slice(-4)===".bin"?Gie(t,r):qie(t,r)}function Kue(t,e,r){return e.slice(-4)===".bin"?Mae(t,r):Aae(t,r)}function Yue(t,e,r){return e.slice(-4)===".bin"?Cae(t):Sae(t)}function Xue(t,e,r,n){return r.slice(-4)===".bin"?Nae(t,e,r,n):void 0}function Que(t,e,r){return e.slice(-4)===".bin"?_ae(t,e,r):kae(t,e,r)}function Jue(t,e,r){return(e.slice(-4)===".bin"?Vue:LO)(t)}function Zue(t,e,r,n,i){return(e.slice(-4)===".bin"?hue:AO)(t,r,n,i)}function ede(t,e,r){return(e.slice(-4)===".bin"?Xse:fO)(t,r)}function tde(t,e,r){return(e.slice(-4)===".bin"?Xie:iO)(t,r)}function rde(t,e,r){return(e.slice(-4)===".bin"?Vae:xO)(t)}function nde(t){return(t.slice(-4)===".bin"?bae:mO)()}var FO=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,DO=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function jc(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(FO),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(DO),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function ide(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(FO),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(DO),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),r[a]=i[2].slice(1,i[2].length-1));return r}var Ig;function sde(t,e){var r=Ig[t]||Mn(t);return r==="General"?I0(e):pc(r,e)}function ade(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Pi(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Fi(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Mn(e)]=i}function ode(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Dd[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=a2(t.v):t.w=I0(t.v):t.w=sde(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=Ig[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&nm(n)){var i=Zh(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function lde(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=wse[n.Pattern]||n.Pattern)}t[e.ID]=e}function cde(t,e,r,n,i,s,a,o,l,c){var d="General",p=n.StyleID,g={};c=c||{};var m=[],y=0;for(p===void 0&&o&&(p=o.StyleID),p===void 0&&a&&(p=a.StyleID);s[p]!==void 0&&(s[p].nf&&(d=s[p].nf),s[p].Interior&&m.push(s[p].Interior),!!s[p].Parent);)p=s[p].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Pi(t);break;case"String":n.t="s",n.r=SC(Mn(t)),n.v=t.indexOf("<")>-1?Mn(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Fi(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Mn(t):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=ID[t],c.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=SC(e||t));break}if(ode(n,d,c),c.cellFormula!==!1)if(n.Formula){var w=Mn(n.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),n.f=u1(w,i),delete n.Formula,n.ArrayRange=="RC"?n.F=u1("RC:RC",i):n.ArrayRange&&(n.F=u1(n.ArrayRange,i),l.push([Vn(n.F),n.F]))}else for(y=0;y<l.length;++y)i.r>=l[y][0].s.r&&i.r<=l[y][0].e.r&&i.c>=l[y][0].s.c&&i.c<=l[y][0].e.c&&(n.F=l[y][1]);c.cellStyles&&(m.forEach(function(_){!g.patternType&&_.patternType&&(g.patternType=_.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function ude(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Zw(t,e){var r=e||{};im();var n=cg(qk(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=pi(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Di(r);return a.type="string",M1.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ot){i.indexOf("<"+ot)>=0&&(s=!0)}),s)return Yde(n,r);Ig={"General Number":"General","General Date":Ir[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ir[15],"Short Date":Ir[14],"Long Time":Ir[19],"Medium Time":Ir[18],"Short Time":Ir[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ir[2],Standard:Ir[4],Percent:Ir[10],Scientific:Ir[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,d={},p=[],g=r.dense?[]:{},m="",y={},w={},_=jc('<Data ss:Type="String">'),S=0,P=0,A=0,V={s:{r:2e6,c:2e6},e:{r:0,c:0}},W={},K={},j="",T=0,C=[],D={},R={},F=0,B=[],ee=[],he={},ve=[],fe,se=!1,Y=[],ie=[],G={},I=0,z=0,X={Sheets:[],WBProps:{date1904:!1}},J={};c2.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ce="";o=c2.exec(n);)switch(o[3]=(ce=o[3]).toLowerCase()){case"data":if(ce=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?cde(n.slice(S,o.index),j,_,l[l.length-1][0]=="comment"?he:y,{c:P,r:A},W,ve[P],w,Y,r):(j="",_=jc(o[0]),S=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(ee.length>0&&(y.c=ee),(!r.sheetRows||r.sheetRows>A)&&y.v!==void 0&&(r.dense?(g[A]||(g[A]=[]),g[A][P]=y):g[ss(P)+Bs(A)]=y),y.HRef&&(y.l={Target:Mn(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(I=P+(parseInt(y.MergeAcross,10)|0),z=A+(parseInt(y.MergeDown,10)|0),C.push({s:{c:P,r:A},e:{c:I,r:z}})),!r.sheetStubs)y.MergeAcross?P=I+1:++P;else if(y.MergeAcross||y.MergeDown){for(var we=P;we<=I;++we)for(var ke=A;ke<=z;++ke)(we>P||ke>A)&&(r.dense?(g[ke]||(g[ke]=[]),g[ke][we]={t:"z"}):g[ss(we)+Bs(ke)]={t:"z"});P=I+1}else++P;else y=ide(o[0]),y.Index&&(P=+y.Index-1),P<V.s.c&&(V.s.c=P),P>V.e.c&&(V.e.c=P),o[0].slice(-2)==="/>"&&++P,ee=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(A<V.s.r&&(V.s.r=A),A>V.e.r&&(V.e.r=A),o[0].slice(-2)==="/>"&&(w=jc(o[0]),w.Index&&(A=+w.Index-1)),P=0,++A):(w=jc(o[0]),w.Index&&(A=+w.Index-1),G={},(w.AutoFitHeight=="0"||w.Height)&&(G.hpx=parseInt(w.Height,10),G.hpt=p2(G.hpx),ie[A]=G),w.Hidden=="1"&&(G.hidden=!0,ie[A]=G));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));p.push(m),V.s.r<=V.e.r&&V.s.c<=V.e.c&&(g["!ref"]=Xr(V),r.sheetRows&&r.sheetRows<=V.e.r&&(g["!fullref"]=g["!ref"],V.e.r=r.sheetRows-1,g["!ref"]=Xr(V))),C.length&&(g["!merges"]=C),ve.length>0&&(g["!cols"]=ve),ie.length>0&&(g["!rows"]=ie),d[m]=g}else V={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=P=0,l.push([o[3],!1]),c=jc(o[0]),m=Mn(c.Name),g=r.dense?[]:{},C=[],Y=[],ie=[],J={name:m,Hidden:0},X.Sheets.push(J);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),ve=[],se=!1}break;case"style":o[1]==="/"?lde(W,K,r):K=jc(o[0]);break;case"numberformat":K.nf=Mn(jc(o[0]).Format||"General"),Ig[K.nf]&&(K.nf=Ig[K.nf]);for(var oe=0;oe!=392&&Ir[oe]!=K.nf;++oe);if(oe==392){for(oe=57;oe!=392;++oe)if(Ir[oe]==null){xd(K.nf,oe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(fe=jc(o[0]),fe.Hidden&&(fe.hidden=!0,delete fe.Hidden),fe.Width&&(fe.wpx=parseInt(fe.Width,10)),!se&&fe.wpx>10){se=!0,Eo=uO;for(var Ee=0;Ee<ve.length;++Ee)ve[Ee]&&Yf(ve[Ee])}se&&Yf(fe),ve[fe.Index-1||ve.length]=fe;for(var Oe=0;Oe<+fe.Span;++Oe)ve[ve.length]=Di(fe);break;case"namedrange":if(o[1]==="/")break;X.Names||(X.Names=[]);var re=Or(o[0]),_e={Name:re.Name,Ref:u1(re.RefersTo.slice(1),{r:0,c:0})};X.Sheets.length>0&&(_e.Sheet=X.Sheets.length-1),X.Names.push(_e);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?j+=n.slice(T,o.index):T=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;K.Interior=jc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Lre(D,ce,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));ude(he),ee.push(he)}else l.push([o[3],!1]),c=jc(o[0]),he={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Re=jc(o[0]);g["!autofilter"]={ref:u1(Re.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return fN(n,r);var pe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:pe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:pe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":X.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:pe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:pe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else F=o.index+o[0].length;break;case"header":g["!margins"]||d0(g["!margins"]={},"xlml"),isNaN(+Or(o[0]).Margin)||(g["!margins"].header=+Or(o[0]).Margin);break;case"footer":g["!margins"]||d0(g["!margins"]={},"xlml"),isNaN(+Or(o[0]).Margin)||(g["!margins"].footer=+Or(o[0]).Margin);break;case"pagemargins":var Ye=Or(o[0]);g["!margins"]||d0(g["!margins"]={},"xlml"),isNaN(+Ye.Top)||(g["!margins"].top=+Ye.Top),isNaN(+Ye.Left)||(g["!margins"].left=+Ye.Left),isNaN(+Ye.Right)||(g["!margins"].right=+Ye.Right),isNaN(+Ye.Bottom)||(g["!margins"].bottom=+Ye.Bottom);break;case"displayrighttoleft":X.Views||(X.Views=[]),X.Views[0]||(X.Views[0]={}),X.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:pe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:pe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:pe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:pe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:pe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:pe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:pe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:pe=!1}break;case"smarttags":break;default:pe=!1;break}if(pe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?ade(R,ce,B,n.slice(F,o.index)):(B=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ze={};return!r.bookSheets&&!r.bookProps&&(ze.Sheets=d),ze.SheetNames=p,ze.Workbook=X,ze.SSF=Di(Ir),ze.Props=D,ze.Custprops=R,ze}function tb(t,e){switch(p8(e=e||{}),e.type||"base64"){case"base64":return Zw(Vl(t),e);case"binary":case"buffer":case"file":return Zw(t,e);case"array":return Zw(fh(t),e)}}function dde(t,e){var r=[];return t.Props&&r.push(Fre(t.Props,e)),t.Custprops&&r.push(Dre(t.Props,t.Custprops)),r.join("")}function fde(){return""}function hde(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push($t("NumberFormat",null,{"ss:Format":ai(Ir[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push($t("Style",s.join(""),a))}),$t("Styles",r.join(""))}function OO(t){return $t("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+l8(t.Ref,{r:0,c:0})})}function pde(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(OO(i)))}return $t("Names",r.join(""))}function mde(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(OO(o)))}return s.join("")}function gde(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push($t("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push($t("Footer",null,{"x:Margin":t["!margins"].footer})),i.push($t("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push($t("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(eo("ProtectContents","True")),t["!protect"].objects&&i.push(eo("ProtectObjects","True")),t["!protect"].scenarios&&i.push(eo("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(eo("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(eo("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":$t("WorksheetOptions",i.join(""),{xmlns:Al.x})}function xde(t){return t.map(function(e){var r=Mte(e.t||""),n=$t("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return $t("Comment",n,{"ss:Author":e.a})}).join("")}function vde(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+ai(l8(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=as(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=ai(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=ai(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],d=0;d!=c.length;++d)c[d].s.c!=a.c||c[d].s.r!=a.r||(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var p="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(t.v);break;case"b":p="Boolean",g=t.v?"1":"0";break;case"e":p="Error",g=Dd[t.v];break;case"d":p="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ir[14]);break;case"s":p="String",g=Ote(t.v||"");break}var m=ph(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var y=t.v!=null?g:"",w=t.t=="z"?"":'<Data ss:Type="'+p+'">'+y+"</Data>";return(t.c||[]).length>0&&(w+=xde(t.c)),$t("Cell",w,o)}function yde(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=V1(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function wde(t,e,r,n){if(!t["!ref"])return"";var i=Vn(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(_,S){Yf(_);var P=!!_.width,A=d4(S,_),V={"ss:Index":S+1};P&&(V["ss:Width"]=f2(A.width)),_.hidden&&(V["ss:Hidden"]="1"),o.push($t("Column",null,V))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var d=[yde(c,(t["!rows"]||[])[c])],p=i.s.c;p<=i.e.c;++p){var g=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>p)&&!(s[a].s.r>c)&&!(s[a].e.c<p)&&!(s[a].e.r<c)){(s[a].s.c!=p||s[a].s.r!=c)&&(g=!0);break}if(!g){var m={r:c,c:p},y=Lr(m),w=l?(t[c]||[])[p]:t[y];d.push(vde(w,y,t,e,r,n,m))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function _de(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?mde(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?wde(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(gde(s,e,t,r)),n.join("")}function bde(t,e){e||(e={}),t.SSF||(t.SSF=Di(Ir)),t.SSF&&(im(),i4(t.SSF),e.revssf=a4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],ph(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(dde(t,e)),r.push(fde()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push($t("Worksheet",_de(n,e,t),{"ss:Name":ai(t.SheetNames[n])}));return r[2]=hde(t,e),r[3]=pde(t),zs+$t("Workbook",r.join(""),{xmlns:Al.ss,"xmlns:o":Al.o,"xmlns:x":Al.x,"xmlns:ss":Al.ss,"xmlns:dt":Al.dt,"xmlns:html":Al.html})}function kde(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=pre(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=mre(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var Sde=[60,1084,2066,2165,2175];function Ede(t,e,r,n,i){var s=n,a=[],o=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),r.l+=s;for(var l=dd(r,r.l),c=rb[l],d=0;c!=null&&Sde.indexOf(l)>-1;)s=dd(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+s),a.push(o),r.l+=4+s,c=rb[l=dd(r,r.l)];var p=ja(a);Ja(p,0);var g=0;p.lens=[];for(var m=0;m<a.length;++m)p.lens.push(g),g+=a[m].length;if(p.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+p.length+" < "+n;return e.f(p,p.length,i)}function du(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Ir[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Dd[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=a2(t.v):t.w=I0(t.v):t.w=pc(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&nm(Ir[n]||String(n))){var i=Zh(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function _v(t,e,r){return{v:t,ixfe:e,t:r}}function Cde(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,l=[],c="",d={},p,g="",m,y,w,_,S={},P=[],A,V,W=[],K=[],j={Sheets:[],WBProps:{date1904:!1},Views:[{}]},T={},C=function(lt){return lt<8?l0[lt]:lt<64&&K[lt-8]||l0[lt]},D=function(lt,xt,Ut){var Kt=xt.XF.data;if(!(!Kt||!Kt.patternType||!Ut||!Ut.cellStyles)){xt.s={},xt.s.patternType=Kt.patternType;var Ct;(Ct=d2(C(Kt.icvFore)))&&(xt.s.fgColor={rgb:Ct}),(Ct=d2(C(Kt.icvBack)))&&(xt.s.bgColor={rgb:Ct})}},R=function(lt,xt,Ut){if(!(G>1)&&!(Ut.sheetRows&&lt.r>=Ut.sheetRows)){if(Ut.cellStyles&&xt.XF&&xt.XF.data&&D(lt,xt,Ut),delete xt.ixfe,delete xt.XF,p=lt,g=Lr(lt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),lt.r<a.s.r&&(a.s.r=lt.r),lt.c<a.s.c&&(a.s.c=lt.c),lt.r+1>a.e.r&&(a.e.r=lt.r+1),lt.c+1>a.e.c&&(a.e.c=lt.c+1),Ut.cellFormula&&xt.f){for(var Kt=0;Kt<P.length;++Kt)if(!(P[Kt][0].s.c>lt.c||P[Kt][0].s.r>lt.r)&&!(P[Kt][0].e.c<lt.c||P[Kt][0].e.r<lt.r)){xt.F=Xr(P[Kt][0]),(P[Kt][0].s.c!=lt.c||P[Kt][0].s.r!=lt.r)&&delete xt.f,xt.f&&(xt.f=""+So(P[Kt][1],a,lt,Y,F));break}}Ut.dense?(i[lt.r]||(i[lt.r]=[]),i[lt.r][lt.c]=xt):i[g]=xt}},F={enc:!1,sbcch:0,snames:[],sharedf:S,arrayf:P,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var B,ee=[],he=[],ve=[],fe=[],se=!1,Y=[];Y.SheetNames=F.snames,Y.sharedf=F.sharedf,Y.arrayf=F.arrayf,Y.names=[],Y.XTI=[];var ie=0,G=0,I=0,z=[],X=[],J;F.codepage=1200,Oc(1200);for(var ce=!1;t.l<t.length-1;){var we=t.l,ke=t.read_shift(2);if(ke===0&&ie===10)break;var oe=t.l===t.length?0:t.read_shift(2),Ee=rb[ke];if(Ee&&Ee.f){if(e.bookSheets&&ie===133&&ke!==133)break;if(ie=ke,Ee.r===2||Ee.r==12){var Oe=t.read_shift(2);if(oe-=2,!F.enc&&Oe!==ke&&((Oe&255)<<8|Oe>>8)!==ke)throw new Error("rt mismatch: "+Oe+"!="+ke);Ee.r==12&&(t.l+=10,oe-=10)}var re={};if(ke===10?re=Ee.f(t,oe,F):re=Ede(ke,Ee,t,oe,F),G==0&&[9,521,1033,2057].indexOf(ie)===-1)continue;switch(ke){case 34:r.opts.Date1904=j.WBProps.date1904=re;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(t.l=0),F.enc=re,!e.password)throw new Error("File is password-protected");if(re.valid==null)throw new Error("Encryption scheme unsupported");if(!re.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=re;break;case 66:var _e=Number(re);switch(_e){case 21010:_e=1200;break;case 32768:_e=1e4;break;case 32769:_e=1252;break}Oc(F.codepage=_e),ce=!0;break;case 317:F.rrtabid=re;break;case 25:F.winlocked=re;break;case 439:r.opts.RefreshAll=re;break;case 12:r.opts.CalcCount=re;break;case 16:r.opts.CalcDelta=re;break;case 17:r.opts.CalcIter=re;break;case 13:r.opts.CalcMode=re;break;case 14:r.opts.CalcPrecision=re;break;case 95:r.opts.CalcSaveRecalc=re;break;case 15:F.CalcRefMode=re;break;case 2211:r.opts.FullCalc=re;break;case 129:re.fDialog&&(i["!type"]="dialog"),re.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),re.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:W.push(re);break;case 430:Y.push([re]),Y[Y.length-1].XTI=[];break;case 35:case 547:Y[Y.length-1].push(re);break;case 24:case 536:J={Name:re.Name,Ref:So(re.rgce,a,null,Y,F)},re.itab>0&&(J.Sheet=re.itab-1),Y.names.push(J),Y[0]||(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].push(re),re.Name=="_xlnm._FilterDatabase"&&re.itab>0&&re.rgce&&re.rgce[0]&&re.rgce[0][0]&&re.rgce[0][0][0]=="PtgArea3d"&&(X[re.itab-1]={ref:Xr(re.rgce[0][0][1][2])});break;case 22:F.ExternCount=re;break;case 23:Y.length==0&&(Y[0]=[],Y[0].XTI=[]),Y[Y.length-1].XTI=Y[Y.length-1].XTI.concat(re),Y.XTI=Y.XTI.concat(re);break;case 2196:if(F.biff<8)break;J!=null&&(J.Comment=re[1]);break;case 18:i["!protect"]=re;break;case 19:re!==0&&F.WTF&&console.error("Password verifier: "+re);break;case 133:s[re.pos]=re,F.snames.push(re.name);break;case 10:{if(--G)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=Xr(a),e.sheetRows&&e.sheetRows<=a.e.r){var Re=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Xr(a),a.e.r=Re}a.e.r++,a.e.c++}ee.length>0&&(i["!merges"]=ee),he.length>0&&(i["!objects"]=he),ve.length>0&&(i["!cols"]=ve),fe.length>0&&(i["!rows"]=fe),j.Sheets.push(T)}c===""?d=i:n[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[ke]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[re.BIFFVer]||8),F.biffguess=re.BIFFVer==0,re.BIFFVer==0&&re.dt==4096&&(F.biff=5,ce=!0,Oc(F.codepage=28591)),F.biff==8&&re.BIFFVer==0&&re.dt==16&&(F.biff=2),G++)break;if(i=e.dense?[]:{},F.biff<8&&!ce&&(ce=!0,Oc(F.codepage=e.codepage||1252)),F.biff<5||re.BIFFVer==0&&re.dt==4096){c===""&&(c="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var pe={pos:t.l-oe,name:c};s[pe.pos]=pe,F.snames.push(c)}else c=(s[we]||{name:""}).name;re.dt==32&&(i["!type"]="chart"),re.dt==64&&(i["!type"]="macro"),ee=[],he=[],F.arrayf=P=[],ve=[],fe=[],se=!1,T={Hidden:(s[we]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[re.r]||[])[re.c]:i[Lr({c:re.c,r:re.r})])&&++re.c,A={ixfe:re.ixfe,XF:W[re.ixfe]||{},v:re.val,t:"n"},I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R({c:re.c,r:re.r},A,e);break;case 5:case 517:A={ixfe:re.ixfe,XF:W[re.ixfe],v:re.val,t:re.t},I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R({c:re.c,r:re.r},A,e);break;case 638:A={ixfe:re.ixfe,XF:W[re.ixfe],v:re.rknum,t:"n"},I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R({c:re.c,r:re.r},A,e);break;case 189:for(var Ye=re.c;Ye<=re.C;++Ye){var ze=re.rkrec[Ye-re.c][0];A={ixfe:ze,XF:W[ze],v:re.rkrec[Ye-re.c][1],t:"n"},I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R({c:Ye,r:re.r},A,e)}break;case 6:case 518:case 1030:{if(re.val=="String"){o=re;break}if(A=_v(re.val,re.cell.ixfe,re.tt),A.XF=W[A.ixfe],e.cellFormula){var ot=re.formula;if(ot&&ot[0]&&ot[0][0]&&ot[0][0][0]=="PtgExp"){var Ve=ot[0][0][1][0],He=ot[0][0][1][1],ut=Lr({r:Ve,c:He});S[ut]?A.f=""+So(re.formula,a,re.cell,Y,F):A.F=((e.dense?(i[Ve]||[])[He]:i[ut])||{}).F}else A.f=""+So(re.formula,a,re.cell,Y,F)}I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R(re.cell,A,e),o=re}break;case 7:case 519:if(o)o.val=re,A=_v(re,o.cell.ixfe,"s"),A.XF=W[A.ixfe],e.cellFormula&&(A.f=""+So(o.formula,a,o.cell,Y,F)),I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R(o.cell,A,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{P.push(re);var Et=Lr(re[0].s);if(m=e.dense?(i[re[0].s.r]||[])[re[0].s.c]:i[Et],e.cellFormula&&m){if(!o||!Et||!m)break;m.f=""+So(re[1],a,re[0],Y,F),m.F=Xr(re[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;S[Lr(o.cell)]=re[0],m=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Lr(o.cell)],(m||{}).f=""+So(re[0],a,p,Y,F)}}break;case 253:A=_v(l[re.isst].t,re.ixfe,"s"),l[re.isst].h&&(A.h=l[re.isst].h),A.XF=W[A.ixfe],I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R({c:re.c,r:re.r},A,e);break;case 513:e.sheetStubs&&(A={ixfe:re.ixfe,XF:W[re.ixfe],t:"z"},I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R({c:re.c,r:re.r},A,e));break;case 190:if(e.sheetStubs)for(var St=re.c;St<=re.C;++St){var je=re.ixfe[St-re.c];A={ixfe:je,XF:W[je],t:"z"},I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R({c:St,r:re.r},A,e)}break;case 214:case 516:case 4:A=_v(re.val,re.ixfe,"s"),A.XF=W[A.ixfe],I>0&&(A.z=z[A.ixfe>>8&63]),du(A,e,r.opts.Date1904),R({c:re.c,r:re.r},A,e);break;case 0:case 512:G===1&&(a=re);break;case 252:l=re;break;case 1054:if(F.biff==4){z[I++]=re[1];for(var Ke=0;Ke<I+163&&Ir[Ke]!=re[1];++Ke);Ke>=163&&xd(re[1],I+163)}else xd(re[1],re[0]);break;case 30:{z[I++]=re;for(var Qe=0;Qe<I+163&&Ir[Qe]!=re;++Qe);Qe>=163&&xd(re,I+163)}break;case 229:ee=ee.concat(re);break;case 93:he[re.cmo[0]]=F.lastobj=re;break;case 438:F.lastobj.TxO=re;break;case 127:F.lastobj.ImData=re;break;case 440:for(_=re[0].s.r;_<=re[0].e.r;++_)for(w=re[0].s.c;w<=re[0].e.c;++w)m=e.dense?(i[_]||[])[w]:i[Lr({c:w,r:_})],m&&(m.l=re[1]);break;case 2048:for(_=re[0].s.r;_<=re[0].e.r;++_)for(w=re[0].s.c;w<=re[0].e.c;++w)m=e.dense?(i[_]||[])[w]:i[Lr({c:w,r:_})],m&&m.l&&(m.l.Tooltip=re[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;m=e.dense?(i[re[0].r]||[])[re[0].c]:i[Lr(re[0])];var ae=he[re[2]];m||(e.dense?(i[re[0].r]||(i[re[0].r]=[]),m=i[re[0].r][re[0].c]={t:"z"}):m=i[Lr(re[0])]={t:"z"},a.e.r=Math.max(a.e.r,re[0].r),a.s.r=Math.min(a.s.r,re[0].r),a.e.c=Math.max(a.e.c,re[0].c),a.s.c=Math.min(a.s.c,re[0].c)),m.c||(m.c=[]),y={a:re[1],t:ae.TxO.t},m.c.push(y)}break;case 2173:hae(W[re.ixfe],re.ext);break;case 125:{if(!F.cellStyles)break;for(;re.e>=re.s;)ve[re.e--]={width:re.w/256,level:re.level||0,hidden:!!(re.flags&1)},se||(se=!0,s8(re.w/256)),Yf(ve[re.e+1])}break;case 520:{var Le={};re.level!=null&&(fe[re.r]=Le,Le.level=re.level),re.hidden&&(fe[re.r]=Le,Le.hidden=!0),re.hpt&&(fe[re.r]=Le,Le.hpt=re.hpt,Le.hpx=V1(re.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||d0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ke]]=re;break;case 161:i["!margins"]||d0(i["!margins"]={}),i["!margins"].header=re.header,i["!margins"].footer=re.footer;break;case 574:re.RTL&&(j.Views[0].RTL=!0);break;case 146:K=re;break;case 2198:B=re;break;case 140:V=re;break;case 442:c?T.CodeName=re||T.name:j.WBProps.CodeName=re||"ThisWorkbook";break}}else Ee||console.error("Missing Info for XLS Record 0x"+ke.toString(16)),t.l+=oe}return r.SheetNames=bs(s).sort(function(We,lt){return Number(We)-Number(lt)}).map(function(We){return s[We].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&X.forEach(function(We,lt){r.Sheets[r.SheetNames[lt]]["!autofilter"]=We}),r.Strings=l,r.SSF=Di(Ir),F.enc&&(r.Encryption=F.enc),B&&(r.Themes=B),r.Metadata={},V!==void 0&&(r.Metadata.Country=V),Y.names.length>0&&(j.Names=Y.names),r.Workbook=j,r}var Pg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Nde(t,e,r){var n=Sr.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=zC(n,Y_,Pg.DSI);for(var s in i)e[s]=i[s]}catch(c){if(r.WTF)throw c}var a=Sr.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=zC(a,X_,Pg.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(c){if(r.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(DD(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function Tde(t,e){var r=[],n=[],i=[],s=0,a,o=vC(Y_,"n"),l=vC(X_,"n");if(t.Props)for(a=bs(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=bs(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)$D.indexOf(i[s][0])>-1||FD.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);n.length&&Sr.utils.cfb_add(e,"/SummaryInformation",$C(n,Pg.SI,l,X_)),(r.length||c.length)&&Sr.utils.cfb_add(e,"/DocumentSummaryInformation",$C(r,Pg.DSI,o,Y_,c.length?c:null,Pg.UDI))}function MO(t,e){e||(e={}),p8(e),Fk(),e.codepage&&Lk(e.codepage);var r,n;if(t.FullPaths){if(Sr.find(t,"/encryption"))throw new Error("File is password-protected");r=Sr.find(t,"!CompObj"),n=Sr.find(t,"/Workbook")||Sr.find(t,"/Book")}else{switch(e.type){case"base64":t=Pl(Vl(t));break;case"binary":t=Pl(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Ja(t,0),n={content:t}}var i,s;if(r&&kde(r),e.bookProps&&!e.bookSheets)i={};else{var a=ln?"buffer":"array";if(n&&n.content)i=Cde(n.content,e);else if((s=Sr.find(t,"PerfectOffice_MAIN"))&&s.content)i=u0.to_workbook(s.content,(e.type=a,e));else if((s=Sr.find(t,"NativeContent_MAIN"))&&s.content)i=u0.to_workbook(s.content,(e.type=a,e));else throw(s=Sr.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Sr.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Uae(t))}var o={};return t.FullPaths&&Nde(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function Ade(t,e){var r=e||{},n=Sr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Sr.utils.cfb_add(n,i,VO(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Tde(t,n),r.biff==8&&t.vbaraw&&zae(n,Sr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var m2={0:{f:Zle},1:{f:oce},2:{f:Cce},3:{f:mce},4:{f:dce},5:{f:kce},6:{f:Pce},7:{f:yce},8:{f:Mce},9:{f:Oce},10:{f:Fce},11:{f:Dce},12:{f:cce},13:{f:Tce},14:{f:xce},15:{f:hce},16:{f:IO},17:{f:jce},18:{f:_ce},19:{f:Yk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:jue},40:{},42:{},43:{f:Pse},44:{f:Ase},45:{f:Lse},46:{f:Dse},47:{f:Fse},48:{},49:{f:rre},50:{},51:{f:gae},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eO},62:{f:Ice},63:{f:Eae},64:{f:eue},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ro,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Xce},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:sce},148:{f:rce,p:16},151:{f:qce},152:{},153:{f:Iue},154:{},155:{},156:{f:Tue},157:{},158:{},159:{T:1,f:Wie},160:{T:-1},161:{T:1,f:Z0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Vce},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:pae},336:{T:-1},337:{f:yae,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:K_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ZD},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Hce},427:{f:Wce},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Kce},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:ice},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:zce},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:K_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Dae},633:{T:1},634:{T:-1},635:{T:1,f:Lae},636:{T:-1},637:{f:are},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xue},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:tue},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},rb={6:{f:Qw},10:{f:mf},12:{f:Zs},13:{f:Zs},14:{f:Rs},15:{f:Rs},16:{f:No},17:{f:Rs},18:{f:Rs},19:{f:Zs},20:{f:YC},21:{f:YC},23:{f:ZD},24:{f:QC},25:{f:Rs},26:{},27:{},28:{f:tie},29:{},34:{f:Rs},35:{f:XC},38:{f:No},39:{f:No},40:{f:No},41:{f:No},42:{f:Rs},43:{f:Rs},47:{f:hse},49:{f:Tne},51:{f:Zs},60:{},61:{f:kne},64:{f:Rs},65:{f:Nne},66:{f:Zs},77:{},80:{},81:{},82:{},85:{f:Zs},89:{},90:{},91:{},92:{f:fne},93:{f:iie},94:{},95:{f:Rs},96:{},97:{},99:{f:Rs},125:{f:eO},128:{f:$ne},129:{f:pne},130:{f:Zs},131:{f:Rs},132:{f:Rs},133:{f:mne},134:{},140:{f:fie},141:{f:Zs},144:{},146:{f:mie},151:{},152:{},153:{},154:{},155:{},156:{f:Zs},157:{},158:{},160:{f:bie},161:{f:vie},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Vne},190:{f:Bne},193:{f:mf},197:{},198:{},199:{},200:{},201:{},202:{f:Rs},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Zs},220:{},221:{f:Rs},222:{},224:{f:zne},225:{f:dne},226:{f:mf},227:{},229:{f:rie},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:xne},253:{f:Ine},255:{f:yne},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:qD},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Rs},353:{f:mf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Kne},431:{f:Rs},432:{},433:{},434:{},437:{},438:{f:oie},439:{f:Rs},440:{f:lie},441:{},442:{f:rx},443:{},444:{f:Zs},445:{},446:{},448:{f:mf},449:{f:bne,r:2},450:{f:mf},512:{f:WC},513:{f:_ie},515:{f:Wne},516:{f:Rne},517:{f:KC},519:{f:kie},520:{f:wne},523:{},545:{f:JC},549:{f:HC},566:{},574:{f:Ene},638:{f:Mne},659:{},1048:{},1054:{f:Lne},1084:{},1212:{f:Jne},2048:{f:uie},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:vv},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:mf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:gie,r:12},2173:{f:fae,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Rs,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Qne,r:12},2197:{},2198:{f:aae,r:12},2199:{},2200:{},2201:{},2202:{f:Zne,r:12},2203:{f:mf},2204:{},2205:{},2206:{},2207:{},2211:{f:_ne},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Zs},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:yie},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:pie},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:WC},1:{},2:{f:Tie},3:{f:Cie},4:{f:Eie},5:{f:KC},7:{f:Iie},8:{},9:{f:vv},11:{},22:{f:Zs},30:{f:Dne},31:{},32:{},33:{f:JC},36:{},37:{f:HC},50:{f:Pie},62:{},52:{},67:{},68:{f:Zs},69:{},86:{},126:{},127:{f:Sie},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Rie},223:{},234:{},354:{},421:{},518:{f:Qw},521:{f:vv},536:{f:QC},547:{f:XC},561:{},579:{},1030:{f:Qw},1033:{f:vv},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function qt(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Wk(r)&&t.push(r)}}function Ide(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return qt(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var d=t.next(4);for(d.write_shift(2,s),d.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(d=t.next(4),d.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;d.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function ax(t,e,r){return t||(t=wt(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Pde(t,e,r,n){var i=wt(9);return ax(i,t,e),HD(r,n||"b",i),i}function Rde(t,e,r){var n=wt(8+2*r.length);return ax(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function jde(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ma(Fi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?qt(t,2,Aie(r,n,i)):qt(t,3,Nie(r,n,i));return;case"b":case"e":qt(t,5,Pde(r,n,e.v,e.t));return;case"s":case"str":qt(t,4,Rde(r,n,(e.v||"").slice(0,255)));return}qt(t,1,ax(null,r,n))}function Lde(t,e,r,n){var i=Array.isArray(e),s=Vn(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Xr(s)}for(var c=s.s.r;c<=s.e.r;++c){o=Bs(c);for(var d=s.s.c;d<=s.e.c;++d){c===s.s.r&&(l[d]=ss(d)),a=l[d]+o;var p=i?(e[c]||[])[d]:e[a];p&&jde(t,p,c,d)}}}function Fde(t,e){for(var r=e||{},n=ul(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return qt(n,r.biff==4?1033:r.biff==3?521:9,r8(t,16,r)),Lde(n,t.Sheets[t.SheetNames[i]],i,r),qt(n,10),n.end()}function Dde(t,e,r){qt(t,49,Ane({sz:12,name:"Arial"},r))}function Ode(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&qt(t,1054,Fne(i,e[i],r))})}function Mde(t,e){var r=wt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),qt(t,2151,r),r=wt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),XD(Vn(e["!ref"]||"A1"),r),r.write_shift(4,4),qt(t,2152,r)}function Vde(t,e){for(var r=0;r<16;++r)qt(t,224,GC({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){qt(t,224,GC(n,0,e))})}function Bde(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];qt(t,440,cie(n)),n[1].Tooltip&&qt(t,2048,die(n))}delete e["!links"]}function Ude(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&qt(t,125,xie(d4(i,n),i))})}}function zde(t,e,r,n,i){var s=16+ph(i.cellXfs,e,i);if(e.v==null&&!e.bf){qt(t,513,L0(r,n,s));return}if(e.bf)qt(t,6,ple(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?ma(Fi(e.v)):e.v;qt(t,515,Gne(r,n,a,s));break;case"b":case"e":qt(t,517,Hne(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=u8(i.Strings,e.v,i.revStrings);qt(t,253,Pne(r,n,o,s))}else qt(t,516,jne(r,n,(e.v||"").slice(0,255),s,i));break;default:qt(t,513,L0(r,n,s))}}function $de(t,e,r){var n=ul(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,d,p="",g=[],m=Vn(s["!ref"]||"A1"),y=c?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}qt(n,2057,r8(r,16,e)),qt(n,13,lc(1)),qt(n,12,lc(100)),qt(n,15,$o(!0)),qt(n,17,$o(!1)),qt(n,16,R0(.001)),qt(n,95,$o(!0)),qt(n,42,$o(!1)),qt(n,43,$o(!1)),qt(n,130,lc(1)),qt(n,128,qne()),qt(n,131,$o(!1)),qt(n,132,$o(!1)),c&&Ude(n,s["!cols"]),qt(n,512,One(m,e)),c&&(s["!links"]=[]);for(var w=m.s.r;w<=m.e.r;++w){p=Bs(w);for(var _=m.s.c;_<=m.e.c;++_){w===m.s.r&&(g[_]=ss(_)),d=g[_]+p;var S=l?(s[w]||[])[_]:s[d];S&&(zde(n,S,w,_,e),c&&S.l&&s["!links"].push([d,S.l]))}}var P=o.CodeName||o.name||i;return c&&qt(n,574,Cne((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&qt(n,229,nie(s["!merges"])),c&&Bde(n,s),qt(n,442,WD(P)),c&&Mde(n,s),qt(n,10),n.end()}function qde(t,e,r){var n=ul(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(qt(n,2057,r8(t,5,r)),r.bookType=="xla"&&qt(n,135),qt(n,225,o?lc(1200):null),qt(n,193,Hre(2)),l&&qt(n,191),l&&qt(n,192),qt(n,226),qt(n,92,hne("SheetJS",r)),qt(n,66,lc(o?1200:1252)),o&&qt(n,353,lc(0)),o&&qt(n,448),qt(n,317,wie(t.SheetNames.length)),o&&t.vbaraw&&qt(n,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";qt(n,442,WD(c))}qt(n,156,lc(17)),qt(n,25,$o(!1)),qt(n,18,$o(!1)),qt(n,19,lc(0)),o&&qt(n,431,$o(!1)),o&&qt(n,444,lc(0)),qt(n,61,Sne()),qt(n,64,$o(!1)),qt(n,141,lc(0)),qt(n,34,$o(bue(t)=="true")),qt(n,14,$o(!0)),o&&qt(n,439,$o(!1)),qt(n,218,lc(0)),Dde(n,t,r),Ode(n,t.SSF,r),Vde(n,r),o&&qt(n,352,$o(!1));var d=n.end(),p=ul();o&&qt(p,140,hie()),o&&r.Strings&&Ide(p,252,vne(r.Strings)),qt(p,10);var g=p.end(),m=ul(),y=0,w=0;for(w=0;w<t.SheetNames.length;++w)y+=(o?12:11)+(o?2:1)*t.SheetNames[w].length;var _=d.length+y+g.length;for(w=0;w<t.SheetNames.length;++w){var S=s[w]||{};qt(m,133,gne({pos:_,hs:S.Hidden||0,dt:0,name:t.SheetNames[w]},r)),_+=e[w].length}var P=m.end();if(y!=P.length)throw new Error("BS8 "+y+" != "+P.length);var A=[];return d.length&&A.push(d),P.length&&A.push(P),g.length&&A.push(g),ja(A)}function Hde(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Di(Ir)),t&&t.SSF&&(im(),i4(t.SSF),r.revssf=a4(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,m8(r),r.cellXfs=[],ph(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=$de(i,r,t);return n.unshift(qde(t,n,r)),ja(n)}function VO(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=dl(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Hde(t,e);case 4:case 3:case 2:return Fde(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function lN(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=Ate(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,p=0,g=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(a=0;a<l.length;++a){var w=l[a].trim(),_=w.slice(0,3).toLowerCase();if(_=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}d=0;continue}if(!(_!="<td"&&_!="<th")){var S=w.split(/<\/t[dh]>/i);for(o=0;o<S.length;++o){var P=S[o].trim();if(P.match(/<t[dh]/i)){for(var A=P,V=0;A.charAt(0)=="<"&&(V=A.indexOf(">"))>-1;)A=A.slice(V+1);for(var W=0;W<y.length;++W){var K=y[W];K.s.c==d&&K.s.r<c&&c<=K.e.r&&(d=K.e.c+1,W=-1)}var j=Or(P.slice(0,P.indexOf(">")));g=j.colspan?+j.colspan:1,((p=+j.rowspan)>1||g>1)&&y.push({s:{r:c,c:d},e:{r:c+(p||1)-1,c:d+g-1}});var T=j.t||j["data-t"]||"";if(!A.length){d+=g;continue}if(A=cD(A),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>d&&(m.s.c=d),m.e.c<d&&(m.e.c=d),!A.length){d+=g;continue}var C={t:"s",v:A};r.raw||!A.trim().length||T=="s"||(A==="TRUE"?C={t:"b",v:!0}:A==="FALSE"?C={t:"b",v:!1}:isNaN($c(A))?isNaN(O1(A).getDate())||(C={t:"d",v:Fi(A)},r.cellDates||(C={t:"n",v:ma(C.v)}),C.z=r.dateNF||Ir[14]):C={t:"n",v:$c(A)}),r.dense?(n[c]||(n[c]=[]),n[c][d]=C):n[Lr({r:c,c:d})]=C,d+=g}}}}return n["!ref"]=Xr(m),y.length&&(n["!merges"]=y),n}function Wde(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var d=Lr({r,c:a}),p=n.dense?(t[r]||[])[a]:t[d],g=p&&p.v!=null&&(p.h||$k(p.w||(Sd(p),p.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(m["data-t"]=p&&p.t||"z",p.v!=null&&(m["data-v"]=p.v),p.z!=null&&(m["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),m.id=(n.id||"sjs")+"-"+d,s.push($t("td",g,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var Gde='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Kde="</body></html>";function Yde(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return hh(lN(r[0],e),e);var n=v8();return r.forEach(function(i,s){y8(n,lN(i,e),"Sheet"+(s+1))}),n}function Xde(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function BO(t,e){var r=e||{},n=r.header!=null?r.header:Gde,i=r.footer!=null?r.footer:Kde,s=[n],a=dl(t["!ref"]);r.dense=Array.isArray(t),s.push(Xde(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(Wde(t,a,o,r));return s.push("</table>"+i),s.join("")}function UO(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?as(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var d=dl(t["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),i==-1&&(c.e.r=i=d.e.r+1)}var p=[],g=0,m=t["!rows"]||(t["!rows"]=[]),y=0,w=0,_=0,S=0,P=0,A=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&w<l;++y){var V=o[y];if(cN(V)){if(n.display)continue;m[w]={hidden:!0}}var W=V.children;for(_=S=0;_<W.length;++_){var K=W[_];if(!(n.display&&cN(K))){var j=K.hasAttribute("data-v")?K.getAttribute("data-v"):K.hasAttribute("v")?K.getAttribute("v"):cD(K.innerHTML),T=K.getAttribute("data-z")||K.getAttribute("z");for(g=0;g<p.length;++g){var C=p[g];C.s.c==S+s&&C.s.r<w+i&&w+i<=C.e.r&&(S=C.e.c+1-s,g=-1)}A=+K.getAttribute("colspan")||1,((P=+K.getAttribute("rowspan")||1)>1||A>1)&&p.push({s:{r:w+i,c:S+s},e:{r:w+i+(P||1)-1,c:S+s+(A||1)-1}});var D={t:"s",v:j},R=K.getAttribute("data-t")||K.getAttribute("t")||"";j!=null&&(j.length==0?D.t=R||"z":n.raw||j.trim().length==0||R=="s"||(j==="TRUE"?D={t:"b",v:!0}:j==="FALSE"?D={t:"b",v:!1}:isNaN($c(j))?isNaN(O1(j).getDate())||(D={t:"d",v:Fi(j)},n.cellDates||(D={t:"n",v:ma(D.v)}),D.z=n.dateNF||Ir[14]):D={t:"n",v:$c(j)})),D.z===void 0&&T!=null&&(D.z=T);var F="",B=K.getElementsByTagName("A");if(B&&B.length)for(var ee=0;ee<B.length&&!(B[ee].hasAttribute("href")&&(F=B[ee].getAttribute("href"),F.charAt(0)!="#"));++ee);F&&F.charAt(0)!="#"&&(D.l={Target:F}),n.dense?(t[w+i]||(t[w+i]=[]),t[w+i][S+s]=D):t[Lr({c:S+s,r:w+i})]=D,c.e.c<S+s&&(c.e.c=S+s),S+=A}}++w}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),c.e.r=Math.max(c.e.r,w-1+i),t["!ref"]=Xr(c),w>=l&&(t["!fullref"]=Xr((c.e.r=o.length-y+w-1+i,c))),t}function zO(t,e){var r=e||{},n=r.dense?[]:{};return UO(n,t,e)}function Qde(t,e){return hh(zO(t,e),e)}function cN(t){var e="",r=Jde(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Jde(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Zde(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Mn(e.replace(/<[^>]*>/g,""));return[r]}var uN={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function $O(t,e){var r=e||{},n=qk(t),i=[],s,a,o={name:""},l="",c=0,d,p,g={},m=[],y=r.dense?[]:{},w,_,S={value:""},P="",A=0,V=[],W=-1,K=-1,j={s:{r:1e6,c:1e7},e:{r:0,c:0}},T=0,C={},D=[],R={},F=0,B=0,ee=[],he=1,ve=1,fe=[],se={Names:[]},Y={},ie=["",""],G=[],I={},z="",X=0,J=!1,ce=!1,we=0;for(c2.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=c2.exec(n);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"工作表":w[1]==="/"?(j.e.c>=j.s.c&&j.e.r>=j.s.r?y["!ref"]=Xr(j):y["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=j.e.r&&(y["!fullref"]=y["!ref"],j.e.r=r.sheetRows-1,y["!ref"]=Xr(j)),D.length&&(y["!merges"]=D),ee.length&&(y["!rows"]=ee),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),m.push(d.name),g[d.name]=y,ce=!1):w[0].charAt(w[0].length-2)!=="/"&&(d=Or(w[0],!1),W=K=-1,j.s.r=j.s.c=1e7,j.e.r=j.e.c=0,y=r.dense?[]:{},D=[],ee=[],ce=!0);break;case"table-row-group":w[1]==="/"?--T:++T;break;case"table-row":case"行":if(w[1]==="/"){W+=he,he=1;break}if(p=Or(w[0],!1),p.行号?W=p.行号-1:W==-1&&(W=0),he=+p["number-rows-repeated"]||1,he<10)for(we=0;we<he;++we)T>0&&(ee[W+we]={level:T});K=-1;break;case"covered-table-cell":w[1]!=="/"&&++K,r.sheetStubs&&(r.dense?(y[W]||(y[W]=[]),y[W][K]={t:"z"}):y[Lr({r:W,c:K})]={t:"z"}),P="",V=[];break;case"table-cell":case"数据":if(w[0].charAt(w[0].length-2)==="/")++K,S=Or(w[0],!1),ve=parseInt(S["number-columns-repeated"]||"1",10),_={t:"z",v:null},S.formula&&r.cellFormula!=!1&&(_.f=sN(Mn(S.formula))),(S.数据类型||S["value-type"])=="string"&&(_.t="s",_.v=Mn(S["string-value"]||""),r.dense?(y[W]||(y[W]=[]),y[W][K]=_):y[Lr({r:W,c:K})]=_),K+=ve-1;else if(w[1]!=="/"){++K,P="",A=0,V=[],ve=1;var ke=he?W+he-1:W;if(K>j.e.c&&(j.e.c=K),K<j.s.c&&(j.s.c=K),W<j.s.r&&(j.s.r=W),ke>j.e.r&&(j.e.r=ke),S=Or(w[0],!1),G=[],I={},_={t:S.数据类型||S["value-type"],v:null},r.cellFormula)if(S.formula&&(S.formula=Mn(S.formula)),S["number-matrix-columns-spanned"]&&S["number-matrix-rows-spanned"]&&(F=parseInt(S["number-matrix-rows-spanned"],10)||0,B=parseInt(S["number-matrix-columns-spanned"],10)||0,R={s:{r:W,c:K},e:{r:W+F-1,c:K+B-1}},_.F=Xr(R),fe.push([R,_.F])),S.formula)_.f=sN(S.formula);else for(we=0;we<fe.length;++we)W>=fe[we][0].s.r&&W<=fe[we][0].e.r&&K>=fe[we][0].s.c&&K<=fe[we][0].e.c&&(_.F=fe[we][1]);switch((S["number-columns-spanned"]||S["number-rows-spanned"])&&(F=parseInt(S["number-rows-spanned"],10)||0,B=parseInt(S["number-columns-spanned"],10)||0,R={s:{r:W,c:K},e:{r:W+F-1,c:K+B-1}},D.push(R)),S["number-columns-repeated"]&&(ve=parseInt(S["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=Pi(S["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(S.value);break;case"percentage":_.t="n",_.v=parseFloat(S.value);break;case"currency":_.t="n",_.v=parseFloat(S.value);break;case"date":_.t="d",_.v=Fi(S["date-value"]),r.cellDates||(_.t="n",_.v=ma(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=Cte(S["time-value"])/86400,r.cellDates&&(_.t="d",_.v=o4(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(S.数据数值);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",S["string-value"]!=null&&(P=Mn(S["string-value"]),V=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(J=!1,_.t==="s"&&(_.v=P||"",V.length&&(_.R=V),J=A==0),Y.Target&&(_.l=Y),G.length>0&&(_.c=G,G=[]),P&&r.cellText!==!1&&(_.w=P),J&&(_.t="z",delete _.v),(!J||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=W))for(var oe=0;oe<he;++oe){if(ve=parseInt(S["number-columns-repeated"]||"1",10),r.dense)for(y[W+oe]||(y[W+oe]=[]),y[W+oe][K]=oe==0?_:Di(_);--ve>0;)y[W+oe][K+ve]=Di(_);else for(y[Lr({r:W+oe,c:K})]=_;--ve>0;)y[Lr({r:W+oe,c:K+ve})]=Di(_);j.e.c<=K&&(j.e.c=K)}ve=parseInt(S["number-columns-repeated"]||"1",10),K+=ve-1,ve=0,_={},P="",V=[]}Y={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;I.t=P,V.length&&(I.R=V),I.a=z,G.push(I)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);z="",X=0,P="",A=0,V=[];break;case"creator":w[1]==="/"?z=n.slice(X,w.index):X=w.index+w[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);P="",A=0,V=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(C[o.name]=l,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(l="",o=Or(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Or(w[0],!1),l+=uN[w[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Or(w[0],!1),l+=uN[w[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,w.index);break}else c=w.index+w[0].length;break;case"named-range":a=Or(w[0],!1),ie=Jw(a["cell-range-address"]);var Ee={Name:a.name,Ref:ie[0]+"!"+ie[1]};ce&&(Ee.Sheet=m.length),se.Names.push(Ee);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!S||!S["string-value"])){var Oe=Zde(n.slice(A,w.index));P=(P.length>0?P+`
`:"")+Oe[0]}else Or(w[0],!1),A=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{ie=Jw(Or(w[0])["target-range-address"]),g[ie[0]]["!autofilter"]={ref:ie[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(Y=Or(w[0],!1),!Y.href)break;Y.Target=Mn(Y.href),delete Y.href,Y.Target.charAt(0)=="#"&&Y.Target.indexOf(".")>-1?(ie=Jw(Y.Target.slice(1)),Y.Target="#"+ie[0]+"!"+ie[1]):Y.Target.match(/^\.\.[\\\/]/)&&(Y.Target=Y.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(w)}}var re={Sheets:g,SheetNames:m,Workbook:se};return r.bookSheets&&delete re.Sheets,re}function dN(t,e){e=e||{},oc(t,"META-INF/manifest.xml")&&Cre(Js(t,"META-INF/manifest.xml"),e);var r=Rl(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=$O(pi(r),e);return oc(t,"meta.xml")&&(n.Props=jD(Js(t,"meta.xml"))),n}function fN(t,e){return $O(t,e)}var efe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+l2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return zs+e}})(),hN=(function(){var t=function(s){return ai(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+ai(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,d=0,p=dl(s["!ref"]||"A1"),g=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(d=0;d<=p.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var w="",_=s["!rows"]||[];for(c=0;c<p.s.r;++c)w=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+w+`></table:table-row>
`);for(;c<=p.e.r;++c){for(w=_[c]?' table:style-name="ro'+_[c].ods+'"':"",l.push("        <table:table-row"+w+`>
`),d=0;d<p.s.c;++d)l.push(e);for(;d<=p.e.c;++d){var S=!1,P={},A="";for(m=0;m!=g.length;++m)if(!(g[m].s.c>d)&&!(g[m].s.r>c)&&!(g[m].e.c<d)&&!(g[m].e.r<c)){(g[m].s.c!=d||g[m].s.r!=c)&&(S=!0),P["table:number-columns-spanned"]=g[m].e.c-g[m].s.c+1,P["table:number-rows-spanned"]=g[m].e.r-g[m].s.r+1;break}if(S){l.push(r);continue}var V=Lr({r:c,c:d}),W=y?(s[c]||[])[d]:s[V];if(W&&W.f&&(P["table:formula"]=ai(wle(W.f)),W.F&&W.F.slice(0,V.length)==V)){var K=dl(W.F);P["table:number-matrix-columns-spanned"]=K.e.c-K.s.c+1,P["table:number-matrix-rows-spanned"]=K.e.r-K.s.r+1}if(!W){l.push(e);continue}switch(W.t){case"b":A=W.v?"TRUE":"FALSE",P["office:value-type"]="boolean",P["office:boolean-value"]=W.v?"true":"false";break;case"n":A=W.w||String(W.v||0),P["office:value-type"]="float",P["office:value"]=W.v||0;break;case"s":case"str":A=W.v==null?"":W.v,P["office:value-type"]="string";break;case"d":A=W.w||Fi(W.v).toISOString(),P["office:value-type"]="date",P["office:date-value"]=Fi(W.v).toISOString(),P["table:style-name"]="ce1";break;default:l.push(e);continue}var j=t(A);if(W.l&&W.l.Target){var T=W.l.Target;T=T.charAt(0)=="#"?"#"+_le(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),j=$t("text:a",j,{"xlink:href":T.replace(/&/g,"&amp;")})}l.push("          "+$t("table:table-cell",$t("text:p",j,{}),P)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var d=0;d<c["!cols"].length;++d)if(c["!cols"][d]){var p=c["!cols"][d];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Yf(p),p.ods=o;var g=c["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var d=0;d<c["!rows"].length;++d)if(c["!rows"][d]){c["!rows"][d].ods=l;var p=c["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[zs],c=l2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=l2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+d+`>
`),l.push(RD().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var p=0;p!=a.SheetNames.length;++p)l.push(n(a.Sheets[a.SheetNames[p]],a,p));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function qO(t,e){if(e.bookType=="fods")return hN(t,e);var r=Bk(),n="",i=[],s=[];return n="mimetype",Jr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Jr(r,n,hN(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Jr(r,n,efe(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Jr(r,n,zs+RD()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Jr(r,n,Are(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Jr(r,n,Nre(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function F0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function nb(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):pi(fh(t))}function tfe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Pl(ku(t))}function rfe(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Qf(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function pN(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function nfe(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function ife(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function g2(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function ti(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ws(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function zn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=g2(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=g2(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Ga(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(ti(n*8+i.type)),i.type==2&&e.push(ti(i.data.length)),e.push(i.data))})}),Qf(e)}function h8(t,e){return t?.map(function(r){return e(r.data)})||[]}function ic(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=g2(t,n),s=zn(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:ws(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=zn(o.data),c=ws(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=ws(s[3][0].data)>>>0>0),r.push(a)}return r}function Rp(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:ti(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:ti(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:ti(a.data.length)}],n[2].push({data:Ga(a.meta),type:2})});var s=Ga(n);e.push(ti(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Qf(e)}function sfe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=g2(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Qf(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var d=Qf(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function sc(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(sfe(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Qf(e)}function jp(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=ti(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Qf(e)}function afe(t,e,r,n){var i=F0(t),s=i.getUint32(4,!0),a=(n>1?12:8)+pN(s&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,d=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=pN(s&(n>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(c=i.getFloat64(a,!0),a+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var p;switch(t[2]){case 0:break;case 2:p={t:"n",v:c};break;case 3:p={t:"s",v:e[l]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:c>0};break;case 7:p={t:"n",v:c/86400};break;case 8:p={t:"e",v:0};break;case 9:if(o>-1)p={t:"s",v:r[o]};else if(l>-1)p={t:"s",v:e[l]};else if(!isNaN(c))p={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return p}function ofe(t,e,r){var n=F0(t),i=n.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,c=NaN,d=new Date(2001,0,1);i&1&&(l=nfe(t,s),s+=16),i&2&&(c=n.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var p;switch(t[1]){case 0:break;case 2:p={t:"n",v:l};break;case 3:p={t:"s",v:e[o]};break;case 5:p={t:"d",v:d};break;case 6:p={t:"b",v:c>0};break;case 7:p={t:"n",v:c/86400};break;case 8:p={t:"e",v:0};break;case 9:if(a>-1)p={t:"s",v:r[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:p={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return p}function e3(t,e){var r=new Uint8Array(32),n=F0(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,ife(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function t3(t,e){var r=new Uint8Array(32),n=F0(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function lfe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return afe(t,e,r,t[0]);case 5:return ofe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function ko(t){var e=zn(t);return g2(e[1][0].data)}function mN(t,e){var r=zn(e.data),n=ws(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(a){var o=zn(a.data),l=ws(o[1][0].data)>>>0;switch(n){case 1:s[l]=nb(o[3][0].data);break;case 8:{var c=t[ko(o[9][0].data)][0],d=zn(c.data),p=t[ko(d[1][0].data)][0],g=ws(p.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var m=zn(p.data);s[l]=m[3].map(function(y){return nb(y.data)}).join("")}break}}),s}function cfe(t,e){var r,n,i,s,a,o,l,c,d,p,g,m,y,w,_=zn(t),S=ws(_[1][0].data)>>>0,P=ws(_[2][0].data)>>>0,A=((n=(r=_[8])==null?void 0:r[0])==null?void 0:n.data)&&ws(_[8][0].data)>0||!1,V,W;if((s=(i=_[7])==null?void 0:i[0])!=null&&s.data&&e!=0)V=(o=(a=_[7])==null?void 0:a[0])==null?void 0:o.data,W=(c=(l=_[6])==null?void 0:l[0])==null?void 0:c.data;else if((p=(d=_[4])==null?void 0:d[0])!=null&&p.data&&e!=1)V=(m=(g=_[4])==null?void 0:g[0])==null?void 0:m.data,W=(w=(y=_[3])==null?void 0:y[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var K=A?4:1,j=F0(V),T=[],C=0;C<V.length/2;++C){var D=j.getUint16(C*2,!0);D<65535&&T.push([C,D])}if(T.length!=P)throw"Expected ".concat(P," cells, found ").concat(T.length);var R=[];for(C=0;C<T.length-1;++C)R[T[C][0]]=W.subarray(T[C][1]*K,T[C+1][1]*K);return T.length>=1&&(R[T[T.length-1][0]]=W.subarray(T[T.length-1][1]*K)),{R:S,cells:R}}function ufe(t,e){var r,n=zn(e.data),i=(r=n?.[7])!=null&&r[0]?ws(n[7][0].data)>>>0>0?1:0:-1,s=h8(n[5],function(a){return cfe(a,i)});return{nrows:ws(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,c){if(a[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));a[o.R][c]=l}),a},[])}}function dfe(t,e,r){var n,i=zn(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ws(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(ws(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=Xr(s);var a=zn(i[4][0].data),o=mN(t,t[ko(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?mN(t,t[ko(a[17][0].data)][0]):[],c=zn(a[3][0].data),d=0;c[1].forEach(function(p){var g=zn(p.data),m=t[ko(g[2][0].data)][0],y=ws(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var w=ufe(t,m);w.data.forEach(function(_,S){_.forEach(function(P,A){var V=Lr({r:d+S,c:A}),W=lfe(P,o,l);W&&(r[V]=W)})}),d+=w.nrows})}function ffe(t,e){var r=zn(e.data),n={"!ref":"A1"},i=t[ko(r[2][0].data)],s=ws(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return dfe(t,i[0],n),n}function hfe(t,e){var r,n=zn(e.data),i={name:(r=n[1])!=null&&r[0]?nb(n[1][0].data):"",sheets:[]},s=h8(n[2],ko);return s.forEach(function(a){t[a].forEach(function(o){var l=ws(o.meta[1][0].data);l==6e3&&i.sheets.push(ffe(t,o))})}),i}function pfe(t,e){var r=v8(),n=zn(e.data),i=h8(n[1],ko);if(i.forEach(function(s){t[s].forEach(function(a){var o=ws(a.meta[1][0].data);if(o==2){var l=hfe(t,a);l.sheets.forEach(function(c,d){y8(r,c,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function r3(t){var e,r,n,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=sc(l.content)}catch(p){return console.log("?? "+l.content.length+" "+(p.message||p))}var d;try{d=ic(c)}catch(p){return console.log("## "+(p.message||p))}d.forEach(function(p){s[p.id]=p.messages,a.push(p.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=s?.[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&ws(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(c){var d=ws(c.meta[1][0].data)>>>0;if(d==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return pfe(s,o)}function mfe(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&ws(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=F0(t[7][0].data),d=0,p=[],g=F0(t[4][0].data),m=0,y=[],w=0;w<e.length;++w){if(e[w]==null){c.setUint16(w*2,65535,!0),g.setUint16(w*2,65535);continue}c.setUint16(w*2,d,!0),g.setUint16(w*2,m,!0);var _,S;switch(typeof e[w]){case"string":_=e3({t:"s",v:e[w]},r),S=t3({t:"s",v:e[w]},r);break;case"number":_=e3({t:"n",v:e[w]},r),S=t3({t:"n",v:e[w]},r);break;case"boolean":_=e3({t:"b",v:e[w]},r),S=t3({t:"b",v:e[w]},r);break;default:throw new Error("Unsupported value "+e[w])}p.push(_),d+=_.length,y.push(S),m+=S.length,++l}for(t[2][0].data=ti(l);w<t[7][0].data.length/2;++w)c.setUint16(w*2,65535,!0),g.setUint16(w*2,65535,!0);return t[6][0].data=Qf(p),t[3][0].data=Qf(y),l}function gfe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=dl(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Xr(n)));var s=s5(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(z){return z.forEach(function(X){typeof X=="string"&&a.push(X)})});var o={},l=[],c=Sr.read(e.numbers,{type:"base64"});c.FileIndex.map(function(z,X){return[z,c.FullPaths[X]]}).forEach(function(z){var X=z[0],J=z[1];if(X.type==2&&X.name.match(/\.iwa/)){var ce=X.content,we=sc(ce),ke=ic(we);ke.forEach(function(oe){l.push(oe.id),o[oe.id]={deps:[],location:J,type:ws(oe.messages[0].meta[1][0].data)}})}}),l.sort(function(z,X){return z-X});var d=l.filter(function(z){return z>1}).map(function(z){return[z,ti(z)]});c.FileIndex.map(function(z,X){return[z,c.FullPaths[X]]}).forEach(function(z){var X=z[0];if(z[1],!!X.name.match(/\.iwa/)){var J=ic(sc(X.content));J.forEach(function(ce){ce.messages.forEach(function(we){d.forEach(function(ke){ce.messages.some(function(oe){return ws(oe.meta[1][0].data)!=11006&&rfe(oe.data,ke[1])})&&o[ke[0]].deps.push(ce.id)})})})}});for(var p=Sr.find(c,o[1].location),g=ic(sc(p.content)),m,y=0;y<g.length;++y){var w=g[y];w.id==1&&(m=w)}var _=ko(zn(m.messages[0].data)[1][0].data);for(p=Sr.find(c,o[_].location),g=ic(sc(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);for(_=ko(zn(m.messages[0].data)[2][0].data),p=Sr.find(c,o[_].location),g=ic(sc(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);for(_=ko(zn(m.messages[0].data)[2][0].data),p=Sr.find(c,o[_].location),g=ic(sc(p.content)),y=0;y<g.length;++y)w=g[y],w.id==_&&(m=w);var S=zn(m.messages[0].data);{S[6][0].data=ti(n.e.r+1),S[7][0].data=ti(n.e.c+1);var P=ko(S[46][0].data),A=Sr.find(c,o[P].location),V=ic(sc(A.content));{for(var W=0;W<V.length&&V[W].id!=P;++W);if(V[W].id!=P)throw"Bad ColumnRowUIDMapArchive";var K=zn(V[W].messages[0].data);K[1]=[],K[2]=[],K[3]=[];for(var j=0;j<=n.e.c;++j){var T=[];T[1]=T[2]=[{type:0,data:ti(j+420690)}],K[1].push({type:2,data:Ga(T)}),K[2].push({type:0,data:ti(j)}),K[3].push({type:0,data:ti(j)})}K[4]=[],K[5]=[],K[6]=[];for(var C=0;C<=n.e.r;++C)T=[],T[1]=T[2]=[{type:0,data:ti(C+726270)}],K[4].push({type:2,data:Ga(T)}),K[5].push({type:0,data:ti(C)}),K[6].push({type:0,data:ti(C)});V[W].messages[0].data=Ga(K)}A.content=jp(Rp(V)),A.size=A.content.length,delete S[46];var D=zn(S[4][0].data);{D[7][0].data=ti(n.e.r+1);var R=zn(D[1][0].data),F=ko(R[2][0].data);A=Sr.find(c,o[F].location),V=ic(sc(A.content));{if(V[0].id!=F)throw"Bad HeaderStorageBucket";var B=zn(V[0].messages[0].data);for(C=0;C<s.length;++C){var ee=zn(B[2][0].data);ee[1][0].data=ti(C),ee[4][0].data=ti(s[C].length),B[2][C]={type:B[2][0].type,data:Ga(ee)}}V[0].messages[0].data=Ga(B)}A.content=jp(Rp(V)),A.size=A.content.length;var he=ko(D[2][0].data);A=Sr.find(c,o[he].location),V=ic(sc(A.content));{if(V[0].id!=he)throw"Bad HeaderStorageBucket";for(B=zn(V[0].messages[0].data),j=0;j<=n.e.c;++j)ee=zn(B[2][0].data),ee[1][0].data=ti(j),ee[4][0].data=ti(n.e.r+1),B[2][j]={type:B[2][0].type,data:Ga(ee)};V[0].messages[0].data=Ga(B)}A.content=jp(Rp(V)),A.size=A.content.length;var ve=ko(D[4][0].data);(function(){for(var z=Sr.find(c,o[ve].location),X=ic(sc(z.content)),J,ce=0;ce<X.length;++ce){var we=X[ce];we.id==ve&&(J=we)}var ke=zn(J.messages[0].data);{ke[3]=[];var oe=[];a.forEach(function(re,_e){oe[1]=[{type:0,data:ti(_e)}],oe[2]=[{type:0,data:ti(1)}],oe[3]=[{type:2,data:tfe(re)}],ke[3].push({type:2,data:Ga(oe)})})}J.messages[0].data=Ga(ke);var Ee=Rp(X),Oe=jp(Ee);z.content=Oe,z.size=z.content.length})();var fe=zn(D[3][0].data);{var se=fe[1][0];delete fe[2];var Y=zn(se.data);{var ie=ko(Y[2][0].data);(function(){for(var z=Sr.find(c,o[ie].location),X=ic(sc(z.content)),J,ce=0;ce<X.length;++ce){var we=X[ce];we.id==ie&&(J=we)}var ke=zn(J.messages[0].data);{delete ke[6],delete fe[7];var oe=new Uint8Array(ke[5][0].data);ke[5]=[];for(var Ee=0,Oe=0;Oe<=n.e.r;++Oe){var re=zn(oe);Ee+=mfe(re,s[Oe],a),re[1][0].data=ti(Oe),ke[5].push({data:Ga(re),type:2})}ke[1]=[{type:0,data:ti(n.e.c+1)}],ke[2]=[{type:0,data:ti(n.e.r+1)}],ke[3]=[{type:0,data:ti(Ee)}],ke[4]=[{type:0,data:ti(n.e.r+1)}]}J.messages[0].data=Ga(ke);var _e=Rp(X),Re=jp(_e);z.content=Re,z.size=z.content.length})()}se.data=Ga(Y)}D[3][0].data=Ga(fe)}S[4][0].data=Ga(D)}m.messages[0].data=Ga(S);var G=Rp(g),I=jp(G);return p.content=I,p.size=p.content.length,c}function HO(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function p8(t){HO([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function m8(t){HO([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function xfe(t){return fn.WS.indexOf(t)>-1?"sheet":t==fn.CS?"chart":t==fn.DS?"dialog":t==fn.MS?"macro":t&&t.length?t:"sheet"}function vfe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,xfe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function yfe(t,e,r,n,i,s,a,o,l,c,d,p){try{s[n]=Ng(Rl(t,r,!0),e);var g=Js(t,e),m;switch(o){case"sheet":m=Uue(g,e,i,l,s[n],c,d,p);break;case"chart":if(m=zue(g,e,i,l,s[n],c,d,p),!m||!m["!drawel"])break;var y=dg(m["!drawel"].Target,e),w=u2(y),_=Tae(Rl(t,y,!0),Ng(Rl(t,w,!0),y)),S=dg(_,y),P=u2(S);m=mue(Rl(t,S,!0),S,l,Ng(Rl(t,P,!0),S),c,m);break;case"macro":m=$ue(g,e,i,l,s[n],c,d,p);break;case"dialog":m=que(g,e,i,l,s[n],c,d,p);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=m;var A=[];s&&s[n]&&bs(s[n]).forEach(function(V){var W="";if(s[n][V].Type==fn.CMNT){W=dg(s[n][V].Target,e);var K=Kue(Js(t,W,!0),W,l);if(!K||!K.length)return;eN(m,K,!1)}s[n][V].Type==fn.TCMNT&&(W=dg(s[n][V].Target,e),A=A.concat(Iae(Js(t,W,!0),l)))}),A&&A.length&&eN(m,A,!0,l.people||[])}catch(V){if(l.WTF)throw V}}function ec(t){return t.charAt(0)=="/"?t.slice(1):t}function wfe(t,e){if(im(),e=e||{},p8(e),oc(t,"META-INF/manifest.xml")||oc(t,"objectdata.xml"))return dN(t,e);if(oc(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof r3<"u"){if(t.FileIndex)return r3(t);var r=Sr.utils.cfb_new();return _C(t).forEach(function(ee){Jr(r,ee,Pte(t,ee))}),r3(r)}throw new Error("Unsupported NUMBERS file")}if(!oc(t,"[Content_Types].xml"))throw oc(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):oc(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=_C(t),i=Sre(Rl(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Js(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Js(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!e.bookSheets&&!e.bookProps){if(Tg=[],i.sst)try{Tg=Gue(Js(t,ec(i.sst)),i.sst,e)}catch(ee){if(e.WTF)throw ee}e.cellStyles&&i.themes.length&&(l=Wue(Rl(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=Hue(Js(t,ec(i.style)),i.style,l,e))}i.links.map(function(ee){try{var he=Ng(Rl(t,u2(ec(ee))),ee);return Xue(Js(t,ec(ee)),he,ee,e)}catch{}});var d=Bue(Js(t,ec(i.workbooks[0])),i.workbooks[0],e),p={},g="";i.coreprops.length&&(g=Js(t,ec(i.coreprops[0]),!0),g&&(p=jD(g)),i.extprops.length!==0&&(g=Js(t,ec(i.extprops[0]),!0),g&&Pre(g,p,e)));var m={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=Rl(t,ec(i.custprops[0]),!0),g&&(m=jre(g,e)));var y={};if((e.bookSheets||e.bookProps)&&(d.Sheets?a=d.Sheets.map(function(he){return he.name}):p.Worksheets&&p.SheetNames.length>0&&(a=p.SheetNames),e.bookProps&&(y.Props=p,y.Custprops=m),e.bookSheets&&typeof a<"u"&&(y.SheetNames=a),e.bookSheets?y.SheetNames:e.bookProps))return y;a={};var w={};e.bookDeps&&i.calcchain&&(w=Yue(Js(t,ec(i.calcchain)),i.calcchain));var _=0,S={},P,A;{var V=d.Sheets;p.Worksheets=V.length,p.SheetNames=[];for(var W=0;W!=V.length;++W)p.SheetNames[W]=V[W].name}var K=s?"bin":"xml",j=i.workbooks[0].lastIndexOf("/"),T=(i.workbooks[0].slice(0,j+1)+"_rels/"+i.workbooks[0].slice(j+1)+".rels").replace(/^\//,"");oc(t,T)||(T="xl/_rels/workbook."+K+".rels");var C=Ng(Rl(t,T,!0),T.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=Que(Js(t,ec(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Rae(Js(t,ec(i.people[0])),e)),C&&(C=vfe(C,d.Sheets));var D=Js(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=p.Worksheets;++_){var R="sheet";if(C&&C[_]?(P="xl/"+C[_][1].replace(/[\/]?xl\//,""),oc(t,P)||(P=C[_][1]),oc(t,P)||(P=T.replace(/_rels\/.*$/,"")+C[_][1]),R=C[_][2]):(P="xl/worksheets/sheet"+(_+1-D)+"."+K,P=P.replace(/sheet0\./,"sheet.")),A=P.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(_!=e.sheets)continue e;break;case"string":if(p.SheetNames[_].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,B=0;B!=e.sheets.length;++B)typeof e.sheets[B]=="number"&&e.sheets[B]==_&&(F=1),typeof e.sheets[B]=="string"&&e.sheets[B].toLowerCase()==p.SheetNames[_].toLowerCase()&&(F=1);if(!F)continue e}}yfe(t,P,A,p.SheetNames[_],_,S,a,R,e,d,l,c)}return y={Directory:i,Workbook:d,Props:p,Custprops:m,Deps:w,Sheets:a,SheetNames:p.SheetNames,Strings:Tg,Styles:c,Themes:l,SSF:Di(Ir)},e&&e.bookFiles&&(t.files?(y.keys=n,y.files=t.files):(y.keys=[],y.files={},t.FullPaths.forEach(function(ee,he){ee=ee.replace(/^Root Entry[\/]/,""),y.keys.push(ee),y.files[ee]=t.FileIndex[he]}))),e&&e.bookVBA&&(i.vba.length>0?y.vbaraw=Js(t,ec(i.vba[0]),!0):i.defaults&&i.defaults.bin===Bae&&(y.vbaraw=Js(t,"xl/vbaProject.bin",!0))),y}function _fe(t,e){var r=e||{},n="Workbook",i=Sr.find(t,n);try{if(n="/!DataSpaces/Version",i=Sr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Qie(i.content),n="/!DataSpaces/DataSpaceMap",i=Sr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Zie(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Sr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=ese(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Sr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);rse(i.content)}catch{}if(n="/EncryptionInfo",i=Sr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=nse(i.content);if(n="/EncryptedPackage",i=Sr.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function bfe(t,e){return e.bookType=="ods"?qO(t,e):e.bookType=="numbers"?gfe(t,e):e.bookType=="xlsb"?kfe(t,e):Sfe(t,e)}function kfe(t,e){Wp=1024,t&&!t.SSF&&(t.SSF=Di(Ir)),t&&t.SSF&&(im(),i4(t.SSF),e.revssf=a4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Ag?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=vO.indexOf(e.bookType)>-1,i=e8();m8(e=e||{});var s=Bk(),a="",o=0;if(e.cellXfs=[],ph(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Jr(s,a,LD(t.Props,e)),i.coreprops.push(a),ni(e.rels,2,a,fn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Jr(s,a,OD(t.Props)),i.extprops.push(a),ni(e.rels,3,a,fn.EXT_PROPS),t.Custprops!==t.Props&&bs(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Jr(s,a,MD(t.Custprops)),i.custprops.push(a),ni(e.rels,4,a,fn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Jr(s,a,Zue(o-1,a,e,t,d)),i.sheets.push(a),ni(e.wbrels,-1,"worksheets/sheet"+o+"."+r,fn.WS[0])}if(p){var m=p["!comments"],y=!1,w="";m&&m.length>0&&(w="xl/comments"+o+"."+r,Jr(s,w,rde(m,w)),i.comments.push(w),ni(d,-1,"../comments"+o+"."+r,fn.CMNT),y=!0),p["!legacy"]&&y&&Jr(s,"xl/drawings/vmlDrawing"+o+".vml",gO(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&Jr(s,u2(a),c1(d))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Jr(s,a,tde(e.Strings,a,e)),i.strs.push(a),ni(e.wbrels,-1,"sharedStrings."+r,fn.SST)),a="xl/workbook."+r,Jr(s,a,Jue(t,a)),i.workbooks.push(a),ni(e.rels,1,a,fn.WB),a="xl/theme/theme1.xml",Jr(s,a,a8(t.Themes,e)),i.themes.push(a),ni(e.wbrels,-1,"theme/theme1.xml",fn.THEME),a="xl/styles."+r,Jr(s,a,ede(t,a,e)),i.styles.push(a),ni(e.wbrels,-1,"styles."+r,fn.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Jr(s,a,t.vbaraw),i.vba.push(a),ni(e.wbrels,-1,"vbaProject.bin",fn.VBA)),a="xl/metadata."+r,Jr(s,a,nde(a)),i.metadata.push(a),ni(e.wbrels,-1,"metadata."+r,fn.XLMETA),Jr(s,"[Content_Types].xml",PD(i,e)),Jr(s,"_rels/.rels",c1(e.rels)),Jr(s,"xl/_rels/workbook."+r+".rels",c1(e.wbrels)),delete e.revssf,delete e.ssf,s}function Sfe(t,e){Wp=1024,t&&!t.SSF&&(t.SSF=Di(Ir)),t&&t.SSF&&(im(),i4(t.SSF),e.revssf=a4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Ag?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=vO.indexOf(e.bookType)>-1,i=e8();m8(e=e||{});var s=Bk(),a="",o=0;if(e.cellXfs=[],ph(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Jr(s,a,LD(t.Props,e)),i.coreprops.push(a),ni(e.rels,2,a,fn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Jr(s,a,OD(t.Props)),i.extprops.push(a),ni(e.rels,3,a,fn.EXT_PROPS),t.Custprops!==t.Props&&bs(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Jr(s,a,MD(t.Custprops)),i.custprops.push(a),ni(e.rels,4,a,fn.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var p={"!id":{}},g=t.Sheets[t.SheetNames[o-1]],m=(g||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Jr(s,a,AO(o-1,e,t,p)),i.sheets.push(a),ni(e.wbrels,-1,"worksheets/sheet"+o+"."+r,fn.WS[0])}if(g){var y=g["!comments"],w=!1,_="";if(y&&y.length>0){var S=!1;y.forEach(function(P){P[1].forEach(function(A){A.T==!0&&(S=!0)})}),S&&(_="xl/threadedComments/threadedComment"+o+"."+r,Jr(s,_,Pae(y,d,e)),i.threadedcomments.push(_),ni(p,-1,"../threadedComments/threadedComment"+o+"."+r,fn.TCMNT)),_="xl/comments"+o+"."+r,Jr(s,_,xO(y)),i.comments.push(_),ni(p,-1,"../comments"+o+"."+r,fn.CMNT),w=!0}g["!legacy"]&&w&&Jr(s,"xl/drawings/vmlDrawing"+o+".vml",gO(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&Jr(s,u2(a),c1(p))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Jr(s,a,iO(e.Strings,e)),i.strs.push(a),ni(e.wbrels,-1,"sharedStrings."+r,fn.SST)),a="xl/workbook."+r,Jr(s,a,LO(t)),i.workbooks.push(a),ni(e.rels,1,a,fn.WB),a="xl/theme/theme1.xml",Jr(s,a,a8(t.Themes,e)),i.themes.push(a),ni(e.wbrels,-1,"theme/theme1.xml",fn.THEME),a="xl/styles."+r,Jr(s,a,fO(t,e)),i.styles.push(a),ni(e.wbrels,-1,"styles."+r,fn.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Jr(s,a,t.vbaraw),i.vba.push(a),ni(e.wbrels,-1,"vbaProject.bin",fn.VBA)),a="xl/metadata."+r,Jr(s,a,mO()),i.metadata.push(a),ni(e.wbrels,-1,"metadata."+r,fn.XLMETA),d.length>1&&(a="xl/persons/person.xml",Jr(s,a,jae(d)),i.people.push(a),ni(e.wbrels,-1,"persons/person.xml",fn.PEOPLE)),Jr(s,"[Content_Types].xml",PD(i,e)),Jr(s,"_rels/.rels",c1(e.rels)),Jr(s,"xl/_rels/workbook."+r+".rels",c1(e.wbrels)),delete e.revssf,delete e.ssf,s}function g8(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Vl(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Efe(t,e){return Sr.find(t,"EncryptedPackage")?_fe(t,e):MO(t,e)}function Cfe(t,e){var r,n=t,i=e||{};return i.type||(i.type=ln&&Buffer.isBuffer(t)?"buffer":"base64"),r=aD(n,i),wfe(r,i)}function WO(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return tb(t.slice(r),e);default:break e}return M1.to_workbook(t,e)}function Nfe(t,e){var r="",n=g8(t,e);switch(e.type){case"base64":r=Vl(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=P0(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=pi(r)),e.type="binary",WO(r,e)}function Tfe(t,e){var r=t;return e.type=="base64"&&(r=Vl(r)),r=i2.utils.decode(1200,r.slice(2),"str"),e.type="binary",WO(r,e)}function Afe(t){return t.match(/[^\x00-\x7F]/)?ku(t):t}function n3(t,e,r,n){return n?(r.type="string",M1.to_workbook(t,r)):M1.to_workbook(e,r)}function ib(t,e){Fk();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return ib(new Uint8Array(t),(r=Di(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),d1={},r.dateNF&&(d1.dateNF=r.dateNF),r.type||(r.type=ln&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=ln?"buffer":"binary",n=kte(t),typeof Uint8Array<"u"&&!ln&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=Afe(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return r=Di(r),r.type="array",ib(Dk(n),r)}switch((i=g8(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Efe(Sr.read(n,r),r);break;case 9:if(i[1]<=8)return MO(n,r);break;case 60:return tb(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return Lie(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return rO.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Cfe(n,r):n3(t,n,r,s);case 239:return i[3]===60?tb(n,r):n3(t,n,r,s);case 255:if(i[1]===254)return Tfe(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return u0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return u0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return eb.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return cO.to_workbook(n,r);break;case 10:case 13:case 32:return Nfe(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return jie.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?eb.to_workbook(n,r):n3(t,n,r,s)}function GO(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Z2(e.file,Sr.write(t,{type:ln?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Sr.write(t,e)}function Ife(t,e){var r=Di(e||{}),n=bfe(t,r);return Pfe(n,r)}function Pfe(t,e){var r={},n=ln?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Sr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(n4(i))}return e.password&&typeof encrypt_agile<"u"?GO(encrypt_agile(i,e.password),e):e.type==="file"?Z2(e.file,i):e.type=="string"?pi(i):i}function Rfe(t,e){var r=e||{},n=Ade(t,r);return GO(n,r)}function mu(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return s2(ku(n));case"binary":return ku(n);case"string":return t;case"file":return Z2(e.file,n,"utf8");case"buffer":return ln?Ld(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):mu(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function jfe(t,e){switch(e.type){case"base64":return s2(t);case"binary":return t;case"string":return t;case"file":return Z2(e.file,t,"binary");case"buffer":return ln?Ld(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function bv(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?s2(r):e.type=="string"?pi(r):r;case"file":return Z2(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function KO(t,e){Fk(),Eue(t);var r=Di(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=KO(t,r);return r.type="array",n4(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return mu(bde(t,r),r);case"slk":case"sylk":return mu(tO.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return mu(BO(t.Sheets[t.SheetNames[i]],r),r);case"txt":return jfe(YO(t.Sheets[t.SheetNames[i]],r),r);case"csv":return mu(x8(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return mu(rO.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return bv(eb.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return mu(M1.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return mu(cO.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return mu(nO.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return mu(qO(t,r),r);case"wk1":return bv(u0.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return bv(u0.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),bv(VO(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Rfe(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Ife(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Lfe(t,e,r,n,i,s,a,o){var l=Bs(r),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var y=a?t[r][m]:t[n[m]+l];if(y===void 0||y.t===void 0){if(c===void 0)continue;s[m]!=null&&(g[s[m]]=c);continue}var w=y.v;switch(y.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(w==null)if(y.t=="e"&&w===null)g[s[m]]=null;else if(c!==void 0)g[s[m]]=c;else if(d&&w===null)g[s[m]]=null;else continue;else g[s[m]]=d&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?w:Sd(y,w,o);w!=null&&(p=!1)}}return{row:g,isempty:p}}function s5(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},d=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof d){case"string":l=Vn(d);break;case"number":l=Vn(t["!ref"]),l.s.r=d;break;default:l=d}n>0&&(i=0);var p=Bs(l.s.r),g=[],m=[],y=0,w=0,_=Array.isArray(t),S=l.s.r,P=0,A={};_&&!t[S]&&(t[S]=[]);var V=c.skipHidden&&t["!cols"]||[],W=c.skipHidden&&t["!rows"]||[];for(P=l.s.c;P<=l.e.c;++P)if(!(V[P]||{}).hidden)switch(g[P]=ss(P),r=_?t[S][P]:t[g[P]+p],n){case 1:s[P]=P-l.s.c;break;case 2:s[P]=g[P];break;case 3:s[P]=c.header[P-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Sd(r,null,c),w=A[a]||0,!w)A[a]=1;else{do o=a+"_"+w++;while(A[o]);A[a]=w,A[o]=1}s[P]=o}for(S=l.s.r+i;S<=l.e.r;++S)if(!(W[S]||{}).hidden){var K=Lfe(t,l,S,g,n,s,_,c);(K.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=K.row)}return m.length=y,m}var gN=/"/g;function Ffe(t,e,r,n,i,s,a,o){for(var l=!0,c=[],d="",p=Bs(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var m=o.dense?(t[r]||[])[g]:t[n[g]+p];if(m==null)d="";else if(m.v!=null){l=!1,d=""+(o.rawNumbers&&m.t=="n"?m.v:Sd(m,null,o));for(var y=0,w=0;y!==d.length;++y)if((w=d.charCodeAt(y))===i||w===s||w===34||o.forceQuotes){d='"'+d.replace(gN,'""')+'"';break}d=="ID"&&(d='"ID"')}else m.f!=null&&!m.F?(l=!1,d="="+m.f,d.indexOf(",")>=0&&(d='"'+d.replace(gN,'""')+'"')):d="";c.push(d)}return o.blankrows===!1&&l?null:c.join(a)}function x8(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Vn(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",p=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(g[y]||{}).hidden||(p[y]=ss(y));for(var w=0,_=i.s.r;_<=i.e.r;++_)(m[_]||{}).hidden||(d=Ffe(t,i,_,p,a,l,s,n),d!=null&&(n.strip&&(d=d.replace(c,"")),(d||n.blankrows!==!1)&&r.push((w++?o:"")+d)));return delete n.dense,r.join("")}function YO(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=x8(t,e);return r}function Dfe(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Vn(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=ss(o);for(var d=i.s.r;d<=i.e.r;++d)for(s=Bs(d),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=c?(t[d]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function XO(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?as(n.origin):n.origin;a=l.r,o=l.c}var c,d={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var p=Vn(s["!ref"]);d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),a==-1&&(a=p.e.r+1,d.e.r=a+e.length-1+i)}else a==-1&&(a=0,d.e.r=e.length-1+i);var g=n.header||[],m=0;e.forEach(function(w,_){bs(w).forEach(function(S){(m=g.indexOf(S))==-1&&(g[m=g.length]=S);var P=w[S],A="z",V="",W=Lr({c:o+m,r:a+_+i});c=x2(s,W),P&&typeof P=="object"&&!(P instanceof Date)?s[W]=P:(typeof P=="number"?A="n":typeof P=="boolean"?A="b":typeof P=="string"?A="s":P instanceof Date?(A="d",n.cellDates||(A="n",P=ma(P)),V=n.dateNF||Ir[14]):P===null&&n.nullError&&(A="e",P=0),c?(c.t=A,c.v=P,delete c.w,delete c.R,V&&(c.z=V)):s[W]=c={t:A,v:P},V&&(c.z=V))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var y=Bs(a);if(i)for(m=0;m<g.length;++m)s[ss(m+o)+y]={t:"s",v:g[m]};return s["!ref"]=Xr(d),s}function Ofe(t,e){return XO(null,t,e)}function x2(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=as(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?x2(t,Lr(e)):x2(t,Lr({r:e,c:r||0}))}function Mfe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function v8(){return{SheetNames:[],Sheets:{}}}function y8(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(jO(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Vfe(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Mfe(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Bfe(t,e){return t.z=e,t}function QO(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Ufe(t,e,r){return QO(t,"#"+e,r)}function zfe(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function $fe(t,e,r,n){for(var i=typeof e!="string"?e:Vn(e),s=typeof e=="string"?e:Xr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=x2(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var ny={encode_col:ss,encode_row:Bs,encode_cell:Lr,encode_range:Xr,decode_col:Kk,decode_row:Gk,split_cell:tre,decode_cell:as,decode_range:dl,format_cell:Sd,sheet_add_aoa:SD,sheet_add_json:XO,sheet_add_dom:UO,aoa_to_sheet:sm,json_to_sheet:Ofe,table_to_sheet:zO,table_to_book:Qde,sheet_to_csv:x8,sheet_to_txt:YO,sheet_to_json:s5,sheet_to_html:BO,sheet_to_formulae:Dfe,sheet_to_row_object_array:s5,sheet_get_cell:x2,book_new:v8,book_append_sheet:y8,book_set_sheet_visibility:Vfe,cell_set_number_format:Bfe,cell_set_hyperlink:QO,cell_set_internal_link:Ufe,cell_add_comment:zfe,sheet_set_array_formula:$fe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const qfe=t=>new Promise((e,r)=>{zF.parse(t,{header:!0,skipEmptyLines:!0,complete:n=>e(n.data),error:r})}),Hfe=async t=>{const e=await t.arrayBuffer(),r=ib(e,{type:"array"}),n=r.Sheets[r.SheetNames[0]];return ny.sheet_to_json(n)};function JO({pharmacyId:t,onClose:e}){const[r,n]=L.useState("");L.useEffect(()=>{const{overflow:o}=document.body.style;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=o}},[]);const i=()=>{const o=[{name:"Paracetamol",price:800,description:"OTC analgesic",image:"https://...",category:"Over-the-Counter",stock:50,sku:"PAR-500"},{name:"Ibuprofen",price:1200,description:"NSAID",image:"https://...",category:"Over-the-Counter",stock:30,sku:"IBU-200"}],l=Object.keys(o[0]),c=[l.join(","),...o.map(m=>l.map(y=>m[y]).join(","))].join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(d),g=document.createElement("a");g.href=p,g.download="pharmasea_inventory_template.csv",g.click(),URL.revokeObjectURL(p)},s=async o=>{try{n("");const l=o?.[0];if(!l)return;let c=[];l.name.endsWith(".csv")?c=await qfe(l):c=await Hfe(l);const d=c.map(p=>({name:p.name,price:Number(p.price),description:p.description||"",image:p.image||"",category:p.category||"Over-the-Counter",stock:Number(p.stock||0),sku:p.sku||""})).filter(p=>p.name&&p.price);if(!d.length)throw new Error("No valid rows found. Expect headers: name, price, description, image, category, stock, sku");await pF(d,t),e()}catch(l){n(l.message||"Failed to parse file")}},a=u.jsx("div",{className:`\r
        fixed inset-0 z-[100]\r
        grid place-items-center\r
        bg-black/30 backdrop-blur-sm\r
        min-h-[100svh]\r
        animate-fade-in\r
      `,onClick:e,children:u.jsxs("div",{className:`\r
          bg-white rounded-3xl p-6 w-[92vw] max-w-sm\r
          shadow-xl border border-[#9ED3FF]\r
          max-h-[85svh] overflow-auto\r
          card-interactive hover:shadow-2xl transition-all duration-300\r
          animate-bounce-in\r
        `,onClick:o=>o.stopPropagation(),children:[u.jsx("div",{className:"text-lg font-light font-poppins mb-4 text-black animate-text-reveal",children:"Bulk Upload Products"}),u.jsx("div",{className:"space-y-3 animate-fade-in",style:{animationDelay:"0.1s"},children:u.jsx("input",{className:"w-full border-b border-[#9ED3FF] text-[13px] font-light py-2 outline-none focus:border-sky-500 dark:border-gray-600 transition-colors duration-200 hover:border-sky-400",placeholder:"CSV or XLSX File",type:"file",onChange:o=>s(o.target.files),accept:".csv,.xlsx"})}),u.jsxs("div",{className:"flex gap-2 mt-6 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[u.jsx("button",{onClick:i,className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700 btn-interactive hover:scale-105 active:scale-95 transition-all duration-200",children:"Download CSV template"}),u.jsx("button",{className:"flex-1 rounded-full border border-zinc-300 text-zinc-500 text-[13px] font-light py-2 btn-interactive hover:border-zinc-400 hover:scale-105 active:scale-95 transition-all duration-200",onClick:e,children:"Cancel"})]}),r&&u.jsx("div",{className:"mt-3 text-red-600 text-sm animate-shake animate-fade-in",children:r})]})});return Us.createPortal(a,document.body)}function ii(t){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(t)}var Hc=Uint8Array,Ll=Uint16Array,w8=Int32Array,_8=new Hc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),b8=new Hc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xN=new Hc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZO=function(t,e){for(var r=new Ll(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new w8(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},eM=ZO(_8,2),Wfe=eM.b,sb=eM.r;Wfe[28]=258,sb[258]=28;var Gfe=ZO(b8,0),vN=Gfe.r,ab=new Ll(32768);for(var Li=0;Li<32768;++Li){var gf=(Li&43690)>>1|(Li&21845)<<1;gf=(gf&52428)>>2|(gf&13107)<<2,gf=(gf&61680)>>4|(gf&3855)<<4,ab[Li]=((gf&65280)>>8|(gf&255)<<8)>>1}var Rg=(function(t,e,r){for(var n=t.length,i=0,s=new Ll(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Ll(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Ll(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],d=e-t[i],p=a[t[i]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)o[ab[p]>>l]=c}else for(o=new Ll(n),i=0;i<n;++i)t[i]&&(o[i]=ab[a[t[i]-1]++]>>15-t[i]);return o}),D0=new Hc(288);for(var Li=0;Li<144;++Li)D0[Li]=8;for(var Li=144;Li<256;++Li)D0[Li]=9;for(var Li=256;Li<280;++Li)D0[Li]=7;for(var Li=280;Li<288;++Li)D0[Li]=8;var a5=new Hc(32);for(var Li=0;Li<32;++Li)a5[Li]=5;var Kfe=Rg(D0,9,0),Yfe=Rg(a5,5,0),tM=function(t){return(t+7)/8|0},Xfe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Hc(t.subarray(e,r))},id=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Qm=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},i3=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:nM,l:0};if(i==1){var a=new Hc(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(W,K){return W.f-K.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[c].f<r[p].f?c++:p++],l=r[c!=d&&r[c].f<r[p].f?c++:p++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,n=1;n<i;++n)s[n].s>g&&(g=s[n].s);var m=new Ll(g+1),y=ob(r[d-1],m,0);if(y>e){var n=0,w=0,_=y-e,S=1<<_;for(s.sort(function(K,j){return m[j.s]-m[K.s]||K.f-j.f});n<i;++n){var P=s[n].s;if(m[P]>e)w+=S-(1<<y-m[P]),m[P]=e;else break}for(w>>=_;w>0;){var A=s[n].s;m[A]<e?w-=1<<e-m[A]++-1:++n}for(;n>=0&&w;--n){var V=s[n].s;m[V]==e&&(--m[V],++w)}y=e}return{t:new Hc(m),l:y}},ob=function(t,e,r){return t.s==-1?Math.max(ob(t.l,e,r+1),ob(t.r,e,r+1)):e[t.s]=r},yN=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ll(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Jm=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},rM=function(t,e,r){var n=r.length,i=tM(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},wN=function(t,e,r,n,i,s,a,o,l,c,d){id(e,d++,r),++i[256];for(var p=i3(i,15),g=p.t,m=p.l,y=i3(s,15),w=y.t,_=y.l,S=yN(g),P=S.c,A=S.n,V=yN(w),W=V.c,K=V.n,j=new Ll(19),T=0;T<P.length;++T)++j[P[T]&31];for(var T=0;T<W.length;++T)++j[W[T]&31];for(var C=i3(j,7),D=C.t,R=C.l,F=19;F>4&&!D[xN[F-1]];--F);var B=c+5<<3,ee=Jm(i,D0)+Jm(s,a5)+a,he=Jm(i,g)+Jm(s,w)+a+14+3*F+Jm(j,D)+2*j[16]+3*j[17]+7*j[18];if(l>=0&&B<=ee&&B<=he)return rM(e,d,t.subarray(l,l+c));var ve,fe,se,Y;if(id(e,d,1+(he<ee)),d+=2,he<ee){ve=Rg(g,m,0),fe=g,se=Rg(w,_,0),Y=w;var ie=Rg(D,R,0);id(e,d,A-257),id(e,d+5,K-1),id(e,d+10,F-4),d+=14;for(var T=0;T<F;++T)id(e,d+3*T,D[xN[T]]);d+=3*F;for(var G=[P,W],I=0;I<2;++I)for(var z=G[I],T=0;T<z.length;++T){var X=z[T]&31;id(e,d,ie[X]),d+=D[X],X>15&&(id(e,d,z[T]>>5&127),d+=z[T]>>12)}}else ve=Kfe,fe=D0,se=Yfe,Y=a5;for(var T=0;T<o;++T){var J=n[T];if(J>255){var X=J>>18&31;Qm(e,d,ve[X+257]),d+=fe[X+257],X>7&&(id(e,d,J>>23&31),d+=_8[X]);var ce=J&31;Qm(e,d,se[ce]),d+=Y[ce],ce>3&&(Qm(e,d,J>>5&8191),d+=b8[ce])}else Qm(e,d,ve[J]),d+=fe[J]}return Qm(e,d,ve[256]),d+fe[256]},Qfe=new w8([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nM=new Hc(0),Jfe=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Hc(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),c=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var p=Qfe[e-1],g=p>>13,m=p&8191,y=(1<<r)-1,w=s.p||new Ll(32768),_=s.h||new Ll(y+1),S=Math.ceil(r/3),P=2*S,A=function(Re){return(t[Re]^t[Re+1]<<S^t[Re+2]<<P)&y},V=new w8(25e3),W=new Ll(288),K=new Ll(32),j=0,T=0,C=s.i||0,D=0,R=s.w||0,F=0;C+2<a;++C){var B=A(C),ee=C&32767,he=_[B];if(w[ee]=he,_[B]=ee,R<=C){var ve=a-C;if((j>7e3||D>24576)&&(ve>423||!c)){d=wN(t,l,0,V,W,K,T,D,F,C-F,d),D=j=T=0,F=C;for(var fe=0;fe<286;++fe)W[fe]=0;for(var fe=0;fe<30;++fe)K[fe]=0}var se=2,Y=0,ie=m,G=ee-he&32767;if(ve>2&&B==A(C-G))for(var I=Math.min(g,ve)-1,z=Math.min(32767,C),X=Math.min(258,ve);G<=z&&--ie&&ee!=he;){if(t[C+se]==t[C+se-G]){for(var J=0;J<X&&t[C+J]==t[C+J-G];++J);if(J>se){if(se=J,Y=G,J>I)break;for(var ce=Math.min(G,J-2),we=0,fe=0;fe<ce;++fe){var ke=C-G+fe&32767,oe=w[ke],Ee=ke-oe&32767;Ee>we&&(we=Ee,he=ke)}}}ee=he,he=w[ee],G+=ee-he&32767}if(Y){V[D++]=268435456|sb[se]<<18|vN[Y];var Oe=sb[se]&31,re=vN[Y]&31;T+=_8[Oe]+b8[re],++W[257+Oe],++K[re],R=C+se,++j}else V[D++]=t[C],++W[t[C]]}}for(C=Math.max(C,R);C<a;++C)V[D++]=t[C],++W[t[C]];d=wN(t,l,c,V,W,K,T,D,F,C-F,d),c||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=_,s.p=w,s.i=C,s.w=R)}else{for(var C=s.w||0;C<a+c;C+=65535){var _e=C+65535;_e>=a&&(l[d/8|0]=c,_e=a),d=rM(l,d+1,t.subarray(C,_e))}s.i=a}return Xfe(o,0,n+tM(d)+i)},iM=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Zfe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Hc(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Jfe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},sM=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},ehe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=iM();i.p(e.dictionary),sM(t,2,i.d())}};function lb(t,e){e||(e={});var r=iM();r.p(t);var n=Zfe(t,e,e.dictionary?6:2,4);return ehe(n,e),sM(n,n.length-4,r.d()),n}var the=typeof TextDecoder<"u"&&new TextDecoder,rhe=0;try{the.decode(nM,{stream:!0}),rhe=1}catch{}function nhe(t){if(Array.isArray(t))return t}function ihe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,c=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function _N(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function she(t,e){if(t){if(typeof t=="string")return _N(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_N(t,e):void 0}}function ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bN(t,e){return nhe(t)||ihe(t,e)||she(t,e)||ahe()}function kN(t,e="utf8"){return new TextDecoder(e).decode(t)}const ohe=new TextEncoder;function lhe(t){return ohe.encode(t)}const che=1024*8,uhe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),s3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class k8{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=che,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof k8)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=s3[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===uhe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new s3[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new s3[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return kN(this.readBytes(e))}decodeText(e=1,r="utf8"){return kN(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(lhe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function om(t){let e=t.length;for(;--e>=0;)t[e]=0}const dhe=3,fhe=258,aM=29,hhe=256,phe=hhe+1+aM,oM=30,mhe=512,ghe=new Array((phe+2)*2);om(ghe);const xhe=new Array(oM*2);om(xhe);const vhe=new Array(mhe);om(vhe);const yhe=new Array(fhe-dhe+1);om(yhe);const whe=new Array(aM);om(whe);const _he=new Array(oM);om(_he);const bhe=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var cb=bhe;const khe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},She=new Uint32Array(khe()),Ehe=(t,e,r,n)=>{const i=She,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var fu=Ehe,ub={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lM={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Che=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Nhe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Che(r,n)&&(t[n]=r[n])}}return t},The=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},cM={assign:Nhe,flattenChunks:The};let uM=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{uM=!1}const v2=new Uint8Array(256);for(let t=0;t<256;t++)v2[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;v2[254]=v2[254]=1;var Ahe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const Ihe=(t,e)=>{if(e<65534&&t.subarray&&uM)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Phe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=v2[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return Ihe(s,i)},Rhe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+v2[t[r]]>e?r:e},db={string2buf:Ahe,buf2string:Phe,utf8border:Rhe};function jhe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Lhe=jhe;const kv=16209,Fhe=16191;var Dhe=function(e,r){let n,i,s,a,o,l,c,d,p,g,m,y,w,_,S,P,A,V,W,K,j,T,C,D;const R=e.state;n=e.next_in,C=e.input,i=n+(e.avail_in-5),s=e.next_out,D=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=R.dmax,c=R.wsize,d=R.whave,p=R.wnext,g=R.window,m=R.hold,y=R.bits,w=R.lencode,_=R.distcode,S=(1<<R.lenbits)-1,P=(1<<R.distbits)-1;e:do{y<15&&(m+=C[n++]<<y,y+=8,m+=C[n++]<<y,y+=8),A=w[m&S];t:for(;;){if(V=A>>>24,m>>>=V,y-=V,V=A>>>16&255,V===0)D[s++]=A&65535;else if(V&16){W=A&65535,V&=15,V&&(y<V&&(m+=C[n++]<<y,y+=8),W+=m&(1<<V)-1,m>>>=V,y-=V),y<15&&(m+=C[n++]<<y,y+=8,m+=C[n++]<<y,y+=8),A=_[m&P];r:for(;;){if(V=A>>>24,m>>>=V,y-=V,V=A>>>16&255,V&16){if(K=A&65535,V&=15,y<V&&(m+=C[n++]<<y,y+=8,y<V&&(m+=C[n++]<<y,y+=8)),K+=m&(1<<V)-1,K>l){e.msg="invalid distance too far back",R.mode=kv;break e}if(m>>>=V,y-=V,V=s-a,K>V){if(V=K-V,V>d&&R.sane){e.msg="invalid distance too far back",R.mode=kv;break e}if(j=0,T=g,p===0){if(j+=c-V,V<W){W-=V;do D[s++]=g[j++];while(--V);j=s-K,T=D}}else if(p<V){if(j+=c+p-V,V-=p,V<W){W-=V;do D[s++]=g[j++];while(--V);if(j=0,p<W){V=p,W-=V;do D[s++]=g[j++];while(--V);j=s-K,T=D}}}else if(j+=p-V,V<W){W-=V;do D[s++]=g[j++];while(--V);j=s-K,T=D}for(;W>2;)D[s++]=T[j++],D[s++]=T[j++],D[s++]=T[j++],W-=3;W&&(D[s++]=T[j++],W>1&&(D[s++]=T[j++]))}else{j=s-K;do D[s++]=D[j++],D[s++]=D[j++],D[s++]=D[j++],W-=3;while(W>2);W&&(D[s++]=D[j++],W>1&&(D[s++]=D[j++]))}}else if((V&64)===0){A=_[(A&65535)+(m&(1<<V)-1)];continue r}else{e.msg="invalid distance code",R.mode=kv;break e}break}}else if((V&64)===0){A=w[(A&65535)+(m&(1<<V)-1)];continue t}else if(V&32){R.mode=Fhe;break e}else{e.msg="invalid literal/length code",R.mode=kv;break e}break}}while(n<i&&s<o);W=y>>3,n-=W,y-=W<<3,m&=(1<<y)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),R.hold=m,R.bits=y};const Lp=15,SN=852,EN=592,CN=0,a3=1,NN=2,Ohe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Mhe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vhe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Bhe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Uhe=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let c=0,d=0,p=0,g=0,m=0,y=0,w=0,_=0,S=0,P=0,A,V,W,K,j,T=null,C;const D=new Uint16Array(Lp+1),R=new Uint16Array(Lp+1);let F=null,B,ee,he;for(c=0;c<=Lp;c++)D[c]=0;for(d=0;d<n;d++)D[e[r+d]]++;for(m=l,g=Lp;g>=1&&D[g]===0;g--);if(m>g&&(m=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&D[p]===0;p++);for(m<p&&(m=p),_=1,c=1;c<=Lp;c++)if(_<<=1,_-=D[c],_<0)return-1;if(_>0&&(t===CN||g!==1))return-1;for(R[1]=0,c=1;c<Lp;c++)R[c+1]=R[c]+D[c];for(d=0;d<n;d++)e[r+d]!==0&&(a[R[e[r+d]]++]=d);if(t===CN?(T=F=a,C=20):t===a3?(T=Ohe,F=Mhe,C=257):(T=Vhe,F=Bhe,C=0),P=0,d=0,c=p,j=s,y=m,w=0,W=-1,S=1<<m,K=S-1,t===a3&&S>SN||t===NN&&S>EN)return 1;for(;;){B=c-w,a[d]+1<C?(ee=0,he=a[d]):a[d]>=C?(ee=F[a[d]-C],he=T[a[d]-C]):(ee=96,he=0),A=1<<c-w,V=1<<y,p=V;do V-=A,i[j+(P>>w)+V]=B<<24|ee<<16|he|0;while(V!==0);for(A=1<<c-1;P&A;)A>>=1;if(A!==0?(P&=A-1,P+=A):P=0,d++,--D[c]===0){if(c===g)break;c=e[r+a[d]]}if(c>m&&(P&K)!==W){for(w===0&&(w=m),j+=p,y=c-w,_=1<<y;y+w<g&&(_-=D[y+w],!(_<=0));)y++,_<<=1;if(S+=1<<y,t===a3&&S>SN||t===NN&&S>EN)return 1;W=P&K,i[W]=m<<24|y<<16|j-s|0}}return P!==0&&(i[j+P]=c-w<<24|64<<16|0),o.bits=m,0};var jg=Uhe;const zhe=0,dM=1,fM=2,{Z_FINISH:TN,Z_BLOCK:$he,Z_TREES:Sv,Z_OK:O0,Z_STREAM_END:qhe,Z_NEED_DICT:Hhe,Z_STREAM_ERROR:mc,Z_DATA_ERROR:hM,Z_MEM_ERROR:pM,Z_BUF_ERROR:Whe,Z_DEFLATED:AN}=lM,f4=16180,IN=16181,PN=16182,RN=16183,jN=16184,LN=16185,FN=16186,DN=16187,ON=16188,MN=16189,o5=16190,sd=16191,o3=16192,VN=16193,l3=16194,BN=16195,UN=16196,zN=16197,$N=16198,Ev=16199,Cv=16200,qN=16201,HN=16202,WN=16203,GN=16204,KN=16205,c3=16206,YN=16207,XN=16208,qi=16209,mM=16210,gM=16211,Ghe=852,Khe=592,Yhe=15,Xhe=Yhe,QN=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Qhe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const tp=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<f4||e.mode>gM?1:0},xM=t=>{if(tp(t))return mc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=f4,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Ghe),e.distcode=e.distdyn=new Int32Array(Khe),e.sane=1,e.back=-1,O0},vM=t=>{if(tp(t))return mc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,xM(t)},yM=(t,e)=>{let r;if(tp(t))return mc;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?mc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,vM(t))},wM=(t,e)=>{if(!t)return mc;const r=new Qhe;t.state=r,r.strm=t,r.window=null,r.mode=f4;const n=yM(t,e);return n!==O0&&(t.state=null),n},Jhe=t=>wM(t,Xhe);let JN=!0,u3,d3;const Zhe=t=>{if(JN){u3=new Int32Array(512),d3=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(jg(dM,t.lens,0,288,u3,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;jg(fM,t.lens,0,32,d3,0,t.work,{bits:5}),JN=!1}t.lencode=u3,t.lenbits=9,t.distcode=d3,t.distbits=5},_M=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},e0e=(t,e)=>{let r,n,i,s,a,o,l,c,d,p,g,m,y,w,_=0,S,P,A,V,W,K,j,T;const C=new Uint8Array(4);let D,R;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(tp(t)||!t.output||!t.input&&t.avail_in!==0)return mc;r=t.state,r.mode===sd&&(r.mode=o3),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,p=o,g=l,T=O0;e:for(;;)switch(r.mode){case f4:if(r.wrap===0){r.mode=o3;break}for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=c&255,C[1]=c>>>8&255,r.check=fu(r.check,C,2,0),c=0,d=0,r.mode=IN;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=qi;break}if((c&15)!==AN){t.msg="unknown compression method",r.mode=qi;break}if(c>>>=4,d-=4,j=(c&15)+8,r.wbits===0&&(r.wbits=j),j>15||j>r.wbits){t.msg="invalid window size",r.mode=qi;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?MN:sd,c=0,d=0;break;case IN:for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==AN){t.msg="unknown compression method",r.mode=qi;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=qi;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=fu(r.check,C,2,0)),c=0,d=0,r.mode=PN;case PN:for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,r.check=fu(r.check,C,4,0)),c=0,d=0,r.mode=RN;case RN:for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=fu(r.check,C,2,0)),c=0,d=0,r.mode=jN;case jN:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=fu(r.check,C,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=LN;case LN:if(r.flags&1024&&(m=r.length,m>o&&(m=o),m&&(r.head&&(j=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+m),j)),r.flags&512&&r.wrap&4&&(r.check=fu(r.check,n,m,s)),o-=m,s+=m,r.length-=m),r.length))break e;r.length=0,r.mode=FN;case FN:if(r.flags&2048){if(o===0)break e;m=0;do j=n[s+m++],r.head&&j&&r.length<65536&&(r.head.name+=String.fromCharCode(j));while(j&&m<o);if(r.flags&512&&r.wrap&4&&(r.check=fu(r.check,n,m,s)),o-=m,s+=m,j)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=DN;case DN:if(r.flags&4096){if(o===0)break e;m=0;do j=n[s+m++],r.head&&j&&r.length<65536&&(r.head.comment+=String.fromCharCode(j));while(j&&m<o);if(r.flags&512&&r.wrap&4&&(r.check=fu(r.check,n,m,s)),o-=m,s+=m,j)break e}else r.head&&(r.head.comment=null);r.mode=ON;case ON:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=qi;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=sd;break;case MN:for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}t.adler=r.check=QN(c),c=0,d=0,r.mode=o5;case o5:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=d,Hhe;t.adler=r.check=1,r.mode=sd;case sd:if(e===$he||e===Sv)break e;case o3:if(r.last){c>>>=d&7,d-=d&7,r.mode=c3;break}for(;d<3;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=VN;break;case 1:if(Zhe(r),r.mode=Ev,e===Sv){c>>>=2,d-=2;break e}break;case 2:r.mode=UN;break;case 3:t.msg="invalid block type",r.mode=qi}c>>>=2,d-=2;break;case VN:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=qi;break}if(r.length=c&65535,c=0,d=0,r.mode=l3,e===Sv)break e;case l3:r.mode=BN;case BN:if(m=r.length,m){if(m>o&&(m=o),m>l&&(m=l),m===0)break e;i.set(n.subarray(s,s+m),a),o-=m,s+=m,l-=m,a+=m,r.length-=m;break}r.mode=sd;break;case UN:for(;d<14;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=qi;break}r.have=0,r.mode=zN;case zN:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.lens[F[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,D={bits:r.lenbits},T=jg(zhe,r.lens,0,19,r.lencode,0,r.work,D),r.lenbits=D.bits,T){t.msg="invalid code lengths set",r.mode=qi;break}r.have=0,r.mode=$N;case $N:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[c&(1<<r.lenbits)-1],S=_>>>24,P=_>>>16&255,A=_&65535,!(S<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(A<16)c>>>=S,d-=S,r.lens[r.have++]=A;else{if(A===16){for(R=S+2;d<R;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(c>>>=S,d-=S,r.have===0){t.msg="invalid bit length repeat",r.mode=qi;break}j=r.lens[r.have-1],m=3+(c&3),c>>>=2,d-=2}else if(A===17){for(R=S+3;d<R;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=S,d-=S,j=0,m=3+(c&7),c>>>=3,d-=3}else{for(R=S+7;d<R;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=S,d-=S,j=0,m=11+(c&127),c>>>=7,d-=7}if(r.have+m>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=qi;break}for(;m--;)r.lens[r.have++]=j}}if(r.mode===qi)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=qi;break}if(r.lenbits=9,D={bits:r.lenbits},T=jg(dM,r.lens,0,r.nlen,r.lencode,0,r.work,D),r.lenbits=D.bits,T){t.msg="invalid literal/lengths set",r.mode=qi;break}if(r.distbits=6,r.distcode=r.distdyn,D={bits:r.distbits},T=jg(fM,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,D),r.distbits=D.bits,T){t.msg="invalid distances set",r.mode=qi;break}if(r.mode=Ev,e===Sv)break e;case Ev:r.mode=Cv;case Cv:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=d,Dhe(t,g),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,r.mode===sd&&(r.back=-1);break}for(r.back=0;_=r.lencode[c&(1<<r.lenbits)-1],S=_>>>24,P=_>>>16&255,A=_&65535,!(S<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(P&&(P&240)===0){for(V=S,W=P,K=A;_=r.lencode[K+((c&(1<<V+W)-1)>>V)],S=_>>>24,P=_>>>16&255,A=_&65535,!(V+S<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=V,d-=V,r.back+=V}if(c>>>=S,d-=S,r.back+=S,r.length=A,P===0){r.mode=KN;break}if(P&32){r.back=-1,r.mode=sd;break}if(P&64){t.msg="invalid literal/length code",r.mode=qi;break}r.extra=P&15,r.mode=qN;case qN:if(r.extra){for(R=r.extra;d<R;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=HN;case HN:for(;_=r.distcode[c&(1<<r.distbits)-1],S=_>>>24,P=_>>>16&255,A=_&65535,!(S<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if((P&240)===0){for(V=S,W=P,K=A;_=r.distcode[K+((c&(1<<V+W)-1)>>V)],S=_>>>24,P=_>>>16&255,A=_&65535,!(V+S<=d);){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}c>>>=V,d-=V,r.back+=V}if(c>>>=S,d-=S,r.back+=S,P&64){t.msg="invalid distance code",r.mode=qi;break}r.offset=A,r.extra=P&15,r.mode=WN;case WN:if(r.extra){for(R=r.extra;d<R;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=qi;break}r.mode=GN;case GN:if(l===0)break e;if(m=g-l,r.offset>m){if(m=r.offset-m,m>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=qi;break}m>r.wnext?(m-=r.wnext,y=r.wsize-m):y=r.wnext-m,m>r.length&&(m=r.length),w=r.window}else w=i,y=a-r.offset,m=r.length;m>l&&(m=l),l-=m,r.length-=m;do i[a++]=w[y++];while(--m);r.length===0&&(r.mode=Cv);break;case KN:if(l===0)break e;i[a++]=r.length,l--,r.mode=Cv;break;case c3:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[s++]<<d,d+=8}if(g-=l,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?fu(r.check,i,g,a-g):cb(r.check,i,g,a-g)),g=l,r.wrap&4&&(r.flags?c:QN(c))!==r.check){t.msg="incorrect data check",r.mode=qi;break}c=0,d=0}r.mode=YN;case YN:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[s++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=qi;break}c=0,d=0}r.mode=XN;case XN:T=qhe;break e;case qi:T=hM;break e;case mM:return pM;case gM:default:return mc}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=c,r.bits=d,(r.wsize||g!==t.avail_out&&r.mode<qi&&(r.mode<c3||e!==TN))&&_M(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?fu(r.check,i,g,t.next_out-g):cb(r.check,i,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===sd?128:0)+(r.mode===Ev||r.mode===l3?256:0),(p===0&&g===0||e===TN)&&T===O0&&(T=Whe),T},t0e=t=>{if(tp(t))return mc;let e=t.state;return e.window&&(e.window=null),t.state=null,O0},r0e=(t,e)=>{if(tp(t))return mc;const r=t.state;return(r.wrap&2)===0?mc:(r.head=e,e.done=!1,O0)},n0e=(t,e)=>{const r=e.length;let n,i,s;return tp(t)||(n=t.state,n.wrap!==0&&n.mode!==o5)?mc:n.mode===o5&&(i=1,i=cb(i,e,r,0),i!==n.check)?hM:(s=_M(t,e,r,r),s?(n.mode=mM,pM):(n.havedict=1,O0))};var i0e=vM,s0e=yM,a0e=xM,o0e=Jhe,l0e=wM,c0e=e0e,u0e=t0e,d0e=r0e,f0e=n0e,h0e="pako inflate (from Nodeca project)",ad={inflateReset:i0e,inflateReset2:s0e,inflateResetKeep:a0e,inflateInit:o0e,inflateInit2:l0e,inflate:c0e,inflateEnd:u0e,inflateGetHeader:d0e,inflateSetDictionary:f0e,inflateInfo:h0e};function p0e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var m0e=p0e;const bM=Object.prototype.toString,{Z_NO_FLUSH:g0e,Z_FINISH:x0e,Z_OK:y2,Z_STREAM_END:f3,Z_NEED_DICT:h3,Z_STREAM_ERROR:v0e,Z_DATA_ERROR:ZN,Z_MEM_ERROR:y0e}=lM;function ox(t){this.options=cM.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Lhe,this.strm.avail_out=0;let r=ad.inflateInit2(this.strm,e.windowBits);if(r!==y2)throw new Error(ub[r]);if(this.header=new m0e,ad.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=db.string2buf(e.dictionary):bM.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ad.inflateSetDictionary(this.strm,e.dictionary),r!==y2)))throw new Error(ub[r])}ox.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?x0e:g0e,bM.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=ad.inflate(r,a),s===h3&&i&&(s=ad.inflateSetDictionary(r,i),s===y2?s=ad.inflate(r,a):s===ZN&&(s=h3));r.avail_in>0&&s===f3&&r.state.wrap>0&&t[r.next_in]!==0;)ad.inflateReset(r),s=ad.inflate(r,a);switch(s){case v0e:case ZN:case h3:case y0e:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===f3))if(this.options.to==="string"){let l=db.utf8border(r.output,r.next_out),c=r.next_out-l,d=db.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===y2&&o===0)){if(s===f3)return s=ad.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ox.prototype.onData=function(t){this.chunks.push(t)};ox.prototype.onEnd=function(t){t===y2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cM.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function w0e(t,e){const r=new ox(e);if(r.push(t),r.err)throw r.msg||ub[r.err];return r.result}var _0e=ox,b0e=w0e,k0e={Inflate:_0e,inflate:b0e};const{Inflate:S0e,inflate:E0e}=k0e;var eT=S0e,C0e=E0e;const kM=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;kM[t]=e}const tT=4294967295;function N0e(t,e,r){let n=t;for(let i=0;i<r;i++)n=kM[(n^e[i])&255]^n>>>8;return n}function T0e(t,e){return(N0e(tT,t,e)^tT)>>>0}function rT(t,e,r){const n=t.readUint32(),i=T0e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function SM(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function EM(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function CM(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function NM(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function TM(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+A0e(e[s-i],r[s],r[s-i])&255}}function A0e(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function I0e(t,e,r,n,i,s){switch(t){case 0:SM(e,r,i);break;case 1:EM(e,r,i,s);break;case 2:CM(e,r,n,i);break;case 3:NM(e,r,n,i,s);break;case 4:TM(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const P0e=new Uint16Array([255]),R0e=new Uint8Array(P0e.buffer),j0e=R0e[0]===255;function L0e(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let d=0;d<7;d++){const p=a[d],g=Math.ceil((r-p.x)/p.xStep),m=Math.ceil((n-p.y)/p.yStep);if(g<=0||m<=0)continue;const y=g*o,w=new Uint8Array(y);for(let _=0;_<m;_++){const S=e[c++],P=e.subarray(c,c+y);c+=y;const A=new Uint8Array(y);I0e(S,P,A,w,y,o),w.set(A);for(let V=0;V<g;V++){const W=p.x+V*p.xStep,K=p.y+_*p.yStep;if(!(W>=r||K>=n))for(let j=0;j<o;j++)l[(K*r+W)*o+j]=A[V*o+j]}}}if(s===16){const d=new Uint16Array(l.buffer);if(j0e)for(let p=0;p<d.length;p++)d[p]=F0e(d[p]);return d}else return l}function F0e(t){return(t&255)<<8|t>>8&255}const D0e=new Uint16Array([255]),O0e=new Uint8Array(D0e.buffer),M0e=O0e[0]===255,V0e=new Uint8Array(0);function nT(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let c=V0e,d=0,p,g;for(let m=0;m<n;m++){switch(p=e.subarray(d+1,d+1+o),g=l.subarray(m*o,(m+1)*o),e[d]){case 0:SM(p,g,o);break;case 1:EM(p,g,o,a);break;case 2:CM(p,g,c,o);break;case 3:NM(p,g,c,o,a);break;case 4:TM(p,g,c,o,a);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}c=g,d+=o+1}if(s===16){const m=new Uint16Array(l.buffer);if(M0e)for(let y=0;y<m.length;y++)m[y]=B0e(m[y]);return m}else return l}function B0e(t){return(t&255)<<8|t>>8&255}const iy=Uint8Array.of(137,80,78,71,13,10,26,10);function iT(t){if(!U0e(t.readBytes(iy.length)))throw new Error("wrong PNG signature")}function U0e(t){if(t.length<iy.length)return!1;for(let e=0;e<iy.length;e++)if(t[e]!==iy[e])return!1;return!0}const z0e="tEXt",$0e=0,AM=new TextDecoder("latin1");function q0e(t){if(W0e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const H0e=/^[\u0000-\u00FF]*$/;function W0e(t){if(!H0e.test(t))throw new Error("invalid latin1 text")}function G0e(t,e,r){const n=IM(e);t[n]=K0e(e,r-n.length-1)}function IM(t){for(t.mark();t.readByte()!==$0e;);const e=t.offset;t.reset();const r=AM.decode(t.readBytes(e-t.offset-1));return t.skip(1),q0e(r),r}function K0e(t,e){return AM.decode(t.readBytes(e))}const Nl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},p3={UNKNOWN:-1,DEFLATE:0},sT={UNKNOWN:-1,ADAPTIVE:0},m3={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Nv={NONE:0,BACKGROUND:1,PREVIOUS:2},g3={SOURCE:0,OVER:1};class Y0e extends k8{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new eT,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=p3.UNKNOWN,this._filterMethod=sT.UNKNOWN,this._interlaceMethod=m3.UNKNOWN,this._colorType=Nl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(iT(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(iT(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case z0e:G0e(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?rT(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?rT(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=X0e(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Nl.GREYSCALE:n=1;break;case Nl.TRUECOLOUR:n=3;break;case Nl.INDEXED_COLOUR:n=1;break;case Nl.GREYSCALE_ALPHA:n=2;break;case Nl.TRUECOLOUR_ALPHA:n=4;break;case Nl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==p3.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Nl.GREYSCALE:case Nl.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Nl.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Nl.UNKNOWN:case Nl.GREYSCALE_ALPHA:case Nl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=IM(this),n=this.readUint8();if(n!==p3.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:C0e(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=nT({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Nv.NONE:break;case Nv.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[a+o]=0}break;case Nv.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(s,a)=>{const o=((s+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,l=(s*r.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(r.blendOp){case g3.SOURCE:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++)e.data[o+c]=r.data[l+c]}break;case g3.OVER:for(let s=0;s<r.height;s++)for(let a=0;a<r.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++){const d=r.data[l+this._png.channels-1]/n,p=c%(this._png.channels-1)===0?1:r.data[l+c],g=Math.floor(d*p+(1-d)*e.data[o+c]);e.data[o+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==sT.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===m3.NO_INTERLACE)this._png.data=nT({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===m3.ADAM7)this._png.data=L0e({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Nv.NONE,blendOp:g3.SOURCE,data:e}),this._inflator=new eT,this._writingDataChunks=!1}}function X0e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var aT;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(aT||(aT={}));function Q0e(t,e){return new Y0e(t,e).decode()}var Ur=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function x3(){Ur.console&&typeof Ur.console.log=="function"&&Ur.console.log.apply(Ur.console,arguments)}var wi={log:x3,warn:function(t){Ur.console&&(typeof Ur.console.warn=="function"?Ur.console.warn.apply(Ur.console,arguments):x3.call(null,arguments))},error:function(t){Ur.console&&(typeof Ur.console.error=="function"?Ur.console.error.apply(Ur.console,arguments):x3(t))}};function v3(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){zh(n.response,e,r)},n.onerror=function(){wi.error("could not download file")},n.send()}function oT(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Tv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var zh=Ur.saveAs||((typeof window>"u"?"undefined":ii(window))!=="object"||window!==Ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ur.URL||Ur.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?oT(i.href)?v3(t,e,r):Tv(i,i.target="_blank"):Tv(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Tv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(oT(t))v3(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Tv(n)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:ii(s)!=="object"&&(wi.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return v3(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ur.HTMLElement)||Ur.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":ii(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=Ur.URL||Ur.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function PM(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var sy=Ur.atob.bind(Ur),lT=Ur.btoa.bind(Ur);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function y3(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=vo(r,n,i,s,e[0],7,-680876936),s=vo(s,r,n,i,e[1],12,-389564586),i=vo(i,s,r,n,e[2],17,606105819),n=vo(n,i,s,r,e[3],22,-1044525330),r=vo(r,n,i,s,e[4],7,-176418897),s=vo(s,r,n,i,e[5],12,1200080426),i=vo(i,s,r,n,e[6],17,-1473231341),n=vo(n,i,s,r,e[7],22,-45705983),r=vo(r,n,i,s,e[8],7,1770035416),s=vo(s,r,n,i,e[9],12,-1958414417),i=vo(i,s,r,n,e[10],17,-42063),n=vo(n,i,s,r,e[11],22,-1990404162),r=vo(r,n,i,s,e[12],7,1804603682),s=vo(s,r,n,i,e[13],12,-40341101),i=vo(i,s,r,n,e[14],17,-1502002290),r=yo(r,n=vo(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=yo(s,r,n,i,e[6],9,-1069501632),i=yo(i,s,r,n,e[11],14,643717713),n=yo(n,i,s,r,e[0],20,-373897302),r=yo(r,n,i,s,e[5],5,-701558691),s=yo(s,r,n,i,e[10],9,38016083),i=yo(i,s,r,n,e[15],14,-660478335),n=yo(n,i,s,r,e[4],20,-405537848),r=yo(r,n,i,s,e[9],5,568446438),s=yo(s,r,n,i,e[14],9,-1019803690),i=yo(i,s,r,n,e[3],14,-187363961),n=yo(n,i,s,r,e[8],20,1163531501),r=yo(r,n,i,s,e[13],5,-1444681467),s=yo(s,r,n,i,e[2],9,-51403784),i=yo(i,s,r,n,e[7],14,1735328473),r=wo(r,n=yo(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=wo(s,r,n,i,e[8],11,-2022574463),i=wo(i,s,r,n,e[11],16,1839030562),n=wo(n,i,s,r,e[14],23,-35309556),r=wo(r,n,i,s,e[1],4,-1530992060),s=wo(s,r,n,i,e[4],11,1272893353),i=wo(i,s,r,n,e[7],16,-155497632),n=wo(n,i,s,r,e[10],23,-1094730640),r=wo(r,n,i,s,e[13],4,681279174),s=wo(s,r,n,i,e[0],11,-358537222),i=wo(i,s,r,n,e[3],16,-722521979),n=wo(n,i,s,r,e[6],23,76029189),r=wo(r,n,i,s,e[9],4,-640364487),s=wo(s,r,n,i,e[12],11,-421815835),i=wo(i,s,r,n,e[15],16,530742520),r=_o(r,n=wo(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=_o(s,r,n,i,e[7],10,1126891415),i=_o(i,s,r,n,e[14],15,-1416354905),n=_o(n,i,s,r,e[5],21,-57434055),r=_o(r,n,i,s,e[12],6,1700485571),s=_o(s,r,n,i,e[3],10,-1894986606),i=_o(i,s,r,n,e[10],15,-1051523),n=_o(n,i,s,r,e[1],21,-2054922799),r=_o(r,n,i,s,e[8],6,1873313359),s=_o(s,r,n,i,e[15],10,-30611744),i=_o(i,s,r,n,e[6],15,-1560198380),n=_o(n,i,s,r,e[13],21,1309151649),r=_o(r,n,i,s,e[4],6,-145523070),s=_o(s,r,n,i,e[11],10,-1120210379),i=_o(i,s,r,n,e[2],15,718787259),n=_o(n,i,s,r,e[9],21,-343485551),t[0]=Rf(r,t[0]),t[1]=Rf(n,t[1]),t[2]=Rf(i,t[2]),t[3]=Rf(s,t[3])}function h4(t,e,r,n,i,s){return e=Rf(Rf(e,t),Rf(n,s)),Rf(e<<i|e>>>32-i,r)}function vo(t,e,r,n,i,s,a){return h4(e&r|~e&n,t,e,i,s,a)}function yo(t,e,r,n,i,s,a){return h4(e&n|r&~n,t,e,i,s,a)}function wo(t,e,r,n,i,s,a){return h4(e^r^n,t,e,i,s,a)}function _o(t,e,r,n,i,s,a){return h4(r^(e|~n),t,e,i,s,a)}function RM(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)y3(n,J0e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(y3(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,y3(n,i),n}function J0e(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var cT="0123456789abcdef".split("");function Z0e(t){for(var e="",r=0;r<4;r++)e+=cT[t>>8*r+4&15]+cT[t>>8*r&15];return e}function epe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function fb(t){return RM(t).map(epe).join("")}var tpe=(function(t){for(var e=0;e<t.length;e++)t[e]=Z0e(t[e]);return t.join("")})(RM("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rf(t,e){if(tpe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function hb(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+a.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=t,n=o}else o=n;var p=e.length,g=0,m=0,y="";for(l=0;l<p;l++)m=(m+(d=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=d,a=o[(o[g]+o[m])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uT={print:4,modify:8,copy:16,"annot-forms":32};function qp(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(uT.perm!==void 0)throw new Error("Invalid permission: "+o);i+=uT[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=fb(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=hb(this.encryptionKey,this.padding)}function Hp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function dT(t){if(ii(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Ur.console&&wi.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function l5(t){if(!(this instanceof l5))return new l5(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function jM(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xh(t,e,r,n,i){if(!(this instanceof Xh))return new Xh(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,jM.call(this,n,i)}function Gp(t,e,r,n,i){if(!(this instanceof Gp))return new Gp(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,jM.call(this,n,i)}function yr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",d=null;ii(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=dT;var y="1.3",w=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(M){y=M};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return _};var S=m.__private__.getPageFormat=function(M){return _[M]};i=i||"a4";var P="compat",A="advanced",V=P;function W(){this.saveGraphicsState(),pe(new gr(lt,0,0,-lt,0,Hs()*lt).toString()+" cm"),this.setFontSize(this.getFontSize()/lt),c="n",V=A}function K(){this.restoreGraphicsState(),c="S",V=P}var j=m.__private__.combineFontStyleAndFontWeight=function(M,te){if(M=="bold"&&te=="normal"||M=="bold"&&te==400||M=="normal"&&te=="italic"||M=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(M=te==400||te==="normal"?M==="italic"?"italic":"normal":te!=700&&te!=="bold"||M!=="normal"?(te==700?"bold":te)+""+M:"bold"),M};m.advancedAPI=function(M){var te=V===P;return te&&W.call(this),typeof M!="function"||(M(this),te&&K.call(this)),this},m.compatAPI=function(M){var te=V===A;return te&&K.call(this),typeof M!="function"||(M(this),te&&W.call(this)),this},m.isAdvancedAPI=function(){return V===A};var T,C=function(M){if(V!==A)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=m.roundToPrecision=m.__private__.roundToPrecision=function(M,te){var Ne=e||te;if(isNaN(M)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Ne).replace(/0+$/,"")};T=m.hpf=m.__private__.hpf=typeof l=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,l)}:l==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return D(M,16)};var R=m.f2=m.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return D(M,2)},F=m.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return D(M,3)},B=m.scale=m.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return V===P?M*lt:V===A?M:void 0},ee=function(M){return B((function(te){return V===P?Hs()-te:V===A?te:void 0})(M))};m.__private__.setPrecision=m.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var he,ve="00000000000000000000000000000000",fe=m.__private__.getFileId=function(){return ve},se=m.__private__.setFileId=function(M){return ve=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():ve.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(rn=new qp(d.userPermissions,d.userPassword,d.ownerPassword,ve)),ve};m.setFileId=function(M){return se(M),this},m.getFileId=function(){return fe()};var Y=m.__private__.convertDateToPDFDate=function(M){var te=M.getTimezoneOffset(),Ne=te<0?"+":"-",Me=Math.floor(Math.abs(te/60)),Ge=Math.abs(te%60),_t=[Ne,X(Me),"'",X(Ge),"'"].join("");return["D:",M.getFullYear(),X(M.getMonth()+1),X(M.getDate()),X(M.getHours()),X(M.getMinutes()),X(M.getSeconds()),_t].join("")},ie=m.__private__.convertPDFDateToDate=function(M){var te=parseInt(M.substr(2,4),10),Ne=parseInt(M.substr(6,2),10)-1,Me=parseInt(M.substr(8,2),10),Ge=parseInt(M.substr(10,2),10),_t=parseInt(M.substr(12,2),10),Nt=parseInt(M.substr(14,2),10);return new Date(te,Ne,Me,Ge,_t,Nt,0)},G=m.__private__.setCreationDate=function(M){var te;if(M===void 0&&(M=new Date),M instanceof Date)te=Y(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=M}return he=te},I=m.__private__.getCreationDate=function(M){var te=he;return M==="jsDate"&&(te=ie(he)),te};m.setCreationDate=function(M){return G(M),this},m.getCreationDate=function(M){return I(M)};var z,X=m.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},J=m.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},ce=0,we=[],ke=[],oe=0,Ee=[],Oe=[],re=!1,_e=ke;m.__private__.setCustomOutputDestination=function(M){re=!0,_e=M};var Re=function(M){re||(_e=M)};m.__private__.resetCustomOutputDestination=function(){re=!1,_e=ke};var pe=m.__private__.out=function(M){return M=M.toString(),oe+=M.length+1,_e.push(M),_e},Ye=m.__private__.write=function(M){return pe(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},ze=m.__private__.getArrayBuffer=function(M){for(var te=M.length,Ne=new ArrayBuffer(te),Me=new Uint8Array(Ne);te--;)Me[te]=M.charCodeAt(te);return Ne},ot=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ot};var Ve=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(M){return Ve=V===A?M/lt:M,this};var He,ut=m.__private__.getFontSize=m.getFontSize=function(){return V===P?Ve:Ve*lt},Et=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(M){return Et=M,this},m.__private__.getR2L=m.getR2L=function(){return Et};var St,je=m.__private__.setZoomMode=function(M){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))He=M;else if(isNaN(M)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');He=M}else He=parseInt(M,10)};m.__private__.getZoomMode=function(){return He};var Ke,Qe=m.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');St=M};m.__private__.getPageMode=function(){return St};var ae=m.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Ke=M};m.__private__.getLayoutMode=function(){return Ke},m.__private__.setDisplayMode=m.setDisplayMode=function(M,te,Ne){return je(M),ae(te),Qe(Ne),this};var Le={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(M){if(Object.keys(Le).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Le[M]},m.__private__.getDocumentProperties=function(){return Le},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(M){for(var te in Le)Le.hasOwnProperty(te)&&M[te]&&(Le[te]=M[te]);return this},m.__private__.setDocumentProperty=function(M,te){if(Object.keys(Le).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Le[M]=te};var We,lt,xt,Ut,Kt,Ct={},Mt={},Pr=[],Zt={},wr={},_r={},Pn={},pn=null,$r=0,cr=[],Wr=new dT(m),na=t.hotfixes||[],li={},Ss={},ci=[],gr=function M(te,Ne,Me,Ge,_t,Nt){if(!(this instanceof M))return new M(te,Ne,Me,Ge,_t,Nt);isNaN(te)&&(te=1),isNaN(Ne)&&(Ne=0),isNaN(Me)&&(Me=0),isNaN(Ge)&&(Ge=1),isNaN(_t)&&(_t=0),isNaN(Nt)&&(Nt=0),this._matrix=[te,Ne,Me,Ge,_t,Nt]};Object.defineProperty(gr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(gr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(gr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(gr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(gr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(gr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(gr.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(gr.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(gr.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(gr.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(gr.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(gr.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(gr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gr.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(M)},gr.prototype.multiply=function(M){var te=M.sx*this.sx+M.shy*this.shx,Ne=M.sx*this.shy+M.shy*this.sy,Me=M.shx*this.sx+M.sy*this.shx,Ge=M.shx*this.shy+M.sy*this.sy,_t=M.tx*this.sx+M.ty*this.shx+this.tx,Nt=M.tx*this.shy+M.ty*this.sy+this.ty;return new gr(te,Ne,Me,Ge,_t,Nt)},gr.prototype.decompose=function(){var M=this.sx,te=this.shy,Ne=this.shx,Me=this.sy,Ge=this.tx,_t=this.ty,Nt=Math.sqrt(M*M+te*te),Jt=(M/=Nt)*Ne+(te/=Nt)*Me;Ne-=M*Jt,Me-=te*Jt;var ir=Math.sqrt(Ne*Ne+Me*Me);return Jt/=ir,M*(Me/=ir)<te*(Ne/=ir)&&(M=-M,te=-te,Jt=-Jt,Nt=-Nt),{scale:new gr(Nt,0,0,ir,0,0),translate:new gr(1,0,0,1,Ge,_t),rotate:new gr(M,te,-te,M,0,0),skew:new gr(1,0,Jt,1,0,0)}},gr.prototype.toString=function(M){return this.join(" ")},gr.prototype.inversed=function(){var M=this.sx,te=this.shy,Ne=this.shx,Me=this.sy,Ge=this.tx,_t=this.ty,Nt=1/(M*Me-te*Ne),Jt=Me*Nt,ir=-te*Nt,kr=-Ne*Nt,Rr=M*Nt;return new gr(Jt,ir,kr,Rr,-Jt*Ge-kr*_t,-ir*Ge-Rr*_t)},gr.prototype.applyToPoint=function(M){var te=M.x*this.sx+M.y*this.shx+this.tx,Ne=M.x*this.shy+M.y*this.sy+this.ty;return new Do(te,Ne)},gr.prototype.applyToRectangle=function(M){var te=this.applyToPoint(M),Ne=this.applyToPoint(new Do(M.x+M.w,M.y+M.h));return new zl(te.x,te.y,Ne.x-te.x,Ne.y-te.y)},gr.prototype.clone=function(){var M=this.sx,te=this.shy,Ne=this.shx,Me=this.sy,Ge=this.tx,_t=this.ty;return new gr(M,te,Ne,Me,Ge,_t)},m.Matrix=gr;var wn=m.matrixMult=function(M,te){return te.multiply(M)},Es=new gr(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Es;var Bn=function(M,te){if(!wr[M]){var Ne=(te instanceof Xh?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);te.id=Ne,wr[M]=Ne,Zt[Ne]=te,Wr.publish("addPattern",te)}};m.ShadingPattern=Xh,m.TilingPattern=Gp,m.addShadingPattern=function(M,te){return C("addShadingPattern()"),Bn(M,te),this},m.beginTilingPattern=function(M){C("beginTilingPattern()"),oa(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},m.endTilingPattern=function(M,te){C("endTilingPattern()"),te.stream=Oe[z].join(`
`),Bn(M,te),Wr.publish("endTilingPattern",te),ci.pop().restore()};var tn,Sn=m.__private__.newObject=function(){var M=Xn();return le(M,!0),M},Xn=m.__private__.newObjectDeferred=function(){return ce++,we[ce]=function(){return oe},ce},le=function(M,te){return te=typeof te=="boolean"&&te,we[M]=oe,te&&pe(M+" 0 obj"),M},Ae=m.__private__.newAdditionalObject=function(){var M={objId:Xn(),content:""};return Ee.push(M),M},be=Xn(),Se=Xn(),Pe=m.__private__.decodeColorString=function(M){var te=M.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var Ne=parseFloat(te[0]);te=[Ne,Ne,Ne,"r"]}for(var Me="#",Ge=0;Ge<3;Ge++)Me+=("0"+Math.floor(255*parseFloat(te[Ge])).toString(16)).slice(-2);return Me},Ie=m.__private__.encodeColorString=function(M){var te;typeof M=="string"&&(M={ch1:M});var Ne=M.ch1,Me=M.ch2,Ge=M.ch3,_t=M.ch4,Nt=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var Jt=new PM(Ne);if(Jt.ok)Ne=Jt.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var ir=parseInt(Ne.substr(1),16);Ne=ir>>16&255,Me=ir>>8&255,Ge=255&ir}if(Me===void 0||_t===void 0&&Ne===Me&&Me===Ge)te=typeof Ne=="string"?Ne+" "+Nt[0]:M.precision===2?R(Ne/255)+" "+Nt[0]:F(Ne/255)+" "+Nt[0];else if(_t===void 0||ii(_t)==="object"){if(_t&&!isNaN(_t.a)&&_t.a===0)return["1.","1.","1.",Nt[1]].join(" ");te=typeof Ne=="string"?[Ne,Me,Ge,Nt[1]].join(" "):M.precision===2?[R(Ne/255),R(Me/255),R(Ge/255),Nt[1]].join(" "):[F(Ne/255),F(Me/255),F(Ge/255),Nt[1]].join(" ")}else te=typeof Ne=="string"?[Ne,Me,Ge,_t,Nt[2]].join(" "):M.precision===2?[R(Ne),R(Me),R(Ge),R(_t),Nt[2]].join(" "):[F(Ne),F(Me),F(Ge),F(_t),Nt[2]].join(" ");return te},Xe=m.__private__.getFilters=function(){return a},dt=m.__private__.putStream=function(M){var te=(M=M||{}).data||"",Ne=M.filters||Xe(),Me=M.alreadyAppliedFilters||[],Ge=M.addLength1||!1,_t=te.length,Nt=M.objectId,Jt=function(Vi){return Vi};if(d!==null&&Nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Jt=rn.encryptor(Nt,0));var ir={};Ne===!0&&(Ne=["FlateEncode"]);var kr=M.additionalKeyValues||[],Rr=(ir=yr.API.processDataByFilters!==void 0?yr.API.processDataByFilters(te,Ne):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(ir.data.length!==0&&(kr.push({key:"Length",value:ir.data.length}),Ge===!0&&kr.push({key:"Length1",value:_t})),Rr.length!=0)if(Rr.split("/").length-1==1)kr.push({key:"Filter",value:Rr});else{kr.push({key:"Filter",value:"["+Rr+"]"});for(var xn=0;xn<kr.length;xn+=1)if(kr[xn].key==="DecodeParms"){for(var ui=[],vi=0;vi<ir.reverseChain.split("/").length-1;vi+=1)ui.push("null");ui.push(kr[xn].value),kr[xn].value="["+ui.join(" ")+"]"}}pe("<<");for(var Cn=0;Cn<kr.length;Cn++)pe("/"+kr[Cn].key+" "+kr[Cn].value);pe(">>"),ir.data.length!==0&&(pe("stream"),pe(Jt(ir.data)),pe("endstream"))},tt=m.__private__.putPage=function(M){var te=M.number,Ne=M.data,Me=M.objId,Ge=M.contentsObjId;le(Me,!0),pe("<</Type /Page"),pe("/Parent "+M.rootDictionaryObjId+" 0 R"),pe("/Resources "+M.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(T(M.mediaBox.bottomLeftX))+" "+parseFloat(T(M.mediaBox.bottomLeftY))+" "+T(M.mediaBox.topRightX)+" "+T(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&pe("/CropBox ["+T(M.cropBox.bottomLeftX)+" "+T(M.cropBox.bottomLeftY)+" "+T(M.cropBox.topRightX)+" "+T(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&pe("/BleedBox ["+T(M.bleedBox.bottomLeftX)+" "+T(M.bleedBox.bottomLeftY)+" "+T(M.bleedBox.topRightX)+" "+T(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&pe("/TrimBox ["+T(M.trimBox.bottomLeftX)+" "+T(M.trimBox.bottomLeftY)+" "+T(M.trimBox.topRightX)+" "+T(M.trimBox.topRightY)+"]"),M.artBox!==null&&pe("/ArtBox ["+T(M.artBox.bottomLeftX)+" "+T(M.artBox.bottomLeftY)+" "+T(M.artBox.topRightX)+" "+T(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&pe("/UserUnit "+M.userUnit),Wr.publish("putPage",{objId:Me,pageContext:cr[te],pageNumber:te,page:Ne}),pe("/Contents "+Ge+" 0 R"),pe(">>"),pe("endobj");var _t=Ne.join(`
`);return V===A&&(_t+=`
Q`),le(Ge,!0),dt({data:_t,filters:Xe(),objectId:Ge}),pe("endobj"),Me},et=m.__private__.putPages=function(){var M,te,Ne=[];for(M=1;M<=$r;M++)cr[M].objId=Xn(),cr[M].contentsObjId=Xn();for(M=1;M<=$r;M++)Ne.push(tt({number:M,data:Oe[M],objId:cr[M].objId,contentsObjId:cr[M].contentsObjId,mediaBox:cr[M].mediaBox,cropBox:cr[M].cropBox,bleedBox:cr[M].bleedBox,trimBox:cr[M].trimBox,artBox:cr[M].artBox,userUnit:cr[M].userUnit,rootDictionaryObjId:be,resourceDictionaryObjId:Se}));le(be,!0),pe("<</Type /Pages");var Me="/Kids [";for(te=0;te<$r;te++)Me+=Ne[te]+" 0 R ";pe(Me+"]"),pe("/Count "+$r),pe(">>"),pe("endobj"),Wr.publish("postPutPages")},at=function(M){Wr.publish("putFont",{font:M,out:pe,newObject:Sn,putStream:dt}),M.isAlreadyPutted!==!0&&(M.objectNumber=Sn(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+Hp(M.postScriptName)),pe("/Subtype /Type1"),typeof M.encoding=="string"&&pe("/Encoding /"+M.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},Tt=function(M){M.objectNumber=Sn();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[T(M.x),T(M.y),T(M.x+M.width),T(M.y+M.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var Ne=M.pages[1].join(`
`);dt({data:Ne,additionalKeyValues:te,objectId:M.objectNumber}),pe("endobj")},Vt=function(M,te){te||(te=21);var Ne=Sn(),Me=(function(Nt,Jt){var ir,kr=[],Rr=1/(Jt-1);for(ir=0;ir<1;ir+=Rr)kr.push(ir);if(kr.push(1),Nt[0].offset!=0){var xn={offset:0,color:Nt[0].color};Nt.unshift(xn)}if(Nt[Nt.length-1].offset!=1){var ui={offset:1,color:Nt[Nt.length-1].color};Nt.push(ui)}for(var vi="",Cn=0,Vi=0;Vi<kr.length;Vi++){for(ir=kr[Vi];ir>Nt[Cn+1].offset;)Cn++;var Hn=Nt[Cn].offset,us=(ir-Hn)/(Nt[Cn+1].offset-Hn),Xo=Nt[Cn].color,vl=Nt[Cn+1].color;vi+=J(Math.round((1-us)*Xo[0]+us*vl[0]).toString(16))+J(Math.round((1-us)*Xo[1]+us*vl[1]).toString(16))+J(Math.round((1-us)*Xo[2]+us*vl[2]).toString(16))}return vi.trim()})(M.colors,te),Ge=[];Ge.push({key:"FunctionType",value:"0"}),Ge.push({key:"Domain",value:"[0.0 1.0]"}),Ge.push({key:"Size",value:"["+te+"]"}),Ge.push({key:"BitsPerSample",value:"8"}),Ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),dt({data:Me,additionalKeyValues:Ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),pe("endobj"),M.objectNumber=Sn(),pe("<< /ShadingType "+M.type),pe("/ColorSpace /DeviceRGB");var _t="/Coords ["+T(parseFloat(M.coords[0]))+" "+T(parseFloat(M.coords[1]))+" ";M.type===2?_t+=T(parseFloat(M.coords[2]))+" "+T(parseFloat(M.coords[3])):_t+=T(parseFloat(M.coords[2]))+" "+T(parseFloat(M.coords[3]))+" "+T(parseFloat(M.coords[4]))+" "+T(parseFloat(M.coords[5])),pe(_t+="]"),M.matrix&&pe("/Matrix ["+M.matrix.toString()+"]"),pe("/Function "+Ne+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},Ht=function(M,te){var Ne=Xn(),Me=Sn();te.push({resourcesOid:Ne,objectOid:Me}),M.objectNumber=Me;var Ge=[];Ge.push({key:"Type",value:"/Pattern"}),Ge.push({key:"PatternType",value:"1"}),Ge.push({key:"PaintType",value:"1"}),Ge.push({key:"TilingType",value:"1"}),Ge.push({key:"BBox",value:"["+M.boundingBox.map(T).join(" ")+"]"}),Ge.push({key:"XStep",value:T(M.xStep)}),Ge.push({key:"YStep",value:T(M.yStep)}),Ge.push({key:"Resources",value:Ne+" 0 R"}),M.matrix&&Ge.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),dt({data:M.stream,additionalKeyValues:Ge,objectId:M.objectNumber}),pe("endobj")},Dt=function(M){for(var te in M.objectNumber=Sn(),pe("<<"),M)switch(te){case"opacity":pe("/ca "+R(M[te]));break;case"stroke-opacity":pe("/CA "+R(M[te]))}pe(">>"),pe("endobj")},It=function(M){le(M.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in pe("/Font <<"),Ct)Ct.hasOwnProperty(te)&&(p===!1||p===!0&&g.hasOwnProperty(te))&&pe("/"+te+" "+Ct[te].objectNumber+" 0 R");pe(">>")})(),(function(){if(Object.keys(Zt).length>0){for(var te in pe("/Shading <<"),Zt)Zt.hasOwnProperty(te)&&Zt[te]instanceof Xh&&Zt[te].objectNumber>=0&&pe("/"+te+" "+Zt[te].objectNumber+" 0 R");Wr.publish("putShadingPatternDict"),pe(">>")}})(),(function(te){if(Object.keys(Zt).length>0){for(var Ne in pe("/Pattern <<"),Zt)Zt.hasOwnProperty(Ne)&&Zt[Ne]instanceof m.TilingPattern&&Zt[Ne].objectNumber>=0&&Zt[Ne].objectNumber<te&&pe("/"+Ne+" "+Zt[Ne].objectNumber+" 0 R");Wr.publish("putTilingPatternDict"),pe(">>")}})(M.objectOid),(function(){if(Object.keys(_r).length>0){var te;for(te in pe("/ExtGState <<"),_r)_r.hasOwnProperty(te)&&_r[te].objectNumber>=0&&pe("/"+te+" "+_r[te].objectNumber+" 0 R");Wr.publish("putGStateDict"),pe(">>")}})(),(function(){for(var te in pe("/XObject <<"),li)li.hasOwnProperty(te)&&li[te].objectNumber>=0&&pe("/"+te+" "+li[te].objectNumber+" 0 R");Wr.publish("putXobjectDict"),pe(">>")})(),pe(">>"),pe("endobj")},br=function(M){Mt[M.fontName]=Mt[M.fontName]||{},Mt[M.fontName][M.fontStyle]=M.id},qr=function(M,te,Ne,Me,Ge){var _t={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:M,fontName:te,fontStyle:Ne,encoding:Me,isStandardFont:Ge||!1,metadata:{}};return Wr.publish("addFont",{font:_t,instance:this}),Ct[_t.id]=_t,br(_t),_t.id},Fr=m.__private__.pdfEscape=m.pdfEscape=function(M,te){return(function(Ne,Me){var Ge,_t,Nt,Jt,ir,kr,Rr,xn,ui;if(Nt=(Me=Me||{}).sourceEncoding||"Unicode",ir=Me.outputEncoding,(Me.autoencode||ir)&&Ct[We].metadata&&Ct[We].metadata[Nt]&&Ct[We].metadata[Nt].encoding&&(Jt=Ct[We].metadata[Nt].encoding,!ir&&Ct[We].encoding&&(ir=Ct[We].encoding),!ir&&Jt.codePages&&(ir=Jt.codePages[0]),typeof ir=="string"&&(ir=Jt[ir]),ir)){for(Rr=!1,kr=[],Ge=0,_t=Ne.length;Ge<_t;Ge++)(xn=ir[Ne.charCodeAt(Ge)])?kr.push(String.fromCharCode(xn)):kr.push(Ne[Ge]),kr[Ge].charCodeAt(0)>>8&&(Rr=!0);Ne=kr.join("")}for(Ge=Ne.length;Rr===void 0&&Ge!==0;)Ne.charCodeAt(Ge-1)>>8&&(Rr=!0),Ge--;if(!Rr)return Ne;for(kr=Me.noBOM?[]:[254,255],Ge=0,_t=Ne.length;Ge<_t;Ge++){if((ui=(xn=Ne.charCodeAt(Ge))>>8)>>8)throw new Error("Character at position "+Ge+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kr.push(ui),kr.push(xn-(ui<<8))}return String.fromCharCode.apply(void 0,kr)})(M,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mn=m.__private__.beginPage=function(M){Oe[++$r]=[],cr[$r]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},$s($r),Re(Oe[z])},xa=function(M,te){var Ne,Me,Ge;switch(r=te||r,typeof M=="string"&&(Ne=S(M.toLowerCase()),Array.isArray(Ne)&&(Me=Ne[0],Ge=Ne[1])),Array.isArray(M)&&(Me=M[0]*lt,Ge=M[1]*lt),isNaN(Me)&&(Me=i[0],Ge=i[1]),(Me>14400||Ge>14400)&&(wi.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),Ge=Math.min(14400,Ge)),i=[Me,Ge],r.substr(0,1)){case"l":Ge>Me&&(i=[Ge,Me]);break;case"p":Me>Ge&&(i=[Ge,Me])}mn(i),to(Ma),pe(Ko),qn!==0&&pe(qn+" J"),$u!==0&&pe($u+" j"),Wr.publish("addPage",{pageNumber:$r})},va=function(M){M>0&&M<=$r&&(Oe.splice(M,1),cr.splice(M,1),$r--,z>$r&&(z=$r),this.setPage(z))},$s=function(M){M>0&&M<=$r&&(z=M)},Fe=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Oe.length-1},Bt=function(M,te,Ne){var Me,Ge=void 0;return Ne=Ne||{},M=M!==void 0?M:Ct[We].fontName,te=te!==void 0?te:Ct[We].fontStyle,Me=M.toLowerCase(),Mt[Me]!==void 0&&Mt[Me][te]!==void 0?Ge=Mt[Me][te]:Mt[M]!==void 0&&Mt[M][te]!==void 0?Ge=Mt[M][te]:Ne.disableWarning===!1&&wi.warn("Unable to look up font label for font '"+M+"', '"+te+"'. Refer to getFontList() for available fonts."),Ge||Ne.noFallback||(Ge=Mt.times[te])==null&&(Ge=Mt.times.normal),Ge},Yt=m.__private__.putInfo=function(){var M=Sn(),te=function(Me){return Me};for(var Ne in d!==null&&(te=rn.encryptor(M,0)),pe("<<"),pe("/Producer ("+Fr(te("jsPDF "+yr.version))+")"),Le)Le.hasOwnProperty(Ne)&&Le[Ne]&&pe("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+Fr(te(Le[Ne]))+")");pe("/CreationDate ("+Fr(te(he))+")"),pe(">>"),pe("endobj")},er=m.__private__.putCatalog=function(M){var te=(M=M||{}).rootDictionaryObjId||be;switch(Sn(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+te+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+He;Ne.substr(Ne.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+R(He)+"]")}switch(Ke||(Ke="continuous"),Ke){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}St&&pe("/PageMode /"+St),Wr.publish("putCatalog"),pe(">>"),pe("endobj")},hr=m.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(ce+1)),pe("/Root "+ce+" 0 R"),pe("/Info "+(ce-1)+" 0 R"),d!==null&&pe("/Encrypt "+rn.oid+" 0 R"),pe("/ID [ <"+ve+"> <"+ve+"> ]"),pe(">>")},Qr=m.__private__.putHeader=function(){pe("%PDF-"+y),pe("%ºß¬à")},xi=m.__private__.putXRef=function(){var M="0000000000";pe("xref"),pe("0 "+(ce+1)),pe("0000000000 65535 f ");for(var te=1;te<=ce;te++)typeof we[te]=="function"?pe((M+we[te]()).slice(-10)+" 00000 n "):we[te]!==void 0?pe((M+we[te]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},Rn=m.__private__.buildDocument=function(){var M;ce=0,oe=0,ke=[],we=[],Ee=[],be=Xn(),Se=Xn(),Re(ke),Wr.publish("buildDocument"),Qr(),et(),(function(){Wr.publish("putAdditionalObjects");for(var Ne=0;Ne<Ee.length;Ne++){var Me=Ee[Ne];le(Me.objId,!0),pe(Me.content),pe("endobj")}Wr.publish("postPutAdditionalObjects")})(),M=[],(function(){for(var Ne in Ct)Ct.hasOwnProperty(Ne)&&(p===!1||p===!0&&g.hasOwnProperty(Ne))&&at(Ct[Ne])})(),(function(){var Ne;for(Ne in _r)_r.hasOwnProperty(Ne)&&Dt(_r[Ne])})(),(function(){for(var Ne in li)li.hasOwnProperty(Ne)&&Tt(li[Ne])})(),(function(Ne){var Me;for(Me in Zt)Zt.hasOwnProperty(Me)&&(Zt[Me]instanceof Xh?Vt(Zt[Me]):Zt[Me]instanceof Gp&&Ht(Zt[Me],Ne))})(M),Wr.publish("putResources"),M.forEach(It),It({resourcesOid:Se,objectOid:Number.MAX_SAFE_INTEGER}),Wr.publish("postPutResources"),d!==null&&(rn.oid=Sn(),pe("<<"),pe("/Filter /Standard"),pe("/V "+rn.v),pe("/R "+rn.r),pe("/U <"+rn.toHexString(rn.U)+">"),pe("/O <"+rn.toHexString(rn.O)+">"),pe("/P "+rn.P),pe(">>"),pe("endobj")),Yt(),er();var te=oe;return xi(),hr(),pe("startxref"),pe(""+te),pe("%%EOF"),Re(Oe[z]),ke.join(`
`)},gn=m.__private__.getBlob=function(M){return new Blob([ze(M)],{type:"application/pdf"})},En=m.output=m.__private__.output=(tn=function(M,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",M){case void 0:return Rn();case"save":m.save(te.filename);break;case"arraybuffer":return ze(Rn());case"blob":return gn(Rn());case"bloburi":case"bloburl":if(Ur.URL!==void 0&&typeof Ur.URL.createObjectURL=="function")return Ur.URL&&Ur.URL.createObjectURL(gn(Rn()))||void 0;wi.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Me=Rn();try{Ne=lT(Me)}catch{Ne=lT(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+te.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ur)==="[object Window]"){var Ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",_t=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Ge=te.pdfObjectUrl,_t="");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ge+'"'+_t+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Jt=Ur.open();return Jt!==null&&Jt.document.write(Nt),Jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ur)==="[object Window]"){var ir='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',kr=Ur.open();if(kr!==null){kr.document.write(ir);var Rr=this;kr.document.documentElement.querySelector("#pdfViewer").onload=function(){kr.document.title=te.filename,kr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rr.output("bloburl"))}}return kr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var xn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',ui=Ur.open();if(ui!==null&&(ui.document.write(xn),ui.document.title=te.filename),ui||typeof safari>"u")return ui;break;case"datauri":case"dataurl":return Ur.document.location.href=this.output("datauristring",te);default:return null}},tn.foo=function(){try{return tn.apply(this,arguments)}catch(Ne){var M=Ne.stack||"";~M.indexOf(" at ")&&(M=M.split(" at ")[1]);var te="Error in function "+M.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!Ur.console)throw new Error(te);Ur.console.error(te,Ne),Ur.alert&&alert(te)}},tn.foo.bar=tn,tn.foo),Oi=function(M){return Array.isArray(na)===!0&&na.indexOf(M)>-1};switch(n){case"pt":lt=1;break;case"mm":lt=72/25.4;break;case"cm":lt=72/2.54;break;case"in":lt=72;break;case"px":lt=Oi("px_scaling")==1?.75:96/72;break;case"pc":case"em":lt=12;break;case"ex":lt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);lt=n}var rn=null;G(),se();var Si=m.__private__.getPageInfo=m.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:cr[M].objId,pageNumber:M,pageContext:cr[M]}},ya=m.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in cr)if(cr[te].objId===M)break;return Si(te)},Lo=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:cr[z].objId,pageNumber:z,pageContext:cr[z]}};m.addPage=function(){return xa.apply(this,arguments),this},m.setPage=function(){return $s.apply(this,arguments),Re.call(this,Oe[z]),this},m.insertPage=function(M){return this.addPage(),this.movePage(z,M),this},m.movePage=function(M,te){var Ne,Me;if(M>te){Ne=Oe[M],Me=cr[M];for(var Ge=M;Ge>te;Ge--)Oe[Ge]=Oe[Ge-1],cr[Ge]=cr[Ge-1];Oe[te]=Ne,cr[te]=Me,this.setPage(te)}else if(M<te){Ne=Oe[M],Me=cr[M];for(var _t=M;_t<te;_t++)Oe[_t]=Oe[_t+1],cr[_t]=cr[_t+1];Oe[te]=Ne,cr[te]=Me,this.setPage(te)}return this},m.deletePage=function(){return va.apply(this,arguments),this},m.__private__.text=m.text=function(M,te,Ne,Me,Ge){var _t,Nt,Jt,ir,kr,Rr,xn,ui,vi,Cn=(Me=Me||{}).scope||this;if(typeof M=="number"&&typeof te=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var Vi=Ne;Ne=te,te=M,M=Vi}if(arguments[3]instanceof gr==0?(Jt=arguments[4],ir=arguments[5],ii(xn=arguments[3])==="object"&&xn!==null||(typeof Jt=="string"&&(ir=Jt,Jt=null),typeof xn=="string"&&(ir=xn,xn=null),typeof xn=="number"&&(Jt=xn,xn=null),Me={flags:xn,angle:Jt,align:ir})):(C("The transform parameter of text() with a Matrix value"),vi=Ge),isNaN(te)||isNaN(Ne)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Cn;var Hn,us="",Xo=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:sa,vl=Cn.internal.scaleFactor;function qu(di){return di=di.split("	").join(Array(Me.TabLen||9).join(" ")),Fr(di,xn)}function _c(di){for(var fi,Qi=di.concat(),Ji=[],Ts=Qi.length;Ts--;)typeof(fi=Qi.shift())=="string"?Ji.push(fi):Array.isArray(di)&&(fi.length===1||fi[1]===void 0&&fi[2]===void 0)?Ji.push(fi[0]):Ji.push([fi[0],fi[1],fi[2]]);return Ji}function Xi(di,fi){var Qi;if(typeof di=="string")Qi=fi(di)[0];else if(Array.isArray(di)){for(var Ji,Ts,Wl=di.concat(),wl=[],Wd=Wl.length;Wd--;)typeof(Ji=Wl.shift())=="string"?wl.push(fi(Ji)[0]):Array.isArray(Ji)&&typeof Ji[0]=="string"&&(Ts=fi(Ji[0],Ji[1],Ji[2]),wl.push([Ts[0],Ts[1],Ts[2]]));Qi=wl}return Qi}var no=!1,eu=!0;if(typeof M=="string")no=!0;else if(Array.isArray(M)){var Va=M.concat();Nt=[];for(var k,q=Va.length;q--;)(typeof(k=Va.shift())!="string"||Array.isArray(k)&&typeof k[0]!="string")&&(eu=!1);no=eu}if(no===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Z=Ve/Cn.internal.scaleFactor,xe=Z*(Xo-1);switch(Me.baseline){case"bottom":Ne-=xe;break;case"top":Ne+=Z-xe;break;case"hanging":Ne+=Z-2*xe;break;case"middle":Ne+=Z/2-xe}if((Rr=Me.maxWidth||0)>0&&(typeof M=="string"?M=Cn.splitTextToSize(M,Rr):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(di,fi){return di.concat(Cn.splitTextToSize(fi,Rr))},[]))),_t={text:M,x:te,y:Ne,options:Me,mutex:{pdfEscape:Fr,activeFontKey:We,fonts:Ct,activeFontSize:Ve}},Wr.publish("preProcessText",_t),M=_t.text,Jt=(Me=_t.options).angle,vi instanceof gr==0&&Jt&&typeof Jt=="number"){Jt*=Math.PI/180,Me.rotationDirection===0&&(Jt=-Jt),V===A&&(Jt=-Jt);var Je=Math.cos(Jt),mt=Math.sin(Jt);vi=new gr(Je,mt,-mt,Je,0,0)}else Jt&&Jt instanceof gr&&(vi=Jt);V!==A||vi||(vi=Es),(kr=Me.charSpace||ro)!==void 0&&(us+=T(B(kr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ui=Me.horizontalScale)!==void 0&&(us+=T(100*ui)+` Tz
`),Me.lang;var Ft=-1,Tn=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,Ei=Cn.internal.getCurrentPageInfo().pageContext;switch(Tn){case 0:case!1:case"fill":Ft=0;break;case 1:case!0:case"stroke":Ft=1;break;case 2:case"fillThenStroke":Ft=2;break;case 3:case"invisible":Ft=3;break;case 4:case"fillAndAddForClipping":Ft=4;break;case 5:case"strokeAndAddPathForClipping":Ft=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ft=6;break;case 7:case"addToPathForClipping":Ft=7}var sn=Ei.usedRenderingMode!==void 0?Ei.usedRenderingMode:-1;Ft!==-1?us+=Ft+` Tr
`:sn!==-1&&(us+=`0 Tr
`),Ft!==-1&&(Ei.usedRenderingMode=Ft),ir=Me.align||"left";var cn,jn=Ve*Xo,_a=Cn.internal.pageSize.getWidth(),la=Ct[We];kr=Me.charSpace||ro,Rr=Me.maxWidth||0,xn=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var io=[],yl=function(di){return Cn.getStringUnitWidth(di,{font:la,charSpace:kr,fontSize:Ve,doKerning:!1})*Ve/vl};if(Object.prototype.toString.call(M)==="[object Array]"){var Ba;Nt=_c(M),ir!=="left"&&(cn=Nt.map(yl));var Ua,tu=0;if(ir==="right"){te-=cn[0],M=[],q=Nt.length;for(var za=0;za<q;za++)za===0?(Ua=Mi(te),Ba=ml(Ne)):(Ua=B(tu-cn[za]),Ba=-jn),M.push([Nt[za],Ua,Ba]),tu=cn[za]}else if(ir==="center"){te-=cn[0]/2,M=[],q=Nt.length;for(var ru=0;ru<q;ru++)ru===0?(Ua=Mi(te),Ba=ml(Ne)):(Ua=B((tu-cn[ru])/2),Ba=-jn),M.push([Nt[ru],Ua,Ba]),tu=cn[ru]}else if(ir==="left"){M=[],q=Nt.length;for(var vh=0;vh<q;vh++)M.push(Nt[vh])}else if(ir==="justify"&&la.encoding==="Identity-H"){M=[],q=Nt.length,Rr=Rr!==0?Rr:_a;for(var nu=0,Bi=0;Bi<q;Bi++)if(Ba=Bi===0?ml(Ne):-jn,Ua=Bi===0?Mi(te):nu,Bi<q-1){var np=B((Rr-cn[Bi])/(Nt[Bi].split(" ").length-1)),so=Nt[Bi].split(" ");M.push([so[0]+" ",Ua,Ba]),nu=0;for(var ao=1;ao<so.length;ao++){var $d=(yl(so[ao-1]+" "+so[ao])-yl(so[ao]))*vl+np;ao==so.length-1?M.push([so[ao],$d,0]):M.push([so[ao]+" ",$d,0]),nu-=$d}}else M.push([Nt[Bi],Ua,Ba]);M.push(["",nu,0])}else{if(ir!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],q=Nt.length,Rr=Rr!==0?Rr:_a,Bi=0;Bi<q;Bi++)Ba=Bi===0?ml(Ne):-jn,Ua=Bi===0?Mi(te):0,Bi<q-1?io.push(T(B((Rr-cn[Bi])/(Nt[Bi].split(" ").length-1)))):io.push(0),M.push([Nt[Bi],Ua,Ba])}}(typeof Me.R2L=="boolean"?Me.R2L:Et)===!0&&(M=Xi(M,function(di,fi,Qi){return[di.split("").reverse().join(""),fi,Qi]})),_t={text:M,x:te,y:Ne,options:Me,mutex:{pdfEscape:Fr,activeFontKey:We,fonts:Ct,activeFontSize:Ve}},Wr.publish("postProcessText",_t),M=_t.text,Hn=_t.mutex.isHex||!1;var iu=Ct[We].encoding;iu!=="WinAnsiEncoding"&&iu!=="StandardEncoding"||(M=Xi(M,function(di,fi,Qi){return[qu(di),fi,Qi]})),Nt=_c(M),M=[];for(var qd,Hu,bc,kc=Array.isArray(Nt[0])?1:0,ql="",Hd=function(di,fi,Qi){var Ji="";return Qi instanceof gr?(Qi=typeof Me.angle=="number"?wn(Qi,new gr(1,0,0,1,di,fi)):wn(new gr(1,0,0,1,di,fi),Qi),V===A&&(Qi=wn(new gr(1,0,0,-1,0,0),Qi)),Ji=Qi.join(" ")+` Tm
`):Ji=T(di)+" "+T(fi)+` Td
`,Ji},oo=0;oo<Nt.length;oo++){switch(ql="",kc){case 1:bc=(Hn?"<":"(")+Nt[oo][0]+(Hn?">":")"),qd=parseFloat(Nt[oo][1]),Hu=parseFloat(Nt[oo][2]);break;case 0:bc=(Hn?"<":"(")+Nt[oo]+(Hn?">":")"),qd=Mi(te),Hu=ml(Ne)}io!==void 0&&io[oo]!==void 0&&(ql=io[oo]+` Tw
`),oo===0?M.push(ql+Hd(qd,Hu,vi)+bc):kc===0?M.push(ql+bc):kc===1&&M.push(ql+Hd(qd,Hu,vi)+bc)}M=kc===0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Hl=`BT
/`;return Hl+=We+" "+Ve+` Tf
`,Hl+=T(Ve*Xo)+` TL
`,Hl+=aa+`
`,Hl+=us,Hl+=M,pe(Hl+="ET"),g[We]=!0,Cn};var Fo=m.__private__.clip=m.clip=function(M){return pe(M==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Fo("evenodd")},m.__private__.discardPath=m.discardPath=function(){return pe("n"),this};var nn=m.__private__.isValidStyle=function(M){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(te=!0),te};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(M){return nn(M)&&(c=M),this};var hl=m.__private__.getStyle=m.getStyle=function(M){var te=c;switch(M){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=M}return te},en=m.close=function(){return pe("h"),this};m.stroke=function(){return pe("S"),this},m.fill=function(M){return Oa("f",M),this},m.fillEvenOdd=function(M){return Oa("f*",M),this},m.fillStroke=function(M){return Oa("B",M),this},m.fillStrokeEvenOdd=function(M){return Oa("B*",M),this};var Oa=function(M,te){ii(te)==="object"?Vd(te,M):pe(M)},Xc=function(M){M===null||V===A&&M===void 0||(M=hl(M),pe(M))};function Qc(M,te,Ne,Me,Ge){var _t=new Gp(te||this.boundingBox,Ne||this.xStep,Me||this.yStep,this.gState,Ge||this.matrix);_t.stream=this.stream;var Nt=M+"$$"+this.cloneIndex+++"$$";return Bn(Nt,_t),_t}var Vd=function(M,te){var Ne=wr[M.key],Me=Zt[Ne];if(Me instanceof Xh)pe("q"),pe(Bd(te)),Me.gState&&m.setGState(Me.gState),pe(M.matrix.toString()+" cm"),pe("/"+Ne+" sh"),pe("Q");else if(Me instanceof Gp){var Ge=new gr(1,0,0,-1,0,Hs());M.matrix&&(Ge=Ge.multiply(M.matrix||Es),Ne=Qc.call(Me,M.key,M.boundingBox,M.xStep,M.yStep,Ge).id),pe("q"),pe("/Pattern cs"),pe("/"+Ne+" scn"),Me.gState&&m.setGState(Me.gState),pe(te),pe("Q")}},Bd=function(M){switch(M){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Jc=m.moveTo=function(M,te){return pe(T(B(M))+" "+T(ee(te))+" m"),this},pl=m.lineTo=function(M,te){return pe(T(B(M))+" "+T(ee(te))+" l"),this},ia=m.curveTo=function(M,te,Ne,Me,Ge,_t){return pe([T(B(M)),T(ee(te)),T(B(Ne)),T(ee(Me)),T(B(Ge)),T(ee(_t)),"c"].join(" ")),this};m.__private__.line=m.line=function(M,te,Ne,Me,Ge){if(isNaN(M)||isNaN(te)||isNaN(Ne)||isNaN(Me)||!nn(Ge))throw new Error("Invalid arguments passed to jsPDF.line");return V===P?this.lines([[Ne-M,Me-te]],M,te,[1,1],Ge||"S"):this.lines([[Ne-M,Me-te]],M,te,[1,1]).stroke()},m.__private__.lines=m.lines=function(M,te,Ne,Me,Ge,_t){var Nt,Jt,ir,kr,Rr,xn,ui,vi,Cn,Vi,Hn,us;if(typeof M=="number"&&(us=Ne,Ne=te,te=M,M=us),Me=Me||[1,1],_t=_t||!1,isNaN(te)||isNaN(Ne)||!Array.isArray(M)||!Array.isArray(Me)||!nn(Ge)||typeof _t!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jc(te,Ne),Nt=Me[0],Jt=Me[1],kr=M.length,Vi=te,Hn=Ne,ir=0;ir<kr;ir++)(Rr=M[ir]).length===2?(Vi=Rr[0]*Nt+Vi,Hn=Rr[1]*Jt+Hn,pl(Vi,Hn)):(xn=Rr[0]*Nt+Vi,ui=Rr[1]*Jt+Hn,vi=Rr[2]*Nt+Vi,Cn=Rr[3]*Jt+Hn,Vi=Rr[4]*Nt+Vi,Hn=Rr[5]*Jt+Hn,ia(xn,ui,vi,Cn,Vi,Hn));return _t&&en(),Xc(Ge),this},m.path=function(M){for(var te=0;te<M.length;te++){var Ne=M[te],Me=Ne.c;switch(Ne.op){case"m":Jc(Me[0],Me[1]);break;case"l":pl(Me[0],Me[1]);break;case"c":ia.apply(this,Me);break;case"h":en()}}return this},m.__private__.rect=m.rect=function(M,te,Ne,Me,Ge){if(isNaN(M)||isNaN(te)||isNaN(Ne)||isNaN(Me)||!nn(Ge))throw new Error("Invalid arguments passed to jsPDF.rect");return V===P&&(Me=-Me),pe([T(B(M)),T(ee(te)),T(B(Ne)),T(B(Me)),"re"].join(" ")),Xc(Ge),this},m.__private__.triangle=m.triangle=function(M,te,Ne,Me,Ge,_t,Nt){if(isNaN(M)||isNaN(te)||isNaN(Ne)||isNaN(Me)||isNaN(Ge)||isNaN(_t)||!nn(Nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-M,Me-te],[Ge-Ne,_t-Me],[M-Ge,te-_t]],M,te,[1,1],Nt,!0),this},m.__private__.roundedRect=m.roundedRect=function(M,te,Ne,Me,Ge,_t,Nt){if(isNaN(M)||isNaN(te)||isNaN(Ne)||isNaN(Me)||isNaN(Ge)||isNaN(_t)||!nn(Nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Jt=4/3*(Math.SQRT2-1);return Ge=Math.min(Ge,.5*Ne),_t=Math.min(_t,.5*Me),this.lines([[Ne-2*Ge,0],[Ge*Jt,0,Ge,_t-_t*Jt,Ge,_t],[0,Me-2*_t],[0,_t*Jt,-Ge*Jt,_t,-Ge,_t],[2*Ge-Ne,0],[-Ge*Jt,0,-Ge,-_t*Jt,-Ge,-_t],[0,2*_t-Me],[0,-_t*Jt,Ge*Jt,-_t,Ge,-_t]],M+Ge,te,[1,1],Nt,!0),this},m.__private__.ellipse=m.ellipse=function(M,te,Ne,Me,Ge){if(isNaN(M)||isNaN(te)||isNaN(Ne)||isNaN(Me)||!nn(Ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var _t=4/3*(Math.SQRT2-1)*Ne,Nt=4/3*(Math.SQRT2-1)*Me;return Jc(M+Ne,te),ia(M+Ne,te-Nt,M+_t,te-Me,M,te-Me),ia(M-_t,te-Me,M-Ne,te-Nt,M-Ne,te),ia(M-Ne,te+Nt,M-_t,te+Me,M,te+Me),ia(M+_t,te+Me,M+Ne,te+Nt,M+Ne,te),Xc(Ge),this},m.__private__.circle=m.circle=function(M,te,Ne,Me){if(isNaN(M)||isNaN(te)||isNaN(Ne)||!nn(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,te,Ne,Ne,Me)},m.setFont=function(M,te,Ne){return Ne&&(te=j(te,Ne)),We=Bt(M,te,{disableWarning:!1}),this};var Cs=m.__private__.getFont=m.getFont=function(){return Ct[Bt.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var M,te,Ne={};for(M in Mt)if(Mt.hasOwnProperty(M))for(te in Ne[M]=[],Mt[M])Mt[M].hasOwnProperty(te)&&Ne[M].push(te);return Ne},m.addFont=function(M,te,Ne,Me,Ge){var _t=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&_t.indexOf(arguments[3])!==-1?Ge=arguments[3]:arguments[3]&&_t.indexOf(arguments[3])==-1&&(Ne=j(Ne,Me)),qr.call(this,M,te,Ne,Ge=Ge||"Identity-H")};var sa,Ma=t.lineWidth||.200025,Cr=m.__private__.getLineWidth=m.getLineWidth=function(){return Ma},to=m.__private__.setLineWidth=m.setLineWidth=function(M){return Ma=M,pe(T(B(M))+" w"),this};m.__private__.setLineDash=yr.API.setLineDash=yr.API.setLineDashPattern=function(M,te){if(M=M||[],te=te||0,isNaN(te)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Ne){return T(B(Ne))}).join(" "),te=T(B(te)),pe("["+M+"] "+te+" d"),this};var Go=m.__private__.getLineHeight=m.getLineHeight=function(){return Ve*sa};m.__private__.getLineHeight=m.getLineHeight=function(){return Ve*sa};var xh=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(sa=M),this},Ud=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return sa};xh(t.lineHeight);var Mi=m.__private__.getHorizontalCoordinate=function(M){return B(M)},ml=m.__private__.getVerticalCoordinate=function(M){return V===A?M:cr[z].mediaBox.topRightY-cr[z].mediaBox.bottomLeftY-B(M)},zd=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(M){return T(Mi(M))},gl=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(M){return T(ml(M))},Ko=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Pe(Ko)},m.__private__.setStrokeColor=m.setDrawColor=function(M,te,Ne,Me){return Ko=Ie({ch1:M,ch2:te,ch3:Ne,ch4:Me,pdfColorType:"draw",precision:2}),pe(Ko),this};var Zc=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Pe(Zc)},m.__private__.setFillColor=m.setFillColor=function(M,te,Ne,Me){return Zc=Ie({ch1:M,ch2:te,ch3:Ne,ch4:Me,pdfColorType:"fill",precision:2}),pe(Zc),this};var aa=t.textColor||"0 g",wa=m.__private__.getTextColor=m.getTextColor=function(){return Pe(aa)};m.__private__.setTextColor=m.setTextColor=function(M,te,Ne,Me){return aa=Ie({ch1:M,ch2:te,ch3:Ne,ch4:Me,pdfColorType:"text",precision:3}),this};var ro=t.charSpace,Ul=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ro||0)};m.__private__.setCharSpace=m.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ro=M,this};var qn=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(M){var te=m.CapJoinStyles[M];if(te===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qn=te,pe(te+" J"),this};var $u=0;m.__private__.setLineJoin=m.setLineJoin=function(M){var te=m.CapJoinStyles[M];if(te===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $u=te,pe(te+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(T(B(M))+" M"),this},m.GState=l5,m.setGState=function(M){(M=typeof M=="string"?_r[Pn[M]]:xl(null,M)).equals(pn)||(pe("/"+M.id+" gs"),pn=M)};var xl=function(M,te){if(!M||!Pn[M]){var Ne=!1;for(var Me in _r)if(_r.hasOwnProperty(Me)&&_r[Me].equals(te)){Ne=!0;break}if(Ne)te=_r[Me];else{var Ge="GS"+(Object.keys(_r).length+1).toString(10);_r[Ge]=te,te.id=Ge}return M&&(Pn[M]=te.id),Wr.publish("addGState",te),te}};m.addGState=function(M,te){return xl(M,te),this},m.saveGraphicsState=function(){return pe("q"),Pr.push({key:We,size:Ve,color:aa}),this},m.restoreGraphicsState=function(){pe("Q");var M=Pr.pop();return We=M.key,Ve=M.size,aa=M.color,pn=null,this},m.setCurrentTransformationMatrix=function(M){return pe(M.toString()+" cm"),this},m.comment=function(M){return pe("#"+M),this};var Do=function(M,te){var Ne=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(_t){isNaN(_t)||(Ne=parseFloat(_t))}});var Me=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(_t){isNaN(_t)||(Me=parseFloat(_t))}});var Ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ge},set:function(_t){Ge=_t.toString()}}),this},zl=function(M,te,Ne,Me){Do.call(this,M,te),this.type="rect";var Ge=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ge},set:function(Nt){isNaN(Nt)||(Ge=parseFloat(Nt))}});var _t=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return _t},set:function(Nt){isNaN(Nt)||(_t=parseFloat(Nt))}}),this},$l=function(){this.page=$r,this.currentPage=z,this.pages=Oe.slice(0),this.pagesContext=cr.slice(0),this.x=xt,this.y=Ut,this.matrix=Kt,this.width=qs(z),this.height=Hs(z),this.outputDestination=_e,this.id="",this.objectNumber=-1};$l.prototype.restore=function(){$r=this.page,z=this.currentPage,cr=this.pagesContext,Oe=this.pages,xt=this.x,Ut=this.y,Kt=this.matrix,wc(z,this.width),Ns(z,this.height),_e=this.outputDestination};var oa=function(M,te,Ne,Me,Ge){ci.push(new $l),$r=z=0,Oe=[],xt=M,Ut=te,Kt=Ge,mn([Ne,Me])};for(var Yo in m.beginFormObject=function(M,te,Ne,Me,Ge){return oa(M,te,Ne,Me,Ge),this},m.endFormObject=function(M){return(function(te){if(Ss[te])ci.pop().restore();else{var Ne=new $l,Me="Xo"+(Object.keys(li).length+1).toString(10);Ne.id=Me,Ss[te]=Me,li[Me]=Ne,Wr.publish("addFormObject",Ne),ci.pop().restore()}})(M),this},m.doFormObject=function(M,te){var Ne=li[Ss[M]];return pe("q"),pe(te.toString()+" cm"),pe("/"+Ne.id+" Do"),pe("Q"),this},m.getFormObject=function(M){var te=li[Ss[M]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},m.save=function(M,te){return M=M||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(zh(gn(Rn()),M),typeof zh.unload=="function"&&Ur.setTimeout&&setTimeout(zh.unload,911),this):new Promise(function(Ne,Me){try{var Ge=zh(gn(Rn()),M);typeof zh.unload=="function"&&Ur.setTimeout&&setTimeout(zh.unload,911),Ne(Ge)}catch(_t){Me(_t.message)}})},yr.API)yr.API.hasOwnProperty(Yo)&&(Yo==="events"&&yr.API.events.length?(function(M,te){var Ne,Me,Ge;for(Ge=te.length-1;Ge!==-1;Ge--)Ne=te[Ge][0],Me=te[Ge][1],M.subscribe.apply(M,[Ne].concat(typeof Me=="function"?[Me]:Me))})(Wr,yr.API.events):m[Yo]=yr.API[Yo]);var qs=m.getPageWidth=function(M){return(cr[M=M||z].mediaBox.topRightX-cr[M].mediaBox.bottomLeftX)/lt},wc=m.setPageWidth=function(M,te){cr[M].mediaBox.topRightX=te*lt+cr[M].mediaBox.bottomLeftX},Hs=m.getPageHeight=function(M){return(cr[M=M||z].mediaBox.topRightY-cr[M].mediaBox.bottomLeftY)/lt},Ns=m.setPageHeight=function(M,te){cr[M].mediaBox.topRightY=te*lt+cr[M].mediaBox.bottomLeftY};return m.internal={pdfEscape:Fr,getStyle:hl,getFont:Cs,getFontSize:ut,getCharSpace:Ul,getTextColor:wa,getLineHeight:Go,getLineHeightFactor:Ud,getLineWidth:Cr,write:Ye,getHorizontalCoordinate:Mi,getVerticalCoordinate:ml,getCoordinateString:zd,getVerticalCoordinateString:gl,collections:{},newObject:Sn,newAdditionalObject:Ae,newObjectDeferred:Xn,newObjectDeferredBegin:le,getFilters:Xe,putStream:dt,events:Wr,scaleFactor:lt,pageSize:{getWidth:function(){return qs(z)},setWidth:function(M){wc(z,M)},getHeight:function(){return Hs(z)},setHeight:function(M){Ns(z,M)}},encryptionOptions:d,encryption:rn,getEncryptor:function(M){return d!==null?rn.encryptor(M,0):function(te){return te}},output:En,getNumberOfPages:Fe,pages:Oe,out:pe,f2:R,f3:F,getPageInfo:Si,getPageInfoByObjId:ya,getCurrentPageInfo:Lo,getPDFVersion:w,Point:Do,Rectangle:zl,Matrix:gr,hasHotfix:Oi},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return qs(z)},set:function(M){wc(z,M)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Hs(z)},set:function(M){Ns(z,M)},enumerable:!0,configurable:!0}),(function(M){for(var te=0,Ne=ot.length;te<Ne;te++){var Me=qr.call(this,M[te][0],M[te][1],M[te][2],ot[te][3],!0);p===!1&&(g[Me]=!0);var Ge=M[te][0].split("-");br({id:Me,fontName:Ge[0],fontStyle:Ge[1]||""})}Wr.publish("addFonts",{fonts:Ct,dictionary:Mt})}).call(m,ot),We="F1",xa(i,r),Wr.publish("initialized"),m}qp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},qp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qp.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},qp.prototype.processOwnerPassword=function(t,e){return hb(fb(e).substr(0,5),t)},qp.prototype.encryptor=function(t,e){var r=fb(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return hb(r,n)}},l5.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||ii(t)!==ii(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},yr.API={events:[]},yr.version="3.0.2";var ms=yr.API,S8=1,rp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fp=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kr=function(t){return t.toFixed(2)},xf=function(t){return t.toFixed(5)};ms.__acroform__={};var fl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},fT=function(t){return t*S8},gu=function(t){var e=new FM,r=dr.internal.getHeight(t)||0,n=dr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Kr(n)),Number(Kr(r))],e},rpe=ms.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},npe=ms.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},ipe=ms.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ls=ms.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ipe(t,e-1)},Fs=ms.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return rpe(t,e-1)},Ds=ms.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return npe(t,e-1)},spe=ms.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(Kr(l.lowerLeft_X)),Number(Kr(l.lowerLeft_Y)),Number(Kr(l.upperRight_X)),Number(Kr(l.upperRight_Y))]},ape=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=pb(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Kr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=gu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},pb=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(R){return R.split(`
`)}):i.map(function(R){return[R]});var s=r,a=dr.internal.getHeight(t)||0;a=a<0?-a:a;var o=dr.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(R,F,B){if(R+1<i.length){var ee=F+" "+i[R+1][0];return Av(ee,t,B).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,d,p=Av("3",t,s).height,g=t.multiline?a-s:(a-p)/2,m=g+=2,y=0,w=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Av(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var S="",P=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var V=!1;if(i[A].length!==1&&_!==i[A].length-1){if((p+2)*(P+2)+2>a)continue e;S+=i[A][_],V=!0,w=A,A--}else{S=(S+=i[A][_]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var W=parseInt(A),K=l(W,S,s),j=A>=i.length-1;if(K&&!j){S+=" ",_=0;continue}if(K||j){if(j)w=W;else if(t.multiline&&(p+2)*(P+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(P+2)+2>a)continue e;w=W}}for(var T="",C=y;C<=w;C++){var D=i[C];if(t.multiline){if(C===w){T+=D[_]+" ",_=(_+1)%D.length;continue}if(C===y){T+=D[D.length-1]+" ";continue}}T+=D[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,d=Av(T,t,s).width,t.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}e+=Kr(c)+" "+Kr(m)+` Td
`,e+="("+rp(T)+`) Tj
`,e+=-Kr(c)+` 0 Td
`,m=-(s+2),d=0,y=V?w:w+1,P++,S=""}break}return n.text=e,n.fontSize=s,n},Av=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ope={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lpe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},cpe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Kc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ope)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");S8=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new DM,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&lpe(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=spe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=dr.createDefaultAppearanceStream(o),ii(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=ape(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var y=m[a];typeof y=="function"&&(y=y.call(i,o)),p+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(i,o)),p+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&(function(w,_){for(var S in w)if(w.hasOwnProperty(S)){var P=S,A=w[S];_.internal.newObjectDeferredBegin(A.objId,!0),ii(A)==="object"&&typeof A.putStream=="function"&&A.putStream(),delete w[P]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},LM=ms.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),ii(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+rp(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},w3=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+rp(n(t))+")"},Su=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Su.prototype.toString=function(){return this.objId+" 0 R"},Su.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Su.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:LM(i,this.objId,this.scope)}):i instanceof Su?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var FM=function(){Su.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};fl(FM,Su);var DM=function(){Su.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+rp(r(t))+")"}},set:function(r){t=r}})};fl(DM,Su);var Kc=function t(){Su.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');e=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ls(e,3)},set:function(S){S?this.F=Fs(e,3):this.F=Ds(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof c5)return;s="FieldObject"+t.FieldNum++}var S=function(P){return P};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+rp(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(S){a=S}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(S){o=S}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/S8:c},set:function(S){c=S}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof c5||this instanceof f0))return w3(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ra==0?w3(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof Ra==0?S.substr(0,1)==="("?Fp(S.substr(1,S.length-2)):Fp(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ra==1?Fp(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof Ra==1?"/"+S:S}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ra==0?w3(m,this.objId,this.scope):m},set:function(S){S=S.toString(),m=this instanceof Ra==0?S.substr(0,1)==="("?Fp(S.substr(1,S.length-2)):Fp(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ra==1?Fp(m.substr(1,m.length-1)):m},set:function(S){S=S.toString(),m=this instanceof Ra==1?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(S){S=!!S,w=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(S){y=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,1)},set:function(S){S?this.Ff=Fs(this.Ff,1):this.Ff=Ds(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,2)},set:function(S){S?this.Ff=Fs(this.Ff,2):this.Ff=Ds(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,3)},set:function(S){S?this.Ff=Fs(this.Ff,3):this.Ff=Ds(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');_=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(_){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};fl(Kc,Su);var f1=function(){Kc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return LM(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,18)},set:function(r){r?this.Ff=Fs(this.Ff,18):this.Ff=Ds(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Fs(this.Ff,19):this.Ff=Ds(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,20)},set:function(r){r?(this.Ff=Fs(this.Ff,20),e.sort()):this.Ff=Ds(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,22)},set:function(r){r?this.Ff=Fs(this.Ff,22):this.Ff=Ds(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,23)},set:function(r){r?this.Ff=Fs(this.Ff,23):this.Ff=Ds(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,27)},set:function(r){r?this.Ff=Fs(this.Ff,27):this.Ff=Ds(this.Ff,27)}}),this.hasAppearanceStream=!1};fl(f1,Kc);var h1=function(){f1.call(this),this.fontName="helvetica",this.combo=!1};fl(h1,f1);var p1=function(){h1.call(this),this.combo=!0};fl(p1,h1);var ay=function(){p1.call(this),this.edit=!0};fl(ay,p1);var Ra=function(){Kc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,15)},set:function(r){r?this.Ff=Fs(this.Ff,15):this.Ff=Ds(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,16)},set:function(r){r?this.Ff=Fs(this.Ff,16):this.Ff=Ds(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,17)},set:function(r){r?this.Ff=Fs(this.Ff,17):this.Ff=Ds(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,26)},set:function(r){r?this.Ff=Fs(this.Ff,26):this.Ff=Ds(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+rp(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){ii(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};fl(Ra,Kc);var oy=function(){Ra.call(this),this.pushButton=!0};fl(oy,Ra);var m1=function(){Ra.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};fl(m1,Ra);var c5=function(){var t,e;Kc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+rp(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){ii(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fl(c5,Kc),m1.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},m1.prototype.createOption=function(t){var e=new c5;return e.Parent=this,e.optionName=t,this.Kids.push(e),upe.call(this.scope,e),e};var ly=function(){Ra.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dr.CheckBox.createAppearanceStream()};fl(ly,Ra);var f0=function(){Kc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,13)},set:function(e){e?this.Ff=Fs(this.Ff,13):this.Ff=Ds(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,21)},set:function(e){e?this.Ff=Fs(this.Ff,21):this.Ff=Ds(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,23)},set:function(e){e?this.Ff=Fs(this.Ff,23):this.Ff=Ds(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,24)},set:function(e){e?this.Ff=Fs(this.Ff,24):this.Ff=Ds(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,25)},set:function(e){e?this.Ff=Fs(this.Ff,25):this.Ff=Ds(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,26)},set:function(e){e?this.Ff=Fs(this.Ff,26):this.Ff=Ds(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fl(f0,Kc);var cy=function(){f0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ls(this.Ff,14)},set:function(t){t?this.Ff=Fs(this.Ff,14):this.Ff=Ds(this.Ff,14)}}),this.password=!0};fl(cy,f0);var dr={CheckBox:{createAppearanceStream:function(){return{N:{On:dr.CheckBox.YesNormal},D:{On:dr.CheckBox.YesPushDown,Off:dr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=gu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=pb(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Kr(dr.internal.getWidth(t))+" "+Kr(dr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Kr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=gu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=dr.internal.getHeight(t),a=dr.internal.getWidth(t),o=pb(t,t.caption);return i.push("1 g"),i.push("0 0 "+Kr(a)+" "+Kr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Kr(a-1)+" "+Kr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Kr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=gu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Kr(dr.internal.getWidth(t))+" "+Kr(dr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:dr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=dr.RadioButton.Circle.YesNormal,e.D[t]=dr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=gu(t);e.scope=t.scope;var r=[],n=dr.internal.getWidth(t)<=dr.internal.getHeight(t)?dr.internal.getWidth(t)/4:dr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=dr.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xf(dr.internal.getWidth(t)/2)+" "+xf(dr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=gu(t);e.scope=t.scope;var r=[],n=dr.internal.getWidth(t)<=dr.internal.getHeight(t)?dr.internal.getWidth(t)/4:dr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*dr.internal.Bezier_C).toFixed(5)),a=Number((n*dr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xf(dr.internal.getWidth(t)/2)+" "+xf(dr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xf(dr.internal.getWidth(t)/2)+" "+xf(dr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=gu(t);e.scope=t.scope;var r=[],n=dr.internal.getWidth(t)<=dr.internal.getHeight(t)?dr.internal.getWidth(t)/4:dr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*dr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xf(dr.internal.getWidth(t)/2)+" "+xf(dr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:dr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=dr.RadioButton.Cross.YesNormal,e.D[t]=dr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=gu(t);e.scope=t.scope;var r=[],n=dr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Kr(dr.internal.getWidth(t)-2)+" "+Kr(dr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Kr(n.x1.x)+" "+Kr(n.x1.y)+" m"),r.push(Kr(n.x2.x)+" "+Kr(n.x2.y)+" l"),r.push(Kr(n.x4.x)+" "+Kr(n.x4.y)+" m"),r.push(Kr(n.x3.x)+" "+Kr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=gu(t);e.scope=t.scope;var r=dr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Kr(dr.internal.getWidth(t))+" "+Kr(dr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Kr(dr.internal.getWidth(t)-2)+" "+Kr(dr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Kr(r.x1.x)+" "+Kr(r.x1.y)+" m"),n.push(Kr(r.x2.x)+" "+Kr(r.x2.y)+" l"),n.push(Kr(r.x4.x)+" "+Kr(r.x4.y)+" m"),n.push(Kr(r.x3.x)+" "+Kr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=gu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Kr(dr.internal.getWidth(t))+" "+Kr(dr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};dr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=dr.internal.getWidth(t),r=dr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},dr.internal.getWidth=function(t){var e=0;return ii(t)==="object"&&(e=fT(t.Rect[2])),e},dr.internal.getHeight=function(t){var e=0;return ii(t)==="object"&&(e=fT(t.Rect[3])),e};var upe=ms.addField=function(t){if(cpe(this,t),!(t instanceof Kc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ms.AcroFormChoiceField=f1,ms.AcroFormListBox=h1,ms.AcroFormComboBox=p1,ms.AcroFormEditBox=ay,ms.AcroFormButton=Ra,ms.AcroFormPushButton=oy,ms.AcroFormRadioButton=m1,ms.AcroFormCheckBox=ly,ms.AcroFormTextField=f0,ms.AcroFormPasswordField=cy,ms.AcroFormAppearance=dr,ms.AcroForm={ChoiceField:f1,ListBox:h1,ComboBox:p1,EditBox:ay,Button:Ra,PushButton:oy,RadioButton:m1,CheckBox:ly,TextField:f0,PasswordField:cy,Appearance:dr},yr.AcroForm={ChoiceField:f1,ListBox:h1,ComboBox:p1,EditBox:ay,Button:Ra,PushButton:oy,RadioButton:m1,CheckBox:ly,TextField:f0,PasswordField:cy,Appearance:dr};yr.AcroForm;function OM(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(R,F){var B,ee,he,ve,fe,se=r;if((F=F||r)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(K(R))for(fe in n)for(he=n[fe],B=0;B<he.length;B+=1){for(ve=!0,ee=0;ee<he[B].length;ee+=1)if(he[B][ee]!==void 0&&he[B][ee]!==R[ee]){ve=!1;break}if(ve===!0){se=fe;break}}else for(fe in n)for(he=n[fe],B=0;B<he.length;B+=1){for(ve=!0,ee=0;ee<he[B].length;ee+=1)if(he[B][ee]!==void 0&&he[B][ee]!==R.charCodeAt(ee)){ve=!1;break}if(ve===!0){se=fe;break}}return se===r&&F!==r&&(se=F),se},s=function R(F){for(var B=this.internal.write,ee=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ve=[];if(ve.push({key:"Type",value:"/XObject"}),ve.push({key:"Subtype",value:"/Image"}),ve.push({key:"Width",value:F.width}),ve.push({key:"Height",value:F.height}),F.colorSpace===S.INDEXED?ve.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ve.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===S.DEVICE_CMYK&&ve.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ve.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ve.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var fe="",se=0,Y=F.transparency.length;se<Y;se++)fe+=F.transparency[se]+" "+F.transparency[se]+" ";ve.push({key:"Mask",value:"["+fe+"]"})}F.sMask!==void 0&&ve.push({key:"SMask",value:F.objectId+1+" 0 R"});var ie=F.filter!==void 0?["/"+F.filter]:void 0;if(ee({data:F.data,additionalKeyValues:ve,alreadyAppliedFilters:ie,objectId:F.objectId}),B("endobj"),"sMask"in F&&F.sMask!==void 0){var G=(F.predictor!=null?"/Predictor "+F.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+F.width,I={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:G,data:F.sMask};"filter"in F&&(I.filter=F.filter),R.call(this,I)}if(F.colorSpace===S.INDEXED){var z=this.internal.newObject();ee({data:T(new Uint8Array(F.palette)),objectId:z}),B("endobj")}},a=function(){var R=this.internal.collections[e+"images"];for(var F in R)s.call(this,R[F])},o=function(){var R,F=this.internal.collections[e+"images"],B=this.internal.write;for(var ee in F)B("/I"+(R=F[ee]).index,R.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var R=this.internal.collections[e+"images"];return l.call(this),R},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(R){return typeof t["process"+R.toUpperCase()]=="function"},g=function(R){return ii(R)==="object"&&R.nodeType===1},m=function(R,F){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var B=""+R.getAttribute("src");if(B.indexOf("data:image/")===0)return sy(unescape(B).split("base64,").pop());var ee=t.loadFile(B,!0);if(ee!==void 0)return ee}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var he;switch(F){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return sy(R.toDataURL(he,1).split("base64,").pop())}},y=function(R){var F=this.internal.collections[e+"images"];if(F){for(var B in F)if(R===F[B].alias)return F[B]}},w=function(R,F,B){return R||F||(R=-96,F=-96),R<0&&(R=-1*B.width*72/R/this.internal.scaleFactor),F<0&&(F=-1*B.height*72/F/this.internal.scaleFactor),R===0&&(R=F*B.width/B.height),F===0&&(F=R*B.height/B.width),[R,F]},_=function(R,F,B,ee,he,ve){var fe=w.call(this,B,ee,he),se=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,ie=c.call(this);if(B=fe[0],ee=fe[1],ie[he.index]=he,ve){ve*=Math.PI/180;var G=Math.cos(ve),I=Math.sin(ve),z=function(J){return J.toFixed(4)},X=[z(G),z(I),z(-1*I),z(G),0,0,"cm"]}this.internal.write("q"),ve?(this.internal.write([1,"0","0",1,se(R),Y(F+ee),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([se(B),"0","0",se(ee),"0","0","cm"].join(" "))):this.internal.write([se(B),"0","0",se(ee),se(R),Y(F+ee),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},A=t.__addimage__.sHashCode=function(R){var F,B,ee=0;if(typeof R=="string")for(B=R.length,F=0;F<B;F++)ee=(ee<<5)-ee+R.charCodeAt(F),ee|=0;else if(K(R))for(B=R.byteLength/2,F=0;F<B;F++)ee=(ee<<5)-ee+R[F],ee|=0;return ee},V=t.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var F=!0;return R.length===0&&(F=!1),R.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(F=!1),F},W=t.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var F=R.indexOf(",");return F<0?null:R.substring(0,F).trim().endsWith("base64")?R.substring(F+1):null};t.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var K=t.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},j=t.__addimage__.binaryStringToUint8Array=function(R){for(var F=R.length,B=new Uint8Array(F),ee=0;ee<F;ee++)B[ee]=R.charCodeAt(ee);return B},T=t.__addimage__.arrayBufferToBinaryString=function(R){for(var F="",B=K(R)?R:new Uint8Array(R),ee=0;ee<B.length;ee+=8192)F+=String.fromCharCode.apply(null,B.subarray(ee,ee+8192));return F};t.addImage=function(){var R,F,B,ee,he,ve,fe,se,Y;if(typeof arguments[1]=="number"?(F=r,B=arguments[1],ee=arguments[2],he=arguments[3],ve=arguments[4],fe=arguments[5],se=arguments[6],Y=arguments[7]):(F=arguments[1],B=arguments[2],ee=arguments[3],he=arguments[4],ve=arguments[5],fe=arguments[6],se=arguments[7],Y=arguments[8]),ii(R=arguments[0])==="object"&&!g(R)&&"imageData"in R){var ie=R;R=ie.imageData,F=ie.format||F||r,B=ie.x||B||0,ee=ie.y||ee||0,he=ie.w||ie.width||he,ve=ie.h||ie.height||ve,fe=ie.alias||fe,se=ie.compression||se,Y=ie.rotation||ie.angle||Y}var G=this.internal.getFilters();if(se===void 0&&G.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(B)||isNaN(ee))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=C.call(this,R,F,fe,se);return _.call(this,B,ee,he,ve,I,Y),this};var C=function(R,F,B,ee){var he,ve,fe;if(typeof R=="string"&&i(R)===r){R=unescape(R);var se=D(R,!1);(se!==""||(se=t.loadFile(R,!0))!==void 0)&&(R=se)}if(g(R)&&(R=m(R,F)),F=i(R,F),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((fe=B)==null||fe.length===0)&&(B=(function(Y){return typeof Y=="string"||K(Y)?A(Y):K(Y.data)?A(Y.data):null})(R)),(he=y.call(this,B))||(R instanceof Uint8Array||F==="RGBA"||(ve=R,R=j(R)),he=this["process"+F.toUpperCase()](R,d.call(this),B,(function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in t.image_compression?Y:P.NONE})(ee),ve)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},D=t.__addimage__.convertBase64ToBinaryString=function(R,F){F=typeof F!="boolean"||F;var B,ee="";if(typeof R=="string"){var he;B=(he=W(R))!==null&&he!==void 0?he:R;try{ee=sy(B)}catch(ve){if(F)throw V(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ve.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};t.getImageProperties=function(R){var F,B,ee="";if(g(R)&&(R=m(R)),typeof R=="string"&&i(R)===r&&((ee=D(R,!1))===""&&(ee=t.loadFile(R)||""),R=ee),B=i(R),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(R instanceof Uint8Array||(R=j(R)),!(F=this["process"+B.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=B,F}})(yr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};yr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,p=0;p<c.length&&!d;p++)switch((n=c[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){n=c[g];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(w.objId),P=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+m(S(n.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(S(P))+") >>",w.content=s;var A=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+A,n.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(w.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var V=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+V+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var W=this.annotations._nameMap[n.options.name];n.options.pageNumber=W.page,n.options.top=W.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var K=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+K+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;a=Math.ceil(c*d)}else o=l,a=c;return this.text(r,n,i,s),i+=.2*c,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-c,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(yr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=t.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&i.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(w){var _=0,S=r,P="",A=0;for(_=0;_<w.length;_+=1)S[w.charCodeAt(_)]!==void 0?(A++,typeof(S=S[w.charCodeAt(_)])=="number"&&(P+=String.fromCharCode(S),S=r,A=0),_===w.length-1&&(S=r,P+=w.charAt(_-(A-1)),_-=A-1,A=0)):(S=r,P+=w.charAt(_-A),_-=A,A=0);return P};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(w,_,S){return a(w)?s(w)===!1?-1:!c(w)||!a(_)&&!a(S)||!a(S)&&o(_)||o(w)&&!a(_)||o(w)&&l(_)||o(w)&&o(_)?0:d(w)&&a(_)&&!o(_)&&a(S)&&c(S)?3:o(w)||!a(S)?1:2:-1},m=function(w){var _=0,S=0,P=0,A="",V="",W="",K=(w=w||"").split("\\s+"),j=[];for(_=0;_<K.length;_+=1){for(j.push(""),S=0;S<K[_].length;S+=1)A=K[_][S],V=K[_][S-1],W=K[_][S+1],a(A)?(P=g(A,V,W),j[_]+=P!==-1?String.fromCharCode(e[A.charCodeAt(0)][P]):A):j[_]+=A;j[_]=p(j[_])}return j.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var w,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(_)){var P=0;for(S=[],P=0;P<_.length;P+=1)Array.isArray(_[P])?S.push([m(_[P][0]),_[P][1],_[P][2]]):S.push([m(_[P])]);w=S}else w=m(_);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",y])})(yr.API),yr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(yr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),p=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,m=0,y=0,w=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var S=c.maxWidth;S>0?typeof l=="string"?l=this.splitTextToSize(l,S):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,V){return A.concat(_.splitTextToSize(V,S))},[])):l=Array.isArray(l)?l:[l];for(var P=0;P<l.length;P++)m<(w=this.getStringUnitWidth(l[P],{font:p})*d)&&(m=w);return m!==0&&(y=l.length),{w:m/=g,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,p,g){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,y,w,_,S=[],P=[],A=[],V={},W={},K=[],j=[],T=(g=g||{}).autoSize||!1,C=g.printHeaders!==!1,D=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,R=g.margins||Object.assign({width:this.getPageWidth()},e),F=typeof g.padding=="number"?g.padding:3,B=g.headerBackgroundColor||"#c8c8c8",ee=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=ee,this.setFontSize(D),p==null)P=S=Object.keys(d[0]),A=S.map(function(){return"left"});else if(Array.isArray(p)&&ii(p[0])==="object")for(S=p.map(function(ie){return ie.name}),P=p.map(function(ie){return ie.prompt||ie.name||""}),A=p.map(function(ie){return ie.align||"left"}),m=0;m<p.length;m+=1)W[p[m].name]=.7499990551181103*p[m].width;else Array.isArray(p)&&typeof p[0]=="string"&&(P=S=p,A=S.map(function(){return"left"}));if(T||Array.isArray(p)&&typeof p[0]=="string")for(m=0;m<S.length;m+=1){for(V[_=S[m]]=d.map(function(ie){return ie[_]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(P[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=V[_],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)K.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[_]=Math.max.apply(null,K)+F+F,K=[]}if(C){var he={};for(m=0;m<S.length;m+=1)he[S[m]]={},he[S[m]].text=P[m],he[S[m]].align=A[m];var ve=o.call(this,he,W);j=S.map(function(ie){return new s(l,c,W[ie],ve,he[ie].text,void 0,he[ie].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var fe=p.reduce(function(ie,G){return ie[G.name]=G.align,ie},{});for(m=0;m<d.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:d[m]},this);var se=o.call(this,d[m],W);for(w=0;w<S.length;w+=1){var Y=d[m][S[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:w,data:Y},this),a.call(this,new s(l,c,W[S[w]],se,Y,m+2,fe[S[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var y=l[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*p/g+d+d},this).reduce(function(m,y){return Math.max(m,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(yr.API);var MM={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},VM=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],mb=OM(VM),BM=[100,200,300,400,500,600,700,800,900],dpe=OM(BM);function _3(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return MM[s=s||"normal"]?s:"normal"})(t.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),i=(function(s){return typeof mb[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function hT(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var fpe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mT(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function gT(t){return t.trimLeft()}function hpe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function ppe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Iv,xT,vT,Dp,Pv,yT,wT,_T,b3=["times"];function bT(t,e,r,n){var i=4,s=ST;switch(n){case yr.API.image_compression.FAST:i=1,s=kT;break;case yr.API.image_compression.MEDIUM:i=6,s=ET;break;case yr.API.image_compression.SLOW:i=9,s=CT}t=(function(o,l,c,d){for(var p,g=o.length/l,m=new Uint8Array(o.length+g),y=[mpe,kT,ST,ET,CT],w=0;w<g;w+=1){var _=w*l,S=o.subarray(_,_+l);if(d)m.set(d(S,c,p),_+w);else{for(var P=y.length,A=[],V=0;V<P;V+=1)A[V]=y[V](S,c,p);var W=xpe(A.concat());m.set(A[W],_+w)}p=S}return m})(t,e,r,s);var a=lb(t,{level:i});return yr.API.__addimage__.arrayBufferToBinaryString(a)}function mpe(t){var e=Array.apply([],t);return e.unshift(0),e}function kT(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function ST(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function ET(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function CT(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=gpe(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function gpe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function xpe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function k3(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return UM(t,i)>>s&a}function NT(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(c,d,p){if(d+1<c.byteLength)c.setUint16(d,p,!1);else{var g=p>>8&255;c.setUint8(d,g)}})(t,s,UM(t,s)&~(o<<a)&65535|l)}function UM(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function vpe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,d=[],p=0,g=null,m=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&w||(g=null),m=w>>2&7,e++;break;case 254:for(;;){if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,V=t[e++],W=V>>6&1,K=1<<1+(7&V),j=o,T=l,C=!1;V>>7&&(C=!0,j=e,T=K,e+=3*K);var D=e;for(e++;;){var R;if(!((R=t[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}d.push({x:_,y:S,width:P,height:A,has_local_palette:C,palette_offset:j,palette_size:T,data_offset:D,data_length:e-D,transparent_index:g,interlaced:!!W,delay:p,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(F){if(F<0||F>=d.length)throw new Error("Frame index out of range.");return d[F]},this.decodeAndBlitFrameBGRA=function(F,B){var ee=this.frameInfo(F),he=ee.width*ee.height,ve=new Uint8Array(he);TT(t,ee.data_offset,ve,he);var fe=ee.palette_offset,se=ee.transparent_index;se===null&&(se=256);var Y=ee.width,ie=r-Y,G=Y,I=4*(ee.y*r+ee.x),z=4*((ee.y+ee.height)*r+ee.x),X=I,J=4*ie;ee.interlaced===!0&&(J+=4*r*7);for(var ce=8,we=0,ke=ve.length;we<ke;++we){var oe=ve[we];if(G===0&&(G=Y,(X+=J)>=z&&(J=4*ie+4*r*(ce-1),X=I+(Y+ie)*(ce<<1),ce>>=1)),oe===se)X+=4;else{var Ee=t[fe+3*oe],Oe=t[fe+3*oe+1],re=t[fe+3*oe+2];B[X++]=re,B[X++]=Oe,B[X++]=Ee,B[X++]=255}--G}},this.decodeAndBlitFrameRGBA=function(F,B){var ee=this.frameInfo(F),he=ee.width*ee.height,ve=new Uint8Array(he);TT(t,ee.data_offset,ve,he);var fe=ee.palette_offset,se=ee.transparent_index;se===null&&(se=256);var Y=ee.width,ie=r-Y,G=Y,I=4*(ee.y*r+ee.x),z=4*((ee.y+ee.height)*r+ee.x),X=I,J=4*ie;ee.interlaced===!0&&(J+=4*r*7);for(var ce=8,we=0,ke=ve.length;we<ke;++we){var oe=ve[we];if(G===0&&(G=Y,(X+=J)>=z&&(J=4*ie+4*r*(ce-1),X=I+(Y+ie)*(ce<<1),ce>>=1)),oe===se)X+=4;else{var Ee=t[fe+3*oe],Oe=t[fe+3*oe+1],re=t[fe+3*oe+2];B[X++]=Ee,B[X++]=Oe,B[X++]=re,B[X++]=255}--G}}}function TT(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,d=0,p=0,g=0,m=t[e++],y=new Int32Array(4096),w=null;;){for(;d<16&&m!==0;)p|=t[e++]<<d,d+=8,m===1?m=t[e++]:--m;if(d<l)break;var _=p&c;if(p>>=l,d-=l,_!==s){if(_===a)break;for(var S=_<o?_:w,P=0,A=S;A>s;)A=y[A]>>8,++P;var V=A;if(g+P+(S!==_?1:0)>n)return void wi.log("Warning, gif stream longer than expected.");r[g++]=V;var W=g+=P;for(S!==_&&(r[g++]=V),A=S;P--;)A=y[A],r[--W]=255&A,A>>=8;w!==null&&o<4096&&(y[o++]=w<<8|V,o>=c+1&&l<12&&(++l,c=c<<1|1)),w=_}else o=a+1,c=(1<<(l=i+1))-1,w=null}return g!==n&&wi.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function S3(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),m=new Array(64),y=new Array(64),w=[],_=0,S=7,P=new Array(64),A=new Array(64),V=new Array(64),W=new Array(256),K=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ve(I,z){for(var X=0,J=0,ce=new Array,we=1;we<=16;we++){for(var ke=1;ke<=I[we];ke++)ce[z[J]]=[],ce[z[J]][0]=X,ce[z[J]][1]=we,J++,X++;X*=2}return ce}function fe(I){for(var z=I[0],X=I[1]-1;X>=0;)z&1<<X&&(_|=1<<S),X--,--S<0&&(_==255?(se(255),se(0)):se(_),S=7,_=0)}function se(I){w.push(I)}function Y(I){se(I>>8&255),se(255&I)}function ie(I,z,X,J,ce){for(var we,ke=ce[0],oe=ce[240],Ee=(function(Ve,He){var ut,Et,St,je,Ke,Qe,ae,Le,We,lt,xt=0;for(We=0;We<8;++We){ut=Ve[xt],Et=Ve[xt+1],St=Ve[xt+2],je=Ve[xt+3],Ke=Ve[xt+4],Qe=Ve[xt+5],ae=Ve[xt+6];var Ut=ut+(Le=Ve[xt+7]),Kt=ut-Le,Ct=Et+ae,Mt=Et-ae,Pr=St+Qe,Zt=St-Qe,wr=je+Ke,_r=je-Ke,Pn=Ut+wr,pn=Ut-wr,$r=Ct+Pr,cr=Ct-Pr;Ve[xt]=Pn+$r,Ve[xt+4]=Pn-$r;var Wr=.707106781*(cr+pn);Ve[xt+2]=pn+Wr,Ve[xt+6]=pn-Wr;var na=.382683433*((Pn=_r+Zt)-(cr=Mt+Kt)),li=.5411961*Pn+na,Ss=1.306562965*cr+na,ci=.707106781*($r=Zt+Mt),gr=Kt+ci,wn=Kt-ci;Ve[xt+5]=wn+li,Ve[xt+3]=wn-li,Ve[xt+1]=gr+Ss,Ve[xt+7]=gr-Ss,xt+=8}for(xt=0,We=0;We<8;++We){ut=Ve[xt],Et=Ve[xt+8],St=Ve[xt+16],je=Ve[xt+24],Ke=Ve[xt+32],Qe=Ve[xt+40],ae=Ve[xt+48];var Es=ut+(Le=Ve[xt+56]),Bn=ut-Le,tn=Et+ae,Sn=Et-ae,Xn=St+Qe,le=St-Qe,Ae=je+Ke,be=je-Ke,Se=Es+Ae,Pe=Es-Ae,Ie=tn+Xn,Xe=tn-Xn;Ve[xt]=Se+Ie,Ve[xt+32]=Se-Ie;var dt=.707106781*(Xe+Pe);Ve[xt+16]=Pe+dt,Ve[xt+48]=Pe-dt;var tt=.382683433*((Se=be+le)-(Xe=Sn+Bn)),et=.5411961*Se+tt,at=1.306562965*Xe+tt,Tt=.707106781*(Ie=le+Sn),Vt=Bn+Tt,Ht=Bn-Tt;Ve[xt+40]=Ht+et,Ve[xt+24]=Ht-et,Ve[xt+8]=Vt+at,Ve[xt+56]=Vt-at,xt++}for(We=0;We<64;++We)lt=Ve[We]*He[We],m[We]=lt>0?lt+.5|0:lt-.5|0;return m})(I,z),Oe=0;Oe<64;++Oe)y[j[Oe]]=Ee[Oe];var re=y[0]-X;X=y[0],re==0?fe(J[0]):(fe(J[g[we=32767+re]]),fe(p[we]));for(var _e=63;_e>0&&y[_e]==0;)_e--;if(_e==0)return fe(ke),X;for(var Re,pe=1;pe<=_e;){for(var Ye=pe;y[pe]==0&&pe<=_e;)++pe;var ze=pe-Ye;if(ze>=16){Re=ze>>4;for(var ot=1;ot<=Re;++ot)fe(oe);ze&=15}we=32767+y[pe],fe(ce[(ze<<4)+g[we]]),fe(p[we]),pe++}return _e!=63&&fe(ke),X}function G(I){I=Math.min(Math.max(I,1),100),s!=I&&((function(z){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var ce=a((X[J]*z+50)/100);ce=Math.min(Math.max(ce,1),255),o[j[J]]=ce}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ke=0;ke<64;ke++){var oe=a((we[ke]*z+50)/100);oe=Math.min(Math.max(oe,1),255),l[j[ke]]=oe}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,re=0;re<8;re++)for(var _e=0;_e<8;_e++)c[Oe]=1/(o[j[Oe]]*Ee[re]*Ee[_e]*8),d[Oe]=1/(l[j[Oe]]*Ee[re]*Ee[_e]*8),Oe++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,z){z&&G(z),w=new Array,_=0,S=7,Y(65496),Y(65504),Y(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),Y(1),Y(1),se(0),se(0),(function(){Y(65499),Y(132),se(0);for(var Et=0;Et<64;Et++)se(o[Et]);se(1);for(var St=0;St<64;St++)se(l[St])})(),(function(Et,St){Y(65472),Y(17),se(8),Y(St),Y(Et),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(I.width,I.height),(function(){Y(65476),Y(418),se(0);for(var Et=0;Et<16;Et++)se(T[Et+1]);for(var St=0;St<=11;St++)se(C[St]);se(16);for(var je=0;je<16;je++)se(D[je+1]);for(var Ke=0;Ke<=161;Ke++)se(R[Ke]);se(1);for(var Qe=0;Qe<16;Qe++)se(F[Qe+1]);for(var ae=0;ae<=11;ae++)se(B[ae]);se(17);for(var Le=0;Le<16;Le++)se(ee[Le+1]);for(var We=0;We<=161;We++)se(he[We])})(),Y(65498),Y(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var X=0,J=0,ce=0;_=0,S=7,this.encode.displayName="_encode_";for(var we,ke,oe,Ee,Oe,re,_e,Re,pe,Ye=I.data,ze=I.width,ot=I.height,Ve=4*ze,He=0;He<ot;){for(we=0;we<Ve;){for(Oe=Ve*He+we,_e=-1,Re=0,pe=0;pe<64;pe++)re=Oe+(Re=pe>>3)*Ve+(_e=4*(7&pe)),He+Re>=ot&&(re-=Ve*(He+1+Re-ot)),we+_e>=Ve&&(re-=we+_e-Ve+4),ke=Ye[re++],oe=Ye[re++],Ee=Ye[re++],P[pe]=(K[ke]+K[oe+256|0]+K[Ee+512|0]>>16)-128,A[pe]=(K[ke+768|0]+K[oe+1024|0]+K[Ee+1280|0]>>16)-128,V[pe]=(K[ke+1280|0]+K[oe+1536|0]+K[Ee+1792|0]>>16)-128;X=ie(P,c,X,e,n),J=ie(A,d,J,r,i),ce=ie(V,d,ce,r,i),we+=32}He+=8}if(S>=0){var ut=[];ut[1]=S+1,ut[0]=(1<<S+1)-1,fe(ut)}return Y(65497),new Uint8Array(w)},t=t||50,(function(){for(var I=String.fromCharCode,z=0;z<256;z++)W[z]=I(z)})(),e=ve(T,C),r=ve(F,B),n=ve(D,R),i=ve(ee,he),(function(){for(var I=1,z=2,X=1;X<=15;X++){for(var J=I;J<z;J++)g[32767+J]=X,p[32767+J]=[],p[32767+J][1]=X,p[32767+J][0]=J;for(var ce=-(z-1);ce<=-I;ce++)g[32767+ce]=X,p[32767+ce]=[],p[32767+ce][1]=X,p[32767+ce][0]=z-1+ce;I<<=1,z<<=1}})(),(function(){for(var I=0;I<256;I++)K[I]=19595*I,K[I+256|0]=38470*I,K[I+512|0]=7471*I+32768,K[I+768|0]=-11059*I,K[I+1024|0]=-21709*I,K[I+1280|0]=32768*I+8421375,K[I+1536|0]=-27439*I,K[I+1792|0]=-5329*I})(),G(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Lc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function AT(t){function e(C){if(!C)throw Error("assert :P")}function r(C,D,R){for(var F=0;4>F;F++)if(C[D+F]!=R.charCodeAt(F))return!0;return!1}function n(C,D,R,F,B){for(var ee=0;ee<B;ee++)C[D+ee]=R[F+ee]}function i(C,D,R,F){for(var B=0;B<F;B++)C[D+B]=R}function s(C){return new Int32Array(C)}function a(C,D){for(var R=[],F=0;F<C;F++)R.push(new D);return R}function o(C,D){var R=[];return(function F(B,ee,he){for(var ve=he[ee],fe=0;fe<ve&&(B.push(he.length>ee+1?[]:new D),!(he.length<ee+1));fe++)F(B[fe],ee+1,he)})(R,0,C),R}var l=function(){var C=this;function D(b,N){for(var U=1<<N-1>>>0;b&U;)U>>>=1;return U?(b&U-1)+U:b}function R(b,N,U,Q,ne){e(!(Q%U));do b[N+(Q-=U)]=ne;while(0<Q)}function F(b,N,U,Q,ne){if(e(2328>=ne),512>=ne)var de=s(512);else if((de=s(ne))==null)return 0;return(function(me,ge,ye,Ce,Be,nt){var Te,$e,Ze=ge,yt=1<<ye,st=s(16),gt=s(16);for(e(Be!=0),e(Ce!=null),e(me!=null),e(0<ye),$e=0;$e<Be;++$e){if(15<Ce[$e])return 0;++st[Ce[$e]]}if(st[0]==Be)return 0;for(gt[1]=0,Te=1;15>Te;++Te){if(st[Te]>1<<Te)return 0;gt[Te+1]=gt[Te]+st[Te]}for($e=0;$e<Be;++$e)Te=Ce[$e],0<Ce[$e]&&(nt[gt[Te]++]=$e);if(gt[15]==1)return(Ce=new B).g=0,Ce.value=nt[0],R(me,Ze,1,yt,Ce),yt;var vt,bt=-1,kt=yt-1,mr=0,sr=1,Hr=1,lr=1<<ye;for($e=0,Te=1,Be=2;Te<=ye;++Te,Be<<=1){if(sr+=Hr<<=1,0>(Hr-=st[Te]))return 0;for(;0<st[Te];--st[Te])(Ce=new B).g=Te,Ce.value=nt[$e++],R(me,Ze+mr,Be,lr,Ce),mr=D(mr,Te)}for(Te=ye+1,Be=2;15>=Te;++Te,Be<<=1){if(sr+=Hr<<=1,0>(Hr-=st[Te]))return 0;for(;0<st[Te];--st[Te]){if(Ce=new B,(mr&kt)!=bt){for(Ze+=lr,vt=1<<(bt=Te)-ye;15>bt&&!(0>=(vt-=st[bt]));)++bt,vt<<=1;yt+=lr=1<<(vt=bt-ye),me[ge+(bt=mr&kt)].g=vt+ye,me[ge+bt].value=Ze-ge-bt}Ce.g=Te-ye,Ce.value=nt[$e++],R(me,Ze+(mr>>ye),Be,lr,Ce),mr=D(mr,Te)}}return sr!=2*gt[15]-1?0:yt})(b,N,U,Q,ne,de)}function B(){this.value=this.g=0}function ee(){this.value=this.g=0}function he(){this.G=a(5,B),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(za,ee)}function ve(b,N,U,Q){e(b!=null),e(N!=null),e(2147483648>Q),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=N,b.pa=U,b.Jd=N,b.Yc=U+Q,b.Zc=4<=Q?U+Q-4+1:U,ke(b)}function fe(b,N){for(var U=0;0<N--;)U|=Ee(b,128)<<N;return U}function se(b,N){var U=fe(b,N);return oe(b)?-U:U}function Y(b,N,U,Q){var ne,de=0;for(e(b!=null),e(N!=null),e(4294967288>Q),b.Sb=Q,b.Ra=0,b.u=0,b.h=0,4<Q&&(Q=4),ne=0;ne<Q;++ne)de+=N[U+ne]<<8*ne;b.Ra=de,b.bb=Q,b.oa=N,b.pa=U}function ie(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<nu-8>>>0,++b.bb,b.u-=8;J(b)&&(b.h=1,b.u=0)}function G(b,N){if(e(0<=N),!b.h&&N<=vh){var U=X(b)&ru[N];return b.u+=N,ie(b),U}return b.h=1,b.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(b){return b.Ra>>>(b.u&nu-1)>>>0}function J(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>nu}function ce(b,N){b.u=N,b.h=J(b)}function we(b){b.u>=Bi&&(e(b.u>=Bi),ie(b))}function ke(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function oe(b){return fe(b,1)}function Ee(b,N){var U=b.Ca;0>b.b&&ke(b);var Q=b.b,ne=U*N>>>8,de=(b.I>>>Q>ne)+0;for(de?(U-=ne,b.I-=ne+1<<Q>>>0):U=ne+1,Q=U,ne=0;256<=Q;)ne+=8,Q>>=8;return Q=7^ne+np[Q],b.b-=Q,b.Ca=(U<<Q)-1,de}function Oe(b,N,U){b[N+0]=U>>24&255,b[N+1]=U>>16&255,b[N+2]=U>>8&255,b[N+3]=255&U}function re(b,N){return b[N+0]|b[N+1]<<8}function _e(b,N){return re(b,N)|b[N+2]<<16}function Re(b,N){return re(b,N)|re(b,N+2)<<16}function pe(b,N){var U=1<<N;return e(b!=null),e(0<N),b.X=s(U),b.X==null?0:(b.Mb=32-N,b.Xa=N,1)}function Ye(b,N){e(b!=null),e(N!=null),e(b.Xa==N.Xa),n(N.X,0,b.X,0,1<<N.Xa)}function ze(){this.X=[],this.Xa=this.Mb=0}function ot(b,N,U,Q){e(U!=null),e(Q!=null);var ne=U[0],de=Q[0];return ne==0&&(ne=(b*de+N/2)/N),de==0&&(de=(N*ne+b/2)/b),0>=ne||0>=de?0:(U[0]=ne,Q[0]=de,1)}function Ve(b,N){return b+(1<<N)-1>>>N}function He(b,N){return((4278255360&b)+(4278255360&N)>>>0&4278255360)+((16711935&b)+(16711935&N)>>>0&16711935)>>>0}function ut(b,N){C[N]=function(U,Q,ne,de,me,ge,ye){var Ce;for(Ce=0;Ce<me;++Ce){var Be=C[b](ge[ye+Ce-1],ne,de+Ce);ge[ye+Ce]=He(U[Q+Ce],Be)}}}function Et(){this.ud=this.hd=this.jd=0}function St(b,N){return((4278124286&(b^N))>>>1)+(b&N)>>>0}function je(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Ke(b,N){return je(b+(b-N+.5>>1))}function Qe(b,N,U){return Math.abs(N-U)-Math.abs(b-U)}function ae(b,N,U,Q,ne,de,me){for(Q=de[me-1],U=0;U<ne;++U)de[me+U]=Q=He(b[N+U],Q)}function Le(b,N,U,Q,ne){var de;for(de=0;de<U;++de){var me=b[N+de],ge=me>>8&255,ye=16711935&(ye=(ye=16711935&me)+((ge<<16)+ge));Q[ne+de]=(4278255360&me)+ye>>>0}}function We(b,N){N.jd=255&b,N.hd=b>>8&255,N.ud=b>>16&255}function lt(b,N,U,Q,ne,de){var me;for(me=0;me<Q;++me){var ge=N[U+me],ye=ge>>>8,Ce=ge,Be=255&(Be=(Be=ge>>>16)+((b.jd<<24>>24)*(ye<<24>>24)>>>5));Ce=255&(Ce=(Ce+=(b.hd<<24>>24)*(ye<<24>>24)>>>5)+((b.ud<<24>>24)*(Be<<24>>24)>>>5)),ne[de+me]=(4278255360&ge)+(Be<<16)+Ce}}function xt(b,N,U,Q,ne){C[N]=function(de,me,ge,ye,Ce,Be,nt,Te,$e){for(ye=nt;ye<Te;++ye)for(nt=0;nt<$e;++nt)Ce[Be++]=ne(ge[Q(de[me++])])},C[b]=function(de,me,ge,ye,Ce,Be,nt){var Te=8>>de.b,$e=de.Ea,Ze=de.K[0],yt=de.w;if(8>Te)for(de=(1<<de.b)-1,yt=(1<<Te)-1;me<ge;++me){var st,gt=0;for(st=0;st<$e;++st)st&de||(gt=Q(ye[Ce++])),Be[nt++]=ne(Ze[gt&yt]),gt>>=Te}else C["VP8LMapColor"+U](ye,Ce,Ze,yt,Be,nt,me,ge,$e)}}function Ut(b,N,U,Q,ne){for(U=N+U;N<U;){var de=b[N++];Q[ne++]=de>>16&255,Q[ne++]=de>>8&255,Q[ne++]=255&de}}function Kt(b,N,U,Q,ne){for(U=N+U;N<U;){var de=b[N++];Q[ne++]=de>>16&255,Q[ne++]=de>>8&255,Q[ne++]=255&de,Q[ne++]=de>>24&255}}function Ct(b,N,U,Q,ne){for(U=N+U;N<U;){var de=(me=b[N++])>>16&240|me>>12&15,me=240&me|me>>28&15;Q[ne++]=de,Q[ne++]=me}}function Mt(b,N,U,Q,ne){for(U=N+U;N<U;){var de=(me=b[N++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;Q[ne++]=de,Q[ne++]=me}}function Pr(b,N,U,Q,ne){for(U=N+U;N<U;){var de=b[N++];Q[ne++]=255&de,Q[ne++]=de>>8&255,Q[ne++]=de>>16&255}}function Zt(b,N,U,Q,ne,de){if(de==0)for(U=N+U;N<U;)Oe(Q,((de=b[N++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),ne+=32;else n(Q,ne,b,N,U)}function wr(b,N){C[N][0]=C[b+"0"],C[N][1]=C[b+"1"],C[N][2]=C[b+"2"],C[N][3]=C[b+"3"],C[N][4]=C[b+"4"],C[N][5]=C[b+"5"],C[N][6]=C[b+"6"],C[N][7]=C[b+"7"],C[N][8]=C[b+"8"],C[N][9]=C[b+"9"],C[N][10]=C[b+"10"],C[N][11]=C[b+"11"],C[N][12]=C[b+"12"],C[N][13]=C[b+"13"],C[N][14]=C[b+"0"],C[N][15]=C[b+"0"]}function _r(b){return b==Yd||b==Yu||b==kh||b==Sh}function Pn(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function $r(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pn,this.f.kb=new pn,this.sd=null}function cr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function na(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function li(b,N){var U=b.T,Q=N.ba.f.RGBA,ne=Q.eb,de=Q.fb+b.ka*Q.A,me=co[N.ba.S],ge=b.y,ye=b.O,Ce=b.f,Be=b.N,nt=b.ea,Te=b.W,$e=N.cc,Ze=N.dc,yt=N.Mc,st=N.Nc,gt=b.ka,vt=b.ka+b.T,bt=b.U,kt=bt+1>>1;for(gt==0?me(ge,ye,null,null,Ce,Be,nt,Te,Ce,Be,nt,Te,ne,de,null,null,bt):(me(N.ec,N.fc,ge,ye,$e,Ze,yt,st,Ce,Be,nt,Te,ne,de-Q.A,ne,de,bt),++U);gt+2<vt;gt+=2)$e=Ce,Ze=Be,yt=nt,st=Te,Be+=b.Rc,Te+=b.Rc,de+=2*Q.A,me(ge,(ye+=2*b.fa)-b.fa,ge,ye,$e,Ze,yt,st,Ce,Be,nt,Te,ne,de-Q.A,ne,de,bt);return ye+=b.fa,b.j+vt<b.o?(n(N.ec,N.fc,ge,ye,bt),n(N.cc,N.dc,Ce,Be,kt),n(N.Mc,N.Nc,nt,Te,kt),U--):1&vt||me(ge,ye,null,null,Ce,Be,nt,Te,Ce,Be,nt,Te,ne,de+Q.A,null,null,bt),U}function Ss(b,N,U){var Q=b.F,ne=[b.J];if(Q!=null){var de=b.U,me=N.ba.S,ge=me==bh||me==kh;N=N.ba.f.RGBA;var ye=[0],Ce=b.ka;ye[0]=b.T,b.Kb&&(Ce==0?--ye[0]:(--Ce,ne[0]-=b.width),b.j+b.ka+b.T==b.o&&(ye[0]=b.o-b.j-Ce));var Be=N.eb;Ce=N.fb+Ce*N.A,b=wh(Q,ne[0],b.width,de,ye,Be,Ce+(ge?0:3),N.A),e(U==ye),b&&_r(me)&&Ku(Be,Ce,ge,de,ye,N.A)}return 0}function ci(b){var N=b.ma,U=N.ba.S,Q=11>U,ne=U==su||U==_h||U==bh||U==Qn||U==12||_r(U);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!Ba(N.Oa,b,ne?11:12))return 0;if(ne&&_r(U)&&eu(),b.da)alert("todo:use_scaling");else{if(Q){if(N.Ib=na,b.Kb){if(U=b.U+1>>1,N.memory=s(b.U+2*U),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+b.U,N.Mc=N.cc,N.Nc=N.dc+U,N.Ib=li,eu()}}else alert("todo:EmitYUV");ne&&(N.Jb=Ss,Q&&Xi())}if(Q&&!ca){for(b=0;256>b;++b)uo[b]=89858*(b-128)+_l>>Sc,fo[b]=-22014*(b-128)+_l,Zd[b]=-45773*(b-128),Zu[b]=113618*(b-128)+_l>>Sc;for(b=$n;b<Wn;++b)N=76283*(b-16)+_l>>Sc,dp[b-$n]=cn(N,255),Sx[b-$n]=cn(N+8>>4,15);ca=1}return 1}function gr(b){var N=b.ma,U=b.U,Q=b.T;return e(!(1&b.ka)),0>=U||0>=Q?0:(U=N.Ib(b,N),N.Jb!=null&&N.Jb(b,N,U),N.Dc+=U,1)}function wn(b){b.ma.memory=null}function Es(b,N,U,Q){return G(b,8)!=47?0:(N[0]=G(b,14)+1,U[0]=G(b,14)+1,Q[0]=G(b,1),G(b,3)!=0?0:!b.h)}function Bn(b,N){if(4>b)return b+1;var U=b-2>>1;return(2+(1&b)<<U)+G(N,U)+1}function tn(b,N){return 120<N?N-120:1<=(U=((U=T4[N-1])>>4)*b+(8-(15&U)))?U:1;var U}function Sn(b,N,U){var Q=X(U),ne=b[N+=255&Q].g-8;return 0<ne&&(ce(U,U.u+8),Q=X(U),N+=b[N].value,N+=Q&(1<<ne)-1),ce(U,U.u+b[N].g),b[N].value}function Xn(b,N,U){return U.g+=b.g,U.value+=b.value<<N>>>0,e(8>=U.g),b.g}function le(b,N,U){var Q=b.xc;return e((N=Q==0?0:b.vc[b.md*(U>>Q)+(N>>Q)])<b.Wb),b.Ya[N]}function Ae(b,N,U,Q){var ne=b.ab,de=b.c*N,me=b.C;N=me+N;var ge=U,ye=Q;for(Q=b.Ta,U=b.Ua;0<ne--;){var Ce=b.gc[ne],Be=me,nt=N,Te=ge,$e=ye,Ze=(ye=Q,ge=U,Ce.Ea);switch(e(Be<nt),e(nt<=Ce.nc),Ce.hc){case 2:$d(Te,$e,(nt-Be)*Ze,ye,ge);break;case 0:var yt=Be,st=nt,gt=ye,vt=ge,bt=(lr=Ce).Ea;yt==0&&(so(Te,$e,null,null,1,gt,vt),ae(Te,$e+1,0,0,bt-1,gt,vt+1),$e+=bt,vt+=bt,++yt);for(var kt=1<<lr.b,mr=kt-1,sr=Ve(bt,lr.b),Hr=lr.K,lr=lr.w+(yt>>lr.b)*sr;yt<st;){var un=Hr,Ui=lr,Gr=1;for(ao(Te,$e,gt,vt-bt,1,gt,vt);Gr<bt;){var ar=(Gr&~mr)+kt;ar>bt&&(ar=bt),(0,kc[un[Ui++]>>8&15])(Te,$e+ +Gr,gt,vt+Gr-bt,ar-Gr,gt,vt+Gr),Gr=ar}$e+=bt,vt+=bt,++yt&mr||(lr+=sr)}nt!=Ce.nc&&n(ye,ge-Ze,ye,ge+(nt-Be-1)*Ze,Ze);break;case 1:for(Ze=Te,st=$e,bt=(Te=Ce.Ea)-(vt=Te&~(gt=($e=1<<Ce.b)-1)),yt=Ve(Te,Ce.b),kt=Ce.K,Ce=Ce.w+(Be>>Ce.b)*yt;Be<nt;){for(mr=kt,sr=Ce,Hr=new Et,lr=st+vt,un=st+Te;st<lr;)We(mr[sr++],Hr),ql(Hr,Ze,st,$e,ye,ge),st+=$e,ge+=$e;st<un&&(We(mr[sr++],Hr),ql(Hr,Ze,st,bt,ye,ge),st+=bt,ge+=bt),++Be&gt||(Ce+=yt)}break;case 3:if(Te==ye&&$e==ge&&0<Ce.b){for(st=ye,Te=Ze=ge+(nt-Be)*Ze-(vt=(nt-Be)*Ve(Ce.Ea,Ce.b)),$e=ye,gt=ge,yt=[],vt=(bt=vt)-1;0<=vt;--vt)yt[vt]=$e[gt+vt];for(vt=bt-1;0<=vt;--vt)st[Te+vt]=yt[vt];iu(Ce,Be,nt,ye,Ze,ye,ge)}else iu(Ce,Be,nt,Te,$e,ye,ge)}ge=Q,ye=U}ye!=U&&n(Q,U,ge,ye,de)}function be(b,N){var U=b.V,Q=b.Ba+b.c*b.C,ne=N-b.C;if(e(N<=b.l.o),e(16>=ne),0<ne){var de=b.l,me=b.Ta,ge=b.Ua,ye=de.width;if(Ae(b,ne,U,Q),ne=ge=[ge],e((U=b.C)<(Q=N)),e(de.v<de.va),Q>de.o&&(Q=de.o),U<de.j){var Ce=de.j-U;U=de.j,ne[0]+=Ce*ye}if(U>=Q?U=0:(ne[0]+=4*de.v,de.ka=U-de.j,de.U=de.va-de.v,de.T=Q-U,U=1),U){if(ge=ge[0],11>(U=b.ca).S){var Be=U.f.RGBA,nt=(Q=U.S,ne=de.U,de=de.T,Ce=Be.eb,Be.A),Te=de;for(Be=Be.fb+b.Ma*Be.A;0<Te--;){var $e=me,Ze=ge,yt=ne,st=Ce,gt=Be;switch(Q){case op:Hd($e,Ze,yt,st,gt);break;case su:oo($e,Ze,yt,st,gt);break;case Yd:oo($e,Ze,yt,st,gt),Ku(st,gt,0,yt,1,0);break;case yx:fi($e,Ze,yt,st,gt);break;case _h:Zt($e,Ze,yt,st,gt,1);break;case Yu:Zt($e,Ze,yt,st,gt,1),Ku(st,gt,0,yt,1,0);break;case bh:Zt($e,Ze,yt,st,gt,0);break;case kh:Zt($e,Ze,yt,st,gt,0),Ku(st,gt,1,yt,1,0);break;case Qn:Hl($e,Ze,yt,st,gt);break;case Sh:Hl($e,Ze,yt,st,gt),wm(st,gt,yt,1,0);break;case lp:di($e,Ze,yt,st,gt);break;default:e(0)}ge+=ye,Be+=nt}b.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=U.height)}}b.C=N,e(b.C<=b.i)}function Se(b){var N;if(0<b.ua)return 0;for(N=0;N<b.Wb;++N){var U=b.Ya[N].G,Q=b.Ya[N].H;if(0<U[1][Q[1]+0].g||0<U[2][Q[2]+0].g||0<U[3][Q[3]+0].g)return 0}return 1}function Pe(b,N,U,Q,ne,de){if(b.Z!=0){var me=b.qd,ge=b.rd;for(e(ba[b.Z]!=null);N<U;++N)ba[b.Z](me,ge,Q,ne,Q,ne,de),me=Q,ge=ne,ne+=de;b.qd=me,b.rd=ge}}function Ie(b,N){var U=b.l.ma,Q=U.Z==0||U.Z==1?b.l.j:b.C;if(Q=b.C<Q?Q:b.C,e(N<=b.l.o),N>Q){var ne=b.l.width,de=U.ca,me=U.tb+ne*Q,ge=b.V,ye=b.Ba+b.c*Q,Ce=b.gc;e(b.ab==1),e(Ce[0].hc==3),Hu(Ce[0],Q,N,ge,ye,de,me),Pe(U,Q,N,de,me,ne)}b.C=b.Ma=N}function Xe(b,N,U,Q,ne,de,me){var ge=b.$/Q,ye=b.$%Q,Ce=b.m,Be=b.s,nt=U+b.$,Te=nt;ne=U+Q*ne;var $e=U+Q*de,Ze=280+Be.ua,yt=b.Pb?ge:16777216,st=0<Be.ua?Be.Wa:null,gt=Be.wc,vt=nt<$e?le(Be,ye,ge):null;e(b.C<de),e($e<=ne);var bt=!1;e:for(;;){for(;bt||nt<$e;){var kt=0;if(ge>=yt){var mr=nt-U;e((yt=b).Pb),yt.wd=yt.m,yt.xd=mr,0<yt.s.ua&&Ye(yt.s.Wa,yt.s.vb),yt=ge+up}if(ye&gt||(vt=le(Be,ye,ge)),e(vt!=null),vt.Qb&&(N[nt]=vt.qb,bt=!0),!bt)if(we(Ce),vt.jc){kt=Ce,mr=N;var sr=nt,Hr=vt.pd[X(kt)&za-1];e(vt.jc),256>Hr.g?(ce(kt,kt.u+Hr.g),mr[sr]=Hr.value,kt=0):(ce(kt,kt.u+Hr.g-256),e(256<=Hr.value),kt=Hr.value),kt==0&&(bt=!0)}else kt=Sn(vt.G[0],vt.H[0],Ce);if(Ce.h)break;if(bt||256>kt){if(!bt)if(vt.nd)N[nt]=(vt.qb|kt<<8)>>>0;else{if(we(Ce),bt=Sn(vt.G[1],vt.H[1],Ce),we(Ce),mr=Sn(vt.G[2],vt.H[2],Ce),sr=Sn(vt.G[3],vt.H[3],Ce),Ce.h)break;N[nt]=(sr<<24|bt<<16|kt<<8|mr)>>>0}if(bt=!1,++nt,++ye>=Q&&(ye=0,++ge,me!=null&&ge<=de&&!(ge%16)&&me(b,ge),st!=null))for(;Te<nt;)kt=N[Te++],st.X[(506832829*kt&4294967295)>>>st.Mb]=kt}else if(280>kt){if(kt=Bn(kt-256,Ce),mr=Sn(vt.G[4],vt.H[4],Ce),we(Ce),mr=tn(Q,mr=Bn(mr,Ce)),Ce.h)break;if(nt-U<mr||ne-nt<kt)break e;for(sr=0;sr<kt;++sr)N[nt+sr]=N[nt+sr-mr];for(nt+=kt,ye+=kt;ye>=Q;)ye-=Q,++ge,me!=null&&ge<=de&&!(ge%16)&&me(b,ge);if(e(nt<=ne),ye&gt&&(vt=le(Be,ye,ge)),st!=null)for(;Te<nt;)kt=N[Te++],st.X[(506832829*kt&4294967295)>>>st.Mb]=kt}else{if(!(kt<Ze))break e;for(bt=kt-280,e(st!=null);Te<nt;)kt=N[Te++],st.X[(506832829*kt&4294967295)>>>st.Mb]=kt;kt=nt,e(!(bt>>>(mr=st).Xa)),N[kt]=mr.X[bt],bt=!0}bt||e(Ce.h==J(Ce))}if(b.Pb&&Ce.h&&nt<ne)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Ye(b.s.vb,b.s.Wa);else{if(Ce.h)break e;me?.(b,ge>de?de:ge),b.a=0,b.$=nt-U}return 1}return b.a=3,0}function dt(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var N=b.Wa;N!=null&&(N.X=null),b.vb=null,e(b!=null)}function tt(){var b=new ui;return b==null?null:(b.a=0,b.xb=Qd,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),$d=Le,ql=lt,Hd=Ut,oo=Kt,Hl=Ct,di=Mt,fi=Pr,C.VP8LMapColor32b=qd,C.VP8LMapColor8b=bc,b)}function et(b,N,U,Q,ne){var de=1,me=[b],ge=[N],ye=Q.m,Ce=Q.s,Be=null,nt=0;e:for(;;){if(U)for(;de&&G(ye,1);){var Te=me,$e=ge,Ze=Q,yt=1,st=Ze.m,gt=Ze.gc[Ze.ab],vt=G(st,2);if(Ze.Oc&1<<vt)de=0;else{switch(Ze.Oc|=1<<vt,gt.hc=vt,gt.Ea=Te[0],gt.nc=$e[0],gt.K=[null],++Ze.ab,e(4>=Ze.ab),vt){case 0:case 1:gt.b=G(st,3)+2,yt=et(Ve(gt.Ea,gt.b),Ve(gt.nc,gt.b),0,Ze,gt.K),gt.K=gt.K[0];break;case 3:var bt,kt=G(st,8)+1,mr=16<kt?0:4<kt?1:2<kt?2:3;if(Te[0]=Ve(gt.Ea,mr),gt.b=mr,bt=yt=et(kt,1,0,Ze,gt.K)){var sr,Hr=kt,lr=gt,un=1<<(8>>lr.b),Ui=s(un);if(Ui==null)bt=0;else{var Gr=lr.K[0],ar=lr.w;for(Ui[0]=lr.K[0][0],sr=1;sr<1*Hr;++sr)Ui[sr]=He(Gr[ar+sr],Ui[sr-1]);for(;sr<4*un;++sr)Ui[sr]=0;lr.K[0]=null,lr.K[0]=Ui,bt=1}}yt=bt;break;case 2:break;default:e(0)}de=yt}}if(me=me[0],ge=ge[0],de&&G(ye,1)&&!(de=1<=(nt=G(ye,4))&&11>=nt)){Q.a=3;break e}var Wt;if(Wt=de)t:{var Zi,jr,an,hi=Q,Ws=me,ds=ge,Ii=nt,As=U,Gs=hi.m,Ci=hi.s,vn=[null],Ln=1,Ni=0,Fn=_x[Ii];r:for(;;){if(As&&G(Gs,1)){var zi=G(Gs,3)+2,$i=Ve(Ws,zi),Jn=Ve(ds,zi),ka=$i*Jn;if(!et($i,Jn,0,hi,vn))break r;for(vn=vn[0],Ci.xc=zi,Zi=0;Zi<ka;++Zi){var Gn=vn[Zi]>>8&65535;vn[Zi]=Gn,Gn>=Ln&&(Ln=Gn+1)}}if(Gs.h)break r;for(jr=0;5>jr;++jr){var Zn=Xu[jr];!jr&&0<Ii&&(Zn+=1<<Ii),Ni<Zn&&(Ni=Zn)}var fs=a(Ln*Fn,B),ua=Ln,ho=a(ua,he);if(ho==null)var es=null;else e(65536>=ua),es=ho;var ts=s(Ni);if(es==null||ts==null||fs==null){hi.a=1;break r}var Sa=fs;for(Zi=an=0;Zi<Ln;++Zi){var ei=es[Zi],Ea=ei.G,Zo=ei.H,bl=0,Ks=1,rs=0;for(jr=0;5>jr;++jr){Zn=Xu[jr],Ea[jr]=Sa,Zo[jr]=an,!jr&&0<Ii&&(Zn+=1<<Ii);i:{var lu,Cc=Zn,ef=hi,Yl=ts,Cx=Sa,Rm=an,yi=0,kl=ef.m,jm=G(kl,1);if(i(Yl,0,0,Cc),jm){var Lm=G(kl,1)+1,fp=G(kl,1),hp=G(kl,fp==0?1:8);Yl[hp]=1,Lm==2&&(Yl[hp=G(kl,8)]=1);var Xl=1}else{var Ti=s(19),hs=G(kl,4)+4;if(19<hs){ef.a=3;var ns=0;break i}for(lu=0;lu<hs;++lu)Ti[N4[lu]]=G(kl,3);var tf=void 0,Nc=void 0,rf=ef,j4=Ti,Is=Cc,pp=Yl,Ah=0,Ql=rf.m,Sl=8,Oo=a(128,B);n:for(;F(Oo,0,7,j4,19);){if(G(Ql,1)){var Ih=2+2*G(Ql,3);if((tf=2+G(Ql,Ih))>Is)break n}else tf=Is;for(Nc=0;Nc<Is&&tf--;){we(Ql);var mp=Oo[0+(127&X(Ql))];ce(Ql,Ql.u+mp.g);var cu=mp.value;if(16>cu)pp[Nc++]=cu,cu!=0&&(Sl=cu);else{var Nx=cu==16,Fm=cu-16,Tx=cp[Fm],Dm=G(Ql,Eh[Fm])+Tx;if(Nc+Dm>Is)break n;for(var Ax=Nx?Sl:0;0<Dm--;)pp[Nc++]=Ax}}Ah=1;break n}Ah||(rf.a=3),Xl=Ah}(Xl=Xl&&!kl.h)&&(yi=F(Cx,Rm,8,Yl,Cc)),Xl&&yi!=0?ns=yi:(ef.a=3,ns=0)}if(ns==0)break r;if(Ks&&wx[jr]==1&&(Ks=Sa[an].g==0),bl+=Sa[an].g,an+=ns,3>=jr){var nf,gp=ts[0];for(nf=1;nf<Zn;++nf)ts[nf]>gp&&(gp=ts[nf]);rs+=gp}}if(ei.nd=Ks,ei.Qb=0,Ks&&(ei.qb=(Ea[3][Zo[3]+0].value<<24|Ea[1][Zo[1]+0].value<<16|Ea[2][Zo[2]+0].value)>>>0,bl==0&&256>Ea[0][Zo[0]+0].value&&(ei.Qb=1,ei.qb+=Ea[0][Zo[0]+0].value<<8)),ei.jc=!ei.Qb&&6>rs,ei.jc){var Ph,Mo=ei;for(Ph=0;Ph<za;++Ph){var Tc=Ph,El=Mo.pd[Tc],td=Mo.G[0][Mo.H[0]+Tc];256<=td.value?(El.g=td.g+256,El.value=td.value):(El.g=0,El.value=0,Tc>>=Xn(td,8,El),Tc>>=Xn(Mo.G[1][Mo.H[1]+Tc],16,El),Tc>>=Xn(Mo.G[2][Mo.H[2]+Tc],0,El),Xn(Mo.G[3][Mo.H[3]+Tc],24,El))}}}Ci.vc=vn,Ci.Wb=Ln,Ci.Ya=es,Ci.yc=fs,Wt=1;break t}Wt=0}if(!(de=Wt)){Q.a=3;break e}if(0<nt){if(Ce.ua=1<<nt,!pe(Ce.Wa,nt)){Q.a=1,de=0;break e}}else Ce.ua=0;var xp=Q,vp=me,Ix=ge,yp=xp.s,wp=yp.xc;if(xp.c=vp,xp.i=Ix,yp.md=Ve(vp,wp),yp.wc=wp==0?-1:(1<<wp)-1,U){Q.xb=Kl;break e}if((Be=s(me*ge))==null){Q.a=1,de=0;break e}de=(de=Xe(Q,Be,0,me,ge,ge,null))&&!ye.h;break e}return de?(ne!=null?ne[0]=Be:(e(Be==null),e(U)),Q.$=0,U||dt(Ce)):dt(Ce),de}function at(b,N){var U=b.c*b.i,Q=U+N+16*N;return e(b.c<=N),b.V=s(Q),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+U+N,1)}function Tt(b,N){var U=b.C,Q=N-U,ne=b.V,de=b.Ba+b.c*U;for(e(N<=b.l.o);0<Q;){var me=16<Q?16:Q,ge=b.l.ma,ye=b.l.width,Ce=ye*me,Be=ge.ca,nt=ge.tb+ye*U,Te=b.Ta,$e=b.Ua;Ae(b,me,ne,de),_m(Te,$e,Be,nt,Ce),Pe(ge,U,U+me,Be,nt,ye),Q-=me,ne+=me*b.c,U+=me}e(U==N),b.C=b.Ma=N}function Vt(){this.ub=this.yd=this.td=this.Rb=0}function Ht(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function It(){this.Yb=(function(){var b=[];return(function N(U,Q,ne){for(var de=ne[Q],me=0;me<de&&(U.push(ne.length>Q+1?[]:0),!(ne.length<Q+1));me++)N(U[me],Q+1,ne)})(b,0,[3,11]),b})()}function br(){this.jb=s(3),this.Wc=o([4,8],It),this.Xc=o([4,17],It)}function qr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Fr(){this.ld=this.La=this.dd=this.tc=0}function mn(){this.Na=this.la=0}function xa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function va(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $s(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fr),this.Y=0,this.ya=Array(new va),this.aa=0,this.l=new Yt}function Fe(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Bt(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Vt,this.Kc=new Ht,this.ed=new qr,this.Qa=new Dt,this.Ic=this.$c=this.Aa=0,this.D=new $s,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,I),this.ia=0,this.pb=a(4,xa),this.Pa=new br,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fe),this.Hd=0,this.rb=Array(new mn),this.sb=0,this.wa=Array(new Fr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new va),this.L=this.aa=0,this.gd=o([4,2],Fr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Yt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function er(){var b=new Bt;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Qu||(Qu=Rn)),b}function hr(b,N,U){return b.a==0&&(b.a=N,b.sc=U,b.cb=0),0}function Qr(b,N,U){return 3<=U&&b[N+0]==157&&b[N+1]==1&&b[N+2]==42}function xi(b,N){if(b==null)return 0;if(b.a=0,b.sc="OK",N==null)return hr(b,2,"null VP8Io passed to VP8GetHeaders()");var U=N.data,Q=N.w,ne=N.ha;if(4>ne)return hr(b,7,"Truncated header.");var de=U[Q+0]|U[Q+1]<<8|U[Q+2]<<16,me=b.Od;if(me.Rb=!(1&de),me.td=de>>1&7,me.yd=de>>4&1,me.ub=de>>5,3<me.td)return hr(b,3,"Incorrect keyframe parameters.");if(!me.yd)return hr(b,4,"Frame not displayable.");Q+=3,ne-=3;var ge=b.Kc;if(me.Rb){if(7>ne)return hr(b,7,"cannot parse picture header");if(!Qr(U,Q,ne))return hr(b,3,"Bad code word");ge.c=16383&(U[Q+4]<<8|U[Q+3]),ge.Td=U[Q+4]>>6,ge.i=16383&(U[Q+6]<<8|U[Q+5]),ge.Ud=U[Q+6]>>6,Q+=7,ne-=7,b.za=ge.c+15>>4,b.Ub=ge.i+15>>4,N.width=ge.c,N.height=ge.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,i((de=b.Pa).jb,0,255,de.jb.length),e((de=b.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(me.ub>ne)return hr(b,7,"bad partition length");ve(de=b.m,U,Q,me.ub),Q+=me.ub,ne-=me.ub,me.Rb&&(ge.Ld=oe(de),ge.Kd=oe(de)),ge=b.Qa;var ye,Ce=b.Pa;if(e(de!=null),e(ge!=null),ge.Cb=oe(de),ge.Cb){if(ge.Bb=oe(de),oe(de)){for(ge.Fb=oe(de),ye=0;4>ye;++ye)ge.Zb[ye]=oe(de)?se(de,7):0;for(ye=0;4>ye;++ye)ge.Lb[ye]=oe(de)?se(de,6):0}if(ge.Bb)for(ye=0;3>ye;++ye)Ce.jb[ye]=oe(de)?fe(de,8):255}else ge.Bb=0;if(de.Ka)return hr(b,3,"cannot parse segment header");if((ge=b.ed).zd=oe(de),ge.Tb=fe(de,6),ge.wb=fe(de,3),ge.Pc=oe(de),ge.Pc&&oe(de)){for(Ce=0;4>Ce;++Ce)oe(de)&&(ge.vd[Ce]=se(de,6));for(Ce=0;4>Ce;++Ce)oe(de)&&(ge.od[Ce]=se(de,6))}if(b.L=ge.Tb==0?0:ge.zd?1:2,de.Ka)return hr(b,3,"cannot parse filter header");var Be=ne;if(ne=ye=Q,Q=ye+Be,ge=Be,b.Xb=(1<<fe(b.m,2))-1,Be<3*(Ce=b.Xb))U=7;else{for(ye+=3*Ce,ge-=3*Ce,Be=0;Be<Ce;++Be){var nt=U[ne+0]|U[ne+1]<<8|U[ne+2]<<16;nt>ge&&(nt=ge),ve(b.Jc[+Be],U,ye,nt),ye+=nt,ge-=nt,ne+=3}ve(b.Jc[+Ce],U,ye,ge),U=ye<Q?0:5}if(U!=0)return hr(b,U,"cannot parse partitions");for(U=fe(ye=b.m,7),ne=oe(ye)?se(ye,4):0,Q=oe(ye)?se(ye,4):0,ge=oe(ye)?se(ye,4):0,Ce=oe(ye)?se(ye,4):0,ye=oe(ye)?se(ye,4):0,Be=b.Qa,nt=0;4>nt;++nt){if(Be.Cb){var Te=Be.Zb[nt];Be.Fb||(Te+=U)}else{if(0<nt){b.pb[nt]=b.pb[0];continue}Te=U}var $e=b.pb[nt];$e.Sc[0]=Xd[cn(Te+ne,127)],$e.Sc[1]=Ch[cn(Te+0,127)],$e.Eb[0]=2*Xd[cn(Te+Q,127)],$e.Eb[1]=101581*Ch[cn(Te+ge,127)]>>16,8>$e.Eb[1]&&($e.Eb[1]=8),$e.Qc[0]=Xd[cn(Te+Ce,117)],$e.Qc[1]=Ch[cn(Te+ye,127)],$e.lc=Te+ye}if(!me.Rb)return hr(b,4,"Not a key frame.");for(oe(de),me=b.Pa,U=0;4>U;++U){for(ne=0;8>ne;++ne)for(Q=0;3>Q;++Q)for(ge=0;11>ge;++ge)Ce=Ee(de,I4[U][ne][Q][ge])?fe(de,8):kx[U][ne][Q][ge],me.Wc[U][ne].Yb[Q][ge]=Ce;for(ne=0;17>ne;++ne)me.Xc[U][ne]=me.Wc[U][Am[ne]]}return b.kc=oe(de),b.kc&&(b.Bd=fe(de,8)),b.cb=1}function Rn(b,N,U,Q,ne,de,me){var ge=N[ne].Yb[U];for(U=0;16>ne;++ne){if(!Ee(b,ge[U+0]))return ne;for(;!Ee(b,ge[U+1]);)if(ge=N[++ne].Yb[0],U=0,ne==16)return 16;var ye=N[ne+1].Yb;if(Ee(b,ge[U+2])){var Ce=b,Be=0;if(Ee(Ce,(Te=ge)[(nt=U)+3]))if(Ee(Ce,Te[nt+6])){for(ge=0,nt=2*(Be=Ee(Ce,Te[nt+8]))+(Te=Ee(Ce,Te[nt+9+Be])),Be=0,Te=Nm[nt];Te[ge];++ge)Be+=Be+Ee(Ce,Te[ge]);Be+=3+(8<<nt)}else Ee(Ce,Te[nt+7])?(Be=7+2*Ee(Ce,165),Be+=Ee(Ce,145)):Be=5+Ee(Ce,159);else Be=Ee(Ce,Te[nt+4])?3+Ee(Ce,Te[nt+5]):2;ge=ye[2]}else Be=1,ge=ye[1];ye=me+Tm[ne],0>(Ce=b).b&&ke(Ce);var nt,Te=Ce.b,$e=(nt=Ce.Ca>>1)-(Ce.I>>Te)>>31;--Ce.b,Ce.Ca+=$e,Ce.Ca|=1,Ce.I-=(nt+1&$e)<<Te,de[ye]=((Be^$e)-$e)*Q[(0<ne)+0]}return 16}function gn(b){var N=b.rb[b.sb-1];N.la=0,N.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function En(b,N,U,Q,ne){ne=b[N+U+32*Q]+(ne>>3),b[N+U+32*Q]=-256&ne?0>ne?0:255:ne}function Oi(b,N,U,Q,ne,de){En(b,N,0,U,Q+ne),En(b,N,1,U,Q+de),En(b,N,2,U,Q-de),En(b,N,3,U,Q-ne)}function rn(b){return(20091*b>>16)+b}function Si(b,N,U,Q){var ne,de=0,me=s(16);for(ne=0;4>ne;++ne){var ge=b[N+0]+b[N+8],ye=b[N+0]-b[N+8],Ce=(35468*b[N+4]>>16)-rn(b[N+12]),Be=rn(b[N+4])+(35468*b[N+12]>>16);me[de+0]=ge+Be,me[de+1]=ye+Ce,me[de+2]=ye-Ce,me[de+3]=ge-Be,de+=4,N++}for(ne=de=0;4>ne;++ne)ge=(b=me[de+0]+4)+me[de+8],ye=b-me[de+8],Ce=(35468*me[de+4]>>16)-rn(me[de+12]),En(U,Q,0,0,ge+(Be=rn(me[de+4])+(35468*me[de+12]>>16))),En(U,Q,1,0,ye+Ce),En(U,Q,2,0,ye-Ce),En(U,Q,3,0,ge-Be),de++,Q+=32}function ya(b,N,U,Q){var ne=b[N+0]+4,de=35468*b[N+4]>>16,me=rn(b[N+4]),ge=35468*b[N+1]>>16;Oi(U,Q,0,ne+me,b=rn(b[N+1]),ge),Oi(U,Q,1,ne+de,b,ge),Oi(U,Q,2,ne-de,b,ge),Oi(U,Q,3,ne-me,b,ge)}function Lo(b,N,U,Q,ne){Si(b,N,U,Q),ne&&Si(b,N+16,U,Q+4)}function Fo(b,N,U,Q){Ji(b,N+0,U,Q,1),Ji(b,N+32,U,Q+128,1)}function nn(b,N,U,Q){var ne;for(b=b[N+0]+4,ne=0;4>ne;++ne)for(N=0;4>N;++N)En(U,Q,N,ne,b)}function hl(b,N,U,Q){b[N+0]&&wl(b,N+0,U,Q),b[N+16]&&wl(b,N+16,U,Q+4),b[N+32]&&wl(b,N+32,U,Q+128),b[N+48]&&wl(b,N+48,U,Q+128+4)}function en(b,N,U,Q){var ne,de=s(16);for(ne=0;4>ne;++ne){var me=b[N+0+ne]+b[N+12+ne],ge=b[N+4+ne]+b[N+8+ne],ye=b[N+4+ne]-b[N+8+ne],Ce=b[N+0+ne]-b[N+12+ne];de[0+ne]=me+ge,de[8+ne]=me-ge,de[4+ne]=Ce+ye,de[12+ne]=Ce-ye}for(ne=0;4>ne;++ne)me=(b=de[0+4*ne]+3)+de[3+4*ne],ge=de[1+4*ne]+de[2+4*ne],ye=de[1+4*ne]-de[2+4*ne],Ce=b-de[3+4*ne],U[Q+0]=me+ge>>3,U[Q+16]=Ce+ye>>3,U[Q+32]=me-ge>>3,U[Q+48]=Ce-ye>>3,Q+=64}function Oa(b,N,U){var Q,ne=N-32,de=$a,me=255-b[ne-1];for(Q=0;Q<U;++Q){var ge,ye=de,Ce=me+b[N-1];for(ge=0;ge<U;++ge)b[N+ge]=ye[Ce+b[ne+ge]];N+=32}}function Xc(b,N){Oa(b,N,4)}function Qc(b,N){Oa(b,N,8)}function Vd(b,N){Oa(b,N,16)}function Bd(b,N){var U;for(U=0;16>U;++U)n(b,N+32*U,b,N-32,16)}function Jc(b,N){var U;for(U=16;0<U;--U)i(b,N,b[N-1],16),N+=32}function pl(b,N,U){var Q;for(Q=0;16>Q;++Q)i(N,U+32*Q,b,16)}function ia(b,N){var U,Q=16;for(U=0;16>U;++U)Q+=b[N-1+32*U]+b[N+U-32];pl(Q>>5,b,N)}function Cs(b,N){var U,Q=8;for(U=0;16>U;++U)Q+=b[N-1+32*U];pl(Q>>4,b,N)}function sa(b,N){var U,Q=8;for(U=0;16>U;++U)Q+=b[N+U-32];pl(Q>>4,b,N)}function Ma(b,N){pl(128,b,N)}function Cr(b,N,U){return b+2*N+U+2>>2}function to(b,N){var U,Q=N-32;for(Q=new Uint8Array([Cr(b[Q-1],b[Q+0],b[Q+1]),Cr(b[Q+0],b[Q+1],b[Q+2]),Cr(b[Q+1],b[Q+2],b[Q+3]),Cr(b[Q+2],b[Q+3],b[Q+4])]),U=0;4>U;++U)n(b,N+32*U,Q,0,Q.length)}function Go(b,N){var U=b[N-1],Q=b[N-1+32],ne=b[N-1+64],de=b[N-1+96];Oe(b,N+0,16843009*Cr(b[N-1-32],U,Q)),Oe(b,N+32,16843009*Cr(U,Q,ne)),Oe(b,N+64,16843009*Cr(Q,ne,de)),Oe(b,N+96,16843009*Cr(ne,de,de))}function xh(b,N){var U,Q=4;for(U=0;4>U;++U)Q+=b[N+U-32]+b[N-1+32*U];for(Q>>=3,U=0;4>U;++U)i(b,N+32*U,Q,4)}function Ud(b,N){var U=b[N-1+0],Q=b[N-1+32],ne=b[N-1+64],de=b[N-1-32],me=b[N+0-32],ge=b[N+1-32],ye=b[N+2-32],Ce=b[N+3-32];b[N+0+96]=Cr(Q,ne,b[N-1+96]),b[N+1+96]=b[N+0+64]=Cr(U,Q,ne),b[N+2+96]=b[N+1+64]=b[N+0+32]=Cr(de,U,Q),b[N+3+96]=b[N+2+64]=b[N+1+32]=b[N+0+0]=Cr(me,de,U),b[N+3+64]=b[N+2+32]=b[N+1+0]=Cr(ge,me,de),b[N+3+32]=b[N+2+0]=Cr(ye,ge,me),b[N+3+0]=Cr(Ce,ye,ge)}function Mi(b,N){var U=b[N+1-32],Q=b[N+2-32],ne=b[N+3-32],de=b[N+4-32],me=b[N+5-32],ge=b[N+6-32],ye=b[N+7-32];b[N+0+0]=Cr(b[N+0-32],U,Q),b[N+1+0]=b[N+0+32]=Cr(U,Q,ne),b[N+2+0]=b[N+1+32]=b[N+0+64]=Cr(Q,ne,de),b[N+3+0]=b[N+2+32]=b[N+1+64]=b[N+0+96]=Cr(ne,de,me),b[N+3+32]=b[N+2+64]=b[N+1+96]=Cr(de,me,ge),b[N+3+64]=b[N+2+96]=Cr(me,ge,ye),b[N+3+96]=Cr(ge,ye,ye)}function ml(b,N){var U=b[N-1+0],Q=b[N-1+32],ne=b[N-1+64],de=b[N-1-32],me=b[N+0-32],ge=b[N+1-32],ye=b[N+2-32],Ce=b[N+3-32];b[N+0+0]=b[N+1+64]=de+me+1>>1,b[N+1+0]=b[N+2+64]=me+ge+1>>1,b[N+2+0]=b[N+3+64]=ge+ye+1>>1,b[N+3+0]=ye+Ce+1>>1,b[N+0+96]=Cr(ne,Q,U),b[N+0+64]=Cr(Q,U,de),b[N+0+32]=b[N+1+96]=Cr(U,de,me),b[N+1+32]=b[N+2+96]=Cr(de,me,ge),b[N+2+32]=b[N+3+96]=Cr(me,ge,ye),b[N+3+32]=Cr(ge,ye,Ce)}function zd(b,N){var U=b[N+0-32],Q=b[N+1-32],ne=b[N+2-32],de=b[N+3-32],me=b[N+4-32],ge=b[N+5-32],ye=b[N+6-32],Ce=b[N+7-32];b[N+0+0]=U+Q+1>>1,b[N+1+0]=b[N+0+64]=Q+ne+1>>1,b[N+2+0]=b[N+1+64]=ne+de+1>>1,b[N+3+0]=b[N+2+64]=de+me+1>>1,b[N+0+32]=Cr(U,Q,ne),b[N+1+32]=b[N+0+96]=Cr(Q,ne,de),b[N+2+32]=b[N+1+96]=Cr(ne,de,me),b[N+3+32]=b[N+2+96]=Cr(de,me,ge),b[N+3+64]=Cr(me,ge,ye),b[N+3+96]=Cr(ge,ye,Ce)}function gl(b,N){var U=b[N-1+0],Q=b[N-1+32],ne=b[N-1+64],de=b[N-1+96];b[N+0+0]=U+Q+1>>1,b[N+2+0]=b[N+0+32]=Q+ne+1>>1,b[N+2+32]=b[N+0+64]=ne+de+1>>1,b[N+1+0]=Cr(U,Q,ne),b[N+3+0]=b[N+1+32]=Cr(Q,ne,de),b[N+3+32]=b[N+1+64]=Cr(ne,de,de),b[N+3+64]=b[N+2+64]=b[N+0+96]=b[N+1+96]=b[N+2+96]=b[N+3+96]=de}function Ko(b,N){var U=b[N-1+0],Q=b[N-1+32],ne=b[N-1+64],de=b[N-1+96],me=b[N-1-32],ge=b[N+0-32],ye=b[N+1-32],Ce=b[N+2-32];b[N+0+0]=b[N+2+32]=U+me+1>>1,b[N+0+32]=b[N+2+64]=Q+U+1>>1,b[N+0+64]=b[N+2+96]=ne+Q+1>>1,b[N+0+96]=de+ne+1>>1,b[N+3+0]=Cr(ge,ye,Ce),b[N+2+0]=Cr(me,ge,ye),b[N+1+0]=b[N+3+32]=Cr(U,me,ge),b[N+1+32]=b[N+3+64]=Cr(Q,U,me),b[N+1+64]=b[N+3+96]=Cr(ne,Q,U),b[N+1+96]=Cr(de,ne,Q)}function Zc(b,N){var U;for(U=0;8>U;++U)n(b,N+32*U,b,N-32,8)}function aa(b,N){var U;for(U=0;8>U;++U)i(b,N,b[N-1],8),N+=32}function wa(b,N,U){var Q;for(Q=0;8>Q;++Q)i(N,U+32*Q,b,8)}function ro(b,N){var U,Q=8;for(U=0;8>U;++U)Q+=b[N+U-32]+b[N-1+32*U];wa(Q>>4,b,N)}function Ul(b,N){var U,Q=4;for(U=0;8>U;++U)Q+=b[N+U-32];wa(Q>>3,b,N)}function qn(b,N){var U,Q=4;for(U=0;8>U;++U)Q+=b[N-1+32*U];wa(Q>>3,b,N)}function $u(b,N){wa(128,b,N)}function xl(b,N,U){var Q=b[N-U],ne=b[N+0],de=3*(ne-Q)+Gl[1020+b[N-2*U]-b[N+U]],me=Kd[112+(de+4>>3)];b[N-U]=$a[255+Q+Kd[112+(de+3>>3)]],b[N+0]=$a[255+ne-me]}function Do(b,N,U,Q){var ne=b[N+0],de=b[N+U];return Qo[255+b[N-2*U]-b[N-U]]>Q||Qo[255+de-ne]>Q}function zl(b,N,U,Q){return 4*Qo[255+b[N-U]-b[N+0]]+Qo[255+b[N-2*U]-b[N+U]]<=Q}function $l(b,N,U,Q,ne){var de=b[N-3*U],me=b[N-2*U],ge=b[N-U],ye=b[N+0],Ce=b[N+U],Be=b[N+2*U],nt=b[N+3*U];return 4*Qo[255+ge-ye]+Qo[255+me-Ce]>Q?0:Qo[255+b[N-4*U]-de]<=ne&&Qo[255+de-me]<=ne&&Qo[255+me-ge]<=ne&&Qo[255+nt-Be]<=ne&&Qo[255+Be-Ce]<=ne&&Qo[255+Ce-ye]<=ne}function oa(b,N,U,Q){var ne=2*Q+1;for(Q=0;16>Q;++Q)zl(b,N+Q,U,ne)&&xl(b,N+Q,U)}function Yo(b,N,U,Q){var ne=2*Q+1;for(Q=0;16>Q;++Q)zl(b,N+Q*U,1,ne)&&xl(b,N+Q*U,1)}function qs(b,N,U,Q){var ne;for(ne=3;0<ne;--ne)oa(b,N+=4*U,U,Q)}function wc(b,N,U,Q){var ne;for(ne=3;0<ne;--ne)Yo(b,N+=4,U,Q)}function Hs(b,N,U,Q,ne,de,me,ge){for(de=2*de+1;0<ne--;){if($l(b,N,U,de,me))if(Do(b,N,U,ge))xl(b,N,U);else{var ye=b,Ce=N,Be=U,nt=ye[Ce-2*Be],Te=ye[Ce-Be],$e=ye[Ce+0],Ze=ye[Ce+Be],yt=ye[Ce+2*Be],st=27*(vt=Gl[1020+3*($e-Te)+Gl[1020+nt-Ze]])+63>>7,gt=18*vt+63>>7,vt=9*vt+63>>7;ye[Ce-3*Be]=$a[255+ye[Ce-3*Be]+vt],ye[Ce-2*Be]=$a[255+nt+gt],ye[Ce-Be]=$a[255+Te+st],ye[Ce+0]=$a[255+$e-st],ye[Ce+Be]=$a[255+Ze-gt],ye[Ce+2*Be]=$a[255+yt-vt]}N+=Q}}function Ns(b,N,U,Q,ne,de,me,ge){for(de=2*de+1;0<ne--;){if($l(b,N,U,de,me))if(Do(b,N,U,ge))xl(b,N,U);else{var ye=b,Ce=N,Be=U,nt=ye[Ce-Be],Te=ye[Ce+0],$e=ye[Ce+Be],Ze=Kd[112+(4+(yt=3*(Te-nt))>>3)],yt=Kd[112+(yt+3>>3)],st=Ze+1>>1;ye[Ce-2*Be]=$a[255+ye[Ce-2*Be]+st],ye[Ce-Be]=$a[255+nt+yt],ye[Ce+0]=$a[255+Te-Ze],ye[Ce+Be]=$a[255+$e-st]}N+=Q}}function M(b,N,U,Q,ne,de){Hs(b,N,U,1,16,Q,ne,de)}function te(b,N,U,Q,ne,de){Hs(b,N,1,U,16,Q,ne,de)}function Ne(b,N,U,Q,ne,de){var me;for(me=3;0<me;--me)Ns(b,N+=4*U,U,1,16,Q,ne,de)}function Me(b,N,U,Q,ne,de){var me;for(me=3;0<me;--me)Ns(b,N+=4,1,U,16,Q,ne,de)}function Ge(b,N,U,Q,ne,de,me,ge){Hs(b,N,ne,1,8,de,me,ge),Hs(U,Q,ne,1,8,de,me,ge)}function _t(b,N,U,Q,ne,de,me,ge){Hs(b,N,1,ne,8,de,me,ge),Hs(U,Q,1,ne,8,de,me,ge)}function Nt(b,N,U,Q,ne,de,me,ge){Ns(b,N+4*ne,ne,1,8,de,me,ge),Ns(U,Q+4*ne,ne,1,8,de,me,ge)}function Jt(b,N,U,Q,ne,de,me,ge){Ns(b,N+4,1,ne,8,de,me,ge),Ns(U,Q+4,1,ne,8,de,me,ge)}function ir(){this.ba=new $r,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xn(){this.ua=0,this.Wa=new ze,this.vb=new ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new B}function ui(){this.xb=this.a=0,this.l=new Yt,this.ca=new $r,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xn,this.ab=0,this.gc=a(4,Rr),this.Oc=0}function vi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Yt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cn(b,N,U,Q,ne,de,me){for(b=b==null?0:b[N+0],N=0;N<me;++N)ne[de+N]=b+U[Q+N]&255,b=ne[de+N]}function Vi(b,N,U,Q,ne,de,me){var ge;if(b==null)Cn(null,null,U,Q,ne,de,me);else for(ge=0;ge<me;++ge)ne[de+ge]=b[N+ge]+U[Q+ge]&255}function Hn(b,N,U,Q,ne,de,me){if(b==null)Cn(null,null,U,Q,ne,de,me);else{var ge,ye=b[N+0],Ce=ye,Be=ye;for(ge=0;ge<me;++ge)Ce=Be+(ye=b[N+ge])-Ce,Be=U[Q+ge]+(-256&Ce?0>Ce?0:255:Ce)&255,Ce=ye,ne[de+ge]=Be}}function us(b,N,U,Q){var ne=N.width,de=N.o;if(e(b!=null&&N!=null),0>U||0>=Q||U+Q>de)return null;if(!b.Cc){if(b.ga==null){var me;if(b.ga=new vi,(me=b.ga==null)||(me=N.width*N.o,e(b.Gb.length==0),b.Gb=s(me),b.Uc=0,b.Gb==null?me=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,me=1),me=!me),!me){me=b.ga;var ge=b.Fa,ye=b.P,Ce=b.qc,Be=b.mb,nt=b.nb,Te=ye+1,$e=Ce-1,Ze=me.l;if(e(ge!=null&&Be!=null&&N!=null),ba[0]=null,ba[1]=Cn,ba[2]=Vi,ba[3]=Hn,me.ca=Be,me.tb=nt,me.c=N.width,me.i=N.height,e(0<me.c&&0<me.i),1>=Ce)N=0;else if(me.$a=3&ge[ye+0],me.Z=ge[ye+0]>>2&3,me.Lc=ge[ye+0]>>4&3,ye=ge[ye+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||ye)N=0;else if(Ze.put=gr,Ze.ac=ci,Ze.bc=wn,Ze.ma=me,Ze.width=N.width,Ze.height=N.height,Ze.Da=N.Da,Ze.v=N.v,Ze.va=N.va,Ze.j=N.j,Ze.o=N.o,me.$a)e:{e(me.$a==1),N=tt();t:for(;;){if(N==null){N=0;break e}if(e(me!=null),me.mc=N,N.c=me.c,N.i=me.i,N.l=me.l,N.l.ma=me,N.l.width=me.c,N.l.height=me.i,N.a=0,Y(N.m,ge,Te,$e),!et(me.c,me.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&Se(N.s)?(me.ic=1,ge=N.c*N.i,N.Ta=null,N.Ua=0,N.V=s(ge),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(me.ic=0,N=at(N,me.c)),!N))break t;N=1;break e}me.mc=null,N=0}else N=$e>=me.c*me.i;me=!N}if(me)return null;b.ga.Lc!=1?b.Ga=0:Q=de-U}e(b.ga!=null),e(U+Q<=de);e:{if(N=(ge=b.ga).c,de=ge.l.o,ge.$a==0){if(Te=b.rc,$e=b.Vc,Ze=b.Fa,ye=b.P+1+U*N,Ce=b.mb,Be=b.nb+U*N,e(ye<=b.P+b.qc),ge.Z!=0)for(e(ba[ge.Z]!=null),me=0;me<Q;++me)ba[ge.Z](Te,$e,Ze,ye,Ce,Be,N),Te=Ce,$e=Be,Be+=N,ye+=N;else for(me=0;me<Q;++me)n(Ce,Be,Ze,ye,N),Te=Ce,$e=Be,Be+=N,ye+=N;b.rc=Te,b.Vc=$e}else{if(e(ge.mc!=null),N=U+Q,e((me=ge.mc)!=null),e(N<=me.i),me.C>=N)N=1;else if(ge.ic||Xi(),ge.ic){ge=me.V,Te=me.Ba,$e=me.c;var yt=me.i,st=(Ze=1,ye=me.$/$e,Ce=me.$%$e,Be=me.m,nt=me.s,me.$),gt=$e*yt,vt=$e*N,bt=nt.wc,kt=st<vt?le(nt,Ce,ye):null;e(st<=gt),e(N<=yt),e(Se(nt));t:for(;;){for(;!Be.h&&st<vt;){if(Ce&bt||(kt=le(nt,Ce,ye)),e(kt!=null),we(Be),256>(yt=Sn(kt.G[0],kt.H[0],Be)))ge[Te+st]=yt,++st,++Ce>=$e&&(Ce=0,++ye<=N&&!(ye%16)&&Ie(me,ye));else{if(!(280>yt)){Ze=0;break t}yt=Bn(yt-256,Be);var mr,sr=Sn(kt.G[4],kt.H[4],Be);if(we(Be),!(st>=(sr=tn($e,sr=Bn(sr,Be)))&&gt-st>=yt)){Ze=0;break t}for(mr=0;mr<yt;++mr)ge[Te+st+mr]=ge[Te+st+mr-sr];for(st+=yt,Ce+=yt;Ce>=$e;)Ce-=$e,++ye<=N&&!(ye%16)&&Ie(me,ye);st<vt&&Ce&bt&&(kt=le(nt,Ce,ye))}e(Be.h==J(Be))}Ie(me,ye>N?N:ye);break t}!Ze||Be.h&&st<gt?(Ze=0,me.a=Be.h?5:3):me.$=st,N=Ze}else N=Xe(me,me.V,me.Ba,me.c,me.i,N,Tt);if(!N){Q=0;break e}}U+Q>=de&&(b.Cc=1),Q=1}if(!Q)return null;if(b.Cc&&((Q=b.ga)!=null&&(Q.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+U*ne}function Xo(b,N,U,Q,ne,de){for(;0<ne--;){var me,ge=b,ye=N+(U?1:0),Ce=b,Be=N+(U?0:3);for(me=0;me<Q;++me){var nt=Ce[Be+4*me];nt!=255&&(nt*=32897,ge[ye+4*me+0]=ge[ye+4*me+0]*nt>>23,ge[ye+4*me+1]=ge[ye+4*me+1]*nt>>23,ge[ye+4*me+2]=ge[ye+4*me+2]*nt>>23)}N+=de}}function vl(b,N,U,Q,ne){for(;0<Q--;){var de;for(de=0;de<U;++de){var me=b[N+2*de+0],ge=15&(Ce=b[N+2*de+1]),ye=4369*ge,Ce=(240&Ce|Ce>>4)*ye>>16;b[N+2*de+0]=(240&me|me>>4)*ye>>16&240|(15&me|me<<4)*ye>>16>>4&15,b[N+2*de+1]=240&Ce|ge}N+=ne}}function qu(b,N,U,Q,ne,de,me,ge){var ye,Ce,Be=255;for(Ce=0;Ce<ne;++Ce){for(ye=0;ye<Q;++ye){var nt=b[N+ye];de[me+4*ye]=nt,Be&=nt}N+=U,me+=ge}return Be!=255}function _c(b,N,U,Q,ne){var de;for(de=0;de<ne;++de)U[Q+de]=b[N+de]>>8}function Xi(){Ku=Xo,wm=vl,wh=qu,_m=_c}function no(b,N,U){C[b]=function(Q,ne,de,me,ge,ye,Ce,Be,nt,Te,$e,Ze,yt,st,gt,vt,bt){var kt,mr=bt-1>>1,sr=ge[ye+0]|Ce[Be+0]<<16,Hr=nt[Te+0]|$e[Ze+0]<<16;e(Q!=null);var lr=3*sr+Hr+131074>>2;for(N(Q[ne+0],255&lr,lr>>16,yt,st),de!=null&&(lr=3*Hr+sr+131074>>2,N(de[me+0],255&lr,lr>>16,gt,vt)),kt=1;kt<=mr;++kt){var un=ge[ye+kt]|Ce[Be+kt]<<16,Ui=nt[Te+kt]|$e[Ze+kt]<<16,Gr=sr+un+Hr+Ui+524296,ar=Gr+2*(un+Hr)>>3;lr=ar+sr>>1,sr=(Gr=Gr+2*(sr+Ui)>>3)+un>>1,N(Q[ne+2*kt-1],255&lr,lr>>16,yt,st+(2*kt-1)*U),N(Q[ne+2*kt-0],255&sr,sr>>16,yt,st+(2*kt-0)*U),de!=null&&(lr=Gr+Hr>>1,sr=ar+Ui>>1,N(de[me+2*kt-1],255&lr,lr>>16,gt,vt+(2*kt-1)*U),N(de[me+2*kt+0],255&sr,sr>>16,gt,vt+(2*kt+0)*U)),sr=un,Hr=Ui}1&bt||(lr=3*sr+Hr+131074>>2,N(Q[ne+bt-1],255&lr,lr>>16,yt,st+(bt-1)*U),de!=null&&(lr=3*Hr+sr+131074>>2,N(de[me+bt-1],255&lr,lr>>16,gt,vt+(bt-1)*U)))}}function eu(){co[op]=P4,co[su]=au,co[yx]=R4,co[_h]=Jd,co[bh]=Ju,co[Qn]=Nh,co[lp]=Im,co[Yd]=au,co[Yu]=Jd,co[kh]=Ju,co[Sh]=Nh}function Va(b){return b&-16384?0>b?0:255:b>>ou}function k(b,N){return Va((19077*b>>8)+(26149*N>>8)-14234)}function q(b,N,U){return Va((19077*b>>8)-(6419*N>>8)-(13320*U>>8)+8708)}function Z(b,N){return Va((19077*b>>8)+(33050*N>>8)-17685)}function xe(b,N,U,Q,ne){Q[ne+0]=k(b,U),Q[ne+1]=q(b,N,U),Q[ne+2]=Z(b,N)}function Je(b,N,U,Q,ne){Q[ne+0]=Z(b,N),Q[ne+1]=q(b,N,U),Q[ne+2]=k(b,U)}function mt(b,N,U,Q,ne){var de=q(b,N,U);N=de<<3&224|Z(b,N)>>3,Q[ne+0]=248&k(b,U)|de>>5,Q[ne+1]=N}function Ft(b,N,U,Q,ne){var de=240&Z(b,N)|15;Q[ne+0]=240&k(b,U)|q(b,N,U)>>4,Q[ne+1]=de}function Tn(b,N,U,Q,ne){Q[ne+0]=255,xe(b,N,U,Q,ne+1)}function Ei(b,N,U,Q,ne){Je(b,N,U,Q,ne),Q[ne+3]=255}function sn(b,N,U,Q,ne){xe(b,N,U,Q,ne),Q[ne+3]=255}function cn(b,N){return 0>b?0:b>N?N:b}function jn(b,N,U){C[b]=function(Q,ne,de,me,ge,ye,Ce,Be,nt){for(var Te=Be+(-2&nt)*U;Be!=Te;)N(Q[ne+0],de[me+0],ge[ye+0],Ce,Be),N(Q[ne+1],de[me+0],ge[ye+0],Ce,Be+U),ne+=2,++me,++ye,Be+=2*U;1&nt&&N(Q[ne+0],de[me+0],ge[ye+0],Ce,Be)}}function _a(b,N,U){return U==0?b==0?N==0?6:5:N==0?4:0:U}function la(b,N,U,Q,ne){switch(b>>>30){case 3:Ji(N,U,Q,ne,0);break;case 2:Ts(N,U,Q,ne);break;case 1:wl(N,U,Q,ne)}}function io(b,N){var U,Q,ne=N.M,de=N.Nb,me=b.oc,ge=b.pc+40,ye=b.oc,Ce=b.pc+584,Be=b.oc,nt=b.pc+600;for(U=0;16>U;++U)me[ge+32*U-1]=129;for(U=0;8>U;++U)ye[Ce+32*U-1]=129,Be[nt+32*U-1]=129;for(0<ne?me[ge-1-32]=ye[Ce-1-32]=Be[nt-1-32]=129:(i(me,ge-32-1,127,21),i(ye,Ce-32-1,127,9),i(Be,nt-32-1,127,9)),Q=0;Q<b.za;++Q){var Te=N.ya[N.aa+Q];if(0<Q){for(U=-1;16>U;++U)n(me,ge+32*U-4,me,ge+32*U+12,4);for(U=-1;8>U;++U)n(ye,Ce+32*U-4,ye,Ce+32*U+4,4),n(Be,nt+32*U-4,Be,nt+32*U+4,4)}var $e=b.Gd,Ze=b.Hd+Q,yt=Te.ad,st=Te.Hc;if(0<ne&&(n(me,ge-32,$e[Ze].y,0,16),n(ye,Ce-32,$e[Ze].f,0,8),n(Be,nt-32,$e[Ze].ea,0,8)),Te.Za){var gt=me,vt=ge-32+16;for(0<ne&&(Q>=b.za-1?i(gt,vt,$e[Ze].y[15],4):n(gt,vt,$e[Ze+1].y,0,4)),U=0;4>U;U++)gt[vt+128+U]=gt[vt+256+U]=gt[vt+384+U]=gt[vt+0+U];for(U=0;16>U;++U,st<<=2)gt=me,vt=ge+Pm[U],Jo[Te.Ob[U]](gt,vt),la(st,yt,16*+U,gt,vt)}else if(gt=_a(Q,ne,Te.Ob[0]),qa[gt](me,ge),st!=0)for(U=0;16>U;++U,st<<=2)la(st,yt,16*+U,me,ge+Pm[U]);for(U=Te.Gc,gt=_a(Q,ne,Te.Dd),lo[gt](ye,Ce),lo[gt](Be,nt),st=yt,gt=ye,vt=Ce,255&(Te=0|U)&&(170&Te?Wl(st,256,gt,vt):Wd(st,256,gt,vt)),Te=Be,st=nt,255&(U>>=8)&&(170&U?Wl(yt,320,Te,st):Wd(yt,320,Te,st)),ne<b.Ub-1&&(n($e[Ze].y,0,me,ge+480,16),n($e[Ze].f,0,ye,Ce+224,8),n($e[Ze].ea,0,Be,nt+224,8)),U=8*de*b.B,$e=b.sa,Ze=b.ta+16*Q+16*de*b.R,yt=b.qa,Te=b.ra+8*Q+U,st=b.Ha,gt=b.Ia+8*Q+U,U=0;16>U;++U)n($e,Ze+U*b.R,me,ge+32*U,16);for(U=0;8>U;++U)n(yt,Te+U*b.B,ye,Ce+32*U,8),n(st,gt+U*b.B,Be,nt+32*U,8)}}function yl(b,N,U,Q,ne,de,me,ge,ye){var Ce=[0],Be=[0],nt=0,Te=ye!=null?ye.kd:0,$e=ye??new kr;if(b==null||12>U)return 7;$e.data=b,$e.w=N,$e.ha=U,N=[N],U=[U],$e.gb=[$e.gb];e:{var Ze=N,yt=U,st=$e.gb;if(e(b!=null),e(yt!=null),e(st!=null),st[0]=0,12<=yt[0]&&!r(b,Ze[0],"RIFF")){if(r(b,Ze[0]+8,"WEBP")){st=3;break e}var gt=Re(b,Ze[0]+4);if(12>gt||4294967286<gt){st=3;break e}if(Te&&gt>yt[0]-8){st=7;break e}st[0]=gt,Ze[0]+=12,yt[0]-=12}st=0}if(st!=0)return st;for(gt=0<$e.gb[0],U=U[0];;){e:{var vt=b;yt=N,st=U;var bt=Ce,kt=Be,mr=Ze=[0];if((lr=nt=[nt])[0]=0,8>st[0])st=7;else{if(!r(vt,yt[0],"VP8X")){if(Re(vt,yt[0]+4)!=10){st=3;break e}if(18>st[0]){st=7;break e}var sr=Re(vt,yt[0]+8),Hr=1+_e(vt,yt[0]+12);if(2147483648<=Hr*(vt=1+_e(vt,yt[0]+15))){st=3;break e}mr!=null&&(mr[0]=sr),bt!=null&&(bt[0]=Hr),kt!=null&&(kt[0]=vt),yt[0]+=18,st[0]-=18,lr[0]=1}st=0}}if(nt=nt[0],Ze=Ze[0],st!=0)return st;if(yt=!!(2&Ze),!gt&&nt)return 3;if(de!=null&&(de[0]=!!(16&Ze)),me!=null&&(me[0]=yt),ge!=null&&(ge[0]=0),me=Ce[0],Ze=Be[0],nt&&yt&&ye==null){st=0;break}if(4>U){st=7;break}if(gt&&nt||!gt&&!nt&&!r(b,N[0],"ALPH")){U=[U],$e.na=[$e.na],$e.P=[$e.P],$e.Sa=[$e.Sa];e:{sr=b,st=N,gt=U;var lr=$e.gb;bt=$e.na,kt=$e.P,mr=$e.Sa,Hr=22,e(sr!=null),e(gt!=null),vt=st[0];var un=gt[0];for(e(bt!=null),e(mr!=null),bt[0]=null,kt[0]=null,mr[0]=0;;){if(st[0]=vt,gt[0]=un,8>un){st=7;break e}var Ui=Re(sr,vt+4);if(4294967286<Ui){st=3;break e}var Gr=8+Ui+1&-2;if(Hr+=Gr,0<lr&&Hr>lr){st=3;break e}if(!r(sr,vt,"VP8 ")||!r(sr,vt,"VP8L")){st=0;break e}if(un[0]<Gr){st=7;break e}r(sr,vt,"ALPH")||(bt[0]=sr,kt[0]=vt+8,mr[0]=Ui),vt+=Gr,un-=Gr}}if(U=U[0],$e.na=$e.na[0],$e.P=$e.P[0],$e.Sa=$e.Sa[0],st!=0)break}U=[U],$e.Ja=[$e.Ja],$e.xa=[$e.xa];e:if(lr=b,st=N,gt=U,bt=$e.gb[0],kt=$e.Ja,mr=$e.xa,sr=st[0],vt=!r(lr,sr,"VP8 "),Hr=!r(lr,sr,"VP8L"),e(lr!=null),e(gt!=null),e(kt!=null),e(mr!=null),8>gt[0])st=7;else{if(vt||Hr){if(lr=Re(lr,sr+4),12<=bt&&lr>bt-12){st=3;break e}if(Te&&lr>gt[0]-8){st=7;break e}kt[0]=lr,st[0]+=8,gt[0]-=8,mr[0]=Hr}else mr[0]=5<=gt[0]&&lr[sr+0]==47&&!(lr[sr+4]>>5),kt[0]=gt[0];st=0}if(U=U[0],$e.Ja=$e.Ja[0],$e.xa=$e.xa[0],N=N[0],st!=0)break;if(4294967286<$e.Ja)return 3;if(ge==null||yt||(ge[0]=$e.xa?2:1),me=[me],Ze=[Ze],$e.xa){if(5>U){st=7;break}ge=me,Te=Ze,yt=de,b==null||5>U?b=0:5<=U&&b[N+0]==47&&!(b[N+4]>>5)?(gt=[0],lr=[0],bt=[0],Y(kt=new z,b,N,U),Es(kt,gt,lr,bt)?(ge!=null&&(ge[0]=gt[0]),Te!=null&&(Te[0]=lr[0]),yt!=null&&(yt[0]=bt[0]),b=1):b=0):b=0}else{if(10>U){st=7;break}ge=Ze,b==null||10>U||!Qr(b,N+3,U-3)?b=0:(Te=b[N+0]|b[N+1]<<8|b[N+2]<<16,yt=16383&(b[N+7]<<8|b[N+6]),b=16383&(b[N+9]<<8|b[N+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=$e.Ja||!yt||!b?b=0:(me&&(me[0]=yt),ge&&(ge[0]=b),b=1))}if(!b||(me=me[0],Ze=Ze[0],nt&&(Ce[0]!=me||Be[0]!=Ze)))return 3;ye!=null&&(ye[0]=$e,ye.offset=N-ye.w,e(4294967286>N-ye.w),e(ye.offset==ye.ha-U));break}return st==0||st==7&&nt&&ye==null?(de!=null&&(de[0]|=$e.na!=null&&0<$e.na.length),Q!=null&&(Q[0]=me),ne!=null&&(ne[0]=Ze),0):st}function Ba(b,N,U){var Q=N.width,ne=N.height,de=0,me=0,ge=Q,ye=ne;if(N.Da=b!=null&&0<b.Da,N.Da&&(ge=b.cd,ye=b.bd,de=b.v,me=b.j,11>U||(de&=-2,me&=-2),0>de||0>me||0>=ge||0>=ye||de+ge>Q||me+ye>ne))return 0;if(N.v=de,N.j=me,N.va=de+ge,N.o=me+ye,N.U=ge,N.T=ye,N.da=b!=null&&0<b.da,N.da){if(!ot(ge,ye,U=[b.ib],de=[b.hb]))return 0;N.ib=U[0],N.hb=de[0]}return N.ob=b!=null&&b.ob,N.Kb=b==null||!b.Sd,N.da&&(N.ob=N.ib<3*Q/4&&N.hb<3*ne/4,N.Kb=0),1}function Ua(b){if(b==null)return 2;if(11>b.S){var N=b.f.RGBA;N.fb+=(b.height-1)*N.A,N.A=-N.A}else N=b.f.kb,b=b.height,N.O+=(b-1)*N.fa,N.fa=-N.fa,N.N+=(b-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(b-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(b-1)*N.lb,N.lb=-N.lb);return 0}function tu(b,N,U,Q){if(Q==null||0>=b||0>=N)return 2;if(U!=null){if(U.Da){var ne=U.cd,de=U.bd,me=-2&U.v,ge=-2&U.j;if(0>me||0>ge||0>=ne||0>=de||me+ne>b||ge+de>N)return 2;b=ne,N=de}if(U.da){if(!ot(b,N,ne=[U.ib],de=[U.hb]))return 2;b=ne[0],N=de[0]}}Q.width=b,Q.height=N;e:{var ye=Q.width,Ce=Q.height;if(b=Q.S,0>=ye||0>=Ce||!(b>=op&&13>b))b=2;else{if(0>=Q.Rd&&Q.sd==null){me=de=ne=N=0;var Be=(ge=ye*Th[b])*Ce;if(11>b||(de=(Ce+1)/2*(N=(ye+1)/2),b==12&&(me=(ne=ye)*Ce)),(Ce=s(Be+2*de+me))==null){b=1;break e}Q.sd=Ce,11>b?((ye=Q.f.RGBA).eb=Ce,ye.fb=0,ye.A=ge,ye.size=Be):((ye=Q.f.kb).y=Ce,ye.O=0,ye.fa=ge,ye.Fd=Be,ye.f=Ce,ye.N=0+Be,ye.Ab=N,ye.Cd=de,ye.ea=Ce,ye.W=0+Be+de,ye.Db=N,ye.Ed=de,b==12&&(ye.F=Ce,ye.J=0+Be+2*de),ye.Tc=me,ye.lb=ne)}if(N=1,ne=Q.S,de=Q.width,me=Q.height,ne>=op&&13>ne)if(11>ne)b=Q.f.RGBA,N&=(ge=Math.abs(b.A))*(me-1)+de<=b.size,N&=ge>=de*Th[ne],N&=b.eb!=null;else{b=Q.f.kb,ge=(de+1)/2,Be=(me+1)/2,ye=Math.abs(b.fa),Ce=Math.abs(b.Ab);var nt=Math.abs(b.Db),Te=Math.abs(b.lb),$e=Te*(me-1)+de;N&=ye*(me-1)+de<=b.Fd,N&=Ce*(Be-1)+ge<=b.Cd,N=(N&=nt*(Be-1)+ge<=b.Ed)&ye>=de&Ce>=ge&nt>=ge,N&=b.y!=null,N&=b.f!=null,N&=b.ea!=null,ne==12&&(N&=Te>=de,N&=$e<=b.Tc,N&=b.F!=null)}else N=0;b=N?0:2}}return b!=0||U!=null&&U.fd&&(b=Ua(Q)),b}var za=64,ru=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vh=24,nu=32,Bi=8,np=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ut("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(b){return b},C.Predictor2=function(b,N,U){return N[U+0]},C.Predictor3=function(b,N,U){return N[U+1]},C.Predictor4=function(b,N,U){return N[U-1]},C.Predictor5=function(b,N,U){return St(St(b,N[U+1]),N[U+0])},C.Predictor6=function(b,N,U){return St(b,N[U-1])},C.Predictor7=function(b,N,U){return St(b,N[U+0])},C.Predictor8=function(b,N,U){return St(N[U-1],N[U+0])},C.Predictor9=function(b,N,U){return St(N[U+0],N[U+1])},C.Predictor10=function(b,N,U){return St(St(b,N[U-1]),St(N[U+0],N[U+1]))},C.Predictor11=function(b,N,U){var Q=N[U+0];return 0>=Qe(Q>>24&255,b>>24&255,(N=N[U-1])>>24&255)+Qe(Q>>16&255,b>>16&255,N>>16&255)+Qe(Q>>8&255,b>>8&255,N>>8&255)+Qe(255&Q,255&b,255&N)?Q:b},C.Predictor12=function(b,N,U){var Q=N[U+0];return(je((b>>24&255)+(Q>>24&255)-((N=N[U-1])>>24&255))<<24|je((b>>16&255)+(Q>>16&255)-(N>>16&255))<<16|je((b>>8&255)+(Q>>8&255)-(N>>8&255))<<8|je((255&b)+(255&Q)-(255&N)))>>>0},C.Predictor13=function(b,N,U){var Q=N[U-1];return(Ke((b=St(b,N[U+0]))>>24&255,Q>>24&255)<<24|Ke(b>>16&255,Q>>16&255)<<16|Ke(b>>8&255,Q>>8&255)<<8|Ke(255&b,255&Q))>>>0};var so=C.PredictorAdd0;C.PredictorAdd1=ae,ut("Predictor2","PredictorAdd2"),ut("Predictor3","PredictorAdd3"),ut("Predictor4","PredictorAdd4"),ut("Predictor5","PredictorAdd5"),ut("Predictor6","PredictorAdd6"),ut("Predictor7","PredictorAdd7"),ut("Predictor8","PredictorAdd8"),ut("Predictor9","PredictorAdd9"),ut("Predictor10","PredictorAdd10"),ut("Predictor11","PredictorAdd11"),ut("Predictor12","PredictorAdd12"),ut("Predictor13","PredictorAdd13");var ao=C.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var $d,iu=C.ColorIndexInverseTransform,qd=C.MapARGB,Hu=C.VP8LColorIndexInverseTransformAlpha,bc=C.MapAlpha,kc=C.VP8LPredictorsAdd=[];kc.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var ql,Hd,oo,Hl,di,fi,Qi,Ji,Ts,Wl,wl,Wd,xm,vm,ip,xx,vx,Wu,sp,Gd,ap,ym,yh,Gu,Ku,wm,wh,_m,bm=s(511),km=s(2041),Sm=s(225),Em=s(767),Cm=0,Gl=km,Kd=Sm,$a=Em,Qo=bm,op=0,su=1,yx=2,_h=3,bh=4,Qn=5,lp=6,Yd=7,Yu=8,kh=9,Sh=10,Eh=[2,3,7],cp=[3,3,11],Xu=[280,256,256,256,40],wx=[0,1,1,1,0],N4=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],T4=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_x=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],up=8,Xd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ch=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qu=null,Nm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],bx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],kx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],A4=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],I4=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Am=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],qa=[],Jo=[],lo=[],Kl=1,Qd=2,ba=[],co=[];no("UpsampleRgbLinePair",xe,3),no("UpsampleBgrLinePair",Je,3),no("UpsampleRgbaLinePair",sn,4),no("UpsampleBgraLinePair",Ei,4),no("UpsampleArgbLinePair",Tn,4),no("UpsampleRgba4444LinePair",Ft,2),no("UpsampleRgb565LinePair",mt,2);var P4=C.UpsampleRgbLinePair,R4=C.UpsampleBgrLinePair,au=C.UpsampleRgbaLinePair,Jd=C.UpsampleBgraLinePair,Ju=C.UpsampleArgbLinePair,Nh=C.UpsampleRgba4444LinePair,Im=C.UpsampleRgb565LinePair,Sc=16,_l=1<<Sc-1,$n=-227,Wn=482,ou=6,ca=0,uo=s(256),Zu=s(256),Zd=s(256),fo=s(256),dp=s(Wn-$n),Sx=s(Wn-$n);jn("YuvToRgbRow",xe,3),jn("YuvToBgrRow",Je,3),jn("YuvToRgbaRow",sn,4),jn("YuvToBgraRow",Ei,4),jn("YuvToArgbRow",Tn,4),jn("YuvToRgba4444Row",Ft,2),jn("YuvToRgb565Row",mt,2);var Pm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ed=[0,2,8],Ex=[8,7,6,4,4,2,2,2,1,1,1,1],Ec=1;this.WebPDecodeRGBA=function(b,N,U,Q,ne){var de=su,me=new ir,ge=new $r;me.ba=ge,ge.S=de,ge.width=[ge.width],ge.height=[ge.height];var ye=ge.width,Ce=ge.height,Be=new cr;if(Be==null||b==null)var nt=2;else e(Be!=null),nt=yl(b,N,U,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(nt!=0?ye=0:(ye!=null&&(ye[0]=Be.width[0]),Ce!=null&&(Ce[0]=Be.height[0]),ye=1),ye){ge.width=ge.width[0],ge.height=ge.height[0],Q!=null&&(Q[0]=ge.width),ne!=null&&(ne[0]=ge.height);e:{if(Q=new Yt,(ne=new kr).data=b,ne.w=N,ne.ha=U,ne.kd=1,N=[0],e(ne!=null),((b=yl(ne.data,ne.w,ne.ha,null,null,null,N,null,ne))==0||b==7)&&N[0]&&(b=4),(N=b)==0){if(e(me!=null),Q.data=ne.data,Q.w=ne.w+ne.offset,Q.ha=ne.ha-ne.offset,Q.put=gr,Q.ac=ci,Q.bc=wn,Q.ma=me,ne.xa){if((b=tt())==null){me=1;break e}if((function(Te,$e){var Ze=[0],yt=[0],st=[0];t:for(;;){if(Te==null)return 0;if($e==null)return Te.a=2,0;if(Te.l=$e,Te.a=0,Y(Te.m,$e.data,$e.w,$e.ha),!Es(Te.m,Ze,yt,st)){Te.a=3;break t}if(Te.xb=Qd,$e.width=Ze[0],$e.height=yt[0],!et(Ze[0],yt[0],1,Te,null))break t;return 1}return e(Te.a!=0),0})(b,Q)){if(Q=(N=tu(Q.width,Q.height,me.Oa,me.ba))==0){t:{Q=b;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((U=Q.l)!=null),e((ne=U.ma)!=null),Q.xb!=0){if(Q.ca=ne.ba,Q.tb=ne.tb,e(Q.ca!=null),!Ba(ne.Oa,U,_h)){Q.a=2;break r}if(!at(Q,U.width)||U.da)break r;if((U.da||_r(Q.ca.S))&&Xi(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Xi()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!pe(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!Xe(Q,Q.V,Q.Ba,Q.c,Q.i,U.o,be))break r;ne.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(N=b.a)}else N=b.a}else{if((b=new er)==null){me=1;break e}if(b.Fa=ne.na,b.P=ne.P,b.qc=ne.Sa,xi(b,Q)){if((N=tu(Q.width,Q.height,me.Oa,me.ba))==0){if(b.Aa=0,U=me.Oa,e((ne=b)!=null),U!=null){if(0<(ye=0>(ye=U.Md)?0:100<ye?255:255*ye/100)){for(Ce=Be=0;4>Ce;++Ce)12>(nt=ne.pb[Ce]).lc&&(nt.ia=ye*Ex[0>nt.lc?0:nt.lc]>>3),Be|=nt.ia;Be&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=U.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(Te,$e){if(Te==null)return 0;if($e==null)return hr(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!xi(Te,$e))return 0;if(e(Te.cb),$e.ac==null||$e.ac($e)){$e.ob&&(Te.L=0);var Ze=ed[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=$e.v-Ze>>4,Te.zb=$e.j-Ze>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=$e.o+15+Ze>>4,Te.Hb=$e.va+15+Ze>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var yt=Te.ed;for(Ze=0;4>Ze;++Ze){var st;if(Te.Qa.Cb){var gt=Te.Qa.Lb[Ze];Te.Qa.Fb||(gt+=yt.Tb)}else gt=yt.Tb;for(st=0;1>=st;++st){var vt=Te.gd[Ze][st],bt=gt;if(yt.Pc&&(bt+=yt.vd[0],st&&(bt+=yt.od[0])),0<(bt=0>bt?0:63<bt?63:bt)){var kt=bt;0<yt.wb&&(kt=4<yt.wb?kt>>2:kt>>1)>9-yt.wb&&(kt=9-yt.wb),1>kt&&(kt=1),vt.dd=kt,vt.tc=2*bt+kt,vt.ld=40<=bt?2:15<=bt?1:0}else vt.tc=0;vt.La=st}}}Ze=0}else hr(Te,6,"Frame setup failed"),Ze=Te.a;if(Ze=Ze==0){if(Ze){Te.$c=0,0<Te.Aa||(Te.Ic=Ec);t:{Ze=Te.Ic,yt=4*(kt=Te.za);var mr=32*kt,sr=kt+1,Hr=0<Te.L?kt*(0<Te.Aa?2:1):0,lr=(Te.Aa==2?2:1)*kt;if((vt=yt+832+(st=3*(16*Ze+ed[Te.L])/2*mr)+(gt=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=vt)Ze=0;else{if(vt>Te.Vb){if(Te.Vb=0,Te.Ec=s(vt),Te.Fc=0,Te.Ec==null){Ze=hr(Te,1,"no memory during frame initialization.");break t}Te.Vb=vt}vt=Te.Ec,bt=Te.Fc,Te.Ac=vt,Te.Bc=bt,bt+=yt,Te.Gd=a(mr,Fe),Te.Hd=0,Te.rb=a(sr+1,mn),Te.sb=1,Te.wa=Hr?a(Hr,Fr):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=kt),e(!0),Te.oc=vt,Te.pc=bt,bt+=832,Te.ya=a(lr,va),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=kt),Te.R=16*kt,Te.B=8*kt,kt=(mr=ed[Te.L])*Te.R,mr=mr/2*Te.B,Te.sa=vt,Te.ta=bt+kt,Te.qa=Te.sa,Te.ra=Te.ta+16*Ze*Te.R+mr,Te.Ha=Te.qa,Te.Ia=Te.ra+8*Ze*Te.B+mr,Te.$c=0,bt+=st,Te.mb=gt?vt:null,Te.nb=gt?bt:null,e(bt+gt<=Te.Fc+Te.Vb),gn(Te),i(Te.Ac,Te.Bc,0,yt),Ze=1}}if(Ze){if($e.ka=0,$e.y=Te.sa,$e.O=Te.ta,$e.f=Te.qa,$e.N=Te.ra,$e.ea=Te.Ha,$e.Vd=Te.Ia,$e.fa=Te.R,$e.Rc=Te.B,$e.F=null,$e.J=0,!Cm){for(Ze=-255;255>=Ze;++Ze)bm[255+Ze]=0>Ze?-Ze:Ze;for(Ze=-1020;1020>=Ze;++Ze)km[1020+Ze]=-128>Ze?-128:127<Ze?127:Ze;for(Ze=-112;112>=Ze;++Ze)Sm[112+Ze]=-16>Ze?-16:15<Ze?15:Ze;for(Ze=-255;510>=Ze;++Ze)Em[255+Ze]=0>Ze?0:255<Ze?255:Ze;Cm=1}Qi=en,Ji=Lo,Wl=Fo,wl=nn,Wd=hl,Ts=ya,xm=M,vm=te,ip=Ge,xx=_t,vx=Ne,Wu=Me,sp=Nt,Gd=Jt,ap=oa,ym=Yo,yh=qs,Gu=wc,Jo[0]=xh,Jo[1]=Xc,Jo[2]=to,Jo[3]=Go,Jo[4]=Ud,Jo[5]=ml,Jo[6]=Mi,Jo[7]=zd,Jo[8]=Ko,Jo[9]=gl,qa[0]=ia,qa[1]=Vd,qa[2]=Bd,qa[3]=Jc,qa[4]=Cs,qa[5]=sa,qa[6]=Ma,lo[0]=ro,lo[1]=Qc,lo[2]=Zc,lo[3]=aa,lo[4]=qn,lo[5]=Ul,lo[6]=$u,Ze=1}else Ze=0}Ze&&(Ze=(function(un,Ui){for(un.M=0;un.M<un.Va;++un.M){var Gr,ar=un.Jc[un.M&un.Xb],Wt=un.m,Zi=un;for(Gr=0;Gr<Zi.za;++Gr){var jr=Wt,an=Zi,hi=an.Ac,Ws=an.Bc+4*Gr,ds=an.zc,Ii=an.ya[an.aa+Gr];if(an.Qa.Bb?Ii.$b=Ee(jr,an.Pa.jb[0])?2+Ee(jr,an.Pa.jb[2]):Ee(jr,an.Pa.jb[1]):Ii.$b=0,an.kc&&(Ii.Ad=Ee(jr,an.Bd)),Ii.Za=!Ee(jr,145)+0,Ii.Za){var As=Ii.Ob,Gs=0;for(an=0;4>an;++an){var Ci,vn=ds[0+an];for(Ci=0;4>Ci;++Ci){vn=A4[hi[Ws+Ci]][vn];for(var Ln=bx[Ee(jr,vn[0])];0<Ln;)Ln=bx[2*Ln+Ee(jr,vn[Ln])];vn=-Ln,hi[Ws+Ci]=vn}n(As,Gs,hi,Ws,4),Gs+=4,ds[0+an]=vn}}else vn=Ee(jr,156)?Ee(jr,128)?1:3:Ee(jr,163)?2:0,Ii.Ob[0]=vn,i(hi,Ws,vn,4),i(ds,0,vn,4);Ii.Dd=Ee(jr,142)?Ee(jr,114)?Ee(jr,183)?1:3:2:0}if(Zi.m.Ka)return hr(un,7,"Premature end-of-partition0 encountered.");for(;un.ja<un.za;++un.ja){if(Zi=ar,jr=(Wt=un).rb[Wt.sb-1],hi=Wt.rb[Wt.sb+Wt.ja],Gr=Wt.ya[Wt.aa+Wt.ja],Ws=Wt.kc?Gr.Ad:0)jr.la=hi.la=0,Gr.Za||(jr.Na=hi.Na=0),Gr.Hc=0,Gr.Gc=0,Gr.ia=0;else{var Ni,Fn;if(jr=hi,hi=Zi,Ws=Wt.Pa.Xc,ds=Wt.ya[Wt.aa+Wt.ja],Ii=Wt.pb[ds.$b],an=ds.ad,As=0,Gs=Wt.rb[Wt.sb-1],vn=Ci=0,i(an,As,0,384),ds.Za)var zi=0,$i=Ws[3];else{Ln=s(16);var Jn=jr.Na+Gs.Na;if(Jn=Qu(hi,Ws[1],Jn,Ii.Eb,0,Ln,0),jr.Na=Gs.Na=(0<Jn)+0,1<Jn)Qi(Ln,0,an,As);else{var ka=Ln[0]+3>>3;for(Ln=0;256>Ln;Ln+=16)an[As+Ln]=ka}zi=1,$i=Ws[0]}var Gn=15&jr.la,Zn=15&Gs.la;for(Ln=0;4>Ln;++Ln){var fs=1&Zn;for(ka=Fn=0;4>ka;++ka)Gn=Gn>>1|(fs=(Jn=Qu(hi,$i,Jn=fs+(1&Gn),Ii.Sc,zi,an,As))>zi)<<7,Fn=Fn<<2|(3<Jn?3:1<Jn?2:an[As+0]!=0),As+=16;Gn>>=4,Zn=Zn>>1|fs<<7,Ci=(Ci<<8|Fn)>>>0}for($i=Gn,zi=Zn>>4,Ni=0;4>Ni;Ni+=2){for(Fn=0,Gn=jr.la>>4+Ni,Zn=Gs.la>>4+Ni,Ln=0;2>Ln;++Ln){for(fs=1&Zn,ka=0;2>ka;++ka)Jn=fs+(1&Gn),Gn=Gn>>1|(fs=0<(Jn=Qu(hi,Ws[2],Jn,Ii.Qc,0,an,As)))<<3,Fn=Fn<<2|(3<Jn?3:1<Jn?2:an[As+0]!=0),As+=16;Gn>>=2,Zn=Zn>>1|fs<<5}vn|=Fn<<4*Ni,$i|=Gn<<4<<Ni,zi|=(240&Zn)<<Ni}jr.la=$i,Gs.la=zi,ds.Hc=Ci,ds.Gc=vn,ds.ia=43690&vn?0:Ii.ia,Ws=!(Ci|vn)}if(0<Wt.L&&(Wt.wa[Wt.Y+Wt.ja]=Wt.gd[Gr.$b][Gr.Za],Wt.wa[Wt.Y+Wt.ja].La|=!Ws),Zi.Ka)return hr(un,7,"Premature end-of-file encountered.")}if(gn(un),Wt=Ui,Zi=1,Gr=(ar=un).D,jr=0<ar.L&&ar.M>=ar.zb&&ar.M<=ar.Va,ar.Aa==0)t:{if(Gr.M=ar.M,Gr.uc=jr,io(ar,Gr),Zi=1,Gr=(Fn=ar.D).Nb,jr=(vn=ed[ar.L])*ar.R,hi=vn/2*ar.B,Ln=16*Gr*ar.R,ka=8*Gr*ar.B,Ws=ar.sa,ds=ar.ta-jr+Ln,Ii=ar.qa,an=ar.ra-hi+ka,As=ar.Ha,Gs=ar.Ia-hi+ka,Zn=(Gn=Fn.M)==0,Ci=Gn>=ar.Va-1,ar.Aa==2&&io(ar,Fn),Fn.uc)for(fs=(Jn=ar).D.M,e(Jn.D.uc),Fn=Jn.yb;Fn<Jn.Hb;++Fn){zi=Fn,$i=fs;var ua=(ho=(rs=Jn).D).Nb;Ni=rs.R;var ho=ho.wa[ho.Y+zi],es=rs.sa,ts=rs.ta+16*ua*Ni+16*zi,Sa=ho.dd,ei=ho.tc;if(ei!=0)if(e(3<=ei),rs.L==1)0<zi&&ym(es,ts,Ni,ei+4),ho.La&&Gu(es,ts,Ni,ei),0<$i&&ap(es,ts,Ni,ei+4),ho.La&&yh(es,ts,Ni,ei);else{var Ea=rs.B,Zo=rs.qa,bl=rs.ra+8*ua*Ea+8*zi,Ks=rs.Ha,rs=rs.Ia+8*ua*Ea+8*zi;ua=ho.ld,0<zi&&(vm(es,ts,Ni,ei+4,Sa,ua),xx(Zo,bl,Ks,rs,Ea,ei+4,Sa,ua)),ho.La&&(Wu(es,ts,Ni,ei,Sa,ua),Gd(Zo,bl,Ks,rs,Ea,ei,Sa,ua)),0<$i&&(xm(es,ts,Ni,ei+4,Sa,ua),ip(Zo,bl,Ks,rs,Ea,ei+4,Sa,ua)),ho.La&&(vx(es,ts,Ni,ei,Sa,ua),sp(Zo,bl,Ks,rs,Ea,ei,Sa,ua))}}if(ar.ia&&alert("todo:DitherRow"),Wt.put!=null){if(Fn=16*Gn,Gn=16*(Gn+1),Zn?(Wt.y=ar.sa,Wt.O=ar.ta+Ln,Wt.f=ar.qa,Wt.N=ar.ra+ka,Wt.ea=ar.Ha,Wt.W=ar.Ia+ka):(Fn-=vn,Wt.y=Ws,Wt.O=ds,Wt.f=Ii,Wt.N=an,Wt.ea=As,Wt.W=Gs),Ci||(Gn-=vn),Gn>Wt.o&&(Gn=Wt.o),Wt.F=null,Wt.J=null,ar.Fa!=null&&0<ar.Fa.length&&Fn<Gn&&(Wt.J=us(ar,Wt,Fn,Gn-Fn),Wt.F=ar.mb,Wt.F==null&&Wt.F.length==0)){Zi=hr(ar,3,"Could not decode alpha data.");break t}Fn<Wt.j&&(vn=Wt.j-Fn,Fn=Wt.j,e(!(1&vn)),Wt.O+=ar.R*vn,Wt.N+=ar.B*(vn>>1),Wt.W+=ar.B*(vn>>1),Wt.F!=null&&(Wt.J+=Wt.width*vn)),Fn<Gn&&(Wt.O+=Wt.v,Wt.N+=Wt.v>>1,Wt.W+=Wt.v>>1,Wt.F!=null&&(Wt.J+=Wt.v),Wt.ka=Fn-Wt.j,Wt.U=Wt.va-Wt.v,Wt.T=Gn-Fn,Zi=Wt.put(Wt))}Gr+1!=ar.Ic||Ci||(n(ar.sa,ar.ta-jr,Ws,ds+16*ar.R,jr),n(ar.qa,ar.ra-hi,Ii,an+8*ar.B,hi),n(ar.Ha,ar.Ia-hi,As,Gs+8*ar.B,hi))}if(!Zi)return hr(un,6,"Output aborted.")}return 1})(Te,$e)),$e.bc!=null&&$e.bc($e),Ze&=1}return Ze?(Te.cb=0,Ze):0})(b,Q)||(N=b.a)}}else N=b.a}N==0&&me.Oa!=null&&me.Oa.fd&&(N=Ua(me.ba))}me=N}de=me!=0?null:11>de?ge.f.RGBA.eb:ge.f.kb.y}else de=null;return de};var Th=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,D){for(var R="",F=0;F<4;F++)R+=String.fromCharCode(C[D++]);return R}function d(C,D){return C[D+0]|C[D+1]<<8}function p(C,D){return(C[D+0]|C[D+1]<<8|C[D+2]<<16)>>>0}function g(C,D){return(C[D+0]|C[D+1]<<8|C[D+2]<<16|C[D+3]<<24)>>>0}new l;var m=[0],y=[0],w=[],_=new l,S=t,P=(function(C,D){var R={},F=0,B=!1,ee=0,he=0;if(R.frames=[],!(function(I,z){for(var X=0;X<4;X++)if(I[z+X]!="RIFF".charCodeAt(X))return!0;return!1})(C,D)){for(g(C,D+=4),D+=8;D<C.length;){var ve=c(C,D),fe=g(C,D+=4);D+=4;var se=fe+(1&fe);switch(ve){case"VP8 ":case"VP8L":R.frames[F]===void 0&&(R.frames[F]={}),(G=R.frames[F]).src_off=B?he:D-8,G.src_size=ee+fe+8,F++,B&&(B=!1,ee=0,he=0);break;case"VP8X":(G=R.header={}).feature_flags=C[D];var Y=D+4;G.canvas_width=1+p(C,Y),Y+=3,G.canvas_height=1+p(C,Y),Y+=3;break;case"ALPH":B=!0,ee=se+8,he=D-8;break;case"ANIM":(G=R.header).bgcolor=g(C,D),Y=D+4,G.loop_count=d(C,Y),Y+=2;break;case"ANMF":var ie,G;(G=R.frames[F]={}).offset_x=2*p(C,D),D+=3,G.offset_y=2*p(C,D),D+=3,G.width=1+p(C,D),D+=3,G.height=1+p(C,D),D+=3,G.duration=p(C,D),D+=3,ie=C[D++],G.dispose=1&ie,G.blend=ie>>1&1}ve!="ANMF"&&(D+=se)}return R}})(S,0);P.response=S,P.rgbaoutput=!0,P.dataurl=!1;var A=P.header?P.header:null,V=P.frames?P.frames:null;if(A){A.loop_counter=A.loop_count,m=[A.canvas_height],y=[A.canvas_width];for(var W=0;W<V.length&&V[W].blend!=0;W++);}var K=V[0],j=_.WebPDecodeRGBA(S,K.src_off,K.src_size,y,m);K.rgba=j,K.imgwidth=y[0],K.imgheight=m[0];for(var T=0;T<y[0]*m[0]*4;T++)w[T]=j[T];return this.width=y,this.height=m,this.data=w,this}(function(t){var e,r,n,i,s,a,o,l,c,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=I;Object.defineProperty(this,"pdf",{get:function(){return z}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Re){X=!!Re}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(Re){J=!!Re}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(Re){isNaN(Re)||(ce=Re)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Re){isNaN(Re)||(we=Re)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Re){var pe;typeof Re=="number"?pe=[Re,Re,Re,Re]:((pe=new Array(4))[0]=Re[0],pe[1]=Re.length>=2?Re[1]:pe[0],pe[2]=Re.length>=3?Re[2]:pe[0],pe[3]=Re.length>=4?Re[3]:pe[1]),c.margin=pe}});var ke=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ke},set:function(Re){ke=Re}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(Re){oe=Re}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(Re){Ee=Re}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Re){Re instanceof d&&(c=Re)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Re){c.path=Re}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(Re){Oe=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var pe;pe=g(Re),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var pe=g(Re);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var re=null,_e=null;Object.defineProperty(this,"fontFaces",{get:function(){return _e},set:function(Re){re=null,_e=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var pe;if(this.ctx.font=Re,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var Ye=pe[1];pe[2];var ze=pe[3],ot=pe[4];pe[5];var Ve=pe[6],He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ot)[2];ot=Math.floor(He==="px"?parseFloat(ot)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(ot)*this.pdf.getFontSize():parseFloat(ot)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ot);var ut=(function(lt){var xt,Ut,Kt=[],Ct=lt.trim();if(Ct==="")return b3;if(Ct in pT)return[pT[Ct]];for(;Ct!=="";){switch(Ut=null,xt=(Ct=gT(Ct)).charAt(0)){case'"':case"'":Ut=hpe(Ct.substring(1),xt);break;default:Ut=ppe(Ct)}if(Ut===null||(Kt.push(Ut[0]),(Ct=gT(Ut[1]))!==""&&Ct.charAt(0)!==","))return b3;Ct=Ct.replace(/^,/,"")}return Kt})(Ve);if(this.fontFaces){var Et=(function(lt,xt){if(re===null){var Ut=(function(Kt){var Ct=[];return Object.keys(Kt).forEach(function(Mt){Kt[Mt].forEach(function(Pr){var Zt=null;switch(Pr){case"bold":Zt={family:Mt,weight:"bold"};break;case"italic":Zt={family:Mt,style:"italic"};break;case"bolditalic":Zt={family:Mt,weight:"bold",style:"italic"};break;case"":case"normal":Zt={family:Mt}}Zt!==null&&(Zt.ref={name:Mt,style:Pr},Ct.push(Zt))})}),Ct})(lt.getFontList());re=(function(Kt){for(var Ct={},Mt=0;Mt<Kt.length;++Mt){var Pr=_3(Kt[Mt]),Zt=Pr.family,wr=Pr.stretch,_r=Pr.style,Pn=Pr.weight;Ct[Zt]=Ct[Zt]||{},Ct[Zt][wr]=Ct[Zt][wr]||{},Ct[Zt][wr][_r]=Ct[Zt][wr][_r]||{},Ct[Zt][wr][_r][Pn]=Pr}return Ct})(Ut.concat(xt))}return re})(this.pdf,this.fontFaces),St=ut.map(function(lt){return{family:lt,stretch:"normal",weight:ze,style:Ye}}),je=(function(lt,xt,Ut){for(var Kt=(Ut=Ut||{}).defaultFontFamily||"times",Ct=Object.assign({},fpe,Ut.genericFontFamilies||{}),Mt=null,Pr=null,Zt=0;Zt<xt.length;++Zt)if(Ct[(Mt=_3(xt[Zt])).family]&&(Mt.family=Ct[Mt.family]),lt.hasOwnProperty(Mt.family)){Pr=lt[Mt.family];break}if(!(Pr=Pr||lt[Kt]))throw new Error("Could not find a font-family for the rule '"+mT(Mt)+"' and default family '"+Kt+"'.");if(Pr=(function(wr,_r){if(_r[wr])return _r[wr];var Pn=mb[wr],pn=Pn<=mb.normal?-1:1,$r=hT(_r,VM,Pn,pn);if(!$r)throw new Error("Could not find a matching font-stretch value for "+wr);return $r})(Mt.stretch,Pr),Pr=(function(wr,_r){if(_r[wr])return _r[wr];for(var Pn=MM[wr],pn=0;pn<Pn.length;++pn)if(_r[Pn[pn]])return _r[Pn[pn]];throw new Error("Could not find a matching font-style for "+wr)})(Mt.style,Pr),!(Pr=(function(wr,_r){if(_r[wr])return _r[wr];if(wr===400&&_r[500])return _r[500];if(wr===500&&_r[400])return _r[400];var Pn=dpe[wr],pn=hT(_r,BM,Pn,wr<400?-1:1);if(!pn)throw new Error("Could not find a matching font-weight for value "+wr);return pn})(Mt.weight,Pr)))throw new Error("Failed to resolve a font for the rule '"+mT(Mt)+"'.");return Pr})(Et,St);this.pdf.setFont(je.ref.name,je.ref.style)}else{var Ke="";(ze==="bold"||parseInt(ze,10)>=700||Ye==="bold")&&(Ke="bold"),Ye==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var Qe="",ae={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Le=0;Le<ut.length;Le++){if(this.pdf.internal.getFont(ut[Le],Ke,{noFallback:!0,disableWarning:!0})!==void 0){Qe=ut[Le];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(ut[Le],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Qe=ut[Le],Ke="bold";else if(this.pdf.internal.getFont(ut[Le],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Qe=ut[Le],Ke="normal";break}}if(Qe===""){for(var We=0;We<ut.length;We++)if(ae[ut[We]]){Qe=ae[ut[We]];break}}Qe=Qe===""?"Times":Qe,this.pdf.setFont(Qe,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){V.call(this,"fill",!1)},p.prototype.stroke=function(){V.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,z){if(isNaN(I)||isNaN(z))throw wi.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new a(I,z));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(I,z)},p.prototype.closePath=function(){var I=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&ii(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){I=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},p.prototype.lineTo=function(I,z){if(isNaN(I)||isNaN(z))throw wi.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new a(I,z));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),V.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,z,X,J){if(isNaN(X)||isNaN(J)||isNaN(I)||isNaN(z))throw wi.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new a(X,J)),we=this.ctx.transform.applyToPoint(new a(I,z));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new a(ce.x,ce.y)},p.prototype.bezierCurveTo=function(I,z,X,J,ce,we){if(isNaN(ce)||isNaN(we)||isNaN(I)||isNaN(z)||isNaN(X)||isNaN(J))throw wi.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ke=this.ctx.transform.applyToPoint(new a(ce,we)),oe=this.ctx.transform.applyToPoint(new a(I,z)),Ee=this.ctx.transform.applyToPoint(new a(X,J));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:Ee.x,y2:Ee.y,x:ke.x,y:ke.y}),this.ctx.lastPoint=new a(ke.x,ke.y)},p.prototype.arc=function(I,z,X,J,ce,we){if(isNaN(I)||isNaN(z)||isNaN(X)||isNaN(J)||isNaN(ce))throw wi.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var ke=this.ctx.transform.applyToPoint(new a(I,z));I=ke.x,z=ke.y;var oe=this.ctx.transform.applyToPoint(new a(0,X)),Ee=this.ctx.transform.applyToPoint(new a(0,0));X=Math.sqrt(Math.pow(oe.x-Ee.x,2)+Math.pow(oe.y-Ee.y,2))}Math.abs(ce-J)>=2*Math.PI&&(J=0,ce=2*Math.PI),this.path.push({type:"arc",x:I,y:z,radius:X,startAngle:J,endAngle:ce,counterclockwise:we})},p.prototype.arcTo=function(I,z,X,J,ce){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,z,X,J){if(isNaN(I)||isNaN(z)||isNaN(X)||isNaN(J))throw wi.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,z),this.lineTo(I+X,z),this.lineTo(I+X,z+J),this.lineTo(I,z+J),this.lineTo(I,z),this.lineTo(I+X,z),this.lineTo(I,z)},p.prototype.fillRect=function(I,z,X,J){if(isNaN(I)||isNaN(z)||isNaN(X)||isNaN(J))throw wi.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,z,X,J),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},p.prototype.strokeRect=function(I,z,X,J){if(isNaN(I)||isNaN(z)||isNaN(X)||isNaN(J))throw wi.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(I,z,X,J),this.stroke())},p.prototype.clearRect=function(I,z,X,J){if(isNaN(I)||isNaN(z)||isNaN(X)||isNaN(J))throw wi.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,z,X,J))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(z),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(I){var z,X,J,ce;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))z=0,X=0,J=0,ce=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(we!==null)z=parseInt(we[1]),X=parseInt(we[2]),J=parseInt(we[3]),ce=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)z=parseInt(we[1]),X=parseInt(we[2]),J=parseInt(we[3]),ce=parseFloat(we[4]);else{if(ce=1,typeof I=="string"&&I.charAt(0)!=="#"){var ke=new PM(I);I=ke.ok?ke.toHex():"#000000"}I.length===4?(z=I.substring(1,2),z+=z,X=I.substring(2,3),X+=X,J=I.substring(3,4),J+=J):(z=I.substring(1,3),X=I.substring(3,5),J=I.substring(5,7)),z=parseInt(z,16),X=parseInt(X,16),J=parseInt(J,16)}}return{r:z,g:X,b:J,a:ce,style:I}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,z,X,J){if(isNaN(z)||isNaN(X)||typeof I!="string")throw wi.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!m.call(this)){var ce=se(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;F.call(this,{text:I,x:z,y:X,scale:we,angle:ce,align:this.textAlign,maxWidth:J})}},p.prototype.strokeText=function(I,z,X,J){if(isNaN(z)||isNaN(X)||typeof I!="string")throw wi.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){J=isNaN(J)?void 0:J;var ce=se(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;F.call(this,{text:I,x:z,y:X,scale:we,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:J})}},p.prototype.measureText=function(I){if(typeof I!="string")throw wi.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,X=this.pdf.internal.scaleFactor,J=z.internal.getFontSize(),ce=z.getStringUnitWidth(I)*J/z.internal.scaleFactor;return new function(we){var ke=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ke}}),this}({width:ce*=Math.round(96*X/72*1e4)/1e4})},p.prototype.scale=function(I,z){if(isNaN(I)||isNaN(z))throw wi.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(I,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.rotate=function(I){if(isNaN(I))throw wi.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},p.prototype.translate=function(I,z){if(isNaN(I)||isNaN(z))throw wi.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,I,z);this.ctx.transform=this.ctx.transform.multiply(X)},p.prototype.transform=function(I,z,X,J,ce,we){if(isNaN(I)||isNaN(z)||isNaN(X)||isNaN(J)||isNaN(ce)||isNaN(we))throw wi.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ke=new l(I,z,X,J,ce,we);this.ctx.transform=this.ctx.transform.multiply(ke)},p.prototype.setTransform=function(I,z,X,J,ce,we){I=isNaN(I)?1:I,z=isNaN(z)?0:z,X=isNaN(X)?0:X,J=isNaN(J)?1:J,ce=isNaN(ce)?0:ce,we=isNaN(we)?0:we,this.ctx.transform=new l(I,z,X,J,ce,we)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,z,X,J,ce,we,ke,oe,Ee){var Oe=this.pdf.getImageProperties(I),re=1,_e=1,Re=1,pe=1;J!==void 0&&oe!==void 0&&(Re=oe/J,pe=Ee/ce,re=Oe.width/J*oe/J,_e=Oe.height/ce*Ee/ce),we===void 0&&(we=z,ke=X,z=0,X=0),J!==void 0&&oe===void 0&&(oe=J,Ee=ce),J===void 0&&oe===void 0&&(oe=Oe.width,Ee=Oe.height);for(var Ye,ze=this.ctx.transform.decompose(),ot=se(ze.rotate.shx),Ve=new l,He=(Ve=(Ve=(Ve=Ve.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new o(we-z*Re,ke-X*pe,J*re,ce*_e)),ut=_.call(this,He),Et=[],St=0;St<ut.length;St+=1)Et.indexOf(ut[St])===-1&&Et.push(ut[St]);if(A(Et),this.autoPaging)for(var je=Et[0],Ke=Et[Et.length-1],Qe=je;Qe<Ke+1;Qe++){this.pdf.setPage(Qe);var ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=Qe===1?this.posY+this.margin[0]:this.margin[0],We=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Qe===1?0:We+(Qe-2)*lt;if(this.ctx.clip_path.length!==0){var Ut=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ye,this.posX+this.margin[3],-xt+Le+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=Ut}var Kt=JSON.parse(JSON.stringify(He));Kt=P([Kt],this.posX+this.margin[3],-xt+Le+this.ctx.prevPageLastElemOffset)[0];var Ct=(Qe>je||Qe<Ke)&&w.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ae,lt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Kt.x,Kt.y,Kt.w,Kt.h,null,null,ot),Ct&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",He.x,He.y,He.w,He.h,null,null,ot)};var _=function(I,z,X){var J=[];z=z||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":J.push(Math.floor((I.y+ce)/X)+1);break;case"arc":J.push(Math.floor((I.y+ce-I.radius)/X)+1),J.push(Math.floor((I.y+ce+I.radius)/X)+1);break;case"qct":var we=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);J.push(Math.floor((we.y+ce)/X)+1),J.push(Math.floor((we.y+we.h+ce)/X)+1);break;case"bct":var ke=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);J.push(Math.floor((ke.y+ce)/X)+1),J.push(Math.floor((ke.y+ke.h+ce)/X)+1);break;case"rect":J.push(Math.floor((I.y+ce)/X)+1),J.push(Math.floor((I.y+I.h+ce)/X)+1)}for(var oe=0;oe<J.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<J[oe];)S.call(this);return J},S=function(){var I=this.fillStyle,z=this.strokeStyle,X=this.font,J=this.lineCap,ce=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=z,this.font=X,this.lineCap=J,this.lineWidth=ce,this.lineJoin=we},P=function(I,z,X){for(var J=0;J<I.length;J++)switch(I[J].type){case"bct":I[J].x2+=z,I[J].y2+=X;case"qct":I[J].x1+=z,I[J].y1+=X;default:I[J].x+=z,I[J].y+=X}return I},A=function(I){return I.sort(function(z,X){return z-X})},V=function(I,z){for(var X,J,ce=this.fillStyle,we=this.strokeStyle,ke=this.lineCap,oe=this.lineWidth,Ee=Math.abs(oe*this.ctx.transform.scaleX),Oe=this.lineJoin,re=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),Re=[],pe=0;pe<_e.length;pe++)if(_e[pe].x!==void 0)for(var Ye=_.call(this,_e[pe]),ze=0;ze<Ye.length;ze+=1)Re.indexOf(Ye[ze])===-1&&Re.push(Ye[ze]);for(var ot=0;ot<Re.length;ot++)for(;this.pdf.internal.getNumberOfPages()<Re[ot];)S.call(this);if(A(Re),this.autoPaging)for(var Ve=Re[0],He=Re[Re.length-1],ut=Ve;ut<He+1;ut++){this.pdf.setPage(ut),this.fillStyle=ce,this.strokeStyle=we,this.lineCap=ke,this.lineWidth=Ee,this.lineJoin=Oe;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=ut===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=ut===1?0:je+(ut-2)*Ke;if(this.ctx.clip_path.length!==0){var ae=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(X,this.posX+this.margin[3],-Qe+St+this.ctx.prevPageLastElemOffset),W.call(this,I,!0),this.path=ae}if(J=JSON.parse(JSON.stringify(re)),this.path=P(J,this.posX+this.margin[3],-Qe+St+this.ctx.prevPageLastElemOffset),z===!1||ut===0){var Le=(ut>Ve||ut<He)&&w.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Ke,null).clip().discardPath()),W.call(this,I,z),Le&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=Ee,W.call(this,I,z),this.lineWidth=oe;this.path=re},W=function(I,z){if((I!=="stroke"||z||!y.call(this))&&(I==="stroke"||z||!m.call(this))){for(var X,J,ce=[],we=this.path,ke=0;ke<we.length;ke++){var oe=we[ke];switch(oe.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:oe,deltas:[],abs:[]});break;case"lt":var Ee=ce.length;if(we[ke-1]&&!isNaN(we[ke-1].x)&&(X=[oe.x-we[ke-1].x,oe.y-we[ke-1].y],Ee>0)){for(;Ee>=0;Ee--)if(ce[Ee-1].close!==!0&&ce[Ee-1].begin!==!0){ce[Ee-1].deltas.push(X),ce[Ee-1].abs.push(oe);break}}break;case"bct":X=[oe.x1-we[ke-1].x,oe.y1-we[ke-1].y,oe.x2-we[ke-1].x,oe.y2-we[ke-1].y,oe.x-we[ke-1].x,oe.y-we[ke-1].y],ce[ce.length-1].deltas.push(X);break;case"qct":var Oe=we[ke-1].x+2/3*(oe.x1-we[ke-1].x),re=we[ke-1].y+2/3*(oe.y1-we[ke-1].y),_e=oe.x+2/3*(oe.x1-oe.x),Re=oe.y+2/3*(oe.y1-oe.y),pe=oe.x,Ye=oe.y;X=[Oe-we[ke-1].x,re-we[ke-1].y,_e-we[ke-1].x,Re-we[ke-1].y,pe-we[ke-1].x,Ye-we[ke-1].y],ce[ce.length-1].deltas.push(X);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(oe)}}J=z?null:I==="stroke"?"stroke":"fill";for(var ze=!1,ot=0;ot<ce.length;ot++)if(ce[ot].arc)for(var Ve=ce[ot].abs,He=0;He<Ve.length;He++){var ut=Ve[He];ut.type==="arc"?T.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,z,!ze):B.call(this,ut.x,ut.y),ze=!0}else if(ce[ot].close===!0)this.pdf.internal.out("h"),ze=!1;else if(ce[ot].begin!==!0){var Et=ce[ot].start.x,St=ce[ot].start.y;ee.call(this,ce[ot].deltas,Et,St),ze=!0}J&&C.call(this,J),z&&D.call(this)}},K=function(I){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-X;case"top":return I+z-X;case"hanging":return I+z-2*X;case"middle":return I+z/2-X;default:return I}},j=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(z,X){this.colorStops.push([z,X])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(I,z,X,J,ce,we,ke,oe,Ee){for(var Oe=ve.call(this,X,J,ce,we),re=0;re<Oe.length;re++){var _e=Oe[re];re===0&&(Ee?R.call(this,_e.x1+I,_e.y1+z):B.call(this,_e.x1+I,_e.y1+z)),he.call(this,I,z,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}oe?D.call(this):C.call(this,ke)},C=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(I,z){this.pdf.internal.out(r(I)+" "+n(z)+" m")},F=function(I){var z;switch(I.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var X=this.pdf.getTextDimensions(I.text),J=K.call(this,I.y),ce=j.call(this,J)-X.h,we=this.ctx.transform.applyToPoint(new a(I.x,J)),ke=this.ctx.transform.decompose(),oe=new l;oe=(oe=(oe=oe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Ee,Oe,re,_e=this.ctx.transform.applyToRectangle(new o(I.x,J,X.w,X.h)),Re=oe.applyToRectangle(new o(I.x,ce,X.w,X.h)),pe=_.call(this,Re),Ye=[],ze=0;ze<pe.length;ze+=1)Ye.indexOf(pe[ze])===-1&&Ye.push(pe[ze]);if(A(Ye),this.autoPaging)for(var ot=Ye[0],Ve=Ye[Ye.length-1],He=ot;He<Ve+1;He++){this.pdf.setPage(He);var ut=He===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],je=St-this.margin[0],Ke=this.pdf.internal.pageSize.width-this.margin[1],Qe=Ke-this.margin[3],ae=He===1?0:Et+(He-2)*je;if(this.ctx.clip_path.length!==0){var Le=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ee,this.posX+this.margin[3],-1*ae+ut),W.call(this,"fill",!0),this.path=Le}var We=P([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-ae+ut+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*I.scale),re=this.lineWidth,this.lineWidth=re*I.scale);var lt=this.autoPaging!=="text";if(lt||We.y+We.h<=St){if(lt||We.y>=ut&&We.x<=Ke){var xt=lt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Ke-We.x)[0],Ut=P([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-ae+ut+this.ctx.prevPageLastElemOffset)[0],Kt=lt&&(He>ot||He<Ve)&&w.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,je,null).clip().discardPath()),this.pdf.text(xt,Ut.x,Ut.y,{angle:I.angle,align:z,renderingMode:I.renderingMode}),Kt&&this.pdf.restoreGraphicsState()}}else We.y<St&&(this.ctx.prevPageLastElemOffset+=St-We.y);I.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=re)}else I.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*I.scale),re=this.lineWidth,this.lineWidth=re*I.scale),this.pdf.text(I.text,we.x+this.posX,we.y+this.posY,{angle:I.angle,align:z,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=re)},B=function(I,z,X,J){X=X||0,J=J||0,this.pdf.internal.out(r(I+X)+" "+n(z+J)+" l")},ee=function(I,z,X){return this.pdf.lines(I,z,X,null,null)},he=function(I,z,X,J,ce,we,ke,oe){this.pdf.internal.out([e(i(X+I)),e(s(J+z)),e(i(ce+I)),e(s(we+z)),e(i(ke+I)),e(s(oe+z)),"c"].join(" "))},ve=function(I,z,X,J){for(var ce=2*Math.PI,we=Math.PI/2;z>X;)z-=ce;var ke=Math.abs(X-z);ke<ce&&J&&(ke=ce-ke);for(var oe=[],Ee=J?-1:1,Oe=z;ke>1e-5;){var re=Oe+Ee*Math.min(ke,we);oe.push(fe.call(this,I,Oe,re)),ke-=Math.abs(re-Oe),Oe=re}return oe},fe=function(I,z,X){var J=(X-z)/2,ce=I*Math.cos(J),we=I*Math.sin(J),ke=ce,oe=-we,Ee=ke*ke+oe*oe,Oe=Ee+ke*ce+oe*we,re=4/3*(Math.sqrt(2*Ee*Oe)-Oe)/(ke*we-oe*ce),_e=ke-re*oe,Re=oe+re*ke,pe=_e,Ye=-Re,ze=J+z,ot=Math.cos(ze),Ve=Math.sin(ze);return{x1:I*Math.cos(z),y1:I*Math.sin(z),x2:_e*ot-Re*Ve,y2:_e*Ve+Re*ot,x3:pe*ot-Ye*Ve,y3:pe*Ve+Ye*ot,x4:I*Math.cos(X),y4:I*Math.sin(X)}},se=function(I){return 180*I/Math.PI},Y=function(I,z,X,J,ce,we){var ke=I+.5*(X-I),oe=z+.5*(J-z),Ee=ce+.5*(X-ce),Oe=we+.5*(J-we),re=Math.min(I,ce,ke,Ee),_e=Math.max(I,ce,ke,Ee),Re=Math.min(z,we,oe,Oe),pe=Math.max(z,we,oe,Oe);return new o(re,Re,_e-re,pe-Re)},ie=function(I,z,X,J,ce,we,ke,oe){var Ee,Oe,re,_e,Re,pe,Ye,ze,ot,Ve,He,ut,Et,St,je=X-I,Ke=J-z,Qe=ce-X,ae=we-J,Le=ke-ce,We=oe-we;for(Oe=0;Oe<41;Oe++)ot=(Ye=(re=I+(Ee=Oe/40)*je)+Ee*((Re=X+Ee*Qe)-re))+Ee*(Re+Ee*(ce+Ee*Le-Re)-Ye),Ve=(ze=(_e=z+Ee*Ke)+Ee*((pe=J+Ee*ae)-_e))+Ee*(pe+Ee*(we+Ee*We-pe)-ze),Oe==0?(He=ot,ut=Ve,Et=ot,St=Ve):(He=Math.min(He,ot),ut=Math.min(ut,Ve),Et=Math.max(Et,ot),St=Math.max(St,Ve));return new o(Math.round(He),Math.round(ut),Math.round(Et-He),Math.round(St-ut))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,z,X=(I=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:z}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(yr.API),(function(t){var e=function(a){var o,l,c,d,p,g,m,y,w,_;for(l=[],c=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(p=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(p=((p=((p=((p=(p-(_=p%85))/85)-(w=p%85))/85)-(y=p%85))/85)-(m=p%85))/85)%85,l.push(g+33,m+33,y+33,w+33,_+33)):l.push(122);return(function(S,P){for(var A=P;A>0;A--)S.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,d,p,g=String,m="length",y=255,w="charCodeAt",_="slice",S="replace";for(a[_](-2),a=a[_](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),c=[],d=0,p=(a+=o="uuuuu"[_](a[m]%5||5))[m];p>d;d+=5)l=52200625*(a[w](d)-33)+614125*(a[w](d+1)-33)+7225*(a[w](d+2)-33)+85*(a[w](d+3)-33)+(a[w](d+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return(function(P,A){for(var V=A;V>0;V--)P.pop()})(c,o[m]),g.fromCharCode.apply(g,c)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=lb(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(a,o){var l=0,c=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}})(yr.API),(function(t){t.loadFile=function(e,r,n){return(function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=(function(l,c,d){var p=new XMLHttpRequest,g=0,m=function(y){var w=y.length,_=[],S=String.fromCharCode;for(g=0;g<w;g+=1)_.push(S(255&y.charCodeAt(g)));return _.join("")};if(p.open("GET",l,!c),p.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(p.onload=function(){p.status===200?d(m(this.responseText)):d(void 0)}),p.send(null),c&&p.status===200)return m(p.responseText)})(i,s,a)}catch{}return o})(e,r,n)},t.loadImageFile=t.loadFile})(yr.API),(function(t){function e(){return(Ur.html2canvas?Promise.resolve(Ur.html2canvas):md(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Ur.DOMPurify?Promise.resolve(Ur.DOMPurify):md(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=ii(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},s=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(o(p,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var y=d[m],w=y.src.find(function(_){return _.format==="truetype"});w&&c.addFont(w.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||yr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,p){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,p).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),g=c.call(p,o,l);return a.convert(g,d.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,yr.getPageSize=function(o,l,c){if(ii(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var y,w=0,_=0;if(m.hasOwnProperty(g))w=m[g][1]/p,_=m[g][0]/p;else try{w=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",_>w&&(y=_,_=w,w=y);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>_&&(y=_,_=w,w=y)}return{width:_,height:w,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(_3):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}})(yr.API),yr.API.addJS=function(t){return vT=t,this.internal.events.subscribe("postPutResources",function(){Iv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Iv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+vT+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Iv!==void 0&&xT!==void 0&&this.internal.out("/Names <</JavaScript "+Iv+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(s=0;s<c;s++){var p=r.internal.newObject();d.push(p);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])})(yr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(p){for(var g,m=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,w={width:0,height:0,numcomponents:1},_=4;_<y;_+=2){if(_+=m,e.indexOf(p.charCodeAt(_+1))!==-1){g=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),w={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:g,numcomponents:p.charCodeAt(_+9)};break}m=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return d}})(yr.API),yr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Q0e(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;i=c&&l===1?(function(j){for(var T=j.width,C=j.height,D=j.data,R=j.palette,F=j.depth,B=!1,ee=[],he=[],ve=void 0,fe=!1,se=0,Y=0;Y<R.length;Y++){var ie=bN(R[Y],4),G=ie[0],I=ie[1],z=ie[2],X=ie[3];ee.push(G,I,z),X!=null&&(X===0?(se++,he.length<1&&he.push(Y)):X<255&&(fe=!0))}if(fe||se>1){B=!0,he=void 0;var J=T*C;ve=new Uint8Array(J);for(var ce=new DataView(D.buffer),we=0;we<J;we++){var ke=k3(ce,we,F),oe=bN(R[ke],4)[3];ve[we]=oe}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:D,alphaBytes:ve,needSMask:B,palette:ee,mask:he}})(s):l===2||l===4?(function(j){for(var T=j.data,C=j.width,D=j.height,R=j.channels,F=j.depth,B=R===2?"DeviceGray":"DeviceRGB",ee=R-1,he=C*D,ve=ee,fe=he*ve,se=1*he,Y=Math.ceil(fe*F/8),ie=Math.ceil(se*F/8),G=new Uint8Array(Y),I=new Uint8Array(ie),z=new DataView(T.buffer),X=new DataView(G.buffer),J=new DataView(I.buffer),ce=!1,we=0;we<he;we++){for(var ke=we*R,oe=0;oe<ve;oe++)NT(X,k3(z,ke+oe,F),we*ve+oe,F);var Ee=k3(z,ke+ve,F);Ee<(1<<F)-1&&(ce=!0),NT(J,Ee,1*we,F)}return{colorSpace:B,colorsPerPixel:ee,colorBytes:G,alphaBytes:I,needSMask:ce}})(s):(function(j){var T=j.data,C=j.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:C,colorsPerPixel:C==="DeviceGray"?1:3,colorBytes:T instanceof Uint8Array?T:new Uint8Array(T.buffer),needSMask:!1}})(s);var p,g,m,y=i,w=y.colorSpace,_=y.colorsPerPixel,S=y.colorBytes,P=y.alphaBytes,A=y.needSMask,V=y.palette,W=y.mask,K=null;return n!==yr.API.image_compression.NONE&&typeof lb=="function"?(K=(function(j){var T;switch(j){case yr.API.image_compression.FAST:T=11;break;case yr.API.image_compression.MEDIUM:T=13;break;case yr.API.image_compression.SLOW:T=14;break;default:T=12}return T})(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(K," "),t=bT(S,a*_,_,n),A&&(m=bT(P,a,1,n))):(p=void 0,g="",t=S,A&&(m=P)),g+="/Colors ".concat(_," /BitsPerComponent ").concat(d," /Columns ").concat(a),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:r,data:t,index:e,filter:p,decodeParameters:g,transparency:W,palette:V,sMask:m,predictor:K,width:a,height:o,bitsPerComponent:d,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,i){var s=new vpe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},d=new S3(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A})(yr.API),Lc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){wi.log("bit decode error:"+r)}},Lc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Lc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Lc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Lc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=c}this.pos+=t}},Lc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,c=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},Lc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Lc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Lc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var s=new Lc(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new S3(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(yr.API),AT.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var s=new AT(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new S3(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(yr.API),yr.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var d=n[c],p=n[c+1],g=n[c+2],m=n[c+3];s[o++]=d,s[o++]=p,s[o++]=g,a[l++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dp=yr.API,Pv=Dp.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=c.fof?c.fof:1,p=e.doKerning!==!1,g=0,m=t.length,y=0,w=o[0]||l,_=[];for(r=0;r<m;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(g=p&&ii(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/d:0,_.push((o[n]||w)/l+g)),y=n;return _},yT=Dp.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Dp.processArabic&&(t=Dp.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Pv.apply(this,arguments).reduce(function(s,a){return s+a},0)},wT=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},_T=function(t,e,r){r||(r={});var n,i,s,a,o,l,c,d=[],p=[d],g=r.textIndent||0,m=0,y=0,w=t.split(" "),_=Pv.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var S=Array(l).join(" "),P=[];w.map(function(V){(V=V.split(/\s*\n/)).length>1?P=P.concat(V.map(function(W,K){return(K&&W.length?`
`:"")+W})):P.push(V[0])}),w=P,l=yT.apply(this,[S,r])}for(s=0,a=w.length;s<a;s++){var A=0;if(n=w[s],l&&n[0]==`
`&&(n=n.substr(1),A=1),g+m+(y=(i=Pv.apply(this,[n,r])).reduce(function(V,W){return V+W},0))>e||A){if(y>e){for(o=wT.apply(this,[n,i,e-(g+m),e]),d.push(o.shift()),d=[o.pop()];o.length;)p.push([o.shift()]);y=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(V,W){return V+W},0)}else d=[n];p.push(d),g=y+l,m=_}else d.push(n),g+=m+y,m=_}return c=l?function(V,W){return(W?S:"")+V.join(" ")}:function(V){return V.join(" ")},p.map(c)},Dp.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(_T.apply(this,[n[o],a,s]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var m,y,w,_,S=["{"];for(var P in g){if(m=g[P],isNaN(parseInt(P,10))?y="'"+P+"'":(P=parseInt(P,10),y=(y=a(P).slice(2)).slice(0,-1)+i[y.slice(-1)]),typeof m=="number")m<0?(w=a(m).slice(3),_="-"):(w=a(m).slice(2),_=""),w=_+w.slice(0,-1)+i[w.slice(-1)];else{if(ii(m)!=="object")throw new Error("Don't know what to do with value type "+ii(m)+".");w=o(m)}S.push(y+w)}return S.push("}"),S.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,y,w,_,S={},P=1,A=S,V=[],W="",K="",j=g.length-1,T=1;T<j;T+=1)(_=g[T])=="'"?m?(w=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(V.push([A,w]),A={},w=void 0):_=="}"?((y=V.pop())[0][y[1]]=A,w=void 0,A=y[0]):_=="-"?P=-1:w===void 0?n.hasOwnProperty(_)?(W+=n[_],w=parseInt(W,16)*P,P=1,W=""):W+=_:n.hasOwnProperty(_)?(K+=n[_],A[w]=parseInt(K,16)*P,P=1,w=void 0,K=""):K+=_;return S},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var m=g.font,y=p.Unicode[m.postScriptName];y&&(m.metadata.Unicode={},m.metadata.Unicode.widths=y.widths,m.metadata.Unicode.kerning=y.kerning);var w=d.Unicode[m.postScriptName];w&&(m.metadata.Unicode.encoding=w,m.encoding=w.codePages[0])}])})(yr.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(sy(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])})(yr),yr.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw wi.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw wi.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Ur.canvg?Promise.resolve(Ur.canvg):md(()=>import("./index.es-DoGylQs3.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},yr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},yr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,d=0,p=0;function g(y,w){var _,S=!1;for(_=0;_<y.length;_+=1)y[_]===w&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(p=0;p<m;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(ii(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&g(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(c=0;c<s.length;c+=1)if(n=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(d=0;d<s[c].length;d+=1)typeof s[c][d]!="number"&&(n=!1);n===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?w.push("/"+y+" /"+r[y].value):w.push("/"+y+" "+r[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(yr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},n=function(s){var a,o,l,c,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(o=Object.keys(s).sort(function(m,y){return m-y})).length;p<g;p++)a=o[p],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",y=0;y<g.length;y++)m+=String.fromCharCode(g[y]);var w=c();d({data:m,addLength1:!0,objectId:w}),l("endobj");var _=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var S=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Hp(o.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var P=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Hp(o.fontName)),l("/FontDescriptor "+S+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+Hp(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+P+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);var y=c();d({data:g,addLength1:!0,objectId:y}),l("endobj");var w=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var _=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Hp(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var S=0;S<o.metadata.hmtx.widths.length;S++)o.metadata.hmtx.widths[S]=parseInt(o.metadata.hmtx.widths[S]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+Hp(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,d=s.options||{},p=s.mutex||{},g=p.pdfEscape,m=p.activeFontKey,y=p.fonts,w=m,_="",S=0,P="",A=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:p};for(P=o,w=m,Array.isArray(o)&&(P=o[0]),S=0;S<P.length;S+=1)y[w].metadata.hasOwnProperty("cmap")&&(a=y[w].metadata.cmap.unicode.codeMap[P[S].charCodeAt(0)]),a||P[S].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?_+=P[S]:_+="";var V="";return parseInt(w.slice(1))<14||A==="WinAnsiEncoding"?V=g(_,w).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(V=r(_,y[w])),p.isHex=!0,{text:V,x:l,y:c,options:d,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])})(yr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(yr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,c,d,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,A=0;this.__bidiEngine__={};var V=function(R){var F=R.charCodeAt(),B=F>>8,ee=w[B];return ee!==void 0?p[256*ee+(255&F)]:B===252||B===253?"AL":S.test(B)?"L":B===8?"R":"N"},W=function(R){for(var F,B=0;B<R.length;B++){if((F=V(R.charAt(B)))==="L")return!1;if(F==="R")return!0}return!1},K=function(R,F,B,ee){var he,ve,fe,se,Y=F[ee];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(Y="AN");break;case"AL":P=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":ee<1||ee+1>=F.length||(he=B[ee-1])!=="EN"&&he!=="AN"||(ve=F[ee+1])!=="EN"&&ve!=="AN"?Y="N":P&&(ve="AN"),Y=ve===he?ve:"N";break;case"ES":Y=(he=ee>0?B[ee-1]:"B")==="EN"&&ee+1<F.length&&F[ee+1]==="EN"?"EN":"N";break;case"ET":if(ee>0&&B[ee-1]==="EN"){Y="EN";break}if(P){Y="N";break}for(fe=ee+1,se=F.length;fe<se&&F[fe]==="ET";)fe++;Y=fe<se&&F[fe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(se=F.length,fe=ee+1;fe<se&&F[fe]==="NSM";)fe++;if(fe<se){var ie=R[ee],G=ie>=1425&&ie<=2303||ie===64286;if(he=F[fe],G&&(he==="R"||he==="AL")){Y="R";break}}}Y=ee<1||(he=F[ee-1])==="B"?"N":B[ee-1];break;case"B":P=!1,i=!0,Y=A;break;case"S":s=!0,Y="N"}return Y},j=function(R,F,B){var ee=R.split("");return B&&T(ee,B,{hiLevel:A}),ee.reverse(),F&&F.reverse(),ee.join("")},T=function(R,F,B){var ee,he,ve,fe,se,Y=-1,ie=R.length,G=0,I=[],z=A?m:g,X=[];for(P=!1,i=!1,s=!1,he=0;he<ie;he++)X[he]=V(R[he]);for(ve=0;ve<ie;ve++){if(se=G,I[ve]=K(R,X,I,ve),ee=240&(G=z[se][y[I[ve]]]),G&=15,F[ve]=fe=z[G][5],ee>0)if(ee===16){for(he=Y;he<ve;he++)F[he]=1;Y=-1}else Y=-1;if(z[G][6])Y===-1&&(Y=ve);else if(Y>-1){for(he=Y;he<ve;he++)F[he]=fe;Y=-1}X[ve]==="B"&&(F[ve]=0),B.hiLevel|=fe}s&&(function(J,ce,we){for(var ke=0;ke<we;ke++)if(J[ke]==="S"){ce[ke]=A;for(var oe=ke-1;oe>=0&&J[oe]==="WS";oe--)ce[oe]=A}})(X,F,ie)},C=function(R,F,B,ee,he){if(!(he.hiLevel<R)){if(R===1&&A===1&&!i)return F.reverse(),void(B&&B.reverse());for(var ve,fe,se,Y,ie=F.length,G=0;G<ie;){if(ee[G]>=R){for(se=G+1;se<ie&&ee[se]>=R;)se++;for(Y=G,fe=se-1;Y<fe;Y++,fe--)ve=F[Y],F[Y]=F[fe],F[fe]=ve,B&&(ve=B[Y],B[Y]=B[fe],B[fe]=ve);G=se}G++}}},D=function(R,F,B){var ee=R.split(""),he={hiLevel:A};return B||(B=[]),T(ee,B,he),(function(ve,fe,se){if(se.hiLevel!==0&&d)for(var Y,ie=0;ie<ve.length;ie++)fe[ie]===1&&(Y=_.indexOf(ve[ie]))>=0&&(ve[ie]=_[Y+1])})(ee,B,he),C(2,ee,F,B,he),C(1,ee,F,B,he),ee.join("")};return this.__bidiEngine__.doBidiReorder=function(R,F,B){if((function(he,ve){if(ve)for(var fe=0;fe<he.length;fe++)ve[fe]=fe;o===void 0&&(o=W(he)),c===void 0&&(c=W(he))})(R,F),a||!l||c)if(a&&l&&o^c)A=o?1:0,R=j(R,F,B);else if(!a&&l&&c)A=o?1:0,R=D(R,F,B),R=j(R,F);else if(!a||o||l||c){if(a&&!l&&o^c)R=j(R,F),o?(A=0,R=D(R,F,B)):(A=1,R=D(R,F,B),R=j(R,F));else if(a&&o&&!l&&c)A=1,R=D(R,F,B),R=j(R,F);else if(!a&&!l&&o^c){var ee=d;o?(A=1,R=D(R,F,B),A=0,d=!1,R=D(R,F,B),d=ee):(A=0,R=D(R,F,B),R=j(R,F),A=1,d=!1,R=D(R,F,B),d=ee,R=j(R,F))}}else A=0,R=D(R,F,B);else A=o?1:0,R=D(R,F,B);return R},this.__bidiEngine__.setOptions=function(R){R&&(a=R.isInputVisual,l=R.isOutputVisual,o=R.isInputRtl,c=R.isOutputRtl,d=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(yr),yr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Jf(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new jpe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ype(this.contents),this.head=new _pe(this),this.name=new Cpe(this),this.cmap=new zM(this),this.toUnicode={},this.hhea=new bpe(this),this.maxp=new Npe(this),this.hmtx=new Tpe(this),this.post=new Spe(this),this.os2=new kpe(this),this.loca=new Rpe(this),this.glyf=new Ape(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Yc,Jf=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t})(),ype=(function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,c,d,p,g,m,y,w;for(w in m=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(m)/l),a=Math.floor(p/l),d=16*m-p,(i=new Jf).writeInt(this.scalarType),i.writeShort(m),i.writeShort(p),i.writeShort(a),i.writeShort(d),s=16*m,c=i.pos+s,o=null,y=[],r)for(g=r[w],i.writeString(w),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),y=y.concat(g),w==="head"&&(o=c),c+=g.length;c%4;)y.push(0),c++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=$M.call(r);r.length%4;)r.push(0);for(s=new Jf(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e})(),wpe={}.hasOwnProperty,Uu=function(t,e){for(var r in e)wpe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Yc=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var _pe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Jf).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),IT=(function(){function t(e,r){var n,i,s,a,o,l,c,d,p,g,m,y,w,_,S,P,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=(function(){var V,W;for(W=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)W.push(e.readUInt16());return W})(),e.pos+=2,w=(function(){var V,W;for(W=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)W.push(e.readUInt16());return W})(),c=(function(){var V,W;for(W=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)W.push(e.readUInt16());return W})(),d=(function(){var V,W;for(W=[],l=V=0;0<=g?V<g:V>g;l=0<=g?++V:--V)W.push(e.readUInt16());return W})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var V,W;for(W=[],l=V=0;0<=i?V<i:V>i;l=0<=i?++V:--V)W.push(e.readUInt16());return W})(),l=S=0,A=s.length;S<A;l=++S)for(_=s[l],n=P=y=w[l];y<=_?P<=_:P>=_;n=y<=_?++P:--P)d[l]===0?a=n+c[l]:(a=o[d[l]/2+(n-y)-(g-l)]||0)!==0&&(a+=c[l]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,i,s,a,o,l,c,d,p,g,m,y,w,_,S,P,A,V,W,K,j,T,C,D,R,F,B,ee,he,ve,fe,se,Y,ie,G,I,z,X,J,ce,we,ke,oe,Ee,Oe,re;switch(ee=new Jf,a=Object.keys(e).sort(function(_e,Re){return _e-Re}),r){case"macroman":for(w=0,_=(function(){var _e=[];for(y=0;y<256;++y)_e.push(0);return _e})(),P={0:0},s={},he=0,Y=a.length;he<Y;he++)P[oe=e[i=a[he]]]==null&&(P[oe]=++w),s[i]={old:e[i],new:P[e[i]]},_[i]=P[e[i]];return ee.writeUInt16(1),ee.writeUInt16(0),ee.writeUInt32(12),ee.writeUInt16(0),ee.writeUInt16(262),ee.writeUInt16(0),ee.write(_),{charMap:s,subtable:ee.data,maxGlyphID:w+1};case"unicode":for(F=[],p=[],A=0,P={},n={},S=c=null,ve=0,ie=a.length;ve<ie;ve++)P[W=e[i=a[ve]]]==null&&(P[W]=++A),n[i]={old:W,new:P[W]},o=P[W]-i,S!=null&&o===c||(S&&p.push(S),F.push(i),c=o),S=i;for(S&&p.push(S),p.push(65535),F.push(65535),D=2*(C=F.length),T=2*Math.pow(Math.log(C)/Math.LN2,2),g=Math.log(T/2)/Math.LN2,j=2*C-T,l=[],K=[],m=[],y=fe=0,G=F.length;fe<G;y=++fe){if(R=F[y],d=p[y],R===65535){l.push(0),K.push(0);break}if(R-(B=n[R].new)>=32768)for(l.push(0),K.push(2*(m.length+C-y)),i=se=R;R<=d?se<=d:se>=d;i=R<=d?++se:--se)m.push(n[i].new);else l.push(B-R),K.push(0)}for(ee.writeUInt16(3),ee.writeUInt16(1),ee.writeUInt32(12),ee.writeUInt16(4),ee.writeUInt16(16+8*C+2*m.length),ee.writeUInt16(0),ee.writeUInt16(D),ee.writeUInt16(T),ee.writeUInt16(g),ee.writeUInt16(j),we=0,I=p.length;we<I;we++)i=p[we],ee.writeUInt16(i);for(ee.writeUInt16(0),ke=0,z=F.length;ke<z;ke++)i=F[ke],ee.writeUInt16(i);for(Ee=0,X=l.length;Ee<X;Ee++)o=l[Ee],ee.writeUInt16(o);for(Oe=0,J=K.length;Oe<J;Oe++)V=K[Oe],ee.writeUInt16(V);for(re=0,ce=m.length;re<ce;re++)w=m[re],ee.writeUInt16(w);return{charMap:n,subtable:ee.data,maxGlyphID:A+1}}},t})(),zM=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new IT(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=IT.encode(e,r),(i=new Jf).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),bpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),kpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Spe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t})(),Epe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Cpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,c,d,p,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=d=0,p=n.length;d<p;s=++d)i=n[s],e.pos=i.offset,c=e.readString(i.length),a=new Epe(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),Npe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Tpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,d;for(d=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)d.push(e.readInt16());return d})(),this.widths=(function(){var c,d,p,g;for(g=[],c=0,d=(p=this.metrics).length;c<d;c++)s=p[c],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),$M=[].slice,Ape=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,c,d,p;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new Jf(r.read(i))).readShort(),c=o.readShort(),p=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=a===-1?new Ppe(o,c,p,l,d):new Ipe(o,a,c,p,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t})(),Ipe=(function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Ppe=(function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Jf($M.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Rpe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Uu(t,Yc),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},t})(),jpe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,c,d,p,g,m,y,w,_,S;for(i in n=zM.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},S=n.charMap)m[(l=S[i]).old]=l.new;for(y in g=n.maxGlyphID,a)y in m||(m[y]=g++);return d=(function(P){var A,V;for(A in V={},P)V[P[A]]=A;return V})(m),p=Object.keys(d).sort(function(P,A){return P-A}),w=(function(){var P,A,V;for(V=[],P=0,A=p.length;P<A;P++)o=p[P],V.push(d[o]);return V})(),s=this.font.glyf.encode(a,w,m),c=this.font.loca.encode(s.offsets,w),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t})();yr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+(function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e})();function qM(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=o*l,d=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(d):t,g=p.length||1),r+=o*(2-s),n.valign==="middle"?r-=g/2*c:n.valign==="bottom"&&(r-=g*c),n.halign==="center"||n.halign==="right"){var m=o;if(n.halign==="center"&&(m*=.5),p&&g>=1){for(var y=0;y<p.length;y++)i.text(p[y],e-i.getStringUnitWidth(p[y])*m,r),r+=c;return i}e-=i.getStringUnitWidth(t)*m}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var PT={},g1=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:PT=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var d=t.unifyColor(e.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=t.unifyColor(e.textColor),d&&(i=this.jsPDFDocument).setTextColor.apply(i,d),d=t.unifyColor(e.lineColor),d&&(s=this.jsPDFDocument).setDrawColor.apply(s,d),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return PT||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),gb=function(t,e){return gb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},gb(t,e)};function HM(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gb(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var WM=(function(t){HM(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function Lpe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Fpe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function u5(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function GM(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=KM(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function KM(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function p4(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function YM(t,e){var r=p4(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Dpe(t,e,r,n,i){var s={},a=1.3333333333333333,o=E3(e,function(A){return i.getComputedStyle(A).backgroundColor});o!=null&&(s.fillColor=o);var l=E3(e,function(A){return i.getComputedStyle(A).color});l!=null&&(s.textColor=l);var c=Mpe(n,r);c&&(s.cellPadding=c);var d="borderTopColor",p=a*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var m=(parseFloat(g)||0)/p;m&&(s.lineWidth=m)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?d="borderRightColor":s.lineWidth.bottom?d="borderBottomColor":s.lineWidth.left&&(d="borderLeftColor"));var y=E3(e,function(A){return i.getComputedStyle(A)[d]});y!=null&&(s.lineColor=y);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(s.fontSize=_/a);var S=Ope(n);S&&(s.fontStyle=S);var P=(n.fontFamily||"").toLowerCase();return t.indexOf(P)!==-1&&(s.font=P),s}function Ope(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function E3(t,e){var r=XM(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function XM(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:XM(t.parentElement,e):r}function Mpe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=p4(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function QM(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),d=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:d,body:p,foot:g};for(var m=0;m<o.rows.length;m++){var y=o.rows[m],w=(a=(s=y?.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),_=Vpe(l,c,r,y,n,i);_&&(w==="thead"?d.push(_):w==="tfoot"?g.push(_):p.push(_))}return{head:d,body:p,foot:g}}function Vpe(t,e,r,n,i,s){for(var a=new WM(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(i||c.display!=="none"){var d=void 0;s&&(d=Dpe(t,l,e,c,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:Bpe(l)})}}var p=r.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function Bpe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Upe(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function fd(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function JM(t,e){var r=new g1(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();Upe(i,n,e);var s=fd({},i,n,e),a;typeof window<"u"&&(a=window);var o=zpe(i,n,e),l=$pe(i,n,e),c=qpe(r,s),d=Wpe(r,s,a);return{id:e.tableId,content:d,hooks:l,styles:o,settings:c}}function zpe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],d=e[l],p=r[l];n.columnStyles=fd({},c,d,p)}else{var g=[t,e,r],m=g.map(function(y){return y[l]||{}});n[l]=fd({},m[0],m[1],m[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function $pe(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function qpe(t,e){var r,n,i,s,a,o,l,c,d,p,g,m,y=p4(e.margin,40/t.scaleFactor()),w=(r=Hpe(t,e.startY))!==null&&r!==void 0?r:y.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var S;e.showHead===!0?S="everyPage":e.showHead===!1?S="never":S=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var P=(s=e.useCss)!==null&&s!==void 0?s:!1,A=e.theme||(P?"plain":"striped"),V=!!e.horizontalPageBreak,W=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:P,theme:A,startY:w,margin:y,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(d=e.tableWidth)!==null&&d!==void 0?d:"auto",showHead:S,showFoot:_,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:V,horizontalPageBreakRepeat:W,horizontalPageBreakBehaviour:(m=e.horizontalPageBreakBehaviour)!==null&&m!==void 0?m:"afterAllRows"}}function Hpe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&r?.finalY!=null?r.finalY+20/n:null}function Wpe(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=QM(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Gpe(n,i,s);return{columns:l,head:n,body:i,foot:s}}function Gpe(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=o?.colSpan||1);for(var l=0;l<a;l++){var c=void 0;Array.isArray(n)?c=i.length:c=s+(l>0?"_".concat(l):"");var d={dataKey:c};i.push(d)}}),i}var xb=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),Kpe=(function(t){HM(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e})(xb),Ype=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var c=l[o],d=new Kpe(e,this,n,i,s,a),p=c(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new xb(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new xb(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),ZM=(function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof WM&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),c=l+o;return c>i?c:i},0)},t})(),eV=(function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=p4(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),Xpe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t})();function Qpe(t,e){Jpe(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=vb(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=vb(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),e1e(e),t1e(e,t),Zpe(e)}function Jpe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=YM(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){var d=e.hooks.didParseCell;e.callCellHooks(t,d,c,s,l,null);var p=c.padding("horizontal");c.contentWidth=u5(c.text,c.styles,t)+p;var g=u5(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=g+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var m=10/r;c.minWidth=c.styles.minCellWidth||m,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var d=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=d.cellWidth||d.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function vb(t,e,r){for(var n=e,i=t.reduce(function(m,y){return m+y.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,c=a.width+l,d=r(a),p=c<d?d:c;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(m){return e<0?m.width>r(m):!0});g.length&&(e=vb(g,e,r))}return e}function Zpe(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,r=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var d=s.cells[l.index];if(!d)continue;if(d.height=s.height,d.rowSpan>1){var p=n.length-i,g=d.rowSpan>p?p:d.rowSpan;e[l.index]={cell:d,left:g,row:s}}}}}function e1e(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+s}else{var c=n.cells[l.index];if(!c)continue;if(a=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function t1e(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,d+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=RT(c.text,d,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=RT(c.text,d,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var p=c.styles.overflow(c.text,d);typeof p=="string"?c.text=[p]:c.text=p}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<g*c.rowSpan?r={height:g,count:c.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function RT(t,e,r,n,i){return t.map(function(s){return r1e(s,e,r,n,i)})}function r1e(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=u5(t,r,n))return t;for(;e<u5(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function tV(t,e){var r=new g1(t),n=n1e(e,r.scaleFactor()),i=new Ype(e,n);return Qpe(r,i),r.applyStyles(r.userStyles),i}function n1e(t,e){var r=t.content,n=s1e(r.columns);if(r.head.length===0){var i=jT(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=jT(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:C3("head",r.head,n,a,s,e),body:C3("body",r.body,n,a,s,e),foot:C3("foot",r.foot,n,a,s,e)}}function C3(t,e,r,n,i,s){var a={},o=e.map(function(l,c){for(var d=0,p={},g=0,m=0,y=0,w=r;y<w.length;y++){var _=w[y];if(a[_.index]==null||a[_.index].left===0)if(m===0){var S=void 0;Array.isArray(l)?S=l[_.index-g-d]:S=l[_.dataKey];var P={};typeof S=="object"&&!Array.isArray(S)&&(P=S?.styles||{});var A=a1e(t,_,c,i,n,s,P),V=new eV(S,A,t);p[_.dataKey]=V,p[_.index]=V,m=V.colSpan-1,a[_.index]={left:V.rowSpan-1,times:m}}else m--,g++;else a[_.index].left--,m=a[_.index].times,d++}return new ZM(l,c,t,p)});return o}function jT(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=i1e(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function i1e(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function s1e(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new Xpe(i,e,r)})}function a1e(t,e,r,n,i,s,a){var o=Fpe(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=fd({},o.table,o[t],i.styles,l),d=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?d:{},g=t==="body"&&r%2===0?fd({},o.alternateRow,i.alternateRowStyles):{},m=Lpe(s),y=fd({},m,c,g,p);return fd(y,a)}function o1e(t,e,r){var n;r===void 0&&(r={});var i=YM(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var m=e.columns.find(function(y){return y.dataKey===g||y.index===g});m&&!s.has(m.index)&&(s.set(m.index,!0),a.push(m.index),o.push(e.columns[m.index]),i-=m.wrappedWidth)});for(var c=!0,d=(n=r?.start)!==null&&n!==void 0?n:0;d<e.columns.length;){if(s.has(d)){d++;continue}var p=e.columns[d].wrappedWidth;if(c||i>=p)c=!1,a.push(d),o.push(e.columns[d]),i-=p;else break;d++}return{colIndexes:a,columns:o,lastIndex:d-1}}function l1e(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=o1e(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function rV(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(g,m){return g+m.height},0);o+=c}var d=new g1(t);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(iV(d),s.y=i.top),e.callWillDrawPageHooks(d,s);var p=fd({},s);e.startPageNumber=d.pageNumber(),r.horizontalPageBreak?c1e(d,e,p,s):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return Ed(d,e,g,s,e.columns)}),d.applyStyles(d.userStyles),e.body.forEach(function(g,m){var y=m===e.body.length-1;d5(d,e,g,y,p,s,e.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return Ed(d,e,g,s,e.columns)})),GM(d,e,p,s),e.callEndPageHooks(d,s),e.finalY=s.y,t.lastAutoTable=e,d.applyStyles(d.userStyles)}function c1e(t,e,r,n){var i=l1e(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,d){t.applyStyles(t.userStyles),d>0?Lg(t,e,r,n,c.columns,!0):LT(t,e,n,c.columns),u1e(t,e,r,n,c.columns),N3(t,e,n,c.columns)});else for(var a=-1,o=i[0],l=function(){var c=a;if(o){t.applyStyles(t.userStyles);var d=o.columns;a>=0?Lg(t,e,r,n,d,!0):LT(t,e,n,d),c=FT(t,e,a+1,n,d),N3(t,e,n,d)}var p=c-a;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Lg(t,e,r,n,g.columns,!0),FT(t,e,a+1,n,g.columns,p),N3(t,e,n,g.columns)}),a=c};a<e.body.length-1;)l()}function LT(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Ed(t,e,s,r,n)})}function u1e(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;d5(t,e,s,o,r,n,i)})}function FT(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,c){var d=r+c===e.body.length-1,p=nV(t,e,d,n);l.canEntireRowFit(p,i)&&(Ed(t,e,l,n,i),o=r+c)}),o}function N3(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ed(t,e,s,r,n)})}function d1e(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function f1e(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var d=new eV(c.raw,c.styles,c.section);d=fd(d,c),d.text=[];var p=d1e(c,e,n);c.text.length>p&&(d.text=c.text.splice(p,c.text.length));var g=n.scaleFactor(),m=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(g,m),c.contentHeight>=e&&(c.contentHeight=e,d.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),d.contentHeight=d.getContentHeight(g,m),d.contentHeight>s&&(s=d.contentHeight),i[l.index]=d}}var y=new ZM(t.raw,-1,t.section,i,!0);y.height=s;for(var w=0,_=r.columns;w<_.length;w++){var l=_[w],d=y.cells[l.index];d&&(d.height=y.height);var c=t.cells[l.index];c&&(c.height=t.height)}return y}function h1e(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var d=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(d&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function d5(t,e,r,n,i,s,a){var o=nV(t,e,n,s);if(r.canEntireRowFit(o,a))Ed(t,e,r,s,a);else if(h1e(t,r,o,e)){var l=f1e(r,o,e,t);Ed(t,e,r,s,a),Lg(t,e,i,s,a),d5(t,e,l,n,i,s,a)}else Lg(t,e,i,s,a),d5(t,e,r,n,i,s,a)}function Ed(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}p1e(t,l,n);var d=l.getTextPos();qM(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function p1e(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=KM(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),m1e(t,e,r,n.lineWidth))}function m1e(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(c,d,p,g,m){t.getDocument().setLineWidth(c),t.getDocument().line(d,p,g,m,"S")}}function nV(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Lg(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return Ed(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;GM(t,e,r,n),iV(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return Ed(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function iV(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function g1e(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=JM(this,n),s=tV(this,i);return rV(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){qM(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return g1.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){g1.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new g1(this),s=QM(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var T3;function DT(t,e){var r=JM(t,e),n=tV(t,r);rV(t,n)}try{if(typeof window<"u"&&window){var OT=window,MT=OT.jsPDF||((T3=OT.jspdf)===null||T3===void 0?void 0:T3.jsPDF);MT&&g1e(MT)}}catch(t){console.error("Could not apply autoTable plugin",t)}async function x1e(t){const e=new yr;e.setFont("helvetica","normal"),e.setFontSize(16),e.text("Pharmacy Profile Report",20,20),e.setFontSize(12),e.text(`Name: ${t?.displayName||"Pharmacy"}`,20,35),e.text(`Email: ${t?.email||""}`,20,45);const r=await os(doc(ht,"pharmacies",t.uid)),n=r.exists()?r.data():{};e.text(`Address: ${n.address||""}`,20,55),e.text(`Phone: ${n.phone||""}`,20,65);const s=(await On(Er(tr(ht,"products"),Vr("pharmacyId","==",t.uid)))).docs.map(c=>({id:c.id,...c.data()}));DT(e,{startY:75,head:[["Product Name","Category","Stock","SKU","Price"]],body:s.map(c=>[c.name,c.category,c.stock,c.sku,`₦${Number(c.price).toLocaleString()}`]),theme:"striped",headStyles:{fillColor:[54,165,255]},styles:{fontSize:10}});const o=(await On(Er(tr(ht,"orders"),Vr("pharmacyId","==",t.uid)))).docs.map(c=>({id:c.id,...c.data()}));let l=e.lastAutoTable?e.lastAutoTable.finalY+10:100;e.setFontSize(14),e.text("Orders",20,l),l+=6,DT(e,{startY:l,head:[["Order ID","Date","Total","Items"]],body:o.map(c=>[c.id.slice(0,8),c.createdAt?.toDate?.().toLocaleString?.()||"",`₦${Number(c.total).toLocaleString()}`,(c.items||[]).map(d=>`${d.name||d.productId} x${d.qty||d.quantity||1}`).join(", ")]),theme:"striped",headStyles:{fillColor:[54,165,255]},styles:{fontSize:9}}),e.save("pharmacy-profile-report.pdf")}const v1e=({title:t,searchValue:e,onSearchChange:r,onSearchSubmit:n,onSettingsClick:i})=>{const{t:s}=cs();return Us.createPortal(u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:u.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"mt-8 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:s("pharmacy_profile",`Pharmacy
Profile`).replace("\\n",`
`)}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:n,"aria-label":"Search",className:"ml-2 rounded-full p-2 hover:bg-sky-50",children:u.jsx(dh,{className:"h-5 w-5 text-sky-600 mt-8"})}),u.jsx("button",{onClick:i,"aria-label":"Open settings",className:"ml-2 rounded-full p-2 hover:bg-sky-50 transition-all duration-200",children:u.jsx(Wy,{className:"h-5 w-5 text-sky-600 mt-8"})})]})]})})}),document.body)};function sV({onSwitchToCustomer:t}){const{user:e,logout:r,profile:n}=In(),{t:i}=cs(),[s,a]=L.useState([]),[o,l]=L.useState(!1),[c,d]=L.useState(0),[p,g]=L.useState(0),[m,y]=L.useState(0),[w,_]=L.useState(null),[S,P]=L.useState(""),[A,V]=L.useState(""),[W,K]=L.useState(""),[j,T]=L.useState(""),[C,D]=L.useState(""),[R,F]=L.useState(""),[B,ee]=L.useState(null),[he,ve]=L.useState(!1),[fe,se]=L.useState(!1),[Y,ie]=L.useState(!1),[G,I]=L.useState(new Set),[z,X]=L.useState({displayName:e?.displayName||"Pharmacy",address:"",phone:"",email:e?.email||"",isVerified:n?.isVerified??!1}),[J,ce]=L.useState(""),[we,ke]=L.useState(""),[oe,Ee]=L.useState(!1),[Oe,re]=L.useState("products"),[_e,Re]=L.useState(null),[pe,Ye]=L.useState(!0),[ze,ot]=L.useState(!1),[Ve,He]=L.useState({pharmacyName:"",contactName:"",contactEmail:"",contactPhone:"",addressLine1:"",city:"",state:"",postalCode:"",registrationNumber:"",taxId:"",licenseUrl:"",ownerIdUrl:"",website:"",ownerName:"",yearsInBusiness:"",additionalNotes:""}),[ut,Et]=L.useState(""),[St,je]=L.useState(!1),[Ke,Qe]=L.useState(""),ae={pending:{label:"Pending review",tone:"bg-amber-100 text-amber-700"},in_review:{label:"In review",tone:"bg-sky-100 text-sky-700"},approved:{label:"Verified",tone:"bg-emerald-100 text-emerald-700"},rejected:{label:"Rejected",tone:"bg-rose-100 text-rose-700"},needs_more_info:{label:"Action required",tone:"bg-amber-100 text-amber-700"}},[Le,We]=L.useState(0),lt=[{key:"business",title:"Business details",description:"Introduce your pharmacy and primary point of contact."},{key:"compliance",title:"Compliance documents",description:"Share your registered address and regulatory identifiers."},{key:"extras",title:"Optional extras",description:"Add supporting context to speed up approval."}],xt={0:["pharmacyName","contactName","contactEmail","contactPhone"],1:["addressLine1","city","state","registrationNumber","licenseUrl"]},Ut=lt.length,[Kt,Ct]=L.useState(!1),Mt=L.useRef(null),Pr=L.useRef(Ve),Zt=L.useRef(Le),wr=L.useRef(null);L.useEffect(()=>{e&&e.role==="pharmacy"&&re("all")},[e]),L.useEffect(()=>{if(!e?.uid){Re(null);return}Ye(!0);const Fe=Er(tr(ht,"verificationQueue"),Vr("submittedByUid","==",e.uid)),Bt=Nn(Fe,Yt=>{const er=Yt.docs[0];er?(wr.current=er.id,Re({id:er.id,...er.data()})):(wr.current=null,Re(null)),Ye(!1)},Yt=>{console.error("[ProfilePharmacy] verification listener error",Yt),Ye(!1)});return()=>Bt()},[e?.uid]),L.useEffect(()=>{Pr.current=Ve},[Ve]),L.useEffect(()=>{Zt.current=Le},[Le]),L.useEffect(()=>()=>{Mt.current&&clearTimeout(Mt.current)},[]),L.useEffect(()=>{if(!ze)return;const Fe=gr();He(Fe),Pr.current=Fe,Et("");const Bt=typeof _e?.draftStep=="number"?Math.min(Math.max(0,_e.draftStep),Ut-1):0;We(Bt),Zt.current=Bt},[ze,_e,z,n,e]);const[_r,Pn]=L.useState(null),[pn,$r]=L.useState([]),[cr,Wr]=L.useState(null),[na,li]=L.useState(null),[Ss,ci]=L.useState(null),gr=()=>{const Fe=Array.isArray(_e?.documents)?_e.documents:[],Bt=Yt=>{const er=Yt.toLowerCase();return Fe.find(Qr=>(Qr?.name||"").toLowerCase()===er)?.url};return{pharmacyName:_e?.entityName||z.displayName||n?.businessName||"",contactName:_e?.contactName||n?.ownerName||"",contactEmail:_e?.contactEmail||z.email||e?.email||"",contactPhone:_e?.contactPhone||z.phone||"",addressLine1:_e?.location?.addressLine1||z.address||"",city:_e?.location?.city||"",state:_e?.location?.state||"",postalCode:_e?.location?.postalCode||"",registrationNumber:_e?.registrationNumber||n?.registrationNumber||"",taxId:_e?.taxId||n?.taxId||"",licenseUrl:Bt("pharmacy license")||Bt("license")||Fe[0]?.url||"",ownerIdUrl:Bt("owner id")||Bt("owner identification")||"",website:_e?.metadata?.website||n?.website||"",ownerName:_e?.metadata?.ownerName||n?.ownerName||"",yearsInBusiness:_e?.metadata?.yearsInBusiness||"",additionalNotes:_e?.notes||""}},wn=Fe=>{const Bt=[Fe.licenseUrl?.trim()?{name:"Pharmacy License",url:Fe.licenseUrl.trim()}:null,Fe.ownerIdUrl?.trim()?{name:"Owner Identification",url:Fe.ownerIdUrl.trim()}:null].filter(Boolean),Yt={addressLine1:Fe.addressLine1?.trim()||"",city:Fe.city?.trim()||"",state:Fe.state?.trim()||"",postalCode:Fe.postalCode?.trim()||""},er={website:Fe.website?.trim()||null,ownerName:Fe.ownerName?.trim()||null,yearsInBusiness:Fe.yearsInBusiness?.trim()||null};return{entityName:Fe.pharmacyName?.trim()||"",contactName:Fe.contactName?.trim()||"",contactEmail:Fe.contactEmail?.trim()||"",contactPhone:Fe.contactPhone?.trim()||"",registrationNumber:Fe.registrationNumber?.trim()||"",taxId:Fe.taxId?.trim()||"",documents:Bt,location:Yt,metadata:er,notes:Fe.additionalNotes?.trim()||""}},Es=async(Fe,Bt)=>{if(!e?.uid||St||(Mt.current=null,!ze))return;const Yt=Fe||Pr.current,er=typeof Bt=="number"?Bt:Zt.current,Qr={...wn(Yt),draftStep:er,updatedAt:ki()};try{Ct(!0);const xi=_e?.id||wr.current;if(xi)await ri(Qt(ht,"verificationQueue",xi),{...Qr});else{const Rn=await Gf(tr(ht,"verificationQueue"),{...Qr,applicantType:"pharmacy",submittedBy:z.displayName||e?.displayName||e?.email||"Pharmacy",submittedByUid:e?.uid||"",priority:"medium",status:"draft",draft:!0,createdAt:ki()});wr.current=Rn.id}}catch(xi){console.error("[ProfilePharmacy] verification autosave failed",xi)}finally{Ct(!1)}},Bn=(Fe,Bt)=>{if(!ze||St)return;Mt.current&&clearTimeout(Mt.current);const Yt=Fe||Pr.current,er=typeof Bt=="number"?Bt:Zt.current;Mt.current=setTimeout(()=>{Es(Yt,er)},600)},tn=(Fe,Bt)=>{He(Yt=>{const er={...Yt,[Fe]:Bt};return Pr.current=er,Bn(er,Zt.current),er})},Sn=(Fe=Le)=>(xt[Fe]||[]).filter(er=>!String(Ve[er]||"").trim()).length?(Et("Please fill in all required fields before continuing."),!1):(Et(""),!0),Xn=()=>{Sn(Le)&&We(Fe=>{const Bt=Math.min(Fe+1,Ut-1);return Zt.current=Bt,Bn(Pr.current,Bt),Bt})},le=()=>{Et(""),We(Fe=>{const Bt=Math.max(Fe-1,0);return Zt.current=Bt,Bn(Pr.current,Bt),Bt})},Ae=(Fe,Bt="pending")=>({actor:z.displayName||e?.displayName||e?.email||"Pharmacy",message:Fe,status:Bt,timestamp:new Date}),be=Fe=>ae[Fe]||{label:"Not submitted",tone:"bg-slate-200 text-slate-600"},Se=Fe=>{try{if(!Fe)return"";const Bt=Fe.toDate?Fe.toDate():new Date(Fe);return!Bt||Number.isNaN(Bt.getTime())?"":Bt.toLocaleString()}catch{return""}},Pe=async Fe=>{if(Fe?.preventDefault&&Fe.preventDefault(),St||!Sn(Le))return;if(["pharmacyName","contactName","contactEmail","contactPhone","addressLine1","city","state","registrationNumber","licenseUrl"].filter(er=>!String(Ve[er]||"").trim()).length>0){Et("Please fill in all required fields before submitting.");return}je(!0),Et("");try{const hr={...wn(Ve),status:"pending",draft:!1,draftStep:null,updatedAt:ki()};if(_e?.id){const Qr=Qt(ht,"verificationQueue",_e.id);await ri(Qr,{...hr,auditTrail:_g(Ae("Pharmacy updated verification submission","pending"))})}else{const Qr=await Gf(tr(ht,"verificationQueue"),{...hr,applicantType:"pharmacy",submittedBy:z.displayName||e?.displayName||e?.email||"Pharmacy",submittedByUid:e?.uid||"",priority:"medium",submittedAt:ki(),auditTrail:[Ae("Pharmacy submitted verification request")],checklist:{licenseValidated:!1,addressVerified:!1,taxIdVerified:!1,phoneVerified:!1}});wr.current=Qr.id}Qe("Your verification documents have been sent for review."),Mt.current&&(clearTimeout(Mt.current),Mt.current=null),ot(!1),We(0),Zt.current=0}catch(er){console.error("[ProfilePharmacy] verification submission failed",er),Et(er?.message||"Unable to submit verification right now. Please try again.")}finally{je(!1)}},Ie=40;function Xe(Fe){if(!Fe)return null;if(Fe.latitude&&Fe.longitude)return{lat:Number(Fe.latitude),lng:Number(Fe.longitude)};if(Fe.lat&&Fe.lng)return{lat:Number(Fe.lat),lng:Number(Fe.lng)};if(Fe.lat&&Fe.lon)return{lat:Number(Fe.lat),lng:Number(Fe.lon)};if(Fe.location&&typeof Fe.location=="object"){if(Fe.location.lat&&Fe.location.lng)return{lat:Number(Fe.location.lat),lng:Number(Fe.location.lng)};if(Fe.location.latitude&&Fe.location.longitude)return{lat:Number(Fe.location.latitude),lng:Number(Fe.location.longitude)}}if(Fe.coords&&typeof Fe.coords=="object"){if(Fe.coords.latitude&&Fe.coords.longitude)return{lat:Number(Fe.coords.latitude),lng:Number(Fe.coords.longitude)};if(Fe.coords.lat&&Fe.coords.lng)return{lat:Number(Fe.coords.lat),lng:Number(Fe.coords.lng)}}return null}function dt(Fe,Bt){if(!Fe||!Bt)return null;const Yt=Si=>Si*Math.PI/180,er=6371,hr=Yt(Bt.lat-Fe.lat),Qr=Yt(Bt.lng-Fe.lng),xi=Yt(Fe.lat),Rn=Yt(Bt.lat),gn=Math.sin(hr/2),En=Math.sin(Qr/2),Oi=gn*gn+Math.cos(xi)*Math.cos(Rn)*En*En,rn=2*Math.atan2(Math.sqrt(Oi),Math.sqrt(1-Oi));return er*rn}function tt(Fe,Bt){if(Fe==null||Bt==null||Bt<=0)return null;const Yt=Fe/Bt,er=Math.round(Yt*60);if(er<60)return`${er} min`;const hr=Math.floor(er/60),Qr=er%60;return`${hr}h ${Qr}m`}L.useEffect(()=>{if(na||!("geolocation"in navigator))return;let Fe=!0;return navigator.geolocation.getCurrentPosition(Bt=>{Fe&&li({lat:Bt.coords.latitude,lng:Bt.coords.longitude})},Bt=>{console.debug("[ProfilePharmacy] geolocation error",Bt)},{enableHighAccuracy:!1,timeout:1e4}),()=>{Fe=!1}},[]),L.useEffect(()=>{if(!cr)return ci(null);const Fe=Xe(cr.data);if(!Fe){ci(null);return}let Bt=na||null;if(!Bt&&cr&&cr.source==="users"){const hr=Xe(cr.data);hr&&(Bt=hr)}if(!Bt){ci(null);return}const Yt=dt(Bt,Fe);if(Yt==null){ci(null);return}const er=tt(Yt,Ie);ci({distanceKm:Yt,eta:er,speedKmh:Ie,pharmCoords:Fe,custCoords:Bt})},[cr,na]);const et=oi();L.useEffect(()=>{const Fe=n?.uid||e?.uid;if(Fe)return Z5(a,Fe)},[n,e]),L.useEffect(()=>{const Fe=n?.uid||e?.uid;if(!Fe)return;On(Er(tr(ht,"orders"),Vr("pharmacyId","==",Fe))).then(gn=>{let En=0;gn.forEach(Oi=>{const rn=Oi.data();En+=(rn.items||[]).reduce((Si,ya)=>Si+(ya.count||ya.qty||ya.quantity||1),0)}),d(En)}).catch(()=>{}),On(Er(tr(ht,"threads"),Vr("vendorId","==",Fe))).then(gn=>{g(gn.size)}).catch(()=>{}),On(Er(tr(ht,"reviews"),Vr("pharmacyId","==",Fe))).then(gn=>{y(gn.size)}).catch(()=>{});const Bt=Qt(ht,"pharmacies",Fe),Yt=Qt(ht,"users",Fe);let er=null,hr=null;const Qr=()=>{const gn=En=>{if(!En)return"";const Oi=String(En).trim();return!Oi||Oi.includes("@")||Oi.replace(/\D/g,"").length<6?"":Oi};try{console.debug("[ProfilePharmacy] refreshProfile - pharmData:",er,"userData:",hr)}catch{}X(En=>{const Oi=er&&er.displayName||hr&&hr.displayName||e.displayName||En.displayName,rn=er&&er.address||hr&&hr.address||En.address||"",Si=er&&er.phone||hr&&hr.phone||En.phone||"",ya=gn(Si),Lo=er&&er.email||hr&&hr.email||e.email||En.email||"",Fo=(er&&er.isVerified)??(hr&&hr.isVerified)??En.isVerified??!1;try{console.debug("[ProfilePharmacy] computed profile ->",{displayName:Oi,address:rn,rawPhone:Si,phone:ya,email:Lo,isVerified:Fo})}catch{}return{displayName:Oi,address:rn,phone:ya,email:Lo,isVerified:Fo}})},xi=Nn(Bt,gn=>{er=gn&&gn.exists?gn.data():null,Qr()},()=>{}),Rn=Nn(Yt,gn=>{hr=gn&&gn.exists?gn.data():null,Qr()},()=>{});return Qr(),()=>{try{xi&&xi()}catch{}try{Rn&&Rn()}catch{}}},[n,e]);async function at(){await x1e(n||e)}async function Tt(){if(!w)return;let Fe=R;await ri(Qt(ht,"products",w.id),{name:S,category:A,stock:Number(W),sku:j,price:Number(C),image:Fe||w.image||"",description:J}),_(null)}function Vt(){_(null)}L.useEffect(()=>{w&&(P(w.name||""),V(w.category||""),K(w.stock||""),T(w.sku||""),D(w.price||""),F(w.image||""),ee(null),ce(w.description||""))},[w]);async function Ht(){const Fe=(we||"").trim().toLowerCase();if(!Fe){$r([]);return}const Bt=[];if((Oe==="products"||Oe==="all")&&s.forEach(Yt=>{`${Yt.name||""} ${Yt.category||""} ${Yt.sku||""}`.toLowerCase().includes(Fe)&&Bt.push({type:"product",title:Yt.name||"Untitled",subtitle:`${Yt.category||"Uncategorized"} • SKU: ${Yt.sku||"—"}`,item:Yt})}),Oe==="orders"||Oe==="all"){let Yt=_r;Yt||(Yt=(await On(Er(tr(ht,"orders"),Vr("pharmacyId","==",n?.uid||e?.uid)))).docs.map(hr=>({id:hr.id,...hr.data()})),Pn(Yt)),(Yt||[]).forEach(er=>{`${er.id} ${(er.items||[]).map(Qr=>Qr.name).join(" ")} ${er.customerName||""}`.toLowerCase().includes(Fe)&&Bt.push({type:"order",title:`Order ${er.id}`,subtitle:`${er.items?.length||0} items — ₦${Number(er.total||0).toLocaleString()}`,item:er})})}$r(Bt)}L.useEffect(()=>{if(!oe)return;function Fe(Bt){Bt.key==="Escape"&&(Ee(!1),ke(""),$r([]))}return window.addEventListener("keydown",Fe),()=>window.removeEventListener("keydown",Fe)},[oe]),L.useEffect(()=>{if(!oe)return;if(!(we||"").trim()){$r([]);return}const Bt=setTimeout(()=>{Ht()},300);return()=>clearTimeout(Bt)},[we,Oe,oe]);function Dt(Fe){try{return Fe&&Fe.toDate?Fe.toDate().toISOString():Fe||""}catch{return""}}function It(){if(!s||s.length===0){alert("No products to export");return}const Fe=s.map(Qr=>({id:Qr.id,name:Qr.name||"",category:Qr.category||"",sku:Qr.sku||"",price:Number(Qr.price||0),stock:Number(Qr.stock||0),description:Qr.description||"",image:Qr.image||"",createdAt:Dt(Qr.createdAt)})),Bt=zF.unparse(Fe),Yt=new Blob([Bt],{type:"text/csv;charset=utf-8;"}),er=URL.createObjectURL(Yt),hr=document.createElement("a");hr.href=er,hr.download=`pharmacy-inventory-${e?.uid||"inventory"}.csv`,document.body.appendChild(hr),hr.click(),hr.remove(),URL.revokeObjectURL(er)}function br(){if(!s||s.length===0){alert("No products to export");return}const Fe=s.map(Rn=>({id:Rn.id,name:Rn.name||"",category:Rn.category||"",sku:Rn.sku||"",price:Number(Rn.price||0),stock:Number(Rn.stock||0),description:Rn.description||"",image:Rn.image||"",createdAt:Dt(Rn.createdAt)})),Bt=ny.json_to_sheet(Fe),Yt=ny.book_new();ny.book_append_sheet(Yt,Bt,"Inventory");const er=KO(Yt,{bookType:"xlsx",type:"array"}),hr=new Blob([er],{type:"application/octet-stream"}),Qr=URL.createObjectURL(hr),xi=document.createElement("a");xi.href=Qr,xi.download=`pharmacy-inventory-${e?.uid||"inventory"}.xlsx`,document.body.appendChild(xi),xi.click(),xi.remove(),URL.revokeObjectURL(Qr)}const qr=(_e?.status||"").toLowerCase(),Fr=be(qr),mn=!_e||["rejected","needs_more_info","draft",""].includes(qr),xa=_e?qr==="draft"?"Continue Verification":"Update Verification":"Verify my Account",va=qr==="approved"?"Verified":qr==="in_review"?"In review":"Submission received";if(!e)return u.jsx(A0,{lines:4,className:"my-8"});function $s({user:Fe}){return!Fe||Fe.role!=="superuser"?null:u.jsxs("div",{className:"mt-8 rounded-3xl border bg-yellow-50 dark:bg-gray-700 border-yellow-400 dark:border-gray-600 p-4 flex flex-col items-start relative",children:[u.jsx("div",{className:"text-[20px] font-bold text-yellow-700 dark:text-yellow-400 mb-2",children:"Superuser Dashboard"}),u.jsxs("ul",{className:"space-y-2 text-[15px] text-yellow-900",children:[u.jsx("li",{children:"Manage all users (view, edit, suspend, delete)"}),u.jsx("li",{children:"Product oversight (add, edit, remove, approve/reject)"}),u.jsx("li",{children:"Prescription management"}),u.jsx("li",{children:"Analytics & reports"}),u.jsx("li",{children:"Moderation (reviews, chats, reported content)"}),u.jsx("li",{children:"System settings"}),u.jsx("li",{children:"Bulk operations"}),u.jsx("li",{children:"Audit logs"}),u.jsx("li",{children:"Impersonate users"})]}),u.jsx("div",{className:"mt-4 text-[13px] text-yellow-700",children:"(Feature scaffolding: UI and logic for each capability can be expanded here.)"})]})}return u.jsxs(u.Fragment,{children:[u.jsx(v1e,{title:"Pharmacy Profile",searchValue:we,onSearchChange:Fe=>ke(Fe.target.value),onSearchSubmit:()=>{Ht(),Ee(!0)},onSettingsClick:()=>et("/settings")}),u.jsxs("div",{className:"pt-28 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col animate-fadeInUp",children:[u.jsx($s,{user:e}),oe&&u.jsx("div",{onClick:()=>{Ee(!1),ke(""),$r([])},className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black/50",role:"dialog","aria-modal":"true","aria-label":"Search modal",children:u.jsxs("div",{onClick:Fe=>Fe.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-3xl w-[min(920px,95%)] p-4 shadow-xl border border-[#9ED3FF] dark:border-gray-600 max-h-[80vh] overflow-hidden",children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex items-center gap-3 w-full",children:[u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex items-center bg-[#F0FAFF] dark:bg-gray-700 border border-[#9ED3FF] dark:border-gray-600 rounded-full px-3 py-2 w-full overflow-hidden",children:[u.jsx(dh,{className:"h-4 w-4 text-sky-600 dark:text-sky-400 mr-2 flex-shrink-0"}),u.jsx("input",{autoFocus:!0,value:we,onChange:Fe=>ke(Fe.target.value),onKeyDown:Fe=>{Fe.key==="Enter"&&Ht()},placeholder:"Search products, orders, customers...",className:"flex-1 min-w-0 bg-transparent text-sm outline-none truncate dark:text-white dark:placeholder:text-gray-400","aria-label":"Search query"})]})}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("select",{value:Oe,onChange:Fe=>re(Fe.target.value),className:"rounded-full border border-[#9ED3FF] dark:border-gray-600 px-3 py-2 text-sm bg-white dark:bg-gray-700 dark:text-white w-36",children:[u.jsx("option",{value:"products",children:"Products"}),u.jsx("option",{value:"orders",children:"Orders"}),u.jsx("option",{value:"all",children:"All"})]})})]}),u.jsx("div",{className:"w-full border-t mt-3",style:{borderColor:"#E6F7FF"}})]}),u.jsx("div",{className:"mt-4 max-h-[60vh] overflow-auto px-1 py-2",children:pn.length===0?u.jsx("div",{className:"text-zinc-500 dark:text-gray-300 p-4",children:"No results yet. Enter a query."}):u.jsx("ul",{className:"space-y-2",children:pn.map((Fe,Bt)=>u.jsxs("li",{className:"p-2 rounded-2xl border border-[#9ED3FF] dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition-all duration-200 flex items-center gap-3 justify-between animate-fadeInUp card-interactive hover:shadow-md",style:{animationDelay:`${Bt*.05}s`},children:[u.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[u.jsx("div",{className:"flex-shrink-0",children:Fe.type==="product"?u.jsx(Ml,{name:Fe.item?.name,image:Fe.item?.image,category:Fe.item?.category,size:48,className:"rounded-lg"}):u.jsx("div",{className:"h-12 w-12 rounded-lg bg-[#fff7ed] dark:bg-gray-600 flex items-center justify-center border border-[#ffd7a8] dark:border-gray-500 animate-pulse-gentle",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-orange-500 dark:text-orange-400",children:u.jsx("path",{d:"M3 7h18M3 12h18M3 17h18",stroke:"#f59e0b",strokeWidth:"1.5",strokeLinecap:"round"})})})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"font-semibold text-sm text-black dark:text-white truncate",children:Fe.title}),u.jsx("div",{className:"text-xs text-zinc-500 dark:text-gray-300 truncate",children:Fe.subtitle})]})]}),u.jsx("div",{className:"flex-shrink-0 flex items-center gap-2",children:Fe.type==="product"?u.jsx("button",{onClick:()=>{_(Fe.item),Ee(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 dark:hover:bg-gray-600 btn-interactive transition-all duration-200",children:"Edit"}):u.jsx("button",{onClick:()=>{et("/orders",{state:{highlightOrderId:Fe.item.id}}),Ee(!1)},className:"text-sky-600 rounded-full px-3 py-1 text-sm border border-transparent hover:bg-sky-50 dark:hover:bg-gray-600 btn-interactive transition-all duration-200",children:"Open"})})]},Bt))})})]})}),u.jsxs("div",{className:"mt-8 w-full grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6 items-start",children:[u.jsx("aside",{className:"min-w-0 lg:pr-2",children:u.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start relative lg:sticky lg:top-24 overflow-hidden",children:[u.jsx("div",{className:"mb-2",children:e?.photoURL?u.jsx("img",{src:e.photoURL,alt:"Avatar",className:"h-16 w-16 rounded-full object-cover border border-[#9ED3FF] dark:border-gray-500 shadow"}):u.jsx("div",{className:"h-16 w-16 rounded-full bg-[#E3F3FF] dark:bg-gray-600 flex items-center justify-center border border-[#9ED3FF] dark:border-gray-500 shadow",children:u.jsx("span",{className:"text-sky-600 dark:text-sky-400 text-2xl font-light",children:z.displayName&&z.displayName.charAt?z.displayName.charAt(0):"P"})})}),u.jsx(zc,{name:z.displayName||"Pharmacy",isVerified:z.isVerified,className:"text-3xl font-light font-poppins text-sky-600 dark:text-sky-400 mb-1 tracking-tight truncate w-full",nameClassName:"truncate",iconClassName:"h-5 w-5 text-sky-500 dark:text-sky-400"}),u.jsx("div",{className:"w-full border-b dark:border-gray-600 mb-2",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"}}),u.jsx("div",{className:"text-[13px] text-zinc-500 font-light mb-1 truncate w-full",children:z.email||e?.email}),z.address&&u.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 flex items-center truncate w-full",children:[u.jsx(cc,{className:"h-4 w-4 mr-1 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:z.address})]}),z.phone&&u.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 flex items-center truncate w-full",children:[u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mr-1 flex-shrink-0",children:u.jsx("path",{d:"M2.41333 5.19333C3.37333 7.08 4.92 8.62667 6.80667 9.58667L8.27333 8.12C8.46 7.93333 8.72 7.88 8.95333 7.95333C9.7 8.2 10.5 8.33333 11.3333 8.33333C11.5101 8.33333 11.6797 8.40357 11.8047 8.5286C11.9298 8.65362 12 8.82319 12 9V11.3333C12 11.5101 11.9298 11.6797 11.8047 11.8047C11.6797 11.9298 11.5101 12 11.3333 12C8.32755 12 5.44487 10.806 3.31946 8.68054C1.19404 6.55513 0 3.67245 0 0.666667C0 0.489856 0.0702379 0.320286 0.195262 0.195262C0.320286 0.0702379 0.489856 0 0.666667 0H3C3.17681 0 3.34638 0.0702379 3.4714 0.195262C3.59643 0.320286 3.66667 0.489856 3.66667 0.666667C3.66667 1.5 3.8 2.3 4.04667 3.04667C4.12 3.28 4.06667 3.54 3.88 3.72667L2.41333 5.19333Z",fill:"#7D7D7D"})}),u.jsx("span",{className:"truncate",children:z.phone})]}),Ss&&u.jsxs("div",{className:"text-[13px] text-zinc-500 font-light mb-1 w-full truncate",children:["ETA: ",u.jsx("span",{className:"text-sky-600 font-medium",children:Ss.eta})," • ",Ss.distanceKm.toFixed(2)," km"]}),u.jsx("div",{className:"w-full mt-4 hidden lg:flex justify-start",children:u.jsxs("button",{onClick:async()=>{await r(),window.location.href="/auth/landing"},className:"rounded-full border border-red-300 dark:border-gray-600 text-red-600 dark:text-red-400 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[u.jsx(H_,{className:"h-4 w-4"})," ",i("log_out","Log Out")]})})]})}),u.jsxs("section",{className:"min-w-0 space-y-6 lg:max-h-[calc(100vh-7rem)] lg:overflow-auto lg:pr-1",children:[u.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col gap-4 relative overflow-hidden",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{className:"space-y-2 max-w-xl",children:[u.jsx("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white tracking-tight",children:"Account Verification"}),pe?u.jsx(A0,{lines:2,className:"max-w-sm"}):u.jsx("p",{className:"text-[12px] text-zinc-500 dark:text-zinc-400 font-light leading-relaxed",children:_e?"We'll notify you as soon as compliance completes the review of your documents.":"Submit your regulatory documents to unlock order fulfillment, payouts, and marketplace visibility."}),Ke&&u.jsx("p",{className:"text-[12px] text-emerald-600 dark:text-emerald-400 font-medium",children:Ke})]}),!pe&&u.jsx("span",{className:`self-start rounded-full px-3 py-1 text-[11px] font-semibold uppercase ${Fr.tone}`,children:Fr.label})]}),!pe&&qr==="needs_more_info"&&u.jsx("p",{className:"text-[12px] text-amber-600 dark:text-amber-400",children:"Compliance requested additional information. Please update your submission below."}),!pe&&qr==="rejected"&&u.jsx("p",{className:"text-[12px] text-rose-600 dark:text-rose-400",children:"Your previous submission was rejected. Review the notes and try again."}),!pe&&qr==="approved"&&u.jsx("p",{className:"text-[12px] text-emerald-600 dark:text-emerald-400",children:"Your pharmacy is verified. Customers will now see a verification badge across Pharmasea."}),!pe&&_e?.reviewerNote&&u.jsxs("p",{className:"text-[12px] text-slate-500 dark:text-slate-300",children:["Note from reviewer: ",u.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-100",children:_e.reviewerNote})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[!pe&&mn?u.jsx("button",{type:"button",onClick:()=>{Qe(""),ot(!0)},className:"rounded-full bg-sky-600 text-white text-[12px] font-medium px-5 py-2 shadow hover:bg-sky-700 transition",children:xa}):u.jsx("button",{type:"button",disabled:!0,className:"rounded-full bg-slate-200 text-slate-500 text-[12px] font-medium px-5 py-2 cursor-not-allowed",children:pe?"Checking status...":va}),_e?.updatedAt&&!pe&&u.jsxs("span",{className:"text-[12px] text-zinc-500 dark:text-zinc-400",children:["Last updated ",Se(_e.updatedAt)]})]})]}),u.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 flex flex-col items-start relative overflow-hidden",children:[u.jsx("div",{className:"text-[18px] font-light font-poppins text-black dark:text-white mb-2 tracking-tight",children:i("storefront_preview","Storefront Preview")}),u.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b dark:border-gray-600",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-zinc-500 dark:text-zinc-400 font-light",children:i("inventory","Inventory")}),u.jsx("span",{className:"text-[12px] text-sky-600 dark:text-sky-400 font-medium",children:s.length})]}),u.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("products_sold","Products Sold")}),u.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:c})]}),u.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("active_chats","Active Chats")}),u.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:p})]}),u.jsxs("div",{className:"w-full flex items-center justify-between pb-2 border-b",style:{borderColor:"#9ED3FF",borderBottomWidth:"0.5px"},children:[u.jsx("span",{className:"text-[12px] text-zinc-500 font-light",children:i("reviews","Reviews")}),u.jsx("span",{className:"text-[12px] text-sky-600 font-medium",children:m})]}),u.jsx("div",{className:"w-full flex justify-end mt-4",children:u.jsxs("button",{className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[12px] font-light flex items-center gap-1 shadow hover:bg-sky-700",onClick:at,children:[u.jsx(mee,{className:"h-4 w-4"})," ",i("download_report","Download report")]})})]}),u.jsxs("div",{className:"flex gap-2 w-full",children:[u.jsxs("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700",onClick:()=>et(`/add-product?pharmacyId=${n?.uid||e?.uid}`),children:["+ ",i("add_product","Add Product")]}),u.jsx("button",{className:"flex-1 rounded-full border border-sky-600 dark:border-gray-600 dark:border-gray-600 text-sky-600 dark:text-sky-400 text-[13px] font-light py-2 hover:bg-[#E3F3FF] dark:hover:bg-gray-700",onClick:()=>l(!0),children:i("bulk_upload","Bulk Upload")})]}),u.jsxs("div",{className:"rounded-3xl border bg-[#F7F7F7] dark:bg-gray-800 border-[#36A5FF] dark:border-gray-600 p-4 relative overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"text-[17px] font-light font-poppins text-black dark:text-white tracking-tight",children:i("products","Products")}),s.length>3&&u.jsx("button",{className:"text-sky-600 text-[13px] font-light px-3 py-1 rounded-full hover:bg-[#E3F3FF]",onClick:()=>ie(Fe=>!Fe),children:Y?i("see_less","See less"):i("see_more","See more")})]}),u.jsxs("div",{className:"space-y-3",children:[(Y?s:s.slice(0,3)).map(Fe=>u.jsxs("button",{className:"w-full text-left rounded-2xl border border-[#9ED3FF] dark:border-gray-600 p-3 flex items-center gap-3 bg-white dark:bg-gray-700 hover:bg-[#E3F3FF] dark:hover:bg-gray-600 transition shadow-sm min-w-0 overflow-hidden",onClick:()=>_(Fe),type:"button",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Ml,{name:Fe.name,image:Fe.image,category:Fe.category,size:30,className:"border border-[#9ED3FF] dark:border-gray-500",roundedClass:"rounded-xl"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-semibold text-[15px] text-black dark:text-white truncate",children:Fe.name}),u.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[12px] font-light truncate",children:[Fe.category," • Stock: ",Fe.stock," • SKU: ",Fe.sku]})]}),u.jsxs("div",{className:"text-[15px] font-semibold text-sky-600 dark:text-sky-400 ml-3 flex-shrink-0 whitespace-nowrap",children:["₦",Number(Fe.price).toLocaleString()]})]},Fe.id)),s.length===0&&u.jsx("div",{className:"text-zinc-500",children:i("no_products_yet","No products yet. Use the buttons above to add or bulk‑upload.")})]}),u.jsxs("div",{className:"w-full flex justify-end mt-3",children:[u.jsx("button",{onClick:It,className:"mr-2 px-4 py-2 rounded-full border border-sky-600 dark:border-gray-600 dark:border-gray-600 text-sky-600 dark:text-sky-400 text-[13px] font-light hover:bg-[#E3F3FF] dark:hover:bg-gray-700",children:i("download_csv","Download CSV")}),u.jsx("button",{onClick:br,className:"px-4 py-2 rounded-full bg-sky-600 text-white text-[13px] font-light hover:bg-sky-700",children:i("download_excel","Download Excel")})]})]})]})]}),u.jsx(r4,{open:ze,onClose:()=>{St||(ot(!1),We(0),Et(""))},children:u.jsxs("form",{onSubmit:Pe,className:"flex flex-col gap-5",children:[u.jsxs("header",{className:"space-y-1",children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:"Pharmacy Verification"}),u.jsx("h3",{className:"text-2xl font-semibold text-slate-900 dark:text-white",children:_e?"Update submission":"Verify your pharmacy"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:lt[Le]?.description})]}),u.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400",children:[u.jsxs("span",{className:"font-semibold",children:["Step ",Le+1," of ",Ut]}),u.jsx("div",{className:"flex flex-1 items-center gap-1",children:lt.map((Fe,Bt)=>u.jsx("span",{className:`h-1.5 flex-1 rounded-full transition-all ${Bt<=Le?"bg-sky-500":"bg-slate-200 dark:bg-slate-700"}`},Fe.key))})]}),Kt?u.jsx("p",{className:"text-[11px] text-slate-400 italic",children:"Saving draft…"}):_e?.status==="draft"?u.jsx("p",{className:"text-[11px] text-slate-400",children:"Draft saved"}):null,ut&&u.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700 dark:border-rose-400/40 dark:bg-rose-500/10 dark:text-rose-200",children:ut}),Le===0&&u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300 sm:col-span-2",children:["Pharmacy name *",u.jsx("input",{type:"text",value:Ve.pharmacyName,onChange:Fe=>tn("pharmacyName",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Primary contact *",u.jsx("input",{type:"text",value:Ve.contactName,onChange:Fe=>tn("contactName",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Contact email *",u.jsx("input",{type:"email",value:Ve.contactEmail,onChange:Fe=>tn("contactEmail",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Contact phone *",u.jsx("input",{type:"tel",value:Ve.contactPhone,onChange:Fe=>tn("contactPhone",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]})]}),Le===1&&u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300 sm:col-span-2",children:["Street address *",u.jsx("input",{type:"text",value:Ve.addressLine1,onChange:Fe=>tn("addressLine1",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["City *",u.jsx("input",{type:"text",value:Ve.city,onChange:Fe=>tn("city",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["State / Region *",u.jsx("input",{type:"text",value:Ve.state,onChange:Fe=>tn("state",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Postal code",u.jsx("input",{type:"text",value:Ve.postalCode,onChange:Fe=>tn("postalCode",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Pharmacy registration number *",u.jsx("input",{type:"text",value:Ve.registrationNumber,onChange:Fe=>tn("registrationNumber",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Tax ID",u.jsx("input",{type:"text",value:Ve.taxId,onChange:Fe=>tn("taxId",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300 sm:col-span-2",children:["Pharmacy license URL *",u.jsx("input",{type:"url",placeholder:"https://...",value:Ve.licenseUrl,onChange:Fe=>tn("licenseUrl",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300 sm:col-span-2",children:["Owner ID (URL)",u.jsx("input",{type:"url",placeholder:"https://...",value:Ve.ownerIdUrl,onChange:Fe=>tn("ownerIdUrl",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]})]}),Le===2&&u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Website",u.jsx("input",{type:"url",placeholder:"https://",value:Ve.website,onChange:Fe=>tn("website",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Owner name",u.jsx("input",{type:"text",value:Ve.ownerName,onChange:Fe=>tn("ownerName",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Years in business",u.jsx("input",{type:"number",min:"0",value:Ve.yearsInBusiness,onChange:Fe=>tn("yearsInBusiness",Fe.target.value),className:"mt-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100"})]}),u.jsx("div",{className:"sm:col-span-2",children:u.jsxs("label",{className:"flex flex-col text-xs font-semibold text-slate-500 dark:text-slate-300",children:["Additional notes for compliance",u.jsx("textarea",{rows:3,value:Ve.additionalNotes,onChange:Fe=>tn("additionalNotes",Fe.target.value),className:"mt-1 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Add context such as delivery radius, cold-chain handling, etc."})]})})]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsx("button",{type:"button",onClick:async()=>{if(St)return;const Fe=Mt.current||_e?.id||wr.current;Mt.current&&(clearTimeout(Mt.current),Mt.current=null),Fe&&await Es(Pr.current,Zt.current),ot(!1),We(0),Zt.current=0,Et("")},className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:"Cancel"}),u.jsxs("div",{className:"flex gap-2",children:[Le>0&&u.jsx("button",{type:"button",onClick:le,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:"Back"}),Le<Ut-1?u.jsx("button",{type:"button",onClick:Xn,className:"rounded-full bg-sky-600 px-5 py-2 text-sm font-semibold text-white shadow hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-300 dark:bg-sky-500 dark:hover:bg-sky-400",children:"Next"}):u.jsx("button",{type:"submit",disabled:St,className:"rounded-full border border-sky-500 px-4 py-2 text-sm font-semibold text-sky-600 transition hover:bg-sky-50 focus:outline-none focus:ring-2 focus:ring-sky-200 disabled:cursor-not-allowed disabled:opacity-60 dark:border-sky-400 dark:text-sky-300 dark:hover:bg-slate-800",children:St?"Submitting...":_e?"Save updates":"Submit for review"})]})]}),u.jsx("p",{className:"text-[11px] text-slate-400",children:"We review submissions within 1-3 business days. You can close this window after sending your documents."})]})}),o&&u.jsx(JO,{pharmacyId:n?.uid||e?.uid,onClose:()=>l(!1)}),w&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-30 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 w-[90vw] max-w-sm shadow-xl border border-[#9ED3FF] dark:border-gray-600 relative overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4 relative",children:[u.jsx("div",{className:"text-lg font-medium font-poppins text-black dark:text-white",children:i("edit_product","Edit Product")}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{className:"rounded-full border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-zinc-500 dark:text-zinc-400 py-2 flex items-center justify-center ml-2",style:{width:"36px",height:"36px"},onClick:Fe=>{Fe.stopPropagation(),ve(Bt=>!Bt)},children:u.jsx(gee,{className:"h-4 w-4"})}),he&&u.jsx("div",{className:"absolute right-0 top-full mt-2 bg-white dark:bg-gray-800 border border-[#9ED3FF] dark:border-gray-600 rounded-xl shadow p-2 z-10 overflow-hidden",onClick:Fe=>Fe.stopPropagation(),children:u.jsxs("button",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-[13px] font-light px-2 py-1 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",onClick:()=>{se(!0),ve(!1)},children:[u.jsx(Eee,{className:"h-4 w-4"})," ",i("delete","Delete")]})})]})]}),u.jsxs("div",{className:"space-y-3",onClick:()=>he&&ve(!1),children:[u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:S,onChange:Fe=>P(Fe.target.value),placeholder:i("name","Name")}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:A,onChange:Fe=>V(Fe.target.value),placeholder:i("category","Category")}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:W,onChange:Fe=>K(Fe.target.value),placeholder:i("stock","Stock"),type:"number"}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:j,onChange:Fe=>T(Fe.target.value),placeholder:"SKU"}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:C,onChange:Fe=>D(Fe.target.value),placeholder:i("price","Price"),type:"number"}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[12px] text-zinc-500 dark:text-zinc-400 font-light",children:i("product_image","Product Image")}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-2 outline-none dark:bg-transparent dark:text-white dark:placeholder:text-gray-400",value:R,onChange:Fe=>{F(Fe.target.value),ee(null)},placeholder:i("image_url_placeholder","Image URL (or choose file below)"),type:"text"}),u.jsx("input",{type:"file",accept:"image/*",className:"mt-1",onChange:Fe=>{Fe.target.files&&Fe.target.files[0]&&(ee(Fe.target.files[0]),F(""))}}),(R||B)&&u.jsx("img",{src:B?URL.createObjectURL(B):R,alt:"Preview",className:"h-16 w-16 object-cover rounded-xl border mt-2"})]}),u.jsxs("div",{className:"flex flex-col gap-1",children:[u.jsx("label",{className:"text-[12px] text-zinc-500 font-light",children:i("product_description","Product Description")}),u.jsx("textarea",{className:"w-full border rounded p-2 text-sm",rows:4,value:J,onChange:Fe=>ce(Fe.target.value),placeholder:i("enter_product_description","Enter product description")})]})]}),u.jsxs("div",{className:"flex gap-2 mt-6 items-center",children:[u.jsx("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[12px] font-light py-2 shadow hover:bg-sky-700",onClick:Tt,children:i("save","Save")}),u.jsx("button",{className:"flex-1 rounded-full border border-zinc-300 dark:border-gray-600 text-zinc-500 text-[12px] font-light py-2",onClick:()=>_(null),children:i("cancel","Cancel")})]}),fe&&u.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-20 rounded-3xl",onClick:()=>se(!1),children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-5 shadow-xl border border-[#9ED3FF] dark:border-gray-600 text-center overflow-hidden",onClick:Fe=>Fe.stopPropagation(),children:[u.jsx("div",{className:"text-[15px] font-light mb-4 dark:text-white",children:i("confirm_delete_product","Are you sure you want to delete this item?")}),u.jsxs("div",{className:"flex gap-2 justify-center",children:[u.jsx("button",{className:"rounded-full bg-red-600 text-white text-[12px] font-light px-4 py-2",onClick:Vt,children:i("yes_delete","Yes, Delete")}),u.jsx("button",{className:"rounded-full border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-zinc-500 dark:text-zinc-400 text-[12px] font-light px-4 py-2",onClick:()=>se(!1),children:i("cancel","Cancel")})]})]})})]})}),u.jsx("div",{className:"mt-6 lg:hidden",children:u.jsxs("button",{onClick:async()=>{await r(),window.location.href="/auth/onboarding"},className:"rounded-full border border-red-300 dark:border-gray-600 text-red-600 dark:text-red-400 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:[u.jsx(H_,{className:"h-4 w-4"})," ",i("log_out","Log Out")]})})]})]})}const y1e=t=>Array.from(new Set(t.map(r=>r.label.includes("/")?r.label.split("/").pop():r.label))).sort(),w1e=(t,e)=>Array.from(new Set(t.filter(n=>n.label.endsWith("/"+e)).map(n=>n.label.split("/")[0]))).sort((n,i)=>Number(n)-Number(i));function _1e({data:t,filter:e,onFilterChange:r,topPeriod:n}){const{t:i}=cs(),[s,a]=L.useState(null),[o,l]=L.useState([]);L.useEffect(()=>{if(t.length>0){const m=Math.max(...t.map(y=>y.value))||1;l(t.map(y=>y.value/m*100))}},[t]);let c=y1e(t),d=e.type==="month"?w1e(t,e.year||c[0]):[];const p=Math.max(...t.map(m=>m.value))||1,g=t.reduce((m,y)=>m+y.value,0);return u.jsxs("div",{className:"bg-gradient-to-br from-[#F7F7F7] to-[#F0F8FF] dark:from-gray-800 dark:to-gray-900 rounded-2xl border border-sky-500 dark:border-gray-600 p-6 mt-8 overflow-hidden min-w-0 relative",role:"region","aria-label":"Revenue",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-sky-100/30 dark:from-sky-800/30 to-transparent rounded-full -translate-y-16 translate-x-16"}),u.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-blue-100/20 dark:from-blue-800/20 to-transparent rounded-full translate-y-12 -translate-x-12"}),u.jsxs("div",{className:"flex items-center justify-between mb-4 min-w-0 relative z-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-black dark:text-white font-light text-xl tracking-tight mb-1",children:i("revenue_analytics","Revenue Analytics")}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"text-2xl font-semibold text-sky-700 dark:text-sky-400",children:["₦",g.toLocaleString()]}),u.jsx("div",{className:"px-2 py-1 bg-sky-100 dark:bg-sky-800 rounded-full text-xs text-sky-700 dark:text-sky-300 font-medium",children:i("total","Total")})]})]}),u.jsx("div",{className:"flex flex-col gap-2",children:u.jsxs("select",{className:"rounded-xl border-2 border-sky-200 bg-white px-3 py-2 text-sm text-sky-700 focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md",value:e.type,onChange:m=>r({...e,type:m.target.value}),children:[u.jsxs("option",{value:"month",children:["📊 ",i("by_month","By Month")]}),u.jsxs("option",{value:"year",children:["📈 ",i("by_year","By Year")]})]})})]}),u.jsxs("div",{className:"flex gap-2 mb-6 min-w-0 relative z-0",children:[e.type==="year"&&u.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[140px]",value:e.year||c[0]||"",onChange:m=>r({...e,year:m.target.value}),children:c.map(m=>u.jsx("option",{value:m,children:m},m))}),e.type==="month"&&u.jsxs(u.Fragment,{children:[u.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[120px]",value:e.year||c[0]||"",onChange:m=>r({...e,year:m.target.value}),children:c.map(m=>u.jsx("option",{value:m,children:m},m))}),u.jsx("select",{className:"rounded-lg border border-sky-200 px-3 py-2 text-sm text-sky-700 bg-white focus:outline-none focus:border-sky-400 transition-colors shadow-sm hover:shadow-md min-w-0 max-w-[120px]",value:e.month||d[0]||"",onChange:m=>r({...e,month:m.target.value}),children:d.map(m=>u.jsx("option",{value:m,children:i("month_number","Month {number}",{number:m})},m))})]})]}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex flex-col justify-between opacity-20",children:[...Array(5)].map((m,y)=>u.jsx("div",{className:"border-t border-sky-300 border-dashed"},y))}),u.jsx("div",{className:"w-full h-32 flex items-end gap-3 mt-2 min-w-0 overflow-hidden relative z-0",children:t.length===0?u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl mb-2",children:"📊"}),u.jsx("div",{className:"text-zinc-400 text-sm",children:i("no_revenue_data","No revenue data available")}),u.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:i("start_selling_revenue","Start making sales to see your revenue analytics")})]})}):t.map((m,y)=>u.jsxs("div",{className:"flex flex-col items-center flex-1 min-w-0 relative group",onMouseEnter:()=>a(y),onMouseLeave:()=>a(null),children:[s===y&&u.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-white border border-sky-200 rounded-lg px-3 py-2 shadow-lg z-20 whitespace-nowrap",children:[u.jsx("div",{className:"text-xs font-medium text-gray-700",children:m.label}),u.jsxs("div",{className:"text-sm font-semibold text-sky-600",children:["₦",m.value.toLocaleString()]}),u.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2",children:u.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})})]}),u.jsxs("div",{className:"relative w-8 flex flex-col items-center",children:[u.jsxs("div",{className:"w-full h-32 bg-sky-100/50 rounded-t-lg relative overflow-hidden",children:[u.jsx("div",{className:`absolute bottom-0 w-full rounded-t-lg transition-all duration-1000 ease-out cursor-pointer transform ${s===y?"scale-105":"scale-100"}`,style:{height:`${o[y]||0}%`,background:s===y?"linear-gradient(135deg, #36A5FF 0%, #2563EB 50%, #1D4ED8 100%)":"linear-gradient(135deg, #36A5FF 0%, #3B82F6 100%)",boxShadow:s===y?"0 8px 25px rgba(54, 165, 255, 0.4), 0 4px 10px rgba(54, 165, 255, 0.3)":"0 4px 15px rgba(54, 165, 255, 0.2)"},children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-20 transform -skew-x-12 animate-pulse"})}),u.jsx("div",{className:"absolute w-full h-1 bg-white/40 rounded-full transition-all duration-1000",style:{bottom:`${o[y]||0}%`}})]}),s===y&&u.jsxs("div",{className:"absolute -top-6 bg-sky-600 text-white text-xs px-2 py-1 rounded font-medium",children:["₦",m.value.toLocaleString()]})]}),u.jsx("span",{className:`text-[11px] mt-2 truncate max-w-[40px] transition-colors duration-200 ${s===y?"text-sky-600 font-medium":"text-zinc-500"}`,children:m.label})]},y))}),t.length>0&&u.jsxs("div",{className:"absolute left-0 top-0 h-32 flex flex-col justify-between text-xs text-zinc-400 -ml-12",children:[u.jsxs("span",{children:["₦",p.toLocaleString()]}),u.jsxs("span",{children:["₦",Math.round(p*.75).toLocaleString()]}),u.jsxs("span",{children:["₦",Math.round(p*.5).toLocaleString()]}),u.jsxs("span",{children:["₦",Math.round(p*.25).toLocaleString()]}),u.jsx("span",{children:"₦0"})]})]}),n&&u.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-sky-50 to-blue-50 rounded-xl border border-sky-200 relative z-0",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-400 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:"🏆"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-sky-700",children:i("best_performing_period","Best Performing {period}",{period:e.type==="month"?i("month_label","Month"):i("year_label","Year")})}),u.jsxs("div",{className:"text-lg font-semibold text-sky-800",children:[n.label," • ₦",n.value.toLocaleString()]})]})]})})]})}function b1e({cards:t}){return u.jsxs("div",{className:"w-full overflow-x-auto py-2",style:{overflowY:"hidden"},children:[u.jsx("div",{className:"flex gap-3",style:{minWidth:180,scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map((e,r)=>u.jsx("div",{className:"min-w-[120px] max-w-[150px] h-[80px] bg-[#F7F7F7] dark:bg-gray-800 rounded-xl border border-sky-500 dark:border-gray-600 p-3 flex flex-col items-start justify-center shadow-sm",children:e},r))}),u.jsx("style",{children:`
        .w-full.overflow-x-auto::-webkit-scrollbar { display: none; }
      `})]})}function k1e({data:t}){const{t:e}=cs(),[r,n]=L.useState(null);if(!t||t.length===0)return u.jsx("div",{className:"bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8 text-zinc-400 dark:text-zinc-500 text-sm text-center",children:e("no_sales_trend_data","No sales trend data.")});const i=Math.max(...t.map(g=>g.value))||1,s=25,a=280,o=120,l=[];for(let g=0;g<=4;g++){const m=s+g/4*(o-2*s);l.push(u.jsx("line",{x1:s,y1:m,x2:a-s,y2:m,stroke:"#E5F3FF",strokeWidth:"1",strokeDasharray:"3,3"},g))}const c=t.map((g,m)=>{const y=s+m/(t.length-1)*(a-2*s),w=o-s-g.value/i*(o-2*s);return{x:y,y:w,value:g.value,label:g.label}}),d=c.map((g,m)=>`${m===0?"M":"L"} ${g.x} ${g.y}`).join(" "),p=`${d} L ${c[c.length-1].x} ${o-s} L ${c[0].x} ${o-s} Z`;return u.jsxs("div",{className:"bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8 relative overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-black dark:text-white font-light text-lg tracking-tight",children:e("sales_trends","Sales Trends")}),u.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:e("last_6_months","Last 6 months")})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("svg",{width:a,height:o,className:"block mx-auto overflow-visible",style:{filter:"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.1))"},children:[u.jsxs("defs",{children:[u.jsxs("linearGradient",{id:"areaGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"#36A5FF",stopOpacity:"0.2"}),u.jsx("stop",{offset:"100%",stopColor:"#36A5FF",stopOpacity:"0.02"})]}),u.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#36A5FF"}),u.jsx("stop",{offset:"50%",stopColor:"#2563EB"}),u.jsx("stop",{offset:"100%",stopColor:"#1D4ED8"})]})]}),l,u.jsx("path",{d:p,fill:"url(#areaGradient)",className:"transition-all duration-300"}),u.jsx("path",{d,fill:"none",stroke:"url(#lineGradient)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"transition-all duration-300",style:{filter:"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.3))"}}),c.map((g,m)=>u.jsxs("g",{children:[u.jsx("circle",{cx:g.x,cy:g.y,r:r===m?"8":"6",fill:"rgba(54, 165, 255, 0.2)",className:"transition-all duration-200"}),u.jsx("circle",{cx:g.x,cy:g.y,r:r===m?"4":"3",fill:"#36A5FF",stroke:"white",strokeWidth:"2",className:"cursor-pointer transition-all duration-200 hover:r-4",onMouseEnter:()=>n(m),onMouseLeave:()=>n(null),style:{filter:r===m?"drop-shadow(0 4px 8px rgba(54, 165, 255, 0.4))":"drop-shadow(0 2px 4px rgba(54, 165, 255, 0.2))"}})]},m))]}),r!==null&&u.jsxs("div",{className:"absolute bg-white border border-sky-200 rounded-lg px-3 py-2 shadow-lg z-10 transition-all duration-200",style:{left:c[r].x-30,top:c[r].y-50,transform:"translateX(-50%)"},children:[u.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-gray-300",children:t[r].label}),u.jsxs("div",{className:"text-sm font-semibold text-sky-600 dark:text-sky-400",children:[t[r].value.toLocaleString()," ",e("orders","Orders")]}),u.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full",children:u.jsx("div",{className:"w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})})]})]}),u.jsx("div",{className:"flex justify-between mt-3 px-6",children:t.map((g,m)=>u.jsx("span",{className:`text-xs transition-colors duration-200 ${r===m?"text-sky-600 dark:text-sky-400 font-medium":"text-zinc-500 dark:text-zinc-400"}`,children:g.label},m))}),u.jsxs("div",{className:"absolute left-1 top-12 h-24 flex flex-col justify-between text-xs text-zinc-400 dark:text-zinc-500",children:[u.jsx("span",{children:i.toLocaleString()}),u.jsx("span",{children:Math.round(i*.75).toLocaleString()}),u.jsx("span",{children:Math.round(i*.5).toLocaleString()}),u.jsx("span",{children:Math.round(i*.25).toLocaleString()}),u.jsx("span",{children:"0"})]}),u.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -rotate-90 text-xs text-zinc-500 dark:text-zinc-400 font-medium",style:{left:"-40px"},children:e("orders","Orders")}),u.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-sky-100/50 to-transparent rounded-full -translate-y-10 translate-x-10"})]})}function S1e({threads:t,unreadCount:e,onThreadClick:r}){const n=oi(),{t:i}=cs(),s=()=>{n("/messages")};return u.jsxs("div",{className:"relative bg-[#F7F7F7] dark:bg-gray-800 rounded-2xl border border-sky-500 dark:border-gray-600 p-5 mt-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2 cursor-pointer hover:bg-sky-50 dark:hover:bg-gray-700/50 -mx-2 px-2 py-1 rounded-lg transition-colors",onClick:s,children:[u.jsx("h2",{className:"text-black dark:text-white font-light text-lg tracking-tight",children:i("recent_messages","Recent Messages")}),e>0&&u.jsx("span",{className:"bg-sky-400 text-white text-xs rounded-full px-2 py-0.5 font-bold",children:e})]}),u.jsx("div",{children:t.length===0?u.jsx("div",{className:"text-zinc-400 dark:text-zinc-500 text-sm",children:i("no_recent_messages","No recent messages.")}):u.jsx("ul",{className:"divide-y divide-sky-100 dark:divide-gray-600",children:t.map(a=>u.jsxs("li",{className:"py-2 rounded-lg px-2 flex items-center cursor-pointer hover:bg-sky-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>r&&r(a),children:[u.jsx("span",{className:"font-light text-[13px] text-black dark:text-white flex-1 truncate",children:a.customerName||a.customerId}),a.unread>0&&u.jsx("span",{className:"ml-2 bg-sky-400 text-white text-xs rounded-full px-2 py-0.5 font-bold",children:a.unread})]},a.id))})})]})}const E1e=({reviews:t=[],onViewAllReviews:e})=>{const{t:r}=cs();if(!t.length)return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[u.jsx(Jh,{className:"text-sky-500",size:20}),r("recent_reviews","Recent Reviews")]})}),u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Jh,{size:32,className:"text-gray-300 dark:text-gray-600 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r("no_recent_reviews","No recent reviews")}),u.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:r("new_reviews_appear_here","New customer reviews will appear here")})]})]});const n=i=>[...Array(5)].map((s,a)=>u.jsx(t4,{size:12,className:`${a<i?"text-yellow-400 fill-current":"text-gray-300"}`},a));return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[u.jsx(Jh,{className:"text-sky-500",size:20}),r("recent_reviews","Recent Reviews"),t.length>0&&u.jsx("span",{className:"bg-sky-100 dark:bg-sky-800 text-sky-700 dark:text-sky-300 text-xs px-2 py-1 rounded-full font-medium",children:t.length})]}),u.jsxs("button",{onClick:e,className:"text-sky-500 hover:text-sky-600 dark:text-sky-400 dark:hover:text-sky-300 text-sm font-medium flex items-center gap-1",children:[r("view_all","View All"),u.jsx(IF,{size:16})]})]}),u.jsx("div",{className:"space-y-3",children:t.slice(0,3).map(i=>u.jsx("div",{className:"flex gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",onClick:e,children:u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[u.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm truncate",children:i.productName}),u.jsx("div",{className:"flex items-center gap-1",children:n(i.rating)})]}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:r("by_customer","by {customerName}",{customerName:i.customerName})}),u.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 line-clamp-2",children:i.comment}),!i.pharmacyResponse&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400",children:[u.jsx(Jh,{size:12,className:"mr-1"}),r("needs_response","Needs Response")]})})]})},i.id))}),t.length>3&&u.jsx("button",{onClick:e,className:"w-full mt-4 py-2 text-sm text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 font-medium transition-colors",children:r("view_more_reviews","View {count} more review{plural}",{count:t.length-3,plural:t.length-3>1?"s":""})})]})};function C1e(){const{t}=cs(),[e,r]=L.useState([]),[n,i]=L.useState({}),[s,a]=L.useState(!0),[o,l]=L.useState("all"),[c,d]=L.useState("newest"),[p,g]=L.useState("all"),[m,y]=L.useState({}),[w,_]=L.useState({}),[S,P]=L.useState(!1),[A,V]=L.useState(null),{user:W}=In();L.useEffect(()=>{K()},[W]);const K=async()=>{if(W?.uid)try{a(!0);const ee=Er(tr(ht,"products"),Vr("pharmacyId","==",W.uid)),he=await On(ee),ve={},fe=[];he.docs.forEach(Y=>{const ie={id:Y.id,...Y.data()};ve[Y.id]=ie,fe.push(ie)}),i(ve);const se=[];for(const Y of fe){const ie=Er(tr(ht,"products",Y.id,"reviews"),pa("createdAt","desc"));(await On(ie)).docs.forEach(I=>{se.push({id:I.id,productId:Y.id,productName:Y.name,...I.data()})})}r(se)}catch(ee){console.error("Error fetching reviews:",ee)}finally{a(!1)}},j=async(ee,he,ve)=>{if(ve.trim())try{const fe=Qt(ht,"products",he,"reviews",ee);await ri(fe,{pharmacyResponse:ve,responseDate:ki(),respondedBy:W.uid}),r(se=>se.map(Y=>Y.id===ee?{...Y,pharmacyResponse:ve,responseDate:new Date}:Y)),y(se=>({...se,[ee]:""})),alert(t("response_submitted_success","Response submitted successfully!"))}catch(fe){console.error("Error submitting response:",fe),alert(t("response_submit_failed","Failed to submit response. Please try again."))}},T=()=>{let ee=e;return o!=="all"&&(ee=ee.filter(he=>he.productId===o)),p!=="all"&&(p==="positive"?ee=ee.filter(he=>he.rating>=4):p==="negative"?ee=ee.filter(he=>he.rating<=2):p==="responded"?ee=ee.filter(he=>he.pharmacyResponse):p==="unresponded"&&(ee=ee.filter(he=>!he.pharmacyResponse))),ee.sort((he,ve)=>c==="newest"?new Date(ve.createdAt?.seconds*1e3)-new Date(he.createdAt?.seconds*1e3):c==="oldest"?new Date(he.createdAt?.seconds*1e3)-new Date(ve.createdAt?.seconds*1e3):c==="highest"?ve.rating-he.rating:c==="lowest"?he.rating-ve.rating:0),ee},C=ee=>[...Array(5)].map((he,ve)=>u.jsx(t4,{className:`h-4 w-4 ${ve<ee?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},ve)),D=()=>{const ee=e.length,he=e.filter(se=>se.pharmacyResponse).length,ve=e.length>0?e.reduce((se,Y)=>se+Y.rating,0)/e.length:0,fe=e.filter(se=>se.rating>=4).length;return{total:ee,responded:he,avgRating:ve,positiveReviews:fe}},R=ee=>{V(A===ee?null:ee)},F=D(),B=T();return s?u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 overflow-hidden",children:u.jsxs("div",{className:"text-center py-16",children:[u.jsxs("div",{className:"relative mx-auto w-12 h-12 mb-6",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 dark:border-gray-600"}),u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-sky-500 dark:border-sky-400 border-t-transparent absolute top-0 left-0"})]}),u.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:t("loading_reviews","Loading your reviews...")}),u.jsx("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-1",children:t("loading_please_wait","Please wait while we fetch your data")})]})}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-600 overflow-hidden",children:[u.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-600 bg-gradient-to-r from-gray-50 to-white dark:from-gray-700 dark:to-gray-800",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:t("reviews_management","Reviews Management")}),u.jsxs("button",{onClick:()=>P(!S),className:"flex items-center justify-center gap-2 px-4 py-2 text-sm bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors shadow-sm",children:[u.jsx(xee,{className:"h-4 w-4"}),t("filters_sort","Filters & Sort"),S?u.jsx(pee,{className:"h-4 w-4"}):u.jsx(hee,{className:"h-4 w-4"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6",children:[u.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl border border-blue-200 dark:border-gray-600 shadow-sm",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600",children:F.total}),u.jsx("div",{className:"text-xs sm:text-sm text-blue-600 font-medium",children:t("total_reviews","Total Reviews")})]}),u.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-green-50 to-green-100 rounded-xl border border-green-200 shadow-sm",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600",children:F.responded}),u.jsx("div",{className:"text-xs sm:text-sm text-green-600 font-medium",children:t("responded","Responded")})]}),u.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-xl border border-yellow-200 shadow-sm",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-600",children:F.avgRating.toFixed(1)}),u.jsx("div",{className:"text-xs sm:text-sm text-yellow-600 font-medium",children:t("avg_rating","Avg Rating")})]}),u.jsxs("div",{className:"text-center p-3 sm:p-4 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl border border-purple-200 shadow-sm",children:[u.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600",children:F.positiveReviews}),u.jsx("div",{className:"text-xs sm:text-sm text-purple-600 font-medium",children:t("positive_reviews","Positive (4+ ⭐)")})]})]}),S&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("product","Product")}),u.jsxs("select",{value:o,onChange:ee=>l(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:t("all_products","All Products")}),Object.values(n).map(ee=>u.jsx("option",{value:ee.id,children:ee.name},ee.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("sort_by","Sort By")}),u.jsxs("select",{value:c,onChange:ee=>d(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[u.jsx("option",{value:"newest",children:t("newest_first","Newest First")}),u.jsx("option",{value:"oldest",children:t("oldest_first","Oldest First")}),u.jsx("option",{value:"highest",children:t("highest_rating","Highest Rating")}),u.jsx("option",{value:"lowest",children:t("lowest_rating","Lowest Rating")})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("filter_by","Filter By")}),u.jsxs("select",{value:p,onChange:ee=>g(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:[u.jsx("option",{value:"all",children:t("all_reviews","All Reviews")}),u.jsx("option",{value:"positive",children:t("positive_4_stars","Positive (4+ stars)")}),u.jsx("option",{value:"negative",children:t("negative_1_2_stars","Negative (1-2 stars)")}),u.jsx("option",{value:"responded",children:t("responded","Responded")}),u.jsx("option",{value:"unresponded",children:t("needs_response","Needs Response")})]})]})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:B.length===0?u.jsxs("div",{className:"p-8 sm:p-12 text-center",children:[u.jsx("div",{className:"bg-gray-100 rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4",children:u.jsx(Jh,{className:"h-10 w-10 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t("no_reviews_found","No reviews found")}),u.jsx("p",{className:"text-gray-600 text-sm max-w-md mx-auto",children:e.length===0?t("no_reviews_yet_message","You don't have any reviews yet. Encourage customers to leave reviews by providing excellent service and follow-up communication!"):t("no_reviews_match_filters","No reviews match your current filters. Try adjusting your search criteria.")})]}):B.map((ee,he)=>u.jsx("div",{className:`p-4 sm:p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-all duration-200 animate-fade-in cursor-pointer ${A===ee.id?"ring-2 ring-sky-500 dark:ring-sky-400 bg-sky-50 dark:bg-sky-900/30 scale-102":""}`,style:{animationDelay:`${he*.1}s`},onClick:()=>R(ee.id),children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:ee.createdAt&&new Date(ee.createdAt.seconds*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),!ee.pharmacyResponse&&u.jsx("span",{className:"text-orange-600 dark:text-orange-400 px-2 py-1 rounded-full font-normal text-[9px] bg-orange-100 dark:bg-orange-900/30",style:{fontSize:"9px !important"},children:t("needs_response","Needs Response")})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ml,{name:ee.productName,image:n[ee.productId]?.image,category:n[ee.productId]?.category,size:40,className:"flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white line-clamp-1",style:{fontSize:"10px !important"},title:ee.productName,children:ee.productName}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:n[ee.productId]?.category||t("medicine","Medicine")})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex",children:C(ee.rating)}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",style:{fontSize:"10px !important"},children:["(",ee.rating,"/5)"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-300",style:{fontSize:"10px !important"},children:[t("reviewed_by","Reviewed by:"),":"]}),u.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",style:{fontSize:"10px !important"},children:ee.customerName||ee.name}),ee.verified&&u.jsx("span",{className:"text-[10px] bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400 px-2 py-0.5 rounded-full font-medium",children:t("verified","Verified")})]}),u.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 sm:p-4",children:u.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed",style:{fontSize:"10px !important"},children:ee.comment})}),ee.helpful>0&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[u.jsx("span",{children:"👍"}),u.jsx("span",{children:t("people_found_helpful","{count} people found this helpful",{count:ee.helpful})})]}),ee.pharmacyResponse&&u.jsxs("div",{className:"ml-0 sm:ml-4 bg-gradient-to-r from-blue-50 to-sky-50 dark:from-blue-900/20 dark:to-sky-900/20 rounded-lg p-3 sm:p-4 border-l-4 border-blue-400 dark:border-blue-500 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(iC,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-semibold text-blue-900 dark:text-blue-300",children:t("your_response","Your Response")}),u.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400 ml-auto",children:ee.pharmacyResponse.respondedAt&&new Date(ee.pharmacyResponse.respondedAt.seconds*1e3).toLocaleDateString()})]}),u.jsx("p",{className:"text-blue-900 dark:text-blue-200 text-sm leading-relaxed",children:ee.pharmacyResponse.message||ee.pharmacyResponse})]}),!ee.pharmacyResponse&&u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[u.jsxs("button",{onClick:()=>_(ve=>({...ve,[ee.id]:!ve[ee.id]})),className:"flex items-center gap-2 text-sky-600 dark:text-sky-400 hover:text-sky-700 dark:hover:text-sky-300 font-normal text-[12px] transition-colors",style:{fontSize:"10px !important"},children:[u.jsx(iC,{className:"h-4 w-4"}),w[ee.id]?t("cancel_response","Cancel Response"):t("respond_to_review","Respond to Review")]}),w[ee.id]&&u.jsxs("div",{className:"mt-3 space-y-3",children:[u.jsxs("div",{className:"relative",children:[u.jsx("textarea",{value:m[ee.id]||"",onChange:ve=>y(fe=>({...fe,[ee.id]:ve.target.value})),placeholder:t("write_thoughtful_response","Write a thoughtful response to this review..."),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 dark:focus:ring-sky-400 dark:focus:border-sky-400 resize-none text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",rows:4,maxLength:500}),u.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400 dark:text-gray-500",children:[(m[ee.id]||"").length,"/500"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx("button",{onClick:()=>j(ee.id,ee.productId,m[ee.id]||""),className:"flex-1 sm:flex-none px-4 py-2 bg-sky-600 text-white rounded-lg hover:bg-sky-700 transition-colors font-medium disabled:bg-gray-300 dark:disabled:bg-gray-600 disabled:cursor-not-allowed",style:{fontSize:"10px !important"},disabled:!m[ee.id]?.trim(),children:t("submit_response","Submit Response")}),u.jsx("button",{onClick:()=>_(ve=>({...ve,[ee.id]:!1})),className:"flex-1 sm:flex-none px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",style:{fontSize:"10px !important"},children:t("cancel","Cancel")})]})]})]})]})},ee.id))})]})}const N1e=({review:t,onDismiss:e,onViewReview:r})=>{const[n,i]=L.useState(!1);L.useEffect(()=>{i(!0);const l=setTimeout(()=>{s()},5e3);return()=>clearTimeout(l)},[]);const s=()=>{i(!1),setTimeout(()=>{e()},300)},a=()=>{r(),s()},o=l=>[...Array(5)].map((c,d)=>u.jsx(t4,{size:12,className:`${d<l?"text-yellow-400 fill-current":"text-gray-300"}`},d));return u.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ${n?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:u.jsxs("div",{className:"bg-white border-l-4 border-sky-500 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-lg p-4 max-w-sm",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Jh,{size:16,className:"text-sky-500"}),u.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"New Review"})]}),u.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(n2,{size:16})})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.productName}),u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[o(t.rating),u.jsxs("span",{className:"text-xs text-gray-600 ml-1",children:["by ",t.customerName]})]})]}),u.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:t.comment}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{onClick:s,className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-800 transition-colors",children:"Dismiss"}),u.jsx("button",{onClick:a,className:"px-3 py-1 bg-sky-500 text-white text-xs rounded hover:bg-sky-600 transition-colors",children:"View & Respond"})]})]})})},T1e=({newReviews:t,onDismissReview:e,onViewReview:r})=>{const[n,i]=L.useState([]);L.useEffect(()=>{if(t.length>0){const o=t[0];n.some(c=>c.id===o.id)||i(c=>[o,...c.slice(0,2)])}},[t]);const s=o=>{i(l=>l.filter(c=>c.id!==o)),e(o)},a=o=>{i(l=>l.filter(c=>c.id!==o)),r(o)};return u.jsx(u.Fragment,{children:n.map((o,l)=>u.jsx("div",{style:{transform:`translateY(${l*80}px)`,zIndex:50-l},className:"absolute",children:u.jsx(N1e,{review:o,onDismiss:()=>s(o.id),onViewReview:()=>a(o.id)})},o.id))})};function A1e(){const[t,e]=L.useState([]),[r,n]=L.useState(0),{user:i}=In();return L.useEffect(()=>{if(!i?.uid)return;const o=Er(tr(ht,"products"),Vr("pharmacyId","==",i.uid)),l=Nn(o,c=>{const d=[];return e([]),n(0),c.docs.forEach(p=>{const g={id:p.id,...p.data()},m=new Date;m.setDate(m.getDate()-7);const y=Er(tr(ht,"products",p.id,"reviews"),Vr("createdAt",">=",m),pa("createdAt","desc"),W0(20)),w=Nn(y,_=>{const P=_.docs.map(A=>({id:A.id,productId:p.id,productName:g.name,productImage:g.image,...A.data(),createdAt:A.data().createdAt?.toDate()||new Date})).filter(A=>!A.pharmacyResponse);e(A=>{const W=[...A.filter(K=>K.productId!==p.id),...P].sort((K,j)=>j.createdAt-K.createdAt).slice(0,50);return n(W.length),W})});d.push(w)}),()=>{d.forEach(p=>p())}});return()=>l()},[i?.uid]),{newReviews:t,unreadReviewsCount:r,markReviewsAsRead:()=>{e([]),n(0)},markReviewAsResponded:o=>{e(l=>{const c=l.filter(d=>d.id!==o);return n(c.length),c})}}}function I1e({onClick:t,disabled:e}){return Us.createPortal(u.jsx("button",{className:`fixed bottom-[10rem] right-6 z-[100] bg-sky-500 text-white rounded-full shadow-lg\r
                 w-12 h-12 flex items-center justify-center disabled:opacity-0 disabled:cursor-not-allowed`,"aria-label":"Add Product",onClick:t,disabled:e,children:u.jsx("span",{className:"text-3xl font-bold leading-none",children:"+"})}),document.body)}function aV(){const[t,e]=L.useState([]),{profile:r,user:n}=In(),{t:i}=cs(),s=oi(),[a,o]=L.useState(!1),[l,c]=L.useState([]),[d,p]=L.useState({type:"month",value:""}),[g,m]=L.useState(null),[y,w]=L.useState(0),[_,S]=L.useState(0),[P,A]=L.useState(0),[V,W]=L.useState([]),[K,j]=L.useState([]),[T,C]=L.useState([]),[D,R]=L.useState(0),[F,B]=L.useState(!1),[ee,he]=L.useState("overview"),[ve,fe]=L.useState(0),[se,Y]=L.useState(0),[ie,G]=L.useState(0),[I,z]=L.useState(0),[X,J]=L.useState(0),[ce,we]=L.useState(0),{newReviews:ke,unreadReviewsCount:oe,markReviewsAsRead:Ee}=A1e(),Oe=()=>u.jsxs("header",{className:"sm:hidden fixed top-0 left-0 right-0 z-[100] border-b border-gray-100/50 dark:border-gray-700/50 shadow-sm px-4 py-4 transition-all duration-200",style:{backgroundColor:document.documentElement.classList.contains("dark")?"rgba(17, 24, 39, 0.95)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px)",WebkitBackdropFilter:"blur(12px)"},children:[u.jsx("h1",{className:"mt-8 text-[25px] font-light text-black dark:text-white leading-none animate-slideInLeft mb-4",children:i("my_dashboard","My Dashboard").split(" ").map((re,_e)=>u.jsxs("span",{children:[re,_e===0?u.jsx("br",{}):""]},_e))}),u.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>he("overview"),className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors ${ee==="overview"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:i("overview","Overview")}),u.jsxs("button",{onClick:()=>{he("reviews"),oe>0&&Ee()},className:`flex-1 px-4 py-2 rounded-md text-sm font-medium transition-colors relative ${ee==="reviews"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i("reviews","Reviews"),oe>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold",children:oe>9?"9+":oe})]})]})]});return L.useEffect(()=>{async function re(){if(r&&r.role==="pharmacy"){const _e=await mF(5,r.uid);e(_e)}else e([])}re()},[r]),L.useEffect(()=>{async function re(){if(!r||r.role!=="pharmacy")return c([]);const _e=Er(tr(ht,"orders"),Vr("pharmacyId","==",r.uid)),pe=(await On(_e)).docs.map(Ve=>Ve.data());let Ye={},ze=Ve=>"";d.type==="date"?ze=Ve=>{const He=Ve.createdAt?.toDate?.()||new Date(Ve.createdAt);return He?He.toLocaleDateString("en-GB"):""}:d.type==="month"?ze=Ve=>{const He=Ve.createdAt?.toDate?.()||new Date(Ve.createdAt);return He?`${He.getMonth()+1}/${He.getFullYear()}`:""}:d.type==="year"&&(ze=Ve=>{const He=Ve.createdAt?.toDate?.()||new Date(Ve.createdAt);return He?`${He.getFullYear()}`:""}),pe.forEach(Ve=>{const He=ze(Ve);He&&(d.value&&!He.startsWith(d.value)||(Ye[He]=(Ye[He]||0)+(Ve.total||0)))});const ot=Object.entries(Ye).map(([Ve,He])=>({label:Ve,value:He}));if(ot.sort((Ve,He)=>Ve.label.localeCompare(He.label)),c(ot),ot.length>0){const Ve=ot.reduce((He,ut)=>ut.value>He.value?ut:He,ot[0]);m(Ve)}else m(null)}re()},[r,d]),L.useEffect(()=>{async function re(){if(!r||r.role!=="pharmacy")return;const _e=r.uid||n?.uid;if(!_e)return;const Re=await On(Er(tr(ht,"products"),Vr("pharmacyId","==",_e)));w(Re.size);const pe=Re.docs.filter(Le=>{const We=Le.data(),lt=We.stock||0,xt=We.lowStockThreshold||10;return lt<=xt});z(pe.length);const Ye=await On(Er(tr(ht,"orders"),Vr("pharmacyId","==",_e)));S(Ye.size);let ze=0,ot=[];const Ve=new Date().getMonth(),He=new Date().getFullYear(),ut=Ve===0?11:Ve-1,Et=Ve===0?He-1:He;let St=0,je=0,Ke=0;const Qe=new Set,ae=[];if(Ye.forEach(Le=>{const We=Le.data();ze+=We.total||0,ot.push({id:Le.id,...We});const lt=We.createdAt?.toDate?.()||new Date(We.createdAt),xt=lt.getMonth(),Ut=lt.getFullYear();xt===Ve&&Ut===He&&St++,xt===ut&&Ut===Et&&je++,(We.status==="pending"||We.status==="processing")&&Ke++,xt===Ve&&Ut===He&&We.customerId&&Qe.add(We.customerId),(We.status==="completed"||We.status==="delivered")&&ae.push(We)}),A(ze),J(St),we(je),G(Ke),fe(Qe.size),ae.length>0){const Le=ae.reduce((We,lt)=>We+(lt.total||0),0);Y(Le/ae.length)}else Y(0);ot.sort((Le,We)=>(We.createdAt?.toMillis?.()||0)-(Le.createdAt?.toMillis?.()||0)),W(ot.slice(0,3))}re()},[r,n]),L.useEffect(()=>{async function re(){if(!r||r.role!=="pharmacy"){j([]);return}const _e=r.uid||n?.uid;if(!_e)return;const Re=Er(tr(ht,"orders"),Vr("pharmacyId","==",_e)),Ye=(await On(Re)).docs.map(He=>He.data()),ze=new Date,ot=[];for(let He=5;He>=0;He--){const ut=new Date(ze.getFullYear(),ze.getMonth()-He,1);ot.push({label:ut.toLocaleString("default",{month:"short"}),year:ut.getFullYear(),month:ut.getMonth()+1})}const Ve=ot.map(({label:He,year:ut,month:Et})=>{const St=Ye.filter(je=>{const Ke=je.createdAt?.toDate?.()||new Date(je.createdAt);return Ke.getFullYear()===ut&&Ke.getMonth()+1===Et}).length;return{label:He,value:St}});j(Ve)}re()},[r,n]),L.useEffect(()=>{async function re(){if(!r||r.role!=="pharmacy"){C([]),R(0);return}const _e=r.uid||n?.uid;if(!_e)return;const Re=Er(tr(ht,"threads"),Vr("vendorId","==",_e),pa("lastAt","desc"),W0(3)),Ye=(await On(Re)).docs.map(ot=>({id:ot.id,...ot.data()}));C(Ye.map(ot=>({...ot,unread:ot.unread?.[_e]||0})));const ze=Ye.reduce((ot,Ve)=>ot+(Ve.unread?.[_e]||0),0);R(ze)}re()},[r,n]),u.jsxs(u.Fragment,{children:[typeof window<"u"&&Us.createPortal(u.jsx(Oe,{}),document.body),u.jsxs("div",{className:"pt-32 sm:pt-10 pb-32 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-0 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen flex flex-col animate-fadeInUp",children:[u.jsxs("header",{className:"hidden sm:block pb-2 pt-4",children:[u.jsx("h1",{className:"text-[25px] font-light text-black dark:text-white leading-none animate-slideInLeft mb-4",children:i("my_dashboard","My Dashboard").split(" ").map((re,_e)=>u.jsxs("span",{children:[re,_e===0?u.jsx("br",{}):""]},_e))}),u.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1 mb-2",children:[u.jsx("button",{onClick:()=>he("overview"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${ee==="overview"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:i("overview","Overview")}),u.jsxs("button",{onClick:()=>{he("reviews"),oe>0&&Ee()},className:`px-4 py-2 rounded-md text-sm font-medium transition-colors relative ${ee==="reviews"?"bg-white dark:bg-gray-800 text-sky-600 dark:text-sky-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100"}`,children:[i("reviews","Reviews"),oe>0&&u.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold",children:oe>9?"9+":oe})]})]})]}),u.jsx("main",{className:"flex-1 px-3 sm:px-4 py-2 sm:py-6 relative w-full mt-4",children:ee==="overview"?u.jsxs("div",{className:"w-full grid grid-cols-1 lg:grid-cols-[1fr_420px] gap-6 items-start pb-16 mt-10",children:[u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-[#F7F7F7] to-[#F0F8FF] dark:from-gray-800 dark:to-gray-900 rounded-2xl border border-sky-500 dark:border-sky-400 p-6 relative overflow-hidden card-interactive animate-fadeInUp",style:{animationDelay:"0.1s"},children:[u.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-sky-100/40 dark:from-sky-800/40 to-transparent rounded-full -translate-y-10 translate-x-10"}),u.jsxs("div",{className:"relative z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-black dark:text-white font-light text-xl tracking-tight animate-slideInLeft",style:{animationDelay:"0.2s"},children:i("top_products","Top Products")}),u.jsxs("div",{className:"px-3 py-1 bg-sky-100 dark:bg-sky-800 rounded-full text-xs text-sky-700 dark:text-sky-300 font-medium animate-bounceIn",style:{animationDelay:"0.3s"},children:["🏆 ",i("best_sellers","Best Sellers")]})]}),t.length===0?u.jsxs("div",{className:"text-center py-8 animate-fadeInUp",style:{animationDelay:"0.4s"},children:[u.jsx("div",{className:"text-4xl mb-3",children:"📊"}),u.jsx("div",{className:"text-zinc-400 dark:text-zinc-500 text-sm",children:i("no_sales_data","No sales data yet")}),u.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500 mt-1",children:i("start_selling_message","Start selling products to see your top performers")})]}):u.jsx("div",{className:"flex flex-col gap-4",children:t.map((re,_e)=>u.jsxs("div",{className:"group hover:bg-white/50 dark:hover:bg-gray-700/50 rounded-xl p-3 transition-all duration-200 relative",children:[u.jsx("div",{className:`absolute -left-2 -top-2 w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ${_e===0?"bg-gradient-to-br from-yellow-400 to-yellow-600":_e===1?"bg-gradient-to-br from-gray-400 to-gray-600":_e===2?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-sky-400 to-sky-600"}`,children:_e+1}),u.jsxs("div",{className:"flex items-center justify-between ml-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-[14px] text-zinc-800 dark:text-zinc-200 truncate max-w-[140px] group-hover:text-sky-700 dark:group-hover:text-sky-400 transition-colors",children:re.name}),u.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:i("units_sold","{count} units sold",{count:re.sold})})]}),u.jsx("div",{className:"flex-1 mx-4 relative",children:u.jsxs("div",{className:"h-4 bg-gradient-to-r from-sky-100 to-blue-100 rounded-full relative overflow-hidden",children:[u.jsx("div",{className:`h-4 rounded-full transition-all duration-1000 ease-out relative ${_e===0?"bg-gradient-to-r from-yellow-400 to-yellow-500":_e===1?"bg-gradient-to-r from-gray-400 to-gray-500":_e===2?"bg-gradient-to-r from-orange-400 to-orange-500":"bg-gradient-to-r from-sky-400 to-sky-500"}`,style:{width:`${Math.max(15,re.sold/(t[0]?.sold||1)*100)}%`,boxShadow:"0 2px 8px rgba(54, 165, 255, 0.3)"},children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 transform -skew-x-12 animate-pulse"})}),u.jsxs("div",{className:"absolute top-0 right-2 h-4 flex items-center text-xs font-medium text-white",style:{left:`${Math.max(15,re.sold/(t[0]?.sold||1)*100)}%`,transform:"translateX(-100%)"},children:[Math.round(re.sold/(t[0]?.sold||1)*100),"%"]})]})}),u.jsxs("div",{className:"text-right min-w-[50px]",children:[u.jsx("span",{className:`font-bold text-lg ${_e===0?"text-yellow-600 dark:text-yellow-400":_e===1?"text-gray-600 dark:text-gray-400":_e===2?"text-orange-600 dark:text-orange-400":"text-sky-600 dark:text-sky-400"}`,children:re.sold}),u.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:i("units","units")})]})]}),u.jsx("div",{className:"absolute inset-0 rounded-xl border-2 border-transparent group-hover:border-sky-200 transition-all duration-200"})]},re.id||_e))})]})]}),u.jsxs("div",{className:"flex gap-2 w-full",children:[u.jsxs("button",{className:"flex-1 rounded-full bg-sky-600 text-white text-[13px] font-light py-2 shadow hover:bg-sky-700",onClick:()=>s(`/add-product?pharmacyId=${r?.uid||n?.uid}`),children:["+ ",i("add_product","Add Product")]}),u.jsx("button",{className:"flex-1 rounded-full border border-sky-600 dark:border-sky-400 text-sky-600 dark:text-sky-400 text-[13px] font-light py-2 hover:bg-[#E3F3FF] dark:hover:bg-sky-900/30",onClick:()=>o(!0),children:i("bulk_upload","Bulk Upload")})]}),a&&u.jsx(JO,{pharmacyId:r?.uid||n?.uid,onClose:()=>o(!1)}),u.jsx("div",{children:u.jsx(k1e,{data:K})})]}),u.jsxs("div",{className:"flex flex-col gap-6 pb-8 relative z-0",children:[u.jsx("div",{className:"relative z-0",children:u.jsx(_1e,{data:l,filter:d,onFilterChange:p,topPeriod:g})}),u.jsx("div",{children:u.jsx(b1e,{cards:[u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_products","Total Products")}),u.jsx("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:y})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_orders","Total Orders")}),u.jsx("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:_})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("total_revenue","Total Revenue")}),u.jsxs("div",{className:"text-[19px] font-semibold text-sky-700 dark:text-sky-400 tracking-tight",children:["₦",P.toLocaleString()]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("active_customers","Active Customers")}),u.jsx("div",{className:"text-[19px] font-semibold text-emerald-600 dark:text-emerald-400 tracking-tight",children:ve}),u.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("this_month","This Month")})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("avg_order_value","Avg Order Value")}),u.jsxs("div",{className:"text-[19px] font-semibold text-purple-600 dark:text-purple-400 tracking-tight",children:["₦",se.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("pending_orders","Pending Orders")}),u.jsx("div",{className:"text-[19px] font-semibold text-orange-600 dark:text-orange-400 tracking-tight",children:ie}),u.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("awaiting","Awaiting")})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("low_stock_items","Low Stock Items")}),u.jsx("div",{className:"text-[19px] font-semibold text-red-600 dark:text-red-400 tracking-tight",children:I}),u.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("need_restock","Need Restock")})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("orders_this_month","Orders This Month")}),u.jsx("div",{className:"text-[19px] font-semibold text-blue-600 dark:text-blue-400 tracking-tight",children:X}),u.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:ce>0?X>=ce?u.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["↗ +",((X-ce)/ce*100).toFixed(0),"%"]}):u.jsxs("span",{className:"text-red-500 dark:text-red-400",children:["↘ -",((ce-X)/ce*100).toFixed(0),"%"]}):u.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:i("no_comparison","No comparison")})})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("pending_reviews","Pending Reviews")}),u.jsx("div",{className:"text-[19px] font-semibold text-yellow-600 dark:text-yellow-400 tracking-tight",children:oe}),u.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("need_response","Need Response")})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-xs mb-1",children:i("recent_reviews","Recent Reviews")}),u.jsx("div",{className:"text-[19px] font-semibold text-indigo-600 dark:text-indigo-400 tracking-tight",children:ke.length}),u.jsx("div",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 mt-0.5",children:i("last_24h","Last 24h")})]})]})}),I>0&&u.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 dark:from-red-900/20 dark:to-orange-900/20 border border-red-200 dark:border-red-700 rounded-2xl p-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white text-sm font-bold",children:"!"})}),u.jsxs("div",{children:[u.jsx("div",{className:"text-red-700 dark:text-red-400 font-medium text-sm",children:i("low_stock_alert","Low Stock Alert")}),u.jsx("div",{className:"text-red-600 dark:text-red-500 text-xs",children:i("items_need_restocking","{count} item{plural} need restocking",{count:I,plural:I>1?"s":""})})]})]}),u.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 rounded-lg px-3 py-2",children:["💡 ",i("inventory_tip","Check your inventory to avoid running out of popular products")]})]}),u.jsx("div",{children:u.jsx(S1e,{threads:T,unreadCount:D,onThreadClick:re=>s(`/messages/${re.id}`)})}),u.jsx("div",{children:u.jsx(E1e,{reviews:ke.slice(0,5),onViewAllReviews:()=>{he("reviews"),Ee()}})})]})]}):u.jsx("div",{className:"pb-16 mt-10",children:u.jsx(C1e,{})})}),u.jsx(I1e,{onClick:()=>s(`/add-product?pharmacyId=${r?.uid||n?.uid}`)}),u.jsx(T1e,{newReviews:ke,onDismissReview:re=>{},onViewReview:re=>{he("reviews"),Ee()}})]})]})}function P1e(){const[t,e]=L.useState(0),[r,n]=L.useState(null),[i,s]=L.useState(null),[a,o]=L.useState(!1),l=L.useRef(null),c=L.useRef(0),d=L.useRef(null),p=oi(),g=Bl(),{profile:m}=In(),y=["/","/orders","/messages","/cart","/profile"],w=["/dashboard","/orders","/messages","/profile"],_=m?.role==="pharmacy"?w:y,S=_.indexOf(g.pathname),P=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,A=C=>{switch(C){case"/":return u.jsx(W_,{});case"/orders":return u.jsx(DF,{});case"/messages":return u.jsx(OF,{});case"/cart":return u.jsx(MF,{});case"/profile":return m?.role==="pharmacy"?u.jsx(sV,{}):u.jsx(UF,{});case"/dashboard":return u.jsx(aV,{});default:return null}},V=C=>{if(!P)return;const R=C.touches[0].clientX,F=window.innerWidth,B=50,ee=R<B,he=R>F-B;if(!ee&&!he)return;l.current=R,c.current=R;let ve=null,fe=-1;he&&S<_.length-1?(ve="left",fe=S+1):ee&&S>0&&(ve="right",fe=S-1),ve&&fe!==-1&&(n(ve),s(_[fe]),o(!0))},W=C=>{if(!a||l.current===null)return;C.preventDefault();const R=C.touches[0].clientX,F=R-l.current,B=window.innerWidth;c.current=R,d.current&&cancelAnimationFrame(d.current),d.current=requestAnimationFrame(()=>{const ee=B*.7;let he=Math.abs(F)/ee;const ve=he<.5?2*he*he:-1+(4-2*he)*he;he=Math.min(ve,1),r==="left"&&F<0||r==="right"&&F>0?(e(he),he>.25&&t<=.25&&"vibrate"in navigator&&navigator.vibrate(30)):Math.abs(F)>15&&K()})},K=()=>{if(!a)return;if(t>.25&&i)"vibrate"in navigator&&navigator.vibrate([50,50,100]),e(1),setTimeout(()=>{p(i,{state:{slide:r==="left"?"left":"right"}})},200);else{"vibrate"in navigator&&navigator.vibrate(25),(()=>{let F=t;const B=()=>{F*=.85,e(F),F>.01?requestAnimationFrame(B):(e(0),n(null),s(null),o(!1),l.current=null)};requestAnimationFrame(B)})();return}setTimeout(()=>{e(0),n(null),s(null),o(!1),l.current=null},250)};L.useEffect(()=>{if(!P)return;const C=document.body;return C.addEventListener("touchstart",V,{passive:!0}),C.addEventListener("touchmove",W,{passive:!1}),C.addEventListener("touchend",K,{passive:!0}),C.addEventListener("touchcancel",K,{passive:!0}),()=>{C.removeEventListener("touchstart",V),C.removeEventListener("touchmove",W),C.removeEventListener("touchend",K),C.removeEventListener("touchcancel",K),d.current&&cancelAnimationFrame(d.current)}},[P,a,t,r,S]);const j=()=>{if(!a||!r)return{};const C=t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,D=r==="left"?-C*100:C*100,R=1-C*.05,F=r==="left"?C*3:-C*3;return{transform:`translateX(${D}%) scale(${R}) rotateY(${F}deg)`,transformOrigin:r==="left"?"right center":"left center",transition:a?"none":"transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",filter:`brightness(${1-C*.1})`}},T=()=>{if(!a||!r)return{display:"none"};const C=t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,D=r==="left"?100-C*100:-100+C*100,R=.95+C*.05,F=r==="left"?(1-C)*-5:(1-C)*5;return{transform:`translateX(${D}%) scale(${R}) rotateY(${F}deg)`,transformOrigin:r==="left"?"left center":"right center",transition:a?"none":"transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94)",position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"white",zIndex:a?10:-1,boxShadow:r==="left"?`-10px 0 30px rgba(0,0,0,${.1*(1-C)})`:`10px 0 30px rgba(0,0,0,${.1*(1-C)})`,filter:`brightness(${.9+C*.1})`}};return u.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[u.jsxs("div",{style:j(),className:"relative",children:[u.jsx(i6,{}),a&&u.jsx("div",{className:"absolute inset-0 bg-black pointer-events-none",style:{opacity:t*.2,zIndex:5,transition:"opacity 0.1s ease-out"}})]}),a&&i&&u.jsx("div",{style:T(),children:u.jsxs("div",{className:"h-full bg-white relative",children:[A(i),t<.6&&u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/95 to-white/90 backdrop-blur-sm flex items-center justify-center pointer-events-none",style:{opacity:Math.max(0,1-t*2),transition:"opacity 0.15s ease-out"},children:u.jsxs("div",{className:"text-center space-y-3",children:[u.jsxs("div",{className:"relative w-14 h-14 mx-auto",children:[u.jsxs("svg",{className:"w-14 h-14 transform -rotate-90",viewBox:"0 0 100 100",children:[u.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:"#e5e7eb",strokeWidth:"4"}),u.jsx("circle",{cx:"50",cy:"50",r:"30",fill:"none",stroke:"url(#progressGradient)",strokeWidth:"4",strokeDasharray:`${t*188.4} 188.4`,className:"transition-all duration-75 ease-out",strokeLinecap:"round"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),u.jsx("stop",{offset:"100%",stopColor:"#06b6d4"})]})})]}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("span",{className:"text-xs font-semibold text-sky-600",children:[Math.round(t*100),"%"]})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs font-medium text-gray-700 mb-0.5",children:t<.25?"Keep swiping...":"Almost there!"}),u.jsx("div",{className:"text-[10px] text-gray-500",children:t<.25?"Continue to preview":"Release to navigate"})]}),u.jsx("div",{className:"flex items-center justify-center space-x-1",children:[.1,.15,.2,.25].map((C,D)=>u.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-200 ${t>C?"bg-gradient-to-r from-sky-500 to-cyan-500 scale-110":"bg-gray-300 scale-100"}`},D))})]})})]})})]})}const R1e=()=>{const{getSetting:t}=J2();L.useEffect(()=>{t(Ar.HIGH_CONTRAST)?document.documentElement.classList.add("high-contrast"):document.documentElement.classList.remove("high-contrast")},[t(Ar.HIGH_CONTRAST)]),L.useEffect(()=>{t(Ar.REDUCE_MOTION)?document.documentElement.classList.add("reduce-motion"):document.documentElement.classList.remove("reduce-motion")},[t(Ar.REDUCE_MOTION)]),L.useEffect(()=>{const e=t(Ar.THEME_MODE),r=document.documentElement;if(r.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;r.classList.add(n?"dark":"light");const i=window.matchMedia("(prefers-color-scheme: dark)"),s=a=>{r.classList.remove("light","dark"),r.classList.add(a.matches?"dark":"light")};return i.addEventListener("change",s),()=>i.removeEventListener("change",s)}else r.classList.add(e)},[t(Ar.THEME_MODE)]),L.useEffect(()=>{const e=t(Ar.FONT_SIZE),r=document.documentElement;r.classList.remove("font-small","font-medium","font-large"),r.classList.add(`font-${e}`)},[t(Ar.FONT_SIZE)]),L.useEffect(()=>{const e=t(Ar.LANGUAGE);document.documentElement.lang=e},[t(Ar.LANGUAGE)])};function j1e({color:t="black",...e}){return u.jsx("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{d:"M1.38004 6.00487L0.919293 5.79263L0.919001 5.79327L1.38004 6.00487ZM3.22754 4.0549L2.89744 3.66972L2.89735 3.6698L3.22754 4.0549ZM4.24209 3.18542L3.91215 2.80011L3.91199 2.80024L4.24209 3.18542ZM12.1657 3.18441L12.4958 2.79923L12.4958 2.79918L12.1657 3.18441ZM13.1803 4.05388L13.5107 3.66894L13.5104 3.6687L13.1803 4.05388ZM15.0268 6.00385L14.5657 6.21545L14.566 6.21609L15.0268 6.00385ZM10.233 17.0371C10.233 17.3173 10.4601 17.5444 10.7403 17.5444C11.0205 17.5444 11.2476 17.3173 11.2476 17.0371H10.7403H10.233ZM5.16027 17.0371C5.16027 17.3173 5.38738 17.5444 5.66755 17.5444C5.94771 17.5444 6.17482 17.3173 6.17482 17.0371H5.66755H5.16027ZM1.10205 8.6772H1.60933C1.60933 7.2531 1.62014 6.69785 1.84108 6.21646L1.38004 6.00487L0.919001 5.79327C0.583964 6.52326 0.594774 7.34577 0.594774 8.6772H1.10205ZM1.38004 6.00487L1.84078 6.2171C2.06254 5.7357 2.4764 5.36715 3.55773 4.44L3.22754 4.0549L2.89735 3.6698C1.88667 4.53637 1.25554 5.06266 0.919294 5.79263L1.38004 6.00487ZM3.22754 4.0549L3.55764 4.44008L4.57219 3.5706L4.24209 3.18542L3.91199 2.80024L2.89744 3.66972L3.22754 4.0549ZM4.24209 3.18542L4.57204 3.57074C5.5283 2.75189 6.2094 2.16896 6.79004 1.78503C7.35875 1.40899 7.77821 1.26082 8.20392 1.26082V0.75354V0.246264C7.50348 0.246264 6.88809 0.503911 6.23046 0.938751C5.58476 1.3657 4.84802 1.99872 3.91215 2.80011L4.24209 3.18542ZM8.20392 0.75354V1.26082C8.62982 1.26082 9.04961 1.40889 9.61834 1.78463C10.199 2.16824 10.8801 2.7509 11.8357 3.56963L12.1657 3.18441L12.4958 2.79918C11.5603 1.99767 10.8235 1.3649 10.1776 0.938137C9.51974 0.503509 8.90417 0.246264 8.20392 0.246264V0.75354ZM12.1657 3.18441L11.8356 3.56959L12.8502 4.43906L13.1803 4.05388L13.5104 3.6687L12.4958 2.79923L12.1657 3.18441ZM13.1803 4.05388L12.8499 4.43882C13.9308 5.36653 14.345 5.73455 14.5657 6.21545L15.0268 6.00385L15.4878 5.79225C15.1526 5.06178 14.5197 4.53496 13.5107 3.66894L13.1803 4.05388ZM15.0268 6.00385L14.566 6.21609C14.7876 6.69715 14.7985 7.25196 14.7985 8.67618H15.3058H15.8131C15.8131 7.34488 15.8239 6.52193 15.4875 5.79162L15.0268 6.00385ZM15.3058 8.67618H14.7985V12.9789H15.3058H15.8131V8.67618H15.3058ZM15.3058 12.9789H14.7985C14.7985 13.95 14.7974 14.627 14.7287 15.1377C14.662 15.6338 14.5399 15.8965 14.3526 16.0839L14.7113 16.4426L15.07 16.8013C15.4771 16.3941 15.6523 15.8818 15.7342 15.273C15.8141 14.6789 15.8131 13.9213 15.8131 12.9789H15.3058ZM14.7113 16.4426L14.3526 16.0839C14.1652 16.2713 13.9024 16.3933 13.4064 16.46C12.8956 16.5288 12.2187 16.5298 11.2476 16.5298V17.0371V17.5444C12.1899 17.5444 12.9475 17.5455 13.5416 17.4655C14.1504 17.3836 14.6628 17.2084 15.07 16.8013L14.7113 16.4426ZM11.2476 17.0371V16.5298H5.16026V17.0371V17.5444H11.2476V17.0371ZM5.16026 17.0371V16.5298C4.18918 16.5298 3.5122 16.5288 3.00146 16.46C2.50541 16.3933 2.24265 16.2713 2.05528 16.0839L1.69658 16.4426L1.33788 16.8013C1.74503 17.2084 2.2574 17.3836 2.86619 17.4655C3.4603 17.5455 4.21789 17.5444 5.16026 17.5444V17.0371ZM1.69658 16.4426L2.05528 16.0839C1.8679 15.8965 1.74585 15.6338 1.67911 15.1377C1.61041 14.627 1.60933 13.95 1.60933 12.9789H1.10205H0.594774C0.594774 13.9213 0.593696 14.6789 0.673619 15.273C0.755519 15.8818 0.930728 16.3941 1.33788 16.8013L1.69658 16.4426ZM1.10205 12.9789H1.60933V8.6772H1.10205H0.594774V12.9789H1.10205ZM10.7403 17.0371H11.2476V11.9643H10.7403H10.233V17.0371H10.7403ZM10.7403 11.9643H11.2476C11.2476 11.5607 11.0872 11.1736 10.8019 10.8882L10.4432 11.2469L10.0845 11.6056C10.1796 11.7008 10.233 11.8298 10.233 11.9643H10.7403ZM10.4432 11.2469L10.8019 10.8882C10.5165 10.6029 10.1294 10.4425 9.72576 10.4425V10.9498V11.4571C9.86029 11.4571 9.98932 11.5105 10.0845 11.6056L10.4432 11.2469ZM9.72576 10.9498V10.4425H6.6821V10.9498V11.4571H9.72576V10.9498ZM6.6821 10.9498V10.4425C6.27848 10.4425 5.8914 10.6028 5.606 10.8882L5.9647 11.2469L6.3234 11.6056C6.41853 11.5105 6.54756 11.4571 6.6821 11.4571V10.9498ZM5.9647 11.2469L5.606 10.8882C5.3206 11.1736 5.16027 11.5607 5.16027 11.9643H5.66755H6.17482C6.17482 11.8298 6.22827 11.7008 6.3234 11.6056L5.9647 11.2469ZM5.66755 11.9643H5.16027V17.0371H5.66755H6.17482V11.9643H5.66755Z",fill:t})})}function L1e({color:t="black",...e}){return u.jsx("svg",{width:"16",height:"18",viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{d:"M5.12519 5.42678H10.9951M5.12519 9.27611H10.9951M5.12519 13.1254H9.03846M3.16855 0.615112H12.9517C14.0324 0.615112 14.9084 1.47681 14.9084 2.53978V15.0501C14.9084 16.1131 14.0324 16.9748 12.9517 16.9748H3.16855C2.08793 16.9748 1.21191 16.1131 1.21191 15.0501V2.53978C1.21191 1.47681 2.08793 0.615112 3.16855 0.615112Z",stroke:t,strokeWidth:"0.85113",strokeLinecap:"round"})})}const F1e=({color:t="black",...e})=>u.jsxs("svg",{width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7145 1.04437C15.256 1.04437 15.7753 1.25948 16.1582 1.64236C16.5411 2.02525 16.7562 2.54455 16.7562 3.08604V13.2944C16.7562 13.8358 16.5411 14.3551 16.1582 14.738C15.7753 15.1209 15.256 15.336 14.7145 15.336L11.653 15.335L9.31123 17.6768C9.13545 17.8525 8.90158 17.9581 8.65349 17.9737C8.4054 17.9893 8.16015 17.9139 7.96374 17.7615L7.86778 17.6768L5.52599 15.335L2.46452 15.336C1.92303 15.336 1.40373 15.1209 1.02084 14.738C0.637955 14.3551 0.422852 13.8358 0.422852 13.2944V3.08604C0.422852 2.54455 0.637955 2.02525 1.02084 1.64236C1.40373 1.25948 1.92303 1.04437 2.46452 1.04437H14.7145Z",stroke:t,strokeWidth:"0.857499",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.58849 9.21104C9.09891 9.21104 9.60932 8.70062 9.60932 8.1902C9.60932 7.67979 9.09891 7.16937 8.58849 7.16937C8.07807 7.16937 7.56868 7.67979 7.56868 8.1902C7.56868 8.70062 8.07807 9.21104 8.58849 9.21104ZM4.50516 9.21104C5.01558 9.21104 5.52599 8.70062 5.52599 8.1902C5.52599 7.67979 5.01558 7.16937 4.50516 7.16937C3.99475 7.16937 3.48535 7.67979 3.48535 8.1902C3.48535 8.70062 3.99475 9.21104 4.50516 9.21104ZM12.6718 9.21104C13.1822 9.21104 13.6926 8.70062 13.6926 8.1902C13.6926 7.67979 13.1822 7.16937 12.6718 7.16937C12.1614 7.16937 11.652 7.67979 11.652 8.1902C11.652 8.70062 12.1614 9.21104 12.6718 9.21104Z",fill:t})]});function D1e({color:t="black",...e}){return u.jsx("svg",{width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{d:"M14.463 13.865C14.9423 13.865 15.4019 14.0554 15.7408 14.3943C16.0797 14.7332 16.2701 15.1929 16.2701 15.6722C16.2701 16.1515 16.0797 16.6111 15.7408 16.95C15.4019 17.289 14.9423 17.4794 14.463 17.4794C13.9837 17.4794 13.524 17.289 13.1851 16.95C12.8462 16.6111 12.6558 16.1515 12.6558 15.6722C12.6558 15.1929 12.8462 14.7332 13.1851 14.3943C13.524 14.0554 13.9837 13.865 14.463 13.865ZM14.463 14.7686C14.2233 14.7686 13.9935 14.8638 13.824 15.0332C13.6546 15.2027 13.5594 15.4325 13.5594 15.6722C13.5594 15.9118 13.6546 16.1417 13.824 16.3111C13.9935 16.4806 14.2233 16.5758 14.463 16.5758C14.7026 16.5758 14.9324 16.4806 15.1019 16.3111C15.2714 16.1417 15.3666 15.9118 15.3666 15.6722C15.3666 15.4325 15.2714 15.2027 15.1019 15.0332C14.9324 14.8638 14.7026 14.7686 14.463 14.7686ZM6.3307 13.865C6.80999 13.865 7.26965 14.0554 7.60856 14.3943C7.94747 14.7332 8.13787 15.1929 8.13787 15.6722C8.13787 16.1515 7.94747 16.6111 7.60856 16.95C7.26965 17.289 6.80999 17.4794 6.3307 17.4794C5.8514 17.4794 5.39174 17.289 5.05283 16.95C4.71392 16.6111 4.52352 16.1515 4.52352 15.6722C4.52352 15.1929 4.71392 14.7332 5.05283 14.3943C5.39174 14.0554 5.8514 13.865 6.3307 13.865ZM6.3307 14.7686C6.09105 14.7686 5.86122 14.8638 5.69176 15.0332C5.52231 15.2027 5.42711 15.4325 5.42711 15.6722C5.42711 15.9118 5.52231 16.1417 5.69176 16.3111C5.86122 16.4806 6.09105 16.5758 6.3307 16.5758C6.57034 16.5758 6.80017 16.4806 6.96963 16.3111C7.13908 16.1417 7.23428 15.9118 7.23428 15.6722C7.23428 15.4325 7.13908 15.2027 6.96963 15.0332C6.80017 14.8638 6.57034 14.7686 6.3307 14.7686ZM16.2701 3.02198H3.86391L6.16805 8.44349H13.5594C13.8576 8.44349 14.1196 8.29892 14.2823 8.08206L16.993 4.46771C17.1105 4.3141 17.1737 4.12435 17.1737 3.92556C17.1737 3.68592 17.0785 3.45609 16.9091 3.28663C16.7396 3.11718 16.5098 3.02198 16.2701 3.02198ZM13.5594 9.34708H6.21323L5.51747 10.7567L5.42711 11.1543C5.42711 11.3939 5.52231 11.6237 5.69176 11.7932C5.86122 11.9626 6.09105 12.0578 6.3307 12.0578H16.2701V12.9614H6.3307C5.8514 12.9614 5.39174 12.771 5.05283 12.4321C4.71392 12.0932 4.52352 11.6335 4.52352 11.1543C4.52326 10.8477 4.60099 10.546 4.74942 10.2778L5.4 8.9495L2.11998 1.2148H0.90918V0.311218H2.71635L3.4844 2.11839H16.2701C16.7494 2.11839 17.2091 2.30879 17.548 2.6477C17.8869 2.98661 18.0773 3.44627 18.0773 3.92556C18.0773 4.37736 17.9237 4.75686 17.6707 5.06408L15.0413 8.57903C14.716 9.03986 14.1738 9.34708 13.5594 9.34708Z",fill:t})})}function O1e({color:t="black",...e}){return u.jsx("svg",{width:"19",height:"19",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:u.jsx("path",{d:"M4.1359 15.3442C4.9803 14.7362 5.87636 14.2557 6.82408 13.9027C7.77114 13.5491 8.797 13.3722 9.90168 13.3722C11.0064 13.3722 12.0322 13.5491 12.9793 13.9027C13.9263 14.2564 14.8224 14.7365 15.6675 15.3432C16.3231 14.6643 16.8506 13.863 17.25 12.9391C17.6493 12.0139 17.849 10.9993 17.849 9.89528C17.849 7.6932 17.0751 5.81796 15.5274 4.26956C13.9797 2.72115 12.1044 1.94728 9.90168 1.94795C7.69895 1.94861 5.82371 2.72281 4.27597 4.27055C2.72823 5.81829 1.95435 7.6932 1.95435 9.89528C1.95435 10.9993 2.15403 12.0139 2.55339 12.9391C2.95274 13.8636 3.48024 14.665 4.1359 15.3432M9.90268 10.392C9.06556 10.392 8.35924 10.1046 7.78372 9.5297C7.2082 8.95484 6.92077 8.24918 6.92144 7.41273C6.9221 6.57627 7.20953 5.86995 7.78372 5.29377C8.35791 4.71759 9.0639 4.43016 9.90168 4.43149C10.7395 4.43281 11.4455 4.72024 12.0196 5.29377C12.5938 5.8673 12.8813 6.57329 12.8819 7.41173C12.8826 8.25018 12.5952 8.95617 12.0196 9.5297C11.4441 10.1032 10.7385 10.3907 9.90268 10.392ZM9.90168 18.836C8.65461 18.836 7.48735 18.6039 6.39989 18.1396C5.31243 17.6754 4.36604 17.0409 3.56071 16.2363C2.75538 15.4316 2.12092 14.4852 1.65732 13.3971C1.19373 12.3089 0.961601 11.1417 0.960939 9.89528C0.960277 8.64887 1.1924 7.4816 1.65732 6.39348C2.12224 5.30536 2.7567 4.35897 3.56071 3.5543C4.36604 2.74963 5.31243 2.11517 6.39989 1.65091C7.48735 1.18666 8.65461 0.954529 9.90168 0.954529C11.1488 0.954529 12.316 1.18666 13.4035 1.65091C14.4909 2.11517 15.4373 2.74963 16.2427 3.5543C17.048 4.35897 17.6824 5.30536 18.146 6.39348C18.6096 7.4816 18.8418 8.64887 18.8424 9.89528C18.8431 11.1417 18.611 12.3089 18.146 13.3971C17.6811 14.4852 17.0467 15.4316 16.2427 16.2363C15.4373 17.0409 14.4909 17.6754 13.4035 18.1396C12.316 18.6039 11.1488 18.836 9.90168 18.836ZM9.90168 17.8426C10.8176 17.8426 11.7186 17.6823 12.6048 17.3618C13.4909 17.0419 14.2568 16.6035 14.9025 16.0465C14.2575 15.5279 13.5108 15.1183 12.6624 14.8177C11.814 14.517 10.8938 14.3663 9.90168 14.3656C8.90959 14.365 7.98605 14.5123 7.13105 14.8077C6.27605 15.1031 5.53231 15.516 4.89983 16.0465C5.54555 16.6028 6.31181 17.0413 7.1986 17.3618C8.08539 17.6823 8.98642 17.8426 9.90168 17.8426ZM9.90168 9.39857C10.4593 9.39857 10.9299 9.20684 11.3133 8.82338C11.6968 8.43992 11.8885 7.96937 11.8885 7.41173C11.8885 6.8541 11.6968 6.38355 11.3133 6.00009C10.9299 5.61663 10.4593 5.4249 9.90168 5.4249C9.34405 5.4249 8.8735 5.61663 8.49004 6.00009C8.10658 6.38355 7.91485 6.8541 7.91485 7.41173C7.91485 7.96937 8.10658 8.43992 8.49004 8.82338C8.8735 9.20684 9.34405 9.39857 9.90168 9.39857Z",fill:t})})}function M1e({color:t="black",...e}){return u.jsxs("svg",{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[u.jsx("path",{d:"M5.20469 12.8046H2.40469C1.98034 12.8046 1.57338 12.9731 1.27332 13.2732C0.973259 13.5733 0.804688 13.9802 0.804688 14.4046V17.2046C0.804688 17.6289 0.973259 18.0359 1.27332 18.3359C1.57338 18.636 1.98034 18.8046 2.40469 18.8046H5.20469C5.62903 18.8046 6.036 18.636 6.33606 18.3359C6.63612 18.0359 6.80469 17.6289 6.80469 17.2046V14.4046C6.80469 13.9802 6.63612 13.5733 6.33606 13.2732C6.036 12.9731 5.62903 12.8046 5.20469 12.8046ZM15.2047 0.804565H12.4047C11.9803 0.804565 11.5734 0.973136 11.2733 1.27319C10.9733 1.57325 10.8047 1.98022 10.8047 2.40457V5.20457C10.8047 5.62891 10.9733 6.03588 11.2733 6.33594C11.5734 6.63599 11.9803 6.80457 12.4047 6.80457H15.2047C15.629 6.80457 16.036 6.63599 16.3361 6.33594C16.6361 6.03588 16.8047 5.62891 16.8047 5.20457V2.40457C16.8047 1.98022 16.6361 1.57325 16.3361 1.27319C16.036 0.973136 15.629 0.804565 15.2047 0.804565Z",fill:t,fillOpacity:"0.16"}),u.jsx("path",{d:"M5.20469 0.804565H2.40469C1.98034 0.804565 1.57338 0.973136 1.27332 1.27319C0.973259 1.57325 0.804688 1.98022 0.804688 2.40457V7.20457C0.804688 7.41468 0.846073 7.62274 0.92648 7.81686C1.00689 8.01098 1.12474 8.18736 1.27332 8.33594C1.42189 8.48451 1.59827 8.60237 1.79239 8.68277C1.98652 8.76318 2.19457 8.80457 2.40469 8.80457H5.20469C5.4148 8.80457 5.62286 8.76318 5.81698 8.68277C6.0111 8.60237 6.18748 8.48451 6.33606 8.33594C6.48463 8.18736 6.60249 8.01098 6.68289 7.81686C6.7633 7.62274 6.80469 7.41468 6.80469 7.20457V2.40457C6.80469 1.98022 6.63612 1.57325 6.33606 1.27319C6.036 0.973136 5.62903 0.804565 5.20469 0.804565ZM5.20469 12.8046H2.40469C1.98034 12.8046 1.57338 12.9731 1.27332 13.2732C0.973259 13.5733 0.804688 13.9802 0.804688 14.4046V17.2046C0.804688 17.6289 0.973259 18.0359 1.27332 18.3359C1.57338 18.636 1.98034 18.8046 2.40469 18.8046H5.20469C5.62903 18.8046 6.036 18.636 6.33606 18.3359C6.63612 18.0359 6.80469 17.6289 6.80469 17.2046V14.4046C6.80469 13.9802 6.63612 13.5733 6.33606 13.2732C6.036 12.9731 5.62903 12.8046 5.20469 12.8046ZM15.2047 0.804565H12.4047C11.9803 0.804565 11.5734 0.973136 11.2733 1.27319C10.9733 1.57325 10.8047 1.98022 10.8047 2.40457V5.20457C10.8047 5.62891 10.9733 6.03588 11.2733 6.33594C11.5734 6.63599 11.9803 6.80457 12.4047 6.80457H15.2047C15.629 6.80457 16.036 6.63599 16.3361 6.33594C16.6361 6.03588 16.8047 5.62891 16.8047 5.20457V2.40457C16.8047 1.98022 16.6361 1.57325 16.3361 1.27319C16.036 0.973136 15.629 0.804565 15.2047 0.804565ZM15.2047 10.8046H12.4047C11.9803 10.8046 11.5734 10.9731 11.2733 11.2732C10.9733 11.5733 10.8047 11.9802 10.8047 12.4046V17.2046C10.8047 17.6289 10.9733 18.0359 11.2733 18.3359C11.5734 18.636 11.9803 18.8046 12.4047 18.8046H15.2047C15.629 18.8046 16.036 18.636 16.3361 18.3359C16.6361 18.0359 16.8047 17.6289 16.8047 17.2046V12.4046C16.8047 11.9802 16.6361 11.5733 16.3361 11.2732C16.036 10.9731 15.629 10.8046 15.2047 10.8046Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinejoin:"round"})]})}function V1e({tab:t,setTab:e,cartCount:r=0,unreadMessages:n=0,ordersCount:i=0}){const{profile:s}=In(),{t:a}=cs(),o=s&&s.role==="pharmacy",[l,c]=L.useState({left:0,opacity:0}),d=L.useRef(null),p=L.useRef({}),g=[o?{key:"/",label:a("dashboard","Dashboard"),icon:M1e}:{key:"/",label:a("home","Home"),icon:j1e},{key:"/orders",label:a("orders","Orders"),icon:L1e},{key:"/messages",label:a("messages","Messages"),icon:F1e},...o?[]:[{key:"/cart",label:a("cart","Cart"),icon:D1e}],{key:"/profile",label:a("profile","Profile"),icon:O1e}],m=()=>{const _=g.findIndex(A=>A.key===t),S=p.current[t],P=d.current;if(S&&P&&_!==-1){const A=P.getBoundingClientRect(),V=S.getBoundingClientRect(),W=V.left-A.left+V.width/2-20;c({left:`${W}px`,opacity:1})}else c(A=>({...A,opacity:0}))},y=n>99?"99+":String(n||"");L.useEffect(()=>{requestAnimationFrame(()=>{m()})},[t,g]),L.useEffect(()=>{let _;const S=()=>{clearTimeout(_),_=setTimeout(()=>{requestAnimationFrame(m)},100)};return window.addEventListener("resize",S,{passive:!0}),()=>{window.removeEventListener("resize",S),clearTimeout(_)}},[]),L.useEffect(()=>{try{console.debug("[BottomNav] props",{tab:t,cartCount:r,unreadMessages:n,ordersCount:i,displayUnread:y,profile:s})}catch(_){console.error("[BottomNav] debug log failed",_)}},[t,r,n,i,y,s]);const w=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugBottomNav")==="1";return u.jsxs("div",{className:"fixed bottom-3 left-0 right-0 flex justify-center z-50 px-3 sm:px-4","aria-hidden":!1,children:[u.jsxs("nav",{ref:d,role:"navigation","aria-label":"Bottom navigation",className:"liquid-bottom-nav max-w-[95vw] min-w-[280px] sm:max-w-md lg:max-w-lg px-6 sm:px-5 py-3 bg-white/95 dark:bg-gray-900/40 backdrop-blur-md border border-sky-300 dark:border-sky-300 relative",style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTransform:"translateZ(0)",transform:"translateZ(0)"},children:[u.jsx("div",{className:"absolute bottom-[5.8rem] w-10 h-2 bg-gradient-to-r from-sky-400 to-sky-600 rounded-full shadow-lg will-change-transform",style:{left:l.left,opacity:l.opacity,transition:"left 0.25s cubic-bezier(0.4, 0.0, 0.2, 1), opacity 0.15s ease-out",transform:`scale(${l.opacity})`,boxShadow:"0 2px 8px rgba(56, 165, 255, 0.4), 0 0 16px rgba(56, 165, 255, 0.2)"}}),u.jsx("div",{className:"flex items-center justify-center gap-[-1] px-2",children:g.map((_,S)=>{const P=t===_.key,A=_.icon,V={color:P?"#36A5FF":document.documentElement.classList.contains("dark")?"#ffffff":"#6b7280"},W=_.key==="/cart",K=_.key==="/messages",j=_.key==="/orders";return u.jsx("div",{className:"flex-none",children:u.jsxs("button",{ref:T=>p.current[_.key]=T,onClick:()=>e(_.key),"aria-label":_.label,"aria-pressed":P,className:`relative flex flex-col items-center text-xs min-w-[56px] sm:min-w-[64px] md:min-w-[72px] px-1 sm:px-2 py-3 focus:outline-none transition-all duration-150 ease-out will-change-transform ${P?"text-sky-600 dark:text-sky-400 transform scale-105":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:[u.jsx("div",{className:"relative z-10 transition-transform duration-150 ease-out will-change-transform hover:scale-110",children:u.jsx(A,{...V,className:`h-7 w-7 sm:h-7 sm:w-7 mb-2 sm:mb-2 transition-all duration-150 ease-out ${P?"drop-shadow-lg":""}`})}),W&&r>0&&u.jsx("span",{className:"absolute -top-0.5 -right-0.5 z-50 bg-sky-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:r}),j&&o&&i>0&&u.jsx("span",{className:"absolute -top-0.5 -right-0 z-50 bg-orange-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:i>99?"99+":i}),K&&n>0&&(()=>{try{return u.jsx("span",{role:"status","aria-live":"polite","aria-atomic":"true",className:"absolute top-0 right-2 z-50 bg-sky-500 text-white text-[10px] min-w-[18px] h-[18px] flex items-center justify-center rounded-full px-1 font-bold border-2 border-white shadow animate-bounceIn transition-all duration-200 hover:scale-110",children:y})}catch(T){return console.error("[BottomNav] Error rendering messages badge",T,{unreadMessages:n}),null}})(),u.jsx("span",{className:`truncate max-w-[56px] sm:max-w-[72px] block text-center text-[10px] sm:text-[12px] transition-all duration-150 ease-out ${P?"font-bold":"font-normal"}`,children:_.label})]})},_.key)})})]}),w&&u.jsxs("div",{className:"fixed bottom-20 right-4 z-60 bg-black/80 text-white text-xs px-3 py-1 rounded",children:["UnreadRaw: ",String(n)]})]})}function VT(t){return u.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:u.jsx("path",{d:"M4.87524 5.41667C4.73158 5.41667 4.59381 5.47373 4.49223 5.57532C4.39064 5.6769 4.33358 5.81467 4.33358 5.95833V8.125H5.41691V6.5H7.04191V7.85417L8.93774 5.95833L7.04191 4.0625V5.41667H4.87524ZM6.8832 0.75454L12.2457 6.11704C12.3472 6.21862 12.4043 6.35637 12.4043 6.5C12.4043 6.64363 12.3472 6.78138 12.2457 6.88296L6.8832 12.2455C6.78162 12.347 6.64387 12.404 6.50024 12.404C6.35661 12.404 6.21886 12.347 6.11728 12.2455L0.754784 6.88296C0.653237 6.78138 0.596191 6.64363 0.596191 6.5C0.596191 6.35637 0.653237 6.21862 0.754784 6.11704L6.11728 0.75454C6.21886 0.652993 6.35661 0.595947 6.50024 0.595947C6.64387 0.595947 6.78162 0.652993 6.8832 0.75454Z",fill:"currentColor"})})}function B1e({product:t,pharmacy:e}){const{user:r}=In(),{t:n}=cs(),i=oi(),{userCoords:s}=K0();if(!t)return null;const a=Number(t.price||0),[o,l]=L.useState(!1),[c,d]=L.useState(!1),[p,g]=L.useState(null),[m,y]=L.useState(!1),[w,_]=L.useState(!1),[S,P]=L.useState(!1);L.useEffect(()=>{if(e&&s){const _e=Rk(e,s,"driving");g(_e)}else g(null)},[e,s]),L.useEffect(()=>{(async()=>{if(r&&t)try{const Re=await _F(r.uid,t.id);_(Re)}catch(Re){console.error("Error checking wishlist status:",Re)}})()},[r,t]);const[A,V]=L.useState([]),[W,K]=L.useState(!1);async function j(_e){if(!_e)return V([]);try{K(!0);const Re=Er(tr(ht,"products"),Vr("category","==",_e)),Ye=(await On(Re)).docs.map(ze=>({id:ze.id,...ze.data()}));V(Ye),d(!0)}catch(Re){console.error("Failed to fetch category products",Re),V([]),d(!0)}finally{K(!1)}}const[T,C]=L.useState([]),[D,R]=L.useState(!0),[F,B]=L.useState({name:r?.displayName||"",rating:"",comment:""}),[ee,he]=L.useState(!1),[ve,fe]=L.useState(3),[se,Y]=L.useState(!1),[ie,G]=L.useState({}),[I,z]=L.useState({});L.useEffect(()=>{async function _e(){if(!t?.id)return C([]);R(!0);try{const Re=tr(ht,"products",t.id,"reviews"),pe=Er(Re,pa("createdAt","desc")),Ye=await On(pe);C(Ye.docs.map(ze=>({id:ze.id,...ze.data()})))}catch{C([])}finally{R(!1)}}_e()},[t?.id]),L.useEffect(()=>{async function _e(){if(!r||!t?.id||T.length===0)return z({});const Re={};for(const pe of T){Qt(ht,"products",t.id,"reviews",pe.id,"likes",r.uid);try{const Ye=await On(Er(tr(ht,"products",t.id,"reviews",pe.id,"likes")));Re[pe.id]=Ye.docs.some(ze=>ze.id===r.uid)}catch{}}z(Re)}_e()},[r,t?.id,T]);function X(_e){const{name:Re,value:pe}=_e.target;B(Ye=>({...Ye,[Re]:pe}))}async function J(_e){if(_e.preventDefault(),!(!F.rating&&!F.comment)){he(!0);try{const Re=tr(ht,"products",t.id,"reviews");await Gf(Re,{name:F.name,rating:F.rating?Number(F.rating):null,comment:F.comment||"",createdAt:ki(),userId:r?.uid||null}),B({name:r?.displayName||"",rating:"",comment:""});const pe=Er(Re,pa("createdAt","desc")),Ye=await On(pe);C(Ye.docs.map(ze=>({id:ze.id,...ze.data()})))}catch{}finally{he(!1)}}}async function ce(_e){G(Re=>({...Re,[_e]:!0}));try{const Re=Qt(ht,"products",t.id,"reviews",_e,"likes",r.uid),pe=Qt(ht,"products",t.id,"reviews",_e);I[_e]?(await Tl(Re),await ri(pe,{likes:Ly(-1)}),C(Ye=>Ye.map(ze=>ze.id===_e?{...ze,likes:Math.max((ze.likes||1)-1,0)}:ze)),z(Ye=>({...Ye,[_e]:!1}))):(await Bc(Re,{likedAt:ki(),userId:r.uid}),await ri(pe,{likes:Ly(1)}),C(Ye=>Ye.map(ze=>ze.id===_e?{...ze,likes:(ze.likes||0)+1}:ze)),z(Ye=>({...Ye,[_e]:!0})))}catch{}finally{G(Re=>({...Re,[_e]:!1}))}}if(!r)return u.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[u.jsx("div",{className:"text-xl font-poppins font-light mb-6",children:"Please sign in to continue"}),u.jsx("button",{className:"rounded-full bg-sky-600 text-white px-6 py-2 text-lg font-poppins font-medium shadow hover:bg-sky-700 transition",onClick:()=>i("/auth/landing"),children:"Sign In / Sign Up"})]});function we({value:_e,onChange:Re,disabled:pe}){return u.jsx("div",{className:"flex gap-1 mb-2",role:"radiogroup","aria-label":"Rating",children:[1,2,3,4,5].map(Ye=>u.jsx("button",{type:"button",onClick:()=>!pe&&Re(Ye),onKeyDown:ze=>{!pe&&(ze.key==="Enter"||ze.key===" ")&&Re(Ye)},tabIndex:0,"aria-label":`${Ye} Star${Ye>1?"s":""}`,"aria-checked":_e===Ye,className:`transition-all duration-150 focus:outline-none ${_e>=Ye?"text-amber-400 scale-110":"text-zinc-300"} hover:scale-125 active:scale-95`,children:u.jsx(t4,{className:"w-6 h-6",fill:_e>=Ye?"#fbbf24":"none"})},Ye))})}const ke=`${window.location.origin}/product-preview/${t?.id}`;async function oe(){if(navigator.share){try{await navigator.share({title:t.name,text:`Check out this product: ${t.name}`,url:ke})}catch{}y(!1)}else if(navigator.clipboard){try{await navigator.clipboard.writeText(ke),alert(n("shareable_link_copied","Shareable link copied to clipboard!"))}catch{window.prompt(n("copy_this_link","Copy this link:"),ke)}y(!1)}else window.prompt(n("copy_this_link","Copy this link:"),ke),y(!1)}const Ee=async()=>{if(!r){alert(n("please_sign_in_wishlist","Please sign in to add items to your wishlist"));return}if(!S){P(!0);try{w?(await wF(r.uid,t.id),_(!1)):(await yF(r.uid,t.id,{name:t.name,price:t.price,image:t.image,category:t.category,pharmacyId:e?.id,pharmacyName:e?.name}),_(!0))}catch(_e){console.error("Error toggling wishlist:",_e),alert(n("failed_update_wishlist","Failed to update wishlist. Please try again."))}finally{P(!1)}}};function Oe(){const _e=new URLSearchParams({productId:t?.id||"",productName:t?.name||"",productImage:t?.image||"",vendorName:e?.name||"",prefillMsg:"I want to know more about this drug"});i(`/chat/${e?.id}?${_e.toString()}`),y(!1)}const re=()=>u.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:u.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>i(-1),className:"w-[70px] h-[24px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white border border-zinc-300 dark:border-gray-600 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[u.jsx(Au,{className:"h-4 w-4 mr-1"})," ",n("back","Back")]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",className:`p-2 rounded-full border border-zinc-200 bg-white hover:scale-110 active:scale-95 transition-all duration-200 ${w?"bg-red-50 hover:bg-red-100":"hover:bg-red-50"} ${S?"opacity-50 cursor-not-allowed":""}`,"aria-label":w?"Remove from wishlist":"Add to wishlist",onClick:Ee,disabled:S,children:u.jsx(nC,{className:`w-5 h-5 transition-colors ${w?"text-red-500 fill-current":"text-red-400"}`})}),u.jsx("button",{type:"button",className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":"Share product",onClick:()=>y(!0),children:u.jsx(Uw,{className:"w-5 h-5 text-sky-600"})})]})]})});return u.jsxs(u.Fragment,{children:[Us.createPortal(u.jsx(re,{}),document.body),u.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900 pt-24 md:pt-0",children:u.jsxs("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-0 md:px-8 lg:px-12 xl:px-0",children:[u.jsxs("div",{className:"pt-6 sticky top-0 z-20 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md pb-2 animate-slide-down-fade items-center justify-between hidden md:flex",children:[u.jsxs("button",{onClick:()=>i(-1),className:"w-[70px] h-[24px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[u.jsx(Au,{className:"h-4 w-4 mr-1"})," ",n("back","Back")]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{type:"button",className:`p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:scale-110 active:scale-95 transition-all duration-200 ${w?"bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30":"hover:bg-red-50 dark:hover:bg-red-900/20"} ${S?"opacity-50 cursor-not-allowed":""}`,"aria-label":w?"Remove from wishlist":"Add to wishlist",onClick:Ee,disabled:S,children:u.jsx(nC,{className:`w-5 h-5 transition-colors ${w?"text-red-500 fill-current":"text-red-400"}`})}),u.jsx("button",{type:"button",className:"p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-sky-50 dark:hover:bg-sky-900/20 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":"Share product",onClick:()=>y(!0),children:u.jsx(Uw,{className:"w-5 h-5 text-sky-600"})})]})]}),u.jsx("div",{className:"mt-1 md:border md:rounded-t-3xl md:max-w-4xl md:border-zinc-100 dark:md:border-gray-700 animate-fade-in-up",children:u.jsx("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-0 md:px-8 lg:px-12 xl:px-0 pt-6 pb-36",children:u.jsx("div",{className:"mx-auto w-full",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsxs("div",{className:"md:rounded-2xl md:p-4 md:border flex flex-col items-center justify-center w-full card-interactive hover:shadow-lg transition-all duration-300 animate-fade-in-left",children:[t?.image&&!o?u.jsx("img",{src:t.image,alt:t.name,onError:()=>l(!0),className:"w-full h-[48vw] md:h-auto md:max-h-[160px] lg:max-h-[360px] object-cover md:object-contain hover:scale-105 transition-transform duration-300"}):u.jsx("div",{className:"h-[100px] lg:h-[200px] w-full flex items-center justify-center bg-zinc-100 dark:bg-gray-700 rounded-md text-3xl font-semibold text-zinc-800 dark:text-zinc-200 animate-bounce-gentle",children:u.jsx(Ml,{name:t.name,image:t.image,category:t.category,size:48,"lg:size":80,roundedClass:"rounded-md"})}),u.jsxs("div",{className:"w-full mt-4 hidden lg:flex flex-col gap-3",children:[u.jsx("button",{onClick:async()=>{if(!r)return alert("Please sign in");if(!t.id)return alert(n("product_unavailable","Product unavailable. Please try again."));try{await o1(r.uid,t.id,1)}catch{alert(n("failed_add_to_cart","Failed to add to cart."))}},className:"w-full h-10 rounded-full bg-sky-600 text-white text-[14px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200","aria-label":n("add_to_cart","Add to Cart"),children:n("add_to_cart","Add to Cart")}),u.jsxs("a",{href:`tel:${e?.phone||""}`,className:"w-full h-10 rounded-full border border-zinc-400 dark:border-gray-600 text-[14px] font-poppins font-light flex items-center justify-center gap-2 text-zinc-800 dark:text-white bg-white dark:bg-gray-800 btn-interactive hover:border-zinc-500 dark:hover:border-gray-500 hover:scale-105 active:scale-95 transition-all duration-200","aria-label":n("call_to_order","Call to Order"),children:[u.jsx(D1,{className:"h-4 w-4 text-zinc-800 dark:text-white"})," ",n("call_to_order","Call to Order")]})]})]}),u.jsxs("div",{className:"flex flex-col animate-fade-in-right",children:[u.jsxs("div",{className:"mb-3 flex items-start justify-between animate-slide-up",style:{animationDelay:"0.1s"},children:[u.jsx("h1",{className:"text-[18px] lg:text-[20px] font-poppins font-medium tracking-tight leading-tight min-w-0 animate-text-reveal text-gray-900 dark:text-white",children:t.name}),u.jsxs("div",{className:"text-[18px] text-sky-600 dark:text-sky-400 font-poppins font-semibold lg:hidden animate-pulse-slow",children:["₦",a.toLocaleString()]})]}),u.jsx("div",{className:"mb-4 hidden lg:block animate-fade-in",style:{animationDelay:"0.2s"},children:u.jsxs("div",{className:"text-[20px] text-sky-600 dark:text-sky-400 font-poppins font-semibold animate-pulse-slow",children:["₦",a.toLocaleString()]})}),u.jsx("div",{className:"mb-2 animate-fade-in",style:{animationDelay:"0.3s"},children:u.jsx("button",{onClick:()=>i(`/vendor/${e?.id||t.pharmacyId}`),className:"text-sky-600 dark:text-sky-400 underline font-poppins text-[15px] font-light hover:text-sky-700 dark:hover:text-sky-300 transition-colors duration-200 hover:scale-105",children:u.jsx(zc,{name:e?.name||n("pharmacy","Pharmacy"),isVerified:e?.isVerified,className:"inline-flex items-center gap-1",nameClassName:"underline decoration-inherit underline-offset-2",iconClassName:"h-3.5 w-3.5 text-sky-500 dark:text-sky-400"})})}),u.jsxs("div",{className:"mb-1 flex items-center justify-between gap-2 text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.4s"},children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[u.jsx(cc,{className:"h-4 w-4 flex-shrink-0"}),u.jsx("span",{className:"truncate",children:e?.address})]}),e?.address&&u.jsxs("button",{onClick:()=>{const _e=encodeURIComponent(e.address);window.open(`https://www.google.com/maps/search/?api=1&query=${_e}`,"_blank")},className:"text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-2 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 lg:hidden hover:scale-105 active:scale-95","aria-label":"Get directions",children:[u.jsx(VT,{className:"h-4 w-4 inline-block mr-1"})," ",n("get_directions","Get Directions")]})]}),u.jsxs("div",{className:"mb-3 flex items-center gap-2 text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.5s"},children:[u.jsx(qy,{className:"h-4 w-4"}),p?n("eta_to_pharmacy","{time} to {pharmacy}").replace("{time}",p.formatted).replace("{pharmacy}",e?.name):s?n("calculating_eta","Calculating ETA..."):n("fetching_location","Fetching location...")]}),e?.address&&u.jsx("div",{className:"mb-4 hidden lg:block animate-fade-in",style:{animationDelay:"0.6s"},children:u.jsxs("button",{className:"flex items-center gap-2 text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-3 py-2 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>{const _e=encodeURIComponent(e.address);window.open(`https://www.google.com/maps/search/?api=1&query=${_e}`,"_blank")},children:[u.jsx(VT,{className:"h-4 w-4 text-sky-600 dark:text-sky-400"})," Get Directions"]})}),u.jsxs("div",{className:"mt-2 animate-fade-in",style:{animationDelay:"0.7s"},children:[u.jsxs("div",{className:"hidden lg:block",children:[u.jsx("div",{className:"text-[15px] tracking-tight text-black font-poppins font-medium",children:n("category","Category")}),u.jsx("div",{className:"mt-0.5 mb-5",children:u.jsx("button",{type:"button",onClick:async _e=>{_e.stopPropagation(),await j(t.category||"General")},className:"text-[13px] text-[#fc7f26] font-poppins font-normal underline hover:text-amber-500 transition-colors duration-200 hover:scale-105",children:t.category||"General"})})]}),u.jsx("div",{className:"block lg:hidden",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("div",{className:"text-[15px] text-black font-poppins font-medium mb-2",children:n("category","Category")}),u.jsx("div",{children:u.jsx("button",{type:"button",onClick:async _e=>{_e.stopPropagation(),await j(t.category||"General")},className:"text-[13px] text-[#fc7f26] font-poppins font-normal underline hover:text-amber-500 transition-colors duration-200 hover:scale-105",children:t.category||"General"})})]})})]}),u.jsx("div",{className:"mt-4 border-b"}),u.jsxs("div",{className:"mt-6 animate-fade-in",style:{animationDelay:"0.8s"},children:[u.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 dark:text-white",children:n("product_description","Product Description")}),u.jsx("p",{className:"mt-2 text-zinc-600 dark:text-zinc-300 leading-6 font-poppins text-[14px] font-light",children:t.description})]}),u.jsx("div",{className:"mt-8 border-b"}),u.jsxs("div",{className:"mt-8 animate-fade-in-up",style:{animationDelay:"0.9s"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 dark:text-white",children:n("customer_reviews","Customer Reviews")}),u.jsx("span",{className:"text-sky-400 font-semibold text-[13px]",children:T.length})]}),se&&u.jsx("button",{className:"text-sky-400 text-[13px] font-poppins underline",onClick:()=>{Y(!1),fe(3)},children:n("see_less","See less")})]}),u.jsx("div",{className:"space-y-4 mb-6",children:D?u.jsx("div",{className:"p-4 text-center text-zinc-400 dark:text-zinc-500 animate-pulse",children:n("loading_reviews","Loading reviews…")}):T.length===0?u.jsx("div",{className:"p-4 text-center text-zinc-400 dark:text-zinc-500 animate-fade-in text-[12px]",children:n("no_reviews_yet","No reviews yet. Be the first to review!")}):T.slice(0,ve).map((_e,Re)=>{let pe="";if(_e.createdAt){const Ye=_e.createdAt.seconds?new Date(_e.createdAt.seconds*1e3):new Date(_e.createdAt);pe=Ye.toLocaleDateString()+" "+Ye.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}return u.jsxs("div",{className:"p-4 rounded-xl border border-sky-100 dark:border-gray-600 animate-slide-up transition-all duration-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-poppins font-semibold text-[14px] text-zinc-700 dark:text-zinc-200",children:_e.name}),u.jsxs("span",{className:"flex gap-0.5 text-amber-400 text-[13px]",children:["★".repeat(_e.rating),"☆".repeat(5-_e.rating)]})]}),u.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:u.jsxs("div",{className:"flex items-center justify-center",children:[_e.likes>0&&u.jsx("span",{className:"text-sky-500 font-semibold text-[13px] mr-1",children:_e.likes}),u.jsx("button",{className:`flex items-center justify-center px-2 py-1 rounded transition-all duration-200 ${ie[_e.id]?"opacity-50 pointer-events-none":""} ${I[_e.id]?"bg-sky-50 text-sky-400":"text-zinc-400"}`,onClick:()=>ce(_e.id),disabled:ie[_e.id],"aria-label":I[_e.id]?"Unlike review":"Like review",style:{minHeight:"20px"},children:u.jsx(See,{className:"w-4 h-4",fill:I[_e.id]?"#38bdf8":"none"})})]})})]}),u.jsx("div",{className:"text-zinc-600 dark:text-zinc-300 text-[13px] font-poppins font-light",children:_e.comment}),pe&&u.jsx("div",{className:"text-[11px] text-zinc-400 dark:text-zinc-500 mt-1",children:pe}),_e.pharmacyResponse&&u.jsxs("div",{className:"mt-3 p-3 bg-gradient-to-r from-sky-50 to-blue-50 dark:bg-gradient-to-r dark:from-gray-800 dark:to-gray-700 border border-sky-100 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-2 h-2 bg-sky-500 dark:bg-sky-400 rounded-full"}),u.jsx("span",{className:"font-poppins font-semibold text-[13px] text-sky-700 dark:text-white",children:n("pharmacy_response","{pharmacyName} Response",{pharmacyName:e?.name||"Pharmacy"})}),(_e.pharmacyResponse.respondedAt||_e.responseDate)&&u.jsx("span",{className:"text-[10px] text-sky-500 dark:text-zinc-300 ml-auto",children:new Date((_e.pharmacyResponse.respondedAt?.seconds||_e.responseDate?.seconds||_e.responseDate)*1e3).toLocaleDateString()})]}),u.jsxs("div",{className:"text-zinc-700 dark:text-white text-[13px] font-poppins leading-relaxed pl-4",children:['"',typeof _e.pharmacyResponse=="string"?_e.pharmacyResponse:_e.pharmacyResponse.message||_e.pharmacyResponse,'"']})]})]},_e.id||Re)})}),T.length>ve&&u.jsx("div",{className:"flex justify-start",children:u.jsx("button",{className:"text-sky-400 text-[13px] font-poppins underline",onClick:()=>{fe(_e=>_e+3),Y(!0)},children:n("see_more","See more")})}),u.jsx("div",{className:"mt-4 border-b"}),u.jsxs("form",{className:"p-4 mt-6 rounded-xl border border-zinc-100 bg-white shadow-sm animate-bounce-in",style:{animationDelay:"1.0s"},onSubmit:J,children:[u.jsx("div",{className:"mb-2 font-poppins text-[14px] font-medium text-zinc-700 dark:text-zinc-300",children:n("leave_a_review","Leave a Review")}),u.jsx(we,{value:Number(F.rating),onChange:_e=>B(Re=>({...Re,rating:_e})),disabled:ee}),u.jsx("input",{type:"text",name:"name",value:F.name,onChange:X,placeholder:n("your_name","Your Name"),className:"w-full mb-2 px-3 py-2 rounded-lg border-zinc-200 font-poppins text-[13px] focus:ring-2 focus:ring-sky-200 transition-all duration-20"}),u.jsx("textarea",{name:"comment",value:F.comment,onChange:X,placeholder:n("your_review_optional","Your review... (optional)"),className:"w-full mb-2 px-3 py-2 rounded-lg border border-zinc-200 font-poppins text-[13px] focus:ring-2 focus:ring-sky-200 transition-all duration-200",rows:3}),u.jsx("button",{type:"submit",disabled:ee||!F.rating&&!F.comment,className:"w-full h-10 rounded-full border border-sky-500 dark:border-gray-600 text-black text-[14px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:ee?n("submitting","Submitting…"):n("submit_review","Submit Review")})]})]})]})]})})})}),u.jsx("div",{className:"fixed left-0 right-0 bottom-[8rem] z-30 lg:hidden animate-slide-up-fade",children:u.jsx("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0",children:u.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[u.jsx("button",{onClick:async()=>{if(!r)return alert(n("please_sign_in","Please sign in"));if(!t.id)return alert(n("product_unavailable","Product unavailable. Please try again."));try{await o1(r.uid,t.id,1)}catch{alert(n("failed_add_to_cart","Failed to add to cart."))}},className:"flex-1 max-w-[140px] h-10 rounded-full bg-sky-600 text-white text-[13px] font-poppins font-light shadow-sm btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:n("add_to_cart","Add to Cart")}),u.jsxs("a",{href:`tel:${e?.phone||""}`,className:"flex-1 max-w-[140px] h-10 rounded-full border border-zinc-400 dark:border-gray-600 text-[13px] font-poppins font-light flex items-center justify-center gap-2 text-zinc-800 dark:text-white bg-white dark:bg-gray-800 btn-interactive hover:border-zinc-500 dark:hover:border-gray-500 hover:scale-105 active:scale-95 transition-all duration-200",children:[u.jsx(D1,{className:"h-4 w-4 text-zinc-800 dark:text-white"})," ",n("call_to_order","Call to Order")]})]})})}),c&&u.jsx("div",{onClick:()=>d(!1),className:"fixed inset-0 z-50 flex items-start justify-center pt-24 bg-black/30 dark:bg-black/80 animate-fade-in",role:"dialog","aria-modal":"true",children:u.jsxs("div",{onClick:_e=>_e.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl p-4 w-[90vw] max-w-md max-h-[80vh] overflow-y-auto animate-bounce-in shadow-xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("div",{className:"text-lg font-medium animate-text-reveal",children:n("products_in_category",'Products in "{category}"').replace("{category}",t.category||"General")}),u.jsx("button",{onClick:()=>d(!1),className:"text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors duration-200 hover:scale-110 active:scale-95",children:n("close","Close")})]}),W?u.jsx("div",{className:"p-4 text-center text-zinc-500 dark:text-zinc-400 animate-pulse",children:n("loading","Loading…")}):A.length===0?u.jsx("div",{className:"p-4 text-zinc-500 dark:text-zinc-400 animate-fade-in",children:n("no_products_found","No products found.")}):u.jsx("div",{className:"space-y-2",children:A.map((_e,Re)=>u.jsxs("button",{onClick:()=>{d(!1),i(`/product/${_e.id}`)},className:"w-full text-left rounded-lg p-2 flex items-center gap-3 hover:bg-sky-50 transition-all duration-200 card-interactive animate-fadeInUp hover:scale-102",style:{animationDelay:`${Re*.1}s`},children:[u.jsx(Ml,{name:_e.name,image:_e.image,category:_e.category,size:48,className:"flex-shrink-0 animate-bounce-gentle",roundedClass:"rounded-md"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm truncate",children:_e.name}),u.jsx("div",{className:"text-xs text-zinc-500 truncate",children:_e.category})]})]},_e.id))})]})}),m&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 dark:bg-black/30 animate-fade-in",role:"dialog","aria-modal":"true",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 w-[90vw] max-w-xs shadow-xl animate-bounce-in flex flex-col gap-4",children:[u.jsx("div",{className:"font-poppins font-medium text-[16px] mb-2 text-center",children:n("share_product","Share Product")}),u.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 rounded-lg border border-sky-200 dark:border-gray-600 bg-sky-50 text-sky-700 font-poppins font-medium hover:bg-sky-100 hover:scale-105 active:scale-95 transition-all duration-200",onClick:oe,children:[u.jsx(Uw,{className:"w-4 h-4"})," ",n("share_product","Share Product")]}),u.jsxs("button",{className:"w-full flex items-center gap-2 px-4 py-2 rounded-lg border border-zinc-200 bg-zinc-50 text-zinc-700 dark:bg-gray-700 dark:text-white dark:border-gray-600 font-poppins font-medium hover:bg-zinc-100 dark:hover:bg-gray-600 hover:scale-105 active:scale-95 transition-all duration-200",onClick:Oe,children:[u.jsx("svg",{width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M21 12c0 4.418-4.03 8-9 8a9.77 9.77 0 01-4-.8l-4 1 1-4A8.96 8.96 0 013 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),n("message_vendor","Message Vendor")]}),u.jsx("button",{className:"mt-2 text-zinc-400 hover:text-zinc-700 text-[13px] font-poppins underline",onClick:()=>y(!1),children:n("cancel","Cancel")})]})})]})})]})}const U1e="data:image/svg+xml,%3csvg%20width='26'%20height='23'%20viewBox='0%200%2026%2023'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M2.41667%2022.3281C1.93056%2022.5226%201.46875%2022.4798%201.03125%2022.1998C0.59375%2021.9198%200.375%2021.5129%200.375%2020.9792V14.4167L12.0417%2011.5L0.375%208.58333V2.02083C0.375%201.48611%200.59375%201.07923%201.03125%200.800203C1.46875%200.521176%201.93056%200.478397%202.41667%200.67187L24.875%2010.151C25.4826%2010.4184%2025.7865%2010.868%2025.7865%2011.5C25.7865%2012.1319%2025.4826%2012.5816%2024.875%2012.849L2.41667%2022.3281Z'%20fill='black'/%3e%3c/svg%3e";function z1e(t){return u.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:u.jsx("path",{d:"M2.68917 5.64292C3.70917 7.6475 5.3525 9.29083 7.35708 10.3108L8.91542 8.7525C9.11375 8.55417 9.39 8.4975 9.63792 8.57542C10.4312 8.8375 11.2812 8.97917 12.1667 8.97917C12.3545 8.97917 12.5347 9.05379 12.6675 9.18663C12.8004 9.31947 12.875 9.49964 12.875 9.6875V12.1667C12.875 12.3545 12.8004 12.5347 12.6675 12.6675C12.5347 12.8004 12.3545 12.875 12.1667 12.875C8.97302 12.875 5.91017 11.6063 3.65192 9.34808C1.39367 7.08983 0.125 4.02698 0.125 0.833333C0.125 0.645472 0.199628 0.465304 0.332466 0.332466C0.465304 0.199628 0.645472 0.125 0.833333 0.125H3.3125C3.50036 0.125 3.68053 0.199628 3.81337 0.332466C3.94621 0.465304 4.02083 0.645472 4.02083 0.833333C4.02083 1.71875 4.1625 2.56875 4.42458 3.36208C4.5025 3.61 4.44583 3.88625 4.2475 4.08458L2.68917 5.64292Z",fill:"black"})})}const $1e="/assets/message-tone-B30p1O1l.mp3",oV=typeof document<"u"?bi.useLayoutEffect:()=>{};var A3;const q1e=(A3=bi.useInsertionEffect)!==null&&A3!==void 0?A3:oV;function H1e(t){const e=L.useRef(null);return q1e(()=>{e.current=t},[t]),L.useCallback((...r)=>{const n=e.current;return n?.(...r)},[])}const mh=t=>{var e;return(e=t?.ownerDocument)!==null&&e!==void 0?e:document},e0=t=>t&&"window"in t&&t.window===t?t:mh(t).defaultView||window;function W1e(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function G1e(t){return W1e(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let K1e=!1;function E8(){return K1e}function lV(t,e){if(!E8())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:G1e(r)?r=r.host:r=r.parentNode}return!1}const yb=(t=document)=>{var e;if(!E8())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function cV(t){return E8()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function Y1e(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function X1e(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function uV(t){let e=null;return()=>(e==null&&(e=t()),e)}const Q1e=uV(function(){return X1e(/^Mac/i)}),J1e=uV(function(){return Y1e(/Android/i)});function dV(){let t=L.useRef(new Map),e=L.useCallback((i,s,a,o)=>{let l=o?.once?(...c)=>{t.current.delete(a),a(...c)}:a;t.current.set(a,{type:s,eventTarget:i,fn:l,options:o}),i.addEventListener(s,l,o)},[]),r=L.useCallback((i,s,a,o)=>{var l;let c=((l=t.current.get(a))===null||l===void 0?void 0:l.fn)||a;i.removeEventListener(s,c,o),t.current.delete(a)},[]),n=L.useCallback(()=>{t.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return L.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function Z1e(t){return t.pointerType===""&&t.isTrusted?!0:J1e()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function fV(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function eme(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function hV(t){let e=L.useRef({isFocused:!1,observer:null});oV(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=H1e(n=>{t?.(n)});return L.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=n.target,s=a=>{if(e.current.isFocused=!1,i.disabled){let o=fV(a);r(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var a;(a=e.current.observer)===null||a===void 0||a.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let tme=!1,lx=null,wb=new Set,Fg=new Map,M0=!1,_b=!1;const rme={Tab:!0,Escape:!0};function C8(t,e){for(let r of wb)r(t,e)}function nme(t){return!(t.metaKey||!Q1e()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function f5(t){M0=!0,nme(t)&&(lx="keyboard",C8("keyboard",t))}function x1(t){lx="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(M0=!0,C8("pointer",t))}function pV(t){Z1e(t)&&(M0=!0,lx="virtual")}function mV(t){t.target===window||t.target===document||tme||!t.isTrusted||(!M0&&!_b&&(lx="virtual",C8("virtual",t)),M0=!1,_b=!1)}function gV(){M0=!1,_b=!0}function bb(t){if(typeof window>"u"||typeof document>"u"||Fg.get(e0(t)))return;const e=e0(t),r=mh(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){M0=!0,n.apply(this,arguments)},r.addEventListener("keydown",f5,!0),r.addEventListener("keyup",f5,!0),r.addEventListener("click",pV,!0),e.addEventListener("focus",mV,!0),e.addEventListener("blur",gV,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",x1,!0),r.addEventListener("pointermove",x1,!0),r.addEventListener("pointerup",x1,!0)),e.addEventListener("beforeunload",()=>{xV(t)},{once:!0}),Fg.set(e,{focus:n})}const xV=(t,e)=>{const r=e0(t),n=mh(t);e&&n.removeEventListener("DOMContentLoaded",e),Fg.has(r)&&(r.HTMLElement.prototype.focus=Fg.get(r).focus,n.removeEventListener("keydown",f5,!0),n.removeEventListener("keyup",f5,!0),n.removeEventListener("click",pV,!0),r.removeEventListener("focus",mV,!0),r.removeEventListener("blur",gV,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",x1,!0),n.removeEventListener("pointermove",x1,!0),n.removeEventListener("pointerup",x1,!0)),Fg.delete(r))};function ime(t){const e=mh(t);let r;return e.readyState!=="loading"?bb(t):(r=()=>{bb(t)},e.addEventListener("DOMContentLoaded",r)),()=>xV(t,r)}typeof document<"u"&&ime();function vV(){return lx!=="pointer"}const sme=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ame(t,e,r){let n=mh(r?.target);const i=typeof window<"u"?e0(r?.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?e0(r?.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?e0(r?.target).HTMLElement:HTMLElement,o=typeof window<"u"?e0(r?.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!sme.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof a&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof o&&!rme[r.key])}function ome(t,e,r){bb(),L.useEffect(()=>{let n=(i,s)=>{ame(!!r?.isTextInput,i,s)&&t(vV())};return wb.add(n),()=>{wb.delete(n)}},e)}function lme(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const s=L.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),a=hV(s),o=L.useCallback(l=>{const c=mh(l.target),d=c?yb(c):yb();l.target===l.currentTarget&&d===cV(l.nativeEvent)&&(r&&r(l),i&&i(!0),a(l))},[i,r,a]);return{focusProps:{onFocus:!e&&(r||i||n)?o:void 0,onBlur:!e&&(n||i)?s:void 0}}}function cme(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,s=L.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:o}=dV(),l=L.useCallback(p=>{p.currentTarget.contains(p.target)&&s.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(s.current.isFocusWithin=!1,o(),r&&r(p),i&&i(!1))},[r,i,s,o]),c=hV(l),d=L.useCallback(p=>{if(!p.currentTarget.contains(p.target))return;const g=mh(p.target),m=yb(g);if(!s.current.isFocusWithin&&m===cV(p.nativeEvent)){n&&n(p),i&&i(!0),s.current.isFocusWithin=!0,c(p);let y=p.currentTarget;a(g,"focus",w=>{if(s.current.isFocusWithin&&!lV(y,w.target)){let _=new g.defaultView.FocusEvent("blur",{relatedTarget:w.target});eme(_,y);let S=fV(_);l(S)}},{capture:!0})}},[n,i,c,a,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}let kb=!1,Rv=0;function ume(){kb=!0,setTimeout(()=>{kb=!1},50)}function BT(t){t.pointerType==="touch"&&ume()}function dme(){if(!(typeof document>"u"))return Rv===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",BT),Rv++,()=>{Rv--,!(Rv>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",BT)}}function fme(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[s,a]=L.useState(!1),o=L.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;L.useEffect(dme,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=dV(),{hoverProps:d,triggerHoverEnd:p}=L.useMemo(()=>{let g=(w,_)=>{if(o.pointerType=_,i||_==="touch"||o.isHovered||!w.currentTarget.contains(w.target))return;o.isHovered=!0;let S=w.currentTarget;o.target=S,l(mh(w.target),"pointerover",P=>{o.isHovered&&o.target&&!lV(o.target,P.target)&&m(P,P.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:S,pointerType:_}),r&&r(!0),a(!0)},m=(w,_)=>{let S=o.target;o.pointerType="",o.target=null,!(_==="touch"||!o.isHovered||!S)&&(o.isHovered=!1,c(),n&&n({type:"hoverend",target:S,pointerType:_}),r&&r(!1),a(!1))},y={};return typeof PointerEvent<"u"&&(y.onPointerEnter=w=>{kb&&w.pointerType==="mouse"||g(w,w.pointerType)},y.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&m(w,w.pointerType)}),{hoverProps:y,triggerHoverEnd:m}},[e,r,n,i,o,l,c]);return L.useEffect(()=>{i&&p({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:d,isHovered:s}}function hme(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=L.useRef({isFocused:!1,isFocusVisible:e||vV()}),[s,a]=L.useState(!1),[o,l]=L.useState(()=>i.current.isFocused&&i.current.isFocusVisible),c=L.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),d=L.useCallback(m=>{i.current.isFocused=m,a(m),c()},[c]);ome(m=>{i.current.isFocusVisible=m,c()},[],{isTextInput:r});let{focusProps:p}=lme({isDisabled:n,onFocusChange:d}),{focusWithinProps:g}=cme({isDisabled:!n,onFocusWithinChange:d});return{isFocused:s,isFocusVisible:o,focusProps:n?g:p}}var pme=Object.defineProperty,mme=(t,e,r)=>e in t?pme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,I3=(t,e,r)=>(mme(t,typeof e!="symbol"?e+"":e,r),r);let gme=class{constructor(){I3(this,"current",this.detect()),I3(this,"handoffState","pending"),I3(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Iu=new gme;function lm(t){var e,r;return Iu.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(r=(e=t.current)==null?void 0:e.ownerDocument)!=null?r:document:null:document}function yV(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function xc(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return yV(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=xc();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function m4(){let[t]=L.useState(xc);return L.useEffect(()=>()=>t.dispose(),[t]),t}let ra=(t,e)=>{Iu.isServer?L.useEffect(t,e):L.useLayoutEffect(t,e)};function cx(t){let e=L.useRef(t);return ra(()=>{e.current=t},[t]),e}let Yn=function(t){let e=cx(t);return bi.useCallback((...r)=>e.current(...r),[e])};function xme(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function vme(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function yme({disabled:t=!1}={}){let e=L.useRef(null),[r,n]=L.useState(!1),i=m4(),s=Yn(()=>{e.current=null,n(!1),i.dispose()}),a=Yn(o=>{if(i.dispose(),e.current===null){e.current=o.currentTarget,n(!0);{let l=lm(o.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",c=>{if(e.current){let d=xme(c);n(vme(d,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:a,onPointerUp:s,onClick:s}}}let wme=L.createContext(void 0);function wV(){return L.useContext(wme)}function UT(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function cm(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cm),n}var Sb=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Sb||{}),_me=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(_me||{});function vc(){let t=kme();return L.useCallback(e=>bme({mergeRefs:t,...e}),[t])}function bme({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:a,mergeRefs:o}){o=o??Sme;let l=_V(e,t);if(s)return jv(l,r,n,a,o);let c=i??0;if(c&2){let{static:d=!1,...p}=l;if(d)return jv(p,r,n,a,o)}if(c&1){let{unmount:d=!0,...p}=l;return cm(d?0:1,{0(){return null},1(){return jv({...p,hidden:!0,style:{display:"none"}},r,n,a,o)}})}return jv(l,r,n,a,o)}function jv(t,e={},r,n,i){let{as:s=r,children:a,refName:o="ref",...l}=P3(t,["unmount","static"]),c=t.ref!==void 0?{[o]:t.ref}:{},d=typeof a=="function"?a(e):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let p={};if(e){let g=!1,m=[];for(let[y,w]of Object.entries(e))typeof w=="boolean"&&(g=!0),w===!0&&m.push(y.replace(/([A-Z])/g,_=>`-${_.toLowerCase()}`));if(g){p["data-headlessui-state"]=m.join(" ");for(let y of m)p[`data-${y}`]=""}}if(s===L.Fragment&&(Object.keys(Op(l)).length>0||Object.keys(Op(p)).length>0))if(!L.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Op(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Op(l)).concat(Object.keys(Op(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=d.props,m=g?.className,y=typeof m=="function"?(...S)=>UT(m(...S),l.className):UT(m,l.className),w=y?{className:y}:{},_=_V(d.props,Op(P3(l,["ref"])));for(let S in p)S in _&&delete p[S];return L.cloneElement(d,Object.assign({},_,p,c,{ref:i(Eme(d),c.ref)},w))}return L.createElement(s,Object.assign({},P3(l,["ref"]),s!==L.Fragment&&c,s!==L.Fragment&&p),d)}function kme(){let t=L.useRef([]),e=L.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function Sme(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function _V(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i?.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...s){let a=r[n];for(let o of a){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;o(i,...s)}}});return e}function bV(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let s=r[n];for(let a of s)a?.(...i)}});return e}function yc(t){var e;return Object.assign(L.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Op(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function P3(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function Eme(t){return bi.version.split(".")[0]>="19"?t.props.ref:t.ref}let Cme=L.createContext(void 0);function Nme(){return L.useContext(Cme)}function N8(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function g4(t){return N8(t)&&"tagName"in t}function Od(t){return g4(t)&&"accessKey"in t}function t0(t){return g4(t)&&"tabIndex"in t}function Tme(t){return g4(t)&&"style"in t}function Ame(t){return Od(t)&&t.nodeName==="IFRAME"}function kV(t){return Od(t)&&t.nodeName==="INPUT"}function zT(t){return Od(t)&&t.nodeName==="LABEL"}function Ime(t){return Od(t)&&t.nodeName==="FIELDSET"}function SV(t){return Od(t)&&t.nodeName==="LEGEND"}function Pme(t){return g4(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Rme(t){let e=t.parentElement,r=null;for(;e&&!Ime(e);)SV(e)&&(r=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&jme(r)?!1:n}function jme(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(SV(e))return!1;e=e.previousElementSibling}return!0}let EV=Symbol();function Lme(t,e=!0){return Object.assign(t,{[EV]:e})}function Md(...t){let e=L.useRef(t);L.useEffect(()=>{e.current=t},[t]);let r=Yn(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||n?.[EV])?void 0:r}let T8=L.createContext(null);T8.displayName="DescriptionContext";function CV(){let t=L.useContext(T8);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,CV),e}return t}function Fme(){let[t,e]=L.useState([]);return[t.length>0?t.join(" "):void 0,L.useMemo(()=>function(r){let n=Yn(s=>(e(a=>[...a,s]),()=>e(a=>{let o=a.slice(),l=o.indexOf(s);return l!==-1&&o.splice(l,1),o}))),i=L.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return bi.createElement(T8.Provider,{value:i},r.children)},[e])]}let Dme="p";function Ome(t,e){let r=L.useId(),n=wV(),{id:i=`headlessui-description-${r}`,...s}=t,a=CV(),o=Md(e);ra(()=>a.register(i),[i,a.register]);let l=n||!1,c=L.useMemo(()=>({...a.slot,disabled:l}),[a.slot,l]),d={ref:o,...a.props,id:i};return vc()({ourProps:d,theirProps:s,slot:c,defaultTag:Dme,name:a.name||"Description"})}let Mme=yc(Ome);Object.assign(Mme,{});var Ka=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Ka||{});let x4=L.createContext(null);x4.displayName="LabelContext";function A8(){let t=L.useContext(x4);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,A8),e}return t}function Vme(t){var e,r,n;let i=(r=(e=L.useContext(x4))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function NV({inherit:t=!1}={}){let e=Vme(),[r,n]=L.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,L.useMemo(()=>function(s){let a=Yn(l=>(n(c=>[...c,l]),()=>n(c=>{let d=c.slice(),p=d.indexOf(l);return p!==-1&&d.splice(p,1),d}))),o=L.useMemo(()=>({register:a,slot:s.slot,name:s.name,props:s.props,value:s.value}),[a,s.slot,s.name,s.props,s.value]);return bi.createElement(x4.Provider,{value:o},s.children)},[n])]}let Bme="label";function Ume(t,e){var r;let n=L.useId(),i=A8(),s=Nme(),a=wV(),{id:o=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:c=!1,...d}=t,p=Md(e);ra(()=>i.register(o),[o,i.register]);let g=Yn(_=>{let S=_.currentTarget;if(!(_.target!==_.currentTarget&&Pme(_.target))&&(zT(S)&&_.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(_),zT(S))){let P=document.getElementById(S.htmlFor);if(P){let A=P.getAttribute("disabled");if(A==="true"||A==="")return;let V=P.getAttribute("aria-disabled");if(V==="true"||V==="")return;(kV(P)&&(P.type==="file"||P.type==="radio"||P.type==="checkbox")||P.role==="radio"||P.role==="checkbox"||P.role==="switch")&&P.click(),P.focus({preventScroll:!0})}}}),m=a||!1,y=L.useMemo(()=>({...i.slot,disabled:m}),[i.slot,m]),w={ref:p,...i.props,id:o,htmlFor:l,onClick:g};return c&&("onClick"in w&&(delete w.htmlFor,delete w.onClick),"onClick"in d&&delete d.onClick),vc()({ourProps:w,theirProps:d,slot:y,defaultTag:l?Bme:"div",name:i.name||"Label"})}let zme=yc(Ume);Object.assign(zme,{});function $me(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function qme(t,e=!1){let[r,n]=L.useReducer(()=>({}),{}),i=L.useMemo(()=>$me(t),[t,r]);return ra(()=>{if(!t)return;let s=new ResizeObserver(n);return s.observe(t),()=>{s.disconnect()}},[t]),e?{width:`${i.width}px`,height:`${i.height}px`}:i}let TV=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var Hme=Object.defineProperty,Wme=(t,e,r)=>e in t?Hme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gme=(t,e,r)=>(Wme(t,e+"",r),r),AV=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},tc=(t,e,r)=>(AV(t,e,"read from private field"),r?r.call(t):e.get(t)),R3=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},$T=(t,e,r,n)=>(AV(t,e,"write to private field"),e.set(t,r),r),xu,fg,hg;let IV=class{constructor(e){R3(this,xu,{}),R3(this,fg,new TV(()=>new Set)),R3(this,hg,new Set),Gme(this,"disposables",xc()),$T(this,xu,e),Iu.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return tc(this,xu)}subscribe(e,r){if(Iu.isServer)return()=>{};let n={selector:e,callback:r,current:e(tc(this,xu))};return tc(this,hg).add(n),this.disposables.add(()=>{tc(this,hg).delete(n)})}on(e,r){return Iu.isServer?()=>{}:(tc(this,fg).get(e).add(r),this.disposables.add(()=>{tc(this,fg).get(e).delete(r)}))}send(e){let r=this.reduce(tc(this,xu),e);if(r!==tc(this,xu)){$T(this,xu,r);for(let n of tc(this,hg)){let i=n.selector(tc(this,xu));PV(n.current,i)||(n.current=i,n.callback(i))}for(let n of tc(this,fg).get(e.type))n(tc(this,xu),e)}}};xu=new WeakMap,fg=new WeakMap,hg=new WeakMap;function PV(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:j3(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:j3(t.entries(),e.entries()):qT(t)&&qT(e)?j3(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function j3(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function qT(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function HT(t){let[e,r]=t(),n=xc();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var Kme=Object.defineProperty,Yme=(t,e,r)=>e in t?Kme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,WT=(t,e,r)=>(Yme(t,typeof e!="symbol"?e+"":e,r),r),RV=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(RV||{});let Xme={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(r),n=s,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},Qme=class jV extends IV{constructor(){super(...arguments),WT(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),WT(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new jV({stack:[]})}reduce(e,r){return cm(r.type,Xme,e,r)}};const I8=new TV(()=>Qme.new());var L3={exports:{}},F3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function Jme(){if(GT)return F3;GT=1;var t=b5();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return F3.useSyncExternalStoreWithSelector=function(l,c,d,p,g){var m=i(null);if(m.current===null){var y={hasValue:!1,value:null};m.current=y}else y=m.current;m=a(function(){function _(W){if(!S){if(S=!0,P=W,W=p(W),g!==void 0&&y.hasValue){var K=y.value;if(g(K,W))return A=K}return A=W}if(K=A,r(P,W))return K;var j=p(W);return g!==void 0&&g(K,j)?(P=W,K):(P=W,A=j)}var S=!1,P,A,V=d===void 0?null:d;return[function(){return _(c())},V===null?void 0:function(){return _(V())}]},[c,d,p,g]);var w=n(l,m[0],m[1]);return s(function(){y.hasValue=!0,y.value=w},[w]),o(w),w},F3}var KT;function Zme(){return KT||(KT=1,L3.exports=Jme()),L3.exports}var ege=Zme();function Eu(t,e,r=PV){return ege.useSyncExternalStoreWithSelector(Yn(n=>t.subscribe(tge,n)),Yn(()=>t.state),Yn(()=>t.state),Yn(e),r)}function tge(t){return t}function LV(t,e){let r=L.useId(),n=I8.get(e),[i,s]=Eu(n,L.useCallback(a=>[n.selectors.isTop(a,r),n.selectors.inStack(a,r)],[n,r]));return ra(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?s?i:!0:!1}let Eb=new Map,Dg=new Map;function YT(t){var e;let r=(e=Dg.get(t))!=null?e:0;return Dg.set(t,r+1),r!==0?()=>XT(t):(Eb.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>XT(t))}function XT(t){var e;let r=(e=Dg.get(t))!=null?e:1;if(r===1?Dg.delete(t):Dg.set(t,r-1),r!==1)return;let n=Eb.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,Eb.delete(t))}function rge(t,{allowed:e,disallowed:r}={}){let n=LV(t,"inert-others");ra(()=>{var i,s;if(!n)return;let a=xc();for(let l of(i=r?.())!=null?i:[])l&&a.add(YT(l));let o=(s=e?.())!=null?s:[];for(let l of o){if(!l)continue;let c=lm(l);if(!c)continue;let d=l.parentElement;for(;d&&d!==c.body;){for(let p of d.children)o.some(g=>p.contains(g))||a.add(YT(p));d=d.parentElement}}return a.dispose},[n,e,r])}function nge(t,e,r){let n=cx(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});L.useEffect(()=>{if(!t)return;let i=e===null?null:Od(e)?e:e.current;if(!i)return;let s=xc();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>n.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>n.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,n,t])}let Cb=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),ige=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Nb=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Nb||{}),sge=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(sge||{}),age=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(age||{});function FV(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Cb)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function oge(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(ige)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var P8=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(P8||{});function R8(t,e=0){var r;return t===((r=lm(t))==null?void 0:r.body)?!1:cm(e,{0(){return t.matches(Cb)},1(){let n=t;for(;n!==null;){if(n.matches(Cb))return!0;n=n.parentElement}return!1}})}function DV(t){let e=lm(t);xc().nextFrame(()=>{e&&t0(e.activeElement)&&!R8(e.activeElement,0)&&cge(t)})}var lge=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(lge||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function cge(t){t?.focus({preventScroll:!0})}let uge=["textarea","input"].join(",");function dge(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,uge))!=null?r:!1}function OV(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fge(t,e){return hge(FV(),e,{relativeTo:t})}function hge(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,a=Array.isArray(t)?r?OV(t):t:e&64?oge(t):FV(t);i.length>0&&a.length>1&&(a=a.filter(m=>!i.some(y=>y!=null&&"current"in y?y?.current===m:y===m))),n=n??s.activeElement;let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(n))-1;if(e&4)return Math.max(0,a.indexOf(n))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=e&32?{preventScroll:!0}:{},d=0,p=a.length,g;do{if(d>=p||d+p<=0)return 0;let m=l+d;if(e&16)m=(m+p)%p;else{if(m<0)return 3;if(m>=p)return 1}g=a[m],g?.focus(c),d+=o}while(g!==s.activeElement);return e&6&&dge(g)&&g.select(),2}function MV(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function pge(){return/Android/gi.test(window.navigator.userAgent)}function QT(){return MV()||pge()}function Kp(t,e,r,n){let i=cx(r);L.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[t,e,n])}function mge(t,e,r,n){let i=cx(r);L.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[t,e,n])}const JT=30;function gge(t,e,r){let n=cx(r),i=L.useCallback(function(o,l){if(o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let d=(function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]})(e);for(let p of d)if(p!==null&&(p.contains(c)||o.composed&&o.composedPath().includes(p)))return;return!R8(c,P8.Loose)&&c.tabIndex!==-1&&o.preventDefault(),n.current(o,c)},[n,e]),s=L.useRef(null);Kp(t,"pointerdown",o=>{var l,c;QT()||(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),Kp(t,"pointerup",o=>{if(QT()||!s.current)return;let l=s.current;return s.current=null,i(o,()=>l)},!0);let a=L.useRef({x:0,y:0});Kp(t,"touchstart",o=>{a.current.x=o.touches[0].clientX,a.current.y=o.touches[0].clientY},!0),Kp(t,"touchend",o=>{let l={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(l.x-a.current.x)>=JT||Math.abs(l.y-a.current.y)>=JT))return i(o,()=>t0(o.target)?o.target:null)},!0),mge(t,"blur",o=>i(o,()=>Ame(window.document.activeElement)?window.document.activeElement:null),!0)}function Tb(...t){return L.useMemo(()=>lm(...t),[...t])}var xge=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(xge||{});const Lv={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},vge=200,ZT=5;function yge(t,{trigger:e,action:r,close:n,select:i}){let s=L.useRef(null),a=L.useRef(null),o=L.useRef(null);Kp(t&&e!==null,"pointerdown",l=>{N8(l?.target)&&e!=null&&e.contains(l.target)&&(a.current=l.x,o.current=l.y,s.current=l.timeStamp)}),Kp(t&&e!==null,"pointerup",l=>{var c,d;let p=s.current;if(p===null||(s.current=null,!t0(l.target))||Math.abs(l.x-((c=a.current)!=null?c:l.x))<ZT&&Math.abs(l.y-((d=o.current)!=null?d:l.y))<ZT)return;let g=r(l);switch(g.kind){case 0:return;case 1:{l.timeStamp-p>vge&&(i(g.target),n());break}case 2:{n();break}}},{capture:!0})}function wge(t,e){return L.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||e?.tagName==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function _ge(t){return L.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function bge(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let a=e[i].call(r,...s);a&&(r=a,n.forEach(o=>o()))}}}function kge(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}}}function Sge(){return MV()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=xc();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",o=>{if(t0(o.target))try{let l=o.target.closest("a");if(!l)return;let{hash:c}=new URL(l.href),d=t.querySelector(c);t0(d)&&!n(d)&&(a=d)}catch{}},!0),e.addEventListener(t,"touchstart",o=>{if(t0(o.target)&&Tme(o.target))if(n(o.target)){let l=o.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(o.target,"touchAction","none")}),e.addEventListener(t,"touchmove",o=>{if(t0(o.target)){if(kV(o.target))return;if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;s!==l&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Ege(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Cge(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let r0=bge(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:xc(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:Cge(r)},i=[Sge(),kge(),Ege()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});r0.subscribe(()=>{let t=r0.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&r0.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&r0.dispatch("TEARDOWN",r)}});function Nge(t,e,r=()=>({containers:[]})){let n=_ge(r0),i=e?n.get(e):void 0,s=i?i.count>0:!1;return ra(()=>{if(!(!e||!t))return r0.dispatch("PUSH",e,r),()=>r0.dispatch("POP",e,r)},[t,e]),s}function Tge(t,e,r=()=>[document.body]){let n=LV(t,"scroll-lock");Nge(n,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function eA(t){return[t.screenX,t.screenY]}function Age(){let t=L.useRef([-1,-1]);return{wasMoved(e){let r=eA(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=eA(e)}}}function Ige(t=0){let[e,r]=L.useState(t),n=L.useCallback(l=>r(l),[e]),i=L.useCallback(l=>r(c=>c|l),[e]),s=L.useCallback(l=>(e&l)===l,[e]),a=L.useCallback(l=>r(c=>c&~l),[r]),o=L.useCallback(l=>r(c=>c^l),[r]);return{flags:e,setFlag:n,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:o}}var Pge={},tA,rA;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((tA=process==null?void 0:Pge)==null?void 0:tA.NODE_ENV)==="test"&&typeof((rA=Element?.prototype)==null?void 0:rA.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Rge=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(Rge||{});function jge(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function Lge(t,e,r,n){let[i,s]=L.useState(r),{hasFlag:a,addFlag:o,removeFlag:l}=Ige(t&&i?3:0),c=L.useRef(!1),d=L.useRef(!1),p=m4();return ra(()=>{var g;if(t){if(r&&s(!0),!e){r&&o(3);return}return(g=void 0)==null||g.call(n,r),Fge(e,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,!d.current&&(r?(o(3),l(4)):(o(4),l(2)))},run(){d.current?r?(l(3),o(4)):(l(4),o(3)):r?l(1):o(1)},done(){var m;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(c.current=!1,l(7),r||s(!1),(m=void 0)==null||m.call(n,r))}})}},[t,r,e,p]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Fge(t,{prepare:e,run:r,done:n,inFlight:i}){let s=xc();return Oge(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(Dge(t,n))})}),s.dispose}function Dge(t,e){var r,n;let i=xc();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(o=>o instanceof CSSTransition))!=null?n:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(o=>o.finished)).then(()=>{s||e()}),i.dispose)}function Oge(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function Mge(t,{container:e,accept:r,walk:n}){let i=L.useRef(r),s=L.useRef(n);L.useEffect(()=>{i.current=r,s.current=n},[r,n]),ra(()=>{if(!e||!t)return;let a=lm(e);if(!a)return;let o=i.current,l=s.current,c=Object.assign(p=>o(p),{acceptNode:o}),d=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,c,!1);for(;d.nextNode();)l(d.currentNode)},[e,t,i,s])}function v4(){return typeof window<"u"}function um(t){return VV(t)?(t.nodeName||"").toLowerCase():"#document"}function Fl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zu(t){var e;return(e=(VV(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function VV(t){return v4()?t instanceof Node||t instanceof Fl(t).Node:!1}function qo(t){return v4()?t instanceof Element||t instanceof Fl(t).Element:!1}function Du(t){return v4()?t instanceof HTMLElement||t instanceof Fl(t).HTMLElement:!1}function nA(t){return!v4()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Fl(t).ShadowRoot}const Vge=new Set(["inline","contents"]);function ux(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Wc(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Vge.has(i)}const Bge=new Set(["table","td","th"]);function Uge(t){return Bge.has(um(t))}const zge=[":popover-open",":modal"];function y4(t){return zge.some(e=>{try{return t.matches(e)}catch{return!1}})}const $ge=["transform","translate","scale","rotate","perspective"],qge=["transform","translate","scale","rotate","perspective","filter"],Hge=["paint","layout","strict","content"];function j8(t){const e=L8(),r=qo(t)?Wc(t):t;return $ge.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||qge.some(n=>(r.willChange||"").includes(n))||Hge.some(n=>(r.contain||"").includes(n))}function Wge(t){let e=Zf(t);for(;Du(e)&&!B1(e);){if(j8(e))return e;if(y4(e))return null;e=Zf(e)}return null}function L8(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gge=new Set(["html","body","#document"]);function B1(t){return Gge.has(um(t))}function Wc(t){return Fl(t).getComputedStyle(t)}function w4(t){return qo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zf(t){if(um(t)==="html")return t;const e=t.assignedSlot||t.parentNode||nA(t)&&t.host||zu(t);return nA(e)?e.host:e}function BV(t){const e=Zf(t);return B1(e)?t.ownerDocument?t.ownerDocument.body:t.body:Du(e)&&ux(e)?e:BV(e)}function w2(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=BV(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Fl(i);if(s){const o=Ab(a);return e.concat(a,a.visualViewport||[],ux(i)?i:[],o&&r?w2(o):[])}return e.concat(i,w2(i,[],r))}function Ab(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Kge(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const V0=Math.min,Co=Math.max,_2=Math.round,Fv=Math.floor,Pu=t=>({x:t,y:t}),Yge={left:"right",right:"left",bottom:"top",top:"bottom"},Xge={start:"end",end:"start"};function iA(t,e,r){return Co(t,V0(e,r))}function dm(t,e){return typeof t=="function"?t(e):t}function eh(t){return t.split("-")[0]}function dx(t){return t.split("-")[1]}function UV(t){return t==="x"?"y":"x"}function zV(t){return t==="y"?"height":"width"}const Qge=new Set(["top","bottom"]);function hd(t){return Qge.has(eh(t))?"y":"x"}function $V(t){return UV(hd(t))}function Jge(t,e,r){r===void 0&&(r=!1);const n=dx(t),i=$V(t),s=zV(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=h5(a)),[a,h5(a)]}function Zge(t){const e=h5(t);return[Ib(t),e,Ib(e)]}function Ib(t){return t.replace(/start|end/g,e=>Xge[e])}const sA=["left","right"],aA=["right","left"],e2e=["top","bottom"],t2e=["bottom","top"];function r2e(t,e,r){switch(t){case"top":case"bottom":return r?e?aA:sA:e?sA:aA;case"left":case"right":return e?e2e:t2e;default:return[]}}function n2e(t,e,r,n){const i=dx(t);let s=r2e(eh(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Ib)))),s}function h5(t){return t.replace(/left|right|bottom|top/g,e=>Yge[e])}function i2e(t){return{top:0,right:0,bottom:0,left:0,...t}}function s2e(t){return typeof t!="number"?i2e(t):{top:t,right:t,bottom:t,left:t}}function p5(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function oA(t,e,r){let{reference:n,floating:i}=t;const s=hd(e),a=$V(e),o=zV(a),l=eh(e),c=s==="y",d=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[o]/2-i[o]/2;let m;switch(l){case"top":m={x:d,y:n.y-i.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:p};break;case"left":m={x:n.x-i.width,y:p};break;default:m={x:n.x,y:n.y}}switch(dx(e)){case"start":m[a]-=g*(r&&c?-1:1);break;case"end":m[a]+=g*(r&&c?-1:1);break}return m}const a2e=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:p}=oA(c,n,l),g=n,m={},y=0;for(let w=0;w<o.length;w++){const{name:_,fn:S}=o[w],{x:P,y:A,data:V,reset:W}=await S({x:d,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:m,rects:c,platform:a,elements:{reference:t,floating:e}});d=P??d,p=A??p,m={...m,[_]:{...m[_],...V}},W&&y<=50&&(y++,typeof W=="object"&&(W.placement&&(g=W.placement),W.rects&&(c=W.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):W.rects),{x:d,y:p}=oA(c,g,l)),w=-1)}return{x:d,y:p,placement:g,strategy:i,middlewareData:m}};async function _4(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:g=!1,padding:m=0}=dm(e,t),y=s2e(m),_=o[g?p==="floating"?"reference":"floating":p],S=p5(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),P=p==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),V=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},W=p5(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:P,offsetParent:A,strategy:l}):P);return{top:(S.top-W.top+y.top)/V.y,bottom:(W.bottom-S.bottom+y.bottom)/V.y,left:(S.left-W.left+y.left)/V.x,right:(W.right-S.right+y.right)/V.x}}const o2e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,..._}=dm(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=eh(i),P=hd(o),A=eh(o)===o,V=await(l.isRTL==null?void 0:l.isRTL(c.floating)),W=g||(A||!w?[h5(o)]:Zge(o)),K=y!=="none";!g&&K&&W.push(...n2e(o,w,y,V));const j=[o,...W],T=await _4(e,_),C=[];let D=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&C.push(T[S]),p){const ee=Jge(i,a,V);C.push(T[ee[0]],T[ee[1]])}if(D=[...D,{placement:i,overflows:C}],!C.every(ee=>ee<=0)){var R,F;const ee=(((R=s.flip)==null?void 0:R.index)||0)+1,he=j[ee];if(he&&(!(p==="alignment"?P!==hd(he):!1)||D.every(se=>hd(se.placement)===P?se.overflows[0]>0:!0)))return{data:{index:ee,overflows:D},reset:{placement:he}};let ve=(F=D.filter(fe=>fe.overflows[0]<=0).sort((fe,se)=>fe.overflows[1]-se.overflows[1])[0])==null?void 0:F.placement;if(!ve)switch(m){case"bestFit":{var B;const fe=(B=D.filter(se=>{if(K){const Y=hd(se.placement);return Y===P||Y==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(Y=>Y>0).reduce((Y,ie)=>Y+ie,0)]).sort((se,Y)=>se[1]-Y[1])[0])==null?void 0:B[0];fe&&(ve=fe);break}case"initialPlacement":ve=o;break}if(i!==ve)return{reset:{placement:ve}}}return{}}}},l2e=new Set(["left","top"]);async function c2e(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=eh(r),o=dx(r),l=hd(r)==="y",c=l2e.has(a)?-1:1,d=s&&l?-1:1,p=dm(e,t);let{mainAxis:g,crossAxis:m,alignmentAxis:y}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof y=="number"&&(m=o==="end"?y*-1:y),l?{x:m*d,y:g*c}:{x:g*c,y:m*d}}const u2e=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await c2e(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},d2e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:_=>{let{x:S,y:P}=_;return{x:S,y:P}}},...l}=dm(t,e),c={x:r,y:n},d=await _4(e,l),p=hd(eh(i)),g=UV(p);let m=c[g],y=c[p];if(s){const _=g==="y"?"top":"left",S=g==="y"?"bottom":"right",P=m+d[_],A=m-d[S];m=iA(P,m,A)}if(a){const _=p==="y"?"top":"left",S=p==="y"?"bottom":"right",P=y+d[_],A=y-d[S];y=iA(P,y,A)}const w=o.fn({...e,[g]:m,[p]:y});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[g]:s,[p]:a}}}}}},f2e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=dm(t,e),d=await _4(e,c),p=eh(i),g=dx(i),m=hd(i)==="y",{width:y,height:w}=s.floating;let _,S;p==="top"||p==="bottom"?(_=p,S=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(S=p,_=g==="end"?"top":"bottom");const P=w-d.top-d.bottom,A=y-d.left-d.right,V=V0(w-d[_],P),W=V0(y-d[S],A),K=!e.middlewareData.shift;let j=V,T=W;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=A),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(j=P),K&&!g){const D=Co(d.left,0),R=Co(d.right,0),F=Co(d.top,0),B=Co(d.bottom,0);m?T=y-2*(D!==0||R!==0?D+R:Co(d.left,d.right)):j=w-2*(F!==0||B!==0?F+B:Co(d.top,d.bottom))}await l({...e,availableWidth:T,availableHeight:j});const C=await a.getDimensions(o.floating);return y!==C.width||w!==C.height?{reset:{rects:!0}}:{}}}};function qV(t){const e=Wc(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Du(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=_2(r)!==s||_2(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function F8(t){return qo(t)?t:t.contextElement}function v1(t){const e=F8(t);if(!Du(e))return Pu(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=qV(e);let a=(s?_2(r.width):r.width)/n,o=(s?_2(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const h2e=Pu(0);function HV(t){const e=Fl(t);return!L8()||!e.visualViewport?h2e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p2e(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Fl(t)?!1:e}function B0(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=F8(t);let a=Pu(1);e&&(n?qo(n)&&(a=v1(n)):a=v1(t));const o=p2e(s,r,n)?HV(s):Pu(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,p=i.height/a.y;if(s){const g=Fl(s),m=n&&qo(n)?Fl(n):n;let y=g,w=Ab(y);for(;w&&n&&m!==y;){const _=v1(w),S=w.getBoundingClientRect(),P=Wc(w),A=S.left+(w.clientLeft+parseFloat(P.paddingLeft))*_.x,V=S.top+(w.clientTop+parseFloat(P.paddingTop))*_.y;l*=_.x,c*=_.y,d*=_.x,p*=_.y,l+=A,c+=V,y=Fl(w),w=Ab(y)}}return p5({width:d,height:p,x:l,y:c})}function b4(t,e){const r=w4(t).scrollLeft;return e?e.left+r:B0(zu(t)).left+r}function WV(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-b4(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function m2e(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=zu(n),o=e?y4(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},c=Pu(1);const d=Pu(0),p=Du(n);if((p||!p&&!s)&&((um(n)!=="body"||ux(a))&&(l=w4(n)),Du(n))){const m=B0(n);c=v1(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const g=a&&!p&&!s?WV(a,l):Pu(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+g.x,y:r.y*c.y-l.scrollTop*c.y+d.y+g.y}}function g2e(t){return Array.from(t.getClientRects())}function x2e(t){const e=zu(t),r=w4(t),n=t.ownerDocument.body,i=Co(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Co(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+b4(t);const o=-r.scrollTop;return Wc(n).direction==="rtl"&&(a+=Co(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const lA=25;function v2e(t,e){const r=Fl(t),n=zu(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const d=L8();(!d||d&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=b4(n);if(c<=0){const d=n.ownerDocument,p=d.body,g=getComputedStyle(p),m=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,y=Math.abs(n.clientWidth-p.clientWidth-m);y<=lA&&(s-=y)}else c<=lA&&(s+=c);return{width:s,height:a,x:o,y:l}}const y2e=new Set(["absolute","fixed"]);function w2e(t,e){const r=B0(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Du(t)?v1(t):Pu(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function cA(t,e,r){let n;if(e==="viewport")n=v2e(t,r);else if(e==="document")n=x2e(zu(t));else if(qo(e))n=w2e(e,r);else{const i=HV(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return p5(n)}function GV(t,e){const r=Zf(t);return r===e||!qo(r)||B1(r)?!1:Wc(r).position==="fixed"||GV(r,e)}function _2e(t,e){const r=e.get(t);if(r)return r;let n=w2(t,[],!1).filter(o=>qo(o)&&um(o)!=="body"),i=null;const s=Wc(t).position==="fixed";let a=s?Zf(t):t;for(;qo(a)&&!B1(a);){const o=Wc(a),l=j8(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&y2e.has(i.position)||ux(a)&&!l&&GV(t,a))?n=n.filter(d=>d!==a):i=o,a=Zf(a)}return e.set(t,n),n}function b2e(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?y4(e)?[]:_2e(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((c,d)=>{const p=cA(e,d,i);return c.top=Co(p.top,c.top),c.right=V0(p.right,c.right),c.bottom=V0(p.bottom,c.bottom),c.left=Co(p.left,c.left),c},cA(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function k2e(t){const{width:e,height:r}=qV(t);return{width:e,height:r}}function S2e(t,e,r){const n=Du(e),i=zu(e),s=r==="fixed",a=B0(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Pu(0);function c(){l.x=b4(i)}if(n||!n&&!s)if((um(e)!=="body"||ux(i))&&(o=w4(e)),n){const m=B0(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!n&&i&&c();const d=i&&!n&&!s?WV(i,o):Pu(0),p=a.left+o.scrollLeft-l.x-d.x,g=a.top+o.scrollTop-l.y-d.y;return{x:p,y:g,width:a.width,height:a.height}}function D3(t){return Wc(t).position==="static"}function uA(t,e){if(!Du(t)||Wc(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return zu(t)===r&&(r=r.ownerDocument.body),r}function KV(t,e){const r=Fl(t);if(y4(t))return r;if(!Du(t)){let i=Zf(t);for(;i&&!B1(i);){if(qo(i)&&!D3(i))return i;i=Zf(i)}return r}let n=uA(t,e);for(;n&&Uge(n)&&D3(n);)n=uA(n,e);return n&&B1(n)&&D3(n)&&!j8(n)?r:n||Wge(t)||r}const E2e=async function(t){const e=this.getOffsetParent||KV,r=this.getDimensions,n=await r(t.floating);return{reference:S2e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function C2e(t){return Wc(t).direction==="rtl"}const N2e={convertOffsetParentRelativeRectToViewportRelativeRect:m2e,getDocumentElement:zu,getClippingRect:b2e,getOffsetParent:KV,getElementRects:E2e,getClientRects:g2e,getDimensions:k2e,getScale:v1,isElement:qo,isRTL:C2e};function YV(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function T2e(t,e){let r=null,n;const i=zu(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:p,width:g,height:m}=c;if(o||e(),!g||!m)return;const y=Fv(p),w=Fv(i.clientWidth-(d+g)),_=Fv(i.clientHeight-(p+m)),S=Fv(d),A={rootMargin:-y+"px "+-w+"px "+-_+"px "+-S+"px",threshold:Co(0,V0(1,l))||1};let V=!0;function W(K){const j=K[0].intersectionRatio;if(j!==l){if(!V)return a();j?a(!1,j):n=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!YV(c,t.getBoundingClientRect())&&a(),V=!1}try{r=new IntersectionObserver(W,{...A,root:i.ownerDocument})}catch{r=new IntersectionObserver(W,A)}r.observe(t)}return a(!0),s}function A2e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=F8(t),d=i||s?[...c?w2(c):[],...w2(e)]:[];d.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const p=c&&o?T2e(c,r):null;let g=-1,m=null;a&&(m=new ResizeObserver(S=>{let[P]=S;P&&P.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=m)==null||A.observe(e)})),r()}),c&&!l&&m.observe(c),m.observe(e));let y,w=l?B0(t):null;l&&_();function _(){const S=B0(t);w&&!YV(w,S)&&r(),w=S,y=requestAnimationFrame(_)}return r(),()=>{var S;d.forEach(P=>{i&&P.removeEventListener("scroll",r),s&&P.removeEventListener("resize",r)}),p?.(),(S=m)==null||S.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const O3=_4,I2e=u2e,P2e=d2e,R2e=o2e,j2e=f2e,L2e=(t,e,r)=>{const n=new Map,i={platform:N2e,...r},s={...i.platform,_c:n};return a2e(t,e,{...i,platform:s})};var F2e=typeof document<"u",D2e=function(){},uy=F2e?L.useLayoutEffect:D2e;function m5(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!m5(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!m5(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function XV(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function dA(t,e){const r=XV(t);return Math.round(e*r)/r}function M3(t){const e=L.useRef(t);return uy(()=>{e.current=t}),e}function O2e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,p]=L.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,m]=L.useState(n);m5(g,n)||m(n);const[y,w]=L.useState(null),[_,S]=L.useState(null),P=L.useCallback(se=>{se!==K.current&&(K.current=se,w(se))},[]),A=L.useCallback(se=>{se!==j.current&&(j.current=se,S(se))},[]),V=s||y,W=a||_,K=L.useRef(null),j=L.useRef(null),T=L.useRef(d),C=l!=null,D=M3(l),R=M3(i),F=M3(c),B=L.useCallback(()=>{if(!K.current||!j.current)return;const se={placement:e,strategy:r,middleware:g};R.current&&(se.platform=R.current),L2e(K.current,j.current,se).then(Y=>{const ie={...Y,isPositioned:F.current!==!1};ee.current&&!m5(T.current,ie)&&(T.current=ie,Us.flushSync(()=>{p(ie)}))})},[g,e,r,R,F]);uy(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,p(se=>({...se,isPositioned:!1})))},[c]);const ee=L.useRef(!1);uy(()=>(ee.current=!0,()=>{ee.current=!1}),[]),uy(()=>{if(V&&(K.current=V),W&&(j.current=W),V&&W){if(D.current)return D.current(V,W,B);B()}},[V,W,B,D,C]);const he=L.useMemo(()=>({reference:K,floating:j,setReference:P,setFloating:A}),[P,A]),ve=L.useMemo(()=>({reference:V,floating:W}),[V,W]),fe=L.useMemo(()=>{const se={position:r,left:0,top:0};if(!ve.floating)return se;const Y=dA(ve.floating,d.x),ie=dA(ve.floating,d.y);return o?{...se,transform:"translate("+Y+"px, "+ie+"px)",...XV(ve.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Y,top:ie}},[r,o,ve.floating,d.x,d.y]);return L.useMemo(()=>({...d,update:B,refs:he,elements:ve,floatingStyles:fe}),[d,B,he,ve,fe])}const QV=(t,e)=>({...I2e(t),options:[t,e]}),M2e=(t,e)=>({...P2e(t),options:[t,e]}),V2e=(t,e)=>({...R2e(t),options:[t,e]}),B2e=(t,e)=>({...j2e(t),options:[t,e]}),JV={...gy},U2e=JV.useInsertionEffect,z2e=U2e||(t=>t());function ZV(t){const e=L.useRef(()=>{});return z2e(()=>{e.current=t}),L.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var Pb=typeof document<"u"?L.useLayoutEffect:L.useEffect;let fA=!1,$2e=0;const hA=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$2e++;function q2e(){const[t,e]=L.useState(()=>fA?hA():void 0);return Pb(()=>{t==null&&e(hA())},[]),L.useEffect(()=>{fA=!0},[]),t}const H2e=JV.useId,W2e=H2e||q2e;function G2e(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const K2e=L.createContext(null),Y2e=L.createContext(null),X2e=()=>{var t;return((t=L.useContext(K2e))==null?void 0:t.id)||null},Q2e=()=>L.useContext(Y2e),J2e="data-floating-ui-focusable";function Z2e(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=W2e(),s=L.useRef({}),[a]=L.useState(()=>G2e()),o=X2e()!=null,[l,c]=L.useState(n.reference),d=ZV((m,y,w)=>{s.current.openEvent=m?y:void 0,a.emit("openchange",{open:m,event:y,reason:w,nested:o}),r?.(m,y,w)}),p=L.useMemo(()=>({setPositionReference:c}),[]),g=L.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return L.useMemo(()=>({dataRef:s,open:e,onOpenChange:d,elements:g,events:a,floatingId:i,refs:p}),[e,d,g,a,i,p])}function exe(t){t===void 0&&(t={});const{nodeId:e}=t,r=Z2e({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[s,a]=L.useState(null),[o,l]=L.useState(null),d=i?.domReference||s,p=L.useRef(null),g=Q2e();Pb(()=>{d&&(p.current=d)},[d]);const m=O2e({...t,elements:{...i,...o&&{reference:o}}}),y=L.useCallback(A=>{const V=qo(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),contextElement:A}:A;l(V),m.refs.setReference(V)},[m.refs]),w=L.useCallback(A=>{(qo(A)||A===null)&&(p.current=A,a(A)),(qo(m.refs.reference.current)||m.refs.reference.current===null||A!==null&&!qo(A))&&m.refs.setReference(A)},[m.refs]),_=L.useMemo(()=>({...m.refs,setReference:w,setPositionReference:y,domReference:p}),[m.refs,w,y]),S=L.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),P=L.useMemo(()=>({...m,...n,refs:_,elements:S,nodeId:e}),[m,_,S,e,n]);return Pb(()=>{n.dataRef.current.floatingContext=P;const A=g?.nodesRef.current.find(V=>V.id===e);A&&(A.context=P)}),L.useMemo(()=>({...m,context:P,refs:_,elements:S}),[m,_,S,P])}const pA="active",mA="selected";function V3(t,e,r){const n=new Map,i=r==="item";let s=t;if(i&&t){const{[pA]:a,[mA]:o,...l}=t;s=l}return{...r==="floating"&&{tabIndex:-1,[J2e]:""},...s,...e.map(a=>{const o=a?a[r]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((a,o)=>(o&&Object.entries(o).forEach(l=>{let[c,d]=l;if(!(i&&[pA,mA].includes(c)))if(c.indexOf("on")===0){if(n.has(c)||n.set(c,[]),typeof d=="function"){var p;(p=n.get(c))==null||p.push(d),a[c]=function(){for(var g,m=arguments.length,y=new Array(m),w=0;w<m;w++)y[w]=arguments[w];return(g=n.get(c))==null?void 0:g.map(_=>_(...y)).find(_=>_!==void 0)}}}else a[c]=d}),a),{})}}function txe(t){t===void 0&&(t=[]);const e=t.map(o=>o?.reference),r=t.map(o=>o?.floating),n=t.map(o=>o?.item),i=L.useCallback(o=>V3(o,t,"reference"),e),s=L.useCallback(o=>V3(o,t,"floating"),r),a=L.useCallback(o=>V3(o,t,"item"),n);return L.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:a}),[i,s,a])}function gA(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const rxe=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:a=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:c,...d}=dm(t,e),{rects:p,elements:{floating:g}}=e,m=r.current[a],y=c?.current||g,w=g.clientTop||y.clientTop,_=g.clientTop!==0,S=y.clientTop!==0,P=g===y;if(!m)return{};const A={...e,...await QV(-m.offsetTop-g.clientTop-p.reference.height/2-m.offsetHeight/2-s).fn(e)},V=await O3(gA(A,y.scrollHeight+w+g.clientTop),d),W=await O3(A,{...d,elementContext:"reference"}),K=Co(0,V.top),j=A.y+K,D=(y.scrollHeight>y.clientHeight?R=>R:_2)(Co(0,y.scrollHeight+(_&&P||S?w*2:0)-K-Co(0,V.bottom)));if(y.style.maxHeight=D+"px",y.scrollTop=K,i){const R=y.offsetHeight<m.offsetHeight*V0(o,r.current.length)-1||W.top>=-l||W.bottom>=-l;Us.flushSync(()=>i(R))}return n&&(n.current=await O3(gA({...A,y:j},y.offsetHeight+w+g.clientTop),d)),{y:j}}});function nxe(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:a,onChange:o}=e,l=ZV(o),c=L.useRef(!1),d=L.useRef(null),p=L.useRef(null);L.useEffect(()=>{if(!i)return;function m(w){if(w.ctrlKey||!y||s.current==null)return;const _=w.deltaY,S=s.current.top>=-.5,P=s.current.bottom>=-.5,A=y.scrollHeight-y.clientHeight,V=_<0?-1:1,W=_<0?"max":"min";y.scrollHeight<=y.clientHeight||(!S&&_>0||!P&&_<0?(w.preventDefault(),Us.flushSync(()=>{l(K=>K+Math[W](_,A*V))})):/firefox/i.test(Kge())&&(y.scrollTop+=_))}const y=a?.current||n.floating;if(r&&y)return y.addEventListener("wheel",m),requestAnimationFrame(()=>{d.current=y.scrollTop,s.current!=null&&(p.current={...s.current})}),()=>{d.current=null,p.current=null,y.removeEventListener("wheel",m)}},[i,r,n.floating,s,a,l]);const g=L.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const m=a?.current||n.floating;if(!(!s.current||!m||!c.current)){if(d.current!==null){const y=m.scrollTop-d.current;(s.current.bottom<-.5&&y<-1||s.current.top<-.5&&y>1)&&Us.flushSync(()=>l(w=>w+y))}requestAnimationFrame(()=>{d.current=m.scrollTop})}}}),[n.floating,l,s,a]);return L.useMemo(()=>i?{floating:g}:{},[i,g])}let fm=L.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});fm.displayName="FloatingContext";let D8=L.createContext(null);D8.displayName="PlacementContext";function ixe(t){return L.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function sxe(){return L.useContext(fm).setReference}function axe(){return L.useContext(fm).getReferenceProps}function oxe(){let{getFloatingProps:t,slot:e}=L.useContext(fm);return L.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function lxe(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=L.useContext(D8),r=L.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var a;return(a=s?.outerHTML)!=null?a:s})]);ra(()=>{e?.(r??null)},[e,r]);let n=L.useContext(fm);return L.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let xA=4;function cxe({children:t,enabled:e=!0}){let[r,n]=L.useState(null),[i,s]=L.useState(0),a=L.useRef(null),[o,l]=L.useState(null);uxe(o);let c=e&&r!==null&&o!==null,{to:d="bottom",gap:p=0,offset:g=0,padding:m=0,inner:y}=dxe(r,o),[w,_="center"]=d.split(" ");ra(()=>{c&&s(0)},[c]);let{refs:S,floatingStyles:P,context:A}=exe({open:c,placement:w==="selection"?_==="center"?"bottom":`bottom-${_}`:_==="center"?`${w}`:`${w}-${_}`,strategy:"absolute",transform:!1,middleware:[QV({mainAxis:w==="selection"?0:p,crossAxis:g}),M2e({padding:m}),w!=="selection"&&V2e({padding:m}),w==="selection"&&y?rxe({...y,padding:m,overflowRef:a,offset:i,minItemsVisible:xA,referenceOverflowThreshold:m,onFallbackChange(R){var F,B;if(!R)return;let ee=A.elements.floating;if(!ee)return;let he=parseFloat(getComputedStyle(ee).scrollPaddingBottom)||0,ve=Math.min(xA,ee.childElementCount),fe=0,se=0;for(let Y of(B=(F=A.elements.floating)==null?void 0:F.childNodes)!=null?B:[])if(Od(Y)){let ie=Y.offsetTop,G=ie+Y.clientHeight+he,I=ee.scrollTop,z=I+ee.clientHeight;if(ie>=I&&G<=z)ve--;else{se=Math.max(0,Math.min(G,z)-Math.max(ie,I)),fe=Y.clientHeight;break}}ve>=1&&s(Y=>{let ie=fe*ve-se+he;return Y>=ie?Y:ie})}}):null,B2e({padding:m,apply({availableWidth:R,availableHeight:F,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${R}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${F}px)`})}})].filter(Boolean),whileElementsMounted:A2e}),[V=w,W=_]=A.placement.split("-");w==="selection"&&(V="selection");let K=L.useMemo(()=>({anchor:[V,W].filter(Boolean).join(" ")}),[V,W]),j=nxe(A,{overflowRef:a,onChange:s}),{getReferenceProps:T,getFloatingProps:C}=txe([j]),D=Yn(R=>{l(R),S.setFloating(R)});return L.createElement(D8.Provider,{value:n},L.createElement(fm.Provider,{value:{setFloating:D,setReference:S.setReference,styles:P,getReferenceProps:T,getFloatingProps:C,slot:K}},t))}function uxe(t){ra(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function dxe(t,e){var r,n,i;let s=B3((r=t?.gap)!=null?r:"var(--anchor-gap, 0)",e),a=B3((n=t?.offset)!=null?n:"var(--anchor-offset, 0)",e),o=B3((i=t?.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:a,padding:o}}function B3(t,e,r=void 0){let n=m4(),i=Yn((l,c)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!c)return[r,null];let d=vA(l,c);return[d,p=>{let g=eB(l);{let m=g.map(y=>window.getComputedStyle(c).getPropertyValue(y));n.requestAnimationFrame(function y(){n.nextFrame(y);let w=!1;for(let[S,P]of g.entries()){let A=window.getComputedStyle(c).getPropertyValue(P);if(m[S]!==A){m[S]=A,w=!0;break}}if(!w)return;let _=vA(l,c);d!==_&&(p(_),d=_)})}return n.dispose}]}return[r,null]}),s=L.useMemo(()=>i(t,e)[0],[t,e]),[a=s,o]=L.useState();return ra(()=>{let[l,c]=i(t,e);if(o(l),!!c)return c(o)},[t,e]),a}function eB(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,...eB(i)]:[n]}return[]}function vA(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let O8=L.createContext(null);O8.displayName="OpenClosedContext";var b2=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(b2||{});function fxe(){return L.useContext(O8)}function hxe({value:t,children:e}){return bi.createElement(O8.Provider,{value:t},e)}function pxe(t){throw new Error("Unexpected object: "+t)}var ta=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ta||{});function Dv(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:pxe(t)}}var tB=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(tB||{});function rB(t){let e=Yn(t),r=L.useRef(!1);L.useEffect(()=>(r.current=!1,()=>{r.current=!0,yV(()=>{r.current&&e()})}),[e])}function mxe(){let t=typeof document>"u";return"useSyncExternalStore"in gy?(e=>e.useSyncExternalStore)(gy)(()=>()=>{},()=>!1,()=>!t):!1}function gxe(){let t=mxe(),[e,r]=L.useState(Iu.isHandoffComplete);return e&&Iu.isHandoffComplete===!1&&r(!1),L.useEffect(()=>{e!==!0&&r(!0)},[e]),L.useEffect(()=>Iu.handoff(),[]),t?!1:e}let xxe=L.createContext(!1);function vxe(){return L.useContext(xxe)}function yxe(t){let e=vxe(),r=L.useContext(iB),[n,i]=L.useState(()=>{var s;if(!e&&r!==null)return(s=r.current)!=null?s:null;if(Iu.isServer)return null;let a=t?.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return L.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),L.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let nB=L.Fragment,wxe=yc(function(t,e){let{ownerDocument:r=null,...n}=t,i=L.useRef(null),s=Md(Lme(m=>{i.current=m}),e),a=Tb(i),o=r??a,l=yxe(o),[c]=L.useState(()=>{var m;return Iu.isServer?null:(m=o?.createElement("div"))!=null?m:null}),d=L.useContext(Sxe),p=gxe();ra(()=>{!l||!c||l.contains(c)||(c.setAttribute("data-headlessui-portal",""),l.appendChild(c))},[l,c]),ra(()=>{if(c&&d)return d.register(c)},[d,c]),rB(()=>{var m;!l||!c||(N8(c)&&l.contains(c)&&l.removeChild(c),l.childNodes.length<=0&&((m=l.parentElement)==null||m.removeChild(l)))});let g=vc();return p?!l||!c?null:Us.createPortal(g({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:nB,name:"Portal"}),c):null});function _xe(t,e){let r=Md(e),{enabled:n=!0,ownerDocument:i,...s}=t,a=vc();return n?bi.createElement(wxe,{...s,ownerDocument:i,ref:r}):a({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:nB,name:"Portal"})}let bxe=L.Fragment,iB=L.createContext(null);function kxe(t,e){let{target:r,...n}=t,i={ref:Md(e)},s=vc();return bi.createElement(iB.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:bxe,name:"Popover.Group"}))}let Sxe=L.createContext(null),Exe=yc(_xe),Cxe=yc(kxe),Nxe=Object.assign(Exe,{Group:Cxe});function Txe(t,e){let r=L.useRef({left:0,top:0});if(ra(()=>{if(!e)return;let i=e.getBoundingClientRect();i&&(r.current=i)},[t,e]),e==null||!t||e===document.activeElement)return!1;let n=e.getBoundingClientRect();return n.top!==r.current.top||n.left!==r.current.left}let yA=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function wA(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Od(i))return n;let s=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),s=!0;let a=s?(r=i.innerText)!=null?r:"":n;return yA.test(a)&&(a=a.replace(yA,"")),a}function Axe(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():wA(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return wA(t).trim()}function Ixe(t){let e=L.useRef(""),r=L.useRef("");return Yn(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=Axe(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var Pxe=Object.defineProperty,Rxe=(t,e,r)=>e in t?Pxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_A=(t,e,r)=>(Rxe(t,typeof e!="symbol"?e+"":e,r),r),Qa=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Qa||{}),g5=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(g5||{}),_i=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t))(_i||{});function bA(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=OV(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let jxe={1(t){return t.menuState===1?t:{...t,activeItemIndex:null,pendingFocus:{focus:ta.Nothing},menuState:1}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0}},2:(t,e)=>{var r,n,i,s,a;if(t.menuState===1)return t;let o={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===ta.Nothing)return{...o,activeItemIndex:null};if(e.focus===ta.Specific)return{...o,activeItemIndex:t.items.findIndex(d=>d.id===e.id)};if(e.focus===ta.Previous){let d=t.activeItemIndex;if(d!==null){let p=t.items[d].dataRef.current.domRef,g=Dv(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(g!==null){let m=t.items[g].dataRef.current.domRef;if(((n=p.current)==null?void 0:n.previousElementSibling)===m.current||((i=m.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:g}}}}else if(e.focus===ta.Next){let d=t.activeItemIndex;if(d!==null){let p=t.items[d].dataRef.current.domRef,g=Dv(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:m=>m.id,resolveDisabled:m=>m.dataRef.current.disabled});if(g!==null){let m=t.items[g].dataRef.current.domRef;if(((s=p.current)==null?void 0:s.nextElementSibling)===m.current||((a=m.current)==null?void 0:a.nextElementSibling)===null)return{...o,activeItemIndex:g}}}}let l=bA(t),c=Dv(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...o,...l,activeItemIndex:c}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(a=>{var o;return((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!a.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==ta.Nothing&&(n=Dv(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:ta.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[s,a]of r.entries())if(i.has(a.id)&&(n.push(s),i.delete(a.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...bA(t),pendingShouldSort:!1}:t};class M8 extends IV{constructor(e){super(e),_A(this,"actions",{registerItem:HT(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:HT(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),_A(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,a=r.items;return s!==null?((i=a[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=I8.get(null);this.disposables.add(n.on(RV.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}}static new({id:e,__demoMode:r=!1}){return new M8({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:ta.Nothing}})}reduce(e,r){return cm(r.type,jxe,e,r)}}const sB=L.createContext(null);function V8(t){let e=L.useContext(sB);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,aB),r}return e}function aB({id:t,__demoMode:e=!1}){let r=L.useMemo(()=>M8.new({id:t,__demoMode:e}),[]);return rB(()=>r.dispose()),r}let Lxe=L.Fragment;function Fxe(t,e){let r=L.useId(),{__demoMode:n=!1,...i}=t,s=aB({id:r,__demoMode:n}),[a,o,l]=Eu(s,_=>[_.menuState,_.itemsElement,_.buttonElement]),c=Md(e),d=I8.get(null),p=Eu(d,L.useCallback(_=>d.selectors.isTop(_,r),[d,r]));gge(p,[l,o],(_,S)=>{var P;s.send({type:_i.CloseMenu}),R8(S,P8.Loose)||(_.preventDefault(),(P=s.state.buttonElement)==null||P.focus())});let g=Yn(()=>{s.send({type:_i.CloseMenu})}),m=L.useMemo(()=>({open:a===Qa.Open,close:g}),[a,g]),y={ref:c},w=vc();return bi.createElement(cxe,null,bi.createElement(sB.Provider,{value:s},bi.createElement(hxe,{value:cm(a,{[Qa.Open]:b2.Open,[Qa.Closed]:b2.Closed})},w({ourProps:y,theirProps:i,slot:m,defaultTag:Lxe,name:"Menu"}))))}let Dxe="button";function Oxe(t,e){let r=V8("Menu.Button"),n=L.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:a=!1,...o}=t,l=L.useRef(null),c=axe(),d=Md(e,l,sxe(),Yn(B=>r.send({type:_i.SetButtonElement,element:B}))),p=Yn(B=>{switch(B.key){case Ka.Space:case Ka.Enter:case Ka.ArrowDown:B.preventDefault(),B.stopPropagation(),r.send({type:_i.OpenMenu,focus:{focus:ta.First}});break;case Ka.ArrowUp:B.preventDefault(),B.stopPropagation(),r.send({type:_i.OpenMenu,focus:{focus:ta.Last}});break}}),g=Yn(B=>{switch(B.key){case Ka.Space:B.preventDefault();break}}),[m,y,w]=Eu(r,B=>[B.menuState,B.buttonElement,B.itemsElement]),_=m===Qa.Open;yge(_,{trigger:y,action:L.useCallback(B=>{if(y!=null&&y.contains(B.target))return Lv.Ignore;let ee=B.target.closest('[role="menuitem"]:not([data-disabled])');return Od(ee)?Lv.Select(ee):w!=null&&w.contains(B.target)?Lv.Ignore:Lv.Close},[y,w]),close:L.useCallback(()=>r.send({type:_i.CloseMenu}),[]),select:L.useCallback(B=>B.click(),[])});let S=Yn(B=>{var ee;if(B.button===tB.Left){if(Rme(B.currentTarget))return B.preventDefault();s||(m===Qa.Open?(Us.flushSync(()=>r.send({type:_i.CloseMenu})),(ee=l.current)==null||ee.focus({preventScroll:!0})):(B.preventDefault(),r.send({type:_i.OpenMenu,focus:{focus:ta.Nothing},trigger:g5.Pointer})))}}),P=L.useRef(null),A=Yn(B=>{P.current=B.pointerType,B.pointerType==="mouse"&&S(B)}),V=Yn(B=>{P.current!=="mouse"&&S(B)}),{isFocusVisible:W,focusProps:K}=hme({autoFocus:a}),{isHovered:j,hoverProps:T}=fme({isDisabled:s}),{pressed:C,pressProps:D}=yme({disabled:s}),R=L.useMemo(()=>({open:m===Qa.Open,active:C||m===Qa.Open,disabled:s,hover:j,focus:W,autofocus:a}),[m,j,W,C,s,a]),F=bV(c(),{ref:d,id:i,type:wge(t,l.current),"aria-haspopup":"menu","aria-controls":w?.id,"aria-expanded":m===Qa.Open,disabled:s||void 0,autoFocus:a,onKeyDown:p,onKeyUp:g,onPointerDown:A,onClick:V},K,T,D);return vc()({ourProps:F,theirProps:o,slot:R,defaultTag:Dxe,name:"Menu.Button"})}let Mxe="div",Vxe=Sb.RenderStrategy|Sb.Static;function Bxe(t,e){let r=L.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:a=!0,transition:o=!1,...l}=t,c=ixe(i),d=V8("Menu.Items"),[p,g]=lxe(c),m=oxe(),[y,w]=L.useState(null),_=Md(e,c?p:null,Yn(Y=>d.send({type:_i.SetItemsElement,element:Y})),w),[S,P]=Eu(d,Y=>[Y.menuState,Y.buttonElement]),A=Tb(P),V=Tb(y);c&&(s=!0);let W=fxe(),[K,j]=Lge(o,y,W!==null?(W&b2.Open)===b2.Open:S===Qa.Open);nge(K,P,()=>{d.send({type:_i.CloseMenu})});let T=Eu(d,Y=>Y.__demoMode),C=T?!1:a&&S===Qa.Open;Tge(C,V);let D=T?!1:a&&S===Qa.Open;rge(D,{allowed:L.useCallback(()=>[P,y],[P,y])});let R=S!==Qa.Open,F=Txe(R,P)?!1:K;L.useEffect(()=>{let Y=y;Y&&S===Qa.Open&&Y!==V?.activeElement&&Y.focus({preventScroll:!0})},[S,y,V]),Mge(S===Qa.Open,{container:y,accept(Y){return Y.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Y.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Y){Y.setAttribute("role","none")}});let B=m4(),ee=Yn(Y=>{var ie,G,I;switch(B.dispose(),Y.key){case Ka.Space:if(d.state.searchQuery!=="")return Y.preventDefault(),Y.stopPropagation(),d.send({type:_i.Search,value:Y.key});case Ka.Enter:if(Y.preventDefault(),Y.stopPropagation(),d.state.activeItemIndex!==null){let{dataRef:z}=d.state.items[d.state.activeItemIndex];(G=(ie=z.current)==null?void 0:ie.domRef.current)==null||G.click()}d.send({type:_i.CloseMenu}),DV(d.state.buttonElement);break;case Ka.ArrowDown:return Y.preventDefault(),Y.stopPropagation(),d.send({type:_i.GoToItem,focus:ta.Next});case Ka.ArrowUp:return Y.preventDefault(),Y.stopPropagation(),d.send({type:_i.GoToItem,focus:ta.Previous});case Ka.Home:case Ka.PageUp:return Y.preventDefault(),Y.stopPropagation(),d.send({type:_i.GoToItem,focus:ta.First});case Ka.End:case Ka.PageDown:return Y.preventDefault(),Y.stopPropagation(),d.send({type:_i.GoToItem,focus:ta.Last});case Ka.Escape:Y.preventDefault(),Y.stopPropagation(),Us.flushSync(()=>d.send({type:_i.CloseMenu})),(I=d.state.buttonElement)==null||I.focus({preventScroll:!0});break;case Ka.Tab:Y.preventDefault(),Y.stopPropagation(),Us.flushSync(()=>d.send({type:_i.CloseMenu})),fge(d.state.buttonElement,Y.shiftKey?Nb.Previous:Nb.Next);break;default:Y.key.length===1&&(d.send({type:_i.Search,value:Y.key}),B.setTimeout(()=>d.send({type:_i.ClearSearch}),350));break}}),he=Yn(Y=>{switch(Y.key){case Ka.Space:Y.preventDefault();break}}),ve=L.useMemo(()=>({open:S===Qa.Open}),[S]),fe=bV(c?m():{},{"aria-activedescendant":Eu(d,d.selectors.activeDescendantId),"aria-labelledby":Eu(d,Y=>{var ie;return(ie=Y.buttonElement)==null?void 0:ie.id}),id:n,onKeyDown:ee,onKeyUp:he,role:"menu",tabIndex:S===Qa.Open?0:void 0,ref:_,style:{...l.style,...g,"--button-width":qme(P,!0).width},...jge(j)}),se=vc();return bi.createElement(Nxe,{enabled:s?t.static||K:!1,ownerDocument:A},se({ourProps:fe,theirProps:l,slot:ve,defaultTag:Mxe,features:Vxe,visible:F,name:"Menu.Items"}))}let Uxe=L.Fragment;function zxe(t,e){let r=L.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,a=V8("Menu.Item"),o=Eu(a,R=>a.selectors.isActive(R,n)),l=L.useRef(null),c=Md(e,l),d=Eu(a,R=>a.selectors.shouldScrollIntoView(R,n));ra(()=>{if(d)return xc().requestAnimationFrame(()=>{var R,F;(F=(R=l.current)==null?void 0:R.scrollIntoView)==null||F.call(R,{block:"nearest"})})},[d,l]);let p=Ixe(l),g=L.useRef({disabled:i,domRef:l,get textValue(){return p()}});ra(()=>{g.current.disabled=i},[g,i]),ra(()=>(a.actions.registerItem(n,g),()=>a.actions.unregisterItem(n)),[g,n]);let m=Yn(()=>{a.send({type:_i.CloseMenu})}),y=Yn(R=>{if(i)return R.preventDefault();a.send({type:_i.CloseMenu}),DV(a.state.buttonElement)}),w=Yn(()=>{if(i)return a.send({type:_i.GoToItem,focus:ta.Nothing});a.send({type:_i.GoToItem,focus:ta.Specific,id:n})}),_=Age(),S=Yn(R=>_.update(R)),P=Yn(R=>{_.wasMoved(R)&&(i||o||a.send({type:_i.GoToItem,focus:ta.Specific,id:n,trigger:g5.Pointer}))}),A=Yn(R=>{_.wasMoved(R)&&(i||o&&a.state.activationTrigger===g5.Pointer&&a.send({type:_i.GoToItem,focus:ta.Nothing}))}),[V,W]=NV(),[K,j]=Fme(),T=L.useMemo(()=>({active:o,focus:o,disabled:i,close:m}),[o,i,m]),C={id:n,ref:c,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":V,"aria-describedby":K,disabled:void 0,onClick:y,onFocus:w,onPointerEnter:S,onMouseEnter:S,onPointerMove:P,onMouseMove:P,onPointerLeave:A,onMouseLeave:A},D=vc();return bi.createElement(W,null,bi.createElement(j,null,D({ourProps:C,theirProps:s,slot:T,defaultTag:Uxe,name:"Menu.Item"})))}let $xe="div";function qxe(t,e){let[r,n]=NV(),i=t,s={ref:e,"aria-labelledby":r,role:"group"},a=vc();return bi.createElement(n,null,a({ourProps:s,theirProps:i,slot:{},defaultTag:$xe,name:"Menu.Section"}))}let Hxe="header";function Wxe(t,e){let r=L.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,s=A8();ra(()=>s.register(n),[n,s.register]);let a={id:n,ref:e,role:"presentation",...s.props};return vc()({ourProps:a,theirProps:i,slot:{},defaultTag:Hxe,name:"Menu.Heading"})}let Gxe="div";function Kxe(t,e){let r=t,n={ref:e,role:"separator"};return vc()({ourProps:n,theirProps:r,slot:{},defaultTag:Gxe,name:"Menu.Separator"})}let Yxe=yc(Fxe),Xxe=yc(Oxe),Qxe=yc(Bxe),Jxe=yc(zxe),Zxe=yc(qxe),eve=yc(Wxe),tve=yc(Kxe),Zm=Object.assign(Yxe,{Button:Xxe,Items:Qxe,Item:Jxe,Section:Zxe,Heading:eve,Separator:tve});function rve({items:t,total:e,onClose:r,prescription:n=!1}){const{user:i}=In(),{t:s}=cs(),a=oi(),{userCoords:o,location:l}=K0(),[c,d]=L.useState(!0),[p,g]=L.useState(!1),[m,y]=L.useState(""),[w,_]=L.useState(""),[S,P]=L.useState(""),[A,V]=L.useState([]),[W,K]=L.useState(!1),[j,T]=L.useState(""),[C,D]=L.useState(0);L.useEffect(()=>{i&&!m&&(P(i.email||""),_(i.phoneNumber||""),y(l||"Current location"))},[i,l,m]),L.useEffect(()=>{t.length>0&&o&&F()},[t,o]);const R=L.useMemo(()=>e+C,[e,C]),F=async()=>{if(!o||t.length===0){D(0);return}try{const fe=[...new Set(t.map(ie=>ie.product?.pharmacyId).filter(Boolean))];let se=0;for(const ie of fe){const I=(await os(Qt(ht,"pharmacies",ie))).data();if(I){let z,X;if(I.coordinates?.latitude&&I.coordinates?.longitude?(z=I.coordinates.latitude,X=I.coordinates.longitude):I.lat&&I.lon?(z=I.lat,X=I.lon):I.latitude&&I.longitude&&(z=I.latitude,X=I.longitude),z&&X){const J=Q2(o.latitude,o.longitude,z,X);se+=J}}}const Y=Math.round(se*300);D(Y)}catch(fe){console.error("Error calculating delivery fee:",fe),D(300)}},B=async fe=>{if(fe.length<3){V([]);return}K(!0);try{const Y=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(fe)}&limit=5&countrycodes=ng`)).json();V(Y.map(ie=>ie.display_name))}catch(se){console.error("Error searching addresses:",se),V([])}K(!1)},ee=()=>{l&&o&&(y(l),V([]))},he=()=>{d(!1),g(!0)},ve=async()=>{if(!(!i||!t.length||!j))try{const se=t[0].product?.pharmacyId,Y={customerId:i.uid,pharmacyId:se,items:t.map(G=>({productId:G.id,quantity:G.qty,price:G.price,pharmacyId:G.pharmacyId})),total:R,subtotal:e,deliveryFee:C,deliveryAddress:m,customerPhone:w,customerEmail:S||i.email,paymentMethod:j};console.log(`Order: ${Y.total}`),console.log(`Order Items: ${Y.items}`);let ie;if(j==="online"?ie=await r2({customerId:Y.customerId,items:Y.items,total:e,email:Y.customerEmail,prescription:n}):ie=await r2({customerId:Y.customerId,items:Y.items,total:e,email:Y.customerEmail,prescription:n}),console.log(`OrderStatus: ${ie}`),ie===!1){alert(s("order_placement_failed","Order placement failed"));return}g(!1),d(!1),alert(j==="cash"?s("order_placed_delivery","Order placed successfully! You'll pay on delivery."):s("payment_successful","Payment successful! Your order has been placed.")),a("/customer/orders")}catch(fe){console.error("Checkout error:",fe),alert(s("checkout_failed","Checkout failed. Please try again."))}};return u.jsxs("div",{children:[c&&u.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 p-4",children:u.jsx("div",{className:"bg-white rounded-3xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600",children:s("order_summary","Order Summary")}),u.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:u.jsx(n2,{className:"w-5 h-5 text-gray-500"})})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-[16px] font-medium mb-3",children:[s("items","Items")," (",t.length,")"]}),u.jsx("div",{className:"space-y-3",children:t.map((fe,se)=>u.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx(Ml,{name:fe.name,image:fe.image,category:fe.category,size:40,roundedClass:"rounded-lg"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-[14px] font-medium truncate blur-sm select-none",children:fe.name}),u.jsxs("div",{className:"text-[12px] text-gray-600",children:[s("qty","Qty"),": ",fe.qty]})]}),u.jsxs("div",{className:"text-[14px] font-medium text-sky-600",children:["₦",Number((fe.price||0)*fe.qty).toLocaleString()]})]},se))})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-[16px] font-medium mb-3",children:s("delivery_details","Delivery Details")}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:[s("delivery_address","Delivery Address")," *"]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:m,onChange:fe=>{y(fe.target.value),B(fe.target.value)},placeholder:s("enter_delivery_address","Enter delivery address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px] pr-10"}),u.jsx("button",{onClick:ee,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 text-sky-600 hover:bg-sky-50 rounded-full transition-colors",title:s("use_current_location","Use current location"),children:u.jsx(Hy,{className:"w-4 h-4"})})]}),A.length>0&&u.jsx("div",{className:"mt-2 bg-white border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-40 overflow-y-auto relative z-[10000]",children:A.map((fe,se)=>u.jsx("button",{onClick:()=>{y(fe),V([])},className:"w-full text-left p-3 hover:bg-gray-50 text-[13px] border-b last:border-b-0",children:fe},se))})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:[s("phone_number","Phone Number")," *"]}),u.jsx("input",{type:"tel",value:w,onChange:fe=>_(fe.target.value),placeholder:s("enter_phone_number","Enter phone number"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[14px] font-medium text-gray-700 mb-2",children:s("email_optional","Email (Optional)")}),u.jsx("input",{type:"email",value:S,onChange:fe=>P(fe.target.value),placeholder:s("enter_email_address","Enter email address"),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg text-[14px]"})]})]})]})]}),u.jsxs("div",{className:"mb-6 p-4 bg-sky-50 rounded-lg",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-[14px]",children:s("subtotal","Subtotal")}),u.jsxs("span",{className:"text-[14px] font-medium",children:["₦",e]})]}),C>0&&u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-[14px]",children:s("delivery_fee","Delivery Fee")}),u.jsxs("span",{className:"text-[14px]",children:["₦",Number(C).toLocaleString()]})]}),u.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-sky-200",children:[u.jsx("span",{className:"text-[16px] font-medium",children:s("total","Total")}),u.jsxs("span",{className:"text-[16px] font-bold text-sky-600",children:["₦",Number(e).toLocaleString()]})]})]}),u.jsx("button",{onClick:he,disabled:!m.trim()||!w.trim(),className:"w-full bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:s("continue_to_payment","Continue to Payment")})]})})}),p&&u.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-50 p-4",children:u.jsx("div",{className:"bg-white rounded-3xl w-full max-w-md",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-[20px] font-light font-poppins text-sky-600",children:s("payment_method","Payment Method")}),u.jsx("button",{onClick:r,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:u.jsx(n2,{className:"w-5 h-5 text-gray-500"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>T("cash"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${j==="cash"?"border-sky-500 bg-sky-50":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(RF,{className:"w-6 h-6 text-sky-600"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[16px] font-medium",children:s("pay_on_delivery","Pay on Delivery")}),u.jsx("div",{className:"text-[13px] text-gray-600",children:s("pay_with_cash_on_delivery","Pay with cash when order arrives")})]})]})}),u.jsx("button",{onClick:()=>T("online"),className:`w-full p-4 rounded-lg border-2 transition-colors text-left ${j==="online"?"border-sky-500 bg-sky-50":"border-gray-200 dark:border-gray-600 hover:border-sky-300 dark:border-gray-600"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(PF,{className:"w-6 h-6 text-sky-600"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[16px] font-medium",children:s("online_payment","Online Payment")}),u.jsx("div",{className:"text-[13px] text-gray-600",children:s("pay_with_card_bank_ussd","Pay with card, bank transfer, or USSD")})]})]})}),u.jsx("button",{disabled:!0,className:"w-full p-4 rounded-lg border-2 border-gray-200 dark:border-gray-600 bg-gray-100 text-left cursor-not-allowed opacity-60",children:u.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Pk,{className:"w-6 h-6 text-gray-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-[16px] font-medium text-gray-500",children:s("pay_with_insurance","Pay with Insurance")}),u.jsx("div",{className:"text-[13px] text-gray-400",children:s("use_your_health_insurance","Use your health insurance")})]})]}),u.jsx("span",{className:"text-[12px] text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:s("coming_soon","Coming Soon")})]})})]}),u.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-[16px] font-medium",children:s("total_amount","Total Amount")}),u.jsxs("span",{className:"text-[18px] font-bold text-sky-600",children:["₦",Number(e).toLocaleString()]})]})}),u.jsx("button",{onClick:ve,disabled:!j,className:"w-full mt-6 bg-sky-600 text-white py-3 rounded-full text-[16px] font-medium hover:bg-sky-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:j==="online"?s("pay_now","Pay Now"):s("place_order","Place Order")})]})})})]})}function nve({prescriptionId:t}){const[e,r]=L.useState(null),[n,i]=L.useState(0),[s,a]=L.useState([]),[o,l]=L.useState(!1),[c,d]=L.useState(!1),p=g=>{a(m=>[...m,g])};return L.useEffect(()=>{(async()=>{const m=await os(Qt(ht,"prescriptions",t));m.exists()&&r({id:m.id,...m.data()})})()},[t]),L.useEffect(()=>{(async()=>{if(!e||!e.drugs)return;const y=(await Promise.all(e.drugs?.map(async w=>{const _=await os(Qt(ht,"products",w.productId));if(_.exists()){const S={id:_.id,..._.data()};if(!s.find(P=>P.id===S.id)){const P={...S,qty:w.dosage};p(P)}return w.dosage*S.price}return 0}))).reduce((w,_)=>w+_,0);i(y)})()},[e]),L.useEffect(()=>{const g=Er(tr(ht,"orders"),Vr("prescriptionId","==",t)),m=Nn(g,y=>{if(!y.empty){const _=!!y.docs[0].data().prescriptionId;d(_)}});return()=>m()},[]),e?u.jsxs("div",{className:"mt-1 px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700 text-xs text-gray-700 dark:text-gray-200 shadow-sm",children:[u.jsx("div",{className:"font-semibold text-sm",children:"📄 Prescription"}),u.jsxs("div",{className:"mt-1",children:[u.jsx("span",{className:"font-medium",children:"Drugs:"})," ",e.drugs?.length>1?`${e.drugs[0].name}, others...`:"Only one drug prescribed"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Duration:"})," ",e.duration," ","days"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"Notes:"})," ",e.notes||"—"]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium",children:"TotalPrice:"})," ",n||0]}),u.jsx("div",{className:"mt-2",children:c?u.jsx("button",{disabled:!0,className:"w-full px-3 py-1.5 text-sm font-medium text-white bg-green-600 rounded-md cursor-not-allowed",children:"✅ Paid"}):u.jsx("button",{onClick:()=>{l(!0)},className:"w-full px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors",children:"🛒 Order"})}),o&&u.jsx(rve,{items:s,total:n,onClose:()=>l(!1),prescription:t})]}):u.jsx("div",{className:"text-xs text-gray-400 mt-1 italic",children:"Loading prescription..."})}const ive=bi.lazy(()=>md(()=>import("./CreatePrescriptionModal-BJWyTDqO.js"),[])),sve=bi.lazy(()=>md(()=>Promise.resolve().then(()=>Dee),void 0)),ave=bi.lazy(()=>md(()=>import("./MessageWithLinks-DdqEo5Lg.js"),[])),ove="/ChatBg.svg";function lve(t,e){const r=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=(new Date(r.getFullYear(),r.getMonth(),r.getDate())-n)/(1e3*60*60*24);return s===0?e("today","Today"):s===1?e("yesterday","Yesterday"):t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}const oB=bi.memo(({message:t,isMine:e,t:r})=>{if(!e)return null;const n=t.status||"sent",i=t.read||n==="read";return n==="sent"?u.jsx(fee,{className:"w-3 h-3 text-gray-400 ml-1 opacity-80",strokeWidth:2,title:r("sent","Sent")}):n==="delivered"?u.jsx(rC,{className:"w-3 h-3 text-gray-400 ml-1 opacity-80",strokeWidth:2,title:r("delivered","Delivered")}):n==="read"||i?u.jsx(rC,{className:"w-3 h-3 text-green-500 ml-1",strokeWidth:2,title:r("read","Read")}):null}),lB=bi.memo(({message:t,isMine:e,showReadReceipts:r,t:n})=>!e||!r?null:u.jsx(oB,{message:t,isMine:e,t:n}));oB.displayName="MessageStatus";lB.displayName="ConditionalMessageStatus";const dy=bi.memo(()=>u.jsxs("div",{className:"flex flex-col items-start w-full mb-2 animate-pulse",children:[u.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl h-10 w-48 mb-1"}),u.jsx("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-2xl h-6 w-32"})]}));dy.displayName="MessageSkeleton";function kA(){const{user:t,profile:e}=In(),{getSetting:r}=J2(),{t:n}=cs(),i=oi(),s=Bl(),a=S5(),l=L.useRef(s.state?.thread||null).current,c=a.vendorId,d=a.threadId,[p,g]=L.useState(d||l?.id||null),[m,y]=L.useState(""),[w,_]=L.useState(""),[S,P]=L.useState(!1),[A,V]=L.useState([]),[W,K]=L.useState(""),[j,T]=L.useState(""),[C,D]=L.useState(!0),[R,F]=L.useState(50),B=L.useRef(null),ee=L.useRef(null),[he,ve]=L.useState(null),[fe,se]=L.useState(!0),Y=L.useRef(null),[ie,G]=L.useState(!1),[I,z]=L.useState([]),[X,J]=L.useState(!1),ce=new URLSearchParams(s.search),we=ce.get("productId"),ke=ce.get("productName");ce.get("productImage"),ce.get("vendorName");const oe=ce.get("productPrice"),Ee=ce.get("prefillMsg");L.useEffect(()=>{if(l)if(e?.role==="customer"){y(l.vendorName||n("pharmacy","Pharmacy")),_(l.vendorAddress||l.vendorEmail||"");const He=typeof l.vendorIsVerified=="boolean"?l.vendorIsVerified:l.vendorVerificationStatus==="approved";P(He),l.vendorPhone&&T(l.vendorPhone)}else y(l.customerName||n("customer","Customer")),_(l.customerAddress||l.customerEmail||""),P(!1)},[l,e?.role,n]),L.useEffect(()=>{t&&(async()=>{if(d){g(d);return}if(l?.id){g(l.id);return}if(e?.role==="customer"&&c){const He=await Ak({vendorId:c,customerId:t.uid,role:"customer"});g(He)}else if(e?.role==="vendor"&&!d){console.warn("Vendor tried to open chat without threadId in URL."),i("/messages");return}})().catch(console.error)},[t?.uid,e?.role,c,d,i,l]),L.useEffect(()=>{if(!p||!e?.role)return;const He=Qt(ht,"threads",p),ut=Nn(He,async Et=>{if(!Et.exists())return;const St=Et.data(),[je,Ke]=p.split("__");if(e.role==="customer"){const Qe=async()=>{const lt=await os(Qt(ht,"pharmacies",je));return lt.exists()?lt.data():{}},ae=St.vendorName||"",Le=St.vendorAddress||"";let We=null;ae?y(ae):(We=await Qe(),y(We.name||St("pharmacy","Pharmacy"))),Le?_(Le):(We||(We=await Qe()),_(We.address||We.email||"")),typeof St.vendorIsVerified=="boolean"?P(St.vendorIsVerified):(We||(We=await Qe()),P(!!We.isVerified)),We||(We=await Qe()),T(We.phone||"")}else{const Qe=St.customerName||"",ae=St.customerAddress||St.customerEmail||"";if(Qe)y(Qe),_(ae);else{const Le=await os(Qt(ht,"users",Ke)),We=Le.exists()?Le.data():{};y(We.displayName||St("customer","Customer")),_(We.email||"")}P(!1)}});return()=>ut()},[p,e?.role,n]),L.useEffect(()=>{if(!p||!t?.uid)return;D(!0);const He=fF(p,ut=>{V(ut),D(!1),ut.forEach(async Et=>{if(Et.senderId!==t.uid&&Et.status==="sent")try{await dF(p,Et.id)}catch(St){console.error("Error marking message as delivered:",St)}})},console.error,100);return $y(p,t.uid).catch(console.error),He},[p,t?.uid]);const Oe=L.useCallback((He=!1)=>{He?B.current?.scrollIntoView():B.current?.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},[]);L.useEffect(()=>{!C&&A.length>0&&requestAnimationFrame(()=>Oe(!1))},[A.length,C,Oe]);const re=L.useMemo(()=>{let He=null;return ut=>{He||(He=setTimeout(()=>{ut.target.scrollTop<200&&R<A.length&&F(je=>Math.min(je+50,A.length)),He=null},100))}},[R,A.length]),_e=L.useCallback(He=>{re(He)},[re]),Re=L.useMemo(()=>A.slice(-R),[A,R]),pe=r(Ar.MESSAGE_READ_RECEIPTS);r(Ar.DATA_SAVER_MODE),L.useEffect(()=>{const He=()=>{se(!document.hidden),!document.hidden&&p&&t?.uid&&$y(p,t.uid).catch(console.error)};return document.addEventListener("visibilitychange",He),()=>document.removeEventListener("visibilitychange",He)},[p,t?.uid]);const Ye=L.useRef(null);L.useEffect(()=>{if(!A.length)return;const He=A[A.length-1];if(He.id!==Ye.current&&He.senderId!==t?.uid&&Y.current){Y.current.currentTime=0;const ut=Y.current.play();ut&&ut.catch(()=>{})}Ye.current=He.id},[A,t?.uid]);const ze=L.useCallback(()=>{if(!p||!t)return null;const[He,ut]=p.split("__");return t.uid===He?ut:He},[p,t]),ot=L.useCallback(async()=>{const He=ze();if(!He||!W.trim()||!p)return;const ut=W.trim();K("");try{await q_(p,{senderId:t.uid,to:He,text:ut})}catch(Et){K(ut),console.error("Failed to send message:",Et)}},[p,W,t?.uid,ze]);L.useEffect(()=>{if(!ie)return;let He=null;if(e?.role==="pharmacy"?He=t?.uid:p&&([He]=p.split("__")),!He)return;const ut=Er(tr(ht,"products"),Vr("pharmacyId","==",He)),Et=Nn(ut,St=>{z(St.docs.map(je=>({id:je.id,...je.data()})))});return()=>Et&&Et()},[ie,e?.role,t?.uid,p]);const Ve=async({drugs:He,startDate:ut,duration:Et,notes:St})=>{if(!p||!t)return;const[je,Ke]=p.split("__"),{id:Qe}=await gF({pharmacyId:je,customerId:Ke,chatThreadId:p,drugs:He,startDate:ut,duration:Et,notes:St});G(!1),await q_(p,{senderId:t.uid,to:Ke,text:n("prescription_created","A new prescription has been created.")},Qe)};return L.useEffect(()=>{if(ke&&we){const He=oe||"";K(n("drug_inquiry","I want to know more about this drug {productName}{priceText}.",{productName:ke,priceText:He?", "+He:""}))}else Ee&&K(Ee)},[ke,oe,we,Ee]),u.jsxs("div",{className:"h-screen w-full flex flex-col items-stretch overflow-visible bg-white dark:bg-gray-900",style:{position:"relative"},children:[u.jsx("div",{"aria-hidden":!0,style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",backgroundImage:`url(${ove})`,backgroundRepeat:"repeat",backgroundPosition:"center center",backgroundSize:"200px 200px",pointerEvents:"none",zIndex:0,opacity:.3,willChange:"transform",backfaceVisibility:"hidden",transform:"translateZ(0)"}}),u.jsxs("div",{style:{position:"relative",zIndex:10},className:"flex-1 flex flex-col min-h-0",children:[u.jsx("style",{children:".hide-scrollbar::-webkit-scrollbar{display:none} .hide-scrollbar{-ms-overflow-style:none; scrollbar-width:none;}"}),u.jsx("audio",{ref:Y,src:$1e,preload:"none"}),u.jsx("div",{className:"sticky top-0 z-20 bg-white/90 dark:bg-gray-900/90 pt-1 pb-1",style:{paddingTop:"env(safe-area-inset-top, 0)",width:"100vw",marginLeft:"calc(50% - 50vw)",paddingRight:"env(safe-area-inset-right, 0)"},children:u.jsxs("div",{className:"w-full px-4 sm:px-5 pt-6 pb-3 flex items-center gap-3 justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>{window.history.length>1?i(-1):i("/messages")},className:"rounded-full border border-gray-200 dark:border-gray-600 dark:border-gray-600 px-3 sm:px-4 py-1 text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800",children:u.jsx(Au,{className:"h-4 w-4"})}),e?.role==="customer"?u.jsx("button",{className:"min-w-0 font-light text-[15px] sm:text-[17px] truncate text-left hover:underline focus:outline-none text-gray-900 dark:text-white",onClick:()=>{if(p){const[He]=p.split("__");i(`/vendor/${He}`)}},title:m,children:u.jsx(zc,{name:m||"...",isVerified:S,className:"inline-flex items-center gap-1",iconClassName:"h-4 w-4 text-sky-500 dark:text-sky-400"})}):u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"font-light text-[15px] sm:text-[17px] truncate text-gray-900 dark:text-white",children:u.jsx(zc,{name:m||"...",isVerified:S,className:"inline-flex items-center gap-1",iconClassName:"h-4 w-4 text-sky-500 dark:text-sky-400"})}),u.jsx("div",{className:"text-[9px] text-zinc-500 dark:text-zinc-400 truncate",children:w})]})]}),e?.role==="customer"&&u.jsxs("a",{href:j?`tel:${j}`:void 0,className:`flex items-center justify-center rounded-full border border-sky-500 text-sky-600 dark:text-sky-400 px-2 py-1 text-[11px] font-poppins font-light ${j?"hover:bg-sky-50 dark:hover:bg-sky-900/20":"opacity-40 cursor-not-allowed"}`,style:{minWidth:32},title:j?n("call_pharmacy_title","Call {pharmacy}",{pharmacy:m}):n("no_phone_number","No phone number"),tabIndex:j?0:-1,"aria-disabled":!j,children:[u.jsx(z1e,{className:"h-3 w-3 mr-1"})," ",n("call","Call")]}),e?.role==="pharmacy"&&p&&u.jsxs(Zm,{as:"div",className:"relative inline-block text-left ml-2",children:[u.jsxs(Zm.Button,{className:"px-3 py-1 rounded-full bg-sky-600 text-white text-xs font-medium",children:[n("actions","Actions")," ▾"]}),u.jsx(Zm.Items,{className:"absolute right-0 mt-2 w-48 origin-top-right bg-white dark:bg-gray-800 border border-sky-200 dark:border-gray-600 divide-y divide-gray-100 dark:divide-gray-700 rounded-[5px] shadow-lg focus:outline-none z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsx(Zm.Item,{children:({active:He})=>u.jsx("button",{className:`w-full text-left px-4 py-2 text-[12px] font-light ${He?"bg-sky-50":""}`,onClick:()=>G(!0),children:n("create_prescription","Create Prescription")})}),u.jsx(Zm.Item,{children:({active:He})=>u.jsx("button",{className:`w-full text-left px-4 py-2 text-[12px] font-light ${He?"bg-sky-50":""}`,onClick:()=>J(!0),children:n("view_prescription_history","View Prescription History")})})]})})]})]})}),u.jsxs("div",{className:"w-full flex-1 flex flex-col min-h-0",children:[u.jsxs("div",{ref:ee,className:"flex-1 overflow-y-auto px-3 sm:px-4 pb-28 min-h-0 hide-scrollbar",style:{paddingTop:12},onScroll:_e,children:[R<A.length&&u.jsx("div",{className:"flex justify-center py-4",children:u.jsx("button",{onClick:()=>F(He=>Math.min(He+50,A.length)),className:"text-xs text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 px-3 py-1 rounded-full transition-colors",children:n("load_more_messages","Load {count} more messages",{count:Math.min(50,A.length-R)})})}),C?u.jsxs("div",{className:"space-y-4",children:[u.jsx(dy,{}),u.jsxs("div",{className:"flex flex-col items-end w-full mb-2 animate-pulse",children:[u.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-10 w-40 mb-1"}),u.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-6 w-24"})]}),u.jsx(dy,{}),u.jsx("div",{className:"flex flex-col items-end w-full mb-2 animate-pulse",children:u.jsx("div",{className:"bg-blue-200 dark:bg-blue-700 rounded-2xl h-8 w-56 mb-1"})}),u.jsx(dy,{})]}):Re.length===0?u.jsx("div",{className:"flex justify-center items-center py-12",children:u.jsxs("div",{className:"text-gray-400 dark:text-gray-500 text-sm text-center",children:[u.jsx("div",{className:"text-lg mb-2",children:"💬"}),n("start_conversation","Start your conversation")]})}):(()=>{let He=null;return Re.map(ut=>{const Et=ut.senderId===t?.uid,St=ut.createdAt?.seconds?new Date(ut.createdAt.seconds*1e3):null;let je=!1;if(St){const Ke=St.toDateString();He!==Ke&&(je=!0,He=Ke)}return u.jsxs(bi.Fragment,{children:[je&&St&&u.jsx("div",{className:"flex justify-center my-4 mb-3",children:u.jsx("span",{className:"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 text-[9px] font-light px-2 py-0.5 rounded-md opacity-80",children:lve(St,n)})}),u.jsxs("div",{className:`flex flex-col items-${Et?"end":"start"} w-full mb-1.5`,children:[u.jsx("div",{className:`${Et?"bg-blue-500 text-white ml-8":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white mr-8 border border-gray-200 dark:border-gray-600 dark:border-gray-700"} px-2.5 py-1.5 max-w-[75%] sm:max-w-[65%] whitespace-pre-wrap break-words shadow-sm`,style:{borderRadius:Et?"10px 10px 2px 10px":"10px 10px 10px 2px",fontSize:13,lineHeight:1.2},children:u.jsx(bi.Suspense,{fallback:u.jsx("span",{children:ut.text}),children:u.jsx(ave,{text:ut.text,isMine:Et})})}),ut.prescriptionId&&u.jsxs("div",{className:"mt-1",children:[u.jsx(nve,{prescriptionId:ut.prescriptionId})," "]}),u.jsxs("div",{className:`flex items-center text-[9px] text-gray-400 dark:text-gray-500 mt-0.5 ${Et?"mr-2 justify-end":"ml-2 justify-start"}`,children:[u.jsx("span",{children:St?St.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""}),u.jsx(lB,{message:ut,isMine:Et,showReadReceipts:pe,t:n})]})]})]},ut.id)})})(),u.jsx("div",{ref:B})]}),u.jsx("div",{className:"w-full sticky bottom-0 z-20 bg-white/85 dark:bg-gray-900/85 backdrop-blur",style:{paddingBottom:"env(safe-area-inset-bottom, 0)",width:"100vw",marginLeft:"calc(50% - 50vw)",paddingLeft:"env(safe-area-inset-left, 0)",paddingRight:"env(safe-area-inset-right, 0)"},children:u.jsxs("div",{className:"w-full",children:[u.jsxs("form",{className:"mx-4 sm:mx-5 flex items-center gap-3 py-3",onSubmit:He=>{He.preventDefault(),ot()},children:[u.jsx("label",{className:"flex items-center cursor-not-allowed opacity-40",title:n("attachments_coming_soon","Attachments coming soon"),children:u.jsx(_ee,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{value:W,onChange:He=>K(He.target.value),placeholder:n("message_placeholder","Message"),className:"flex-1 min-w-0 outline-none px-3 py-2 bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 dark:border-gray-600 rounded-full placeholder:text-gray-400 dark:placeholder:text-gray-500 placeholder:text-[14px] focus:border-blue-400 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-800 transition-all duration-200",style:{fontSize:14}}),u.jsx("button",{type:"submit",className:`flex items-center justify-center w-8 h-8 rounded-full transition-all duration-200 ${W.trim()?"bg-blue-500 hover:bg-blue-600 active:scale-95":"bg-gray-300 cursor-not-allowed"}`,disabled:!W.trim(),children:u.jsx("img",{src:U1e,alt:"Send",className:"h-4 w-4"})})]}),u.jsx("div",{style:{height:8}})]})})]}),u.jsx(bi.Suspense,{fallback:null,children:u.jsx(ive,{open:ie,onClose:()=>G(!1),products:I,onSubmit:Ve})}),u.jsx(r4,{open:X,onClose:()=>J(!1),children:u.jsx(bi.Suspense,{fallback:null,children:u.jsx(sve,{chatThreadId:p,products:I,userId:t?.uid})})})]})]})}class cve{constructor(){this.audio=null,this.permissionRequested=!1,this.notificationQueue=[],this.isProcessing=!1,this.initializeAudio(),this.requestPermissionOnUserInteraction()}initializeAudio(){try{this.audio=new Audio("/src/assets/message-tone.mp3"),this.audio.volume=.6,this.audio.preload="auto"}catch(e){console.warn("Notification audio not available:",e)}}requestPermissionOnUserInteraction(){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}const e=()=>{!this.permissionRequested&&Notification.permission==="default"&&(this.permissionRequested=!0,Notification.requestPermission().then(r=>{console.log("Notification permission:",r)}))};document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("touchstart",e,{once:!0})}playSound(){if(this.audio)try{this.audio.currentTime=0,this.audio.play().catch(e=>{console.warn("Could not play notification sound:",e)})}catch(e){console.warn("Audio playback error:",e)}}showNotification(e,r={}){if(!("Notification"in window)||Notification.permission!=="granted")return null;const n={icon:"/favicon.ico",badge:"/favicon.ico",requireInteraction:!1,silent:!1,...r};try{const i=new Notification(e,n);return n.requireInteraction||setTimeout(()=>{i&&i.close()},8e3),i.onclick=()=>{window.focus(),i.close(),r.onClick&&r.onClick()},i}catch(i){return console.error("Error showing notification:",i),null}}queueNotification(e){this.notificationQueue.push(e),this.processQueue()}async processQueue(){if(!(this.isProcessing||this.notificationQueue.length===0)){for(this.isProcessing=!0;this.notificationQueue.length>0;){const e=this.notificationQueue.shift();await this.processNotification(e),this.notificationQueue.length>0&&await new Promise(r=>setTimeout(r,1e3))}this.isProcessing=!1}}async processNotification(e){const{type:r,data:n,options:i={}}=e,s=document.hidden||i.force;switch(s&&this.playSound(),r){case"order_received":return this.handleOrderReceived(n,s);case"order_status_updated":return this.handleOrderStatusUpdated(n,s);case"message_received":return this.handleMessageReceived(n,s);case"prescription_ready":return this.handlePrescriptionReady(n,s);default:console.warn("Unknown notification type:",r)}}handleOrderReceived(e,r){const n="📦 New Order Received!",i=`Order #${e.id?.slice(-8)} - ₦${(e.total||0).toLocaleString()} from ${e.customerName||"Customer"}`;if(r)return this.showNotification(n,{body:i,tag:"order-received",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/orders"}})}handleOrderStatusUpdated(e,r){const i={confirmed:"✅ Order Confirmed",preparing:"👨‍⚕️ Order Being Prepared",ready:"📋 Order Ready for Pickup",completed:"🎉 Order Completed",cancelled:"❌ Order Cancelled"}[e.status]||"📦 Order Updated",s=`Order #${e.id?.slice(-8)} - ${e.pharmacyName||"Pharmacy"}`;if(r)return this.showNotification(i,{body:s,tag:"order-status",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/orders"}})}handleMessageReceived(e,r){const n=`💬 ${e.senderName||"New Message"}`,i=e.text?.slice(0,100)+(e.text?.length>100?"...":"")||"Sent an attachment";if(r)return this.showNotification(n,{body:i,tag:"message",icon:"/favicon.ico",onClick:()=>{window.location.hash="#/messages"}})}handlePrescriptionReady(e,r){const n="💊 Prescription Ready",i=`Your prescription is ready for pickup at ${e.pharmacyName}`;if(r)return this.showNotification(n,{body:i,tag:"prescription",icon:"/favicon.ico",requireInteraction:!0,onClick:()=>{window.location.hash="#/orders"}})}notifyOrderReceived(e){this.queueNotification({type:"order_received",data:e})}notifyOrderStatusUpdated(e){this.queueNotification({type:"order_status_updated",data:e})}notifyMessageReceived(e){this.queueNotification({type:"message_received",data:e})}notifyPrescriptionReady(e){this.queueNotification({type:"prescription_ready",data:e})}get isSupported(){return"Notification"in window}get isPermitted(){return this.isSupported&&Notification.permission==="granted"}get permissionStatus(){return this.isSupported?Notification.permission:"not-supported"}}const vu=new cve;function uve(){const[t,e]=L.useState(vu.permissionStatus),[r,n]=L.useState(!1);L.useEffect(()=>{e(vu.permissionStatus);const d=setInterval(()=>{e(vu.permissionStatus)},1e3);return()=>clearInterval(d)},[]);const i=async()=>{if(!vu.isSupported){alert("Notifications are not supported in this browser");return}try{const c=await Notification.requestPermission();e(c)}catch(c){console.error("Error requesting notification permission:",c)}},s=()=>{if(!vu.isPermitted){alert("Please enable notifications first");return}vu.showNotification("🔔 Test Notification",{body:"This is a test notification from PharmaSeaHealth",tag:"test",requireInteraction:!1}),n(!0),setTimeout(()=>n(!1),3e3)},a=()=>{switch(t){case"granted":return u.jsx(Ip,{className:"h-5 w-5 text-green-500"});case"denied":return u.jsx(dee,{className:"h-5 w-5 text-red-500"});case"default":return u.jsx(lg,{className:"h-5 w-5 text-yellow-500"});default:return u.jsx(Ik,{className:"h-5 w-5 text-gray-500"})}},o=()=>{switch(t){case"granted":return"Notifications enabled";case"denied":return"Notifications blocked";case"default":return"Permission not requested";case"not-supported":return"Not supported in this browser";default:return"Unknown status"}},l=()=>{switch(t){case"granted":return"You will receive notifications for new orders, messages, and order updates.";case"denied":return"Notifications are blocked. You can enable them in your browser settings.";case"default":return"Click the button below to enable notifications for orders and messages.";case"not-supported":return"Your browser does not support push notifications.";default:return"Unable to determine notification status."}};return u.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(lg,{className:"h-6 w-6 text-blue-600"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notification Settings"})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a(),u.jsx("span",{className:"font-medium text-gray-900",children:o()})]}),u.jsx("p",{className:"text-sm text-gray-600",children:l()})]}),u.jsxs("div",{className:"space-y-3",children:[t==="default"&&u.jsxs("button",{onClick:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[u.jsx(lg,{className:"h-4 w-4"}),"Enable Notifications"]}),t==="granted"&&u.jsx("button",{onClick:s,disabled:r,className:`w-full py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${r?"bg-green-100 text-green-800 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:r?u.jsxs(u.Fragment,{children:[u.jsx(Ip,{className:"h-4 w-4"}),"Test Sent!"]}):u.jsxs(u.Fragment,{children:[u.jsx(lg,{className:"h-4 w-4"}),"Send Test Notification"]})}),t==="denied"&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(yee,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),u.jsxs("div",{className:"text-sm",children:[u.jsx("p",{className:"font-medium text-red-800 mb-1",children:"How to enable notifications:"}),u.jsxs("ol",{className:"text-red-700 space-y-1 list-decimal list-inside",children:[u.jsx("li",{children:"Click the lock icon in your browser's address bar"}),u.jsx("li",{children:'Select "Allow" for notifications'}),u.jsx("li",{children:"Refresh the page"})]})]})]})})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"You'll be notified about:"}),u.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ip,{className:"h-4 w-4 text-green-500"}),u.jsx("span",{children:"New orders received (Pharmacies)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ip,{className:"h-4 w-4 text-green-500"}),u.jsx("span",{children:"Order status updates (Customers)"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ip,{className:"h-4 w-4 text-green-500"}),u.jsx("span",{children:"New messages in chats"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ip,{className:"h-4 w-4 text-green-500"}),u.jsx("span",{children:"Prescription ready for pickup"})]})]})]})]})}const dve=({title:t,onBackClick:e})=>Us.createPortal(u.jsx("div",{className:"fixed top-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md z-[100] px-4 py-4 border-b border-gray-100 dark:border-gray-700",children:u.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:e,className:"rounded-full p-2 hover:bg-sky-50 transition-all duration-200","aria-label":"Go back",children:u.jsx(Au,{className:"h-5 w-5 text-sky-600 mt-8"})}),u.jsx("h1",{className:"mt-8 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none text-gray-900 dark:text-white",children:"Settings"})]})})}),document.body);function fve(){const t=oi(),{user:e}=In(),{getSetting:r,updateSetting:n,resetSettings:i}=J2(),[s,a]=L.useState({}),o=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,l=c=>{n(Ar.SWIPE_NAVIGATION,c),console.log(c?"Swipe navigation enabled - swipe left/right to navigate between pages on mobile":"Swipe navigation disabled")};return u.jsxs(u.Fragment,{children:[u.jsx(dve,{title:"Settings",onBackClick:()=>t(-1)}),u.jsx("div",{className:"pt-24 pb-28 w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 min-h-screen animate-fadeInUp",children:u.jsxs("div",{className:"mt-4 space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"rounded-full bg-gray-100 p-2",children:u.jsx(Wy,{className:"h-5 w-5 text-gray-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"General"}),u.jsx("p",{className:"text-sm text-gray-600",children:"App preferences and navigation settings"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Swipe Navigation"}),u.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Enable swipe gestures to navigate between pages on mobile devices",!o&&u.jsx("span",{className:" text-orange-500",children:" (Desktop - feature available on mobile only)"})]})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.SWIPE_NAVIGATION),onChange:c=>l(c.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]}),r(Ar.SWIPE_NAVIGATION)&&o&&u.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mt-2",children:u.jsxs("p",{className:"text-xs text-gray-700",children:[u.jsx("span",{className:"font-medium",children:"How to use:"})," Swipe left or right anywhere on the screen to navigate between Home, Cart, Messages, and Orders pages."]})}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Data Saver Mode"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Reduce bandwidth usage and optimize for slower connections"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.DATA_SAVER_MODE),onChange:c=>n(Ar.DATA_SAVER_MODE,c.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Read Receipts"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Show when you've read messages in chats"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.MESSAGE_READ_RECEIPTS),onChange:c=>n(Ar.MESSAGE_READ_RECEIPTS,c.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-600"})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.1s"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"rounded-full bg-orange-100 p-2",children:u.jsx(vee,{className:"h-5 w-5 text-orange-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Language & Region"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Set your language and regional preferences"})]})]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"App Language"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred language"})]}),u.jsxs("select",{value:r(Ar.LANGUAGE),onChange:c=>n(Ar.LANGUAGE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-orange-300",children:[u.jsx("option",{value:"en",children:"English"}),u.jsx("option",{value:"yo",children:"Yoruba"}),u.jsx("option",{value:"ha",children:"Hausa"}),u.jsx("option",{value:"ig",children:"Igbo"}),u.jsx("option",{value:"fr",children:"Français"})]})]})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.2s"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"rounded-full bg-purple-100 p-2",children:u.jsx(wee,{className:"h-5 w-5 text-purple-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Appearance"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Customize how the app looks and feels"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Theme"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose your preferred color scheme"})]}),u.jsxs("select",{value:r(Ar.THEME_MODE),onChange:c=>n(Ar.THEME_MODE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-purple-300",children:[u.jsx("option",{value:"light",children:"Light"}),u.jsx("option",{value:"dark",children:"Dark"}),u.jsx("option",{value:"system",children:"System"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Font Size"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Adjust text size for better readability"})]}),u.jsxs("select",{value:r(Ar.FONT_SIZE),onChange:c=>n(Ar.FONT_SIZE,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-purple-300",children:[u.jsx("option",{value:"small",children:"Small"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"large",children:"Large"})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.3s"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"rounded-full bg-blue-100 p-2",children:u.jsx(X2,{className:"h-5 w-5 text-blue-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Accessibility"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Make the app easier to use for everyone"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"High Contrast"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Increase contrast for better visibility"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.HIGH_CONTRAST),onChange:c=>n(Ar.HIGH_CONTRAST,c.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Reduce Motion"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimize animations and transitions"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.REDUCE_MOTION),onChange:c=>n(Ar.REDUCE_MOTION,c.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.4s"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"rounded-full bg-sky-100 p-2",children:u.jsx(lg,{className:"h-5 w-5 text-sky-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Notifications"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Manage your notification preferences"})]})]}),u.jsx("div",{className:"pl-0",children:u.jsx(uve,{})})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-sky-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.5s"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"rounded-full bg-green-100 p-2",children:u.jsx(Pk,{className:"h-5 w-5 text-green-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800 font-poppins",children:"Privacy & Security"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Control your data and security settings"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Biometric Login"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use fingerprint or face recognition to unlock"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r(Ar.BIOMETRIC_LOGIN),onChange:c=>n(Ar.BIOMETRIC_LOGIN,c.target.checked)}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 dark:border-gray-600 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Auto Lock"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lock app after period of inactivity"})]}),u.jsxs("select",{value:r(Ar.AUTO_LOCK),onChange:c=>n(Ar.AUTO_LOCK,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-green-300",children:[u.jsx("option",{value:"1min",children:"1 minute"}),u.jsx("option",{value:"5min",children:"5 minutes"}),u.jsx("option",{value:"15min",children:"15 minutes"}),u.jsx("option",{value:"never",children:"Never"})]})]}),u.jsxs("div",{className:"flex items-center justify-between py-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Location Sharing"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose location accuracy for deliveries"})]}),u.jsxs("select",{value:r(Ar.LOCATION_PRECISION),onChange:c=>n(Ar.LOCATION_PRECISION,c.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-1 focus:outline-none focus:ring-2 focus:ring-green-300",children:[u.jsx("option",{value:"precise",children:"Precise"}),u.jsx("option",{value:"approximate",children:"Approximate"}),u.jsx("option",{value:"off",children:"Off"})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-red-100 dark:border-gray-600 p-6 shadow-sm animate-fade-in-up",style:{animationDelay:"0.6s"},children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx("div",{className:"rounded-full bg-red-100 p-2",children:u.jsx(Wy,{className:"h-5 w-5 text-red-600"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-red-600 font-poppins",children:"Reset Settings"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Restore all settings to their default values"})]})]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[u.jsxs("p",{className:"text-sm text-red-700 mb-3",children:[u.jsx("span",{className:"font-medium",children:"Warning:"})," This will reset all your preferences including theme, language, navigation settings, and accessibility options. This action cannot be undone."]}),u.jsx("button",{onClick:()=>{confirm("Are you sure you want to reset all settings to default? This cannot be undone.")&&i()},className:"w-full px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:"Reset All Settings"})]})})]})]})})]})}function hu({children:t}){const{user:e,loading:r}=In();return r?u.jsx("div",{className:"p-6",children:"Loading…"}):e?t:u.jsx("div",{className:"p-6",children:"Please sign in to continue."})}function cB(){const{user:t,profile:e}=In(),r=Bl(),n=L.useRef({});return L.useEffect(()=>{if(!(!t?.uid||!e?.role))return J5({uid:t.uid,role:e.role},i=>{i.forEach(s=>{if(!s.id)return;const a=Er(tr(ht,"threads",s.id,"messages"),pa("createdAt","desc"),W0(1));Nn(a,o=>{if(o.empty)return;const l={id:o.docs[0].id,...o.docs[0].data()},c=l.senderId===t.uid;let d=!1;if(r.pathname.startsWith("/chat/")){const p=r.pathname.split("/chat/")[1]?.split("/")[0];e.role==="customer"?s.id===`${p}__${t.uid}`&&(d=!0):s.id.startsWith(`${t.uid}__`)&&(d=!0)}if(r.pathname==="/messages"){const g=new URLSearchParams(r.search).get("chat");g&&(e.role==="customer"?s.id===`${g}__${t.uid}`&&(d=!0):s.id===`${t.uid}__${g}`&&(d=!0))}if(!c&&n.current[s.id]!==l.id&&!d){const p=e.role==="customer"?s.pharmacyName||"Pharmacy":s.customerName||"Customer",g={...l,senderName:p,threadId:s.id};vu.notifyMessageReceived(g)}n.current[s.id]=l.id})})},i=>console.error("GlobalMessageNotifier error:",i))},[t?.uid,e?.role,r.pathname,r.search]),null}function hve(){const{user:t,profile:e}=In(),r=L.useRef({}),n=L.useRef(!1);return L.useEffect(()=>{if(!t?.uid||!e||e.role!=="customer")return;const i=e.uid||t.uid,s=Er(tr(ht,"orders"),Vr("customerId","==",i),pa("updatedAt","desc")),a=Nn(s,o=>{if(!n.current){o.docs.forEach(l=>{const c={id:l.id,...l.data()};r.current[c.id]=c.status}),n.current=!0;return}o.docChanges().forEach(l=>{if(l.type==="modified"){const c={id:l.doc.id,...l.doc.data()},d=r.current[c.id];d&&d!==c.status&&(vu.notifyOrderStatusUpdated(c),c.status==="ready"&&c.type==="prescription"&&vu.notifyPrescriptionReady({...c,pharmacyName:c.pharmacyName||"Pharmacy"})),r.current[c.id]=c.status}if(l.type==="added"){const c={id:l.doc.id,...l.doc.data()};r.current[c.id]=c.status}})},o=>{console.error("Error listening for customer order notifications:",o)});return()=>a()},[t,e]),null}function pve(){const{profile:t}=In();return u.jsxs(u.Fragment,{children:[u.jsx(cB,{}),t?.role==="customer"&&u.jsx(hve,{})]})}function mve({order:t,isOpen:e,onClose:r,onViewOrder:n}){const[i,s]=L.useState(!1),{profile:a}=In();L.useEffect(()=>{if(e){s(!0);const c=setTimeout(()=>{o()},1e4);return()=>clearTimeout(c)}else s(!1)},[e]);const o=()=>{s(!1),setTimeout(()=>r(),300)},l=()=>{n(t),o()};return!e||!t?null:u.jsx(u.Fragment,{children:u.jsx("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-50 transition-all duration-300 ${i?"translate-y-0 opacity-100 scale-100":"-translate-y-4 opacity-0 scale-95"}`,children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-blue-200 dark:border-gray-600 mx-4 overflow-hidden card-interactive hover:shadow-3xl transition-all duration-300",style:{width:"393px"},children:[u.jsxs("div",{className:"bg-gradient-to-r from-sky-300 to-sky-600 px-6 py-4 relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-white/10 animate-pulse"}),u.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[u.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center animate-bounce",children:u.jsx("span",{className:"text-white text-lg",children:"📦"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-white font-semibold text-lg animate-text-reveal",children:"New Order Received!"}),u.jsx("p",{className:"text-green-100 text-sm animate-fade-in",style:{animationDelay:"0.1s"},children:"You have a new customer order"})]})]})]}),u.jsxs("div",{className:"px-4 py-3 animate-fade-in-up",style:{animationDelay:"0.2s"},children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-start gap-3",children:[u.jsxs("div",{className:"flex-1 min-w-0 animate-slide-up",style:{animationDelay:"0.3s"},children:[u.jsx("p",{className:"text-gray-600 text-xs",children:"Order ID"}),u.jsxs("p",{className:"font-medium text-gray-900 text-sm truncate",children:["#",t.id?.slice(-8)||"N/A"]})]}),u.jsxs("div",{className:"flex-1 min-w-0 animate-slide-up",style:{animationDelay:"0.4s"},children:[u.jsx("p",{className:"text-gray-600 text-xs",children:"Customer"}),u.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:t.customerName||"Unknown Customer"})]}),u.jsxs("div",{className:"text-right flex-shrink-0 animate-slide-up",style:{animationDelay:"0.5s"},children:[u.jsx("p",{className:"text-gray-600 text-xs",children:"Total"}),u.jsxs("p",{className:"font-bold text-green-600 text-sm animate-pulse-slow",children:["₦",(t.total||0).toLocaleString()]})]})]}),t.items&&t.items.length>0||t.orderItems&&t.orderItems.length>0||t.products&&t.products.length>0?u.jsxs("div",{className:"border-t pt-3 animate-fade-in",style:{animationDelay:"0.6s"},children:[u.jsxs("p",{className:"text-gray-600 text-xs mb-2",children:["Items (",t.items?.length||t.orderItems?.length||t.products?.length||0,")"]}),u.jsxs("div",{className:"max-h-24 overflow-y-auto space-y-1",children:[(t.items||t.orderItems||t.products||[]).slice(0,3).map((c,d)=>u.jsxs("div",{className:"flex justify-between items-center text-xs gap-2 py-0.5 animate-fadeInUp",style:{animationDelay:`${.7+d*.1}s`},children:[u.jsx("span",{className:"text-gray-700 flex-1 leading-tight font-medium truncate",children:c.name||c.productName||c.title||c.itemName||`Item ${d+1}`}),u.jsxs("span",{className:"text-gray-600 text-right whitespace-nowrap font-semibold bg-gray-100 px-1.5 py-0.5 rounded text-xs flex-shrink-0 hover:bg-gray-200 transition-colors duration-200",children:["x",c.quantity||c.qty||c.amount||1]})]},d)),(t.items?.length||t.orderItems?.length||t.products?.length||0)>3&&u.jsxs("p",{className:"text-xs text-gray-500 italic mt-1 text-center bg-gray-50 py-0.5 rounded animate-fade-in",children:["+",(t.items?.length||t.orderItems?.length||t.products?.length||0)-3," more items"]})]})]}):u.jsxs("div",{className:"border-t pt-3 animate-fade-in",style:{animationDelay:"0.6s"},children:[u.jsx("p",{className:"text-gray-600 text-xs mb-2",children:"Items"}),u.jsx("p",{className:"text-gray-500 text-xs italic",children:"No items found"})]}),u.jsxs("div",{className:"border-t pt-2 flex justify-between items-center animate-fade-in",style:{animationDelay:"0.8s"},children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-gray-600 text-xs",children:"Status"}),u.jsx("span",{className:"inline-block px-2 py-0.5 bg-orange-100 text-orange-700 text-xs rounded-full font-medium mt-0.5 animate-bounce-gentle",children:t.status||"Pending"})]}),u.jsx("div",{className:"text-right text-xs text-gray-500",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4 pt-3 border-t animate-fade-in-up",style:{animationDelay:"0.9s"},children:[u.jsx("button",{onClick:l,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium text-xs transition-all duration-200 shadow-lg hover:shadow-xl btn-interactive hover:scale-105 active:scale-95",children:"View Details"}),u.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium text-xs transition-all duration-200 btn-interactive hover:scale-105 active:scale-95",children:"Dismiss"})]})]}),u.jsx("button",{onClick:o,className:"absolute top-3 right-3 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-all duration-200 hover:scale-110 active:scale-95",children:u.jsx("span",{className:"text-lg",children:"×"})}),u.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gray-200 w-full",children:u.jsx("div",{className:"h-full bg-green-500 transition-all duration-[10000ms] ease-linear animate-progress-bar",style:{width:i?"0%":"100%"}})})]})})})}function gve(){const[t,e]=L.useState(null),[r,n]=L.useState(!1),{profile:i,user:s}=In(),a=L.useRef(null),o=L.useRef(!0);return L.useEffect(()=>{if(!i||i.role!=="pharmacy")return;const d=i.uid||s?.uid;if(!d)return;o.current&&(a.current=new Date,o.current=!1);const p=Er(tr(ht,"orders"),Vr("pharmacyId","==",d),pa("createdAt","desc"),W0(1)),g=Nn(p,m=>{m.empty||m.docChanges().forEach(y=>{if(y.type==="added"){const w={id:y.doc.id,...y.doc.data()},_=w.createdAt?.toDate()||new Date;a.current&&_>a.current&&(vu.notifyOrderReceived(w),e(w),n(!0))}})},m=>{console.error("Error listening for order notifications:",m)});return()=>g()},[i,s]),{newOrder:t,showNotification:r,clearNotification:()=>{n(!1),e(null)},viewOrder:d=>d}}const xve=[{value:"all",label:"All"},{value:"draft",label:"Draft"},{value:"pending",label:"Pending"},{value:"in_review",label:"In Review"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"needs_more_info",label:"Needs Info"}],SA={draft:"Draft",pending:"Pending",in_review:"In Review",approved:"Approved",rejected:"Rejected",needs_more_info:"Needs Info"},EA={draft:"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300",pending:"bg-amber-100 text-amber-700",in_review:"bg-sky-100 text-sky-700",approved:"bg-emerald-100 text-emerald-700",rejected:"bg-rose-100 text-rose-700",needs_more_info:"bg-amber-100 text-amber-700"},CA={high:"bg-red-100 text-red-700",medium:"bg-amber-100 text-amber-700",low:"bg-emerald-100 text-emerald-700"};function U3(t){if(!t)return"--";try{return(typeof t?.toDate=="function"?t.toDate():new Date(t)).toLocaleString()}catch(e){return console.warn("[VerificationQueue] Failed to format date",e),"--"}}function vve({items:t,onUpdateStatus:e,onAssign:r,onAddAuditEntry:n}){const[i,s]=L.useState(""),[a,o]=L.useState("all"),[l,c]=L.useState(null),[d,p]=L.useState(""),g=L.useMemo(()=>{const _=i.trim().toLowerCase();return(t||[]).filter(S=>(a==="all"?!0:S?.status===a)?_?[S?.entityName,S?.contactEmail,S?.contactPhone,S?.submittedBy,S?.applicationId,S?.applicantType].filter(Boolean).join(" ").toLowerCase().includes(_):!0:!1)},[t,i,a]),m=_=>{!l||typeof e!="function"||(e(l,_,d||void 0),p(""))},y=_=>{!l||typeof r!="function"||r(l,_)},w=()=>{!l||!d?.trim()||typeof n!="function"||(n(l,d.trim()),p(""))};return u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900 dark:text-white",children:"Verification Queue"}),u.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Track onboarding submissions, assign reviewers, and finalize approvals."})]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[u.jsx("input",{type:"search",placeholder:"Search applicant, email, or ID",value:i,onChange:_=>s(_.target.value),className:"w-full rounded-full border border-slate-200 px-4 py-2 text-sm text-slate-700 shadow-sm outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:focus:ring-slate-700 sm:w-72"}),u.jsx("select",{value:a,onChange:_=>o(_.target.value),className:"rounded-full border border-slate-200 bg-white px-3 py-2 text-sm text-slate-700 shadow-sm outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:focus:ring-slate-700",children:xve.map(_=>u.jsx("option",{value:_.value,children:_.label},_.value))})]})]}),u.jsxs("section",{className:"overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900",children:[u.jsxs("div",{className:"hidden border-b border-slate-200 bg-slate-50 px-6 py-3 text-xs font-medium uppercase tracking-wide text-slate-500 dark:border-slate-800 dark:bg-slate-800/50 md:grid md:grid-cols-12",children:[u.jsx("span",{className:"col-span-3",children:"Applicant"}),u.jsx("span",{className:"col-span-2",children:"Submitted"}),u.jsx("span",{className:"col-span-2",children:"Status"}),u.jsx("span",{className:"col-span-2",children:"Reviewer"}),u.jsx("span",{className:"col-span-3 text-right",children:"Actions"})]}),g.length===0?u.jsx("div",{className:"px-6 py-16 text-center text-sm text-slate-500 dark:text-slate-400",children:"No submissions match your filters."}):u.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-800",children:g.map(_=>u.jsxs("li",{className:"grid gap-4 px-4 py-4 transition hover:bg-slate-50 dark:hover:bg-slate-800/30 md:grid-cols-12 md:items-center md:px-6",children:[u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:_.entityName||_.submittedBy||"Unnamed Applicant"}),u.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:[_.applicantType||"pharmacy"," |"," ",_.applicationId||_.id]}),_.priority&&u.jsxs("span",{className:`mt-2 inline-block rounded-full px-2 py-0.5 text-[11px] font-semibold uppercase ${CA[_.priority]||CA.low}`,children:[_.priority," priority"]})]}),u.jsx("div",{className:"md:col-span-2",children:u.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:U3(_.submittedAt)})}),u.jsx("div",{className:"md:col-span-2",children:(()=>{const S=(_.status||"pending").toLowerCase(),P=SA[S]||S||"Pending",A=EA[S]||"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300";return u.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium capitalize ${A}`,children:P})})()}),u.jsx("div",{className:"md:col-span-2",children:u.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:_.assignedTo||"Unassigned"})}),u.jsx("div",{className:"flex items-center justify-end gap-2 md:col-span-3",children:u.jsx("button",{type:"button",onClick:()=>{c(_),p(_.reviewerNote||"")},className:"rounded-full border border-slate-200 px-4 py-2 text-xs font-medium text-slate-700 transition hover:border-slate-300 hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:"View"})})]},_.id))})]}),u.jsx(r4,{open:!!l,onClose:()=>{c(null),p("")},children:l&&u.jsxs("div",{className:"flex flex-col gap-6",children:[u.jsxs("header",{className:"space-y-2",children:[u.jsxs("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-400",children:["Application #",l.applicationId||l.id]}),u.jsx("h3",{className:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white",children:l.entityName||l.submittedBy||"Unnamed"}),(()=>{const _=(l.status||"pending").toLowerCase(),S=SA[_]||_||"Pending",P=EA[_]||"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300";return u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide ${P}`,children:S}),u.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-300",children:["Assigned to"," ",u.jsx("strong",{children:l.assignedTo||"Unassigned"})]})]})})(),u.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:[l.applicantType||"pharmacy"," | Submitted"," ",U3(l.submittedAt)]})]}),u.jsxs("section",{className:"grid gap-4 rounded-2xl bg-slate-50 p-4 dark:bg-slate-900/50 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Contact"}),u.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-slate-700 dark:text-slate-200",children:[u.jsx("li",{children:l.contactName}),u.jsx("li",{children:l.contactEmail}),u.jsx("li",{children:l.contactPhone})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Location"}),u.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-slate-700 dark:text-slate-200",children:[u.jsx("li",{children:l.location?.addressLine1}),u.jsx("li",{children:l.location?.city}),u.jsx("li",{children:l.location?.state})]})]})]}),Array.isArray(l.documents)&&l.documents.length>0&&u.jsxs("section",{children:[u.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Submitted Documents"}),u.jsx("ul",{className:"mt-2 space-y-2",children:l.documents.map(_=>u.jsxs("li",{className:"flex items-center justify-between rounded-xl bg-white px-4 py-3 text-sm text-slate-700 shadow-sm dark:bg-slate-900 dark:text-slate-200",children:[u.jsx("span",{children:_.label||_.name}),_.url&&u.jsx("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-sky-500 hover:text-sky-600",children:"View"})]},_.url||_.name))})]}),l.checklist&&u.jsxs("section",{children:[u.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Verification Checklist"}),u.jsx("div",{className:"mt-2 grid gap-2 sm:grid-cols-2",children:Object.entries(l.checklist).map(([_,S])=>u.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200",children:[u.jsx("span",{className:"capitalize",children:_.replace(/[_-]/g," ")}),u.jsx("span",{className:`rounded-full px-2 py-0.5 text-xs font-semibold uppercase ${S===!0||S==="passed"?"bg-emerald-100 text-emerald-700":S===!1||S==="failed"?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"}`,children:typeof S=="boolean"?S?"passed":"failed":S})]},_))})]}),u.jsxs("section",{children:[u.jsx("label",{className:"text-xs font-semibold uppercase text-slate-500",children:"Internal note"}),u.jsx("textarea",{rows:3,value:d,onChange:_=>p(_.target.value),placeholder:"Add reviewer notes or checklist findings…",className:"mt-2 w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 outline-none transition focus:border-slate-400 focus:ring-2 focus:ring-slate-200 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100 dark:focus:ring-slate-700"}),u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-400",children:[u.jsx("button",{type:"button",onClick:w,disabled:!d?.trim(),className:"rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-600 transition hover:bg-slate-200 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",children:"Add to audit log"}),typeof r=="function"&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-slate-400 dark:text-slate-500",children:"|"}),u.jsx("button",{type:"button",onClick:()=>y("self"),className:"rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-600 transition hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-200 dark:hover:bg-slate-700",children:"Assign to me"})]})]})]}),Array.isArray(l.auditTrail)&&l.auditTrail.length>0&&u.jsxs("section",{children:[u.jsx("h4",{className:"text-xs font-semibold uppercase text-slate-500",children:"Audit trail"}),u.jsx("ul",{className:"mt-2 space-y-3 text-sm text-slate-600 dark:text-slate-300",children:l.auditTrail.map((_,S)=>u.jsxs("li",{className:"rounded-xl bg-slate-50 px-4 py-3 dark:bg-slate-900/50",children:[u.jsxs("p",{className:"font-medium text-slate-700 dark:text-slate-100",children:[_.actor||"System"," ",u.jsx("span",{className:"text-xs font-normal text-slate-400",children:U3(_.timestamp)})]}),u.jsx("p",{children:_.message}),_.status&&u.jsx("span",{className:"mt-1 inline-flex rounded-full bg-slate-200 px-2 py-0.5 text-[11px] font-semibold uppercase text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:_.status})]},_.timestamp||S))})]}),u.jsxs("footer",{className:"flex flex-col-reverse gap-2 sm:flex-row sm:justify-between sm:gap-4",children:[u.jsx("button",{type:"button",onClick:()=>c(null),className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:"Close"}),u.jsxs("div",{className:"flex flex-1 flex-wrap justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:()=>m("needs_more_info"),className:"rounded-full border border-amber-300 bg-amber-50 px-4 py-2 text-sm font-semibold text-amber-700 transition hover:bg-amber-100 dark:border-amber-500/50 dark:bg-amber-500/10 dark:text-amber-300",children:"Request Docs"}),u.jsx("button",{type:"button",onClick:()=>m("rejected"),className:"rounded-full border border-rose-300 bg-rose-50 px-4 py-2 text-sm font-semibold text-rose-700 transition hover:bg-rose-100 dark:border-rose-500/50 dark:bg-rose-500/10 dark:text-rose-300",children:"Reject"}),u.jsx("button",{type:"button",onClick:()=>m("approved"),className:"rounded-full bg-emerald-500 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-300 dark:bg-emerald-600 dark:hover:bg-emerald-500",children:"Approve"})]})]})]})})]})}const Ov=[{key:"users",label:"Users"},{key:"products",label:"Products"},{key:"prescriptions",label:"Prescriptions"},{key:"orders",label:"Orders"},{key:"carts",label:"Carts"},{key:"analytics",label:"Analytics"},{key:"moderation",label:"Moderation"},{key:"verification",label:"Verification"},{key:"export",label:"Export"},{key:"infoCards",label:"Info Cards"}],eg=3;function yve(){const{user:t,logout:e}=In(),[r,n]=L.useState([]),[i,s]=L.useState([]),[a,o]=L.useState([]),[l,c]=L.useState([]),[d,p]=L.useState([]),[g,m]=L.useState([]),[y,w]=L.useState([]),[_,S]=L.useState(!0),[P,A]=L.useState(!1),[V,W]=L.useState(!1),[K,j]=L.useState(null),[T,C]=L.useState(!1),[D,R]=L.useState(null),[F,B]=L.useState(null),[ee,he]=L.useState(!1),[ve,fe]=L.useState({displayName:"",email:"",address:"",phone:"",role:"",suspended:!1,password:""}),[se,Y]=L.useState({name:"",image:"",description:"",stock:"",price:"",sku:"",category:""}),[ie,G]=L.useState({header:"",preview:"",link:"",linkText:"",image:"",fullImage:"",bgColor:"#f0f8ff"}),[I,z]=L.useState("users"),[X,J]=L.useState("profile"),[ce,we]=L.useState([]),[ke,oe]=L.useState([]),[Ee,Oe]=L.useState([]),[re,_e]=L.useState([]),[Re,pe]=L.useState(0),[Ye,ze]=L.useState(""),[ot,Ve]=L.useState(""),He=L.useRef(null);oi();const ut=(ae,Le)=>{const We={actor:t?.displayName||t?.email||"System",message:ae,timestamp:new Date};return Le&&(We.status=Le),We},Et=async(ae,Le)=>{if(!ae?.submittedByUid)return;const We=Le==="approved",lt=ki(),xt={verificationStatus:Le,verificationUpdatedAt:lt,isVerified:We,...We?{verifiedAt:lt}:{verifiedAt:L_()}};try{await Promise.all([ri(Qt(ht,"pharmacies",ae.submittedByUid),xt).catch(Ut=>console.error("[SuperuserDashboard] Failed to sync pharmacy verification status",Ut)),ri(Qt(ht,"users",ae.submittedByUid),xt).catch(Ut=>console.error("[SuperuserDashboard] Failed to sync user verification status",Ut))])}catch(Ut){console.error("[SuperuserDashboard] Verification sync failed",Ut)}},St=async(ae,Le)=>{if(ae)try{const We=Er(tr(ht,"threads"),Vr("vendorId","==",ae)),lt=await On(We),xt=Le==="approved";await Promise.all(lt.docs.map(Ut=>ri(Ut.ref,{vendorIsVerified:xt,vendorVerificationStatus:Le})))}catch(We){console.error("[SuperuserDashboard] Failed to update vendor thread verification flag",We)}},je=async(ae,Le,We)=>{if(ae?.id)try{const lt=Qt(ht,"verificationQueue",ae.id),xt=We?.trim()||"",Ut=ki(),Kt=Le==="draft",Ct={status:Le,updatedAt:Ut,draft:Kt,draftStep:Kt?ae?.draftStep??0:null,...xt?{reviewerNote:xt}:{},auditTrail:_g(ut(`Status changed to ${Le}${xt?` - ${xt}`:""}`,Le))};Kt||(Ct.submittedAt=ae?.submittedAt||Ut),Le==="approved"?(Ct.approvedAt=Ut,Ct.draft=!1,Ct.draftStep=null):Le==="rejected"?(Ct.rejectedAt=Ut,Ct.draft=!1,Ct.draftStep=null):(Le==="needs_more_info"||Le==="pending"||Le==="in_review")&&(Ct.draft=!1,Ct.draftStep=null),!xt&&We!==void 0&&(Ct.reviewerNote=L_()),await ri(lt,Ct),await Et(ae,Le),await St(ae.submittedByUid,Le)}catch(lt){console.error("[SuperuserDashboard] Failed to update verification status",lt)}},Ke=async(ae,Le)=>{if(!ae?.id)return;const We=Le==="self"?t?.displayName||t?.email||t?.uid:Le;try{const lt=Qt(ht,"verificationQueue",ae.id),xt=ae.status==="pending"||ae.status==="draft"?"in_review":ae.status||"in_review";await ri(lt,{assignedTo:We,status:xt,draft:!1,draftStep:null,auditTrail:_g(ut(`Assigned to ${We}`,"in_review")),updatedAt:ki()})}catch(lt){console.error("[SuperuserDashboard] Failed to assign verification",lt)}},Qe=async(ae,Le)=>{if(!(!ae?.id||!Le?.trim()))try{const We=Qt(ht,"verificationQueue",ae.id);await ri(We,{auditTrail:_g(ut(Le.trim(),ae.status||"pending")),updatedAt:ki()})}catch(We){console.error("[SuperuserDashboard] Failed to append verification audit entry",We)}};return L.useEffect(()=>{if(!t)return;S(!0);const ae=Nn(tr(ht,"users"),Ct=>{n(Ct.docs.map(Mt=>({id:Mt.id,...Mt.data()}))),S(!1)}),Le=Nn(tr(ht,"products"),Ct=>{s(Ct.docs.map(Mt=>({id:Mt.id,...Mt.data()})))}),We=Nn(tr(ht,"prescriptions"),Ct=>{o(Ct.docs.map(Mt=>({id:Mt.id,...Mt.data()})))}),lt=Nn(tr(ht,"orders"),Ct=>{c(Ct.docs.map(Mt=>({id:Mt.id,...Mt.data()})))}),xt=Nn(tr(ht,"carts"),Ct=>{p(Ct.docs.map(Mt=>({id:Mt.id,...Mt.data()})))}),Ut=Nn(tr(ht,"infoCards"),Ct=>{m(Ct.docs.map(Mt=>({id:Mt.id,...Mt.data()})))}),Kt=Nn(tr(ht,"verificationQueue"),Ct=>{w(Ct.docs.map(Mt=>({id:Mt.id,...Mt.data()})))});return()=>{ae(),Le(),We(),lt(),xt(),Ut(),Kt()}},[t]),L.useEffect(()=>{let ae=null,Le=null,We=null;return K&&K.id?(fe({displayName:K.displayName||"",email:K.email||"",address:K.address||"",phone:K.phone||"",role:K.role||"",suspended:K.role==="suspended",password:""}),ae=Nn(Er(tr(ht,"prescriptions"),Vr("userId","==",K.id)),lt=>{we(lt.docs.map(xt=>({id:xt.id,...xt.data()})))}),Le=Nn(Er(tr(ht,"orders"),Vr("userId","==",K.id)),lt=>{oe(lt.docs.map(xt=>({id:xt.id,...xt.data()})))}),We=Nn(Er(tr(ht,"carts"),Vr("userId","==",K.id)),lt=>{Oe(lt.docs.map(xt=>({id:xt.id,...xt.data()})))})):(fe({displayName:"",email:"",address:"",phone:"",role:"",suspended:!1,password:""}),we([]),oe([]),Oe([])),()=>{ae&&ae(),Le&&Le(),We&&We()}},[K&&K.id]),L.useEffect(()=>{D&&Y({name:D.name||"",image:D.image||"",description:D.description||"",stock:D.stock||"",price:D.price||"",sku:D.sku||"",category:D.category||""})},[D]),L.useEffect(()=>{F&&G({header:F.header||"",preview:F.preview||"",link:F.link||"",linkText:F.linkText||"",image:F.image||"",fullImage:F.fullImage||"",bgColor:F.bgColor||"#f0f8ff"})},[F]),L.useEffect(()=>{if(typeof F<"u"&&F&&G){G({header:F.header||"",preview:F.preview||"",link:F.link||"",linkText:F.linkText||"",image:F.image||"",fullImage:F.fullImage||"",bgColor:F.bgColor||"#f0f8ff",headerColor:F.headerColor||"#0ea5e9",previewColor:F.previewColor||"#475569",linkColor:F.linkColor||F.linkTextColor||"#0ea5e9",linkTextColor:F.linkTextColor||F.linkColor||"#0ea5e9",headerFontSize:F.headerFontSize||16,previewFontSize:F.previewFontSize||13,linkFontSize:F.linkFontSize||13,linkTextFontSize:F.linkTextFontSize||13});try{he(!1)}catch{}}},[F]),L.useEffect(()=>{if(!He.current)return;const ae=Ov.findIndex(We=>We.key===I),Le=Math.floor(ae/eg);pe(Le),He.current.scrollTo({left:Le*He.current.offsetWidth,behavior:"smooth"})},[I]),t?_?u.jsx(A0,{lines:8,className:"my-8"}):u.jsxs("div",{className:"pt-10 pb-28 w-full max-w-4xl mx-auto px-4 min-h-screen flex flex-col",children:[u.jsxs("div",{className:"relative mb-8 flex items-center justify-center",children:[u.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white border border-sky-100 shadow text-sky-500 hover:bg-sky-100 transition absolute left-0 top-1/2 -translate-y-1/2",style:{display:Re>0?"flex":"none"},onClick:()=>pe(ae=>Math.max(0,ae-1)),"aria-label":"Previous tabs",children:u.jsx("span",{className:"text-lg",children:"<"})}),u.jsx("div",{className:"flex gap-2 px-8 w-full justify-center",children:Ov.slice(Re*eg,(Re+1)*eg).map(ae=>u.jsx("button",{className:`min-w-[110px] px-3 py-2 font-semibold tracking-wide text-[13px] rounded-t-lg transition-colors duration-150
                ${I===ae.key?"border-b-2 border-sky-500 text-sky-500 bg-sky-50":"text-zinc-400 bg-white hover:bg-sky-50"}`,onClick:()=>{z(ae.key),_e([])},children:ae.label},ae.key))}),u.jsx("button",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white border border-sky-100 shadow text-sky-500 hover:bg-sky-100 transition absolute right-0 top-1/2 -translate-y-1/2",style:{display:Re<Math.ceil(Ov.length/eg)-1?"flex":"none"},onClick:()=>pe(ae=>Math.min(Math.ceil(Ov.length/eg)-1,ae+1)),"aria-label":"Next tabs",children:u.jsx("span",{className:"text-lg",children:">"})})]}),I==="users"&&u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-[15px] font-semibold tracking-wide text-sky-500",children:"Users"}),u.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{fe({displayName:"",email:"",address:"",phone:"",role:"customer",suspended:!1}),C(!0)},children:"Add User"})]}),u.jsx("div",{className:"space-y-2",children:(P?r:r.slice(0,3)).map(ae=>u.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:re.includes(ae.id),onChange:Le=>_e(We=>Le.target.checked?[...We,ae.id]:We.filter(lt=>lt!==ae.id))}),u.jsxs("div",{className:"flex-1",onClick:Le=>{Le.target.tagName!=="BUTTON"&&j(ae)},children:[u.jsx("div",{className:"font-semibold text-[13px] text-sky-500",children:ae.displayName||ae.email}),u.jsx("div",{className:"text-[12px] text-zinc-500",children:ae.email}),u.jsxs("div",{className:"text-[11px] text-zinc-400",children:["Role: ",ae.role||"customer"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:async Le=>{Le.stopPropagation(),await ri(Qt(ht,"users",ae.id),{role:"suspended"})},children:"Suspend"}),u.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async Le=>{Le.stopPropagation(),await Tl(Qt(ht,"users",ae.id))},children:"Delete"})]})]},ae.id))}),re.length>0&&u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-[12px] font-medium",onClick:async()=>{for(const ae of re)await Tl(Qt(ht,"users",ae));_e([])},children:"Delete Selected"}),u.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium",onClick:async()=>{for(const ae of re)await ri(Qt(ht,"users",ae),{role:"suspended"});_e([])},children:"Suspend Selected"})]}),r.length>3&&!P&&u.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>A(!0),children:"See more"}),r.length>3&&P&&u.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>A(!1),children:"See less"})]}),I==="products"&&u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"text-xl font-semibold mb-2",children:"Products"}),u.jsx("div",{className:"space-y-2",children:(V?i:i.slice(0,3)).map(ae=>u.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",onClick:Le=>{Le.target.tagName!=="BUTTON"&&R(ae)},children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold",children:ae.name}),u.jsx("div",{className:"text-sm text-zinc-500",children:ae.category}),u.jsxs("div",{className:"text-xs text-zinc-400",children:["Vendor: ",ae.vendorId]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:async Le=>{Le.stopPropagation(),await ri(Qt(ht,"products",ae.id),{approved:!0}),s(i.map(We=>We.id===ae.id?{...We,approved:!0}:We))},children:"Approve"}),u.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async Le=>{Le.stopPropagation(),await Tl(Qt(ht,"products",ae.id)),s(i.filter(We=>We.id!==ae.id))},children:"Delete"})]})]},ae.id))}),i.length>3&&!V&&u.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>W(!0),children:"See more"}),i.length>3&&V&&u.jsx("button",{className:"mt-2 px-3 py-1 rounded-full bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:()=>W(!1),children:"See less"})]}),I==="prescriptions"&&u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-xl font-semibold",children:"Prescriptions"}),u.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{},children:"Add Prescription"})]}),u.jsx("div",{className:"space-y-2",children:a.map(ae=>u.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:re.includes(ae.id),onChange:Le=>_e(We=>Le.target.checked?[...We,ae.id]:We.filter(lt=>lt!==ae.id))}),u.jsxs("div",{className:"flex-1",onClick:()=>{},children:[u.jsx("div",{className:"font-bold",children:ae.title||ae.id}),u.jsx("div",{className:"text-xs text-zinc-500",children:ae.createdAt?new Date(ae.createdAt.seconds*1e3).toLocaleString():""}),u.jsxs("div",{className:"text-xs text-zinc-400",children:["Drugs: ",Array.isArray(ae.drugs)?ae.drugs.join(", "):ae.drugs]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async Le=>{Le.stopPropagation(),await Tl(Qt(ht,"prescriptions",ae.id))},children:"Delete"})})]},ae.id))}),re.length>0&&u.jsx("div",{className:"flex gap-2 mt-2",children:u.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const ae of re)await Tl(Qt(ht,"prescriptions",ae));_e([])},children:"Delete Selected"})})]}),I==="orders"&&u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsx("div",{className:"text-xl font-semibold",children:"Orders"})}),u.jsx("div",{className:"space-y-2",children:l.map(ae=>u.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:re.includes(ae.id),onChange:Le=>_e(We=>Le.target.checked?[...We,ae.id]:We.filter(lt=>lt!==ae.id))}),u.jsxs("div",{className:"flex-1",onClick:()=>{},children:[u.jsxs("div",{className:"font-bold",children:["Order #",ae.id]}),u.jsx("div",{className:"text-xs text-zinc-500",children:ae.createdAt?new Date(ae.createdAt.seconds*1e3).toLocaleString():""}),u.jsxs("div",{className:"text-xs text-zinc-400",children:["Products: ",Array.isArray(ae.products)?ae.products.map(Le=>Le.name).join(", "):""]})]}),u.jsx("div",{className:"flex gap-2",children:u.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-700 text-xs",onClick:async Le=>{Le.stopPropagation(),await Tl(Qt(ht,"orders",ae.id))},children:"Delete"})})]},ae.id))}),re.length>0&&u.jsx("div",{className:"flex gap-2 mt-2",children:u.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const ae of re)await Tl(Qt(ht,"orders",ae));_e([])},children:"Delete Selected"})})]}),I==="carts"&&u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"flex items-center justify-between mb-2",children:u.jsx("div",{className:"text-xl font-semibold",children:"Cart Items"})}),u.jsxs("div",{className:"space-y-2",children:[d.flatMap(ae=>Array.isArray(ae.products)?ae.products.map((Le,We)=>({...Le,cartId:ae.id,userId:ae.userId,cartUpdatedAt:ae.updatedAt})):[]).map((ae,Le)=>u.jsxs("div",{className:"border border-sky-100 rounded-lg p-3 flex items-center justify-between bg-white group hover:shadow-md transition",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-bold text-sm",children:ae.name||"Unnamed Product"}),u.jsxs("div",{className:"text-xs text-zinc-500",children:["Quantity: ",ae.quantity||1," | Cart: ",ae.cartId?.slice(-8)||"Unknown"," | User: ",ae.userId?.slice(-8)||"Unknown"]}),u.jsx("div",{className:"text-xs text-zinc-400",children:ae.cartUpdatedAt?new Date(ae.cartUpdatedAt.seconds*1e3).toLocaleString():""})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs("span",{className:"px-2 py-1 rounded bg-sky-100 text-sky-700 text-xs",children:["$",(ae.price||0)*(ae.quantity||1)]})})]},`${ae.cartId}-${Le}`)),d.flatMap(ae=>Array.isArray(ae.products)?ae.products:[]).length===0&&u.jsx("div",{className:"text-center text-zinc-500 py-8",children:"No items in any carts"})]})]}),I==="analytics"&&u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"text-xl font-semibold mb-4",children:"Analytics"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-6",children:[u.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:r.length}),u.jsx("div",{className:"text-xs text-zinc-600",children:"Users"})]}),u.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:i.length}),u.jsx("div",{className:"text-xs text-zinc-600",children:"Products"})]}),u.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:a.length}),u.jsx("div",{className:"text-xs text-zinc-600",children:"Prescriptions"})]}),u.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:l.length}),u.jsx("div",{className:"text-xs text-zinc-600",children:"Orders"})]}),u.jsxs("div",{className:"bg-yellow-100 rounded p-4 text-center",children:[u.jsx("div",{className:"text-2xl font-bold",children:d.reduce((ae,Le)=>ae+(Array.isArray(Le.products)?Le.products.reduce((We,lt)=>We+(lt.quantity||1),0):0),0)}),u.jsx("div",{className:"text-xs text-zinc-600",children:"Cart Items"})]})]}),u.jsx("div",{className:"mt-4 text-zinc-500 text-xs",children:"Charts and advanced analytics coming soon."})]}),I==="moderation"&&u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"text-xl font-semibold mb-4",children:"Moderation"}),u.jsx("div",{className:"text-zinc-500 mb-4",children:"No flagged items yet. Moderation features coming soon."}),re.length>0&&u.jsx("div",{className:"flex gap-2 mt-2",children:u.jsx("button",{className:"px-3 py-1 rounded bg-red-600 text-white text-xs",onClick:async()=>{for(const ae of re);_e([])},children:"Delete Selected"})})]}),I==="verification"&&u.jsx("div",{className:"mb-8",children:u.jsx(vve,{items:y,onUpdateStatus:je,onAssign:Ke,onAddAuditEntry:Qe})}),I==="export"&&u.jsxs("div",{className:"mb-8",children:[u.jsx("div",{className:"text-xl font-semibold mb-4",children:"Export Data"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(r,"users"),children:"Export Users TSV"}),u.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(i,"products"),children:"Export Products TSV"}),u.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(a,"prescriptions"),children:"Export Prescriptions TSV"}),u.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(l,"orders"),children:"Export Orders TSV"}),u.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium",onClick:()=>exportTSV(d,"carts"),children:"Export Carts TSV"})]})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:async()=>{await e(),window.location.href="/auth/landing"},className:"rounded-full border border-red-300 text-red-600 px-3 py-1 inline-flex text-[12px] items-center gap-2",children:"Log Out"})}),(K||T)&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full border border-sky-100",children:[u.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:T?"Add User":"Edit User"}),Ye&&u.jsx("div",{className:"text-red-500 text-xs mb-2",children:Ye}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ve.displayName,onChange:ae=>fe(Le=>({...Le,displayName:ae.target.value})),placeholder:"Name"}),u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ve.email,onChange:ae=>fe(Le=>({...Le,email:ae.target.value})),placeholder:"Email"}),T&&u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",type:"password",value:ve.password,onChange:ae=>fe(Le=>({...Le,password:ae.target.value})),placeholder:"Password"}),u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ve.address,onChange:ae=>fe(Le=>({...Le,address:ae.target.value})),placeholder:"Address"}),u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ve.phone,onChange:ae=>fe(Le=>({...Le,phone:ae.target.value})),placeholder:"Phone Number"}),u.jsxs("select",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ve.role,onChange:ae=>fe(Le=>({...Le,role:ae.target.value})),children:[u.jsx("option",{value:"customer",children:"Customer"}),u.jsx("option",{value:"pharmacy",children:"Pharmacy"}),u.jsx("option",{value:"superuser",children:"Superuser"}),u.jsx("option",{value:"suspended",children:"Suspended"})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{if(ze(""),T){const ae=AL();try{const Le=await gL(ae,ve.email,ve.password),We={...ve};delete We.password;const lt=await md(()=>Promise.resolve().then(()=>Hj),void 0).then(xt=>xt.addDoc(tr(ht,"users"),{...We,uid:Le.user.uid}));n([...r,{id:lt.id,...We,uid:Le.user.uid}]),C(!1)}catch(Le){ze(Le.message||"Failed to create user. Check email, password, and permissions.")}}else try{await ri(Qt(ht,"users",K.id),{displayName:ve.displayName,email:ve.email,address:ve.address,phone:ve.phone,role:ve.role}),n(r.map(ae=>ae.id===K.id?{...ae,...ve}:ae)),j(null)}catch(ae){ze(ae.message||"Failed to update user.")}},children:T?"Add":"Save"}),!T&&(ve.role==="suspended"?u.jsx("button",{className:"px-4 py-2 rounded bg-green-500 text-white font-medium text-[13px] shadow hover:bg-green-600",onClick:async()=>{await ri(Qt(ht,"users",K.id),{role:"customer"}),n(r.map(ae=>ae.id===K.id?{...ae,role:"customer"}:ae)),j(null)},children:"Lift Suspension"}):u.jsx("button",{className:"px-4 py-2 rounded bg-red-500 text-white font-medium text-[13px] shadow hover:bg-red-600",onClick:async()=>{await ri(Qt(ht,"users",K.id),{role:"suspended"}),n(r.map(ae=>ae.id===K.id?{...ae,role:"suspended"}:ae)),j(null)},children:"Suspend"})),u.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>{j(null),C(!1),ze("")},children:"Cancel"})]})]})]})}),D&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl max-w-md w-full border border-sky-100",children:[u.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:"Edit Product"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:se.name,onChange:ae=>Y(Le=>({...Le,name:ae.target.value})),placeholder:"Product Name"}),u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:se.sku,onChange:ae=>Y(Le=>({...Le,sku:ae.target.value})),placeholder:"SKU"}),u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:se.price,onChange:ae=>Y(Le=>({...Le,price:ae.target.value})),placeholder:"Price"}),u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:se.stock,onChange:ae=>Y(Le=>({...Le,stock:ae.target.value})),placeholder:"Stock"}),u.jsx("textarea",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:se.description,onChange:ae=>Y(Le=>({...Le,description:ae.target.value})),placeholder:"Description",rows:"2"}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{await ri(Qt(ht,"products",D.id),{name:se.name,sku:se.sku,price:se.price,stock:se.stock,description:se.description}),s(i.map(ae=>ae.id===D.id?{...ae,...se}:ae)),R(null)},children:"Save"}),u.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>R(null),children:"Cancel"})]})]})]})}),I==="infoCards"&&u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("div",{className:"text-xl font-semibold text-sky-500",children:"Info Cards"}),u.jsx("button",{className:"px-3 py-1 rounded bg-sky-500 text-white text-[12px] font-medium shadow hover:bg-sky-600",onClick:()=>{try{B(null)}catch{}try{he(!0)}catch{}try{G({header:"",preview:"",link:"",linkText:"",image:"",fullImage:"",bgColor:"#f0f8ff",headerColor:"#0ea5e9",previewColor:"#475569",linkColor:"#0ea5e9",linkTextColor:"#0ea5e9",headerFontSize:16,previewFontSize:13,linkFontSize:13,linkTextFontSize:13})}catch{}},children:"Add Info Card"})]}),u.jsx("div",{className:"space-y-4",children:g.map(ae=>u.jsxs("div",{className:"border border-sky-100 rounded-lg p-4 flex items-center justify-between group hover:shadow-md transition cursor-pointer",style:{background:ae.bgColor||"#ffffff"},children:[u.jsxs("div",{className:"flex-1",onClick:()=>{B(ae),G({header:ae.header||"",preview:ae.preview||"",link:ae.link||"",linkText:ae.linkText||"",image:ae.image||"",fullImage:ae.fullImage||"",bgColor:ae.bgColor||"#f0f8ff",headerColor:ae.headerColor||"#0ea5e9",previewColor:ae.previewColor||"#475569",linkColor:ae.linkColor||ae.linkTextColor||"#0ea5e9",linkTextColor:ae.linkTextColor||ae.linkColor||"#0ea5e9",headerFontSize:ae.headerFontSize||16,previewFontSize:ae.previewFontSize||13,linkFontSize:ae.linkFontSize||13,linkTextFontSize:ae.linkTextFontSize||13})},children:[u.jsx("div",{style:{color:ae.headerColor||"#0ea5e9",fontSize:(ae.headerFontSize||16)+"px",fontWeight:600},children:ae.header}),u.jsx("div",{style:{color:ae.previewColor||"#475569",fontSize:(ae.previewFontSize||13)+"px"},className:"mt-1",children:ae.preview}),ae.link&&ae.linkText&&u.jsx("a",{href:ae.link,style:{color:ae.linkColor||"#0ea5e9",fontSize:(ae.linkFontSize||13)+"px"},className:"underline",target:"_blank",rel:"noopener noreferrer",children:ae.linkText}),ae.image&&u.jsx("img",{src:ae.image,alt:"Info",className:"mt-2 rounded-lg",style:{maxWidth:"120px",maxHeight:"60px"}}),ae.fullImage&&u.jsx("img",{src:ae.fullImage,alt:"Full",className:"mt-2 rounded-lg",style:{maxWidth:"180px",maxHeight:"100px"}}),u.jsxs("div",{className:"text-[11px] text-zinc-400 mt-2",children:["BG: ",ae.bgColor]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{className:"px-2 py-1 rounded bg-sky-100 text-sky-500 text-[12px] font-medium",onClick:Le=>{Le.stopPropagation(),B(ae),he(!1),G({header:ae.header||"",preview:ae.preview||"",link:ae.link||"",linkText:ae.linkText||"",image:ae.image||"",fullImage:ae.fullImage||"",bgColor:ae.bgColor||"#f0f8ff",headerColor:ae.headerColor||"#0ea5e9",previewColor:ae.previewColor||"#475569",linkColor:ae.linkColor||ae.linkTextColor||"#0ea5e9",linkTextColor:ae.linkTextColor||ae.linkColor||"#0ea5e9",headerFontSize:ae.headerFontSize||16,previewFontSize:ae.previewFontSize||13,linkFontSize:ae.linkFontSize||13,linkTextFontSize:ae.linkTextFontSize||13})},children:"Edit"}),u.jsx("button",{className:"px-2 py-1 rounded bg-red-100 text-red-600 text-[12px] font-medium",onClick:async Le=>{Le.stopPropagation(),await Tl(Qt(ht,"infoCards",ae.id))},children:"Delete"})]})]},ae.id))}),(F||ee)&&u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e3,background:"rgba(0,0,0,0.3)",display:"flex",alignItems:"center",justifyContent:"center"},children:u.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-2xl max-w-md w-full border border-sky-100",children:[u.jsx("div",{className:"text-[16px] font-semibold tracking-wide text-sky-500 mb-4",children:ee?"Add Info Card":"Edit Info Card"}),ot&&u.jsx("div",{className:"text-red-500 text-xs mb-2",children:ot}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ie.header,onChange:ae=>G(Le=>({...Le,header:ae.target.value})),placeholder:"Header"}),u.jsx("input",{className:"w-full border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500 placeholder:text-zinc-400",value:ie.preview,onChange:ae=>G(Le=>({...Le,preview:ae.target.value})),placeholder:"Preview text"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"flex-1 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ie.link,onChange:ae=>G(Le=>({...Le,link:ae.target.value})),placeholder:"Link (optional)"}),u.jsx("input",{className:"w-36 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ie.linkText,onChange:ae=>G(Le=>({...Le,linkText:ae.target.value})),placeholder:"Link Text"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{className:"flex-1 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ie.image,onChange:ae=>G(Le=>({...Le,image:ae.target.value})),placeholder:"Image URL (right side, optional)"}),u.jsx("input",{className:"w-36 border-b border-sky-100 text-[13px] py-2 focus:outline-none focus:border-sky-500",value:ie.fullImage,onChange:ae=>G(Le=>({...Le,fullImage:ae.target.value})),placeholder:"Full Image URL"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("label",{className:"text-xs text-zinc-500",children:["Header Color",u.jsx("input",{type:"color",value:ie.headerColor||"#0ea5e9",onChange:ae=>G(Le=>({...Le,headerColor:ae.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),u.jsxs("label",{className:"text-xs text-zinc-500",children:["Header Size",u.jsx("input",{type:"range",min:"12",max:"28",value:ie.headerFontSize||16,onChange:ae=>G(Le=>({...Le,headerFontSize:parseInt(ae.target.value)})),className:"w-full mt-1"})]}),u.jsxs("label",{className:"text-xs text-zinc-500",children:["Preview Color",u.jsx("input",{type:"color",value:ie.previewColor||"#475569",onChange:ae=>G(Le=>({...Le,previewColor:ae.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),u.jsxs("label",{className:"text-xs text-zinc-500",children:["Preview Size",u.jsx("input",{type:"range",min:"10",max:"22",value:ie.previewFontSize||13,onChange:ae=>G(Le=>({...Le,previewFontSize:parseInt(ae.target.value)})),className:"w-full mt-1"})]}),u.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Color",u.jsx("input",{type:"color",value:ie.linkColor||"#0ea5e9",onChange:ae=>G(Le=>({...Le,linkColor:ae.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),u.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Size",u.jsx("input",{type:"range",min:"10",max:"22",value:ie.linkFontSize||13,onChange:ae=>G(Le=>({...Le,linkFontSize:parseInt(ae.target.value)})),className:"w-full mt-1"})]}),u.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Text Color",u.jsx("input",{type:"color",value:ie.linkTextColor||"#0ea5e9",onChange:ae=>G(Le=>({...Le,linkTextColor:ae.target.value})),className:"w-full h-8 mt-1 p-0 border-0"})]}),u.jsxs("label",{className:"text-xs text-zinc-500",children:["Link Text Size",u.jsx("input",{type:"range",min:"10",max:"22",value:ie.linkTextFontSize||13,onChange:ae=>G(Le=>({...Le,linkTextFontSize:parseInt(ae.target.value)})),className:"w-full mt-1"})]})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("label",{className:"text-xs text-zinc-500",children:"Background Color"}),u.jsx("input",{type:"color",value:ie.bgColor||"#f0f8ff",onChange:ae=>G(Le=>({...Le,bgColor:ae.target.value})),className:"w-full h-10 mt-1 p-0 border-0"})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:"Live preview"}),u.jsxs("div",{style:{background:ie.bgColor||"#f8fafc",padding:12,borderRadius:10,display:"flex",gap:12,alignItems:"center"},children:[u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{color:ie.headerColor||"#0ea5e9",fontSize:(ie.headerFontSize||16)+"px",fontWeight:700},children:ie.header||"Header"}),u.jsx("div",{style:{color:ie.previewColor||"#475569",fontSize:(ie.previewFontSize||13)+"px",marginTop:4},children:ie.preview||"Preview text goes here"}),ie.linkText&&u.jsx("div",{style:{marginTop:6},children:u.jsx("a",{style:{color:ie.linkTextColor||ie.linkColor||"#0ea5e9",fontSize:(ie.linkTextFontSize||13)+"px"},href:ie.link||"#",children:ie.linkText})})]}),ie.image&&u.jsx("img",{src:ie.image,alt:"Preview",style:{width:80,height:60,objectFit:"cover",borderRadius:6}})]})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx("button",{className:"px-4 py-2 rounded bg-sky-500 text-white font-medium text-[13px] shadow hover:bg-sky-600",onClick:async()=>{if(Ve(""),ee)try{await Gf(tr(ht,"infoCards"),ie),he(!1)}catch(ae){Ve(ae.message||"Failed to add info card.")}else if(F)try{await ri(Qt(ht,"infoCards",F.id),ie),B(null)}catch(ae){Ve(ae.message||"Failed to save info card.")}},children:ee?"Add":"Save"}),u.jsx("button",{className:"px-4 py-2 rounded bg-zinc-100 text-zinc-700 font-medium text-[13px] shadow hover:bg-zinc-200",onClick:()=>{B(null),he(!1),Ve("")},children:"Cancel"})]})]})]})})]})]}):u.jsx(A0,{lines:4,className:"my-8"})}function NA({className:t="h-4 w-4",...e}){return u.jsxs("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,...e,children:[u.jsx("path",{d:"M3 9V1M17 17V14M3 17V13M17 10V1M10 4V1M10 17V8",stroke:"currentColor",strokeLinecap:"round"}),u.jsx("path",{d:"M3 13C4.10457 13 5 12.1046 5 11C5 9.89543 4.10457 9 3 9C1.89543 9 1 9.89543 1 11C1 12.1046 1.89543 13 3 13Z",stroke:"currentColor",strokeLinecap:"round"}),u.jsx("path",{d:"M10 8C11.1046 8 12 7.10457 12 6C12 4.89543 11.1046 4 10 4C8.89543 4 8 4.89543 8 6C8 7.10457 8.89543 8 10 8Z",stroke:"currentColor",strokeLinecap:"round"}),u.jsx("path",{d:"M17 14C18.1046 14 19 13.1046 19 12C19 10.8954 18.1046 10 17 10C15.8954 10 15 10.8954 15 12C15 13.1046 15.8954 14 17 14Z",stroke:"currentColor",strokeLinecap:"round"})]})}function wve(){const t=oi(),{profile:e}=In(),{t:r}=cs(),{userCoords:n,location:i,isLoading:s}=K0(),[a,o]=L.useState([]),[l,c]=L.useState(!0),[d,p]=L.useState(null),[g,m]=L.useState([]),[y,w]=L.useState(""),[_,S]=L.useState(!1),[P,A]=L.useState("all"),[V,W]=L.useState(!1),[K,j]=L.useState([]),[T,C]=L.useState(-1);L.useEffect(()=>{e&&e.role!=="customer"&&t("/")},[e,t]),L.useEffect(()=>{async function G(){try{const I=await zy();o(I||[])}catch(I){console.error("Error loading pharmacies:",I)}finally{c(!1)}}G()},[]),L.useEffect(()=>{if(!n||a.length===0){m(a);return}let G=a.map(I=>{const z=Rk(I,n,"driving"),X=D(I),J=X?Q2(n.latitude,n.longitude,X.latitude,X.longitude):1/0;return{...I,distance:J,eta:z,coords:X}}).filter(I=>I.coords);if(P!=="all"){const I=parseInt(P);G=G.filter(z=>z.distance<=I)}if(y.trim()){const I=y.toLowerCase();G=G.filter(z=>z.name?.toLowerCase().includes(I)||z.address?.toLowerCase().includes(I))}G.sort((I,z)=>I.distance-z.distance),m(G),G.length>0&&(!d||!G.find(I=>I.id===d.id))&&p(G[0])},[n,a,d,y,P]),L.useEffect(()=>{if(!y.trim()||y.length<2){j([]),W(!1);return}const G=y.toLowerCase(),I=a.filter(z=>z.name?.toLowerCase().includes(G)||z.address?.toLowerCase().includes(G)).slice(0,5).map(z=>({id:z.id,name:z.name,address:z.address,type:z.name?.toLowerCase().includes(G)?"name":"address"}));j(I),W(I.length>0),C(-1)},[y,a]);function D(G){return G?G.coordinates?.latitude&&G.coordinates?.longitude?{latitude:Number(G.coordinates.latitude),longitude:Number(G.coordinates.longitude)}:G.latitude&&G.longitude?{latitude:Number(G.latitude),longitude:Number(G.longitude)}:G.lat&&G.lng?{latitude:Number(G.lat),longitude:Number(G.lng)}:null:null}const R=G=>{G.phone&&(window.location.href=`tel:${G.phone}`)},F=G=>{const I=D(G);if(I&&n){const z=`https://www.google.com/maps/dir/${n.latitude},${n.longitude}/${I.latitude},${I.longitude}`;window.open(z,"_blank")}},B=G=>{p(G)},ee=G=>{(G.vendorId||G.id)&&t(`/vendor/${G.vendorId||G.id}`)},he=G=>{w(G),C(-1)},ve=G=>{w(G.name),W(!1),C(-1);const I=a.find(z=>z.id===G.id);I&&(p(I),setTimeout(()=>{const z=document.getElementById(`pharmacy-${I.id}`);z&&z.scrollIntoView({behavior:"smooth",block:"center"})},100))},fe=()=>{K.length>0&&y.length>=2&&W(!0)},se=()=>{setTimeout(()=>{W(!1),C(-1)},200)},Y=G=>{if(!(!V||K.length===0))switch(G.key){case"ArrowDown":G.preventDefault(),C(I=>I<K.length-1?I+1:0);break;case"ArrowUp":G.preventDefault(),C(I=>I>0?I-1:K.length-1);break;case"Enter":G.preventDefault(),T>=0&&T<K.length&&ve(K[T]);break;case"Escape":W(!1),C(-1);break}};if(l||s)return u.jsx("div",{className:"min-h-screen bg-gray-50 w-full px-0 py-6",children:u.jsxs("div",{className:"w-full md:max-w-md md:mx-auto",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Au,{className:"h-5 w-5"})}),u.jsx("h1",{className:"text-[25px] font-light text-gray-900 dark:text-white",children:r("nearby_pharmacies","Nearby Pharmacies")})]}),u.jsx(A0,{lines:8,className:"space-y-4 justify-center"})]})});const ie=()=>u.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:u.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[u.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Au,{className:"h-5 w-5"})}),u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("div",{className:"text-[18px] font-light tracking-tight",children:r("nearby_pharmacies","Nearby Pharmacies")}),u.jsx("div",{className:"text-[12px] text-gray-400",children:n?r("pharmacies_found_near_you","{count} found near you").replace("{count}",g.length):r("loading_location","Loading location...")})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("button",{onClick:()=>S(!_),className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":r("filter_pharmacies","Filter pharmacies"),children:u.jsx(NA,{className:"w-5 h-5 text-sky-600"})})})]})});return u.jsxs(u.Fragment,{children:[Us.createPortal(u.jsx(ie,{}),document.body),u.jsxs("div",{className:"min-h-screen bg-gray dark:bg-gray-900 pt-24 md:pt-0",children:[u.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-50 dark:border-gray-700 mx-auto px-4 py-4 sticky top-0 z-50 hidden md:block",children:u.jsx("div",{className:"max-w-md mx-auto",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:u.jsx(Au,{className:"h-5 w-5 text-gray-900 dark:text-white"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-[20px] font-light tracking-tight text-gray-900 dark:text-white",children:r("nearby_pharmacies","Nearby Pharmacies")}),u.jsx("p",{className:"text-[12px] text-gray-400 dark:text-gray-500",children:n?r("pharmacies_found_near_you_detailed","{count} pharmacies found near you").replace("{count}",g.length):r("loading_location","Loading location...")})]})]})})}),u.jsxs("div",{className:"w-full px-0 py-6 md:max-w-md md:mx-auto md:px-4",children:[u.jsx("div",{className:"bg-gray dark:bg-transparent rounded-lg p-4 mb-4 border border-sky-300 dark:border-gray-600 dark:border-gray-600",children:u.jsx("div",{className:"flex items-center gap-3",children:n?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r("your_location","Your Location")}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:i})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-pulse"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s?r("getting_your_location","Getting your location..."):r("location_access_needed","Location access needed")}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:s?r("allow_location_access_etas","Please allow location access for accurate ETAs"):r("enable_location_services","Enable location services to see nearby pharmacies")})]})]})})}),u.jsxs("div",{className:"dark:bg-transparent rounded-lg p-4 border mb-4 border-sky-300 dark:border-gray-600 dark:border-gray-600",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("div",{className:"flex-1 relative bg-transparent",children:[u.jsx(dh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:r("search_pharmacies","Search pharmacies..."),value:y,onChange:G=>he(G.target.value),onFocus:fe,onBlur:se,onKeyDown:Y,className:"w-full pl-10 pr-4 py-2 border-b bg-transparent border-gray-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",autoComplete:"off"}),V&&y.length>=2&&u.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 dark:border-gray-600 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto animate-fade-in",children:[K.length>0?K.map((G,I)=>u.jsx("button",{onClick:()=>ve(G),className:`w-full text-left px-4 py-3 focus:outline-none transition-colors duration-200 border-b border-gray-100 dark:border-gray-700 last:border-b-0 animate-fadeInUp ${I===T?"bg-blue-100 dark:bg-blue-900/30 border-blue-200 dark:border-gray-600 dark:border-gray-600":"hover:bg-blue-50 dark:hover:bg-blue-900/20 focus:bg-blue-50 dark:focus:bg-blue-900/20"}`,style:{animationDelay:`${I*.05}s`},children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-colors duration-200 ${I===T?"bg-blue-200 dark:bg-blue-800":"bg-blue-100 dark:bg-blue-900"}`,children:u.jsx(cc,{className:`h-4 w-4 ${I===T?"text-blue-700 dark:text-blue-300":"text-blue-600 dark:text-blue-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:G.type==="name"?u.jsx("span",{children:G.name.split(new RegExp(`(${y})`,"gi")).map((z,X)=>z.toLowerCase()===y.toLowerCase()?u.jsx("span",{className:"bg-sky-200 px-1 rounded",children:z},X):z)}):G.name}),u.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:G.type==="address"?u.jsx("span",{children:G.address.split(new RegExp(`(${y})`,"gi")).map((z,X)=>z.toLowerCase()===y.toLowerCase()?u.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:z},X):z)}):G.address})]}),u.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium flex-shrink-0",children:G.type==="name"?r("name","Name"):r("address","Address")})]})},G.id)):u.jsxs("div",{className:"px-4 py-6 text-center text-gray-500 dark:text-gray-400 animate-fade-in",children:[u.jsx(cc,{className:"h-8 w-8 text-gray-300 dark:text-gray-600 mx-auto mb-2"}),u.jsx("p",{className:"text-[12px]",children:r("no_pharmacies_found","No pharmacies found")}),u.jsx("p",{className:"text-[10px] mt-1",children:r("try_different_search","Try a different search term")})]}),K.length>0&&u.jsx("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-[12px] text-gray-400 dark:text-gray-500 text-center",children:r("keyboard_navigation_hint","Use ↑↓ arrow keys to navigate, Enter to select, Esc to close")})]})]}),u.jsx("button",{onClick:()=>S(!_),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${_?"bg-blue-500 text-white border-blue-500 dark:border-gray-600":"text-gray-700 dark:text-gray-300"}`,children:u.jsx(NA,{className:"h-4 w-4"})})]}),_&&u.jsxs("div",{className:" pt-3",children:[u.jsx("p",{className:"text-[14px] font-medium text-gray-700 dark:text-gray-300 mb-2",children:r("distance","Distance")}),u.jsx("div",{className:"flex gap-2 flex-wrap",children:[{value:"all",label:"All"},{value:"5",label:"Within 5km"},{value:"10",label:"Within 10km"},{value:"20",label:"Within 20km"}].map(G=>u.jsx("button",{onClick:()=>A(G.value),className:`px-3 py-1 rounded-full text-[12px] transition-colors ${P===G.value?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:G.label},G.value))})]})]}),u.jsx("div",{className:"bg-white dark:bg-transparent rounded-lg mb-4 shadow-sm overflow-hidden",children:u.jsxs("div",{className:"h-80 bg-gradient-to-br from-green-50 via-blue-50 to-indigo-100 relative",children:[u.jsx("div",{className:"absolute inset-0 opacity-10",children:u.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("defs",{children:u.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:u.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"#6B7280",strokeWidth:"1"})})}),u.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),u.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 400 320",children:[u.jsx("path",{d:"M0 160 Q200 120 400 160",stroke:"#E5E7EB",strokeWidth:"8",fill:"none"}),u.jsx("path",{d:"M200 0 Q200 160 200 320",stroke:"#E5E7EB",strokeWidth:"6",fill:"none"}),u.jsx("path",{d:"M0 80 Q100 60 200 80",stroke:"#F3F4F6",strokeWidth:"4",fill:"none"}),u.jsx("path",{d:"M200 240 Q300 220 400 240",stroke:"#F3F4F6",strokeWidth:"4",fill:"none"})]}),n&&u.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-4 h-4 bg-black rounded-full border-2 border-white shadow-lg animate-pulse"}),u.jsx("div",{className:"absolute -inset-2 bg-blue-400 rounded-full opacity-30 animate-ping"})]}),u.jsx("span",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-xs bg-white px-2 py-1 rounded shadow-md whitespace-nowrap",children:r("you_are_here","You are here")})]}),g.slice(0,8).map((G,I)=>{const z=I*45*(Math.PI/180),X=80+I*10,J=50+Math.cos(z)*X/4,ce=50+Math.sin(z)*X/6;return u.jsx("div",{className:`absolute transform -translate-x-1/2 -translate-y-full cursor-pointer transition-all duration-200 hover:scale-125 z-20 ${d?.id===G.id?"scale-125 z-30":""}`,style:{left:`${Math.max(10,Math.min(90,J))}%`,top:`${Math.max(15,Math.min(85,ce))}%`},onClick:()=>B(G),children:u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-lg border-2 border-white transition-colors ${d?.id===G.id?"bg-red-500 shadow-red-200":"bg-blue-500 shadow-blue-200"}`,children:I+1}),u.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none",children:u.jsxs("div",{className:"bg-gray-900 text-white text-xs rounded-lg py-2 px-3 whitespace-nowrap shadow-lg",children:[u.jsx(zc,{name:G.name,isVerified:G.isVerified,className:"font-medium",iconClassName:"h-3.5 w-3.5 text-emerald-400"}),u.jsxs("div",{className:"text-gray-300",children:[G.eta?.formatted," • ",G.distance?.toFixed(1),"km"]}),u.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})})]})},G.id||I)}),u.jsx("div",{className:"absolute top-4 left-4 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg p-3 shadow-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(cc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r("pharmacy_locations","Pharmacy Locations")}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:r("pharmacies_sorted_by_distance","{count} pharmacies • Sorted by distance").replace("{count}",g.length)})]})]})}),u.jsx("div",{className:"absolute bottom-4 right-4 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg p-3 shadow-sm",children:u.jsxs("div",{className:"space-y-2 text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-black rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("your_location","Your location")})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("pharmacy","Pharmacy")})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full border border-white dark:border-gray-300 dark:border-gray-600"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r("selected","Selected")})]})]})})]})}),d&&u.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-3 mb-4 shadow-sm border border-blue-200 dark:border-gray-600 dark:border-gray-600",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold shadow-lg flex-shrink-0",children:g.findIndex(G=>G.id===d.id)+1}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx(zc,{name:d.name,isVerified:d.isVerified,className:"font-semibold text-gray-900 dark:text-white text-sm truncate",iconClassName:"h-4 w-4 text-emerald-500"}),u.jsx("p",{className:"text-xs text-gray-600 mb-2 truncate",children:d.address}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 flex-wrap",children:[u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 rounded-full px-2 py-1",children:[u.jsx(qy,{className:"h-3 w-3 text-blue-500 flex-shrink-0"}),u.jsx("span",{className:"font-normal whitespace-nowrap",style:{fontSize:"10px !important"},children:d.eta?.formatted||r("calculating","Calculating...")})]}),u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 rounded-full px-2 py-1",children:[u.jsx(cc,{className:"h-3 w-3 text-green-500 flex-shrink-0"}),u.jsxs("span",{className:"font-normal whitespace-nowrap",style:{fontSize:"10px !important"},children:[d.distance?.toFixed(1)||"0"," km"]})]}),d.phone&&u.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-700 rounded-full px-2 py-1",children:[u.jsx(D1,{className:"h-3 w-3 text-purple-500 flex-shrink-0"}),u.jsx("span",{className:"font-normal truncate max-w-[80px]",style:{fontSize:"10px !important"},children:d.phone})]})]})]})]}),u.jsx("span",{className:"bg-blue-600 text-white text-xs px-1 py-1 rounded-full font-normal flex-shrink-0 ml-2",children:r("closest","Closest")})]}),u.jsxs("div",{className:"flex gap-1.5",children:[u.jsxs("button",{onClick:()=>F(d),className:"flex-1 bg-blue-600 text-white py-1 px-2 text-xs rounded-full font-normal hover:bg-blue-700 transition-all duration-200 flex items-center justify-center gap-1 btn-interactive",children:[u.jsx(Hy,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden sm:inline",style:{fontSize:"10px !important"},children:r("get_directions","Get Directions")}),u.jsx("span",{className:"sm:hidden",style:{fontSize:"10px !important"},children:r("get_directions","Get Directions")})]}),d.phone&&u.jsxs("button",{onClick:()=>R(d),className:"bg-green-600 text-white py-2 px-3 rounded-full font-medium hover:bg-green-700 transition-all duration-200 flex items-center justify-center gap-1 btn-interactive",title:r("call_pharmacy","Call pharmacy"),children:[u.jsx(D1,{className:"h-3 w-3"}),u.jsx("span",{className:"hidden sm:inline",style:{fontSize:"10px !important"},children:r("call","Call")})]}),u.jsxs("button",{onClick:()=>ee(d),className:"flex-1 bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 py-2 px-3 rounded-full font-normal text-xs hover:bg-blue-50 dark:hover:bg-gray-600 transition-all duration-200 border border-blue-200 dark:border-gray-600 btn-interactive",children:[u.jsx("span",{className:"hidden sm:inline",style:{fontSize:"10px !important"},children:r("view_products","View Products")}),u.jsx("span",{className:"sm:hidden",style:{fontSize:"10px !important"},children:r("view_products","View Products")})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-[18px] font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:y?u.jsxs(u.Fragment,{children:[u.jsx("span",{children:r("search_results","Search Results")}),u.jsxs("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded-full animate-pulse-slow",children:['"',y,'"']})]}):r("all_pharmacies","All Pharmacies")}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r("pharmacies_found_count","{count} found").replace("{count}",g.length)})]}),g.length===0?u.jsxs("div",{className:"bg-white-10 rounded-lg p-8 text-center",children:[u.jsx(cc,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:y?r("no_pharmacies_found_search","No pharmacies found matching your search"):r("no_pharmacies_found_general","No pharmacies found")}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:y?r("try_adjusting_search","Try adjusting your search terms"):r("try_adjusting_location","Try adjusting your location or check back later")}),y&&u.jsx("button",{onClick:()=>w(""),className:"mt-3 text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 text-sm font-medium hover:scale-105 active:scale-95 transition-all duration-200 px-3 py-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",children:r("clear_search","Clear search")})]}):g.map((G,I)=>u.jsx("div",{id:`pharmacy-${G.id}`,className:`bg-white dark:bg-transparent rounded-lg p-3 border border-gray-200 dark:border-gray-600 dark:border-gray-600 cursor-pointer transition-all duration-200 card-interactive animate-fadeInUp ${d?.id===G.id?"border-sky-600 dark:border-sky-600 bg-blue-50 dark:bg-blue-900/30 scale-102":"border-gray-200 dark:border-gray-600 dark:border-gray-600 hover:border-gray-300 dark:border-gray-600 dark:hover:border-gray-500 hover:shadow-md"}`,style:{animationDelay:`${I*.1}s`},onClick:()=>B(G),children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[u.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-[12px] font-bold shadow-sm flex-shrink-0 ${d?.id===G.id?"bg-blue-500":"bg-gray-400"}`,children:I+1}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(zc,{name:G.name,isVerified:G.isVerified,className:"font-semibold text-gray-900 dark:text-white text-sm truncate",iconClassName:"h-3.5 w-3.5 text-emerald-500"}),I===0&&u.jsx("span",{className:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 text-xs px-2 py-0.5 rounded-full font-normal flex-shrink-0",children:r("closest","Closest")})]}),u.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 truncate",children:G.address}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[u.jsx(qy,{className:"h-3 w-3 flex-shrink-0"}),u.jsx("span",{className:"font-normal whitespace-nowrap",style:{fontSize:"10px !important"},children:G.eta?.formatted||r("calculating","Calculating...")})]}),u.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[u.jsx(cc,{className:"h-3 w-3 flex-shrink-0"}),u.jsxs("span",{className:"font-normal whitespace-nowrap",style:{fontSize:"10px !important"},children:[G.distance?.toFixed(1)||"0"," km"]})]})]})]})]}),u.jsx("button",{onClick:z=>{z.stopPropagation(),F(G)},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors p-1.5 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full flex-shrink-0 ml-2",title:r("get_directions","Get directions"),children:u.jsx(Hy,{className:"h-4 w-4"})})]})},G.id||I))]}),V&&K.length>0&&u.jsx("div",{className:"absolute z-50 w-full max-w-md mx-auto mt-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600",children:u.jsx("div",{className:"flex flex-col divide-y divide-gray-200 dark:divide-gray-600",children:K.map(G=>u.jsxs("button",{onClick:()=>ve(G),className:"flex items-center justify-between w-full px-4 py-2 text-left text-gray-900 dark:text-white hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(cc,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"}),u.jsxs("div",{className:"flex flex-col text-sm",children:[u.jsx("span",{className:"font-medium",children:G.name}),u.jsx("span",{className:"text-gray-500 dark:text-gray-400 truncate",children:G.address})]})]}),u.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:g.findIndex(I=>I.id===G.id)+1})]},G.id))})})]})]})]})}function _ve(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-white dark:bg-gray-900",children:u.jsxs("div",{className:"flex flex-col items-center gap-4 text-gray-500 dark:text-gray-400",children:[u.jsx("img",{src:"/iconLoader.svg",alt:"Loading",className:"h-12 w-12 animate-spin"}),u.jsx("p",{className:"text-sm tracking-wide uppercase",children:"Preparing your experience…"})]})})}const B8=L.createContext({});function U8(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const z8=typeof window<"u",uB=z8?L.useLayoutEffect:L.useEffect,k4=L.createContext(null);function $8(t,e){t.indexOf(e)===-1&&t.push(e)}function q8(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Cd=(t,e,r)=>r>e?e:r<t?t:r;let H8=()=>{};const Nd={},dB=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function fB(t){return typeof t=="object"&&t!==null}const hB=t=>/^0[^.\s]+$/u.test(t);function W8(t){let e;return()=>(e===void 0&&(e=t()),e)}const fc=t=>t,bve=(t,e)=>r=>e(t(r)),fx=(...t)=>t.reduce(bve),k2=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class G8{constructor(){this.subscriptions=[]}add(e){return $8(this.subscriptions,e),()=>q8(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ru=t=>t*1e3,ju=t=>t/1e3;function pB(t,e){return e?t*(1e3/e):0}const mB=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,kve=1e-7,Sve=12;function Eve(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=mB(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>kve&&++o<Sve);return a}function hx(t,e,r,n){if(t===e&&r===n)return fc;const i=s=>Eve(s,0,1,t,r);return s=>s===0||s===1?s:mB(i(s),e,n)}const gB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xB=t=>e=>1-t(1-e),vB=hx(.33,1.53,.69,.99),K8=xB(vB),yB=gB(K8),wB=t=>(t*=2)<1?.5*K8(t):.5*(2-Math.pow(2,-10*(t-1))),Y8=t=>1-Math.sin(Math.acos(t)),_B=xB(Y8),bB=gB(Y8),Cve=hx(.42,0,1,1),Nve=hx(0,0,.58,1),kB=hx(.42,0,.58,1),Tve=t=>Array.isArray(t)&&typeof t[0]!="number",SB=t=>Array.isArray(t)&&typeof t[0]=="number",Ave={linear:fc,easeIn:Cve,easeInOut:kB,easeOut:Nve,circIn:Y8,circInOut:bB,circOut:_B,backIn:K8,backInOut:yB,backOut:vB,anticipate:wB},Ive=t=>typeof t=="string",TA=t=>{if(SB(t)){H8(t.length===4);const[e,r,n,i]=t;return hx(e,r,n,i)}else if(Ive(t))return Ave[t];return t},Mv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Pve(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,p=!1,g=!1)=>{const y=g&&i?r:n;return p&&a.add(d),y.has(d)||y.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const Rve=40;function EB(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=Mv.reduce((A,V)=>(A[V]=Pve(s),A),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:p,preRender:g,render:m,postRender:y}=a,w=()=>{const A=Nd.useManualTiming?i.timestamp:performance.now();r=!1,Nd.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(A-i.timestamp,Rve),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),p.process(i),g.process(i),m.process(i),y.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(w))},_=()=>{r=!0,n=!0,i.isProcessing||t(w)};return{schedule:Mv.reduce((A,V)=>{const W=a[V];return A[V]=(K,j=!1,T=!1)=>(r||_(),W.schedule(K,j,T)),A},{}),cancel:A=>{for(let V=0;V<Mv.length;V++)a[Mv[V]].cancel(A)},state:i,steps:a}}const{schedule:Gi,cancel:th,state:Ya,steps:z3}=EB(typeof requestAnimationFrame<"u"?requestAnimationFrame:fc,!0);let fy;function jve(){fy=void 0}const cl={now:()=>(fy===void 0&&cl.set(Ya.isProcessing||Nd.useManualTiming?Ya.timestamp:performance.now()),fy),set:t=>{fy=t,queueMicrotask(jve)}},CB=t=>e=>typeof e=="string"&&e.startsWith(t),X8=CB("--"),Lve=CB("var(--"),Q8=t=>Lve(t)?Fve.test(t.split("/*")[0].trim()):!1,Fve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},S2={...hm,transform:t=>Cd(0,1,t)},Vv={...hm,default:1},Og=t=>Math.round(t*1e5)/1e5,J8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Dve(t){return t==null}const Ove=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z8=(t,e)=>r=>!!(typeof r=="string"&&Ove.test(r)&&r.startsWith(t)||e&&!Dve(r)&&Object.prototype.hasOwnProperty.call(r,e)),NB=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(J8);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Mve=t=>Cd(0,255,t),$3={...hm,transform:t=>Math.round(Mve(t))},n0={test:Z8("rgb","red"),parse:NB("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+$3.transform(t)+", "+$3.transform(e)+", "+$3.transform(r)+", "+Og(S2.transform(n))+")"};function Vve(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Rb={test:Z8("#"),parse:Vve,transform:n0.transform},px=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vf=px("deg"),Lu=px("%"),Dr=px("px"),Bve=px("vh"),Uve=px("vw"),AA={...Lu,parse:t=>Lu.parse(t)/100,transform:t=>Lu.transform(t*100)},Yp={test:Z8("hsl","hue"),parse:NB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Lu.transform(Og(e))+", "+Lu.transform(Og(r))+", "+Og(S2.transform(n))+")"},ea={test:t=>n0.test(t)||Rb.test(t)||Yp.test(t),parse:t=>n0.test(t)?n0.parse(t):Yp.test(t)?Yp.parse(t):Rb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?n0.transform(t):Yp.transform(t),getAnimatableNone:t=>{const e=ea.parse(t);return e.alpha=0,ea.transform(e)}},zve=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $ve(t){return isNaN(t)&&typeof t=="string"&&(t.match(J8)?.length||0)+(t.match(zve)?.length||0)>0}const TB="number",AB="color",qve="var",Hve="var(",IA="${}",Wve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function E2(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Wve,l=>(ea.test(l)?(n.color.push(s),i.push(AB),r.push(ea.parse(l))):l.startsWith(Hve)?(n.var.push(s),i.push(qve),r.push(l)):(n.number.push(s),i.push(TB),r.push(parseFloat(l))),++s,IA)).split(IA);return{values:r,split:o,indexes:n,types:i}}function IB(t){return E2(t).values}function PB(t){const{split:e,types:r}=E2(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===TB?s+=Og(i[a]):o===AB?s+=ea.transform(i[a]):s+=i[a]}return s}}const Gve=t=>typeof t=="number"?0:ea.test(t)?ea.getAnimatableNone(t):t;function Kve(t){const e=IB(t);return PB(t)(e.map(Gve))}const rh={test:$ve,parse:IB,createTransformer:PB,getAnimatableNone:Kve};function q3(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Yve({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=q3(l,o,t+1/3),s=q3(l,o,t),a=q3(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function x5(t,e){return r=>r>0?e:t}const is=(t,e,r)=>t+(e-t)*r,H3=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Xve=[Rb,n0,Yp],Qve=t=>Xve.find(e=>e.test(t));function PA(t){const e=Qve(t);if(!e)return!1;let r=e.parse(t);return e===Yp&&(r=Yve(r)),r}const RA=(t,e)=>{const r=PA(t),n=PA(e);if(!r||!n)return x5(t,e);const i={...r};return s=>(i.red=H3(r.red,n.red,s),i.green=H3(r.green,n.green,s),i.blue=H3(r.blue,n.blue,s),i.alpha=is(r.alpha,n.alpha,s),n0.transform(i))},jb=new Set(["none","hidden"]);function Jve(t,e){return jb.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Zve(t,e){return r=>is(t,e,r)}function e7(t){return typeof t=="number"?Zve:typeof t=="string"?Q8(t)?x5:ea.test(t)?RA:rye:Array.isArray(t)?RB:typeof t=="object"?ea.test(t)?RA:eye:x5}function RB(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>e7(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function eye(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=e7(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function tye(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const rye=(t,e)=>{const r=rh.createTransformer(e),n=E2(t),i=E2(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?jb.has(t)&&!i.values.length||jb.has(e)&&!n.values.length?Jve(t,e):fx(RB(tye(n,i),i.values),r):x5(t,e)};function jB(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?is(t,e,r):e7(t)(t,e)}const nye=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Gi.update(e,r),stop:()=>th(e),now:()=>Ya.isProcessing?Ya.timestamp:cl.now()}},LB=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},v5=2e4;function t7(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<v5;)e+=r,n=t.next(e);return e>=v5?1/0:e}function iye(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(t7(n),v5);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:ju(i)}}const sye=5;function FB(t,e,r){const n=Math.max(e-sye,0);return pB(r-t(n),e-n)}const gs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W3=.001;function aye({duration:t=gs.duration,bounce:e=gs.bounce,velocity:r=gs.velocity,mass:n=gs.mass}){let i,s,a=1-e;a=Cd(gs.minDamping,gs.maxDamping,a),t=Cd(gs.minDuration,gs.maxDuration,ju(t)),a<1?(i=c=>{const d=c*a,p=d*t,g=d-r,m=Lb(c,a),y=Math.exp(-p);return W3-g/m*y},s=c=>{const p=c*a*t,g=p*r+r,m=Math.pow(a,2)*Math.pow(c,2)*t,y=Math.exp(-p),w=Lb(Math.pow(c,2),a);return(-i(c)+W3>0?-1:1)*((g-m)*y)/w}):(i=c=>{const d=Math.exp(-c*t),p=(c-r)*t+1;return-W3+d*p},s=c=>{const d=Math.exp(-c*t),p=(r-c)*(t*t);return d*p});const o=5/t,l=lye(i,s,o);if(t=Ru(t),isNaN(l))return{stiffness:gs.stiffness,damping:gs.damping,duration:t};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:a*2*Math.sqrt(n*c),duration:t}}}const oye=12;function lye(t,e,r){let n=r;for(let i=1;i<oye;i++)n=n-t(n)/e(n);return n}function Lb(t,e){return t*Math.sqrt(1-e*e)}const cye=["duration","bounce"],uye=["stiffness","damping","mass"];function jA(t,e){return e.some(r=>t[r]!==void 0)}function dye(t){let e={velocity:gs.velocity,stiffness:gs.stiffness,damping:gs.damping,mass:gs.mass,isResolvedFromDuration:!1,...t};if(!jA(t,uye)&&jA(t,cye))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Cd(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:gs.mass,stiffness:i,damping:s}}else{const r=aye(t);e={...e,...r,mass:gs.mass},e.isResolvedFromDuration=!0}return e}function y5(t=gs.visualDuration,e=gs.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:p,velocity:g,isResolvedFromDuration:m}=dye({...r,velocity:-ju(r.velocity||0)}),y=g||0,w=c/(2*Math.sqrt(l*d)),_=a-s,S=ju(Math.sqrt(l/d)),P=Math.abs(_)<5;n||(n=P?gs.restSpeed.granular:gs.restSpeed.default),i||(i=P?gs.restDelta.granular:gs.restDelta.default);let A;if(w<1){const W=Lb(S,w);A=K=>{const j=Math.exp(-w*S*K);return a-j*((y+w*S*_)/W*Math.sin(W*K)+_*Math.cos(W*K))}}else if(w===1)A=W=>a-Math.exp(-S*W)*(_+(y+S*_)*W);else{const W=S*Math.sqrt(w*w-1);A=K=>{const j=Math.exp(-w*S*K),T=Math.min(W*K,300);return a-j*((y+w*S*_)*Math.sinh(T)+W*_*Math.cosh(T))/W}}const V={calculatedDuration:m&&p||null,next:W=>{const K=A(W);if(m)o.done=W>=p;else{let j=W===0?y:0;w<1&&(j=W===0?Ru(y):FB(A,W,K));const T=Math.abs(j)<=n,C=Math.abs(a-K)<=i;o.done=T&&C}return o.value=o.done?a:K,o},toString:()=>{const W=Math.min(t7(V),v5),K=LB(j=>V.next(W*j).value,W,30);return W+"ms "+K},toTransition:()=>{}};return V}y5.applyToOptions=t=>{const e=iye(t,100,y5);return t.ease=e.ease,t.duration=Ru(e.duration),t.type="keyframes",t};function Fb({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const p=t[0],g={done:!1,value:p},m=T=>o!==void 0&&T<o||l!==void 0&&T>l,y=T=>o===void 0?l:l===void 0||Math.abs(o-T)<Math.abs(l-T)?o:l;let w=r*e;const _=p+w,S=a===void 0?_:a(_);S!==_&&(w=S-p);const P=T=>-w*Math.exp(-T/n),A=T=>S+P(T),V=T=>{const C=P(T),D=A(T);g.done=Math.abs(C)<=c,g.value=g.done?S:D};let W,K;const j=T=>{m(g.value)&&(W=T,K=y5({keyframes:[g.value,y(g.value)],velocity:FB(A,T,g.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return j(0),{calculatedDuration:null,next:T=>{let C=!1;return!K&&W===void 0&&(C=!0,V(T),j(T)),W!==void 0&&T>=W?K.next(T-W):(!C&&V(T),g)}}}function fye(t,e,r){const n=[],i=r||Nd.mix||jB,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||fc:e;o=fx(l,o)}n.push(o)}return n}function hye(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(H8(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=fye(e,n,i),l=o.length,c=d=>{if(a&&d<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const g=k2(t[p],t[p+1],d);return o[p](g)};return r?d=>c(Cd(t[0],t[s-1],d)):c}function pye(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=k2(0,e,n);t.push(is(r,1,i))}}function mye(t){const e=[0];return pye(e,t.length-1),e}function gye(t,e){return t.map(r=>r*e)}function xye(t,e){return t.map(()=>e||kB).splice(0,t.length-1)}function Mg({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Tve(n)?n.map(TA):TA(n),s={done:!1,value:e[0]},a=gye(r&&r.length===e.length?r:mye(e),t),o=hye(a,e,{ease:Array.isArray(i)?i:xye(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const vye=t=>t!==null;function r7(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(vye),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const yye={decay:Fb,inertia:Fb,tween:Mg,keyframes:Mg,spring:y5};function DB(t){typeof t.type=="string"&&(t.type=yye[t.type])}class n7{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const wye=t=>t/100;class i7 extends n7{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==cl.now()&&this.tick(cl.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DB(e);const{type:r=Mg,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||Mg;l!==Mg&&typeof o[0]!="number"&&(this.mixKeyframes=fx(wye,jB(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=t7(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:d,repeat:p,repeatType:g,repeatDelay:m,type:y,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const S=this.currentTime-c*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,V=n;if(p){const T=Math.min(this.currentTime,i)/o;let C=Math.floor(T),D=T%1;!D&&T>=1&&(D=1),D===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(g==="reverse"?(D=1-D,m&&(D-=m/o)):g==="mirror"&&(V=a)),A=Cd(0,1,D)*o}const W=P?{done:!1,value:d[0]}:V.next(A);s&&(W.value=s(W.value));let{done:K}=W;!P&&l!==null&&(K=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&K);return j&&y!==Fb&&(W.value=r7(d,this.options,_,this.speed)),w&&w(W.value),j&&this.finish(),W}then(e,r){return this.finished.then(e,r)}get duration(){return ju(this.calculatedDuration)}get time(){return ju(this.currentTime)}set time(e){e=Ru(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(cl.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ju(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=nye,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(cl.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function _ye(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const i0=t=>t*180/Math.PI,Db=t=>{const e=i0(Math.atan2(t[1],t[0]));return Ob(e)},bye={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Db,rotateZ:Db,skewX:t=>i0(Math.atan(t[1])),skewY:t=>i0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ob=t=>(t=t%360,t<0&&(t+=360),t),LA=Db,FA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),DA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kye={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FA,scaleY:DA,scale:t=>(FA(t)+DA(t))/2,rotateX:t=>Ob(i0(Math.atan2(t[6],t[5]))),rotateY:t=>Ob(i0(Math.atan2(-t[2],t[0]))),rotateZ:LA,rotate:LA,skewX:t=>i0(Math.atan(t[4])),skewY:t=>i0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Mb(t){return t.includes("scale")?1:0}function Vb(t,e){if(!t||t==="none")return Mb(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=kye,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=bye,i=o}if(!i)return Mb(e);const s=n[e],a=i[1].split(",").map(Eye);return typeof s=="function"?s(a):a[s]}const Sye=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Vb(r,e)};function Eye(t){return parseFloat(t.trim())}const pm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mm=new Set(pm),OA=t=>t===hm||t===Dr,Cye=new Set(["x","y","z"]),Nye=pm.filter(t=>!Cye.has(t));function Tye(t){const e=[];return Nye.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const h0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vb(e,"x"),y:(t,{transform:e})=>Vb(e,"y")};h0.translateX=h0.x;h0.translateY=h0.y;const p0=new Set;let Bb=!1,Ub=!1,zb=!1;function OB(){if(Ub){const t=Array.from(p0).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Tye(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{n.getValue(s)?.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ub=!1,Bb=!1,p0.forEach(t=>t.complete(zb)),p0.clear()}function MB(){p0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ub=!0)})}function Aye(){zb=!0,MB(),OB(),zb=!1}class s7{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(p0.add(this),Bb||(Bb=!0,Gi.read(MB),Gi.resolveKeyframes(OB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}_ye(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),p0.delete(this)}cancel(){this.state==="scheduled"&&(p0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Iye=t=>t.startsWith("--");function Pye(t,e,r){Iye(e)?t.style.setProperty(e,r):t.style[e]=r}const Rye=W8(()=>window.ScrollTimeline!==void 0),jye={};function Lye(t,e){const r=W8(t);return()=>jye[e]??r()}const VB=Lye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pg=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,MA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pg([0,.65,.55,1]),circOut:pg([.55,0,1,.45]),backIn:pg([.31,.01,.66,-.59]),backOut:pg([.33,1.53,.69,.99])};function BB(t,e){if(t)return typeof t=="function"?VB()?LB(t,e):"ease-out":SB(t)?pg(t):Array.isArray(t)?t.map(r=>BB(r,e)||MA.easeOut):MA[t]}function Fye(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[e]:r};l&&(d.offset=l);const p=BB(o,i);Array.isArray(p)&&(d.easing=p);const g={delay:n,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(g.pseudoElement=c),t.animate(d,g)}function UB(t){return typeof t=="function"&&"applyToOptions"in t}function Dye({type:t,...e}){return UB(t)&&VB()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Oye extends n7{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,H8(typeof e.type!="string");const c=Dye(e);this.animation=Fye(r,n,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=r7(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):Pye(r,n,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ju(Number(e))}get time(){return ju(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ru(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Rye()?(this.animation.timeline=e,fc):r(this)}}const zB={anticipate:wB,backInOut:yB,circInOut:bB};function Mye(t){return t in zB}function Vye(t){typeof t.ease=="string"&&Mye(t.ease)&&(t.ease=zB[t.ease])}const VA=10;class Bye extends Oye{constructor(e){Vye(e),DB(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new i7({...a,autoplay:!1}),l=Ru(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-VA).value,o.sample(l).value,VA),o.stop()}}const BA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(rh.test(t)||t==="0")&&!t.startsWith("url("));function Uye(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function zye(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=BA(i,e),o=BA(s,e);return!a||!o?!1:Uye(t)||(r==="spring"||UB(r))&&n}function $b(t){t.duration=0,t.type}const $ye=new Set(["opacity","clipPath","filter","transform"]),qye=W8(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Hye(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return qye()&&r&&$ye.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const Wye=40;class Gye extends n7{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:d,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=cl.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:d,...p},m=d?.KeyframeResolver||s7;this.keyframeResolver=new m(o,(y,w,_)=>this.onKeyframesResolved(y,w,g,!_),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:d}=n;this.resolvedAt=cl.now(),zye(e,s,a,o)||((Nd.instantAnimations||!l)&&d?.(r7(e,n,r)),e[0]=e[e.length-1],$b(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Wye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},m=!c&&Hye(g)?new Bye({...g,element:g.motionValue.owner.current}):new i7(g);m.finished.then(()=>this.notifyFinished()).catch(fc),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Aye()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Kye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yye(t){const e=Kye.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function $B(t,e,r=1){const[n,i]=Yye(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return dB(a)?parseFloat(a):a}return Q8(i)?$B(i,e,r+1):i}function a7(t,e){return t?.[e]??t?.default??t}const qB=new Set(["width","height","top","left","right","bottom",...pm]),Xye={test:t=>t==="auto",parse:t=>t},HB=t=>e=>e.test(t),WB=[hm,Dr,Lu,vf,Uve,Bve,Xye],UA=t=>WB.find(HB(t));function Qye(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hB(t):!0}const Jye=new Set(["brightness","contrast","saturate","opacity"]);function Zye(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(J8)||[];if(!n)return t;const i=r.replace(n,"");let s=Jye.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const e5e=/\b([a-z-]*)\(.*?\)/gu,qb={...rh,getAnimatableNone:t=>{const e=t.match(e5e);return e?e.map(Zye).join(" "):t}},zA={...hm,transform:Math.round},t5e={rotate:vf,rotateX:vf,rotateY:vf,rotateZ:vf,scale:Vv,scaleX:Vv,scaleY:Vv,scaleZ:Vv,skew:vf,skewX:vf,skewY:vf,distance:Dr,translateX:Dr,translateY:Dr,translateZ:Dr,x:Dr,y:Dr,z:Dr,perspective:Dr,transformPerspective:Dr,opacity:S2,originX:AA,originY:AA,originZ:Dr},o7={borderWidth:Dr,borderTopWidth:Dr,borderRightWidth:Dr,borderBottomWidth:Dr,borderLeftWidth:Dr,borderRadius:Dr,radius:Dr,borderTopLeftRadius:Dr,borderTopRightRadius:Dr,borderBottomRightRadius:Dr,borderBottomLeftRadius:Dr,width:Dr,maxWidth:Dr,height:Dr,maxHeight:Dr,top:Dr,right:Dr,bottom:Dr,left:Dr,padding:Dr,paddingTop:Dr,paddingRight:Dr,paddingBottom:Dr,paddingLeft:Dr,margin:Dr,marginTop:Dr,marginRight:Dr,marginBottom:Dr,marginLeft:Dr,backgroundPositionX:Dr,backgroundPositionY:Dr,...t5e,zIndex:zA,fillOpacity:S2,strokeOpacity:S2,numOctaves:zA},r5e={...o7,color:ea,backgroundColor:ea,outlineColor:ea,fill:ea,stroke:ea,borderColor:ea,borderTopColor:ea,borderRightColor:ea,borderBottomColor:ea,borderLeftColor:ea,filter:qb,WebkitFilter:qb},GB=t=>r5e[t];function KB(t,e){let r=GB(t);return r!==qb&&(r=rh),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const n5e=new Set(["auto","none","0"]);function i5e(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!n5e.has(s)&&E2(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=KB(r,i)}class s5e extends s7{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Q8(c))){const d=$B(c,r.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!qB.has(n)||e.length!==2)return;const[i,s]=e,a=UA(i),o=UA(s);if(a!==o)if(OA(a)&&OA(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else h0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Qye(e[i]))&&n.push(i);n.length&&i5e(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=h0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=h0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function a5e(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const YB=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function XB(t){return fB(t)&&"offsetHeight"in t}const $A=30,o5e=t=>!isNaN(parseFloat(t));class l5e{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=cl.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=cl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o5e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new G8);const n=this.events[e].add(r);return e==="change"?()=>{n(),Gi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=cl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$A)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,$A);return pB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function U1(t,e){return new l5e(t,e)}const{schedule:l7}=EB(queueMicrotask,!1),Fc={x:!1,y:!1};function QB(){return Fc.x||Fc.y}function c5e(t){return t==="x"||t==="y"?Fc[t]?null:(Fc[t]=!0,()=>{Fc[t]=!1}):Fc.x||Fc.y?null:(Fc.x=Fc.y=!0,()=>{Fc.x=Fc.y=!1})}function JB(t,e){const r=a5e(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function qA(t){return!(t.pointerType==="touch"||QB())}function u5e(t,e,r={}){const[n,i,s]=JB(t,r),a=o=>{if(!qA(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const d=p=>{qA(p)&&(c(p),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const ZB=(t,e)=>e?t===e?!0:ZB(t,e.parentElement):!1,c7=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,d5e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f5e(t){return d5e.has(t.tagName)||t.tabIndex!==-1}const hy=new WeakSet;function HA(t){return e=>{e.key==="Enter"&&t(e)}}function G3(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const h5e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=HA(()=>{if(hy.has(r))return;G3(r,"down");const i=HA(()=>{G3(r,"up")}),s=()=>G3(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function WA(t){return c7(t)&&!QB()}function p5e(t,e,r={}){const[n,i,s]=JB(t,r),a=o=>{const l=o.currentTarget;if(!WA(o))return;hy.add(l);const c=e(l,o),d=(m,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),hy.has(l)&&hy.delete(l),WA(m)&&typeof c=="function"&&c(m,{success:y})},p=m=>{d(m,l===window||l===document||r.useGlobalTarget||ZB(l,m.target))},g=m=>{d(m,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),XB(o)&&(o.addEventListener("focus",c=>h5e(c,i)),!f5e(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function eU(t){return fB(t)&&"ownerSVGElement"in t}function m5e(t){return eU(t)&&t.tagName==="svg"}const To=t=>!!(t&&t.getVelocity),g5e=[...WB,ea,rh],x5e=t=>g5e.find(HB(t)),u7=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class v5e extends L.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=XB(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function y5e({children:t,isPresent:e,anchorX:r,root:n}){const i=L.useId(),s=L.useRef(null),a=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=L.useContext(u7);return L.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:p,right:g}=a.current;if(e||!s.current||!l||!c)return;const m=r==="left"?`left: ${p}`:`right: ${g}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");o&&(y.nonce=o);const w=n??document.head;return w.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{w.contains(y)&&w.removeChild(y)}},[e]),u.jsx(v5e,{isPresent:e,childRef:s,sizeRef:a,children:L.cloneElement(t,{ref:s})})}const w5e=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const c=U8(_5e),d=L.useId();let p=!0,g=L.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:r,custom:i,onExitComplete:m=>{c.set(m,!0);for(const y of c.values())if(!y)return;n&&n()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[r,c,n]);return s&&p&&(g={...g}),L.useMemo(()=>{c.forEach((m,y)=>c.set(y,!1))},[r]),L.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(t=u.jsx(y5e,{isPresent:r,anchorX:o,root:l,children:t})),u.jsx(k4.Provider,{value:g,children:t})};function _5e(){return new Map}function tU(t=!0){const e=L.useContext(k4);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=L.useId();L.useEffect(()=>{if(t)return i(s)},[t]);const a=L.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const Bv=t=>t.key||"";function GA(t){const e=[];return L.Children.forEach(t,r=>{L.isValidElement(r)&&e.push(r)}),e}const b5e=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,d]=tU(a),p=L.useMemo(()=>GA(t),[t]),g=a&&!c?[]:p.map(Bv),m=L.useRef(!0),y=L.useRef(p),w=U8(()=>new Map),[_,S]=L.useState(p),[P,A]=L.useState(p);uB(()=>{m.current=!1,y.current=p;for(let K=0;K<P.length;K++){const j=Bv(P[K]);g.includes(j)?w.delete(j):w.get(j)!==!0&&w.set(j,!1)}},[P,g.length,g.join("-")]);const V=[];if(p!==_){let K=[...p];for(let j=0;j<P.length;j++){const T=P[j],C=Bv(T);g.includes(C)||(K.splice(j,0,T),V.push(T))}return s==="wait"&&V.length&&(K=V),A(GA(K)),S(p),null}const{forceRender:W}=L.useContext(B8);return u.jsx(u.Fragment,{children:P.map(K=>{const j=Bv(K),T=a&&!c?!1:p===P||g.includes(j),C=()=>{if(w.has(j))w.set(j,!0);else return;let D=!0;w.forEach(R=>{R||(D=!1)}),D&&(W?.(),A(y.current),a&&d?.(),n&&n())};return u.jsx(w5e,{isPresent:T,initial:!m.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:T?void 0:C,anchorX:o,children:K},j)})})},rU=L.createContext({strict:!1}),KA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},z1={};for(const t in KA)z1[t]={isEnabled:e=>KA[t].some(r=>!!e[r])};function k5e(t){for(const e in t)z1[e]={...z1[e],...t[e]}}const S5e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function w5(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||S5e.has(t)}let nU=t=>!w5(t);function E5e(t){typeof t=="function"&&(nU=e=>e.startsWith("on")?!w5(e):t(e))}try{E5e(require("@emotion/is-prop-valid").default)}catch{}function C5e(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(nU(i)||r===!0&&w5(i)||!e&&!w5(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const S4=L.createContext({});function E4(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function C2(t){return typeof t=="string"||Array.isArray(t)}const d7=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f7=["initial",...d7];function C4(t){return E4(t.animate)||f7.some(e=>C2(t[e]))}function iU(t){return!!(C4(t)||t.variants)}function N5e(t,e){if(C4(t)){const{initial:r,animate:n}=t;return{initial:r===!1||C2(r)?r:void 0,animate:C2(n)?n:void 0}}return t.inherit!==!1?e:{}}function T5e(t){const{initial:e,animate:r}=N5e(t,L.useContext(S4));return L.useMemo(()=>({initial:e,animate:r}),[YA(e),YA(r)])}function YA(t){return Array.isArray(t)?t.join(" "):t}const N2={};function A5e(t){for(const e in t)N2[e]=t[e],X8(e)&&(N2[e].isCSSVariable=!0)}function sU(t,{layout:e,layoutId:r}){return mm.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!N2[t]||t==="opacity")}const I5e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},P5e=pm.length;function R5e(t,e,r){let n="",i=!0;for(let s=0;s<P5e;s++){const a=pm[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=YB(o,o7[a]);if(!l){i=!1;const d=I5e[a]||a;n+=`${d}(${c}) `}r&&(e[a]=c)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function h7(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(mm.has(l)){a=!0;continue}else if(X8(l)){i[l]=c;continue}else{const d=YB(c,o7[l]);l.startsWith("origin")?(o=!0,s[l]=d):n[l]=d}}if(e.transform||(a||r?n.transform=R5e(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;n.transformOrigin=`${l} ${c} ${d}`}}const p7=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aU(t,e,r){for(const n in e)!To(e[n])&&!sU(n,r)&&(t[n]=e[n])}function j5e({transformTemplate:t},e){return L.useMemo(()=>{const r=p7();return h7(r,e,t),Object.assign({},r.vars,r.style)},[e])}function L5e(t,e){const r=t.style||{},n={};return aU(n,r,t),Object.assign(n,j5e(t,e)),n}function F5e(t,e){const r={},n=L5e(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const D5e={offset:"stroke-dashoffset",array:"stroke-dasharray"},O5e={offset:"strokeDashoffset",array:"strokeDasharray"};function M5e(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?D5e:O5e;t[s.offset]=Dr.transform(-n);const a=Dr.transform(e),o=Dr.transform(r);t[s.array]=`${a} ${o}`}function oU(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,d){if(h7(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),i!==void 0&&M5e(p,i,s,a,!1)}const lU=()=>({...p7(),attrs:{}}),cU=t=>typeof t=="string"&&t.toLowerCase()==="svg";function V5e(t,e,r,n){const i=L.useMemo(()=>{const s=lU();return oU(s,e,cU(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};aU(s,t.style,t),i.style={...s,...i.style}}return i}const B5e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m7(t){return typeof t!="string"||t.includes("-")?!1:!!(B5e.indexOf(t)>-1||/[A-Z]/u.test(t))}function U5e(t,e,r,{latestValues:n},i,s=!1){const o=(m7(t)?V5e:F5e)(e,n,i,t),l=C5e(e,typeof t=="string",s),c=t!==L.Fragment?{...l,...o,ref:r}:{},{children:d}=e,p=L.useMemo(()=>To(d)?d.get():d,[d]);return L.createElement(t,{...c,children:p})}function XA(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function g7(t,e,r,n){if(typeof e=="function"){const[i,s]=XA(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=XA(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function py(t){return To(t)?t.get():t}function z5e({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:$5e(r,n,i,t),renderState:e()}}function $5e(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=py(s[g]);let{initial:a,animate:o}=t;const l=C4(t),c=iU(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!E4(p)){const g=Array.isArray(p)?p:[p];for(let m=0;m<g.length;m++){const y=g7(t,g[m]);if(y){const{transitionEnd:w,transition:_,...S}=y;for(const P in S){let A=S[P];if(Array.isArray(A)){const V=d?A.length-1:0;A=A[V]}A!==null&&(i[P]=A)}for(const P in w)i[P]=w[P]}}}return i}const uU=t=>(e,r)=>{const n=L.useContext(S4),i=L.useContext(k4),s=()=>z5e(t,e,n,i);return r?s():U8(s)};function x7(t,e,r){const{style:n}=t,i={};for(const s in n)(To(n[s])||e.style&&To(e.style[s])||sU(s,t)||r?.getValue(s)?.liveStyle!==void 0)&&(i[s]=n[s]);return i}const q5e=uU({scrapeMotionValuesFromProps:x7,createRenderState:p7});function dU(t,e,r){const n=x7(t,e,r);for(const i in t)if(To(t[i])||To(e[i])){const s=pm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const H5e=uU({scrapeMotionValuesFromProps:dU,createRenderState:lU}),W5e=Symbol.for("motionComponentSymbol");function Xp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function G5e(t,e,r){return L.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Xp(r)&&(r.current=n))},[e])}const v7=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),K5e="framerAppearId",fU="data-"+v7(K5e),hU=L.createContext({});function Y5e(t,e,r,n,i){const{visualElement:s}=L.useContext(S4),a=L.useContext(rU),o=L.useContext(k4),l=L.useContext(u7).reducedMotion,c=L.useRef(null);n=n||a.renderer,!c.current&&n&&(c.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,p=L.useContext(hU);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&X5e(c.current,r,i,p);const g=L.useRef(!1);L.useInsertionEffect(()=>{d&&g.current&&d.update(r,o)});const m=r[fU],y=L.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return uB(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),y.current&&d.animationState&&d.animationState.animateChanges())}),L.useEffect(()=>{d&&(!y.current&&d.animationState&&d.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1),d.enteringChildren=void 0)}),d}function X5e(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:pU(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Xp(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}function pU(t){if(t)return t.options.allowProjection!==!1?t.projection:pU(t.parent)}function K3(t,{forwardMotionProps:e=!1}={},r,n){r&&k5e(r);const i=m7(t)?H5e:q5e;function s(o,l){let c;const d={...L.useContext(u7),...o,layoutId:Q5e(o)},{isStatic:p}=d,g=T5e(o),m=i(o,p);if(!p&&z8){J5e();const y=Z5e(d);c=y.MeasureLayout,g.visualElement=Y5e(t,m,d,n,y.ProjectionNode)}return u.jsxs(S4.Provider,{value:g,children:[c&&g.visualElement?u.jsx(c,{visualElement:g.visualElement,...d}):null,U5e(t,o,G5e(m,g.visualElement,l),m,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=L.forwardRef(s);return a[W5e]=t,a}function Q5e({layoutId:t}){const e=L.useContext(B8).id;return e&&t!==void 0?e+"-"+t:t}function J5e(t,e){L.useContext(rU).strict}function Z5e(t){const{drag:e,layout:r}=z1;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function e4e(t,e){if(typeof Proxy>"u")return K3;const r=new Map,n=(s,a)=>K3(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,K3(a,void 0,t,e)),r.get(a))})}function mU({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function t4e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function r4e(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Y3(t){return t===void 0||t===1}function Hb({scale:t,scaleX:e,scaleY:r}){return!Y3(t)||!Y3(e)||!Y3(r)}function $h(t){return Hb(t)||gU(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gU(t){return QA(t.x)||QA(t.y)}function QA(t){return t&&t!=="0%"}function _5(t,e,r){const n=t-r,i=e*n;return r+i}function JA(t,e,r,n,i){return i!==void 0&&(t=_5(t,i,n)),_5(t,r,n)+e}function Wb(t,e=0,r=1,n,i){t.min=JA(t.min,e,r,n,i),t.max=JA(t.max,e,r,n,i)}function xU(t,{x:e,y:r}){Wb(t.x,e.translate,e.scale,e.originPoint),Wb(t.y,r.translate,r.scale,r.originPoint)}const ZA=.999999999999,eI=1.0000000000001;function n4e(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Jp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,xU(t,a)),n&&$h(s.latestValues)&&Jp(t,s.latestValues))}e.x<eI&&e.x>ZA&&(e.x=1),e.y<eI&&e.y>ZA&&(e.y=1)}function Qp(t,e){t.min=t.min+e,t.max=t.max+e}function tI(t,e,r,n,i=.5){const s=is(t.min,t.max,i);Wb(t,e,r,s,n)}function Jp(t,e){tI(t.x,e.x,e.scaleX,e.scale,e.originX),tI(t.y,e.y,e.scaleY,e.scale,e.originY)}function vU(t,e){return mU(r4e(t.getBoundingClientRect(),e))}function i4e(t,e,r){const n=vU(t,r),{scroll:i}=e;return i&&(Qp(n.x,i.offset.x),Qp(n.y,i.offset.y)),n}const rI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zp=()=>({x:rI(),y:rI()}),nI=()=>({min:0,max:0}),js=()=>({x:nI(),y:nI()}),Gb={current:null},yU={current:!1};function s4e(){if(yU.current=!0,!!z8)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gb.current=t.matches;t.addEventListener("change",e),e()}else Gb.current=!1}const a4e=new WeakMap;function o4e(t,e,r){for(const n in e){const i=e[n],s=r[n];if(To(i))t.addValue(n,i);else if(To(s))t.addValue(n,U1(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,U1(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const iI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class l4e{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=s7,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=cl.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Gi.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=C4(r),this.isVariantNode=iU(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const m=p[g];l[g]!==void 0&&To(m)&&m.set(l[g])}}mount(e){this.current=e,a4e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),yU.current||s4e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gb.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),th(this.notifyUpdate),th(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=mm.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Gi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in z1){const r=z1[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):js()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<iI.length;n++){const i=iI[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=o4e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=U1(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(dB(n)||hB(n))?n=parseFloat(n):!x5e(n)&&rh.test(r)&&(n=KB(e,r)),this.setBaseTarget(e,To(n)?n.get():n)),To(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=g7(this.props,r,this.presenceContext?.custom);s&&(n=s[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!To(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new G8),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){l7.render(this.render)}}class wU extends l4e{constructor(){super(...arguments),this.KeyframeResolver=s5e}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;To(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function _U(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function c4e(t){return window.getComputedStyle(t)}class u4e extends wU{constructor(){super(...arguments),this.type="html",this.renderInstance=_U}readValueFromInstance(e,r){if(mm.has(r))return this.projection?.isProjecting?Mb(r):Sye(e,r);{const n=c4e(e),i=(X8(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return vU(e,r)}build(e,r,n){h7(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return x7(e,r,n)}}const bU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d4e(t,e,r,n){_U(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(bU.has(i)?i:v7(i),e.attrs[i])}class f4e extends wU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=js}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(mm.has(r)){const n=GB(r);return n&&n.default||0}return r=bU.has(r)?r:v7(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return dU(e,r,n)}build(e,r,n){oU(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){d4e(e,r,n,i)}mount(e){this.isSVGTag=cU(e.tagName),super.mount(e)}}const h4e=(t,e)=>m7(t)?new f4e(e):new u4e(e,{allowProjection:t!==L.Fragment});function y1(t,e,r){const n=t.getProps();return g7(n,e,r!==void 0?r:n.custom,t)}const Kb=t=>Array.isArray(t);function p4e(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,U1(r))}function m4e(t){return Kb(t)?t[t.length-1]||0:t}function g4e(t,e){const r=y1(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=m4e(s[a]);p4e(t,a,o)}}function x4e(t){return!!(To(t)&&t.add)}function Yb(t,e){const r=t.getValue("willChange");if(x4e(r))return r.add(e);if(!r&&Nd.WillChange){const n=new Nd.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function kU(t){return t.props[fU]}const v4e=t=>t!==null;function y4e(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(v4e),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const w4e={type:"spring",stiffness:500,damping:25,restSpeed:10},_4e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),b4e={type:"keyframes",duration:.8},k4e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S4e=(t,{keyframes:e})=>e.length>2?b4e:mm.has(t)?t.startsWith("scale")?_4e(e[1]):w4e:k4e;function E4e({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const y7=(t,e,r,n={},i,s)=>a=>{const o=a7(n,t)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Ru(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};E4e(o)||Object.assign(d,S4e(t,d)),d.duration&&(d.duration=Ru(d.duration)),d.repeatDelay&&(d.repeatDelay=Ru(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&($b(d),d.delay===0&&(p=!0)),(Nd.instantAnimations||Nd.skipAnimations)&&(p=!0,$b(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!s&&e.get()!==void 0){const g=y4e(d.keyframes,o);if(g!==void 0){Gi.update(()=>{d.onUpdate(g),d.onComplete()});return}}return o.isSync?new i7(d):new Gye(d)};function C4e({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function SU(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),g=o[d];if(g===void 0||c&&C4e(c,d))continue;const m={delay:r,...a7(s||{},d)},y=p.get();if(y!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===y&&!m.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=kU(t);if(S){const P=window.MotionHandoffAnimation(S,d,Gi);P!==null&&(m.startTime=P,w=!0)}}Yb(t,d),p.start(y7(d,p,g,t.shouldReduceMotion&&qB.has(d)?{type:!1}:m,t,w));const _=p.animation;_&&l.push(_)}return a&&Promise.all(l).then(()=>{Gi.update(()=>{a&&g4e(t,a)})}),l}function EU(t,e,r,n=0,i=1){const s=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function Xb(t,e,r={}){const n=y1(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(SU(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:p}=i;return N4e(t,e,l,c,d,p,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(r.delay)])}function N4e(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(Xb(l,e,{...a,delay:r+(typeof n=="function"?0:n)+EU(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function T4e(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Xb(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Xb(t,e,r);else{const i=typeof e=="function"?y1(t,e,r.custom):e;n=Promise.all(SU(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function CU(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const A4e=f7.length;function NU(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?NU(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<A4e;r++){const n=f7[r],i=t.props[n];(C2(i)||i===!1)&&(e[n]=i)}return e}const I4e=[...d7].reverse(),P4e=d7.length;function R4e(t){return e=>Promise.all(e.map(({animation:r,options:n})=>T4e(t,r,n)))}function j4e(t){let e=R4e(t),r=sI(),n=!0;const i=l=>(c,d)=>{const p=y1(t,d,l==="exit"?t.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:m,...y}=p;c={...c,...y,...m}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,d=NU(t.parent)||{},p=[],g=new Set;let m={},y=1/0;for(let _=0;_<P4e;_++){const S=I4e[_],P=r[S],A=c[S]!==void 0?c[S]:d[S],V=C2(A),W=S===l?P.isActive:null;W===!1&&(y=_);let K=A===d[S]&&A!==c[S]&&V;if(K&&n&&t.manuallyAnimateOnMount&&(K=!1),P.protectedKeys={...m},!P.isActive&&W===null||!A&&!P.prevProp||E4(A)||typeof A=="boolean")continue;const j=L4e(P.prevProp,A);let T=j||S===l&&P.isActive&&!K&&V||_>y&&V,C=!1;const D=Array.isArray(A)?A:[A];let R=D.reduce(i(S),{});W===!1&&(R={});const{prevResolvedValues:F={}}=P,B={...F,...R},ee=fe=>{T=!0,g.has(fe)&&(C=!0,g.delete(fe)),P.needsAnimating[fe]=!0;const se=t.getValue(fe);se&&(se.liveStyle=!1)};for(const fe in B){const se=R[fe],Y=F[fe];if(m.hasOwnProperty(fe))continue;let ie=!1;Kb(se)&&Kb(Y)?ie=!CU(se,Y):ie=se!==Y,ie?se!=null?ee(fe):g.add(fe):se!==void 0&&g.has(fe)?ee(fe):P.protectedKeys[fe]=!0}P.prevProp=A,P.prevResolvedValues=R,P.isActive&&(m={...m,...R}),n&&t.blockInitialAnimation&&(T=!1);const he=K&&j;T&&(!he||C)&&p.push(...D.map(fe=>{const se={type:S};if(typeof fe=="string"&&n&&!he&&t.manuallyAnimateOnMount&&t.parent){const{parent:Y}=t,ie=y1(Y,fe);if(Y.enteringChildren&&ie){const{delayChildren:G}=ie.transition||{};se.delay=EU(Y.enteringChildren,t,G)}}return{animation:fe,options:se}}))}if(g.size){const _={};if(typeof c.initial!="boolean"){const S=y1(t,Array.isArray(c.initial)?c.initial[0]:c.initial);S&&S.transition&&(_.transition=S.transition)}g.forEach(S=>{const P=t.getBaseTarget(S),A=t.getValue(S);A&&(A.liveStyle=!0),_[S]=P??null}),p.push({animation:_})}let w=!!p.length;return n&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(p):Promise.resolve()}function o(l,c){if(r[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(p=>p.animationState?.setActive(l,c)),r[l].isActive=c;const d=a(l);for(const p in r)r[p].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=sI(),n=!0}}}function L4e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CU(e,t):!1}function Vh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sI(){return{animate:Vh(!0),whileInView:Vh(),whileHover:Vh(),whileTap:Vh(),whileDrag:Vh(),whileFocus:Vh(),exit:Vh()}}class gh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class F4e extends gh{constructor(e){super(e),e.animationState||(e.animationState=j4e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();E4(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D4e=0;class O4e extends gh{constructor(){super(...arguments),this.id=D4e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const M4e={animation:{Feature:F4e},exit:{Feature:O4e}};function T2(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function mx(t){return{point:{x:t.pageX,y:t.pageY}}}const V4e=t=>e=>c7(e)&&t(e,mx(e));function Vg(t,e,r,n){return T2(t,e,V4e(r),n)}const TU=1e-4,B4e=1-TU,U4e=1+TU,AU=.01,z4e=0-AU,$4e=0+AU;function Ho(t){return t.max-t.min}function q4e(t,e,r){return Math.abs(t-e)<=r}function aI(t,e,r,n=.5){t.origin=n,t.originPoint=is(e.min,e.max,t.origin),t.scale=Ho(r)/Ho(e),t.translate=is(r.min,r.max,t.origin)-t.originPoint,(t.scale>=B4e&&t.scale<=U4e||isNaN(t.scale))&&(t.scale=1),(t.translate>=z4e&&t.translate<=$4e||isNaN(t.translate))&&(t.translate=0)}function Bg(t,e,r,n){aI(t.x,e.x,r.x,n?n.originX:void 0),aI(t.y,e.y,r.y,n?n.originY:void 0)}function oI(t,e,r){t.min=r.min+e.min,t.max=t.min+Ho(e)}function H4e(t,e,r){oI(t.x,e.x,r.x),oI(t.y,e.y,r.y)}function lI(t,e,r){t.min=e.min-r.min,t.max=t.min+Ho(e)}function Ug(t,e,r){lI(t.x,e.x,r.x),lI(t.y,e.y,r.y)}function ac(t){return[t("x"),t("y")]}const IU=({current:t})=>t?t.ownerDocument.defaultView:null,cI=(t,e)=>Math.abs(t-e);function W4e(t,e){const r=cI(t.x,e.x),n=cI(t.y,e.y);return Math.sqrt(r**2+n**2)}class PU{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Q3(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=W4e(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:w}=g,{timestamp:_}=Ya;this.history.push({...w,timestamp:_});const{onStart:S,onMove:P}=this.handlers;m||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=X3(m,this.transformPagePoint),Gi.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Q3(g.type==="pointercancel"?this.lastMoveEventInfo:X3(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,S),w&&w(g,S)},!c7(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=mx(e),l=X3(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Ya;this.history=[{...c,timestamp:d}];const{onSessionStart:p}=r;p&&p(e,Q3(l,this.history)),this.removeListeners=fx(Vg(this.contextWindow,"pointermove",this.handlePointerMove),Vg(this.contextWindow,"pointerup",this.handlePointerUp),Vg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),th(this.updatePoint)}}function X3(t,e){return e?{point:e(t.point)}:t}function uI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Q3({point:t},e){return{point:t,delta:uI(t,RU(e)),offset:uI(t,G4e(e)),velocity:K4e(e,.1)}}function G4e(t){return t[0]}function RU(t){return t[t.length-1]}function K4e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=RU(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ru(e)));)r--;if(!n)return{x:0,y:0};const s=ju(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Y4e(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?is(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?is(r,t,n.max):Math.min(t,r)),t}function dI(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function X4e(t,{top:e,left:r,bottom:n,right:i}){return{x:dI(t.x,r,i),y:dI(t.y,e,n)}}function fI(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Q4e(t,e){return{x:fI(t.x,e.x),y:fI(t.y,e.y)}}function J4e(t,e){let r=.5;const n=Ho(t),i=Ho(e);return i>n?r=k2(e.min,e.max-n,t.min):n>i&&(r=k2(t.min,t.max-i,e.min)),Cd(0,1,r)}function Z4e(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Qb=.35;function ewe(t=Qb){return t===!1?t=0:t===!0&&(t=Qb),{x:hI(t,"left","right"),y:hI(t,"top","bottom")}}function hI(t,e,r){return{min:pI(t,e),max:pI(t,r)}}function pI(t,e){return typeof t=="number"?t:t[e]||0}const twe=new WeakMap;class rwe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=js(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(mx(p).point)},a=(p,g)=>{const{drag:m,dragPropagation:y,onDragStart:w}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c5e(m),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ac(S=>{let P=this.getAxisMotionValue(S).get()||0;if(Lu.test(P)){const{projection:A}=this.visualElement;if(A&&A.layout){const V=A.layout.layoutBox[S];V&&(P=Ho(V)*(parseFloat(P)/100))}}this.originPoint[S]=P}),w&&Gi.postRender(()=>w(p,g)),Yb(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:w,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:S}=g;if(y&&this.currentDirection===null){this.currentDirection=nwe(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),_&&_(p,g)},l=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ac(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new PU(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:IU(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Gi.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Uv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Y4e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Xp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=X4e(n.layoutBox,e):this.constraints=!1,this.elastic=ewe(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ac(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Z4e(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Xp(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=i4e(n,i.root,this.visualElement.getTransformPagePoint());let a=Q4e(i.layout.layoutBox,s);if(r){const o=r(t4e(a));this.hasMutatedConstraints=!!o,o&&(a=mU(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=ac(d=>{if(!Uv(d,r,this.currentDirection))return;let p=l&&l[d]||{};a&&(p={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:n?e[d]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,y)});return Promise.all(c).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Yb(this.visualElement,e),n.start(y7(e,n,0,r,this.visualElement,!1))}stopAnimation(){ac(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ac(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ac(r=>{const{drag:n}=this.getProps();if(!Uv(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-is(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Xp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ac(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=J4e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ac(a=>{if(!Uv(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(is(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;twe.set(this.visualElement,this);const e=this.visualElement.current,r=Vg(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Xp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gi.read(n);const a=T2(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ac(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=l[d].translate,p.set(p.get()+l[d].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Qb,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Uv(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function nwe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class iwe extends gh{constructor(e){super(e),this.removeGroupControls=fc,this.removeListeners=fc,this.controls=new rwe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fc}unmount(){this.removeGroupControls(),this.removeListeners()}}const mI=t=>(e,r)=>{t&&Gi.postRender(()=>t(e,r))};class swe extends gh{constructor(){super(...arguments),this.removePointerDownListener=fc}onPointerDown(e){this.session=new PU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:mI(e),onStart:mI(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Gi.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Vg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const my={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Dr.test(t))t=parseFloat(t);else return t;const r=gI(t,e.target.x),n=gI(t,e.target.y);return`${r}% ${n}%`}},awe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=rh.parse(t);if(i.length>5)return n;const s=rh.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=is(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let J3=!1;class owe extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;A5e(lwe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),J3&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),my.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,J3=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Gi.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l7.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;J3=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function jU(t){const[e,r]=tU(),n=L.useContext(B8);return u.jsx(owe,{...t,layoutGroup:n,switchLayoutGroup:L.useContext(hU),isPresent:e,safeToRemove:r})}const lwe={borderRadius:{...tg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tg,borderTopRightRadius:tg,borderBottomLeftRadius:tg,borderBottomRightRadius:tg,boxShadow:awe};function cwe(t,e,r){const n=To(t)?t:U1(t);return n.start(y7("",n,e,r)),n.animation}const uwe=(t,e)=>t.depth-e.depth;class dwe{constructor(){this.children=[],this.isDirty=!1}add(e){$8(this.children,e),this.isDirty=!0}remove(e){q8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uwe),this.isDirty=!1,this.children.forEach(e)}}function fwe(t,e){const r=cl.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(th(n),t(s-e))};return Gi.setup(n,!0),()=>th(n)}const LU=["TopLeft","TopRight","BottomLeft","BottomRight"],hwe=LU.length,xI=t=>typeof t=="string"?parseFloat(t):t,vI=t=>typeof t=="number"||Dr.test(t);function pwe(t,e,r,n,i,s){i?(t.opacity=is(0,r.opacity??1,mwe(n)),t.opacityExit=is(e.opacity??1,0,gwe(n))):s&&(t.opacity=is(e.opacity??1,r.opacity??1,n));for(let a=0;a<hwe;a++){const o=`border${LU[a]}Radius`;let l=yI(e,o),c=yI(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||vI(l)===vI(c)?(t[o]=Math.max(is(xI(l),xI(c),n),0),(Lu.test(c)||Lu.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||r.rotate)&&(t.rotate=is(e.rotate||0,r.rotate||0,n))}function yI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const mwe=FU(0,.5,_B),gwe=FU(.5,.95,fc);function FU(t,e,r){return n=>n<t?0:n>e?1:r(k2(t,e,n))}function wI(t,e){t.min=e.min,t.max=e.max}function rc(t,e){wI(t.x,e.x),wI(t.y,e.y)}function _I(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function bI(t,e,r,n,i){return t-=e,t=_5(t,1/r,n),i!==void 0&&(t=_5(t,1/i,n)),t}function xwe(t,e=0,r=1,n=.5,i,s=t,a=t){if(Lu.test(e)&&(e=parseFloat(e),e=is(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=is(s.min,s.max,n);t===s&&(o-=e),t.min=bI(t.min,e,r,o,i),t.max=bI(t.max,e,r,o,i)}function kI(t,e,[r,n,i],s,a){xwe(t,e[r],e[n],e[i],e.scale,s,a)}const vwe=["x","scaleX","originX"],ywe=["y","scaleY","originY"];function SI(t,e,r,n){kI(t.x,e,vwe,r?r.x:void 0,n?n.x:void 0),kI(t.y,e,ywe,r?r.y:void 0,n?n.y:void 0)}function EI(t){return t.translate===0&&t.scale===1}function DU(t){return EI(t.x)&&EI(t.y)}function CI(t,e){return t.min===e.min&&t.max===e.max}function wwe(t,e){return CI(t.x,e.x)&&CI(t.y,e.y)}function NI(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OU(t,e){return NI(t.x,e.x)&&NI(t.y,e.y)}function TI(t){return Ho(t.x)/Ho(t.y)}function AI(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _we{constructor(){this.members=[]}add(e){$8(this.members,e),e.scheduleRender()}remove(e){if(q8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bwe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=r?.z||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:p,rotateY:g,skewX:m,skewY:y}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),m&&(n+=`skewX(${m}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Z3=["","X","Y","Z"],kwe=1e3;let Swe=0;function e_(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function MU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=kU(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Gi,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&MU(n)}function VU({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=Swe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Nwe),this.nodes.forEach(Pwe),this.nodes.forEach(Rwe),this.nodes.forEach(Twe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new dwe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new G8),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=eU(a)&&!m5e(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;Gi.read(()=>{p=window.innerWidth}),t(a,()=>{const m=window.innerWidth;m!==p&&(p=m,this.root.updateBlockedByResize=!0,d&&d(),d=fwe(g,250),my.hasAnimatedSinceResize&&(my.hasAnimatedSinceResize=!1,this.nodes.forEach(RI)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||Owe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=c.getProps(),S=!this.targetLayout||!OU(this.targetLayout,m),P=!p&&g;if(this.options.layoutRoot||this.resumeFrom||P||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...a7(y,"layout"),onPlay:w,onComplete:_};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(d,P)}else p||RI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),th(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jwe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(II);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(PI);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Iwe),this.nodes.forEach(Ewe),this.nodes.forEach(Cwe)):this.nodes.forEach(PI),this.clearAllSnapshots();const o=cl.now();Ya.delta=Cd(0,1e3/60,o-Ya.timestamp),Ya.timestamp=o,Ya.isProcessing=!0,z3.update.process(Ya),z3.preRender.process(Ya),z3.render.process(Ya),Ya.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l7.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Awe),this.sharedNodes.forEach(Lwe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ho(this.snapshot.measuredBox.x)&&!Ho(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=js(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!DU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||$h(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Mwe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return js();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Vwe))){const{scroll:c}=this.root;c&&(Qp(o.x,c.offset.x),Qp(o.y,c.offset.y))}return o}removeElementScroll(a){const o=js();if(rc(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:p}=c;c!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&rc(o,a),Qp(o.x,d.offset.x),Qp(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=js();rc(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Jp(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),$h(d.latestValues)&&Jp(l,d.latestValues)}return $h(this.latestValues)&&Jp(l,this.latestValues),l}removeTransform(a){const o=js();rc(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$h(c.latestValues))continue;Hb(c.latestValues)&&c.updateSnapshot();const d=js(),p=c.measurePageBox();rc(d,p),SI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return $h(this.latestValues)&&SI(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ya.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=Ya.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=js(),this.relativeTargetOrigin=js(),Ug(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),rc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=js(),this.targetWithTransforms=js()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),H4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rc(this.target,this.layout.layoutBox),xU(this.target,this.targetDelta)):rc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=js(),this.relativeTargetOrigin=js(),Ug(this.relativeTargetOrigin,this.target,g.target),rc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hb(this.parent.latestValues)||gU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ya.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;rc(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;n4e(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=js());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_I(this.prevProjectionDelta.x,this.projectionDelta.x),_I(this.prevProjectionDelta.y,this.projectionDelta.y)),Bg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!AI(this.projectionDelta.x,this.prevProjectionDelta.x)||!AI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zp(),this.projectionDelta=Zp(),this.projectionDeltaWithTransform=Zp()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},p=Zp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=js(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,w=m!==y,_=this.getStack(),S=!_||_.members.length<=1,P=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(Dwe));this.animationProgress=0;let A;this.mixTargetDelta=V=>{const W=V/1e3;jI(p.x,a.x,W),jI(p.y,a.y,W),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ug(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fwe(this.relativeTarget,this.relativeTargetOrigin,g,W),A&&wwe(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=js()),rc(A,this.relativeTarget)),w&&(this.animationValues=d,pwe(d,c,this.latestValues,W,P,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(th(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gi.update(()=>{my.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=U1(0)),this.currentAnimation=cwe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kwe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&BU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||js();const p=Ho(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const g=Ho(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}rc(o,l),Jp(o,d),Bg(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new _we),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&e_("z",a,c,this.animationValues);for(let d=0;d<Z3.length;d++)e_(`rotate${Z3[d]}`,a,c,this.animationValues),e_(`skew${Z3[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=py(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=py(o?.pointerEvents)||""),this.hasProjected&&!$h(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=bwe(this.projectionDeltaWithTransform,this.treeScale,d);l&&(p=l(d,p)),a.transform=p;const{x:g,y:m}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in N2){if(d[y]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:S}=N2[y],P=p==="none"?d[y]:w(d[y],c);if(_){const A=_.length;for(let V=0;V<A;V++)a[_[V]]=P}else S?this.options.visualElement.renderState.vars[y]=P:a[y]=P}this.options.layoutId&&(a.pointerEvents=c===this?py(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(II),this.root.sharedNodes.clear()}}}function Ewe(t){t.updateLayout()}function Cwe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?ac(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],g=Ho(p);p.min=r[d].min,p.max=p.min+g}):BU(i,e.layoutBox,r)&&ac(d=>{const p=s?e.measuredBox[d]:e.layoutBox[d],g=Ho(r[d]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=Zp();Bg(a,r,e.layoutBox);const o=Zp();s?Bg(o,t.applyTransform(n,!0),e.measuredBox):Bg(o,r,e.layoutBox);const l=!DU(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const m=js();Ug(m,e.layoutBox,p.layoutBox);const y=js();Ug(y,r,g.layoutBox),OU(m,y)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Nwe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Twe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Awe(t){t.clearSnapshot()}function II(t){t.clearMeasurements()}function PI(t){t.isLayoutDirty=!1}function Iwe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function RI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Pwe(t){t.resolveTargetDelta()}function Rwe(t){t.calcProjection()}function jwe(t){t.resetSkewAndRotation()}function Lwe(t){t.removeLeadSnapshot()}function jI(t,e,r){t.translate=is(e.translate,0,r),t.scale=is(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function LI(t,e,r,n){t.min=is(e.min,r.min,n),t.max=is(e.max,r.max,n)}function Fwe(t,e,r,n){LI(t.x,e.x,r.x,n),LI(t.y,e.y,r.y,n)}function Dwe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Owe={duration:.45,ease:[.4,0,.1,1]},FI=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),DI=FI("applewebkit/")&&!FI("chrome/")?Math.round:fc;function OI(t){t.min=DI(t.min),t.max=DI(t.max)}function Mwe(t){OI(t.x),OI(t.y)}function BU(t,e,r){return t==="position"||t==="preserve-aspect"&&!q4e(TI(e),TI(r),.2)}function Vwe(t){return t!==t.root&&t.scroll?.wasRoot}const Bwe=VU({attachResizeListener:(t,e)=>T2(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),t_={current:void 0},UU=VU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!t_.current){const t=new Bwe({});t.mount(window),t.setOptions({layoutScroll:!0}),t_.current=t}return t_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uwe={pan:{Feature:swe},drag:{Feature:iwe,ProjectionNode:UU,MeasureLayout:jU}};function MI(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Gi.postRender(()=>s(e,mx(e)))}class zwe extends gh{mount(){const{current:e}=this.node;e&&(this.unmount=u5e(e,(r,n)=>(MI(this.node,n,"Start"),i=>MI(this.node,i,"End"))))}unmount(){}}class $we extends gh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fx(T2(this.node.current,"focus",()=>this.onFocus()),T2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VI(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Gi.postRender(()=>s(e,mx(e)))}class qwe extends gh{mount(){const{current:e}=this.node;e&&(this.unmount=p5e(e,(r,n)=>(VI(this.node,n,"Start"),(i,{success:s})=>VI(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jb=new WeakMap,r_=new WeakMap,Hwe=t=>{const e=Jb.get(t.target);e&&e(t)},Wwe=t=>{t.forEach(Hwe)};function Gwe({root:t,...e}){const r=t||document;r_.has(r)||r_.set(r,{});const n=r_.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Wwe,{root:t,...e})),n[i]}function Kwe(t,e,r){const n=Gwe(e);return Jb.set(t,r),n.observe(t),()=>{Jb.delete(t),n.unobserve(t)}}const Ywe={some:0,all:1};class Xwe extends gh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Ywe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=c?d:p;g&&g(l)};return Kwe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Qwe(e,r))&&this.startObserver()}unmount(){}}function Qwe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Jwe={inView:{Feature:Xwe},tap:{Feature:qwe},focus:{Feature:$we},hover:{Feature:zwe}},Zwe={layout:{ProjectionNode:UU,MeasureLayout:jU}},e3e={...M4e,...Jwe,...Uwe,...Zwe},Ia=e4e(e3e,h4e),t3e="/assets/PharmaseaLogo-J4_RPPc9.png";function gm({children:t}){const[e,r]=L.useState(!1);return L.useEffect(()=>{const n=()=>{const s=document.documentElement.classList.contains("dark");r(s)};n();const i=new MutationObserver(n);return i.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>i.disconnect()},[]),u.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:u.jsxs("div",{className:"max-w-md mx-auto px-6 pt-14 pb-10",children:[u.jsxs("div",{className:"flex flex-col items-center mb-10",children:[u.jsx("img",{src:e?"/PharmLogoDark.png":t3e,alt:"Pharmasea",className:"w-40 h-15 object-contain transition-opacity duration-300"}),u.jsx("div",{className:"mt-3 text-zinc-600 dark:text-zinc-400 text-[13px]"})]}),t]})})}function r3e({className:t,stroke:e}){return u.jsx("svg",{viewBox:"0 0 91 152",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:u.jsx("path",{d:"M17.9558 53.3893L8.27792 64.6462C6.66938 66.5171 5.41493 68.6715 4.57719 71.0016L2.02085 78.1119C1.34548 79.9904 1 81.9738 1 83.9727V144.038C1 145.898 2.49116 147.406 4.33061 147.406M17.9558 53.3893V48.6425M17.9558 53.3893L34.6089 64.4141M53.3814 18.7837L54.3809 16.3407C55.821 12.8205 54.0914 8.79384 50.5647 7.4562L47.3257 6.2277L32.2398 1.3232C31.0192 0.92638 29.7113 0.894269 28.4731 1.23072L23.0885 2.69388C15.4164 4.77859 10.0835 11.8129 10.0835 19.8478V25.8211C10.0835 26.8331 10.3089 27.832 10.7429 28.7438L17.2964 42.5105C17.7304 43.4223 17.9558 44.4213 17.9558 45.4332V48.6425M53.3814 18.7837L44.7483 21.5411C42.9395 22.1189 41.5043 23.5227 40.873 25.3318L39.9367 28.0151C39.0833 30.4607 36.1645 31.416 34.0563 29.9399C32.1107 28.5775 29.4231 29.2739 28.3648 31.4147L27.1285 33.9155C26.5328 35.1206 26.7663 36.576 27.7082 37.5287C29.0866 38.9229 28.8627 41.2433 27.2438 42.3416L17.9558 48.6425M53.3814 18.7837V25.8478C53.3814 26.8426 53.5992 27.8251 54.0192 28.7247L57.1065 35.3372C57.8674 36.9669 57.0683 38.9047 55.3879 39.5045C54.1855 39.9338 53.3814 41.0833 53.3814 42.373V45.3402C53.3814 47.4234 52.4286 49.3894 50.8006 50.6655L49.8214 51.4331C48.2553 52.6607 46.1993 53.0475 44.3015 52.4717C40.9857 51.4656 37.5042 53.4323 36.6123 56.8154L34.6089 64.4141M34.6089 64.4141L45.9226 79.1266C46.832 80.3093 47.3257 81.7647 47.3257 83.263V112.494M47.3257 112.494L57.378 114.673C58.9322 115.01 60.0426 116.399 60.0426 118.007M47.3257 112.494L39.2526 111.134C36.4692 110.664 34.2802 108.472 33.7884 105.662L28.5532 75.7452M5.84452 90.4449L16.5969 122.799C17.4252 125.291 19.6115 127.069 22.1963 127.351L44.9035 129.829M44.9035 129.829L58.4183 131.304C59.2857 131.399 60.0426 130.712 60.0426 129.829M44.9035 129.829V144.344C44.9035 146.035 43.5479 147.406 41.8756 147.406M4.33061 147.406V152M4.33061 147.406H41.8756M41.8756 147.406V152M60.0426 118.007L74.9597 115.396C75.4962 115.302 76.0484 115.39 76.5296 115.648L77.5323 116.185C78.9238 116.93 78.8663 118.966 77.435 119.629C75.9577 120.314 75.9577 122.437 77.435 123.122L80.026 124.323C80.6177 124.597 81.2779 124.683 81.9188 124.569L89.2869 123.253C89.8746 123.149 90.2421 123.876 89.8139 124.296L83.029 130.688C81.8106 132.153 79.7275 132.829 77.6711 132.516L60.0426 129.829M60.0426 118.007V129.829",stroke:e,strokeWidth:"1"})})}function n3e({className:t,stroke:e}){return u.jsx("svg",{viewBox:"0 0 124 154",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:u.jsx("path",{d:"M91.0549 25.0462L73.1047 18.9491L69.7581 17.6418M91.0549 25.0462V15.9124C91.0549 12.2404 89.4035 8.76383 86.5593 6.44828L84.0113 4.37386C82.2516 2.94119 80.1275 2.02961 77.8784 1.74191L72.8466 1.09826C69.1654 0.627362 65.4709 1.86534 62.8128 4.46045L55.1546 11.9374M91.0549 25.0462L86.187 39.6793M55.1546 11.9374L42.0162 13.7096C40.4803 13.9168 39.3342 15.2303 39.3342 16.7831C39.3342 18.0841 40.1446 19.2469 41.3636 19.6948L45.7766 21.3161C47.53 21.9603 49.4304 22.0904 51.255 21.6911L53.3292 21.2372M55.1546 11.9374L69.7581 17.6418M69.7581 17.6418L53.3292 21.2372M86.187 39.6793L84.1073 37.9861C82.3434 36.55 81.3192 34.3938 81.3192 32.1164V29.8544C81.3192 28.0625 80.2099 26.4585 78.5355 25.8293C77.2288 25.3383 75.7654 25.5149 74.6123 26.3026L74.4142 26.438C71.9808 28.1005 68.6396 27.1674 67.4151 24.4834L66.8363 23.2147C65.6954 20.7139 62.9904 19.3251 60.2983 19.8579L53.3292 21.2372M86.187 39.6793V42.3816C86.187 47.066 83.509 51.3364 79.2968 53.3686L69.7581 57.9706M53.3292 29.619L50.776 32.8169C49.6344 34.2468 50.2196 36.3768 51.9308 37.0198C52.8004 37.3466 53.4399 38.1002 53.6221 39.0127L54.6658 44.2419C54.9838 45.8349 55.789 47.2892 56.9697 48.4027C59.0405 50.3557 62.0076 51.0253 64.7141 50.1505L65.0424 50.0443M65.0424 50.0443L69.7581 48.5201M65.0424 50.0443L69.7581 57.9706M69.7581 57.9706L58.4277 73.5484C57.2767 75.1309 56.523 76.9678 56.2302 78.9039L55.2919 85.1091C55.2005 85.7137 55.1546 86.3243 55.1546 86.9358V105.833M86.187 51.5686L94.7057 60.4094M94.7057 60.4094L97.2251 68.7403C97.5719 69.8869 97.7481 71.0785 97.7481 72.2767V117.417M94.7057 60.4094L86.5047 58.9153C83.1962 58.3125 79.7862 59.1084 77.0841 61.1141L76.4306 61.5991C74.274 63.1998 72.706 65.4699 71.9705 68.0562L66.3979 87.6526C65.643 90.3072 67.1319 93.082 69.7581 93.915M94.7057 60.4094C96.5984 57.3751 99.9175 55.5317 103.489 55.5317H110.691C116.582 55.5317 121.628 59.7609 122.669 65.5717L122.809 66.3525C122.936 67.0635 123 67.7844 123 68.5068V114.611C123 116.438 122.439 118.22 121.394 119.717C119.731 122.097 117.014 123.514 114.114 123.514H98.3397M97.7481 117.417L98.3397 123.514M97.7481 117.417L84.4731 103.089M56.6758 119.856V136.318C56.6758 138.33 58.3187 139.953 60.3267 139.925M56.6758 119.856L71.2748 118.208C75.606 117.719 79.3455 114.946 81.0785 110.939L84.4731 103.089M56.6758 119.856L51.8317 119.407C49.6266 119.202 47.4077 119.604 45.4139 120.57L41.0962 122.661C39.944 123.219 38.6602 123.447 37.3868 123.319L30.7529 122.655C29.0361 122.483 28.0373 120.626 28.8379 119.094M86.187 99.126L94.7057 79.9202M86.187 99.126L69.7581 93.915M86.187 99.126L84.4731 103.089M98.3397 123.514L99.3773 134.208C99.6467 136.986 97.4902 139.401 94.7057 139.44M55.1546 105.833L53.3508 106.408C50.2244 107.405 46.8289 107.094 43.934 105.547L39.3342 103.089M55.1546 105.833L60.1247 104.684C64.3874 103.698 67.7941 100.495 69.0476 96.2957L69.7581 93.915M39.3342 103.089H32.8489C32.3189 103.089 31.8032 103.261 31.3792 103.58C29.9657 104.642 30.1054 106.809 31.6436 107.68L31.8803 107.814M39.3342 103.089V85.7124C39.3342 82.5134 36.7461 79.9202 33.5536 79.9202M18.6459 113.759H29.0173C29.7889 113.759 30.5391 113.505 31.152 113.035L32.1866 112.242C33.6989 111.083 33.5377 108.753 31.8803 107.814M18.6459 113.759L20.9268 116.299C22.9188 118.516 25.8982 119.569 28.8379 119.094M18.6459 113.759H13.1696C6.44851 113.759 1 108.3 1 101.565V86.9318C1 83.0594 4.13289 79.9202 7.99751 79.9202M28.8379 119.094L33.5536 118.332M7.99751 79.9202L8.39241 78.1395C8.92777 75.7255 10.1829 73.5317 11.9914 71.849L13.4738 70.4696M7.99751 79.9202H33.5536M7.99751 79.9202V100.65M13.4738 70.4696H13.1696C10.9852 70.4696 9.21446 68.6953 9.21446 66.5065C9.21446 64.3178 10.9852 62.5434 13.1696 62.5434H28.0773C30.2617 62.5434 32.0324 64.3178 32.0324 66.5065V66.8114C32.0324 68.8318 30.3979 70.4696 28.3815 70.4696M13.4738 70.4696H28.3815M28.3815 70.4696L30.207 74.4328L33.5536 79.9202M33.5536 79.9202V88.4561C33.5536 95.1908 28.1051 100.65 21.384 100.65H7.99751M7.99751 100.65C7.99751 104.684 11.2741 107.946 15.2991 107.92L31.8803 107.814M60.3267 139.925V154M60.3267 139.925L94.7057 139.44M94.7057 139.44V154M20.7756 83.5784V89.9804M20.7756 89.9804V96.3824M20.7756 89.9804H26.5561M20.7756 89.9804H14.3865",stroke:e,strokeWidth:"1"})})}function i3e(){const[t,e]=L.useState("customer"),r=oi(),n=()=>{r(t==="customer"?"/auth/customer/signin":"/auth/pharmacy/signin")};return u.jsx(gm,{children:u.jsxs(Ia.div,{initial:"hidden",animate:"show",exit:"hidden",variants:{hidden:{opacity:0,y:6},show:{opacity:1,y:0,transition:{staggerChildren:.08,when:"beforeChildren"}}},children:[u.jsxs(Ia.h1,{variants:{hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.5}}},className:"mt-4 font-poppins text-[32px] sm:text-[38px] md:text-[42px] lg:text-[50px] font-thin tracking-tight leading-[109%] text-left lg:text-left lg:max-w-4xl",children:[u.jsx("span",{className:"block lg:inline",children:"HealthCare at"})," ",u.jsx("span",{className:"block lg:inline",children:"Your Doorstep"})]}),u.jsx(Ia.p,{variants:{hidden:{opacity:0,y:6},show:{opacity:1,y:0,transition:{duration:.45}}},className:"mt-1 text-black text-[13px] sm:text-[14px] md:text-[16px] tracking-tight font-thin leading-[154%] font-poppins text-left lg:text-left lg:max-w-2xl",children:"Pick up and deliver medical prescribed medications and, over-the-counter items from pharmacies to your doorstep."}),u.jsxs(Ia.div,{className:"mt-8 flex flex-row gap-4 w-full max-w-[350px] mx-0",variants:{hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.45}}},children:[u.jsxs(Ia.button,{onClick:()=>e("customer"),whileHover:{scale:1.035},whileTap:{scale:.985},className:`relative rounded-3xl p-0 text-left font-poppins bg-[#F7F7F7]/10 w-[169px] h-[169px] ${t==="customer"?"border-[#36A5FF] border-[3px] ring-3 ring-[#36A5FF]":"border-[#36A5FF] border-[1px]"} card-interactive transition-all duration-200 shadow-sm group`,children:[u.jsxs("div",{className:"absolute left-[9px] md:top-[70px] top-[80px] text-[20px] sm:text-[25px] font-light tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:["I’m a",u.jsx("br",{}),"customer"]}),u.jsx("div",{className:"absolute left-[9px] md:top-[127px] top-[127px] text-black text-[12px] sm:text-[13px] font-extralight tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:"Sign Up or Login as a customer"})]}),u.jsxs(Ia.button,{onClick:()=>e("pharmacy"),whileHover:{scale:1.035},whileTap:{scale:.985},className:`relative rounded-3xl p-0 text-left font-poppins bg-[#F7F7F7]/10 w-[169px] h-[169px] ${t==="pharmacy"?"border-[#36A5FF] border-[3px] ring-3 ring-[#36A5FF]":"border-[#36A5FF] border-[1px]"} card-interactive transition-all duration-200 shadow-sm group`,children:[u.jsxs("div",{className:"absolute left-[9px] md:top-[70px] top-[80px] text-[20px] sm:text-[25px] font-light tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:["I’m a",u.jsx("br",{}),"pharmacy"]}),u.jsx("div",{className:"absolute left-[9px] md:top-[127px] top-[127px] text-black text-[12px] sm:text-[13px] font-extralight tracking-tight leading-[109%] font-poppins group-hover:text-[#36A5FF] transition-colors duration-200",children:"Sign Up or Login as a pharmacy"})]})]}),u.jsx(Ia.div,{className:"flex justify-start w-full max-w-[350px] mx-0",children:u.jsx(Ia.button,{onClick:n,disabled:!t,whileHover:t?{scale:1.02}:{},whileTap:t?{scale:.985}:{},className:`mt-8 w-full h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] font-light flex items-center justify-center btn-interactive transition-all duration-200 shadow-sm ${t?"border-[#36A5FF] text-[#36A5FF] cursor-pointer bg-white":"border-zinc-300 dark:border-gray-600 text-zinc-400 cursor-not-allowed bg-white"}`,children:"Continue"})}),u.jsx(Ia.div,{className:"pointer-events-none fixed bottom-0 left-0 right-0 z-10 md:hidden flex justify-center",variants:{hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.5}}},children:u.jsxs("div",{className:"flex flex-row items-end gap-0 justify-center",children:[u.jsx(r3e,{className:"w-[22vw] max-w-[110px] h-auto",stroke:t==="customer"?"#36A5FF":"#9C9C9C"}),u.jsx(n3e,{className:"w-[28vw] max-w-[142px] h-auto -ml-4",stroke:t==="pharmacy"?"#36A5FF":"#989898"})]})})]})})}const s3e="Left",a3e="Right",o3e="Up",l3e="Down",e1={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Zb={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},BI="mousemove",UI="mouseup",c3e="touchend",u3e="touchmove",d3e="touchstart";function f3e(t,e,r,n){return t>e?r>0?a3e:s3e:n>0?l3e:o3e}function zI(t,e){if(e===0)return t;const r=Math.PI/180*e,n=t[0]*Math.cos(r)+t[1]*Math.sin(r),i=t[1]*Math.cos(r)-t[0]*Math.sin(r);return[n,i]}function h3e(t,e){const r=d=>{const p="touches"in d;p&&d.touches.length>1||t((g,m)=>{m.trackMouse&&!p&&(document.addEventListener(BI,n),document.addEventListener(UI,a));const{clientX:y,clientY:w}=p?d.touches[0]:d,_=zI([y,w],m.rotationAngle);return m.onTouchStartOrOnMouseDown&&m.onTouchStartOrOnMouseDown({event:d}),Object.assign(Object.assign(Object.assign({},g),Zb),{initial:_.slice(),xy:_,start:d.timeStamp||0})})},n=d=>{t((p,g)=>{const m="touches"in d;if(m&&d.touches.length>1)return p;if(d.timeStamp-p.start>g.swipeDuration)return p.swiping?Object.assign(Object.assign({},p),{swiping:!1}):p;const{clientX:y,clientY:w}=m?d.touches[0]:d,[_,S]=zI([y,w],g.rotationAngle),P=_-p.xy[0],A=S-p.xy[1],V=Math.abs(P),W=Math.abs(A),K=(d.timeStamp||0)-p.start,j=Math.sqrt(V*V+W*W)/(K||1),T=[P/(K||1),A/(K||1)],C=f3e(V,W,P,A),D=typeof g.delta=="number"?g.delta:g.delta[C.toLowerCase()]||e1.delta;if(V<D&&W<D&&!p.swiping)return p;const R={absX:V,absY:W,deltaX:P,deltaY:A,dir:C,event:d,first:p.first,initial:p.initial,velocity:j,vxvy:T};R.first&&g.onSwipeStart&&g.onSwipeStart(R),g.onSwiping&&g.onSwiping(R);let F=!1;return(g.onSwiping||g.onSwiped||g[`onSwiped${C}`])&&(F=!0),F&&g.preventScrollOnSwipe&&g.trackTouch&&d.cancelable&&d.preventDefault(),Object.assign(Object.assign({},p),{first:!1,eventData:R,swiping:!0})})},i=d=>{t((p,g)=>{let m;if(p.swiping&&p.eventData){if(d.timeStamp-p.start<g.swipeDuration){m=Object.assign(Object.assign({},p.eventData),{event:d}),g.onSwiped&&g.onSwiped(m);const y=g[`onSwiped${m.dir}`];y&&y(m)}}else g.onTap&&g.onTap({event:d});return g.onTouchEndOrOnMouseUp&&g.onTouchEndOrOnMouseUp({event:d}),Object.assign(Object.assign(Object.assign({},p),Zb),{eventData:m})})},s=()=>{document.removeEventListener(BI,n),document.removeEventListener(UI,a)},a=d=>{s(),i(d)},o=(d,p)=>{let g=()=>{};if(d&&d.addEventListener){const m=Object.assign(Object.assign({},e1.touchEventOptions),p.touchEventOptions),y=[[d3e,r,m],[u3e,n,Object.assign(Object.assign({},m),p.preventScrollOnSwipe?{passive:!1}:{})],[c3e,i,m]];y.forEach(([w,_,S])=>d.addEventListener(w,_,S)),g=()=>y.forEach(([w,_])=>d.removeEventListener(w,_))}return g},c={ref:d=>{d!==null&&t((p,g)=>{if(p.el===d)return p;const m={};return p.el&&p.el!==d&&p.cleanUpTouch&&(p.cleanUpTouch(),m.cleanUpTouch=void 0),g.trackTouch&&d&&(m.cleanUpTouch=o(d,g)),Object.assign(Object.assign(Object.assign({},p),{el:d}),m)})}};return e.trackMouse&&(c.onMouseDown=r),[c,o]}function p3e(t,e,r,n){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==r.preventScrollOnSwipe||e.touchEventOptions.passive!==r.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})}function m3e(t){const{trackMouse:e}=t,r=L.useRef(Object.assign({},Zb)),n=L.useRef(Object.assign({},e1)),i=L.useRef(Object.assign({},n.current));i.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},e1),t);let s;for(s in e1)n.current[s]===void 0&&(n.current[s]=e1[s]);const[a,o]=L.useMemo(()=>h3e(l=>r.current=l(r.current,n.current),{trackMouse:e}),[e]);return r.current=p3e(r.current,n.current,i.current,o),a}const n_=[{title:"Welcome to Pharmasea",description:"Your trusted digital pharmacy marketplace.",illustration:"/onboarding/Onboarding 1.png"},{title:"Find Verified Pharmacies",description:"Easily locate licensed pharmacies near you.",illustration:"/onboarding/Onboarding 2.png"},{title:"Order & Refill Medications",description:"Order prescriptions and over-the-counter drugs with ease.",illustration:"/onboarding/Onboarding 3.png"},{title:"Secure Payments & Fast Delivery",description:"Pay safely through integrated wallets and get doorstep delivery.",illustration:"/onboarding/Onboarding 4.png"},{title:"Pharmacy Dashboard (for Vendors)",description:"Manage your products, sales, and customers in one place.",illustration:"/onboarding/Onboarding 5.png"},{title:"Join the Pharmasea Community",description:"Connect with healthcare professionals and customers easily.",illustration:"/onboarding/Onboarding 6.png"}],g3e=["#D1FFF8","#FFDBDB","#D9FFE1","#FFF7CD","#EFE1FF","#E1F2FF"];function x3e(){const t=oi(),[e,r]=L.useState(0),[n,i]=L.useState(!1),s=n_.length,a=L.useMemo(()=>n_[e],[e]),o=()=>t("/auth/landing",{replace:!0}),l=()=>{if(!n){if(e>=s-1){t("/auth/landing",{replace:!0});return}i(!0),r(y=>Math.min(y+1,s-1))}},c=()=>{n||e!==0&&(i(!0),r(y=>Math.max(y-1,0)))},d=L.useCallback(y=>{y.key==="ArrowRight"&&l(),y.key==="ArrowLeft"&&c(),y.key==="Escape"&&o()},[e,n]);L.useEffect(()=>(window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)),[d]);const p=m3e({onSwipedLeft:()=>l(),onSwipedRight:()=>c(),delta:50,preventDefaultTouchmoveEvent:!0,trackMouse:!0}),m={backgroundColor:g3e[e]||"#FFFFFF",width:"100vw",marginLeft:"calc(50% - 50vw)",marginRight:"calc(50% - 50vw)"};return u.jsxs("div",{className:"relative flex min-h-screen flex-col overflow-hidden transition-colors duration-300",style:m,children:[e!==s-1&&u.jsx("button",{type:"button",onClick:o,"aria-label":"Skip onboarding",className:"fixed right-4 top-4 z-50 pointer-events-auto text-sm font-normal text-sky-500 transition-colors hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-400 dark:text-slate-400 dark:hover:text-white",style:{WebkitTapHighlightColor:"transparent"},children:"Skip"}),u.jsx("div",{className:"flex w-full max-w-none flex-1 flex-col items-start px-0 pb-28 sm:px-0 lg:px-0",style:{paddingTop:23},children:u.jsxs("div",{...p,className:"flex flex-col mr-auto self-start w-full",children:[u.jsxs("div",{className:"w-full max-w-xl pr-6 sm:pr-8 md:pr-56 lg:pr-64 lg:max-w-none",children:[u.jsx(Ia.div,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-4 mt-16 flex justify-center lg:justify-center",children:u.jsx("img",{src:"/PharmLogo.png",alt:"Pharmasea",className:"mx-auto h-8 sm:h-10 md:h-12 lg:h-16 object-contain"})}),u.jsxs(b5e,{mode:"wait",children:[u.jsx(Ia.h1,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.45},className:"mt-8 text-left text-4xl font-light leading-tight sm:text-3xl md:text-4xl lg:text-6xl pl-4 sm:pl-6 lg:pl-6 pr-4 sm:pr-6 lg:pr-6",children:a.title.includes("(for Vendors)")?u.jsxs(u.Fragment,{children:[a.title.replace(" (for Vendors)",""),u.jsx("span",{className:"ml-2 align-left text-sm font-light text-slate-500 dark:text-slate-400",children:"(for Vendors)"})]}):a.title},a.title),u.jsx(Ia.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.45,delay:.04},className:"mt-4 max-w-xl lg:max-w-none text-left text-[17px] font-normal text-slate-500 dark:text-slate-300 sm:text-lg lg:text-[22px] pl-4 sm:pl-6 lg:pl-6 pr-4 sm:pr-6 lg:pr-6",children:a.description},a.description)]})]}),u.jsx("div",{className:"relative mt-8 flex w-full justify-end",style:{bottom:70},children:u.jsx("div",{className:"w-full max-w-[400px] sm:max-w-[440px] h-0","aria-hidden":!0})})]})}),u.jsxs(Ia.span,{initial:{opacity:0,y:-6},animate:{opacity:1,y:0},transition:{duration:.35},className:"fixed left-4 top-4 z-50 text-xs uppercase tracking-[0.25em] text-slate-400 dark:text-slate-500 pointer-events-none",children:["Step ",e+1," of ",s]}),u.jsx(Ia.img,{src:a.illustration,alt:"","aria-hidden":"true",loading:"lazy",initial:{opacity:0,y:24,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:24,scale:.98},transition:{type:"spring",stiffness:160,damping:20},onAnimationComplete:()=>i(!1),className:"fixed bottom-4 right-4 pointer-events-none z-10 w-[320px] max-w-[90vw] sm:w-[420px] md:w-[520px] object-contain will-change-transform",style:{maxWidth:"min(520px, 90vw)"}},a.illustration),u.jsx("div",{"aria-hidden":!0,className:"fixed inset-x-0 bottom-6 z-40 flex justify-center pointer-events-none",children:u.jsxs("div",{className:"w-full max-w-md pointer-events-auto relative flex items-center justify-between px-4",children:[u.jsx("button",{type:"button",onClick:c,disabled:e===0,"aria-label":"Go to previous",className:"z-20 text-sm font-normal text-slate-500 transition-colors hover:text-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-400 disabled:pointer-events-none disabled:opacity-0 dark:text-slate-400 dark:hover:text-white bg-white/0 backdrop-blur rounded-md px-3 py-2",children:"back"}),e===s-1?u.jsx("div",{className:"w-0"}):u.jsx("div",{className:"flex items-center gap-2 z-10 pointer-events-auto",children:n_.map((y,w)=>u.jsx(Ia.span,{layout:!0,initial:!1,animate:{scale:w===e?1.15:1,backgroundColor:w===e?"#0f172a":"#e6e9ee"},transition:{type:"spring",stiffness:300,damping:20},onClick:()=>{n||(i(!0),r(w))},className:"h-2 w-2 rounded-full cursor-pointer dark:cursor-pointer","aria-label":`Go to step ${w+1}`},w))}),u.jsx("div",{className:"relative w-full flex justify-end items-center z-20 pointer-events-auto px-4",children:u.jsx(Ia.div,{layoutId:"cta",layout:!0,transition:{layout:{type:"spring",stiffness:320,damping:28}},className:"flex items-center justify-end w-full",style:{display:"flex",justifyContent:"flex-end"},children:e===s-1?u.jsx(Ia.button,{type:"button",onClick:l,whileTap:{scale:.985},whileHover:{scale:1.02},className:"h-14 shadow-md bg-sky-600 text-lg font-medium text-white transition-colors hover:bg-sky-600/90 active:scale-[1] dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200 pointer-events-auto",style:{minWidth:220,borderRadius:999,zIndex:999},children:"Continue"},"continue-btn"):u.jsx(Ia.button,{type:"button",onClick:l,whileTap:{scale:.96},whileHover:{scale:1.02},className:"flex h-14 items-center justify-center shadow-md rounded-full bg-sky-600 text-lg font-normal text-white transition-colors dark:bg-white dark:text-slate-900 dark:hover:bg-slate-200 pointer-events-auto",style:{width:56,height:56,borderRadius:999,zIndex:999},children:"Next"},"next-btn")})})]})})]})}function gx({to:t}){const e=oi();return u.jsx("button",{onClick:()=>e(t||-1),className:"mb-5 w-[70px] h-[20px] font-poppins font-extralight tracking-tight text-[12px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600",children:"← Back"})}function zU({email:t}){return u.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-800",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 max-w-md w-full text-center",children:[u.jsxs("h2",{className:"text-xl font-thin mb-2",children:["Registration",u.jsx("br",{}),"Successful!"]}),u.jsxs("p",{className:"mb-4 text-zinc-600 text-[13px]",children:["A verification link has been sent to ",u.jsx("b",{children:t}),".",u.jsx("br",{}),"Please check your inbox and verify your email to continue."]}),u.jsx(m0,{to:"/auth/customer/signin",className:"mt-4 inline-block px-4 py-2 bg-sky-600 text-white rounded-full",children:"Go to Sign In"})]})})}const v3e=()=>u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});function $U({onClick:t,loading:e=!1,children:r,className:n=""}){return u.jsxs("button",{type:"button",onClick:t,disabled:e,className:`w-full sm:w-[359px] h-[47px] rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 flex items-center justify-center gap-3 font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light text-gray-700 dark:text-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${n}`,children:[e?u.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):u.jsx(v3e,{}),u.jsx("span",{children:r})]})}const qU=()=>{if(typeof window>"u"||new URLSearchParams(window.location.search).get("debugGoogleAuth")!=="1")return;console.group("🔍 Google Auth Configuration Diagnostic"),console.log("Firebase Config:"),console.log("- API Key:","✅ Present"),console.log("- Auth Domain:","✅ Present"),console.log("- Project ID:","✅ Present"),console.log("Environment:","🚀 Production"),console.log("Host:",window.location.hostname),console.log("Protocol:",window.location.protocol),console.log("User Agent:",navigator.userAgent.includes("Chrome")?"✅ Chrome":navigator.userAgent.includes("Safari")?"⚠️ Safari (may have popup restrictions)":navigator.userAgent.includes("Firefox")?"⚠️ Firefox (may have popup restrictions)":"❓ Other"),console.groupEnd();const e=document.createElement("div");e.style.cssText=`
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(0,0,0,0.9);
    color: white;
    padding: 10px;
    border-radius: 5px;
    font-size: 12px;
    z-index: 9999;
    max-width: 300px;
  `,e.innerHTML=`
    <strong>🔍 Google Auth Debug</strong><br>
    API Key: ✅<br>
    Auth Domain: ✅<br>
    Project ID: ✅<br>
    Host: ${window.location.hostname}<br>
    <small>Add ?debugGoogleAuth=1 to see console logs</small>
  `,document.body.appendChild(e),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},1e4)};function y3e(){const{signUp:t,signUpWithGoogle:e}=In(),{userCoords:r,location:n,locationError:i}=K0(),[s,a]=L.useState({name:"",email:"",phone:"",password:"",address:""}),[o,l]=L.useState(!1),[c,d]=L.useState(!1),[p,g]=L.useState(null),[m,y]=L.useState([]),[w,_]=L.useState(null),S=L.useRef(),[P,A]=L.useState(!1),V=oi();L.useEffect(()=>{qU()},[]);const W=async D=>{if(!D)return y([]);const F=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(D)}&addressdetails=1&limit=5`)).json();y(F)},K=D=>{const R=D.target.value;a({...s,address:R}),_(null),clearTimeout(S.current),S.current=setTimeout(()=>W(R),400)},j=D=>{a({...s,address:D.display_name}),_(D),y([])},T=async D=>{D.preventDefault(),l(!0);try{if(!s.address)throw new Error("Address is required");const R=await t({email:s.email,password:s.password,displayName:s.name,role:"customer",address:s.address,lat:w?.lat,lon:w?.lon,phone:s.phone});g(s.email)}catch(R){alert(R.message)}finally{l(!1)}},C=async()=>{d(!0);try{console.log("Starting Google registration process..."),console.log("User location:",{location:n,userCoords:r});const D={address:n,latitude:r?.latitude,longitude:r?.longitude},R=await e(D);console.log("Google registration result:",R),R.isNewUser?(console.log("New user created, showing success screen"),g(R.user.email)):R.existingCustomer?(console.log("Existing customer, navigating to home"),V("/")):(console.log("Existing user, navigating to home"),V("/"))}catch(D){console.error("Google registration failed:",D),D.message&&!D.message.includes("Firebase:")?alert(D.message):alert("Google registration failed. Please try again or contact support if the issue persists.")}finally{d(!1)}};return p?u.jsx(zU,{email:p}):u.jsxs(gm,{children:[u.jsx(gx,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),u.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left",children:["I'm a",u.jsx("br",{}),"Customer"]}),u.jsxs("form",{onSubmit:T,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[u.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Full Name",value:s.name,onChange:D=>a({...s,name:D.target.value})}),u.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:s.email,onChange:D=>a({...s,email:D.target.value})}),u.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Phone Number",value:s.phone,onChange:D=>a({...s,phone:D.target.value})}),u.jsxs("div",{className:"relative mb-4",children:[u.jsx("input",{className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Address (required)",value:s.address||"",onChange:K,required:!0,autoComplete:"off"}),m.length>0&&u.jsx("div",{className:"absolute left-0 right-0 bg-white dark:bg-gray-800 border border-zinc-200 rounded shadow z-10 max-h-40 overflow-y-auto",children:m.map(D=>u.jsx("div",{className:"px-4 py-2 hover:bg-sky-50 cursor-pointer text-[13px]",onClick:()=>j(D),children:D.display_name},D.place_id))})]}),u.jsxs("div",{className:"relative mb-4",children:[u.jsx("input",{type:P?"text":"password",className:"w-full mb-0 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Choose a password",value:s.password,onChange:D=>a({...s,password:D.target.value})}),u.jsx("button",{type:"button",onClick:()=>A(D=>!D),"aria-pressed":P,"aria-label":P?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:P?u.jsx(e4,{className:"h-5 w-5"}):u.jsx(X2,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"flex justify-center w-full",children:u.jsx("button",{disabled:o,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:o?"Registering…":"Register"})})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-center",children:[u.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"}),u.jsx("span",{className:"px-4 text-gray-500 dark:text-gray-400 text-sm",children:"or"}),u.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"})]}),u.jsx("div",{className:"mt-6 flex justify-center",children:u.jsx($U,{onClick:C,loading:c,children:"Register with Google"})}),!i&&r&&u.jsx("div",{className:"mt-3 text-center text-xs text-gray-500 dark:text-gray-400",children:"Google registration will use your current location as address"}),i&&u.jsx("div",{className:"mt-3 text-center text-xs text-red-500 dark:text-red-400",children:"Location access required for Google registration"}),u.jsxs("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Already have an account? ",u.jsx(m0,{to:"/auth/customer/signin",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Sign In"})]})]})}const $I=t=>{const e=t.code||t.message;return e.includes("auth/invalid-credential")||e.includes("auth/wrong-password")||e.includes("auth/user-not-found")?"Invalid email or password. Please check your credentials and try again.":e.includes("auth/invalid-email")?"Please enter a valid email address.":e.includes("auth/too-many-requests")?"Too many failed attempts. Please try again later.":e.includes("auth/network-request-failed")?"Network error. Please check your connection and try again.":e.includes("auth/popup-closed-by-user")?"Google sign-in was cancelled. Please try again.":e.includes("auth/popup-blocked")?"Pop-up was blocked by your browser. Please allow pop-ups and try again.":e.includes("auth/account-exists-with-different-credential")?"An account with this email exists with a different sign-in method. Please use your email and password instead.":!e.includes("auth/")&&!e.includes("Firebase:")?t.message:"Sign in failed. Please try again."};function w3e(){const{signIn:t,signInWithGoogle:e}=In(),[r,n]=L.useState({email:"",password:""}),[i,s]=L.useState(!1),[a,o]=L.useState(!1),[l,c]=L.useState(null),[d,p]=L.useState(!1),g=oi();L.useEffect(()=>{qU()},[]);const m=async w=>{w.preventDefault(),s(!0),c(null);try{await t(r.email,r.password),g("/")}catch(_){c($I(_))}finally{s(!1)}},y=async()=>{o(!0),c(null);try{console.log("Starting Google sign-in process...");const w=await e();console.log("Google sign-in successful, navigating to home"),g("/")}catch(w){console.error("Google sign-in failed:",w),w.message&&!w.message.includes("Firebase:")?c(w.message):c($I(w))}finally{o(!1)}};return u.jsxs(gm,{children:[u.jsx(gx,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),u.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left text-black dark:text-white",children:["I'm a",u.jsx("br",{}),"Customer"]}),l&&u.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[u.jsx(Ik,{className:"h-4 w-4 text-red-500 dark:text-red-400 flex-shrink-0"}),u.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:l}),u.jsx("button",{onClick:()=>c(null),className:"ml-auto text-red-400 dark:text-red-500 hover:text-red-600 dark:hover:text-red-300","aria-label":"Dismiss error",children:"×"})]}),u.jsxs("form",{onSubmit:m,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[u.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:r.email,onChange:w=>n({...r,email:w.target.value})}),u.jsxs("div",{className:"relative mb-4",children:[u.jsx("input",{type:d?"text":"password",className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Password",value:r.password,onChange:w=>n({...r,password:w.target.value}),"aria-label":"Password"}),u.jsx("button",{type:"button",onClick:()=>p(w=>!w),"aria-pressed":d,"aria-label":d?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400 hover:text-zinc-700 dark:hover:text-zinc-200",children:d?u.jsx(e4,{className:"h-5 w-5"}):u.jsx(X2,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"flex justify-center w-full",children:u.jsx("button",{disabled:i,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] dark:border-sky-400 text-[#36A5FF] dark:text-sky-400 bg-white dark:bg-gray-800 mt-4 flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in…":"Sign In"})})]}),u.jsxs("div",{className:"mt-6 flex items-center justify-center",children:[u.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"}),u.jsx("span",{className:"px-4 text-gray-500 dark:text-gray-400 text-sm",children:"or"}),u.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 flex-1"})]}),u.jsx("div",{className:"mt-6 flex justify-center",children:u.jsx($U,{onClick:y,loading:a,children:"Sign in with Google"})}),u.jsx("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:u.jsx(m0,{to:"/auth/forgot-password",className:"text-sky-600 dark:text-sky-400 font-medium hover:text-sky-700 dark:hover:text-sky-300",children:"Forgot password?"})}),u.jsxs("div",{className:"mt-2 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Don't have an account? ",u.jsx(m0,{to:"/auth/customer/register",className:"text-sky-600 dark:text-sky-400 font-medium hover:text-sky-700 dark:hover:text-sky-300",children:"Register"})]})]})}function _3e(){const{signUp:t}=In(),[e,r]=L.useState({name:"",email:"",phone:"",address:"",password:""}),[n,i]=L.useState(!1),[s,a]=L.useState([]),[o,l]=L.useState(null),[c,d]=L.useState(null),p=L.useRef(),[g,m]=L.useState(!1);oi();const y=async S=>{if(!S)return a([]);const A=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(S)}&addressdetails=1&limit=5`)).json();a(A)},w=S=>{const P=S.target.value;r({...e,address:P}),l(null),clearTimeout(p.current),p.current=setTimeout(()=>y(P),400)},_=async S=>{S.preventDefault(),i(!0);try{await t({email:e.email,password:e.password,displayName:e.name,role:"pharmacy"});const P=yf.currentUser?.uid;P&&await Bc(Qt(ht,"pharmacies",P),{id:P,name:e.name,email:e.email,address:e.address,lat:o?.lat||null,lon:o?.lon||null,etaMins:25,phone:e.phone}),d(e.email)}catch(P){alert(P.message)}finally{i(!1)}};return c?u.jsx(zU,{email:c}):u.jsxs(gm,{children:[u.jsx(gx,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),u.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left",children:["I'm a",u.jsx("br",{}),"Pharmacy"]}),u.jsxs("form",{onSubmit:_,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[u.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Pharmacy Name",value:e.name,onChange:S=>r({...e,name:S.target.value})}),u.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:e.email,onChange:S=>r({...e,email:S.target.value})}),u.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Phone Number",value:e.phone,onChange:S=>r({...e,phone:S.target.value})}),u.jsx("input",{className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Address",value:e.address,onChange:w}),u.jsxs("div",{className:"relative mb-4",children:[u.jsx("input",{type:g?"text":"password",className:"w-full mb-0 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Choose a password",value:e.password,onChange:S=>r({...e,password:S.target.value})}),u.jsx("button",{type:"button",onClick:()=>m(S=>!S),"aria-pressed":g,"aria-label":g?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:g?u.jsx(e4,{className:"h-5 w-5"}):u.jsx(X2,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"flex justify-center w-full",children:u.jsx("button",{disabled:n,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:n?"Registering…":"Register"})})]}),u.jsxs("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Already have an account? ",u.jsx(m0,{to:"/auth/pharmacy/signin",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Sign In"})]})]})}const b3e=t=>{const e=t.code||t.message;return e.includes("auth/invalid-credential")||e.includes("auth/wrong-password")||e.includes("auth/user-not-found")?"Invalid email or password. Please check your credentials and try again.":e.includes("auth/invalid-email")?"Please enter a valid email address.":e.includes("auth/too-many-requests")?"Too many failed attempts. Please try again later.":e.includes("auth/network-request-failed")?"Network error. Please check your connection and try again.":"Sign in failed. Please try again."};function k3e(){const{signIn:t}=In(),[e,r]=L.useState({email:"",password:""}),[n,i]=L.useState(!1),[s,a]=L.useState(null),[o,l]=L.useState(!1),c=oi(),d=async p=>{p.preventDefault(),i(!0),a(null);try{await t(e.email,e.password),c("/")}catch(g){a(b3e(g))}finally{i(!1)}};return u.jsxs(gm,{children:[u.jsx(gx,{to:"/auth/landing",className:"w-[78px] h-[27px] font-poppins font-extralight tracking-tight text-[14px] sm:text-[16px]"}),u.jsxs("div",{className:"font-poppins text-[32px] sm:text-[42px] md:text-[54px] lg:text-[64px] font-thin tracking-tight leading-[109%] text-left text-black dark:text-white",children:["I'm a",u.jsx("br",{}),"Pharmacy"]}),s&&u.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2",children:[u.jsx(Ik,{className:"h-4 w-4 text-red-500 dark:text-red-400 flex-shrink-0"}),u.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm font-medium",children:s}),u.jsx("button",{onClick:()=>a(null),className:"ml-auto text-red-400 dark:text-red-500 hover:text-red-600 dark:hover:text-red-300","aria-label":"Dismiss error",children:"×"})]}),u.jsxs("form",{onSubmit:d,className:"mt-8 w-full max-w-md md:max-w-xl lg:max-w-2xl mx-auto font-poppins",children:[u.jsx("input",{type:"email",className:"w-full mb-4 px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Email Address",value:e.email,onChange:p=>r({...e,email:p.target.value})}),u.jsxs("div",{className:"relative mb-4",children:[u.jsx("input",{type:o?"text":"password",className:"w-full px-4 py-2 border-b border-zinc-300 dark:border-gray-600 bg-transparent font-thin text-[13px] sm:text-[14px] md:text-[16px] lg:text-[18px] font-poppins placeholder:text-left text-black dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:outline-none focus:border-[#36A5FF]",placeholder:"Password",value:e.password,onChange:p=>r({...e,password:p.target.value}),"aria-label":"Password"}),u.jsx("button",{type:"button",onClick:()=>l(p=>!p),"aria-pressed":o,"aria-label":o?"Hide password":"Show password",className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-zinc-500 dark:text-zinc-400",children:o?u.jsx(e4,{className:"h-5 w-5"}):u.jsx(X2,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"flex justify-center w-full",children:u.jsx("button",{disabled:n,className:"w-full sm:w-[359px] h-[47px] rounded-full border font-poppins text-[14px] sm:text-[16px] lg:text-[18px] font-light border-[#36A5FF] text-[#36A5FF] bg-white dark:bg-gray-800 mt-4 flex items-center justify-center",children:n?"Signing in…":"Sign In"})})]}),u.jsx("div",{className:"mt-6 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:u.jsx(m0,{to:"/auth/forgot-password",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Forgot password?"})}),u.jsxs("div",{className:"mt-2 text-center text-zinc-500 dark:text-zinc-400 text-[13px] sm:text-[14px] md:text-[16px] font-light",children:["Don’t have an account? ",u.jsx(m0,{to:"/auth/pharmacy/register",className:"text-sky-600 dark:text-sky-400 font-medium",children:"Register"})]})]})}function S3e(){const{user:t,logout:e}=In(),[r,n]=L.useState(!1),[i,s]=L.useState(!1),a=oi();if(L.useEffect(()=>{t&&t.emailVerified},[t]),!t||t.emailVerified)return null;const o=async()=>{s(!0),await NF(t),n(!0),s(!1)},l=async()=>{try{await e()}catch{}window.history&&window.history.length>1?a(-1):a("/auth/landing")};return u.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:u.jsxs("div",{className:"bg-white p-8 max-w-md w-full text-center",children:[u.jsx("h2",{className:"text-xl font-light mb-2",children:"Verify your email"}),u.jsxs("p",{className:"mb-4 text-zinc-600 text-[14px] font-thin",children:["A verification link has been sent to ",u.jsx("b",{children:t.email}),".",u.jsx("br",{}),"Please check your inbox and click the link to activate your account."]}),u.jsx("button",{className:"px-4 py-2 bg-sky-600 text-white rounded-full text-[12px] font-light disabled:opacity-50",onClick:o,disabled:i||r,children:r?"Verification Sent!":i?"Sending...":"Resend Email"}),u.jsx("button",{className:"block mt-4 mx-auto text-sm text-zinc-500 underline",onClick:l,children:"Back"})]})})}function E3e(){const[t,e]=L.useState(""),[r,n]=L.useState(!1),[i,s]=L.useState(""),[a,o]=L.useState(!1),l=async c=>{c.preventDefault(),o(!0),s("");try{await nee(t),n(!0)}catch(d){s(d.message||"Failed to send reset email.")}o(!1)};return u.jsxs(gm,{children:[u.jsx(gx,{to:"/auth/landing"}),u.jsxs("div",{className:"w-full max-w-md text-center bg-white dark:bg-gray-800 rounded-2xl  p-8",children:[u.jsx("img",{src:"/ForgotPasswordIllustration.png",alt:"Forgot Password",className:"mx-auto mb-4 w-28 h-28 object-contain"}),u.jsx("h2",{className:"text-xl font-light mb-4",children:"Forgot Password?"}),r?u.jsx("p",{className:"text-green-600 font-thin text-[14px]",children:"A password reset link has been sent to your email."}):u.jsxs("form",{onSubmit:l,className:"space-y-4 text-left",children:[u.jsx("input",{type:"email",className:"w-full border-b border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-[12px] mt-2 px-3 py-2 focus:outline-none focus:ring-2 focus:ring-sky-200 focus:border-sky-400 dark:border-gray-600",placeholder:"Enter your email",value:t,onChange:c=>e(c.target.value),required:!0}),i&&u.jsx("div",{className:"text-red-500 text-sm",children:i}),u.jsxs("button",{type:"submit",disabled:a,className:"w-full rounded-full bg-sky-600 text-white text-[13px] font-light py-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a&&u.jsx("span",{className:"inline-block h-4 w-4 border-2 border-white/70 border-t-transparent rounded-full animate-spin"}),a?"Sending…":"Send Reset Link"]})]})]})]})}function C3e(){const t=oi(),[e]=F$(),{t:r}=cs(),n=e.get("pharmacyId"),[i,s]=L.useState({name:"",price:"",category:"Over-the-Counter",stock:0,sku:"",tags:"",image:"",description:""}),[a,o]=L.useState(null),[l,c]=L.useState(!1),[d,p]=L.useState(!1),g=()=>i.name.trim()?!i.price||isNaN(Number(i.price))||Number(i.price)<=0?(alert(r("invalid_price","Please enter a valid price")),!1):!0:(alert(r("please_fill_required","Please fill in all required fields")),!1),m=async()=>{if(g()){c(!0);try{let w=i.image;if(!w&&a){p(!0);const S=`products/${n}/${Date.now()}_${a.name}`,P=nZ(cZ,S);await tZ(P,a),w=await rZ(P),p(!1)}const _=(i.tags||"").split(",").map(S=>S.trim()).filter(Boolean);await hF({...i,image:w,price:Number(i.price),pharmacyId:n,tags:_}),alert(r("product_created_success","Product created successfully!")),t(-1)}catch(w){console.error("Error creating product:",w),alert(r("error_creating_product","Error creating product. Please try again."))}finally{c(!1),p(!1)}}},y=[{value:"Prescription",label:r("prescription_drugs","Prescription Drugs")},{value:"Over-the-Counter",label:r("over_counter","Over-the-counter")},{value:"General Pills",label:r("general_pills","General Pills")},{value:"Controlled",label:r("controlled_substances","Controlled Substances")},{value:"Syrup",label:r("syrup_liquid","Syrup/Liquid")},{value:"Therapeutic",label:r("therapeutic_drugs","Therapeutic Drugs")},{value:"Others",label:r("supplements_vitamins","Supplements & Vitamins")}];return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 p-4 md:p-8",children:u.jsxs("div",{className:"max-w-lg md:max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-3xl shadow-xl border border-[#9ED3FF] dark:border-gray-700 overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-sky-500 to-blue-600 p-6 text-white",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors duration-200",children:u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),u.jsx("h1",{className:"text-xl font-light font-poppins",children:r("add_product_title","Add New Product")})]})}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r("product_name","Product Name")," *"]}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-3 outline-none focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("product_name_placeholder","Enter product name"),value:i.name,onChange:w=>s({...i,name:w.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r("product_price","Price")," *"]}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-3 outline-none focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("product_price_placeholder","Enter price"),type:"number",value:i.price,onChange:w=>s({...i,price:w.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r("product_category","Category")," *"]}),u.jsxs("select",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-3 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500",value:i.category,onChange:w=>s({...i,category:w.target.value}),children:[u.jsx("option",{value:"",disabled:!0,children:r("select_category","Select Category")}),y.map(w=>u.jsx("option",{value:w.value,children:w.label},w.value))]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("stock_quantity","Stock Quantity")}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-3 outline-none focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("stock_placeholder","Enter stock quantity"),type:"number",value:i.stock,onChange:w=>s({...i,stock:Number(w.target.value)})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("product_sku","SKU")}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-3 outline-none focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("sku_placeholder","Enter SKU (optional)"),value:i.sku,onChange:w=>s({...i,sku:w.target.value})})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("product_tags","Tags")}),u.jsx("input",{className:"w-full border-b border-[#9ED3FF] dark:border-gray-600 text-[13px] font-light py-3 outline-none focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("tags_placeholder","Add tags separated by commas"),value:i.tags,onChange:w=>s({...i,tags:w.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("product_image","Product Image")}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("input",{type:"file",accept:"image/*",className:"w-full border border-[#9ED3FF] dark:border-gray-600 rounded-lg p-3 text-[13px] font-light focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",onChange:w=>o(w.target.files?.[0]||null)}),u.jsx("div",{className:"text-center text-xs text-gray-500 dark:text-gray-400",children:"or"}),u.jsx("input",{className:"w-full border border-[#9ED3FF] dark:border-gray-600 rounded-lg p-3 text-[13px] font-light outline-none focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:r("image_url_placeholder","Or enter image URL"),value:i.image,onChange:w=>s({...i,image:w.target.value})})]})]}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:r("product_description","Description")}),u.jsx("textarea",{rows:4,placeholder:r("description_placeholder","Enter product description"),value:i.description,onChange:w=>s({...i,description:w.target.value}),className:"w-full border border-[#9ED3FF] dark:border-gray-600 rounded-lg p-3 text-[13px] font-light outline-none focus:border-sky-500 dark:focus:border-sky-400 transition-colors duration-200 hover:border-sky-400 dark:hover:border-sky-500 resize-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]})]}),u.jsx("div",{className:"p-6 pt-0",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{className:"flex-1 rounded-full bg-gradient-to-r from-sky-500 to-blue-600 text-white text-sm font-medium py-3 shadow-lg hover:from-sky-600 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-500 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",disabled:l||d,onClick:m,children:d?r("uploading","Uploading..."):l?r("creating_product","Creating Product..."):r("create_product","Create Product")}),u.jsx("button",{className:"flex-1 rounded-full border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 text-sm font-medium py-3 hover:border-gray-400 dark:hover:border-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>t(-1),disabled:l,children:r("cancel","Cancel")})]})})]})})}function N3e(){const{id:t}=S5(),{userCoords:e}=K0(),{t:r}=cs(),[n,i]=L.useState(null),[s,a]=L.useState([]),[o,l]=L.useState(!1),[c,d]=L.useState(null),[p,g]=L.useState(!1),[m,y]=L.useState(""),[w,_]=L.useState(!1),[S,P]=L.useState([]),[A,V]=L.useState([]),[W,K]=L.useState(!1),[j,T]=L.useState(-1),[C,D]=L.useState(!1);L.useEffect(()=>{if(typeof window>"u")return;const ie=window.matchMedia("(orientation: portrait)"),G=I=>D(I.matches);return D(ie.matches),ie.addEventListener?ie.addEventListener("change",G):ie.addListener(G),()=>{ie.removeEventListener?ie.removeEventListener("change",G):ie.removeListener(G)}},[]);const R=C,F=oi(),{user:B,profile:ee}=In();L.useEffect(()=>{const ie=Qt(ht,"pharmacies",t),G=Nn(ie,z=>i(z.exists()?{id:z.id,...z.data()}:null)),I=Z5(a,t);return()=>{G(),typeof I=="function"&&I()}},[t]),L.useEffect(()=>{async function ie(){if(B?.uid&&t){const G=await EF(B.uid,t);g(G)}}ie()},[B?.uid,t]);const he=async()=>{if(!(!B?.uid||!n))try{p?(await SF(B.uid,t),g(!1)):(await kF(B.uid,t,{name:n.name,address:n.address,phone:n.phone,email:n.email,isVerified:!!n.isVerified}),g(!0))}catch(ie){console.error("Error toggling bookmark:",ie)}};L.useEffect(()=>{if(n&&e){const ie=Rk(n,e,"driving");d(ie)}else d(null)},[n,e]),L.useEffect(()=>{if(!m.trim())P(s),V([]),K(!1),T(-1);else{const ie=s.filter(I=>I.name?.toLowerCase().includes(m.toLowerCase())||I.category?.toLowerCase().includes(m.toLowerCase())||I.sku?.toLowerCase().includes(m.toLowerCase()));P(ie);const G=ie.slice(0,5);V(G),K(G.length>0&&m.length>0),T(-1)}},[s,m]);const ve=async()=>{if(!B||!B.uid){F("/auth/landing");return}if(ee?.role!=="customer"){alert(r("customers_only_chat","Only customers can start a chat with a pharmacy."));return}try{await Ak({vendorId:t,customerId:B.uid,role:"customer"}),F(`/chat/${t}`)}catch(ie){console.error(ie),alert(r("could_not_start_chat","Could not start chat thread."))}},fe=ie=>{if(!(!W||A.length===0))switch(ie.key){case"ArrowDown":ie.preventDefault(),T(G=>G<A.length-1?G+1:0);break;case"ArrowUp":ie.preventDefault(),T(G=>G>0?G-1:A.length-1);break;case"Enter":if(ie.preventDefault(),j>=0&&j<A.length){const G=A[j];F(`/product/${G.id}`),_(!1),y(""),K(!1),T(-1)}break;case"Escape":K(!1),T(-1);break}},se=(ie,G)=>{if(!G||!ie)return ie;const I=new RegExp(`(${G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return ie.split(I).map((X,J)=>I.test(X)?u.jsx("span",{className:"bg-yellow-200 font-semibold",children:X},J):X)},Y=()=>u.jsx("div",{className:"md:hidden fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-700",children:u.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[u.jsxs("button",{onClick:()=>F(-1),className:"w-[72px] h-[25px] font-poppins font-extralight tracking-tight text-[14px] flex items-center justify-center rounded-full bg-white border border-zinc-300 dark:border-gray-600 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[u.jsx(Au,{className:"h-3 w-3 mr-0"})," ",r("back","Back")]}),u.jsx("div",{className:"text-[18px] font-light font-poppins leading-none",children:r("vendor_profile","Vendor Profile")}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:he,className:`p-2 rounded-full border border-zinc-200 bg-white hover:scale-110 active:scale-95 transition-all duration-200 ${p?"bg-sky-100 border-sky-300 dark:border-gray-600":"hover:bg-sky-50"}`,"aria-label":p?"Remove from bookmarks":"Add to bookmarks",children:u.jsx(tC,{className:`w-5 h-5 ${p?"text-sky-600 fill-sky-600":"text-sky-600"}`})}),u.jsx("button",{onClick:()=>_(!0),className:"p-2 rounded-full border border-zinc-200 bg-white hover:bg-sky-50 hover:scale-110 active:scale-95 transition-all duration-200","aria-label":r("search_products","Search products"),children:u.jsx(dh,{className:"w-5 h-5 text-sky-600"})})]})]})});return u.jsxs(u.Fragment,{children:[Us.createPortal(u.jsx(Y,{}),document.body),u.jsxs("div",{className:"min-h-screen bg-white/80 dark:bg-gray-900/80 backdrop-blur-md w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 pt-24 md:pt-8 pb-28",children:[u.jsxs("div",{className:"sticky top-0 z-20 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md pb-2 pt-4 -mx-4 sm:-mx-5 md:-mx-8 lg:-mx-12 xl:-mx-0 px-4 sm:px-5 md:px-8 lg:px-12 xl:px-0 items-center gap-3 animate-slide-down-fade hidden md:flex",children:[u.jsxs("button",{onClick:()=>F(-1),className:"w-[72px] h-[25px] font-poppins font-extralight tracking-tight text-[14px] flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-zinc-300 dark:border-gray-600 dark:border-gray-600 text-gray-900 dark:text-white mr-1 hover:scale-105 hover:shadow-md transition-all duration-200 active:scale-95",children:[u.jsx(Au,{className:"h-3 w-3 mr-0"})," ",r("back","Back")]}),u.jsx("div",{className:"-ml-1 text-[24px] sm:text-[30px] md:text-[36px] lg:text-[42px] font-light font-poppins leading-none animate-text-reveal text-gray-900 dark:text-white",children:r("vendor_profile","Vendor Profile")}),u.jsx("div",{className:"ml-auto flex items-center gap-2",children:u.jsx("button",{onClick:he,className:`p-2 rounded-full border border-zinc-200 dark:border-gray-600 bg-white dark:bg-gray-800 hover:scale-110 active:scale-95 transition-all duration-200 ${p?"bg-sky-100 dark:bg-sky-900 border-sky-300 dark:border-gray-600 dark:border-sky-600 dark:border-gray-600":"hover:bg-sky-50 dark:hover:bg-sky-900/20"}`,"aria-label":p?"Remove from bookmarks":"Add to bookmarks",children:u.jsx(tC,{className:`w-5 h-5 ${p?"text-sky-600 fill-sky-600":"text-sky-600"}`})})})]}),u.jsx("div",{className:"w-full mx-auto mt-6",children:u.jsxs("div",{className:`flex flex-col ${R?"":"md:grid md:grid-cols-3"} gap-6`,children:[u.jsxs("div",{className:`order-2 ${R?"":"md:order-2 md:col-span-2"} animate-fade-in-up`,children:[u.jsxs("div",{className:`border border-zinc-200 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800 shadow-sm p-4 mb-4 flex items-center justify-between ${R?"":"md:sticky md:top-20 md:bg-white/90 md:dark:bg-gray-800/90 md:backdrop-blur-sm md:z-20"} animate-slide-down-fade`,children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-[18px] font-poppins font-medium text-gray-900 dark:text-white",children:[r("products_by","Products by"),u.jsx("br",{}),u.jsx(zc,{name:n?.name||r("vendor","Vendor"),isVerified:n?.isVerified,className:"inline-flex items-center gap-1",iconClassName:"h-4 w-4 text-sky-500 dark:text-sky-400"})]}),u.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light",children:[m?S.length:s.length," ",m&&S.length!==s.length?`${r("of","of")} ${s.length}`:""," ",r("items","items")]})]}),u.jsxs("div",{children:[S.length>3&&!o&&u.jsx("button",{className:"text-sky-600 dark:text-sky-400 text-[12px] font-poppins font-light px-3 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>l(!0),children:r("see_more","See more")}),S.length>3&&o&&u.jsx("button",{className:"text-sky-600 dark:text-sky-400 text-[13px] font-poppins font-light px-3 py-1 rounded-full hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 hover:scale-105 active:scale-95",onClick:()=>l(!1),children:r("see_less","See less")})]})]}),u.jsx("div",{className:`${R?"":"md:max-h-[calc(100vh-12rem)] md:overflow-y-auto md:pr-4"}`,children:u.jsxs("div",{className:"space-y-3 px-0",children:[(o?S:S.slice(0,3)).map((ie,G)=>u.jsxs("div",{className:"rounded-2xl border border-zinc-200 dark:border-gray-600 p-3 flex items-center gap-3 bg-white dark:bg-gray-800 shadow-sm cursor-pointer hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-all duration-200 overflow-hidden card-interactive animate-fadeInUp hover:scale-102 hover:shadow-lg",style:{animationDelay:`${G*.1}s`},onClick:()=>F(`/product/${ie.id}`),children:[u.jsx("div",{className:"flex-shrink-0 animate-bounce-gentle",children:u.jsx(Ml,{name:ie.name,image:ie.image,category:ie.category,size:30})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-poppins font-medium text-[15px] tracking-tight mb-1 truncate text-gray-900 dark:text-white",title:ie.name,children:ie.name}),u.jsxs("div",{className:"text-zinc-500 dark:text-zinc-400 text-[12px] font-poppins font-light truncate",title:`${ie.category} • ${r("stock","Stock")}: ${ie.stock} • ${r("sku","SKU")}: ${ie.sku}`,children:[ie.category," • ",r("stock","Stock"),": ",ie.stock," • ",r("sku","SKU"),": ",ie.sku]})]}),u.jsxs("div",{className:"text-[15px] font-poppins font-medium text-sky-600 ml-3 flex-shrink-0 animate-pulse-slow",children:["₦",Number(ie.price).toLocaleString()]})]},ie.id)),S.length===0&&u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light animate-fade-in",children:m?r("no_products_found_search","No products found matching your search."):r("no_products_yet","No products yet.")})]})})]}),u.jsxs("aside",{className:`order-1 ${R?"":"md:order-1 md:col-span-1 md:self-start md:sticky md:top-20"} animate-fade-in-left`,children:[u.jsxs("div",{className:"border border-zinc-200 dark:border-gray-600 rounded-2xl bg-white dark:bg-gray-800 shadow-sm p-5 mb-4 w-full flex flex-col items-start card-interactive hover:shadow-lg transition-all duration-300",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-100 dark:bg-gray-700 flex items-center justify-center mb-2 animate-bounce-gentle hover:scale-110 transition-transform duration-200",children:u.jsx("span",{className:"text-[32px] font-poppins font-light text-sky-600 dark:text-sky-400",children:n?.name?.charAt(0)||"V"})}),u.jsx(zc,{name:n?.name||"Vendor",isVerified:n?.isVerified,className:"text-[22px] font-poppins font-medium tracking-tight text-sky-600 dark:text-sky-400 mb-1 animate-text-reveal",iconClassName:"h-4 w-4 text-sky-500 dark:text-sky-400"}),u.jsx("div",{className:"text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.1s"},children:n?.email||""}),u.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.2s"},children:[u.jsx(cc,{className:"h-3 w-3"})," ",n?.address||""]}),u.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light mb-1 animate-fade-in",style:{animationDelay:"0.3s"},children:[u.jsx(qy,{className:"h-3 w-3"}),c?r("eta_to_pharmacy","{time} to {pharmacy}").replace("{time}",c.formatted).replace("{pharmacy}",n?.name||r("vendor","vendor")):e?r("calculating_eta","Calculating ETA..."):r("fetching_location","Fetching location...")]}),u.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 dark:text-zinc-400 text-[13px] font-poppins font-light animate-fade-in",style:{animationDelay:"0.4s"},children:[u.jsx(D1,{className:"h-3 w-3"})," ",n?.phone||""]})]}),u.jsx("div",{className:"w-full mb-4 animate-fade-in-up",style:{animationDelay:"0.5s"},children:u.jsxs("button",{onClick:ve,className:"w-full rounded-full bg-sky-600 text-white h-[37px] text-[12px] font-poppins font-light flex items-center justify-center gap-2 btn-interactive hover:bg-sky-700 hover:scale-105 active:scale-95 transition-all duration-200",children:[u.jsx(Jh,{className:"h-4 w-4"})," ",r("message_vendor","Message Vendor")]})})]})]})}),w&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[200]",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-poppins font-medium text-gray-900 dark:text-white",children:r("search_products","Search Products")}),u.jsx("button",{onClick:()=>{_(!1),y(""),K(!1)},className:"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:"×"})]}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:r("search_by_name_category_sku","Search by name, category, or SKU..."),value:m,onChange:ie=>y(ie.target.value),onKeyDown:fe,className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent font-poppins",autoFocus:!0}),W&&A.length>0&&u.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 dark:border-gray-600 rounded-xl shadow-lg max-h-60 overflow-y-auto z-10",children:A.map((ie,G)=>u.jsx("button",{onClick:()=>{F(`/product/${ie.id}`),_(!1),y(""),K(!1),T(-1)},onMouseEnter:()=>T(G),className:`w-full px-4 py-3 text-left transition-colors border-b border-gray-100 last:border-b-0 first:rounded-t-xl last:rounded-b-xl ${G===j?"bg-sky-50 border-sky-100":"hover:bg-gray-50"}`,children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Ml,{name:ie.name,image:ie.image,category:ie.category,size:24})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:`font-poppins font-medium text-sm truncate ${G===j?"text-sky-700":"text-gray-900"}`,children:se(ie.name,m)}),u.jsxs("div",{className:`text-xs truncate ${G===j?"text-sky-600":"text-gray-500"}`,children:[se(ie.category,m)," • ₦",Number(ie.price||0).toLocaleString()]})]})]})},ie.id))})]}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsxs("button",{onClick:()=>{_(!1),K(!1)},className:"flex-1 px-4 py-2 bg-sky-600 text-white rounded-xl hover:bg-sky-700 transition-colors font-poppins font-medium",children:[r("view_results","View Results")," (",S.length,")"]}),u.jsx("button",{onClick:()=>{y(""),_(!1),K(!1)},className:"px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-xl hover:bg-gray-50 transition-colors font-poppins",children:r("clear","Clear")})]})]})})]})]})}function T3e(){const{id:t}=S5(),[e,r]=L.useState(null),[n,i]=L.useState(null),[s,a]=L.useState([]),[o,l]=L.useState(!0);if(L.useEffect(()=>{async function d(){l(!0);try{const p=Qt(ht,"products",t),g=await os(p);if(g.exists()){const m=g.data();if(r({id:t,...m}),m.pharmacyId){const S=Qt(ht,"pharmacies",m.pharmacyId),P=await os(S);P.exists()&&i({id:m.pharmacyId,...P.data()})}const y=tr(ht,"products",t,"reviews"),w=Er(y,pa("createdAt","desc")),_=await On(w);a(_.docs.map(S=>({id:S.id,...S.data()})))}}catch{}l(!1)}d()},[t]),o)return u.jsx("div",{className:"min-h-screen flex items-center justify-center text-zinc-400 font-poppins",children:"Loading…"});if(!e)return u.jsx("div",{className:"min-h-screen flex items-center justify-center text-zinc-400 font-poppins",children:"Product not found."});const c=Number(e.price||0);return u.jsx("div",{className:"min-h-screen bg-white",children:u.jsxs("div",{className:"w-full max-w-full md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto px-2 md:px-8 lg:px-12 xl:px-0 pt-8 pb-36",children:[u.jsxs("div",{className:"mb-6 flex items-center gap-2",children:[u.jsx(Au,{className:"h-5 w-5 text-zinc-500 cursor-pointer",onClick:()=>window.history.back()}),u.jsx("span",{className:"font-poppins text-[18px] font-medium",children:"Product Preview"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 items-start",children:[u.jsxs("div",{className:"rounded-2xl p-4 border flex flex-col items-center justify-center w-full card-interactive",children:[e.image?u.jsx("img",{src:e.image,alt:e.name,className:"max-h-[360px] w-full object-contain"}):u.jsx("div",{className:"h-[200px] w-full flex items-center justify-center bg-zinc-100 rounded-md text-3xl font-semibold text-zinc-800",children:u.jsx(Ml,{name:e.name,image:e.image,category:e.category,size:80,roundedClass:"rounded-md"})}),u.jsx("div",{className:"w-full mt-4 flex flex-col gap-3",children:u.jsx("div",{className:"w-full h-10 rounded-full bg-sky-100 text-sky-700 text-[14px] font-poppins font-light shadow-sm flex items-center justify-center",children:"Preview Only"})})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[u.jsx("h1",{className:"text-[20px] lg:text-[22px] font-poppins font-medium tracking-tight leading-tight min-w-0",children:e.name}),u.jsxs("div",{className:"text-[20px] text-sky-600 font-poppins font-semibold",children:["₦",c.toLocaleString()]})]}),u.jsx("div",{className:"mb-2",children:n?u.jsx(zc,{name:n.name,isVerified:n.isVerified,className:"text-sky-600 underline font-poppins text-[15px] font-light",iconClassName:"h-3.5 w-3.5 text-sky-500"}):u.jsx("span",{className:"text-zinc-400 font-poppins text-[15px] font-light",children:"Pharmacy info unavailable"})}),u.jsxs("div",{className:"mb-1 flex items-center gap-2 text-zinc-600 text-[13px] font-poppins font-light",children:[u.jsx(cc,{className:"h-4 w-4 flex-shrink-0"}),u.jsx("span",{children:n?.address||"Address unavailable"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800",children:"Product Description"}),u.jsx("p",{className:"mt-2 text-zinc-600 leading-6 font-poppins text-[14px] font-light",children:e.description})]}),u.jsxs("div",{className:"mt-8",children:[u.jsx("div",{className:"text-[15px] font-poppins font-medium tracking-tighter text-zinc-800 mb-2",children:"Customer Reviews"}),u.jsx("div",{className:"space-y-4 mb-6",children:s.length===0?u.jsx("div",{className:"p-4 text-center text-zinc-400",children:"No reviews yet."}):s.map((d,p)=>u.jsxs("div",{className:"p-4 rounded-xl border border-sky-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"font-poppins font-semibold text-[14px] text-zinc-700",children:d.name}),u.jsxs("span",{className:"flex gap-0.5 text-amber-400 text-[13px]",children:["★".repeat(d.rating),"☆".repeat(5-d.rating)]})]}),u.jsx("div",{className:"text-zinc-600 text-[13px] font-poppins font-light",children:d.comment})]},d.id||p))})]})]})]})]})})}function A3e(){const t=Bl(),e=oi(),{user:r,profile:n,loading:i}=In(),{getSetting:s}=J2(),[a,o]=L.useState(t.pathname),[l,c]=L.useState(0),[d,p]=L.useState(0),[g,m]=L.useState(0),{newOrder:y,showNotification:w,clearNotification:_}=gve();L.useEffect(()=>o(t.pathname),[t.pathname]),L.useEffect(()=>{if(!r||i||n&&n.role==="pharmacy")return c(0);const C=Er(tr(ht,"users",r.uid,"cart"));return Nn(C,R=>c(R.size))},[r,n,i]),L.useEffect(()=>{if(!r||i||!n||n.role!=="pharmacy")return m(0);const C=n.uid||r.uid,D=Er(tr(ht,"orders"),Vr("pharmacyId","==",C));return Nn(D,F=>{const B=F.docs.filter(ee=>{const ve=ee.data().status?.toLowerCase()||"pending";return!["processing","shipped","fulfilled","cancelled"].includes(ve)});m(B.length)})},[r,n]),L.useEffect(()=>{if(!r||i||!n?.role)return p(0);const C=J5({uid:r.uid,role:n.role},D=>{try{const R=D.reduce((F,B)=>{const ee=B?.unread?.[r.uid];return F+(typeof ee=="number"?ee:0)},0);p(R),console.debug("[AppLayout] unread total from listenUserThreads",{sum:R,count:D.length})}catch(R){console.error("[AppLayout] error computing unread from threads",R)}},D=>console.error("[AppLayout] listenUserThreads error",D));return()=>C&&C()},[r,n?.role,i]);const P=!!new URLSearchParams(t.search).get("chat"),A=typeof window<"u"&&new URLSearchParams(window.location.search).get("debugBottomNav")==="1";L.useEffect(()=>{A&&console.debug("[AppLayout] render",{chatModalOpen:P,unreadMessages:d,tab:a,cartCount:l})},[A,P,d,a,l]);const V=C=>{e("/orders")},W=typeof window<"u"&&window.matchMedia&&window.matchMedia("(max-width: 1024px)").matches,K=s(Ar.SWIPE_NAVIGATION),j=W&&K,T=i||r&&n===void 0;return u.jsxs("div",{className:`min-h-screen bg-white w-full flex flex-col items-center px-2 md:px-8 lg:px-16 xl:px-32 ${P?"":"pb-24"}`,children:[u.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto flex-1 flex flex-col",children:j?u.jsx(P1e,{}):u.jsx(i6,{})}),!P&&!T&&u.jsx(u.Fragment,{children:u.jsx(V1e,{tab:a,setTab:C=>e(C),cartCount:l,unreadMessages:d,ordersCount:g})}),A&&u.jsxs("div",{className:"fixed bottom-24 right-4 z-60 bg-black/80 text-white text-xs px-3 py-1 rounded",children:["AppDebug: chatModalOpen=",String(P)," unread=",String(d)]}),u.jsx(mve,{order:y,isOpen:w,onClose:_,onViewOrder:V})]})}function i_(){return u.jsx("div",{className:"min-h-screen bg-white w-full flex flex-col items-center px-2 md:px-8 lg:px-16 xl:px-32",children:u.jsx("div",{className:"w-full max-w-md md:max-w-2xl lg:max-w-4xl xl:max-w-6xl mx-auto flex-1 flex flex-col",children:u.jsx(i6,{})})})}function I3e(){const{id:t}=S5(),[e,r]=L.useState(null),[n,i]=L.useState(null);return L.useEffect(()=>{async function s(){const o=(await os(Qt(ht,"products",t))).data();if(r(o?{id:t,...o}:null),o?.pharmacyId){const l=await os(Qt(ht,"pharmacies",o.pharmacyId));i(l.data())}}s()},[t]),e?u.jsx(B1e,{product:e,pharmacy:n}):null}function P3e(){const{profile:t}=In();return t?t.role==="pharmacy"?u.jsx(sV,{onSwitchToCustomer:()=>{}}):u.jsx(UF,{onSwitchToPharmacy:()=>{}}):null}function R3e(){const{user:t,profile:e,loading:r}=In();return r?u.jsx(_ve,{}):t?e?.role==="pharmacy"?u.jsx(aV,{}):e?.role==="customer"?u.jsx(W_,{}):e?.role==="superuser"?u.jsx(qh,{to:"/superuser",replace:!0}):u.jsx(W_,{}):u.jsx(qh,{to:"/auth/onboarding",replace:!0})}function j3e(){const{user:t,profile:e}=In(),r=Bl(),n=new URLSearchParams(r.search);return n.get("scrollTo")&&parseInt(n.get("scrollTo"),10),t&&e===void 0?u.jsx(A0,{lines:4,className:"my-8"}):t&&!t.emailVerified?u.jsxs(DS,{children:[u.jsx(Kn,{path:"/verify-email",element:u.jsx(S3e,{})}),u.jsx(Kn,{path:"*",element:u.jsx(qh,{to:"/verify-email",replace:!0})})]}):e&&e.role==="superuser"&&r.pathname==="/"?u.jsx(qh,{to:"/superuser",replace:!0}):u.jsxs(DS,{children:[u.jsxs(Kn,{element:u.jsx(i_,{}),children:[u.jsx(Kn,{path:"/auth/onboarding",element:u.jsx(x3e,{})}),u.jsx(Kn,{path:"/auth/landing",element:u.jsx(i3e,{})}),u.jsx(Kn,{path:"/auth/customer/register",element:u.jsx(y3e,{})}),u.jsx(Kn,{path:"/auth/customer/signin",element:u.jsx(w3e,{})}),u.jsx(Kn,{path:"/auth/pharmacy/register",element:u.jsx(_3e,{})}),u.jsx(Kn,{path:"/auth/pharmacy/signin",element:u.jsx(k3e,{})}),u.jsx(Kn,{path:"/auth/forgot-password",element:u.jsx(E3e,{})}),u.jsx(Kn,{path:"/auth",element:u.jsx(qh,{to:"/auth/onboarding",replace:!0})}),u.jsx(Kn,{path:"/chat/:vendorId",element:u.jsx(hu,{children:u.jsx(kA,{})})}),u.jsx(Kn,{path:"/thread/:threadId",element:u.jsx(hu,{children:u.jsx(kA,{})})})]}),u.jsx(Kn,{element:u.jsx(i_,{}),children:u.jsx(Kn,{path:"/superuser",element:u.jsx(hu,{children:u.jsx(yve,{})})})}),u.jsxs(Kn,{element:u.jsx(A3e,{}),children:[u.jsx(Kn,{path:"/",element:u.jsx(R3e,{})}),u.jsx(Kn,{path:"/vendor/:id",element:u.jsx(N3e,{})}),u.jsx(Kn,{path:"/product/:id",element:u.jsx(I3e,{})}),u.jsx(Kn,{path:"/pharmacy-map",element:u.jsx(hu,{children:u.jsx(wve,{})})}),u.jsx(Kn,{path:"/add-product",element:u.jsx(hu,{children:u.jsx(C3e,{})})}),u.jsx(Kn,{path:"/messages",element:u.jsx(hu,{children:u.jsx(OF,{})})}),u.jsx(Kn,{path:"/cart",element:u.jsx(hu,{children:e&&e.role==="pharmacy"?u.jsx(qh,{to:"/"}):u.jsx(MF,{})})}),u.jsx(Kn,{path:"/orders",element:u.jsx(hu,{children:u.jsx(DF,{})})}),u.jsx(Kn,{path:"/profile",element:u.jsx(hu,{children:u.jsx(P3e,{})})}),u.jsx(Kn,{path:"/settings",element:u.jsx(hu,{children:u.jsx(fve,{})})})]}),u.jsx(Kn,{element:u.jsx(i_,{}),children:u.jsx(Kn,{path:"/product-preview/:id",element:u.jsx(T3e,{})})}),u.jsx(Kn,{path:"*",element:u.jsx(qh,{to:"/",replace:!0})})]})}function L3e(){return R1e(),u.jsxs(iee,{children:[u.jsx(pve,{}),u.jsx(j3e,{}),u.jsx(cB,{})]})}Pz.createRoot(document.getElementById("root")).render(u.jsx(P$,{children:u.jsx(Tee,{children:u.jsx(Iee,{children:u.jsx(L3e,{})})})}));export{vee as G,r4 as M,ii as _,F3e as a,Zr as c,qI as g,u as j,L as r};
